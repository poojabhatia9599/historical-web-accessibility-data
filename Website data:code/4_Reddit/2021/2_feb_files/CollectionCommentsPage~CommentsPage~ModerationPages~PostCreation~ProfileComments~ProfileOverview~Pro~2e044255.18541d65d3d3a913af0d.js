var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CollectionCommentsPage~CommentsPage~ModerationPages~PostCreation~ProfileComments~ProfileOverview~Pro~2e044255"],{"./src/lib/humanizeUTCDate/index.tsx":function(e,t,s){"use strict";t.a=e=>{return new Date(1e3*e).toUTCString().replace("GMT","UTC")}},"./src/lib/unicodeUtils/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r}));const n=e=>{let t=0,s=0;const n=[0];for(const r of e)t++,s+=r.length,n[t]=s;return n},r=e=>{let t=0,s=0;const n=[];for(const r of e){for(let e=0;e<r.length;e++)n[s]=t,s++;t++}return n[s]=t,n}},"./src/reddit/actions/urlRequested.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("./src/lib/matchRoute/index.ts"),r=s("./src/lib/opener/index.ts"),o=s("./node_modules/react-router-redux/es/index.js");const a=(e,t=!0)=>async(s,a,{routes:i})=>{const c=a();Object(n.a)(e,i,c)?s(Object(o.b)(e)):t?Object(r.d)(e,"_blank"):window.location.assign(e)}},"./src/reddit/components/CrosspostBox/index.m.less":function(e,t,s){e.exports={mediaContainer:"P8p9Nku0-ZbYCsaCOSE2t",Container:"_2ED-O3JtIcOqp8iIL1G5cg",container:"_2ED-O3JtIcOqp8iIL1G5cg",PostMetaWrapper:"_1u_4ufj_H3WJW2TXEZ6a3n",postMetaWrapper:"_1u_4ufj_H3WJW2TXEZ6a3n",PostTitle:"_2akYJO5RtMK_ptA408seyG",postTitle:"_2akYJO5RtMK_ptA408seyG",FlatList:"_3Dd3XvAr-WcOJyMTx4y35x",flatList:"_3Dd3XvAr-WcOJyMTx4y35x",FlatItem:"_2Pkdj4FrQFtK8COeODi_kK",flatItem:"_2Pkdj4FrQFtK8COeODi_kK",FlatListDotSpacer:"_3w73P89exX_1mpdhQCURo6",flatListDotSpacer:"_3w73P89exX_1mpdhQCURo6",LinkContainer:"CsZ0mP84ULF0bBJJa0PFy",linkContainer:"CsZ0mP84ULF0bBJJa0PFy",Content:"_379A_08LTBsR4c8POTldR_",content:"_379A_08LTBsR4c8POTldR_",ThumbnailContainer:"_7bo--rwqP4Z7K1s_8dGPX",thumbnailContainer:"_7bo--rwqP4Z7K1s_8dGPX"}},"./src/reddit/components/CrosspostBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),o=s.n(r),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/react-router-dom/esm/react-router-dom.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/permalinkToOverlayLocation/index.ts"),l=s("./src/lib/prettyPrintNumber/index.ts"),u=s("./src/reddit/components/Media/index.tsx"),m=s("./src/reddit/components/PostMeta/index.tsx"),p=s("./src/reddit/components/PostTitle/index.tsx"),h=s("./src/reddit/components/SourceLink/index.tsx"),b=s("./src/reddit/components/Thumbnail/index.tsx"),x=s("./src/lib/constants/index.ts"),f=s("./src/reddit/selectors/posts.ts"),g=s("./src/reddit/selectors/user.ts"),E=s("./src/reddit/components/CrosspostBox/index.m.less"),_=s.n(E),y=s("./src/lib/lessComponent.tsx");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const O=y.a.div("Container",_.a),j=y.a.div("PostMetaWrapper",_.a),C=y.a.wrapped(p.c,"PostTitle",_.a),S=y.a.div("FlatList",_.a),T=y.a.div("FlatItem",_.a),I=y.a.span("FlatListDotSpacer",_.a),L=y.a.wrapped(O,"LinkContainer",_.a),P=y.a.div("Content",_.a),k=y.a.div("ThumbnailContainer",_.a),w=Object(c.c)({isCurrentUserProfilePost:f.k,isTopicPage:e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==x.Db.TOPIC),post:f.O,shouldOpenPostInNewTab:g.ab,subreddit:f.bb}),M=Object(a.b)(w);t.a=M(e=>{const{className:t,isCurrentUserProfilePost:s,isTopicPage:n,mediaProps:r,post:a,subreddit:i}=e;if(!a)return null;const c={post:a,hideGildCta:!0,inSubredditOrProfile:!1,isCurrentUserProfilePost:s,isTopicPage:n,shouldShowSubscribeButton:!1,subredditOrProfile:i,tooltipType:`CrosspostBox--${r.isListing}`},d=t;return a&&!a.media?o.a.createElement(L,{className:d},o.a.createElement(P,null,o.a.createElement(j,null,o.a.createElement(m.a,c)),N(a),a.source&&o.a.createElement(h.a,{post:a}),R(e)),H(e)):o.a.createElement(O,{className:d},o.a.createElement(j,null,o.a.createElement(m.a,c)),N(a),B(e),R(e))});const N=e=>o.a.createElement(C,{isCrosspost:!0,post:e,shouldLinkWrap:!0,size:p.b.Small}),B=e=>{const{mediaProps:t,post:s}=e,n={...t,post:s,crosspost:t.post};return o.a.createElement("div",null,o.a.createElement(u.a,v({},n,{className:_.a.mediaContainer})))},R=e=>{const{post:t}=e,{score:s}=t;return o.a.createElement(S,null,o.a.createElement(T,null,n.fbt._({"*":"{point count} points",_1:"1 point"},[n.fbt._plural(s,"point count",Object(l.b)(s))],{hk:"PNZhd"})),o.a.createElement(I,null),o.a.createElement(T,null,D(e)))},D=e=>{const{post:t,shouldOpenPostInNewTab:s}=e,{numComments:r}=t;return o.a.createElement(i.a,{"data-click-id":"comments",to:Object(d.a)(t.permalink,!0),target:s?"_blank":void 0},n.fbt._({"*":"{comment count} comments",_1:"1 comment"},[n.fbt._plural(r,"comment count",Object(l.b)(r))],{hk:"xPYWL"}))},H=e=>o.a.createElement(k,null,o.a.createElement(b.a,{post:e.post}))},"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,s){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/forceHttps/index.ts"),l=s("./src/reddit/constants/tracking.ts"),u=s("./src/reddit/models/Media/index.ts"),m=s("./src/reddit/selectors/user.ts"),p=s("./src/reddit/components/Media/EmbedBox/index.m.less"),h=s.n(p);const b=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" "),x=Object(o.b)(()=>Object(a.c)({isNightmodeOn:m.U}));t.a=x(e=>{const t={responsive:"true",is_nightmode:e.isNightmodeOn},s=e.isResponsive?Object(i.a)(Object(d.a)(e.source),t):Object(d.a)(e.source),n={overflow:"hidden"};return n.width=e.width&&!e.fullWidth?`${e.width}px`:"100%",e.showCentered&&(n.margin="0 auto"),e.isListing||(n.maxHeight=`${u.e}px`),void 0!==e.maxHeight&&(n.maxHeight=e.maxHeight||void 0),r.a.createElement("iframe",{className:Object(c.a)(l.a,h.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,sandbox:b,scrolling:"no",src:s,style:n,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,s){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",unblurButtonContainer:"c1UAj_LbgdGBuJFlKbnrQ",unblurButton:"_2Ws3wFSVPzJhnW46FsoxLv"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return j}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),o=s.n(r),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/react-router-dom/esm/react-router-dom.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/forceHttps/index.ts"),u=s("./src/lib/opener/index.ts"),m=s("./src/lib/permalinkToOverlayLocation/index.ts"),p=s("./src/reddit/components/PlayButton/index.tsx"),h=s("./src/reddit/constants/elementClassNames.ts"),b=s("./src/reddit/controls/OutboundLink/index.tsx"),x=s("./src/reddit/models/Media/index.ts"),f=s("./src/reddit/selectors/posts.ts"),g=s("./src/reddit/selectors/user.ts"),E=s("./src/reddit/constants/tracking.ts"),_=s("./src/reddit/components/Media/blurredContent.ts"),y=s("./src/reddit/components/Media/ImageBox/index.m.less"),v=s.n(y);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const j=e=>e>2*x.e,C=e=>{const t=Object(d.a)(v.a.image,h.g,e.className,{[v.a.mShowCentered]:e.showCentered,[v.a.mShowBlurred]:e.shouldBlur}),s={};return e.showFull||e.isTall||(s.maxHeight=`${x.j}px`),e.isListing||e.isTall&&j(e.height)||(s.maxHeight=`${x.e}px`),e.isExpando&&e.maxHeight&&(s.maxHeight=`${e.maxHeight}px`),e.isExpando&&e.maxWidth&&(s.maxWidth=`${e.maxWidth}px`),o.a.createElement("img",{alt:e.altText||n.fbt._("Post image",null,{hk:"3KfCgs"}),className:t,src:e.src,style:s})},S=e=>{const t={};return(!e.showFull&&Object(x.I)(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight=`${x.j}px`,e.shouldBlur&&(t.maxWidth=Object(x.I)(e.height,e.width)?`${x.z}px`:`${e.width}px`)),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight=`${e.maxHeight}px`),o.a.createElement("div",{className:Object(d.a)(v.a.container,e.className),style:t},e.children)},T=Object(a.b)(()=>Object(c.a)(f.N,g.ab,(e,{isSponsored:t,postId:s})=>t&&s?Object(f.b)(e,s):null,(e,t,s)=>({postPermalink:e,shouldOpenPostInNewTab:t,basePixelMetadata:s})));t.a=T(e=>e.outboundUrl&&!e.shouldBlur?o.a.createElement("a",{href:e.outboundUrl,target:"_blank",rel:u.a,onMouseDown:t=>{e.source&&e.outboundUrl&&e.isSponsored&&e.basePixelMetadata&&Object(b.c)(t.currentTarget,e.postId,e.basePixelMetadata)}},L(e)):e.isListing&&e.postPermalink?o.a.createElement(i.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(m.a)(e.postPermalink)},L(e)):L(e));const I=(e,t)=>o.a.createElement(C,{altText:t.altText,className:Object(d.a)(t.imageClassName,{[E.a]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(l.a)(t.source),width:t.width}),L=({onClick:e,...t})=>{const s=Object(x.I)(t.height,t.width),r=j(t.height)&&s;return o.a.createElement(S,O({},t,{className:`${s?`${E.a} `:""}${t.className||""}`}),t.isListing?o.a.createElement("div",{className:t.contentImageClassName},I(s,t)):o.a.createElement("a",{href:t.originalSource,onClick:e,style:r?{maxWidth:"50%"}:{},target:"_blank",rel:u.b},I(s,t)),t.isListing&&!t.showFull&&t.height>x.j&&Object(x.I)(t.height,t.width)&&o.a.createElement("div",{className:v.a.seeMore},n.fbt._("see full image",null,{hk:"1Qygw5"})),t.isVideoThumbnail&&o.a.createElement(p.a,{onClick:e}),t.shouldBlur&&!t.isVideoThumbnail&&!t.isListing&&o.a.createElement("div",{className:v.a.unblurButtonContainer},o.a.createElement("button",{className:v.a.unblurButton},Object(_.a)(!!t.isNSFW,!!t.isSpoiler))))}},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,s){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",isGalleryTileLayout:"_1fptM9wVD8i598KW_RjLWO",video:"_3PIKVMCKdveCEcyiKr43sU",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/lib/classNames/index.ts"),a=s("./src/lib/forceHttps/index.ts"),i=s("./src/reddit/models/Media/index.ts"),c=s("./src/reddit/components/Media/MediaContainer/index.m.less"),d=s.n(c);const l=e=>{let t=null;(e.showFull||e.height<i.j)&&(t=e.height),e.maxGalleryHeight&&(t=e.maxGalleryHeight);const s={...t?{maxHeight:`${t}px`}:{},...e.showFull&&!e.showCentered?{maxWidth:`${e.width}px`}:{},...e.blurSrc?{overflow:"hidden"}:{}},n=e.blurSrc?r.a.createElement("img",{className:d.a.blur,src:Object(a.a)(e.blurSrc)}):null,c=Object(i.B)(e.height,e.width,e.forceAspectRatio);return r.a.createElement("div",{className:Object(o.a)(d.a.container,e.className,{[d.a.video]:e.isVideo,[d.a.isGalleryTileLayout]:!!e.isGalleryTileLayout}),"data-click-id":"media",style:e.isGalleryTileLayout?void 0:s},n,!e.isGalleryTileLayout&&r.a.createElement("div",{className:d.a.spacer,style:{paddingBottom:`${c}%`}}),r.a.createElement("div",{className:Object(o.a)(d.a.wrapper,{[d.a.mColoredBackground]:!e.blurSrc,[d.a.isGalleryTileLayout]:!!e.isGalleryTileLayout})},e.children))};class u extends r.a.Component{render(){if(!this.props.isListing&&!this.props.alwaysWrapMedia||this.props.isExpando){return r.a.Children.only(this.props.children)||r.a.createElement("div",null)}return r.a.createElement(l,this.props)}}},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,s){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/throttle.js"),r=s.n(n),o=s("./node_modules/react/index.js"),a=s.n(o),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),l=s("./src/reddit/actions/video.ts"),u=s("./src/reddit/constants/tracking.ts"),m=s("./src/reddit/models/Media/index.ts"),p=s("./src/reddit/selectors/user.ts"),h=s("./src/reddit/selectors/video.ts");const b=100,x=b/2/1e3;var f=s("./src/lib/forceHttps/index.ts");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}class E extends a.a.Component{constructor(e){super(e),this.toggle=e=>{if(e){const e=this.play();e&&e.catch&&e.catch(()=>{})}else this.pause()},this.ref=null}play(){if(this.ref&&this.ref.play)return this.ref.play()}pause(){if(this.ref&&this.ref.pause)return this.ref.pause()}componentDidMount(){this.initEventHandlers(),this.toggle(!this.props.shouldPause&&(this.props.autoplay||this.props.isNotCardView))}componentWillUnmount(){this.destroyEventHandlers()}UNSAFE_componentWillReceiveProps(e){this.props.shouldPause!==e.shouldPause&&this.toggle(!e.shouldPause&&(e.autoplay||e.isNotCardView))}destroyEventHandlers(){this.ref&&this.cancelBufferingDetector&&this.cancelBufferingDetector()}initEventHandlers(){this.ref&&this.props.onBufferingChange&&(this.cancelBufferingDetector=function(e,t){let s=!1,n=!1;const r=()=>s=!0,o=()=>n=!0;e.addEventListener("loadeddata",r),e.addEventListener("play",o),e.addEventListener("playing",o);let a=!1,i=0,c=0;const d=window.setInterval(()=>{if(c=e.currentTime,n)return n=!1,void(i=c);if(e.paused||e.seeking||!s)return void(i=c);const r=a;4===e.readyState?a=!1:!a&&c>=i&&c<i+x?a=!0:a&&c>=i&&c>i+x&&(a=!1),i=c,r!==a&&t(a)},b);return()=>{clearInterval(d),e.removeEventListener("playing",o),e.removeEventListener("play",o),e.removeEventListener("loadeddata",r)}}(this.ref,this.props.onBufferingChange))}render(){const{autoplay:e,isListing:t,isNotCardView:s,onBufferingChange:n,shouldLoad:r,shouldPause:o,showCentered:i,showFull:c,source:d,...l}=this.props;return a.a.createElement("video",g({},l,{ref:e=>{this.ref=e},muted:!0}),a.a.createElement("source",{src:Object(f.a)(this.props.source||"")}))}}var _=E,y=s("./src/reddit/components/Media/VideoBox/index.m.less"),v=s.n(y);const O=Object(c.c)({autoplayPref:p.b,consumed:h.b,loadTimes:h.h,metadata:h.j,started:h.m}),j=Object(i.b)(O,(e,{postId:t})=>({onBufferingChanged:s=>{e(s?l.r(t):l.E(t))},onLoadStarted:s=>e(l.q(t,s)),onMetadataReceived:s=>e(l.D({metadata:s,postId:t})),onPaused:()=>e(l.z({postId:t})),onPlayable:s=>e(l.A(t,s)),onPlaying:()=>e(l.C(t)),onWatched:()=>e(l.s(t)),onViewableImpression:()=>e(l.x(t)),onFullyViewableImpression:()=>e(l.u(t)),onPlayedWithSound:()=>e(l.B(!1,t)),onWatchedPercent:s=>e(l.N(s,t))}));class C extends a.a.Component{constructor(){super(...arguments),this.percentTriggered=0,this._checkForConsumption=r()(e=>{if(this.props.consumed)return;const{target:t}=e;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&this.props.onWatched()},200),this.onTimeUpdate=e=>{e.persist(),this._checkForConsumption(e)},this.onVideoPlayable=e=>{this.props.metadata||this.sendTransformedMetadata(e),this.props.started||this.props.onPlayable(e.timeStamp)},this.loadStarted=e=>{this.props.onLoadStarted(e.timeStamp)},this.sendTransformedMetadata=e=>{this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})},this.onPaused=e=>{this.props.onPaused()},this.onPlaying=e=>{this.props.loadTimes||this.onVideoPlayable(e),this.props.metadata||this.sendTransformedMetadata(e),this.props.onPlaying()},this.renderVideoPlayer=()=>{const{showCentered:e,isListing:t}=this.props,s={};return e&&(s.margin="0 auto"),t||(s.maxHeight=`${m.e}px`),a.a.createElement(_,{autoplay:this.props.autoplayPref,className:Object(d.a)(u.a,v.a.styledVideo),height:this.props.height,isListing:this.props.isListing,isNotCardView:this.props.isNotCardView,key:this.props.postId,loop:!0,onBufferingChange:this.props.onBufferingChanged,onLoadStart:this.loadStarted,onLoadedData:this.onVideoPlayable,onLoadedMetadata:this.sendTransformedMetadata,onPause:this.props.onPaused,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,shouldLoad:this.props.shouldLoad,shouldPause:this.props.shouldPause,showCentered:this.props.showCentered,showFull:this.props.showFull,source:this.props.source,style:s,width:this.props.width})}}render(){return this.props.isListing?this.renderVideoPlayer():a.a.createElement("div",{className:Object(d.a)(v.a.container,this.props.className,{[v.a.centered]:this.props.showCentered})},a.a.createElement("a",{href:this.props.originalSource,target:"_blank"},this.renderVideoPlayer()))}}t.a=j(C)},"./src/reddit/components/Media/blurredContent.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./node_modules/fbt/lib/FbtPublic.js");const r=(e,t)=>e&&t?n.fbt._("Click to see nsfw spoiler",null,{hk:"4EdPWu"}):e?n.fbt._("Click to see nsfw",null,{hk:"4CErse"}):t?n.fbt._("Click to see spoiler",null,{hk:"1x3iUE"}):void 0},"./src/reddit/components/PostBadges/index.m.less":function(e,t,s){e.exports={adminIcon:"_1cje4rrmwL0yZgCOlGyBJ-",approveIcon:"_1knR9NIIXdSFC9IeFN11JL",automoderator:"_2etEb_0bRB9axAqF3uX28S",icon:"_3vju76MdF2FaGmELBeiJ_r",lockIcon:"_3wTfn3Meg1rXJ-qd2jUWMt",modIcon:"_SMl46gACTEszA_4A0Qfs",removeIcon:"_3yuF1RnBRJL4OS_STsoXcC",reportIcon:"_3guZWUAROueft8TPPGDZ-R",spamIcon:"_2BWw37nLL0rX6n7xcXciyD",stickyIcon:"NI8uZ-19oHf9gPO8jOvFu",isRemoved:"_27iLVqax1FuPWTymkSkKAq",archivedIcon:"_2WSiH2JwZq4bXuvrDn-cgU",addRemovalReason:"COGitU-ItwLZG_fP5rsdE",removalReason:"_16Ih3bzeELRlI6AWeW-nFy"}},"./src/reddit/components/PostBadges/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),o=s.n(r),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/constants/index.ts"),l=s("./src/reddit/actions/tooltip.ts"),u=s("./src/reddit/components/InfoTextTooltip/index.tsx"),m=s("./src/reddit/components/RestrictedFlatlistButton/index.tsx"),p=s("./src/reddit/constants/posts.ts"),h=s("./src/reddit/contexts/PageLayer/index.tsx"),b=s("./src/reddit/helpers/isRemoved.ts"),x=s("./src/reddit/helpers/modTooltipTemplates/index.ts"),f=s("./src/reddit/helpers/showReportIndicator/index.ts"),g=s("./src/reddit/models/Post/index.ts"),E=s("./src/reddit/selectors/posts.ts"),_=s("./src/reddit/icons/fonts/Approve/index.tsx"),y=s("./src/reddit/icons/fonts/Archived/index.tsx"),v=s("./src/reddit/icons/fonts/Lock/index.tsx"),O=s("./src/reddit/icons/fonts/Remove/index.tsx"),j=s("./src/reddit/icons/fonts/Report/index.tsx"),C=s("./src/reddit/icons/fonts/Spam/index.tsx"),S=s("./src/reddit/icons/fonts/Sticky/index.tsx"),T=s("./src/reddit/icons/svgs/Automoderator/index.tsx"),I=s("./src/reddit/icons/svgs/Moderate/index.tsx"),L=s("./src/reddit/components/PostBadges/index.m.less"),P=s.n(L);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const w=e=>o.a.createElement("span",k({className:P.a.removalReason},e),e.children),M=()=>n.fbt._("Archived",null,{hk:"zv3q3"}),N=()=>n.fbt._("Comments are locked",null,{hk:"8HjJ9"}),B=e=>n.fbt._("Moderator of {community name}",[n.fbt._param("community name",e)],{hk:"nJqIB"}),R=()=>n.fbt._("Stickied post",null,{hk:"3qSaBs"}),D=()=>n.fbt._("Pinned post",null,{hk:"2oxErI"}),H=(e,t,s)=>{const n=`PostBadges--${e}--${t}`;return s?`${n}--${s}`:n},U=Object(h.t)({isProfilePostListing:h.I,isSubreddit:h.K,pageLayer:e=>e}),F=Object(i.c)({isPinned:(e,{post:t})=>Object(E.u)(e,{postId:t.id}),modModeEnabled:h.P}),A=Object(a.b)(F,(e,t)=>({onHideTooltip:()=>e(Object(l.i)()),onOpenRemovalReasonModal:()=>{s.e("removalReasonActions").then(s.bind(null,"./src/reddit/actions/removalReasons/index.ts")).then(s=>e(s.fetchReasonsAndOpenModal(t.post.belongsTo.id,[t.post.id])))},onShowTooltip:t=>()=>e(Object(l.f)({tooltipId:t}))}));t.a=U(A(({className:e,displayText:t,isSubreddit:s,inSubredditOrProfile:a,isCompactPinnedPost:i,isPinned:l,isProfilePostListing:h,modModeEnabled:E,onHideTooltip:L,onOpenRemovalReasonModal:U,onShowTooltip:F,post:A,tooltipType:W})=>{const J={caretOnTop:!1},V=A.isRemoved&&!A.modRemovalReason&&!A.modNote&&A.belongsTo.type===p.a.SUBREDDIT,G=H("Approve",A.id,W),X=H("Archived",A.id,W),K=H("Automod",A.id,W),Z=H("Lock",A.id,W),Y=H("Mod",A.id,W),q=H("Remove",A.id,W),z=H("Report",A.id,W),Q=H("Spam",A.id,W),$=H("Sticky",A.id,W),ee=H("Pinned",A.id,W);return o.a.createElement("div",{className:e},a&&t&&A.distinguishType===d.C.MODERATOR&&o.a.createElement(r.Fragment,null,o.a.createElement(I.a,{className:P.a.modIcon,desc:B(t),id:Y,onMouseEnter:F(Y),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:Y,text:B(t)},J))),A.isArchived&&o.a.createElement(r.Fragment,null,o.a.createElement(y.a,{className:P.a.archivedIcon,desc:M(),id:X,onMouseEnter:F(X),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:X,text:M()},J))),A.isLocked&&o.a.createElement(r.Fragment,null,o.a.createElement(v.a,{className:P.a.lockIcon,desc:N(),id:Z,onMouseEnter:F(Z),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:Z,text:N()},J))),s&&Object(g.p)(A)&&!i&&o.a.createElement(r.Fragment,null,o.a.createElement(S.a,{className:P.a.stickyIcon,desc:R(),id:$,onMouseEnter:F($),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:$,text:R()},J))),h&&l&&o.a.createElement(r.Fragment,null,o.a.createElement(S.a,{className:P.a.stickyIcon,desc:D(),id:ee,onMouseEnter:F(ee),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:ee,text:D()},J))),(A.isApproved||A.approvedBy)&&o.a.createElement(r.Fragment,null,o.a.createElement(_.a,{className:P.a.approveIcon,desc:Object(x.a)(A),id:G,onMouseEnter:F(G),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:G,text:Object(x.a)(A)},J))),Object(b.a)(A)&&o.a.createElement(r.Fragment,null,o.a.createElement(O.a,{className:P.a.removeIcon,desc:Object(x.c)(A),id:q,onMouseEnter:F(q),onMouseLeave:L}),V&&o.a.createElement(m.a,{className:P.a.addRemovalReason,onClick:U,text:n.fbt._("Add a removal reason",null,{hk:"1YDo3"})}),(A.modRemovalReason||A.modNote)&&o.a.createElement(w,{onMouseEnter:F(q),onMouseLeave:L},n.fbt._("Removal reason",null,{hk:"2DhKVZ"})),o.a.createElement(u.c,k({tooltipId:q,text:Object(x.c)(A)},J))),A.bannedBy&&A.isSpam&&o.a.createElement(r.Fragment,null,o.a.createElement(C.a,{className:P.a.spamIcon,desc:Object(x.e)(A),id:Q,onMouseEnter:F(Q),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:Q,text:Object(x.e)(A)},J))),("AutoModerator"===A.approvedBy||"AutoModerator"===A.bannedBy)&&o.a.createElement(r.Fragment,null,o.a.createElement(T.a,{className:Object(c.a)(P.a.automoderator,!!A.bannedBy&&P.a.isRemoved),desc:x.b,id:K,onMouseEnter:F(K),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:K,text:x.b},J))),Object(f.a)(A)&&!E&&o.a.createElement(r.Fragment,null,o.a.createElement(j.a,{className:P.a.reportIcon,desc:Object(x.d)(A.numReports),id:z,onMouseEnter:F(z),onMouseLeave:L}),o.a.createElement(u.c,k({tooltipId:z,text:Object(x.d)(A.numReports)},J))))}))},"./src/reddit/components/PostMeta/index.m.less":function(e,t,s){e.exports={metaContainer:"Ywkt6EDfNWINeTr9lP29H",postTopMeta:"iaAYGvTNtknkTxuHArCzL",subredditName:"_1L0pdcPf58t25Jy6ljHIKR",SubscribeButton2020:"_18h85FqXFcYDKgZEKQcNj0",subscribeButton2020:"_18h85FqXFcYDKgZEKQcNj0"}},"./src/reddit/components/PostMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/reddit/components/AwardBadges/index.tsx"),a=s("./src/reddit/components/Hovercards/SubredditHovercard/index.tsx"),i=s("./src/reddit/components/JSAPIContainers/index.tsx"),c=s("./src/reddit/components/PostBadges/index.tsx"),d=s("./src/reddit/components/PostTopMeta/index.tsx"),l=s("./src/reddit/components/QuarantinedLabel/index.tsx"),u=s("./src/reddit/components/SubredditNameLink/index.tsx"),m=s("./src/reddit/components/SubscribeButton/Inline.tsx"),p=s("./src/reddit/constants/posts.ts"),h=s("./src/reddit/controls/Button/index.tsx"),b=s("./src/reddit/controls/MetaSeparator/index.tsx"),x=s("./src/reddit/helpers/trackers/post.ts"),f=s("./src/reddit/models/Subreddit/index.ts"),g=s("./src/reddit/components/PostMeta/index.m.less"),E=s.n(g);t.a=e=>{const{flairStyleTemplate:t,hideGildCta:s,inSubredditOrProfile:n,isCurrentUserProfilePost:g,isOverlay:_,isTopicPage:y,post:v,shouldShowSubscribeButton:O,subredditOrProfile:j,tooltipType:C}=e,S=!!y;return r.a.createElement("div",{className:E.a.metaContainer},!n&&!v.isSponsored&&j&&r.a.createElement(a.a,{postId:v.id,subredditName:j.name},r.a.createElement(u.a,{className:E.a.subredditName,"data-click-id":"subreddit",to:j.url},j.displayText)),j&&j.isQuarantined&&r.a.createElement(l.a,null),!n&&!v.isSponsored&&j&&O&&!g&&r.a.createElement(m.a,{className:E.a.SubscribeButton2020,getEventFactory:e=>Object(x.f)(v.id,e?"unsubscribe":"subscribe"),identifier:{name:j.name,type:Object(f.g)(j)?p.a.PROFILE:p.a.SUBREDDIT},postId:v.id,size:h.c.XXS,small:!0}),!n&&!v.isSponsored&&r.a.createElement(b.b,null),!n&&!v.isSponsored&&r.a.createElement(i.h,{type:v.belongsTo.type,id:v.belongsTo.id}),r.a.createElement(d.d,{className:E.a.postTopMeta,flairStyleTemplate:t,post:v,tooltipType:C}),r.a.createElement(c.a,{displayText:j?j.displayText:null,inSubredditOrProfile:!!n,post:v,tooltipType:C}),!S&&r.a.createElement(o.a,{hideCta:s,thing:v,tooltipType:_?d.c.Lightbox:void 0}))}},"./src/reddit/components/RawHTMLDisplay/index.m.less":function(e,t,s){e.exports={StyledRawHTMLDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH",styledRawHtmlDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH"}},"./src/reddit/components/RawHTMLDisplay/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/polished/dist/polished.es.js"),r=s("./node_modules/react/index.js"),o=s.n(r),a=s("./node_modules/react-redux/es/index.js"),i=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/lessComponent.tsx"),d=s("./src/reddit/actions/urlRequested.ts"),l=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),u=s("./src/reddit/components/RawHTMLDisplay/index.m.less"),m=s.n(u);const p=Object(a.b)(null,e=>({onNavigate:t=>e(Object(d.a)(t))})),h=c.a.wrapped(e=>o.a.createElement("div",{className:e.className,dangerouslySetInnerHTML:{__html:e.html},onClick:t=>{((e,t,s)=>{if(!e.ctrlKey&&!e.metaKey&&1!==e.button&&"A"===e.target.tagName){e.preventDefault(),t(e.target.getAttribute("href"))}e.target.classList&&e.target.classList.contains("md-spoiler-text")&&(e.target.dataset.revealed=!0),s&&s(e)})(t,e.onNavigate,e.onClick)},style:{...e.style,"--RawHTMLDisplay-tr-even":Object(n.g)(Object(l.a)(e).body,.8),"--RawHTMLDisplay-tr-odd":Object(n.g)(Object(l.a)(e).line,.8)}}),"StyledRawHTMLDisplay",m.a);t.a=p(Object(i.a)(h))},"./src/reddit/components/RichTextJson/Emote/index.m.less":function(e,t,s){e.exports={container:"JnJcJlA7hHeajn8Um_Bh5"}},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,s){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),o=s.n(r),a=s("./src/lib/classNames/index.ts"),i=s("./src/higherOrderComponents/addOverlayEvents.tsx"),c=s("./src/reddit/components/InfoTextTooltip/index.tsx"),d=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),l=s("./src/reddit/components/RichTextJson/SpoilerText.m.less"),u=s.n(l),m=s("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const h=["left","top"],b=["left","bottom"],x=m.a.span("InnerSpan",u.a),f=m.a.span("TooltipTarget",u.a),g=m.a.span("SpoilerWrapper",u.a),E=m.a.wrapped(({className:e,isOpen:t,...s})=>o.a.createElement(g,p({},s,{className:Object(a.a)(e,{[u.a.isOpen]:t})})),"SpoilerWrapper",u.a),_=Object(d.a)(m.a.wrapped(c.b,"Component",u.a),[i.a.Click,i.a.Keydown]);class y extends o.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=e=>{const{isOpen:t}=this.state;t||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}))},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.state.isOpen||this.setState({showTooltip:!0})},this.onHideTooltip=()=>{this.setState({showTooltip:!1})},this.state={isOpen:!1,showTooltip:!1}}render(){const{isOpen:e,showTooltip:t}=this.state;return o.a.createElement(E,{isOpen:e,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},o.a.createElement(x,null,o.a.createElement(f,{innerRef:this.setTooltipTargetRef}),o.a.createElement(_,{isOpen:t,tooltipTarget:this.tooltipTargetElement,text:n.fbt._("Reveal spoiler",null,{hk:"271xYi"}),targetPosition:h,tooltipPosition:b}),this.props.children))}}t.a=y},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,s){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,s){"use strict";s.d(t,"w",(function(){return l})),s.d(t,"e",(function(){return u})),s.d(t,"h",(function(){return m})),s.d(t,"k",(function(){return p})),s.d(t,"c",(function(){return h})),s.d(t,"j",(function(){return b})),s.d(t,"g",(function(){return x})),s.d(t,"v",(function(){return f})),s.d(t,"i",(function(){return g})),s.d(t,"b",(function(){return E})),s.d(t,"f",(function(){return _})),s.d(t,"u",(function(){return y})),s.d(t,"d",(function(){return v})),s.d(t,"l",(function(){return O})),s.d(t,"m",(function(){return j})),s.d(t,"n",(function(){return C})),s.d(t,"t",(function(){return S})),s.d(t,"p",(function(){return T})),s.d(t,"o",(function(){return I})),s.d(t,"q",(function(){return L})),s.d(t,"s",(function(){return P})),s.d(t,"r",(function(){return k})),s.d(t,"a",(function(){return w}));var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/reddit/controls/OutboundLink/index.tsx"),a=s("./src/reddit/components/RichTextJson/elements.m.less"),i=s.n(a),c=s("./src/lib/lessComponent.tsx");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const l=[c.a.div("H1",i.a),c.a.div("H2",i.a),c.a.div("H3",i.a),c.a.div("H4",i.a),c.a.div("H5",i.a),c.a.div("H6",i.a)],u=c.a.hr("Hr",i.a),m=c.a.code("M",i.a),p=c.a.pre("Pre",i.a),h=c.a.blockquote("Blockquote",i.a),b=c.a.p("P",i.a),x=c.a.li("Li",i.a),f=c.a.ul("Ul",i.a),g=c.a.ol("Ol",i.a),E=c.a.strong("B",i.a),_=c.a.em("I",i.a),y=c.a.span("U",i.a),v=e=>r.a.createElement("del",e),O=c.a.sub("Sub",i.a),j=c.a.sup("Sup",i.a),C=c.a.table("Table",i.a),S=c.a.tr("Tr",i.a),T=c.a.td("Tdl",i.a),I=c.a.td("Tdc",i.a),L=c.a.td("Tdr",i.a),P=c.a.th("Thl",i.a),k=c.a.th("Thc",i.a),w=(c.a.th("Thr",i.a),c.a.wrapped(e=>r.a.createElement(o.b,d({},e,{isSponsored:!1,source:null})),"A",i.a))},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,s){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return v})),s.d(t,"b",(function(){return O})),s.d(t,"a",(function(){return C}));var n=s("./node_modules/lodash/findLastIndex.js"),r=s.n(n),o=s("./node_modules/react/index.js"),a=s.n(o),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/lib/sentry/index.ts"),l=s("./src/reddit/constants/elementClassNames.ts"),u=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),m=s("./src/reddit/helpers/styles/smartTextColor.ts"),p=s("./src/reddit/models/RichTextJson/index.ts"),h=s("./src/reddit/components/RichTextJson/media.tsx"),b=s("./src/reddit/components/RichTextJson/renderers.tsx"),x=s("./src/reddit/components/RichTextJson/index.m.less"),f=s.n(x);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const E=s("./src/lib/lessComponent.tsx").a.div("Container",f.a),_=Object(c.a)(({flairStyleTemplate:e,theme:t,...s})=>a.a.createElement(E,g({},s,{style:{color:Object(m.a)(Object(u.a)({flairStyleTemplate:e,theme:t,...s}))}}))),y=e=>e.e===p.k?!!e.c&&!e.c.every(e=>!e.t):e.e!==p.u||!!e.c&&!e.c.every(e=>e.e===p.A&&!e.t),v=e=>r()(e,y),O=e=>e.findIndex(y),j=e=>{const{altText:t,className:s,content:n,postId:r,renderMediaAsLinks:o,rtJsonElementProps:c,useExplicitTextColor:d}=e,u=n.document,m=[],x=e.mediaMetadata||null,f=O(u),g=v(u);if(-1!==f)for(let a=f;a<=g;a++){const e=u[a];switch(e.e){case p.k:m.push(b.c(e,c,a));break;case p.l:m.push(b.d(a));break;case p.b:m.push(b.a(e,x,c,a));break;case p.c:m.push(b.b(e,a));break;case p.p:m.push(b.f(e,x,c,a));break;case p.z:m.push(b.h(e,x,c,a));break;case p.u:m.push(b.g(e,x,c,a));break;case p.h:m.push(Object(h.a)(e,a));break;case p.m:case p.a:case p.D:m.push(...Object(h.b)(e,a,x,o,r,t))}}return d?a.a.createElement(E,{className:Object(i.a)(l.j,s)},m):a.a.createElement(_,{className:Object(i.a)(l.j,s),flairStyleTemplate:e.flairStyleTemplate},m)};class C extends a.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=()=>"Something went wrong while trying to render this"}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){d.c.withScope(t=>{t.setExtra("objectInfo",this.props.rtJsonElementProps.renderingObjectInfo),t.setTag("rtjson","rendering"),d.c.captureException(e)})}render(){const{renderFallback:e=this.renderDefaultFallback,...t}=this.props;if(this.hasError||this.state.hasError)return e();try{return j(t)}catch(s){return this.hasError=!0,this.logError(s),e()}}}},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,s){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaWrapper:"_2-UiOdhyj4wHBv7Rc2FeDr",mediaWrapper:"_2-UiOdhyj4wHBv7Rc2FeDr",mHasCaption:"c1cmiB1jfdq4sxidlPDAx",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",giphy:"_3J81Ds3WITP7zlq_PlUmGf"}},"./src/reddit/components/RichTextJson/media.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return S})),s.d(t,"b",(function(){return I}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),o=s.n(r),a=s("./src/lib/classNames/index.ts"),i=s("./src/config.ts"),c=s("./src/reddit/components/HTML5StreamPlayer/index.tsx"),d=s("./src/reddit/components/Media/EmbedBox/index.tsx"),l=s("./src/reddit/components/Media/ImageBox/index.tsx"),u=s("./src/reddit/components/Media/MediaContainer/index.tsx"),m=s("./src/reddit/components/Media/VideoBox/index.tsx"),p=s("./src/reddit/helpers/richTextJson/index.ts"),h=s("./src/reddit/models/RichTextJson/index.ts"),b=s("./src/reddit/components/RichTextJson/elements.tsx"),x=s("./src/reddit/components/RichTextJson/media.m.less"),f=s.n(x),g=s("./src/lib/lessComponent.tsx");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const _=/\/(\w+)\/asset\/(\w+)\//,y=g.a.wrapped(b.a,"A",f.a),v=g.a.wrapped(l.a,"ImageBox",f.a),O=g.a.wrapped(e=>o.a.createElement("p",e),"Caption",f.a),j=g.a.div("Placeholder",f.a),C=g.a.wrapped(({className:e,e:t,...s})=>{const r=t===h.D?n.fbt._("Processing video...",null,{hk:"3SXDRi"}):n.fbt._("Processing image...",null,{hk:"1qwmbc"});return o.a.createElement(j,E({className:e,style:{"--placeholder-content-text":`'${r}'`}},s))},"Placeholder",f.a),S=({c:e,x:t,y:s},n)=>o.a.createElement("div",{className:f.a.MediaWrapper},o.a.createElement(u.a,{height:s,isListing:!1,key:n,showCentered:!0,showFull:!0,width:t},o.a.createElement(d.a,{isListing:!1,source:e,height:s,width:t,showCentered:!0,showFull:!0}))),T=(e,t,s)=>{const n=e.c;let r="";return s&&(s.e===h.s?r=s.s.u:s.e===h.r?r=s.s.gif:s.e===h.t&&(r=(e=>{const t=_.exec(e);return t?`${i.a.redditUrl}/link/${t[1]}/video/${t[2]}/player`:""})(s.dashUrl))),r?o.a.createElement(y,{href:r,key:t,title:n},n||r):null},I=(e,t,s,n,r,i)=>{const d=h.E(s,e.id);if(n)return[T(e,t,d)];const l=[];return d?d.e===h.s?l.push((({id:e,s:t},s,n,r)=>o.a.createElement("div",{className:Object(a.a)(f.a.MediaWrapper,{[f.a.mHasCaption]:n})},o.a.createElement(u.a,{height:t.y,isListing:!1,key:s,showCentered:!0,showFull:!0,width:t.x},o.a.createElement(v,{altText:r,originalSource:t.u,postId:e,source:t.u,height:t.y,width:t.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1}))))(d,t,!!e.c,i)):d.e===h.r?l.push((({id:e,ext:t,s},n,r)=>{if(Object(p.e)(e)){const i=t||Object(p.d)(e);return o.a.createElement("div",{className:Object(a.a)(f.a.MediaWrapper,{[f.a.mHasCaption]:r})},o.a.createElement(y,{href:i,key:n,target:"_blank"},s.mp4?o.a.createElement("video",{className:f.a.giphy,loop:!0,autoPlay:!0,muted:!0},o.a.createElement("source",{src:s.mp4})):{originalSource:i}))}return o.a.createElement("div",{className:Object(a.a)(f.a.MediaWrapper,{[f.a.mHasCaption]:r})},o.a.createElement(u.a,{height:s.y,isListing:!1,key:n,showCentered:!0,showFull:!0,width:s.x},o.a.createElement(m.a,{height:s.y,isListing:!1,isNotCardView:!0,originalSource:s.mp4,width:s.x,postId:e,source:s.mp4,shouldPause:!1,showCentered:!0,shouldLoad:!0,showFull:!0})))})(d,t,!!e.c)):d.e===h.t&&l.push((({hlsUrl:e,dashUrl:t,x:s,y:n,isGif:r},i,d,l)=>o.a.createElement("div",{className:Object(a.a)(f.a.MediaWrapper,{[f.a.mHasCaption]:d})},o.a.createElement(u.a,{height:n,isListing:!1,isVideo:!0,key:i,showCentered:!0,showFull:!0,width:s},o.a.createElement(c.b,{shouldLoad:!0,shouldPause:!0,autoPlay:r,hlsSource:e,mpegDashSource:t,postId:l,isGif:r}))))(d,t,!!e.c,r)):l.push(((e,t)=>o.a.createElement(C,{e,key:t}))(e.e,t)),e.c&&l.push(((e,t)=>o.a.createElement(O,{key:t},e))(e.c,`caption${t}`)),l}},"./src/reddit/components/RichTextJson/renderers.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return I})),s.d(t,"d",(function(){return L})),s.d(t,"a",(function(){return P})),s.d(t,"b",(function(){return k})),s.d(t,"f",(function(){return w})),s.d(t,"h",(function(){return N})),s.d(t,"g",(function(){return B})),s.d(t,"i",(function(){return R})),s.d(t,"e",(function(){return D}));var n=s("./src/lib/unicodeUtils/index.ts"),r=s("./node_modules/lodash/reduce.js"),o=s.n(r),a=s("./node_modules/react/index.js"),i=s.n(a),c=s("./src/reddit/components/RichTextJson/elements.tsx"),d=s("./node_modules/uuid/v4.js"),l=s.n(d),u=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/models/Product/index.ts"),p=s("./src/reddit/models/RichTextJson/index.ts"),h=s("./src/reddit/selectors/telemetry.ts"),b=s("./src/higherOrderComponents/makeAsync.tsx");var x=Object(b.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("RichTextJsonEmoteTooltip").then(s.bind(null,"./src/reddit/components/RichTextJson/Emote/Tooltip/index.tsx")).then(e=>e.default)}),f=s("./src/reddit/components/RichTextJson/Emote/index.m.less"),g=s.n(f);const E=1e3,_=1e3;var y;!function(e){e[e.Inside=0]="Inside",e[e.Outside=1]="Outside"}(y||(y={}));class v extends i.a.Component{constructor(){super(...arguments),this.mouseLocation=y.Outside,this.state={tooltipOpen:!1},this.onClick=()=>this.sendEvent("click"),this.onMouseOver=()=>{this.mouseLocation=y.Inside,setTimeout(()=>{this.mouseLocation===y.Inside&&(this.setState({tooltipOpen:!0}),this.sendEvent("view"))},E)},this.onMouseOut=()=>{this.mouseLocation=y.Outside,setTimeout(()=>{this.mouseLocation!==y.Inside&&this.setState({tooltipOpen:!1})},_)},this.sendEvent=e=>{this.props.sendEvent(t=>{const s=h.defaults(t);return{source:"meta",action:e,noun:"emote",...s,actionInfo:{...s.actionInfo,reason:this.props.node.id},subreddit:h.subreddit(t)}})}}render(){const{node:e,media:t}=this.props;let s,n,r;t.e===p.s?(s=t.s.x,n=t.s.y,r=t.s.u):t.e===p.r&&(s=t.s.x,n=t.s.y,r=t.s.gif);const o=this.state.tooltipOpen?l()():void 0;return r?i.a.createElement("div",{className:g.a.container,onClick:this.onClick,onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut},i.a.createElement("img",{id:o,src:r,width:s,height:n,title:`:${Object(m.b)(e.id)}:`}),this.state.tooltipOpen&&i.a.createElement(x,{isOpen:!0,emoteId:e.id,targetPosition:["left","bottom"],tooltipId:o,tooltipPosition:["left","top"]})):null}}var O=Object(u.c)(v),j=s("./src/reddit/components/RichTextJson/media.tsx"),C=s("./src/reddit/components/RichTextJson/SpoilerText.tsx"),S=s("./src/reddit/components/SubredditMention/index.tsx"),T=s("./src/reddit/helpers/richTextJson/index.ts");const I=(e,t,s)=>{const n=e.c||[],r=e.l,o=[],a=n.length;for(let i=0;i<a;i++){const e=n[i];o.push(e.e===p.w?e.t:D(e,t,i))}const d=c.w[r-1];return i.a.createElement(d,{key:s},o)},L=e=>i.a.createElement(c.e,{key:e}),P=(e,t,s,n)=>{const r=e.c;if(!r)return;const o=r.length,a=[];for(let i=0;i<o;i++)a.push(M(r[i],t,s,i));return i.a.createElement(c.c,{key:n},a)},k=(e,t)=>{const s=e.c;return i.a.createElement(c.k,{key:t},i.a.createElement(c.h,null,s.reduce((e,t,s,n)=>e+=t.t+(s<n.length?"\n":""),"")))},w=(e,t,{renderingObjectInfo:s},n)=>{const r=e.c,o=[],a=r.length;for(let l=0;l<a;l++){const e=r[l].c;e&&e.length&&o.push(i.a.createElement(c.g,{key:l},e.map((e,n)=>M(e,t,{renderingObjectInfo:s},n))))}const d=e.o?c.i:c.v;return i.a.createElement(d,{key:n},o)},M=(e,t,s,n)=>{switch(e.e){case p.b:return P(e,t,s,n);case p.c:return k(e,n);case p.k:return I(e,s,n);case p.l:return L(n);case p.p:return w(e,t,s,n);case p.u:return B(e,t,s,n);case p.z:return N(e,t,s,n)}},N=(e,t,s,n)=>{const r=e.c,o=e.h,a=r.length,d=o.length,l=[],u=[],m=[];for(let c=0;c<d;c++){const e=o[c],{H:n,D:r}=A(e.a),{c:a=[]}=e;l.push(i.a.createElement(n,{key:c},R(a,t,s))),m[c]=r}for(let p=0;p<a;p++){const e=r[p],n=e.length,o=[];for(let r=0;r<n;r++){const n=m[r],{c:a=[]}=e[r];o.push(i.a.createElement(n,{key:r},R(a,t,s)))}u.push(i.a.createElement(c.t,{key:p},o))}return i.a.createElement(c.n,{key:n},i.a.createElement("thead",null,i.a.createElement(c.t,null,l)),i.a.createElement("tbody",null,u))},B=(e,t,s,n)=>{if(!e.c||!e.c.length)return(e=>i.a.createElement(c.j,{key:e},i.a.createElement("br",null)))(n);const r=e.c[0];return r.e!==p.m&&r.e!==p.a||!Object(T.e)(r.id)?i.a.createElement(c.j,{key:n},R(e.c,t,s)):Object(j.b)(r,n,t)},R=(e,t,s)=>{const n=[],r=e.length;for(let o=0;o<r;o++){const r=e[o];if(r.e===p.A)n.push(H(r,o));else if(r.e===p.x)n.push(i.a.createElement(C.a,{key:o},R(r.c,t,s)));else if(r.e===p.n)n.push(i.a.createElement("br",{key:o}));else if(r.e===p.m||r.e===p.a){if(r.id.startsWith("emote|")){const e=p.E(t,r.id);e&&n.push(i.a.createElement(O,{key:o,node:r,media:e}))}}else n.push(D(r,s,o))}return n},D=(e,t,s)=>{switch(e.e){case p.o:return i.a.createElement(c.a,{href:e.u,key:s,title:e.a},H({t:e.t,f:e.f},0));case p.y:return i.a.createElement(S.b,{key:s,rtJsonElementProps:t,subredditName:e.t});case p.B:case p.C:return i.a.createElement(c.a,{href:`/u/${e.t}/`,key:s},`${e.l?"/":""}u/${e.t}`);case p.g:case p.v:return i.a.createElement(c.a,{href:e.t,key:s},e.t)}},H=(e,t)=>{const{f:s,t:r}=e,o=[];if(!s)return F(0,r,t);const a=Object(n.a)(r);let i=0,c=0;const d=s.length;for(;i<d;i++){const[e,t,n]=s[i],d=t+n,l=a[t],u=a[d]-l;l>c&&o.push(F(0,r.substr(c,l-c),`between${i}`)),o.push(F(e,r.substr(l,u),i)),c=l+u}return c<r.length&&o.push(F(0,r.substr(c),`remaining${i}`)),o},U={[p.j.monospace]:c.h,[p.j.bold]:c.b,[p.j.italic]:c.f,[p.j.underline]:c.u,[p.j.strikethrough]:c.d,[p.j.subscript]:c.l,[p.j.superscript]:c.m},F=(e,t,s)=>{let n=t;return n=o()(U,(t,n,r)=>e&parseInt(r,10)?i.a.createElement(n,{key:s},t):t,n)},A=e=>{switch(e){case p.f:return{H:c.r,D:c.q};case p.d:return{H:c.r,D:c.o};case p.e:default:return{H:c.r,D:c.p}}}},"./src/reddit/components/SourceLink/index.m.less":function(e,t,s){e.exports={OutboundLinkIcon:"_2WV2dTLgPlEXLVEmIexAxf",outboundLinkIcon:"_2WV2dTLgPlEXLVEmIexAxf",SourceLinkWrapper:"_10wC0aXnrUKfdJ4Ssz-o14",sourceLinkWrapper:"_10wC0aXnrUKfdJ4Ssz-o14","m-comment":"_1-PD0_zreH-KVwpFoCLvQF",mComment:"_1-PD0_zreH-KVwpFoCLvQF"}},"./src/reddit/components/SourceLink/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/lib/classNames/index.ts"),a=s("./src/lib/getShortenedLink.ts"),i=s("./src/reddit/controls/OutboundLink/styled.tsx"),c=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),d=s("./src/reddit/components/SourceLink/index.m.less"),l=s.n(d),u=s("./src/lib/lessComponent.tsx");const m=u.a.wrapped(c.a,"OutboundLinkIcon",l.a),p=u.a.div("SourceLinkWrapper",l.a);function h(e){const{className:t,post:s,isCommentsPage:n}=e,{source:c,isSponsored:d}=s;return c?r.a.createElement(p,{className:Object(o.a)({[l.a["m-comment"]]:n},t)},r.a.createElement(i.a,{href:c.url,isSponsored:d,postId:s.id,source:c},Object(a.a)(s),r.a.createElement(m,null))):null}},"./src/reddit/components/SubredditMention/SubredditIcon/index.m.less":function(e,t,s){e.exports={S:"Zwo7CZoszMU6kBYhWyIC7",s:"Zwo7CZoszMU6kBYhWyIC7",SubredditIcon:"_33bYVIxJlbFcqiiYlexnqp",subredditIcon:"_33bYVIxJlbFcqiiYlexnqp"}},"./src/reddit/components/SubredditMention/SubredditIcon/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return m}));var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/SubredditIcon/index.tsx"),i=s("./src/reddit/controls/OutboundLink/index.tsx"),c=s("./src/reddit/components/SubredditMention/SubredditIcon/index.m.less"),d=s.n(c);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const u=o.a.wrapped(a.b,"SubredditIcon",d.a),m=o.a.wrapped(e=>r.a.createElement(i.b,l({},e,{isSponsored:!1,source:null})),"S",d.a)},"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less":function(e,t,s){e.exports={topPostsTitle:"_2Pw8j7a2DYkjTDOFbIdODA",hovercardStyle:"_2ktYI4-r7C-HaMk9ulbwog",top:"_3rKUrAbYNFvE7-nMDs6lwZ",subredditMentionContainer:"_1e2szH8g0XMMM_EuCN8Olk",subredditIconContainer:"_3kpwADnYG-SH40aaSdX3ZE"}},"./src/reddit/components/SubredditMention/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/RichTextJson/elements.tsx"),c=s("./src/higherOrderComponents/makeAsync.tsx"),d=s("./src/lib/loadWithRetries/index.ts"),l=s("./src/reddit/components/SubredditMention/SubredditIcon/index.tsx"),u=s("./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less"),m=s.n(u);var p=Object(c.a)({ErrorComponent:()=>null,getComponent:()=>Object(d.a)(()=>s.e("SubredditMentionWithIcon").then(s.bind(null,"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.tsx"))).then(e=>e.default),LoadingComponent:({subredditName:e})=>r.a.createElement("span",{className:m.a.subredditMentionContainer},r.a.createElement(l.a,{href:`/r/${e}/`},r.a.createElement("span",{className:m.a.subredditIconContainer},r.a.createElement(l.b,null)),`r/${e}`))}),h=s("./src/reddit/components/TrackingHelper/index.tsx"),b=s("./src/reddit/constants/experiments.ts"),x=s("./src/reddit/helpers/trackers/subredditMentions.ts"),f=s("./src/reddit/selectors/subredditMention.ts");class g extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{const{rtJsonElementProps:e,sendEvent:t,subredditName:s}=this.props;t(Object(x.a)({...e,subredditName:s}))}}render(){const{subredditName:e}=this.props;return r.a.createElement(i.a,{onClick:this.handleOnClick,href:`/r/${e}/`},`r/${e}`)}}const E=Object(h.c)(g),_=Object(a.c)({isFeatureFlagEnabled:f.b,isUserInTreatment:f.e,userVariant:f.a}),y=Object(o.b)(_),v=({isFeatureFlagEnabled:e,isUserInTreatment:t,subredditName:s,userVariant:n,rtJsonElementProps:o})=>{if(!t||!e)return r.a.createElement(E,{subredditName:s,rtJsonElementProps:o});switch(n){case b.Pc.SmIcon:return r.a.createElement(p,{subredditName:s,rtJsonElementProps:o});case b.Pc.SmIconHc:return r.a.createElement(p,{subredditName:s,isHoverable:!0,rtJsonElementProps:o});default:return r.a.createElement(E,{subredditName:s,rtJsonElementProps:o})}};t.b=y(v)},"./src/reddit/components/SubscribeButton/Inline.m.less":function(e,t,s){e.exports={SubscribeInternalButton:"QvUHhznbRVbKaK8dZGZVV",subscribeInternalButton:"QvUHhznbRVbKaK8dZGZVV",UnsubscribeButton:"_3gteUGkVlyl5VuSsNQJaz1",unsubscribeButton:"_3gteUGkVlyl5VuSsNQJaz1",isLarge:"_2jGEuWB6HWtIbTjMG68OXY",ButtonSpacer:"vXXjS_s-Ic4QZpFsPjThV",buttonSpacer:"vXXjS_s-Ic4QZpFsPjThV",Checkmark:"_2qm48d8K8lTcwSJiHL9KLT",checkmark:"_2qm48d8K8lTcwSJiHL9KLT",Plus:"_2zcGm9WDxG67GYyNNvHzlA",plus:"_2zcGm9WDxG67GYyNNvHzlA",unsubscribeButtonHoverStyles:"_1tZ_edPYFuF6jhuTr_iPEE",joinCleanupContent:"_3GS035a5A47X7LR9VSQYy6"}},"./src/reddit/components/SubscribeButton/Inline.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/reddit/components/SearchResultsContent/searchResultsPageTreatment/searchIgnoreClickContext.ts"),a=s("./src/reddit/components/TrackingHelper/index.tsx"),i=s("./src/reddit/connectors/SubscribeButton/index.ts"),c=s("./src/reddit/contexts/CoreStyleExperiments.ts"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/icons/svgs/Checkmark/index.tsx"),u=s("./src/reddit/icons/svgs/Plus/index.tsx"),m=s("./src/reddit/components/SubscribeButton/helpers/actionTemplateSource.ts"),p=s("./src/reddit/components/SubscribeButton/Inline.m.less"),h=s.n(p),b=s("./src/lib/classNames/index.ts"),x=s("./src/lib/lessComponent.tsx");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const g=x.a.wrapped(({small:e,shouldReverseColor:t,...s})=>{const n=Object(o.b)(),a=t?d.l:d.i;return r.a.createElement(a,f({},s,{className:Object(b.a)(s.className,{[h.a.isLarge]:!e}),"data-ignore-click":!!n}))},"SubscribeInternalButton",h.a),E=x.a.wrapped(({small:e,belongsToType:t,shouldReverseColor:s,...n})=>{const a=Object(o.b)(),i=s?d.i:d.l;return r.a.createElement(i,f({},n,{className:Object(b.a)(n.className,{[h.a.isLarge]:!e}),"data-ignore-click":!!a}))},"UnsubscribeButton",h.a),_=x.a.wrapped(l.a,"Checkmark",h.a),y=x.a.wrapped(u.a,"Plus",h.a),v=x.a.div("ButtonSpacer",h.a);class O extends r.a.Component{constructor(e){super(e),this.onMouseEnter=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})},this.onClick=e=>{const{props:t}=this;if(t.userIsSubscriber?t.onUnsubscribe():(this.setState({hasJustSubscribed:!0}),t.onSubscribe()),t.onClick&&t.onClick(e),t.getEventFactory){const e=t.getEventFactory(t.userIsSubscriber);e&&t.sendEvent(e)}},this.renderUnsubscribeButton=({[c.a.Buttons]:e})=>{const{className:t,identifier:s,onSubscribe:n,onUnsubscribe:o,postId:a,sendEvent:i,small:l=!1,size:u,userIsSubscriber:p,doNotHideOtherSubscribeButtons:x,getEventFactory:g,onSubscriptionsRequested:y,...v}=this.props,O=this.state.isHovered,j=Object(m.a)({type:s.type,key:O?"unsubscribe":"subscribed"});return e?r.a.createElement(d.q,f({className:Object(b.a)(t,h.a.Button2020),priority:v.shouldReverseColor?d.b.Primary:d.b.Secondary,Icon:l||!l&&!O?_:void 0,text:!l&&j,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,size:u||(l?d.c.XS:d.c.S)},v)):r.a.createElement(E,f({className:Object(b.a)(t,{[h.a.isLarge]:!l,[h.a.unsubscribeButtonHoverStyles]:!l}),onClick:this.onClick,small:l,belongsToType:s.type,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},v),l&&r.a.createElement(_,null),!l&&!O&&r.a.createElement(_,null),!l&&j)},this.renderSubscribeButton=({[c.a.Buttons]:e})=>{const{className:t,identifier:s,onSubscribe:n,onUnsubscribe:o,postId:a,sendEvent:i,small:l=!1,size:u,userIsSubscriber:p,doNotHideOtherSubscribeButtons:x,getEventFactory:E,onSubscriptionsRequested:_,...v}=this.props,O=Object(m.a)({type:s.type,key:"subscribe"});return e?r.a.createElement(d.q,f({className:t,priority:v.shouldReverseColor?d.b.Secondary:d.b.Primary,Icon:y,size:u||(l?d.c.XS:d.c.S),text:!l&&O,onClick:this.onClick},v,{id:`subscribe-button-${a}`,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})):r.a.createElement(g,f({className:Object(b.a)(t,{[h.a.isLarge]:!l}),onClick:this.onClick,small:l},v,{id:`subscribe-button-${a}`,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),r.a.createElement(y,null),!l&&O)},this.state={hasJustSubscribed:!1,isHovered:!1}}componentDidMount(){this.props.onSubscriptionsRequested()}render(){const{small:e=!1,userIsSubscriber:t,doNotHideOtherSubscribeButtons:s}=this.props;return t?this.state.hasJustSubscribed||s?r.a.createElement(c.b.Consumer,null,this.renderUnsubscribeButton):e?null:r.a.createElement(v,null):r.a.createElement(c.b.Consumer,null,this.renderSubscribeButton)}}t.a=Object(i.a)(Object(a.c)(O))},"./src/reddit/helpers/isRemoved.ts":function(e,t,s){"use strict";t.a=e=>!!e.bannedBy&&!e.isSpam},"./src/reddit/helpers/modTooltipTemplates/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return d}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./src/lib/humanizeUTCDate/index.tsx");const o=e=>e.approvedBy&&"string"==typeof e.approvedBy&&e.approvedAtUTC?n.fbt._("Approved by {username} at {time}",[n.fbt._param("username",e.approvedBy),n.fbt._param("time",Object(r.a)(e.approvedAtUTC))],{hk:"3G807D"}):n.fbt._("Approved",null,{hk:"3CbKag"}),a=n.fbt._("Action taken by Automoderator",null,{hk:"1zud7K"}),i=e=>{let t=e.bannedBy&&"string"==typeof e.bannedBy&&e.bannedAtUTC?n.fbt._("Removed by {username} at {time}",[n.fbt._param("username",e.bannedBy),n.fbt._param("time",Object(r.a)(e.bannedAtUTC))],{hk:"2Ey569"}):n.fbt._("Removed",null,{hk:"238xK9"});return e.modReasonBy&&e.modRemovalReason&&(t=t+"\n"+n.fbt._("Reason by {username}:",[n.fbt._param("username",`u/${e.bannedBy}`)],{hk:"3qLdNZ"})+e.modRemovalReason),e.modNote&&(t=t+"\n"+n.fbt._("Note:",null,{hk:"2LD4vO"})+e.modNote),t},c=e=>n.fbt._({"*":"{number} Reports",_1:"1 Report"},[n.fbt._plural(e,"number")],{hk:"3S0yx6"}),d=e=>e.bannedBy&&"string"==typeof e.bannedBy&&e.bannedAtUTC?n.fbt._("Removed as spam by {username} at {time}",[n.fbt._param("username",e.bannedBy),n.fbt._param("time",Object(r.a)(e.bannedAtUTC))],{hk:"2uutjk"}):n.fbt._("Removed as spam",null,{hk:"1hD9G0"})},"./src/reddit/helpers/showReportIndicator/index.ts":function(e,t,s){"use strict";t.a=e=>!e.ignoreReports&&(e.numReports||0)>0},"./src/reddit/helpers/trackers/gallery.ts":function(e,t,s){"use strict";s.d(t,"d",(function(){return i})),s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return l}));var n=s("./src/reddit/constants/tracking.ts"),r=s("./src/reddit/helpers/parseUrl.ts"),o=s("./src/reddit/selectors/telemetry.ts");const a=(e,t,s)=>({gallery:o.gallery(e,t,s),post:o.post(e,t),...o.defaults(e)}),i=(e,t)=>s=>({...a(s,e,t),action:n.c.VIEW,noun:"media",source:"gallery",media:o.media(s,e)}),c=(e,t,s)=>i=>{const c=Object(r.a)(t);return{...a(i,e,s),action:n.c.CLICK,noun:"outbound_url",source:"gallery",media:{...o.media(i,e),outboundUrl:t,outboundDomain:c?c.hostname:void 0}}},d=(e,t)=>u(e,!0,t),l=(e,t)=>u(e,!1,t),u=(e,t,s)=>r=>({...a(r,e,s),action:n.c.CLICK,noun:t?"forward":"backward",source:"gallery"})},"./src/reddit/helpers/trackers/subredditMentions.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return g})),s.d(t,"f",(function(){return E})),s.d(t,"g",(function(){return _})),s.d(t,"b",(function(){return y})),s.d(t,"c",(function(){return v})),s.d(t,"d",(function(){return O})),s.d(t,"e",(function(){return j}));var n,r,o=s("./src/reddit/constants/tracking.ts"),a=s("./src/reddit/contexts/PageLayer/index.tsx"),i=s("./src/reddit/helpers/isComment.ts"),c=s("./src/reddit/helpers/isPost.ts"),d=s("./src/reddit/models/DiscoveryUnit/index.ts"),l=s("./src/reddit/selectors/subreddit.ts"),u=s("./src/reddit/selectors/telemetry.ts"),m=s("./src/telemetry/models/Outbound.ts");!function(e){e.INTERNAL_LINK="internal_link",e.SUBREDDIT_HOVERCARD="subreddit_mentions_hovercard",e.HEADER_SUBREDDIT="header_subreddit",e.HEADER_SUBREDDIT_SUBSCRIBE="header_subreddit_subscribe",e.HEADER_SUBREDDIT_UNSUBSCRIBE="header_subreddit_unsubscribe",e.ITEM_POST="item_post"}(n||(n={})),function(e){e.LINK="link",e.DISCOVERY_UNIT="discovery_unit"}(r||(r={}));const p=e=>({...u.defaults(e),source:r.LINK,action:o.c.CLICK,noun:n.INTERNAL_LINK}),h=e=>({...u.defaults(e),source:r,screen:u.screen(e),discoveryUnit:{id:"xd_100",name:n.SUBREDDIT_HOVERCARD,type:d.f.Listing,title:n.SUBREDDIT_HOVERCARD}}),b=(e,{renderingObjectInfo:t,pageLayer:s})=>{if(t&&(Object(i.b)(t)||Object(c.b)(t)))return Object(i.b)(t)?m.SourceElement.Comment:Object(a.w)(s)?m.SourceElement.PostDetail:Object(a.E)(s)?m.SourceElement.ListingPostDetail:void 0},x=(e,t)=>{const{renderingObjectInfo:s,subredditName:n}=t;if(!s||!Object(c.b)(s)&&!Object(i.b)(s))return{outbound:void 0};const r=Object(c.b)(s)?"postId":"commentId",o={url:`/r/${n}/`,sourceElement:b(0,t),subredditName:n,[r]:s.id},a=Object(l.A)(e,{subredditName:n});return a?{outbound:{...o,url:a.url,subredditId:a.id}}:{outbound:{...o}}},f=(e,t)=>{const{renderingObjectInfo:s}=t;if(!s||!Object(c.b)(s)&&!Object(i.b)(s))return{};const n=Object(c.b)(s)?s.belongsTo.id:s.subredditId;return{post:u.post(e,s.id),subreddit:u.subredditById(e,n),...x(e,t)}},g=e=>t=>({...p(t),...f(t,e)}),E=e=>t=>({...h(t),source:"global",action:o.c.VIEW,noun:n.SUBREDDIT_HOVERCARD,subreddit:u.subredditByName(t,e),screen:u.screen(t)}),_=(e,t)=>s=>({...h(s),source:r.DISCOVERY_UNIT,action:o.c.VIEW,noun:n.ITEM_POST,post:u.post(s,t),subreddit:u.subredditByName(s,e),screen:u.screen(s)}),y=(e,t)=>s=>({...h(s),source:r.DISCOVERY_UNIT,action:o.c.CLICK,noun:n.ITEM_POST,post:u.post(s,t),subreddit:u.subredditByName(s,e),screen:u.screen(s)}),v=e=>t=>({...h(t),subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:o.c.CLICK,noun:n.HEADER_SUBREDDIT}),O=e=>t=>({...h(t),subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:o.c.CLICK,noun:n.HEADER_SUBREDDIT_SUBSCRIBE}),j=e=>t=>({...h(t),subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:o.c.CLICK,noun:n.HEADER_SUBREDDIT_UNSUBSCRIBE})},"./src/reddit/icons/fonts/Archived/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/fonts/helpers.tsx"),i=s("./src/reddit/icons/fonts/commonStyles.m.less"),c=s.n(i);t.a=e=>r.a.createElement("i",{className:Object(o.a)(Object(a.b)("archived"),c.a.archivedIcon,e.className),id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.a.createElement(a.a,null,e.desc))},"./src/reddit/icons/fonts/Lock/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),o=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/fonts/helpers.tsx"),i=s("./src/reddit/icons/fonts/commonStyles.m.less"),c=s.n(i);t.a=e=>r.a.createElement("i",{className:Object(o.a)(Object(a.b)("lock"),c.a.lockIcon,e.className),id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.a.createElement(a.a,null,e.desc))},"./src/reddit/icons/svgs/Automoderator/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n);t.a=e=>r.a.createElement("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M16,2H4A2,2,0,0,0,2,4V16a2,2,0,0,0,2,2H16a2,2,0,0,0,2-2V4A2,2,0,0,0,16,2ZM5.5,15.5h-1v-3h1Zm2,0h-1v-3h1ZM6,9A2,2,0,1,1,8,7,2,2,0,0,1,6,9Zm3.5,6.5h-1v-3h1Zm2,0h-1v-3h1Zm2,0h-1v-3h1Zm2,0h-1v-3h1ZM14,9a2,2,0,1,1,2-2A2,2,0,0,1,14,9Z"}))},"./src/reddit/icons/svgs/Crosspost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}t.a=e=>r.a.createElement("svg",o({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),r.a.createElement("path",{d:"M9.06,8.64c1.12-1.26,2.2-2.45,4.44-2.6V7.5a1,1,0,0,0,.6.92,1,1,0,0,0,.41.09,1,1,0,0,0,.67-.26l3.16-2.9a.5.5,0,0,0,0-.74L15.18,1.7a1,1,0,0,0-1.68.74V4c-3.14.17-4.69,1.88-5.93,3.28C6.58,8.42,6,9,5,9H2a1,1,0,0,0,0,2H5C6.93,11,8,9.82,9.06,8.64Z"}),r.a.createElement("path",{d:"M15.18,11.76a1,1,0,0,0-1.68.74V14c-2.23-.16-3.29-1.32-4.39-2.56-.21-.24-.43-.48-.66-.72a5.63,5.63,0,0,1-1.77,1.06,13.34,13.34,0,0,1,.94,1A7.85,7.85,0,0,0,13.5,16v1.59a1,1,0,0,0,.6.92,1,1,0,0,0,.41.09,1,1,0,0,0,.67-.26l3.16-2.9a.5.5,0,0,0,0-.74Z"}))},"./src/reddit/selectors/subredditMention.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"c",(function(){return l})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return m}));var n=s("./src/reddit/constants/experiments.ts"),r=s("./src/reddit/featureFlags/index.ts"),o=s("./src/reddit/helpers/chooseVariant/index.ts"),a=s("./src/reddit/selectors/subreddit.ts");const i=e=>r.d.subredditMentionD2xExperiment(e),c=e=>{return Object(o.c)(e,{experimentEligibilitySelector:i,experimentName:n.Lc})||""},d=e=>{const t=c(e);return t===n.Pc.SmIcon||t===n.Pc.SmIconHc},l=(e,{subredditName:t})=>{return!!e.subreddits.api.models.pending[t]},u=(e,{subredditName:t})=>{return!!e.subreddits.api.models.error[t]},m=(e,{subredditName:t})=>{const s=Object(a.W)(e,{subredditName:t});return(s&&s.postIds||[]).slice(0,2)}}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/CollectionCommentsPage~CommentsPage~ModerationPages~PostCreation~ProfileComments~ProfileOverview~Pro~2e044255.18541d65d3d3a913af0d.js.map

}
/*
     FILE ARCHIVED ON 01:43:38 Feb 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:11:18 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.083
  exclusion.robots.policy: 0.072
  cdx.remote: 0.136
  esindex: 0.014
  LoadShardBlock: 151.316 (6)
  PetaboxLoader3.datanode: 139.696 (8)
  load_resource: 147.03 (2)
  PetaboxLoader3.resolve: 93.974 (2)
*/