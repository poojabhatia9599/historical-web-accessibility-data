var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["Governance~Reddit"],{"./assets/fonts/NotoMono/font.less":function(e,t,r){},"./node_modules/@r/frames/compiled.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=arguments,s=".*",n=".postMessage",a={targetOrigin:"*"},c=/\..+$/;function o(e){return new RegExp("\\.(?:"+e.join("|")+")$")}function d(e){return new RegExp("^http(s)?:\\/\\/"+e.join("|")+"$","i")}var i=[s],u=d(i),l=[n],p=o(l),b={},f=!1;function y(t,r,s){e.addEventListener?e.addEventListener(t,r,s):e.attachEvent&&e.attachEvent("on"+t,r)}function m(t,r){e.removeEventListener?e.removeEventListener(t,r):e.detachEvent&&e.detachEvent("on"+t,r)}function E(e){return/\*/.test(e)}var O=t.postMessage=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c.test(t)||(t+=n);var o=s;Object.keys(a).forEach((function(e){o[e]=a[e]})),e.postMessage(JSON.stringify({type:t,data:r,defaultedOptions:o}),o.targetOrigin)},_=t.receiveMessage=function(e,t,r,s){"string"==typeof e&&(s=r,r=t,t=e,e=null),s=s||void 0;var n=function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];e&&e!==t.source&&e.contentWindow!==t.source||r.apply(s,[t].concat(a))};return y(t,n),{off:function(){m(t,n)}}},h=(t.receiveMessageOnce=function(e,t,s,n){var a=_(e,t,(function(){s&&s.apply(void 0,r),a.off()}),n);return a},t.removePostMessageOrigin=function(e){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),u=d(i))}),I=e.CustomEvent;if("undefined"!=typeof window&&"function"!=typeof I){var g={bubbles:!1,cancelable:!1,detail:void 0};(I=function(e,t){t=t||g;var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}).prototype=e.Event.prototype}t.addPostMessageOrigin=function(e){E(e)?i=[s]:-1===i.indexOf(e)&&(h(s),i.push(e),u=d(i))};function S(t){if(t.origin===e.location.origin||u.test(t.origin)||"null"===t.origin){var r={};try{r=JSON.parse(t.data)}catch(t){}var s=r.type;if(p.test(s)){var n=s.split(".",2)[1];if(b[n])b[n].targets.forEach((function(e){return O(e,s,r.data,r.options)}));var a=new I(s,{detail:r.data});a.source=t.source,e.dispatchEvent(a)}}}var D=t.listen=function(e){-1===l.indexOf(e)&&(l.push(e),p=o(l)),f||(y("message",S),f=!0)};t.stopListening=function(e){var t=l.indexOf(e);-1!==t&&(l.splice(t,1),l.length?p=o(l):(m("message",S),f=!1))},t.proxy=function(e,t){D(e),Array.isArray(t)||(t=[t]);var r=b[e];r?r.targets=[].concat(r.targets,t):r={targets:t},b[e]=r}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/isEqualWith.js":function(e,t,r){var s=r("./node_modules/lodash/_baseIsEqual.js");e.exports=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?s(e,t,void 0,r):!!n}},"./node_modules/lodash/negate.js":function(e,t){var r="Expected a function";e.exports=function(e){if("function"!=typeof e)throw new TypeError(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},"./node_modules/lodash/omitBy.js":function(e,t,r){var s=r("./node_modules/lodash/_baseIteratee.js"),n=r("./node_modules/lodash/negate.js"),a=r("./node_modules/lodash/pickBy.js");e.exports=function(e,t){return a(e,n(s(t)))}},"./node_modules/lodash/union.js":function(e,t,r){var s=r("./node_modules/lodash/_baseFlatten.js"),n=r("./node_modules/lodash/_baseRest.js"),a=r("./node_modules/lodash/_baseUniq.js"),c=r("./node_modules/lodash/isArrayLikeObject.js"),o=n((function(e){return a(s(e,1,c,!0))}));e.exports=o},"./node_modules/lodash/xorWith.js":function(e,t,r){var s=r("./node_modules/lodash/_arrayFilter.js"),n=r("./node_modules/lodash/_baseRest.js"),a=r("./node_modules/lodash/_baseXor.js"),c=r("./node_modules/lodash/isArrayLikeObject.js"),o=r("./node_modules/lodash/last.js"),d=n((function(e){var t=o(e);return t="function"==typeof t?t:void 0,a(s(e,c),void 0,t)}));e.exports=d},"./node_modules/ts-error/lib/cjs.js":function(e,t,r){"use strict";t.__esModule=void 0,t.__esModule=!0;var s=r("./node_modules/ts-error/lib/helpers.js"),n=s.setPrototypeOf,a=s.getPrototypeOf,c=s.defineProperty,o=s.objectCreate,d="[object Error]"===(new Error).toString(),i="";function u(e){var t,r=this.constructor,s=r.name||(null===(t=r.toString().match(/^function\s*([^\s(]+)/))?i||"Error":t[1]),o="Error"===s,l=o?i:s,p=Error.apply(this,arguments);if(n(p,a(this)),!(p instanceof r&&p instanceof u)){p=this;Error.apply(this,arguments),c(p,"message",{configurable:!0,enumerable:!1,value:e,writable:!0})}if(c(p,"name",{configurable:!0,enumerable:!1,value:l,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(p,o?u:r),void 0===p.stack){var b=new Error(e);b.name=p.name,p.stack=b.stack}return d&&c(p,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(void 0===this.message?"":": "+this.message)},writable:!0}),p}i=u.name||"ExtendableError",u.prototype=o(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),t.ExtendableError=u,t.default=t.ExtendableError},"./node_modules/ts-error/lib/helpers.js":function(e,t,r){"use strict";t.__esModule=void 0,t.__esModule=!0;var s="function"==typeof Object.setPrototypeOf,n="function"==typeof Object.getPrototypeOf,a="function"==typeof Object.defineProperty,c="function"==typeof Object.create,o="function"==typeof Object.prototype.hasOwnProperty;t.setPrototypeOf=function(e,t){s?Object.setPrototypeOf(e,t):e.__proto__=t};t.getPrototypeOf=function(e){return n?Object.getPrototypeOf(e):e.__proto__||e.prototype};var d=!1;t.defineProperty=function e(t,r,s){if(a&&!d)try{Object.defineProperty(t,r,s)}catch(n){d=!0,e(t,r,s)}else t[r]=s.value};var i=function(e,t){return o?e.hasOwnProperty(e,t):void 0===e[t]};t.hasOwnProperty=i;t.objectCreate=function(e,t){if(c)return Object.create(e,t);var r=function(){};r.prototype=e;var s=new r;if(void 0===t)return s;if("null"==typeof t)throw new Error("PropertyDescriptors must not be null.");if("object"==typeof t)for(var n in t)i(t,n)&&(s[n]=t[n].value);return s}},"./src/graphql/operations/BadgeIndicators.json":function(e){e.exports=JSON.parse('{"id":"712476d48c90"}')},"./src/graphql/operations/CrowdControlLevelInfo.json":function(e){e.exports=JSON.parse('{"id":"975a7920607d"}')},"./src/graphql/operations/FetchBlockedRedditorsInfo.json":function(e){e.exports=JSON.parse('{"id":"1e9183c00f76"}')},"./src/graphql/operations/FetchSubredditStreamingModSettings.json":function(e){e.exports=JSON.parse('{"id":"df4f7fe92d1f"}')},"./src/graphql/operations/GetPostRequirements.json":function(e){e.exports=JSON.parse('{"id":"4231b7734ef9"}')},"./src/graphql/operations/GetSubredditChatSettings.json":function(e){e.exports=JSON.parse('{"id":"63d6a697b823"}')},"./src/graphql/operations/OtherDiscussions.json":function(e){e.exports=JSON.parse('{"id":"7fc3f75ce98a"}')},"./src/graphql/operations/PostFeedAndOtherDiscussions.json":function(e){e.exports=JSON.parse('{"id":"90defcf94579"}')},"./src/graphql/operations/SubredditPosts.json":function(e){e.exports=JSON.parse('{"id":"f90184fd040d"}')},"./src/graphql/operations/SubredditTopContent.json":function(e){e.exports=JSON.parse('{"id":"ef4cb19b5c40"}')},"./src/graphql/operations/SubredditTypeaheadSearch.json":function(e){e.exports=JSON.parse('{"id":"20edc5ee12df"}')},"./src/graphql/operations/SubredditsPosts.json":function(e){e.exports=JSON.parse('{"id":"3785f4aa83f3"}')},"./src/graphql/operations/UpdatePostRequirements.json":function(e){e.exports=JSON.parse('{"id":"8732ab4560ce"}')},"./src/graphql/operations/UpdateSubredditChatSettings.json":function(e){e.exports=JSON.parse('{"id":"bdb05b8c7a65"}')},"./src/graphql/operations/UpdateSubredditStreamingModSettings.json":function(e){e.exports=JSON.parse('{"id":"1f690708b8b1"}')},"./src/graphql/operations/UserDataExportEligibility.json":function(e){e.exports=JSON.parse('{"id":"3817c69d7a39"}')},"./src/graphql/operations/VerifyRecaptchaToken.json":function(e){e.exports=JSON.parse('{"id":"c1242f999b6c"}')},"./src/lib/addAllowQuarantinedParam/index.ts":function(e,t,r){"use strict";var s=r("./src/lib/addQueryParams/index.ts");t.a=e=>Object(s.a)(e,{allow_quarantined:!0})},"./src/lib/asyncActions/index.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return d}));var s=r("./src/lib/makeActionCreator/index.ts");const n=e=>`${e}_REQUESTED`,a=e=>`${e}_SUCCEEDED`,c=e=>`${e}_FAILED`;function o(e){const t=n(e),r=a(e),o=c(e);return{requestedActionType:t,requested:Object(s.a)(t),succeededActionType:r,succeeded:Object(s.a)(r),failedActionType:o,failed:Object(s.a)(o)}}var d;!function(e){e[e.New=0]="New",e[e.Pending=1]="Pending",e[e.Succeeded=2]="Succeeded",e[e.Failed=3]="Failed"}(d||(d={}));const i=(e,t,r)=>(s=d.New,n)=>{switch(n.type){case e:return s===d.New?d.Pending:s;case t:return s===d.Pending?d.Succeeded:s;case r:return s===d.Pending?d.Failed:s;default:return s}}},"./src/lib/forceHttps/index.ts":function(e,t,r){"use strict";t.a=function(e){return e.startsWith("http")?e.replace(/^http:\/\//i,"https://"):`https://${e}`}},"./src/lib/makeLinkedPostsListingKey/index.ts":function(e,t,r){"use strict";t.a=e=>{return`linkedPosts--[post:'${e}']`}},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,r){"use strict";function s(e){let t="PostDraftPage";return e.draftId&&(t+=`--[draftId:${e.draftId}]`),t}r.d(t,"a",(function(){return s}))},"./src/lib/makeProductOfferKey/index.ts":function(e,t,r){"use strict";function s(e,t){return`${e}_${t}`}r.d(t,"a",(function(){return s}))},"./src/lib/omitKey/index.ts":function(e,t,r){"use strict";function s(e,t){if(t in e){const{[t]:r,...s}=e;return s}return e}r.d(t,"a",(function(){return s}))},"./src/lib/reCaptchaEnterprise/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));r("./src/lib/reCaptchaEnterprise/reCaptcha.css");var s=r("./src/config.ts"),n=r("./src/reddit/helpers/loadThirdPartyScript.ts");const a=e=>"object"==typeof e&&null!==e,c=()=>"undefined"!=typeof window&&a(window)&&a(window.grecaptcha)&&a(window.grecaptcha.enterprise),o=()=>c()?window.grecaptcha.enterprise:void 0,d=e=>`https://web.archive.org/web/20210201013819/https://www.google.com/recaptcha/enterprise.js?render=${e}`,i=e=>Object(n.a)(d(e),c),u=e=>new Promise(t=>e.ready(t));var l,p=r("./node_modules/ts-error/lib/cjs.js"),b=r.n(p);class MissingReCaptchaEnterpriseSiteKeyError_MissingReCaptchaEnterpriseSiteKeyError extends b.a{constructor(){super("reCaptcha Enterprise site key is not set")}}class ReCaptchaEnterpriseClientIsNotReadyError_ReCaptchaEnterpriseClientIsNotReadyError extends b.a{constructor(){super("reCaptcha Enterprise client is not ready")}}class ReCaptchaEnterpriseClientNotAvailableError_ReCaptchaEnterpriseClientNotAvailableError extends b.a{constructor(){super("reCaptcha Enterprise client is not available")}}!function(e){e.PageLoad="PAGE_LOAD"}(l||(l={}));var f=l;const y=new class{constructor(e=s.a.reCaptchaEnterprise.siteKey,t){this.siteKey=e,this.isReady=!1,this.hasSiteKey=()=>!!this.siteKey,this.hasClient=()=>!!this.instance,this.setInstance=e=>{e&&(this.instance=e,this.isReady=!1)},this.scriptUrl=()=>d(this.siteKey),this.ensureSiteKey=()=>{if(!this.hasSiteKey)throw new MissingReCaptchaEnterpriseSiteKeyError_MissingReCaptchaEnterpriseSiteKeyError},this.ensureClient=()=>{const e=this.instance;if(!e)throw new ReCaptchaEnterpriseClientNotAvailableError_ReCaptchaEnterpriseClientNotAvailableError;return e},this.waitUntilClientIsReady=async()=>{const e=this.ensureClient();return await u(e),this.isReady=!0,e},this.ensureClientIsReady=()=>{const e=this.ensureClient();if(!this.isReady)throw new ReCaptchaEnterpriseClientIsNotReadyError_ReCaptchaEnterpriseClientIsNotReadyError;return e},this.loadScript=async(e=!1)=>{if(!this.instance||e){this.ensureSiteKey(),await i(this.siteKey);const e=o();if(!e)throw new ReCaptchaEnterpriseClientNotAvailableError_ReCaptchaEnterpriseClientNotAvailableError;this.setInstance(e)}this.isReady||await this.waitUntilClientIsReady()},this.execute=async e=>{this.ensureSiteKey();const t=this.ensureClientIsReady(),r=await t.execute(this.siteKey,e);if(e.fast){return JSON.parse(r)[1]}return r},this.setInstance(t||o())}};t.b=y},"./src/lib/reCaptchaEnterprise/reCaptcha.css":function(e,t,r){},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("./src/lib/makeActionCreator/index.ts");const n="API_REQUEST_HEADERS__set";Object(s.a)(n)},"./src/reddit/actions/appBadgeIndicators/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return c}));const s="APP_BADGES__PENDING",n="APP_BADGES__LOADED",a="APP_BADGES__UPDATED",c="APP_BADGES__FAILED"},"./src/reddit/actions/appBadgeIndicators/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"d",(function(){return y})),r.d(t,"c",(function(){return m})),r.d(t,"b",(function(){return E}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/appBadgeIndicators/constants.ts"),a=r("./src/reddit/actions/tabBadging.ts"),c=r("./src/graphql/operations/BadgeIndicators.json"),o=r("./src/lib/makeGqlRequest/index.ts"),d=e=>Object(o.a)(e,{...c}),i=r("./src/reddit/models/Badge/index.ts");const u=Object(s.a)(n.c),l=Object(s.a)(n.b),p=Object(s.a)(n.d),b=Object(s.a)(n.a),f=({key:e,count:t})=>({[e]:{count:t,style:i.b.Numbered}}),y=(e,t,r)=>({[i.c.DirectMessages]:{count:e,style:i.b.Numbered},[i.c.ChatRooms]:{count:t,style:i.b.Numbered},[i.c.ChatRoomMentions]:{count:r,style:i.b.Numbered}}),m=()=>async(e,t,{gqlContext:r})=>{e(u());const s=await async function(e){const t=await d(e());if(t.ok&&t.body){return function(e){return e&&e.data&&e.data.badgeIndicators}(t.body)}}(r);s?(e(l(s)),e(Object(a.d)())):e(b())};const E=()=>async e=>{const t=f({key:i.c.MessageTab,count:0});e(p(t))}},"./src/reddit/actions/authorFlair.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var s=r("./src/lib/makeActionCreator/index.ts");const n="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",a=Object(s.a)(n)},"./src/reddit/actions/badge.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return d})),r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"i",(function(){return p})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"j",(function(){return y})),r.d(t,"k",(function(){return D})),r.d(t,"l",(function(){return T})),r.d(t,"m",(function(){return j}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/governance/errorToast.ts"),a=r("./src/reddit/endpoints/governance/badges.ts");const c="BADGE__BADGE_MODAL_OPENED",o="BADGE__BADGE_APPLICATION_SUCCESS",d="BADGE__BADGE_APPLICATION_FAILURE",i="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",u="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",l="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",p="BADGE__USER_BADGES_FETCH_SUCCESS",b="BADGE__USER_BADGES_FETCH_FAILURE",f="BADGE__USER_BADGES_FETCH_PENDING",y=Object(s.a)(c),m=Object(s.a)(o),E=Object(s.a)(d),O=(Object(s.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(s.a)(i)),_=Object(s.a)(u),h=Object(s.a)(l),I=Object(s.a)(p),g=Object(s.a)(b),S=Object(s.a)(f),D=({badgeIds:e,subredditId:t})=>async(r,s,{apiContext:c})=>{const o=s(),d=o.user.account;if(d){const s=(o.users.appliedBadges[d.id]||{})[t]||[],i=e.length?e[0]:s[0],u=!!e.length;r(m({badgeIds:e,subredditId:t,userId:d.id}));const l=await Object(a.a)(c(),t,i,u);l.ok||(r(E({badgeIds:e,subredditId:t,error:l.error,previousBadgeIds:s,userId:d.id})),Object(n.a)(r,l.error))}},T=({subredditId:e,userIds:t})=>async(r,s,{apiContext:n})=>{r(h({subredditId:e}));const c=await Object(a.b)(n(),e,t);c.ok?r(O({...c.body,subredditId:e})):r(_({subredditId:e,error:c.error}))},j=({subredditId:e})=>async(t,r,{apiContext:s})=>{const n=r().user.account;if(n){t(S({subredditId:e}));const r=await Object(a.c)(s(),e,n.id);r.ok?t(I({...r.body,subredditId:e})):t(g({subredditId:e,error:r.error}))}}},"./src/reddit/actions/blockedRedditors.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return p})),r.d(t,"f",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"g",(function(){return O}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/graphql/operations/FetchBlockedRedditorsInfo.json"),a=r("./src/lib/makeGqlRequest/index.ts");const c=(e,t)=>Object(a.a)(e,{...n,variables:t},{traceRequestName:"get_blocked_redditors_info"});var o=r("./src/reddit/selectors/blockedRedditors.ts");const d="BLOCKED_REDDITORS_LIST__ADD",i="BLOCKED_REDDITORS_LIST__REMOVE",u="BLOCKED_REDDITORS_LIST__FAILED",l="BLOCKED_REDDITORS_LIST__LOADED",p="BLOCKED_REDDITORS_LIST__PENDING",b=Object(s.a)(d),f=Object(s.a)(i),y=Object(s.a)(u),m=Object(s.a)(l),E=Object(s.a)(p),O=()=>async(e,t,{gqlContext:r})=>{const s=t(),n=Object(o.a)(s);if(Object(o.b)(s)||n.timestamp&&Date.now()-n.timestamp<36e6)return;let a=!1,d="";do{e(E());const t={after:d,pageSize:100},s=await c(r(),t);if(s&&s.ok){const{data:{identity:t}}=s.body;if(t&&t.blockedRedditorsInfo){const{pageInfo:r,edges:s}=t.blockedRedditorsInfo;if(e(m(s.map(e=>e.node.id))),r){const{hasNextPage:e,endCursor:t}=r;a=e,d=t||""}}else a=!1}else{a=!1;const t=s.error?s.error.type:"unknown error";e(y({message:t}))}}while(a)}},"./src/reddit/actions/chat/constants.ts":function(e,t,r){"use strict";var s;r.d(t,"a",(function(){return s})),function(e){e.anybody="Everyone",e.account_age_30_days="Accounts older than 30 days",e.nobody="Nobody"}(s||(s={}))},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"b",(function(){return E})),r.d(t,"d",(function(){return h}));var s,n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeActionCreator/index.ts"),c=r("./src/chat/endpoints/sendbird/index.ts"),o=r("./src/reddit/actions/tabBadging.ts"),d=r("./src/reddit/selectors/chat.ts"),i=r("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(s||(s={}));const{SYNC:u,REQUEST_FAILED:l,REQUEST_PENDING:p,REQUEST_SUCCESS:b}=s,f=Object(a.a)(u),y=Object(a.a)(l),m=Object(a.a)(p),E=Object(a.a)(b);let O;const _=5*n.db,h=()=>async(e,t,{apiContext:r})=>{const s=t();if(!Object(i.J)(s)||!Object(d.d)(s))return clearTimeout(O);O||e((()=>async(e,t,{apiContext:r})=>{const s=t(),{session:n}=s.user;if(n&&Object(i.J)(s)&&Object(d.d)(s)){e(m());const t=await Object(c.f)(r(),n);t&&t.ok?(e(E({basicChannelCount:t.body.unread_count||0,subredditChannelCount:t.body.subreddit_unread_count||0})),e(Object(o.d)())):e(y({error:t.error}))}})()),O=setTimeout(()=>{e(h())},_)}},"./src/reddit/actions/chat/userSettings.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return g}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/toaster.ts"),c=r("./src/config.ts"),o=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/lib/omitHeaders/index.ts"),u=r("./src/reddit/constants/headers.ts");var l=r("./src/reddit/selectors/telemetry.ts");var p=r("./src/reddit/models/Toast/index.ts"),b=r("./src/telemetry/index.ts"),f=r("./src/reddit/actions/chat/constants.ts");const y=Object(n.a)("USER_SETTINGS__FETCH_PENDING"),m=Object(n.a)("USER_SETTINGS__FETCH_FAILURE"),E="USER_SETTINGS__UPDATE_SUCCESS",O=Object(n.a)(E),_=()=>async(e,t,{apiContext:r})=>{e(y());const s=await(e=>Object(d.a)(Object(i.a)(e,[u.a]),{endpoint:`${c.a.sendbirdServiceUrl}/api/v1/chat/me/settings`,method:o.cb.GET}))(r());if(s.ok){const t={...s.body};e(O({invitePolicy:f.a[t.invite_policy]}))}else e(m(s.error))},h=Object(n.a)("USER_SETTINGS__SAVE_PENDING"),I=Object(n.a)("USER_SETTINGS__SAVE_FAILURE"),g=e=>async(t,r,{apiContext:n})=>{const y=r(),{invitePolicy:m}=e,E=Object.keys(f.a).find(e=>f.a[e]===m);if(E){t(h());const e=await(async(e,t)=>Object(d.a)(Object(i.a)(t,[u.a]),{endpoint:`${c.a.sendbirdServiceUrl}/api/v1/chat/me/settings`,method:o.cb.PUT,data:JSON.stringify({invite_policy:e})}))(E,n());if(Object(b.a)((e=>t=>({source:"settings_privacy",action:"save",noun:"receive_chat_invites",setting:{value:e,oldValue:e},...Object(l.defaults)(t)}))(E)(y)),e.ok){const e=f.a[E];t(O({invitePolicy:e})),t(Object(a.e)({kind:p.b.SuccessCommunity,text:s.fbt._("Changes saved",null,{hk:"4eTtdy"})}))}else t(I(e.error))}}},"./src/reddit/actions/claimgold.ts":function(e,t,r){"use strict";r.d(t,"e",(function(){return y})),r.d(t,"d",(function(){return m})),r.d(t,"i",(function(){return _})),r.d(t,"g",(function(){return h})),r.d(t,"j",(function(){return I})),r.d(t,"f",(function(){return g})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return D})),r.d(t,"a",(function(){return T})),r.d(t,"h",(function(){return j}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/toaster.ts"),c=r("./src/reddit/models/Toast/index.ts"),o=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/lib/omitHeaders/index.ts"),u=r("./src/reddit/constants/headers.ts"),l=r("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");var p=async(e,t)=>{const{code:r}=t,s={api_type:"json",code:r,raw_json:1};return Object(d.a)(Object(i.a)(e,[u.a]),{method:o.cb.POST,endpoint:`${e.apiUrl}/api/claimgold`,data:s}).then(e=>e.ok?{...e}:{...e,error:Object(l.a)(e)})},b=r("./src/reddit/helpers/genericServerError/index.ts"),f=r("./src/reddit/selectors/claimgold.ts");const y="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",m="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",E=Object(n.a)(y),O=Object(n.a)(m),_=()=>async(e,t)=>{const r=t();Object(f.b)(r)?e(O()):e(E())},h="CLAIMGOLD_UPDATE_CODE",I=Object(n.a)(h),g="CLAIM_GOLD__TRIGGER_LOADER",S="CLAIM_GOLD__CLAIM_GOLD_PENDING",D="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",T="CLAIM_GOLD__CLAIM_GOLD_FAILED",j=()=>async(e,t,{apiContext:r})=>{const s={code:t().claimGold.code};e(P());try{const t=await p(r(),s);t.error?e(R(t)):e(L())}catch(n){e(R(n))}},v=Object(n.a)(g),A=Object(n.a)(S),P=()=>async(e,t)=>{e(A()),window.setTimeout(()=>{t().claimGold.api.pending&&e(v())},2e3)},w=Object(n.a)(T),R=e=>async(t,r)=>{await t(w({...e,error:e.error||Object(b.a)()}));const s=r().claimGold.api.error;s&&t(Object(a.e)({kind:c.b.Error,duration:a.a,text:s}))},C=Object(n.a)(D),L=()=>async(e,t)=>{e(C()),e(Object(a.e)({kind:c.b.SuccessCommunity,text:s.fbt._("You have redeemed your gift code successfully",null,{hk:"18mkH2"})}))}},"./src/reddit/actions/comment/list.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return i}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/helpers/trackers/commentList.ts");const a="COMMENTLIST__MARKED_END",c="COMMENTLIST__UNMARKED_END",o=Object(s.a)(a),d=Object(s.a)(c),i=(e,t)=>async(r,s)=>{const a=s();e in a.profileCommentsPage.fetchedTokens?e in a.profileCommentsPage.commentIds?r(d({listingKey:e})):Object(n.a)(a,e):r(o({listingKey:e,listingName:t}))}},"./src/reddit/actions/commentsListTruncated/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s="COMMENTS_LIST__EXPANDED",n="COMMENTS_LIST__TRUNCATED"},"./src/reddit/actions/dismissedTruncationList/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s="DISMISSED_TRUNCATION_LIST__ADD_SUBREDDIT_ID"},"./src/reddit/actions/economics/banners/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));const s="ECONOMICS__BANNERS__DISMISSED_BANNERS_PENDING",n="ECONOMICS__BANNERS__DISMISSED_BANNERS_UPDATED",a="ECONOMICS__BANNERS__BANNER_DISMISSED",c="ECONOMICS__BANNERS__BANNER_UNDISMISSED"},"./src/reddit/actions/economics/me/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a}));const s="ECONOMICS__ME__ME_DATA_SUCCESS",n="ECONOMICS__ME__POINTS_COPY_REQUESTED",a="ECONOMICS__ME__POINTS_COPY_SUCCESS"},"./src/reddit/actions/economics/predictions/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a}));const s="FETCH_SUBREDDIT_TOP_PREDICTORS_SUCCESS",n="PREDICTION_VOTE_SUCCESS",a="PREDICTION_RESOLVE_SUCCESS"},"./src/reddit/actions/embedAndImage.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return o}));var s=r("./src/lib/makeActionCreator/index.ts");const n="EMBEDS__UNLOADABLE",a="EMBEDS__LOADABLE",c=Object(s.a)(n),o=Object(s.a)(a)},"./src/reddit/actions/emoji.ts":function(e,t,r){"use strict";r.d(t,"i",(function(){return S})),r.d(t,"d",(function(){return T})),r.d(t,"c",(function(){return j})),r.d(t,"h",(function(){return P})),r.d(t,"g",(function(){return w})),r.d(t,"f",(function(){return R})),r.d(t,"a",(function(){return k})),r.d(t,"q",(function(){return M})),r.d(t,"p",(function(){return G})),r.d(t,"l",(function(){return B})),r.d(t,"m",(function(){return q})),r.d(t,"j",(function(){return H})),r.d(t,"k",(function(){return V})),r.d(t,"b",(function(){return K})),r.d(t,"n",(function(){return $})),r.d(t,"e",(function(){return Q})),r.d(t,"o",(function(){return X}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./node_modules/lodash/forEach.js"),a=r.n(n),c=r("./src/lib/constants/index.ts"),o=r("./src/lib/makeApiRequest/index.ts"),d=r("./src/lib/omitHeaders/index.ts"),i=r("./src/lib/uploadToS3/index.ts"),u=r("./src/reddit/constants/headers.ts");const l=async(e,t)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emojis/all`,method:c.cb.GET,type:"json"}).then(e=>(e.ok&&(e.body=(e=>{let t;const r=a()(e,(e,r)=>("snoomojis"!==r&&(t=r),a()(e,(t,r)=>{e[r]={name:r,userFlairAllowed:t.user_flair_allowed,postFlairAllowed:t.post_flair_allowed,modFlairOnly:t.mod_flair_only,url:t.url}})));return{[t]:{emojis:r[t],snoomojis:r.snoomojis}}})(e.body)),e));var p=r("./src/lib/makeActionCreator/index.ts"),b=r("./src/reddit/actions/imageUploads.ts"),f=r("./src/reddit/actions/toaster.ts"),y=r("./src/reddit/helpers/getGenericUploadError.ts"),m=r("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),E=r("./src/reddit/helpers/media/index.ts"),O=r("./src/reddit/models/Emoji/index.ts"),_=r("./src/reddit/models/Image/index.tsx"),h=r("./src/reddit/models/Toast/index.ts"),I=r("./src/reddit/selectors/emojis.ts"),g=r("./src/reddit/selectors/subreddit.ts");const S="STRUCTURED_STYLES__NEW_EMOJI_ADDED",D=Object(p.a)(S),T="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",j="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",v=Object(p.a)(T),A=Object(p.a)(j),P="GET_ALL_EMOJIS_PENDING",w="GET_ALL_EMOJIS_LOADED",R="GET_ALL_EMOJIS_FAILED",C=Object(p.a)(P),L=Object(p.a)(w),N=Object(p.a)(R),k="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",x=Object(p.a)(k),U=e=>({text:s.fbt._("Failed to save emoji",null,{hk:"3i6FC2"}),buttonText:s.fbt._("Retry",null,{hk:"1XMjgA"}),buttonAction:G(e)}),M=({imageData:e,subredditId:t})=>async(r,s,n)=>{const a=s(),l=Object(g.S)(a,{subredditId:t}).name;r(Object(b.k)(e));const p=e.file,f=await Object(E.g)(p),y=await(async(e,t,r,s)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji_asset_upload_s3.json`,method:c.cb.POST,data:{filepath:r,mimetype:s}}))(n.apiContext(),l,p.name,f);let m=!1;if(y.ok){const t=await(async(e,t,r)=>Object(i.a)(r,t))(n.apiContext(),y.body.s3UploadLease,p);if(t.ok){if(!s().imageUploads[e.id])return Object(_.d)(e),!1;const n=decodeURIComponent(t.body.PostResponse.Location),a=y.body.websocketUrl,c=Object(_.n)(e,n,a);r(Object(b.j)(c)),m=!0}else{const s=Object(_.k)(e,t.error);r(Object(b.i)(s))}}else{const t=Object(_.k)(e,y.error);r(Object(b.i)(t))}return m},F=(e,t)=>async(r,s,n)=>{const{imageData:a,subredditId:i,emojiName:l,settings:p}=e,y=Object(m.a)(a.url),E=s(),O=Object(g.S)(E,{subredditId:i}).name,h=await(async(e,t,r,s,n)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji.json`,method:c.cb.POST,data:{s3_key:r,name:s,mod_flair_only:n.modFlairOnly,post_flair_allowed:n.postFlairAllowed,user_flair_allowed:n.userFlairAllowed}}))(n.apiContext(),O,y,l,p);if(!h.ok){const s=Object(_.k)(a,h.error);r(Object(b.i)(s)),r(Object(f.e)(U(e))),t&&t.close()}return h.ok},G=e=>async(t,r,s)=>{const{imageData:n,subredditId:a,emojiName:c,settings:o}=e;if(t(Object(b.k)(n)),!n.websocketUrl)return t(Object(f.e)({text:"Could not upload emoji"}));let d;const i=new WebSocket(n.websocketUrl);return i.onopen=async()=>{d=await F(e,i)(t,r,s)},i.onmessage=r=>{const s=JSON.parse(r.data);if("success"===s.type){d=!0;const e=s.payload.emoji_url,r=Object(_.o)(n,e);t(Object(b.l)(r));const i=Object(O.e)(c,r.url,a,o);t(D(i)),t(B(a))}else{const r=Object(y.a)(c),s=Object(_.k)(n,r);t(Object(b.i)(s)),t(Object(f.e)(U(e)))}i.close()},i.onerror=r=>{d=!1;const s=Object(y.a)(c),a=Object(_.k)(n,s);t(Object(b.i)(a)),t(Object(f.e)(U(e))),i.close()},d},B=e=>async(t,r,{apiContext:s})=>{const n=r();if(Object(I.a)(n,e))return;const a=Object(g.S)(n,{subredditId:e}).name;t(C(e));const c=await l(s(),a);if(c.ok){const r=c.body;t(L({subredditId:e,data:r}))}else t(N({subredditId:e,error:c.error}))},q=e=>async(t,r,{apiContext:s})=>{r().emojis[e]||await t(B(e))},H=(e,t)=>async(r,n,{apiContext:a})=>{const i=n(),l=Object(g.S)(i,{subredditId:t}).name,p=await(async(e,t,r)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/${r}/emoji/${t}`,method:c.cb.DELETE,type:"json"}))(a(),e,l);if(p.ok){r(v({emojiName:e,subredditId:t})),r(f.e({kind:h.b.SuccessCommunityGreen,text:s.fbt._("Emoji successfully deleted",null,{hk:"1zMXEe"})}))}else r(A(p.error)),r(f.e({kind:h.b.Error,text:s.fbt._("Something went wrong",null,{hk:"22u7ha"})}))},V=(e,t)=>async(r,n,{apiContext:a})=>{const i=n(),l=Object(g.S)(i,{subredditId:e}).name;if((await(async(e,t,r)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/enable_emojis_in_sr.json`,method:c.cb.POST,data:{subreddit:t,enable:r}}))(a(),l,t)).ok){r(x({subredditId:e,emojisEnabled:t}))}else r(f.e({kind:h.b.Error,text:s.fbt._("Something went wrong",null,{hk:"22u7ha"})}))},K="EMOJI_CUSTOM_SIZE_UPDATED",W=Object(p.a)(K),$=(e,t)=>async(r,n,{apiContext:a})=>{const i=n(),l=Object(g.S)(i,{subredditId:e}).name;(await(async(e,t,r)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji_custom_size`,method:c.cb.POST,data:r}))(a(),l,t)).ok?r(W({subredditId:e,emojiCustomSize:t})):r(f.e({kind:h.b.Error,text:s.fbt._("Try again later",null,{hk:"4dziDF"})}))},Q="EMOJI_PERMISSIONS_UPDATED",z=Object(p.a)(Q),X=(e,t,r,n)=>async(a,i,{apiContext:l})=>{const p=i(),b=Object(g.S)(p,{subredditId:n}).name;(await(async(e,t,r,s)=>Object(o.a)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/${r}/emoji_permissions.json`,method:c.cb.POST,data:{name:t,post_flair_allowed:s.postFlairAllowed,user_flair_allowed:s.userFlairAllowed,mod_flair_only:s.modFlairOnly}}))(l(),e,b,r)).ok?(a(z({emojiName:e,isSnoomoji:t,settings:r,subredditId:n})),a(f.e({kind:h.b.SuccessCommunityGreen,text:s.fbt._("Emoji permissions updated",null,{hk:"4b2RIU"})}))):a(f.e({kind:h.b.Error,text:s.fbt._("Try again later",null,{hk:"4dziDF"})}))}},"./src/reddit/actions/experiments.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c}));var s=r("./src/lib/makeActionCreator/index.ts");r("./src/reddit/endpoints/user/index.ts"),r("./src/reddit/models/Post/index.ts"),r("./src/reddit/selectors/telemetry.ts");const n="EXPERIMENTS__REQUEST_LOADED",a=(Object(s.a)("EXPERIMENTS__REQUEST_PENDING"),Object(s.a)("EXPERIMENTS__REQUEST_FAILED"),Object(s.a)(n),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),c=Object(s.a)(a)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return b})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return I}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/loadWithRetries/index.ts"),a=r("./src/lib/makeActionCreator/index.ts"),c=r("./src/reddit/actions/structuredStyles/index.ts"),o=r("./src/reddit/actions/toaster.ts"),d=r("./src/reddit/models/StructuredStyles/index.ts"),i=r("./src/reddit/models/Toast/index.ts"),u=r("./src/reddit/selectors/subreddit.ts");const l="STRUCTURED_STYLES__EXPORT_THEME_PENDING",p="STRUCTURED_STYLES__EXPORT_THEME_LOADED",b="STRUCTURED_STYLES__EXPORT_THEME_FAILED",f=Object(a.a)(l),y=Object(a.a)(p),m=Object(a.a)(b),E=Object(a.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),O=Object(a.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),_=Object(a.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),h=e=>async(t,a)=>{t(f());const c=a(),d=Object(u.S)(c,{subredditId:e}).name,l=c.structuredStyles.models[e],p=await Object(n.a)(()=>Promise.all([r.e("vendors~ExportTheme~ImportTheme"),r.e("ExportTheme")]).then(r.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))).then(e=>e.default),b=await p(l,d);b.ok?(t(y()),t(Object(o.e)({kind:i.b.SuccessMod,text:s.fbt._("Theme successfully exported",null,{hk:"24KHqI"})}))):(t(m(b.error)),t(Object(o.e)({kind:i.b.Error,text:s.fbt._("Sorry, theme failed to export",null,{hk:"2MC4jC"})})))},I=e=>async(t,a)=>{t(E());const u=await Object(n.a)(()=>Promise.all([r.e("vendors~ExportTheme~ImportTheme"),r.e("ImportTheme")]).then(r.bind(null,"./src/reddit/helpers/importTheme/index.ts"))).then(e=>e.default),l=await u(e);l.ok?(t(O()),t(Object(o.e)({kind:i.b.SuccessMod,text:s.fbt._("Theme successfully imported",null,{hk:"42FErS"})})),0!==Object.keys(l.attributes).length&&t(Object(c.d)(Object(d.j)(l.attributes)))):(t(_(l.error)),t(Object(o.e)({kind:i.b.Error,text:s.fbt._("Sorry, theme failed to import",null,{hk:"4BqW32"})})))}},"./src/reddit/actions/flairManagement/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s="FLAIR_PREVIEW_EXAMPLE_POST_CREATED",n="FLAIR_PREVIEW_EXAMPLE_POST_DELETED"},"./src/reddit/actions/frontpage/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"g",(function(){return o})),r.d(t,"f",(function(){return d})),r.d(t,"e",(function(){return i}));const s="PAGE__FRONTPAGE_PENDING",n="PAGE__FRONTPAGE_LOADED",a="PAGE__FRONTPAGE_FAILED",c="PAGE__FRONTPAGE_RELOADED",o="FRONTPAGE__MORE_POSTS_PENDING",d="FRONTPAGE__MORE_POSTS_LOADED",i="FRONTPAGE__MORE_POSTS_FAILED"},"./src/reddit/actions/googleOneTap/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return b})),r.d(t,"d",(function(){return f}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/login.ts"),a=r("./src/reddit/constants/experiments.ts"),c=r("./src/reddit/helpers/chooseVariant/index.ts"),o=r("./src/reddit/selectors/activeModalId.ts"),d=r("./src/reddit/selectors/experiments/googleOneTap.ts"),i=r("./src/reddit/selectors/user.ts");const u="GOOGLE_ONE_TAP_ENABLED",l=Object(s.a)(u),p=()=>async(e,t)=>{const r=t(),s=Object(i.J)(r),n=Object(d.b)(r);s&&Object(d.d)(n)&&e(l())},b=()=>async(e,t)=>{const r=t(),s=Object(i.J)(r),a=Object(d.b)(r),c=!!Object(o.a)(r);s||c||!Object(d.e)(a)&&!Object(d.d)(a)||e(Object(n.e)())},f=e=>{Object(c.d)(e,{experimentName:a.N})}},"./src/reddit/actions/googleQASchema/constants.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n}));const s="GOOGLE_QA_SCHEMA_ELIGIBILITY_FLAG__LOADED",n="GOOGLE_QA_SCHEMA_ELIGIBILITY_FLAG__FAILED"},"./src/reddit/actions/governance/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return i})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return f})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return O})),r.d(t,"q",(function(){return _})),r.d(t,"r",(function(){return h})),r.d(t,"s",(function(){return I})),r.d(t,"t",(function(){return g})),r.d(t,"u",(function(){return S})),r.d(t,"v",(function(){return D})),r.d(t,"w",(function(){return T})),r.d(t,"x",(function(){return j}));const s="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",n="GOVERNANCE__NEW_SUBREDDIT_SUGGESTED",a="GOVERNANCE__NEW_TOP_MOD_SUGGESTED",c="GOVERNANCE__OPT_OUT_MODAL_OPENED",o="POLL_VOTE_SUCCESS",d="GOVERNANCE__PROPOSAL_CREATION_FAILURE",i="GOVERNANCE__PROPOSAL_CREATION_PENDING",u="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",l="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",p="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",b="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",f="GOVERNANCE__PUBLIC_WALLET_INFO_FAILURE",y="GOVERNANCE__PUBLIC_WALLET_INFO_PENDING",m="GOVERNANCE__PUBLIC_WALLET_INFO_SUCCESS",E="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",O="GOVERNANCE__RELEASE_NOTES_SUCCESS",_="GOVERNANCE__TRANSFER_FAILURE",h="GOVERNANCE__TRANSFER_MODAL_OPENED",I="GOVERNANCE__TRANSFER_PENDING",g="GOVERNANCE__TRANSFER_SUCCESS",S="GOVERNANCE__WALLETS_FETCH_FAILURE",D="GOVERNANCE__WALLETS_FETCH_PENDING",T="GOVERNANCE__WALLETS_FETCH_SUCCESS",j="GOVERNANCE__WALLET_REGISTRATION_MODAL_OPENED"},"./src/reddit/actions/governance/errorToast.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("./src/reddit/actions/toaster.ts"),n=r("./src/reddit/helpers/governanceErrorText/index.ts"),a=r("./src/reddit/models/Toast/index.ts");function c(e,t){e(Object(s.e)({duration:5e3,kind:a.b.Error,text:Object(n.a)(t)}))}},"./src/reddit/actions/harbergerTax/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return i})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return p}));const s="HARBERGER_TAX__BANNER_MANAGE_MODAL_OPENED",n="HARBERGER_TAX__BANNER_PURCHASE_MODAL_OPENED",a="HARBERGER_TAX__BANNER_CRYPTO_MANAGE_MODAL_OPENED",c="HARBERGER_TAX__BANNER_CRYPTO_PURCHASE_MODAL_OPENED",o="HARBERGER_TAX__BANNER_PURCHASE_FAILURE",d="HARBERGER_TAX__BANNER_PURCHASE_PENDING",i="HARBERGER_TAX__BANNER_PURCHASE_SUCCESS",u="HARBERGER_TAX__BANNER_UPDATE_FAILURE",l="HARBERGER_TAX__BANNER_UPDATE_PENDING",p="HARBERGER_TAX__BANNER_UPDATE_SUCCESS"},"./src/reddit/actions/imageOCRAltText/constants.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n}));const s="IMAGE_OCR_ALT_TEXT__LOADED",n="IMAGE_OCR_ALT_TEXT__FAILED"},"./src/reddit/actions/inFeedChaining.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return I})),r.d(t,"d",(function(){return D})),r.d(t,"c",(function(){return T})),r.d(t,"a",(function(){return j})),r.d(t,"e",(function(){return A}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/telemetry/index.ts"),a=r("./src/lib/constants/index.ts"),c=r("./src/lib/makeActionCreator/index.ts"),o=r("./src/lib/makeListingKey/index.ts"),d=r("./src/reddit/actions/discoveryUnit.ts"),i=r("./src/reddit/actions/subreddit/similarSubreddit.ts"),u=r("./src/reddit/actions/subreddit/subredditPosts.ts"),l=r("./src/reddit/actions/toaster.ts"),p=r("./src/reddit/constants/inFeedChaining.ts"),b=r("./src/reddit/constants/page.ts"),f=r("./src/reddit/helpers/localStorage/index.ts"),y=r("./src/reddit/helpers/trackers/discoveryUnit.ts"),m=r("./src/reddit/models/Toast/index.ts"),E=r("./src/reddit/selectors/inFeedChaining.ts"),O=r("./src/reddit/selectors/posts.ts"),_=r("./src/reddit/selectors/subreddit.ts"),h=r("./src/reddit/selectors/experiments/econ/predictions.ts");const I="FEED_CHAINING__CHAIN_LOADED",g=Object(c.a)(I),S=e=>{const t=Date.now()-e,r=Object(f.x)();return Object.keys(r).filter(e=>r[e].when>=t).map(e=>r[e])},D=({listingName:e,listingKey:t,postId:r})=>async(s,c,l)=>{if(!r)return;const m=Object(O.bb)(c(),{postId:r});if(!m)return;const I=m.name.toLowerCase(),D=e===I;if(!(e===b.f||e===b.b||D))return;if(D)return void P(m,t,r)(s,c,l);0===S(a.hb).length&&Object(f.nb)(!1);let T=c();if(Object(E.d)(T,{listingKey:t,postId:r})||Object(E.a)(T).length>=p.a||Object(f.J)()||S(a.x).length>=p.a)return;const j=Object(O.C)(T,{listingKey:t,postId:r,predictionsEnabled:Object(h.c)(T)});if(j&&j.isSponsored)return;await s(Object(d.g)()),T=c();const v=Object(E.b)(T,{listingName:e});if(!v)return;if(!m||Object(E.e)(T,{subredditId:m.id})||(e=>{return S(a.x).some(t=>t.subredditId===e)})(m.id))return;const A={subredditIds:[m.id],count:p.b};await s(Object(i.b)(A));const w=Object(i.a)(A);T=c();const R=Object(_.v)(T,{key:w});0!==R.length?(await s((e=>async(t,r)=>{const s=a.Ub.DAY.toUpperCase(),n=e.filter(e=>{const t=Object(o.a)(e,a.P.TOP,{t:s}),n=r();return 0===Object(O.H)(n,{listingKey:t,predictionsEnabled:Object(h.c)(n)}).length});await t(Object(u.b)({first:1,range:s,sort:a.I.TOP,subredditNames:n}))})(R.map(e=>e.name))),T=c(),Object(E.f)(T,{postId:r}).length<p.c?Object(n.a)(Object(y.c)(v,"other",m)(T)):(Object(f.a)(r,m.id),Object(n.a)(Object(y.d)(v,m)(T)),s(g({listingKey:t,postId:r})))):Object(n.a)(Object(y.c)(v,"no_chaining",m)(T))},T="FEED_CHAINING__CHAIN_TOGGLED",j=(Object(c.a)(T),"FEED_CHAINING__CHAINING_TOGGLED"),v=Object(c.a)(j),A=()=>async e=>{Object(f.nb)(!0),e(v({isDismissed:!0})),e(Object(l.e)(Object(l.d)(s.fbt._("You'll see this less often.",null,{hk:"38LGcQ"}),m.b.Undo,s.fbt._("Undo",null,{hk:"4zFGDk"}),async()=>{Object(f.nb)(!1),e(v({isDismissed:!1}))})))},P=(e,t,r)=>async(e,t,r)=>{}},"./src/reddit/actions/inbox.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var s=r("./src/lib/makeActionCreator/index.ts");const n="INBOX__COUNT_UPDATE",a=Object(s.a)(n)},"./src/reddit/actions/isTrackingCrossposts.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/endpoints/post/index.tsx");const a="TRACKING_CROSSPOSTS_LOADED",c=Object(s.a)(a),o=e=>async(t,r,{gqlContext:s})=>{const a=await Object(n.e)(s(),{postId:e});if(a.ok){const{isTrackingCrossposts:r}=a.body.data.postInfoById;t(c({[e]:r}))}}},"./src/reddit/actions/leaderboard/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a}));const s="LEADERBOARD__LEADERBOARD_FETCH_FAILURE",n="LEADERBOARD__LEADERBOARD_FETCH_PENDING",a="LEADERBOARD__LEADERBOARD_FETCH_SUCCESS"},"./src/reddit/actions/linkedPosts/constants.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n}));const s="LINKED_POSTS__POSTS_LOADED",n="LINKED_POSTS__POSTS_FAILED"},"./src/reddit/actions/meta.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return o}));var s=r("./src/lib/makeActionCreator/index.ts");const n="META__GEO_CHANGED",a=Object(s.a)(n),c="META__META_RECEIVED",o=(Object(s.a)(c),"META__SET_LOCALE");Object(s.a)(o)},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return d}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/profile/index.ts"),a=(r("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),r("./src/reddit/models/User/index.ts")),c=r("./src/reddit/selectors/user.ts");const o="MOD_PERMS__REQUEST_LOADED",d=(Object(s.a)("MOD_PERMS__REQUEST_PENDING"),Object(s.a)(o),Object(s.a)("MOD_PERMS__REQUEST_FAILED"),()=>async(e,t)=>{const r=Object(c.i)(t());if(r){const t=Object(a.e)(r);await e(Object(n.b)(t))}})},"./src/reddit/actions/multireddit/constants.ts":function(e,t,r){"use strict";r.d(t,"q",(function(){return s})),r.d(t,"r",(function(){return n})),r.d(t,"s",(function(){return a})),r.d(t,"t",(function(){return c})),r.d(t,"u",(function(){return o})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return i})),r.d(t,"g",(function(){return u})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return p})),r.d(t,"h",(function(){return b})),r.d(t,"l",(function(){return f})),r.d(t,"m",(function(){return y})),r.d(t,"k",(function(){return m})),r.d(t,"n",(function(){return E})),r.d(t,"o",(function(){return O})),r.d(t,"p",(function(){return _})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return I})),r.d(t,"c",(function(){return g})),r.d(t,"A",(function(){return S})),r.d(t,"B",(function(){return D})),r.d(t,"z",(function(){return T})),r.d(t,"y",(function(){return j})),r.d(t,"v",(function(){return v})),r.d(t,"w",(function(){return A})),r.d(t,"x",(function(){return P})),r.d(t,"d",(function(){return w}));const s="MULTIREDDIT__MORE_POSTS_FAILED",n="MULTIREDDIT__MORE_POSTS_LOADED",a="MULTIREDDIT__MORE_POSTS_PENDING",c="MULTIREDDIT__MY_MULTIREDDITS_PENDING",o="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",d="MULTIREDDIT__CREATE_FAILURE",i="MULTIREDDIT__CREATE_PENDING",u="MULTIREDDIT__CREATE_SUCCESS",l="MULTIREDDIT__DELETE_PENDING",p="MULTIREDDIT__DELETE_SUCCESS",b="MULTIREDDIT__DELETE_FAILURE",f="MULTIREDDIT__DUPLICATE_PENDING",y="MULTIREDDIT__DUPLICATE_SUCCESS",m="MULTIREDDIT__DUPLICATE_FAILURE",E="MULTIREDDIT__EDIT_FAILURE",O="MULTIREDDIT__EDIT_PENDING",_="MULTIREDDIT__EDIT_SUCCESS",h="MULTIREDDIT__ADD_SUBREDDIT_FAILURE",I="MULTIREDDIT__ADD_SUBREDDIT_PENDING",g="MULTIREDDIT__ADD_SUBREDDIT_SUCCESS",S="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_PENDING",D="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_SUCCESS",T="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_FAILURE",j=10,v="MULTIREDDIT__REMOVE_SUBREDDIT_FAILURE",A="MULTIREDDIT__REMOVE_SUBREDDIT_PENDING",P="MULTIREDDIT__REMOVE_SUBREDDIT_SUCCESS";var w;!function(e){e.InvalidSrQuarantine="INVALID_SR_QUARANTINE",e.TooManySubreddits="MULTI_TOO_MANY_SUBREDDITS"}(w||(w={}))},"./src/reddit/actions/notificationSettingsLayout/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return i}));const s="NOTIFICATION_EMAIL_SETTINGS_LAYOUT__FAILED",n="NOTIFICATION_EMAIL_SETTINGS_LAYOUT__LOADED",a="NOTIFICATION_EMAIL_SETTINGS_LAYOUT__PENDING",c="NOTIFICATION_PUSH_SETTINGS_LAYOUT__FAILED",o="NOTIFICATION_PUSH_SETTINGS_LAYOUT__LOADED",d="NOTIFICATION_PUSH_SETTINGS_LAYOUT__PENDING",i="NOTIFICATION_SETTINGS_LAYOUT_UPDATED"},"./src/reddit/actions/notifications/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return d}));const s="PUSH__GET_PREFERENCES_PENDING",n="PUSH__GET_PREFERENCES_LOADED",a="PUSH__GET_PREFERENCES_FAILED",c="PUSH__SET_PREFERENCES_PENDING",o="PUSH__SET_PREFERENCES_LOADED",d="PUSH__SET_PREFERENCES_FAILED"},"./src/reddit/actions/notificationsInbox/constants.ts":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"g",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return d})),r.d(t,"f",(function(){return i}));const s="INBOX_NOTIFICATIONS__PENDING",n="INBOX_NOTIFICATIONS__LOADED",a="INBOX_NOTIFICATIONS__FAILED",c="INBOX_NOTIFS_SET_OVERFLOW_MENU_ID",o="INBOX_NOTIFICATIONS__REMOVE_NOTIFICATION",d="INBOX_NOTIFS__MARK_AS_READ",i="INBOX_NOTIFS__SET_EARLIER_DIVIDER_INDEX"},"./src/reddit/actions/nps.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return b})),r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return y})),r.d(t,"d",(function(){return h}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/config.ts"),a=r("./src/lib/constants/index.ts"),c=r("./src/lib/makeApiRequest/index.ts"),o=r("./src/lib/omitHeaders/index.ts"),d=r("./src/reddit/constants/headers.ts");var i=r("./node_modules/@r/frames/compiled.js"),u=r("./node_modules/lodash/debounce.js"),l=r.n(u),p=function(e){document.body.appendChild(function(e){let t;const r=l()((function(){t&&t.contentWindow&&i.postMessage(t.contentWindow,"resize.asknicely")}),500);return function(){return t=function(){const t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),i.listen("embedjail"),i.receiveMessage(t.contentWindow,"open.embedjail",(function(e){var s;s=e.detail,t.style.width=s.dimensions.width,t.style.height=s.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",r)})),i.receiveMessage(t.contentWindow,"close.embedjail",(function(e){t.parentElement.removeChild(t),i.stopListening("asknicely"),window.removeEventListener("resize",r),t=void 0})),window.addEventListener("message",(function(e){"https://web.archive.org/web/20210201013819/https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&i.postMessage(t.contentWindow,e.data+".asknicely")})),t}}(e)())};const b="NPS__URL_PENDING",f="NPS__URL_LOADED",y="NPS__URL_FAILED",m=Object(s.a)(b),E=Object(s.a)(f),O=Object(s.a)(y);let _=!1;const h=()=>async(e,t,r)=>{const s=t();if(s.nps.pending)return;if(_)return;e(m());const i=s.platform.currentPage&&s.platform.currentPage.queryParams.feature||"",u=!!s.user.account,l=await((e,t,r)=>Object(c.a)(Object(o.a)(e,[d.a]),{data:{feature:t,app_name:"web2x"},endpoint:`${r?n.a.oauthUrl:n.a.apiUrl}/api/jail/asknicely${r?"":".json"}`,method:a.cb.GET,traceRequestName:"get_nps_survey"}))(r.apiContext(),i,u);if(l.ok){const t=l.body;t.dest?(e(E(t)),p(t.dest),_=!0):e(O())}else e(O())}},"./src/reddit/actions/pages/appeal/constants.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n}));const s="APPEAL_PAGE_LOADED",n="APPEAL_PAGE_FAILED"},"./src/reddit/actions/pages/chatSettings.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return D})),r.d(t,"d",(function(){return T})),r.d(t,"e",(function(){return R})),r.d(t,"f",(function(){return C}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./node_modules/lodash/difference.js"),a=r.n(n),c=r("./src/telemetry/index.ts"),o=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeActionCreator/index.ts"),i=r("./src/lib/sentry/index.ts"),u=r("./src/reddit/actions/toaster.ts"),l=r("./src/graphql/operations/GetSubredditChatSettings.json"),p=r("./src/lib/makeGqlRequest/index.ts");var b=(e,t)=>Object(p.a)(e,{...l,variables:t}),f=r("./src/graphql/operations/UpdateSubredditChatSettings.json");var y=(e,t)=>Object(p.a)(e,{...f,variables:t}),m=r("./src/reddit/selectors/telemetry.ts"),E=r("./src/telemetry/models/Event.ts");var O=r("./src/reddit/models/ChatSettingsPage/index.ts"),_=r("./src/reddit/models/Toast/index.ts"),h=r("./src/reddit/selectors/chat.ts"),I=r("./src/reddit/selectors/chatSettingsPage.ts");const g="FETCH_CHAT_SETTINGS__LOADED",S="FETCH_CHAT_SETTINGS__FAILED",D="FETCH_CHAT_SETTINGS__PENDING",T="UPDATE_CHAT_SETTINGS__LOADED",j=Object(d.a)(g),v=Object(d.a)(S),A=Object(d.a)(D),P=Object(d.a)(T),w=e=>async(t,r)=>{const s={subredditId:e};return!!Object(I.b)(r(),s)||(t(A(s)),!1)},R=e=>async(t,r,{gqlContext:s})=>{const n={subredditId:e};if(await t(w(e)))return;let a=null;const c=await b(s(),n);if(c.ok){const t=c.body||{},s=t.data&&t.data.subredditInfoById,o=s&&s.chatSettings,d=!Object(h.c)(r(),n),i=Object(O.c)(o,e,d);a={...n,chatSettings:i}}if(a)t(j(a));else{const r=c.error||{type:o.E.UNKNOWN_ERROR};t(v({...n,error:r})),i.c.withScope(t=>{t.setExtra("info",{subredditId:e,responseBody:c.body,responseOk:c.ok}),i.c.captureMessage("Missing subreddit chat settings!")})}},C=(e,t,r)=>async(n,c,{gqlContext:d})=>{if(await n(w(e)))return[];let i,l=!1;const p=a()(r,t),b=Object(O.b)(p);if(b&&b.length){const t={subredditId:e,subredditChatSettings:b},r=await y(d(),{input:t});if(r.ok){const e=(r.body||{}).data.updateSubredditChatSettings;l=!!e&&e.ok}else i=r&&r.error||{type:o.E.UNKNOWN_ERROR}}return l?(n(P({subredditId:e,chatSettings:r})),n(N(t,p)),r):(i&&n(v({subredditId:e,error:i})),n(P({subredditId:e,chatSettings:t})),n(Object(u.e)({duration:u.a,id:"CHAT_SETTING_UPDATE_ERROR",kind:_.b.Error,text:s.fbt._("Something went wrong",null,{hk:"3HpR6h"})})),t)},L={start_chatting_opt_out:(e,t,r)=>({source:E.b.Chat,action:E.a.OptOut,noun:"down_to_chat_subreddit",subreddit:Object(m.subreddit)(e),setting:{oldValue:t,value:r},...Object(m.defaults)(e)})},N=(e,t)=>async(r,s)=>{t.forEach(t=>{if(t&&t.settingId){const r=L[t.settingId],n=e.find(e=>e.settingId===t.settingId);if(r&&n){const e=r(s(),n.state,t.state);Object(c.a)(e)}}})}},"./src/reddit/actions/pages/multireddit/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));const s="PAGE__MULTIREDDIT_FEED_PENDING",n="PAGE__MULTIREDDIT_FEED_LOADED",a="PAGE__MULTIREDDIT_FEED_FAILED"},"./src/reddit/actions/pages/postCreation.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"PAGE_PENDING",(function(){return k})),r.d(t,"PAGE_LOADED",(function(){return x})),r.d(t,"PAGE_FAILED",(function(){return U})),r.d(t,"pagePending",(function(){return M})),r.d(t,"pageLoaded",(function(){return F})),r.d(t,"pageFailed",(function(){return G})),r.d(t,"postCreationPageDataRequested",(function(){return q})),r.d(t,"postCreationPageRequested",(function(){return H}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/react-router-redux/es/index.js"),n=r("./src/lib/constants/index.ts"),a=r("./src/lib/filterQueryParams/index.ts"),c=r("./src/lib/isFakeSubreddit/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/lib/makePostCreationPageKey/index.ts"),i=r("./src/lib/pageTitle.ts"),u=r("./src/reddit/actions/economics/helpers/async.ts"),l=r("./src/reddit/actions/externalAccount.ts"),p=r("./src/reddit/actions/gold/powerups.ts"),b=r("./src/reddit/actions/platform.ts"),f=r("./src/reddit/actions/post.ts"),y=r("./src/reddit/actions/postCreation/general.ts"),m=r("./src/reddit/actions/postRequirements/index.ts"),E=r("./src/reddit/actions/profile/index.ts"),O=r("./src/reddit/actions/subreddit.ts"),_=r("./src/reddit/actions/subredditDuplicates.ts"),h=r("./src/config.ts"),I=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),S=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),D=r("./src/reddit/helpers/timeApiRoute/index.ts"),T=r("./src/reddit/helpers/trackers/postComposer.ts"),j=r("./src/reddit/models/User/index.ts"),v=r("./src/reddit/selectors/postCollection.ts"),A=r("./src/reddit/selectors/postCreations.ts"),P=r("./src/reddit/selectors/postRequirements.ts"),w=r("./src/reddit/selectors/posts.ts"),R=r("./src/reddit/selectors/profile.ts"),C=r("./src/reddit/selectors/subreddit.ts"),L=r("./src/reddit/selectors/user.ts");const N=e=>{const t=e.platform.currentPage;let r="Reddit";if(t&&t.urlParams.subredditName){const{subredditName:s}=t.urlParams,n=Object(C.A)(e,{subredditName:s});n&&(r=n.name)}return Object(i.i)(r)},k="POST_CREATION__PAGE_PENDING",x="POST_CREATION__PAGE_LOADED",U="POST_CREATION__PAGE_FAILED",M=Object(o.a)(k),F=Object(o.a)(x),G=Object(o.a)(U),B=()=>async(e,t)=>{const r=t(),s=Object(A.a)(r);s!==Object(A.gb)(r)&&e(Object(y.g)({submissionType:s}))},q=e=>async(t,r,s)=>{const{collectionId:a,profileName:o,subredditName:i}=e,u=Object(d.a)(e),b=r(),f=b.creations.api.page.pending[u],y=b.creations.api.page.fetched[u],_=b.creations.api.page.error[u];if(f)return;if(y&&!_)return void t(B());const S=[];t(M({key:u}));let T=i;!i&&o&&(T=`u_${o}`),S.push(((e,t)=>Object(I.a)(e,{method:n.cb.GET,endpoint:Object(g.a)(`${h.a.gatewayUrl}/desktopapi/v1/submitpage`),data:{subreddit:t.subredditName,collection_id:t.collectionId}}))(s.apiContext(),{subredditName:T,collectionId:a})),o&&(S.push(t(E.d(o))),S.push(t(E.b(o))));const[v]=await Object(D.a)("postCreation",()=>Promise.all(S));if(v.ok){const e=v.body,{posts:s={},subredditAboutInfo:n}=e;if(t(F({key:u,meta:b.meta,...e,posts:s})),!Object(L.J)(r()))return;if(n){const e=Object.keys(n)[0];await t(Object(p.f)(e,{fullData:!0,includeIdentity:!1}))}t(B());const a=[];a.push(t(l.o()));const o=Object(L.i)(r());if(o&&o.hasUserProfile&&a.push(t(E.d(Object(j.e)(o)))),i&&!Object(c.a)(i)){a.push(t(O.o(i))),!!Object(P.b)(r(),{subredditName:i})||a.push(t(Object(m.a)(i)))}await Promise.all(a)}else t(G({error:v.error,key:u}))},H=e=>async(t,r)=>{const{subredditName:c,profileName:o}=e.params,d=e.queryParams,i=d.collection;if(await t(q({collectionId:i,profileName:o,subredditName:c})),!Object(L.J)(r()))return void Object(S.a)(t,r());let l;if(c?(l=Object(C.A)(r(),{subredditName:c}),await t(Object(u.a)({subredditName:c}))):o&&(l=Object(R.j)(r(),{profileName:o})),d.source_id)await t(((e,t)=>async(r,s)=>{const{subredditName:n,profileName:a}=e,c=[];let o;n?o=Object(C.F)(s(),n):a&&(o=Object(L.db)(s(),{userName:a})),o&&c.push(r(Object(_.b)(o,t))),c.push(r(Object(f.K)(t))),await Promise.all(c);const d=Object(w.f)(s(),{postId:t});r(Object(y.k)({postId:t,postTitle:d?d.title:""}))})(e.params,d.source_id));else if(i){const n=Object(v.q)(r(),{collectionId:i});l&&n&&n.subredditId===l.id||t(Object(s.c)(Object(a.a)(e.url,["collection"])))}((e,t)=>{const r=e.platform.lastPage;t&&r&&r.meta&&r.meta.name===n.Db.POST_CREATION&&T.x(e)})(r(),c),t(b.l({title:N(r())}))}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"PAGE_PENDING",(function(){return b})),r.d(t,"PAGE_LOADED",(function(){return f})),r.d(t,"PAGE_FAILED",(function(){return y})),r.d(t,"pagePending",(function(){return m})),r.d(t,"pageLoaded",(function(){return E})),r.d(t,"pageFailed",(function(){return O})),r.d(t,"postDraftPageDataRequested",(function(){return _})),r.d(t,"postDraftRequested",(function(){return h}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/lib/makePostDraftPageKey/index.ts"),a=r("./src/reddit/actions/profile/index.ts"),c=r("./src/config.ts"),o=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=r("./src/reddit/models/RichTextJson/addRTJParam.ts"),l=r("./src/reddit/endpoints/post/draft/helpers.ts"),p=r("./src/reddit/helpers/timeApiRoute/index.ts");const b="POST_DRAFT__PAGE_PENDING",f="POST_DRAFT__PAGE_LOADED",y="POST_DRAFT__PAGE_FAILED",m=Object(s.a)(b),E=Object(s.a)(f),O=Object(s.a)(y),_=e=>async(t,r,s)=>{const{draftId:b,profileName:f}=e,y=Object(n.a)(e),m=r(),_=m.creations.api.page.pending[y],h=m.creations.api.page.fetched[y],I=m.creations.api.page.error[y];if(_||h&&!I||!b)return;t(a.d(f));const g=await Object(p.a)("postDraft",()=>((e,t,r)=>Object(d.a)(e,{endpoint:Object(i.a)(Object(u.a)(`${c.a.gatewayUrl}/desktopapi/v1/draftpreviewpage/${r}/${t}`)),method:o.cb.GET}))(s.apiContext(),b,f));if(g.ok){const e=g.body;e.drafts[b].kind=Object(l.b)(e.drafts[b].kind),t(E({...e,key:y}))}else t(O({error:g.error,key:y}))},h=e=>async(t,r,s)=>{await t(_(e.params))}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"PROFILE_MOD_SETTINGS_LOADED",(function(){return u})),r.d(t,"profileModSettingsRequested",(function(){return p}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/preferences.ts"),a=r("./src/reddit/actions/profile/index.ts"),c=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),o=r("./src/reddit/helpers/trackers/screenview.ts"),d=r("./src/reddit/models/User/index.ts"),i=r("./src/reddit/selectors/user.ts");const u="PAGE__PROFILE_MOD_SETTINGS_LOADED",l=Object(s.a)(u),p=e=>async(t,r)=>{const s=[t(n.z()),t(Object(a.d)(e.params.profileName))];await Promise.all(s);const u=Object(i.i)(r());u?(await t(Object(a.b)(Object(d.e)(u))),t(l()),Object(o.o)(r(),!0)):Object(c.a)(t,r())}},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"PROFILE_POSTS_PENDING",(function(){return A})),r.d(t,"PROFILE_POSTS_LOADED",(function(){return P})),r.d(t,"PROFILE_POSTS_FAILED",(function(){return w})),r.d(t,"profilePostsPending",(function(){return R})),r.d(t,"profilePostsLoaded",(function(){return C})),r.d(t,"profilePostsFailed",(function(){return L})),r.d(t,"profilePostsRequested",(function(){return N})),r.d(t,"MORE_POSTS_PENDING",(function(){return k})),r.d(t,"MORE_POSTS_LOADED",(function(){return x})),r.d(t,"MORE_POSTS_FAILED",(function(){return U})),r.d(t,"morePostsPending",(function(){return M})),r.d(t,"morePostsLoaded",(function(){return F})),r.d(t,"morePostsFailed",(function(){return G})),r.d(t,"morePostsRequested",(function(){return B}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/lodash/pick.js"),n=r.n(s),a=r("./src/lib/makeActionCreator/index.ts"),c=r("./src/lib/makeListingKey/index.ts"),o=r("./src/reddit/actions/contentGate.ts"),d=r("./src/reddit/actions/externalAccount.ts"),i=r("./src/reddit/actions/moderatingSubreddits.ts"),u=r("./src/reddit/actions/pages/profileShared.ts"),l=r("./src/reddit/actions/pinnedPost.ts"),p=r("./src/reddit/actions/platform.ts"),b=r("./src/reddit/actions/profile/index.ts"),f=r("./src/reddit/actions/subreddit.ts"),y=r("./src/reddit/constants/errors.ts"),m=r("./src/reddit/constants/parameters.ts"),E=r("./src/reddit/contexts/PageLayer/index.tsx"),O=r("./src/config.ts"),_=r("./src/lib/addAllowQuarantinedParam/index.ts"),h=r("./src/lib/constants/index.ts"),I=r("./src/lib/makeApiRequest/index.ts"),g=r("./src/reddit/models/RichTextJson/addRTJParam.ts");const S=(e,t,r)=>Object(I.a)(e,{data:r,endpoint:Object(_.a)(Object(g.a)(`${O.a.gatewayUrl}/desktopapi/v1/user/${t}/posts`)),method:h.cb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?{...e,body:{...e.body,pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()}}:e);var D=r("./src/reddit/helpers/getTimeSortForListing/index.ts"),T=r("./src/reddit/helpers/timeApiRoute/index.ts"),j=r("./src/reddit/selectors/listings.ts"),v=r("./src/reddit/selectors/profile.ts");const A="PAGE__PROFILE_POSTS_PENDING",P="PAGE__PROFILE_POSTS_LOADED",w="PAGE__PROFILE_POSTS_FAILED",R=Object(a.a)(A),C=Object(a.a)(P),L=Object(a.a)(w),N=e=>async(t,r,s)=>{const{queryParams:a,params:O}=e,{sort:_,t:h}=Object(u.b)(a),{profileName:I}=O,g=Object(c.a)(`u_${I}`,_,a),A=r(),P=A.listings.postOrder.ids[g],w=Object(j.c)(A,{listingKey:g}),N=Object(j.d)(A,{listingKey:g});if(await t(b.d(I)),N||P&&!w){if(P){const e=Object(v.q)(r(),{profileName:I});t(p.l({title:e}))}return}const k={...n()(e.queryParams,[...m.l,...m.k,m.h]),layout:Object(E.N)(A,{}).toLowerCase(),sort:_,t:Object(D.a)(_,h)};t(R({key:g}));const x=await Object(T.a)("profilePosts",()=>S(s.apiContext(),I,k));if(!x.ok)return t(L({account:x.body.data?x.body.data.account:null,error:x.body.reason?{type:x.body.reason}:x.error,key:g})),x.body.reason===y.a.DeletedProfile&&t(Object(o.p)({profileName:I})),void t(p.m(x.status));const U=x.body;t(C({key:g,meta:r().meta,...U}));const M=Object(v.m)(r(),I),{pinned:F}=U;t(Object(l.h)({profileId:M,pinned:F})),await Promise.all([t(Object(u.c)(I)),t(Object(f.q)()),t(Object(i.b)()),t(d.o(I))])},k="PROFILE_POSTS__MORE_POSTS_PENDING",x="PROFILE_POSTS__MORE_POSTS_LOADED",U="PROFILE_POSTS__MORE_POSTS_FAILED",M=Object(a.a)(k),F=Object(a.a)(x),G=Object(a.a)(U),B=()=>async(e,t,{apiContext:r})=>{const s=t(),{currentPage:a}=s.platform;if(!a||!a.routeMatch)return;const{queryParams:o,params:d}=a.routeMatch.match,{sort:i,t:l}=Object(u.b)(o),{profileName:p}=d,b=Object(c.a)(`u_${p}`,i,o),f=Object(j.g)(s,{listingKey:b});if(!f)return;const y=Object(j.d)(s,{listingKey:b}),O=Object(j.e)(s,{listingKey:b,token:f.token});if(y||O)return;e(M({key:b,fetchedToken:f.token}));const _={after:f.token,dist:f.dist,sort:i,t:l,...n()(o,m.l),layout:Object(E.N)(s,{}).toLowerCase()},h=await S(r(),p,_),I=s.listings.postOrder.ids[b],g=h.body.postIds||[],D={...h.body,postIds:g.filter(e=>!I||!I.includes(e))};h.ok?(e(F({fetchedToken:f.token,key:b,meta:s.meta,...D})),await e(Object(u.c)(p))):e(G({account:h.body.data?h.body.data.account:null,error:h.error,fetchedToken:f.token,key:b}))}},"./src/reddit/actions/pages/report/constants.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return c}));const s="REPORT_PAGE__FAILED",n="REPORT_PAGE__PENDING",a="REPORT_PAGE__LOADED",c="REPORT_PAGE_INITIAL_REASON__SET"},"./src/reddit/actions/pages/subredditWiki/constants.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));const s="PAGE__SUBREDDIT_WIKI_PAGE_PENDING",n="PAGE__SUBREDDIT_WIKI_PAGE_LOADED",a="PAGE__SUBREDDIT_WIKI_PAGE_FAILED"},"./src/reddit/actions/pages/userDataRequest/index.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return p})),r.d(t,"d",(function(){return m}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/endpoints/me/index.ts"),a=r("./src/graphql/operations/UserDataExportEligibility.json"),c=r("./src/lib/makeGqlRequest/index.ts"),o=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),d=r("./src/reddit/selectors/user.ts"),i=r("./src/reddit/selectors/userDataRequest.ts");const u="USER_DATA_REQUEST_PAGE_LOADING",l="USER_DATA_REQUEST_PAGE_LOADED",p="USER_DATA_REQUEST_PAGE_FAILED",b=Object(s.a)(u),f=Object(s.a)(l),y=Object(s.a)(p),m=()=>async(e,t,{apiContext:r,gqlContext:s})=>{const u=t(),l=Object(d.i)(u),p=Object(i.b)(u);if(l&&p.success)return;e(b());const m=await Object(n.a)(r());if(!m.ok||!m.body)return void e(y(m.error));if(!m.body.account)return void Object(o.a)(e,u);const E=await(e=>Object(c.a)(e,{...a}))(s());if(!E.ok)return void e(y());const O=m.body,_=E.body;e(f({account:O.account,userDataExportEligibility:_.data.identity.userDataExportEligibility.isUserEligibleForDataExport}))}},"./src/reddit/actions/polls.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var s=r("./src/lib/makeActionCreator/index.ts");const n="POLLS__POLL_CREATION_UPDATED",a=Object(s.a)(n)},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,r){"use strict";r.d(t,"e",(function(){return g})),r.d(t,"b",(function(){return S})),r.d(t,"a",(function(){return D})),r.d(t,"d",(function(){return T})),r.d(t,"c",(function(){return j}));var s=r("./node_modules/react-router-redux/es/index.js"),n=r("./src/lib/addQueryParams/index.ts"),a=r("./src/lib/constants/index.ts"),c=r("./src/lib/filterQueryParams/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/reddit/actions/modal.ts"),i=r("./src/reddit/actions/pages/postCreation.ts"),u=r("./src/reddit/contexts/PageLayer/selectors.ts"),l=r("./src/reddit/helpers/name/index.ts"),p=r("./src/reddit/models/PostCreationForm/index.ts"),b=r("./src/reddit/routes/postCreation/index.ts"),f=r("./src/reddit/routes/postCreation/constants.ts"),y=r("./src/reddit/selectors/postCreations.ts"),m=r("./src/reddit/selectors/platform.ts"),E=r("./src/reddit/selectors/subreddit.ts"),O=r("./src/reddit/actions/postCreation/constants.ts"),_=r("./src/reddit/actions/postCreation/general.ts");const h=Object(o.a)(O.K),I=Object(o.a)(O.L),g=Object(o.a)(O.J),S=(e,t)=>async(r,s,{apiContext:n})=>{let c=s();const{name:o,isProfile:b}=e,f=Object(m.e)(c),O=f&&!b&&Object(l.a)(f.name,o),_=c.creations.api.subreddit.change.pending;if(O||_)return;const I=Object(u.u)(t);if(!o)return void r(D(e,I));r(h(e));const g=b?{profileName:o}:{subredditName:o};if(await r(Object(i.postCreationPageDataRequested)(g)),b||!Object(y.x)(c))return r(D(e,I));const S=e.allowedPostTypes||Object(E.z)(s(),{subredditName:o});if(!S)return void r(D(e,I));let T;c=s();const j=Object(y.gb)(c),v=Object(y.x)(c);if(j===a.Lb.MEDIA&&v){const e=Object(y.P)(c),t=Object(p.v)(e),r=Object(y.G)(c)&&e.items.length>1,s=!t&&!r;if(r&&!S.galleries)T=p.p.GalleryWillBeRemovedGalleryNotAllowed;else if(s&&!S.images)T=p.p.ImageWillBeRemoved;else if(t&&!S.videos){const t=c.uploads[e.items[0].uploadKey],r=t&&t.metadata.videoDuration||0;S.images?r>a.Z&&(T=p.p.VideoWillBeRemovedTooLongForGif):T=p.p.VideoWillBeRemovedMediaNotAllowed}}r(T?Object(d.i)(T):D({...e,allowedPostTypes:S},I))},D=(e,t,r=!0)=>async(a,c)=>{const{name:o,isProfile:d}=e,i=c().platform.currentPage,u=i.queryParams,l=d?b.b:b.c;let p="";p=o?l(o):f.b,p=Object(n.a)(p,{...u,draft:t||u.draft}),(t||i.url.toLowerCase()!==p.toLowerCase())&&(a(I(e)),r&&a(Object(_.r)(!0)),a(Object(_.i)()),a(Object(s.c)(p)))},T=e=>async(t,r)=>{const a=r().platform.currentPage,c=a.queryParams,o=Object(n.a)(a.url,{...c,collection:e});t(Object(s.c)(o))},j=()=>async(e,t)=>{const r=t().platform.currentPage,n=Object(c.a)(r.url,["collection"]);e(Object(s.c)(n))}},"./src/reddit/actions/postDraft.ts":function(e,t,r){"use strict";r.d(t,"f",(function(){return w})),r.d(t,"e",(function(){return R})),r.d(t,"d",(function(){return C})),r.d(t,"p",(function(){return x})),r.d(t,"j",(function(){return U})),r.d(t,"l",(function(){return M})),r.d(t,"i",(function(){return F})),r.d(t,"m",(function(){return G})),r.d(t,"k",(function(){return B})),r.d(t,"h",(function(){return q})),r.d(t,"n",(function(){return H})),r.d(t,"s",(function(){return X})),r.d(t,"r",(function(){return Y})),r.d(t,"g",(function(){return J})),r.d(t,"q",(function(){return ee})),r.d(t,"c",(function(){return te})),r.d(t,"a",(function(){return re})),r.d(t,"b",(function(){return se})),r.d(t,"o",(function(){return oe}));var s=r("./src/lib/constants/index.ts"),n=r("./src/lib/formatApiError/index.ts"),a=r("./src/lib/makeActionCreator/index.ts"),c=r("./src/reddit/actions/postCreation/general.ts"),o=r("./src/reddit/actions/postCreation/subredditChange.ts"),d=r("./src/reddit/actions/toaster.ts"),i=r("./src/reddit/contexts/PageLayer/selectors.ts"),u=r("./src/lib/makeApiRequest/index.ts"),l=r("./src/lib/omitHeaders/index.ts"),p=r("./src/reddit/models/StructuredStyles/index.ts");var b=r("./src/reddit/constants/headers.ts"),f=r("./src/reddit/helpers/name/index.ts"),y=r("./src/reddit/models/PostDraft/index.ts"),m=r("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),E=r("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),O=r("./src/reddit/models/Subreddit/index.ts");const _=e=>{let t=e.drafts.reduce((e,t)=>{const r=(e=>{let t;return t="link"===e.kind?{kind:y.b.Link,body:e.body||void 0}:"markdown"===e.kind?{kind:y.b.Markdown,body:e.body||void 0}:{kind:y.b.RichText,body:e.body||void 0},{subredditId:e.subreddit||void 0,contentCategory:e.content_category||void 0,created:e.created,flair:e.flair,id:e.id,isChatPost:!!e.discussion_type,isNSFW:!!e.nsfw,isOriginalContent:!!e.original_content,isSpoiler:!!e.spoiler,modified:e.modified||void 0,sendReplies:!!e.send_replies,isPublicLink:!!e.is_public_link,title:e.title||"",...t}})(t);return e.postDraftIds.push(r.id),e.postDrafts[r.id]=r,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce((e,t)=>{if(t.subreddit_type===O.e.User){const r=Object(m.a)(t,Object(f.g)(t.display_name_prefixed));e.profiles[r.id]=r}else{const r=Object(E.a)(t);e.subreddits[r.id]=r}return e},t)};var h=r("./src/reddit/endpoints/post/draft/helpers.ts"),I=r("./src/reddit/models/PostCreationForm/index.ts"),g=r("./src/reddit/helpers/trackers/postComposer.ts"),S=r("./src/reddit/models/Toast/index.ts"),D=r("./src/reddit/models/User/index.ts"),T=r("./src/reddit/selectors/postCreations.ts"),j=r("./src/reddit/selectors/postDraft.ts"),v=r("./src/reddit/selectors/profile.ts"),A=r("./src/reddit/selectors/subreddit.ts"),P=r("./src/reddit/selectors/user.ts");const w="POST_DRAFT__LIST_PENDING",R="POST_DRAFT__LIST_LOADED",C="POST_DRAFT__LIST_FAILED",L=Object(a.a)(w),N=Object(a.a)(R),k=Object(a.a)(C),x=()=>async(e,t,{apiContext:r})=>{const n=t();if(!Object(P.i)(n)||Object(j.b)(n))return;e(L());const a=await(e=>Object(u.a)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/drafts.json`,method:s.cb.GET}))(r());a.ok?e(N(_(a.body))):e(k(a.error))},U="POST_DRAFT__SAVE_DRAFT_PENDING",M="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",F="POST_DRAFT__SAVE_DRAFT_FAILED",G="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",B="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",q="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",H="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",V=Object(a.a)(U),K=Object(a.a)(M),W=Object(a.a)(F),$=Object(a.a)(G),Q=Object(a.a)(B),z=Object(a.a)(q),X=Object(a.a)(H),Y=e=>async(t,r,{apiContext:a})=>{const c=r(),i=Object(j.g)(c),p=Object(T.V)(c);if(i||p)return;const f=Object(j.h)(c,e);if(!f)return;t(V(f)),g.e(c,f);const y=await((e,t,r)=>Object(u.a)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/draft`,method:r?s.cb.PUT:s.cb.POST,data:Object(h.a)(t)}).then(e=>e.body.fields&&Object(I.u)(e.body.fields[0])?{...e,body:{},error:{type:s.E.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}:e))(a(),f,e);if(y.ok){const{id:r,draftsCount:s}=Object(h.c)(y.body);t(K({draftId:r,draftsCount:s})),e||t(Object(o.a)(f.destSubreddit,r,!1))}else{const e=y.error;e.type===s.E.BAD_CAPTCHA_ERROR?t(z()):e.type===s.E.VALIDATION_ERROR?t($(e)):e.type===s.E.SUBMIT_VALIDATION_ERROR?t(Q(e)):t(W(e)),t(Object(d.e)({duration:d.a,kind:S.b.Error,text:Object(n.a)(e)}))}},J="POST_DRAFT__LOAD_DRAFT",Z=Object(a.a)(J),ee=e=>async(t,r,{apiContext:s})=>{t(Z(e));let n=I.e;const a=r();if(e.subredditId){const t=Object(A.S)(a,{subredditId:e.subredditId}),r=Object(v.p)(a,{profileId:e.subredditId}),s=Object(P.i)(a);t?n={isProfile:!1,name:t.name}:r&&s&&(n={isProfile:!0,name:Object(D.e)(s)})}await t(Object(o.a)(n,e.id,!1));const c=Object(j.h)(r(),e.id);c&&g.h(r(),c)},te="POST_DELETE_DRAFT_SUCCEEDED",re="POST_DELETE_DRAFT_FAILED",se="POST_DELETE_DRAFT_PENDING",ne=Object(a.a)(te),ae=Object(a.a)(re),ce=Object(a.a)(se),oe=(e,t)=>async(r,a,{apiContext:o})=>{const b=a();if(Object(j.a)(b,e))return;const f=Object(j.d)(b,{draftId:e});f&&g.f(b,f),r(ce({draftId:e}));const y=await(async(e,t)=>Object(u.a)(Object(l.a)(e,[p.g]),{endpoint:`${e.apiUrl}/api/v1/draft?draft_id=${t}`,method:s.cb.DELETE}))(o(),e);if(y.ok){const{draftsCount:s}=Object(h.c)(y.body);r(ne({draftId:e,draftsCount:s}));const n=Object(i.u)(t);e===n&&r(Object(c.p)(!0,t))}else{const t=y.error;r(ae({draftId:e,apiError:t})),r(Object(d.e)({duration:d.a,kind:S.b.Error,text:Object(n.a)(t)}))}}},"./src/reddit/actions/postLevelCrowdControl.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/endpoints/crowdControl/index.ts");const a="POST_LEVEL_CC_LOADED",c=Object(s.a)(a),o=e=>async(t,r,{gqlContext:s})=>{const a=await Object(n.b)(s(),e);if(a.ok){const r=a.body.data.postInfoById.crowdControlLevel;t(c({[e]:r}))}}},"./src/reddit/actions/postList.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return i}));var s=r("./src/lib/makeActionCreator/index.ts"),n=(r("./src/reddit/actions/embedAndImage.ts"),r("./src/reddit/actions/video.ts"),r("./src/reddit/helpers/trackers/postList.ts"));r("./src/reddit/constants/postLayout.ts"),r("./src/reddit/selectors/platform.ts"),r("./src/reddit/selectors/posts.ts");r("./src/reddit/selectors/video.ts");const a="POSTLIST__MARKED_END",c="POSTLIST__UNMARKED_END",o=Object(s.a)(a),d=Object(s.a)(c),i=(e,t)=>async(r,s)=>{const a=s();e in a.listings.postOrder.fetchedTokens?e in a.listings.postOrder.ids?r(d({listingKey:e})):n.j(a,e):r(o({listingKey:e,listingName:t}))}},"./src/reddit/actions/postRequirements/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return c}));const s="POST_REQUIREMENTS_FAILED",n="POST_REQUIREMENTS_LOADED",a="POST_REQUIREMENTS_PENDING",c="POST_REQUIREMENTS_UPDATED"},"./src/reddit/actions/postRequirements/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return S}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./node_modules/lodash/camelCase.js"),a=r.n(n),c=r("./src/lib/constants/index.ts"),o=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/lib/sentry/index.ts"),i=r("./src/reddit/actions/toaster.ts"),u=r("./src/graphql/operations/GetPostRequirements.json"),l=r("./src/lib/makeGqlRequest/index.ts"),p=r("./src/graphql/operations/UpdatePostRequirements.json"),b=r("./src/reddit/endpoints/subreddit/about.ts"),f=r("./src/reddit/models/Toast/index.ts"),y=r("./src/reddit/selectors/postRequirements.ts"),m=r("./src/reddit/selectors/subreddit.ts"),E=r("./src/reddit/actions/postRequirements/constants.ts");const O=Object(o.a)(E.b),_=Object(o.a)(E.c),h=Object(o.a)(E.a),I=e=>async(t,r,{gqlContext:s})=>{const n={subredditName:e.toLowerCase()};if(Object(y.a)(r(),n))return;t(_(n));let a=Object(m.F)(r(),e);if(!a){const r=await Object(b.a)(s(),e,!1);if(r.ok){a=r.body.data.subreddit.id}if(!a){const e=r.error||{type:c.E.NOT_FOUND_ERROR};return void t(h({...n,error:e}))}}let o=null;const i=await((e,t)=>Object(l.a)(e,{...u,variables:t}))(s(),{subredditId:a});if(i.ok){const e=i.body;o=e.data.subreddit&&e.data.subreddit.postRequirements}if(o)t(O({...n,requirements:o}));else{const r=i.error||{type:c.E.UNKNOWN_ERROR};t(h({...n,error:r})),d.c.withScope(t=>{t.setExtra("info",{subredditName:e,responseBody:i.body,responseOk:i.ok}),d.c.captureMessage("Missing post requirements data!")})}},g=Object(o.a)(E.d),S=(e,t)=>async(r,n,{gqlContext:a})=>{const c=e.toLowerCase(),o=Object(m.F)(n(),e);if(!o)return{success:!1};const d={subredditId:o,...t},u=await((e,t)=>Object(l.a)(e,{...p,variables:t}))(a(),{input:d});let b=!1,y=null;if(u.ok){const e=u.body;b=e.data.updatePostRequirements.ok,y=D(e.data.updatePostRequirements.fieldErrors)}return b?(r(g({subredditName:c,partialRequirements:t})),{success:!0}):(r(Object(i.e)({duration:i.a,id:"REQUIREMENTS_SAVE_ERROR",kind:f.b.Error,text:y&&y.length?y[0].message:s.fbt._("Something went wrong",null,{hk:"3i6szH"})})),{success:!1,errors:y||void 0})},D=e=>e&&e.map(e=>({...e,field:a()(e.field)}))},"./src/reddit/actions/product.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"g",(function(){return l})),r.d(t,"e",(function(){return p})),r.d(t,"f",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"i",(function(){return I})),r.d(t,"j",(function(){return g}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/governance/errorToast.ts"),a=r("./src/reddit/endpoints/governance/badges.ts"),c=r("./src/reddit/endpoints/governance/products/badges.ts");const o="PRODUCT__BADGE_PURCHASE_OPENED",d="PRODUCT__BADGE_PURCHASE_SUCCESS",i="PRODUCT__BADGE_PURCHASE_FAILURE",u="PRODUCT__BADGE_PURCHASE_PENDING",l="PRODUCT__FETCH_SUCCESS",p="PRODUCT__FETCH_FAILURE",b="PRODUCT__FETCH_PENDING",f=Object(s.a)(o),y=Object(s.a)(d),m=Object(s.a)(i),E=Object(s.a)(u),O=Object(s.a)(l),_=Object(s.a)(p),h=Object(s.a)(b),I=({productId:e})=>async(t,r,{apiContext:s})=>{const o=r(),d=o.products.models[e],i=o.user.account,u=!!o.products.api.purchase.pending[e];if(d&&d.price&&!u){t(E({productId:e}));const r=await Object(c.c)(s(),{price:d.price,products:[{productId:e,quantity:"1"}],subredditId:d.subredditId});let o;if(r.ok&&i&&(o=await Object(a.c)(s(),d.subredditId,i.id)),r.ok){if(o&&o.ok){const{badges:e,userOwnedBadges:s}=o.body;t(y({product:d,badges:e,userOwnedBadges:s,wallet:r.body.wallet}))}}else t(m({productId:e,error:r.error})),Object(n.a)(t,r.error)}},g=({subredditId:e})=>async(t,r,{apiContext:s})=>{t(h({subredditId:e}));const n=await Object(c.a)(s(),e);n.ok?t(O({subredditId:e,products:n.body})):t(_({subredditId:e,error:n.error}))}},"./src/reddit/actions/reCaptchaEnterprise.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return A})),r.d(t,"a",(function(){return P})),r.d(t,"d",(function(){return w})),r.d(t,"b",(function(){return L}));var s=r("./src/lib/asyncActions/index.ts"),n=r("./src/lib/constants/index.ts"),a=r("./src/lib/constants/euCookiePolicy.ts"),c=r("./node_modules/ts-error/lib/cjs.js"),o=r.n(c);class GraphQLRequestError_GraphQLRequestError extends o.a{constructor(e){super(`An error occurred during a GraphQL request. The following response was received:\n\n${JSON.stringify(e,void 0,2)}`),this.response=e}}var d=r("./src/lib/reCaptchaEnterprise/index.ts"),i=r("./src/lib/sentry/index.ts");function u(e){return t=>async(r,s,n)=>{const a=s();if(e(a))return t(r,s,n)}}var l=r("./node_modules/lodash/every.js"),p=r.n(l),b=r("./src/reddit/constants/experiments.ts"),f=r("./src/graphql/operations/VerifyRecaptchaToken.json"),y=r("./node_modules/os-browserify/browser.js"),m=r.n(y);const E=/\s+at.*(?:\(|\s)(.*)\)?/,O=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,_=void 0===m.a.homedir?"":m.a.homedir();const h=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");class AggregateError_AggregateError extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let t=(e=[...e].map(e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e))).map(e=>"string"==typeof e.stack?h(function(e,t={}){return t={pretty:!1,...t},e.replace(/\\/g,"/").split("\n").filter(e=>{const t=e.match(E);if(null===t||!t[1])return!0;const r=t[1];return!r.includes(".app/Contents/Resources/electron.asar")&&!r.includes(".app/Contents/Resources/default_app.asar")&&!O.test(r)}).filter(e=>""!==e.trim()).map(e=>t.pretty?e.replace(E,(e,t)=>e.replace(t,t.replace(_,"~"))):e).join("\n")}(e.stack)):String(e)).join("\n");super(t="\n"+function(e,t=1,r={}){const s={indent:" ",includeEmptyLines:!1,...r};if("string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof s.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof s.indent}\``);if(0===t)return e;const n=s.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,s.indent.repeat(t))}(t,4)),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}var I=r("./src/lib/makeGqlRequest/index.ts");class MissingDataError_MissingDataError extends o.a{constructor(){super("Missing data in GraphQL response")}}class RequestFailedWithoutErrorsError_RequestFailedWithoutErrorsError extends o.a{constructor(){super("GraphQL request failed without errors")}}var g=r("./src/reddit/featureFlags/index.ts"),S=r("./src/reddit/featureFlags/utils.ts"),D=r("./src/reddit/helpers/chooseVariant/index.ts"),T=r("./src/reddit/selectors/meta.ts");const j=e=>g.d.reCaptchaEnterprise(e)&&!Object(T.d)(e),v=e=>!!Object(D.c)(e,{experimentEligibilitySelector:Object(S.d)(Object(S.b)(...a.b)),experimentName:b.wc}),A=Object(s.b)("LOAD_RECAPTCHA_ENTERPRISE"),P=Object(s.b)("EXECUTE_RECAPTCHA_ENTERPRISE"),w=Object(s.b)("SEND_RECAPTCHA_TOKEN"),R=e=>u(e=>p()([j,v,e=>e.tracking.reCaptchaEnterprise.send===s.a.New&&e.tracking.reCaptchaEnterprise.execute===s.a.Succeeded&&e.tracking.reCaptchaEnterprise.load===s.a.Succeeded],t=>t(e)))(async(t,r,{gqlContext:s})=>{t(w.requested());try{await(async(e,t)=>{const r=await Object(I.a)(e,{...f,variables:{input:{token:t}}});if(!r.ok)throw new GraphQLRequestError_GraphQLRequestError(r);if(!("data"in r.body))throw new MissingDataError_MissingDataError;const{ok:s,errors:n}=r.body.data.verifyRecaptchaToken;if(n&&n.length>0)throw new AggregateError_AggregateError(n);if(!s)throw new RequestFailedWithoutErrorsError_RequestFailedWithoutErrorsError})(s(),e),t(w.succeeded())}catch(n){throw t(w.failed()),n}}),C=(e,t)=>Object(S.g)(t)?(e=>`STAGING__${e}`)(e):e,L=(e=d.a.PageLoad)=>u(e=>p()([j,v,e=>e.tracking.reCaptchaEnterprise.load===s.a.New],t=>t(e)))(async(t,r)=>{const a=r();try{await t((()=>u(e=>p()([j,v,e=>e.tracking.reCaptchaEnterprise.load===s.a.New],t=>t(e)))(async e=>{e(A.requested());try{await d.b.loadScript(),e(A.succeeded())}catch(t){throw e(A.failed()),t}}))());const r=await t((e=>u(e=>p()([j,v,e=>e.tracking.reCaptchaEnterprise.load===s.a.Succeeded&&e.tracking.reCaptchaEnterprise.execute===s.a.New],t=>t(e)))(async t=>{t(P.requested());try{const r=await d.b.execute(e);return t(P.succeeded({token:r})),r}catch(r){throw t(P.failed()),r}}))({action:C(e,a)}));r&&await t(R(r))}catch(c){if(c instanceof GraphQLRequestError_GraphQLRequestError&&"object"==typeof c.response.error&&null!==c.response.error&&c.response.error.type===n.i)return;i.c.withScope(e=>{Object(i.a)(e,{serverLogging:!1}),i.c.captureException(c)})}})},"./src/reddit/actions/redditEmbed.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return f}));var s=r("./src/lib/constants/index.ts"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/tabBadging.ts"),c=r("./src/reddit/endpoints/me/index.ts"),o=r("./src/reddit/helpers/pageActionLoginRedirect.ts"),d=r("./src/reddit/helpers/trackers/screenview.ts");const i="REDDIT_EMBED_LOADED",u="REDDIT_EMBED_FAILED",l=Object(n.a)("REDDIT_EMBED_PENDING"),p=Object(n.a)(i),b=Object(n.a)(u),f=(e,t)=>async(e,r,{apiContext:s})=>{const n=r();e(l());const d=await Object(c.a)(s());d.ok&&d.body?!t||d.body.account?(e(p(d.body)),e(Object(a.d)()),y(n)):Object(o.a)(e,n):e(b(d.error))},y=e=>{e.platform.currentPage&&e.platform.currentPage.routeMatch&&e.platform.currentPage.routeMatch.route&&e.platform.currentPage.routeMatch.route.meta&&e.platform.currentPage.routeMatch.route.meta.name&&e.platform.currentPage.routeMatch.route.meta.name===s.Db.INBOX_PAGES&&Object(d.g)(e)}},"./src/reddit/actions/reportFlow/constants.ts":function(e,t,r){"use strict";r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return d})),r.d(t,"g",(function(){return i}));const s="REPORT__PENDING",n="REPORT__LOADED",a="REPORT__FAILED",c="REPORT_FLOW__TARGET_SET",o="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",d="REPORT_FLOW__OPEN_CATEGORY",i="REPORT_FLOW__USER_IS_MOD_SET"},"./src/reddit/actions/reportPageRules/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s="REPORT_PAGE_RULES__LOADED"},"./src/reddit/actions/reportRules.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return b})),r.d(t,"c",(function(){return f}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/lib/constants/index.ts"),c=r("./src/lib/makeApiRequest/index.ts"),o=r("./src/lib/omitHeaders/index.ts"),d=r("./src/reddit/constants/headers.ts");const i="SITEWIDE_RULES_LOADED",u="LIVESTREAMING_RULES_LOADED",l=Object(n.a)(i),p=Object(n.a)(u),b=()=>async(e,t,{apiContext:r})=>{if(!t().user)return;const s=await(e=>Object(c.a)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/sitewide_rules.json`,method:a.cb.GET}))(r());if(s.ok){const t=s.body,r=y(t.sitewide_rules);e(l(r))}},f=()=>async(e,t,{apiContext:r})=>{if(!t().user)return;const s=await(e=>Object(c.a)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/livestream_rules.json`,method:a.cb.GET}))(r());if(s.ok){const t=s.body,r=y(t.livestream_rules);e(p(r))}},y=e=>{let t=[];if(e&&e.length>2){const r={reasonTextToShow:s.fbt._("It's spam or abuse",null,{hk:"21rHqk"}),nextStepReasons:[e[0],e[1],e[2]]};4===e.length&&r.nextStepReasons&&r.nextStepReasons.push(e[3]),t.push(r),t=t.concat(e.slice(e.length-1))}return t}},"./src/reddit/actions/scheduledPosts/constants.ts":function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"f",(function(){return a})),r.d(t,"m",(function(){return c})),r.d(t,"a",(function(){return o})),r.d(t,"e",(function(){return d})),r.d(t,"h",(function(){return i})),r.d(t,"l",(function(){return u})),r.d(t,"k",(function(){return l})),r.d(t,"j",(function(){return p})),r.d(t,"o",(function(){return b})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return y})),r.d(t,"b",(function(){return m})),r.d(t,"n",(function(){return E})),r.d(t,"i",(function(){return O})),r.d(t,"r",(function(){return _})),r.d(t,"u",(function(){return h})),r.d(t,"p",(function(){return I})),r.d(t,"q",(function(){return g})),r.d(t,"v",(function(){return S})),r.d(t,"s",(function(){return D})),r.d(t,"x",(function(){return T})),r.d(t,"w",(function(){return j})),r.d(t,"t",(function(){return v}));var s=r("./node_modules/fbt/lib/FbtPublic.js");const n="SCHEDULED_POSTS_REQUESTED",a="SCHEDULED_POSTS_LOADED",c="STANDALONE_SCHEDULED_POSTS_LOADED",o="RECURRING_SCHEDULED_POSTS_LOADED",d="SCHEDULED_POSTS_FAILED",i="SCHEDULED_POST_CREATION_SUCCEEDED",u="SCHEDULED_POST_SUBMIT_NOW_SUCCESS",l="SCHEDULED_POST_MUTATE_REQUESTED",p="SCHEDULED_POST_MUTATE_FAILED",b="STANDALONE_POST_MUTATE_SUCCESS",f="RECURRING_POST_MUTATE_SUCCESS",y="RECURRING_POST__EDIT_MODAL_LOAD",m="RECURRING_POST__EDIT_LOAD",E="STANDALONE_POST__EDIT_LOAD",O="SCHEDULED_POST__DELETE_SUCCESS",_=()=>s.fbt._("Failed to load scheduled posts",null,{hk:"1fhkq4"}),h=()=>s.fbt._("Whoops! Invalid scheduled post",null,{hk:"35jBb6"}),I=()=>s.fbt._("Unable to delete scheduled post",null,{hk:"23nWms"}),g=()=>s.fbt._("Successfully deleted scheduled post",null,{hk:"1Lk7r2"}),S=()=>s.fbt._("Unable to submit scheduled post",null,{hk:"vCW43"}),D=()=>s.fbt._("Retry",null,{hk:"4bCZ7M"}),T=()=>s.fbt._("Successfully submitted scheduled post!",null,{hk:"ONo6q"}),j=()=>s.fbt._("Successfully edited scheduled post!",null,{hk:"HfGcT"}),v=()=>s.fbt._("Failed to update scheduled post",null,{hk:"2zBuRu"})},"./src/reddit/actions/search/trending.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return m}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./node_modules/uuid/v4.js"),a=r.n(n),c=r("./src/lib/constants/index.ts"),o=(r("./node_modules/core-js/modules/web.dom.iterable.js"),r("./src/lib/extractQueryParams/index.ts"));var d=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/lib/omitHeaders/index.ts"),u=r("./src/reddit/constants/headers.ts"),l=r("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),p=r("./src/reddit/models/Search/index.ts");var b=e=>{const t={withAds:1,ad:Object(o.a)(window.location.href).get("ad")};return Object(d.a)(Object(i.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/trending_searches_v1.json`,method:c.cb.GET,data:t})};const f="PAGE__TRENDING_SEARCHES_LOADED",y=Object(s.a)(f),m=()=>async(e,t,{apiContext:r})=>{const s=await b(r());if(s.ok){const t=(e=>{const t=[];if(e.body&&e.body.trending_searches){const r=e.body.trending_searches.length;for(let s=0;s<r;s++){const r=e.body.trending_searches[s],n=r.results.data.children.length>0?r.results.data.children[0].data:null,c={id:a()(),post:n?Object(l.a)(n):null,rawQuery:r.query_string,searchQuery:r.display_string,section:p.c.trending,isWhitelisted:r.is_subreddit_whitelisted,subredditInfo:n?{icon:n.sr_detail.community_icon||n.sr_detail.icon_img,displayText:n.sr_detail.display_name_prefixed}:null,subredditOccurrences:r.subreddit_occurences-1,type:p.b.text};t.push(c)}}return t})(s);return e(y({items:t})),t}return null}},"./src/reddit/actions/shortcuts/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s="SHORTCUTS__ACTIVE_COMMENT_SET",n="SHORTCUTS__ACTIVE_POST_SET"},"./src/reddit/actions/sso/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s="LINKED_IDENTITY__ADD",n="LINKED_IDENTITY__REMOVE"},"./src/reddit/actions/streaming/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s="SUBREDDIT__STREAMING_MOD_SETTINGS_LOADED"},"./src/reddit/actions/streaming/modSettings.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return y})),r.d(t,"g",(function(){return _})),r.d(t,"f",(function(){return h})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return S}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/streaming/constants.ts"),c=r("./src/reddit/actions/toaster.ts"),o=r("./src/graphql/operations/FetchSubredditStreamingModSettings.json"),d=r("./src/lib/makeGqlRequest/index.ts"),i=r("./src/graphql/operations/UpdateSubredditStreamingModSettings.json"),u=r("./src/reddit/models/Toast/index.ts"),l=r("./src/reddit/selectors/subreddit.ts");const p=Object(n.a)(a.a),b="STREAMING_MOD_SETTINGS__UPDATE_PENDING",f="STREAMING_MOD_SETTINGS__UPDATE_LOADED",y="STREAMING_MOD_SETTINGS__UPDATE_FAILED",m=Object(n.a)(b),E=Object(n.a)(f),O=Object(n.a)(y),_=e=>async(t,r,{gqlContext:n})=>{const a=Object(l.S)(r(),{subredditId:e});if(void 0===a){const e=s.fbt._("Invalid subreddit",null,{hk:"2iUXvs"}),r=Object(c.d)(e,u.b.Error);return await t(Object(c.e)({...r,duration:c.a})),{reason:e}}const i=await((e,t)=>Object(d.a)(e,{...o,variables:{subredditId:t}}))(n(),e);if(!i.ok){const e=s.fbt._("Could not fetch settings for {subredditName}",[s.fbt._param("subredditName",a.name)],{hk:"2G8rnU"}),r=Object(c.d)(e,u.b.Error);return await t(Object(c.e)({...r,duration:c.a})),{reason:e}}const b=i.body.data.subredditInfoById;return await t(p({subredditId:e,modSettings:b.liveStreamingInfo})),{}},h=(e,t)=>async(r,s,{gqlContext:n})=>{await r(I(t,e,n())),r(_(t))},I=(e,t,r)=>async(r,n,{gqlContext:a})=>{r(m({subredditId:e}));const o=await((e,t)=>Object(d.a)(e,{...i,variables:t}))(a(),{input:{subredditId:e,liveStreamingModeratorSettings:t}});if(!o.ok||!o.body.data.updateSubredditLiveStreamingModeratorSettings.ok){const t=o.error&&o.error.fields?o.error.fields[0].msg:s.fbt._("Could not update community broadcasting settings",null,{hk:"3Uw7zu"}),n=Object(c.d)(t,u.b.Error);await r(Object(c.e)({...n,duration:c.a})),r(O({subredditId:e}))}const l=s.fbt._("Community broadcasting settings saved",null,{hk:"GTwrg"}),p=Object(c.d)(l,u.b.SuccessCommunity);await r(Object(c.e)({...p,duration:c.a})),r(E({subredditId:e}))},g=(e,t,r)=>async(s,n,{gqlContext:a})=>{const c=[...r.whitelistedUsers.map(e=>({redditorName:e.name})),{redditorName:t}];await s(I(e,{whitelistedRedditors:c},a())),await s(_(e))},S=(e,t,r)=>async(s,n,{gqlContext:a})=>{const c=r.whitelistedUsers.filter(e=>e.name!==t).map(e=>({redditorName:e.name}));await s(I(e,{whitelistedRedditors:c},a())),await s(_(e))}},"./src/reddit/actions/subreddit/similarSubreddit.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return m}));var s,n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/subreddit/constants.ts"),c=r("./src/reddit/endpoints/category/subreddits.ts"),o=r("./src/lib/constants/index.ts"),d=r("./src/lib/makeApiRequest/index.ts"),i=r("./src/lib/omitHeaders/index.ts"),u=r("./src/reddit/constants/headers.ts");!function(e){e.Factorization="factorization",e.CustomModRelevant="custom_mod_relevant"}(s||(s={}));var l=r("./src/reddit/selectors/subreddit.ts");const p=e=>{let t=e.subredditIds.join(",");return e.count&&(t+=`--[count:'${e.count}']`),e.variant&&(t+=`--[variant:'${e.variant}']`),t.toLowerCase()},b=Object(n.a)(a.q),f=Object(n.a)(a.p),y=Object(n.a)(a.o),m=e=>async(t,r,{apiContext:s})=>{const n=r(),a=p(e),m=Object(l.u)(n,{key:a}),E=Object(l.t)(n,{key:a});if(m||E.length>0)return;t(b({key:a}));const O=await((e,t)=>Object(d.a)(Object(i.a)(e,[u.a]),{data:{sr_fullnames:t.subredditIds.join(","),limit:t.count,variant:t.variant},endpoint:`${e.apiUrl}/api/similar_subreddits.json`,method:o.cb.GET}))(s(),e);if(O.ok){const e=Object(c.b)(O.body);t(f({key:a,...e}))}else{const e=O.error;t(y({key:a,error:e}))}}},"./src/reddit/actions/subreddit/subredditPosts.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return q})),r.d(t,"a",(function(){return H}));var s=r("./src/lib/constants/index.ts"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/lib/makeLinkedPostsListingKey/index.ts"),c=r("./src/lib/makeListingKey/index.ts"),o=r("./src/reddit/actions/googleQASchema/constants.ts");const d=Object(n.a)(o.b),i=Object(n.a)(o.a);var u=r("./src/reddit/actions/linkedPosts/constants.ts");const l=Object(n.a)(u.b),p=Object(n.a)(u.a);var b=r("./src/reddit/actions/otherDiscussions/constants.ts"),f=r("./src/lib/makeGqlRequest/index.ts"),y=(r("./src/graphql/operations/OtherDiscussions.json"),r("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts")),m=r("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),E=r("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),O=r("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),_=r("./src/reddit/models/Post/index.ts");var h=({getState:e,onFailure:t,onSuccess:r,postId:s,response:n})=>{if(!n.ok)return void t(n.error);const a=n.body,{post:o}=a&&a.data,d=e(),i=Object(c.a)(s,null,{isOtherDiscussions:!0});if(o){if(o.otherDiscussions&&o.otherDiscussionsCount){const{otherDiscussions:e,otherDiscussionsCount:t}=o,{postFlair:n,postIds:a,posts:c,profiles:u,subreddits:l}=(e=>{const t={postFlair:{},postIds:[],posts:{},profiles:{},subreddits:{}},r=e=>{const r=Object(m.e)(e);t.posts[r.id]=r;const{crosspostRoot:s}=e;if(s&&s.type===_.a.Post&&s.postInfo){const e=Object(m.e)(s.postInfo);t.posts[e.id]=e}return Object(_.k)(e)?t.profiles[e.profile.id]||(t.profiles[e.profile.id]=Object(E.a)(e.profile)):Object(_.l)(e)&&(t.subreddits[e.subreddit.id]||(t.subreddits[e.subreddit.id]=Object(O.a)(e.subreddit)),t.postFlair[e.subreddit.id]||(t.postFlair[e.subreddit.id]=Object(y.a)(e.subreddit))),r.id};if(e&&e.edges)for(const{node:s}of e.edges){const e=r(s);e&&t.postIds.push(e)}return t})(e);r({count:t,key:i,meta:d.meta,postFlair:n,postId:s,postIds:a,posts:c,profiles:u,subreddits:l})}}else r({count:0,key:i,meta:d.meta,postFlair:{},postId:s,postIds:[],posts:{},profiles:{},subreddits:{}})};const I=Object(n.a)(b.a),g=Object(n.a)(b.b),S=Object(n.a)(b.c);var D=r("./src/reddit/actions/subreddit/constants.ts"),T=r("./src/graphql/operations/PostFeedAndOtherDiscussions.json"),j=(r("./src/graphql/operations/SubredditPosts.json"),r("./src/graphql/operations/SubredditsPosts.json"));var v=({getState:e,onSuccess:t,onFailure:r,postId:s,post:n})=>{try{t({altText:n&&n.media&&(n.media.still&&n.media.still.altText||n.media.obfuscated&&n.media.obfuscated.altText)||null,postId:s})}catch(a){r(a)}};var A=({getState:e,onSuccess:t,onFailure:r,postId:s,post:n})=>{try{const r=[],c={},o={};if(!n||!n.linked)return;const d=e(),i=d.posts&&d.posts.models,u=Object(a.a)(s),l=n.linked.posts&&n.linked.posts.edges||[];for(const{node:e}of l){if(!e)break;if(e.id&&!i.hasOwnProperty(e.id)){r.push(e.id);const t=Object(m.a)(e);c[e.id]=t.post,t.crosspost&&(c[t.crosspost.id]=t.crosspost)}if(Object(_.l)(e)){const{subreddit:t}=e;o[t.id]=Object(O.a)(t)}}t({dist:n.linked.posts&&n.linked.posts.dist||null,key:u,meta:d.meta,posts:c,postIds:r,subreddits:o})}catch(c){r(c)}},P=r("./src/reddit/helpers/graphql/normalizePostsFromGql/index.ts");var w=e=>e.reduce((e,t)=>(e[t.id]=t,e),{});var R=({getState:e,onSuccess:t,onFailure:r,options:n,subreddit:a})=>{try{if(!a)return;const r=a.elements||a.posts,o=e(),d=((e,t)=>{const{edges:r}=e,s=r.filter(e=>(e=>!e.node.crosspostRoot)(e)&&((e,t)=>!t.hasOwnProperty(e.node.id))(e,t));return{...e,edges:s}})(r,o.posts&&o.posts.models);if(!d.edges.length)return;const i=Object(P.a)(d),{range:u,sort:l,subredditName:p}=n,b=Object(c.a)(p,s.P[l],{t:u}),f=w(i),y=i.map(e=>e.id);t({dist:r.dist,key:b,meta:o.meta,postIds:y,posts:f})}catch(o){r(o)}},C=r("./src/reddit/models/Media/index.ts"),L=r("./src/reddit/selectors/posts.ts"),N=r("./src/reddit/selectors/experiments/econ/predictions.ts"),k=r("./src/reddit/actions/imageOCRAltText/constants.ts");const x=Object(n.a)(k.b),U=Object(n.a)(k.a),M=Object(n.a)(D.k),F=Object(n.a)(D.j),G=Object(n.a)(D.s),B=Object(n.a)(D.r),q=e=>async(t,r,{gqlContext:s})=>{const n=(await((e,t)=>Object(f.a)(e,{...j,variables:t}))(s(),e)).body,{subredditNames:a,...c}=e,o=[];try{for(const e of n.data.subredditsInfoByNames){const t=e.elements.edges[0];t&&Object(_.l)(t.node)&&R({getState:r,onFailure:e=>{throw e},onSuccess:e=>o.push(e),options:{...c,subredditName:t.node.subreddit.name},subreddit:e})}t(G(o))}catch(d){t(B(d))}},H=e=>async(t,r,{gqlContext:n})=>{var o;const{includePostImageOCRAltText:u,includeListingBelowExperiment:b,includeOtherDiscussions:y,includePostFeed:m,includePostQASchemaEligibilityFlag:E,postId:O,range:_,sort:D,subredditName:j}=e,P=Object(c.a)(O,null,{isOtherDiscussions:!0}),w=r(),k=Object(L.H)(w,{listingKey:P,predictionsEnabled:Object(N.c)(w)}),G=y&&(!k||0===k.length),B=Object(c.a)(j,s.P[D],{t:_}),q=Object(L.H)(w,{listingKey:B,predictionsEnabled:Object(N.c)(w)}),H=m&&(!q||0===q.length),V=Object(a.a)(O),K=Object(L.H)(w,{listingKey:V,predictionsEnabled:Object(N.c)(w)}),W=b&&(!K||0===K.length),$=Object(L.O)(w,{postId:O}),Q=u&&!!$&&!!$.media&&(Object(C.H)($.media)||Object(C.F)($.media))&&!$.media.altText;if(!(G||H||W||Q||E))return;G&&t(S({key:P}));const z=await((e,t)=>Object(f.a)(e,{...T,variables:t}))(n(),e),X=z.body;E&&(z.ok?X.data&&X.data.post&&t(d({postId:O,isEligibleForQASchema:null!==(o=X.data.post.isEligibleForQASchema)&&void 0!==o&&o})):t(i())),G&&h({getState:r,onFailure:e=>t(I(e)),onSuccess:e=>t(g(e)),postId:O,response:z}),H&&(z.ok?X.data&&R({getState:r,onFailure:e=>t(F(e)),onSuccess:e=>t(M(e)),options:e,subreddit:X.data.subreddit}):t(F(z.error))),W&&z.ok&&A({getState:r,onFailure:e=>t(p(e)),onSuccess:e=>t(l(e)),postId:O,post:X.data.post}),Q&&z.ok&&v({getState:r,onFailure:e=>t(U(e)),onSuccess:e=>t(x(e)),postId:O,post:X.data.post})}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"d",(function(){return y}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/graphql/operations/SubredditTypeaheadSearch.json"),a=r("./src/lib/makeGqlRequest/index.ts"),c=r("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts"),o=r("./src/reddit/helpers/name/index.ts"),d=r("./src/reddit/selectors/subredditAutocomplete.ts");const i="SUBREDDIT_AUTOCOMPLETE__PENDING",u="SUBREDDIT_AUTOCOMPLETE__LOADED",l="SUBREDDIT_AUTOCOMPLETE__FAILED",p=Object(s.a)(i),b=Object(s.a)(u),f=Object(s.a)(l),y=(e,t=!1)=>async(r,s,{gqlContext:i})=>{const u=Object(o.g)(e);if(!u)return;const l=s(),y=l.subredditAutocomplete;if(y.api.pending[u]||y.models[u])return;if(Object(d.b)(l,{substring:u}))return;r(p({key:u}));const m=await((e,t)=>Object(a.a)(e,{...n,variables:t}))(i(),{query:u,includeNsfw:t});if(m.ok){const e=m.body.data.subredditTypeahead.subreddits.edges.map(e=>(({allowedPostTypes:e,id:t,isCrosspostDestination:r,isNsfw:s,name:n,styles:a,subscribersCount:o})=>({allowedPostTypes:Object(c.a)(e),communityIcon:a&&a.icon||"",icon:a&&a.legacyIcon&&a.legacyIcon.url||"",id:t,isCrosspostDestination:r,isNsfw:s,name:n,primaryColor:a&&a.primaryColor||"",subscribers:o}))(e.node));r(b({key:u,subreddits:e}))}else r(f({key:u,error:m.error}))}},"./src/reddit/actions/subredditCreation.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return y})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return E})),r.d(t,"a",(function(){return O})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return S}));var s=r("./src/config.ts"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/lib/constants/index.ts"),c=r("./src/lib/makeApiRequest/index.ts"),o=r("./src/lib/omitHeaders/index.ts"),d=r("./src/reddit/constants/headers.ts"),i=r("./src/reddit/helpers/addRedesignIdentifier/index.ts");const u=e=>({public_description:e.publicDescription,name:e.name,type:e.type,over_18:e.over18,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,existing_tags:e.existingTags.join(","),new_tags:e.newTags.join(","),primary_tag:e.primaryTagId});var l=r("./src/reddit/helpers/correlationIdTracker.ts"),p=r("./src/reddit/helpers/trackers/subredditCreation.ts"),b=r("./src/reddit/selectors/subreddit.ts"),f=r("./src/telemetry/index.ts");const y="SUBREDDIT__CREATE_PENDING",m="SUBREDDIT__CREATE_SUCCEEDED",E="SUBREDDIT__CREATE_FAILED",O="SUBREDDIT__CREATE_CLEARED",_=Object(n.a)(y),h=Object(n.a)(m),I=Object(n.a)(E),g=Object(n.a)(O),S=e=>async(t,r,{apiContext:n})=>{const y=r(),{name:m,type:E}=e;if(Object(b.k)(y))return;t(_({subredditName:m}));const O=await((e,t)=>Object(c.a)(Object(o.a)(e,[d.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/v1/subreddit/create_subreddit`),method:a.cb.POST,data:u(t)}))(n(),e);if(O.ok){const r=O.body,n=r.fullname;Object(f.a)(Object(p.c)(E,e,n)(y)),t(h({subredditName:m})),window.location.href=`${s.a.redditUrl}${r.path}new`,Object(l.b)(l.a.SubredditCreation)}else O.error&&Object(f.a)(Object(p.d)(O.error.type)(y)),t(I({subredditName:m,error:O.error}))}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return p})),r.d(t,"d",(function(){return y}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/subscription/index.ts"),a=r("./src/lib/constants/index.ts"),c=r("./src/lib/makeApiRequest/index.ts"),o=r("./src/lib/omitHeaders/index.ts"),d=r("./src/reddit/constants/headers.ts"),i=r("./src/reddit/selectors/subreddit.ts");const u="SUBREDDIT_CROSSPOSTABLE__PENDING",l="SUBREDDIT_CROSSPOSTABLE__LOADED",p="SUBREDDIT_CROSSPOSTABLE__FAILED",b=(Object(s.a)(u),Object(s.a)(l)),f=Object(s.a)(p),y=()=>async(e,t,{apiContext:r})=>{await e(n.e());const{api:s,ids:u}=t().subreddits.crosspostable;if(s.pending||Object.keys(u).length)return;const l=await((e,t)=>Object(c.a)(Object(o.a)(e,[d.a]),{data:t,endpoint:`${e.apiUrl}/api/crosspostable_subreddits.json`,method:a.cb.GET}))(r(),{sr_detail:!1});if(l.ok){const r=t(),s=l.body&&l.body.length?l.body.map(e=>Object(i.F)(r,e)).filter(e=>!!e).reduce((e,t)=>(e[t]=!0,e),{}):{};e(b({subredditIds:s}))}else e(f({error:l.error}))}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/lib/constants/index.ts"),a=r("./src/config.ts"),c=r("./src/lib/makeApiRequest/index.ts"),o=r("./src/reddit/models/Post/index.ts");var d=r("./src/reddit/models/Duplicates/index.ts"),i=r("./src/reddit/models/Subreddit/index.ts"),u=r("./src/reddit/selectors/profile.ts"),l=r("./src/reddit/selectors/subreddit.ts");const p="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",b=(Object(s.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(s.a)(p)),f=(e,t)=>async(r,s,{apiContext:p})=>{const f=Object(l.S)(s(),{subredditId:e})||Object(u.p)(s(),{profileId:e});if(!f)return;const y={crossposts_only:!0,sort:"new",sr:Object(i.g)(f)?n.Wb+f.name:f.name},m=await((e,t,r)=>Object(c.a)(e,{data:r,endpoint:`${a.a.gatewayUrl}/desktopapi/v1/duplicates/${Object(o.s)(t)}`,method:n.cb.GET}))(p(),t,y);if(m.ok){const s=m.body;r(b({distinguishKey:Object(d.a)(t,y),postIds:s.postIds,posts:s.posts,profiles:s.profiles,subreddits:s.subreddits,subredditId:e}))}}},"./src/reddit/actions/subredditMention/constants.ts":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));const s="SUBREDDIT_MENTION_LOADED",n="SUBREDDIT__MODEL_SUCCEEDED",a="SUBREDDIT__MODEL_PENDING",c="SUBREDDIT__MODEL_FAILED"},"./src/reddit/actions/subredditTopContent.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return f}));var s=r("./src/lib/makeActionCreator/index.ts"),n=r("./src/reddit/actions/preferences.ts"),a=r("./src/graphql/operations/SubredditTopContent.json"),c=r("./src/lib/makeGqlRequest/index.ts"),o=r("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts");const d="SUBREDDIT_TOP_CONTENT__PENDING",i="SUBREDDIT_TOP_CONTENT__LOADED",u="SUBREDDIT_TOP_CONTENT__FAILED",l=Object(s.a)(d),p=Object(s.a)(i),b=Object(s.a)(u),f=e=>async(t,r,s)=>{const d=e.toLowerCase(),i=r(),{api:u,topContent:f}=i.subreddits;if(u.topContent.pending[d]||f[d])return;t(l({subredditName:d})),t(Object(n.z)());const y=await((e,t)=>Object(c.a)(e,{...a,variables:t}))(s.gqlContext(),{subredditName:d});if(y.ok){const e=y.body.data.subreddit;if(e){const r=Object(o.c)(e);r&&t(p({...r,subredditName:d}))}}else t(b({subredditName:d,error:y.error}))}},"./src/reddit/actions/tabBadging.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"c",(function(){return _})),r.d(t,"b",(function(){return h})),r.d(t,"e",(function(){return g})),r.d(t,"d",(function(){return S})),r.d(t,"f",(function(){return D}));var s=r("./node_modules/reselect/es/index.js"),n=r("./src/lib/fastdom/index.ts"),a=r("./src/lib/makeActionCreator/index.ts"),c=r("./src/reddit/actions/chat/unreadCount.ts"),o=r("./src/reddit/actions/inbox.ts"),d=r("./src/reddit/contexts/PageLayer/selectors.ts"),i=r("./src/reddit/helpers/tabBadging/index.ts"),u=r("./src/reddit/models/Badge/index.ts"),l=r("./src/reddit/selectors/appBadges.ts"),p=r("./src/reddit/selectors/chat.ts"),b=r("./src/reddit/selectors/experiments/inboxAppBadgingGql.ts"),f=r("./src/reddit/selectors/experiments/inboxRedesign.ts"),y=r("./src/reddit/selectors/user.ts"),m=r("./src/reddit/actions/appBadgeIndicators/index.ts");const E="TAB__UPDATE_HAS_UNREAD_MESSAGES_BADGE",O=Object(a.a)(E),_=(e,t)=>{e<=0?n.a.write(()=>{Object(i.b)(!1),window.document.title=t}):n.a.write(()=>{Object(i.b)(),window.document.title=`(${e}) ${t}`})},h=Object(s.c)({basicChannelCount:l.e,subredditChannelCount:l.d,subredditMentionCount:l.c}),I=e=>{const t=Object(b.a)(e);return{inboxCount:t?Object(l.h)(e):Object(y.E)(e)||0,basicChannelCount:t?Object(l.e)(e):Object(p.a)(e)||0}},g=()=>async(e,t)=>{const r=t(),s=Object(d.e)(r,{}),n=Object(b.a)(r),a=Object(y.I)(r)||Object(y.J)(r),c=Object(f.c)(r);let o=0;a&&s&&(o=n?c?Object(l.i)(r):Object(l.j)(r):(e=>{const{inboxCount:t,basicChannelCount:r}=I(e);return t+r})(r),_(o,s),e(O({hasUnreadMessages:!!o})))},S=()=>async(e,t)=>{{e(g());const r=I(t());Object(i.c)(r)}},D=e=>async(t,r)=>{const s=r();if(Object(b.a)(s)){const r=Object(l.e)(s),n=Object(l.h)(s),{basicChannelCount:a,inboxCount:c}=e;if(r!==a){const e=Object(m.e)({count:a,key:u.c.ChatTab});t(Object(m.a)(e))}if(c&&c!==n){const e=Object(m.e)({count:c,key:u.c.MessageTab});t(Object(m.a)(e))}(r!==a||c&&c!==n)&&t(g())}else{const r=Object(p.a)(s),n=Object(p.b)(s),a=Object(y.E)(s),{basicChannelCount:d,inboxCount:i}=e;r!==d&&t(Object(c.b)({...n,basicChannelCount:d})),i&&i!==a&&t(Object(o.b)({inboxCount:i})),(r!==d||i&&i!==a)&&t(g())}}},"./src/reddit/actions/theme.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c}));var s=r("./src/lib/makeActionCreator/index.ts");const n="THEME_CHANGED",a=(Object(s.a)(n),"BOOTUP_THEME"),c=Object(s.a)(a)},"./src/reddit/actions/tracking.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c}));var s=r("./src/lib/makeActionCreator/index.ts");const n="TRACKING__VIEWPORT_DATA_LOADED",a="TRACKING__VIEWPORT_DATA_UNLOADED",c=Object(s.a)(n);Object(s.a)(a)},"./src/reddit/actions/trafficStats/constants.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a}));const s="SUBREDDIT__TRAFFIC_STATS_LOADED",n="SUBREDDIT__TRAFFIC_STATS_PENDING",a="SUBREDDIT__TRAFFIC_STATS_FAILED"},"./src/reddit/actions/upload.ts":function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"h",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"g",(function(){return f})),r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return E})),r.d(t,"m",(function(){return h})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return A})),r.d(t,"i",(function(){return P})),r.d(t,"j",(function(){return w}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/lodash/get.js"),n=r.n(s),a=r("./node_modules/uuid/v4.js"),c=r.n(a),o=r("./src/lib/makeActionCreator/index.ts"),d=r("./src/lib/uploadToS3/index.ts"),i=r("./src/reddit/models/Upload/index.ts");const u="UPLOAD_PENDING",l="UPLOAD_UPLOADING",p="UPLOAD_METADATA_CHANGED",b="UPLOAD_PROGRESS",f="UPLOAD_SUCCESS",y="UPLOAD_FAILED",m="UPLOAD_CANCELED",E="UPLOAD_REMOVED",O=Object(o.a)(u),_=Object(o.a)(l),h=Object(o.a)(p),I=Object(o.a)(b),g=Object(o.a)(f),S=Object(o.a)(y),D=Object(o.a)(m),T=Object(o.a)(E),j=new Map,v=(e,t)=>{const r=j.get(e)||[];r.push(t),j.set(e,r)},A=(e,t,r,s=!1)=>async(a,o,{apiContext:u})=>{const l=t;if(o().uploads[l]&&Object(i.c)(o().uploads[l]))return;const p=c()(),b=()=>{const e=o().uploads[l];return!e||e.id!==p||e.status===i.a.CANCELED};a(O({key:l,id:p,file:e}));const{uploadLease:f,error:y}=await r(o().uploads[l]);if(b())return;if(y||!f)return void a(S({key:l,error:y}));let m;v(p,()=>{m&&m.abort()}),a(_({key:l}));const E=await Object(d.a)(e,f,e=>(m=e,s&&e.on("progress",e=>{if(!b()&&"upload"===e.direction){const t={percent:e.percent,total:e.total,uploaded:e.loaded};a(I({key:l,progress:t}))}}),e));if(m=null,!b())if(E.ok){const e=decodeURIComponent(E.body.PostResponse.Location);a(g({key:l,url:e}))}else{const e=n()(E,"body.Error.Message.0"),t={type:"ERROR",...e?{fields:[{field:"0",msg:e}]}:{}};a(S({key:l,error:t}))}},P=(e,t=!1)=>(r,s)=>{const n=s().uploads[e];n&&(((e,t)=>{const r=j.get(e);r&&r.forEach(r=>r(e,t)),j.delete(e)})(n.id,t),r(t?T({key:e}):D({key:e})))},w=(e,t=!1)=>(r,s)=>{Object.keys(s().uploads).forEach(s=>{s.startsWith(e)&&r(P(s,t))})}},"./src/reddit/actions/userBlocks.ts":function(e,t,r){"use strict";r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return p})),r.d(t,"h",(function(){return m})),r.d(t,"b",(function(){return E})),r.d(t,"c",(function(){return O})),r.d(t,"a",(function(){return _})),r.d(t,"g",(function(){return S}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/blockedRedditors.ts"),c=r("./src/reddit/actions/toaster.ts"),o=r("./src/reddit/endpoints/accounts/index.ts"),d=r("./src/reddit/models/Toast/index.ts"),i=r("./src/reddit/selectors/user.ts");const u="USER_BLOCK__PENDING",l="USER_BLOCK__LOADED",p="USER_BLOCK__FAILED",b=Object(n.a)(u),f=Object(n.a)(l),y=Object(n.a)(p),m=e=>async(t,r,{apiContext:n})=>{if(r().blockUser.api.pending[e])return;t(b({username:e}));const i=await Object(o.a)(n(),e),u=`error-block-${e}`;if(i.ok)i.body.name&&t(f(i.body)),i.body.id&&t(Object(a.f)(i.body.id)),t(c.f(u)),t(c.e({kind:d.b.SuccessCommunity,text:s.fbt._("{username} is now blocked",[s.fbt._param("username",e)],{hk:"MI2y8"})}));else{const r={type:i.error?i.error.type:"Unknown error",username:e};t(y(r)),t(c.e({id:u,kind:d.b.Error,text:s.fbt._("An error has occured. Please try again later",null,{hk:"2FpsLy"}),buttonText:s.fbt._("Retry",null,{hk:"36rgQw"}),buttonAction:m(e)}))}},E="USER_UNBLOCK__PENDING",O="USER_UNBLOCK__SUCCESS",_="USER_UNBLOCK__FAILED",h=Object(n.a)(E),I=Object(n.a)(O),g=Object(n.a)(_),S=e=>async(t,r,{apiContext:n})=>{const u=r(),l=Object(i.i)(u),p=l?l.id:void 0,b=u.user.blocked.data.filter(t=>t.name===e)[0];p&&(t(h({name:e})),(await Object(o.c)(n(),p,e)).ok?(t(I({name:e})),b&&b.id&&t(Object(a.h)(b.id)),t(c.e({kind:d.b.SuccessCommunity,text:s.fbt._("{username} is now unblocked",[s.fbt._param("username",e)],{hk:"4CEi6N"})}))):(t(c.e({kind:d.b.Error,text:s.fbt._("An error has occured. Please try again later",null,{hk:"2FpsLy"})})),t(g({name:e}))))}},"./src/reddit/actions/userFlair.ts":function(e,t,r){"use strict";r.d(t,"i",(function(){return m})),r.d(t,"a",(function(){return E})),r.d(t,"d",(function(){return O})),r.d(t,"b",(function(){return g})),r.d(t,"h",(function(){return j})),r.d(t,"c",(function(){return w})),r.d(t,"g",(function(){return N})),r.d(t,"f",(function(){return k})),r.d(t,"e",(function(){return F})),r.d(t,"o",(function(){return H})),r.d(t,"n",(function(){return V})),r.d(t,"m",(function(){return K})),r.d(t,"l",(function(){return W})),r.d(t,"j",(function(){return $})),r.d(t,"k",(function(){return Q})),r.d(t,"p",(function(){return z}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./node_modules/lodash/isEmpty.js"),c=r.n(a),o=r("./src/reddit/actions/authorFlair.ts"),d=r("./src/reddit/actions/toaster.ts"),i=r("./src/reddit/endpoints/flair/index.ts"),u=r("./src/reddit/helpers/flair.ts"),l=r("./src/reddit/models/Flair/index.ts"),p=r("./src/reddit/models/Toast/index.ts"),b=r("./src/reddit/models/User/index.ts"),f=r("./src/reddit/selectors/subreddit.ts"),y=r("./src/reddit/selectors/userFlair.ts");const m="USER_FLAIR_DATA__MUTATED",E="AUTHOR_FLAIR_DATA__MUTATED",O="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",_=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),h=Object(n.a)(O),I=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),g="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",S=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),D=Object(n.a)(g),T=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),j="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",v=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),A=Object(n.a)(j),P=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),w="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",R=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),C=Object(n.a)(w),L=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),N="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",k="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",x=Object(n.a)(N),U=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),M=Object(n.a)(k),F="USERFLAIR_FETCH_SUCCESS",G=Object(n.a)(F),B=Object(n.a)(m),q=Object(n.a)(E),H=(e,t,r,s,n)=>async(a,c,{apiContext:o})=>{const d=c(),l=d.user.account,p=l?Object(b.e)(l):void 0,m={...Object(y.c)(d,{subredditId:n}).displaySettings,isUserEnabled:r},E={userName:s,subredditId:n,applied:e,displaySettings:m};a(s===p?B(E):q(E));const O=Object(f.S)(d,{subredditId:n}),_=t&&e?Object(u.g)(e):void 0;Object(i.g)(o(),s,O.name,t,_),Object(i.i)(o(),r,O.name)},V=(e,t)=>async(r,s,{apiContext:n})=>{const a=s(),c=Object(f.S)(a,{subredditId:e}).name;r(_());const o=await Object(i.l)(n(),c,t);if(o.ok){r(h({subredditId:e,isEnabled:t}))}else r(I());return o.ok},K=(e,t)=>async(r,s,{apiContext:n})=>{const a=s(),c=Object(f.S)(a,{subredditId:e}).name;r(S());const o=await Object(i.j)(n(),t,l.d.UserFlair,c);if(o.ok){r(D({subredditId:e,canAssignOwn:t}))}else r(T());return o.ok},W=(e,t)=>async(r,n,{apiContext:a})=>{const c=n(),o=Object(f.S)(c,{subredditId:t}).name;r(v());const u=await Object(i.f)(a(),e,o,l.d.UserFlair),b=u.ok&&!(u.body&&!1===u.body.success);if(b){const e={subredditId:t,template:u.body};r(A(e));const n=Object(d.d)(s.fbt._("Flair saved!",null,{hk:"354KI0"}),p.b.SuccessMod);r(Object(d.e)(n))}else{r(P());const n=Object(d.d)(s.fbt._("Sorry, flair wasn't saved.",null,{hk:"4tkRNl"}),p.b.Error,s.fbt._("Retry",null,{hk:"4zNHTm"}),W(e,t));r(Object(d.e)(n))}return b},$=(e,t)=>async(r,n,{apiContext:a})=>{const c=n(),o=Object(f.S)(c,{subredditId:t}).name;if(r(R()),(await Object(i.b)(a(),e,o)).ok){r(C({subredditId:t,templateId:e}));const n=Object(d.d)(s.fbt._("Flair deleted!",null,{hk:"1mNdn0"}),p.b.SuccessMod);r(Object(d.e)(n))}else{r(L());const n=Object(d.d)(s.fbt._("Sorry, flair wasn't deleted.",null,{hk:"2QrdJr"}),p.b.Error,s.fbt._("Retry",null,{hk:"1buF3Y"}),$(e,t));r(Object(d.e)(n))}},Q=(e,t)=>async(r,n,{apiContext:a})=>{const c=n(),o=Object(f.S)(c,{subredditId:t}).name,u=Object(y.c)(c,{subredditId:t}).templateIds;if(r(x({subredditId:t,templateIds:e})),(await Object(i.e)(a(),o,l.d.UserFlair,e)).ok){r(U());const e=Object(d.d)(s.fbt._("Flair reorder saved.",null,{hk:"1zrDON"}),p.b.SuccessMod);r(Object(d.e)(e))}else{r(M({subredditId:t,templateIds:u}));const n=Object(d.d)(s.fbt._("Sorry. Flair reorder wasn't saved.",null,{hk:"3gAbwk"}),p.b.Error,s.fbt._("Retry",null,{hk:"2nPnNw"}),Q(e,t));r(Object(d.e)(n))}},z=(e,t)=>async(r,n,{apiContext:a})=>{const u=n(),l=u.userFlair;if(l&&l[e]&&l[e].displaySettings.isEnabled&&c()(l[e].templateIds)){const n=Object(f.S)(u,{subredditId:e}).name,c=await Object(i.d)(a(),n);if(c.ok)r(G(c.body)),r(Object(o.b)({username:t,subredditId:e}));else{const e=Object(d.d)(s.fbt._("Something went wrong. Just don't panic.",null,{hk:"4Ck6Cm"}),p.b.Error);r(Object(d.e)(e))}}else r(Object(o.b)({username:t,subredditId:e}))}},"./src/reddit/actions/userWhitelist.ts":function(e,t,r){"use strict";r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"g",(function(){return f})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return m})),r.d(t,"a",(function(){return E})),r.d(t,"h",(function(){return I}));var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/actions/toaster.ts"),c=r("./src/reddit/endpoints/accounts/index.ts"),o=r("./src/reddit/models/Toast/index.ts");const d="USER_WHITELIST__PENDING",i="USER_WHITELIST__SUCCESS",u="USER_WHITELIST__FAILED",l=Object(n.a)(d),p=Object(n.a)(i),b=Object(n.a)(u),f=e=>async(t,r,{apiContext:n})=>{t(l());const d=await Object(c.e)(n(),e);d.ok?d.body.name&&(t(p(d.body)),t(a.e({kind:o.b.SuccessCommunity,text:s.fbt._("Changes saved",null,{hk:"3cOmlv"})}))):(t(b()),t(a.e({kind:o.b.Error,text:s.fbt._("An error has occured. Please try again later",null,{hk:"3Dszn7"})})))},y="USER_UNWHITELIST__PENDING",m="USER_UNWHITELIST__SUCCESS",E="USER_UNWHITELIST__FAILED",O=Object(n.a)(y),_=Object(n.a)(m),h=Object(n.a)(E),I=e=>async(t,r,{apiContext:n})=>{t(O({name:e})),(await Object(c.d)(n(),e)).ok?(t(_({name:e})),t(a.e({kind:o.b.SuccessCommunity,text:s.fbt._("Changes saved",null,{hk:"2o6UcC"})}))):(t(h({name:e})),t(a.e({kind:o.b.Error,text:s.fbt._("An error has occured. Please try again later",null,{hk:"3Dszn7"})})))}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return f}));var s,n=r("./src/lib/makeActionCreator/index.ts"),a=r("./src/reddit/endpoints/usernameAvailable/index.ts");!function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(s||(s={}));const c="USERNAME_AVAILABLE__AVAILABLE",o="USERNAME_AVAILABLE__FAILURE",d="USERNAME_AVAILABLE__PENDING",i="USERNAME_AVAILABLE__UNAVAILABLE",u=Object(n.a)(c),l=Object(n.a)(o),p=Object(n.a)(d),b=Object(n.a)(i),f=({username:e})=>async(t,r,{apiContext:n})=>{const c=r().users.nameAvailable;if(!c[e]||c[e]===s.Error){t(p({username:e}));const r=await Object(a.a)(n(),{username:e});r.ok?r.body?t(u({username:e})):t(b({username:e})):t(l({username:e}))}}},"./src/reddit/components/ScheduledPost/SchedulePicker/helpers.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return o}));var s=r("./src/lib/timezone/index.ts"),n=r("./src/reddit/models/ScheduledPost/index.ts");const a={frequency:n.d.Hourly,interval:1,byMonthDays:[],byWeekDays:[]},c=()=>{const e=new Date;return e.setMinutes(60),{submitDate:Object(s.g)(e),timezoneName:Object(s.b)()||s.a,frequencyOption:null,recurrenceInfo:null}},o=(e,t,r=a)=>{const s=Object(n.q)(e.getDay()),c=e.getDate();let o=r?{...r}:null;switch(t){case n.d.Monthly:o={...a,...r,frequency:t,byMonthDays:[c]};break;case n.d.Weekly:o={...a,...r,frequency:t,byWeekDays:[s]};break;case n.d.Daily:case n.d.Hourly:o={...a,...r,frequency:t};break;case null:return null}return o}},"./src/reddit/components/TrackingHelper/index.tsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return p}));var s=r("./node_modules/react/index.js"),n=r.n(s),a=r("./node_modules/react-redux/es/index.js"),c=r("./src/reddit/selectors/telemetry.ts"),o=r("./src/telemetry/index.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}const i=n.a.createContext(()=>{});function u({children:e}){const t=Object(a.e)(),r=Object(s.useCallback)(e=>{{const r=t.getState(),s=e(r);Object(o.a)({...c.defaults(r),...s})}},[t]);return n.a.createElement(i.Provider,{value:r},e?n.a.Children.only(e):null)}function l(){return Object(s.useContext)(i)}function p(e){function t(t){const r=l();return n.a.createElement(e,d({},t,{sendEvent:r}))}return t.displayName="Tracked",t.WrappedComponent=e,t}},"./src/reddit/constants/errors.ts":function(e,t,r){"use strict";var s,n;r.d(t,"a",(function(){return s})),function(e){e.BannedProfile="BANNED",e.DeletedProfile="DELETED",e.NotFoundProfile="NOT_FOUND",e.ForbiddenProfile="FORBIDDEN"}(s||(s={})),function(e){e.Unknown="Unknown"}(n||(n={}))},"./src/reddit/constants/inFeedChaining.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a}));const s=3,n=5,a=10},"./src/reddit/constants/shortcuts.ts":function(e,t,r){"use strict";var s,n;r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c})),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(s||(s={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(n||(n={}));const a="SHORTCUT_FOCUSABLE_DIV",c=[9,13,32]},"./src/reddit/endpoints/accounts/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return i})),r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return p}));var s=r("./src/config.ts"),n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeApiRequest/index.ts"),c=r("./src/lib/omitHeaders/index.ts"),o=r("./src/reddit/constants/headers.ts");const d=async(e,t)=>Object(a.a)(Object(c.a)(e,[o.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/block_user`,method:n.cb.POST}),i=async(e,t,r)=>Object(a.a)(Object(c.a)(e,[o.a]),{data:{name:r,container:t,type:"enemy"},endpoint:`${e.apiUrl}/api/unfriend`,method:n.cb.POST}),u=async(e,t)=>Object(a.a)(Object(c.a)(e,[o.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/add_whitelisted?include_model`,method:n.cb.POST}),l=async(e,t)=>Object(a.a)(Object(c.a)(e,[o.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/remove_whitelisted`,method:n.cb.POST}),p=async(e,t)=>Object(a.a)(Object(c.a)(e,[o.a]),{endpoint:`${s.a.oauthUrl}/user/${t}/about`,method:n.cb.GET,data:{raw_json:1}})},"./src/reddit/endpoints/crowdControl/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var s,n=r("./src/graphql/operations/CrowdControlLevelInfo.json"),a=r("./src/lib/makeGqlRequest/index.ts");!function(e){e.Off="OFF",e.Lenient="LENIENT",e.Medium="MEDIUM",e.Strict="STRICT"}(s||(s={}));const c=(e,t)=>Object(a.a)(e,{...n,variables:{postId:t}})},"./src/reddit/endpoints/governance/badges.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return o}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./src/config.ts"),n=r("./src/reddit/endpoints/governance/requester.ts");async function a(e,t,r){const a=Object(n.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},method:"post",endpoint:`${s.a.metaUrl}/badges/${t}`,data:{selected:!0,users:r}}),c=await a;if(c.ok){const e={},t={},r=c.body;return Object.keys(r).forEach(s=>{const n=r[s];t[s]=n,e[n.userId]||(e[n.userId]=[]),e[n.userId].push(n.id)}),{...c,body:{badges:t,usersAppliedBadges:e}}}return c}async function c(e,t,r){const a=await Object(n.a)(e,{method:"get",endpoint:`${s.a.metaUrl}/badges/${t}?users=${r}`});if(a.ok){const e={},t=[],r=a.body;return Object.keys(r).forEach(s=>{const n=r[s];e[s]=n,t.push(n.id)}),{...a,body:{badges:e,userOwnedBadges:t}}}return a}function o(e,t,r,a=!0){return Object(n.a)(e,{method:"patch",endpoint:`${s.a.metaUrl}/badges/${t}/${r}`,data:{selected:a}})}},"./src/reddit/endpoints/governance/products/badges.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return d}));var s=r("./src/config.ts"),n=r("./src/reddit/endpoints/governance/requester.ts");function a(e,t){return Object(n.a)(e,{method:"get",endpoint:`${s.a.metaUrl}/products/${t}?types=badge`})}function c(e,t){return Object(n.a)(e,{method:"get",endpoint:`${s.a.metaUrl}/products/${t}?types=badge,membership`})}function o(e,t){return Object(n.a)(e,{method:"post",endpoint:`${s.a.metaUrl}/orders`,data:t})}function d(e,t){return Object(n.a)(e,{method:"post",endpoint:`${s.a.metaUrl}/orders`,data:{currency:"usd",price:t.price,products:t.products,providerArgs:{paymentNonce:t.nonce},providerName:"braintree",subredditId:t.subredditId}})}},"./src/reddit/endpoints/me/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("./src/config.ts"),n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeApiRequest/index.ts");const c=e=>Object(a.a)(e,{endpoint:`${s.a.gatewayUrl}/desktopapi/v1/me`,method:n.cb.GET})},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,r){"use strict";var s=r("./src/lib/constants/index.ts"),n=r("./src/lib/makeApiRequest/index.ts"),a=r("./src/lib/omitHeaders/index.ts"),c=r("./src/reddit/constants/headers.ts");t.a=async e=>Object(n.a)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/subreddit_permissions`,method:s.cb.GET,traceRequestName:"get_subreddit_permissions"})},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return p}));var s=r("./src/reddit/helpers/flair.ts"),n=r("./src/reddit/models/PostDraft/index.ts");const a=e=>({id:e.json.data.id,draftsCount:e.json.data.drafts_count}),c=e=>e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{},o=e=>{switch(e.kind){case n.b.Link:return"link";case n.b.Markdown:return"markdown";case n.b.RichText:return"richtext";default:return"self"}},d=e=>{switch(e){case"link":return n.b.Link;case"markdown":return n.b.Markdown;case"richtext":return n.b.RichText;default:return"self"}},i=e=>e.title.substring(0,300),u=e=>{switch(e.kind){case n.b.Link:case n.b.Markdown:return e.body;case n.b.RichText:return JSON.stringify({document:e.body})}},l=e=>e?{flair_id:e.templateId||null,flair_text:Object(s.g)(e)||null,flair_text_color:e.textColor||null,flair_background_color:e.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null},p=e=>({id:e.draftId||void 0,...c(e),kind:o(e),title:i(e),body:u(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,...l(e.flair),send_replies:e.sendReplies,is_public_link:e.isPublicLink})},"./src/reddit/endpoints/usernameAvailable/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var s=r("./src/lib/constants/index.ts"),n=r("./src/lib/makeApiRequest/index.ts"),a=r("./src/lib/omitHeaders/index.ts"),c=r("./src/reddit/constants/headers.ts");const o=(e,t)=>Object(n.a)(Object(a.a)(e,[c.a]),{method:s.cb.GET,endpoint:`${e.apiUrl}/api/username_available.json?user=${t.username}`,type:"json"})},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,r){"use strict";var s=r("./node_modules/fbt/lib/FbtPublic.js"),n=r("./src/lib/constants/index.ts");t.a=()=>({type:n.E.SERVER_ERROR,fields:[{field:"",msg:s.fbt._("Something went wrong.",null,{hk:"RcX5A"})}]})},"./src/reddit/helpers/governanceErrorText/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/fbt/lib/FbtPublic.js");function n(e){return e[0].toUpperCase()+e.slice(1)}function a(e){return"extra"in e?"string"==typeof e.extra?e.extra:Object.keys(e.extra).map(t=>e.extra[t]).map(n).join(" "):s.fbt._("Something went wrong. Please try again later.",null,{hk:"16ibYk"})}function c(e){const t=`${e.type} (${e.code})`;return"message"in e?`${t}: ${e.message}`:t}},"./src/reddit/helpers/isArrayEqual.ts":function(e,t,r){"use strict";var s=r("./node_modules/lodash/isEqual.js"),n=r.n(s),a=r("./node_modules/lodash/xorWith.js"),c=r.n(a);t.a=(e,t)=>{const r=c()(e,t,n.a);return!(!r||0!==r.length)}},"./src/reddit/helpers/loadThirdPartyScript.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./src/config.ts"),n=r("./src/lib/fastdom/index.ts");const a="https://web.archive.org/web/20210201013819/https://js.stripe.com/v3/",c="https://web.archive.org/web/20210201013819/https://www.paypalobjects.com/api/checkout.js",o={checkout:"https://web.archive.org/web/20210201013819/https://js.braintreegateway.com/web/3.44.2/js/paypal-checkout.min.js",client:"https://web.archive.org/web/20210201013819/https://js.braintreegateway.com/web/3.44.2/js/client.min.js",paypal:`https://web.archive.org/web/20210201013819/https://www.paypal.com/sdk/js?client-id=${s.a.paypal.braintreeApiKey}`+"&currency=USD&vault=true"};function d(e,t){return t()?Promise.resolve():new Promise((r,s)=>n.a.write(()=>{t()&&r();const s=document.head;let n=s.querySelector(`script[src='${e}']`);n||((n=document.createElement("script")).src=e,s.appendChild(n)),n.addEventListener("load",(function e(){this.removeEventListener("load",e),r()}))}))}function i(){return d(a,()=>"undefined"!=typeof Stripe)}function u(){return d(c,()=>"undefined"!=typeof paypalCheckout).then(()=>{"undefined"==typeof paypalCheckout&&"undefined"!=typeof window&&(window.paypalCheckout=paypal),paypal=void 0})}function l(){return Promise.all(Object.keys(o).map(e=>{const t="__"+e;return d(o[e],()=>void 0!==window[t]).then(()=>{window[t]=!0})}))}},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,r){"use strict";var s=r("./node_modules/node-libs-browser/node_modules/url/url.js"),n=r.n(s),a=r("./src/config.ts"),c=r("./src/lib/addQueryParams/index.ts"),o=(r("./node_modules/core-js/modules/web.dom.iterable.js"),r("./src/reddit/selectors/subreddit.ts"));const d=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),i=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments|submitpage)(/|$)"),u=new RegExp("^/desktopapi/v1/(subreddits|postcomments|collection_postcomments)/?$"),l=(new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),new RegExp("^/desktopapi/v1/frontpage/?$")),p=new RegExp("^/desktopapi/v1/submitpage(/|$)");var b=(e,t,r)=>{const s=new Set;e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(s.add("identity"),s.add("prefs"),s.add("prefsAccount")),(e=>!d.test(e.pathname||""))(t)&&s.add("identity")),!e.live.isFrontpageLoaded&&(e=>l.test(e.pathname||""))(t)&&s.add("featuredLiveThread");const n=t.pathname||"";if(i.test(n)||u.test(n)){const n=((e,t)=>{if(p.test(e.pathname||"")){const{subreddit:e}=t.data;return e}})(t,r),a=e.platform.currentPage,c=a&&a.urlParams.subredditName,d=n||c||"",i=Object(o.F)(e,d);i&&e.structuredStyles.models[i]||s.add("structuredStyles"),e.user.prefs.subreddit[i]||s.add("prefsSubreddit")}return[...s].join(",")},f=r("./src/reddit/selectors/user.ts");t.a=e=>t=>{const r=n.a.parse(t.endpoint,!0),{host:s,protocol:o}=r;if(`${o}//${s}`===a.a.gatewayUrl){const s={},n=Object(f.bb)(e.getState())?"1":"";s.allow_over18=n,s.include=b(e.getState(),r,t),t.endpoint=Object(c.a)(t.endpoint,s)}}},"./src/reddit/helpers/ordinal/index.ts":function(e,t,r){"use strict";t.a=function(e){const t=["th","st","nd","rd"],r=e%100;return e+(t[(r-20)%10]||t[r]||t[0])}},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,r){"use strict";r("./node_modules/history/esm/history.js"),r("./src/reddit/actions/platform.ts");var s=r("./src/config.ts");t.a=(e,t)=>{const r=t.platform.currentPage&&t.platform.currentPage.url;let n=`${s.a.accountManagerOrigin}/login/`;const a=window.location.origin;r&&(n+=`?dest=${encodeURIComponent(`${a}${r}`)}`),window.location.href=n}},"./src/reddit/helpers/scheduledPosts/index.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return m})),r.d(t,"i",(function(){return E})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return _})),r.d(t,"f",(function(){return h})),r.d(t,"e",(function(){return g})),r.d(t,"h",(function(){return S})),r.d(t,"g",(function(){return D}));var s=r("./node_modules/fbt/lib/FbtPublic.js");r("./node_modules/react/index.js");const n=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};function a(e,t,...r){if(n(t),!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;(e=new Error(t.replace(/%s/g,()=>String(r[s++])))).name="Invariant Violation"}throw e.framesToPop=1,e}}const c={AND:"AND",NONE:"NONE",OR:"OR"},o={COMMA:"COMMA",SEMICOLON:"SEMICOLON"};var d=function(e,t,r){const n=e.length;if(0===n)return"";if(1===n)return e[0];const d=e[n-1];let i=e[0];for(let a=1;a<n-1;++a)switch(r){case o.SEMICOLON:i=s.fbt._("{previous items}; {following items}",[s.fbt._param("previous items",i),s.fbt._param("following items",e[a])],{hk:"4hs4xq"});break;default:i=s.fbt._("{previous items}, {following items}",[s.fbt._param("previous items",i),s.fbt._param("following items",e[a])],{hk:"2z8RMb"})}return function(e,t,r,n){switch(r){case c.AND:return s.fbt._("{list of items} and {last item }",[s.fbt._param("list of items",e),s.fbt._param("last item ",t)],{hk:"1ylan1"});case c.OR:return s.fbt._("{list of items} or {last item}",[s.fbt._param("list of items",e),s.fbt._param("last item",t)],{hk:"3q8AmB"});case c.NONE:switch(n){case o.SEMICOLON:return s.fbt._("{previous item}; {last item}",[s.fbt._param("previous item",e),s.fbt._param("last item",t)],{hk:"1h77rJ"});default:return s.fbt._("{list of items}, {last item}",[s.fbt._param("list of items",e),s.fbt._param("last item",t)],{hk:"3Q0iaX"})}default:a(!1,"Invalid conjunction %s provided to intlList",r)}}(i,d,t||c.AND,r||o.COMMA)},i=r("./src/lib/timezone/index.ts"),u=r("./src/reddit/helpers/isArrayEqual.ts"),l=r("./src/reddit/helpers/ordinal/index.ts"),p=r("./src/reddit/models/ScheduledPost/index.ts");const b=e=>{return`${e.toLocaleDateString(void 0,{month:"numeric",day:"numeric"})} @ ${e.toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"}).replace(" ","").toLowerCase()}`},f=(e,t)=>{if(e&&t){const r=Object(i.f)(m(e,t)),n=b(r);return s.fbt._("Submit post at {time}",[s.fbt._param("time",n)],{hk:"IZ3L"})}return s.fbt._("Submit post at scheduled event time",null,{hk:"lYsoU"})},y=e=>e.slice(0,5),m=(e,t)=>`${e}T${y(t)}:00`,E=e=>{const[t,r]=e.split("T");return[t,y(r)]},O=e=>{const[t,r]=E(e);if(t&&r){const e=Object(i.f)(m(t,r));return b(e)}return""},_=e=>{const t=Object(i.d)(e);let r,s=e;if(t){r=t.offset,s=`(GMT${Object(i.e)(t.offset)}) ${e.replace("/"," - ").replace(/_/g," ")}`}return{name:e,displayText:s,offset:r}},h=e=>"string"==typeof e,I=e=>{const t=new Date,r=e-t.getDay();return t.setDate(t.getDate()+r),t.toLocaleDateString(void 0,{weekday:"long"})},g=e=>{const t=(e=>{const[t,r]=E(e);if(t&&r){return Object(i.f)(m(t,r)).toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"})}return""})(e.publishAt);if(e.frequency===p.d.Hourly)return 2===e.interval?s.fbt._("Every other hour",null,{hk:"64vzK"}):e.interval>1?s.fbt._("Every {hour interval} hours",[s.fbt._param("hour interval",e.interval.toString())],{hk:"3x8zaD"}):s.fbt._("Every hour",null,{hk:"1VzCs"});if(e.frequency===p.d.Daily)return 2===e.interval?s.fbt._("Every other day at {start time}",[s.fbt._param("start time",t)],{hk:"yTynp"}):e.interval>1?s.fbt._("Every {day interval} days at {start time}",[s.fbt._param("day interval",e.interval.toString()),s.fbt._param("start time",t)],{hk:"2OoGlG"}):s.fbt._("Every day at {start time}",[s.fbt._param("start time",t)],{hk:"1cvwm2"});if(e.frequency===p.d.Weekly){const r=(e=>d(e.map(p.k).sort((e,t)=>e-t).map(I),c.AND,o.COMMA))(e.byWeekDays);return 2===e.interval?s.fbt._("Every other week on {days of week } at {start time}",[s.fbt._param("days of week ",r),s.fbt._param("start time",t)],{hk:"43xwaa"}):e.interval>1?s.fbt._("Every {interval} weeks on {days of week} at {start time}",[s.fbt._param("interval",e.interval.toString()),s.fbt._param("days of week",r),s.fbt._param("start time",t)],{hk:"2IVbH"}):s.fbt._("Every week on {days of week} at {start time}",[s.fbt._param("days of week",r),s.fbt._param("start time",t)],{hk:"2Zl0L"})}const r=(e=>d(e.sort((e,t)=>e-t).map(l.a),c.AND,o.COMMA))(e.byMonthDays);return 2===e.interval?s.fbt._({"*":"Every other month on the {days of month} days at {start time}",_1:"Every other month on the {days of month} day at {start time}"},[s.fbt._param("days of month",r),s.fbt._plural(e.byMonthDays.length),s.fbt._param("start time",t)],{hk:"okH9o"}):e.interval>1?s.fbt._({"*":"Every {interval} months on the {days of month} days at {start time}",_1:"Every {interval} months on the {days of month} day at {start time}"},[s.fbt._param("interval",e.interval.toString()),s.fbt._param("days of month",r),s.fbt._plural(e.byMonthDays.length),s.fbt._param("start time",t)],{hk:"KqN3x"}):s.fbt._({"*":"Every month on the {days of month} days at {start time}",_1:"Every month on the {days of month} day at {start time}"},[s.fbt._param("days of month",r),s.fbt._plural(e.byMonthDays.length),s.fbt._param("start time",t)],{hk:"1jBuYc"})},S=e=>{let t=null;e.frequency&&(t=e.frequency),(e.byWeekDays.length>1||e.byMonthDays.length>1||e.interval>1)&&(t=p.b);const r=Object(i.f)(e.publishAt),s=Object(p.q)(r.getDay()),n=r.getDate();return 1===e.byWeekDays.length&&e.byWeekDays[0]!==s&&(t=p.b),1===e.byMonthDays.length&&e.byMonthDays[0]!==n&&(t=p.b),{recurrenceInfo:e.frequency?{frequency:e.frequency,byMonthDays:e.byMonthDays,byWeekDays:e.byWeekDays,interval:e.interval}:null,frequencyOption:t,submitDate:e.publishAt,timezoneName:e.clientTimezone}},D=(e,t)=>{if(!e&&t||e&&!t)return!1;if(!e&&!t)return!0;for(const r in e){if(!t)return!1;if(e.hasOwnProperty(r)){if(Array.isArray(e[r])&&(!Array.isArray(t[r])||!Object(u.a)(e[r],t[r])))return!1;if(e[r]!==t[r])return!1}}return!0}},"./src/reddit/helpers/tabBadging/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return l}));var s=r("./src/config.ts");const n=`${s.a.assetPath}/img/favicon/badged-favicon-32x32.png`,a=`${s.a.assetPath}/img/favicon/badged-favicon-16x16.png`,c=`${s.a.assetPath}/img/favicon/favicon-32x32.png`,o=`${s.a.assetPath}/img/favicon/favicon-16x16.png`,d="badgeCountSync",i=e=>window.document.querySelector(`link[href="${e}"]`),u=(e=!0)=>{const t=i(e?c:n),r=i(e?o:a);t&&r&&(t.href=e?n:c,r.href=e?a:o)},l=e=>{navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:d,badgeCounts:e})}},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r("./src/telemetry/index.ts"),n=r("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>{Object(s.a)({action:"view",source:"commentlist",noun:"bottom",...n.defaults(e),listing:n.listing(e,t),subreddit:n.subreddit(e)})}},"./src/reddit/helpers/trackers/discoveryUnit.ts":function(e,t,r){"use strict";r.d(t,"g",(function(){return O})),r.d(t,"h",(function(){return _})),r.d(t,"a",(function(){return S})),r.d(t,"E",(function(){return D})),r.d(t,"F",(function(){return T})),r.d(t,"M",(function(){return v})),r.d(t,"B",(function(){return A})),r.d(t,"C",(function(){return P})),r.d(t,"D",(function(){return w})),r.d(t,"i",(function(){return R})),r.d(t,"w",(function(){return C})),r.d(t,"x",(function(){return L})),r.d(t,"L",(function(){return N})),r.d(t,"K",(function(){return k})),r.d(t,"I",(function(){return x})),r.d(t,"v",(function(){return U})),r.d(t,"y",(function(){return M})),r.d(t,"z",(function(){return F})),r.d(t,"A",(function(){return G})),r.d(t,"N",(function(){return B})),r.d(t,"J",(function(){return q})),r.d(t,"t",(function(){return H})),r.d(t,"H",(function(){return V})),r.d(t,"d",(function(){return K})),r.d(t,"c",(function(){return W})),r.d(t,"b",(function(){return $})),r.d(t,"f",(function(){return Q})),r.d(t,"e",(function(){return z})),r.d(t,"s",(function(){return J})),r.d(t,"m",(function(){return Z})),r.d(t,"r",(function(){return ee})),r.d(t,"k",(function(){return te})),r.d(t,"l",(function(){return re})),r.d(t,"n",(function(){return se})),r.d(t,"p",(function(){return ne})),r.d(t,"q",(function(){return ae})),r.d(t,"o",(function(){return ce})),r.d(t,"j",(function(){return oe})),r.d(t,"u",(function(){return de})),r.d(t,"G",(function(){return ie}));var s,n=r("./src/lib/stringInterpolate/index.ts"),a=r("./src/reddit/actions/focusedVerticals/constants.ts"),c=(r("./src/reddit/constants/categories.tsx"),r("./src/reddit/constants/tracking.ts")),o=r("./src/reddit/helpers/correlationIdTracker.ts"),d=r("./src/reddit/helpers/trackers/searchResults.ts"),i=r("./src/reddit/models/DiscoveryUnit/index.ts"),u=r("./src/reddit/models/Widgets/index.ts"),l=r("./src/reddit/selectors/posts.ts"),p=r("./src/reddit/selectors/telemetry.ts"),b=r("./src/reddit/selectors/widgets.ts"),f=r("./src/telemetry/index.ts");!function(e){e.HEADER_SUBREDDIT="header_subreddit",e.ITEM_POST="item_post",e.ITEM_POST_SUBREDDIT="item_post_subreddit",e.ITEM_SUBREDDIT="item_subreddit",e.ITEM_SUBREDDIT_HIDE="item_subreddit_hide",e.ITEM_SUBREDDIT_SUBSCRIBE="item_subreddit_subscribe",e.ITEM_SUBREDDIT_UNSUBSCRIBE="item_subreddit_unsubscribe"}(s||(s={}));const y="discovery_unit",m=(e,t,r)=>({...p.defaults(e),source:y,screen:p.screen(e),discoveryUnit:{id:t.id,type:t.unitType,title:t.title&&r?Object(n.a)(t.title,{subredditName:r.name}):t.title,name:t.unitName}}),E=(e,t,r)=>({...m(e,t,r),source:"global",action:"view",noun:"discovery_unit"}),O=(e,t)=>{Object(f.a)(_(t)(e))},_=(e,t)=>r=>E(r,e,t),h=(e,t,r,s)=>"unitName"in t?m(e,t,s):((e,t,r)=>({...p.defaults(e),source:"search",screen:p.screen(e),search:r?{...p.search(e,r),structureType:p.StructureType.Trending}:null,discoveryUnit:{id:t.name,type:"listing",title:t.layout.title,name:t.name}}))(e,t,r),I=(e,t,r,n,a)=>({...h(e,t,n,a),action:"view",noun:s.ITEM_POST,post:p.post(e,r)}),g=({post:e,rawQuery:t,searchQuery:r})=>({displayQuery:decodeURIComponent(r),rawQuery:t?decodeURIComponent(t):void 0,structureType:e&&e.isSponsored?p.StructureType.PromotedTrend:p.StructureType.Trending});var S;!function(e){e.POPULAR_CAROUSEL="popular_carousel",e.SEARCH_DROPDOWN="search_dropdown"}(S||(S={}));const D=(e,t,r)=>{Object(f.a)(j(e,t,r,c.c.CLICK))},T=(e,t,r)=>{Object(f.a)(j(e,t,r,c.c.VIEW))},j=(e,t,r,s)=>{const n=e.trending.models.filter(e=>!e.post||!e.post.isSponsored).findIndex(e=>e.id===t.id)+1;return{...p.defaults(e),source:"search",action:s,noun:"trending",metaSearch:g(t),discoveryUnit:r===S.POPULAR_CAROUSEL?{name:i.l,id:i.l,title:i.l,type:"query"}:void 0,actionInfo:p.actionInfo(e,{paneName:r,position:n}),search:{originPageType:e.platform.currentPage?p.getPageTypeFromCurrentPage(e.platform.currentPage):void 0,query:t.rawQuery,structureType:p.StructureType.Trending,queryId:s===c.c.CLICK?Object(o.c)(o.a.SearchResults):void 0}}},v=(e,t,r,s,n,a,o)=>{Object(f.a)({...p.defaults(e),...Object(d.e)(e,r,s,n,a,t),action:c.c.VIEW,noun:o?"ad":"post"})},A=(e,t,r,s)=>{Object(f.a)(I(e,t,r,s))},P=(e,t,r,s)=>n=>I(n,e,t,r,s),w=(e,t,r,n)=>{const a=h(e,t,n);Object(f.a)({...a,...Object(b.b)(e,r),action:"view",noun:s.ITEM_SUBREDDIT})},R=(e,t)=>{Object(f.a)({...m(e,t),source:y,action:c.c.CLICK,noun:"show_less_often"})},C=(e,t,r,s)=>{Object(f.a)(L(t,r,s)(e))},L=(e,t,r,n)=>a=>{return{...h(a,e,r,n),source:y,action:c.c.CLICK,noun:s.ITEM_POST,post:p.post(a,t)}},N=(e,t,r,s)=>n=>a=>Object(d.e)(a,n,e,t,r,s),k=(e,t,r,s)=>n=>a=>Object(d.d)(a,e,t,void 0,r,n,s),x=(e,t,r,s)=>n=>a=>({...Object(d.e)(a,n,e,t,r,s),noun:"ad"}),U=(e,t)=>r=>n=>({...e?m(n,e,t):{},source:y,action:c.c.CLICK,noun:s.ITEM_POST,post:p.post(n,r)}),M=(e,t,r,s)=>{Object(f.a)(F(t,r,s)(e))},F=(e,t,r,s)=>n=>{const a=Object(l.c)(n,{postId:t}),o=a?Object(b.b)(n,a):void 0;return{...h(n,e,r,s),...o,source:y,action:c.c.CLICK,noun:"item_post_subreddit",post:p.post(n,t)}},G=(e,t,r)=>s=>n=>{const a=Object(l.c)(n,{postId:t}),o=a?Object(b.b)(n,a):void 0;return{...h(n,e,void 0,r),...o,source:y,action:c.c.CLICK,noun:s?"item_post_subreddit_unsubscribe":"item_post_subreddit_subscribe",post:p.post(n,t)}},B=(e,t,r)=>{const s=h(e,t);Object(f.a)({...s,...Object(b.b)(e,r),source:"search",action:c.c.CLICK,noun:"search_result_discovery_unit_subreddit"})},q=(e,t,r,s,n,a)=>{Object(f.a)({...p.defaults(e),...Object(d.d)(e,t,r,s,n,void 0,a)})},H=(e,t,r)=>{const s=h(e,t);Object(f.a)({...s,...Object(b.b)(e,r),source:y,action:c.c.CLICK,noun:"footer_subreddit"})},V=(e,t)=>r=>{const s=Object(u.j)(t);return{...m(r,e,t),...Object(b.b)(r,s),source:y,action:c.c.CLICK,noun:"title_subreddit"}},K=(e,t)=>r=>({...m(r,e,t),action:"status",actionInfo:p.actionInfo(r,{success:!0}),noun:"loading"}),W=(e,t,r)=>s=>({...m(s,e,r),action:"status",actionInfo:p.actionInfo(s,{reason:t,success:!1}),noun:"loading"}),$=(e,t)=>r=>({...m(r,e,t),action:"click",noun:"close"}),Q=(e,t,r)=>s=>({...h(s,e,t,r),action:"click",noun:"scroll"}),z=(e,t)=>r=>({...m(r,e,t),action:"click",noun:"overflow_menu"}),X=()=>({id:"xd_focus_verticals",unitType:i.f.Listing,experiment:"",title:a.a,unitName:"focused_vertical_suggestion",enabled:!1,layout:i.d.Large,surface:i.e.Frontpage,url:"gql.reddit.com"}),Y=(e,t,r)=>p.actionInfo(e,{position:r}),J=(e,t,r)=>{const s=X();return e=>({...E(e,s),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)})},Z=(e,t,r)=>{const s=X();return e=>({...I(e,s,t),actionInfo:Y(e,0,r)})},ee=(e,t,r)=>{const n=X();return e=>({...m(e,n),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)||null,source:y,action:c.c.VIEW,noun:s.ITEM_SUBREDDIT})},te=(e,t,r)=>{const n=X();return e=>({...m(e,n),actionInfo:Y(e,0,r),post:p.post(e,t)||null,source:y,action:c.c.CLICK,noun:s.ITEM_POST})},re=(e,t,r,n)=>{const a=X();return e=>({...m(e,a),actionInfo:Y(e,0,n),subreddit:p.subredditById(e,r)||null,post:p.post(e,t)||null,source:y,action:c.c.CLICK,noun:s.ITEM_POST_SUBREDDIT})},se=(e,t,r)=>{const n=X();return e=>({...m(e,n),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)||null,source:y,action:c.c.CLICK,noun:s.ITEM_SUBREDDIT})},ne=(e,t,r,n)=>{const a=X();return e=>({...m(e,a),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)||null,post:n?p.post(e,n):null,source:y,action:c.c.CLICK,noun:s.ITEM_SUBREDDIT_SUBSCRIBE})},ae=(e,t,r,n)=>{const a=X();return e=>({...m(e,a),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)||null,post:n?p.post(e,n):null,source:y,action:c.c.CLICK,noun:s.ITEM_SUBREDDIT_UNSUBSCRIBE})},ce=(e,t,r)=>{const n=X();return e=>({...m(e,n),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)||null,source:y,action:c.c.CLICK,noun:s.ITEM_SUBREDDIT_HIDE})},oe=(e,t,r)=>{const n=X();return e=>({...m(e,n),actionInfo:Y(e,0,r),subreddit:p.subredditById(e,t)||null,source:y,action:c.c.CLICK,noun:s.HEADER_SUBREDDIT})},de=(e,t)=>r=>({...m(r,e),...t&&Object(b.b)(r,t),source:y,action:c.c.CLICK,noun:"item"}),ie=e=>t=>({...m(t,e),source:y,action:c.c.CLICK,noun:"see_all"})},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"c",(function(){return O})),r.d(t,"x",(function(){return _})),r.d(t,"w",(function(){return h})),r.d(t,"s",(function(){return I})),r.d(t,"p",(function(){return g})),r.d(t,"q",(function(){return S})),r.d(t,"z",(function(){return D})),r.d(t,"r",(function(){return T})),r.d(t,"i",(function(){return j})),r.d(t,"u",(function(){return v})),r.d(t,"t",(function(){return A})),r.d(t,"o",(function(){return P})),r.d(t,"n",(function(){return w})),r.d(t,"y",(function(){return R})),r.d(t,"k",(function(){return C})),r.d(t,"j",(function(){return L})),r.d(t,"l",(function(){return N})),r.d(t,"d",(function(){return x})),r.d(t,"m",(function(){return M})),r.d(t,"h",(function(){return G})),r.d(t,"e",(function(){return B})),r.d(t,"f",(function(){return q})),r.d(t,"b",(function(){return H})),r.d(t,"v",(function(){return V})),r.d(t,"g",(function(){return K}));var s=r("./src/reddit/constants/tracking.ts"),n=r("./src/reddit/helpers/correlationIdTracker.ts"),a=r("./src/reddit/helpers/media/index.ts"),c=r("./src/reddit/models/PostCreationForm/index.ts"),o=r("./src/reddit/models/PostDraft/index.ts"),d=r("./src/reddit/selectors/postDraft.ts"),i=r("./src/reddit/selectors/telemetry.ts"),u=r("./src/reddit/selectors/user.ts"),l=r("./src/telemetry/index.ts"),p=r("./src/telemetry/models/PostComposer.ts"),b=r("./src/telemetry/models/PostDraft.ts");const f={imageOnly:"image",linkOnly:"link",media:"media",poll:"poll",post:"self",crosspost:"crosspost"},y=e=>({source:"post_composer",action:s.c.CLICK,...i.defaults(e),screen:i.screen(e),correlationId:Object(n.c)(n.a.PostComposer)}),m=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===c.h.MARKDOWN?"markdown":"rte"},E=e=>{Object(l.a)({noun:"cancel",...y(e)})},O=e=>{Object(l.a)({noun:"discard",...y(e)})},_=e=>{Object(l.a)({noun:"subreddit_choice",subreddit:i.subreddit(e),...y(e),actionInfo:i.chatPostActionInfo(e)})},h=e=>{Object(l.a)({noun:"subreddit_selector",...y(e)})},I=(e,t)=>{Object(l.a)({noun:"post_type_selector",postComposer:{type:f[t]},...y(e)})},g=()=>e=>({noun:"add_option",...y(e)}),S=()=>e=>({noun:"voting_length",...y(e)}),D=(e,t,r)=>{"image_upload"===t||"video_upload"===t?Object(l.a)({noun:t,...y(e)}):Object(l.a)({noun:"text_option",postComposer:{textType:t,finalStatus:r?"on":"off"},...y(e)})},T=(e,t,r)=>{Object(l.a)({noun:"post",subreddit:i.subreddit(e),postComposer:{type:t,...m(e,t)},post:r?i.post(e,r):null,...y(e)})},j=(e,t)=>{const r=t===c.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)({noun:r,...y(e)})},v=(e,t)=>{Object(l.a)({noun:"save",subreddit:i.subreddit(e),postComposer:{type:t,...m(e,t)},...y(e)})},A=(e,t)=>{const r=e.uploads[t];r.error&&Object(l.a)({...y(e),noun:"media",action:s.c.REJECT,actionInfo:{...i.actionInfo(e),reason:JSON.stringify(r.error)}})},P=(e,t)=>{t.forEach(t=>{const r=Object(a.f)(t.type);r&&Object(l.a)({...y(e),action:s.c.DRAG,noun:r})})},w=(e,t,r)=>{Object(l.a)({...y(e),noun:"input",postComposer:{inputType:r},action:t,actionInfo:i.chatPostActionInfo(e)})},R=(e,t,r)=>{Object(l.a)({...y(e),noun:r,action:Object(p.getToggleAction)(t),actionInfo:i.chatPostActionInfo(e)})},C=e=>k("input",e),L=()=>k("add"),N=()=>k("remove"),k=(e,t)=>r=>({...y(r),noun:e,postComposer:{inputType:t,type:f.imageOnly},action:s.c.CLICK}),x=e=>{Object(l.a)({...y(e),noun:"hide_oc_description",action:s.c.CLICK})},U=(e,t)=>{if(t){const r=i.subredditById(e,t);if(r)return{subreddit:r};const s=i.profileById(e,t);if(s)return{profile:s}}},M=(e,t)=>{const{draftId:r,destSubreddit:s}=t,n=Object(u.i)(e),a=Object(d.d)(e,{draftId:r}),c={authorId:n?n.id:void 0,createdTimestamp:a?a.created:void 0,id:r||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case o.b.Link:c.type=b.DraftType.Link,c.urlLength=t.body.length;break;case o.b.Markdown:c.type=b.DraftType.Self,c.bodyTextLength=t.body.length;break;case o.b.RichText:c.type=b.DraftType.RichText,t.documentStats&&(c.bodyTextLength=t.documentStats.textLength,c.numberRteImages=t.documentStats.rteImagesCount,c.numberRteVideos=t.documentStats.rteVideosCount);break;case o.b.Image:c.type=b.DraftType.Image;break;case o.b.Video:c.type=b.DraftType.Video}return{postDraft:c,...U(e,s.id)}},F=(e,t)=>{const r=Object(u.i)(e),s={authorId:r?r.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case o.b.Link:s.type=b.DraftType.Link,s.urlLength=(t.body||"").length;break;case o.b.Markdown:s.type=b.DraftType.Self,s.bodyTextLength=(t.body||"").length;break;case o.b.RichText:s.type=b.DraftType.RichText}return{postDraft:s,...U(e,t.subredditId)}},G=(e,t)=>{Object(l.a)({noun:"draft_load",...y(e),...M(e,t)})},B=(e,t)=>{Object(l.a)({noun:t.draftId?"draft_update":"draft_create",...y(e),...M(e,t)})},q=(e,t)=>{Object(l.a)({noun:"draft_delete",...y(e),...F(e,t)})},H=e=>{Object(l.a)({...y(e),noun:"social_connect_link",action:s.c.CLICK})},V=(e,t)=>{Object(l.a)({...y(e),noun:"twitter_share_checkbox",action:Object(p.getToggleAction)(t)})},K=(e,t,r)=>{Object(l.a)({...y(e),...M(e,t),noun:"draft_share",action:r?s.c.ENABLE:s.c.DISABLE})}},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,r){"use strict";r.d(t,"j",(function(){return _})),r.d(t,"f",(function(){return h})),r.d(t,"p",(function(){return I})),r.d(t,"q",(function(){return g})),r.d(t,"n",(function(){return S})),r.d(t,"r",(function(){return D})),r.d(t,"c",(function(){return T})),r.d(t,"k",(function(){return j})),r.d(t,"o",(function(){return v})),r.d(t,"h",(function(){return A})),r.d(t,"i",(function(){return P})),r.d(t,"g",(function(){return w})),r.d(t,"b",(function(){return C})),r.d(t,"a",(function(){return L})),r.d(t,"m",(function(){return N})),r.d(t,"l",(function(){return k})),r.d(t,"s",(function(){return M})),r.d(t,"v",(function(){return F})),r.d(t,"e",(function(){return G})),r.d(t,"d",(function(){return q})),r.d(t,"t",(function(){return H})),r.d(t,"u",(function(){return V}));var s=r("./src/lib/constants/index.ts"),n=r("./src/lib/makePostDraftPageKey/index.ts"),a=r("./src/reddit/helpers/getCommentsPageSort/index.ts"),c=r("./src/reddit/helpers/routeKey/index.ts"),o=r("./src/reddit/helpers/trackers/postComposer.ts"),d=r("./src/reddit/helpers/trackers/profileSettings.ts"),i=r("./src/reddit/models/Comment/index.ts"),u=r("./src/reddit/models/Post/index.ts"),l=r("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),p=r("./src/reddit/selectors/profile.ts"),b=r("./src/reddit/selectors/subreddit.ts"),f=r("./src/reddit/helpers/correlationIdTracker.ts"),y=r("./src/reddit/helpers/trackers/searchResults.ts"),m=r("./src/reddit/selectors/postDraft.ts"),E=r("./src/reddit/selectors/telemetry.ts"),O=r("./src/telemetry/index.ts");const _=(e,t,r,o)=>{const{route:l}=e,{name:p}=l.meta;if(p)switch(p){case s.Db.COMMENTS:{const{partialCommentId:s,partialPostId:n}=e.match.params,d=Object(u.r)(n),l=Object(c.a)(e,t,t.posts.models[d]);if(!l)return;const p=s&&Object(i.f)(s),{sortToUse:b}=Object(a.a)(t,d),f=!0;Object(O.a)(T(l,d,p,r,o,b,f)(t));break}case s.Db.INDEX:case s.Db.LISTING:case s.Db.MULTIREDDIT:case s.Db.SUBREDDIT:{const n=Object(c.c)(e,t);if(!n.listingKey)return;const{params:a,queryParams:d}=e.match,{sort:i=(n.sort?n.sort:s.P.HOT)}=a,u=d.t;Object(O.a)(h(n.listingKey,i,r,o,u)(t));break}case s.Db.TOPIC:{const n=Object(c.c)(e,t);if(!n.listingKey)return;const{params:a}=e.match,d=n.sort?n.sort:s.Q,{sort:i=d}=a;Object(O.a)(h(n.listingKey,i,r,o)(t));break}case s.Db.PROFILE_OVERVIEW:{const n=Object(c.d)(e,t);if(!n)return;const{params:a,queryParams:d}=e.match,{sort:i=s.vb}=a,u=d.t;Object(O.a)(I(n,i,r,o,u)(t));break}case s.Db.PROFILE_POSTS:{const n=Object(c.d)(e,t);if(!n)return;const{queryParams:a}=e.match,{sort:d=s.vb,t:i=s.Vb}=a;Object(O.a)(g(n,d,r,o,i)(t));break}case s.Db.PROFILE_COMMENTS:{const n=Object(c.d)(e,t);if(!n)return;const{queryParams:a}=e.match,{sort:d=s.vb,t:i=s.Vb}=a;Object(O.a)(S(n,d,r,o,i)(t));break}case s.Db.SETTINGS:{const n=e;Object(O.a)(U(r,o)(t)),n.match.params.page===s.Qb.Profile&&Object(d.j)(t);break}case s.Db.POST_CREATION:break;case s.Db.POST_DRAFT:{const{draftId:s}=e.match.params,a=Object(n.a)(e.match.params);if(!a)return;R(t,a,s,r,o);break}case s.Db.SUBREDDIT_WIKI:Object(O.a)(B(r,o)(t));break;case s.Db.COINS:Object(O.a)(C(r,o)(t)),Object(O.a)(L()(t));break;case s.Db.PREMIUM:Object(O.a)(N(r,o)(t)),Object(O.a)(k()(t));break;case s.Db.APPEAL:Object(O.a)(x(r,o)(t))}},h=(e,t,r,s,n,a)=>c=>{const{api:o}=c.listings.postOrder,d=!o.error[e]&&!o.pending[e];return{source:"global",action:"view",noun:"screen",...E.defaults(c),actionInfo:E.actionInfo(c,{success:d}),customFeed:E.customFeed(c),listing:E.listing(c,e,{sort:t,sortTime:n}),subreddit:E.subreddit(c),timer:E.timer(r,s),userSubreddit:E.userSubreddit(c),adblock:E.adblock(c),postFlair:{title:a}}},I=(e,t,r,s,n)=>a=>{const c=E.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const{api:o}=a.listings.postOrder,d=!o.error[e]&&!o.pending[e];return{listing:c,source:"global",action:"view",noun:"screen",...E.defaults(a),actionInfo:E.actionInfo(a,{success:d}),profile:E.profile(a),snoovatar:E.snoovatar(a),subreddit:E.subreddit(a),timer:E.timer(r,s),userSubreddit:E.userSubreddit(a),adblock:E.adblock(a)}},g=(e,t,r,s,n)=>a=>{const c=E.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const{api:o}=a.listings.postOrder,d=!o.error[e]&&!o.pending[e];return{listing:c,source:"global",action:"view",noun:"screen",...E.defaults(a),actionInfo:E.actionInfo(a,{success:d}),profile:E.profile(a),subreddit:E.subreddit(a),timer:E.timer(r,s),userSubreddit:E.userSubreddit(a),adblock:E.adblock(a)}},S=(e,t,r,s,n)=>a=>{const c=E.profileComments(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const{api:o}=a.profileCommentsPage,d=!o.error[e]&&!o.pending[e];return{listing:c,source:"global",action:"view",noun:"screen",...E.defaults(a),actionInfo:E.actionInfo(a,{success:d}),profile:E.profile(a),subreddit:E.subreddit(a),timer:E.timer(r,s),userSubreddit:E.userSubreddit(a),adblock:E.adblock(a)}},D=e=>(t,r)=>s=>{const n=!s.profilePrivatePage.api.error[e]&&!s.profilePrivatePage.api.pending[e];return{source:"global",action:"view",noun:"screen",...E.defaults(s),actionInfo:E.actionInfo(s,{success:n}),profile:E.profile(s),subreddit:E.subreddit(s),timer:E.timer(r,t),userSubreddit:E.userSubreddit(s),adblock:E.adblock(s)}},T=(e,t,r,s,n,a,c)=>o=>{const{api:d}=o.pages.comments,i=!d.error[e]&&!d.pending[e],u=Object(l.c)(o,{postId:t,isForceSelected:c}),p={source:"global",action:"view",noun:"screen",...E.defaults(o),actionInfo:E.actionInfo(o,{success:i,reason:u||void 0}),post:E.post(o,t),profile:E.profile(o),subreddit:E.subreddit(o),timer:E.timer(s,n),userSubreddit:E.userSubreddit(o),adblock:E.adblock(o),postEvent:E.postEventI13nSelector(o,{postId:t}),postCollection:E.postCollectionI13nSelector(o,{postId:t}),listing:E.listing(o,void 0,{sort:a})};return r&&(p.comment=E.comment(o,r)),p},j=(e,t,r)=>s=>{const n=s.creations.api.page.fetched[e],a=s.platform.currentPage?s.platform.currentPage.queryParams.source_id:void 0;return{source:"global",action:"view",noun:"screen",...E.defaults(s),actionInfo:E.actionInfo(s,{success:n}),post:a?E.post(s,a):void 0,subreddit:E.subreddit(s),timer:E.timer(t,r),userSubreddit:E.userSubreddit(s),adblock:E.adblock(s)}},v=(e,t)=>{Object(O.a)({source:"global",action:"view",noun:"screen",...E.defaults(e),actionInfo:E.actionInfo(e,{success:t})})},A=(e,t,r,s)=>{Object(O.a)({source:"global",action:"view",noun:"screen",...E.defaults(e),actionInfo:E.actionInfo(e,{success:t}),profile:E.profileById(e,Object(p.m)(e,s)),subreddit:E.subredditById(e,Object(b.F)(e,r)),userSubreddit:E.userSubreddit(e),adblock:E.adblock(e)})},P=(e,t,r,s)=>{Object(O.a)({source:"global",action:"view",noun:"screen",...E.defaults(e),profile:E.profileById(e,Object(p.m)(e,s)),subreddit:E.subredditById(e,Object(b.F)(e,r)),userSubreddit:E.userSubreddit(e),adblock:E.adblock(e)})},w=e=>{Object(O.a)({source:"global",action:"view",noun:"screen",...E.defaults(e),actionInfo:E.actionInfo(e)})},R=(e,t,r,s,n)=>{const a=e.creations.api.page.pending[t],c=!e.creations.api.page.error[t]&&!a&&!!r,d=Object(m.h)(e,r);Object(O.a)({source:"global",action:"view",noun:"screen",...E.defaults(e),actionInfo:E.actionInfo(e,{success:c}),subreddit:E.subreddit(e),timer:E.timer(s,n),userSubreddit:E.userSubreddit(e),adblock:E.adblock(e),...d?Object(o.m)(e,d):{}})},C=(e,t)=>r=>({source:"coins_marketing",action:"view",noun:"page",correlationId:Object(f.c)(f.a.GoldPayment),...E.defaults(r),timer:E.timer(e,t),adblock:E.adblock(r)}),L=()=>e=>({source:"global",action:"view",noun:"screen",...E.defaults(e)}),N=(e,t)=>r=>({source:"premium_marketing",action:"view",noun:"page",correlationId:Object(f.c)(f.a.GoldPayment),...E.defaults(r),timer:E.timer(e,t),adblock:E.adblock(r)}),k=()=>e=>({source:"global",action:"view",noun:"screen",...E.defaults(e)}),x=(e,t)=>r=>({source:"appeal",action:"view",noun:"page",...E.defaults(r),timer:E.timer(e,t)}),U=(e,t)=>r=>({source:"global",action:"view",noun:"screen",...E.defaults(r),timer:E.timer(e,t)}),M=()=>e=>({source:"global",action:"view",noun:"screen",subreddit:E.subreddit(e),...E.defaults(e)}),F=()=>e=>({source:"global",action:"view",noun:"screen",...E.defaults(e)}),G=()=>e=>({action:"view",source:"global",noun:"screen",...E.defaults(e)}),B=(e,t)=>r=>({source:"global",action:"view",noun:"screen",...E.defaults(r),customFeed:E.customFeed(r),subreddit:E.subreddit(r),timer:E.timer(e,t),userSubreddit:E.userSubreddit(r),adblock:E.adblock(r)}),q=()=>e=>({source:"global",action:"view",noun:"screen",...E.defaults(e)}),H=(e,t,r,n,a,c)=>o=>{let d=!0;if(t.type.indexOf(s.Pb.Posts)>-1){const{api:t}=o.listings.listingOrder;d=d&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(s.Pb.Subreddits)>-1||t.type.indexOf(s.Pb.Users)>-1){const{api:t}=o.listings.postOrder;d=d&&!t.error[e]&&!t.pending[e]}const i=E.paneName(o,a),u=E.structureType(o,a),l=o.platform.currentPage&&o.platform.currentPage.urlParams&&o.platform.currentPage.urlParams.subredditName?E.subredditByName(o,o.platform.currentPage.urlParams.subredditName):void 0;return{...y.c(o,t),source:"global",action:"view",noun:"screen",actionInfo:E.actionInfo(o,{success:d,paneName:i}),timer:E.timer(r,n),search:{...E.search(o,t,!0,a||void 0),...!!c&&{originElement:c},queryId:Object(f.c)(f.a.SearchResults),structureType:u,subredditId:t.restrict_sr&&l&&l.id?l.id:void 0,subredditName:t.restrict_sr&&l&&l.name?l.name:void 0},...!!c&&{correlationId:Object(f.c)(f.a.SearchResults)},userPreferences:{hideNsfw:!o.user.prefs.over18}}},V=(e,t)=>{Object(O.a)({source:"global",action:"view",noun:"screen",...E.defaults(e),actionInfo:E.actionInfo(e,{success:t})})}},"./src/reddit/helpers/trackers/searchResults.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"q",(function(){return p})),r.d(t,"p",(function(){return b})),r.d(t,"r",(function(){return f})),r.d(t,"g",(function(){return y})),r.d(t,"t",(function(){return m})),r.d(t,"s",(function(){return E})),r.d(t,"u",(function(){return O})),r.d(t,"w",(function(){return _})),r.d(t,"f",(function(){return I})),r.d(t,"a",(function(){return g})),r.d(t,"h",(function(){return S})),r.d(t,"x",(function(){return D})),r.d(t,"v",(function(){return T})),r.d(t,"i",(function(){return j})),r.d(t,"k",(function(){return v})),r.d(t,"e",(function(){return A})),r.d(t,"j",(function(){return P})),r.d(t,"d",(function(){return w})),r.d(t,"o",(function(){return R})),r.d(t,"n",(function(){return C})),r.d(t,"l",(function(){return L})),r.d(t,"m",(function(){return N})),r.d(t,"b",(function(){return k}));var s=r("./src/lib/constants/index.ts"),n=r("./src/reddit/constants/posts.ts"),a=r("./src/reddit/constants/tracking.ts"),c=r("./src/reddit/helpers/correlationIdTracker.ts"),o=r("./src/reddit/selectors/posts.ts"),d=r("./src/reddit/selectors/telemetry.ts");const i="search",u="search_results_best",l=(e,t)=>{const r=d.subreddit(e);return{screen:d.screen(e),subreddit:r&&t&&t.restrict_sr?r:null}},p=(e,t)=>r=>{const s=t;return s.structureType="related",{action:e,correlationId:Object(c.c)(c.a.SearchResults),noun:"related_search",source:i,search:d.search(r,s),...l(r)}},b=(e,t,r,s)=>n=>({...l(n,r),source:i,action:"click",noun:t,actionInfo:d.actionInfo(n,s?{pageType:"search_results_best",position:0}:void 0),discoveryUnit:s?d.discoveryUnit(s):null,search:d.search(n,r),post:d.post(n,e),media:d.media(n,e)}),f=(e,t,r,s,n)=>a=>({...A(a,e,t,n,s,r),noun:"ad"}),y=(e,t,r)=>n=>{let a=!0;if(t.type.indexOf(s.Pb.Posts)>-1){const{api:t}=n.listings.listingOrder;a=a&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(s.Pb.Subreddits)>-1||t.type.indexOf(s.Pb.Users)>-1){const{api:t}=n.listings.postOrder;a=a&&!t.error[e]&&!t.pending[e]}return{...l(n,t),source:i,action:"view",noun:"search_results_post",actionInfo:d.actionInfo(n,{success:a,pageType:"search_results_best",position:0}),discoveryUnit:d.discoveryUnit(r),search:d.search(n,t)}},m=(e,t)=>r=>({action:"view",actionInfo:d.actionInfo(r),metaSearch:d.metaSearch(t),noun:e,screen:d.screen(r),search:d.smartSearch(r,t),source:i}),E=(e,t)=>r=>({action:"click",actionInfo:d.actionInfo(r),noun:e,metaSearch:d.metaSearch(t),screen:d.screen(r),search:d.smartSearch(r,t),source:i}),O=(e,t,r)=>s=>({source:i,action:"click",noun:d.SearchDropdownNouns.Recent,actionInfo:d.actionInfo(s,{paneName:"subreddit_dropdown",position:r+1}),search:{query:e,originPageType:s.platform.currentPage?d.getPageTypeFromCurrentPage(s.platform.currentPage):void 0,queryId:Object(c.c)(c.a.SearchResults)},...h(s,t)}),_=(e,t,r,s)=>n=>{const a=s.filter(e=>e.id);return{source:i,action:"click",noun:d.SearchDropdownNouns.Typeahead,actionInfo:d.actionInfo(n,{position:r+1}),search:{query:t.displayInfo&&t.displayInfo.subredditOrProfileName?t.displayInfo.subredditOrProfileName:e,originPageType:n.platform.currentPage?d.getPageTypeFromCurrentPage(n.platform.currentPage):void 0,queryId:Object(c.c)(c.a.SearchResults),typeaheadActive:!0,subredditIds:a.map(e=>e.id),numberSubreddits:a.length},...h(n,t)}},h=(e,t)=>{const r=t.isSubreddit&&t.id?d.subredditForSearch(e,t.id):void 0,s=t.isProfile&&t.id?d.profileForSearch(e,t.id):void 0,n={id:t.id,name:t.displayInfo?t.displayInfo.subredditOrProfileName:void 0};return{subreddit:t.isSubreddit?r||n:void 0,profile:t.isProfile?s||n:void 0}},I=(e,t,r)=>s=>({action:t,actionInfo:d.actionInfo(s),noun:e,screen:d.screen(s),search:d.search(s,r),source:u});var g;!function(e){e.TopResults="tab_top_results",e.Posts="tab_posts",e.CommunitiesAndUsers="tab_communities"}(g||(g={}));const S=(e,t)=>r=>({...l(r,t),source:i,action:"click",noun:e,correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(r),search:d.search(r,t)}),D=(e,t)=>r=>({...l(r,t),source:i,action:"click",noun:e,correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(r),search:d.search(r,t)}),T=(e,t)=>r=>({action:"click",correlationId:Object(c.c)(c.a.SearchResults),noun:e?s.Ob.ToSubreddit:s.Ob.ToGlobal,search:d.search(r,t),source:i}),j=(e,t,r,s)=>n=>({...l(n,r),source:i,action:"click",noun:"search_result_post",correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(n,{relativePosition:d.getRelativePostOrder(n,t,e)}),search:{...d.search(n,r),...!!s&&{originElement:s}},post:d.post(n,t)}),v=(e,t,r,s,n)=>a=>A(a,e,t,r,s,n),A=(e,t,r,s,n,o)=>{const u=d.paneName(e,s),l=d.postRelativePosition(e,t,n,o),p=d.amountOfElementsBeforePost(e,r,n,o,u),b=null!==l?p+l:null,f=d.structureType(e,s),y={...d.search(e,r,!0,s||void 0),structureType:f,queryId:Object(c.c)(c.a.SearchResults)};return{source:i,action:a.c.CLICK,noun:"post",actionInfo:s?{pageType:d.getPageTypeFromCurrentPage(s),paneName:u,position:b,relativePosition:l}:d.actionInfo(e,{paneName:u,position:b,relativePosition:l}),search:y,post:d.post(e,t),userPreferences:{hideNsfw:!e.user.prefs.over18},discoveryUnit:o?d.discoveryUnit(o):null}},P=(e,t,r,s,n,a)=>c=>w(c,e,t,r,s,n,a),w=(e,t,r,s,u,l,p)=>{if(!s){s=Object(o.O)(e,{postId:l}).belongsTo}const b=d.paneName(e,r);let f,y;if(l){f=d.postRelativePosition(e,l,u,p);const r=d.amountOfElementsBeforePost(e,t,u,p,b);y=null!==f?r+f:null}else{f=d.communityRelativePosition(e,s.id,u,p);const t=d.amountOfElementsBeforeCommunity(e,u,p);y=null!==f?t+f:null}const m=d.structureType(e,r),E={...d.search(e,t,!0,r||void 0),structureType:m,queryId:Object(c.c)(c.a.SearchResults)};return{source:i,action:a.c.CLICK,noun:s.type,search:E,subreddit:s.type===n.a.SUBREDDIT?d.subredditForSearch(e,s.id):void 0,profile:s.type===n.a.PROFILE?d.profileForSearch(e,s.id):void 0,userPreferences:{hideNsfw:!e.user.prefs.over18},discoveryUnit:p?d.discoveryUnit(p):null,actionInfo:r?{pageType:d.getPageTypeFromCurrentPage(r),paneName:b,position:y,relativePosition:f}:d.actionInfo(e,{paneName:b,position:y,relativePosition:f}),post:l?d.post(e,l):void 0}},R=(e,t)=>r=>({...l(r,e),source:i,action:"click",noun:"search_result_subreddit",correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(r),search:{...d.search(r,e),...!!t&&{originElement:t}},subreddit:d.subreddit(r)}),C=(e,t,r,s,n)=>c=>({...A(c,t,r,s,e,n),action:a.c.VIEW}),L=(e,t,r,s)=>n=>({...l(n,r),source:i,action:"view",noun:"search_results_post",correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(n,{relativePosition:d.getRelativePostOrder(n,t,e),position:d.getAbsoluteOrder(n,t,e)}),search:{...d.search(n,r),...!!s&&{originElement:s}},post:d.post(n,t)}),N=(e,t,r)=>s=>({...l(s),source:i,action:"click",noun:`search_result_${e}`,correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(s),search:{...d.search(s,t),...!!r&&{originElement:r}},[e]:d[e](s)}),k=(e,t)=>r=>({...l(r,t),source:i,action:e,noun:"covid_banner",correlationId:Object(c.c)(c.a.SearchResults),actionInfo:d.actionInfo(r),search:d.search(r,t)})},"./src/reddit/helpers/trackers/subredditCreation.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return d}));var s=r("./src/reddit/helpers/correlationIdTracker.ts"),n=r("./src/reddit/selectors/telemetry.ts");const a=e=>t=>({source:e,noun:"create_community_button",action:"click",...n.defaults(t),actionInfo:n.actionInfo(t,{settingValue:t.user.account&&t.user.account.isMod?"existing_mod":"new_mod"}),correlationId:Object(s.d)(s.a.SubredditCreation,!0)}),c=(e,t,r)=>a=>({source:"community_form",noun:"save_community_button",action:"click",...n.defaults(a),actionInfo:n.actionInfo(a,{settingValue:e}),subreddit:{id:r,name:t.name,publicDescription:t.publicDescription,nsfw:t.over18,accessType:t.type,topicTagContents:t.allTags,topicTagPrimaryId:t.primaryTagId},correlationId:Object(s.c)(s.a.SubredditCreation)}),o=()=>e=>({source:"community_form",noun:"cancel",action:"click",...n.defaults(e),actionInfo:n.actionInfo(e),correlationId:Object(s.c)(s.a.SubredditCreation)}),d=e=>t=>({source:"community_form",noun:"error_message",action:"view",...n.defaults(t),actionInfo:n.actionInfo(t,{reason:e}),correlationId:Object(s.c)(s.a.SubredditCreation)})},"./src/reddit/models/ChatSettingsPage/index.ts":function(e,t,r){"use strict";var s;r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),function(e){e.Unknown="unknown",e.Toggle="BOOLEAN"}(s||(s={}));const n=(e,t,r=!1)=>e&&Array.isArray(e)&&e.length?e.reduce((e,n)=>{if(n&&n.id&&n.type&&n.title&&n.hasOwnProperty("state"))switch(n.type){case s.Toggle:e.push({settingType:s.Toggle,settingId:n.id,subredditId:t,description:n.description,descriptionUrl:n.descriptionUrl,groupName:n.groupName,isEditable:!r&&n.isEditable,state:"true"===String(n.state).toLowerCase(),title:n.title});break;default:e.push({settingType:s.Unknown,settingId:n.id,subredditId:t,description:n.description,descriptionUrl:n.descriptionUrl,groupName:n.groupName,isEditable:!r&&n.isEditable,state:n.state,title:n.title})}return e},[]):[],a=e=>e.reduce((e,t)=>(t.isEditable&&e.push({id:t.settingId,state:String(t.state)}),e),[])},"./src/reddit/models/Duplicates/index.ts":function(e,t,r){"use strict";function s(e,t){return`${e}-sort[${t.sort}]-crossposts_only[${t.crossposts_only}]`}r.d(t,"a",(function(){return s}))},"./src/reddit/models/Emoji/index.ts":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"e",(function(){return o}));const s=24,n=64e3,a=128,c=128,o=(e,t,r,s)=>({name:e,url:t,subredditId:r,...s})},"./src/reddit/models/NewCommunityProgress/index.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n}));const s=["CommunityProgressShareButton","CommunityProgressUrlButton","CommunityProgressMakePostButton"];var n;!function(e){e.HIDE_BUTTON_CLICK="HIDE_BUTTON_CLICK",e.CTA_BUTTON_CLICK="CTA_BUTTON_CLICK"}(n||(n={}))},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,r){"use strict";var s;r.d(t,"a",(function(){return s})),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(s||(s={}))},"./src/reddit/reducers/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return uD}));var s=r("./src/reddit/actions/modal.ts");const n={};var a=(e=n,t)=>{switch(t.type){case s.e:if(!t.payload.actionSource&&!t.payload.redirectUrl)return n;return{...e,...t.payload};default:return e}},c=r("./node_modules/redux/es/redux.js"),o=r("./src/reddit/actions/actionBarAnimation/constants.ts");const d={};var i=(e=d,t)=>{switch(t.type){case o.a:{const{commentDiscount:r}=t.payload;return{...e,...r}}default:return e}};const u={};var l=(e=u,t)=>{switch(t.type){case o.a:{const{upvoteDiscount:r}=t.payload;return{...e,...r}}default:return e}},p=Object(c.c)({commentDiscount:i,upvoteDiscount:l}),b=r("./src/reddit/actions/authorFlair.ts"),f=r("./src/reddit/actions/badge.ts"),y=r("./src/reddit/actions/economics/subredditPremium/constants.ts"),m=r("./src/reddit/actions/governance/constants.ts"),E=r("./src/reddit/actions/harbergerTax/constants.ts"),O=r("./src/reddit/actions/platform.ts"),_=r("./src/reddit/actions/postCreation/constants.ts"),h=r("./src/reddit/actions/product.ts"),I=r("./src/reddit/actions/reportFlow/constants.ts"),g=r("./src/reddit/actions/structuredStyles/constants.ts"),S=r("./src/reddit/constants/modals.ts");var D=(e=null,t)=>{switch(t.type){case s.c:{const r=t.payload;return e===r?null:r}case s.b:case _.w:case s.d:case O.a:case I.f:return null;case g.e:return e===S.a.BLADE_UNSAVED_CHANGES?null:e;case g.d:return e===S.a.BLADE_NIGHTMODE?null:e;case b.a:return e===S.a.USER_FLAIR_MODAL_ID?null:S.a.USER_FLAIR_MODAL_ID;case f.c:return S.a.BADGE_PICKER;case h.b:return S.a.BADGE_PURCHASE;case m.d:return S.a.GOVERNANCE_OPT_OUT;case m.r:return S.a.TRANSFER_POINTS;case m.o:return S.a.GOVERNANCE_RELEASE_NOTES;case E.e:return S.a.HARBERGER_TAX_BANNER_PURCHASE;case E.c:return S.a.HARBERGER_TAX_BANNER_MANAGE;case E.b:return S.a.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE;case E.a:return S.a.HARBERGER_TAX_CRYPTO_BANNER_MANAGE;case m.x:return S.a.WALLET_REGISTRATION_MODAL;case y.c:return S.a.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT;case y.j:return S.a.SUBREDDIT_PREMIUM_UPLOAD_MODAL;default:return e}},T=r("./src/reddit/actions/ads/constants.ts"),j=r("./src/reddit/actions/unload/constants.ts");const v={};function A(e,t,r,s){const n=e[t];return{...e,[t]:{...n,[s]:r}}}var P=(e=v,t)=>{if(!t.payload)return e;switch(t.type){case T.d:return A(e,t.payload.postId,t.payload.vendorMetadata,"adImpression");case T.b:return A(e,t.payload.postId,t.payload.vendorMetadata,"adClick");case T.n:return A(e,t.payload.postId,t.payload.vendorMetadata,"adViewableImpression");case T.k:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoViewable");case T.e:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoFullyViewable");case T.j:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoStarted");case T.i:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoPlayedWithSound");case T.g:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoGroupMViewable");case T.f:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoFullyViewable50");case T.h:return A(e,t.payload.postId,t.payload.vendorMetadata,"adVideoPlayedExpanded");case T.l:{const{postId:r,eventType:s,vendorMetadata:n}=t.payload;return A(e,r,n,`adVideoWatchedPercent${s}`)}case T.m:{const{postId:r,eventType:s,vendorMetadata:n}=t.payload;return A(e,r,n,`adVideoWatchedSeconds${s}`)}case T.w:return A(e,t.payload.postId,t.payload.vendorMetadata,"vendorFullyViewable");case T.y:return A(e,t.payload.postId,t.payload.vendorMetadata,"vendorFullyViewableSeconds5");case T.x:return A(e,t.payload.postId,t.payload.vendorMetadata,"vendorFullyViewableSeconds15");case j.b:return A(e,t.payload.postId,t.payload.vendorMetadata,"adUnloaded");case T.s:return A(e,t.payload.postId,t.payload.vendorMetadata,"groupMViewable");case T.c:return A(e,t.payload.postId,t.payload.vendorMetadata,"adGalleryItemImpression");default:return e}},w=(r("./node_modules/core-js/modules/web.dom.iterable.js"),r("./src/reddit/actions/apiRequestState.ts"));const R={};var C=(e=R,t)=>{switch(t.type){case w.d:case w.a:case w.b:{const r=t.payload;return{...e,[r.apiRequestId]:r}}case w.c:{const r=t.payload;if(!(r in e))return e;if(1===Object.keys(e).length)return R;const s={...e};return delete s[r],s}default:return e}},L=r("./src/reddit/actions/appBadgeIndicators/constants.ts");var N=(e=null,t)=>{switch(t.type){case L.a:return t.payload&&t.payload.error||null;case L.b:case L.c:return null;default:return e}};var k=(e=!1,t)=>{switch(t.type){case L.c:return!0;case L.a:case L.b:return!1;default:return e}},x=Object(c.c)({error:N,pending:k});const U={};var M=(e=U,t)=>{switch(t.type){case L.d:case L.b:{const r=t.payload;return{...e,...r}}case L.c:case L.a:default:return e}},F=Object(c.c)({api:x,badges:M});var G=(e=null,t)=>{switch(t.type){case b.a:return t.payload;default:return e}},B=r("./node_modules/icepick/icepick.js"),q=r("./node_modules/lodash/mergeWith.js"),H=r.n(q),V=r("./src/reddit/actions/comment/constants.ts"),K=r("./src/reddit/actions/comment/websocket/constants.ts"),W=r("./src/reddit/actions/grantUserFlair/constants.ts"),$=r("./src/reddit/actions/modQueue/constants.ts"),Q=r("./src/reddit/actions/pages/constants.ts"),z=r("./src/reddit/actions/pages/profileComments/constants.ts"),X=r("./src/reddit/actions/pages/profilePosts.ts"),Y=r("./src/reddit/actions/pages/profilePrivate/constants.ts"),J=r("./src/reddit/actions/pages/search.ts"),Z=r("./src/reddit/actions/pages/subreddit.ts"),ee=r("./src/reddit/actions/profileConversations.ts"),te=r("./src/reddit/actions/subreddit.ts"),re=r("./src/reddit/actions/userFlair.ts"),se=r("./src/reddit/models/User/index.ts");const ne={};var ae=(e=ne,t)=>{switch(t.type){case K.b:case K.c:{const r=t.payload,{authorFlair:s,isChatSort:n}=r;if(s&&n){return H()({...e},s,(e,t,r)=>{if("richtext"===r)return t})}return e}case Y.c:case Y.i:case Y.e:case Y.g:case J.SEARCH_RESULTS_RECEIVED:{const{authorFlair:r}=t.payload;if(r){return Object(B.merge)(e,r)}return e}case V.u:case Z.SUBREDDIT_LOADED:case Q.f:case z.b:case z.e:case X.PROFILE_POSTS_LOADED:case X.MORE_POSTS_LOADED:case ee.e:case te.i:return ce(e,t.payload);case $.i:case $.f:case $.m:case $.p:case $.v:return ce(e,t.payload.response);case re.i:{const{subredditId:r,userName:s,applied:n,displaySettings:{isUserEnabled:a}}=t.payload;return Object(B.setIn)(e,[r,s],a?n:null)}case W.h:case W.b:{const{subredditId:r,userName:s,applied:n}=t.payload;return e[r]&&e[r][s]?Object(B.setIn)(e,[r,s],n):e}case re.a:{const{subredditId:r,userName:s,applied:n,displaySettings:{isEnabled:a}}=t.payload;return Object(B.setIn)(e,[r,s],a?n:null)}default:return e}};const ce=(e,{account:t,authorFlair:r,userFlair:s})=>{const n=Object(B.merge)(e,r);if(!s||!t)return n;const a=Object.keys(s)[0];if(!a)return n;const c=s[a],o=Object(se.e)(t),d=c.applied,i=c.displaySettings&&c.displaySettings.isUserEnabled;return o&&d&&i?Object(B.merge)(n,{[a]:{[o]:d}}):n};var oe=Object(c.c)({inContext:G,models:ae}),de=r("./src/reddit/actions/gold/constants.ts");const ie={};var ue=(e=ie,t)=>{switch(t.type){case de.e:{const{disabled:r,subredditOrProfileId:s}=t.payload;return r?{...e,[s]:r}:e}default:return e}};var le=(e=null,t)=>{switch(t.type){case de.i:case de.j:return null;case de.h:return t.payload;default:return e}};var pe=(e=!1,t)=>{switch(t.type){case O.a:case de.j:case de.h:return!1;case de.i:return!0;default:return e}},be=Object(c.c)({error:le,pending:pe}),fe=Object(c.c)({api:be});var ye=(e=null,t)=>{switch(t.type){case de.I:case de.H:return null;case de.G:return t.payload;default:return e}};const me={};var Ee=(e=me,t)=>{switch(t.type){case de.I:{const{subredditOrProfileId:r}=t.payload;return{...e,[r]:!0}}case de.e:case de.H:case de.M:case de.G:{const{subredditOrProfileId:r}=t.payload;return{...e,[r]:!1}}default:return e}},Oe=Object(c.c)({error:ye,pending:Ee});const _e={};var he=(e=_e,t)=>{switch(t.type){case de.M:{const{awards:r,subredditOrProfileId:s}=t.payload,n={};return r.forEach(e=>{n[e.id]=e.isEnabled}),{...e,[s]:n}}case de.m:{const{awardId:r,subredditId:s}=t.payload;return{...e,[s]:{...e[s],[r]:!1}}}case de.p:{const{awardId:r,subredditId:s}=t.payload;return{...e,[s]:{...e[s],[r]:!0}}}default:return e}};const Ie={};var ge=(e=Ie,t)=>{switch(t.type){case de.H:{const{awards:r,subredditOrProfileId:s}=t.payload,n=r.map(e=>e.id);return{...e,[s]:n}}case de.j:{const{award:r,subredditId:s}=t.payload;if(r&&r.id){if(!e[s])return{...e,[s]:[r.id]};if(-1===e[s].indexOf(r.id))return{...e,[s]:[r.id,...e[s]]}}return e}default:return e}},Se=Object(c.c)({api:Oe,availability:he,order:ge}),De=r("./node_modules/lodash/merge.js"),Te=r.n(De);const je=e=>{const t=e.split("+");if(1===t.length)return e;const r=`${t[1].substring(0,2)}:${t[1].substring(2)}`;return`${t[0]}+${r}`};var ve=e=>(e.startsAt&&(e.startsAt="number"==typeof e.startsAt?new Date(e.startsAt).toISOString():je(e.startsAt)),e.endsAt&&(e.endsAt="number"==typeof e.endsAt?new Date(e.endsAt).toISOString():je(e.endsAt)),e),Ae=r("./src/reddit/models/Gold/Award.ts"),Pe=r("./src/reddit/actions/discoveryUnit.ts"),we=r("./src/reddit/actions/frontpage/constants.ts"),Re=r("./src/reddit/actions/goldPurchaseModals/constants.ts"),Ce=r("./src/reddit/actions/multireddit/constants.ts"),Le=r("./src/reddit/actions/pages/modListing/constants.ts"),Ne=r("./src/reddit/actions/pages/multireddit/constants.ts"),ke=r("./src/reddit/actions/pages/postCreation.ts"),xe=r("./src/reddit/actions/pages/profileOverview/constants.ts"),Ue=r("./src/reddit/actions/profileOverviewChrono/constants.ts"),Me=r("./src/lib/makeActionCreator/index.ts"),Fe=(r("./src/config.ts"),r("./src/lib/constants/index.ts"));r("./src/lib/makeApiRequest/index.ts"),r("./src/reddit/helpers/addRedesignIdentifier/index.ts"),r("./src/reddit/models/RichTextJson/addRTJParam.ts");Object(Me.a)("RECOMMENDED_POSTS_LOADED"),Object(Me.a)("RECOMMENDED_POSTS_FAILED");var Ge=r("./src/reddit/actions/search.ts");const Be={},qe=(e=>t=>{for(let r=0;r<e.length;r++)t=e[r](t);return t})([ve]),He=(e,t)=>{const r=t.reduce((e,t)=>(e[t.id]=qe(t),e),{});return Te()({...e},r)};var Ve=(e=Be,t)=>{var r;switch(t.type){case de.H:{const{awards:r}=t.payload;return He(e,r)}case de.M:{const r=t.payload.awards.reduce((e,t)=>(e[t.id]={...qe(t),isEnabled:!0},e),{});return Te()({...e},r)}case de.c:{const{awards:r}=t.payload,s=r.reduce((e,t)=>(e[t.award.id]=qe(t.award),e),{});return Te()({...e},s)}case de.j:{const{award:r}=t.payload;return r&&r.id?e[r.id]?Te()({...e},{[r.id]:qe(r)}):{...e,[r.id]:qe(r)}:e}case de.db:{const{awardId:r}=t.payload;return e[r]?{...e,[r]:{...e[r],isEnabled:!1}}:e}case Q.b:case V.u:case K.b:case ke.PAGE_LOADED:case Pe.e:case we.f:case Le.e:case Le.h:case $.f:case $.m:case $.p:case $.v:case Ce.r:case Q.f:case we.b:case Ne.b:case J.SEARCH_RESULTS_RECEIVED:case z.b:case z.e:case ee.b:case ee.e:case xe.b:case xe.e:case Ue.b:case X.MORE_POSTS_LOADED:case X.PROFILE_POSTS_LOADED:case Y.c:case Y.e:case Y.i:case Y.g:case"RECOMMENDED_POSTS_LOADED":case Ge.c:case te.i:case Z.SUBREDDIT_LOADED:{const r={},s=t.payload.posts||[],n=t.payload.comments||[];for(const e in s){const t=s[e].allAwardings||[];for(const e of t)r[e.id]=qe(Object(Ae.h)(e))}for(const e in n){const t=n[e],{associatedAward:s,allAwardings:a=[]}=t;for(const e of a)r[e.id]=qe(Object(Ae.h)(e));s&&(r[s.id]=qe(s))}return Object.keys(r).forEach(t=>{var s;0===(null===(s=e[t])||void 0===s?void 0:s.coinPrice)&&delete r[t]}),Te()({...e},r)}case de.mb:{const r={},{topAwardedPosts:s}=t.payload;return s.map(e=>{const{post:t}=e,s=t.awardings||[];for(const n of s){const e=n.award;r[e.id]=e}}),Te()({...e},r)}case Re.o:{const{freeAwardEvent:s}=t.payload;return He(e,(null===(r=null==s?void 0:s.freeAwards)||void 0===r?void 0:r.awards)||[])}case Re.h:{const{awards:r}=t.payload;return He(e,r||[])}default:return e}};const Ke={};var We=(e=Ke,t)=>{switch(t.type){case de.d:{const{subredditOrProfileId:r,thingId:s}=t.payload;return{...e,[r]:{...e[r],[s]:!0}}}case de.c:case de.b:{const{subredditOrProfileId:r,thingId:s}=t.payload;return{...e,[r]:{...e[r],[s]:!1}}}default:return e}},$e=Object(c.c)({pending:We});const Qe={};var ze=(e=Qe,t)=>{switch(t.type){case de.c:{const{awards:r,subredditOrProfileId:s,thingId:n}=t.payload,a=r.map(({award:e,total:t})=>({award:{id:e.id},total:t}));return{...e,[s]:{...e[s],[n]:a}}}default:return e}},Xe=Object(c.c)({api:$e,order:ze});const Ye={};var Je=(e=Ye,t)=>{switch(t.type){case de.c:{const{tags:r,subredditOrProfileId:s}=t.payload;return{...e,[s]:r}}default:return e}},Ze=Object(c.c)({order:Je}),et=Object(c.c)({blacklist:ue,create:fe,manageable:Se,models:Ve,sortedUsable:Xe,tags:Ze});const tt={};var rt=(e=tt,t)=>{switch(t.type){case f.e:case f.f:{const{subredditId:r}=t.payload;return{...e,[r]:void 0}}case f.d:{const{subredditId:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const st={};var nt=(e=st,t)=>{switch(t.type){case f.e:{const{subredditId:r}=t.payload;return{...e,[r]:!0}}case f.f:case f.d:{const{subredditId:r}=t.payload;return{...e,[r]:!1}}default:return e}},at=Object(c.c)({error:rt,pending:nt});const ct={};var ot=(e=ct,t)=>{switch(t.type){case f.h:case f.i:{const{subredditId:r}=t.payload;return{...e,[r]:void 0}}case f.g:{const{subredditId:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const dt={};var it=(e=dt,t)=>{switch(t.type){case f.h:{const{subredditId:r}=t.payload;return{...e,[r]:!0}}case f.i:case f.g:{const{subredditId:r}=t.payload;return{...e,[r]:!1}}default:return e}},ut=Object(c.c)({error:ot,pending:it}),lt=Object(c.c)({subreddit:at,user:ut});const pt={};var bt=(e=pt,t)=>{switch(t.type){case y.i:case f.f:case f.i:case h.d:{const{badges:r}=t.payload;return{...e,...r}}default:return e}},ft=Object(c.c)({api:lt,models:bt}),yt=r("./src/reddit/actions/blockedRedditors.ts");const mt={message:""};var Et=(e=mt,t)=>{switch(t.type){case yt.c:case yt.d:return e;case yt.b:return t.payload;default:return e}};var Ot=(e=!1,t)=>{switch(t.type){case yt.d:return!0;case yt.c:case yt.b:return!1;default:return e}},_t=Object(c.c)({error:Et,pending:Ot});const ht={ids:[]};var It=(e=ht,t)=>{switch(t.type){case yt.a:return{ids:[...e.ids,t.payload],timestamp:e.timestamp};case yt.e:const r=e.ids.slice();return r.splice(e.ids.indexOf(t.payload),1),{...e,ids:r};case yt.c:return{ids:[...e.ids,...t.payload],timestamp:Date.now()};default:return e}},gt=Object(c.c)({api:_t,list:It}),St=r("./src/reddit/actions/userBlocks.ts");const Dt={};var Tt=(e=Dt,t)=>{switch(t.type){case St.f:case St.e:{const{userId:r}=t.payload;return{...e,[r]:null}}case St.d:{const{userId:r,type:s}=t.payload;return{...e,[r]:s}}default:return e}};const jt={};var vt=(e=jt,t)=>{switch(t.type){case St.f:{const{userId:r}=t.payload;return{...e,[r]:!0}}case St.e:case St.d:{const{userId:r}=t.payload;return{...e,[r]:!1}}default:return e}},At=Object(c.c)({error:Tt,pending:vt}),Pt=Object(c.c)({api:At});const wt={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1};var Rt=(e=wt,t)=>{switch(t.type){case T.a:return e.isViewSafe===t.payload.isViewSafe&&e.hasBrandSafetyBeenAssessed?e:{...e,isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0};case Z.SUBREDDIT_PENDING:case Ne.c:case we.c:return e.hasBrandSafetyBeenAssessed?{...e,hasBrandSafetyBeenAssessed:!1}:e;default:return e}},Ct=r("./src/reddit/actions/downToChat.ts");var Lt=(e=null,t)=>{switch(t.type){case Ct.f:case Ct.g:return null;case Ct.e:{const{error:e}=t.payload;return e}default:return e}};var Nt=(e=!1,t)=>{switch(t.type){case Ct.b:case Ct.f:return!0;case Ct.a:case Ct.c:case Ct.e:case Ct.g:return!1;default:return e}},kt=Object(c.c)({error:Lt,pending:Nt}),xt=r("./node_modules/lodash/mapValues.js"),Ut=r.n(xt);const Mt={};var Ft=(e=Mt,t)=>{switch(t.type){case Ct.f:case Ct.e:case Ct.g:{const{subredditId:r,bannerEnabled:s,buttonEnabled:n}=t.payload;return{...e,[r]:{bannerEnabled:s,buttonEnabled:n}}}case Ct.c:{const{subredditId:r,bannerEnabled:s}=t.payload;return{...e,[r]:{...e[r],bannerEnabled:s}}}case Ct.d:return{...Ut()(e,e=>({bannerEnabled:!1,buttonEnabled:e.buttonEnabled}))};case Ct.a:case Ct.b:default:return e}},Gt=Object(c.c)({api:kt,subreddits:Ft}),Bt=r("./src/reddit/actions/chat/init.ts");var qt=(e=!1,t)=>{switch(t.type){case Bt.a:return!0;default:return e}},Ht=r("./src/chat/actions/promo/constants.ts");const Vt={displaySubredditChatFtux:!1};var Kt=(e=Vt,t)=>{switch(t.type){case Ht.a:{const r=t.payload;return{...e,[r]:!0}}case Ht.b:{const r=t.payload;return{...e,[r]:!1}}default:return e}},Wt=r("./src/lib/omitKey/index.ts"),$t=r("./src/reddit/actions/pages/chatSettings.ts");const Qt={};var zt=(e=Qt,t)=>{switch(t.type){case $t.b:{const{subredditId:r,error:s}=t.payload;return{...e,[r]:s}}case $t.a:case $t.c:case $t.d:{const{subredditId:r}=t.payload;return Object(Wt.a)(e,r)}default:return e}};const Xt={};var Yt=(e=Xt,t)=>{switch(t.type){case $t.a:case $t.b:case $t.c:case $t.d:{const{subredditId:r}=t.payload,s=t.type===$t.c;return{...e,[r]:s}}default:return e}},Jt=Object(c.c)({error:zt,pending:Yt}),Zt=Object(c.c)({fetch:Jt});const er={};var tr=(e=er,t)=>{switch(t.type){case $t.a:case $t.d:{const{subredditId:r,chatSettings:s}=t.payload;return{...e,[r]:s}}default:return e}},rr=Object(c.c)({api:Zt,models:tr}),sr=r("./src/reddit/actions/chat/unreadCount.ts");const nr={apiError:null};var ar=(e=nr,t)=>{switch(t.type){case sr.a.REQUEST_FAILED:{const e=t.payload;return{...nr,apiError:e}}case sr.a.REQUEST_SUCCESS:case sr.a.REQUEST_PENDING:return nr;default:return e}};var cr=(e=!1,t)=>{switch(t.type){case sr.a.REQUEST_PENDING:return!0;case sr.a.REQUEST_FAILED:case sr.a.REQUEST_SUCCESS:return!1;default:return e}},or=Object(c.c)({error:ar,pending:cr});const dr={basicChannelCount:0,subredditChannelCount:0};var ir=(e=dr,t)=>{switch(t.type){case sr.a.SYNC:case sr.a.REQUEST_SUCCESS:return{...t.payload};default:return e}},ur=Object(c.c)({api:or,count:ir}),lr=Object(c.c)({downToChat:Gt,isInited:qt,promos:Kt,subredditSettingsPage:rr,unread:ur}),pr=r("./src/reddit/actions/claimgold.ts");var br=(e=null,t)=>{switch(t.type){case pr.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case pr.d:case pr.e:case pr.c:return null;default:return e}};var fr=(e=!1,t)=>{switch(t.type){case pr.d:case pr.c:case pr.a:return!1;case pr.b:return!0;default:return e}};var yr=(e=!1,t)=>{switch(t.type){case pr.b:case pr.d:case pr.c:case pr.a:return!1;case pr.f:return!0;default:return e}},mr=Object(c.c)({error:br,pending:fr,showLoader:yr});var Er=(e="",t)=>{switch(t.type){case pr.g:return t.payload;case pr.e:return"";default:return e}};var Or=(e=!1,t)=>{switch(t.type){case pr.e:return!0;case pr.c:case pr.d:return!1;default:return e}},_r=Object(c.c)({api:mr,code:Er,showModal:Or}),hr=r("./src/reddit/actions/commentsListTruncated/constants.ts");var Ir=(e=!0,t)=>{switch(t.type){case hr.a:return!1;case hr.b:return!0;default:return e}},gr=r("./src/reddit/actions/communityFlairs/constants.ts");const Sr={};var Dr=(e=Sr,t)=>{switch(t.type){case gr.a:{const{models:r,sortedKeys:s,subredditId:n}=t.payload;return{...e,[n]:{sortedKeys:s,models:r}}}default:return e}},Tr=r("./src/reddit/actions/contentGate.ts");const jr={};var vr=(e=jr,t)=>{switch(t.type){case Tr.a:{const{subredditName:r}=t.payload;if(r){if(e[r]){const t={[r]:{goldSubreddit:!0}};return H()({...e},{...t})}return{...e,[r]:{goldSubreddit:!0}}}return e}case Tr.b:{const{subredditDescription:r,subredditName:s}=t.payload;if(s){if(e[s]){const t={[s]:{privateSubreddit:!0,subredditDescription:r}};return H()({...e},{...t})}return{...e,[s]:{privateSubreddit:!0,subredditDescription:r}}}return e}case Tr.f:{const{subredditName:r,quarantineRequiresEmail:s,quarantineMessage:n,quarantineMessageHtml:a,quarantineMessageRTJson:c}=t.payload;return r?{...e,[r]:{...e[r],quarantinedSubreddit:!0,quarantineRequiresEmail:s,quarantineMessage:n,quarantineMessageHtml:a,quarantineMessageRTJson:c}}:e}case Tr.h:{const{subredditName:r,banMessage:s}=t.payload;if(r){if(e[r]){const t={[r]:{subredditBanned:!0,subredditBanMessage:s}};return H()({...e},{...t})}return{...e,[r]:{subredditBanned:!0,subredditBanMessage:s}}}return e}case Tr.i:{const{subredditName:r}=t.payload;if(r){if(e[r]){const t={[r]:{subredditBlockedForLegalReason:!0}};return H()({...e},{...t})}return{...e,[r]:{subredditBlockedForLegalReason:!0}}}return e}case Tr.j:{const{subredditName:r}=t.payload;if(r){if(e[r]){const t={[r]:{subredditDoesNotExist:!0}};return H()({...e},{...t})}return{...e,[r]:{subredditDoesNotExist:!0}}}return e}case Tr.c:case Tr.d:case Tr.e:{const{profileName:r}=t.payload,s=Fe.Wb+r.toLocaleLowerCase(),n=e[s]||{},a={profileDeleted:t.type===Tr.d,profileSuspended:t.type===Tr.e,profileBlockedForLegalReason:t.type===Tr.c};return{...e,[s]:{...n,...a}}}default:return e}};const Ar={};var Pr=(e=Ar,t)=>{switch(t.type){case V.u:case Q.b:case Q.f:return{...e,...t.payload.continueThreads};default:return e}},wr=Object(c.c)({models:Pr}),Rr=r("./src/reddit/actions/postCollection/constants.ts");var Cr=(e=null,t)=>{switch(t.type){case s.c:case Rr.d:case Rr.c:case Rr.s:case Rr.r:return null;case Rr.b:case Rr.n:return t.payload;default:return e}};var Lr=(e=!1,t)=>{switch(t.type){case Rr.c:case Rr.r:return!0;case Rr.d:case Rr.b:case Rr.s:case Rr.n:return!1;default:return e}},Nr=Object(c.c)({error:Cr,pending:Lr}),kr=Object(c.c)({createOrUpdate:Nr}),xr=r("./src/reddit/actions/postDraft.ts");const Ur={};var Mr=(e=Ur,t)=>{switch(t.type){case xr.c:case xr.b:{const{draftId:r}=t.payload;return{...e,[r]:null}}case xr.a:{const{apiError:r,draftId:s}=t.payload;return{...e,[s]:r}}default:return e}};const Fr={};var Gr=(e=Fr,t)=>{switch(t.type){case xr.b:{const{draftId:r}=t.payload;return{...e,[r]:!0}}case xr.c:case xr.a:{const{draftId:r}=t.payload;return{...e,[r]:!1}}default:return e}},Br=Object(c.c)({error:Mr,pending:Gr});var qr=(e=null,t)=>{switch(t.type){case xr.d:return t.payload;case xr.f:case xr.e:return null;default:return e}};var Hr=(e=!1,t)=>{switch(t.type){case xr.f:return!0;case xr.e:case xr.d:return!1;default:return e}},Vr=Object(c.c)({error:qr,pending:Hr});const Kr={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null};var Wr=(e=Kr,t)=>{switch(t.type){case xr.l:case xr.j:return Kr;case xr.i:{const e=t.payload;return{...Kr,apiError:e}}case xr.m:{const e=t.payload;return{...Kr,validationError:e}}case xr.k:{const e=t.payload;return{...Kr,submitValidationError:e}}case xr.h:return{...Kr,needsCaptcha:!0};default:return e}};var $r=(e=!1,t)=>{switch(t.type){case xr.j:return!0;case xr.l:case xr.i:case xr.m:case xr.k:case xr.h:return!1;default:return e}},Qr=Object(c.c)({error:Wr,pending:$r}),zr=Object(c.c)({deleteDraft:Br,listing:Vr,save:Qr});const Xr={};var Yr=(e=Xr,t)=>{switch(t.type){case _.D:{const r=t.payload;return{...e,[r]:!0}}case _.p:{const r=t.payload;return{...e,[r]:!1}}default:return e}},Jr=Object(c.c)({pending:Yr});var Zr=(e=null,t)=>{switch(t.type){case _.u:case _.v:case _.d:case _.e:case _.f:case _.i:case _.j:case _.n:case _.L:return null;case _.t:return t.payload;default:return e}};var es=(e=!1,t)=>{switch(t.type){case _.u:return!0;case _.v:case _.t:return!1;default:return e}},ts=Object(c.c)({error:Zr,pending:es}),rs=Object(c.c)({converting:Jr,mediaUpload:ts});const ss={};var ns=(e=ss,t)=>{switch(t.type){case ke.PAGE_LOADED:case ke.PAGE_PENDING:{const{key:r}=t.payload;return{...e,[r]:null}}case ke.PAGE_FAILED:{const{key:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const as={};var cs=(e=as,t)=>{switch(t.type){case ke.PAGE_PENDING:{const{key:r}=t.payload;return{...e,[r]:!1}}case ke.PAGE_LOADED:{const{key:r}=t.payload;return{...e,[r]:!0}}default:return e}};const os={};var ds=(e=os,t)=>{switch(t.type){case ke.PAGE_PENDING:{const{key:r}=t.payload;return{...e,[r]:!0}}case ke.PAGE_LOADED:case ke.PAGE_FAILED:{const{key:r}=t.payload;return{...e,[r]:!1}}default:return e}},is=Object(c.c)({error:ns,fetched:cs,pending:ds}),us=r("./src/reddit/actions/scheduledPosts/constants.ts");const ls={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null};var ps=(e=ls,t)=>{switch(t.type){case _.M:case us.h:case _.x:case _.c:case _.d:case _.e:case _.f:case _.i:case _.j:case _.n:case _.L:case _.B:return ls;case _.h:{const{isContentChanged:r}=t.payload;return r?ls:e}case _.o:{const e=t.payload;return{...ls,apiError:e}}case _.Y:{const e=t.payload;return{...ls,validationError:e}}case _.H:case _.G:{const e=t.payload;return{...ls,submitValidationError:e}}case _.a:return{...ls,needsCaptcha:!0};case _.z:return{...ls,pollError:t.payload};default:return e}};var bs=(e=!1,t)=>{switch(t.type){case _.x:return!0;case _.M:case us.h:case _.o:case _.Y:case _.G:case _.H:case _.z:case _.a:return!1;default:return e}},fs=Object(c.c)({error:ps,pending:bs});var ys=(e=null,t)=>{switch(t.type){case _.y:case _.E:return null;case _.m:return t.payload;default:return e}};var ms=(e=!1,t)=>{switch(t.type){case _.y:return!0;case _.m:case _.l:return!1;default:return e}},Es=Object(c.c)({error:ys,pending:ms}),Os=Object(c.c)({submit:fs,update:Es});var _s=(e=null,t)=>{switch(t.type){case _.L:case _.J:case _.K:return null;default:return e}};var hs=(e=!1,t)=>{switch(t.type){case _.K:return!0;case _.J:case _.L:return!1;default:return e}},Is=Object(c.c)({error:_s,pending:hs}),gs=Object(c.c)({change:Is}),Ss=Object(c.c)({collection:kr,draft:zr,editor:rs,page:is,post:Os,subreddit:gs}),Ds=r("./node_modules/lodash/omit.js"),Ts=r.n(Ds),js=r("./src/reddit/actions/pages/postDraft.ts");const vs={};var As=(e=vs,t)=>{switch(t.type){case xr.e:{const{postDrafts:e}=t.payload;return e||vs}case xr.c:{const r=e,{draftId:s}=t.payload;return Ts()(r,s)}case _.M:{const{draftId:r}=t.payload;return r?Ts()(e,r):e}case js.PAGE_LOADED:{const{drafts:e}=t.payload;return e}default:return e}};const Ps=e=>{if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},ws=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams};var Rs=r("./src/reddit/models/PostDraft/index.ts");var Cs=(e="",t)=>{switch(t.type){case _.d:return t.payload||"";case _.B:return"";case O.a:{if(Ps(t)!==Fe.Db.POST_CREATION)return"";const r=ws(t);return r&&r.url?r.url||"":e}case xr.g:{const e=t.payload;return e.kind===Rs.b.Link&&e.body||""}case us.b:case us.n:return t.payload.url||"";default:return e}},Ls=r("./src/reddit/models/PostCreationForm/index.ts"),Ns=r("./src/reddit/models/ScheduledPost/index.ts");var ks=(e="",t)=>{switch(t.type){case _.e:return t.payload||"";case _.B:case _.F:return"";case _.N:return t.payload.editorMode===Ls.h.MARKDOWN?t.payload.content||"":e;case O.a:{if(Ps(t)!==Fe.Db.POST_CREATION)return"";const r=ws(t);return r&&r.text?(e=>e?e.replace(/\+/g," "):"")(r.text):e}case xr.g:{const e=t.payload;return e.kind===Rs.b.Markdown&&e.body||""}case us.b:case us.n:{const e=t.payload;return e.contentType===Ns.a.TEXT?e.body:""}default:return e}};const xs={items:[],selectedKey:null};var Us=(e=xs,t)=>{switch(t.type){case _.f:return t.payload||xs;case _.B:return xs;case O.a:return Ps(t)!==Fe.Db.POST_CREATION?xs:e;case xr.g:return xs;case us.b:case us.n:return xs;default:return e}},Ms=r("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),Fs=r("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),Gs=r("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts");const Bs=Ms.a.createInitial;var qs=(e=Bs(),t)=>{switch(t.type){case _.h:{const{rteState:e}=t.payload;return e}case _.B:return Ms.a.createInitial();case _.N:{const r=t.payload;return r.editorMode===Ls.h.RICH_TEXT&&r.editorKey===Ls.g.POST_CREATION?Ms.a.createInitial(r.content):e}case O.a:return Ps(t)!==Fe.Db.POST_CREATION?Ms.a.createInitial():e;case xr.g:{const e=t.payload;return e.kind===Rs.b.RichText?Ms.a.createInitial(e.body):Ms.a.createInitial()}case us.b:case us.n:{const e=t.payload,r=Object(Fs.c)(e.mediaAssets);return Ms.a.createInitial(e.contentType===Ns.a.RTJSON?Object(Gs.b)(e.body):void 0,r||void 0)}default:return e}},Hs=Object(c.c)({link:Cs,markdown:ks,media:Us,rte:qs});var Vs=(e=null,t)=>{switch(t.type){case _.b:return t.payload||null;case _.B:case xr.g:case us.b:case us.n:case _.L:return null;case O.a:return Ps(t)===Fe.Db.POST_CREATION?e:null;default:return e}},Ks=r("./src/reddit/selectors/scheduledPosts/index.ts");var Ws=(e=null,t)=>{switch(t.type){case _.c:return t.payload||null;case us.b:case us.n:{const e=t.payload;return Object(Ks.n)({scheduledPost:e})||null}case _.B:return null;case O.a:return Ps(t)===Fe.Db.POST_CREATION?e:null;case xr.g:return t.payload.flair||null;default:return e}};var $s=(e=null,t)=>{switch(t.type){case _.q:return t.payload.type||null;case us.b:case us.n:case _.i:case _.B:case O.a:return null;default:return e}};var Qs=(e=!1,t)=>{switch(t.type){case _.P:return t.payload||!1;case us.b:case us.n:return"CHAT"===t.payload.discussionType;case _.B:return!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case xr.g:return t.payload.isChatPost||!1;default:return e}};var zs=(e=!1,t)=>{switch(t.type){case _.X:{const{isContestMode:e}=t.payload;return e||!1}case _.B:return!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case us.b:case us.n:return t.payload.isContestMode;default:return e}};var Xs=(e=!1,t)=>{switch(t.type){case _.R:return t.payload||!1;case _.B:return!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case xr.g:return t.payload.isNSFW||!1;case us.b:case us.n:return t.payload.isNsfw;default:return e}};var Ys=(e=!1,t)=>{switch(t.type){case _.S:return t.payload||!1;case _.B:return!1;case _.L:{const{name:r}=t.payload;return!!r&&e}case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case xr.g:return t.payload.isOriginalContent||!1;case us.b:case us.n:return t.payload.isOriginalContent;default:return e}};var Js=(e=!1,t)=>{switch(t.type){case _.T:return t.payload||!1;case us.b:case us.n:return!!t.payload.poll;case _.B:return!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;default:return e}};var Zs=(e=!1,t)=>{switch(t.type){case _.X:{const{isPostAsMetaMod:e}=t.payload;return e||!1}case _.B:return!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case us.b:case us.n:return t.payload.isPostAsMetaMod;default:return e}};var en=(e=!1,t)=>{switch(t.type){case us.b:case us.n:case _.B:return!1;case xr.n:return t.payload;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case xr.g:return t.payload.isPublicLink;default:return e}};var tn=(e=!1,t)=>{switch(t.type){case _.U:return t.payload||!1;case _.B:return!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case xr.g:return t.payload.isSpoiler||!1;case us.b:case us.n:return t.payload.isSpoiler;default:return e}};var rn=(e="",t)=>{switch(t.type){case m.b:{const{subredditName:e}=t.payload;return e}case O.a:case _.i:case _.q:case _.B:case m.h:return"";default:return e}};var sn=(e="",t)=>{switch(t.type){case m.c:{const{username:e}=t.payload;return e}case O.a:case _.i:case _.q:case _.B:case m.h:return"";default:return e}};var nn=(e=null,t)=>{switch(t.type){case _.K:case _.L:return t.payload;case _.J:case O.a:return null;default:return e}},an=r("./src/reddit/actions/polls.ts");var cn=(e=null,t)=>{switch(t.type){case an.a:return{...t.payload};case us.b:case us.n:{const e=t.payload;return e.poll?{options:e.poll.options,duration:864e5*e.poll.duration}:null}case m.h:case _.B:return null;case O.a:return Ps(t)!==Fe.Db.POST_CREATION?null:e;default:return e}},on=r("./src/reddit/components/ScheduledPost/SchedulePicker/helpers.ts"),dn=r("./src/reddit/helpers/scheduledPosts/index.ts");var un=(e=null,t)=>{var r,s,n,a;switch(t.type){case _.X:{const{schedule:e}=t.payload;return e||null}case _.B:case xr.g:case _.L:return null;case O.a:if(Ps(t)===Fe.Db.POST_CREATION){const c=null===(a=(null!==(n=null===(s=null===(r=t.payload)||void 0===r?void 0:r.routeMatch)||void 0===s?void 0:s.match.queryParams)&&void 0!==n?n:{}).frequency)||void 0===a?void 0:a.toUpperCase();if(c&&Object(Ns.m)(c)){const t=Object(on.c)();return{...e,...t,frequencyOption:c,recurrenceInfo:{...on.a,...null==e?void 0:e.recurrenceInfo,...Object(on.b)(new Date(t.submitDate),c)}}}return e}return null;case us.n:{const e=t.payload;return{submitDate:e.publishAt,timezoneName:e.clientTimezone,frequencyOption:null,recurrenceInfo:null}}case us.b:{const e=t.payload;return{...Object(dn.h)(e)}}default:return e}};var ln=(e=!1,t)=>{const{type:r,payload:s}=t;switch(r){case _.V:return s||!1;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case us.b:case us.n:case xr.g:return!1;default:return e}};var pn=(e="",t)=>{switch(t.type){case _.g:return t.payload||"";case O.a:return Ps(t)!==Fe.Db.POST_CREATION?"":e;default:return e}};var bn=(e=null,t)=>{switch(t.type){case O.a:return Ps(t)!==Fe.Db.POST_CREATION?null:e;case _.B:return null;case us.b:case us.n:return t.payload.id;default:return e}};var fn=(e=!0,t)=>{switch(t.type){case _.B:return!0;case _.W:return t.payload;case O.a:return Ps(t)!==Fe.Db.POST_CREATION||e;case xr.g:return t.payload.sendReplies;case us.b:case us.n:return t.payload.isSendReplies;default:return e}};var yn=(e=null,t)=>{switch(t.type){case _.X:{const{stickyPosition:e}=t.payload;return e||null}case _.B:case xr.g:case _.L:return null;case O.a:return Ps(t)===Fe.Db.POST_CREATION?e:null;case us.b:case us.n:return t.payload.sticky||null;default:return e}};const mn=Fe.Lb.POST;var En=(e=mn,t)=>{switch(t.type){case _.B:return mn;case _.r:return Fe.Lb.CROSSPOST;case _.i:return t.payload.submissionType||mn;case O.a:{if(Ps(t)!==Fe.Db.POST_CREATION)return mn;const r=ws(t);if(!r)return e;const{title:s="",url:n,text:a="",media:c=!1,selftext:o=!1}=r,d=s&&!a&&!o;return c?Fe.Lb.MEDIA:void 0!==n||d?Fe.Lb.LINK_ONLY:a||o?Fe.Lb.POST:e}case xr.g:{const e=t.payload;return Rs.a[e.kind]}case us.b:case us.n:{const e=t.payload;return e.poll?Fe.Lb.POLL:e.url?Fe.Lb.LINK_ONLY:Fe.Lb.POST}default:return e}};var On=(e=null,t)=>{switch(t.type){case _.X:{const{suggestedSort:e}=t.payload;return e||null}case _.B:case xr.g:case _.L:return null;case O.a:return Ps(t)===Fe.Db.POST_CREATION?e:null;case us.b:case us.n:return t.payload.suggestedCommentSort||null;default:return e}},_n=r("./src/reddit/models/Poll/index.ts");const hn=e=>`Should ${e||"username"} become the top moderator?`,In=e=>e?`Should we spin-off to r/${e}?`:"Should we spin-off to a new community?";var gn=(e="",t)=>{switch(t.type){case _.r:return t.payload.postTitle||"";case _.j:return t.payload||"";case _.A:{const{title:r}=t.payload;return e||(r||"")}case _.B:return"";case O.a:{if(Ps(t)!==Fe.Db.POST_CREATION)return"";const r=ws(t);return r&&r.title?(e=>e?e.replace(/\+/g," "):"")(r.title):e}case xr.g:return t.payload.title;case _.q:{const{oldType:r,type:s}=t.payload;return s===_n.a.ReplaceTopMod?hn(""):s===_n.a.Spinoff?In(""):r===_n.a.ReplaceTopMod||r===_n.a.Spinoff?"":e}case m.c:{const{username:e}=t.payload;return hn(e)}case m.b:{const{subredditName:e}=t.payload;return In(e)}case _.i:{const{extra:r}=t.payload;return!r||r.govType!==_n.a.ReplaceTopMod&&r.govType!==_n.a.Spinoff?e:""}case us.b:case us.n:return t.payload.title;default:return e}},Sn=Object(c.c)({body:Hs,eventSchedule:Vs,flair:Ws,govType:$s,isChatPost:Qs,isContestMode:zs,isNSFW:Xs,isOC:Ys,isPostAsMetaMod:Zs,isPoll:Js,isPublicLink:en,isSpoiler:tn,newSubreddit:rn,newTopMod:sn,nextSubreddit:nn,polls:cn,postSchedule:un,postToTwitter:ln,recaptcha:pn,scheduledPostId:bn,sendReplies:fn,stickyPosition:yn,submissionType:En,suggestedSort:On,title:gn});var Dn=(e=null,t)=>{switch(t.type){case O.a:{if(Ps(t)!==Fe.Db.POST_CREATION)return null;const r=ws(t);return r&&r.text&&(e=>e?e.replace(/\+/g," "):"")(r.text)?Ls.h.MARKDOWN:e}case _.E:{const{editorMode:e}=t.payload;return e}case _.F:return null;case _.N:{const{editorMode:e}=t.payload;return e}case us.b:case us.n:return t.payload.contentType===Ns.a.RTJSON?Ls.h.RICH_TEXT:Ls.h.MARKDOWN;default:return e}};const Tn={title:[],body:[],link:[],flair:[]};var jn=(e=Tn,t)=>{switch(t.type){case _.c:case _.d:case _.e:return e[Fe.ob.BODY]?{...e,[Fe.ob.BODY]:[]}:e;case _.h:{const{isContentChanged:r}=t.payload;return e[Fe.ob.BODY]&&r?{...e,[Fe.ob.BODY]:[]}:e}case _.j:return e[Fe.ob.TITLE]?{...e,[Fe.ob.TITLE]:[]}:e;case _.I:{const r=t.payload;return{...e,[r]:[]}}case _.n:{const r=t.payload;return r?{...e,[r]:[]}:Tn}case _.H:case _.G:return((e,t)=>{const r=(t.fields||[]).filter(({field:e})=>Object(Ls.u)(e));if(!r.length)return e;const s=r.reduce((e,t)=>(e[t.field]||(e[t.field]=[]),e[t.field].push(t.msg),e),{});return{...e,...s}})(e,t.payload);case O.a:return Ps(t)!==Fe.Db.POST_CREATION?Tn:e;default:return e}};var vn=(e=!1,t)=>{switch(t.type){case _.b:case _.c:case _.d:case _.e:case _.f:case _.j:case _.i:case _.R:case _.S:case _.U:case xr.n:case _.W:case _.X:return!0;case _.h:{const{isContentChanged:r}=t.payload;return!!r||e}case _.M:case us.h:return!1;case _.O:return t.payload;case O.a:return Ps(t)===Fe.Db.POST_CREATION&&e;case _.B:case xr.l:case xr.g:return!1;default:return e}};var An=(e=null,t)=>{switch(t.type){case _.w:return e===t.payload?null:t.payload||null;case s.c:return t.payload?null:e;case O.a:return Ps(t)!==Fe.Db.POST_CREATION?null:e;default:return e}};const Pn=Ls.q.Post;var wn=(e=Pn,t)=>{switch(t.type){case _.x:return Ls.q.Post;case _.C:return t.payload;case xr.j:return Ls.q.Draft;case O.a:return Ps(t)!==Fe.Db.POST_CREATION?Pn:e;default:return e}},Rn=Object(c.c)({editorMode:Dn,fieldValidation:jn,isChanged:vn,modalId:An,submitMode:wn});var Cn=(e="",t)=>{switch(t.type){case _.E:return t.payload.editorMode===Ls.h.MARKDOWN?t.payload.postContent||"":e;case _.F:return"";case _.N:return t.payload.editorMode===Ls.h.MARKDOWN?t.payload.content||"":e;default:return e}};const Ln=Ms.a.createInitial;var Nn=(e=Ln(),t)=>{switch(t.type){case _.F:return Ms.a.createInitial();case _.E:{const r=t.payload;return r.editorMode===Ls.h.RICH_TEXT&&"object"==typeof r.postContent?Ms.a.createInitial(r.postContent,r.mediaMetadata):e}case _.N:{const r=t.payload;return r.editorMode===Ls.h.RICH_TEXT&&r.editorKey===Ls.g.POST_EDITING?Ms.a.createInitial(r.content):e}default:return e}},kn=Object(c.c)({markdown:Cn,rte:Nn});var xn=(e=null,t)=>{switch(t.type){case _.E:{const{postId:e}=t.payload;return e}case _.F:return null;default:return e}},Un=Object(c.c)({draft:kn,postId:xn}),Mn=Object(c.c)({api:Ss,drafts:As,formData:Sn,formState:Rn,postEditing:Un}),Fn=r("./src/reddit/actions/dashboard/constants.ts");const Gn={selectedComponent:null,subredditPending:!1,subredditLoaded:{}};var Bn=(e=Gn,t)=>{switch(t.type){case Fn.a:return{...e,selectedComponent:t.payload};case Fn.d:{const r=t.payload,s=e.subredditLoaded[r];return{...e,subredditPending:!s,subredditLoaded:{...e.subredditLoaded,[r]:s||!1}}}case Fn.c:{const r=t.payload;return{...e,subredditPending:!1,subredditLoaded:{...e.subredditLoaded,[r]:!0}}}default:return e}};var qn=(e=null,t)=>{switch(t.type){case Pe.b:case Pe.c:return null;case Pe.a:{const{error:e}=t.payload;return e||null}default:return e}};var Hn=(e=!1,t)=>{switch(t.type){case Pe.c:return!1;case Pe.b:return!0;default:return e}};var Vn=(e=!1,t)=>{switch(t.type){case Pe.c:return!0;case Pe.b:case Pe.a:return!1;default:return e}},Kn=Object(c.c)({error:qn,loaded:Hn,pending:Vn}),Wn=Object(c.c)({list:Kn}),$n=r("./node_modules/lodash/isEmpty.js"),Qn=r.n($n);const zn={};var Xn=(e=zn,t)=>{switch(t.type){case Pe.b:{const{discoveryUnits:r}=t.payload;return Qn()(r)?e:{...e,...r}}default:return e}},Yn=r("./node_modules/lodash/forOwn.js"),Jn=r.n(Yn),Zn=r("./src/reddit/helpers/name/index.ts");const ea={};var ta=(e=ea,t)=>{switch(t.type){case Pe.b:{const{discoveryUnits:r}=t.payload;if(Qn()(r))return e;const s={};return Jn()(r,e=>{s[Object(Zn.g)(e.unitName)]=e.id}),{...e,...s}}default:return e}},ra=Object(c.c)({api:Wn,models:Xn,nameToId:ta}),sa=r("./src/reddit/actions/dismissedTruncationList/constants.ts");const na=[];var aa=(e=na,t)=>{switch(t.type){case sa.a:{const{subredditId:r}=t.payload;return[...e,r]}default:return e}},ca=r("./src/reddit/actions/economics/banners/constants.ts");const oa={dismissedBanners:{}};var da=(e=oa,t)=>{switch(t.type){case ca.c:{const r=t.payload;return{...e,dismissedBanners:{...e.dismissedBanners,[r]:{...e.dismissedBanners[r],pending:!0}}}}case ca.d:{const{subredditId:r,data:s}=t.payload;return{...e,dismissedBanners:{...e.dismissedBanners,[r]:{...e.dismissedBanners[r],pending:!1,data:s}}}}case ca.a:case ca.b:{const{subredditId:r,bannerType:s}=t.payload,n=e.dismissedBanners[r]||{},a=t.type===ca.a;return{...e,dismissedBanners:{...e.dismissedBanners,[r]:{...n,data:{...n.data,[s]:a}}}}}default:return e}},ia=r("./src/reddit/models/Badge/managementPage.ts");const ua={badgeType:ia.a.Cosmetic,view:ia.c.Gallery};var la=(e=ua,t)=>{switch(t.type){case y.c:{const{badge:r,initialView:s}=t.payload;return r||s?{...e,badgeType:r?Object(ia.d)(r.placement):e.badgeType,view:s}:e}case y.b:{const r=t.payload;return{...e,badgeType:r}}case y.d:{const r=t.payload;return{...e,view:r}}case s.b:return ua;default:return e}};var pa=(e=null,t)=>{switch(t.type){case y.c:return{badge:t.payload.badge};case s.b:return null;case y.j:return t.payload||null;default:return e}};const ba={};var fa=(e=ba,t)=>{switch(t.type){case y.e:{const{emotes:r,emoteCollections:s}=t.payload.products,n={};return r.forEach(e=>{const t=e.extra&&e.extra.assets,r=Object.keys(e.collections||{})[0]||e.title,a=s[r];n[r]||(n[r]={emotes:{},position:a?a.position:0,title:a?a.title:e.title}),t&&Object.keys(t).forEach(s=>{const a=t[s];n[r].emotes[s]={id:s,emoji:a.emoji,extra:{rtDescription:e.extra&&e.extra.rtDescription},fullId:`emote|${e.id}|${s}`,imageType:a.emoji.type,sticker:a.sticker}})}),{...e,[t.payload.subredditId]:Object.keys(n).map(e=>n[e]).sort((e,t)=>e.position-t.position)}}case de.ib:{const{powerups:r,subredditId:s}=t.payload;if(r&&r.mediaPacks){const t=r.mediaPacks.map(e=>({title:e.name,emotes:e.emotes.reduce((t,r)=>({...t,[r.name]:{id:r.name,fullId:`emote|${e.id}|${r.name}`,imageType:r.emojiIcon.mimeType,emoji:{x:r.emojiIcon.x,y:r.emojiIcon.y,path:r.emojiIcon.url,type:r.emojiIcon.mimeType},sticker:{x:r.stickerIcon.x,y:r.stickerIcon.y,path:r.stickerIcon.url,type:r.stickerIcon.mimeType}}}),{})}));return{...e,[s]:e[s]?[...e[s],...t]:t}}return e}default:return e}};const ya={};var ma=(e=ya,t)=>{switch(t.type){case y.e:{const r=t.payload.products.giphy.length>0;return{...e,[t.payload.subredditId]:{hasGifProduct:r}}}default:return e}},Ea=r("./src/reddit/actions/economics/me/constants.ts");const Oa={fetched:!1,data:{}};var _a=(e=Oa,t)=>{switch(t.type){case Ea.a:return{fetched:!0,data:t.payload};case y.h:{const{subredditId:r}=t.payload;return e.data.specialMemberships&&e.data.specialMemberships[r]?{...e,data:{...e.data,specialMemberships:{...e.data.specialMemberships,[r]:{...e.data[r],settings:{renew:!1}}}}}:e}default:return e}},ha=r("./src/reddit/reducers/economics/paymentSystems/index.ts");const Ia={fetched:!1,data:null};var ga=(e=Ia,t)=>{switch(t.type){case Ea.b:return{fetched:!0,data:e.data};case Ea.c:return{fetched:!0,data:t.payload};default:return e}},Sa=r("./src/reddit/reducers/economics/subredditPremium/index.ts"),Da=Object(c.c)({banners:da,currentBadgeManagementScreen:la,currentModalArgs:pa,emotes:fa,gifs:ma,me:_a,paymentSystems:ha.b,pointsCopy:ga,subredditPremium:Sa.b}),Ta=r("./src/reddit/actions/emoji.ts");const ja={};var va=(e=ja,t)=>{switch(t.type){case Ta.h:{const r=t.payload;return{...e,[r]:!0}}case Ta.g:case Ta.f:{const{subredditId:r}=t.payload,{[r]:s,...n}=e;return n}default:return e}},Aa=Object(c.c)({pending:va}),Pa=Object(c.c)({list:Aa});const wa={};var Ra=(e=wa,t)=>{switch(t.type){case Ta.f:case Ta.c:return e;case Ta.g:{const{data:e}=t.payload;return e}case Ta.d:{const{emojiName:r,subredditId:s}=t.payload,n=e[s].emojis,{[r]:a,...c}=n;return{...e,[s]:{...e[s],emojis:c}}}case Ta.i:{const r=t.payload,s=e[r.subredditId].emojis,n={url:r.url,name:r.name,userFlairAllowed:r.userFlairAllowed,postFlairAllowed:r.postFlairAllowed,modFlairOnly:r.modFlairOnly},a={...s,[r.name]:n};return{...e,[r.subredditId]:{...e[r.subredditId],emojis:a}}}case Ta.e:{const{emojiName:r,isSnoomoji:s,settings:n,subredditId:a}=t.payload,c=s?"snoomojis":"emojis",o=e[a][c],d={...o,[r]:{...o[r],...n}};return{...e,[a]:{...e[a],[c]:d}}}default:return e}},Ca=Object(c.c)({api:Pa,models:Ra}),La=r("./src/reddit/actions/experiments.ts");const Na=/^experiment_(.*)$/i,ka=e=>{const t=e.match(Na);if(null!==t)return t[1]},xa={};var Ua=(e=xa,t)=>{switch(t.type){case O.a:{const r=ws(t);if(!r)return e;const s={};for(const e in r){const t=ka(e);t&&(s[t.toLowerCase()]=r[e]||"")}return Qn()(s)?e:{...e,...s}}case La.b:{const{experimentName:r,override:s}=t.payload;return r?{...e,[r]:s||""}:e}default:return e}},Ma=r("./src/reddit/actions/externalAccount.ts");const Fa={};var Ga=(e=Fa,t)=>{switch(t.type){case Ma.e:case Ma.f:{const{provider:r}=t.payload;return{...e,[r]:null}}case Ma.d:{const{provider:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const Ba={};var qa=(e=Ba,t)=>{switch(t.type){case Ma.e:{const{provider:r}=t.payload;return{...e,[r]:!0}}case Ma.f:case Ma.d:{const{provider:r}=t.payload;return{...e,[r]:!1}}default:return e}},Ha=Object(c.c)({error:Ga,pending:qa});const Va={};var Ka=(e=Va,t)=>{switch(t.type){case Ma.l:case Ma.k:{const{provider:r}=t.payload;return{...e,[r]:null}}case Ma.j:{const{provider:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const Wa={};var $a=(e=Wa,t)=>{switch(t.type){case Ma.b:{const{provider:r}=t.payload;return{...e,[r]:!0}}case Ma.c:case Ma.a:{const{provider:r}=t.payload;return{...e,[r]:!1}}default:return e}},Qa=Object(c.c)({error:Ka,pending:$a});const za={};var Xa=(e=za,t)=>{switch(t.type){case Ma.i:case Ma.h:{const{subredditName:r}=t.payload;return{...e,[r]:null}}case Ma.g:{const{subredditName:r,apiError:s}=t.payload;return{...e,[r]:s}}default:return e}};const Ya={};var Ja=(e=Ya,t)=>{switch(t.type){case Ma.h:{const{subredditName:r}=t.payload;return{...e,[r]:!0}}default:return e}};const Za={};var ec=(e=Za,t)=>{switch(t.type){case Ma.i:{const{subredditName:r}=t.payload;return{...e,[r]:!0}}case Ma.h:case Ma.g:{const{subredditName:r}=t.payload;return{...e,[r]:!1}}default:return e}},tc=Object(c.c)({error:Xa,fetched:Ja,pending:ec});const rc={};var sc=(e=rc,t)=>{switch(t.type){case Ma.l:case Ma.k:{const{username:r}=t.payload;return{...e,[r]:null}}case Ma.j:{const{username:r,apiError:s}=t.payload;return{...e,[r]:s}}default:return e}};const nc={};var ac=(e=nc,t)=>{switch(t.type){case Ma.l:{const{username:r}=t.payload;return{...e,[r]:!0}}case Ma.k:case Ma.j:{const{username:r}=t.payload;return{...e,[r]:!1}}default:return e}},cc=Object(c.c)({error:sc,pending:ac}),oc=Object(c.c)({connect:Ha,disconnect:Qa,user:cc,subreddit:tc});const dc={};var ic=(e=dc,t)=>{switch(t.type){case Ma.h:{const{subredditName:r,accountsData:s}=t.payload;return{...e,[r]:s}}default:return e}};const uc={};var lc=(e=uc,t)=>{switch(t.type){case Ma.k:{const{username:r,accountsData:s}=t.payload;return{...e,[r]:s}}case Ma.c:{const{username:r,provider:s}=t.payload,n=e[r];return n&&n[s]?{...e,[r]:Ts()(n,s)}:e}default:return e}},pc=Object(c.c)({api:oc,user:lc,subreddit:ic}),bc=r("./src/reddit/featureFlags/index.ts");const fc=new Set(["0","disabled","false","off",""]);var yc=e=>!fc.has(e.toLowerCase());const mc=bc.a.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),Ec=bc.a.reduce((e,t)=>(e[t]=null,e),{});var Oc=(e=Ec,t)=>{switch(t.type){case O.a:{const r=ws(t);if(void 0!==r){const t={};for(const e in r){const s=Object(bc.g)(e);if(s){const n=mc[s.toLowerCase()];if(n){const s=r[e],a="string"!=typeof s||yc(s);t[n]=a}}}if(Object.keys(t).length>0)return{...e,...t}}return e}case bc.b:{const{featureName:r,currentValue:s}=t.payload;return s===e[r]?e:{...e,[r]:s}}case bc.c:{const{featureName:r,currentValue:s}=t.payload;return{...e,[r]:!s}}default:return e}},_c=Object(c.c)({overrides:Oc}),hc=r("./src/reddit/actions/focusedVerticals/constants.ts");const Ic={focusedVerticalGqlError:null};var gc=(e=Ic,t)=>{switch(t.type){case hc.h:case hc.g:case hc.c:return{...e,focusedVerticalGqlError:null};case hc.e:return{...e,focusedVerticalGqlError:t.payload};default:return e}};const Sc={focusedVerticalGqlPending:!1};var Dc=(e=Sc,t)=>{switch(t.type){case hc.h:return{...e,focusedVerticalGqlPending:!0};case hc.e:case hc.g:case hc.c:return{...e,focusedVerticalGqlPending:!1};default:return e}},Tc=Object(c.c)({error:gc,pending:Dc});var jc=(e="",t)=>{switch(t.type){case hc.g:case hc.c:return t.payload.category||"";default:return e}};const vc={dismissed:!0};var Ac=(e=vc,t)=>{switch(t.type){case hc.j:return{dismissed:!1};case hc.i:return{dismissed:!0};default:return e}};var Pc=(e=null,t)=>{switch(t.type){case hc.g:case hc.c:return t.payload.interactedSubredditIds||null;default:return e}};var wc=(e=null,t)=>{switch(t.type){case hc.g:case hc.c:case hc.f:return t.payload.lastLoadedEnv||null;default:return e}};var Rc=(e=null,t)=>{switch(t.type){case hc.g:case hc.c:return t.payload.recommendedSubredditIds||null;default:return e}},Cc=Object(c.c)({api:Tc,components:Ac,interactedSubredditIds:Pc,recommendedSubredditIds:Rc,category:jc,lastLoadedEnv:wc});Object(Me.a)("FONTS_FONT_FILES_PARSED");const Lc=[];var Nc=(e=Lc,t)=>{switch(t.type){case"FONTS_FONT_FILES_PARSED":return t.payload.fonts;default:return e}};var kc=(e=null,t)=>{switch(t.type){case de.q:return t.payload;case de.f:case O.a:case de.K:case de.t:return null;default:return e}};var xc=(e=!1,t)=>{switch(t.type){case de.f:case O.a:case de.t:case de.q:return!1;case de.r:return!0;default:return e}};var Uc=(e=!1,t)=>{switch(t.type){case de.r:case de.f:case O.a:case de.t:case de.q:return!1;case de.v:return!0;default:return e}},Mc=Object(c.c)({error:kc,pending:xc,showLoader:Uc});var Fc=(e=null,t)=>{switch(t.type){case de.L:case de.K:{if(!t.payload)return null;const{correlationId:e}=t.payload;return e}case de.g:case de.f:return null;default:return e}};var Gc=(e=null,t)=>{switch(t.type){case de.u:{const{id:e}=t.payload;return e}default:return e}};var Bc=(e=null,t)=>{const r=t.payload;switch(t.type){case de.J:case de.K:return r.thingId;case de.t:case O.a:case de.f:return null;default:return e}};var qc=(e=!1,t)=>{switch(t.type){case de.s:return t.payload;case de.K:return!1;default:return e}};var Hc=(e=!1,t)=>{switch(t.type){case de.J:return!0;default:return e}};var Vc=(e="",t)=>{switch(t.type){case de.w:return t.payload;case de.K:return"";default:return e}};const Kc=Ae.m;var Wc=(e=Kc,t)=>{switch(t.type){case de.fb:return t.payload;case de.K:{const{award:e}=t.payload;return e||Kc}default:return e}},$c=Object(c.c)({api:Mc,correlationId:Fc,gildModalThingId:Bc,isAnonymous:qc,isIframed:Hc,message:Vc,gildedThing:Gc,selectedAward:Wc});var Qc=(e=null,t)=>{switch(t.type){case de.x:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case de.g:case O.a:case de.L:case de.C:return null;default:return e}};var zc=(e=!1,t)=>{switch(t.type){case de.g:case O.a:case de.C:case de.x:return!1;case de.y:return!0;default:return e}},Xc=Object(c.c)({error:Qc,pending:zc});var Yc=(e="",t)=>{switch(t.type){case de.L:{const{profileName:e}=t.payload;return e}case O.a:case de.g:case de.C:return"";default:return e}},Jc=Object(c.c)({api:Xc,givePremiumModalAccountName:Yc}),Zc=r("./src/reddit/actions/header.ts"),eo=r("./src/reddit/actions/overlayEvents.ts");var to=(e=!1,t)=>{switch(t.type){case Zc.a:return!1;case Zc.b:return!0;case Zc.c:return!e;case eo.b:return!1;default:return e}},ro=Object(c.c)({isSubscriptionsDropdownOpen:to});var so=(e=!1,t)=>{switch(t.type){case"HTML_RESPONSE_STREAMING_STARTED":return!0;case"HTML_RESPONSE_STREAMING_ENDED":return!1;default:return e}},no=r("./src/reddit/actions/imageUploads.ts");const ao={};var co=(e=ao,t)=>{switch(t.type){case no.d:{const r=t.payload;return{...e,[r.id]:r}}case no.c:case no.e:case no.b:{const r=t.payload;return e[r.id]?{...e,[r.id]:r}:e}case no.a:{const r=t.payload;if(!e[r.id])return e;const s={...e};return delete s[r.id],s}default:return e}},oo=r("./src/reddit/actions/interceptedAction.ts");var io=(e=null,t)=>{switch(t.type){case oo.a:return t.payload;case oo.b:return null;default:return e}},uo=r("./src/reddit/actions/changeUsername.ts");var lo=(e=!0,t)=>{switch(t.type){case uo.a:return!1;case uo.b:return!0;default:return e}},po=r("./src/reddit/actions/emailVerificationTooltip.ts");var bo=(e=!0,t)=>{switch(t.type){case po.a:return!e;default:return e}},fo=r("./src/reddit/actions/moderatingSubreddits.ts");var yo=(e=!1,t)=>{switch(t.type){case fo.a:{if(e)return e;const r=t.payload;return Object.keys(r).some(e=>!0===r[e].posts)}case Z.SUBREDDIT_LOADED:case Q.b:case Q.f:case ke.PAGE_LOADED:{if(e)return e;const{payload:r}=t;return r.subredditPermissions&&r.subreddits?!!r.subredditPermissions.posts:e}case $.i:case $.f:case $.m:case $.p:case $.v:{if(e)return e;const{response:r}=t.payload,{moderatingSubreddits:s,moderatingProfiles:n}=r;let a=Object.keys(s).some(e=>!0===s[e].posts);if(!a){a=Object.keys(n).some(e=>!0===s[e].posts)}return a}default:return e}},mo=r("./src/reddit/actions/jsApi.ts");const Eo=[];var Oo=(e=Eo,t)=>{switch(t.type){case mo.a:{const r=t.payload;return-1===e.indexOf(r)&&(e=[...e,r]).sort(),e}default:return e}},_o=r("./src/reddit/actions/leaderboard/constants.ts");const ho={};var Io=(e=ho,t)=>{switch(t.type){case _o.a:{const{subredditId:r,data:s}=t.payload;return{...e,[r]:s}}case _o.b:case _o.c:{const{subredditId:r}=t.payload,{[r]:s,...n}=e;return n}default:return e}};const go={};var So=(e=go,t)=>{switch(t.type){case _o.a:case _o.c:{const{subredditId:r}=t.payload,{[r]:s,...n}=e;return n}case _o.b:{const{subredditId:r}=t.payload;return{...e,[r]:!0}}default:return e}},Do=Object(c.c)({error:Io,pending:So});const To={};var jo=(e=To,t)=>{switch(t.type){case _o.c:{const{subredditId:r,data:s}=t.payload;return{...e,[r]:s}}default:return e}},vo=Object(c.c)({api:Do,models:jo});var Ao=(e="",t)=>{switch(t.type){case O.a:{const{listingKey:r}=t.payload;return r||e}default:return e}};const Po={};var wo=(e=Po,t)=>{switch(t.type){case Ge.b:case Ge.c:case J.SEARCH_PENDING:case J.SEARCH_RESULTS_RECEIVED:{const{key:r,type:s}=t.payload;return-1===s.indexOf(Fe.Pb.Subreddits)&&-1===s.indexOf(Fe.Pb.Users)?e:{...e,[r]:null}}case Ge.a:case J.SEARCH_FAILED:{const{key:r,error:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Subreddits)&&-1===n.indexOf(Fe.Pb.Users)?e:{...e,[r]:s}}case Pe.f:case Pe.e:{const{key:r}=t.payload;return{...e,[r]:null}}case Pe.d:{const{key:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const Ro={};var Co=(e=Ro,t)=>{switch(t.type){case Ge.b:case J.SEARCH_PENDING:{const{key:r,type:s}=t.payload;return-1===s.indexOf(Fe.Pb.Subreddits)&&-1===s.indexOf(Fe.Pb.Users)?e:{...e,[r]:!0}}case Ge.c:case Ge.a:case J.SEARCH_RESULTS_RECEIVED:case J.SEARCH_FAILED:{const{key:r,type:s}=t.payload;return-1===s.indexOf(Fe.Pb.Subreddits)&&-1===s.indexOf(Fe.Pb.Users)?e:{...e,[r]:!1}}case Pe.f:{const{key:r}=t.payload;return{...e,[r]:!0}}case Pe.e:case Pe.d:{const{key:r}=t.payload;return{...e,[r]:!1}}default:return e}},Lo=Object(c.c)({error:wo,pending:Co});const No={};var ko=(e=No,t)=>{switch(t.type){case Ge.c:{const{fetchedToken:r,key:s,type:n}=t.payload;if(-1===n.indexOf(Fe.Pb.Subreddits)&&-1===n.indexOf(Fe.Pb.Users))return e;const a=e[s];return{...e,[s]:{...a,[r]:!0}}}case Pe.e:{const{fetchedToken:r,key:s}=t.payload;return{...e,[s]:{...e[s],[r]:!0}}}default:return e}};const xo={};var Uo=(e=xo,t)=>{switch(t.type){case Ge.c:{const{key:r,listingOrder:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Subreddits)&&-1===n.indexOf(Fe.Pb.Users)?e:{...e,[r]:e[r].concat(s)}}case J.SEARCH_RESULTS_RECEIVED:{const{key:r,listingOrder:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Subreddits)&&-1===n.indexOf(Fe.Pb.Users)?e:{...e,[r]:s}}default:return e}};const Mo={};var Fo=(e=Mo,t)=>{switch(t.type){case Ge.c:case J.SEARCH_RESULTS_RECEIVED:{const{key:r,tokens:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Subreddits)&&-1===n.indexOf(Fe.Pb.Users)?e:s.listings?{...e,[r]:{token:s.listings}}:Object(Wt.a)(e,r)}case Pe.e:{const{key:r,token:s}=t.payload;return{...e,[r]:{token:s}}}default:return e}},Go=Object(c.c)({api:Lo,identifiers:Uo,fetchedTokens:ko,loadMore:Fo}),Bo=r("./src/reddit/actions/eventPosts/constants.ts"),qo=r("./src/reddit/actions/otherDiscussions/constants.ts"),Ho=r("./src/reddit/actions/pages/topic.ts");const Vo={};var Ko=(e=Vo,t)=>{switch(t.type){case we.c:case we.b:case Ne.c:case Ne.b:case Z.SUBREDDIT_PENDING:case Z.SUBREDDIT_LOADED:case we.g:case we.f:case Le.e:case Le.f:case Le.i:case Le.h:case Ce.s:case Ce.r:case qo.b:case qo.c:case X.PROFILE_POSTS_PENDING:case X.PROFILE_POSTS_LOADED:case X.MORE_POSTS_PENDING:case X.MORE_POSTS_LOADED:case ee.f:case ee.e:case xe.f:case xe.e:case te.j:case Ho.TOPIC_DATA_PENDING:case Ho.TOPIC_DATA_LOADED:case Ho.MORE_POSTS_PENDING:case Ho.MORE_POSTS_LOADED:case te.i:case Bo.e:case Bo.c:case Bo.d:{const{key:r}=t.payload;return{...e,[r]:null}}case J.SEARCH_PENDING:case J.SEARCH_RESULTS_RECEIVED:case Ge.b:case Ge.c:{const{key:r,type:s}=t.payload;return-1===s.indexOf(Fe.Pb.Posts)?e:{...e,[r]:null}}case we.a:case Ne.a:case Z.SUBREDDIT_FAILED:case we.e:case Le.g:case Ce.q:case qo.a:case te.h:case ee.d:case xe.d:case X.PROFILE_POSTS_FAILED:case X.MORE_POSTS_FAILED:case Ho.TOPIC_DATA_FAILED:case Ho.MORE_POSTS_FAILED:case Bo.b:{const{key:r,error:s}=t.payload;return{...e,[r]:s}}case J.SEARCH_FAILED:case Ge.a:{const{error:r,key:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Posts)?e:{...e,[s]:r}}default:return e}},Wo=r("./src/reddit/actions/linkedPosts/constants.ts"),$o=r("./src/reddit/actions/subreddit/constants.ts");const Qo={};var zo=(e=Qo,t)=>{switch(t.type){case we.c:case Ne.c:case X.PROFILE_POSTS_PENDING:case xe.f:case Z.SUBREDDIT_PENDING:case we.g:case Le.f:case Le.i:case Ce.s:case qo.c:case ee.f:case X.MORE_POSTS_PENDING:case te.j:case Ho.MORE_POSTS_PENDING:case Bo.e:{const{key:r}=t.payload;return{...e,[r]:!0}}case J.SEARCH_PENDING:case Ge.b:{const{key:r,type:s}=t.payload;return-1===s.indexOf(Fe.Pb.Posts)?e:{...e,[r]:!0}}case we.b:case we.a:case Ne.a:case Ne.b:case xe.d:case xe.e:case X.PROFILE_POSTS_FAILED:case X.PROFILE_POSTS_LOADED:case Z.SUBREDDIT_LOADED:case Z.SUBREDDIT_FAILED:case we.f:case we.e:case Wo.a:case Wo.b:case Le.e:case Le.d:case Le.h:case Le.g:case Ce.r:case Ce.q:case ee.d:case ee.e:case X.MORE_POSTS_FAILED:case X.MORE_POSTS_LOADED:case $o.k:case qo.b:case qo.a:case te.i:case te.h:case Ho.MORE_POSTS_LOADED:case Ho.MORE_POSTS_FAILED:case Bo.c:case Bo.b:case Bo.d:{const{key:r}=t.payload;return{...e,[r]:!1}}case $o.s:{if(!t.payload||!t.payload.length)return e;const r={};for(const e of t.payload){r[e.key]=!1}return{...e,...r}}case J.SEARCH_RESULTS_RECEIVED:case J.SEARCH_FAILED:case Ge.c:case Ge.a:{const{key:r,type:s}=t.payload;return-1===s.indexOf(Fe.Pb.Posts)?e:{...e,[r]:!1}}default:return e}},Xo=Object(c.c)({error:Ko,pending:zo}),Yo=r("./src/reddit/actions/postList.ts"),Jo=r("./node_modules/lodash/omitBy.js"),Zo=r.n(Jo);function ed(e,t){return t=t.toLowerCase(),Zo()(e,(e,r)=>r===t||r.startsWith(`${t}--[`))}const td={};var rd=(e=td,t)=>{switch(t.type){case Yo.a:{const{listingKey:r,listingName:s}=t.payload;return{...e,[r]:s}}case Yo.b:{const{listingKey:r}=t.payload;return r in e?Ts()(e,[r]):e}case Z.SUBREDDIT_INVALIDATE_LISTING:return ed(e,t.payload);default:return e}};const sd={};var nd=(e=sd,t)=>{switch(t.type){case Le.e:case we.b:case Ne.b:case Z.SUBREDDIT_LOADED:case X.PROFILE_POSTS_LOADED:case Ho.TOPIC_DATA_LOADED:{const{key:r}=t.payload;return{...e,[r]:{}}}case we.f:case Le.h:case Ce.r:case ee.e:case X.MORE_POSTS_LOADED:case te.i:case Ho.MORE_POSTS_LOADED:{const{key:r,fetchedToken:s}=t.payload,n=e[r];return{...e,[r]:{...n,[s]:!0}}}case Ge.c:{const{fetchedToken:r,key:s,type:n}=t.payload;if(n.indexOf(Fe.Pb.Posts)>-1){const t=e[s];return{...e,[s]:{...t,[r]:!0}}}return e}case Z.SUBREDDIT_INVALIDATE_LISTING:return ed(e,t.payload);default:return e}},ad=r("./src/reddit/actions/post.ts");const cd={};var od=(e=cd,t)=>{switch(t.type){case we.c:case Le.f:case Ne.c:case X.PROFILE_POSTS_PENDING:case Z.SUBREDDIT_PENDING:case xe.f:case X.PROFILE_POSTS_PENDING:case Ho.TOPIC_DATA_PENDING:{const{key:r}=t.payload;return{...e,[r]:[]}}case Pe.e:case Wo.b:case Le.e:case we.b:case Ne.b:case Z.SUBREDDIT_LOADED:case $o.k:case qo.b:case xe.e:case X.PROFILE_POSTS_LOADED:case"RECOMMENDED_POSTS_LOADED":case Ho.TOPIC_DATA_LOADED:case Bo.c:{const{key:r,postIds:s}=t.payload;return{...e,[r]:s}}case $o.s:{if(!t.payload||!t.payload.length)return e;const r={};for(const e of t.payload){const t=e;r[t.key]=t.postIds}return{...e,...r}}case we.f:case Le.h:case Ce.r:case X.MORE_POSTS_LOADED:case ee.e:case te.i:case Ho.MORE_POSTS_LOADED:case Bo.d:{const{key:r,postIds:s}=t.payload;return{...e,[r]:e[r].concat(s)}}case J.SEARCH_RESULTS_RECEIVED:{const{key:r,postOrder:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Posts)?e:{...e,[r]:s}}case Ge.c:{const{key:r,postOrder:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Posts)?e:{...e,[r]:e[r].concat(s)}}case ad.k:{const{newStickiedPostList:r,listingKey:s}=t.payload;if(!e[s])return e;const n=[...e[s]].filter(e=>!r.includes(e));return n.unshift(...r),{...e,[s]:n}}case Z.SUBREDDIT_INVALIDATE_LISTING:return ed(e,t.payload);default:return e}},dd=r("./src/lib/makeListingKey/index.ts"),id=r("./src/reddit/actions/preferences.ts");const ud={};var ld=(e=ud,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:{const{key:r,listingSort:s}=t.payload;return s&&!Object(dd.b)(r)?{...e,[r]:{sort:s,hasChanged:!1}}:e}case id.a:case id.q:{const t={};return Object.keys(e).forEach(r=>{t[r]={...e[r],hasChanged:!0}}),t}default:return e}};const pd={};var bd=(e=pd,t)=>{switch(t.type){case we.b:case Ne.b:case Z.SUBREDDIT_LOADED:case xe.e:case X.PROFILE_POSTS_LOADED:case we.f:case Le.e:case Le.h:case Ce.r:case ee.e:case X.MORE_POSTS_LOADED:case te.i:case Ho.TOPIC_DATA_LOADED:case Ho.MORE_POSTS_LOADED:{const{key:r,token:s,dist:n}=t.payload;return s?{...e,[r]:{token:s,dist:n}}:Object(Wt.a)(e,r)}case Ge.c:case J.SEARCH_RESULTS_RECEIVED:{const{key:r,tokens:s,type:n}=t.payload;return-1===n.indexOf(Fe.Pb.Posts)?e:s.posts?{...e,[r]:{token:s.posts}}:Object(Wt.a)(e,r)}case Z.SUBREDDIT_INVALIDATE_LISTING:return ed(e,t.payload);default:return e}};const fd={};var yd=(e=fd,t)=>{switch(t.type){case Bo.c:case Bo.d:{const{pageInfo:r,key:s}=t.payload;return{...e,[s]:r}}default:return e}},md=Object(c.c)({api:Xo,endMarkers:rd,fetchedTokens:nd,ids:od,listingSort:ld,loadMore:bd,pageInfo:yd}),Ed=Object(c.c)({activeKey:Ao,listingOrder:Go,postOrder:md});var Od=(e=null,t)=>{switch(t.type){case we.b:{const r=t.payload;return Qn()(r.announcements)?e:r.announcements||null}default:return e}};var _d=(e=null,t)=>{switch(t.type){case we.b:{const r=t.payload;return Qn()(r.featuredLiveThread)?e:r.featuredLiveThread||null}default:return e}};var hd=(e=!1,t)=>{switch(t.type){case we.b:return!0;default:return e}};var Id=(e=!1,t)=>{switch(t.type){case"ANNOUNCEMENTS__SHOULD_SHOW":return!0;default:return e}},gd=Object(c.c)({announcements:Od,featured:_d,isFrontpageLoaded:hd,shouldShowAnnouncements:Id}),Sd=r("./src/reddit/actions/media.ts");const Dd={};var Td=(e=Dd,t)=>{switch(t.type){case Sd.b:{const{postId:r,index:s}=t.payload;return{...e,[r]:s}}default:return e}};const jd={};var vd=(e=jd,t)=>{switch(t.type){case Sd.e:{const{postId:r,isTileLayout:s}=t.payload;return{...e,[r]:s}}default:return e}},Ad=Object(c.c)({currentSlideIndex:Td,isGalleryTileLayout:vd});var Pd=(e=!0,t)=>{switch(t.type){case Sd.c:return t.payload;default:return e}};var wd=(e=.5,t)=>{switch(t.type){case Sd.d:return t.payload;default:return e}},Rd=Object(c.c)({isMuted:Pd,volume:wd}),Cd=r("./src/reddit/actions/meta.ts");const Ld={ampCid:void 0,city:"",country:"",crawler:void 0,domain:"",isBot:!1,isSessionSeo:!1,locale:"",method:"",platform:void 0,protocol:"",region:"",sessionReferrerDomain:"",userAgent:"",pageloadServerTime:0};var Nd=(e=Ld,t)=>{switch(t.type){case Cd.b:return t.payload;case Cd.a:return{...e,...t.payload};case Cd.c:return{...e,locale:t.payload};default:return e}},kd=r("./src/reddit/actions/subredditModeration/constants.ts");const xd={};var Ud=(e=xd,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case Q.b:case Q.f:case ke.PAGE_LOADED:{const{payload:r}=t;if(!r.subredditPermissions||!r.subreddits)return e;const s=Object.keys(r.subredditAboutInfo||{});if(1!==s.length)return e;const n=s[0];return{...e,[n]:r.subredditPermissions}}case $.i:case $.f:case $.m:case $.p:case $.v:{const{response:r}=t.payload,{moderatingSubreddits:s,moderatingProfiles:n}=r;return{...e,...s,...n}}case te.f:case Le.e:case $.k:{const r=t.payload,{moderatingSubreddits:s,moderatingProfiles:n}=r;return{...e,...s,...n}}case kd.Z:{const{subredditId:r}=t.payload;return Object(Wt.a)(e,r)}case kd.S:{const r=t.payload;return{...e,...r}}default:return e}};var Md=(e=null,t)=>{switch(t.type){case ad.e:return t.payload;case ad.d:return null}return e};var Fd=(e=null,t)=>{switch(t.type){case Le.b:case Le.k:return null;case Le.a:case Le.j:return t.payload;default:return e}};var Gd=(e=!1,t)=>{switch(t.type){case Le.b:case Le.k:return!0;case Le.c:case Le.a:case Le.l:case Le.j:return!1;default:return e}},Bd=Object(c.c)({error:Fd,pending:Gd});const qd=[];var Hd=(e=qd,t)=>{switch(t.type){case Le.e:{const r=t.payload,{filteredSubreddits:s}=r;return s||e}case Le.j:{const r=t.payload;return[...e,r]}case Le.k:case Le.a:{const r=t.payload;return e.filter(e=>e!==r)}default:return e}},Vd=Object(c.c)({api:Bd,names:Hd}),Kd=Object(c.c)({filteredSubreddits:Vd}),Wd=r("./src/reddit/actions/modMode.ts");var $d=(e=!0,t)=>{switch(t.type){case Wd.a:return t.payload.enabled;default:return e}};const Qd={};var zd=(e=Qd,t)=>{switch(t.type){case V.v:{const{moreCommentsId:r}=t.payload;return{...e,[r]:null}}case V.u:{const{moreCommentsItem:r}=t.payload;return{...e,[r.id]:null}}case V.t:{const{moreCommentsItem:r,...s}=t.payload;return{...e,[r.id]:s||{}}}default:return e}};const Xd={};var Yd=(e=Xd,t)=>{switch(t.type){case V.v:{const{moreCommentsId:r}=t.payload;return{...e,[r]:!0}}case V.t:case V.u:{const{moreCommentsItem:r}=t.payload;return{...e,[r.id]:!1}}default:return e}},Jd=Object(c.c)({error:zd,pending:Yd}),Zd=r("./src/reddit/models/Comment/index.ts");const ei={};var ti=(e=ei,t)=>{switch(t.type){case K.b:const{comment:r,parentCommentId:s,depth:n,originId:a,isChatSort:c}=t.payload;if(!c){if(a){const t="moreComments-"+a,c=e[t],o=r.id.split("_")[1];if(c){const r=c.numComments+1;if(c.depth&&n===c.depth){const s=atob(c.token).concat(", ",o);return{...e,[t]:{...c,numComments:r,token:btoa(s)}}}return{...e,[t]:{...c,numComments:r}}}return{...e,[t]:{id:t,depth:n,parentId:s,token:btoa(o),numComments:1,next:null,prev:Object(Zd.g)(s),postId:r.postId,isFromLiveWebSocket:!0}}}return e}return{...e,...t.payload.moreComments};case V.u:case Q.b:case Q.f:return{...e,...t.payload.moreComments};default:return e}},ri=Object(c.c)({api:Jd,models:ti});var si=(e=null,t)=>{switch(t.type){case Ce.b:case Ce.c:return null;case Ce.a:return t.payload;default:return e}};var ni=(e=!1,t)=>{switch(t.type){case Ce.a:case Ce.c:return!0;case Ce.b:return!1;default:return e}};var ai=(e=null,t)=>{switch(t.type){case Ne.b:case Ce.a:case Ce.c:return null;case Ce.b:{const{name:e}=t.payload;return e}default:return e}},ci=Object(c.c)({error:si,fetched:ni,pending:ai});var oi=(e=null,t)=>{switch(t.type){case Ce.f:case Ce.g:return null;case Ce.e:return t.payload;default:return e}};var di=(e=!1,t)=>{switch(t.type){case Ce.e:case Ce.g:return!0;case Ce.f:return!1;default:return e}};var ii=(e=!1,t)=>{switch(t.type){case Ce.e:case Ce.g:return!1;case Ce.f:return!0;default:return e}},ui=Object(c.c)({error:oi,fetched:di,pending:ii});var li=(e=null,t)=>{switch(t.type){case Ce.i:case Ce.j:return null;case Ce.h:return t.payload;default:return e}};var pi=(e=!1,t)=>{switch(t.type){case Ce.h:case Ce.j:return!0;case Ce.i:return!1;default:return e}};var bi=(e=!1,t)=>{switch(t.type){case Ce.h:case Ce.j:return!1;case Ce.i:return!0;default:return e}},fi=Object(c.c)({error:li,fetched:pi,pending:bi});var yi=(e=null,t)=>{switch(t.type){case Ce.l:case Ce.m:return null;case Ce.k:return t.payload;default:return e}};var mi=(e=!1,t)=>{switch(t.type){case Ce.k:case Ce.m:return!0;case Ce.l:return!1;default:return e}};var Ei=(e=!1,t)=>{switch(t.type){case Ce.k:case Ce.m:return!1;case Ce.l:return!0;default:return e}},Oi=Object(c.c)({error:yi,fetched:mi,pending:Ei});var _i=(e=null,t)=>{switch(t.type){case Ce.o:case Ce.p:return null;case Ce.n:return t.payload;default:return e}};var hi=(e=!1,t)=>{switch(t.type){case Ce.n:case Ce.p:return!0;case Ce.o:return!1;default:return e}};var Ii=(e=!1,t)=>{switch(t.type){case Ce.n:case Ce.p:return!1;case Ce.o:return!0;default:return e}},gi=Object(c.c)({error:_i,fetched:hi,pending:Ii});var Si=(e=!1,t)=>{switch(t.type){case Ce.t:return!1;case Ce.u:return!0;default:return e}};var Di=(e=!1,t)=>{switch(t.type){case Ce.t:return!0;case Ce.u:return!1;default:return e}},Ti=Object(c.c)({fetched:Si,pending:Di});var ji=(e=null,t)=>{switch(t.type){case Ce.A:case Ce.B:return null;case Ce.z:return t.payload;default:return e}};var vi=(e=!1,t)=>{switch(t.type){case Ce.A:case Ce.z:return!1;case Ce.B:return!0;default:return e}};var Ai=(e=!0,t)=>{switch(t.type){case Ce.A:return!0;case Ce.B:case Ce.z:return!1;default:return e}},Pi=Object(c.c)({error:ji,fetched:vi,pending:Ai});var wi=(e=null,t)=>{switch(t.type){case Ce.w:case Ce.x:return null;case Ce.v:return t.payload;default:return e}};var Ri=(e=!1,t)=>{switch(t.type){case Ce.v:case Ce.x:return!0;case Ce.w:return!1;default:return e}};var Ci=(e=null,t)=>{switch(t.type){case Ce.v:case Ce.x:return null;case Ce.w:const{id:r}=t.payload;return r;default:return e}},Li=Object(c.c)({error:wi,fetched:Ri,pending:Ci}),Ni=Object(c.c)({addSubreddit:ci,create:ui,deleteMulti:fi,duplicate:Oi,edit:gi,forUser:Ti,recommendations:Pi,removeSubreddit:Li}),ki=r("./node_modules/lodash/isEqual.js"),xi=r.n(ki),Ui=r("./node_modules/lodash/union.js"),Mi=r.n(Ui);function Fi(e,t,r){let s,n,a=e.length-1,c=0;for(;c<=a;){const o=r(s=e[n=(c+a)/2|0],t);if(o<0){if((c=n+1)>a)return c}else{if(!(o>0))return n;if((a=n-1)<c)return a+1}}return(c+a)/2|0}var Gi=r("./src/reddit/actions/profile/constants.ts");const Bi={};var qi=(e=Bi,t)=>{switch(t.type){case Ne.b:case Ce.r:case Ce.u:case Gi.h:{const{multireddits:r,multiredditsByUser:s,multiredditsModelsState:n}=t.payload,a={...e},c={...r,...n};for(const t in s){const r=s[t],n=e[t];a[t]=Mi()(n,r).sort((e,t)=>c[e].displayText.toLowerCase()>c[t].displayText.toLowerCase()?1:-1)}return xi()(e,a)?e:a}case Ce.g:case Ce.m:{const{userId:r,multireddit:s}=t.payload,n=e[r]?e[r].slice():[],a=Fi(n,s.url,(e,t)=>e>t?1:-1);return n.splice(a,0,s.url),{...e,[r]:n}}case Ce.j:{const r=t.payload;for(const t in e){const s=e[t];if(s.indexOf(r)>-1)return{...e,[t]:s.filter(e=>e!==r)}}return e}default:return e}},Hi=r("./src/reddit/actions/subscription/constants.ts"),Vi=r("./src/reddit/models/Multireddit/index.ts");const Ki={};var Wi=(e=Ki,t)=>{switch(t.type){case Ne.b:case Ce.r:case Ce.u:case Gi.h:{let r={};for(const s in t.payload.multireddits){const n={...t.payload.multireddits[s]},a=e[s];a&&!Object(Vi.g)(n)&&(n.subredditIds=a.subredditIds,n.profileIds=a.profileIds),s in e&&xi()(e[n.url],n)||(r={...r,[s]:n})}return Qn()(r)?e:{...e,...r}}case Ce.g:case Ce.m:{const{multireddit:r}=t.payload;return{...e,[r.url]:r}}case Ce.j:{const r=t.payload,s={...e};return delete s[r],s}case Ce.p:{const r=t.payload;return{...e,[r.url]:r}}case Ce.x:{const{id:r,multipath:s,type:n}=t.payload,a=e[s],c="subreddit"===n?(a.subredditIds||[]).filter(e=>e!==r):a.subredditIds,o="profile"===n?(a.profileIds||[]).filter(e=>e!==r):a.profileIds;return{...e,[s]:{...a,profileIds:o,subredditIds:c}}}case Hi.d:{const{makeFavorite:r,multiredditPath:s}=t.payload;return{...e,[s]:{...e[s],isFavorited:r}}}case Hi.e:{const{follow:r,multiredditPath:s}=t.payload;return{...e,[s]:{...e[s],isFollowed:r,isFavorited:!1}}}case Ce.c:{const{id:r,multipaths:s,type:n}=t.payload,a=s.reduce((t,s)=>{const a=e[s],c="subreddit"===n?[...a.subredditIds||[],r]:a.subredditIds,o="profile"===n?[...a.profileIds||[],r]:a.profileIds;return{...t,[s]:{...a,subredditIds:c,profileIds:o}}},{});return{...e,...a}}default:return e}};const $i={};var Qi=(e=$i,t)=>{switch(t.type){case Ce.B:{const{multipath:r,subreddits:s}=t.payload;return{...e,[r]:Object.keys(s)}}default:return e}},zi=Object(c.c)({api:Ni,byUserId:qi,models:Wi,recommendations:Qi}),Xi=r("./src/reddit/actions/notificationBanner.ts");var Yi=(e=null,t)=>{switch(t.type){case Xi.b:return t.payload.notificationBannerId;case Xi.a:return null;default:return e}},Ji=r("./src/reddit/actions/notificationsInbox/constants.ts");var Zi=(e=!1,t)=>{switch(t.type){case Ji.a:{const{error:e}=t.payload;return e}case Ji.d:case Ji.b:return!1;default:return e}};var eu=(e=!1,t)=>{switch(t.type){case Ji.d:return!0;case Ji.a:case Ji.b:return!1;default:return e}},tu=Object(c.c)({error:Zi,pending:eu});var ru=(e=null,t)=>{switch(t.type){case Ji.f:return t.payload&&t.payload.index||e;default:return e}};const su=[];var nu=(e=su,t)=>{switch(t.type){case Ji.b:{const r=t.payload&&t.payload.nodes;return[...e,...r]}case Ji.e:{const r=t.payload&&t.payload.id;return e.filter(e=>(e&&e.id)!==r)}case Ji.c:{const r=t.payload&&t.payload.id,s=t.payload&&t.payload.now,n=e.findIndex(e=>e.id===r);return-1===n?e:[...e.slice(0,n),{...e[n],readAt:s},...e.slice(n+1)]}default:return e}};var au=(e=null,t)=>{switch(t.type){case Ji.b:return t.payload&&t.payload.pageInfo;default:return e}},cu=Object(c.c)({api:tu,earlierDividerIndex:ru,notifications:nu,pageInfo:au}),ou=r("./src/reddit/actions/nps.ts");const du={pending:!1,success:!1,dest:void 0};var iu=(e=du,t)=>{switch(t.type){case ou.c:return{...du,pending:!0};case ou.a:return du;case ou.b:{const{dest:e}=t.payload;return{...du,success:!0,dest:e}}default:return e}};const uu=e=>{const{id:t,experimentName:r,name:s,version:n}=e;return{id:parseInt(t),name:r,variant:s||void 0,version:n}};const lu=e=>{const t={};for(const r of e)t[r.experimentName.toLowerCase()]=uu(r);return t},pu={};var bu=(e=pu,t)=>{switch(t.type){case La.a:{const{pageExperimentVariants:e}=t.payload,r=e?e.experiments:[];return lu(r)}default:return e}};var fu=Object(c.c)({byName:bu,canonicalUrl:(e=null,t)=>{switch(t.type){case La.a:{const{pageExperimentVariants:e}=t.payload;return e&&e.canonicalUrl?e.canonicalUrl:null}default:return e}}}),yu=Object(c.c)({experiments:fu}),mu=r("./node_modules/history/esm/history.js");const Eu={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}};var Ou=(e=Eu,t)=>{switch(t.type){case O.a:{const r=e.currentPage,s=t.payload,{routeMatch:n,location:a}=s,{key:c}=a;if(void 0===c)return e;const o=Object(mu.e)(a),d=n?((e,t,r,s)=>{const{action:n,...a}=r.route;return{key:e,locationState:s.state,meta:r.route.meta,queryParams:r.match.queryParams,routeMatch:{...r,route:a},status:200,url:t,urlParams:r.match.params}})(c,o,n,a):((e,t)=>({key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}))(c,o);let{referrers:i}=e;if("PUSH"===s.action){const e=r&&r.url||"";i={...i,[c]:e}}else if("REPLACE"===s.action&&r&&i[r.key]){const{[r.key]:e,...t}=i;i={...t,[c]:e}}return{...e,referrers:i,currentPage:d,lastPage:r}}case O.e:{const r=t.payload,{key:s,meta:n}=r;return{...e,metas:{...e.metas,[s]:n}}}case O.f:{if(!e.currentPage)return e;const r=t.payload,s={...e.currentPage,status:r};return{...e,currentPage:s}}case Q.b:case Q.f:return!e.currentPage||t.payload.postMeta,e;case O.b:return e;case O.d:{const{allowNavigationCallback:r}=t.payload;return{...e,allowNavigationCallback:r}}case O.c:return{...e,allowNavigationCallback:null};default:return e}};const _u={};var hu=(e=_u,t)=>{switch(t.type){case m.k:{const{pollId:r}=t.payload.pollResults,{[r]:s,...n}=e;return n}case m.j:{const{pollId:r}=t.payload,{[r]:s,...n}=e;return n}case m.i:{const{pollId:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const Iu={};var gu=(e=Iu,t)=>{switch(t.type){case m.k:{const{pollId:r}=t.payload.pollResults;return{...e,[r]:!1}}case m.i:{const{pollId:r}=t.payload;return{...e,[r]:!1}}case m.j:{const{pollId:r}=t.payload;return{...e,[r]:!0}}default:return e}},Su=Object(c.c)({error:hu,pending:gu}),Du=Object(c.c)({voting:Su}),Tu=r("./src/reddit/actions/economics/predictions/constants.ts");const ju={};var vu=(e=ju,t)=>{switch(t.type){case m.h:{const{poll:r}=t.payload;return{...e,[r.id]:r}}case we.b:case Z.SUBREDDIT_LOADED:case te.i:case we.f:case Q.b:case Q.f:{const{governance:r,posts:s}=t.payload;if(r){const t=Object.keys(r).reduce((e,t)=>{const s=r[t].poll;return e[s.id]=s,e},{});return{...e,...t}}const n={};return Object.keys(s).forEach(e=>{s[e].pollData&&(n[e]=(e=>{if(!e.pollData)return null;const{id:t,authorId:r,belongsTo:s,created:n,pollData:{isPrediction:a,options:c,resolvedOptionId:o,totalStakeAmount:d,totalVoteCount:i,userSelection:u,userWonAmount:l,votingEndTimestamp:p}}=e;return{id:t,createdAt:n,creatorId:r,subredditId:s.id,endsAt:p,postId:t,options:c,totalVoters:i,type:_n.a.GA,isPrediction:a,totalStakeAmount:d,userSelection:u,userWonAmount:l,resolvedOptionId:o}})(s[e]))}),{...e,...n}}case Tu.c:case Tu.b:const{pollId:r,prediction:{options:s,selectedOptionId:n,...a}}=t.payload;return{...e,[r]:{...e[r],...a,userSelection:n,options:s.map(({id:t,redditorStakeAmount:s,totalStakeAmount:n})=>({...e[r].options.find(e=>e.id===t),totalStakeAmount:n,userStakeAmount:s}))}};default:return e}};const Au={};var Pu=(e=Au,t)=>{switch(t.type){case m.k:{const{[_n.b.ByVoters]:r,pollId:s}=t.payload.pollResults;return{...e,[s]:r}}case m.e:{const{pollId:r,optionId:s,options:n}=t.payload;let a=0;const c={};for(const e of n)a+=e.voteCount,c[e.id]={id:"number"==typeof e.id?e.id:parseInt(e.id),userSelected:e.id===s,votes:e.voteCount.toString()};return{...e,[r]:{options:c,totalVotes:a.toString()}}}case we.b:case Z.SUBREDDIT_LOADED:case te.i:case we.f:case Q.b:case Q.f:{const{governance:r,posts:s}=t.payload;if(r){const t=Object.keys(r).reduce((e,t)=>{const s=r[t],{[_n.b.ByVoters]:n,pollId:a}=s.pollResults;return e[a]=n,e},{});return{...e,...t}}const n=Object.keys(s).reduce((e,t)=>{if(!s[t].pollData)return e;const r=(e=>{const{options:t,totalVoteCount:r,userSelection:s}=e;return{options:t.reduce((e,{id:t,voteCount:r})=>({...e,[t.toString()]:{id:t,votes:(r||0).toString(),userSelected:t===s}}),{}),totalVotes:r.toString()}})(s[t].pollData);return r?(e[t]=r,e):e},{});return Object.keys(n).length?{...e,...n}:e}default:return e}};const wu={};var Ru=(e=wu,t)=>{switch(t.type){case m.k:{const{[_n.b.ByVotingPower]:r,pollId:s}=t.payload.pollResults;return{...e,[s]:r}}case we.b:case Z.SUBREDDIT_LOADED:case te.i:case we.f:case Q.b:case Q.f:{const{governance:r}=t.payload;if(r){const t=Object.keys(r).reduce((e,t)=>{const s=r[t],{[_n.b.ByVotingPower]:n,pollId:a}=s.pollResults;return e[a]=n,e},{});return{...e,...t}}return e}default:return e}},Cu=Object(c.c)({byVoters:Pu,byVotingPower:Ru});const Lu={};var Nu=(e=Lu,t)=>{switch(t.type){case m.k:{const{pollId:r,rewardPoints:s}=t.payload.pollResults;return s?{...e,[r]:s}:e}default:return e}},ku=Object(c.c)({api:Du,models:vu,results:Cu,rewards:Nu});const xu={reorderError:null,updateDescriptionError:null,updateLayoutError:null};var Uu=(e=xu,t)=>{switch(t.type){case Rr.i:case Rr.j:return{...e,reorderError:null};case Rr.h:return{...e,reorderError:t.payload};case Rr.l:case Rr.m:return{...e,updateDescriptionError:null};case Rr.k:return{...e,updateDescriptionError:t.payload};case Rr.p:case Rr.q:return{...e,updateLayoutError:null};case Rr.o:return{...e,updateLayoutError:t.payload};default:return e}};const Mu={reorderPending:!1,updateDescriptionPending:!1,updateLayoutPending:!1};var Fu=(e=Mu,t)=>{switch(t.type){case Rr.i:return{...e,reorderPending:!0};case Rr.h:case Rr.j:return{...e,reorderPending:!1};case Rr.l:return{...e,updateDescriptionPending:!0};case Rr.k:case Rr.m:return{...e,updateDescriptionPending:!1};case Rr.p:return{...e,updateLayoutPending:!0};case Rr.o:case Rr.q:return{...e,updateLayoutPending:!1};default:return e}},Gu=Object(c.c)({error:Uu,pending:Fu}),Bu=r("./src/reddit/helpers/path/index.ts");const qu={},Hu=e=>{const{protocol:t,domain:r}=e;return e=>{const s=Object(Bu.b)(e.permalink);return{...e,permalink:`${t}://${r}${s}`}}};var Vu=(e=qu,t)=>{switch(t.type){case ke.PAGE_LOADED:case Le.e:case Le.h:case z.b:case z.e:case xe.e:case xe.b:case X.PROFILE_POSTS_LOADED:case X.MORE_POSTS_LOADED:case Z.SUBREDDIT_LOADED:case we.b:case Ne.b:case Z.SUBREDDIT_LOADED:case Q.b:case Q.f:case ad.g:case Ce.r:case we.f:case ee.e:case"RECOMMENDED_POSTS_LOADED":case te.i:case Ge.c:case Ue.b:case J.SEARCH_RESULTS_RECEIVED:case Rr.f:{const{collections:r,meta:s}=t.payload;if(!r)return e;let n=r;if(s){const e=Hu(s);n=Ut()(r,e)}return{...e,...n}}case Rr.d:{const{collection:r,meta:s}=t.payload;if(!r)return e;const n=r.id;let a=r;if(s){a=Hu(s)(r)}return{...e,[n]:a}}case Rr.g:{const{collectionId:r,postId:s}=t.payload,n=e[r];return n?{...e,[r]:{...n,postIds:n.postIds.filter(e=>e!==s)}}:e}case Rr.a:{const{collectionId:r,postId:s}=t.payload,n=e[r];return n&&s?{...e,[r]:{...n,postIds:[...n.postIds,s]}}:e}case Rr.e:{const{collectionId:r}=t.payload,s={...e};return delete s[r],s}case Rr.s:{const{collectionId:r,newTitle:s}=t.payload,n=e[r];return n?{...e,[r]:{...n,title:s}}:e}case Rr.j:{const{collectionId:r,postIds:s}=t.payload,n=e[r];return n?{...e,[r]:{...n,postIds:[...s]}}:e}case Rr.m:{const{collectionId:r,newDescription:s}=t.payload,n=e[r];return n?{...e,[r]:{...n,description:s}}:e}case Rr.q:{const{collectionId:r,newLayout:s}=t.payload,n=e[r];return n?{...e,[r]:{...n,displayLayout:s}}:e}default:return e}};const Ku={};var Wu=(e=Ku,t)=>{switch(t.type){case ke.PAGE_LOADED:case Rr.f:{const{collections:r}=t.payload;if(!r)return e;const s=Object.keys(r);if(!s.length)return e;const{subredditId:n}=r[s[0]];return{...e,[n]:s}}case Rr.d:{const{collection:r}=t.payload,{subredditId:s}=r,n=e[s]||[];return{...e,[s]:[...n,r.id]}}case Rr.e:{const{collectionId:r,collection:s}=t.payload;if(!s)return e;const n=s&&e[s.subredditId];return n?{...e,[s.subredditId]:n.filter(e=>e!==r)}:e}default:return e}},$u=Object(c.c)({models:Vu,subredditToIds:Wu,api:Gu}),Qu=r("./src/reddit/actions/postFlair.ts"),zu=r("./src/reddit/models/Flair/index.ts");const Xu={},Yu={displaySettings:{isEnabled:!1,position:zu.b.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},Ju=(e,t)=>{if(!t)return e;const r=Object.keys(t);return 0===r.length?e:r.reduce((e,r)=>(e[r]={...Yu,...e[r],...t[r]},e),{...e})};var Zu=(e=Xu,t)=>{switch(t.type){case ke.PAGE_LOADED:case we.f:case Le.e:case Le.h:case Ce.r:case qo.b:case Q.b:case Q.f:case we.b:case Ne.b:case J.SEARCH_RESULTS_RECEIVED:case Z.SUBREDDIT_LOADED:case z.b:case z.e:case Y.c:case Y.i:case Y.e:case Y.g:case ee.e:case Ue.b:case Ue.b:case xe.b:case xe.e:case X.MORE_POSTS_LOADED:case X.PROFILE_POSTS_LOADED:case"RECOMMENDED_POSTS_LOADED":case Ge.c:case Ge.c:case te.i:return Ju(e,t.payload.postFlair);case Qu.c:{const{subredditId:r,isEnabled:s}=t.payload,n={...e[r].displaySettings,isEnabled:s};return{...e,[r]:{...e[r],displaySettings:n}}}case Qu.a:{const{subredditId:r,canAssignOwn:s}=t.payload,n={...e[r].permissions,canAssignOwn:s};return{...e,[r]:{...e[r],permissions:n}}}case Qu.f:{const{subredditId:r,template:s}=t.payload,n=e[r],{templates:a,templateIds:c}=n,o={...a,[s.id]:s},d=[...c];return d.includes(s.id)||d.push(s.id),{...e,[r]:{...n,templates:o,templateIds:d}}}case Qu.b:{const{subredditId:r,templateId:s}=t.payload,n=e[r],{templates:a,templateIds:c}=n,o=Ts()(a,s),d=c.filter(e=>e!==s);return{...e,[r]:{...n,templates:o,templateIds:d}}}case Qu.e:case Qu.d:{const r=t.payload,s=e[r.subredditId];return{...e,[r.subredditId]:{...s,templateIds:r.templateIds}}}case $.i:case $.f:case $.m:case $.p:case $.v:{const{response:r}=t.payload;return Ju(e,r.postFlair)}default:return e}},el=r("./src/reddit/actions/postRequirements/constants.ts");const tl={};var rl=(e=tl,t)=>{switch(t.type){case el.a:{const{subredditName:r,error:s}=t.payload;return{...e,[r]:s}}case el.c:case el.b:{const{subredditName:r}=t.payload;return Object(Wt.a)(e,r)}default:return e}};const sl={};var nl=(e=sl,t)=>{switch(t.type){case el.c:case el.a:case el.b:{const{subredditName:r}=t.payload,s=t.type===el.c;return{...e,[r]:s}}default:return e}},al=Object(c.c)({error:rl,pending:nl}),cl=Object(c.c)({fetch:al});const ol={};var dl=(e=ol,t)=>{switch(t.type){case el.b:{const{subredditName:r,requirements:s}=t.payload;return{...e,[r]:s}}case el.d:{const{subredditName:r,partialRequirements:s}=t.payload,n=e[r];return n?{...e,[r]:{...n,...s}}:e}default:return e}},il=Object(c.c)({api:cl,models:dl}),ul=r("./src/reddit/actions/inFeedChaining.ts");var ll=(e=!1,t)=>{switch(t.type){case ul.a:return t.payload.isDismissed;default:return e}};const pl={};var bl=(e=pl,t)=>{switch(t.type){case ul.c:{const{isDismissed:r,listingKey:s,postId:n}=t.payload;if(r)return{...e,[n]:s};const a={...e};return delete a[n],a}default:return e}};const fl={};var yl=(e=fl,t)=>{switch(t.type){case ul.b:return{...e,[t.payload.postId]:t.payload.listingKey};default:return e}},ml=Object(c.c)({dismissed:ll,dismissedIdToListingKey:bl,idToListingKey:yl});var El=(e=null,t)=>{switch(t.type){case ad.a:return t.payload;default:return e}},Ol=r("./src/reddit/actions/embedAndImage.ts");const _l={};var hl=(e=_l,t)=>{switch(t.type){case Ol.b:{const{postId:r}=t.payload;return e[r]?{...e,[r]:!1}:e}case Ol.a:{const{postId:r}=t.payload;return{...e,[r]:!0}}}return e},Il=Object(c.c)({loadable:hl});const gl={};var Sl=(e=gl,t)=>{switch(t.type){case ad.b:{const{postId:r}=t.payload;return{...e,[r]:!e[r]}}default:return e}};var Dl=(e=null,t)=>{switch(t.type){case ad.c:{const{postId:e}=t.payload;return e}default:return e}};const Tl={};var jl=(e=Tl,t)=>{switch(t.type){case Le.e:case Le.h:case we.b:case Z.SUBREDDIT_LOADED:case we.f:case ee.e:case"RECOMMENDED_POSTS_LOADED":case te.i:case Ge.c:case J.SEARCH_RESULTS_RECEIVED:return H()({...e},t.payload.postInstances,(e,t)=>{if(e)return e.concat(t)});default:return e}},vl=r("./src/reddit/actions/isTrackingCrossposts.ts");const Al={};var Pl=(e=Al,t)=>{switch(t.type){case vl.a:{const r=t.payload;return{...e,...r}}default:return e}};const wl={};var Rl=(e=wl,t)=>{switch(t.type){case m.h:{const{poll:r}=t.payload;return{...e,[r.postId]:r.id}}case we.b:case Z.SUBREDDIT_LOADED:case te.i:case we.f:case Q.b:case Q.f:{const{governance:r,posts:s}=t.payload;if(r){const t=Object.keys(r).reduce((e,t)=>{const s=r[t];return e[t]=s.poll.id,e},{});return{...e,...t}}const n=Object.keys(s).reduce((e,t)=>s[t].pollData?(e[t]=t,e):e,{});return{...e,...n}}default:return e}},Cl=r("./src/reddit/actions/bulkActions/constants.ts"),Ll=r("./src/reddit/actions/constants.ts"),Nl=r("./src/reddit/actions/flairManagement/constants.ts"),kl=r("./src/reddit/actions/googleQASchema/constants.ts"),xl=r("./src/reddit/actions/imageOCRAltText/constants.ts"),Ul=r("./src/reddit/actions/subredditTopContent.ts"),Ml=r("./src/reddit/helpers/isPost.ts"),Fl=r("./node_modules/lodash/pickBy.js"),Gl=r.n(Fl);function Bl(e,t){const r=Gl()(t,(t,r="")=>!e[r]||!xi()(e[r],t));return Object.keys(r).length>0?{...e,...r}:e}var ql=r("./src/reddit/models/Gold/Gild/index.tsx"),Hl=r("./src/reddit/models/Media/index.ts"),Vl=r("./src/reddit/models/ModQueue/index.ts"),Kl=r("./src/reddit/models/Post/index.ts"),Wl=r("./src/reddit/models/Vote/index.ts"),$l=r("./src/reddit/actions/subredditDuplicates.ts");const Ql={},zl=e=>{const{protocol:t,domain:r}=e;return e=>{const s=Object(Bu.b)(e.permalink);return{...e,permalink:`${t}://${r}${s}`}}},Xl=e=>t=>{const r=e[t.id];return r&&r.events&&(t.events=r.events,t.source=r.source),t},Yl=e=>t=>{const r=e[t.id];return r&&r.isSponsored&&(t.isSponsored=r.isSponsored),t},Jl=e=>e.media&&Object(Hl.E)(e.media)?{...Object(B.unsetIn)(e,["source"])}:e,Zl=e=>t=>{const r=e[t.id];return t&&t.media&&r&&r.media&&Object(Hl.H)(t.media)&&t.media.isRichtextPreview&&Object(Hl.H)(r.media)&&!r.media.isRichtextPreview&&(t.media.richtextContent=r.media.richtextContent,t.media.isRichtextPreview=!1),t},ep=e=>t=>{const r=e[t.id];return r&&r.numDuplicates&&(t.numDuplicates=r.numDuplicates),t},tp=e=>{let t=e.source;return t&&t.outboundUrlCreated&&(t={...t,outboundUrlReceived:Date.now()},e.source=t),e},rp=e=>{const{allAwardings:t,...r}=e,s={};return t&&t.forEach(e=>{s[e.id]=e.count}),{...r,awardCountsById:s}},sp=e=>t=>{for(let r=0;r<e.length;r++)t=e[r](t);return t},np=(e,t)=>({...e,events:t.events,source:t.source});var ap=(e=Ql,t)=>{switch(t.type){case O.a:if(Ps(t)===(Fe.Db.COMMENTS||Fe.Db.DUPLICATES)){const r=ws(t),s=(e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params})(t);if(r&&r.instanceId&&s&&s.partialPostId){const t=r.instanceId,n=Object(Kl.r)(s.partialPostId);if(e[n]&&e[t])return{...e,[n]:np(e[n],e[t])}}}return e;case Q.b:case Q.f:{const r=zl(t.payload.meta);return{...e,...Ut()(t.payload.posts,sp([r,tp,rp,Jl,Xl(e),Yl(e),ep(e)]))}}case ad.g:return Bl(e,t.payload);case $l.a:return Bl(e,t.payload.posts);case ke.PAGE_LOADED:case Wo.b:case Le.e:case Le.h:case z.b:case z.e:case xe.e:case xe.b:case X.PROFILE_POSTS_LOADED:case X.MORE_POSTS_LOADED:case Z.SUBREDDIT_LOADED:case we.b:case Ne.b:case Z.SUBREDDIT_LOADED:case qo.b:case Ce.r:case we.f:case ee.e:case"RECOMMENDED_POSTS_LOADED":case $o.k:case te.i:case Ue.b:case Ho.TOPIC_DATA_LOADED:case Ho.MORE_POSTS_LOADED:case Bo.c:case Bo.d:{const r=zl(t.payload.meta);return{...e,...Ut()(t.payload.posts,sp([r,tp,rp,Jl,Zl(e),ep(e)]))}}case $o.s:{if(!t.payload||!t.payload.length)return e;const r={};for(const s of t.payload){const t=s,n=zl(t.meta);Object.assign(r,Ut()(t.posts,sp([n,tp,rp,Jl,Zl(e),ep(e)])))}return{...e,...r}}case qo.b:{const r=zl(t.payload.meta),s=e[t.payload.postId];return{...e,...Ut()(t.payload.posts,sp([r,tp,rp,Jl,Zl(e),ep(e)])),[t.payload.postId]:{...s,numDuplicates:t.payload.count}}}case Pe.e:case Ge.c:case J.SEARCH_RESULTS_RECEIVED:{const r=zl(t.payload.meta),s=Ut()(t.payload.posts,sp([r,rp,tp,Jl]));return H()({...e},s,(e,t)=>({...t,...e}))}case ad.h:{const r=t.payload;return H()({...e},r,(e,t)=>({...e,...t}))}case Ll.a:{const{id:r,vote:s}=t.payload,n=e[r];return n?{...e,[r]:Object(Wl.c)(n,s)}:e}case K.b:case V.G:{const r=t.payload.comment.postId,s=e[r];if(s){const n=void 0!==t.payload.numComments?t.payload.numComments:s.numComments+1;return{...e,[r]:{...s,numComments:n}}}return e}case V.y:{const r=t.payload.postId,s=e[r];return s?{...e,[r]:{...s,numComments:s.numComments-1}}:e}case de.mb:{const{topAwardedPosts:r}=t.payload;return{...e,...r.reduce((e,t)=>(e[t.post.id]=sp([rp])(Object(Fs.e)(t.post)),e),{})}}case de.t:{const{id:r,awardings:s,gilder:n,treatmentTags:a}=t.payload,c=e[r];return c?{...e,[r]:{...Object(ql.a)(c,s,n),treatmentTags:a}}:e}case de.E:{const{awardId:r,thingId:s}=t.payload,n=e[s];return n?{...e,[s]:Object(ql.b)(n,r)}:e}case kd.n:{const{posts:r}=t.payload;return{...e,...r}}case $.i:case $.f:case $.m:case $.p:case $.v:{const{response:r}=t.payload,{posts:s}=r;return{...e,...Ut()(s,sp([rp,Jl]))}}case Cl.b:case $.s:{const{operation:r,ids:s,username:n,options:a}=t.payload,c=s.filter(e=>Object(Ml.a)(e)),o=Object(Vl.d)(e,r,c,n,a);return H()({...e},o,(e,t)=>({...e,...t}))}case Rr.t:{const{postId:r,collectionId:s}=t.payload,n=e[r];if(n&&s){const t=n.collectionIds||[];return t.push(s),{...e,[r]:{...n,collectionIds:[...t]}}}return e}case Rr.e:{const{collectionId:r,collection:s}=t.payload,n=s&&s.postIds||[],a={};return n.forEach(t=>{const s=e[t],n=s&&s.collectionIds;if(n){const e=n.filter(e=>e!==r);a[t]={...s,collectionIds:e}}}),{...e,...a}}case Rr.g:{const{collectionId:r,postId:s}=t.payload;if(!r||!s)return e;const n=e[s],a=n&&n.collectionIds;if(!a)return e;const c=a.filter(e=>e!==r);return{...e,[s]:{...n,collectionIds:c}}}case Bo.f:{const{postId:r}=t.payload;if(!r)return e;const s=e[r];if(!s||!s.eventInfo)return e;const n=s.eventInfo;return{...e,[r]:{...s,eventInfo:{...n,eventIsLive:!0}}}}case Bo.a:{const{postId:r,eventInfo:s}=t.payload;if(!r||!s)return e;const n=e[r];return n?{...e,[r]:{...n,eventInfo:{...s}}}:e}case hc.g:{const r=t.payload.subredditTopContent;return r&&r.posts&&Object.keys(r.posts)?{...Ut()(r.posts,sp([rp,Jl])),...e}:e}case Y.c:case Y.i:case Y.e:case Y.g:case Ul.b:return{...Ut()(t.payload.posts,sp([rp,Jl])),...e};case ad.j:{const{postId:r,richtextContent:s}=t.payload,n=e[r];return n&&n.media&&Object(Hl.H)(n.media)?{...e,[r]:{...n,media:{...n.media,richtextContent:s,isRichtextPreview:!1}}}:e}case Nl.a:{const r=t.payload;return{...e,[r.id]:r}}case Nl.b:{const r=t.payload;return Object(Wt.a)(e,r)}case Sd.a:{const{isDeleted:r,height:s,postId:n}=t.payload;return{...e,[n]:{...e[n],media:{...e[n].media,height:s,isDeleted:r}}}}case T.o:{const r=t.payload.reduce((e,t)=>(e[t.id]=t,e),{});return{...e,...r}}case xl.b:{const{altText:r,postId:s}=t.payload;return{...e,[s]:{...e[s],media:{...e[s].media,altText:r}}}}case xl.a:return{...e};case kl.b:{const{postId:r,isEligibleForQASchema:s}=t.payload;return{...e,[r]:{...e[r],isEligibleForQASchema:s}}}case kl.a:return{...e};default:return e}};var cp=(e=null,t)=>{switch(t.type){case ad.f:return t.payload;default:return e}},op=r("./src/reddit/actions/postLevelCrowdControl.ts");const dp={};var ip=(e=dp,t)=>{switch(t.type){case op.a:{const r=t.payload;return{...e,...r}}default:return e}};const up=[];var lp=(e=up,t)=>{switch(t.type){case ad.i:{const{postIds:e}=t.payload;return e}case we.b:case Z.SUBREDDIT_LOADED:{const{recentPostIds:r}=t.payload;return r&&r.length?r:e}default:return e}},pp=r("./node_modules/uuid/v4.js"),bp=r.n(pp);const fp=bp()();var yp=(e=fp,t)=>{switch(t.type){case ke.PAGE_LOADED:case us.h:case us.a:case us.m:case us.f:return bp()();default:return e}};var mp=(e=null,t)=>{switch(t.type){case us.d:case us.o:case us.k:case us.g:case us.a:case us.m:case us.f:return null;case us.j:{const{message:e}=t.payload;return e}case us.e:return"error";default:return e}};var Ep=(e=!0,t)=>{switch(t.type){case us.g:return!0;case us.m:case us.a:case us.f:case us.e:return!1;default:return e}};var Op=(e=!1,t)=>{switch(t.type){case us.k:return!0;case us.j:case us.e:case us.o:case us.d:return!1;default:return e}},_p=Object(c.c)({creationToken:yp,error:mp,pending:Ep,pendingUpdate:Op});const hp={};var Ip=(e=hp,t)=>{switch(t.type){case us.c:{const{subredditId:e,id:r}=t.payload;return{subredditId:e,scheduledPostId:r}}default:return e}};const gp={standalonePosts:{POSTS_LOADED:us.m,postIdsKey:"standalonePostsIds",MUTATION_SUCCEEDED:us.o},recurringPosts:{POSTS_LOADED:us.a,postIdsKey:"recurringPostsIds",MUTATION_SUCCEEDED:us.d}};function Sp(e){const t={};return(r=t,s)=>{switch(s.type){case gp[e].POSTS_LOADED:case us.f:{const{subredditInfoById:t}=s.payload,{id:n}=t,a=t.scheduledPosts[e].models.reduce((e,t)=>(e[t.id]=t,e),{});return{...r,[n]:{...r[n]||{},...a}}}case us.i:case us.l:{const{subredditId:e,scheduledPostId:t}=s.payload,n=r[e]||{};return{...r,[e]:{...Object.keys(n).filter(e=>e!==t).reduce((e,t)=>(e[t]=n[t],e),{})}}}case us.h:{const{subredditId:e}=s.payload;return Object.keys(r).reduce((t,s)=>(s!==e&&(t[s]=r[s]),t),{})}case gp[e].MUTATION_SUCCEEDED:{let t;switch(e){case"recurringPosts":t=s.payload.scheduledPost;break;case"standalonePosts":default:t=s.payload.scheduledPost}const n=t.subreddit.id,a=r[n][t.id],c={[t.id]:{...a,...t}};return{...r,[n]:{...r[n]||{},...c}}}default:return r}}}const Dp={};function Tp(e){return(t=Dp,r)=>{switch(r.type){case gp[e].POSTS_LOADED:case us.f:{const{subredditInfoById:s}=r.payload,n=s.id,{pageInfo:a}=s.scheduledPosts[e];return{...t,[n]:{...a}}}case us.h:{const{subredditId:e}=r.payload;return Object.keys(t).reduce((r,s)=>(s!==e&&(r[s]=t[s]),r),{})}default:return t}}}var jp=r("./node_modules/lodash/uniq.js"),vp=r.n(jp);const Ap={};function Pp(e){return(t=Ap,r)=>{switch(r.type){case gp[e].POSTS_LOADED:case us.f:{const{subredditInfoById:s}=r.payload,n=s.id,a=s.scheduledPosts[gp[e].postIdsKey];return{...t,[n]:vp()([...t[n]||[],...a])}}case us.i:case us.l:{const{subredditId:e,scheduledPostId:s}=r.payload,n=t[e]||[];return{...t,[e]:n.filter(e=>e!==s)}}case us.h:{const{subredditId:e}=r.payload;return{...t,[e]:[]}}default:return t}}}var wp=Object(c.c)({models:Sp("recurringPosts"),pageInfo:Tp("recurringPosts"),postOrder:Pp("recurringPosts"),editModal:Ip}),Rp=Object(c.c)({models:Sp("standalonePosts"),pageInfo:Tp("standalonePosts"),postOrder:Pp("standalonePosts")}),Cp=Object(c.c)({api:_p,standalonePosts:Rp,recurringPosts:wp});var Lp=(e=null,t)=>{switch(t.type){case de.lb:return t.payload;case de.nb:case de.mb:return null;default:return e}};var Np=(e=!1,t)=>{switch(t.type){case de.mb:case de.lb:return!1;case de.nb:return!0;default:return e}},kp=Object(c.c)({error:Lp,pending:Np});const xp=[];var Up=(e=xp,t)=>{switch(t.type){case de.mb:{const{topAwardedPosts:e}=t.payload;return e.filter(e=>!(e.post.isNsfw||e.post.isArchived||e.post.isHidden||e.post.removedBy||e.post.removedByCategory&&"NONE"!==e.post.removedByCategory)).map(e=>({postId:e.post.id,rank:e.rank,score:e.score}))}case de.lb:case de.nb:return xp;default:return e}},Mp=Object(c.c)({api:kp,list:Up}),Fp=r("./src/reddit/actions/video.ts");const Gp={};var Bp=(e=Gp,t)=>{switch(t.type){case Fp.e:{const{auto:r,postId:s}=t.payload;return{...e,[s]:r}}default:return e}};const qp={};var Hp=(e=qp,t)=>{switch(t.type){case Fp.a:{const{postId:r,isBuffering:s}=t.payload;return{...e,[r]:s}}default:return e}};const Vp={};var Kp=(e=Vp,t)=>{switch(t.type){case Fp.b:{const{postId:r}=t.payload;return{...e,[r]:!0}}default:return e}};const Wp={};var $p=(e=Wp,t)=>{switch(t.type){case Fp.c:{const{postId:r,time:s}=t.payload;return{...e,[r]:s}}default:return e}};const Qp={mutedInFeed:!0};var zp=(e=Qp,t)=>{switch(t.type){case Fp.l:return{...e,mutedInFeed:t.payload};default:return e}};var Xp=(e=null,t)=>{switch(t.type){case Fp.k:{const{postId:e}=t.payload;return e}case Fp.d:return null;default:return e}};const Yp={};var Jp=(e=Yp,t)=>{switch(t.type){case Fp.o:{const{postId:r}=t.payload;return e[r]?{...e,[r]:!1}:e}case Fp.e:{const{postId:r}=t.payload;return{...e,[r]:!0}}}return e};const Zp={};var eb=(e=Zp,t)=>{switch(t.type){case Fp.h:{const{postId:r,time:s}=t.payload,n=e[r]||{cached:!0,start:s};return s<n.start?e:{...e,[r]:{...n,playable:s}}}case Fp.f:{const{postId:r,time:s}=t.payload;return{...e,[r]:{cached:!1,start:s}}}default:return e}};const tb={};var rb=(e=tb,t)=>{switch(t.type){case Fp.j:{const{postId:r,metadata:s}=t.payload;return{...e,[r]:s}}default:return e}};const sb={};var nb=(e=sb,t)=>{switch(t.type){case Fp.p:{const{postId:r}=t.payload;return e[r]?{...e,[r]:!1}:e}case Fp.g:{const{postId:r}=t.payload;return{...e,[r]:!0}}}return e};const ab={};var cb=(e=ab,t)=>{switch(t.type){case Fp.i:{const{postId:r,isPlaying:s}=t.payload;return{...e,[r]:s}}default:return e}};const ob={};var db=(e=ob,t)=>{switch(t.type){case Fp.m:{const{postId:r}=t.payload;return{...e,[r]:!0}}default:return e}},ib=r("./src/reddit/constants/video.ts");const ub={};var lb=(e=ub,t)=>{switch(t.type){case Fp.n:{const{postId:r,time:s}=t.payload;return e[r]&&Math.abs(Math.floor(s.currentTime)-Math.floor(e[r].currentTime))<ib.k?e:{...e,[r]:s}}default:return e}},pb=Object(c.c)({autoPlayed:Bp,buffering:Hp,consumed:Kp,continuousViewStartedAt:$p,feed:zp,fullscreen:Xp,loadable:Jp,loadTimes:eb,metadata:rb,paused:nb,playing:cb,started:db,time:lb}),bb=Object(c.c)({chained:ml,embedAndImage:Il,expanded:Sl,focus:Dl,instances:jl,isTrackingCrossposts:Pl,metaMap:Rl,models:ap,modToMemberShare:cp,crowdControl:El,postLevelCrowdControl:ip,recent:lp,scheduledPosts:Cp,topAwarded:Mp,video:pb}),fb=r("./src/lib/reducers/addAuthentication/index.ts");const yb={};var mb=Object(fb.a)((e=yb,t)=>{switch(t.type){case Q.b:case Q.f:{const{postId:r,commentLists:s,comments:n}=t.payload,a=s[r]&&s[r].head;return a&&n[a.id]&&n[a.id].isStickied?{...e,[r]:a.id}:e}case V.C:{const{id:e,postId:r}=t.payload;return{[r]:e}}default:return e}},yb),Eb=Object(c.c)({data:mb});const Ob={};var _b=(e=Ob,t)=>{switch(t.type){case h.f:case h.g:{const{subredditId:r}=t.payload;return{...e,[r]:void 0}}case h.e:{const{subredditId:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const hb={};var Ib=(e=hb,t)=>{switch(t.type){case h.f:{const{subredditId:r}=t.payload;return{...e,[r]:!0}}case h.g:case h.e:{const{subredditId:r}=t.payload;return{...e,[r]:!1}}default:return e}},gb=Object(c.c)({error:_b,pending:Ib});const Sb={};var Db=(e=Sb,t)=>{switch(t.type){case h.d:{const{product:r}=t.payload;return{...e,[r.id]:void 0}}case h.c:case E.f:case E.g:case E.i:case E.j:{const{productId:r}=t.payload;return{...e,[r]:void 0}}case h.a:case E.d:case E.h:{const{productId:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const Tb={};var jb=(e=Tb,t)=>{switch(t.type){case h.c:case E.f:{const{productId:r}=t.payload;return{...e,[r]:!0}}case h.d:{const{product:r}=t.payload;return{...e,[r.id]:!1}}case h.a:case E.d:case E.g:{const{productId:r}=t.payload;return{...e,[r]:!1}}default:return e}},vb=Object(c.c)({error:Db,pending:jb}),Ab=Object(c.c)({fetch:gb,purchase:vb});var Pb=(e=null,t)=>{switch(t.type){case h.b:return t.payload.productId;case s.b:return null;default:return e}};const wb={};var Rb=(e=wb,t)=>{switch(t.type){case y.i:case h.g:{const{products:r}=t.payload;return{...e,...r}}default:return e}},Cb=Object(c.c)({api:Ab,currentlyPurchasing:Pb,models:Rb});const Lb={};var Nb=(e=Lb,t)=>{switch(t.type){case z.f:case z.e:case z.c:case z.b:{const{key:r}=t.payload;return{...e,[r]:null}}case z.d:case z.a:{const{key:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const kb={};var xb=(e=kb,t)=>{switch(t.type){case z.f:case z.c:{const{key:r}=t.payload;return{...e,[r]:!0}}case z.e:case z.d:case z.b:case z.a:{const{key:r}=t.payload;return{...e,[r]:!1}}default:return e}},Ub=Object(c.c)({error:Nb,pending:xb});const Mb={};var Fb=(e=Mb,t)=>{switch(t.type){case z.e:{const{key:r,commentIds:s}=t.payload;return{...e,[r]:s}}case z.b:{const{key:r,commentIds:s}=t.payload,n=e[r]||[];return{...e,[r]:n.concat(s)}}default:return e}},Gb=r("./src/reddit/actions/comment/list.ts");const Bb={};var qb=(e=Bb,t)=>{switch(t.type){case Gb.a:{const{listingKey:r,listingName:s}=t.payload;return{...e,[r]:s}}case Gb.b:{const{listingKey:r}=t.payload;return r in e?Ts()(e,r):e}default:return e}};const Hb={};var Vb=(e=Hb,t)=>{switch(t.type){case z.e:{const{key:r}=t.payload;return{...e,[r]:{}}}case z.b:{const{key:r,fetchedToken:s}=t.payload,n=e[r];return{...e,[r]:{...n,[s]:!0}}}default:return e}};const Kb={};var Wb=(e=Kb,t)=>{switch(t.type){case z.e:case z.b:{const{key:r,dist:s,token:n}=t.payload;return n?{...e,[r]:{dist:s,token:n}}:Object(Wt.a)(e,r)}default:return e}},$b=Object(c.c)({api:Ub,endMarkers:qb,fetchedTokens:Vb,commentIds:Fb,loadMore:Wb}),Qb=r("./src/reddit/actions/pages/profileModSettings.ts");var zb=(e=!0,t)=>{switch(t.type){case Qb.PROFILE_MOD_SETTINGS_LOADED:return!1;default:return e}},Xb=Object(c.c)({pending:zb}),Yb=Object(c.c)({api:Xb});const Jb={};var Zb=(e=Jb,t)=>(t.type,e);const ef={};var tf=(e=ef,t)=>{switch(t.type){case Y.a:case Y.d:{const{listingKey:r,error:s}=t.payload;return{...e,[r]:s}}case Y.b:case Y.c:case Y.i:case Y.f:case Y.e:case Y.g:{const{listingKey:r}=t.payload;return{...e,[r]:null}}default:return e}};const rf={};var sf=(e=rf,t)=>{switch(t.type){case Y.b:case Y.f:{const{listingKey:r}=t.payload;return{...e,[r]:!0}}case Y.a:case Y.d:case Y.c:case Y.i:case Y.e:case Y.g:{const{listingKey:r}=t.payload;return{...e,[r]:!1}}default:return e}},nf=Object(c.c)({error:tf,pending:sf});const af={};var cf=(e=af,t)=>{switch(t.type){case Y.c:case Y.i:case Y.e:case Y.g:{const{listingKey:r,itemIds:s}=t.payload;return{...e,[r]:[...e[r]||[],...s]}}default:return e}};const of={};var df=(e=of,t)=>{switch(t.type){case Y.i:case Y.c:case Y.e:case Y.g:{const{pageInfo:r,listingKey:s}=t.payload;return r?{...e,[s]:r}:of}default:return e}},uf=Object(c.c)({api:nf,ids:cf,pageInfo:df}),lf=r("./src/reddit/constants/posts.ts");const pf={};var bf=(e=pf,t)=>{switch(t.type){case J.SEARCH_RESULTS_RECEIVED:case Ge.c:return{...e,...t.payload.profileAboutInfo};case Gi.k:{const r=t.payload;return r.profile?{...e,[r.profile.id]:r.about}:e}case Hi.h:{const{identifiers:r,userIsSubscriber:s}=t.payload,n=r.filter(e=>e.type===lf.a.PROFILE);return n.length?n.reduce((e,t)=>(e[t.id]={...e[t.id],userIsSubscriber:s},e),{...e}):e}case id.n:{const r=t.payload,s=e[r.subredditId];if(!s)return e;if(s.publicDescription===r.settings.publicDescription)return e;const n={...s,publicDescription:r.settings.publicDescription};return{...e,[r.subredditId]:n}}default:return e}};const ff={},yf=(e,t)=>{if(!t)return e;const r=Object.keys(t);if(!r.length)return e;const s={};return r.forEach(r=>{const n=e[r],a={...t[r]};n&&xi()(n,a)||(s[r]=a)}),Object.keys(s).length?{...e,...s}:e};var mf=(e=ff,t)=>{switch(t.type){case we.f:case Q.b:case Q.f:case we.b:case z.b:case z.e:case Y.c:case Y.i:case Y.e:case Y.g:case xe.b:case xe.e:case X.PROFILE_POSTS_LOADED:case Ue.b:case we.f:case Le.e:case Le.h:case Ce.u:case Gi.h:case qo.b:case Ge.c:case te.i:case Gi.m:case ee.b:case ee.e:case J.SEARCH_RESULTS_RECEIVED:case ke.PAGE_LOADED:case xr.e:case js.PAGE_LOADED:case Z.SUBREDDIT_LOADED:case Ne.b:case"RECOMMENDED_POSTS_LOADED":case Hi.c:return yf(e,t.payload.profiles);case Ge.e:{const{typeaheadSuggestions:r}=t.payload;return Object.keys(r).length?yf(e,r.profiles):e}case $.i:case $.f:case $.m:case $.p:case $.v:case $.k:{const{response:r}=t.payload,s=r&&r.profiles;return yf(e,s)}case Gi.l:case Gi.k:{const{profile:r}=t.payload;return r?yf(e,{[r.id]:r}):e}case id.n:{const r=t.payload,{title:s,over18:n}=r.settings,a=e[r.subredditId];return!a||a.title===s&&a.isNSFW===n?e:{...e,[r.subredditId]:{...a,id:r.subredditId,title:s,isNSFW:n}}}case id.l:case id.k:{const{imageUrl:r,key:s,subredditId:n}=t.payload;if("profileIcon"!==s)return e;const a=e[n];return a?{...e,[n]:{...a,icon:{height:null,url:r,width:null}}}:e}default:return e}};const Ef={};var Of=(e=Ef,t)=>{switch(t.type){case Gi.c:case Gi.f:{const{profileName:r}=t.payload;return{...e,[(r||"").toLowerCase()]:!0}}case Gi.a:case Gi.b:case Gi.d:case Gi.e:{const{profileName:r}=t.payload;return{...e,[(r||"").toLowerCase()]:!1}}default:return e}},_f=Object(c.c)({pending:Of});const hf={};var If=(e=hf,t)=>{switch(t.type){case Gi.b:{const{profileName:r,data:s}=t.payload,n=s.map(e=>e.id);return{...e,[(r||"").toLowerCase()]:n}}case Gi.e:case Y.c:case Y.i:case Y.e:case Y.g:{const{profileName:r,moderatedSubredditIds:s}=t.payload;return s?{...e,[r]:[...e[r]||[],...s]}:e}default:return e}};const gf={};var Sf=(e=gf,t)=>{switch(t.type){case Gi.e:{const{pageInfo:r,profileName:s}=t.payload;return{...e,[s]:r}}case Y.c:case Y.i:{const{moderatedPageInfo:r,profileName:s}=t.payload;return{...e,[s]:r}}default:return e}},Df=Object(c.c)({api:_f,models:If,pageInfo:Sf});const Tf={};var jf=(e=Tf,t)=>{switch(t.type){case Gi.i:{const{profileName:r}=t.payload;return{...e,[r.toLowerCase()]:!0}}case Gi.g:case Gi.h:{const{profileName:r}=t.payload;return{...e,[r.toLowerCase()]:!1}}default:return e}},vf=Object(c.c)({pending:jf});const Af={};var Pf=(e=Af,t)=>{switch(t.type){case Gi.h:{const{pageInfo:r,profileName:s}=t.payload;return{...e,[s]:r}}default:return e}},wf=Object(c.c)({api:vf,pageInfo:Pf}),Rf=r("./src/reddit/actions/pinnedPost.ts");const Cf={};var Lf=Object(fb.a)((e=Cf,t)=>{switch(t.type){case Rf.a:{const{pinned:r,profileId:s}=t.payload;return{...e,[s]:r}}case Rf.d:{const{postId:r,profileId:s}=t.payload,n=e[s]||[];return{...e,[s]:[...n,r].slice(-Fe.V)}}case Rf.g:{const{postId:r,profileId:s}=t.payload,n=e[s]||[];return{...e,[s]:n.filter(e=>e!==r)}}default:return e}},Cf);const Nf={};var kf=Object(fb.a)((e=Nf,t)=>{switch(t.type){case Rf.a:{const{pinned:r,profileId:s}=t.payload;return{...e,[s]:r}}default:return e}},Nf);const xf={};var Uf=Object(fb.a)((e=xf,t)=>{switch(t.type){case Rf.c:case Rf.f:{const{postId:r,profileId:s}=t.payload,n=e[s]||[];return{...e,[s]:[...n,r]}}case Rf.b:case Rf.e:case Rf.d:case Rf.g:{const{postId:r,profileId:s}=t.payload,n=e[s]||[];return{...e,[s]:n.filter(e=>e!==r)}}default:return e}},xf),Mf=Object(c.c)({data:Lf,initialData:kf,pending:Uf}),Ff=r("./src/reddit/actions/trophyCase.ts");const Gf={};var Bf,qf,Hf=(e=Gf,t)=>{switch(t.type){case Ff.a:{const{profileId:r,trophyIds:s}=t.payload;return{...e,[r]:s}}default:return e}},Vf=Object(c.c)({about:bf,models:mf,moderated:Df,multireddits:wf,pinnedPosts:Mf,trophyCases:Hf});r("./src/lib/cache/index.ts");!function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(Bf||(Bf={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(qf||(qf={}));var Kf,Wf,$f;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(Kf||(Kf={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Wf||(Wf={})),function(e){e.Test1="test_1",e.Test2="test_2"}($f||($f={}));!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(Kf||(Kf={}));Object(Me.a)("PROMO__SHOW_PROMO"),Object(Me.a)("PROMO__HIDE_PROMO");const Qf={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null};var zf=(e=Qf,t)=>{switch(t.type){case"PROMO__SHOW_PROMO":{const{promoType:r}=t.payload;return{...e,[r]:!0}}case"PROMO__HIDE_PROMO":{const{promoType:r}=t.payload;return{...e,[r]:!1}}default:return e}},Xf=r("./src/reddit/actions/publicAccessNetwork/constants.ts");const Yf={isError:!1,isPending:!1,global:{rpan_config_refresh_rate:Xf.d,viewer_streams_refresh:Xf.c,viewer_streams_refresh_slop:Xf.e},subreddits:{},isPermanentlyCanceled:!1};var Jf=(e=Yf,t)=>{switch(t.type){case Xf.w:return{...e,isError:!1,isPending:!1,global:{...t.payload}};case Xf.x:{const r=t.payload.name.toLowerCase();return{...e,isError:!1,isPending:!1,subreddits:{...e.subreddits,[r]:{...t.payload.config}}}}case Xf.G:return{...e,isPending:!0};case Xf.I:return{...e,isError:!0,isPending:!1};case Xf.H:return{...e,isPermanentlyCanceled:!0,isPending:!1};default:return e}};var Zf=(e={},t)=>{switch(t.type){case Xf.L:return{...e,[Xf.b]:t.payload.error};case Xf.M:return{...e,[t.payload.streamId]:t.payload.error};case Xf.z:{const{[Xf.b]:t,...r}=e;return r}case Xf.y:{const{[t.payload.model.post.id]:r,...s}=e;return s}default:return e}};const ey=(e,t,r,s)=>({...e,[t]:{...e[t],isPending:r,...s&&{utcTimeStamp:s}}});var ty=(e={},t)=>{switch(t.type){case Xf.N:return ey(e,t.payload,!0);case Xf.O:return ey(e,Xf.b,!0);case Xf.y:return ey(e,t.payload.model.post.id,!1,t.payload.utcTimeStamp);case Xf.z:return ey(e,Xf.b,!1,t.payload.utcTimeStamp);case Xf.M:return ey(e,t.payload.streamId,!1);case Xf.L:return ey(e,Xf.b,!1);default:return e}};const ry={isError:!1,isPending:!1,subreddits:[]};var sy=(e=ry,t)=>{switch(t.type){case Xf.v:return{...e,isError:!1,isPending:!1,subreddits:t.payload.subreddits};case Xf.J:return{...e,isError:!1,isPending:!0};case Xf.K:return{...e,isError:!0,isPending:!1};default:return e}},ny=Object(c.c)({config:Jf,error:Zf,pending:ty,recommendedViewerSubreddits:sy});const ay={};var cy=(e=ay,t)=>{switch(t.type){case Xf.r:return{...e,[t.payload.streamId]:{level:t.payload.level,error:!1}};case Xf.F:return{...e,[t.payload]:{level:0,error:!0}};default:return e}};const oy={cursor:Xf.W,timestamps:{},visitOrder:[]};var dy=(e=oy,t)=>{switch(t.type){case Xf.P:return oy;case Xf.X:{const r=t.payload,s=e.visitOrder.includes(r)?e.visitOrder:[...e.visitOrder,r],n=s.indexOf(r);return s===e.visitOrder&&n===e.cursor?e:{...e,visitOrder:s,cursor:n}}case I.d:return iy(e,t.payload.id);case Xf.E:return iy(e,t.payload);case ad.h:{const r=Object.keys(t.payload).filter(e=>t.payload[e].hidden);return uy(e,r)}case Xf.V:{const{streamId:r,timestamp:s}=t.payload;return{...e,timestamps:{...e.timestamps,[r]:s}}}default:return e}};const iy=(e,t)=>{const r=e.visitOrder.indexOf(t);if(-1===r)return e;const s=r>e.cursor?e.cursor:Math.max(e.cursor-1,0);return{...e,visitOrder:e.visitOrder.filter(e=>e!==t),cursor:s}},uy=(e,t)=>{const r=e.visitOrder[e.cursor],s=new Set(t),n=e.visitOrder.filter(e=>!s.has(e)),a=n.indexOf(r),c=a>-1?a:Math.max(e.cursor-1,0);return n.length!==e.visitOrder.length?{...e,cursor:c,visitOrder:n}:e},ly={ended:[],removed:[]};function py(e){return[...new Set(e)]}var by=(e=ly,t)=>{switch(t.type){case Xf.t:return{...e,ended:py(e.ended.concat(t.payload))};case Xf.u:return{...e,removed:py(e.removed.concat(t.payload))};default:return e}};const fy={};var yy=(e=fy,t)=>{switch(t.type){case Xf.z:const{listingName:r,models:s}=t.payload;if(!r)return e;const n=s.map(e=>e.post.id),a=e[r]||[],c=[...new Set([...n,...a])];return{...e,[r]:c};default:return e}};const my={},Ey=(e,t)=>{const r=Object.keys(e).reduce((t,r)=>({...t,[r]:{...e[r],rank:Xf.m}}),{});return t.reduce((e,t,r)=>({...e,[t.post.id]:{...t,rank:Xf.l-r}}),r)},Oy=(e,t)=>{const r=t.post.id,s=e[r]?e[r].rank:Xf.m;return{...e,[t.post.id]:{...t,rank:s}}};var _y=(e=my,t)=>{switch(t.type){case Xf.y:return Oy(e,t.payload.model);case Xf.z:return Ey(e,t.payload.models);case Xf.D:{const r=t.payload.streamId,s=t.payload.isUnsetting?-1:1,n=(t.payload.isUp?1:0)*s,a=(t.payload.isUp?0:1)*s;return{...e,[r]:{...e[r],downvotes:e[r].downvotes+a,upvotes:e[r].upvotes+n}}}default:return e}};const hy={discoveryUnitThumbnails:{},streamPreviews:{}};var Iy=(e=hy,t)=>{switch(t.type){case Xf.s:return{...e,discoveryUnitThumbnails:{...t.payload.reduce((e,t)=>({...e,[t.postId]:t.imageUrl}),{})}};case Xf.A:return{...e,streamPreviews:{...e.streamPreviews,...t.payload.reduce((e,t)=>({...e,[t.postId]:t.imageUrl}),{})}};default:return e}};const gy={reported:[]};var Sy=(e=gy,t)=>{switch(t.type){case I.d:return{...e,reported:[...e.reported,t.payload.id]};default:return e}};const Dy={isIntroFinished:!1};var Ty=(e=Dy,t)=>{switch(t.type){case Xf.B:return{...e,...t.payload};default:return e}};const jy={reportedStreams:[]};var vy=(e=jy,t)=>{switch(t.type){case Xf.C:return{...e,...t.payload};case I.d:{const r=t.payload.id;return e.reportedStreams.includes(r)?e:{...e,reportedStreams:[...e.reportedStreams,r]}}default:return e}},Ay=Object(c.c)({api:ny,history:dy,hlsStreams:by,listings:yy,models:_y,preloads:Iy,reports:Sy,theaterSettings:Ty,userSettings:vy,automuteLevels:cy});const Py={};var wy=(e=Py,t)=>{switch(t.type){case"RECOMMENDED_POSTS_LOADED":return{...e,...t.payload};case"RECOMMENDED_POSTS_FAILED":default:return e}},Ry=r("./src/reddit/actions/pages/report/constants.ts");var Cy=(e=null,t)=>{switch(t.type){case Ry.a:return t.payload;default:return e}};var Ly=(e=null,t)=>{switch(t.type){case Ry.b:return t.payload;case Ry.c:case Ry.d:return!1;default:return e}};var Ny=(e=!1,t)=>{switch(t.type){case Ry.d:return!0;case Ry.c:case Ry.b:return!1;default:return e}};var ky=(e=!1,t)=>{switch(t.type){case Ry.c:return!0;case Ry.b:case Ry.d:return!1;default:return e}},xy=Object(c.c)({error:Ly,pending:Ny,success:ky}),Uy=r("./src/reddit/actions/reportPageRules/constants.ts");const My=[];var Fy=(e=My,t)=>{switch(t.type){case Uy.a:return t.payload;default:return e}},Gy=Object(c.c)({reportPageApi:xy,reportPageRules:Fy,initialReason:Cy}),By=r("./src/reddit/actions/reportRules.ts");const qy={liveStreamingRules:[],sitewideRules:[]};var Hy=(e=qy,t)=>{switch(t.type){case By.b:return{...e,sitewideRules:t.payload};case By.a:return{...e,liveStreamingRules:t.payload};default:return e}};Object(Me.a)("REQUEST_HOST_SET");var Vy=(e="",t)=>{switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}};Object(Me.a)("RUN_TIME_ENV_VARS__IS_STAGING");const Ky={staging:!1,startTimeInMillis:(new Date).getTime()};var Wy=(e=Ky,t)=>{switch(t.type){case"RUN_TIME_ENV_VARS__IS_STAGING":return{...e,staging:!0};default:return e}};const $y=Object.create(null);var Qy=(e=$y,t)=>{switch(null!==Object.getPrototypeOf(e)&&(e=Object.assign(Object.create(null),e)),t.type){case Ge.d:{const{relatedQueries:r,query:s}=t.payload;if(r){const t=s?s.toLowerCase():"";return Object.assign(Object.create(null),e,{[t]:r})}return e}default:return e}};var zy=(e=null,t)=>{switch(t.type){case J.SEARCH_RESULTS_RECEIVED:case Ge.f:{const{searchQuery:e}=t.payload;return e||null}default:return e}};const Xy=Object.create(null);var Yy=(e=Xy,t)=>{switch(null!==Object.getPrototypeOf(e)&&(e=Object.assign(Object.create(null),e)),t.type){case Ge.e:{const{order:r,searchQuery:s}=t.payload;return Object.assign(Object.create(null),e,{...e,[s.toLowerCase()]:r})}default:return e}},Jy=r("./src/reddit/models/Search/index.ts");const Zy={};var em=(e=Zy,t)=>{switch(t.type){case Ge.e:{const{typeaheadSuggestions:r}=t.payload,s={};return Object.keys(r).forEach(e=>{const t=r[e];return s[e]=Object(Jy.d)(t)}),{...e,...s}}default:return e}},tm=Object(c.c)({idsByQuery:Yy,models:em});const rm={};var sm=(e=rm,t)=>{switch(t.type){case J.SEARCH_RESULTS_RECEIVED:{const{viewTreatment:r,key:s}=t.payload;return r?{...e,[s]:r}:e}default:return e}},nm=Object(c.c)({relatedQueries:Qy,searchQuery:zy,typeahead:tm,viewTreatment:sm}),am=r("./src/reddit/models/SearchDiscoveryUnit/index.ts");const cm={};var om=(e=cm,t)=>{switch(t.type){case J.SEARCH_RESULTS_RECEIVED:{const{categoryName:r,key:s,listingOrder:n,postOrder:a,posts:c,searchQuery:o,subreddits:d,viewTreatment:i}=t.payload,u={subredditIcons:[],displayText:null,subredditOccurrences:0,searchQuery:o};if(i===am.c.Trending||r){const e=[];if(n&&n.map(t=>{!e.includes(t.id)&&d[t.id]&&(e.push(t.id),u.subredditIcons.push({url:d[t.id].icon.url,subredditName:d[t.id].name}),u.displayText||(u.displayText=d[t.id].displayText))}),a)for(let t=0;t<a.length;t++){const r=c[a[t]],s=r&&r.belongsTo?r.belongsTo.id:void 0;s&&!e.includes(s)&&d[s]&&(e.push(s),u.subredditIcons.push({url:d[s].icon.url,subredditName:d[s].name}))}d&&(u.subredditOccurrences=Object.keys(d).length-1)}return{...e,[s]:u}}default:return e}};const dm={};var im=(e=dm,t)=>{switch(t.type){case J.SEARCH_RESULTS_RECEIVED:{const{key:r,searchDiscoveryUnits:s}=t.payload;return s&&Object.keys(s).length?{...e,[r]:s}:e}default:return e}};const um={};var lm=(e=um,t)=>{switch(t.type){case J.SEARCH_RESULTS_RECEIVED:{const{key:r,searchDiscoveryUnitOrder:s}=t.payload;return s?{...e,[r]:s}:um}default:return e}},pm=Object(c.c)({headerContent:om,models:im,order:lm});Object(Me.a)("SEO__CRAWLER_RECEIVED");var bm=(e=null,t)=>{switch(t.type){case"SEO__CRAWLER_RECEIVED":return t.payload;default:return e}},fm=r("./src/reddit/actions/seo/linksModule.ts");const ym={};var mm=(e=ym,t)=>{switch(t.type){case fm.b:return Array.isArray(t.payload)&&0!==t.payload.length?{...e,frontpage:t.payload}:e;case fm.c:return t.payload&&t.payload.id&&t.payload.data?{...e,subreddits:{...e.subreddits,[t.payload.id]:t.payload.data}}:e;default:return e}},Em=r("./src/reddit/actions/seo/topicLinks.ts");const Om={};var _m=(e=Om,t)=>{switch(t.type){case Em.a:return t.payload&&t.payload.id&&t.payload.data?{...e,subreddits:{...e.subreddits,[t.payload.id]:t.payload.data}}:e;default:return e}},hm=Object(c.c)({crawler:bm,linksModule:mm,topicLinks:_m}),Im=r("./src/reddit/actions/shortcuts/constants.ts");var gm=(e=null,t)=>{switch(t.type){case Im.a:return t.payload;case O.a:return null;default:return e}};var Sm=(e=null,t)=>{switch(t.type){case Im.b:return t.payload||null;default:return e}},Dm=r("./src/reddit/constants/history.ts"),Tm=r("./src/reddit/constants/shortcuts.ts"),jm=r("./src/reddit/helpers/history/index.ts");const vm=Tm.d.Global,Am=e=>{switch(e.name){case"comments":case"duplicates":case"metaMembershipPaywallPage":return Object(jm.b)(Dm.a.IsOverlay)?Tm.d.Lightbox:Tm.d.CommentPage;case"rpan":case"subredditCreation":return Object(jm.b)(Dm.a.IsOverlay)?Tm.d.Lightbox:vm;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return Tm.d.Listing;case"modQueuePages":return Tm.d.Modqueue;default:return vm}};var Pm=(e=vm,t)=>{switch(t.type){case O.a:const r=t.payload;if(r.routeMatch){const e=r.routeMatch.route.meta;return Am(e)}return vm;default:return e}},wm=Object(c.c)({activeCommentId:gm,activePostId:Sm,namespace:Pm});var Rm=(e=!1,t)=>{if(e)return e;switch(t.type){case T.q:case T.r:return!0;default:return e}},Cm=r("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),Lm=Object(c.c)({firstFetch:Rm,models:Cm.b}),Nm=r("./src/reddit/actions/streaming/modSettings.ts");var km=(e=null,t)=>{switch(t.type){case Nm.b:case Nm.c:return null;case Nm.a:{const{error:e}=t.payload;return e}default:return e}};var xm=(e=!1,t)=>{switch(t.type){case Nm.b:return!0;case Nm.c:case Nm.a:return!1;default:return e}},Um=Object(c.c)({error:km,pending:xm}),Mm=r("./src/reddit/actions/streaming/constants.ts");const Fm={};var Gm=(e=Fm,t)=>{switch(t.type){case Mm.a:{const{subredditId:r,modSettings:s}=t.payload;return{...e,[r]:s}}default:return e}},Bm=Object(c.c)({api:Um,modSettings:Gm}),qm=r("./src/reddit/models/StructuredStyles/index.ts");const Hm={};var Vm=(e=Hm,t)=>{switch(t.type){case g.h:case g.b:case g.d:return t.payload.styles;case g.e:return Hm;case g.c:{const r=t.payload;return{...e,...r}}case g.k:{const e=t.payload;return Object(qm.h)(e.styles)}default:return e}},Km=r("./src/reddit/actions/exportImportStyles.ts");var Wm=(e=null,t)=>{switch(t.type){case Km.c:case Km.b:return null;case Km.a:return t.payload;default:return e}};var $m=(e=!1,t)=>{switch(t.type){case Km.c:return!0;case Km.b:case Km.a:return!1;default:return e}},Qm=Object(c.c)({error:Wm,pending:$m}),zm=r("./src/reddit/actions/postFlairStyleTemplate.ts"),Xm=r("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const Ym={};var Jm=(e=Ym,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case Q.b:case Q.f:case J.SEARCH_RESULTS_RECEIVED:case Ge.c:case ke.PAGE_LOADED:case js.PAGE_LOADED:{const{payload:r}=t;if(!r.structuredStyles||!r.structuredStyles.data)return e;const s=r.structuredStyles.data.flairTemplate;return{...e,...s}}case zm.b:{const{flairId:r,template:s}=t.payload;return{...e,[r]:s}}case zm.a:{const{flairId:r}=t.payload;return Object(Wt.a)(e,r)}case Qu.b:{const{templateId:r}=t.payload;return Object(Wt.a)(e,r)}case g.k:return Ym;case Xm.b:{const{templates:r}=t.payload;return{...e,...r}}default:return e}},Zm=Object(c.c)({models:Jm});const eE={};var tE=(e=eE,t)=>{switch(t.type){case g.f:{const r=t.payload;return{...e,[r.imageKey]:r.uploadId}}case g.k:case g.e:return eE;default:return e}};var rE=(e=!1,t)=>{switch(t.type){case g.n:case g.e:return!1;case g.a:return!0;default:return e}};var sE=(e=null,t)=>{switch(t.type){case g.d:return t.payload.subredditId;case g.e:return null;case O.a:return t.payload.location.search.indexOf("styling=true")>-1?e:null;case id.f:return null;default:return e}};const nE={};var aE=(e=nE,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case Q.b:case Q.f:case ke.PAGE_LOADED:case js.PAGE_LOADED:{const{payload:r}=t;if(!r.structuredStyles||!r.structuredStyles.data)return e;const s=Object.keys(r.subredditAboutInfo||{});if(1!==s.length)return e;const n=s[0],a=r.structuredStyles.data.style;return{...e,[n]:a}}case Ge.c:case J.SEARCH_RESULTS_RECEIVED:{const{payload:r}=t;if(!r.structuredStyles||!r.structuredStyles.data)return e;if(!r.subredditName)return e;let s;if(Jn()(r.subreddits,(e,t)=>{if(e.name.toLowerCase()===r.subredditName.toLowerCase())return s=t,!1}),!s)return e;const n=r.structuredStyles.data.style;return{...e,[s]:n}}case g.m:{const r=t.payload,s=e[r.subredditId];return{...e,[r.subredditId]:{...s,...r.styles}}}case g.h:{const r=t.payload;return{...e,[r.subredditId]:r.styles}}case g.k:{const r=t.payload,s=Object(qm.h)(r.styles);return{...e,[r.subredditId]:s}}case Gi.k:{const r=t.payload,{banner:s,profile:n}=r;if(!s||!n)return e;const a=e[n.id];return{...e,[n.id]:{...a,bannerBackgroundImage:s.url}}}case id.l:{const r=t.payload;if("profileBanner"===r.key){return Bl(e,{[r.subredditId]:{bannerBackgroundImage:r.imageUrl}})}return e}case id.k:{const r=t.payload;if("profileBanner"===r.key){return Bl(e,{[r.subredditId]:{bannerBackgroundImage:void 0}})}return e}default:return e}},cE=Object(c.c)({draft:Vm,exportStyles:Qm,flairTemplate:Zm,imagePreviews:tE,isBladeEditorDirty:rE,isEditing:sE,models:aE});Object(Me.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST");var oE=(e="",t)=>{switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}},dE=r("./src/reddit/actions/subredditAutocomplete.ts");const iE={};var uE=(e=iE,t)=>{switch(t.type){case dE.c:case dE.b:{const{key:r}=t.payload;return{...e,[r]:null}}case dE.a:{const{key:r,error:s}=t.payload;return{...e,[r]:s}}default:return e}};const lE={};var pE=(e=lE,t)=>{switch(t.type){case dE.c:{const{key:r}=t.payload;return{...e,[r]:!0}}case dE.b:case dE.a:{const{key:r}=t.payload;return{...e,[r]:!1}}default:return e}},bE=Object(c.c)({error:uE,pending:pE});const fE={};var yE=(e=fE,t)=>{switch(t.type){case dE.b:{const{key:r}=t.payload;return{...e,[r]:t.payload}}default:return e}},mE=Object(c.c)({api:bE,models:yE}),EE=r("./src/reddit/actions/category/constants.ts"),OE=r("./src/reddit/actions/subredditMention/constants.ts");const _E={};var hE=(e=_E,t)=>{switch(t.type){case OE.d:case Q.b:case Q.f:case J.SEARCH_RESULTS_RECEIVED:case Z.SUBREDDIT_FAILED:case Z.SUBREDDIT_LOADED:case ke.PAGE_LOADED:case js.PAGE_LOADED:case z.b:case z.e:case xe.b:case xe.a:case xe.e:case xe.d:case X.PROFILE_POSTS_LOADED:case ee.b:case ee.e:case Ge.c:case Ho.TOPIC_DATA_LOADED:{const r=t.payload.subredditAboutInfo;if(!r)return e;const s=Object.keys(r);return 0===s.length?e:s.reduce((e,t)=>(r[t]&&(e[t]?e[t]={...e[t],...r[t]}:e[t]=r[t]),e),{...e})}case Ta.a:{const{subredditId:r,emojisEnabled:s}=t.payload,n={...e[r],emojisEnabled:s};return{...e,[r]:n}}case Hi.h:{const{identifiers:r,userIsSubscriber:s}=t.payload,n=r.filter(e=>e.type===lf.a.SUBREDDIT);return n.length?n.reduce((e,t)=>Object(B.setIn)(e,[t.id,"userIsSubscriber"],s),e):e}case hc.g:case EE.f:case $o.h:case $o.p:{const{subredditsAboutInfo:r}=t.payload;if(!r)return e;const s=Object.keys(r);return 0===s.length?e:s.reduce((e,t)=>(r[t]&&(e[t]=e[t]?{...e[t],...r[t]}:r[t]),e),{...e})}case Ta.b:{const r=t.payload,{emojiCustomSize:s,subredditId:n}=r,a=e[n];if(!a)return e;const c={...a};if(s){const{width:e,height:t}=s;c.emojisCustomSize=[e,t]}else delete c.emojisCustomSize;return{...e,[n]:c}}case te.c:{const{data:r}=t.payload;return{...e,...r}}case de.t:{const{subredditId:r,subredditCoins:s}=t.payload;if(!r||!s)return e;const n=e[r];if(!n)return e;const a={...n,coins:s};return{...e,[r]:a}}default:return e}};const IE={};var gE=(e=IE,t)=>{switch(t.type){case te.b:case te.c:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:null}}case te.a:{const{subredditName:r,error:s}=t.payload;return{...e,[r.toLowerCase()]:s}}default:return e}};var SE=(e=!1,t)=>{switch(t.type){case te.b:return!0;case te.c:case te.a:return!1;default:return e}},DE=Object(c.c)({error:gE,pending:SE}),TE=r("./src/reddit/actions/subredditCreation.ts");const jE={apiError:null};var vE=(e=jE,t)=>{switch(t.type){case TE.b:{const{error:r}=t.payload;return{...e,apiError:r}}case TE.a:case TE.c:case TE.d:return jE;default:return e}};var AE=(e=null,t)=>{switch(t.type){case TE.d:{const{subredditName:e}=t.payload;return e||null}case TE.c:case TE.b:return null;default:return e}};var PE=(e=!1,t)=>{switch(t.type){case TE.c:return!0;case TE.d:case TE.b:return!1;default:return e}},wE=Object(c.c)({error:vE,lastCreatedSubredditId:AE,pending:PE});var RE=(e=!1,t)=>{switch(t.type){case $o.u:return!0;case $o.v:case $o.t:return!1;default:return e}},CE=Object(c.c)({pending:RE});const LE={};var NE=(e=LE,t)=>{switch(t.type){case te.l:case te.m:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:null}}case te.k:{const{subredditName:r,error:s}=t.payload;return{...e,[r.toLowerCase()]:s}}default:return e}};const kE={};var xE=(e=kE,t)=>{switch(t.type){case te.l:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:!0}}case te.m:case te.k:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:!1}}default:return e}},UE=Object(c.c)({error:NE,pending:xE});const ME={};var FE=(e=ME,t)=>{switch(t.type){case $o.g:case $o.h:return{...e,[t.payload.key]:!1};case $o.i:return{...e,[t.payload.key]:!0};default:return e}},GE=Object(c.c)({pending:FE});var BE=(e=null,t)=>{switch(t.type){case de.V:return t.payload||null;case de.X:case de.W:return null;default:return e}};var qE=(e=!1,t)=>{switch(t.type){case de.X:return!0;case de.W:case de.V:return!1;default:return e}},HE=Object(c.c)({error:BE,pending:qE});var VE=(e=null,t)=>{switch(t.type){case $o.l:{const{error:e}=t.payload;return e||null}case $o.n:case $o.m:return null;default:return e}};var KE=(e=!1,t)=>{switch(t.type){case $o.n:return!0;case $o.m:case $o.l:return!1;default:return e}},WE=Object(c.c)({error:VE,pending:KE}),$E=r("./src/reddit/actions/subredditRules/constants.ts");var QE=(e=!1,t)=>{switch(t.type){case $E.c:return!0;case $E.a:case $E.b:return!1;default:return e}},zE=r("./src/reddit/actions/subredditSettings.ts");var XE=(e=!1,t)=>{switch(t.type){case zE.e:return!0;case zE.f:case zE.d:return!1;default:return e}},YE=Object(c.c)({pending:XE});const JE={};var ZE=(e=JE,t)=>{switch(t.type){case $o.o:case $o.p:return{...e,[t.payload.key]:!1};case $o.q:return{...e,[t.payload.key]:!0};default:return e}},eO=Object(c.c)({pending:ZE}),tO=r("./src/reddit/actions/pages/subredditWiki/constants.ts");const rO={};var sO=(e=rO,t)=>{switch(t.type){case tO.c:case tO.b:{const r=t.payload,{subredditName:s}=r.options;return{...e,[s.toLowerCase()]:null}}case tO.a:{const r=t.payload,{options:s,error:n}=r,{subredditName:a}=s;return{...e,[a.toLowerCase()]:n}}default:return e}};const nO={};var aO=(e=nO,t)=>{switch(t.type){case tO.c:{const r=t.payload,{subredditName:s}=r.options;return{...e,[s.toLowerCase()]:!0}}case tO.b:case tO.a:{const r=t.payload,{subredditName:s}=r.options;return{...e,[s.toLowerCase()]:!1}}default:return e}},cO=Object(c.c)({error:sO,pending:aO});const oO={};var dO=(e=oO,t)=>{switch(t.type){case Ul.c:case Ul.b:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:null}}case Ul.a:{const{subredditName:r,error:s}=t.payload;return{...e,[r.toLowerCase()]:s}}default:return e}};const iO={};var uO=(e=iO,t)=>{switch(t.type){case Ul.c:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:!0}}case Ul.b:case Ul.a:{const{subredditName:r}=t.payload;return{...e,[r.toLowerCase()]:!1}}default:return e}},lO=Object(c.c)({error:dO,pending:uO}),pO=Object(c.c)({about:DE,create:wE,inlineEditing:CE,models:UE,onboarding:GE,productOffers:HE,rankings:WE,rules:QE,settings:YE,similar:eO,topContent:lO,wiki:cO}),bO=r("./node_modules/lodash/isNil.js"),fO=r.n(bO);const yO={};var mO=(e=yO,t)=>{switch(t.type){case te.d:{const{subredditId:r,forceState:s}=t.payload;return{...e,[r]:fO()(s)?!e[r]:s}}default:return e}},EO=Object(c.c)({meta:mO});const OO={};var _O=(e=OO,t)=>{switch(t.type){case EE.f:{const{categoryId:r,subredditIds:s}=t.payload;return Qn()(s)?e:{...e,[r]:s}}default:return e}};const hO={};var IO=(e=hO,t)=>{switch(t.type){case Ce.c:{const{communityInfo:r,id:s,type:n}=t.payload;return r&&"subreddit"===n?{...e,[s]:r}:e}default:return e}},gO=r("./src/reddit/actions/subredditCrosspostable.ts");var SO=(e=null,t)=>{switch(t.type){case gO.a:{const{error:e}=t.payload;return e}case gO.c:case gO.b:return null;default:return e}};var DO=(e=!1,t)=>{switch(t.type){case gO.c:return!0;case gO.b:case gO.a:return!1;default:return e}},TO=Object(c.c)({errors:SO,pending:DO});const jO={};var vO=(e=jO,t)=>{switch(t.type){case gO.b:{const{subredditIds:r}=t.payload;return xi()(e,r)?e:r}default:return e}},AO=Object(c.c)({api:TO,ids:vO});const PO={};var wO=(e=PO,t)=>{switch(t.type){case $l.a:{const r=t.payload,{subredditId:s,distinguishKey:n,postIds:a}=r;if(!(s in e))return{...e,[s]:{[n]:a}};const c=e[s];return Bl(c,{[n]:a})===c?e:{...e,[s]:{...c,[n]:a}}}default:return e}},RO=Object(c.c)({models:wO});const CO={};var LO=(e=CO,t)=>{switch(t.type){case m.a:{const{assets:r,subredditId:s}=t.payload;return{...e,[s]:r}}case E.g:case E.j:{const{subredditId:r,mainHeader:s}=t.payload,n=e[r]||{};return{...e,[r]:{...n,mainHeader:s}}}default:return e}};const NO={};var kO=(e=NO,t)=>{switch(t.type){case m.a:{const{subredditId:r}=t.payload;return{...e,[r]:t.payload}}case y.i:{const{communityRaw:r,subredditId:s}=t.payload;return r?{...e,[s]:r}:e}default:return e}};const xO={};var UO=(e=xO,t)=>{switch(t.type){case m.a:{const{subredditId:r,distribution:s}=t.payload;return{...e,[r]:s}}default:return e}};const MO={};var FO=(e=MO,t)=>{switch(t.type){case m.a:{const{subredditId:r,meta:s}=t.payload;return{...e,[r]:s}}default:return e}};const GO={};var BO=(e=GO,t)=>{switch(t.type){case m.p:{const{subredditId:r,releaseNotes:s}=t.payload;return{...e,[r]:s}}default:return e}},qO=Object(c.c)({assets:LO,communityRaw:kO,distributions:UO,meta:FO,releaseNotes:BO}),HO=r("./node_modules/lodash/isEqualWith.js"),VO=r.n(HO),KO=r("./src/lib/forceHttps/index.ts");const WO={},$O=(e,t)=>{return!VO()(e,t,(e,t,r)=>{if("subscribers"===r)return!0})},QO=(e,t)=>{if(!t)return e;const r=Object.keys(t);if(!r.length)return e;const s={};for(let n=0;n<r.length;n++){const a=r[n],c=e[a],o=t[a];c&&!$O(c,o)||(s[a]=o)}return Object.keys(s).length?{...e,...s}:e};var zO=(e=WO,t)=>{switch(t.type){case Hi.c:return((e,t)=>{const r=Object.keys(t);return r.length?r.reduce((r,s)=>{const n=e[s],a=t[s],c=n?{...n,...a}:{...a};return a.icon.url?c.icon.url=Object(KO.a)(a.icon.url):n&&n.icon.url?c.icon=n.icon:c.icon.url="",n&&n.allowChatPostCreation&&(c.allowChatPostCreation=!0),Object(B.set)(r,s,c)},e):e})(e,t.payload.subreddits||{});case OE.d:case EE.f:case we.f:case hc.g:case Wo.b:case Le.e:case Le.h:case $.k:case Ce.r:case Ce.u:case Gi.h:case qo.b:case Q.b:case Q.f:case we.b:case Ne.b:case z.b:case z.e:case Y.c:case Y.i:case Y.e:case Y.g:case xe.b:case xe.e:case X.MORE_POSTS_LOADED:case X.PROFILE_POSTS_LOADED:case Gi.e:case J.SEARCH_RESULTS_RECEIVED:case Z.SUBREDDIT_LOADED:case ke.PAGE_LOADED:case xr.e:case js.PAGE_LOADED:case Gi.m:case ee.b:case ee.e:case Ue.b:case"RECOMMENDED_POSTS_LOADED":case Ge.c:case te.c:case te.f:case te.i:case $o.a:case $o.h:case $o.p:case Ho.TOPIC_DATA_LOADED:case Ho.MORE_POSTS_LOADED:return QO(e,t.payload.subreddits||{});case $.f:case $.i:case $.m:case $.p:case $.v:{const{response:r}=t.payload,{subreddits:s}=r;return QO(e,s)}case Ge.e:{const{typeaheadSuggestions:r}=t.payload;return QO(e,r.subreddits||{})}case Ce.B:{const{subreddits:r}=t.payload;return{...r,...e}}case y.g:{const r=t.payload;return QO(e,r)}case g.m:{const r=t.payload,{subredditId:s,styles:n}=r;return"communityIcon"in n&&e[s]&&"string"==typeof n.communityIcon?{...e,[s]:{...e[s],communityIcon:n.communityIcon}}:e}case zE.f:{const{settings:r}=t.payload,{subredditId:s,title:n}=r;return e[s]&&void 0!==n?{...e,[s]:{...e[s],title:n}}:e}default:return e}};var XO=(e=null,t)=>{switch(t.type){case te.e:{const{error:e}=t.payload;return e}case te.g:case te.f:return null;default:return e}};var YO=(e=!1,t)=>{switch(t.type){case te.g:case te.f:return!0;case te.e:return!1;default:return e}};var JO=(e=!1,t)=>{switch(t.type){case te.g:return!0;case te.f:case te.e:return!1;default:return e}},ZO=Object(c.c)({errors:XO,fetched:YO,pending:JO});var e_=(e=null,t)=>{switch(t.type){case te.f:{const{subreddits:e}=t.payload,r=Object.keys(e);return r.sort((t,r)=>e[t].displayText.toLowerCase()>e[r].displayText.toLowerCase()?1:-1),r}default:return e}},t_=Object(c.c)({api:ZO,order:e_});const r_={};var s_=(e=r_,t)=>{switch(t.type){case zE.a:{const r=t.payload;return Object(B.merge)(e,r)}case zE.b:{const{subredditId:r,notificationSettings:s}=t.payload;return Object(B.merge)(e,{[r]:s})}default:return e}};const n_={};var a_=(e=n_,t)=>{switch(t.type){case $o.h:{const{key:r,subredditIds:s}=t.payload;return 0===s.length?e:{...e,[r]:s}}default:return e}};const c_={};var o_=(e=c_,t)=>{switch(t.type){case de.ib:{const{recentSupporters:r,subredditId:s}=t.payload;return{...e,[s]:r}}case de.R:case de.U:{const{subredditId:r,powerupsCount:s,user:n}=t.payload;if(s>0){const t={score:s,lastSupportedAt:(new Date).toString(),supporterInfo:{id:n.id,displayName:Object(se.e)(n),icon:{url:n.accountIcon},profile:{isNsfw:n.isNSFW}}};return{...e,[r]:[t,...e[r]]}}return e}default:return e}};const d_={};var i_=(e=d_,t)=>{var r;switch(t.type){case de.jb:case de.ib:{const{powerups:r,subredditId:s}=t.payload;return{...e,[s]:r}}case de.R:case de.U:{const{subredditId:s,powerupsCount:n}=t.payload;if(e[s]&&n>0){const t=e[s],a=t.tier+1,c=t.tiersInfo[a-1],o=c&&c.benefits;return{...e,[s]:{...e[s],benefits:o||(null===(r=e[s])||void 0===r?void 0:r.benefits),count:t.count+n,supportersCount:t.supportersCount+1}}}return e}default:return e}};const u_={},l_=(e,t)=>t.supporterInfo&&e.supporterInfo?1e15*t.score+new Date(t.lastSupportedAt).valueOf()-1e15*e.score-new Date(e.lastSupportedAt).valueOf():t.supporterInfo?1:e.supporterInfo?-1:0;var p_=(e=u_,t)=>{switch(t.type){case de.ib:{const{topSupporters:r,subredditId:s}=t.payload;return{...e,[s]:r.sort(l_)}}case de.R:case de.U:{const{subredditId:r,powerupsCount:s,user:n,isAnonymous:a}=t.payload;if(!e[r]&&s<0)return e;let c=!1;const o=e[r].map(e=>{var t;return a&&!e.supporterInfo||!a&&(null===(t=e.supporterInfo)||void 0===t?void 0:t.id)===n.id?(c=!0,{...e,lastSupportedAt:s>0?(new Date).toString():e.lastSupportedAt,score:e.score+s}):e});if(c)return{...e,[r]:o.sort(l_)};if(s>0){const t={score:s,lastSupportedAt:(new Date).toString(),supporterInfo:a?null:{id:n.id,displayName:Object(se.e)(n),icon:{url:n.accountIcon},profile:{isNsfw:n.isNSFW}}};return{...e,[r]:[t,...e[r]].sort(l_)}}return e}default:return e}},b_=r("./src/lib/makeProductOfferKey/index.ts");const f_={};var y_=(e=f_,t)=>{switch(t.type){case de.W:case de.ib:{const{subredditId:r,productOffers:s}=t.payload;if(!s||0===s.length)return e;const n=s.reduce((e,t)=>{const s=Object(b_.a)(r,t.type);return e[s]=e[s]?[...e[s],t]:[t],e},{});return{...e,...n}}default:return e}};const m_={};var E_=(e=m_,t)=>{switch(t.type){case h.g:{const{subredditId:r,products:s}=t.payload,n=Object.keys(s).reduce((e,t)=>(e[t]=!0,e),{});return{...e,[r]:n}}default:return e}},O_=r("./src/reddit/models/NewCommunityProgress/index.ts");const __={};var h_=(e=__,t)=>{switch(t.type){case $o.w:{const{id:r,progressModule:s}=t.payload;if(!s)return e;const n=s.cards.filter(({id:e})=>"invite_contributor"!==e).filter(({buttons:e})=>e.every(({__typename:e})=>O_.b.includes(e)));return{...e,[r]:{...s,cards:n}}}case $o.d:{const{subredditId:r,cardId:s}=t.payload;return Object(B.updateIn)(e,[r,"cards"],e=>e.filter(e=>e.id!==s))}default:return e}};const I_={};var g_=(e=I_,t)=>{var r,s;switch(t.type){case $o.w:{const{id:r,questions:s}=t.payload;return{...e,[r]:s}}case we.f:case we.b:{const{subreddits:s}=t.payload,n={};for(const e of Object.keys(s)){const t=s[e];((null===(r=t.answerableQuestions)||void 0===r?void 0:r.length)||0)>0&&(n[e]=t.answerableQuestions)}return 0===Object.keys(n).length?e:Object(B.assign)(e,n)}case $o.e:{const{subredditId:r,questionId:n}=t.payload,a=null!==(s=e[r])&&void 0!==s?s:[];return Object(B.setIn)(e,[r],a.filter(e=>e.id!==n))}case $o.f:return I_;default:return e}};const S_={};var D_=(e=S_,t)=>{switch(t.type){case $o.b:{const{categoryRankingsKey:r}=t.payload,s=e[r],n=s&&s.length?[...s,...t.payload.rankings]:t.payload.rankings;return{...e,[r]:n}}default:return e}};const T_={};var j_=(e=T_,t)=>{switch(t.type){case $o.c:{const{categoryRankingsKey:r,pageInfo:s}=t.payload;return{...e,[r]:s}}default:return e}};const v_={};var A_=(e=v_,t)=>{switch(t.type){case $E.b:{const{rules:r,subredditId:s}=t.payload,n={[s]:{rules:r.rules}};return{...e,...n}}case $E.e:{const{rules:r,subredditId:s}=t.payload,n={[s]:{rules:[...e[s].rules,...r.rules]}};return{...e,...n}}case $E.f:{const{rules:r,subredditId:s,oldName:n}=t.payload;r.rules.shortName!==n&&(e[s].rules=e[s].rules.filter(e=>e.shortName!==n));const a={[s]:{rules:[...r.rules,...e[s].rules]}};return a[s].rules.sort((e,t)=>e.priority-t.priority),{...e,...a}}case $E.g:case $E.d:{const{rules:r,subredditId:s}=t.payload,n={[s]:{rules:r.rules}};return{...e,...n}}default:return e}};const P_={};var w_=(e=P_,t)=>{switch(t.type){case zE.c:{const e=t.payload;return{[e.subredditId]:e}}case zE.f:{const r=t.payload.settings,s=e[r.subredditId]||{};return{...e,[r.subredditId]:{...s,...r}}}case id.n:{const r=t.payload,s={...e[r.subredditId]||{},...r.settings};return{...e,[r.subredditId]:s}}default:return e}};const R_={};var C_=(e=R_,t)=>{switch(t.type){case $o.p:{const{key:r,subredditIds:s}=t.payload;return 0===s.length?e:{...e,[r]:s}}default:return e}};const L_={};var N_=(e=L_,t)=>{switch(t.type){case $o.w:{const{id:r,survey:s}=t.payload;return{...e,[r]:s}}case $o.x:{const{id:r,response:s}=t.payload,n=Object(B.setIn)(e,[r,"response"],s);return Object(B.setIn)(n,[r,"isEligible"],!1)}default:return e}};const k_={};var x_=(e=k_,t)=>{switch(t.type){case hc.g:{const{subredditTopContent:r}=t.payload;return{...e,...r.subredditTopContent}}case Ul.b:{const{subredditTopContent:r}=t.payload;return{...e,...r}}default:return e}};const U_=[];var M_=(e=U_,t)=>{switch(t.type){case we.b:case Z.SUBREDDIT_LOADED:{const{trendingSubredditIds:r}=t.payload;return r&&r.length?r:e}default:return e}};const F_={};var G_=(e=F_,t)=>{switch(t.type){case OE.d:const{unavailableSubreddits:r}=t.payload;return{...e,...r};default:return e}},B_=Object(c.c)({about:hE,api:pO,appliedFilters:EO,byCategory:_O,communityInfo:IO,crosspostable:AO,duplicates:RO,gov:qO,models:zO,moderated:t_,notificationSettings:s_,onboarding:a_,powerupRecentSupporters:o_,powerups:i_,powerupTopSupporters:p_,productOffers:y_,products:E_,progressModule:h_,questions:g_,rankings:D_,rankingsPageInfo:j_,rules:A_,settings:w_,similar:C_,survey:N_,topContent:x_,trending:M_,unavailableModels:G_});const q_={};var H_=Object(fb.a)((e=q_,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:{const{postIds:r,posts:s}=t.payload,n=r.slice(0,2).reduce((e,t)=>{if(s[t].isStickied){const r=s[t].belongsTo.id;e[r]?e[r].push(t):e[r]=[t]}return e},{});return Te()({...e},n)}case ad.k:{const{newStickiedPostList:r,subredditId:s}=t.payload;return{...e,[s]:r}}default:return e}},q_),V_=Object(c.c)({data:H_}),K_=r("./node_modules/lodash/values.js"),W_=r.n(K_);const $_=[];var Q_=(e=$_,t)=>{switch(t.type){case Hi.d:{const{makeFavorite:r,multiredditsModelsState:s,multiredditPath:n}=t.payload;if(r){const t=[...e],r=Fi(t,n,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);return t.splice(r,0,n),t}return e.filter(e=>e!==n)}case Ce.u:{const{multireddits:e}=t.payload;return W_()(e).filter(e=>e.isFavorited).sort((e,t)=>e.displayText.toLowerCase()>t.displayText.toLowerCase()?1:-1).map(e=>e.url)}case Hi.e:{const{follow:r,multiredditPath:s}=t.payload;return r?e:e.filter(e=>e!==s)}case Ce.j:{const r=t.payload;return e.filter(e=>e!==r)}default:return e}};var z_=(e=null,t)=>{switch(t.type){case Hi.a:{const{error:e}=t.payload;return e}case Hi.b:case Hi.c:return null;default:return e}};var X_=(e=!1,t)=>{switch(t.type){case Hi.b:case Hi.c:return!0;case Hi.a:return!1;default:return e}};var Y_=(e=!1,t)=>{switch(t.type){case Hi.b:return!0;case Hi.c:case Hi.a:return!1;default:return e}},J_=Object(c.c)({errors:z_,fetched:X_,pending:Y_});const Z_=[];var eh=(e=Z_,t)=>{switch(t.type){case Hi.c:{const{profiles:e,favoriteProfileIds:r,favoriteSubredditIds:s}=t.payload;let n;return(n=r&&r.length?r:s?s.filter(t=>!!e[t]):[]).sort((t,r)=>e[t].displayText.toLowerCase()>e[r].displayText.toLowerCase()?1:-1),n}case Hi.f:{const{makeFavorite:r,identifier:s,profileModels:n}=t.payload,{id:a,type:c}=s;if(c!==lf.a.PROFILE)return e;const o=e?e.slice():[];if(r){const e=Fi(o,a,(e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1);o.splice(e,0,a)}else{const e=o.indexOf(a);o.splice(e,1)}return o}case Hi.h:{const{identifiers:r,userIsSubscriber:s}=t.payload,n=r.filter(t=>t.type===lf.a.PROFILE&&e.indexOf(t.id)>-1);return!n.length||s?e:n.reduce((e,t)=>{const r=e.indexOf(t.id);return e.splice(r,1),e},[...e])}default:return e}};const th=[];var rh=(e=th,t)=>{switch(t.type){case Hi.c:{const{subreddits:e,favoriteSubredditIds:r}=t.payload,s=r?r.filter(t=>!!e[t]):[];return s.sort((t,r)=>e[t].displayText.toLowerCase()>e[r].displayText.toLowerCase()?1:-1),s}case Hi.f:{const{makeFavorite:r,identifier:s,subredditModels:n}=t.payload,{id:a,type:c}=s;if(c!==lf.a.SUBREDDIT)return e;const o=e?e.slice():[];if(r){const e=Fi(o,a,(e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1);o.splice(e,0,a)}else{const e=o.indexOf(a);o.splice(e,1)}return o}case Hi.h:{const{identifiers:r,userIsSubscriber:s}=t.payload,n=r.filter(t=>t.type===lf.a.SUBREDDIT&&e.indexOf(t.id)>-1);return!n.length||s?e:n.reduce((e,t)=>{const r=e.indexOf(t.id);return e.splice(r,1),e},[...e])}default:return e}};const sh=[],nh=e=>(t,r)=>e[t].displayText.toLowerCase()>e[r].displayText.toLowerCase()?1:-1;var ah=(e=sh,t)=>{switch(t.type){case Ce.u:{const{multireddits:r}=t.payload,s=W_()(r).map(({url:e})=>e.toLowerCase()).sort(nh(r));return xi()(e,s)?e:s}case Ne.b:{const{account:r,multireddits:s,multiredditsByUser:n,multiredditsModelsState:a}=t.payload;if(!r)return e;const c=n[r.id];if(!c||!c.length)return e;const o={...a,...s},d=Mi()(e,c).sort(nh(o));return xi()(e,d)?e:d}case Hi.e:{const{follow:r,multiredditPath:s,multiredditsModelsState:n}=t.payload;return r?[...e,s].sort(nh(n)):e.filter(e=>e!==s)}case Ce.j:{const r=t.payload;return e.filter(e=>e!==r)}case Ce.g:case Ce.m:{const{multireddit:r,multiredditsModelsState:s}=t.payload,n={...s,[r.url]:r};return[...e,r.url].sort(nh(n))}default:return e}},ch=r("./node_modules/lodash/difference.js"),oh=r.n(ch);const dh=[];var ih=(e=dh,t)=>{switch(t.type){case Gi.n:{const{profileOrder:r}=t.payload;return vp()([...e,...r])}case Hi.c:{const{profiles:e}=t.payload,r=Object.keys(e);return r.sort((t,r)=>e[t].displayText.toLowerCase()>e[r].displayText.toLowerCase()?1:-1),r}case Hi.h:{const{identifiers:r,profileModels:s,userIsSubscriber:n}=t.payload,a=r.filter(e=>e.type===lf.a.PROFILE);if(!a.length)return e;const c=a.map(e=>e.id);return n?vp()([...e,...c]).sort((e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1):oh()(e,c)}default:return e}};const uh=[];var lh=(e=uh,t)=>{switch(t.type){case Gi.n:{const{subredditOrder:r}=t.payload;return vp()([...e,...r])}case Hi.c:{const{subreddits:e}=t.payload,r=Object.keys(e);return r.sort((t,r)=>e[t].displayText.toLowerCase()>e[r].displayText.toLowerCase()?1:-1),r}case Hi.h:{const{identifiers:r,subredditModels:s,userIsSubscriber:n}=t.payload,a=r.filter(e=>e.type===lf.a.SUBREDDIT&&!!e.id);if(!a.length)return e;const c=a.map(e=>e.id);return n?vp()([...e,...c]).sort((e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1):oh()(e,c)}default:return e}},ph=Object(c.c)({api:J_,favoriteMultiOrder:Q_,favoriteProfileOrder:eh,favoriteSubredditOrder:rh,multiredditOrder:ah,profileOrder:ih,subredditOrder:lh}),bh=r("./src/reddit/actions/tabBadging.ts");var fh=(e=!1,t)=>{switch(t.type){case bh.a:const{hasUnreadMessages:r}=t.payload;return r;default:return e}},yh=r("./src/reddit/actions/tags/constants.ts");const mh={pending:!1,error:!1};var Eh=(e=mh,t)=>{switch(t.type){case yh.l:return{...e,pending:!0};case yh.m:return{error:!1,pending:!1};case yh.k:return{error:!0,pending:!1};default:return e}};const Oh={pending:!1,error:!1};var _h=(e=Oh,t)=>{switch(t.type){case yh.o:return{...e,pending:!0};case yh.p:return{error:!1,pending:!1};case yh.n:return{error:!0,pending:!1};default:return e}};const hh={pending:!1,error:!1};var Ih=(e=hh,t)=>{switch(t.type){case yh.t:return{...e,pending:!0};case yh.s:case yh.r:case yh.e:case yh.j:return{error:!1,pending:!1};case yh.q:return{error:!0,pending:!1};default:return e}};const gh={pending:!1,error:!1};var Sh=(e=gh,t)=>{switch(t.type){case yh.v:return{...e,pending:!0};case yh.w:return{error:!1,pending:!1};case yh.u:return{error:!0,pending:!1};default:return e}};const Dh={pending:!1,error:!1};var Th=(e=Dh,t)=>{switch(t.type){case yh.g:return{...e,pending:!0};case yh.h:return{error:!1,pending:!1};case yh.f:return{error:!0,pending:!1};default:return e}},jh=Object(c.c)({create:Eh,deleteTag:_h,fetch:Ih,update:Sh,updatePrimaryTag:Th});const vh={global:[],recommendedGlobal:[]};var Ah=(e=vh,t)=>{switch(t.type){case yh.w:case yh.r:case yh.e:case yh.j:{const{globalSubredditTags:e}=t.payload,r=Object.keys(e),s=r.filter(t=>e[t].isRecommended);return{global:r,recommendedGlobal:s}}default:return e}},Ph=r("./node_modules/lodash/uniqWith.js"),wh=r.n(Ph),Rh=r("./src/reddit/models/Option/index.ts");const Ch={selectedOptions:[],tagInput:"",selectedPrimaryTagId:null};var Lh=(e=Ch,t)=>{switch(t.type){case yh.d:{const{option:r}=t.payload;return{...e,selectedOptions:wh()([...e.selectedOptions||[],{...r}],Rh.a)}}case yh.c:{const{option:r}=t.payload,s=e.selectedOptions.findIndex(e=>Object(Rh.a)(e,r));return e.selectedOptions.splice(s,1),{...e,selectedOptions:e.selectedOptions}}case yh.b:{const{input:r}=t.payload;return{...e,tagInput:r}}case yh.a:{const{primaryTagId:r}=t.payload,s=e.selectedOptions.findIndex(e=>e.id===r),n=[...e.selectedOptions];return s>=0&&n.splice(s,1),{...e,selectedPrimaryTagId:r,selectedOptions:n}}default:return e}},Nh=r("./src/reddit/helpers/tags/index.ts");const kh={globalSubredditTags:{},subredditScopedTags:{},itemTags:{},geoPlaces:{},suggestedItemTags:{},sortedItemTags:{},subredditPrimaryTagId:{}};var xh=(e=kh,t)=>{switch(t.type){case yh.j:{const{globalSubredditTags:r,subredditScopedTags:s,subredditId:n}=t.payload;return{...e,globalSubredditTags:{...e.globalSubredditTags,...r},subredditScopedTags:{...e.subredditScopedTags,[n]:{...e.subredditScopedTags[n]||{},...s[n]||{}}}}}case yh.w:case yh.s:case yh.r:{const{primaryTag:r,globalSubredditTags:s,subredditScopedTags:n,itemTags:a,suggestedItemTags:c,subredditId:o,geoPlace:d}=t.payload,i={...e.subredditPrimaryTagId};return r?i[o]=r.tag.id:delete i[o],{subredditPrimaryTagId:i,globalSubredditTags:{...e.globalSubredditTags,...s},subredditScopedTags:{...e.subredditScopedTags,[o]:{...e.subredditScopedTags[o]||{},...n[o]||{}}},itemTags:{...e.itemTags,[o]:{...a[o]||{}}},geoPlaces:d?Object(B.set)(e.geoPlaces,o,d):e.geoPlaces,suggestedItemTags:{...e.suggestedItemTags,[o]:{...c[o]||{}}},sortedItemTags:{...e.sortedItemTags,[o]:Object(Nh.a)(a[o]||{})}}}case yh.p:{const{subredditId:r,tags:s}=t.payload,n=s.reduce((e,{tagId:t})=>(delete e[t],e),{...e.subredditScopedTags[r]||{}});return{...e,subredditScopedTags:{...e.subredditScopedTags,[r]:n}}}case yh.e:{const{globalSubredditTags:r}=t.payload;return{...e,globalSubredditTags:{...e.globalSubredditTags,...r}}}case yh.h:{const{subredditId:r,primaryTagId:s,secondaryTags:n}=t.payload;return s&&r?{...e,subredditPrimaryTagId:{...e.subredditPrimaryTagId,[r]:s},itemTags:{...e.itemTags,[r]:{...n||{}}}}:e}case yh.i:{const{subredditId:r,primaryTagId:s}=t.payload;return s&&r?{...e,subredditPrimaryTagId:{...e.subredditPrimaryTagId,[r]:s}}:e}default:return e}},Uh=r("./src/reddit/reducers/tags/selected/index.ts"),Mh=Object(c.c)({api:jh,availableGlobalTagOrder:Ah,models:xh,selected:Uh.b,creation:Lh}),Fh=r("./src/reddit/actions/redditEmbed.ts"),Gh=r("./src/reddit/actions/theme.ts"),Bh=r("./src/reddit/actions/users.ts"),qh=r("./src/reddit/models/Theme/index.ts");const Hh={current:qh.c,cached:{}};var Vh=(e=Hh,t)=>{switch(t.type){case Gh.a:{const{nightmode:e}=t.payload;return{current:e?qh.b:qh.c,cached:{}}}case Tr.a:case Tr.b:case Tr.h:case Tr.i:case Tr.f:case Tr.j:case Le.e:case Le.h:case Q.a:case Q.e:case Q.b:case Q.f:case Q.d:case Q.h:case we.b:case Z.SUBREDDIT_LOADED:case Ne.b:case Ne.a:case we.f:case Fh.b:case te.i:case Ge.c:case J.SEARCH_RESULTS_RECEIVED:case id.j:case ke.PAGE_LOADED:case js.PAGE_LOADED:case Bh.c:if(t.payload&&t.payload.preferences&&"nightmode"in t.payload.preferences){const{nightmode:e}=t.payload.preferences;return e?{current:qh.b,cached:{}}:{current:qh.c,cached:{}}}return e;case z.d:case z.e:case xe.a:case xe.b:case xe.d:case xe.e:case X.PROFILE_POSTS_FAILED:case X.PROFILE_POSTS_LOADED:{const{account:r}=t.payload;return r?r.nightmode?{current:qh.b,cached:{}}:{current:qh.c,cached:{}}:e}case $.h:case $.j:case $.i:case $.g:case $.f:case $.n:case $.m:case $.p:case $.q:case $.w:case $.v:if(t.payload&&t.payload.response&&t.payload.response.preferences&&"nightmode"in t.payload.response.preferences){const{nightmode:e}=t.payload.response.preferences;return e?{current:qh.b,cached:{}}:{current:qh.c,cached:{}}}return e;case id.i:{if(!t.payload)return e;const{nightmode:r}=t.payload;return r?{current:qh.b,cached:{}}:{current:qh.c,cached:{}}}case g.d:return{current:qh.c,cached:{}};case g.e:return t.payload.nightmodeTempUpdated?{current:qh.b,cached:{}}:e;default:return e}},Kh=r("./src/reddit/actions/toaster.ts");const Wh=[];var $h=(e=Wh,t)=>{switch(t.type){case Kh.c:{const r=t.payload,s=[];let n=!1;for(const t of e){const e=t.id===r.id?r:t;s.push(e),n=n||e===r}return n||s.push(r),s}case Kh.b:{const r=t.payload;return e.filter(e=>e.id!==r)}default:return e}},Qh=r("./src/reddit/actions/tooltip.ts");var zh=(e=null,t)=>{switch(t.type){case Qh.c:{const{tooltipId:r}=t.payload;return e===r?null:r}case Qh.a:{const{tooltipId:r}=t.payload;return e===r?e:r}case Qh.b:{const{tooltipId:r}=t.payload;return null!==e?e:r||null}case Qh.e:{const{tooltipId:r}=t.payload;return e===r?null:e}case de.K:case Qh.d:case O.a:case eo.b:case eo.c:case eo.a:return null;default:return e}},Xh=r("./src/reddit/actions/tracing.ts");const Yh={traceId:void 0};var Jh=(e=Yh,t)=>{switch(t.type){case Xh.a:return t.payload?{traceId:t.payload}:e;default:return e}},Zh=r("./src/lib/asyncActions/index.ts"),eI=r("./src/reddit/actions/reCaptchaEnterprise.ts");const tI=Object(Zh.c)(eI.c.requestedActionType,eI.c.succeededActionType,eI.c.failedActionType),rI=Object(Zh.c)(eI.a.requestedActionType,eI.a.succeededActionType,eI.a.failedActionType),sI=Object(Zh.c)(eI.d.requestedActionType,eI.d.succeededActionType,eI.d.failedActionType);var nI=Object(c.c)({load:tI,execute:rI,send:sI}),aI=r("./src/reddit/actions/tracking.ts");const cI={};var oI=(e=cI,t)=>{switch(t.type){case aI.a:{const{routeKey:r}=t.payload;return{...e,[r]:!0}}case aI.b:{const{routeKey:r}=t.payload;return{...e,[r]:!1}}default:return e}},dI=Object(c.c)({reCaptchaEnterprise:nI,viewportDataLoaded:oI}),iI=r("./src/reddit/actions/trafficStats/constants.ts");var uI=(e=!1,t)=>{switch(t.type){case iI.c:return!0;case iI.b:case iI.a:return!1;default:return e}};var lI=(e=null,t)=>{switch(t.type){case iI.b:{const{trafficStats:e}=t.payload;return e}case iI.c:return null;default:return e}},pI=Object(c.c)({pending:uI,trafficStats:lI});var bI=(e=null,t)=>{switch(t.type){case m.s:case m.t:return null;case m.q:{const{error:e}=t.payload;return e}default:return e}};var fI=(e=!1,t)=>{switch(t.type){case m.s:return!0;case m.q:case m.t:return!1;default:return e}},yI=Object(c.c)({error:bI,pending:fI});var mI=(e=null,t)=>{switch(t.type){case m.r:return(t.payload?t.payload.contentId:null)||null;case s.b:case m.t:return null;default:return e}};var EI=(e="",t)=>{switch(t.type){case m.r:return(t.payload?t.payload.recipient:"")||"";case m.t:return"";default:return e}};var OI=(e=null,t)=>{switch(t.type){case m.r:return t.payload&&t.payload.publicAddress||null;case s.b:case m.t:return null;default:return e}},_I=Object(c.c)({api:yI,contentId:mI,initialRecipient:EI,publicAddress:OI}),hI=Object(c.c)({communityPoints:_I}),II=r("./src/reddit/actions/search/trending.ts");const gI=[];var SI=(e=gI,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case II.a:{const{items:r}=t.payload;return r||e}default:return e}},DI=Object(c.c)({models:SI});const TI={};var jI=(e=TI,t)=>{switch(t.type){case Ff.a:{const{trophies:r}=t.payload;return{...e,...r}}default:return e}},vI=r("./src/reddit/actions/upload.ts"),AI=r("./src/reddit/models/Upload/index.ts");const PI={};var wI=(e=PI,t)=>{switch(t.type){case vI.d:{const{key:r,id:s,file:n}=t.payload,a=e[r],c=a&&a.file===n?{...a.metadata}:{};return{...e,[r]:{key:r,id:s,file:n,metadata:c,url:void 0,status:AI.a.PENDING}}}case vI.h:{const{key:r}=t.payload,s=e[r];return{...e,[r]:{...s,status:AI.a.UPLOADING}}}case vI.c:{const{key:r,metadata:s}=t.payload,n=e[r];return{...e,[r]:{...n,metadata:s}}}case vI.e:{const{key:r,progress:s}=t.payload,n=e[r];return{...e,[r]:{...n,progress:s}}}case vI.g:{const{key:r,url:s}=t.payload,n=e[r];return{...e,[r]:{...n,status:AI.a.SUCCESS,url:s}}}case vI.b:{const{key:r,error:s}=t.payload,n=e[r];return{...e,[r]:{...n,status:AI.a.FAILED,error:s}}}case vI.a:{const{key:r}=t.payload,s=e[r];return{...e,[r]:{...s,status:AI.a.CANCELED}}}case vI.f:{const{key:r}=t.payload,s=e[r];return s.metadata.localUrl&&window.URL.revokeObjectURL(s.metadata.localUrl),Ts()(e,r)}default:return e}};const RI={};var CI=(e=RI,t)=>{switch(t.type){case h.d:case m.a:case y.f:case m.t:{const{wallet:r}=t.payload;return function(e,t){if(!t)return e;const{subredditId:r}=t,s=e[r]||{};return{...e,[r]:{latest:t,byDate:{...s.byDate||{},[t.at]:t}}}}(e,r)}case m.w:{const r=t.payload,s={...e};return Object.keys(r).forEach(t=>{const n=r[t],a=e[t],c={latest:a?a.latest.at<=n.at?n:a.latest:n,byDate:{...a?a.byDate:{},[n.at]:n}};s[t]=c}),s}default:return e}},LI=r("./src/reddit/actions/inbox.ts"),NI=r("./src/reddit/actions/pages/appeal/constants.ts"),kI=r("./src/reddit/actions/pages/userDataRequest/index.ts"),xI=r("./src/reddit/actions/sso/constants.ts");const UI=(e,t)=>{if(!t||xi()(e,t))return e;const{awardeeKarma:r,awarderKarma:s,commentKarma:n,postKarma:a,totalKarma:c}=t,o=e?e.awardeeKarma:0,d=e?e.awarderKarma:0,i=r||o,u=s||d,l=c||i+u+a+n;return{...t,awardeeKarma:i,awarderKarma:u,totalKarma:l}};var MI=Object(fb.a)((e=null,t)=>{switch(t.type){case NI.a:case NI.b:case Ry.b:case Ry.c:case Tr.a:case Tr.b:case Tr.f:case Tr.h:case Tr.i:case Tr.j:case Le.e:case Le.h:case Le.g:case Ce.q:case Ce.r:case Q.a:case Q.e:case Q.b:case Q.f:case we.a:case we.b:case Ne.a:case Ne.b:case Z.SUBREDDIT_FAILED:case Gi.l:case z.b:case z.a:case z.e:case z.d:case Y.c:case Y.i:case xe.e:case xe.d:case xe.b:case xe.a:case X.PROFILE_POSTS_LOADED:case X.PROFILE_POSTS_FAILED:case Z.SUBREDDIT_LOADED:case J.SEARCH_FAILED:case J.SEARCH_RESULTS_RECEIVED:case ke.PAGE_LOADED:case js.PAGE_LOADED:case Ge.a:case Ge.c:case Fh.a:case Fh.b:case id.j:case kI.b:case Bh.c:case Ho.TOPIC_DATA_LOADED:return UI(e,t.payload.account);case Bh.n:return e?{...e,email:t.payload}:e;case $.i:case $.f:case $.m:case $.p:case $.v:case $.h:case $.e:case $.l:case $.o:case $.u:{const{response:r}=t.payload;return r?UI(e,r.account):e}case Bh.a:return e?{...e,seenLayoutSwitch:!0}:e;case s.d:return e?{...e,seenRedesignModal:!0}:e;case id.l:case id.k:{const r=t.payload;return e&&"profileIcon"===r.key?{...e,accountIcon:r.imageUrl}:e}case de.C:case de.t:{const{coins:r}=t.payload;return e?{...e,coins:r}:e}case de.a:{const{userName:r,awarderKarma:s,awardeeKarma:n}=t.payload;if(r.toLowerCase()!==(e&&Object(se.e)(e).toLowerCase()))return e;const a=n||(e?e.awardeeKarma:0)||0,c=s||(e?e.awarderKarma:0)||0,o=a+c+(e?e.postKarma:0)+(e?e.commentKarma:0);return e&&{...e,awardeeKarma:a,awarderKarma:c,totalKarma:o}}case Re.w:{const{coins:r}=t.payload;return r&&e?{...e,coins:r}:e}case Tu.c:{const{price:r}=t.payload;return(null==e?void 0:e.coins)&&r?{...e,coins:e.coins-r}:e}case LI.a:{const{inboxCount:r}=t.payload;return e?{...e,inboxCount:r}:e}case xI.a:{const{linkedIdentity:r}=t.payload,s=e&&e.linkedIdentities||[];return e?{...e,linkedIdentities:[...s,r]}:e}case xI.b:{const{linkedIdentity:r}=t.payload,s=e&&e.linkedIdentities||[];return e?{...e,linkedIdentities:s.filter(e=>e!==r)}:e}case uo.c:{const{username:r}=t.payload;return e?{...e,displayText:r,isNameEditable:!1,url:`/user/${r}`,username:r}:e}default:return e}},null);var FI=(e=null,t)=>{switch(t.type){case Bh.m:case Bh.n:return null;case Bh.l:return t.payload;default:return e}};var GI=(e=!1,t)=>{switch(t.type){case Bh.m:return!0;case Bh.n:case Bh.l:return!1;default:return e}},BI=Object(c.c)({error:FI,pending:GI}),qI=Object(c.c)({api:BI});var HI=(e=!1,t)=>{switch(t.type){case Bh.j:return!0;default:return e}};var VI=(e=!1,t)=>{switch(t.type){case Bh.i:return!0;case Bh.j:case Bh.h:return!1;default:return e}},KI=Object(c.c)({pending:VI,emailSent:HI}),WI=Object(c.c)({api:KI}),$I=Object(c.c)({changeEmail:qI,sendResetEmail:WI}),QI=r("./src/reddit/models/WhitelistAndBlocked.ts");const zI={};var XI=(e=zI,t)=>{switch(t.type){case St.f:return{...e,new:QI.a.pending};case St.d:return{...e,new:QI.a.error};case St.e:return{...e,new:QI.a.waitingForRequest};case St.b:{const r=t.payload.name;return{...e,[r]:QI.a.pending}}case St.a:{const r=t.payload.name;return{...e,[r]:QI.a.error}}case St.c:{const r=t.payload.name;return{...e,[r]:QI.a.waitingForRequest}}default:return e}};const YI=[];var JI=(e=YI,t)=>{switch(t.type){case St.e:return[t.payload,...e];case St.c:{const r=t.payload.name;return e.filter(e=>e.name!==r)}case id.j:return t.payload.blockedUsers;default:return e}},ZI=Object(c.c)({api:XI,data:JI}),eg=r("./src/reddit/actions/chat/constants.ts"),tg=r("./src/reddit/actions/chat/userSettings.ts");const rg=eg.a.anybody;var sg=(e=rg,t)=>{switch(t.type){case tg.a:if(t.payload){const{invitePolicy:e}=t.payload;return e}return e;default:return e}},ng=Object(c.c)({invitePolicy:sg});const ag=(e,t)=>void 0===t||e&&t===e.count?e:{...e,count:t};var cg=(e=null,t)=>{switch(t.type){case ke.PAGE_LOADED:{const{drafts:r}=t.payload;return e&&xi()(e,r)?e:{...e,...r}}case _.M:{const{response:{draftsCount:r}}=t.payload;return ag(e,r)}case xr.e:{const{postDraftIds:r}=t.payload;return ag(e,r.length)}case xr.c:case xr.l:{const{draftsCount:r}=t.payload;return ag(e,r)}default:return e}};const og={};var dg=(e=og,t)=>{switch(t.type){case La.a:{const e=t.payload.experimentVariants;return lu(e)}default:return e}},ig=r("./src/reddit/actions/global/constants.ts");const ug={};var lg=(e=ug,t)=>{switch(t.type){case ig.a:{const r=t.payload;return null===r.local_persisted_experiments_store||void 0===r.local_persisted_experiments_store?e:r.local_persisted_experiments_store}default:return e}},pg=Object(c.c)({byName:dg,localPersisted:lg}),bg=r("./src/reddit/actions/googleOneTap/index.ts");var fg=(e=!1,t)=>{switch(t.type){case bg.a:return!0;default:return e}};var yg=(e=!1,t)=>{switch(t.type){case id.e:return!0;case id.d:return!1;default:return e}};var mg=(e="en",t)=>{switch(t.type){case id.g:return t.payload;case id.j:return"string"==typeof t.payload.language?t.payload.language:e;default:return e}};const Eg={blob:"",loid:"",loidCreated:"",version:-1};var Og=(e=Eg,t)=>{switch(t.type){case Bh.b:return t.payload;default:return e}},_g=r("./src/reddit/actions/notifications/constants.ts"),hg=r("./src/reddit/actions/notificationSettingsLayout/constants.ts");var Ig=(e=null,t)=>{switch(t.type){case hg.a:case hg.d:case _g.a:return t.payload&&t.payload.error||null;case hg.c:case hg.f:case hg.a:case _g.c:case _g.b:return null;default:return e}};var gg=(e=!1,t)=>{switch(t.type){case _g.c:return!1;case _g.b:return!0;default:return e}};var Sg=(e=!1,t)=>{switch(t.type){case _g.c:return!0;case _g.b:case _g.a:return!1;default:return e}},Dg=Object(c.c)({error:Ig,loaded:gg,pending:Sg});var Tg=(e=null,t)=>{switch(t.type){case _g.d:{const{error:e}=t.payload;return e||null}case _g.f:case _g.e:return null;default:return e}};var jg=(e=!1,t)=>{switch(t.type){case _g.f:return!1;case _g.e:return!0;default:return e}};var vg=(e=!1,t)=>{switch(t.type){case _g.f:return!0;case _g.e:case _g.d:return!1;default:return e}},Ag=Object(c.c)({error:Tg,loaded:jg,pending:vg}),Pg=Object(c.c)({getPreferences:Dg,setPreferences:Ag});const wg={byId:{},allIds:[]};var Rg=(e=wg,t)=>{switch(t.type){case hg.b:{const{rows:r}=t.payload;return{...e,...r}}case hg.g:{const r=t.payload&&t.payload.messageType;return{...e,byId:{...e.byId,[r]:{...e.byId[r],...t.payload}}}}default:return e}};const Cg={byId:{},allIds:[]};var Lg=(e=Cg,t)=>{switch(t.type){case hg.b:{const{sections:r}=t.payload;return{...e,...r}}default:return e}},Ng=Object(c.c)({sections:Lg,rows:Rg}),kg=r("./src/lib/notifications/constants.ts");var xg=(e=!1,t)=>{switch(t.type){case kg.j:return!0;case kg.b:case kg.d:case kg.e:return!1;default:return e}};const Ug={broadcastFollower:!1,broadcastRecommendation:!1,chatMessages:!1,chatRequests:!1,commentReplies:!1,communityRecommendations:!1,liveEvent:!1,newPinnedPost:!1,postFlairAdded:!1,postReplies:!1,privateMessages:!1,threadReplies:!1,topLevelComment:!1,trendingPosts:!1,upvotedComments:!1,upvotedPosts:!1,userFlairAdded:!1,usernameMentions:!1,userNewFollowers:!1};var Mg=(e=Ug,t)=>{switch(t.type){case _g.b:case _g.f:case _g.d:{const{preferences:r}=t.payload;return Qn()(r)?e:r}default:return e}};const Fg={byId:{},allIds:[]};var Gg=(e=Fg,t)=>{switch(t.type){case hg.e:{const{rows:r}=t.payload;return{...e,...r}}case hg.g:{const r=t.payload&&t.payload.messageType;return{...e,byId:{...e.byId,[r]:{...e.byId[r],...t.payload}}}}default:return e}};const Bg={byId:{},allIds:[]};var qg=(e=Bg,t)=>{switch(t.type){case hg.e:{const{sections:r}=t.payload;return{...e,...r}}default:return e}},Hg=Object(c.c)({sections:qg,rows:Gg}),Vg=Object(c.c)({api:Pg,emailSettingsLayout:Ng,isNotificationPromptVisible:xg,preferences:Mg,pushSettingsLayout:Hg});const Kg={};var Wg=(e=Kg,t)=>{switch(t.type){case y.i:case f.i:{const{subredditId:r,userOwnedBadges:s}=t.payload,n=s.reduce((e,t)=>(e[t]=!0,e),{});return{...e,[r]:{...e[r]||{},...n}}}case h.d:{const{userOwnedBadges:r,product:s}=t.payload,n=r.reduce((e,t)=>(e[t]=!0,e),{});return{...e,[s.subredditId]:{...e[s.subredditId]||{},...n}}}default:return e}};const $g={},Qg=(e,t)=>`${e}_${t||new Date}}`;var zg=(e=$g,t)=>{switch(t.type){case de.tb:{const r=t.payload.powerups;if(r){const{allocation:t}=r,s=(t||[]).filter(e=>!!e.subredditInfo).reduce((e,t)=>({...e,[Qg(t.subredditInfo.id,t.allocatedAt)]:t}),{});return{...e,...s}}return e}case de.T:{const{subredditId:r,powerupsCount:s,allocatedAt:n}=t.payload;if(s<0){const t=Qg(r,n),a=e[t];if(a&&a.isPremium)return{...e,[t]:{...a,powerups:a.powerups+s,isActive:!1,isDeallocationAllowed:!1}}}return e}case de.O:{const{subredditId:r,allocatedAt:s}=t.payload,n=Qg(r,s),a=e[n];return a&&!a.isPremium?{...e,[n]:{...a,isActive:!1,isDeallocationAllowed:!1}}:e}default:return e}};var Xg=(e=null,t)=>{switch(t.type){case de.tb:{const r=t.payload.powerups;return r?Ts()({...e,...r},"allocation"):e}case de.ib:{const{userPowerups:r}=t.payload;return r?Ts()({...e,...r},"allocation"):e}case de.T:{const{powerupsCount:r}=t.payload;if(r<0){const t=Math.max((e.freeCount||0)-r,0);if(e)return{...e,freeCount:t}}return e}case de.U:{const{powerupsCount:r}=t.payload;if(r>0){const t=Math.max((e.freeCount||0)-r,0);if(e)return{...e,freeCount:t}}return e}default:return e}};var Yg=(e=!1,t)=>{switch(t.type){case de.sb:case de.ub:return!1;case de.tb:return!0;default:return e}},Jg=Object(c.c)({allocationByKey:zg,data:Xg,fetched:Yg}),Zg=r("./src/reddit/reducers/user/prefs/index.ts");var eS=(e="",t)=>{switch(t.type){case Bh.d:return t.payload;default:return e}},tS=r("./src/reddit/actions/session.ts");var rS=(e=null,t)=>{switch(t.type){case tS.a:case tS.b:case tS.c:case tS.e:return t.payload;case tS.d:return null;default:return e}};var sS=(e=!1,t)=>{switch(t.type){case tS.f:return!0;default:return e}};var nS=(e="",t)=>{switch(t.type){case Bh.k:return t.payload;default:return e}};var aS=(e=null,t)=>{switch(t.type){case La.a:{const e=t.payload;return e.identity&&e.identity.isEmployee}default:return e}};var cS=(e=null,t)=>{switch(t.type){case La.a:return t.payload.isLoggedIn;default:return e}},oS=Object(c.c)({isEmployee:aS,isLoggedIn:cS});var dS=(e=null,t)=>{switch(t.type){case id.r:{const{topContentDismissal:r}=t.payload;return e&&xi()(e,r)?e:{...e,...r}}default:return e}},iS=r("./src/reddit/actions/userWhitelist.ts");const uS={};var lS=(e=uS,t)=>{switch(t.type){case iS.e:return{...e,new:QI.a.pending};case iS.d:return{...e,new:QI.a.error};case iS.f:return{...e,new:QI.a.waitingForRequest};case iS.b:{const r=t.payload.name;return{...e,[r]:QI.a.pending}}case iS.a:{const r=t.payload.name;return{...e,[r]:QI.a.error}}case iS.c:{const r=t.payload.name;return{...e,[r]:QI.a.waitingForRequest}}default:return e}};const pS=[];var bS=(e=pS,t)=>{switch(t.type){case iS.f:return[t.payload,...e];case iS.c:{const r=t.payload.name;return e.filter(e=>e.name!==r)}case id.j:return t.payload.whitelistedUsers;default:return e}},fS=Object(c.c)({api:lS,data:bS}),yS=Object(c.c)({account:MI,accountSettings:$I,blocked:ZI,chatSettings:ng,drafts:cg,experiments:pg,googleOneTapEnabled:fg,isCustomizeFlyoutShowing:yg,topContentDismissalPrefsSet:dS,language:mg,loid:Og,notificationPrefs:Vg,ownedBadges:Wg,powerups:Jg,prefs:Zg.c,reddaid:eS,session:rS,sessionRefreshFailed:sS,sessionTracker:nS,temporaryGQL:oS,wallets:CI,whitelist:fS});var mS=(e=null,t)=>{switch(t.type){case kI.a:return t.payload||null;case kI.b:case kI.c:return null;default:return e}};var ES=(e=!1,t)=>{switch(t.type){case kI.c:return!0;case kI.b:case kI.a:return!1;default:return e}};var OS=(e=!1,t)=>{switch(t.type){case kI.b:return!0;case kI.a:case kI.c:return!1;default:return e}};var _S=(e=!1,t)=>{switch(t.type){case kI.b:return t.payload.userDataExportEligibility;case kI.a:case kI.c:return!1;default:return e}},hS=Object(c.c)({error:mS,pending:ES,success:OS,userDataExportEligibility:_S}),IS=Object(c.c)({userDataRequestPageApi:hS});const gS={};var SS=(e=gS,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case ke.PAGE_LOADED:case js.PAGE_LOADED:case Q.b:case Q.f:case re.e:return{...e,...t.payload.userFlair};case $.i:case $.f:case $.m:case $.p:case $.v:{const{response:r}=t.payload,{userFlair:s}=r,n={...e};return Object.keys(s).forEach(e=>{n[e]||(n[e]=s[e])}),n}case re.i:{const{subredditId:r,applied:s,displaySettings:n}=t.payload;return{...e,[r]:{...e[r],applied:s,displaySettings:n}}}case W.h:{const{subredditId:r,applied:s}=t.payload;return{...e,[r]:{...e[r],applied:s}}}case re.d:{const{subredditId:r,isEnabled:s}=t.payload,n={...e[r].displaySettings,isEnabled:s};return{...e,[r]:{...e[r],displaySettings:n}}}case re.b:{const{subredditId:r,canAssignOwn:s}=t.payload,n={...e[r].permissions,canAssignOwn:s};return{...e,[r]:{...e[r],permissions:n}}}case re.h:{const r=t.payload,s=e[r.subredditId],n=e[r.subredditId].templates,a=e[r.subredditId].templateIds,c={...n,[r.template.id]:r.template},o=[...a];return o.includes(r.template.id)||o.push(r.template.id),{...e,[r.subredditId]:{...s,templates:c,templateIds:o}}}case re.c:{const r=t.payload,s=e[r.subredditId],n=e[r.subredditId].templates,a=e[r.subredditId].templateIds,c=Ts()(n,r.templateId),o=a.filter(e=>e!==r.templateId);return{...e,[r.subredditId]:{...s,templates:{...c},templateIds:o}}}case re.g:case re.f:{const r=t.payload,s=e[r.subredditId];return{...e,[r.subredditId]:{...s,templateIds:r.templateIds}}}default:return e}};const DS={};var TS=(e=DS,t)=>{switch(t.type){case Bh.g:case Bh.f:{const{username:r}=t.payload;return{...e,[r.toLowerCase()]:null}}case Bh.e:{const{username:r,error:s}=t.payload;return{...e,[r.toLowerCase()]:s}}default:return e}};var jS=(e=!1,t)=>{switch(t.type){case Bh.g:return!0;case Bh.f:case Bh.e:return!1;default:return e}},vS=Object(c.c)({error:TS,pending:jS});const AS={};var PS=(e=AS,t)=>{switch(t.type){case f.f:{const{subredditId:r,usersAppliedBadges:s}=t.payload,n=Object.keys(s).reduce((t,n)=>{const a=s[n];return t[n]={...e[n]||{},[r]:a},t},{});return{...e,...n}}case f.b:{const{badgeIds:r,subredditId:s,userId:n}=t.payload;return{...e,[n]:{...e[n]||{},[s]:r}}}case f.a:{const{previousBadgeIds:r,subredditId:s,userId:n}=t.payload;return{...e,[n]:{...e[n]||{},[s]:r}}}case y.a:{const{badge:r,currentAppliedBadges:s,placement:n,subredditId:a,userId:c}=t.payload,o=s.filter(e=>e.placement!==n).concat(r).filter(Boolean).map(e=>e.id);return{...e,[c]:{...e[c]||{},[a]:o}}}default:return e}};const wS={},RS=(e,t)=>{const r=Object.keys(t);if(!r.length)return e;const s={};return r.forEach(r=>{const n=e[r],a=t[r];n&&xi()(n,a)||(s[r.toLowerCase()]=a)}),Object.keys(s).length?{...e,...s}:e};var CS=(e=wS,t)=>{switch(t.type){case Bh.f:{const{data:r}=t.payload;return RS(e,r)}case Gi.k:{const{user:r}=t.payload;return RS(e,{[r.username]:r})}case de.t:{const{gildee:r}=t.payload;if(!r)return e;const s=e[r.toLowerCase()];if(!s)return e;const n=s.awardedLastMonth,a=n?n.totalCount+1:1,c=n&&n.topAward;return c?RS(e,{[r.toLowerCase()]:{...s,awardedLastMonth:{totalCount:a,topAward:c}}}):e}case de.a:{const{userName:r,awardeeKarma:s,awarderKarma:n}=t.payload,a=e[r.toLowerCase()];if(!a)return e;const c=s||a.awardeeKarma,o=n||a.awarderKarma;return RS(e,{[r.toLowerCase()]:{...a,awardeeKarma:c,awarderKarma:o,totalKarma:c+o+a.postKarma+a.commentKarma}})}case id.l:case id.k:{const{imageUrl:r,key:s,username:n}=t.payload;if("profileIcon"!==s)return e;const a=n.toLowerCase(),c=e[a];return c?RS(e,{[a]:{...c,accountIcon:r}}):e}default:return e}},LS=r("./src/reddit/actions/usernameAvailable.ts");const NS={};var kS=(e=NS,t)=>{switch(t.type){case LS.a:{const{username:r}=t.payload;return{...e,[r]:LS.b.Available}}case LS.c:{const{username:r}=t.payload;return{...e,[r]:LS.b.Error}}case LS.d:{const{username:r}=t.payload;return{...e,[r]:LS.b.Pending}}case LS.e:{const{username:r}=t.payload;return{...e,[r]:LS.b.Unavailable}}default:return e}};const xS={};var US=(e=xS,t)=>{switch(t.type){case de.Z:{const{userId:r,supportedSubreddits:s}=t.payload,n={[r]:s};return{...e,...n}}default:return e}};var MS=(e=!1,t)=>{switch(t.type){case de.Y:case de.ab:return!1;case de.Z:return!0;default:return e}},FS=Object(c.c)({allocationByKey:US,fetched:MS});const GS={};var BS=(e=GS,t)=>{switch(t.type){case m.n:{const{subredditId:r,wallets:s}=t.payload,n=Object.keys(s).reduce((t,n)=>{return{...t,[n]:{...e[n]||{},[r]:s[n]}}},{});return{...e,...n}}default:return e}};var qS=(e=null,t)=>{switch(t.type){case de.ob:return t.payload;case de.qb:case de.pb:return null;default:return e}};var HS=(e=!1,t)=>{switch(t.type){case de.pb:case de.ob:return!1;case de.qb:return!0;default:return e}},VS=Object(c.c)({error:qS,pending:HS});var KS=(e=null,t)=>{switch(t.type){case de.rb:return t.payload.postId;default:return e}};const WS={};var $S=(e=WS,t)=>{switch(t.type){case de.pb:{const{postId:r,currentRank:s}=t.payload;return s?{...e,[r]:s}:e}default:return e}};const QS={};var zS=(e=QS,t)=>{switch(t.type){case de.pb:{const{postId:r,topAwardersRank:s}=t.payload;return{...e,[r]:(s||[]).sort((e,t)=>e.rank-t.rank)}}case de.t:{const{id:r}=t.payload;return Ts()(e,[r])}default:return e}},XS=Object(c.c)({api:VS,currentPostId:KS,currentRank:$S,list:zS}),YS=Object(c.c)({api:vS,appliedBadges:PS,models:CS,nameAvailable:kS,publicWallets:BS,topAwarders:XS,powerups:FS});const JS={};var ZS=(e=JS,t)=>{switch(t.type){case Q.b:case Q.f:case Z.SUBREDDIT_LOADED:case te.i:case J.SEARCH_RESULTS_RECEIVED:case ke.PAGE_LOADED:case js.PAGE_LOADED:{const{structuredStyles:r}=t.payload;if(!(r&&r.data&&r.data.content))return e;const s=r.data.content.widgets.layout.idCardWidget,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return{...e,[a]:s}}default:return e}},eD=r("./src/reddit/actions/widgets/constants.ts");const tD={};var rD=(e=tD,t)=>{switch(t.type){case Q.b:case Q.f:case J.SEARCH_RESULTS_RECEIVED:case te.i:case Z.SUBREDDIT_LOADED:case ke.PAGE_LOADED:{const{structuredStyles:r}=t.payload;if(!(r&&r.data&&r.data.content))return e;const s=r.data.content.widgets.items,n=r.data.content.widgets.layout.topbar.order.filter(e=>s[e]&&"menu"===s[e].kind);if(!n.length)return e;const a=Object.keys(t.payload.subredditAboutInfo||{});if(1!==a.length)return e;const c=a[0];return{...e,[c]:n[0]}}case eD.g:{const r=t.payload;return"menu"!==r.widget.kind?e:{...e,[r.subredditId]:r.widgetId}}case eD.h:{const r=t.payload;return e[r.subredditId]===r.widgetId?{...e,[r.subredditId]:null}:e}default:return e}},sD=r("./src/reddit/models/Widgets/index.ts");const nD={};var aD=(e=nD,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:{const r=t.payload,s=r.structuredStyles&&r.structuredStyles.data&&r.structuredStyles.data.content;if(!s)return e;const n=s.widgets;return{...e,...n.items}}case eD.b:{const r=t.payload;return{...e,...r.widgets.items}}case g.k:{const t={...e};return Object.keys(t).forEach(e=>{t[e]={...t[e],styles:Object(sD.m)()}}),t}case eD.e:{const r=t.payload;return{...e,...r.widgets.items}}case eD.i:case eD.g:{const r=t.payload;return{...e,[r.widget.id]:r.widget}}case eD.h:{const r=t.payload,s={...e};return delete s[r.widgetId],s}case Q.b:case Q.f:case Z.SUBREDDIT_LOADED:case te.i:case J.SEARCH_RESULTS_RECEIVED:case ke.PAGE_LOADED:case js.PAGE_LOADED:{const{structuredStyles:r}=t.payload;if(!(r&&r.data&&r.data.content))return e;const s=r.data.content.widgets;return{...e,...s.items}}case Hi.h:{const{userIsSubscriber:r,nameIdentifiers:s,widgetId:n}=t.payload;if(!n||!e[n]||"community-list"!==e[n].kind)return{...e};const a=r,c=e[n],o=c.data.map(e=>{const t={...e};return s.some(e=>e.name===t.name)&&(t.isSubscribed=a),t});return{...e,[n]:{...c,data:o}}}case zE.f:{const{settings:r,idCardWidgetId:s}=t.payload;return s&&e[s]&&"publicDescription"in r&&r.publicDescription!==e[s].description?{...e,[s]:{...e[s],description:r.publicDescription||""}}:e}default:return e}};const cD={};var oD=(e=cD,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case Q.f:case te.i:case ke.PAGE_LOADED:{const{structuredStyles:r}=t.payload;if(!(r&&r.data&&r.data.content))return e;const s=r.data.content.widgets.layout.moderatorWidget,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return{...e,[a]:s}}default:return e}};const dD={};var iD=(e=dD,t)=>{switch(t.type){case Z.SUBREDDIT_LOADED:case ke.PAGE_LOADED:case js.PAGE_LOADED:{const r=t.payload,s=r.structuredStyles&&r.structuredStyles.data&&r.structuredStyles.data.content;if(!s)return e;const n=Object.keys(r.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0],c=s.widgets.layout.sidebar.order;return{...e,[a]:c}}case eD.e:case eD.b:{const r=t.payload;return{...e,[r.subredditId]:r.widgets.layout.sidebar.order}}case eD.f:{const r=t.payload;return{...e,[r.subredditId]:r.widgetIds}}case eD.g:{const r=t.payload;if("menu"===r.widget.kind)return e;if(!e[r.subredditId])return{...e,[r.subredditId]:[r.widgetId]};const s=e[r.subredditId].concat(r.widgetId);return{...e,[r.subredditId]:s}}case eD.h:{const r=t.payload;if(!e[r.subredditId])return e;const s=e[r.subredditId].filter(e=>e!==r.widgetId);return{...e,[r.subredditId]:s}}case Q.b:case Q.f:case Z.SUBREDDIT_LOADED:case J.SEARCH_RESULTS_RECEIVED:case te.i:case ke.PAGE_LOADED:case js.PAGE_LOADED:{const{structuredStyles:r}=t.payload;if(!(r&&r.data&&r.data.content))return e;const s=r.data.content.widgets.layout.sidebar.order,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return{...e,[a]:s}}default:return e}};const uD={accountManagerModalData:a,actionBarCountAnimation:p,activeModalId:D,ads:P,apiRequestState:C,appBadges:F,authorFlair:oe,awards:et,badges:ft,blockedRedditors:gt,blockUser:Pt,brandSafety:Rt,chat:lr,claimGold:_r,commentsListTruncated:Ir,communityFlairs:Dr,contentGate:vr,continueThreads:wr,creations:Mn,dashboard:Bn,discoveryUnits:ra,dismissedTruncationList:aa,economics:Da,emojis:Ca,experimentOverrides:Ua,externalAccount:pc,featureFlags:_c,focusedVerticals:Cc,fontFiles:Nc,gild:$c,header:ro,htmlResponseStreaming:so,imageUploads:co,interceptedAction:io,isChangeUsernameTooltipShowing:lo,isEmailVerificationTooltipShowing:bo,isModeratorWithPostPerms:yo,jsApi:Oo,leaderboard:vo,listings:Ed,live:gd,mediaGalleries:Ad,mediaPlayback:Rd,meta:Nd,moderatingSubreddits:Ud,moderationPromptId:Md,modListingPage:Kd,modModeEnabled:$d,moreComments:ri,multireddits:zi,notificationBannerId:Yi,notificationsInbox:cu,nps:iu,page:yu,platform:Ou,postCollection:$u,postRequirements:il,polls:ku,postFlair:Zu,posts:bb,postStickiedComments:Eb,givePremium:Jc,products:Cb,profileCommentsPage:$b,profilePrivatePage:uf,profileModSettingsPage:Yb,profilePostsPage:Zb,profiles:Vf,promos:zf,publicAccessNetwork:Ay,recommendations:wy,reportPage:Gy,reportRules:Hy,requestHost:Vy,runTimeEnvVars:Wy,search:nm,searchDiscoveryUnits:pm,seo:hm,shortcuts:wm,sidebarPromotedPosts:Lm,streaming:Bm,structuredStyles:cE,stylesheets:oE,subredditAutocomplete:mE,subreddits:B_,subredditStickyPosts:V_,subscriptions:ph,tabBadged:fh,tags:Mh,themes:Vh,toaster:$h,tooltipId:zh,tracing:Jh,tracking:dI,trafficStats:pI,transfers:hI,trending:DI,trophies:jI,uploads:wI,user:yS,userDataRequestPage:IS,userFlair:SS,users:YS,widgets:Object(c.c)({idCardIds:ZS,menuIds:rD,models:aD,moderatorIds:oD,sidebar:iD})}},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s,n,a=r("./node_modules/lodash/isEqual.js"),c=r.n(a),o=r("./node_modules/lodash/merge.js"),d=r.n(o),i=r("./node_modules/lodash/pick.js"),u=r.n(i),l=r("./src/lib/constants/index.ts"),p=r("./src/reddit/actions/comment/constants.ts"),b=r("./src/reddit/actions/contentGate.ts"),f=r("./src/reddit/actions/frontpage/constants.ts"),y=r("./src/reddit/actions/header.ts"),m=r("./src/reddit/actions/modQueue/constants.ts"),E=r("./src/reddit/actions/pages/constants.ts"),O=r("./src/reddit/actions/pages/modListing/constants.ts"),_=r("./src/reddit/actions/pages/multireddit/constants.ts"),h=r("./src/reddit/actions/pages/postCreation.ts"),I=r("./src/reddit/actions/pages/postDraft.ts"),g=r("./src/reddit/actions/pages/profileComments/constants.ts"),S=r("./src/reddit/actions/pages/profileOverview/constants.ts"),D=r("./src/reddit/actions/pages/profilePosts.ts"),T=r("./src/reddit/actions/pages/search.ts"),j=r("./src/reddit/actions/pages/subreddit.ts"),v=r("./src/reddit/actions/pages/topic.ts"),A=r("./src/reddit/actions/postCreation/constants.ts"),P=r("./src/reddit/actions/postDraft.ts"),w=r("./src/reddit/actions/preferences.ts"),R=r("./src/reddit/actions/redditEmbed.ts"),C=r("./src/reddit/actions/search.ts"),L=r("./src/reddit/actions/structuredStyles/constants.ts"),N=r("./src/reddit/actions/subreddit.ts"),k=r("./src/reddit/actions/users.ts"),x=r("./src/reddit/constants/postLayout.ts"),U=r("./src/reddit/constants/preferences.ts"),M=r("./src/reddit/constants/theme.ts"),F=r("./src/reddit/models/PostCreationForm/index.ts"),G=r("./src/reddit/models/PostDraft/index.ts"),B=r("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(s||(s={})),function(e){e.Whitelisted="nobody",e.Everyone="everyone"}(n||(n={}));const q=["acceptPrivateMessages","allowClickTracking","autoplayVideo","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","ignoreSuggestedSort","inBeta","labelNSFW","lang","markMessagesRead","nightmode","over18","sendWelcomeMessages","showMessagesInInbox","showNotifications","showTwitter","showUsernameMentionNotifications","showActiveCommunities",...U.a,"loginOtpEnabled"],H={acceptPrivateMessages:void 0,activityRelevantAds:!0,allowClickTracking:!1,autoplayVideo:!0,collapsedTraySections:B.a,commentMode:F.h.RICH_TEXT,layout:x.d.Card,rememberCommunityLayout:!1,defaultCommentSort:l.r.CONFIDENCE,editorMode:F.h.RICH_TEXT,geopopular:void 0,globalTheme:M.a,hamburgerTray:void 0,hasSeenCustomizeFlyout:!0,hideNSFW:!0,ignoreSuggestedSort:!1,labelNSFW:!0,lang:"en",loginOtpEnabled:!1,markMessagesRead:!0,nightmode:!1,openPostInNewTab:!1,over18:!1,profileLayout:void 0,reduceAnimationsFromAwards:!1,rpanDuDismissalTime:void 0,showActiveCommunities:!0,showRpanDu:!0,showTwitter:!1,sort:l.R.Hot,stylesEnabled:!0,subreddit:{},subscriptionsPinned:void 0,surveyLastSeenTime:void 0,thirdPartyDataPersonalizedAds:!0,thirdPartyPersonalizedAds:!0,thirdPartySiteDataPersonalizedAds:!0,thirdPartySiteDataPersonalizedContent:!0,showLocationBasedRecommendations:!0,topContentDismissalTime:0,topContentTimesDismissed:0,rememberCommunitySort:!1,useMarkdown:!1},V={rpanDuDismissalTime:void 0,isContributorRequestTimestamp:0,stylesEnabled:!0,layout:void 0,sort:void 0},K=(e,t)=>{if(!t)return e;const r=u()({...t.account,...t},q),s=t.subreddit,n={...e.subreddit};Object.keys(s||{}).forEach(e=>{n[e]={...V,...s&&s[e]}});const a={...e,...r,subreddit:n};if(a.useMarkdown!==e.useMarkdown){const e=a.useMarkdown?F.h.MARKDOWN:F.h.RICH_TEXT;a.editorMode=e,a.commentMode=e}return c()(a,e)?e:a},W=(e,t,r)=>K(e,{subreddit:{[t]:{...V,...e.subreddit[t],...r}}});t.c=(e=H,t)=>{switch(t.type){case p.l:case p.s:{const{editorMode:r}=t.payload;return{...e,commentMode:r}}case A.s:case A.N:{const{editorMode:r}=t.payload;return{...e,editorMode:r}}case y.d:return{...e,subscriptionsPinned:!0};case y.e:return{...e,subscriptionsPinned:!1};case P.g:{const{kind:r}=t.payload;return{...e,editorMode:r===G.b.Markdown?F.h.MARKDOWN:F.h.RICH_TEXT}}case w.h:{const{layout:r}=t.payload;return e.layout===r?e:{...e,layout:r}}case w.o:return void 0!==t.payload?{...e,rpanDuDismissalTime:t.payload}:e;case w.p:{const{layout:r,subredditId:s}=t.payload;return W(e,s,{layout:r})}case w.e:return{...e,hasSeenCustomizeFlyout:!0};case w.m:return e.profileLayout===t.payload.profileLayout?e:{...e,profileLayout:t.payload.profileLayout};case b.g:return{...e,over18:!0};case w.b:return void 0!==t.payload?{...e,autoplayVideo:t.payload.autoplayVideo}:e;case w.i:return void 0!==t.payload?{...e,nightmode:t.payload.nightmode}:e;case w.r:if(void 0!==t.payload){const{topContentDismissalTime:r,topContentTimesDismissed:s}=t.payload;return{...e,topContentDismissalTime:r,topContentTimesDismissed:s}}return e;case L.d:return t.payload.isNightmodeOn?{...e,nightmode:!1,nightmodeTempUpdated:!0}:e;case L.e:return t.payload.nightmodeTempUpdated?{...e,nightmode:!0,nightmodeTempUpdated:!1}:e;case w.f:return void 0!==t.payload?{...e,hamburgerTray:t.payload.set}:{...e,hamburgerTray:!e.hamburgerTray};case w.c:return void 0!==t.payload?{...e,collapsedTraySections:d()({},e.collapsedTraySections,t.payload)}:e;case b.a:case b.b:case b.h:case b.i:case b.f:case b.j:case O.e:case O.h:case E.a:case E.e:case E.b:case E.f:case E.d:case E.h:case f.b:case j.SUBREDDIT_LOADED:case _.b:case _.a:case g.e:case S.e:case S.b:case D.PROFILE_POSTS_LOADED:case f.f:case N.i:case C.c:case R.b:case h.PAGE_LOADED:case I.PAGE_LOADED:case w.j:case T.SEARCH_RESULTS_RECEIVED:case w.a:case k.c:case v.TOPIC_DATA_LOADED:return t.payload&&t.payload.preferences?K(e,t.payload.preferences):e;case w.q:{const{subredditId:r,prefs:s}=t.payload;return W(e,r,s)}case g.d:case S.d:case S.a:case D.PROFILE_POSTS_FAILED:if(t.payload&&t.payload.account){const{nightmode:r}=t.payload.account;if(e.nightmode!==r)return{...e,nightmode:r}}return e;case m.h:case m.j:case m.i:case m.g:case m.f:case m.n:case m.m:case m.p:case m.q:case m.w:case m.v:return t.payload&&t.payload.response&&t.payload.response.preferences?K(e,t.payload.preferences):e;case w.n:{const r=t.payload,{showActiveCommunities:s}=r.additional;return e.showActiveCommunities!==s?{...e,showActiveCommunities:s}:e}default:return e}}},"./src/reddit/routes/postCreation/index.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l}));var s=r("./node_modules/@loadable/component/dist/loadable.esm.js"),n=r("./src/lib/constants/index.ts"),a=r("./src/lib/loadableAction/index.ts"),c=r("./src/reddit/routes/postCreation/constants.ts");const o=[c.b,c.c,c.a],d=Object(s.a)({resolved:{},chunkName:()=>"PostCreation",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),r.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),r.e("vendors~PostCreation~Reddit"),r.e("vendors~PostCreation"),r.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),r.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Post~38f39fb8"),r.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~PostC~fd8b3c86"),r.e("CollectionCommentsPage~CommentsPage~ModerationPages~PostCreation~ProfileComments~ProfileOverview~Pro~2e044255"),r.e("PostCreation~Reddit~StandalonePostPage~reddit-components-ClassicPost~reddit-components-CompactPost~r~9f82fa34"),r.e("PostCreation")]).then(r.bind(null,"./src/reddit/pages/PostCreation/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return"./src/reddit/pages/PostCreation/index.tsx"}}),i=e=>`/${e}/submit`,u=(e,t)=>{return c.c.replace(/:subredditName/,e)+(t?`?collection=${t}`:"")},l=e=>c.a.replace(/:profileName/,e),p={action:Object(a.a)(()=>Promise.all([r.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),r.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),r.e("vendors~PostCreation~Reddit"),r.e("vendors~PostCreation"),r.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),r.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Post~38f39fb8"),r.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~PostC~fd8b3c86"),r.e("CollectionCommentsPage~CommentsPage~ModerationPages~PostCreation~ProfileComments~ProfileOverview~Pro~2e044255"),r.e("PostCreation~Reddit~StandalonePostPage~reddit-components-ClassicPost~reddit-components-CompactPost~r~9f82fa34"),r.e("PostCreation")]).then(r.bind(null,"./src/reddit/actions/pages/postCreation.ts")).then(e=>e.postCreationPageRequested)),component:d,chunk:n.p.POST_CREATION,exact:!0,meta:{name:n.Db.POST_CREATION},path:o,prefetches:[n.p.COMMENTS_PAGE]};t.a=p},"./src/reddit/selectors/appBadges.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"h",(function(){return p})),r.d(t,"g",(function(){return b})),r.d(t,"j",(function(){return f})),r.d(t,"i",(function(){return y}));var s=r("./node_modules/reselect/es/index.js"),n=r("./src/reddit/selectors/chat.ts"),a=r("./src/reddit/selectors/experiments/inboxAppBadgingGql.ts");const c=e=>e.appBadges.badges,o=Object(s.a)(a.a,c,n.a,(e,t,r)=>e?t&&t.directMessages&&t.directMessages.count||0:r),d=Object(s.a)(c,e=>e&&e.chatRooms&&e.chatRooms.count||0),i=Object(s.a)(c,e=>e&&e.chatRoomMentions&&e.chatRoomMentions.count||0),u=Object(s.a)(a.a,n.a,o,d,i,(e,t,r,s,n)=>{if(e){return r+s+n>0}return t>0}),l=Object(s.a)(c,e=>e&&e.activityTab&&e.activityTab.count||0),p=Object(s.a)(c,e=>e&&e.messageTab&&e.messageTab.count||0),b=Object(s.a)(l,p,(e,t)=>e+t),f=Object(s.a)(o,p,(e,t)=>e+t),y=Object(s.a)(o,b,(e,t)=>e+t)},"./src/reddit/selectors/blockedRedditors.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a}));const s=e=>e.blockedRedditors.api.pending,n=e=>e.blockedRedditors.list,a=(e,t)=>{const r=(e=>{const t=n(e);return t&&t.ids})(e);return!!r&&r.includes(t)}},"./src/reddit/selectors/chat.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return i}));var s=r("./node_modules/reselect/es/index.js"),n=r("./src/reddit/models/ModeratingSubreddits/index.ts"),a=r("./src/reddit/selectors/moderatorPermissions.ts");const c=e=>e.chat.unread.count,o=Object(s.a)(c,e=>e.basicChannelCount),d=(Object(s.a)(c,e=>e.subredditChannelCount),e=>!(e.chat.isInited||e.chat.unread.api.pending)),i=(e,t)=>{const{chatConfig:r}=n.c;return Object(a.a)(r)(e,t)}},"./src/reddit/selectors/chatSettingsPage.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var s=r("./src/reddit/models/ChatSettingsPage/index.ts");const n=(e,{subredditId:t})=>!!e.chat.subredditSettingsPage.api.fetch.pending[t],a=(e,{subredditId:t})=>{return(e.chat.subredditSettingsPage.models[t]||[]).filter(e=>e&&e.settingType!==s.a.Unknown)}},"./src/reddit/selectors/claimgold.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s=e=>e.claimGold.code,n=e=>e.claimGold.showModal},"./src/reddit/selectors/emojis.ts":function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"b",(function(){return f})),r.d(t,"f",(function(){return m})),r.d(t,"a",(function(){return E}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/lodash/values.js"),n=r.n(s),a=r("./node_modules/reselect/es/index.js"),c=r("./src/reddit/models/Flair/index.ts"),o=r("./src/reddit/selectors/isModeratorOfSubreddit.ts"),d=r("./src/reddit/selectors/subreddit.ts");const i=[],u=e=>e.emojis.models,l=Object(a.a)(u,(e,t)=>t.subredditId,(e,t)=>{const r=e[t];return r?[...n()(r.emojis),...n()(r.snoomojis)]:i}),p=Object(a.a)(l,o.a,(e,t)=>t.isFlairModOnly,(e,t)=>t.flairTemplateType,(e,t,r,s)=>e.filter(e=>!(e.modFlairOnly&&!t||e.modFlairOnly&&!r)&&(!(!e.userFlairAllowed&&s===c.d.UserFlair)&&!(!e.postFlairAllowed&&s===c.d.LinkFlair)))),b=Object(a.a)(u,(e,t)=>t.subredditId,(e,t)=>Object.keys(e[t].snoomojis)),f=(e,t)=>Object(d.x)(e,{subredditName:t}).emojisEnabled,y={emojis:{},snoomojis:{}},m=(e,{subredditId:t})=>u(e)[t]||y,E=(e,t)=>!!e.emojis.api.list.pending[t]},"./src/reddit/selectors/experiments/googleOneTap.ts":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"f",(function(){return b})),r.d(t,"a",(function(){return f}));var s=r("./node_modules/reselect/es/index.js"),n=r("./src/reddit/constants/experiments.ts"),a=r("./src/reddit/helpers/chooseVariant/index.ts"),c=r("./src/reddit/selectors/meta.ts"),o=r("./src/reddit/selectors/user.ts");const d=Object(s.a)(c.c,e=>!e),i=Object(s.a)(e=>Object(a.c)(e,{experimentEligibilitySelector:e=>d(e),experimentName:n.N,expEventOverride:!1}),e=>e),u=e=>e===n.G.Onetap,l=e=>e===n.G.OnetapAuto,p=e=>e.user.googleOneTapEnabled,b=Object(s.a)(o.J,i,(e,t)=>!e&&!!t),f=Object(s.a)(o.J,i,(e,t)=>!e&&!!t&&!Object(n.fd)(t))},"./src/reddit/selectors/experiments/inboxAppBadgingGql.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var s=r("./node_modules/reselect/es/index.js"),n=r("./src/reddit/constants/experiments.ts"),a=r("./src/reddit/helpers/chooseVariant/index.ts"),c=r("./src/reddit/selectors/experiments/utils.ts"),o=r("./src/reddit/selectors/user.ts");const d=Object(s.a)(e=>Object(a.c)(e,{experimentName:n.Kb,experimentEligibilitySelector:i}),c.a),i=e=>Object(o.I)(e)||Object(o.J)(e),u=Object(s.a)(d,e=>e===n.Qb.Enabled)},"./src/reddit/selectors/experiments/inboxRedesign.ts":function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return f}));var s=r("./node_modules/reselect/es/index.js"),n=r("./src/reddit/constants/experiments.ts"),a=r("./src/reddit/helpers/chooseVariant/index.ts"),c=r("./src/reddit/selectors/experiments/utils.ts"),o=r("./src/reddit/selectors/user.ts");const d=Object(s.a)(e=>Object(a.c)(e,{experimentName:n.Nb,experimentEligibilitySelector:i}),c.a),i=e=>Object(o.I)(e)||Object(o.J)(e),u=Object(s.a)(d,e=>e===n.Tb.Redesign),l=Object(s.a)(e=>Object(a.c)(e,{experimentName:n.Mb,experimentEligibilitySelector:i}),c.a),p=Object(s.a)(l,e=>e===n.Sb.Enabled),b=Object(s.a)(e=>Object(a.c)(e,{experimentName:n.Lb,experimentEligibilitySelector:i}),c.a),f=Object(s.a)(b,e=>e===n.Rb.Enabled)},"./src/reddit/selectors/experiments/utils.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("./src/reddit/constants/experiments.ts");const n=e=>{if(!Object(s.fd)(e))return e||void 0}},"./src/reddit/selectors/inFeedChaining.ts":function(e,t,r){"use strict";r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return y})),r.d(t,"a",(function(){return m})),r.d(t,"e",(function(){return E})),r.d(t,"f",(function(){return _})),r.d(t,"b",(function(){return h}));r("./node_modules/core-js/modules/web.dom.iterable.js");var s=r("./node_modules/reselect/es/index.js"),n=r("./src/lib/constants/index.ts"),a=r("./src/lib/makeListingKey/index.ts"),c=r("./src/reddit/actions/subreddit/similarSubreddit.ts"),o=r("./src/reddit/constants/inFeedChaining.ts"),d=r("./src/reddit/models/DiscoveryUnit/index.ts"),i=r("./src/reddit/selectors/discoveryUnit.ts"),u=r("./src/reddit/selectors/posts.ts"),l=r("./src/reddit/selectors/subreddit.ts"),p=r("./src/reddit/selectors/experiments/econ/predictions.ts");const b=[],f=(e,t)=>{const r=e.posts.chained.idToListingKey[t.postId];return t.listingKey===r},y=(e,t)=>{const r=e.posts.chained.dismissedIdToListingKey[t.postId];return(e=>e.posts.chained.dismissed)(e)||t.listingKey===r},m=Object(s.a)(e=>e.posts.chained.idToListingKey,e=>Object.keys(e).filter(t=>e[t])),E=(e,{subredditId:t})=>{return m(e).some(r=>{const s=Object(u.bb)(e,{postId:r});return!!s&&s.id===t})},O=(e,{subredditName:t})=>{const r=n.Ub.DAY.toUpperCase(),s=Object(a.a)(t,n.P.TOP,{t:r}),c=Object(u.H)(e,{listingKey:s,predictionsEnabled:Object(p.c)(e)});if(0!==c.length)for(const n of c){const t=Object(u.O)(e,{postId:n});if(t&&!t.hidden&&!t.isSponsored)return t}},_=(e,{postId:t})=>{const r=((e,{postId:t})=>{const r=Object(u.O)(e,{postId:t});if(!r)return b;const s=Object(c.a)({subredditIds:[r.belongsTo.id],count:o.b});return Object(l.v)(e,{key:s})})(e,{postId:t}),s=[];for(const{name:n}of r){const t=O(e,{subredditName:n});t&&s.push(t.id)}return s},h=(e,{listingName:t})=>{const r=d.b;return Object(i.c)(e,{unitName:r})}},"./src/reddit/selectors/scheduledPosts/index.ts":function(e,t,r){"use strict";r.d(t,"h",(function(){return c})),r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return d})),r.d(t,"i",(function(){return i})),r.d(t,"j",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"q",(function(){return f})),r.d(t,"l",(function(){return y})),r.d(t,"p",(function(){return E})),r.d(t,"k",(function(){return O})),r.d(t,"a",(function(){return _})),r.d(t,"r",(function(){return h})),r.d(t,"m",(function(){return I})),r.d(t,"n",(function(){return g})),r.d(t,"d",(function(){return S})),r.d(t,"e",(function(){return D})),r.d(t,"o",(function(){return T})),r.d(t,"b",(function(){return j}));var s=r("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),n=r("./src/reddit/models/Flair/index.ts"),a=r("./src/reddit/models/ScheduledPost/index.ts");const c=(e,{subredditId:t})=>((e,{subredditId:t,type:r})=>!!e.posts.scheduledPosts[r].models[t])(e,{subredditId:t,type:a.f.standalonePosts}),o=(e,{subredditId:t,type:r})=>!!e.posts.scheduledPosts[r].pageInfo[t]&&e.posts.scheduledPosts[r].pageInfo[t].hasNextPage,d=(e,{subredditId:t,type:r})=>e.posts.scheduledPosts[r].pageInfo[t]?e.posts.scheduledPosts[r].pageInfo[t].endCursor:null,i=e=>e.posts.scheduledPosts.api.pending,u=e=>e.posts.scheduledPosts.api.pendingUpdate,l=e=>e.posts.scheduledPosts.api.error,p={},b=[],f=(e,{subredditId:t})=>(e.posts.scheduledPosts.standalonePosts.postOrder[t]||b).filter(r=>!!(e.posts.scheduledPosts.standalonePosts.models[t]||p)[r]).map(r=>e.posts.scheduledPosts.standalonePosts.models[t][r]),y=(e,{subredditId:t})=>(e.posts.scheduledPosts.recurringPosts.postOrder[t]||b).filter(r=>!!(e.posts.scheduledPosts.recurringPosts.models[t]||p)[r]).map(r=>e.posts.scheduledPosts.recurringPosts.models[t][r]),m=(e,{subredditId:t,scheduledPostId:r,type:s})=>{return(e.posts.scheduledPosts[s].models[t]||p)[r]||void 0},E=(e,{subredditId:t,scheduledPostId:r})=>m(e,{subredditId:t,scheduledPostId:r,type:a.f.standalonePosts}),O=(e,{subredditId:t,scheduledPostId:r})=>{const s=m(e,{subredditId:t,scheduledPostId:r,type:a.f.recurringPosts});return s||s},_=(e,{subredditId:t,scheduledPostId:r})=>E(e,{subredditId:t,scheduledPostId:r})||O(e,{subredditId:t,scheduledPostId:r}),h=e=>e.creations.formData.scheduledPostId,I=({scheduledPost:e})=>(({flair:e,isNsfw:t,isSpoiler:r,isOriginalContent:a})=>{const c=[];return a&&c.push({text:"OC",type:n.f.Oc}),e&&c.push(...Object(s.b)(e)),r&&c.push({text:"spoiler",type:n.f.Spoiler}),t&&c.push({text:"nsfw",type:n.f.Nsfw}),c})(e),g=({scheduledPost:e})=>{const t=I({scheduledPost:e}),r=t.find(e=>e.type===n.f.Richtext);return r||(t.find(e=>e.type===n.f.Text)||null)},S=e=>e.posts.scheduledPosts[a.f.recurringPosts].editModal.scheduledPostId,D=e=>e.posts.scheduledPosts[a.f.recurringPosts].editModal.subredditId,T=e=>e.posts.scheduledPosts.api.pendingUpdate,j=e=>e.posts.scheduledPosts.api.creationToken},"./src/reddit/selectors/userDataRequest.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s=e=>e.userDataRequestPage.userDataRequestPageApi.userDataExportEligibility,n=e=>e.userDataRequestPage.userDataRequestPageApi}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/Governance~Reddit.49a205ccdfcb5dd39031.js.map

}
/*
     FILE ARCHIVED ON 01:38:19 Feb 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:11:01 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.07
  exclusion.robots.policy: 0.059
  cdx.remote: 0.097
  esindex: 0.012
  LoadShardBlock: 176.274 (6)
  PetaboxLoader3.resolve: 329.188 (4)
  PetaboxLoader3.datanode: 133.259 (8)
  load_resource: 309.629 (2)
*/