var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["Governance~Reddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-components-Larg~9453fc9d"],{"./src/graphql/operations/AwardSheetInfo.json":function(t){t.exports=JSON.parse('{"id":"e1be3a261389"}')},"./src/graphql/operations/AwardSheetInfoForProfile.json":function(t){t.exports=JSON.parse('{"id":"3a33281f30db"}')},"./src/graphql/operations/CreateCommunityAward.json":function(t){t.exports=JSON.parse('{"id":"38852e4f82b0"}')},"./src/graphql/operations/CreateGlobalAward.json":function(t){t.exports=JSON.parse('{"id":"c11324579f8c"}')},"./src/graphql/operations/CreateModAward.json":function(t){t.exports=JSON.parse('{"id":"a04c85b4e964"}')},"./src/graphql/operations/DisableAwardInCommunity.json":function(t){t.exports=JSON.parse('{"id":"689f37138ede"}')},"./src/graphql/operations/EnableAwardInCommunity.json":function(t){t.exports=JSON.parse('{"id":"3c2210d8ba4b"}')},"./src/graphql/operations/GlobalAwards.json":function(t){t.exports=JSON.parse('{"id":"16101a740cd7"}')},"./src/graphql/operations/ManageableAwards.json":function(t){t.exports=JSON.parse('{"id":"bce139cc4904"}')},"./src/graphql/operations/ManageableAwardsForProfile.json":function(t){t.exports=JSON.parse('{"id":"f2dc00a6f019"}')},"./src/graphql/operations/OtherDiscussions.json":function(t){t.exports=JSON.parse('{"id":"7fc3f75ce98a"}')},"./src/graphql/operations/PostFeedAndOtherDiscussions.json":function(t){t.exports=JSON.parse('{"id":"90defcf94579"}')},"./src/graphql/operations/RemoveCommunityAward.json":function(t){t.exports=JSON.parse('{"id":"973872832463"}')},"./src/graphql/operations/SubredditPosts.json":function(t){t.exports=JSON.parse('{"id":"f90184fd040d"}')},"./src/graphql/operations/SubredditsPosts.json":function(t){t.exports=JSON.parse('{"id":"3785f4aa83f3"}')},"./src/graphql/operations/SubscribedSubreddits.json":function(t){t.exports=JSON.parse('{"id":"84f02d14f38a"}')},"./src/lib/constants/specialMembership.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="custom"},"./src/lib/makeLinkedPostsListingKey/index.ts":function(t,e,n){"use strict";e.a=t=>{return"linkedPosts--[post:'".concat(t,"']")}},"./src/reddit/actions/economics/paymentSystems/constants.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a}));const r="ECONOMICS__PAYMENT_SYSTEM__CARD_DELETE_SUCCESS",s="ECONOMICS__PAYMENT_SYSTEM__PAYPAL_DELETE_SUCCESS",i="ECONOMICS__PAYMENT_SYSTEM__INFO_FAILURE",o="ECONOMICS__PAYMENT_SYSTEM__INFO_FETCHED",a="ECONOMICS__PAYMENT_SYSTEM__INFO_PENDING"},"./src/reddit/actions/economics/subredditPremium/constants.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return b}));const r="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_APPLIED",s="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_BADGE_TYPE_CHANGED",i="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_MODAL_OPENED",o="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_VIEW_CHANGED",a="ECONOMICS__SUBREDDIT_PREMIUM__EDITOR_PRODUCTS_FETCH_SUCCESS",c="ECONOMICS__SUBREDDIT_PREMIUM__ORDER_SUCCESS",d="ECONOMICS__SUBREDDIT_PREMIUM__SUBREDDIT_INFO_SUCCESS",u="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_CANCEL_SUCCESS",l="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_DATA_SUCCESS",b="ECONOMICS__SUBREDDIT_PREMIUM__UPLOAD_MODAL_OPENED"},"./src/reddit/actions/eventPosts/constants.ts":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return c}));const r="MOD_PAGE_EVENT_POSTS_LOADED",s="MOD_PAGE_EVENT_POSTS_FAILED",i="MOD_PAGE_EVENT_POSTS_PENDING",o="MOD_PAGE_EVENT_POSTS_MORE_LOADED",a="START_EVENT_NOW_SUCCESS",c="EDIT_EVENT_TIME_SUCCESS"},"./src/reddit/actions/gold/communityAwards.ts":function(t,e,n){"use strict";n.d(e,"d",(function(){return T})),n.d(e,"f",(function(){return j})),n.d(e,"e",(function(){return g})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return y})),n.d(e,"i",(function(){return D})),n.d(e,"a",(function(){return F})),n.d(e,"j",(function(){return B})),n.d(e,"g",(function(){return W})),n.d(e,"h",(function(){return X}));var r=n("./node_modules/fbt/lib/FbtPublic.js"),s=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/helpers/awards/isEligibleForGlobalAwards.ts"),a=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/activeModalId.ts"),l=n("./src/reddit/selectors/communityAwards.ts"),b=n("./src/reddit/selectors/posts.ts"),O=n("./src/reddit/selectors/profile.ts"),f=n("./src/reddit/selectors/subreddit.ts"),_=n("./src/reddit/endpoints/gold/communityAwards.ts"),p=n("./src/reddit/constants/gold.ts"),E=n("./src/reddit/actions/gold/constants.ts");const m=()=>r.fbt._("There was an error creating the award. Please try again.",null,{hk:"3UtrTD"}),S=()=>r.fbt._("There was an error loading awards list. Please try again.",null,{hk:"3fs6Y8"}),I=()=>r.fbt._("There was an error removing the award. Please try again.",null,{hk:"1exAPF"}),T=(t,e,n,r,s,i,o,a)=>async(c,d,u)=>{let{gqlContext:l}=u;c(A());try{if((await Object(_.a)(l(),t,e,n,r,s,i,o,a)).error){const t=m();await c(h(t))}}catch(b){const t=m();await c(h(t))}},j=(t,e,n,r,s,i,o,a)=>async(c,d,u)=>{let{gqlContext:l}=u;c(A());try{if((await Object(_.c)(l(),t,e,n,r,s,i,o,a)).error){const t=m();await c(h(t))}}catch(b){const t=m();await c(h(t))}},g=t=>{let{awardSubType:e,coinPrice:n,coinReward:r,daysOfDripExtension:s,daysOfPremium:i,description:o,endsAt:a,giverCoinReward:c,iconFormat:d,iconHeight:u,iconUrl:l,iconWidth:b,isNew:O,name:f,pennyPrice:p,pennyDonate:E,startsAt:S,subredditCoinReward:I}=t;return async(t,T,j)=>{let{gqlContext:g}=j;t(A());try{if((await Object(_.b)({awardSubType:e,coinPrice:n,coinReward:r,context:g(),daysOfDripExtension:s,daysOfPremium:i,description:o,endsAt:a,giverCoinReward:c,iconFormat:d,iconHeight:u,iconUrl:l,iconWidth:b,isNew:O,name:f,pennyPrice:p,pennyDonate:E,startsAt:S,subredditCoinReward:I})).error){const e=m();await t(h(e))}}catch(C){const e=m();await t(h(e))}}},A=Object(s.a)(E.i),C=Object(s.a)(E.h),h=t=>async(e,n)=>{await e(C(t)),e(Object(c.e)({kind:d.b.Error,duration:c.a,text:t}))},P=Object(s.a)(E.j),y=t=>{let{award:e,subredditId:n}=t;return async(t,s)=>{const i=s();t(P({award:e,subredditId:n})),Object(u.a)(i)===p.a&&t(Object(a.i)(p.a));const o=r.fbt._("Community award successfully created!",null,{hk:"3UvmDa"});t(Object(c.e)({kind:d.b.SuccessCommunity,text:o}))}},D=t=>async(e,n,r)=>{let{gqlContext:s}=r;const i=n(),a=!!i.awards.manageable.order[t];if(Object(l.b)(i,{subredditOrProfileId:t})||a)return;e(N({subredditOrProfileId:t}));const c=Object(o.a)(t),d=!!Object(f.ab)(i,{subredditIds:[t]})[0];let u;if(c)u=Object(_.j)(s());else if(d)u=Object(_.k)(s(),t);else{const e=Object(O.p)(i,{profileId:t}).name;u=Object(_.l)(s(),e)}try{const n=await u;if(!n.ok){const t=S();return void(await e(U(t)))}let r=[];if(c)r=n.body.data.globalAwards;else{const s=d?n.body.data.subreddit:n.body.data.profileByName;r=s.manageableAwards||[],e(w({awards:s.optionalAwards||[],subredditOrProfileId:t})),e(k({subredditOrProfileId:t,disabled:!s.isAwardCreationAllowed}))}await e(R({awards:r,subredditOrProfileId:t}))}catch(b){const t=S();e(U(t))}},N=Object(s.a)(E.K),R=Object(s.a)(E.J),w=Object(s.a)(E.O),L=Object(s.a)(E.I),U=t=>async(e,n)=>{await e(L(t)),e(Object(c.e)({kind:d.b.Error,duration:c.a,text:t}))},k=Object(s.a)(E.e),x=t=>t.map(t=>{let{tag:e,content:n}=t;return{tag:e,content:{richtext:JSON.parse(n.richtext),markdown:n.markdown}}}),F=(t,e,n,r)=>async(s,o,a)=>{let{gqlContext:c}=a;const d=o(),u=d.awards.sortedUsable.order[t];if(!(!!u&&!!u[e])||r){s(M({subredditOrProfileId:t,thingId:e}));try{const r=n||((t,e)=>{let{thingId:n,subredditId:r}=e;var s;const i=Object(O.p)(t,{profileId:r});if(i)return i.name;const o=Object(b.O)(t,{postId:n});return"profile"===(null===(s=null==o?void 0:o.belongsTo)||void 0===s?void 0:s.type)?o.author:null})(d,{thingId:e,subredditId:t});if(r){const n=await Object(_.g)(c(),r,e);if(n.ok){const r=n.body,i=x(r.data.profileByName.awardingTray.sortedUsableTags);await s(G({awards:r.data.profileByName.sortedUsableAwards,tags:i,subredditOrProfileId:t,thingId:e}))}else await s(v({subredditOrProfileId:t,thingId:e}))}else{const n=await Object(_.f)(c(),t,e);if(n.ok){const r=n.body,i=x(r.data.subredditInfoById.awardingTray.sortedUsableTags);await s(G({awards:r.data.subredditInfoById.sortedUsableAwards,tags:i,subredditOrProfileId:t,thingId:e}))}else await s(v({subredditOrProfileId:t,thingId:e}))}}catch(l){i.c.captureException(l),await s(v({subredditOrProfileId:t,thingId:e}))}}},M=Object(s.a)(E.d),v=Object(s.a)(E.b),G=Object(s.a)(E.c),B=(t,e)=>async(n,s,o)=>{let{gqlContext:a}=o;n(Y());try{if((await Object(_.m)(a(),e)).error){const t=I();await n(V(t))}else{await n(q({awardId:e,subredditId:t}));const i=Object(l.a)(s(),e);if(!i)return;const o=r.fbt._("{award name} Award successfully deleted!",[r.fbt._param("award name",i.name)],{hk:"3ZQs5u"});n(Object(c.e)({kind:d.b.SuccessCommunity,duration:c.a,text:o}))}}catch(u){i.c.captureException(u);const t=I();await n(V(t))}},Y=Object(s.a)(E.eb),q=Object(s.a)(E.fb),H=Object(s.a)(E.db),V=t=>async(e,n)=>{await e(H(t)),e(Object(c.e)({kind:d.b.Error,duration:c.a,text:t}))},W=(t,e)=>async(n,s,o)=>{let{gqlContext:a}=o;n(z());let u=r.fbt._("There was a problem disabling the {award name} Award. Please try again.",[r.fbt._param("award name",e.name)],{hk:"3KNLaD"}),l=K(u),b=d.b.Error;try{(await Object(_.h)(a(),e.id,t.id)).ok&&(l=J({awardId:e.id,subredditId:t.id}),u=r.fbt._("{award name} Award successfully disabled in {subreddit or profile prefixed name}!",[r.fbt._param("award name",e.name),r.fbt._param("subreddit or profile prefixed name",t.displayText)],{hk:"26i191"}),b=d.b.SuccessCommunity)}catch(O){i.c.captureException(O)}finally{await n(l),await n(Object(c.e)({text:u,duration:c.a,kind:b}))}},z=Object(s.a)(E.l),J=Object(s.a)(E.m),K=Object(s.a)(E.k),X=(t,e)=>async(n,s,o)=>{let{gqlContext:a}=o;n(Q());let u=r.fbt._("There was a problem enabling the {award name} Award. Please try again.",[r.fbt._param("award name",e.name)],{hk:"2jdxBY"}),l=$(u),b=d.b.Error;try{(await Object(_.i)(a(),e.id,t.id)).ok&&(l=Z({awardId:e.id,subredditId:t.id}),u=r.fbt._("{award name} Award successfully enabled in {subreddit name}!",[r.fbt._param("award name",e.name),r.fbt._param("subreddit name","r/"+t.name)],{hk:"zGXlU"}),b=d.b.SuccessCommunity)}catch(O){i.c.captureException(O)}finally{await n(l),await n(Object(c.e)({text:u,duration:c.a,kind:b}))}},Q=Object(s.a)(E.o),Z=Object(s.a)(E.p),$=Object(s.a)(E.n)},"./src/reddit/actions/googleQASchema/constants.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));const r="GOOGLE_QA_SCHEMA_ELIGIBILITY_FLAG__LOADED",s="GOOGLE_QA_SCHEMA_ELIGIBILITY_FLAG__FAILED"},"./src/reddit/actions/imageOCRAltText/constants.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));const r="IMAGE_OCR_ALT_TEXT__LOADED",s="IMAGE_OCR_ALT_TEXT__FAILED"},"./src/reddit/actions/jsApi.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="JSAPI__CONSUMER_SUBSCRIBED",i=Object(r.a)(s)},"./src/reddit/actions/linkedPosts/constants.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));const r="LINKED_POSTS__POSTS_LOADED",s="LINKED_POSTS__POSTS_FAILED"},"./src/reddit/actions/pinnedPost.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"h",(function(){return f})),n.d(e,"d",(function(){return _})),n.d(e,"g",(function(){return p})),n.d(e,"c",(function(){return S})),n.d(e,"f",(function(){return I})),n.d(e,"b",(function(){return g})),n.d(e,"e",(function(){return A})),n.d(e,"i",(function(){return w}));var r=n("./node_modules/fbt/lib/FbtPublic.js"),s=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/constants/modals.ts"),d=n("./src/reddit/endpoints/post/index.tsx"),u=n("./src/reddit/models/Toast/index.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/profile.ts");const O="PINNEDPOST__PINNED_POSTS_LOADED",f=Object(i.a)(O),_="PINNEDPOST__PIN_POST_SUCCESS",p="PINNEDPOST__UNPIN_POST_SUCCESS",E=Object(i.a)(_),m=Object(i.a)(p),S="PINNEDPOST__PIN_POST_PENDING",I="PINNEDPOST__UNPIN_POST_PENDING",T=Object(i.a)(S),j=Object(i.a)(I),g="PINNEDPOST__PIN_POST_FAILURE",A="PINNEDPOST__UNPIN_POST_FAILURE",C=Object(i.a)(g),h=Object(i.a)(A),P=t=>Object(a.e)({buttonAction:w(t,!0),buttonText:r.fbt._("UNDO",null,{hk:"1O9LWh"}),kind:u.b.SuccessMod,text:r.fbt._("Post pinned to profile!",null,{hk:"1hbHLt"})}),y=(t,e)=>Object(a.e)({buttonAction:w(t,!0),buttonText:r.fbt._("UNDO",null,{hk:"3YtcK2"}),kind:u.b.SuccessMod,text:e?r.fbt._("Post unpinned, reload to see changes",null,{hk:"5FF1g"}):r.fbt._("Post unpinned.",null,{hk:"2BgT0h"})}),D=()=>Object(a.e)({kind:u.b.Error,text:r.fbt._("Could not pin post",null,{hk:"3uNHEh"})}),N=()=>Object(a.e)({kind:u.b.Error,text:r.fbt._("You can't pin a removed post",null,{hk:"3bdn2y"})}),R=()=>Object(a.e)({kind:u.b.Error,text:r.fbt._("Could not unpin post",null,{hk:"o8HG0"})}),w=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,i)=>{let{apiContext:a}=i;const u=r(),O=u.posts.models[t];if(!O)return;const f=!Object(l.w)(u,{postId:t});if(f&&O.isRemoved)return n(N());const _=O.author,p=Object(b.m)(u,_),[S,I,g,A,w]=f?[T,E,C,P,D]:[j,m,h,y,R];if(f){if(Object(l.W)(u,{profileName:_}).length>=s.W)return void n(Object(o.i)(c.a.PINNED_POSTS_LIMIT_REACHED))}const L=Object(l.q)(u,t,_),U=!f&&L;n(S({postId:t,profileId:p})),(await Object(d.t)(a(),t,f,!0)).ok?(n(I({postId:t,profileId:p})),e||n(A(t,U))):(n(g({postId:t,profileId:p})),n(w()))}}},"./src/reddit/actions/postCollection/constants.ts":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"t",(function(){return d})),n.d(e,"e",(function(){return u})),n.d(e,"r",(function(){return l})),n.d(e,"s",(function(){return b})),n.d(e,"n",(function(){return O})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return _})),n.d(e,"k",(function(){return p})),n.d(e,"i",(function(){return E})),n.d(e,"j",(function(){return m})),n.d(e,"h",(function(){return S})),n.d(e,"p",(function(){return I})),n.d(e,"q",(function(){return T})),n.d(e,"o",(function(){return j}));const r="CREATE_COLLECTION_PENDING",s="CREATE_COLLECTION_SUCCESS",i="CREATE_COLLECTION_FAILED",o="GET_SUBREDDIT_COLLECTION_SUCCESS",a="REMOVE_POST_FROM_COLLECTION_SUCCESS",c="ADD_POST_TO_COLLECTION_SUCCESS",d="UPDATE_POST_WITH_COLLECTION_ID",u="DELETE_COLLECTION_SUCCESS",l="UPDATE_COLLECTION_PENDING",b="UPDATE_COLLECTION_SUCCESS",O="UPDATE_COLLECTION_FAILED",f="UPDATE_COLLECTION_DESCRIPTION_PENDING",_="UPDATE_COLLECTION_DESCRIPTION_SUCCESS",p="UPDATE_COLLECTION_DESCRIPTION_FAILED",E="REORDER_COLLECTION_PENDING",m="REORDER_COLLECTION_SUCCESS",S="REORDER_COLLECTION_FAILED",I="UPDATE_COLLECTION_LAYOUT_PENDING",T="UPDATE_COLLECTION_LAYOUT_SUCCESS",j="UPDATE_COLLECTION_LAYOUT_FAILED"},"./src/reddit/actions/postCreation/constants.ts":function(t,e,n){"use strict";n.d(e,"H",(function(){return r})),n.d(e,"I",(function(){return s})),n.d(e,"l",(function(){return i})),n.d(e,"m",(function(){return o})),n.d(e,"y",(function(){return a})),n.d(e,"E",(function(){return c})),n.d(e,"F",(function(){return d})),n.d(e,"k",(function(){return u})),n.d(e,"D",(function(){return l})),n.d(e,"p",(function(){return b})),n.d(e,"N",(function(){return O})),n.d(e,"n",(function(){return f})),n.d(e,"A",(function(){return _})),n.d(e,"s",(function(){return p})),n.d(e,"c",(function(){return E})),n.d(e,"b",(function(){return m})),n.d(e,"d",(function(){return S})),n.d(e,"e",(function(){return I})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return j})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return A})),n.d(e,"j",(function(){return C})),n.d(e,"q",(function(){return h})),n.d(e,"P",(function(){return P})),n.d(e,"O",(function(){return y})),n.d(e,"Q",(function(){return D})),n.d(e,"R",(function(){return N})),n.d(e,"S",(function(){return R})),n.d(e,"T",(function(){return w})),n.d(e,"U",(function(){return L})),n.d(e,"V",(function(){return U})),n.d(e,"W",(function(){return k})),n.d(e,"r",(function(){return x})),n.d(e,"B",(function(){return F})),n.d(e,"w",(function(){return M})),n.d(e,"u",(function(){return v})),n.d(e,"v",(function(){return G})),n.d(e,"t",(function(){return B})),n.d(e,"x",(function(){return Y})),n.d(e,"M",(function(){return q})),n.d(e,"o",(function(){return H})),n.d(e,"z",(function(){return V})),n.d(e,"Y",(function(){return W})),n.d(e,"G",(function(){return z})),n.d(e,"a",(function(){return J})),n.d(e,"C",(function(){return K})),n.d(e,"K",(function(){return X})),n.d(e,"L",(function(){return Q})),n.d(e,"J",(function(){return Z})),n.d(e,"X",(function(){return $}));const r="SUBMIT_VALIDATION_FIELD_HAS_ERROR",s="SUBMIT_VALIDATION_FIELD_IS_VALID",i="POST_CREATION_EDIT_COMPLETE",o="POST_CREATION_EDIT_FAILED",a="POST_CREATION_PENDING_EDIT",c="POST_CREATION_START_EDITING_POST",d="POST_CREATION_STOP_EDITING_POST",u="EDITOR_CONTENT_KEY__NEW_DRAFT",l="STARTED_CONVERTING_EDITOR_CONTENT",b="FINISHED_CONVERTING_EDITOR_CONTENT",O="POST_CREATION__TOGGLE_EDITOR_MODE",f="POST_CREATION__ERRORS_NO_LONGER_VALID",_="POST_TITLE_FETCHED",p="INITIALIZE_EDITOR_MODE",E="POST_CREATION__CHANGE_FLAIR",m="POST_CREATION__CHANGE_EVENT_SCHEDULE",S="POST_CREATION__CHANGE_LINK_BODY",I="POST_CREATION__CHANGE_MARKDOWN_BODY",T="POST_CREATION__CHANGE_MEDIA_BODY",j="POST_CREATION__CHANGE_RECAPTCHA",g="POST_CREATION__CHANGE_RTE_STATE",A="POST_CREATION__CHANGE_SUBMISSION_TYPE",C="POST_CREATION__CHANGE_TITLE",h="POST_CREATION__GOV_TYPE_CHANGED",P="POST_CREATION__TOGGLE_IS_CHAT_POST",y="POST_CREATION__TOGGLE_IS_CHANGED",D="POST_CREATION__TOGGLE_IS_GOV",N="POST_CREATION__TOGGLE_IS_NSFW",R="POST_CREATION__TOGGLE_IS_OC",w="POST_CREATION__TOGGLE_IS_POLL",L="POST_CREATION__TOGGLE_IS_SPOILER",U="POST_CREATION__TOGGLE_POST_TO_TWITTER",k="POST_CREATION__TOGGLE_SEND_REPLIES",x="POST_CREATION__INITIALIZE_CROSSPOST_MODE",F="POST_CREATION__RESET_FORM",M="POST_CREATION__MODAL_TOGGLED",v="POST_CREATION__MEDIA_UPLOAD_PENDING",G="POST_CREATION__MEDIA_UPLOAD_SUCCEEDED",B="POST_CREATION__MEDIA_UPLOAD_FAILED",Y="POST_CREATION__PENDING",q="POST_CREATION__SUCCEEDED",H="POST_CREATION__FAILED",V="POST_CREATION__POLL_FAILED",W="POST_CREATION__VALIDATION_FAILED",z="POST_CREATION__SUBMIT_VALIDATION_FAILED",J="POST_CREATION__CAPTCHA_REQUIRED",K="POST_CREATION__SET_SUBMIT_MODE",X="POST_CREATION__SUBREDDIT_CHANGE_PENDING",Q="POST_CREATION__SUBREDDIT_WILL_CHANGE",Z="POST_CREATION__SUBREDDIT_CHANGE_CANCELED",$="POST_CREATION__UPDATE_SCHEDULED_POST_ADVANCED_SETTINGS"},"./src/reddit/actions/postCreation/general.ts":function(t,e,n){"use strict";n.d(e,"i",(function(){return f})),n.d(e,"n",(function(){return p})),n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return T})),n.d(e,"f",(function(){return j})),n.d(e,"e",(function(){return g})),n.d(e,"g",(function(){return A})),n.d(e,"h",(function(){return C})),n.d(e,"j",(function(){return h})),n.d(e,"s",(function(){return P})),n.d(e,"r",(function(){return y})),n.d(e,"t",(function(){return D})),n.d(e,"u",(function(){return N})),n.d(e,"v",(function(){return R})),n.d(e,"w",(function(){return w})),n.d(e,"y",(function(){return L})),n.d(e,"z",(function(){return U})),n.d(e,"A",(function(){return k})),n.d(e,"k",(function(){return x})),n.d(e,"q",(function(){return F})),n.d(e,"p",(function(){return v})),n.d(e,"l",(function(){return G})),n.d(e,"x",(function(){return B})),n.d(e,"o",(function(){return Y})),n.d(e,"m",(function(){return q}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/isUrl/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/contexts/PageLayer/index.tsx"),c=n("./src/reddit/endpoints/post/index.tsx"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/routes/postCreation/constants.ts"),l=n("./src/reddit/selectors/postCollection.ts"),b=n("./src/reddit/selectors/postCreations.ts"),O=n("./src/reddit/actions/postCreation/constants.ts");const f=Object(i.a)(O.n),_=Object(i.a)(O.A),p=(Object(i.a)(O.s),t=>{switch(t){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),E=Object(i.a)(O.b),m=Object(i.a)(O.c),S=Object(i.a)(O.d),I=Object(i.a)(O.e),T=Object(i.a)(O.f),j=Object(i.a)(O.g),g=Object(i.a)(O.h),A=Object(i.a)(O.i),C=Object(i.a)(O.j),h=Object(i.a)(O.q),P=Object(i.a)(O.P),y=Object(i.a)(O.O),D=(Object(i.a)(O.Q),Object(i.a)(O.R)),N=Object(i.a)(O.S),R=Object(i.a)(O.T),w=Object(i.a)(O.U),L=Object(i.a)(O.V),U=Object(i.a)(O.W),k=Object(i.a)(O.X),x=Object(i.a)(O.r),F=t=>async(e,n,r)=>{let{apiContext:i}=r;e(S(t)),Object(s.a)(t)&&e((t=>async(e,n,r)=>{let{apiContext:s}=r;const i=await Object(c.f)(s(),t);i.ok&&i.body&&i.body.json&&i.body.json.data&&e(_(i.body.json.data))})(t))},M=Object(i.a)(O.B),v=(t,e)=>async(n,s)=>{n(M()),n(t?Object(r.b)(u.b):Object(r.b)(Object(b.W)(s(),{pageLayer:e})))},G=Object(i.a)(o.c),B=t=>async e=>{t?t===d.d?e(G(t)):e(o.i(t)):(e(G(t)),e(o.i(t)))},Y=t=>async(e,n)=>{const r=n(),s=Object(a.D)(t),i=Object(b.B)(r);if(s&&i){Object(b.R)(r)!==d.c&&e(B(d.c))}else e(v(!1,t))},q=t=>async(e,n)=>{const r=n();Object(l.n)(r,{subredditId:t})?e(o.i(d.a)):e(o.i(d.b))}},"./src/reddit/actions/postFlair.ts":function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"f",(function(){return j})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return N})),n.d(e,"d",(function(){return R})),n.d(e,"l",(function(){return k})),n.d(e,"k",(function(){return x})),n.d(e,"j",(function(){return F})),n.d(e,"g",(function(){return M})),n.d(e,"i",(function(){return v})),n.d(e,"h",(function(){return G}));var r=n("./node_modules/fbt/lib/FbtPublic.js"),s=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/post.ts"),o=n("./src/reddit/actions/postFlairStyleTemplate.ts"),a=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/endpoints/flair/index.ts"),d=n("./src/reddit/helpers/flair.ts"),u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/postFlair.ts"),O=n("./src/reddit/selectors/subreddit.ts");const f="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",_=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),p=Object(s.a)(f),E=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),m="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",S=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),I=Object(s.a)(m),T=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),j="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",g=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),A=Object(s.a)(j),C=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),h="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",P=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),y=Object(s.a)(h),D=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),N="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",R="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",w=Object(s.a)(N),L=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),U=Object(s.a)(R),k=(t,e)=>async(n,r,s)=>{let{apiContext:i}=s;const o=r(),a=Object(O.S)(o,{subredditId:t}).name;n(_());const d=await Object(c.k)(i(),a,e);if(d.ok){n(p({subredditId:t,isEnabled:e}))}else n(E());return d.ok},x=(t,e)=>async(n,r,s)=>{let{apiContext:i}=s;const o=r(),a=Object(O.S)(o,{subredditId:t}).name;n(S());const d=await Object(c.j)(i(),e,u.d.LinkFlair,a);if(d.ok){n(I({subredditId:t,canAssignOwn:e}))}else n(T());return d.ok},F=(t,e)=>async(n,s,i)=>{let{apiContext:d}=i;const b=s(),f=Object(O.S)(b,{subredditId:e}).name;n(g());const _=await Object(c.f)(d(),t,f,u.d.LinkFlair);let p=_.ok&&!(_.body&&!1===_.body.success);if(p){const r=_.body;if(n(A({subredditId:e,template:r})),r.id){const s=t.styleTemplate,i=b.structuredStyles.flairTemplate.models[r.id];s?p=await n(Object(o.d)(e,r.id,s)):i&&(p=await n(Object(o.c)(e,r.id)))}}if(p){const t=Object(a.d)(r.fbt._("Flair saved!",null,{hk:"3MQuUt"}),l.b.SuccessMod);n(Object(a.e)(t))}else{n(C());const s=Object(a.d)(r.fbt._("Sorry, flair wasn't saved.",null,{hk:"1yf1Ne"}),l.b.Error,r.fbt._("Retry",null,{hk:"1XMjgA"}),F(t,e));n(Object(a.e)(s))}return p},M=(t,e)=>async(n,s,i)=>{let{apiContext:o}=i;const d=s(),u=Object(O.S)(d,{subredditId:e}).name;if(n(P()),(await Object(c.b)(o(),t,u)).ok){n(y({subredditId:e,templateId:t}));const s=Object(a.d)(r.fbt._("Flair deleted!",null,{hk:"44T1il"}),l.b.SuccessMod);n(Object(a.e)(s))}else{n(D());const s=Object(a.d)(r.fbt._("Sorry, flair wasn't deleted.",null,{hk:"1nwT0G"}),l.b.Error,r.fbt._("Retry",null,{hk:"1XMjgA"}),M(t,e));n(Object(a.e)(s))}},v=(t,e)=>async(n,s,i)=>{let{apiContext:o}=i;const d=s(),f=Object(b.d)(d,{subredditId:e}).templateIds,_=Object(O.S)(d,{subredditId:e}).name;if(n(w({subredditId:e,templateIds:t})),(await Object(c.e)(o(),_,u.d.LinkFlair,t)).ok){n(L());const t=Object(a.d)(r.fbt._("Flair reorder saved.",null,{hk:"1Xbuan"}),l.b.SuccessMod);n(Object(a.e)(t))}else{n(U({subredditId:e,templateIds:f}));const s=Object(a.d)(r.fbt._("Sorry. Flair reorder wasn't saved.",null,{hk:"4ohwNd"}),l.b.Error,r.fbt._("Retry",null,{hk:"1XMjgA"}),v(t,e));n(Object(a.e)(s))}},G=t=>{let{post:e,previewFlair:n,selectedTemplateId:r}=t;return async(t,s,o)=>{let{apiContext:a}=o;const u=e.flair.filter(t=>!Object(d.p)(t.type));if(n&&u.unshift(n),t(Object(i.L)({[e.id]:{flair:u}})),n){const t=Object(d.g)(n);Object(c.h)(a(),e.id,r,t)}else Object(c.h)(a(),e.id,"","")}}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return A})),n.d(e,"a",(function(){return C})),n.d(e,"c",(function(){return P}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),i=n("./node_modules/lodash/isEqual.js"),o=n.n(i),a=n("./node_modules/lodash/values.js"),c=n.n(a),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/imageUploads.ts"),l=n("./src/reddit/helpers/media/index.ts"),b=n("./src/lib/constants/index.ts"),O=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),_=n("./src/reddit/constants/headers.ts");var p=n("./src/reddit/helpers/trackers/blade.ts"),E=n("./src/reddit/models/Image/index.tsx"),m=n("./src/reddit/selectors/subreddit.ts"),S=n("./src/telemetry/index.ts"),I=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n};const T=t=>{let{subredditId:e,flairId:n,imageKey:r,imageData:s}=t;return async(t,i,o)=>{const a=i(),c=Object(m.S)(a,{subredditId:e});if(!c)return!1;t(Object(u.k)(s));const d=await(async(t,e,n,r,s,i)=>Object(O.a)(Object(f.a)(t,[_.a]),{endpoint:"".concat(t.apiUrl,"/api/v1/").concat(e,"/flair_style_asset_upload_s3/").concat(n),method:b.eb.POST,data:{filepath:r,imagetype:s,mimetype:i}}))(o.apiContext(),c.name,n,s.file.name,r,await Object(l.g)(s.file));let p=!1;try{const e=await Object(u.g)(i(),d,s,E.a.FlairTemplates);e&&t(Object(u.j)(e)),p=!0}catch(S){if(S instanceof Error)throw S;t(Object(u.i)(S))}return p}},j="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",g=Object(d.a)(j),A=(t,e,n)=>async(r,i,a)=>{const{apiContext:d}=a;let l=i();const{pendingImages:j}=n;let A=I(n,["pendingImages"]);const C=Object(m.S)(l,{subredditId:t});if(!C)return!1;const h=l.structuredStyles.flairTemplate.models[e];if(h&&o()(h,A))return!0;if(j){const n=[];if(s()(j,(s,i)=>{s&&n.push(r(T({flairId:e,imageData:Object(E.m)(s),imageKey:i,subredditId:t})))}),!(await Promise.all(n)).every(t=>t))return!1;A=((t,e,n)=>{const r=Object.assign({},t);return s()(e,(t,e)=>{const s=t&&n.imageUploads[t.id];s&&s.kind===E.b.TempUploaded&&(r[e]=s.url)}),r})(A,j,i())}l=i();let P=null,y=null;const D=[];try{(P=await Object(u.f)(l,E.a.FlairTemplates))&&(y=Object(u.m)(P)(r,i,a),D.push(...c()(P.imagesByKey)))}catch(L){return!1}const N=await(async(t,e,n,r)=>Object(O.a)(Object(f.a)(t,[_.a]),{endpoint:"".concat(t.apiUrl,"/api/v1/").concat(e,"/flair_styles/").concat(n),method:b.eb.PUT,data:r}))(d(),C.name,e,A),R=h?"edit_post_flair_template":"save_post_flair_template",w=Object(p.e)(l,R);if(N.ok){let t;if(y)try{await y,t=((t,e,n)=>{const r=Object.assign({},t);return e.forEach(t=>{const e=n.imageUploads[t.id];e&&e.kind===E.b.Uploaded&&(t.url===r.postBackgroundImage?r.postBackgroundImage=e.url:t.url===r.postPlaceholderImage&&(r.postPlaceholderImage=e.url))}),r})(A,D,i())}catch(L){t=null}else t=A;r(g({flairId:e,template:t||A}))}else P&&P.websocket.close();return Object(S.a)(Object.assign(Object.assign({},w),{actionInfo:Object.assign(Object.assign({},w.actionInfo),{success:N.ok})})),N.ok},C="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",h=Object(d.a)(C),P=(t,e)=>async(n,r,s)=>{let{apiContext:i}=s;const o=r(),a=Object(m.S)(o,{subredditId:t});if(!a)return!1;const c=await(async(t,e,n)=>Object(O.a)(Object(f.a)(t,[_.a]),{endpoint:"".concat(t.apiUrl,"/api/v1/").concat(e,"/flair_styles/").concat(n),method:b.eb.DELETE}))(i(),a.name,e),d=Object(p.e)(o,"delete_flair_template");return c.ok&&n(h({flairId:e})),Object(S.a)(Object.assign(Object.assign({},d),{actionInfo:Object.assign(Object.assign({},d.actionInfo),{success:c.ok})})),c.ok}},"./src/reddit/actions/subreddit/subredditPosts.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return q})),n.d(e,"a",(function(){return H}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeLinkedPostsListingKey/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),a=n("./src/reddit/actions/googleQASchema/constants.ts");const c=Object(s.a)(a.b),d=Object(s.a)(a.a);var u=n("./src/reddit/actions/linkedPosts/constants.ts");const l=Object(s.a)(u.b),b=Object(s.a)(u.a);var O=n("./src/reddit/actions/otherDiscussions/constants.ts"),f=n("./src/lib/makeGqlRequest/index.ts"),_=(n("./src/graphql/operations/OtherDiscussions.json"),n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts")),p=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),E=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),m=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),S=n("./src/reddit/models/Post/index.ts");var I=t=>{let{getState:e,onFailure:n,onSuccess:r,postId:s,response:i}=t;if(!i.ok)return void n(i.error);const a=i.body,{post:c}=a&&a.data,d=e(),u=Object(o.a)(s,null,{isOtherDiscussions:!0});if(c){if(c.otherDiscussions&&c.otherDiscussionsCount){const{otherDiscussions:t,otherDiscussionsCount:e}=c,{postFlair:n,postIds:i,posts:o,profiles:a,subreddits:l}=(t=>{const e={postFlair:{},postIds:[],posts:{},profiles:{},subreddits:{}},n=t=>{const n=Object(p.e)(t);e.posts[n.id]=n;const{crosspostRoot:r}=t;if(r&&r.type===S.a.Post&&r.postInfo){const t=Object(p.e)(r.postInfo);e.posts[t.id]=t}return Object(S.k)(t)?e.profiles[t.profile.id]||(e.profiles[t.profile.id]=Object(E.a)(t.profile)):Object(S.l)(t)&&(e.subreddits[t.subreddit.id]||(e.subreddits[t.subreddit.id]=Object(m.a)(t.subreddit)),e.postFlair[t.subreddit.id]||(e.postFlair[t.subreddit.id]=Object(_.a)(t.subreddit))),n.id};if(t&&t.edges)for(const{node:r}of t.edges){const t=n(r);t&&e.postIds.push(t)}return e})(t);r({count:e,key:u,meta:d.meta,postFlair:n,postId:s,postIds:i,posts:o,profiles:a,subreddits:l})}}else r({count:0,key:u,meta:d.meta,postFlair:{},postId:s,postIds:[],posts:{},profiles:{},subreddits:{}})};const T=Object(s.a)(O.a),j=Object(s.a)(O.b),g=Object(s.a)(O.c);var A=n("./src/reddit/actions/subreddit/constants.ts"),C=n("./src/graphql/operations/PostFeedAndOtherDiscussions.json"),h=(n("./src/graphql/operations/SubredditPosts.json"),n("./src/graphql/operations/SubredditsPosts.json"));var P=t=>{let{getState:e,onSuccess:n,onFailure:r,postId:s,post:i}=t;try{n({altText:i&&i.media&&(i.media.still&&i.media.still.altText||i.media.obfuscated&&i.media.obfuscated.altText)||null,postId:s})}catch(o){r(o)}};var y=t=>{let{getState:e,onSuccess:n,onFailure:r,postId:s,post:o}=t;try{const t=[],r={},a={};if(!o||!o.linked)return;const c=e(),d=c.posts&&c.posts.models,u=Object(i.a)(s),l=o.linked.posts&&o.linked.posts.edges||[];for(const{node:e}of l){if(!e)break;if(e.id&&!d.hasOwnProperty(e.id)){t.push(e.id);const n=Object(p.a)(e);r[e.id]=n.post,n.crosspost&&(r[n.crosspost.id]=n.crosspost)}if(Object(S.l)(e)){const{subreddit:t}=e;a[t.id]=Object(m.a)(t)}}n({dist:o.linked.posts&&o.linked.posts.dist||null,key:u,meta:c.meta,posts:r,postIds:t,subreddits:a})}catch(a){r(a)}},D=n("./src/reddit/helpers/graphql/normalizePostsFromGql/index.ts");var N=t=>t.reduce((t,e)=>(t[e.id]=e,t),{});var R=t=>{let{getState:e,onSuccess:n,onFailure:s,options:i,subreddit:a}=t;try{if(!a)return;const{posts:t}=a,s=e(),c=((t,e)=>{const{edges:n}=t,r=n.filter(t=>(t=>!t.node.crosspostRoot)(t)&&((t,e)=>!e.hasOwnProperty(t.node.id))(t,e));return Object.assign(Object.assign({},t),{edges:r})})(t,s.posts&&s.posts.models);if(!c.edges.length)return;const d=Object(D.a)(c),{range:u,sort:l,subredditName:b}=i,O=Object(o.a)(b,r.P[l],{t:u}),f=N(d),_=d.map(t=>t.id);n({dist:t.dist,key:O,meta:s.meta,postIds:_,posts:f})}catch(c){s(c)}},w=n("./src/reddit/models/Media/index.ts"),L=n("./src/reddit/selectors/posts.ts"),U=n("./src/reddit/selectors/experiments/econ/predictions.ts"),k=n("./src/reddit/actions/imageOCRAltText/constants.ts");const x=Object(s.a)(k.b),F=Object(s.a)(k.a);var M=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n};const v=Object(s.a)(A.k),G=Object(s.a)(A.j),B=Object(s.a)(A.s),Y=Object(s.a)(A.r),q=t=>async(e,n,r)=>{let{gqlContext:s}=r;const i=(await((t,e)=>Object(f.a)(t,Object.assign(Object.assign({},h),{variables:e})))(s(),t)).body,{subredditNames:o}=t,a=M(t,["subredditNames"]),c=[];try{for(const t of i.data.subredditsInfoByNames){const e=t.posts.edges[0];e&&Object(S.l)(e.node)&&R({getState:n,onFailure:t=>{throw t},onSuccess:t=>c.push(t),options:Object.assign(Object.assign({},a),{subredditName:e.node.subreddit.name}),subreddit:t})}e(B(c))}catch(d){e(Y(d))}},H=t=>async(e,n,s)=>{let{gqlContext:a}=s;var u;const{includePostImageOCRAltText:O,includeListingBelowExperiment:_,includeOtherDiscussions:p,includePostFeed:E,includePostQASchemaEligibilityFlag:m,postId:S,range:A,sort:h,subredditName:D}=t,N=Object(o.a)(S,null,{isOtherDiscussions:!0}),k=n(),M=Object(L.H)(k,{listingKey:N,predictionsEnabled:Object(U.c)(k)}),B=p&&(!M||0===M.length),Y=Object(o.a)(D,r.P[h],{t:A}),q=Object(L.H)(k,{listingKey:Y,predictionsEnabled:Object(U.c)(k)}),H=E&&(!q||0===q.length),V=Object(i.a)(S),W=Object(L.H)(k,{listingKey:V,predictionsEnabled:Object(U.c)(k)}),z=_&&(!W||0===W.length),J=Object(L.O)(k,{postId:S}),K=O&&!!J&&!!J.media&&(Object(w.J)(J.media)||Object(w.H)(J.media))&&!J.media.altText;if(!(B||H||z||K||m))return;B&&e(g({key:N}));const X=await((t,e)=>Object(f.a)(t,Object.assign(Object.assign({},C),{variables:e})))(a(),t),Q=X.body;m&&(X.ok?Q.data&&Q.data.post&&e(c({postId:S,isEligibleForQASchema:null!==(u=Q.data.post.isEligibleForQASchema)&&void 0!==u&&u})):e(d())),B&&I({getState:n,onFailure:t=>e(T(t)),onSuccess:t=>e(j(t)),postId:S,response:X}),H&&(X.ok?Q.data&&R({getState:n,onFailure:t=>e(G(t)),onSuccess:t=>e(v(t)),options:t,subreddit:Q.data.subreddit}):e(G(X.error))),z&&X.ok&&y({getState:n,onFailure:t=>e(b(t)),onSuccess:t=>e(l(t)),postId:S,post:Q.data.post}),K&&X.ok&&P({getState:n,onFailure:t=>e(F(t)),onSuccess:t=>e(x(t)),postId:S,post:Q.data.post})}},"./src/reddit/actions/subscription/constants.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return l}));const r="SUBSCRIPTION__FETCH_DATA_PENDING",s="SUBSCRIPTION__FETCH_DATA_SUCCESS",i="SUBSCRIPTION__FETCH_DATA_FAILURE",o="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",a="SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED",c="SUBSCRIPTION__ORDER_LOADED",d="SUBSCRIPTION__SUBREDDIT_FAVORITE_TOGGLED",u="SUBSCRIPTION__MULTI_FAVORITE_TOGGLED",l="SUBSCRIPTION__MULTI_FOLLOW_TOGGLED"},"./src/reddit/actions/subscription/index.ts":function(t,e,n){"use strict";n.d(e,"e",(function(){return L})),n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return F})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return B}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/fbt/lib/FbtPublic.js"),s=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/linkMatchers/customLinks.ts"),a=n("./src/reddit/actions/login.ts"),c=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/subscription/constants.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/posts.ts"),b=n("./src/lib/makeApiRequest/index.ts"),O=n("./src/lib/omitHeaders/index.ts"),f=n("./src/reddit/constants/headers.ts");var _=n("./src/graphql/operations/SubscribedSubreddits.json"),p=n("./src/lib/makeGqlRequest/index.ts"),E=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var m=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),S=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),I=n("./src/reddit/models/GqlTopLevelField.ts"),T=n("./src/reddit/models/User/index.ts");function j(t){const e=[],n=[],r={},s={},{followedRedditorsInfo:i}=t.identity;for(const a of i.edges){if(a.node.__typename!==T.c.AvailableRedditor)continue;const t=Object(m.a)(a.node.profile);r[t.id]=t;const{isFavorite:n}=a.node.profile;n&&e.push(t.id)}const{subscribedSubreddits:o}=t.identity;for(const a of o.edges){if(a.node.__typename!==I.a.Subreddit)continue;const t=Object(S.a)(a.node);s[t.id]=t;const{isFavorite:e}=a.node;e&&n.push(t.id)}return{favoriteProfileIds:e,favoriteSubredditIds:n,profiles:r,subreddits:s}}var g=n("./src/reddit/models/Toast/index.ts"),A=n("./src/reddit/selectors/profile.ts"),C=n("./src/reddit/selectors/subreddit.ts"),h=n("./src/reddit/selectors/subscriptions.ts"),P=n("./src/reddit/selectors/user.ts");const y=()=>r.fbt._("Sorry, failed to update favorites.",null,{hk:"40XHkp"}),D=Object(i.a)(d.c),N=Object(i.a)(d.b),R=Object(i.a)(d.a),w=Object(i.a)(d.h),L=(Object(i.a)(d.i),Object(i.a)(d.g),()=>async(t,e,n)=>{let{gqlContext:r}=n;const s=e();if(!s.user.account||s.subscriptions.api.fetched)return;t(N());const i=await(t=>Object(p.a)(t,_))(r());if(i.ok){const e=j(i.body.data);t(D(e))}else t(R({error:i.error}))}),U=(t,e)=>e.type===l.a.PROFILE&&t.displayText===e.name.replace("u_",""),k=(t,e,n)=>async(i,d,_)=>{let{apiContext:p}=_,m=t.map(t=>t.type===l.a.SUBREDDIT?{id:Object(C.F)(d(),t.name),name:t.name,type:t.type}:{id:Object(A.m)(d(),t.name),name:"".concat(s.Yb).concat(t.name),type:t.type});if(!Object(P.J)(d()))return i(Object(c.k)({actionSource:c.a.Subscribe})),void i(Object(a.i)());const S=Object(P.i)(d());if(S){const e=m.length,n=t.length;if(m=m.filter(t=>!U(S,t)),(t=t.filter(t=>!U(S,t))).length!==n||m.length!==e){const t=r.fbt._("You cannot follow yourself!",null,{hk:"3tfSaq"});i(Object(u.e)(Object(u.d)(t,g.b.Error)))}if(!t.length&&!m.length)return}if(i(w({identifiers:m,nameIdentifiers:t,profileModels:d().profiles.models,subredditModels:d().subreddits.models,subscriptionsCount:Object(h.b)(d()),userIsSubscriber:e,widgetId:n})),(await((t,e)=>{let{subredditIds:n,subredditNames:r,subscribe:i}=e;return Object(b.a)(Object(O.a)(t,[f.a]),{method:s.eb.POST,endpoint:Object(E.a)("".concat(t.apiUrl,"/api/subscribe")),data:{action:i?"sub":"unsub",sr:n&&n.join(",")||void 0,sr_name:r&&r.join(",")||void 0,api_type:"json"}})})(p(),{subredditNames:m.map(t=>{let{name:e}=t;return e}),subscribe:e})).ok){const n=1===t.length?"".concat("subreddit"===t[0].type?o.d.subreddit:o.d.profile).concat(t[0].name):"".concat(r.fbt.plural("community",t.length,{many:"communities",name:"communities",showCount:"yes"}));i(Object(u.e)({text:1===t.length&&"profile"===t[0].type?r.fbt._("Sucсessfully {verb} {communityname}",[r.fbt._param("verb",e?"followed":"unfollowed"),r.fbt._param("communityname",n)],{hk:"1hY5KX"}):r.fbt._("Sucсessfully {verb} {communityname}",[r.fbt._param("verb",e?"joined":"left"),r.fbt._param("communityname",n)],{hk:"1hY5KX"})}))}else{i(w({identifiers:m,nameIdentifiers:t,profileModels:d().profiles.models,subredditModels:d().subreddits.models,subscriptionsCount:Object(h.b)(d()),userIsSubscriber:!e,widgetId:n}));const s=r.fbt._("Something went wrong. Please try again!",null,{hk:"1zlDeq"});i(Object(u.e)(Object(u.d)(s,g.b.Error)))}},x=Object(i.a)(d.f),F=t=>async(e,n,r)=>{let{apiContext:i}=r;const o=n(),a=Object(C.L)(o,{identifier:t});if(!a)throw new Error("actions.subscription -- No subreddit or profile found with id ".concat(t.id));const c=t.type===l.a.SUBREDDIT?a.name:"u_".concat(a.name),d=o.subscriptions.favoriteSubredditOrder||[],_=o.subscriptions.favoriteProfileOrder||[],p=d.indexOf(t.id),E=_.indexOf(t.id),m=-1===p&&-1===E,S=o.subreddits.models,I=o.profiles.models;e(x({makeFavorite:m,identifier:t,subredditModels:S,profileModels:I}));const T={type:t.type,name:a.name},j=()=>Object(C.fb)(n(),{identifier:T});(j()||(await e(k([T],!0)),j()))&&((await((t,e,n)=>Object(b.a)(Object(O.a)(t,[f.a]),{method:s.eb.POST,endpoint:"".concat(t.apiUrl,"/api/favorite"),data:{make_favorite:n?"true":"false",sr_name:e,api_type:"json"}}))(i(),c,m)).ok||(e(x({makeFavorite:!m,identifier:t,subredditModels:S,profileModels:I})),e(Object(u.e)({text:y(),kind:g.b.Error}))))},M=Object(i.a)(d.d),v=t=>async(e,n,r)=>{let{apiContext:i}=r;const o=n().multireddits.models,a=()=>{e(Object(u.e)({text:y(),kind:g.b.Error}))},c=o[t];if(!c)return void a();const d=!c.isFavorited;e(M({makeFavorite:d,multiredditPath:t,multiredditsModelsState:o})),(await((t,e,n)=>Object(b.a)(Object(O.a)(t,[f.a]),{method:s.eb.POST,endpoint:"".concat(t.apiUrl,"/api/multi/favorite"),data:{make_favorite:n?"true":"false",multipath:e,api_type:"json"}}))(i(),t,d)).ok||(e(M({makeFavorite:!d,multiredditPath:t,multiredditsModelsState:o})),a())},G=Object(i.a)(d.e),B=t=>async(e,n,i)=>{let{apiContext:o}=i;const a=n(),c=a.multireddits.models;if(!Object(P.J)(a))return;const d=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e(Object(u.e)({text:r.fbt._("Sorry, failed to {followAction}",[r.fbt._param("followAction",t?r.fbt._("follow",null,{hk:"2I4uia"}):r.fbt._("unfollow",null,{hk:"1ZDqgR"}))],{hk:"1ufRSl"}),kind:g.b.Error}))},l=c[t];if(!l)return void d();const _=!l.isFollowed;e(G({follow:_,multiredditPath:t,multiredditsModelsState:c})),(await((t,e,n)=>Object(b.a)(Object(O.a)(t,[f.a]),{method:s.eb.POST,endpoint:"".concat(t.apiUrl,"/api/multi/subscribe"),data:{action:n?"sub":"unsub",path:e,api_type:"json"},type:"json"}))(o(),t,_)).ok||(e(G({follow:!_,multiredditPath:t,multiredditsModelsState:c})),d(_))}},"./src/reddit/constants/gold.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return u})),n.d(e,"g",(function(){return l}));const r="ModerationPage--Modal--AddAward",s="ModerationPage--Modal--DeleteAwardConfirmation",i=20,o=4,a=1e4,c=.2,d=.1,u=.1,l=500},"./src/reddit/endpoints/gold/communityAwards.ts":function(t,e,n){"use strict";n.d(e,"d",(function(){return T})),n.d(e,"n",(function(){return j})),n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return A})),n.d(e,"b",(function(){return C})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return P})),n.d(e,"j",(function(){return y})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return N})),n.d(e,"m",(function(){return R})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return L})),n.d(e,"e",(function(){return U}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/makeGqlRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),c=n("./src/graphql/operations/AwardSheetInfo.json"),d=n("./src/graphql/operations/AwardSheetInfoForProfile.json"),u=n("./src/graphql/operations/CreateCommunityAward.json"),l=n("./src/graphql/operations/CreateGlobalAward.json"),b=n("./src/graphql/operations/CreateModAward.json"),O=n("./src/graphql/operations/DisableAwardInCommunity.json"),f=n("./src/graphql/operations/EnableAwardInCommunity.json"),_=n("./src/graphql/operations/GlobalAwards.json"),p=n("./src/graphql/operations/ManageableAwards.json"),E=n("./src/graphql/operations/ManageableAwardsForProfile.json"),m=n("./src/graphql/operations/RemoveCommunityAward.json"),S=n("./src/reddit/constants/headers.ts"),I=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const T=(t,e,n,i)=>{const a={subreddit:e,filepath:n,mimetype:i};return Object(s.a)(Object(o.a)(t,[S.a]),{method:r.eb.POST,endpoint:"".concat(t.apiUrl,"/api/v1/community_awards/award_asset_upload_s3"),data:a})},j=async(t,e)=>Object(a.a)(e,t),g=(t,e,n,r,s,o,a,c,d)=>Object(i.a)(t,Object.assign(Object.assign({},u),{variables:{coinPrice:a,iconHeight:o,iconWidth:s,iconUrl:r,name:n,subredditId:e,startsAt:c,endsAt:d}})),A=(t,e,n,r,s,o,a,c,d)=>Object(i.a)(t,Object.assign(Object.assign({},b),{variables:{iconHeight:o,iconWidth:s,iconUrl:r,monthsOfPremium:a,name:n,subredditId:e,startsAt:c,endsAt:d}})),C=t=>{let{awardSubType:e,coinPrice:n,coinReward:r,context:s,daysOfDripExtension:o,daysOfPremium:a,description:c,endsAt:d,giverCoinReward:u,iconFormat:b,iconHeight:O,iconUrl:f,iconWidth:_,isNew:p,name:E,pennyPrice:m,pennyDonate:S,startsAt:I,subredditCoinReward:T}=t;return Object(i.a)(s,Object.assign(Object.assign({},l),{variables:{awardSubType:e,iconFormat:b,iconHeight:O,iconWidth:_,iconUrl:f,isNew:p,daysOfPremium:a,daysOfDripExtension:o,description:c,coinPrice:n,coinReward:r,name:E,pennyPrice:m,pennyDonate:S,giverCoinReward:u,startsAt:I,endsAt:d,subredditCoinReward:T}}))},h=(t,e)=>Object(i.a)(t,Object.assign(Object.assign({},p),{variables:{subredditId:e}})),P=(t,e)=>Object(i.a)(t,Object.assign(Object.assign({},E),{variables:{profileName:e}})),y=t=>Object(i.a)(t,Object.assign({},_)),D=(t,e,n)=>Object(i.a)(t,Object.assign(Object.assign({},c),{variables:{subredditId:e,thingId:n,includeGroup:!0}})),N=(t,e,n)=>Object(i.a)(t,Object.assign(Object.assign({},d),{variables:{profileName:e,thingId:n,includeGroup:!0}})),R=(t,e)=>Object(i.a)(t,Object.assign(Object.assign({},m),{variables:{awardId:e}})),w=(t,e,n)=>Object(i.a)(t,Object.assign(Object.assign({},O),{variables:{awardId:e,subredditId:n}})),L=(t,e,n)=>Object(i.a)(t,Object.assign(Object.assign({},f),{variables:{awardId:e,subredditId:n}})),U=async(t,e,n)=>{const i={api_type:"json",award_id:e,raw_json:1};return Object(s.a)(Object(o.a)(t,[S.a]),{method:r.eb.POST,endpoint:"".concat(t.apiUrl,"/api/report_award"),data:i}).then(t=>t.ok?Object.assign({},t):Object.assign(Object.assign({},t),{error:Object(I.a)(t)}))}},"./src/reddit/helpers/awards/getAwardItemId.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(t,e)=>"awardItem__".concat(e,"-").concat(t)},"./src/reddit/helpers/awards/isEligibleForGlobalAwards.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");const r=new Set(["t5_22cerq"]),s=t=>r.has(t);e.a=s},"./src/reddit/helpers/economics/sortBadges.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(t,e){if(t.placement&&!e.placement)return-1;if(e.placement&&!t.placement)return 1;if(t.position&&!e.position)return-1;if(e.position&&!t.position)return 1;let n=0;return t.placement&&e.placement&&(n=t.placement.localeCompare(e.placement)),0===n&&t.position&&e.position&&(n=t.position-e.position),0===n&&(n=t.title.localeCompare(e.title)),n}function s(t){return[...t].sort(r)}},"./src/reddit/helpers/graphql/normalizePostsFromGql/index.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts");const s=t=>{let{edges:e}=t;const n=[];for(const{node:s}of e)n.push(Object(r.e)(s));return n}},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n("./src/lib/constants/index.ts");const s=t=>{for(const e of t){const t=e[0]||"";switch(t){case r.E.NO_STRIPE_SUBSCRIPTION:case r.E.USER_DOESNT_EXIST:case r.E.USER_REQUIRED_ERROR:case r.E.VALIDATION_ERROR:return t;case r.E.NO_USER:case r.E.NO_TEXT:case r.E.NO_URL:return r.E.VALIDATION_ERROR;case r.E.CREDIT_CARD_FAILURE:case r.E.CREDIT_CARD_FAILURE_GENERIC:return r.E.CREDIT_CARD_FAILURE;default:if(t.startsWith("SUBMIT_VALIDATION"))return r.E.SUBMIT_VALIDATION_ERROR}}return r.E.VALIDATION_ERROR},i=t=>{const e=t.body;return{type:s(e.json.errors),fields:e.json.errors.map(t=>({field:t[2]||"",msg:t[1]}))}},o=t=>{const e=t.body;return!t.ok&&e&&e.json&&e.json.errors?Object.assign(Object.assign({},t),{error:i(t)}):t};e.a=i},"./src/reddit/models/Badge/index.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s,i,o=n("./src/config.ts");function a(t){return"userId"in t}function c(t){return!(!t.extra||!t.extra.membership)&&!!t.extra.membership.included}function d(t,e,n){const r=n.media[0],s=Object.keys(r);if(r["0x0"])return r["0x0"];let i={width:1/0,height:1/0,url:""};if(s.forEach(n=>{const s=r[n],[o,a]=n.split("x").map(t=>parseInt(t));(o<i.width&&o>=t||a<i.height&&a>=e)&&(i={height:a,width:o,url:s})}),!i.url&&s.length){const t=Object.keys(r)[0],e=r[t],[n,s]=t.split("x").map(t=>parseInt(t));i={height:s,width:n,url:e}}return i.url}function u(t){return t.startsWith("https")?t:"".concat(o.a.assetPath,"/").concat(t)}function l(t,e,n){const r=d(t,e,n),s=d(2*t,2*e,n);return{url:u(r),url2x:u(s)}}!function(t){t.First="p1",t.Second="p2"}(r||(r={})),function(t){t.ActivityTab="activityTab",t.ChatTab="chatTab",t.DirectMessages="directMessages",t.MessageTab="messageTab",t.ChatRooms="chatRooms",t.ChatRoomMentions="chatRoomMentions"}(s||(s={})),function(t){t.Numbered="NUMBERED",t.Filled="FILLED"}(i||(i={}))},"./src/reddit/models/Badge/managementPage.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a}));var r,s,i=n("./src/reddit/models/Badge/index.ts");!function(t){t.Loyalty="loyalty",t.Achievement="achievement",t.Cosmetic="cosmetic"}(r||(r={})),function(t){t.Gallery="gallery",t.MyBadges="my-badges"}(s||(s={}));const o={[r.Loyalty]:i.a.First,[r.Achievement]:i.a.Second,[r.Cosmetic]:void 0},a=t=>t===i.a.First?r.Loyalty:t===i.a.Second?r.Achievement:r.Cosmetic},"./src/reddit/models/Gold/ProductOffer.ts":function(t,e,n){"use strict";var r,s;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return i})),function(t){t.CoinConversion="user-coins-in-subreddit",t.Powerups="powerups"}(r||(r={})),function(t){t.GildFlow="gild_flow",t.LowCoinBalance="low_coin_balance",t.NewUserTargetedOffer="new_user_targeted_offer",t.RepeatUserTargetedOffer="repeat_user_targeted_offer",t.StorefrontFreeAward="storefront_free_award",t.CoinSale="coin_sale"}(s||(s={}));const i=(t,e)=>{const n=t&&t.dealInfo&&t.dealInfo.type,r="low_coin_upsell"===n,i="new_purchaser"===n,o="repeat_purchaser"===n;return e?s.GildFlow:r?s.LowCoinBalance:i?s.NewUserTargetedOffer:o?s.RepeatUserTargetedOffer:void 0}},"./src/reddit/models/ScheduledPost/index.ts":function(t,e,n){"use strict";n.d(e,"r",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"g",(function(){return u})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return b})),n.d(e,"f",(function(){return O})),n.d(e,"c",(function(){return _})),n.d(e,"q",(function(){return E})),n.d(e,"k",(function(){return m})),n.d(e,"j",(function(){return S})),n.d(e,"h",(function(){return I})),n.d(e,"i",(function(){return T})),n.d(e,"d",(function(){return j})),n.d(e,"m",(function(){return g})),n.d(e,"b",(function(){return A})),n.d(e,"l",(function(){return C})),n.d(e,"p",(function(){return h}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/assertNever.ts"),s=n("./src/reddit/models/GqlTopLevelField.ts"),i=n("./src/reddit/models/User/index.ts");const o="scheduledposts";var a,c,d;!function(t){t.LINK="LINK",t.POLL="POLL",t.SELF="SELF"}(a||(a={})),function(t){t.RTJSON="RTJSON",t.TEXT="TEXT"}(c||(c={})),function(t){t.CREATED="CREATED",t.PROCESSING="PROCESSING",t.FAILED="FAILED",t.SUCCESS="SUCCESS"}(d||(d={}));const u=t=>{return new Set(["links","text","polls"]).has(t)},l=t=>t.__typename===i.c.AvailableRedditor,b=t=>t.__typename===s.a.Subreddit;var O,f,_,p;!function(t){t.standalonePosts="standalonePosts",t.recurringPosts="recurringPosts"}(O||(O={})),function(t){t.MONDAY="MONDAY",t.TUESDAY="TUESDAY",t.WEDNESDAY="WEDNESDAY",t.THURSDAY="THURSDAY",t.FRIDAY="FRIDAY",t.SATURDAY="SATURDAY",t.SUNDAY="SUNDAY"}(f||(f={})),function(t){t[t.MONDAY=0]="MONDAY",t[t.TUESDAY=1]="TUESDAY",t[t.WEDNESDAY=2]="WEDNESDAY",t[t.THURSDAY=3]="THURSDAY",t[t.FRIDAY=4]="FRIDAY",t[t.SATURDAY=5]="SATURDAY",t[t.SUNDAY=6]="SUNDAY"}(_||(_={})),function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"}(p||(p={}));const E=t=>f[p[t]],m=t=>p[f[t]],S=t=>_[f[t]],I=t=>f[_[t]],T=t=>p[_[t]];var j;!function(t){t.Hourly="HOURLY",t.Daily="DAILY",t.Weekly="WEEKLY",t.Monthly="MONTHLY"}(j||(j={}));const g=t=>{switch(t){case j.Hourly:case j.Daily:case j.Weekly:case j.Monthly:return!0}return!1},A="custom",C=t=>{switch(t){case"isNsfw":return"mark_as_nsfw";case"isOriginalContent":return"mark_as_oc";case"isSticky":return"sticky";case"isModDistinguished":return"mod_distinguish";case"isSpoiler":return"mark_as_spoiler";case"isContestMode":return"mark_as_contest_mode";case"isPostAsMetaMod":return"post_as_meta_mod";default:return Object(r.a)(t)}},h=t=>"frequency"in t&&!!t.frequency},"./src/reddit/reducers/economics/paymentSystems/index.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.symbol.js");var r,s=n("./src/reddit/actions/economics/paymentSystems/constants.ts"),i=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n};!function(t){t[t.Failure=0]="Failure",t[t.Fetched=1]="Fetched",t[t.NotFetched=2]="NotFetched",t[t.Pending=3]="Pending"}(r||(r={}));const o={status:r.NotFetched};e.b=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s.a:if(t.status===r.Fetched&&t.data.stripe&&t.data.stripe.sources){const n=e.payload.cardId,r=t.data.stripe.sources,s=n,o=(r[s],i(r,["symbol"==typeof s?s:s+""]));return Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{stripe:Object.assign(Object.assign({},t.data.stripe),{sources:o})})})}return t;case s.e:if(t.status===r.Fetched&&t.data.braintree&&t.data.braintree.sources){const n=e.payload.sourceId,r=t.data.braintree.sources,s=n,o=(r[s],i(r,["symbol"==typeof s?s:s+""]));return Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{braintree:Object.assign(Object.assign({},t.data.braintree),{sources:o})})})}return t;case s.b:return{error:e.payload.error,status:r.Failure};case s.c:return{data:e.payload,status:r.Fetched};case s.d:return{status:r.Pending};default:return t}}},"./src/reddit/reducers/economics/subredditPremium/index.ts":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/specialMembership.ts"),i=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),o=n("./src/reddit/helpers/economics/sortBadges.ts"),a=n("./src/reddit/models/Badge/index.ts"),c=n("./src/reddit/models/Badge/managementPage.ts");!function(t){t[t.NotFetched=0]="NotFetched",t[t.Fetched=1]="Fetched"}(r||(r={}));const d={};function u(t){return"userId"in t}function l(t,e,n,r){t.forEach(t=>{t.collections&&Object.keys(t.collections).forEach(s=>{let i;(i=t.placement?t.placement===a.a.First?r[c.a.Loyalty][s]:r[c.a.Achievement][s]:u(t)?r[c.a.Cosmetic][c.c.MyBadges][s]:r[c.a.Cosmetic][c.c.Gallery][s])&&(u(t)?n.has(t.id)&&i.unlocked.push(t):e.has(t.id)||i.locked.push(t))})})}function b(t){const e=(t,e)=>{const n=parseInt(t.price||"0"),r=parseInt(e.price||"0");return n===r?Object(o.b)(t,e):n-r};return t.locked.sort(e),t.unlocked.sort(e),t}function O(t,e){return Object.keys(t).map(e=>t[e]).filter(t=>!!t.locked.length||!!t.unlocked.length||t.id===s.a).map(b).sort((t,n)=>{const r=e[t.id],s=e[n.id];return Object(o.b)(r,s)})}function f(t){const e={[c.a.Loyalty]:{},[c.a.Achievement]:{},[c.a.Cosmetic]:{[c.c.Gallery]:{},[c.c.MyBadges]:{}}};Object.keys(t.collections).forEach(n=>{const r=t.collections[n],s={description:r.description,highlight:r.extra&&r.extra.style&&r.extra.style.color,id:r.id,locked:[],title:r.title,unlocked:[]};e[c.a.Loyalty][n]=Object.assign(Object.assign({},s),{locked:[],unlocked:[]}),e[c.a.Achievement][n]=Object.assign(Object.assign({},s),{locked:[],unlocked:[]}),e[c.a.Cosmetic][c.c.Gallery][n]=Object.assign(Object.assign({},s),{locked:[],unlocked:[]}),e[c.a.Cosmetic][c.c.MyBadges][n]=Object.assign(Object.assign({},s),{locked:[],unlocked:[]})});const n=new Set;t.userOwnedBadges.forEach(e=>{const r=t.badges[e];r&&n.add(r.type)});const r=new Set(t.userOwnedBadges);return l(Object.keys(t.badges).map(e=>t.badges[e]),n,r,e),l(Object.keys(t.products).map(e=>t.products[e]),n,r,e),{collections:{[c.a.Loyalty]:O(e[c.a.Loyalty],t.collections),[c.a.Achievement]:O(e[c.a.Achievement],t.collections),[c.a.Cosmetic]:{[c.c.Gallery]:O(e[c.a.Cosmetic][c.c.Gallery],t.collections),[c.c.MyBadges]:O(e[c.a.Cosmetic][c.c.MyBadges],t.collections)}},subscription:t.subscription,userOwnedBadges:t.userOwnedBadges.map(e=>t.badges[e]).filter(Boolean)}}e.b=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.a:{const{subredditId:n}=e.payload,s=t[n];return s&&s.status===r.Fetched?Object.assign(Object.assign({},t),{[n]:Object.assign(Object.assign({},s),{data:Object.assign({},s.data),raw:Object.assign({},s.raw)})}):t}case i.h:{const{subredditId:n}=e.payload,s=t[n];return s&&s.status===r.Fetched?Object.assign(Object.assign({},t),{[n]:Object.assign(Object.assign({},s),{data:Object.assign(Object.assign({},s.data),{subscription:Object.assign(Object.assign({},s.data.subscription||{}),{settings:{renew:!1}})}),raw:Object.assign(Object.assign({},s.raw),{subscription:Object.assign(Object.assign({},s.raw.subscription||{}),{settings:{renew:!1}})})})}):t}case i.i:{const n=e.payload;return Object.assign(Object.assign({},t),{[n.subredditId]:{raw:n,data:f(n),status:r.Fetched}})}default:return t}}},"./src/reddit/selectors/gold/awardIcon.ts":function(t,e,n){"use strict";n.d(e,"c",(function(){return b})),n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return _})),n.d(e,"d",(function(){return p}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/Gold/Award.ts"),s=n("./src/reddit/selectors/comments.ts"),i=n("./src/reddit/selectors/gold/giveAwards.ts"),o=n("./src/reddit/selectors/posts.ts"),a=n("./src/reddit/selectors/user.ts"),c=n("./src/reddit/selectors/userPrefs.ts");const d=[32,48,64,128],u=(t,e,n)=>{const r=e?t["staticIcon".concat(n)]:t["icon".concat(n)];return(null==r?void 0:r.url)?r.url:e?t.staticIcon.url:t.icon.url},l=t=>{let{award:e,size:n,prefersReducedMotion:s,postOrComment:i}=t;return e.awardSubType===r.d.Group?(t=>{let{award:e,size:n,prefersReducedMotion:r,postOrComment:s}=t,i=e;if((null==s?void 0:s.awardCountsById)&&s.awardCountsById[e.id]&&e.tiers){const t=s.awardCountsById[e.id];i=e.tiers.reduce((e,n)=>t>=n.awardingsRequired?n:e)}return u(i,r,n)})({award:e,size:n,prefersReducedMotion:s,postOrComment:i}):u(e,s,n)},b=(t,e)=>{let{awards:n,minSize:r,postOrCommentId:i}=e;const a=Object(c.c)(t),u=d.find(t=>t>=r),b=i?Object(o.O)(t,{postId:i})||Object(s.o)(t,{commentId:i}):void 0;return n.reduce((t,e)=>(e&&(t[e.id]=l({award:e,size:u,prefersReducedMotion:a,postOrComment:b})),t),{})},O=(t,e)=>{let{award:n,minSize:r,postOrCommentId:s}=e;return n?b(t,{awards:[n],minSize:r,postOrCommentId:s})[n.id]:void 0},f=(t,e)=>{let{postOrComment:n,minSizes:r}=e;const s=Object.keys(n.awardCountsById||{}).reduce((e,n)=>{const r=t.awards.models[n];return r&&e.push(r),e},[]);return r.reduce((e,r)=>{const i=b(t,{awards:s,minSize:r,postOrCommentId:n.id});return e["icon".concat(r)]=i,e},{})},_=(t,e)=>{let{minSize:n,userName:r}=e;const s=Object(a.kb)(t,{userName:r});if(s&&s.awardedLastMonth&&s.awardedLastMonth.topAward)return O(t,{award:s.awardedLastMonth.topAward,minSize:n})},p=t=>{const e=Object(i.b)(t),n=Object(i.a)(t);return O(t,{award:e,postOrCommentId:n||void 0,minSize:512})}},"./src/reddit/selectors/gold/giveAwards.ts":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));const r=t=>t.gild.selectedAward,s=t=>t.gild.gildedThing},"./src/reddit/selectors/goldPurchaseModals.ts":function(t,e,n){"use strict";n.d(e,"p",(function(){return s})),n.d(e,"r",(function(){return i})),n.d(e,"q",(function(){return o})),n.d(e,"t",(function(){return a})),n.d(e,"s",(function(){return c})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return u})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return b})),n.d(e,"y",(function(){return O})),n.d(e,"c",(function(){return f})),n.d(e,"h",(function(){return _})),n.d(e,"v",(function(){return p})),n.d(e,"w",(function(){return E})),n.d(e,"u",(function(){return m})),n.d(e,"x",(function(){return S})),n.d(e,"f",(function(){return I})),n.d(e,"g",(function(){return T})),n.d(e,"i",(function(){return j})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return A})),n.d(e,"j",(function(){return C})),n.d(e,"m",(function(){return h})),n.d(e,"e",(function(){return P})),n.d(e,"d",(function(){return y}));var r=n("./src/reddit/selectors/gold/purchaseCatalog.ts");const s=t=>t.goldPurchase.purchaseModal.activePage,i=t=>t.goldPurchase.purchaseModal.gildThingId||void 0,o=t=>t.goldPurchase.purchaseModal.correlationId||void 0,a=t=>t.goldPurchase.purchaseModal.showModal,c=t=>t.goldPurchase.purchaseModal.packageId,d=t=>t.goldPurchase.packageOfferModal.packageId,u=t=>{const e=Object(r.i)(t),n=(t=>t.goldPurchase.premiumPurchaseModal.packageId)(t);return e.length&&n&&e.find(t=>t.mobileId===n)||null},l=t=>t.goldPurchase.premiumPurchaseModal.activePage,b=t=>t.goldPurchase.premiumPurchaseModal.showModal,O=t=>t.goldPurchase.updateCardModal.pending,f=t=>t.goldPurchase.payment.paymentMethod,_=t=>t.goldPurchase.payment.cardName,p=t=>t.goldPurchase.payment.savedCardsPending,E=t=>t.goldPurchase.payment.savedCards,m=t=>t.goldPurchase.payment.rememberCard,S=t=>t.goldPurchase.payment.useSavedCard,I=t=>t.goldPurchase.payment.cardValidation.cardCvc,T=t=>t.goldPurchase.payment.cardValidation.cardExpiry,j=t=>t.goldPurchase.payment.cardValidation.cardNumber,g=t=>t.goldPurchase.payment.cardValidation.nameOnCard,A=t=>t.goldPurchase.payment.cardValidation.postalCode,C=t=>t.goldPurchase.payment.stripeToken.errorMessage,h=t=>t.goldPurchase.payment.stripeToken.pending,P=t=>t.goldPurchase.payment.paypal.passthrough,y=t=>t.goldPurchase.payment.paypal.errorMessage},"./src/reddit/selectors/userFlair.ts":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return u}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),i=n("./src/reddit/selectors/moderatorPermissions.ts");const o=(t,e)=>{let{subredditId:n}=e;return t.userFlair[n]},a=(t,e)=>{let{subredditId:n}=e;return!t.userFlair[n]||t.userFlair[n].displaySettings.isEnabled},c=(t,e)=>{let{subredditId:n}=e;return t.userFlair[n]?t.userFlair[n].displaySettings.position:s.b.Right},d=Object(r.a)((t,e)=>{let{subredditId:n}=e;const r=o(t,{subredditId:n});if(r)return{type:s.d.UserFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),u=(t,e)=>{let{subredditId:n}=e;const r=a(t,{subredditId:n}),s=d(t,{subredditId:n}),c=o(t,{subredditId:n});if(!r||!s||!c)return!1;if(c.applied)return!0;const u=Object(i.d)(t,{subredditId:n}),{canUserChange:l}=s.permissions;return!!c.templateIds.find(t=>{return!c.templates[t].modOnly||u})&&l}}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/Governance~Reddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-components-Larg~9453fc9d.c5be7aa2c069fb16aaea.js.map

}
/*
     FILE ARCHIVED ON 01:45:06 Jan 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:08:30 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.194
  exclusion.robots.policy: 0.171
  cdx.remote: 0.233
  esindex: 0.021
  LoadShardBlock: 127.757 (6)
  PetaboxLoader3.resolve: 123.384 (5)
  PetaboxLoader3.datanode: 79.74 (8)
  load_resource: 87.154 (2)
*/