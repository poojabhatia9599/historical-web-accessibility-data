var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["Governance~ModListing~Reddit"],{"./src/graphql/operations/CreateSubredditTags.json":function(e){e.exports=JSON.parse('{"id":"80c9a3cd96b8"}')},"./src/graphql/operations/ExperimentVariants.json":function(e){e.exports=JSON.parse('{"id":"34910619f1e9"}')},"./src/graphql/operations/FetchGlobalTags.json":function(e){e.exports=JSON.parse('{"id":"f4a581740c21"}')},"./src/graphql/operations/FetchSubredditTags.json":function(e){e.exports=JSON.parse('{"id":"bac623887684"}')},"./src/graphql/operations/FetchSubredditsNotificationSettings.json":function(e){e.exports=JSON.parse('{"id":"5d042135b4c5"}')},"./src/graphql/operations/GetSubredditQuestions.json":function(e){e.exports=JSON.parse('{"id":"af10f53b0793"}')},"./src/graphql/operations/MaybeDeleteTagsAndUpdateItemTags.json":function(e){e.exports=JSON.parse('{"id":"023547ccdaf6"}')},"./src/graphql/operations/PostIsTrackingCrossposts.json":function(e){e.exports=JSON.parse('{"id":"a362f62253e5"}')},"./src/graphql/operations/ProfileModHubPage.json":function(e){e.exports=JSON.parse('{"id":"1b1c4964ee65"}')},"./src/graphql/operations/ReallocatePowerups.json":function(e){e.exports=JSON.parse('{"id":"d02bf38ca840"}')},"./src/graphql/operations/RedditorKarma.json":function(e){e.exports=JSON.parse('{"id":"db6eb1356b13"}')},"./src/graphql/operations/RedditorPowerups.json":function(e){e.exports=JSON.parse('{"id":"e2bcd0fbaace"}')},"./src/graphql/operations/RichTextPostContent.json":function(e){e.exports=JSON.parse('{"id":"fc24b7b690ad"}')},"./src/graphql/operations/SubredditAbout.json":function(e){e.exports=JSON.parse('{"id":"b85af9fd9703"}')},"./src/graphql/operations/SubredditGeoRecommendationViaFocusVertical.json":function(e){e.exports=JSON.parse('{"id":"c63a85ddc7f8"}')},"./src/graphql/operations/SubredditInfo.json":function(e){e.exports=JSON.parse('{"id":"29aee4089528"}')},"./src/graphql/operations/SubredditPage.json":function(e){e.exports=JSON.parse('{"id":"6919a593fdc7"}')},"./src/graphql/operations/SubredditPostFlairStyleTemplates.json":function(e){e.exports=JSON.parse('{"id":"9a87d9b91dc4"}')},"./src/graphql/operations/SubredditPowerups.json":function(e){e.exports=JSON.parse('{"id":"673c430fbc2a"}')},"./src/graphql/operations/SubredditPowerupsFull.json":function(e){e.exports=JSON.parse('{"id":"e706263326f6"}')},"./src/graphql/operations/SubredditRules.json":function(e){e.exports=JSON.parse('{"id":"0df127946e72"}')},"./src/graphql/operations/SubredditStyles.json":function(e){e.exports=JSON.parse('{"id":"8d0e34deaa32"}')},"./src/graphql/operations/TopAwardedPosts.json":function(e){e.exports=JSON.parse('{"id":"c9fd9e16a717"}')},"./src/graphql/operations/TopAwardersLeaderboard.json":function(e){e.exports=JSON.parse('{"id":"2a194e7926dd"}')},"./src/graphql/operations/UpdateSubredditNotificationSettings.json":function(e){e.exports=JSON.parse('{"id":"0af4f630a2e1"}')},"./src/graphql/operations/UpdateSubredditPrimaryTag.json":function(e){e.exports=JSON.parse('{"id":"a2d0aa1efdbc"}')},"./src/graphql/operations/UpdateSubredditTagStatesRelevance.json":function(e){e.exports=JSON.parse('{"id":"ee43ccb6e5eb"}')},"./src/graphql/operations/UserPowerups.json":function(e){e.exports=JSON.parse('{"id":"5460e33eb672"}')},"./src/lib/ads/index.ts":function(e,t,n){"use strict";var s;n.d(t,"m",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"q",(function(){return _})),n.d(t,"o",(function(){return m})),n.d(t,"r",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"n",(function(){return E})),n.d(t,"s",(function(){return h})),function(e){e.muted="muted",e.seeked="seeked"}(s||(s={}));const r=.01,i=.3,o=.5,c=.8,a=1,d=0,u=1e3,l=100,b=2e3,p=3e3,f=5e3,O=15e3,_=[.01,.3,.5,1],m=[.01,.5,1,{key:"TOTAL_MRC_VIEWABLE_TIME",playing:!0,threshold:o},{key:"HALF_DURATION_80_IN_VIEW_AUDIBLE",playing:!0,withSound:!0,threshold:c},{key:"FULL_IN_VIEW_AUDIBLE_TIME",playing:!0,threshold:a,withSound:!0},{key:"FULL_IN_VIEW_TIME",playing:!0,threshold:a},{key:"AUDIBLE_TIME",playing:!0,threshold:0,withSound:!0}],g=e=>e.map(e=>e&&"object"==typeof e?e.key:Math.floor(100*e)),j=g(_),E=g(m),h=(e,t)=>{let n,s=e.source,r=e.callToAction;if(t){s={displayText:t.displayAddress||t.displayUrl||t.outboundUrl,outboundUrl:t.outboundUrl,url:t.outboundUrl},n=t.caption,r=t.callToAction}return{source:s,caption:n,callToAction:r}}},"./src/lib/ads/store.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return p}));var s=n("./src/lib/ads/index.ts");let r={};const i=e=>(()=>r)()[e],o=e=>e.reduce((e,t)=>(e[t]={maxContinuousTime:0,totalTime:0,timeEntered:null},e),{}),c=()=>({thresholdData:o(s.p),videoThresholdData:o(s.n),videoAds:{muted:{},seeked:{}}}),a=Object.freeze(c()),d=(e,t,n,i)=>{const o=Date.now(),c=n?"videoThresholdData":"thresholdData";Object(s.r)(t).forEach(t=>{const n=r[e][c][t];if(i)n.timeEntered=n.timeEntered||o;else if(n.timeEntered){const e=o-n.timeEntered;n.totalTime+=e,n.maxContinuousTime=Math.max(n.maxContinuousTime,e),n.timeEntered=null}})},u=(e,t,n)=>{const s=r[e].videoAds[n];s.value=t,s.timeUpdated=s.timeUpdated&&s.value===t?s.timeUpdated:Date.now()},l=e=>(function(t){r[t]||(r[t]=c());for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];e.apply(void 0,[t,...s])}),b=l((e,t,n)=>d(e,t,n,!0)),p=l((e,t,n)=>d(e,t,n,!1))},"./src/lib/assertNever.ts":function(e,t,n){"use strict";function s(e){throw new Error("Unexpected object: ".concat(e))}n.d(t,"a",(function(){return s}))},"./src/lib/filterQueryParams/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.search.js");var s=n("./node_modules/lodash/omit.js"),r=n.n(s),i=n("./node_modules/node-libs-browser/node_modules/url/url.js"),o=n.n(i);t.a=(e,t)=>{const n=o.a.parse(e,!0);return n.search=void 0,n.query=Object.assign({},r()(n.query,t)),o.a.format(n)}},"./src/lib/formatApiError/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./src/lib/constants/index.ts");function i(e,t){return e?e.fields&&e.fields.length?e.fields.map(e=>e.msg).join(", "):e.type&&o[e.type]?o[e.type]():401===t?s.fbt._("There was an authentication error",null,{hk:"2KZTRv"}):s.fbt._("Something went wrong",null,{hk:"3i6szH"}):""}const o={[r.j]:()=>s.fbt._("you're not allowed to do that",null,{hk:"1jGKQw"}),[r.H]:()=>s.fbt._("GIF size must be less than {max file size}MB",[s.fbt._param("max file size",Math.floor(r.S/r.bb).toString())],{hk:"1zzsdM"}),[r.K]:()=>s.fbt._("Image size must be less than {max file size}MB",[s.fbt._param("max file size",Math.floor(r.U/r.bb).toString())],{hk:"3H6bF8"}),[r.M]:()=>s.fbt._("Sorry, we accept only images (.png, .jpeg, .gif) and videos (.mp4, .mov)",null,{hk:"1hw868"}),[r.cc]:()=>s.fbt._("Video size must be less than {max file size}GB",[s.fbt._param("max file size",(r.Z/r.bb/1024).toFixed(1))],{hk:"4FkABU"})}},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,n){"use strict";function s(e){let t="PostDraftPage";return e.draftId&&(t+="--[draftId:".concat(e.draftId,"]")),t}n.d(t,"a",(function(){return s}))},"./src/lib/stringInterpolate/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.regexp.replace.js");function s(e,t){return e&&t?e.replace(/%\{(\w+)\}/g,(e,n)=>{const s=t[n];return null==s?n:String(s)}):e}},"./src/lib/uploadToS3/index.ts":function(e,t,n){"use strict";var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/loadWithRetries/index.ts"),i=n("./src/lib/makeRequest/index.ts");const o=(e,t)=>{const n=new FormData;return t.fields.forEach(e=>{e.value&&n.append(e.name,e.value)}),n.append("file",e),n};t.a=async(e,t,c)=>{const a=(()=>Object(r.a)(()=>n.e("vendors~xml2js").then(n.t.bind(null,"./node_modules/xml2js/lib/xml2js.js",7))).then(e=>e.default))(),d=await Object(i.b)({data:o(e,t),endpoint:t.action,method:s.eb.POST,type:null,setup:c});if("string"!=typeof d.body)return d;try{(await a).parseString(d.body,(e,t)=>{d.body=t})}catch(u){d.body=u}return d}},"./src/reddit/actions/actionBarAnimation/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s="UPDATE_DISCOUNT_ANIMATION"},"./src/reddit/actions/actionBarAnimation/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/actionBarAnimation/constants.ts");const i=Object(s.a)(r.a)},"./src/reddit/actions/ads/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"o",(function(){return r})),n.d(t,"p",(function(){return i})),n.d(t,"q",(function(){return o})),n.d(t,"r",(function(){return c})),n.d(t,"t",(function(){return a})),n.d(t,"u",(function(){return d})),n.d(t,"v",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"w",(function(){return f})),n.d(t,"y",(function(){return O})),n.d(t,"x",(function(){return _})),n.d(t,"s",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return h})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return y})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return D})),n.d(t,"c",(function(){return v}));const s="AD_BRAND_SAFETY_STATUS_RECEIVED",r="FETCH_COMMENTS_PAGE_ADS_COMPLETED",i="FETCH_COMMENTS_PAGE_ADS_FAILED",o="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",c="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",a="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",d="REFRESH_SIDEBAR_PROMOTED_POST_FAILED",u="RESET_SIDEBAR_PROMOTED_POSTS",l="AD__IMPRESSION",b="AD__CLICK",p="AD__VIEWABLE_IMPRESSION",f="VENDOR_FULLY_IN_VIEW",O="VENDOR_FULLY_IN_VIEW_5_SECS",_="VENDOR_FULLY_IN_VIEW_15_SECS",m="GROUPM_VIEWABLE",g="AD__VIDEO_VIEWABLE",j="AD__VIDEO_FULLY_VIEWABLE",E="AD__VIDEO_GROUP_M_VIEWABLE",h="AD__VIDEO_FULLY_VIEWABLE_50",I="AD__VIDEO_STARTED",S="AD__VIDEO_PLAYED_WITH_SOUND",y="AD__VIDEO_PLAYED_EXPANDED",T="AD__VIDEO_WATCHED_PERCENT",D="AD__VIDEO_WATCHED_SECONDS",v="AD__GALLERY_ITEM_IMPRESSION"},"./src/reddit/actions/ads/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return T}));n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/constants/posts.ts"),i=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts");const a=async e=>{let{context:t,count:n,subreddit:s,forceAd:r}=e;const a={count:n};return s&&(a.subreddit=s),r&&(a.sidebar_ad=r),Object(c.a)(t,{type:"json",endpoint:"".concat(i.a.gatewayUrl,"/desktopapi/v1/sidebar_ads"),method:o.eb.POST,data:a})};var d=n("./src/reddit/helpers/adCount/index.ts"),u=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),l=n("./src/reddit/selectors/brandSafety.ts"),b=n("./src/reddit/selectors/platform.ts"),p=n("./src/reddit/selectors/posts.ts"),f=n("./src/reddit/selectors/experiments/econ/predictions.ts"),O=n("./src/reddit/actions/ads/constants.ts");const _=Object(s.a)(O.a),m=e=>async(t,n)=>{const s=n();Object(l.c)(s)&&Object(l.d)(s)===e.isViewSafe||t(_(e))},g=Object(s.a)(O.q),j=Object(s.a)(O.r),E=Object(s.a)(O.t),h=Object(s.a)(O.u),I=(Object(s.a)(O.v),Object(s.a)(O.o)),S=(Object(s.a)(O.p),e=>async(t,n,s)=>{let{apiContext:i}=s;var o;const c=n(),l=Object(b.q)(c),O=Object(d.b)(c,e),_=O.length;if(0===_)return;switch(e){case u.a.COMMENTS:case u.a.COMMENTS_OVERLAY:{const e=Object(b.n)(c,{page:c.platform.currentPage});if(!e||e.belongsTo.type===r.a.PROFILE)return;break}case u.a.FRONTPAGE:case u.a.MULTIREDDIT:case u.a.SEARCH_RESULTS:case u.a.SUBREDDIT:{const e=c.listings.activeKey,t=Object(p.U)(c,{listingKey:e,predictionsEnabled:Object(f.c)(c)});if(!t||!t.length)return;break}default:return void 0}const m=Object(b.e)(c);let E;if((E=await a({context:i(),count:_,subreddit:m||void 0,forceAd:null===(o=null==l?void 0:l.sidebar_ad)||void 0===o?void 0:o.split(",")})).body&&E.body.length){const e=E.body,n={};for(let t=0;t<e.length;t++)n[O[t]]=e[t];t(g(n))}else t(j(E.error))}),y=e=>async(t,n,s)=>{let{apiContext:r}=s;var i;const o=n(),c=Object(b.q)(o),d=await a({context:r(),count:1,forceAd:null===(i=null==c?void 0:c.sidebar_ad)||void 0===i?void 0:i.split(",")});d.body&&d.body.length?t(E({[e]:d.body[0]})):t(h(d.error))},T=e=>async(t,n,s)=>{let{apiContext:r}=s;const a=n(),d=Object(b.q)(a),u=Object(b.e)(a),l=await(async e=>{let{context:t,count:n,postId:s,subredditName:r,forceAd:a}=e;const d={count:n,subreddit:r,post_id:s,comments_ad:a};return Object(c.a)(t,{type:"json",endpoint:"".concat(i.a.gatewayUrl,"/desktopapi/v1/comments_page_ads"),method:o.eb.POST,data:d})})({context:r(),count:1,postId:e,subredditName:u,forceAd:d?d.comments_ad:void 0});if(l.body&&l.body.length)return t(I(l.body)),l.body[0].id;t(j(l.error))}},"./src/reddit/actions/apiRequestState.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/models/ApiRequestState/index.ts");const i="API_REQUEST_STATE__STARTED",o="API_REQUEST_STATE__COMPLETED",c="API_REQUEST_STATE__FAILED",a="API_REQUEST_STATE__RELEASED";function d(e){return{type:i,payload:{apiRequestStatus:r.a.Pending,apiRequestId:e}}}function u(e){return{type:o,payload:{apiRequestStatus:r.a.Complete,apiRequestId:e}}}function l(e,t){return{type:c,payload:{apiRequestStatus:r.a.Failed,apiRequestId:e,apiError:t}}}const b=Object(s.a)(a)},"./src/reddit/actions/bulkActions/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const s="BULKACTION_PENDING",r="BULKACTION_LOADED",i="BULKACTION_FAILED"},"./src/reddit/actions/category/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return d}));const s="CATEGORY__LIST_PENDING",r="CATEGORY__LIST_LOADED",i="CATEGORY__LIST_FAILED",o="CATEGORY__SUBREDDITS_PENDING",c="CATEGORY__SUBREDDITS_LOADED",a="CATEGORY__SUBREDDITS_FAILED",d="CATEGORY__RANK_SET"},"./src/reddit/actions/category/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return y}));var s=n("./src/lib/initializeClient/installReducer.ts"),r=n("./src/reddit/reducers/features/categories/index.ts"),i=(n("./node_modules/lodash/isEmpty.js"),n("./node_modules/react-router-redux/es/index.js"),n("./src/lib/makeActionCreator/index.ts")),o=n("./src/reddit/constants/categories.tsx"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts");var l=n("./src/reddit/endpoints/category/subreddits.ts"),b=n("./src/reddit/helpers/localStorage/index.ts"),p=n("./src/reddit/selectors/category.ts"),f=n("./src/reddit/actions/category/constants.ts");Object(s.a)({features:{categories:r.a}});const O=Object(i.a)(f.c),_=Object(i.a)(f.b),m=Object(i.a)(f.a),g=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t(),i=Object(p.i)(r),l=Object(p.h)(r);if(i||l)return;e(O());const b=await(e=>Object(a.a)(Object(d.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/available_subreddit_categories.json?use_extended_categories=true"),method:c.eb.GET}))(s());if(b.ok){const{categories:t,categoryIds:n}=(e=>{const t={},n=[];return e.forEach((e,s)=>{const r={attr:e.category_attr,color:e.category_color||o.a[s%o.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};n.push(r.id),t[r.id]=r}),{categories:t,categoryIds:n}})(b.body);e(_({categories:t,categoryIds:n}))}else e(m(b.error))},j=Object(i.a)(f.g),E=Object(i.a)(f.f),h=Object(i.a)(f.e),I=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=Object(p.n)(o,{id:e}),a=Object(p.m)(o,{id:e});if(c||a)return;n(j({categoryId:e}));const d=await Object(l.a)(i(),e,t);if(d.ok){const t=Object(l.b)(d.body);n(E(Object.assign({categoryId:e},t)))}else n(h({categoryId:e,error:d.error}))},S=Object(i.a)(f.d),y=e=>async(t,n)=>{const s=Object(p.k)(n(),{id:e});t(S({categoryId:e,rank:s+1})),Object(b.T)(Object(p.e)(n()))}},"./src/reddit/actions/changeUsername.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/interceptedAction.ts"),i=n("./src/reddit/actions/modal.ts"),o=n("./src/reddit/components/Settings/modalIds.ts"),c=n("./src/reddit/constants/actions.ts"),a=n("./src/reddit/selectors/interceptedAction.ts");const d="CHANGE_USERNAME_TOOLTIP_CLOSED",u="CHANGE_USERNAME_TOOLTIP_OPENED",l="SAVE_USERNAME_SUCCESS",b=Object(s.a)(d),p=(Object(s.a)(u),Object(s.a)(l)),f=e=>async(t,n)=>{e&&t(Object(r.c)(e)),t(Object(i.h)(o.e))},O=(e,t)=>async(n,s)=>{const i=Object(a.a)(s());if(n(p({username:e})),i){n(((e,t,n)=>{switch(e.type){case c.a:{const{payload:{args:s}}=e;s&&s[0]&&"string"==typeof s[0]&&(s[0]=s[0].split(n).join(t));break}}return e})(i,e,t)),n(Object(r.d)())}}},"./src/reddit/actions/chat/init.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l}));var s=n("./src/chat/customMiddleware/containerSize.ts"),r=n("./src/chat/reducers/subscribe.ts"),i=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeActionCreator/index.ts");let c;let a;const d="CHAT__INITED",u=Object(o.a)(d),l=async(e,t,o)=>a?{chatStore:a,firstInit:!1}:(a=await(async(e,t,s)=>{const r=Date.now(),o=await Object(i.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/initializer.ts"))).then(e=>e.default);return(await o(t(),r,s)).store})(0,t,o),Object(s.b)(a),await(async(e,t,s)=>{if(!c){const o=(await Object(i.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/reddit/actions/chat/proxy.ts"))).then(e=>e.default))(t,s),a=Object(r.b)(e,o);c=e.subscribe(a)}})(a,e,t),e(u()),{chatStore:a,firstInit:!0})},"./src/reddit/actions/chat/toggle.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"f",(function(){return _})),n.d(t,"d",(function(){return m}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/react-router-redux/es/index.js"),r=n("./src/lib/loadWithRetries/index.ts"),i=n("./src/chat/constants/container.ts"),o=n("./src/chat/customMiddleware/containerSize.ts"),c=n("./src/reddit/actions/chat/init.ts"),a=n("./src/reddit/helpers/trackers/authorHovercard.ts");const d=()=>Object(r.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/meta.ts"))).then(e=>e.setExternalData),u=()=>Object(r.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/container.ts"))).then(e=>e.sizeChanged);async function l(e,t,n,r){const[{chatStore:o,firstInit:l},b]=await Promise.all([Object(c.c)(e,t,n),u()]),p=t(),f=await d(),O=Object(a.h)(p,r);o.dispatch(f(O)),o.getState().container.size!==i.a.EMBED&&o.dispatch(b(i.a.EMBED)),!l&&o.dispatch(Object(s.c)(n))}const b=(e,t)=>async(n,s)=>{await l(n,s,e,t)},p=()=>async(e,t)=>Promise.all([Object(c.c)(e,t),u()]).then(e=>{let[{chatStore:t,firstInit:n},s]=e;t.getState().container.size!==i.a.EMBED||n?t.dispatch(s(i.a.EMBED)):t.dispatch(s(i.a.HIDDEN))}),f=(e,t)=>async(s,i)=>{const o=(await(()=>Object(r.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUserIdUrl))())(e);await l(s,i,o,t)},O=e=>{let{channelId:t,channelUrl:s}=e;return async(e,i)=>{if(!s&&t){const e=await(()=>Object(r.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUrl))();s=e(t)}if(!s)throw new Error("Please specify channelUrl or channelId");await l(e,i,s)}},_=e=>async(t,s)=>{if(!c.b)return;const i=await(()=>Object(r.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/theme.ts"))).then(e=>e.switchTheme))();c.b.dispatch(i(e))},m=()=>async(e,t)=>{const n=t(),s=n.user.account&&n.user.account.id||"unknown";Object(o.c)(s)&&Object(c.c)(e,t)}},"./src/reddit/actions/communityFlairs/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o}));const s="TOP_COMMUNITY_FLAIR__FETCH_FAILURE",r="TOP_COMMUNITY_FLAIR__FETCH_PENDING",i="TOP_COMMUNITY_FLAIR__FETCH_SUCCESS",o="COMMUNITY_FLAIR__ADD_FLAIRS"},"./src/reddit/actions/communityFlairs/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return T}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/lodash/camelCase.js"),r=n.n(s),i=n("./node_modules/lodash/isEmpty.js"),o=n.n(i),c=n("./node_modules/lodash/omit.js"),a=n.n(c),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/endpoints/flair/index.ts"),l=n("./src/reddit/helpers/flair.ts"),b=n("./src/reddit/models/Flair/index.ts"),p=n("./src/reddit/selectors/communityFlairs.ts"),f=n("./src/reddit/selectors/subreddit.ts"),O=n("./src/reddit/actions/communityFlairs/constants.ts");const _=Object(d.a)(O.c),m=Object(d.a)(O.d),g=Object(d.a)(O.b),j=Object(d.a)(O.a),E=e=>{const t={};for(const n in e){t[r()(n)]=e[n]}return t},h=(e,t)=>async(n,s)=>{const i=s(),c=Object(p.b)(i,t),d=Object(p.c)(i,t)||[],u=(e=>{const t={};return e.map(e=>{const n=Object(l.g)(e),s=r()(n),i=s&&t.hasOwnProperty(s);e.type!==b.f.Spoiler&&e.type!==b.f.Nsfw&&(i||(t[s]=Object.assign(Object.assign({},e),{id:s})))}),t})(e),f=a()(u,d);if(o()(f))return;const O=Object.keys(f),_=d?d.concat(O):O,m=c?Object.assign(Object.assign({},c),f):f;n(j({models:m,sortedKeys:_,subredditId:t}))},I=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=Object(f.F)(n(),e);t(_());const o=await Object(u.c)(r(),e);if(o.ok){const e=o.body.map(E).map(e=>Object(l.c)(e));t(h(e,i)),t(m())}else t(g())},S=(e,t)=>{const n=[];for(const s in e){const r=e[s],i=r.belongsTo&&r.belongsTo.id===t;r.flair&&r.flair.length&&i&&n.push(...r.flair)}return n},y=e=>{const t=e&&e.data&&e.data.content&&e.data.content.widgets;if(t){const e=t.items;for(const t in e){const n=e[t];if("post-flair"===n.kind)return n}}},T=e=>{const t=[],{templates:n}=e;for(const s in n){const e=n[s];e&&t.push(e)}return t}},"./src/reddit/actions/contentGate.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return _})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return S})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return T})),n.d(t,"t",(function(){return D})),n.d(t,"p",(function(){return v})),n.d(t,"u",(function(){return R})),n.d(t,"s",(function(){return A})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return C}));var s=n("./src/config.ts"),r=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts"),a=n("./src/reddit/endpoints/user/preferences.ts"),d=n("./src/reddit/selectors/user.ts");const u="CONTENTGATE__VISITED_GOLD_SUBREDDIT",l="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",b="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",p="CONTENTGATE__SET_OVER_18_PREF",f="CONTENTGATE__VISITED_BANNED_SUBREDDIT",O="CONTENTGATE__VISITED_SUBREDDIT_BLOCKED_FOR_LEGAL_REASON",_="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",m="CONTENTGATE__VISITED_DELETED_PROFILE",g="CONTENTGATE__VISITED_SUSPENDED_PROFILE",j="CONTENTGATE__VISITED_PROFILE_BLOCKED_FOR_LEGAL_REASON",E=Object(o.a)(p),h=Object(o.a)(f),I=Object(o.a)(O),S=Object(o.a)(_),y=Object(o.a)(u),T=Object(o.a)(l),D=Object(o.a)(b),v=Object(o.a)(m),R=Object(o.a)(g),A=Object(o.a)(j),w=()=>{const e=new Date;e.setFullYear(e.getFullYear()+2),i.a.set(c.f,"1",{expires:e,domain:s.a.cookieDomain})},C=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t();Object(d.J)(r)&&r.platform.currentPage&&await Object(a.f)(s()),e(E({over18:!0}))}},"./src/reddit/actions/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return I})),n.d(t,"h",(function(){return D}));var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),o=(n("./src/lib/addQueryParams/index.ts"),n("./src/lib/makeApiRequest/index.ts")),c=n("./src/lib/omitHeaders/index.ts"),a=(n("./src/lib/stringInterpolate/index.ts"),n("./src/reddit/constants/headers.ts")),d=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts");var l=n("./src/reddit/selectors/discoveryUnit.ts"),b=n("./src/reddit/selectors/listings.ts");const p="DISCOVERY_UNIT__LIST_PENDING",f="DISCOVERY_UNIT__LIST_LOADED",O="DISCOVERY_UNIT__LIST_FAILED",_=Object(r.a)(p),m=Object(r.a)(f),g=Object(r.a)(O),j=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t(),i=Object(l.e)(r),o=Object(l.d)(r);if(i||o)return;e(_());const c=await(e=>Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_70",enabled:!0,layout:"large",surface:"search",unit_name:"search_posts",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_71",enabled:!0,layout:"large",surface:"search",unit_name:"search_subreddits",unit_type:"community_category",url:"/api/subreddits_in_category.json"},{id:"xd_72",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"community_banner_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_83",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"best_of_community",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_88",enabled:!0,layout:"large",surface:"front_page",title:"Similar communities to %{subredditName}",unit_name:"chaining_similar_subreddits_posts",unit_type:"listing"},{id:"xd_89",enabled:!0,layout:"large",surface:"front_page",title:"Mildy similar posts",unit_name:"chaining_similar_posts",unit_type:"listing"},{id:"xd_91",enabled:!0,layout:"large",surface:"comments",title:"Posts in subreddit %{subredditName}",unit_name:"posts_in_subreddit_vertical",unit_type:"listing"},{id:"xd_92",enabled:!0,layout:"large",surface:"comments",title:"Posts in recommended home",unit_name:"posts_in_rec_home",unit_type:"listing"},{id:"xd_96",enabled:!0,layout:"small",surface:"subreddit_listing",unit_name:"top_week_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_97",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"top_week_posts_large",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"}]}}}}))(s());if(c.ok){const{discoveryUnits:t}=(e=>{return{discoveryUnits:e.global.discovery_config_v1.discovery_units.reduce((e,t)=>{const n={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[n.id]=n,e},{})}})(c.body);e(m({discoveryUnits:t}))}else e(g({error:c.error}))},E="DISCOVERY_UNIT__UNIT_DATA_PENDING",h="DISCOVERY_UNIT__UNIT_DATA_LOADED",I="DISCOVERY_UNIT__UNIT_DATA_FAILED",S=Object(r.a)(E),y=Object(r.a)(h),T=Object(r.a)(I),D=(e,t)=>async(n,r,l)=>{let{apiContext:p}=l;const f=r(),O=Object(i.a)(e,s.P.HOT,{category:t}),_=Object(b.h)(f,{listingKey:O}),m=!!f.listings.listingOrder.fetchedTokens[O];if(_||m)return;n(S({key:O}));const g=await((e,t)=>Object(o.a)(Object(c.a)(e,[a.a]),{endpoint:Object(u.a)("".concat(e.apiUrl,"/api/posts_in_category.json?category=").concat(t)),method:s.eb.GET}))(p(),t);if(g.ok){const{postIds:e,posts:t}=(e=>{const t=[],n={};return e.data.children.forEach(e=>{const s=Object(d.a)(e.data);t.push(s.id),n[s.id]=s}),{postIds:t,posts:n}})(g.body),s=e.length>0?e.length-1:0;n(y({key:O,meta:f.meta,postIds:e,posts:t,token:e[s]}))}else n(T({key:O,error:g.error}))}},"./src/reddit/actions/downToChat.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return I})),n.d(t,"e",(function(){return S})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return v})),n.d(t,"j",(function(){return k})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return U}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/chat/toggle.ts"),i=n("./src/reddit/actions/modal.ts"),o=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/constants/modals.ts"),a=n("./src/config.ts"),d=n("./src/lib/constants/index.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/constants/headers.ts");const p="".concat("api/v1","/sendbird");var f=n("./src/reddit/helpers/parseUrl.ts"),O=n("./src/reddit/selectors/telemetry.ts"),_=n("./src/telemetry/models/Event.ts");var m=n("./src/reddit/models/Toast/index.ts"),g=n("./src/reddit/selectors/downToChat.ts"),j=n("./src/telemetry/index.ts");const{fbt:E}=n("./node_modules/fbt/lib/FbtPublic.js"),h="FETCH_DOWN_TO_CHAT_AVAILABILITY__PENDING",I="FETCH_DOWN_TO_CHAT_AVAILABILITY__SUCCESS",S="FETCH_DOWN_TO_CHAT_AVAILABILITY__FAILED",y="DISMISS_DOWN_TO_CHAT_BANNER__PENDING",T="DISMISS_DOWN_TO_CHAT_BANNER__SUCCESS",D="DISMISS_DOWN_TO_CHAT_BANNER__FAILED",v="DISMISS_EACH_SUBREDDIT_BANNER",R=Object(s.a)(h),A=Object(s.a)(I),w=Object(s.a)(S),C=Object(s.a)(y),P=Object(s.a)(T),x=(Object(s.a)(D),Object(s.a)(v)),k=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n();if(Object(g.a)(i,e))return;t(R({subredditId:e}));const o=await(async(e,t)=>Object(u.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(a.a.sendbirdServiceUrl,"/").concat(p,"/down_to_chat/availability"),method:d.eb.GET,type:"json",data:{subreddit_id:t},timeoutMs:650}))(r(),e);if(o.ok&&o.body){const{feature_enabled:n,experiment_enabled:s}=o.body;if(t(A({subredditId:e,bannerEnabled:n,buttonEnabled:s})),n){const e=(e=>Object.assign({source:_.b.Chat,action:_.a.View,noun:"down_to_chat_subreddit_entry",subreddit:Object(O.subreddit)(e)},Object(O.defaults)(e)))(i);Object(j.a)(e)}}else t(w({subredditId:e,error:"Failed to fetch subreddit's down to chat availability data"}))},N=e=>async(t,n,s)=>{let{apiContext:r}=s;t(C({subredditId:e}));const i=await(async(e,t)=>Object(u.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(a.a.sendbirdServiceUrl,"/").concat(p,"/down_to_chat/availability"),method:d.eb.DELETE,data:{subreddit_id:t}}))(r(),e);if(i.ok&&i.body){const{feature_enabled:n,experiment_enabled:s}=i.body;t(P({subredditId:e,bannerEnabled:n,buttonEnabled:s})),n||t(x())}const o=(e=>Object.assign({source:_.b.Chat,action:_.a.Dismiss,noun:"down_to_chat_subreddit_entry",subreddit:Object(O.subreddit)(e)},Object(O.defaults)(e)))(n());Object(j.a)(o)},U=e=>async(t,n,s)=>{let{apiContext:g}=s;const h=await(async(e,t)=>Object(u.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(a.a.sendbirdServiceUrl,"/").concat(p,"/down_to_chat/join"),method:d.eb.POST,type:"json",data:{subreddit_id:t}}))(g(),e);if(h.ok&&h.body){t(Object(i.i)(c.a.DOWN_TO_CHAT_PENDING_MODAL));const{deeplink_url:e}=h.body,n=Object(f.a)(e);n&&n.pathname&&t(Object(r.c)({channelUrl:n.pathname}))}else t(Object(o.e)({kind:m.b.Error,duration:o.a,text:E._("Failed to join a subreddit channel",null,{hk:"mZam3"})}));setTimeout(()=>t(Object(i.f)()),1e3);const I=(e=>Object.assign({source:_.b.Chat,action:_.a.Click,noun:"down_to_chat_subreddit_entry",subreddit:Object(O.subreddit)(e)},Object(O.defaults)(e)))(n());Object(j.a)(I)}},"./src/reddit/actions/economics/helpers/async.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>async t=>{const s=await(()=>Promise.all([n.e("vendors~EconHelperActions~SubredditPremiumBadgeManagement~reddit-components-Econ-Prediction"),n.e("EconHelperActions~reddit-components-Econ-Prediction"),n.e("EconHelperActions")]).then(n.bind(null,"./src/reddit/actions/economics/helpers/index.ts")).then(e=>e.fetchAll))();await t(s(e))}},"./src/reddit/actions/emailVerificationTooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var s=n("./src/lib/makeActionCreator/index.ts");const r="EMAIL_VERIFICATION_TOOLTIP_TOGGLED",i=Object(s.a)(r)},"./src/reddit/actions/embedAndImage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c}));var s=n("./src/lib/makeActionCreator/index.ts");const r="EMBEDS__UNLOADABLE",i="EMBEDS__LOADABLE",o=Object(s.a)(r),c=Object(s.a)(i)},"./src/reddit/actions/externalAccount.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return E})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return S})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return T})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return x})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return U})),n.d(t,"n",(function(){return F})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return V})),n.d(t,"d",(function(){return q})),n.d(t,"m",(function(){return Y}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/addQueryParams/index.ts"),o=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/constants/parameters.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/reddit/constants/headers.ts"),b=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const p=e=>{return e.reduce((e,t)=>(e[t.provider]=t,e),{})};var f=n("./src/reddit/models/Toast/index.ts"),O=n("./src/reddit/models/User/index.ts"),_=n("./src/reddit/selectors/externalAccount.ts"),m=n("./src/reddit/selectors/platform.ts"),g=n("./src/reddit/selectors/subreddit.ts"),j=n("./src/reddit/selectors/user.ts");const E="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",h="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",I="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",S="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",y="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",T="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",D=Object(r.a)(E),v=Object(r.a)(h),R=Object(r.a)(I),A=Object(r.a)(S),w=Object(r.a)(y),C=Object(r.a)(T),P=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n(),o=Object(j.i)(i),c=e||o&&Object(O.e)(o);if(!c)return;if(Object(_.d)(i,{username:c}))return;t(D(c));const f=await((e,t)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)("".concat(e.apiUrl,"/api/v1/external_account/user/").concat(t,".json")),traceRequestName:"get_external_accounts",method:a.eb.GET}))(r(),c);if(f.ok){const e=p(f.body);t(v({username:c,accountsData:e}))}else t(R(f.error))},x=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t(),i=Object(m.e)(r);if(!i)return;const o=r.externalAccount.api.subreddit.fetched[i],c=r.externalAccount.api.subreddit.pending[i];if(o||c)return;const f=Object(g.x)(r,{subredditName:i});if(!(f&&f.hasExternalAccount))return;e(A(i));const O=await((e,t)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)("".concat(e.apiUrl,"/api/v1/external_account/subreddit/").concat(t,".json")),method:a.eb.GET}))(s(),i);if(O.ok){const t=p(O.body);e(w({subredditName:i,accountsData:t}))}else e(C(O.error))},k="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",N="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",U="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",L=Object(r.a)(k),M=Object(r.a)(N),G=Object(r.a)(U),F=e=>async(t,n,s)=>{let{apiContext:r}=s;t(L({provider:e}));const i=Object(j.i)(n()),o=Object(O.e)(i),c=await((e,t)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/disconnect.json")),method:a.eb.POST}))(r(),e);c.ok?t(M({provider:e,username:o})):t(G({provider:e,error:c.error}))},B="OAUTH_FLOW_URL_PENDING",V="OAUTH_FLOW_URL_SUCCESS",q="OAUTH_FLOW_URL_FAILED",W=Object(r.a)(B),H=Object(r.a)(V),K=Object(r.a)(q),Y=e=>async(t,n,r)=>{let{apiContext:p}=r;t(W({provider:e}));const O=Object(i.a)(window.location.href,{[c.d]:e}),_=await((e,t,n)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/connect.json")),method:a.eb.POST,data:{redirect_url:n}}))(p(),e,O);if(_.ok){const{redirect_url:n}=_.body;t(H({provider:e})),window.location.href=n}else t(K({provider:e,error:_.error})),t(Object(o.e)({kind:f.b.Error,text:s.fbt._("Something went wrong. Just don't panic.",null,{hk:"196FiB"})}))}},"./src/reddit/actions/focusedVerticals/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return y}));var s,r=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/focusedVerticals/constants.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/graphql/operations/SubredditGeoRecommendationViaFocusVertical.json");!function(e){e.LoggedInGeo="2.1",e.LoggedOutGeo="2.1"}(s||(s={}));var a,d=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts");!function(e){e.DEFAULT="DEFAULT",e.GEO="GEO"}(a||(a={}));var l=n("./src/reddit/selectors/focusedVerticalSuggestion.ts"),b=n("./src/reddit/selectors/user.ts");const p=Object(r.a)(i.g),f=Object(r.a)(i.e),O=Object(r.a)(i.h),_=Object(r.a)(i.c),m=Object(r.a)(i.f),g=Object(r.a)(i.j),j=Object(r.a)(i.i),E=()=>async(e,t,n)=>{let{gqlContext:r}=n;const i=t(),a=Object(l.e)(i),m=Object(l.d)(i),g=Object(b.I)(i);if(a||!m)return;e(O());let j=!1;try{const t=g?s.LoggedInGeo:s.LoggedOutGeo,n=await((e,t,n)=>Object(o.a)(e,Object.assign(Object.assign({},c),{variables:{version:t,isNsfwIncluded:!1}})))(r(),t);if(n.ok&&n.body){const{data:t}=n.body;if(h(t)){if(I(t)){e(_({recommendedSubredditIds:[],interactedSubredditIds:[],category:"",lastLoadedEnv:"client"})),j=!0}else if(S(t)){const n=t.focusVerticalSubredditRecommendations,{recommendedSubreddit:s,interactedSubreddit:r,category:i}=n.focusRecommendations[0],o=[s,r],c=Object(u.d)(o),a=Object(d.b)(o),l=Object(u.c)(s),b={recommendedSubredditIds:[s.id],interactedSubredditIds:[r.id],subreddits:c,subredditsAboutInfo:a,subredditTopContent:l,category:i,lastLoadedEnv:"client"};e(p(b)),j=!0}}else j=!1}}catch(E){j=!1}j||e(f({error:{type:"Focused vertical experiment GQL API failed or caught by try and catch"}}))},h=e=>{const t=e.focusVerticalSubredditRecommendations;return!(!t||!t.focusRecommendations)},I=e=>{const t=e.focusVerticalSubredditRecommendations,n=t&&t.focusRecommendations;return!(!n||0!==n.length)},S=e=>{const t=e.focusVerticalSubredditRecommendations,n=t&&t.focusRecommendations,s=t&&t.type;return!!(n&&!I(e)&&s===a.GEO&&n[0]&&n[0].recommendedSubreddit&&n[0].interactedSubreddit)},y=()=>async(e,t,n)=>{const s=t(),r=Object(l.g)(s);return Object(l.f)(s)||null===r||"client"===r?e(E()):"server"===r?e(m({lastLoadedEnv:"client"})):void 0}},"./src/reddit/actions/global/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s="LOCAL_STORAGE_LOADED"},"./src/reddit/actions/gold/constants.ts":function(e,t,n){"use strict";n.d(t,"N",(function(){return s})),n.d(t,"g",(function(){return r})),n.d(t,"M",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"L",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"eb",(function(){return l})),n.d(t,"fb",(function(){return b})),n.d(t,"db",(function(){return p})),n.d(t,"K",(function(){return f})),n.d(t,"J",(function(){return O})),n.d(t,"I",(function(){return _})),n.d(t,"e",(function(){return m})),n.d(t,"O",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return E})),n.d(t,"k",(function(){return h})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return S})),n.d(t,"n",(function(){return y})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return v})),n.d(t,"ib",(function(){return R})),n.d(t,"A",(function(){return A})),n.d(t,"E",(function(){return w})),n.d(t,"z",(function(){return C})),n.d(t,"B",(function(){return P})),n.d(t,"D",(function(){return x})),n.d(t,"C",(function(){return k})),n.d(t,"F",(function(){return N})),n.d(t,"s",(function(){return U})),n.d(t,"w",(function(){return L})),n.d(t,"v",(function(){return M})),n.d(t,"r",(function(){return G})),n.d(t,"t",(function(){return F})),n.d(t,"q",(function(){return B})),n.d(t,"u",(function(){return V})),n.d(t,"hb",(function(){return q})),n.d(t,"gb",(function(){return W})),n.d(t,"x",(function(){return H})),n.d(t,"y",(function(){return K})),n.d(t,"G",(function(){return Y})),n.d(t,"mb",(function(){return z})),n.d(t,"lb",(function(){return J})),n.d(t,"jb",(function(){return Q})),n.d(t,"kb",(function(){return X})),n.d(t,"wb",(function(){return Z})),n.d(t,"vb",(function(){return $})),n.d(t,"ub",(function(){return ee})),n.d(t,"cb",(function(){return te})),n.d(t,"bb",(function(){return ne})),n.d(t,"ab",(function(){return se})),n.d(t,"V",(function(){return re})),n.d(t,"W",(function(){return ie})),n.d(t,"U",(function(){return oe})),n.d(t,"Q",(function(){return ce})),n.d(t,"R",(function(){return ae})),n.d(t,"P",(function(){return de})),n.d(t,"T",(function(){return ue})),n.d(t,"S",(function(){return le})),n.d(t,"H",(function(){return be})),n.d(t,"Z",(function(){return pe})),n.d(t,"Y",(function(){return fe})),n.d(t,"X",(function(){return Oe})),n.d(t,"a",(function(){return _e})),n.d(t,"nb",(function(){return me})),n.d(t,"ob",(function(){return ge})),n.d(t,"pb",(function(){return je})),n.d(t,"qb",(function(){return Ee})),n.d(t,"rb",(function(){return he})),n.d(t,"sb",(function(){return Ie})),n.d(t,"tb",(function(){return Se}));const s="GIVE_PREMIUM__OPEN_GIVE_PREMIUM_MODAL",r="GIVE_PREMIUM__CLOSE_GIVE_PREMIUM_MODAL",i="GILD__OPEN_GILD_MODAL",o="GILD__CLOSE_GILD_MODAL",c="GILD__OPEN_FRAMED_GILD",a="COMMUNITY_AWARDS__CREATE_AWARD_PENDING",d="COMMUNITY_AWARDS__CREATE_AWARD_SUCCESSFUL",u="COMMUNITY_AWARDS__CREATE_AWARD_FAILED",l="COMMUNITY_AWARDS__REMOVE_PENDING",b="COMMUNITY_AWARDS__REMOVE_SUCCESSFUL",p="COMMUNITY_AWARDS__REMOVE_FAILED",f="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_PENDING",O="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_LOADED",_="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_FAILED",m="COMUNITY_AWARDS__BLACKLIST_STATUS_LOADED",g="COMMUNITY_AWARDS__OPTIONAL_AWARDS_LOADED",j="COMMUNITY_AWARDS__DISABLE_PENDING",E="COMMUNITY_AWARDS__DISABLE_SUCCESSFUL",h="COMMUNITY_AWARDS__DISABLE_FAILED",I="COMMUNITY_AWARDS__ENABLE_PENDING",S="COMMUNITY_AWARDS__ENABLE_SUCCESSFUL",y="COMMUNITY_AWARDS__ENABLE_FAILED",T="AWARD_SHEET__INFO_PENDING",D="AWARD_SHEET__INFO_LOADED",v="AWARD_SHEET__INFO_FAILED",R="COINS__SUBREDDIT_LOCKED_COINS_LOADED",A="GIVE_PREMIUM__GIVE_PREMIUM_PENDING",w="GIVE_PREMIUM__GIVE_PREMIUM_SUCCESSFUL",C="GIVE_PREMIUM__GIVE_PREMIUM_FAILED",P="GIVE_PREMIUM__SELECT_PACKAGE",x="GIVE_PREMIUM__SET_IS_ANONYMOUS",k="GIVE_PREMIUM__SET_INCLUDE_MESSAGE",N="GIVE_PREMIUM__UPDATE_MESSAGE",U="GILD__SET_IS_ANONYMOUS",L="GILD__UPDATE_MESSAGE",M="GILD__TRIGGER_LOADER",G="GILD__GILD_PENDING",F="GILD__GILD_SUCCESSFUL",B="GILD__GILD_FAILED",V="GILD__GILD_THING",q="GIVE_AWARD__SELECT_AWARD",W="AWARDS__REPORT_AWARD",H="AWARDS__GIVE_AWARD_TOOLTIP_CLOSED",K="AWARDS__GIVE_AWARD_TOOLTIP_OPENED",Y="AWARDS__HIDE_AWARD",z="POWERUPS__SUBREDDIT_POWERUPS_PENDING",J="POWERUPS__SUBREDDIT_POWERUPS_LOADED",Q="POWERUPS__SUBREDDIT_POWERUPS_FAILED",X="POWERUPS__SUBREDDIT_POWERUPS_FULL_LOADED",Z="POWERUPS__USER_POWERUPS_PENDING",$="POWERUPS__USER_POWERUPS_LOADED",ee="POWERUPS__USER_POWERUPS_FAILED",te="POWERUPS__REDDITOR_POWERUPS_PENDING",ne="POWERUPS__REDDITOR_POWERUPS_LOADED",se="POWERUPS__REDDITOR_POWERUPS_FAILED",re="POWERUPS__REALLOCATE_PENDING",ie="POWERUPS__REALLOCATE_SUCCESSFUL",oe="POWERUPS__REALLOCATE_FAILED",ce="POWERUPS__CANCEL_PAYMENT_PENDING",ae="POWERUPS__CANCEL_PAYMENT_SUCCESSFUL",de="POWERUPS__CANCEL_PAYMENT_FAILED",ue="POWERUPS__PAYMENT_COMPLETED",le="POWERUPS_PURCHASE__POWERUPS_COUNT_CHANGED",be="POWERUPS_PURCHASE__IS_ANONYMOUS_CHANGED",pe="PRODUCT_OFFERS__OFFERS_PENDING",fe="PRODUCT_OFFERS__OFFERS_LOADED",Oe="PRODUCT_OFFERS__OFFERS_FAILED",_e="GILD__AWARD_KARMA_UPDATED",me="TOP_AWARDED__POSTS_FAILED",ge="TOP_AWARDED__POSTS_LOADED",je="TOP_AWARDED__POSTS_PENDING",Ee="TOP_AWARDERS__LEADERBOARD_FAILED",he="TOP_AWARDERS__LEADERBOARD_LOADED",Ie="TOP_AWARDERS__LEADERBOARD_PENDING",Se="TOP_AWARDERS__MODAL_OPENED"},"./src/reddit/actions/gold/powerups.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return S})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return q})),n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return H})),n.d(t,"b",(function(){return K}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/constants/modals.ts"),c=n("./src/reddit/helpers/localStorage/index.ts"),a=n("./src/reddit/actions/login.ts"),d=n("./src/reddit/actions/modal.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/graphql/operations/ReallocatePowerups.json"),p=n("./src/graphql/operations/RedditorPowerups.json"),f=n("./src/graphql/operations/SubredditPowerups.json"),O=n("./src/graphql/operations/SubredditPowerupsFull.json"),_=n("./src/graphql/operations/UserPowerups.json"),m=n("./src/lib/makeGqlRequest/index.ts");const g=(e,t,n)=>Object(m.a)(e,Object.assign(Object.assign({},f),{variables:{subredditId:t,includeIdentity:n}}),{traceRequestName:"subreddit_powerups"}),j=(e,t,n)=>Object(m.a)(e,Object.assign(Object.assign({},O),{variables:{subredditId:t,includeIdentity:n}}),{traceRequestName:"subreddit_powerups_full"});var E=n("./src/reddit/selectors/gold/powerups.ts"),h=n("./src/reddit/selectors/user.ts"),I=n("./src/reddit/actions/gold/constants.ts");const S=e=>async(t,n,r)=>{let{gqlContext:o}=r;if(!!n().user.powerups.fetched&&!e)return;t(y());const c=s.fbt._("Something went wrong",null,{hk:"1IJNeH"});try{const e=await(e=>Object(m.a)(e,_,{traceRequestName:"user_powerups"}))(o());if(e.ok){const n=e.body;if(n.errors&&n.errors.length)return void(await t(v(c)));if(!n.data.identity)return void(await t(D(c)));await t(T({powerups:n.data.identity.powerups}))}}catch(a){i.c.captureException(a),await t(v(c))}},y=Object(r.a)(I.wb),T=Object(r.a)(I.vb),D=Object(r.a)(I.ub),v=e=>async(t,n)=>{await t(D(e)),t(Object(u.e)({kind:l.b.Error,duration:u.a,text:e}))},R=(e,t)=>async(e,n,r)=>{let{gqlContext:o}=r;var c;if(!!n().users.powerups.fetched)return;e(A());const a=s.fbt._("Something went wrong",null,{hk:"1IJNeH"});try{const n=await((e,t)=>Object(m.a)(e,Object.assign({variables:{id:t}},p),{traceRequestName:"redditor_powerups"}))(o(),t);if(n.ok){const s=n.body;if(s.errors&&s.errors.length)return void(await e(P(a)));if(!s.data.redditorInfoById)return void(await e(C(a)));const r=(null===(c=s.data.redditorInfoById.powerups)||void 0===c?void 0:c.supportedSubreddits)||[];await e(w({supportedSubreddits:r,userId:t}))}}catch(d){i.c.captureException(d),await e(P(a))}},A=Object(r.a)(I.cb),w=Object(r.a)(I.bb),C=Object(r.a)(I.ab),P=e=>async(t,n)=>{await t(C(e)),t(Object(u.e)({kind:l.b.Error,duration:u.a,text:e}))},x=(e,t)=>async(n,r,o)=>{let{gqlContext:c}=o;var a,d;const u=r();if(Object(E.f)(u,{subredditId:e})&&(!t.fullData||Object(E.g)(u,{subredditId:e}))&&!t.forceLoad)return;n(k());const l=t.fullData?j:g;try{const s=await l(c(),e,!!t.includeIdentity);if(s.ok){const r=s.body;if(null===(a=r.errors)||void 0===a?void 0:a.length)return void(await n(M(r.errors[0].message)));if(t.fullData){const{powerups:t=null,supporters:s=null,productOffers:i=null}=r.data.subredditInfoById||{},o=null===(d=r.data.identity)||void 0===d?void 0:d.powerups;await n(U({powerups:t,productOffers:i?i.offers:[],recentSupporters:s?s.recentSupporters:[],subredditId:e,topSupporters:s?s.topSupporters:[],userPowerups:o}))}else{const{powerups:t=null}=r.data.subredditInfoById||{};await n(N({powerups:t,subredditId:e}))}}}catch(b){i.c.captureException(b),await n(M(s.fbt._("Something went wrong",null,{hk:"1IJNeH"})))}},k=Object(r.a)(I.mb),N=Object(r.a)(I.lb),U=Object(r.a)(I.kb),L=Object(r.a)(I.jb),M=e=>async(t,n)=>{await t(L(e)),t(Object(u.e)({kind:l.b.Error,duration:u.a,text:e}))},G=Object(r.a)(I.U),F=Object(r.a)(I.V),B=Object(r.a)(I.W),V=e=>async(t,n)=>{await t(G(e)),t(Object(u.e)({kind:l.b.Error,duration:u.a,text:e}))},q=(e,t,n,r)=>async(c,a,p)=>{let{gqlContext:f}=p;c(F({subredditId:e,powerupsCount:t,isAnonymous:n,allocatedAt:r}));try{const i={subredditId:e,powerupsCount:t,isAnonymous:n},p=await((e,t)=>Object(m.a)(e,Object.assign(Object.assign({},b),{variables:t})))(f(),{input:i});let O=!1,_=null;if(p.ok){const e=p.body;O=e.data.reallocatePowerups.ok,_=e.data.reallocatePowerups.errors}const g=Object(h.i)(a());if(O&&g)await c((e=>async(t,n)=>{t(B(e)),t(x(e.subredditId,{forceLoad:!0,fullData:!1})),e.powerupsCount&&(t(Object(d.g)(o.a.ECON_POWERUPS_PURCHASE)),t(Object(u.e)({kind:l.b.SuccessCommunityGreen,duration:u.a,text:e.powerupsCount>0?s.fbt._("Your free Powerup has been applied.",null,{hk:"1qt70H"}):s.fbt._("Your free Powerup subscription has been canceled.",null,{hk:"15U3sb"})})))})({subredditId:e,powerupsCount:t,isAnonymous:n,user:g,allocatedAt:r}));else{const e=_&&_[0]&&_[0].message||s.fbt._("An unknown error occurred",null,{hk:"2oAbwZ"});await c(V(e))}}catch(O){i.c.captureException(O);const e=O,t=e&&e.message||s.fbt._("An unknown error occurred",null,{hk:"2oAbwZ"});await c(V(t))}},W=Object(r.a)(I.H),H=Object(r.a)(I.S),K=()=>async(e,t)=>Object(h.i)(t())?Object(c.u)(o.a.ECON_POWERUPS_MARKETING)?e(Object(d.h)(o.a.ECON_POWERUPS_PURCHASE)):e(Object(d.h)(o.a.ECON_POWERUPS_MARKETING)):e(Object(a.h)())},"./src/reddit/actions/gold/tooltips.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return _}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/lib/constants/index.ts"),i=n("./src/reddit/constants/localStorage.ts"),o=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/gold/purchaseCatalog.ts"),a=n("./src/reddit/actions/tooltip.ts"),d=n("./src/reddit/components/Flatlist/getFlatlistTooltipId.ts"),u=n("./src/reddit/endpoints/user/index.ts"),l=n("./src/reddit/actions/gold/constants.ts");const b=Object(s.a)(l.x),p=Object(s.a)(l.y),f=(e,t)=>async(n,s,i)=>{let{apiContext:o}=i;n(p(e)),n(Object(a.h)({tooltipId:Object(d.a)(r.dc,e,t?"lightbox":void 0)})),Object(u.c)(o())},O=()=>async(e,t,n)=>{let{apiContext:s}=n;e(b()),e(Object(a.i)())},_=(e,t)=>async(n,s,u)=>{let{apiContext:l}=u;!Object(o.i)(i.a.GIVE_FREE_AWARD_TOOLTIP_STORE)&&Object(c.b)(s())&&(n(Object(a.h)({tooltipId:Object(d.a)(r.dc,e,t?"lightbox":void 0)})),Object(o.X)(i.a.GIVE_FREE_AWARD_TOOLTIP_STORE))}},"./src/reddit/actions/grantUserFlair/constants.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));const s="SUBREDDIT__FLAIRED_USERS_PENDING",r="SUBREDDIT__FLAIRED_USERS_LOADED",i="SUBREDDIT__FLAIRED_USERS_FAILED",o="SUBREDDIT__FLAIRED_USERS_SEARCH_PENDING",c="SUBREDDIT__FLAIRED_USERS_SEARCH_LOADED",a="SUBREDDIT__FLAIRED_USERS_SEARCH_FAILED",d="SUBREDDIT__FLAIRED_USERS_OWNFLAIR_CHANGED",u="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_ADDED",l="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_CHANGED",b="SUBREDDIT__FLAIRED_USERS_DELETE_PENDING",p="SUBREDDIT__FLAIRED_USERS_DELETE_COMPLETED",f="SUBREDDIT__FLAIRED_USERS_DELETE_FAILED"},"./src/reddit/actions/header.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p}));var s=n("./src/lib/makeActionCreator/index.ts");const r="HEADER__SUBSCRIPTIONS_PINNED",i="HEADER__SUBSCRIPTIONS_UNPINNED",o=Object(s.a)(r),c=Object(s.a)(i),a="HEADER__DROPDOWN_CLOSED",d="HEADER__DROPDOWN_OPENED",u="HEADER__DROPDOWN_TOGGLED",l=Object(s.a)(a),b=Object(s.a)(d),p=Object(s.a)(u)},"./src/reddit/actions/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"l",(function(){return _})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"m",(function(){return I}));n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/lib/sentry/index.ts"),i=n("./src/lib/uploadToS3/index.ts"),o=n("./src/reddit/helpers/getGenericUploadError.ts"),c=n("./src/reddit/models/Image/index.tsx"),a=n("./src/reddit/selectors/imageUploads.ts");const d="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",u="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",l="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",b="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",p="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",f=Object(s.a)(d),O=Object(s.a)(u),_=Object(s.a)(l),m=Object(s.a)(b),g=Object(s.a)(p),j=async(e,t,n,s)=>{if(!t.ok)throw Object(c.k)(n,t.error);let r,o=t.body;"s3UploadLease"in o&&(o=o.s3UploadLease,r=t.body.websocketUrl);const a=await Object(i.a)(n.file,o);if(a.ok){if(!e.imageUploads[n.id])return void Object(c.d)(n);const t=decodeURIComponent(a.body.PostResponse.Location);return Object(c.n)(n,t,r,s)}throw Object(c.k)(n,a.error)};function E(e){return e.split("/").pop()}const h=(e,t)=>new Promise((n,s)=>{const i=Object(a.c)(e,t);if(!i.length)return n(null);const o=i[0].websocketUrl;if(!o)return s(new Error("ImageUploads: No websocket URL found"));const c={};for(let e=0;e<i.length;e++){const t=i[e],n=E(t.url);c[n]=t}const d=i.length,u=new WebSocket(o);u.onopen=e=>{u.onerror=null,n({websocket:u,imagesByKey:c,imageCount:d})},u.onerror=e=>{u.close();const t=new Error("ImageUploads: Failed to connect to websocket");r.c.captureException(t),s()}}),I=e=>(t,n,s)=>{let{apiContext:i}=s;return new Promise((n,s)=>{const{websocket:i}=e;let{imageCount:a,imagesByKey:d}=e;function u(){for(const e in d){const n=d[e],s=Object(c.o)(n,n.url);t(_(s))}n(),i.close()}d=Object.assign({},d);let l=setTimeout(u,6e4);i.onmessage=e=>{clearTimeout(l);const s=JSON.parse(e.data);if(s&&"success"===s.type){const e=s.payload.url,n=E(e),r=d[n];if(!r)return;a-=1,delete r[n];const i=Object(c.o)(r,e);t(_(i))}else{const e=E(s.payload.image_key),n=d[e];if(!n)return;a-=1,delete n[e];const r=Object(o.a)(s.payload.image_key),i=Object(c.k)(n,r);t(m(i))}a?l=setTimeout(u,6e4):(i.close(),n())},i.onerror=e=>{clearTimeout(l);const n=Object(o.a)("websocket");for(const s in d){const e=d[s],r=Object(c.k)(e,n);t(m(r))}i.close();const a=new Error("ImageUploads: WebSocket connection failed before all messages received");r.c.captureException(a),s()}})}},"./src/reddit/actions/inContextModeration.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c}));var s=n("./src/lib/makeActionCreator/index.ts");const r="INCONTEXT__BANNED",i="INCONTEXT__MUTED",o=Object(s.a)(r),c=Object(s.a)(i)},"./src/reddit/actions/interceptedAction.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c}));var s=n("./src/lib/makeActionCreator/index.ts");const r="INTERCEPTED_ACTION_SET",i="INTERCEPTED_ACTION_UNSET",o=Object(s.a)(r),c=Object(s.a)(i)},"./src/reddit/actions/login.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return _})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return g}));var s=n("./src/reddit/actions/modal.ts"),r=n("./src/reddit/actions/preferences.ts"),i=n("./src/reddit/constants/modals.ts"),o=n("./src/reddit/constants/postLayout.ts");const c=e=>async(t,n)=>{t(Object(s.i)(e)),!n().user.prefs.layout&&t(Object(r.w)(o.d.Card))},a=()=>async(e,t)=>{e(c(i.a.LOGIN_MODAL_ID))},d=()=>async e=>{e(c(i.a.REGISTER_MODAL_ID))},u=()=>async e=>{e(c(i.a.CHANGE_PASSWORD_MODAL_ID))},l=()=>async e=>{e(c(i.a.ENABLE_TWO_FACTOR))},b=()=>async e=>{e(c(i.a.DISABLE_TWO_FACTOR))},p=()=>async e=>{e(c(i.a.TWO_FACTOR_BACKUP_CODES))},f=()=>async e=>{e(c(i.a.LINK_APPLE_SSO))},O=()=>async e=>{e(c(i.a.UNLINK_APPLE_SSO))},_=()=>async e=>{e(c(i.a.LINK_GOOGLE_SSO))},m=()=>async e=>{e(c(i.a.UNLINK_GOOGLE_SSO))},g=()=>async e=>{e(c(i.a.GOOGLE_ONE_TAP_MODAL_ID))}},"./src/reddit/actions/media.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return O})),n.d(t,"h",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return I})),n.d(t,"j",(function(){return y}));var s=n("./src/lib/ads/index.ts"),r=n("./src/lib/ads/store.ts"),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),l=n("./src/reddit/models/Media/index.ts"),b=n("./src/reddit/actions/video.ts");const p="MEDIA__SET_MUTE",f=Object(i.a)(p),O="MEDIA__SET_VOLUME",_=Object(i.a)(O),m="MEDIA__SET_CURRENT_SLIDE_INDEX",g="TOGGLE_GALLERY_LAYOUT",j=Object(i.a)(g),E=Object(i.a)(m),h=(e,t,n)=>async(i,o)=>{i(f(e)),!e&&n&&(r.e(n,e,s.m.muted),i(Object(b.B)(t,n)))},I="MEDIA__EMBED_HEIGHT_MEASURED",S=Object(i.a)(I),y=e=>{let{height:t,isDeleted:n,postId:s}=e;return async(e,r,i)=>{let{apiContext:b}=i;const p=r(),{media:f}=p.posts.models[s];e(S({height:t,isDeleted:n,postId:s})),null!==f&&f.type===l.o.EMBED&&f.provider===l.v.Twitter&&f.height!==t&&await((e,t,n)=>Object(c.a)(Object(a.a)(e,[d.a]),{endpoint:Object(u.a)("".concat(e.apiUrl,"/api/set_twitter")),method:o.eb.POST,data:{height:n,link:t}}))(b(),s.substr(3),t)}}},"./src/reddit/actions/modQueue/constants.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"w",(function(){return O})),n.d(t,"v",(function(){return _})),n.d(t,"u",(function(){return m})),n.d(t,"t",(function(){return g})),n.d(t,"s",(function(){return j})),n.d(t,"r",(function(){return E})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return T}));const s="MODQUEUE_PENDING",r="MODQUEUE_LOADED",i="MODQUEUE_FAILED",o="EDITED_PENDING",c="EDITED_LOADED",a="EDITED_FAILED",d="REPORTS_PENDING",u="REPORTS_LOADED",l="REPORTS_FAILED",b="SPAM_PENDING",p="SPAM_LOADED",f="SPAM_FAILED",O="UNMODERATED_PENDING",_="UNMODERATED_LOADED",m="UNMODERATED_FAILED",g="UNDOACTION_PENDING",j="UNDOACTION_LOADED",E="UNDOACTION_FAILED",h="MORE_MODERATED_SUBREDDITS_LOADED",I="ALL_MODERATED_COMMUNITIES_LOADED",S="ADD_SELECTED_ITEMS",y="BULK_SELECT_ITEMS",T="BULK_UNSELECT_ITEMS"},"./src/reddit/actions/modal.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return h})),n.d(t,"k",(function(){return I}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/changeUsername.ts"),i=n("./src/reddit/actions/header.ts"),o=(n("./src/reddit/actions/media.ts"),n("./src/reddit/constants/modals.ts")),c=n("./src/reddit/endpoints/user/index.ts"),a=n("./src/reddit/helpers/localStorage/index.ts"),d=n("./src/reddit/selectors/activeModalId.ts"),u=n("./src/reddit/selectors/header.ts"),l=n("./src/reddit/selectors/user.ts");const b="MODAL_TOGGLED",p=Object(s.a)(b),f="CLOSE_ALL_MODALS",O=Object(s.a)(f),_="REDESIGN_MODAL_CLOSED",m=(Object(s.a)(_),e=>async(t,n,s)=>{Object(d.b)(e)(n())&&t(p(e))}),g=e=>async(t,n,s)=>{const c=n();if(!Object(d.b)(e)(c)){if((e===o.a.MULTIREDDIT_CREATE||e===o.a.MULTIREDDIT_ADD_SUBREDDIT)&&Object(l.L)(c)){Object(u.a)(c)&&t(Object(i.f)());const n=p(e);return void t(Object(r.f)(n))}t(p(e))}},j=()=>async(e,t,n)=>{Object(a.ib)(o.a.REDESIGN_MODAL,!0),Object(l.J)(t())&&Object(c.e)(n.apiContext())},E="SET_ACCOUNT_MANAGER_MODAL_DATA";var h;!function(e){e.HeaderLogin="header_login",e.HeaderSignup="header_signup",e.Hide="hide",e.IdCard="id_card",e.NotificationsInbox="notifications_inbox",e.Post="post",e.PromoBanner="promo",e.Reply="reply",e.Report="report",e.SubredditLeaderboard="subreddit_leaderboard",e.Save="save",e.Subscribe="subscribe",e.Vote="vote"}(h||(h={}));const I=Object(s.a)(E)},"./src/reddit/actions/moderationLog/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r}));const s="SUBREDDIT__MODERATION_LOG_LOADED",r="SUBREDDIT__ALL_MODERATORS_LOADED"},"./src/reddit/actions/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c}));var s=n("./src/lib/makeActionCreator/index.ts");const r="NOTIFICATION_BANNER_SET",i="NOTIFICATION_BANNER_DISMISSED",o=Object(s.a)(r),c=Object(s.a)(i)},"./src/reddit/actions/oldSiteRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");const a="OLD_SITE_RULES_LOADED",d=Object(s.a)(a),u=()=>async(e,t,n)=>{let{apiContext:s}=n;const a=await(e=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/site_rules.json"),method:r.eb.GET}))(s());if(a.ok){const{site_rules:t}=a.body;e(d({oldSiteRules:t}))}}},"./src/reddit/actions/pages/search.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return P}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/pick.js"),i=n.n(r),o=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/lib/pageTitle.ts"),u=n("./src/reddit/actions/ads/index.ts"),l=n("./src/reddit/actions/category/index.ts"),b=n("./src/reddit/actions/communityFlairs/index.ts"),p=n("./src/reddit/actions/discoveryUnit.ts"),f=n("./src/reddit/actions/platform.ts"),O=n("./src/reddit/actions/search.ts"),_=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/constants/parameters.ts"),g=n("./src/reddit/endpoints/page/search.ts"),j=n("./src/reddit/helpers/timeApiRoute/index.ts"),E=n("./src/reddit/models/DiscoveryUnit/index.ts"),h=n("./src/reddit/models/Toast/index.ts"),I=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),S=n("./src/reddit/selectors/subreddit.ts");const y="SEARCH__SEARCH_PENDING",T="SEARCH__SEARCH_RESULTS_RECEIVED",D="SEARCH__SEARCH_FAILED",v=Object(c.a)(y),R=Object(c.a)(T),A=Object(c.a)(D),w=e=>s.fbt._("reddit.com: search results - {query}",[s.fbt._param("query",e||"None")],{hk:"1XOKAg"}),C=(e,t,n,r)=>async(i,c,a)=>{let{apiContext:d}=a;const f=c(),y=t[m.c],T=t.category;(y||T)&&(await Promise.all([i(p.g()),i(l.a())]),T&&await Promise.all([i(l.b(T,10)),i(p.h(E.g,T))]));const{q:D}=t,w=!!D&&o.Gb.some(e=>D.includes("".concat(e,":")));let P=t.type.indexOf(o.Rb.Posts)>-1||!(!n||!t.restrict_sr)||w;if(P){const t=f.listings.postOrder.ids[e],n=f.listings.postOrder.api.error[e];P=!(f.listings.postOrder.api.pending[e]||t&&!n)}let x=t.type.indexOf(o.Rb.Subreddits)>-1||t.type.indexOf(o.Rb.Users)>-1;if(x){const t=f.listings.listingOrder.identifiers[e],n=f.listings.listingOrder.api.error[e];x=!(f.listings.listingOrder.api.pending[e]||t&&!n)}if(!P&&!x)return void(f.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{i(Object(u.b)(I.a.SEARCH_RESULTS))}));t.q&&i(Object(O.h)(t.q));const k="error-".concat(e),{type:N}=t;i(v({key:e,type:N}));const U=await Object(j.a)("searchResults",()=>Object(g.a)(d(),n,r,Object.assign(Object.assign({},t),{type:(t.type||[]).join(","),b:!w})));if(U.ok){const s={key:e,type:N,meta:f.meta,searchQuery:t.q,subredditName:n,username:r},o=U.body;if(i(R(Object.assign(Object.assign({categoryName:y},s),o))),i(_.f(k)),i(Object(u.b)(I.a.SEARCH_RESULTS)),n){const e=Object(S.F)(c(),n),t=Object(b.c)(o.posts,e),s=Object(b.b)(o.structuredStyles||{}),r=(s?Object(b.d)(s):[]).concat(t);i(Object(b.a)(r,e))}}else i(A(Object.assign({key:e,error:U.error,type:N},U.body))),i(_.e({id:k,kind:h.b.Error,text:s.fbt._("Sorry, we couldn't load search results.",null,{hk:"QgweL"}),buttonText:s.fbt._("Retry",null,{hk:"jld4g"}),buttonAction:C(e,t,n,r)}))},P=e=>async(t,n,s)=>{const r=Object(a.c)(i()(e.queryParams,m.t)),c=e.params.subredditName||e.params.multiredditName,{username:u}=e.params,l=Object(a.b)(c,u,r);await t(C(l,r,c,u));const b=n();let p=!1;const{type:O=[]}=r,_=O.indexOf(o.Rb.Posts)>-1,g=O.indexOf(o.Rb.Subreddits)>-1||O.indexOf(o.Rb.Users)>-1;_&&b.listings.postOrder.api.error[l]&&(p=!0),g&&b.listings.listingOrder.api.error[l]&&(p=!0),t(p?f.l({title:Object(d.c)()}):f.l({title:w(r.q)}))}},"./src/reddit/actions/pages/subreddit.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return we})),n.d(t,"d",(function(){return Ce})),n.d(t,"c",(function(){return Pe})),n.d(t,"a",(function(){return xe})),n.d(t,"k",(function(){return ke})),n.d(t,"i",(function(){return Le})),n.d(t,"e",(function(){return Ge})),n.d(t,"g",(function(){return Fe})),n.d(t,"h",(function(){return Be})),n.d(t,"l",(function(){return Ve})),n.d(t,"b",(function(){return qe})),n.d(t,"j",(function(){return We}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/find.js"),i=n.n(r),o=n("./node_modules/lodash/pick.js"),c=n.n(o),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/isAdHocMultireddit/index.ts"),u=n("./src/lib/isFakeSubreddit/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/lib/makeListingKey/index.ts"),p=n("./src/lib/makeSearchKey/index.ts"),f=n("./src/lib/performanceTimings/index.tsx"),O=n("./src/reddit/actions/actionBarAnimation/index.ts"),_=n("./src/reddit/actions/ads/index.ts"),m=n("./src/reddit/actions/communityFlairs/index.ts"),g=n("./src/reddit/actions/contentGate.ts"),j=n("./src/reddit/actions/discoveryUnit.ts"),E=(n("./src/reddit/actions/downToChat.ts"),n("./src/reddit/actions/economics/helpers/async.ts")),h=n("./src/reddit/actions/externalAccount.ts"),I=n("./src/reddit/actions/gold/powerups.ts"),S=n("./src/reddit/actions/pages/search.ts"),y=n("./src/reddit/actions/platform.ts"),T=n("./src/reddit/actions/publicAccessNetwork/api.ts"),D=n("./src/reddit/actions/seo/linksModule.ts"),v=n("./src/reddit/actions/seo/topicLinks.ts"),R=n("./src/lib/makeGqlRequest/index.ts"),A=n("./src/graphql/operations/SubredditInfo.json"),w=(e,t)=>Object(R.a)(e,Object.assign(Object.assign({},A),{variables:t}));const C=e=>({communityIcon:e.styles&&e.styles.icon||void 0,iconUrl:e.styles&&e.styles.legacyIcon&&e.styles.legacyIcon.url||void 0,id:e.id,isNSFW:e.isNSFW||!1,isSubscribed:e.isSubscribed,name:e.name,primaryColor:e.styles&&e.styles.primaryColor||void 0,subscribers:e.subscribers,type:"subreddit"});var P=e=>({subreddits:e.data.subredditInfoById.linkedSubreddits?e.data.subredditInfoById.linkedSubreddits.map(C):[]});var x=e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.subredditInfoById)||void 0===n?void 0:n.topicLinks)||void 0},k=n("./src/reddit/selectors/seo/linksModule.ts"),N=n("./src/reddit/selectors/seo/topicLinks.ts");var U=n("./src/reddit/actions/structuredStyles/index.ts"),L=n("./src/reddit/actions/subreddit.ts"),M=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/react-router-redux/es/index.js")),G=n("./src/reddit/actions/toaster.ts"),F=n("./src/reddit/helpers/localStorage/index.ts"),B=n("./src/reddit/models/Subreddit/index.ts"),V=n("./src/reddit/models/Toast/index.ts"),q=n("./src/reddit/routes/postCreation/constants.ts"),W=n("./src/reddit/selectors/moderatorPermissions.ts"),H=n("./src/reddit/selectors/platform.ts"),K=n("./src/reddit/selectors/subreddit.ts"),Y=n("./src/reddit/selectors/user.ts"),z=n("./src/reddit/selectors/widgets.ts");const J=()=>async(e,t,n)=>{const s=t(),r=Object(H.f)(s);if(!r||r.type!==B.e.Public)return;const i=r.name,o=Object(H.m)(s),c=Object(K.x)(s,{subredditName:i});if(!c)return;const{activity7Day:a}=c,d=!!a&&a>=51&&a<=100,l=!i||Object(u.a)(i),b=o&&o.urlParams.subredditName===i,p=Object(Y.J)(s),f=Object(W.g)(s,{subredditId:Object(K.F)(s,i)});if(l||b||Object(F.s)()||!d||!p||f)return;const O=Object(z.d)(t(),{subredditName:i});if(!O||!O.currentlyViewingCount)return;const _=(24*O.currentlyViewingCount*7).toString(),m=_[0].padEnd(_.length,"0");e(Object(G.e)({buttonAction:async()=>e(Object(M.b)("/r/".concat(i).concat(q.b))),buttonText:"Create Post",duration:-1,id:"createPostCta",kind:V.b.Modal,name:"createPostCta",secondButtonAction:async()=>Object(F.gb)(),secondButtonText:"Dismiss",text:"There have been over ".concat(m," visits to r/").concat(i," in the past week. Create a new post and start the next conversation.")}))};var Q=n("./src/reddit/actions/subreddit/questions.ts"),X=n("./src/reddit/actions/subredditSettings.ts"),Z=n("./src/reddit/actions/tags/index.ts"),$=n("./src/reddit/components/CountAnimation/helpers.ts"),ee=n("./src/reddit/constants/page.ts"),te=n("./src/reddit/constants/parameters.ts"),ne=n("./src/reddit/constants/postLayout.ts"),se=n("./src/reddit/contexts/PageLayer/index.tsx"),re=n("./src/reddit/endpoints/gold/topAwarded.ts"),ie=n("./src/reddit/endpoints/governance/posts.ts"),oe=n("./src/reddit/endpoints/page/subredditPage.ts"),ce=n("./src/reddit/endpoints/profile/info.ts"),ae=n("./src/reddit/helpers/canonicalUrls.ts"),de=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),ue=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),le=n("./src/reddit/helpers/graphql/normalizeSubredditPageFromGql/index.ts");function be(e){let{econLeaderboards:t,identity:n,trendingSubreddits:s}=e;const r=t.topAwardedPosts.map(e=>e.post).filter(e=>!e.removedBy&&!e.isNsfw);return Object(le.b)(r,s,n)}var pe=n("./src/reddit/helpers/trackers/communityTopics.ts"),fe=n("./src/reddit/models/ModeratingSubreddits/index.ts"),Oe=n("./src/reddit/models/RichTextJson/index.ts"),_e=n("./src/reddit/models/User/index.ts"),me=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),ge=n("./src/reddit/selectors/communityFlairs.ts"),je=(n("./src/reddit/selectors/experiments/econ/predictions.ts"),n("./src/reddit/selectors/experiments/goldSubredditPowerups.ts")),Ee=n("./src/reddit/selectors/experiments/gqlSubredditPage.ts"),he=n("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),Ie=n("./node_modules/reselect/es/index.js"),Se=n("./src/reddit/constants/experiments.ts"),ye=n("./src/reddit/helpers/chooseVariant/index.ts");const Te=Object(Ie.a)(e=>{return!!Object(ye.c)(e,{experimentEligibilitySelector:ye.a,experimentName:Se.Eb,expEventOverride:!1})},Y.J,K.S,z.j,(e,t,n,s)=>e&&!t&&!n.isNSFW&&!s.some(e=>"community-list"===e));var De=n("./src/reddit/selectors/experiments/topicLinks.ts"),ve=n("./src/reddit/selectors/experiments/topPosts.ts"),Re=n("./src/reddit/selectors/inlineSubredditEditing.ts"),Ae=n("./src/reddit/selectors/multireddit.ts");n("./src/reddit/selectors/posts.ts");const we=(e,t)=>async n=>{if(!e.ok&&e.body&&(e=>!!e.reason)(e.body)){const{body:{data:s,reason:r}}=e,i=s?s.account:void 0,o=s&&s.features||void 0,c=t?t.toLowerCase():"";if(404===e.status)if(r===B.d.NotFoundSubreddit)n(g.o({account:i,features:o,subredditName:c}));else if(r===B.d.BannedSubreddit){const e=s?s.banMessage||s.ban_message:void 0;n(g.m({banMessage:e,account:i,features:o,subredditName:c}))}if(451===e.status&&n(g.n({account:i,features:o,subredditName:c})),403===e.status)if(r===B.d.GoldSubreddit)n(g.q({account:i,features:o,subredditName:c}));else if(r===B.d.PrivateSubreddit)n(g.r({account:i,features:o,subredditDescription:s.description||"",subredditName:c}));else if(r===B.d.QuarantinedSubreddit){const e=!s||void 0===s.quarantineRequiresEmailOptin||s.quarantineRequiresEmailOptin;n(g.t({account:i,features:o,subredditName:c,quarantineRequiresEmail:e,quarantineMessage:s.quarantineMessage,quarantineMessageHtml:s.quarantineMessageHtml||"",quarantineMessageRTJson:s.quarantineMessageRTJson||Oe.i}))}}},Ce="PAGE__SUBREDDIT_PENDING",Pe="PAGE__SUBREDDIT_LOADED",xe="PAGE__SUBREDDIT_FAILED",ke=Object(l.a)(Ce),Ne=Object(l.a)(Pe),Ue=Object(l.a)(xe),Le=(e,t,n,r)=>async(o,c,d)=>{var l,b,p;const g=c(),j=Object(Y.J)(g),S=g.listings.postOrder.api.pending[e],T=Object(Y.i)(g),R=null===(b=null===(l=Object(H.b)(g))||void 0===l?void 0:l.routeMatch)||void 0===b?void 0:b.route.chunk;if(S)return;const A=t!==ee.c.All&&t!==ee.c.Popular||!g.posts.recent.length?n:Object.assign(Object.assign({},n),{recentPostIds:g.posts.recent});A.layout=ne.e[Object(se.N)(g,{})],o(ke({key:e}));const C=Object(Ee.b)(g);let U;if(n.sort===a.P.AWARDED&&t===ee.c.Popular)U=Object(re.a)(d.gqlContext(),{top:0,includeListingMetadata:!0}).then(e=>{const t=e.body;return Object.assign(Object.assign({},e),{body:be(t.data)})});else{const e=C?()=>Object(oe.b)(d.gqlContext(),Object(oe.c)(g,t,A),j):()=>Object(oe.a)(d.apiContext(),t,A);U=Object(f.i)(e,{name:"fetchSubredditPage",page:R,isLoggedIn:j})}const M=j&&T&&!C?Object(f.i)(()=>Object(ce.d)(d.gqlContext(),Object(_e.e)(T)),{name:"fetchProfileKarma",page:R,isLoggedIn:j}):null,[F,B]=await Promise.all([U,M]),q=F.body,W=(null==q?void 0:q.subreddits)?((e,t)=>(i()(e,e=>e&&e.name.toLowerCase()===t.toLowerCase())||{}).id)(q.subreddits,t):null;o(y.m(F.status));const z="error-".concat(e),J=Object(u.a)(t)||W;if(F.ok&&J){if(!Object(u.a)(t)&&Object(je.a)(g)){const e=Object.keys(q.subredditAboutInfo)[0],t=Object(Y.J)(g),n=Object(f.i)(()=>o(Object(I.f)(e,{fullData:!0,includeIdentity:t})),{name:"subredditPowerupsRequested",page:R,isLoggedIn:t});await n}let n;const s=q.postIds.filter(e=>!!q.posts[e].isMeta);if(s.length&&W){const e=Object(f.i)(()=>Object(ie.a)(d.apiContext(),W,s),{name:"getGovernanceData",page:R,isLoggedIn:j}),t=await e;t.ok&&(n=t.body)}if(B&&B.ok){const e=null===(p=B.body.data.redditorInfoByName)||void 0===p?void 0:p.karma,t=e?{awardeeKarma:e.fromAwardsReceived,awarderKarma:e.fromAwardsGiven,commentKarma:e.fromComments,postKarma:e.fromPosts,totalKarma:e.total}:ce.a;q.account&&Object.assign(q.account,t)}if(o(Ne(Object.assign(Object.assign({key:e,meta:g.meta,governance:n},q),{postIds:q.postIds}))),Object(he.b)(g)){const{postIds:e,posts:t}=q;o(Object(O.a)(Object($.b)(e,t)))}if(!Object(u.a)(t)){const e=Object(K.F)(c(),t);if(!!!Object(K.R)(g,{subredditId:e})){const e=Object(f.i)(()=>L.o(t)(o,c,d),{name:"getSubredditRules",page:R,isLoggedIn:j});await e}const n=Object(m.c)(q.posts,e),s=Object(m.b)(q.structuredStyles),r=(s?Object(m.d)(s):[]).concat(n);o(Object(m.a)(r,e))}if(r&&o(G.f(z)),o(Object(_.b)(me.a.SUBREDDIT)),o(Object(h.p)()),W){const e=[Object(f.i)(()=>o(Object(E.a)({subredditId:W,postIds:q.postIds,skip:["subscription"]})),{name:"fetchAllEconomicsData",page:R,isLoggedIn:j})];if(!C){const t=Object(f.i)(()=>o(Object(Q.a)(W)),{name:"requestSubredditQuestions",page:R,isLoggedIn:j});e.push(t)}const n=Te(c(),{subredditId:W}),s=Object(De.a)(c());if(n||s){const t=Object(f.i)(()=>o(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return async(r,i,o)=>{let{gqlContext:c}=o;if(!e)return;const a=Object(k.c)(i(),{subredditId:e}),d=Object(N.a)(i(),{subredditId:e}),u=t&&!a,l=n&&!d,b=await w(c(),{subredditId:e,includeTopicLinks:l,includeSubredditLinks:u,subredditsLimit:s||D.a});if(b.ok){if(u){const t=P(b.body);t&&r(Object(D.e)({id:e,data:t}))}if(l){const t=x(b.body);t&&r(Object(v.b)({id:e,data:t}))}}}}(W,n,s)),{name:"requestSubredditInfo",page:R,isLoggedIn:j});e.push(t)}if(Object(Re.a)(c(),{subredditId:W})){const n=Object(f.i)(()=>o(Object(X.h)(t,W)),{name:"subredditSettingsRequested",isLoggedIn:j,page:R}),s=Object(f.i)(()=>o(Object(Z.k)(W,pe.a.idCard)),{name:"subredditTagsRequested",isLoggedIn:j,page:R});e.push(n,s)}0,await Promise.all(e)}}else{if(403===F.status||404===F.status||451===F.status)return void o(we(F,t));o(Ue(Object.assign({error:!F.ok&&F.error||{type:a.E.NOT_FOUND_ERROR},key:e},q))),r&&o(G.e({id:z,kind:V.b.Error,text:s.fbt._("Sorry, we couldn't load posts for this page.",null,{hk:"CvZvm"}),buttonText:s.fbt._("Retry",null,{hk:"3gV6S0"}),buttonAction:Le(e,t,n,r)}))}},Me=(e,t)=>{if(Object(u.a)(t)){if(Object(d.a)(t)){return Object(Ae.a)(e,{listingName:t}).displayText}switch(t.toLowerCase()){case ee.c.Popular:return"r/popular";case ee.c.All:return"r/all"}}return Object(K.V)(e,{subredditName:t})},Ge=(e,t)=>{const n=e.f;if(n)return{[te.p]:n,[te.s]:"1",[te.i]:t?"1":"",sort:a.Pb.New}},Fe=(e,t)=>{const n=Ge(e,t);return n&&Object(p.c)(n)},Be=(e,t,n,s)=>s?Object(p.b)(e,void 0,s):Object(b.a)(e,t,n),Ve=(e,t)=>async(n,s,r)=>{var i,o;const{subredditName:d}=e.params,{styling:l}=e.queryParams,p=s(),O=Object(de.a)(e.params,p),g=Fe(e.queryParams,Object(Y.bb)(p)),E=Be(d,O,e.queryParams,g),I=O,D=p.listings.postOrder.api.error[E],v=p.listings.postOrder.api.pending[E];let R=!!p.listings.postOrder.ids[E];const A=p.listings.postOrder.listingSort[E];A&&A.hasChanged&&(R=!1);let w=Object(K.F)(p,d);const C=(e,t)=>"true"===l&&((e,t)=>Object(W.a)(fe.c.config)(e,{subredditId:t})||Object(W.a)(fe.c.flair)(e,{subredditId:t}))(e,t),P=te.x in e.queryParams&&e.queryParams[te.x].toUpperCase()||"",x=P in a.Wb&&a.Wb[P];if(v||R&&!D&&!t){if(C(p,w)&&n(U.i(w)),R){const t=Me(s(),d);n(y.l({title:t})),Object(ae.e)(s(),n,e),window.addEventListener("load",()=>{n(Object(h.p)())}),p.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(_.b)(me.a.SUBREDDIT))}),n(J())}return}n(j.g());const k=null===(o=null===(i=Object(H.b)(p))||void 0===i?void 0:i.routeMatch)||void 0===o?void 0:o.route.chunk,N=Object(Y.J)(s()),L=Object(f.i)(()=>n(Object(T.c)("r/".concat(d))),{name:"rpanConfigRequested",isLoggedIn:N,page:k});if(g){const e=Object(f.i)(()=>n(Object(S.d)(E,g,d)),{name:"searchDataRequested",isLoggedIn:N,page:k});await e}else{const t=Object.assign(Object.assign({},c()(e.queryParams,[...te.l,...te.k,te.h])),{sort:I,t:Object(ue.a)(I,x)}),s=Object(Y.I)(p)||Object(Y.J)(p)?p.user.prefs.geopopular:p.meta.country;!t[te.h]&&s&&(t[te.h]=s),await n(Le(E,d,t,!0))}const M=p.platform.currentPage,G=Object(ve.d)(p,{pageLayer:M});if(Object(ve.a)(G)||Object(ve.b)(G)||Object(ve.c)(G)){const e=Object(b.a)(d,a.P.TOP,{t:a.Wb.WEEK}),t={sort:a.P.TOP,t:a.Wb.WEEK};await n(Le(e,d,t,!1))}if(w=w||Object(K.F)(s(),d),!Object(ge.a)(p,w)&&!Object(u.a)(d)){const e=Object(f.i)(()=>n(Object(m.e)(d)),{name:"getTopCommunityFlair",page:k,isLoggedIn:N});await e}C(s(),w)&&n(U.i(w)),Object(ae.e)(s(),n,e);const F=Me(s(),d);n(y.l({title:F})),n(J()),await L},qe="PAGE__SUBREDDIT_INVALIDATE_LISTING",We=Object(l.a)(qe)},"./src/reddit/actions/post.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return $})),n.d(t,"h",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"s",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"L",(function(){return oe})),n.d(t,"e",(function(){return ce})),n.d(t,"d",(function(){return ae})),n.d(t,"B",(function(){return de})),n.d(t,"A",(function(){return ue})),n.d(t,"R",(function(){return le})),n.d(t,"N",(function(){return be})),n.d(t,"U",(function(){return fe})),n.d(t,"r",(function(){return Oe})),n.d(t,"w",(function(){return ge})),n.d(t,"H",(function(){return je})),n.d(t,"I",(function(){return Ee})),n.d(t,"l",(function(){return Ie})),n.d(t,"u",(function(){return ye})),n.d(t,"J",(function(){return Te})),n.d(t,"n",(function(){return De})),n.d(t,"M",(function(){return ve})),n.d(t,"G",(function(){return Re})),n.d(t,"y",(function(){return Ae})),n.d(t,"Q",(function(){return we})),n.d(t,"D",(function(){return Ce})),n.d(t,"C",(function(){return Pe})),n.d(t,"q",(function(){return xe})),n.d(t,"S",(function(){return ke})),n.d(t,"T",(function(){return Ne})),n.d(t,"x",(function(){return Le})),n.d(t,"i",(function(){return Me})),n.d(t,"o",(function(){return Fe})),n.d(t,"m",(function(){return Be})),n.d(t,"O",(function(){return Ve})),n.d(t,"F",(function(){return qe})),n.d(t,"K",(function(){return We})),n.d(t,"v",(function(){return He})),n.d(t,"E",(function(){return Ke})),n.d(t,"j",(function(){return Ye})),n.d(t,"t",(function(){return Je})),n.d(t,"P",(function(){return Qe})),n.d(t,"f",(function(){return Xe})),n.d(t,"z",(function(){return Ze})),n.d(t,"a",(function(){return $e})),n.d(t,"p",(function(){return et}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var s=n("./src/config.ts"),r=n("./node_modules/fbt/lib/FbtPublic.js"),i=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(i),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/copyToClipboard/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/ads/constants.ts"),l=n("./src/reddit/actions/login.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/survey/index.ts"),f=n("./src/reddit/constants/adEvents.ts"),O=n("./src/reddit/helpers/getVendorMetadata.ts"),_=n("./src/reddit/helpers/pixels.ts"),m=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/actions/unload/constants.ts");let j=!1;Object(d.a)(g.b);const E=(e,t,n)=>{if(window&&!j&&(window.addEventListener("beforeunload",()=>(e=>{g.a.forEach(t=>{let{post:n}=t;const s=Object(m.b)(e(),n.id),r=Object(O.a)(n.id,s,f.a.Unload);Object(_.a)(n,f.a.Unload,r)})})(n)),j=!0),g.c.has(e.id)||e.isBlank)return;g.c.add(e.id);const s={post:e,unloadTimer:window.setTimeout(()=>{t(ye(e,f.a.Unload))},g.d)};if(g.a.push(s),g.a.length>5){const e=g.a.shift();t(ye(e.post,f.a.Unload)),clearTimeout(e.unloadTimer)}};var h=n("./src/reddit/actions/video.ts"),I=n("./src/reddit/actions/vote.ts"),S=n("./src/reddit/constants/cookie.ts"),y=n("./src/reddit/constants/history.ts"),T=n("./src/reddit/constants/posts.ts"),D=n("./src/reddit/helpers/isPost.ts"),v=n("./src/reddit/helpers/overlay/index.ts"),R=n("./src/reddit/helpers/publicAccessNetwork/index.ts"),A=n("./src/reddit/models/Media/index.ts"),w=n("./src/reddit/endpoints/post/index.tsx"),C=n("./src/lib/makeGqlRequest/index.ts"),P=n("./src/graphql/operations/RichTextPostContent.json");var x=n("./src/lib/constants/index.ts"),k=n("./src/lib/makeListingKey/index.ts"),N=n("./node_modules/react-router-redux/es/index.js"),U=n("./src/reddit/actions/gold/tooltips.ts"),L=n("./src/reddit/actions/modal.ts"),M=n("./src/reddit/actions/toaster.ts"),G=n("./src/reddit/constants/modals.ts"),F=n("./src/reddit/endpoints/page/commentsPage.ts"),B=n("./src/reddit/helpers/trackers/post.ts"),V=n("./src/reddit/models/Flair/index.ts"),q=n("./src/reddit/models/Toast/index.ts"),W=n("./src/reddit/models/User/index.ts"),H=n("./src/reddit/models/Vote/index.ts"),K=n("./src/reddit/selectors/experiments/avatarsInComments.ts"),Y=n("./src/reddit/selectors/experiments/survey.ts"),z=n("./src/reddit/selectors/platform.ts"),J=n("./src/reddit/selectors/user.ts"),Q=n("./src/reddit/selectors/media.ts"),X=n("./src/telemetry/index.ts");const Z="POST__EXPANDED_TOGGLED",$="POST__FOCUS_CHANGED",ee="POSTS__MUTATED",te="POSTS_LOADED",ne=Object(d.a)(Z),se=(Object(d.a)($),Object(d.a)(te)),re="POST__STICKY_POST_SUCCESS",ie=Object(d.a)(re),oe=Object(d.a)(ee),ce="POST__MODERATION_PROMPT_OPENED",ae="POST__MODERATION_PROMPT_CLOSED",de=Object(d.a)(ce),ue=Object(d.a)(ae),le=(e,t,n,s)=>async(i,o,c)=>{let{apiContext:a}=c;const d=o().posts.models[e];if(!d)return;if(!Object(J.J)(o()))return i(Object(L.k)({actionSource:L.a.Hide,redirectUrl:d.permalink})),void i(Object(l.i)());let u;if(i(oe({[e]:{hidden:t}})),(u=t?await Object(w.h)(a(),e):await Object(w.u)(a(),e)).ok){if(s){const s=t?r.fbt._("Post hidden successfully.",null,{hk:"a4K6a"}):r.fbt._("Post unhidden successfully.",null,{hk:"xJgPP"}),o=Object(M.d)(s,q.b.Undo,r.fbt._("Undo",null,{hk:"46OwLP"}),le(e,!t,n,!1));i(Object(M.e)(o))}}else if(i(oe({[e]:{hidden:!t}})),s){const e=Object(M.d)(r.fbt._("Something went wrong",null,{hk:"22u7ha"}),q.b.Error);i(Object(M.e)(e))}},be=e=>async(t,n,s)=>{let{apiContext:i}=s;const o=n().posts.models[e];if(!o)return;if(!Object(J.J)(n()))return t(Object(l.i)()),void t(Object(L.k)({actionSource:L.a.Save,redirectUrl:o.permalink}));const c=o.saved?w.y:w.p;if(t(oe({[e]:{saved:!o.saved}})),(await c(i(),e)).ok){const n=o.saved?r.fbt._("Post unsaved successfully",null,{hk:"rrnyE"}):r.fbt._("Post saved successfully",null,{hk:"3fAuAl"}),s=Object(M.d)(n,q.b.Undo,r.fbt._("Undo",null,{hk:"46OwLP"}),be(e));t(Object(M.e)(s))}else t(oe({[e]:{saved:o.saved}}))},pe=(e,t)=>t().posts.models[e],fe=Object(I.b)(pe,H.a.upvoted),Oe=Object(I.b)(pe,H.a.downvoted),_e=e=>"viewing-".concat(e),me={},ge=()=>async(e,t)=>{const n=Object.keys(me).filter(e=>{var n;return!(null===(n=pe(e,t))||void 0===n?void 0:n.isSponsored)}).sort((e,t)=>me[e]-me[t]),s=n.length;s&&e(Object(U.c)(n[Math.floor(s/2)]))},je=(e,t)=>async(n,s)=>{const r=s();B.i(r,e,t),me[e]=t||0,X.c.start(_e(e))},Ee=(e,t,n)=>async(r,i)=>{delete me[e];const o=i(),c=_e(e);if(X.c.has(c)){const r=X.c.end("viewing-".concat(e));!t&&r>s.a.telemetry.postConsumedThreshold&&B.a(o,e,r,n)}},he={[f.a.Impression]:u.d,[f.a.Click]:u.b,[f.a.ViewableImpression]:u.n,[f.a.GroupMViewable]:u.s,[f.a.VideoViewableImpression]:u.k,[f.a.VideoFullyViewableImpression]:u.e,[f.a.VideoStarted]:u.j,[f.a.VideoPlayedWithSound]:u.i,[f.a.VideoGroupMViewable]:u.g,[f.a.VideoWatchedSeconds3]:u.m,[f.a.VideoWatchedSeconds5]:u.m,[f.a.VideoWatchedSeconds10]:u.m,[f.a.VideoWatched25]:u.l,[f.a.VideoWatched50]:u.l,[f.a.VideoWatched75]:u.l,[f.a.VideoWatched95]:u.l,[f.a.VideoWatched100]:u.l,[f.a.VideoVendorFullyViewable50]:u.f,[f.a.VideoPlayedExpanded]:u.h,[f.a.Unload]:g.b,[f.a.VendorFullyInView]:u.w,[f.a.VendorFullyInViewSeconds5]:u.y,[f.a.VendorFullyInViewSeconds15]:u.x,[f.a.GalleryItemImpression]:u.c},Ie=Object(d.b)(he),Se=(e,t)=>async n=>{n(ye(e,t))},ye=(e,t,n)=>async(s,r)=>{const i=Object(m.b)(r(),e.id),o=Object(O.a)(e.id,i,t),c=Object(Q.b)(r(),e.id);he[t]&&s(Ie(String(t),{postId:e.id,vendorMetadata:o,eventType:n})),Object(_.a)(e,t,o,c)},Te=(e,t)=>async(n,s)=>{const r=e&&e.media&&"video"===e.media.type,i=[f.a.VendorFullyInView,f.a.VendorFullyInViewSeconds5,f.a.VendorFullyInViewSeconds15];if(r&&t===f.a.VideoViewableImpression)n(Object(h.x)(e.id));else if(r&&t===f.a.VideoFullyViewableImpression)n(Object(h.u)(e.id));else if(r&&t===f.a.VideoGroupMViewable)n(Object(h.v)(e.id));else if(r&&t===f.a.VideoVendorFullyViewable50)n(Object(h.w)(e.id));else if(!r||e.isSponsored||t!==f.a.Impression){if(e.isSponsored)if(i.includes(t))n(Se(e,t));else if(t!==f.a.GroupMViewable){if(t!==f.a.GalleryItemImpression)return t===f.a.Impression?(n((e=>async(t,n)=>{e.isSponsored&&(t(ye(e,f.a.Impression)),E(e,t,n))})(e)),void(e.isBlank||B.h(s(),e.postId))):void n((e=>async t=>{e.isSponsored&&t(ye(e,f.a.ViewableImpression))})(e));n(ye(e,t))}else n(Se(e,t))}else Object(Y.e)(s())&&n(Object(p.c)())},De=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n(),o=i.posts.models[e],c=i.user.account?i.user.account.displayText:null;o&&(t(oe({[e]:{approvedBy:c,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null}})),(await Object(w.b)(r(),e)).ok||t(oe({[e]:{approvedBy:null,bannedBy:o.bannedBy,isApproved:o.isApproved,isRemoved:o.isRemoved,isSpam:o.isSpam,modNote:o.modNote,numReports:o.numReports||null,modRemovalReason:o.modRemovalReason,modReasonBy:o.modReasonBy}})))},ve=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=o.posts.models[e],a=o.user.account?o.user.account.displayText:null;return!(!c||!a)&&(n(oe({[e]:{approvedBy:null,bannedBy:a,isApproved:!1,isRemoved:!t,isSpam:t}})),!!(await Object(w.m)(i(),e,t)).ok||(n(oe({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam}})),!1))},Re=(e,t,n)=>async(s,i,o)=>{let{apiContext:c}=o;const a=i();if(a.posts.models[e])if(s(oe({[e]:{hidden:!0}})),(await Object(w.c)(c(),e)).ok){const e=Object(M.d)(r.fbt._("Post deleted successfully.",null,{hk:"1sQ4Xf"}),q.b.SuccessMod);if(n)s(Object(N.b)(t.state[y.a.CloseLocation]));else{const e=Object(z.f)(a);e&&s(Object(N.b)(e.url))}s(Object(M.e)(e))}else{s(oe({[e]:{hidden:!1}}));const t=Object(M.d)(r.fbt._("Something went wrong",null,{hk:"22u7ha"}),q.b.Error);s(Object(M.e)(t))}},Ae=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n().posts.models[e];if(!i)return;const o=i.isLocked?w.w:w.j;t(oe({[e]:{isLocked:!i.isLocked}})),(await o(r(),e)).ok||t(oe({[e]:{isLocked:i.isLocked}}))},we=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n().posts.models[e];if(!i)return;const o=i.isSpoiler?w.z:w.s,c=i.isSpoiler?i.flair.filter(e=>e.type!==V.f.Spoiler):[...i.flair,{text:"spoiler",type:V.f.Spoiler}];t(oe({[e]:{isSpoiler:!i.isSpoiler,flair:c}})),(await o(r(),e)).ok||t(oe({[e]:{isSpoiler:i.isSpoiler,flair:i.flair}}))},Ce=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=Object(m.O)(n(),{postId:e});i&&(t(oe({[e]:{isOriginalContent:!i.isOriginalContent}})),(await Object(w.l)(r(),e,!i.isOriginalContent)).ok||t(oe({[e]:{isOriginalContent:i.isOriginalContent}})))},Pe=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n().posts.models[e];if(!i)return;const o=i.isNSFW?w.x:w.k,c=i.isNSFW?i.flair.filter(e=>e.type!==V.f.Nsfw):[...i.flair,{text:"nsfw",type:V.f.Nsfw}];t(oe({[e]:{isNSFW:!i.isNSFW,flair:c}})),(await o(r(),e)).ok?await t(qe(e)):t(oe({[e]:{isNSFW:i.isNSFW,flair:i.flair}}))},xe=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s().posts.models[e];if(!o)return;const c=x.g[t];n(oe({[e]:{distinguishType:t}})),(await Object(w.d)(i(),e,c)).ok||n(oe({[e]:{distinguishType:o.distinguishType}}))},ke=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n().posts.models[e];if(!i)return;const o=i.ignoreReports?w.v:w.i;t(oe({[e]:{ignoreReports:!i.ignoreReports}})),(await o(r(),e)).ok||t(oe({[e]:{ignoreReports:i.ignoreReports}}))},Ne=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n(),o=i.posts.models[e];if(!o)return;const c=!o.isStickied;t(oe({[e]:{isStickied:c}}));const a=i.subredditStickyPosts.data[o.belongsTo.id];let d;if(c&&a&&a.length>=2&&(d=a[1],t(oe({[d]:{isStickied:!1}}))),(await Object(w.t)(r(),e,c,!1)).ok){const n=o.belongsTo.id,s=Ue(e,c,i.subredditStickyPosts.data[o.belongsTo.id]),r=i.subreddits.models[n].name,a=Object(k.a)(r,x.Q,{});t(ie({newStickiedPostList:s,subredditId:n,listingKey:a}))}else t(oe({[e]:{isStickied:o.isStickied}})),d&&t(oe({[d]:{isStickied:!0}}))},Ue=(e,t,n)=>{const s=n?[...n]:[];return t?(s.length>=2&&s.splice(1,1,e),s):s.filter((function(t){return t!==e}))},Le=e=>async(t,n,s)=>{let{apiContext:i}=s;if(Object(a.a)(e)){const e=Object(M.d)(r.fbt._("Copied link!",null,{hk:"4a4E1x"}),q.b.SuccessCommunity);t(Object(M.e)(e))}else{const e=Object(M.d)(r.fbt._("Something went wrong",null,{hk:"22u7ha"}),q.b.Error);t(Object(M.e)(e))}},Me="PREFERENCES__RECENT_POSTS_UPDATED",Ge=Object(d.a)(Me),Fe=()=>async(e,t)=>{const n=t();if(!n.user.account)return;const r=Object(W.e)(n.user.account);o.a.remove("".concat(r).concat(S.g),{domain:s.a.cookieDomain}),e(Ge({postIds:[]}))},Be=e=>async(t,n)=>{const r=n();if(!r.user.account||!r.user.account.showRecentPosts||r.posts.recent.indexOf(e)>-1)return;const i=Object(W.e)(r.user.account),c=r.posts.recent?r.posts.recent.slice(0):[];c.push(e),c.length>T.c&&c.shift(),o.a.set("".concat(i).concat(S.g),"".concat(c.join(",")),{domain:s.a.cookieDomain}),t(Ge({postIds:c}))},Ve=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=!n().posts.models[e].sendReplies;t(oe({[e]:{sendReplies:i}})),(await Object(w.q)(r(),e,i)).ok||t(oe({[e]:{sendReplies:!i}}))},qe=e=>async(t,n,s)=>{if(Object(m.O)(n(),{postId:e}))return;const r=await Object(F.a)(s.apiContext(),e,void 0,{limit:1,truncate:0},Object(K.a)(n()));if(t(Object(b.m)(r.status)),r.ok){const e=r.body;t(se(e.posts))}},We=e=>async(t,n)=>{await t(qe(e));const s=Object(m.O)(n(),{postId:e});s&&s.crosspostRootId&&await t(qe(s.crosspostRootId))},He=e=>async(t,n,s)=>{let{apiContext:i}=s;const o=n();if(!Object(J.J)(o))return void t(Object(L.i)(G.a.LOGIN_MODAL_ID));const c=Object(m.O)(o,{postId:e});if(!c)return;const a=c.isFollowed,d=o.posts.instances[e]||[],u=[e,...d];t(oe(u.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:{isFollowed:!a}}),{}))),(await Object(w.g)(i(),e,!c.isFollowed)).ok?t(Object(M.e)({kind:q.b.SuccessMod,text:a?r.fbt._("Event unfollowed",null,{hk:"3tkWMt"}):r.fbt._("Success! You followed this event, that means well remind you when it starts!",null,{hk:"4A9cwh"})})):(t(oe(u.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:{isFollowed:a}}),{}))),t(Object(M.e)({kind:q.b.Error,text:r.fbt._("Oops, something went wrong. Try again.",null,{hk:"2VQ3RW"})})))},Ke=e=>{let{postOrComment:t,queryParams:n,clickInfo:s}=e;return async(e,r)=>{const i=r(),o=s&&s.hasNewTabModifier;let a=t.permalink;if(Object(D.b)(t)&&t.media&&Object(A.I)(t.media)){const{id:e,type:n}=t.belongsTo,s="subreddit"===n?i.subreddits.models[e]:null;a=s?Object(R.c)(t.id,s.name):Object(R.c)(t.id)}n&&(a=Object(c.a)(a,n)),i.user.prefs.openPostInNewTab||o?window.open(a):e(Object(v.a)(a))}},Ye="RICH_TEXT_POST_CONTENT_LOADED",ze=Object(d.a)(Ye),Je=e=>async(t,n,s)=>{const i=n(),o=Object(m.O)(i,{postId:e});if(!(o&&o.media&&Object(A.J)(o.media)&&o.media.isRichtextPreview))return;const c=await((e,t)=>Object(C.a)(e,Object.assign(Object.assign({},P),{variables:t})))(s.gqlContext(),{postId:e});if(c.ok){const{data:n}=c.body,s=n.post&&n.post.content&&n.post.content.richtext;s&&t(ze({postId:e,richtextContent:JSON.parse(s)}))}else t(Object(M.e)({kind:q.b.Error,text:r.fbt._("Something went wrong loading this page. Try again?",null,{hk:"1GbrKz"})}))},Qe=(e,t)=>async(n,s,i)=>{let{apiContext:o}=i;(await Object(w.r)(o(),e,t)).ok?n(oe({[t]:{contestMode:e}})):n(Object(M.e)({kind:q.b.Error,text:r.fbt._("Something went wrong",null,{hk:"22u7ha"})}))},Xe="MOD_TO_MEMBER_SHARE_OPENED",Ze=Object(d.a)(Xe),$e="CROWD_CONTROL_OPENED",et=Object(d.a)($e)},"./src/reddit/actions/postFlairStyleTemplates/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const s="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_PENDING",r="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_LOADED",i="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_FAILED"},"./src/reddit/actions/postList.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return d}));var s=n("./src/lib/makeActionCreator/index.ts"),r=(n("./src/reddit/actions/embedAndImage.ts"),n("./src/reddit/actions/video.ts"),n("./src/reddit/helpers/trackers/postList.ts"));n("./src/reddit/constants/postLayout.ts"),n("./src/reddit/selectors/platform.ts"),n("./src/reddit/selectors/posts.ts");n("./src/reddit/selectors/video.ts");const i="POSTLIST__MARKED_END",o="POSTLIST__UNMARKED_END",c=Object(s.a)(i),a=Object(s.a)(o),d=(e,t)=>async(n,s)=>{const i=s();e in i.listings.postOrder.fetchedTokens?e in i.listings.postOrder.ids?n(a({listingKey:e})):r.j(i,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/preferences.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return G})),n.d(t,"i",(function(){return F})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return V})),n.d(t,"p",(function(){return q})),n.d(t,"e",(function(){return W})),n.d(t,"d",(function(){return H})),n.d(t,"m",(function(){return K})),n.d(t,"f",(function(){return Y})),n.d(t,"o",(function(){return z})),n.d(t,"r",(function(){return J})),n.d(t,"t",(function(){return ee})),n.d(t,"c",(function(){return ie})),n.d(t,"v",(function(){return oe})),n.d(t,"w",(function(){return ce})),n.d(t,"x",(function(){return ae})),n.d(t,"u",(function(){return de})),n.d(t,"y",(function(){return ue})),n.d(t,"F",(function(){return le})),n.d(t,"D",(function(){return be})),n.d(t,"a",(function(){return pe})),n.d(t,"q",(function(){return fe})),n.d(t,"E",(function(){return ge})),n.d(t,"H",(function(){return je})),n.d(t,"j",(function(){return Ee})),n.d(t,"l",(function(){return ye})),n.d(t,"k",(function(){return De})),n.d(t,"z",(function(){return Re})),n.d(t,"C",(function(){return Ae})),n.d(t,"s",(function(){return we})),n.d(t,"B",(function(){return Ce})),n.d(t,"A",(function(){return xe})),n.d(t,"n",(function(){return ke})),n.d(t,"G",(function(){return Le})),n.d(t,"J",(function(){return Me})),n.d(t,"I",(function(){return Ge}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var s=n("./src/config.ts"),r=n("./node_modules/fbt/lib/FbtPublic.js"),i=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(i),c=n("./node_modules/lodash/isEmpty.js"),a=n.n(c),d=n("./node_modules/lodash/omit.js"),u=n.n(d),l=n("./node_modules/lodash/pick.js"),b=n.n(l),p=n("./src/lib/constants/index.ts"),f=n("./src/lib/makeActionCreator/index.ts"),O=n("./src/lib/omitHeaders/index.ts"),_=n("./src/reddit/actions/chat/toggle.ts"),m=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),g=n("./src/reddit/actions/users.ts"),j=n("./src/reddit/constants/cookie.ts"),E=n("./src/reddit/constants/headers.ts"),h=n("./src/reddit/endpoints/user/preferences.ts"),I=n("./src/reddit/helpers/cookies/index.ts"),S=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),y=n("./src/lib/makeApiRequest/index.ts"),T=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),D=n("./src/reddit/actions/imageUploads.ts"),v=n("./src/reddit/actions/toaster.ts"),R=n("./src/reddit/constants/preferences.ts"),A=n("./src/reddit/endpoints/subreddit/settings.ts"),w=n("./src/reddit/helpers/media/index.ts"),C=n("./src/reddit/helpers/trackers/profileSettings.ts"),P=n("./src/reddit/models/Image/index.tsx"),x=n("./src/reddit/models/Toast/index.ts"),k=n("./src/reddit/models/User/index.ts"),N=n("./src/reddit/selectors/imageUploads.ts"),U=n("./src/reddit/selectors/structuredStyles.ts"),L=n("./src/reddit/selectors/subreddit.ts"),M=n("./src/reddit/selectors/user.ts");const G="PREFERENCES__AUTOPLAY_TOGGLED",F="PREFERENCES__NIGHTMODE_TOGGLED",B="PREFERENCES__LANGUAGE_CHANGED",V="PREFERENCES__LAYOUT_CHANGED",q="PREFERENCES__SUBREDDIT_LAYOUT_CHANGED",W="PREFERENCES__CUSTOMIZE_FLYOUT_SHOWN",H="PREFERENCES__CUSTOMIZE_FLYOUT_DISMISSED",K="PREFERENCES__PROFILE_LAYOUT_CHANGED",Y="PREFERENCES__HAMBURGER_TRAY_TOGGLED",z="PREFERENCES__RPAN_DU_DISMISSED",J="PREFERENCES__TOP_CONTENT_DISMISSAL_PREF_SET",Q=Object(f.a)(B),X=Object(f.a)(V),Z=Object(f.a)(q),$=Object(f.a)(W),ee=Object(f.a)(H),te=Object(f.a)(z),ne=Object(f.a)(J),se=(Object(f.a)(K),Object(f.a)(G)),re=Object(f.a)(F),ie=(Object(f.a)(Y),"PREFERENCES__COLLAPSED_TRAY_TOGGLED"),oe=(Object(f.a)(ie),e=>async(t,n,s)=>{let{apiContext:r}=s;const i=r(),o=await Object(y.a)(Object(O.a)(i,[E.a]),{data:{lang:e.replace("-","_")},endpoint:"".concat(i.apiUrl,"/api/v1/me/prefs"),method:p.eb.PATCH,type:"json"});if(o.ok){const e=o.body.lang;t(Q(e))}}),ce=e=>async(t,n,s)=>{let{apiContext:r}=s;t(X({layout:e})),t(Object(g.o)())},ae=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=Object(M.eb)(o),{hasSeenCustomizeFlyout:a}=o.user.prefs;a||n($()),t&&c?(n(Z({subredditId:t,layout:e})),n(Me(t,{layout:e},!1)),a||n(je({hasSeenCustomizeFlyout:!0},!1))):(n(ce(e)),n(je(a?{layout:e}:{layout:e,hasSeenCustomizeFlyout:!0},!1)))},de=e=>async(t,n,s)=>{let{apiContext:r}=s;n().user.account&&await Object(h.d)(e,r())},ue=e=>async(t,n,i)=>{let{apiContext:c}=i;const a=n();Object(U.j)(a)?t(Object(v.e)({kind:x.b.Error,text:r.fbt._("In order to continue styling your community, Night Mode must be turned off.",null,{hk:"1yZidT"})})):(a.user.account?await Object(h.e)(e,c()):Object(I.a)({prefs:{nightmode:e}}),t(re({nightmode:e})),t(Object(_.f)(e)),o.a.remove(j.d,{domain:s.a.cookieDomain}))},le=()=>async(e,t,n)=>{let{apiContext:s}=n;const i=t(),o=i.user.prefs.topContentTimesDismissed+1,c=Date.now();i.user.account?e(je({topContentDismissalTime:c,topContentTimesDismissed:o},!1)):Object(I.a)({prefs:{[R.d]:c,[R.e]:o}}),e(ne({topContentDismissalTime:c,topContentTimesDismissed:o})),e(Object(v.e)({kind:x.b.SuccessCommunity,text:r.fbt._("Got it! We will show you less of this",null,{hk:"4op5Wa"})}))},be=e=>async(t,n,s)=>{let{apiContext:i}=s;const o=-1===[m.R,"r/popular"].indexOf(e),c=Date.now(),a=n(),d=r.fbt._("Got it! We will show you less of this",null,{hk:"4op5Wa"});if(a.user.account)if(o){const n=e.replace(/^r\//,""),s=Object(L.F)(a,n);t(Me(s,{rpanDuDismissalTime:c},!1))}else t(je({rpanDuDismissalTime:c},!1));else Object(I.a)({prefs:{[R.b]:c}});t(Object(v.e)({kind:x.b.SuccessCommunity,text:d})),t(te(c))},pe="SETTINGS__ACCOUNT_PREFS_UPDATE_SUCCESS",fe="SETTINGS__SUBREDDIT_PREFS_UPDATED",Oe=Object(f.a)("SETTINGS__UPDATE_PENDING"),_e=Object(f.a)("SETTINGS__UPDATE_FAILURE"),me=Object(f.a)(pe),ge=Object(f.a)(fe),je=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return async(s,i,o)=>{let{apiContext:c}=o;s(Oe());const d=u()(e,R.a),l=b()(e,R.a),p=[];a()(d)||p.push(Object(h.g)(d,c())),a()(l)||p.push(Object(h.b)(l,c())),(await Promise.all(p)).every(e=>e.ok)?(s(me({preferences:e})),t&&s(Object(v.e)({kind:x.b.SuccessCommunity,text:n||r.fbt._("Changes saved",null,{hk:"2isjrZ"})}))):(s(_e()),t&&s(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"XrtIq"})})))}},Ee="SETTINGS__SUCCESS",he=Object(f.a)("SETTINGS__PENDING"),Ie=Object(f.a)("SETTINGS__FAILURE"),Se=Object(f.a)(Ee),ye="SETTINGS__PROFILE_IMAGE_UPDATE_SUCCESS",Te=Object(f.a)(ye),De="SETTINGS__PROFILE_IMAGE_DELETE_SUCCESS",ve=Object(f.a)(De),Re=e=>async(t,n,r)=>{let{apiContext:i}=r;t(he());const o=await((e,t)=>Object(y.a)(e,{endpoint:Object(T.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/prefs")),method:p.eb.GET,data:{timestamp:t?Date.now():void 0}}))(i(),e);o.ok?t(Se(o.body)):t(Ie())},Ae=e=>async(t,n,s)=>{let{apiContext:r}=s;if(n().user.account)await Object(h.a)(e,r());else{const e=o.a.get(j.e);if(e){const t=JSON.parse(decodeURIComponent(e));t.pref_quarantine_optin=!0,o.a.set(j.e,JSON.stringify(encodeURIComponent(t)),p.y)}else{const e=JSON.stringify({pref_quarantine_optin:!0});o.a.set(j.e,e,p.y)}}},we=e=>async(t,n,s)=>{let{apiContext:r}=s;n().user.account&&await Object(h.c)(e,r()),t(se({autoplayVideo:e}))},Ce=(e,t)=>async(n,s,r)=>{await Pe(e,t)(n,s,r)},Pe=(e,t)=>async(n,s,i)=>{const{apiContext:o}=i,c=Object(M.i)(s());if(!c||!c.profileId)return;n(Object(D.k)(e));const a=Object(k.e)(c),d=p.Yb+a,u=await Object(S.d)(o(),d,e.file.name,t,await Object(w.g)(e.file));if(u.ok){let p;try{if(!(p=await Object(D.g)(s(),u,e,P.a.Profiles)))return void n(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"3QlXrl"})}));n(Object(D.j)(p))}catch(l){return void n(Object(D.i)(l))}let f=null,O=null;try{(f=await Object(D.f)(s(),P.a.Profiles))&&(O=Object(D.m)(f)(n,s,i))}catch(b){return void n(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"3QlXrl"})}))}const _=decodeURIComponent(p.url);if(n(Te({imageUrl:_,key:t,subredditId:c.profileId,username:a})),(await Object(S.e)(o(),d,{[t]:_})).ok){if(O)try{await O}catch(b){}n(Object(v.e)({kind:x.b.SuccessCommunity,text:r.fbt._("Changes saved",null,{hk:"xEVHp"})})),Object(C.g)(s(),t);const i=Object(N.a)(s(),e);n(Te({imageUrl:i?i.url:p.url,key:t,subredditId:c.profileId,username:a}))}else n(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"1y1wAY"})}))}else{const e="profileBanner"===t?"1280x384":"256x256";n(Object(v.e)({kind:x.b.Error,text:r.fbt._("There was an error uploading your image. Please verify that the size of your image is {maxImageSize} and less than 500KB.",[r.fbt._param("maxImageSize",e)],{hk:"I6lfz"})}))}},xe=e=>async(t,n,s)=>{let{apiContext:i}=s;const o=Object(M.i)(n());if(!o||!o.profileId)return;const c=Object(k.e)(o),a=p.Yb+c,d={profileIcon:"icon",profileBanner:"banner"}[e],u=await Object(A.b)(i(),a,d);if(u.ok){const s=u.body[d+"_img"];t(ve({imageUrl:s,key:e,subredditId:o.profileId,username:c})),t(Object(v.e)({kind:x.b.SuccessCommunity,text:r.fbt._("Changes saved",null,{hk:"xEVHp"})})),Object(C.f)(n(),e)}else t(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"1y1wAY"})}))},ke="SETTINGS__PROFILE_SETTINGS_UPDATE_SUCCESS",Ne=Object(f.a)(ke),Ue=Object(f.a)("SETTINGS__PROFILE_SETTINGS_UPDATE_FAILED"),Le=(e,t)=>async(n,s,i)=>{let{apiContext:o}=i;const c=Object(M.i)(s());if(!c||!c.profileId)return!1;const a=[],d=s().subreddits.settings[c.profileId],u=Object.assign(Object.assign({},d),e);a.push(Object(A.f)(o(),c.profileId,u));const{showActiveCommunities:l,prevShowActiveCommunities:b}=t;return l!==b&&a.push(Object(h.g)({showActiveCommunities:l},o())),(await Promise.all(a)).every(e=>e.ok)?(n(Ne({settings:e,additional:t,subredditId:c.profileId})),Object(C.i)(s()),n(Object(v.e)({kind:x.b.SuccessCommunity,text:r.fbt._("Changes saved",null,{hk:"xEVHp"})})),!0):(n(Ue()),n(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"1y1wAY"})})),!1)},Me=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(s,i,o)=>{let{apiContext:c}=o;const a=i().user.prefs.subreddit[e];s(ge({subredditId:e,prefs:t})),(await Object(h.h)(e,t,c())).ok?n&&s(Object(v.e)({kind:x.b.SuccessCommunity,text:r.fbt._("Changes saved",null,{hk:"xEVHp"})})):(a&&s(ge({subredditId:e,prefs:a})),n&&s(Object(v.e)({kind:x.b.Error,text:r.fbt._("Changes failed to save",null,{hk:"1y1wAY"})})))}},Ge=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s();Object(L.S)(o,{subredditId:e})&&o.user.prefs.rememberCommunitySort&&n(Me(e,{sort:t},!1))}},"./src/reddit/actions/publicAccessNetwork/api.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/post.ts"),i=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),c=n("./src/reddit/selectors/experiments/publicAccessNetwork.ts"),a=n("./src/reddit/selectors/PublicAccessNetwork/api.ts");const d=Object(s.a)(i.w),u=Object(s.a)(i.x),l=Object(s.a)(i.G),b=(Object(s.a)(i.H),Object(s.a)(i.I)),p=Object(s.a)(i.T),f=e=>async(t,n)=>{if(Object(c.a)(n()))return Object(c.h)(n())?t(O(e)):t((()=>async(e,t,n)=>{let{gqlContext:s}=n;const r=Object(a.k)(t()),i=r.global.lastUpdated||0,c=1e3*r.global.rpan_config_refresh_rate;if(r.isPending||Date.now()<i+c)return;e(l());const u=await Object(o.b)(s());u.ok&&u.body?e(d(Object.assign(Object.assign({},u.body),{lastUpdated:Date.now()}))):e(b())})())},O=e=>async(t,n,s)=>{let{gqlContext:r}=s;const i=Object(a.k)(n()),c=Object(a.m)(n(),{subreddit:e}),p=c&&c.lastUpdated||0,f=1e3*i.global.rpan_config_refresh_rate;if(i.isPending||i.isPermanentlyCanceled||Date.now()<p+f)return;t(l());const O=await Object(o.c)(r(),e);if(!O.ok)return void t(b());const _=O.body;t(d(Object.assign(Object.assign({},_.global),{lastUpdated:Date.now()}))),t(u({name:e,config:Object.assign(Object.assign({},_.listing_info),{lastUpdated:Date.now()})}))},_=e=>async(t,n,s)=>{let{gqlContext:r}=s;t(p()),await Object(o.i)(r(),e)},m=e=>async(t,n,s)=>{let{apiContext:i}=s;n().posts.models[e]||await t(Object(r.F)(e))},g=Object(s.a)(i.v),j=Object(s.a)(i.J),E=Object(s.a)(i.K),h=()=>async(e,t,n)=>{let{gqlContext:s}=n;const r=t();if(!Object(c.h)(r)||Object(a.h)(r))return;e(j());const i=await Object(o.d)(s());i.ok&&i.body&&i.body.data?e(g({subreddits:i.body.data})):e(E({error:i.error}))}},"./src/reddit/actions/publicAccessNetwork/constants.ts":function(e,t,n){"use strict";n.d(t,"E",(function(){return r})),n.d(t,"X",(function(){return i})),n.d(t,"W",(function(){return o})),n.d(t,"P",(function(){return c})),n.d(t,"w",(function(){return a})),n.d(t,"x",(function(){return d})),n.d(t,"G",(function(){return u})),n.d(t,"I",(function(){return l})),n.d(t,"H",(function(){return b})),n.d(t,"t",(function(){return p})),n.d(t,"u",(function(){return f})),n.d(t,"y",(function(){return O})),n.d(t,"N",(function(){return _})),n.d(t,"M",(function(){return m})),n.d(t,"O",(function(){return g})),n.d(t,"z",(function(){return j})),n.d(t,"L",(function(){return E})),n.d(t,"r",(function(){return h})),n.d(t,"F",(function(){return I})),n.d(t,"v",(function(){return S})),n.d(t,"J",(function(){return y})),n.d(t,"K",(function(){return T})),n.d(t,"D",(function(){return D})),n.d(t,"B",(function(){return v})),n.d(t,"V",(function(){return R})),n.d(t,"C",(function(){return A})),n.d(t,"b",(function(){return w})),n.d(t,"s",(function(){return C})),n.d(t,"A",(function(){return P})),n.d(t,"T",(function(){return x})),n.d(t,"m",(function(){return k})),n.d(t,"l",(function(){return N})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return L})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return G})),n.d(t,"j",(function(){return F})),n.d(t,"c",(function(){return B})),n.d(t,"h",(function(){return V})),n.d(t,"k",(function(){return q})),n.d(t,"p",(function(){return W})),n.d(t,"q",(function(){return H})),n.d(t,"Y",(function(){return K})),n.d(t,"a",(function(){return Y})),n.d(t,"R",(function(){return z})),n.d(t,"i",(function(){return J})),n.d(t,"o",(function(){return Q})),n.d(t,"n",(function(){return X})),n.d(t,"Q",(function(){return Z})),n.d(t,"S",(function(){return $})),n.d(t,"U",(function(){return ee}));var s=n("./src/config.ts");const r="RPAN__REMOVE_STREAM_FROM_HISTORY",i="RPAN__VISIT_STREAM",o=-1,c="RPAN__RESET_HISTORY",a="RPAN__RECEIVE_GLOBAL_CONFIG",d="RPAN__RECEIVE_SUBREDDIT_CONFIG",u="RPAN__REQUEST_CONFIG",l="RPAN__REQUEST_CONFIG_FAILED",b="RPAN__REQUEST_CONFIG_CANCELED",p="RPAN__RECEIVE_HLS_STREAM_ENDED",f="RPAN__RECEIVE_HLS_STREAM_REMOVED",O="RPAN__RECEIVE_STREAM_MODEL",_="RPAN__REQUEST_STREAM_MODEL",m="RPAN__REQUEST_STREAM_FAILED",g="RPAN__REQUEST_STREAM_MODEL_BATCH",j="RPAN__RECEIVE_STREAM_MODEL_BATCH",E="RPAN__REQUEST_STREAM_BATCH_FAILED",h="RPAN__RECEIVE_AUTO_MUTE_LEVEL",I="RPAN__REQUEST_AUTO_MUTE_LEVEL",S="RPAN__RECEIVE_RECOMMENDED_VIEWER_SUBREDDITS",y="RPAN__REQUEST_RECOMMENDED_VIEWER_SUBREDDITS",T="RPAN__REQUEST_RECOMMENDED_VIEWER_SUBREDDITS_FAILED",D="RPAN__RECEIVE_VOTE",v="RPAN__RECEIVE_THEATER_SETTINGS",R="RPAN__UPDATE_VIDEO_TIMESTAMP",A="RPAN__RECEIVE_USER_SETTINGS",w="RPAN__BATCH_OP",C="RPAN__RECEIVE_DISCOVERY_UNIT_THUMBNAILS",P="RPAN__RECEIVE_STREAM_PREVIEWS",x="RPAN__SEND_HEARTBEAT",k=0,N=9999,U=30,L=6,M=5,G=15,F=5,B=57,V=60,q=7e3,W=1e3,H=400,K=1e3,Y=3e4,z=("".concat(s.a.assetPath,"/img/trending-placeholder.png"),"home"),J=3,Q=500,X=2e3,Z="".concat(s.a.redditUrl,"/r/").concat("pan"),$="https://web.archive.org/web/20210101014622/https://www.redditinc.com/policies/broadcasting-content-policy",ee=("".concat(s.a.assetPath,"/img/rpan-broadcast-over.png"),"".concat(s.a.assetPath,"/img/rpan-broadcast-over-thumbnail.png"))},"./src/reddit/actions/search.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return T})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return P})),n.d(t,"i",(function(){return x}));n("./node_modules/core-js/modules/es6.array.sort.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/pick.js"),i=n.n(r),o=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/actions/pages/subreddit.ts"),b=n("./src/reddit/endpoints/page/search.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts");var _=async(e,t)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/related_queries_v1.json?query=").concat(t),method:o.eb.GET}),m=n("./src/reddit/models/Toast/index.ts"),g=n("./src/reddit/selectors/searchResults.ts"),j=n("./src/reddit/selectors/user.ts");const E="SEARCH__MORE_RESULTS_PENDING",h="SEARCH__MORE_RESULTS_RECEIVED",I="SEARCH__MORE_RESULTS_FAILED",S="SEARCH__RELATED_QUERIES_RECEIVED",y="SEARCH__UPDATE_SEARCH_QUERY",T=Object(c.a)(y),D=Object(c.a)(E),v=Object(c.a)(h),R=Object(c.a)(I),A=Object(c.a)(S),w=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n(),o=Object(g.g)(i,e);if(o&&o.length>0)return;const c=await _(r(),e);if(c.ok){const n=(e=>({relatedQueries:e.body.related_queries}))(c);t(A({query:e,relatedQueries:n.relatedQueries}))}},C=e=>async(t,n,r)=>{let{apiContext:c}=r;const p=n(),{queryParams:f}=p.platform.currentPage,O=Object(l.e)(f,Object(j.bb)(p)),_=p.platform.currentPage.urlParams.subredditName||p.platform.currentPage.urlParams.multiredditName,{username:g}=p.platform.currentPage.urlParams,E=O||i()(f,u.t),h=Object(a.c)(E),I=Object.assign(Object.assign({},h),{sort:h.category?o.Pb.Relevance:h.sort,t:h.category?o.Wb.DAY:h.t}),S=Object(a.b)(_,g,I);let y;if(e.indexOf(o.Rb.Posts)>-1){const e=p.listings.postOrder.loadMore[S];if(!e)return;const t=p.listings.postOrder.api.pending[S],n=p.listings.postOrder.fetchedTokens,s=n[S]&&n[S][e.token];if(t||s)return;y=e.token}else{if(!(e.indexOf(o.Rb.Subreddits)>-1||e.indexOf(o.Rb.Users)>-1))throw new Error("Should not attempt to fetch more results without a search type");{const e=p.listings.listingOrder.loadMore[S];if(!e)return;const t=p.listings.listingOrder.api.pending[S],n=p.listings.listingOrder.fetchedTokens,s=n[S]&&n[S][e.token];if(t||s)return;y=e.token}}const T="error-".concat(S);t(D({fetchedToken:y,key:S,type:e}));const A=await Object(b.a)(c(),_,g,Object.assign(Object.assign({},I),{after:y,type:(h.type||[]).join(","),b:!0}));A.ok?(t(v(Object.assign({key:S,fetchedToken:y,meta:p.meta,subredditOrMultiName:_,type:e},A.body))),t(d.f(T))):(t(R(Object.assign({key:S,error:A.error,fetchedToken:y,meta:p.meta,type:e},A.body))),t(d.e({id:T,kind:m.b.Error,text:s.fbt._("Sorry, we couldn't load more search results.",null,{hk:"3IDePs"}),buttonText:s.fbt._("Retry",null,{hk:"1XMjgA"}),buttonAction:C(e)})))},P="SEARCH__TYPEAHEAD_SUCCESS",x=Object(c.a)(P)},"./src/reddit/actions/seo/linksModule.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/lib/loadWithRetries/index.ts");const i="FRONTPAGE_LINKS__REQUEST_LOADED",o="SUBREDDIT_LINKS_LOADED",c=10,a=Object(s.a)("FRONTPAGE_LINKS__REQUEST_PENDING"),d=Object(s.a)("FRONTPAGE_LINKS__REQUEST_FAILED"),u=Object(s.a)(i),l=Object(s.a)(o),b=()=>async e=>{e(a());const t=await(async()=>(await Object(r.a)(()=>n.e("FrontpageLinks").then(n.t.bind(null,"./src/reddit/endpoints/goodContent/frontpageLinks.json",3)))).default)();e(t?u(t):d())}},"./src/reddit/actions/seo/topicLinks.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var s=n("./src/lib/makeActionCreator/index.ts");const r="SUBREDDIT_TOPIC_LINKS_LOADED",i=Object(s.a)(r)},"./src/reddit/actions/shortcuts/utils.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d}));var s=n("./src/reddit/constants/shortcuts.ts"),r=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),i=n("./src/reddit/helpers/routeKey/index.ts");const o=e=>{const t=e.platform.currentPage;if(!t||!t.routeMatch)return;const n=t.routeMatch,s=Object(r.a)(e);return Object(i.b)(n,e,s)},c=e=>{const t=document.getElementById(e);t&&t.focus()},a=e=>{const t=document.getElementById(e),n=window.scrollX,s=window.scrollY;t&&(t.focus(),window.scrollTo(n,s))},d=()=>{a(s.b)}},"./src/reddit/actions/structuredStyles/constants.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"n",(function(){return O})),n.d(t,"m",(function(){return _}));const s="STRUCTURED_STYLES__STYLES_RESET_PENDING",r="STRUCTURED_STYLES__STYLES_RESET_LOADED",i="STRUCTURED_STYLES__STYLES_RESET_FAILED",o="SUBREDDIT__STYLES_PENDING",c="SUBREDDIT__STYLES_LOADED",a="SUBREDDIT__STYLES_FAILED",d="STRUCTURED_STYLES__DRAFT_REPLACED",u="STRUCTURED_STYLES__DRAFT_UPDATED",l="STRUCTURED_STYLES__EDITING_STOPPED",b="STRUCTURED_STYLES__EDITING_STARTED",p="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",f="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",O="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",_="STRUCTURED_STYLES__STYLES_UPDATED_LOADED"},"./src/reddit/actions/structuredStyles/index.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return M})),n.d(t,"k",(function(){return B})),n.d(t,"j",(function(){return H})),n.d(t,"e",(function(){return Y})),n.d(t,"d",(function(){return J})),n.d(t,"g",(function(){return X})),n.d(t,"c",(function(){return $})),n.d(t,"f",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"m",(function(){return se})),n.d(t,"a",(function(){return re})),n.d(t,"h",(function(){return ie})),n.d(t,"i",(function(){return oe}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/lodash/omit.js"),r=n.n(s),i=n("./node_modules/lodash/pick.js"),o=n.n(i),c=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/filterQueryParams/index.ts"),d=n("./src/lib/formatApiError/index.ts"),u=n("./src/lib/makeActionCreator/index.ts"),l=n("./src/reddit/actions/apiRequestState.ts"),b=n("./src/reddit/actions/imageUploads.ts"),p=n("./src/reddit/actions/modal.ts"),f=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),O=e=>Object.assign(Object.assign(Object.assign(Object.assign({},e.postBackgroundColor&&{postBackgroundColor:e.postBackgroundColor}),e.postBackgroundImage&&{postBackgroundImage:e.postBackgroundImage}),e.postPlaceholderImage&&{postPlaceholderImage:e.postPlaceholderImage}),e.postTitleColor&&{postTitleColor:e.postTitleColor}),_=n("./src/reddit/selectors/postFlair.ts"),m=n("./src/reddit/selectors/subreddit.ts"),g=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const j=Object(u.a)(g.c),E=Object(u.a)(g.b),h=Object(u.a)(g.a);var I=n("./src/reddit/actions/toaster.ts"),S=n("./src/reddit/actions/widgets/index.ts"),y=n("./src/reddit/constants/modals.ts"),T=n("./src/reddit/helpers/getGenericUploadError.ts"),D=n("./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts"),v=n("./src/reddit/helpers/media/index.ts"),R=n("./src/reddit/models/Image/index.tsx"),A=n("./src/reddit/models/StructuredStyles/index.ts"),w=n("./src/reddit/models/Toast/index.ts"),C=n("./src/reddit/selectors/activeModalId.ts"),P=n("./src/reddit/selectors/platform.ts"),x=n("./src/reddit/selectors/structuredStyles.ts"),k=n("./src/reddit/selectors/user.ts"),N=n("./src/reddit/helpers/trackers/blade.ts"),U=n("./src/telemetry/index.ts"),L=n("./src/reddit/actions/structuredStyles/constants.ts");const M=Object(u.a)(L.m),G={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},F=e=>{const t=Object.assign({},e);return Object.keys(e).forEach(n=>{G[n]&&!e[n]&&G[n].forEach(e=>t[e]=null)}),t},B=(e,t,n,s)=>async(r,i,o)=>{const{apiContext:c}=o,a=i(),u=F(t),p=a.structuredStyles.models[e];let O;for(const e in u)if(u[e]!==p[e]){O=!0;break}if(!O)return;r(Object(l.h)(s));const _=Object(N.i)(n)(a);let g=null,j=null;try{(g=await Object(b.f)(i(),R.a.StructuredStyles))&&(j=Object(b.m)(g)(r,i,o))}catch(y){const e=Object(T.a)("webSocket");return void r(Object(l.f)(s,e))}const E=Object(m.S)(a,{subredditId:e}).name,h=await f.e(c(),E,u),S={};if(h.ok){if(j)try{await j}catch(y){}const n=Object(x.g)(i(),{apiRequestId:s});for(const e in n)if(e in t){const t=Object(x.h)(i(),{name:e});t&&Object(R.j)(t)&&(S[e]=n[e])}Object.keys(S).length&&r(z(S)),r(Object(l.e)(s)),r(M({subredditId:e,styles:Object.assign(Object.assign({},u),S)}))}else g&&g.websocket.close(),r(Object(l.f)(s,h.error)),h.body&&r(I.e({kind:w.b.Error,text:Object(d.a)(h.error,h.status)}));Object(U.a)(Object.assign(Object.assign({},_),{actionInfo:Object.assign(Object.assign({},_.actionInfo),{success:h.ok})}))},V=Object(u.a)(L.l),q=Object(u.a)(L.k),W=Object(u.a)(L.j),H=e=>async(t,n,s)=>{let{apiContext:r}=s;t(V({subredditId:e}));const i=Object(m.S)(n(),{subredditId:e}).name,o=await f.f(r(),i);if(o.ok){const s=n().structuredStyles.models[e],r=s?s.mobileKeyColor:null;t(q({subredditId:e,styles:{mobileKeyColor:r}}))}else t(W(Object.assign({subredditId:e},o.error)))},K=Object(u.a)(L.d),Y=e=>async(t,n,s)=>{const r=n(),i=r.structuredStyles.models[e]||{},o=Object(k.U)(r);t(K({isNightmodeOn:o,styles:i,subredditId:e})),ue(e,!1)(t,n,s),(e=>async(t,n,s)=>{let{gqlContext:r}=s;const i=n(),o=Object(m.S)(i,{subredditId:e});if(!o)return;const c=Object(_.d)(i,{subredditId:e}),a=c&&c.templateIds;if(!a||!a.length)return;t(j({subredditId:e}));const d=await Object(f.a)(r(),o.name,a);if(d.ok){const n={};if(d.body){const{data:e}=d.body;if(e&&e.subreddit)for(const t of e.subreddit.postFlairStyleTemplates)n[t.id]=O(t)}t(E({subredditId:e,templates:n}))}else t(h({subredditId:e,error:d.error}))})(e)(t,n,s),Object(S.g)(e,!1)(t,n,s)},z=Object(u.a)(L.c),J=e=>async(t,n,s)=>{const r=F(e),i=n();for(const e in r)if(Object(A.l)(e))if(r[e]){if("string"!=typeof r[e]){const i=r[e],o=await Object(R.e)(i);X(e,o)(t,n,s),r[e]=""}}else{const n=Object(x.h)(i,{name:e});n&&t(Object(b.h)(n))}t(z(r))},Q=Object(u.a)(L.f),X=(e,t,n)=>async(s,r,i)=>{const o=r(),c=n||o.structuredStyles.isEditing,a=Object(m.S)(o,{subredditId:c}).name;s(Q({imageKey:e,uploadId:t.id})),s(Object(b.k)(t));const d=await f.d(i.apiContext(),a,t.file.name,e,await Object(v.g)(t.file));try{const n=await Object(b.g)(r(),d,t,R.a.StructuredStyles);if(n){const t=n.url;s(Object(b.j)(n)),s(z({[e]:t}))}}catch(u){if(u instanceof Error)throw u;s(Object(b.i)(u))}},Z=Object(u.a)(L.b),$=(e,t,n)=>async(s,i,c)=>{const a=i(),d=a.structuredStyles.models[e]||{},u=a.structuredStyles.draft,l=Object(N.h)(t)(a);if(n){const t=o()(d,n),i=r()(u,n),c=Object.assign(Object.assign({},i),t);s(Z({subredditId:e,styles:c}))}else{s(Z({subredditId:e,styles:d}))}Object(U.a)(l)},ee=Object(u.a)(L.e),te=()=>async(e,t,n)=>{const s=t(),r=Object(k.V)(s),i=!!Object(P.a)(s);if(e(ee({nightmodeTempUpdated:r})),i)return;const{url:o}=s.platform.currentPage;o&&e(Object(c.c)(Object(a.a)(o,["styling","route"])))},ne=Object(u.a)(L.a),se=Object(u.a)(L.n),re=()=>async e=>e(te()),ie=e=>async(t,n)=>{const s=n(),r=Object(x.j)(s);!Object(C.b)(y.a.BLADE_UNSAVED_CHANGES)(s)&&r&&(Object(x.a)(s,{subredditId:e})?t(Object(p.i)(y.a.BLADE_UNSAVED_CHANGES)):t(re()))},oe=e=>async(t,n)=>{const s=n();Object(x.j)(s)||t(Object(k.U)(s)?Object(p.i)(y.a.BLADE_NIGHTMODE):Y(e))},ce=Object(u.a)(L.i),ae=Object(u.a)(L.h),de=Object(u.a)(L.g),ue=(e,t)=>async(n,s,r)=>{let{gqlContext:i,apiContext:o}=r;n(ce({subredditId:e}));const c=Object(m.S)(s(),{subredditId:e});if(!c)return;if(!t){const s=await f.c(o(),c.name,t);if(s.ok){const t=s.body,r=t.data?t.data.style:{};n(ae({subredditId:e,styles:r}))}else n(de(Object.assign({subredditId:e},s.error)));return}const a=await f.b(i(),c.name);if(a.ok){let t={};if(a.body){const{data:e}=a.body;e&&e.subreddit&&e.subreddit.styles&&(t=Object(D.a)(e.subreddit.styles))}n(ae({subredditId:e,styles:t}))}else n(de(Object.assign({subredditId:e},a.error)))}},"./src/reddit/actions/subreddit.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return z})),n.d(t,"l",(function(){return J})),n.d(t,"k",(function(){return Q})),n.d(t,"j",(function(){return X})),n.d(t,"i",(function(){return Z})),n.d(t,"h",(function(){return $})),n.d(t,"d",(function(){return ee})),n.d(t,"p",(function(){return re})),n.d(t,"o",(function(){return ae})),n.d(t,"r",(function(){return le})),n.d(t,"g",(function(){return be})),n.d(t,"f",(function(){return pe})),n.d(t,"e",(function(){return fe})),n.d(t,"q",(function(){return ge})),n.d(t,"b",(function(){return je})),n.d(t,"c",(function(){return Ee})),n.d(t,"a",(function(){return he})),n.d(t,"t",(function(){return Te})),n.d(t,"n",(function(){return De})),n.d(t,"s",(function(){return ve}));n("./node_modules/core-js/modules/es6.array.sort.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/pick.js"),i=n.n(r),o=n("./src/lib/constants/index.ts"),c=n("./src/lib/listingSort/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/actionBarAnimation/index.ts"),l=n("./src/reddit/actions/economics/helpers/async.ts"),b=n("./src/reddit/actions/modal.ts"),p=n("./src/reddit/actions/oldSiteRules.ts"),f=n("./src/reddit/actions/pages/subreddit.ts"),O=n("./src/reddit/actions/preferences.ts"),_=n("./src/reddit/actions/subredditRules/constants.ts"),m=n("./src/reddit/actions/toaster.ts"),g=n("./src/reddit/components/CountAnimation/helpers.ts"),j=n("./src/reddit/constants/modals.ts"),E=n("./src/reddit/constants/page.ts"),h=n("./src/reddit/constants/parameters.ts"),I=n("./src/reddit/constants/postLayout.ts"),S=n("./src/reddit/contexts/PageLayer/index.tsx"),y=n("./src/reddit/endpoints/governance/posts.ts"),T=n("./src/lib/makeApiRequest/index.ts"),D=n("./src/lib/omitHeaders/index.ts"),v=n("./src/reddit/constants/headers.ts"),R=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var A=n("./src/reddit/endpoints/modQueue/index.ts"),w=n("./src/reddit/endpoints/page/subredditPage.ts"),C=n("./src/reddit/endpoints/subreddit/about.ts"),P=n("./src/reddit/endpoints/subreddit/rules.ts"),x=n("./src/reddit/endpoints/user/preferences.ts"),k=n("./src/reddit/helpers/filterListingResponse/index.ts"),N=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),U=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),L=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),M=n("./src/reddit/models/Subreddit/index.ts"),G=n("./src/reddit/models/Toast/index.ts"),F=n("./src/reddit/models/User/index.ts"),B=n("./src/reddit/selectors/experiments/gqlSubredditPage.ts"),V=n("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),q=n("./src/reddit/selectors/oldSiteRules.ts"),W=n("./src/reddit/selectors/profile.ts"),H=n("./src/reddit/selectors/subreddit.ts"),K=n("./src/reddit/selectors/user.ts");const Y={},z="SUBREDDIT__MODEL_SUCCEEDED",J="SUBREDDIT__MODEL_PENDING",Q="SUBREDDIT__MODEL_FAILED",X="SUBREDDIT__MORE_POSTS_PENDING",Z="SUBREDDIT__MORE_POSTS_LOADED",$="SUBREDDIT__MORE_POSTS_FAILED",ee="SUBREDDIT__META_FILTER_TOGGLED",te=Object(a.a)(X),ne=Object(a.a)(Z),se=Object(a.a)($),re=Object(a.a)(ee),ie=Object(a.a)(_.b),oe=Object(a.a)(_.c),ce=Object(a.a)(_.a),ae=(e,t)=>async(n,s)=>{await(t===M.e.User?n(de(e)):n(ue(e))),0===Object(q.a)(s()).length&&n(Object(p.b)())},de=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=Object(W.m)(n(),e),o=await Object(P.c)(r(),e);if(o.ok){const e=o.body;t(ie({rules:e,subredditId:i}))}},ue=e=>async(t,n,r)=>{let{gqlContext:i}=r;const o=Object(H.F)(n(),e);t(oe());const c=await Object(P.b)(i(),e);if(c.ok){const e=c.body;t(ie({rules:e,subredditId:o}))}else{t(ce());const n="error-block-".concat(e);t(m.e({id:n,kind:G.b.Error,text:s.fbt._("An error has occurred. Please try again later",null,{hk:"Elbdz"})}))}},le=e=>async(t,n,s)=>{let{apiContext:r,gqlContext:a}=s;const{subredditName:b}=e;let p=e.t;const f=n(),O=Object(N.a)(e,f),_=f.platform.currentPage?f.platform.currentPage.queryParams:{},m=Object(d.a)(b,O,Object.assign({t:p},_)),j=f.listings.postOrder.loadMore[m],T=f.listings.postOrder.listingSort[m];let D=O;if(T&&!D){const e=Object(c.d)(T.sort);D=e.sort,p=e.timeSort}const v=f.listings.postOrder.api.pending[m],{fetchedTokens:R}=f.listings.postOrder,A=!(!R[m]||!R[m][j.token]);if(v||A)return;if(D===o.P.AWARDED&&b===E.f)return;t(te({key:m,fetchedToken:j.token}));const C=Object.assign({after:j.token,dist:j.dist,layout:I.e[Object(S.N)(f,{})],sort:D,t:p},i()(_,[...h.l,h.h]));if(!C[h.h]){const e=Object(K.I)(f)||Object(K.J)(f)?f.user.prefs.geopopular:f.meta.country;C[h.h]=e}const P=Object(B.a)(f)?()=>Object(w.b)(a(),Object(w.c)(f,b,Object.assign(Object.assign({},C),{limit:I.a})),Object(K.Q)(f)):()=>Object(w.a)(r(),b,C),x=await P(),U=Object.assign(Object.assign({},x.body),Object(k.a)(f,m,x.body));if(x.ok){let e;const s=U.postIds.filter(e=>!!U.posts[e].isMeta),i=Object(H.F)(n(),b);if(s.length){const t=await Object(y.a)(r(),i,s);t.ok&&(e=t.body)}if(t(ne(Object.assign({fetchedToken:j.token,key:m,meta:f.meta,governance:e},U))),Object(V.b)(f)){const{postIds:e,posts:n}=U;t(Object(u.a)(Object(g.b)(e,n)))}await t(Object(l.a)({subredditId:i,postIds:U.postIds,skip:["communityDetails","subscription"]}))}else t(se(Object.assign({error:x.error,fetchedToken:j.token,key:m},U)))},be="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",pe="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",fe="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",Oe=Object(a.a)(be),_e=Object(a.a)(pe),me=Object(a.a)(fe),ge=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t();if(!r.user.account||r.subreddits.moderated.api.fetched)return;e(Oe());const i=await Object(A.b)(s(),o.lb.Modqueue,{moderated:!0,moderated_limit:50});i.ok?e(_e(i.body)):e(me({error:i.error}))},je="SUBREDDIT__ABOUT_PENDING",Ee="SUBREDDIT__ABOUT_SUCCEEDED",he="SUBREDDIT__ABOUT_FAILED",Ie=Object(a.a)(je),Se=Object(a.a)(Ee),ye=Object(a.a)(he),Te=e=>async(t,n,s)=>{let{gqlContext:r}=s;const i=n();if(Object(H.x)(i,{subredditName:e})||i.subreddits.api.about.error[e.toLowerCase()]||i.subreddits.api.about.pending[e.toLowerCase()])return;t(Ie({subredditName:e}));const o=!Object(H.F)(i,e),c=await Object(C.a)(r(),e,o);if(c.ok){const n=c.body.data.subreddit,s=Object(U.a)(n),r=o?Object(L.a)(n):void 0;t(Se({subredditName:e,subreddits:r?{[r.id]:r}:void 0,data:s}))}else t(ye({subredditName:e,error:c.error}))},De=(e,t,n)=>async(s,r,i)=>{let{apiContext:c}=i;const a=Object(H.F)(r(),e.substring(2)),d=Object(K.i)(r());if(d){const r=Object(F.e)(d),i=t+"\n\n   *To approve this user*, visit [the approved users page for "+e+"](https://www.reddit.com/"+e+"/about/contributors?user="+r+') and click "ADD USER".\n    Approving this user gives them permission to '+n+". You can change these community restrictions from the [community settings](/"+e+"/about/edit) page.\n\n   To get more information about this user, visit the profile page of [u/"+r+"](/u/"+r+") or reply to this message to start a conversation.",u={to:"/".concat(e),subject:"I would like to join ".concat(e),text:i};if((await((e,t)=>Object(T.a)(Object(D.a)(e,[v.a]),{endpoint:Object(R.a)("".concat(e.apiUrl,"/api/compose")),method:o.eb.POST,data:t}))(c(),u)).ok){const e=new Date,t={isContributorRequestTimestamp:e.setDate(e.getDate())};s(Object(O.E)({subredditId:a,prefs:t})),Object(x.h)(a,t,c()),s(Object(b.i)(j.a.CONTRIBUTOR_REQUEST_PENDING))}}},ve=e=>async(t,n)=>{const s=n(),{subredditName:r}=e,i=e.t,o=Object(N.a)(e,s),c=s.platform.currentPage?s.platform.currentPage.queryParams:Y,a=Object(d.a)(r,o,Object.assign({t:i},c)),u=Object.assign({t:i,sort:o},c);await t(Object(f.i)(a,r,u,!0))}},"./src/reddit/actions/subreddit/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"s",(function(){return a})),n.d(t,"r",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"q",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"o",(function(){return O})),n.d(t,"i",(function(){return _})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"u",(function(){return j})),n.d(t,"t",(function(){return E})),n.d(t,"v",(function(){return h})),n.d(t,"w",(function(){return I})),n.d(t,"x",(function(){return S})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return D}));const s="SUBREDDIT__ADD_TOP_SUBREDDIT_MODELS",r="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS",i="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS_PAGE_INFO",o="SUBREDDIT__POSTS_LOADED",c="SUBREDDIT__POSTS_SET_FAILED",a="SUBREDDIT__SUBREDDITS_POSTS_LOADED",d="SUBREDDIT__SUBREDDITS_POSTS_SET_FAILED",u="SUBREDDIT__RANKINGS_PENDING",l="SUBREDDIT__RANKINGS_LOADED",b="SUBREDDIT__RANKINGS_FAILED",p="SUBREDDIT__SIMILAR_SUBREDDITS_PENDING",f="SUBREDDIT__SIMILAR_SUBREDDITS_LOADED",O="SUBREDDIT__SIMILAR_SUBREDDITS_FAILED",_="SUBREDDIT__ONBOARDING_SUBREDDITS_PENDING",m="SUBREDDIT__ONBOARDING_SUBREDDITS_LOADED",g="SUBREDDIT__ONBOARDING_SUBREDDITS_FAILED",j="SUBREDDIT__EDIT_REQUESTED",E="SUBREDDIT__EDIT_FAILED",h="SUBREDDIT__EDIT_SUCCESS",I="SUBREDDIT_QUESTIONS_LOADED",S="SUBREDDIT_SURVEY_ANSWERED",y="SUBREDDIT_SURVEY_DISMISSED",T="SUBREDDIT_SURVEY_DISMISS",D="DISMISS_NCP_CARD"},"./src/reddit/actions/subreddit/questions.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/graphql/operations/GetSubredditQuestions.json"),i=n("./src/lib/makeGqlRequest/index.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/actions/subreddit/constants.ts");const a=e=>async(t,n,a)=>{let{gqlContext:d}=a;var u,l,b,p,f,O;const _=Object(o.c)(n(),{experimentName:s.Yb,experimentEligibilitySelector:o.a})===s.Xb.Enabled,m=(await((e,t)=>Object(i.a)(e,Object.assign(Object.assign({},r),{variables:t})))(d(),{id:e,includeProgressModule:_})).body,g=null===(l=null===(u=m.data)||void 0===u?void 0:u.subredditInfoById)||void 0===l?void 0:l.answerableQuestions,j=null===(p=null===(b=m.data)||void 0===b?void 0:b.subredditInfoById)||void 0===p?void 0:p.contentRatingSurvey,E=null===(O=null===(f=m.data)||void 0===f?void 0:f.subredditInfoById)||void 0===O?void 0:O.communityProgressModule;(g||j||E)&&t({type:c.w,payload:{id:e,questions:g,survey:j,progressModule:E}})}},"./src/reddit/actions/subredditModeration.ts":function(e,t,n){"use strict";n.d(t,"J",(function(){return C})),n.d(t,"H",(function(){return P})),n.d(t,"G",(function(){return x})),n.d(t,"ib",(function(){return L})),n.d(t,"M",(function(){return M})),n.d(t,"L",(function(){return G})),n.d(t,"K",(function(){return F})),n.d(t,"jb",(function(){return W})),n.d(t,"I",(function(){return H})),n.d(t,"N",(function(){return K})),n.d(t,"pb",(function(){return J})),n.d(t,"hb",(function(){return Q})),n.d(t,"e",(function(){return X})),n.d(t,"d",(function(){return Z})),n.d(t,"c",(function(){return $})),n.d(t,"V",(function(){return se})),n.d(t,"h",(function(){return re})),n.d(t,"g",(function(){return ie})),n.d(t,"f",(function(){return oe})),n.d(t,"W",(function(){return ue})),n.d(t,"b",(function(){return le})),n.d(t,"i",(function(){return be})),n.d(t,"U",(function(){return Oe})),n.d(t,"nb",(function(){return _e})),n.d(t,"m",(function(){return me})),n.d(t,"l",(function(){return ge})),n.d(t,"k",(function(){return je})),n.d(t,"Z",(function(){return Se})),n.d(t,"p",(function(){return ye})),n.d(t,"o",(function(){return Te})),n.d(t,"n",(function(){return De})),n.d(t,"ab",(function(){return we})),n.d(t,"j",(function(){return Ce})),n.d(t,"q",(function(){return Pe})),n.d(t,"Y",(function(){return Ne})),n.d(t,"ob",(function(){return Ue})),n.d(t,"C",(function(){return Le})),n.d(t,"B",(function(){return Me})),n.d(t,"A",(function(){return Ge})),n.d(t,"t",(function(){return qe})),n.d(t,"s",(function(){return We})),n.d(t,"r",(function(){return He})),n.d(t,"fb",(function(){return Je})),n.d(t,"db",(function(){return Qe})),n.d(t,"x",(function(){return Xe})),n.d(t,"w",(function(){return Ze})),n.d(t,"v",(function(){return $e})),n.d(t,"eb",(function(){return st})),n.d(t,"a",(function(){return rt})),n.d(t,"T",(function(){return at})),n.d(t,"Q",(function(){return dt})),n.d(t,"R",(function(){return pt})),n.d(t,"mb",(function(){return Ot})),n.d(t,"u",(function(){return _t})),n.d(t,"cb",(function(){return Et})),n.d(t,"F",(function(){return ht})),n.d(t,"E",(function(){return It})),n.d(t,"D",(function(){return St})),n.d(t,"gb",(function(){return vt})),n.d(t,"y",(function(){return Rt})),n.d(t,"O",(function(){return wt})),n.d(t,"kb",(function(){return Ct})),n.d(t,"S",(function(){return Pt})),n.d(t,"z",(function(){return xt})),n.d(t,"bb",(function(){return Nt})),n.d(t,"P",(function(){return Ut})),n.d(t,"lb",(function(){return Ft})),n.d(t,"X",(function(){return Bt}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/get.js"),i=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/apiRequestState.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/subreddit.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/modals.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts");const _=(e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/contributors"),method:b.eb.GET,data:n});var m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const g=(e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:Object(m.a)("".concat(e.apiUrl,"/api/v1/").concat(t,"/banned")),method:b.eb.GET,data:n}),j=(e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators"),method:b.eb.GET,data:Object.assign(Object.assign({},n),{count:10})}),E=(e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_invited"),method:b.eb.GET,data:Object.assign(Object.assign({},n),{count:50})}),h=(e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/muted"),method:b.eb.GET,data:n});var I=n("./src/reddit/helpers/normalizeUsername/index.tsx"),S=n("./src/reddit/models/ModeratingSubreddits/index.ts"),y=n("./src/reddit/models/SubredditModeration/index.ts"),T=n("./src/reddit/models/Toast/index.ts"),D=n("./src/reddit/models/User/index.ts"),v=n("./src/reddit/selectors/activeModalId.ts"),R=n("./src/reddit/selectors/subreddit.ts"),A=n("./src/reddit/selectors/subredditModeration.ts"),w=n("./src/reddit/selectors/user.ts");const C="SUBREDDIT__MUTEDUSERS_PENDING",P="SUBREDDIT__MUTEDUSERS_LOADED",x="SUBREDDIT__MUTEDUSERS_FAILED",k=Object(o.a)(C),N=Object(o.a)(P),U=Object(o.a)(x),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=t.after||"",a=Object(y.d)(e,c),d=o.pages.modHub.muted.fetchedTokens[a];if(o.pages.modHub.muted.api.pending[a]||d)return;n(k({subredditId:e,fetchedToken:c}));const u=o.subreddits.models[e].name,l=await h(i(),u,t);l.ok?n(N(Object.assign(Object.assign({},l.body),{fetchedToken:c}))):n(U({subredditId:e,fetchedToken:c}))}},M="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",G="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",F="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",B=Object(o.a)(M),V=Object(o.a)(G),q=Object(o.a)(F),W=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s().subreddits.models[e].name,c={username:Object(I.a)(t)};n(B());const a=await h(i(),o,c);a.ok?n(V(a.body)):n(q(a.error))},H="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",K="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",Y=Object(o.a)(H),z=Object(o.a)(K),J=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r().subreddits.models[e].url,d=await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.eb.POST,data:{api_type:"json",id:n,type:"muted"}}))(c(),a,t);if(d.ok)n(z({subredditId:e,userId:t}));else{const e=i()(d,"body.json.errors[0][1]",s.fbt._("Something went wrong",null,{hk:"1IJNeH"}));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Q=(e,t,n)=>async(r,o,c)=>{let{apiContext:a}=c;const d=o(),l=d.subreddits.models[e].url,_=d.subreddits.models[e].name;t=Object(I.a)(t);const m=await((e,t,n,s)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.eb.POST,data:{api_type:"json",name:n,note:s,type:"muted"}}))(a(),l,t,n);if(m.ok){const e={username:t};r(Object(u.e)({kind:T.b.SuccessMod,text:s.fbt._("Successfully muted a user",null,{hk:"2ypyuL"})}));const n=await h(a(),_,e);n.ok&&r(Y(n.body))}else{const e=i()(m,"body.json.errors[0][1]",s.fbt._("Something went wrong",null,{hk:"1IJNeH"}));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},X="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",Z="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",$="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",ee=Object(o.a)(X),te=Object(o.a)(Z),ne=Object(o.a)($),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=t.after||"",a=Object(y.d)(e,c),d=o.pages.modHub.approvedSubmitters.fetchedTokens[a];if(o.pages.modHub.approvedSubmitters.api.pending[a]||d)return;n(ee({subredditId:e,fetchedToken:c}));const u=o.subreddits.models[e].name,l=await _(i(),u,t);l.ok?n(te(Object.assign(Object.assign({},l.body),{fetchedToken:c}))):n(ne({subredditId:e,fetchedToken:c}))}},re="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",ie="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",oe="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",ce=Object(o.a)(re),ae=Object(o.a)(ie),de=Object(o.a)(oe),ue=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s().subreddits.models[e].name,c={username:Object(I.a)(t)};n(ce());const a=await _(i(),o,c);a.ok?n(ae(a.body)):n(de(a.error))},le="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",be="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",pe=Object(o.a)(le),fe=Object(o.a)(be),Oe=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=a.subreddits.models[e].name;t=Object(I.a)(t);const m=await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.eb.POST,data:{api_type:"json",name:n,type:"contributor"}}))(c(),d,t);if(m.ok){const e={username:t};n(Object(u.e)({kind:T.b.SuccessMod,text:s.fbt._("Successfully added an approved submitter",null,{hk:"4gruK7"})}));const r=await _(c(),l,e);r.ok&&n(pe(r.body))}else{const e=i()(m,"body.json.errors[0][1]",s.fbt._("Something went wrong",null,{hk:"1IJNeH"}));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},_e=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r().subreddits.models[e].url,d=await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.eb.POST,data:{api_type:"json",id:n,type:"contributor"}}))(c(),a,t);if(d.ok)n(fe({subredditId:e,userId:t}));else{const e=i()(d,"body.json.errors[0][1]",s.fbt._("Something went wrong",null,{hk:"1IJNeH"}));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},me="SUBREDDIT__BANNEDUSERS_PENDING",ge="SUBREDDIT__BANNEDUSERS_LOADED",je="SUBREDDIT__BANNEDUSERS_FAILED",Ee=Object(o.a)(me),he=Object(o.a)(ge),Ie=Object(o.a)(je),Se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=t.after||"",a=Object(y.d)(e,c),d=o.banned.fetchedTokens[a];if(o.banned.api.pending[a]||d)return;n(Ee({subredditId:e,fetchedToken:c}));const u=o.subreddits.models[e].name,l=await g(i(),u,t);l.ok?n(he(Object.assign(Object.assign({},l.body),{fetchedToken:c}))):n(Ie({subredditId:e,fetchedToken:c}))}},ye="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",Te="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",De="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",ve=Object(o.a)(ye),Re=Object(o.a)(Te),Ae=Object(o.a)(De),we=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s().subreddits.models[e].name,c={username:Object(I.a)(t)};n(ve());const a=await g(i(),o,c);a.ok?n(Re(a.body)):n(Ae(a.error))},Ce="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",Pe="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",xe=Object(o.a)(Ce),ke=Object(o.a)(Pe),Ne=(e,t,n)=>async(r,o,a)=>{let{apiContext:d}=a;const l=o(),_=l.subreddits.models[e].url,m=l.subreddits.models[e].name;t.username=Object(I.a)(t.username),r(Object(c.h)(n));const j=await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.eb.POST,data:{api_type:"json",ban_reason:n.reason,ban_message:n.banMessage,duration:n.duration,name:n.username,note:n.modNote,ban_context:n.contextId,type:"banned"}}))(d(),_,t);if(j.ok){r(Object(c.e)(n));const e={username:t.username};r(Object(u.e)({kind:T.b.SuccessMod,text:s.fbt._("Successfully banned a user",null,{hk:"1kORpS"})}));const i=await g(d(),m,e);i.ok&&r(xe(i.body))}else{r(Object(c.f)(n,j.error));const e=i()(j,"body.json.errors[0][1]",s.fbt._("Something went wrong",null,{hk:"1IJNeH"}));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Ue=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r().subreddits.models[e].url,d=await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.eb.POST,data:{api_type:"json",id:n,type:"banned"}}))(c(),a,t);if(d.ok)n(ke({subredditId:e,userId:t})),n(Object(u.e)({kind:T.b.SuccessMod,text:s.fbt._("Successfully unbanned a user",null,{hk:"OgqK6"})}));else{const e=i()(d,"body.json.errors[0][1]",s.fbt._("Something went wrong",null,{hk:"1IJNeH"}));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Le="SUBREDDIT__MODERATORS_PENDING",Me="SUBREDDIT__MODERATORS_LOADED",Ge="SUBREDDIT__MODERATORS_FAILED",Fe=Object(o.a)(Le),Be=Object(o.a)(Me),Ve=Object(o.a)(Ge),qe="SUBREDDIT__EDITABLEMODERATORS_PENDING",We="SUBREDDIT__EDITABLEMODERATORS_LOADED",He="SUBREDDIT__EDITABLEMODERATORS_FAILED",Ke=Object(o.a)(qe),Ye=Object(o.a)(We),ze=Object(o.a)(He),Je=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=Object(R.S)(o,{subredditId:e}).name,a=t&&t.after?t.after:"",d=t&&t.before?t.before:"",u=Object(y.d)(e,a,d),l=o.pages.modHub.moderators.userOrder.data[u],b=o.pages.modHub.moderators.userOrder.api.error[u];if(o.pages.modHub.moderators.userOrder.api.pending[u]||l&&!b)return;n(Fe({subredditId:e,key:u}));const p=await j(i(),c,t);if(p.ok){const t={key:u,response:p.body,subredditId:e};n(Be(t))}else{const t={error:p.error,subredditId:e,key:u};n(Ve(t))}},Qe=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=Object(R.S)(o,{subredditId:e}).name,a=t&&t.afterEditable?t.afterEditable:"",d=t&&t.beforeEditable?t.beforeEditable:"",u=Object(y.d)(e,a,d),l=o.pages.modHub.moderators.editableUserOrder.data[u],_=o.pages.modHub.moderators.editableUserOrder.api.error[u];if(o.pages.modHub.moderators.editableUserOrder.api.pending[u]||l&&!_)return;n(Ke({subredditId:e,key:u}));const m=Object.assign(Object.assign({},t),{after:a,before:d}),g=await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_editable"),method:b.eb.GET,data:Object.assign(Object.assign({},n),{count:10})}))(i(),c,m);if(g.ok){const t={key:u,response:g.body,subredditId:e};n(Ye(t))}else{const t={key:u,error:g.error,subredditId:e};n(ze(t))}},Xe="SUBREDDIT__INVITEDMODERATORS_PENDING",Ze="SUBREDDIT__INVITEDMODERATORS_LOADED",$e="SUBREDDIT__INVITEDMODERATORS_FAILED",et=Object(o.a)(Xe),tt=Object(o.a)(Ze),nt=Object(o.a)($e),st=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n(),o=Object(R.S)(i,{subredditId:e}).name;if(i.pages.modHub.moderators.invitedModerators.api.pending)return;t(et());const c=await E(r(),o);if(c.ok){const e=c.body;t(tt(e))}else t(nt(c.error))},rt="SUBREDDIT__ADDMODERATOR__SUCCESS",it=Object(o.a)("SUBREDDIT__ADDMODERATOR_PENDING"),ot=Object(o.a)(rt),ct=Object(o.a)("SUBREDDIT__ADDMODERATOR__FAILED"),at=(e,t,n)=>async(r,i,o)=>{let{apiContext:c}=o;const a=i(),d=Object(R.S)(a,{subredditId:e}),l=d.name,_=d.url;t=Object(I.a)(t),r(it());const m=Object(S.d)(n),g=await((e,t,n,s)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.eb.POST,data:{name:n,type:"moderator_invite",permissions:s,api_type:"json"}}))(c(),_,t,m);if(g.ok){const n=await E(c(),l,{username:t});if(g.ok){const t=n.body,i=t.moderatorIds[0];a.pages.modHub.moderators.invitedModerators.models[e][i]?r(Object(u.e)({kind:T.b.SuccessCommunity,text:s.fbt._("That user is already invited",null,{hk:"R8YPV"})})):(r(Object(u.e)({kind:T.b.SuccessMod,text:s.fbt._("Successfully added a moderator",null,{hk:"2ZdoIZ"})})),r(ot(t)))}}else{const e=g.body.json&&g.body.json.errors;e&&e[0]&&e[0][1]&&r(Object(u.e)({kind:T.b.Error,text:e[0][1],duration:3e3})),r(ct())}},dt="SUBREDDIT__REMOVEMODERATOR__SUCCESS",ut=Object(o.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),lt=Object(o.a)(dt),bt=Object(o.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),pt="SUBREDDIT__RESIGNMODERATOR__SUCCESS",ft=Object(o.a)(pt),Ot=(e,t,n,s)=>async(r,i,o)=>{let{apiContext:c}=o;const a=i(),d=a.subreddits.models[e].name,u=Object(y.d)(e,n,s);if(r(ut()),(await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:b.eb.POST,data:{id:n,type:"moderator",r:t,api_type:"json"}}))(c(),d,t)).ok){r(lt({subredditId:e,userId:t,key:u}));const n=Object(w.i)(a);n&&n.id===t&&r(ft({subredditId:e,userId:t}))}else r(bt())},_t="SUBREDDIT__EDITMODERATOR__SUCCESS",mt=Object(o.a)("SUBREDDIT__EDITMODERATOR_PENDING"),gt=Object(o.a)(_t),jt=Object(o.a)("SUBREDDIT__EDITMODERATOR__FAILED"),Et=(e,t,n,s)=>async(r,i,o)=>{let{apiContext:c}=o;const a=i().subreddits.models[e].url;r(mt());const d=Object(S.d)(n);if((await((e,t,n,s)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/setpermissions"),method:b.eb.POST,data:{name:n,type:"moderator",permissions:s,api_type:"json"}}))(c(),a,t,d)).ok){r(gt({permissions:n,subredditId:e,userId:s}))}else r(jt())},ht="SUBREDDIT_MODERATORS_SEARCH_PENDING",It="SUBREDDIT_MODERATORS_SEARCH_LOADED",St="SUBREDDIT_MODERATORS_SEARCH_FAILED",yt=Object(o.a)(ht),Tt=Object(o.a)(It),Dt=Object(o.a)(St),vt=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s().subreddits.models[e].name,c={username:Object(I.a)(t)};n(yt());const a=await j(i(),o,c);a.ok?n(Tt(a.body)):n(Dt(a.error))},Rt="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",At=Object(o.a)(Rt),wt="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",Ct=Object(o.a)(wt),Pt=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n(),o=i.user.account;if(!o)return;const c=i.subreddits.models[e],a=c.url,d=c.name;if((await((e,t)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/accept_moderator_invite"),method:b.eb.POST,data:{api_type:"json"}}))(r(),a)).ok){t(At({subredditId:e})),t(Qe(e)),t(st(e)),t(Je(e));const n={username:Object(D.e)(o)},s=await j(r(),d,n);if(s.ok){const n=s.body.moderators[o.id];n&&t(Ct({[e]:n.modPermissions}))}}},xt="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",kt=Object(o.a)(xt),Nt=e=>async(t,n,s)=>{let{apiContext:r}=s;const i=n().subreddits.models[e].name;(await((e,t)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/decline_mod_invite"),method:b.eb.POST,data:{api_type:"json"}}))(r(),i)).ok&&t(kt({subredditId:e}))},Ut="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",Lt=Object(o.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),Mt=Object(o.a)(Ut),Gt=Object(o.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),Ft=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s(),c=Object(R.S)(o,{subredditId:e}).name;n(Lt()),(await((e,t,n)=>Object(p.a)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:b.eb.POST,data:{id:n,type:"moderator_invite",r:t,api_type:"json"}}))(i(),c,t)).ok?n(Mt({subredditId:e,userId:t})):n(Gt())},Bt=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=s();await Promise.all([(async()=>{if(!Object(v.b)(l.a.BAN_USER)(o)&&!Object(R.P)(o,{subredditId:e})){const t=Object(R.S)(o,{subredditId:e});await n(Object(d.o)(t.name))}})(),(async()=>{const s=Object(w.kb)(o,{userName:t});if(!s)return;const r=Object(A.m)(o,{subredditId:e});r&&r[s.id]||await n(Se(e,{username:t}))})()]),n(Object(a.i)(l.a.BAN_USER))}},"./src/reddit/actions/subredditRules/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return d}));const s="SUBREDDIT__RULES_LOADED",r="SUBREDDIT__RULES_PENDING",i="SUBREDDIT__RULES_FAILED",o="SUBREDDIT__RULE_ADDED",c="SUBREDDIT__RULE_EDITED",a="SUBREDDIT__RULE_REMOVED",d="SUBREDDIT__RULES_REORDERED"},"./src/reddit/actions/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return R})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"j",(function(){return M})),n.d(t,"i",(function(){return G}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/invert.js"),i=n.n(r),o=n("./node_modules/lodash/pick.js"),c=n.n(o),a=n("./node_modules/lodash/xor.js"),d=n.n(a),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/endpoints/subreddit/settings.ts"),p=n("./src/telemetry/index.ts"),f=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/endpoints/subreddit/notificationSettings.ts"),_=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),m=n("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/models/User/index.ts"),E=n("./src/reddit/selectors/subreddit.ts"),h=n("./src/reddit/selectors/subredditSettings.ts"),I=n("./src/reddit/selectors/user.ts"),S=n("./src/reddit/selectors/widgets.ts");const y="SUBREDDIT_SETTINGS_LOADED",T=Object(l.a)(y),D="SUBREDDIT_NOTIFICATION_SETTINGS_LOADED",v=Object(l.a)(D),R="SUBREDDIT_NOTIFICATION_SETTINGS_UPDATED",A=Object(l.a)(R),w=(e,t)=>async(n,s,r)=>{let{apiContext:i,gqlContext:o}=r;if(!t||!Object(E.U)(s(),t)){const t=await Object(b.c)(i(),e);t&&t.ok&&n(T(t.body))}if(t&&!Object(h.b)(s(),{subredditId:t})){const e=await Object(O.a)(o(),t);if(e&&e.ok){const t=e.body,s=Object(_.e)(t.data);n(v(s))}}},C=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=Object(I.i)(t());r&&await e(w(u.Yb+Object(j.e)(r)))},P="SUBREDDIT_SETTINGS_UPDATE_REQUESTED",x="SUBREDDIT_SETTINGS_UPDATE_SUCCESS",k="SUBREDDIT_SETTINGS_UPDATE_FAILURE",N=Object(l.a)(P),U=Object(l.a)(x),L=Object(l.a)(k),M=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async(a,u,l)=>{let{apiContext:_,gqlContext:j}=l;a(N());const I=u(),y=c()(Object(E.U)(I,t),...Object.keys(n)),T=c()(Object(h.b)(I,{subredditId:t}),...Object.keys(r)),D=await Object(b.g)(_(),t,n),v=Object.keys(r).length>0;let R=!0;if(v){R=(await Object(O.b)(j(),t,r)).ok}if(!D.ok||v&&!R)a(L()),a(Object(f.e)({kind:g.b.Error,text:s.fbt._("Give us a few minutes to fix the problem. Sorry!",null,{hk:"3wBPeO"}),buttonText:s.fbt._("Retry",null,{hk:"1QXiG6"}),buttonAction:e(t,n,T)})),o&&Object(p.a)(Object(m.c)(I,"BE returned an error:"));else{const c=Object(b.d)(D.body,i()(b.a));a(U({settings:Object.assign(Object.assign({},c),{subredditId:t}),idCardWidgetId:Object(S.c)(I,{subredditId:t})})),v&&a(A({notificationSettings:r,subredditId:t}));const u={};o&&0===d()(Object.keys(n),Object.keys(y)).length&&(u.buttonText=s.fbt._("Undo",null,{hk:"1Gskii"}),u.buttonAction=e(t,y,T,o)),a(Object(f.e)(Object.assign({kind:g.b.SuccessCommunity,text:s.fbt._("Subreddit settings updated successfully",null,{hk:"2fmdlZ"})},u)))}}},G=(e,t)=>async(n,r,i)=>{let{apiContext:o}=i;(await Object(b.e)(o(),e,t)).ok?n(Object(f.e)({kind:g.b.SuccessCommunity,text:s.fbt._("Test message was sent to your inbox",null,{hk:"1ZtKzO"})})):n(Object(f.e)({kind:g.b.Error,text:s.fbt._("Give us a few minutes to fix the problem. Sorry!",null,{hk:"3wBPeO"})}))}},"./src/reddit/actions/survey/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c}));const s="SURVEY__TRIGGER_SCROLL_COUNTED",r="SURVEY__LAYER_TRIGGER_SCROLL_COUNTED",i="SURVEY__MODS_TRIGGER_SCROLL_COUNTED",o="SURVEY__POST_DISMISS_COUNTED",c="SURVEY__TRIGGER_VIDEOS_WATCHED"},"./src/reddit/actions/survey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return f}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/preferences.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),o=n("./src/reddit/selectors/experiments/survey.ts"),c=n("./src/reddit/actions/survey/constants.ts");const a=Object(s.a)(c.d),d=Object(s.a)(c.a),u=Object(s.a)(c.b),l=Object(s.a)(c.c),b=Object(s.a)(c.e),p=()=>async(e,t)=>{const n=t();Object(o.b)(n)?e(u()):Object(o.a)(n)?e(d()):e(a())},f=()=>async(e,t)=>{const n=t().user.prefs.surveyLastSeenTime,s=Object(i.C)();n&&(!s||n>s)?Object(i.rb)(n):s&&(!n||s>n)&&e(Object(r.H)({surveyLastSeenTime:s},!1))}},"./src/reddit/actions/tags/constants.ts":function(e,t,n){"use strict";n.d(t,"t",(function(){return s})),n.d(t,"j",(function(){return r})),n.d(t,"r",(function(){return i})),n.d(t,"q",(function(){return o})),n.d(t,"s",(function(){return c})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"v",(function(){return f})),n.d(t,"w",(function(){return O})),n.d(t,"u",(function(){return _})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"A",(function(){return E})),n.d(t,"z",(function(){return h})),n.d(t,"D",(function(){return I})),n.d(t,"y",(function(){return S})),n.d(t,"C",(function(){return y})),n.d(t,"x",(function(){return T})),n.d(t,"B",(function(){return D})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return C})),n.d(t,"i",(function(){return P}));const s="TAGS__REQUESTED",r="TAGS__AVAILABLE_LOADED",i="TAGS__LOADED",o="TAGS__FAILURE",c="TAGS__RELEVANCE_LOADED",a="TAGS__CREATE_REQUESTED",d="TAGS__CREATE_SUCCESS",u="TAGS__CREATE_FAILURE",l="TAGS__DELETE_REQUESTED",b="TAGS__DELETE_SUCCESS",p="TAGS__DELETE_FAILURE",f="TAGS__UPDATE_STATE_REQUESTED",O="TAGS__UPDATE_STATE_SUCCESS",_="TAGS__UPDATE_STATE_FAILURE",m="PRIMARY_TAG__UPDATE_STATE_REQUESTED",g="PRIMARY_TAG__UPDATE_STATE_SUCCESS",j="PRIMARY_TAG__UPDATE_STATE_FAILURE",E="TAGS__OPTIONS_CANCELLED",h="TAGS__OPTION_SELECTED",I="TAGS__SUGGESTED_OPTION_SELECTED",S="TAGS__OPTION_DESELECTED",y="TAGS__SUGGESTED_OPTION_DESELECTED",T="TAGS__INPUT_CHANGED",D="TAGS__SUGGESTED_INPUT_CHANGED",v="GLOBAL__TAGS__LOADED",R="CREATION__TAGS_INPUT_CHANGED",A="CREATION__TAGS_OPTION_SELECTED",w="CREATION__TAGS_OPTION_DESELECTED",C="CREATION__PRIMARY_TAG_SELECTED",P="SETTINGS_PAGE_PRIMARY_TAG_UPDATE"},"./src/reddit/actions/tags/index.ts":function(e,t,n){"use strict";n.d(t,"n",(function(){return M})),n.d(t,"q",(function(){return G})),n.d(t,"m",(function(){return F})),n.d(t,"p",(function(){return B})),n.d(t,"l",(function(){return V})),n.d(t,"o",(function(){return q})),n.d(t,"c",(function(){return W})),n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return K})),n.d(t,"d",(function(){return Q})),n.d(t,"j",(function(){return X})),n.d(t,"k",(function(){return $})),n.d(t,"f",(function(){return te})),n.d(t,"i",(function(){return re})),n.d(t,"h",(function(){return ie})),n.d(t,"e",(function(){return oe})),n.d(t,"r",(function(){return ce})),n.d(t,"g",(function(){return ae})),n.d(t,"s",(function(){return de}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/tags/constants.ts"),o=n("./src/reddit/actions/toaster.ts");const c=e=>{const{subredditInfoById:t}=e,n={global:{},[t.id]:{}};t.availableTags&&t.availableTags.edges.reduce((e,t)=>{let{node:n}=t;return e[n.subreddit&&n.subreddit.id||"global"][n.id]=n,e},n);const s={[t.id]:{}};t.secondaryTags&&t.secondaryTags.edges.reduce((e,n)=>{let{node:s}=n;return e[t.id][s.tag.id]=s,e},s);const r={[t.id]:{}};return t.suggestedTags&&t.suggestedTags.edges.reduce((e,n)=>{let{node:s}=n;return e[t.id][s.tag.id]=s,e},r),{primaryTag:t.primaryTag,globalSubredditTags:n.global,subredditScopedTags:{[t.id]:n[t.id]},subredditId:t.id,itemTags:s,suggestedItemTags:r,geoPlace:t.geoPlace}};var a=n("./src/graphql/operations/CreateSubredditTags.json"),d=n("./src/lib/makeGqlRequest/index.ts");var u=n("./src/graphql/operations/FetchGlobalTags.json"),l=n("./src/graphql/operations/FetchSubredditTags.json");const b=1050,p=(e,t)=>{let{subredditId:n,pageSize:s=b,after:r,includeAvailableTags:i}=t;return Object(d.a)(e,Object.assign(Object.assign({},l),{variables:{subredditId:n,pageSize:s,after:r,includeAvailableTags:i}}))};var f=n("./src/graphql/operations/MaybeDeleteTagsAndUpdateItemTags.json");const O=(e,t)=>Object(d.a)(e,Object.assign(Object.assign({},f),{variables:Object.assign(Object.assign({},t),{deleteTags:0!==t.deleteTagsInput.length,pageSize:b})}));var _=n("./src/graphql/operations/UpdateSubredditTagStatesRelevance.json");const m=(e,t)=>Object(d.a)(e,Object.assign(Object.assign({},_),{variables:t}));var g=n("./src/graphql/operations/UpdateSubredditPrimaryTag.json");const j=e=>{const{secondaryTags:t,id:n,primaryTag:s}=e.updateSubredditTagStates.subreddit,r=t&&t.edges||[];return{subredditId:n,primaryTagId:s&&s.tag.id||null,secondaryTags:r.reduce((e,t)=>{let{node:n}=t;return e[n.tag.id]=n,e},{})}},E=(e,t)=>Object(d.a)(e,Object.assign(Object.assign({},g),{variables:t}));var h=n("./src/reddit/helpers/tags/index.ts"),I=n("./src/reddit/helpers/trackers/communityTopics.ts"),S=n("./src/reddit/models/Tags/index.ts"),y=n("./src/reddit/models/Toast/index.ts"),T=n("./src/reddit/reducers/tags/selected/index.ts"),D=n("./src/reddit/selectors/tags.ts");const v=Object(r.a)(i.e),R=Object(r.a)(i.t),A=Object(r.a)(i.r),w=Object(r.a)(i.s),C=Object(r.a)(i.q),P=Object(r.a)(i.l),x=Object(r.a)(i.m),k=Object(r.a)(i.k),N=Object(r.a)(i.v),U=Object(r.a)(i.w),L=Object(r.a)(i.u),M=Object(r.a)(i.z),G=Object(r.a)(i.D),F=Object(r.a)(i.y),B=Object(r.a)(i.C),V=Object(r.a)(i.x),q=Object(r.a)(i.B),W=Object(r.a)(i.d),H=Object(r.a)(i.c),K=Object(r.a)(i.b),Y=Object(r.a)(i.g),z=Object(r.a)(i.h),J=Object(r.a)(i.f),Q=Object(r.a)(i.a),X=Object(r.a)(i.i),Z=Object(r.a)(i.A),$=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(i,a,d)=>{let{gqlContext:u}=d;const l=a();i(R());const b=await p(u(),{subredditId:t}),f=b.body;if(b.ok&&f.data.subredditInfoById.secondaryTags&&f.data.subredditInfoById.availableTags&&f.data.subredditInfoById.suggestedTags)i(A(c(f.data))),r&&I.h(a(),t,{context:n});else{i(C());const c=r?"topics_save":"topics_load";I.g(l,t,c,{context:n}),i(Object(o.e)(Object(o.d)(s.fbt._("Oh no! We didn't load your topics. Please try again.",null,{hk:"2DUkWX"}),y.b.Error,s.fbt._("Retry",null,{hk:"1c2xrJ"}),e(t,n,r))))}}},ee=e=>async(t,n,r)=>{let{gqlContext:i}=r;t(R());const a=await p(i(),{subredditId:e});if(a.ok){const e=a.body;t(w(c(e.data)))}else t(C()),t(Object(o.e)(Object(o.d)(s.fbt._("Oh no! We didn't load your topics. Please try again.",null,{hk:"2DUkWX"}),y.b.Error,s.fbt._("Retry",null,{hk:"1c2xrJ"}),w(e))))},te=()=>async(e,t,n)=>{let{gqlContext:s}=n;const r=t();if(Object(D.r)(r))return;e(R());const i=await((e,t)=>{let{pageSize:n=b,after:s}=t;return Object(d.a)(e,Object.assign(Object.assign({},u),{variables:{pageSize:n,after:s}}))})(s(),{});if(i.ok){const t=i.body;e(v((e=>{return{globalSubredditTags:e.globalTags.edges.reduce((e,t)=>(e[t.node.id]=t.node,e),{})}})(t.data)))}},ne=(e,t)=>async(n,s,r)=>{let{gqlContext:i}=r;if(!t.length)return null;n(P());const o=t.map(t=>Object.assign({subredditId:e},t)),c=await((e,t)=>Object(d.a)(e,Object.assign(Object.assign({},a),{variables:t})))(i(),{input:o}),u=c.body&&c.body.data||null;return c.ok&&u&&u.createSubredditTags&&u.createSubredditTags.ok?(n(x()),u.createSubredditTags.createdTags||[]):(n(k()),null)},se=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return async(s,r,i)=>{let{gqlContext:o}=i;if(!t.length&&!n.length)return;s(N());const a=r(),d=Object(D.d)(a,{subredditId:e}),u=Object(D.s)(a,{itemId:e}),l=Object(D.C)(a,{itemId:e}),b=new Set;for(const e of t)if(e.state===S.d.NONE&&d[e.tagId]&&!l[e.tagId]){!!n.find(t=>t.state===S.d.TAGGED&&t.tagId===e.tagId)||b.add(e.tagId)}for(const e of n)if(e.state===S.d.NONE&&d[e.tagId]&&!u[e.tagId]){!!t.find(t=>t.state===S.d.TAGGED&&t.tagId===e.tagId)||b.add(e.tagId)}const p=await O(o(),{deleteTagsInput:[...b].map(e=>({tagId:e})),updateTagStatesInput:{subredditId:e,suggestedTagStates:n,tagStates:t}}),f=p.body&&p.body.data||null;p.ok&&f&&f.updateSubredditTagStates&&f.updateSubredditTagStates.ok&&f.updateSubredditTagStates.subreddit?s(U(c({subredditInfoById:f.updateSubredditTagStates.subreddit}))):s(L())}},re=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(i,c,a)=>{const d=c(),u=Object(D.u)(d,{subredditId:t}),l=Object(D.F)(d,{subredditId:t});let b=u.filter(e=>!!e.id&&!!e.action).map(e=>({tagId:e.id,state:e.action===T.a.ADD?S.d.TAGGED:S.d.NONE}));if(l.length>0){const e=await ne(t,l)(i,c,a);b=b.concat((e||[]).map(e=>({tagId:e.id,state:S.d.TAGGED})))}await se(t,b)(i,c,a),Object(D.D)(c())?i(Object(o.e)(Object(o.d)(s.fbt._("Yikes! It looks like we didn't save all of your topics. Please try again",null,{hk:"2Jbh5V"}),y.b.Error,s.fbt._("Retry",null,{hk:"1c2xrJ"}),e(t,n,r)))):r&&i(Object(o.e)(Object(o.d)(s.fbt._("Community topics saved!",null,{hk:"3wtajT"}),y.b.SuccessCommunity)))}},ie=(e,t,n)=>async(n,r,i)=>{const c={state:S.d.TAGGED};if(Object(h.b)(t)){const s=await ne(e,[{text:t.displayText,type:S.c.CLASSIFICATION}])(n,r,i);s&&1===s.length&&(c.tagId=s[0].id)}else{if(!t.id)return void n(Object(o.e)(Object(o.d)(s.fbt._("Whoops, we couldn't save that topic. Please try again later.",null,{hk:"CxjiK"}),y.b.Error)));c.tagId=t.id}(e=>!!e.tagId&&!!e.state)(c)?await se(e,[],[c])(n,r,i):n(Object(o.e)(Object(o.d)(s.fbt._("Whoops, we couldn't save that topic. Please try again later.",null,{hk:"CxjiK"}),y.b.Error)))},oe=(e,t,n)=>async(s,r,i)=>{t.id?await se(e,[],[{state:S.d.NONE,tagId:t.id}])(s,r,i):s($(e,n,!1))},ce=function e(t,n,r,i){let c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return async(a,d,u)=>{let{gqlContext:l}=u;if(!(await m(l(),{input:{tagStatesRelevance:n,suggestedTagStatesRelevance:r}})).ok)return a(Object(o.e)(Object(o.d)(s.fbt._("Whoops! Unable to update topics relevance status",null,{hk:"17akdT"}),y.b.Error,s.fbt._("Retry",null,{hk:"1wqK2v"}),e(t,n,r,i,c)))),void a(ee(t));if(c)for(const e of r)I.f(d(),e,{context:i});a(Object(o.e)(Object(o.d)(s.fbt._("Successfully updated topics relevance!",null,{hk:"3KIYlz"}),y.b.SuccessCommunity,s.fbt._("Undo",null,{hk:"34apPL"}),e(t,n.map(e=>Object.assign(Object.assign({},e),{isRelevant:!e.isRelevant})),r.map(e=>Object.assign(Object.assign({},e),{isRelevant:!e.isRelevant})),i,c)))),a(ee(t))}},ae=e=>async(t,n)=>{t(Z({itemTagsState:{[e]:Object(D.s)(n(),{itemId:e})}}))},de=function e(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(i,c,a)=>{let{gqlContext:d}=a;i(Y());const u=await E(d(),{input:{subredditId:t,primaryTagState:n}}),l=u.body&&u.body.data||null;u.ok&&l&&l.updateSubredditTagStates&&l.updateSubredditTagStates.ok?(i(z(j(l))),r&&i(Object(o.e)(Object(o.d)(s.fbt._("Successfully updated primary topic!",null,{hk:"1NL90v"}),y.b.SuccessCommunity)))):(i(J()),i(Object(o.e)(Object(o.d)(s.fbt._("Whoops! Unable to update primary topic",null,{hk:"3ilZqp"}),y.b.Error,s.fbt._("Retry",null,{hk:"1dRYXW"}),e(t,n)))))}}},"./src/reddit/actions/tooltip.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return O}));var s=n("./src/lib/makeActionCreator/index.ts");const r="TOOLTIP__DROPDOWN_TOGGLED",i="TOOLTIP__DROPDOWN_SET",o="TOOLTIP__DROPDOWN_UNSET",c="TOOLTIP__DROPDOWN_SET_IF_NONE",a="TOOLTIP__DROPDOWN_UNSET_IF_ACTIVE",d=Object(s.a)(i),u=Object(s.a)(r),l=Object(s.a)(o),b=Object(s.a)(c),p=Object(s.a)(a),f=Object(s.a)(i),O=Object(s.a)(o)},"./src/reddit/actions/unload/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o}));n("./node_modules/core-js/modules/web.dom.iterable.js");const s=new Set,r=[],i="AD_UNLOAD",o=6e5},"./src/reddit/actions/users.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return q})),n.d(t,"q",(function(){return W})),n.d(t,"g",(function(){return H})),n.d(t,"f",(function(){return K})),n.d(t,"e",(function(){return Y})),n.d(t,"k",(function(){return z})),n.d(t,"d",(function(){return J})),n.d(t,"y",(function(){return $})),n.d(t,"c",(function(){return ee})),n.d(t,"r",(function(){return ne})),n.d(t,"p",(function(){return se})),n.d(t,"x",(function(){return re})),n.d(t,"s",(function(){return ie})),n.d(t,"a",(function(){return oe})),n.d(t,"o",(function(){return ae})),n.d(t,"u",(function(){return de})),n.d(t,"m",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"l",(function(){return be})),n.d(t,"t",(function(){return me})),n.d(t,"v",(function(){return ge})),n.d(t,"i",(function(){return je})),n.d(t,"j",(function(){return Ee})),n.d(t,"h",(function(){return he})),n.d(t,"w",(function(){return Te}));n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/emailVerificationTooltip.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/notificationBanner.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),l=n("./src/reddit/components/Settings/modalIds.ts"),b=n("./src/reddit/endpoints/user/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),_=n("./src/config.ts"),m=e=>Object(p.a)(e,{endpoint:"".concat(_.a.gatewayUrl,"/desktopapi/v1/me"),method:r.eb.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}),g=n("./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts"),j=(n("./node_modules/core-js/modules/es7.promise.finally.js"),n("./node_modules/promise-retry/index.js")),E=n.n(j),h=n("./src/lib/makeRequest/index.ts");var I=n("./src/reddit/constants/history.ts"),S=n("./src/reddit/endpoints/session/index.ts"),y=n("./node_modules/js-cookie/src/js.cookie.js"),T=n.n(y),D=n("./src/lib/constants/cookie.ts");const v=e=>{T.a.remove(e,{domain:_.a.cookieDomain})};var R=n("./src/reddit/helpers/history/index.ts");const A=2*r.fb;var w=e=>Date.now()+A<new Date(e.expires).getTime(),C=n("./src/reddit/helpers/localStorage/index.ts"),P=async(e,t)=>{let n=t.accessToken;await E()(async(s,i)=>{if(!w(t)||!n){const r=await Object(S.b)(e,t);if(r.ok){const e=r.body;n=e.accessToken}else if(1===i)return s()}const o=await Object(p.a)(e,{endpoint:"/logoutproxy",method:r.eb.POST,data:{access_token:n}});if(await async function(e,t){return await Object(h.b)({method:r.eb.POST,endpoint:"/timings/logoutrequest",data:{appName:e.statsAppName,successful:t},type:"json"})}(e,o&&o.ok),!o.ok)return s()},{retries:1}).catch(()=>{}).finally(()=>{[D.d,D.e,D.h,D.i].forEach(v),Object(C.K)(null),Object(R.a)(I.a.JustLoggedOut,!0),window.location.reload()})},x=n("./src/reddit/helpers/redesignOptoutCookie/index.ts"),k=n("./src/reddit/helpers/trackers/emailCollection.ts"),N=n("./src/reddit/helpers/trackers/emailVerification.ts"),U=n("./src/reddit/models/Toast/index.ts"),L=n("./src/reddit/selectors/activeModalId.ts"),M=n("./src/reddit/selectors/emailCollection.ts"),G=n("./src/reddit/selectors/notificationBanner.ts"),F=n("./src/reddit/selectors/user.ts"),B=n("./src/telemetry/index.ts"),V=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const q="USER__LOID_RECEIVED",W=Object(i.a)(q),H="USER__REQUEST_PENDING",K="USER__REQUEST_LOADED",Y="USER__REQUEST_FAILED",z="USER__SESSION_TRACKER_RECEIVED",J="USER__REDDAID_RECEIVED",Q=Object(i.a)(H),X=Object(i.a)(K),Z=Object(i.a)(Y),$=e=>async(t,n,s)=>{let{apiContext:i}=s;if(n().users.models[e.toLowerCase()]||e===r.A)return;t(Q({username:e}));const o=await Object(b.b)(i(),e);if(o.ok){const n={data:o.body};n.username=e,t(X(n))}else{const n=o.error;n.username=e,t(Z(n))}},ee="USER__MYSELF_LOADED",te=Object(i.a)(ee);function ne(){let{forceFetch:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(t,n,s)=>{let{apiContext:r}=s;const i=n();if(i.user.account&&!e||!i.user.session||i.user.session.unsafeLoggedOut)return;const o=await m(r());o.ok&&t(te(o.body))}}const se=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t().user.session;Object(x.a)(),r&&P(s(),r)},re=Object(i.a)(z),ie=Object(i.a)(J),oe="USER__LAYOUT_SWITCH_VIEWED",ce=Object(i.a)(oe),ae=()=>async(e,t,n)=>{let{apiContext:s}=n;const r=t();r.user.account&&!r.user.account.seenLayoutSwitch&&(e(ce()),Object(b.d)(s()))},de=e=>async(t,n,s)=>{let{apiContext:i}=s;const o=await((e,t)=>Object(p.a)(Object(f.a)(e,[O.a]),{method:r.eb.POST,endpoint:"".concat(e.apiUrl,"/api/deactivate_user"),data:{user:t.username,passwd:t.password,confirm:t.checkbox,deactivate_message:t.feedback}}))(i(),e),c=n().user.session;o.ok&&o.body&&o.body.success?c&&P(i(),c):t(Object(d.e)({kind:U.b.Error,text:"Something went wrong deactivating your account. Try again later."}))},ue="USER__UPDATE_EMAIL_PENDING",le="USER__UPDATE_EMAIL_SUCCESS",be="USER__UPDATE_EMAIL_FAILURE",pe=Object(i.a)(ue),fe=Object(i.a)(le),Oe=Object(i.a)(be),_e=(e,t)=>{t.isEmailVerificationTooltipShowing&&e(Object(o.b)())},me=e=>async(t,n,s)=>{let{apiContext:i}=s;const o=V(e,[]);if(Object(F.F)(n(),"changeEmail"))return;t(pe());const c=await((e,t)=>{let{newEmail:n,password:s}=t;return Object(p.a)(Object(f.a)(e,[O.a]),{method:r.eb.POST,endpoint:"".concat(e.apiUrl,"/api/update_email"),data:Object.assign(Object.assign({},s&&{curpass:s}),{email:n})})})(i(),o),d=n();if(c.ok&&c.body&&c.body.success){Object(G.a)(u.a.EmailCollectionBannerId)(d)&&t(Object(a.c)(u.a.EmailCollectionBannerId)),Object(M.a)(d)&&Object(B.a)(Object(k.c)(d));const e=Object(F.H)(d);e||await t(ge()),t(fe(o.newEmail)),e&&t(Se()),_e(t,d)}else{const e=Object(g.b)(c,"Something went wrong updating your email. Try again later.");t(Oe(e))}},ge=e=>async(t,n,i)=>{let{apiContext:o}=i;const a=await((e,t)=>Object(p.a)(Object(f.a)(e,[O.a]),Object.assign({method:r.eb.GET,endpoint:"".concat(e.apiUrl,"/api/send_verification_email")},t.source&&{data:t})))(o(),{source:e}),u=n();if(a.ok&&a.body&&a.body.success){e&&(Object(B.a)(Object(N.f)(e)(u)),_e(t,u));const n=Object(L.a)(u),s=n===l.g||n===l.o?l.o:l.c;t(Object(c.i)(s))}else t(Object(d.e)({duration:d.a,kind:U.b.Error,text:s.fbt._("Something went wrong sending verification email. Try again later.",null,{hk:"2yTdAw"})}))},je="USER__SEND_RESET_EMAIL_PENDING",Ee="USER__SEND_RESET_EMAIL_SUCCESS",he="USER__SEND_RESET_EMAIL_FAILURE",Ie=Object(i.a)(je),Se=Object(i.a)(Ee),ye=Object(i.a)(he),Te=e=>async(t,n,s)=>{let{apiContext:i}=s;if(Object(F.F)(n(),"sendResetEmail"))return;t(Ie());const o=await((e,t)=>Object(p.a)(Object(f.a)(e,[O.a]),{method:r.eb.POST,endpoint:"".concat(e.apiUrl,"/api/password"),data:{email:t.curEmail,name:t.name}}))(i(),e);if(!o.ok||!o.body||!o.body.success){const e=Object(g.b)(o,"Something went wrong sending the reset email. Please try again.");return t(ye()),void t(Object(d.e)({duration:d.a,kind:U.b.Error,text:e}))}t(Se())}},"./src/reddit/actions/video.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"k",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return S})),n.d(t,"m",(function(){return y})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return D})),n.d(t,"n",(function(){return v})),n.d(t,"a",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"c",(function(){return w})),n.d(t,"l",(function(){return C})),n.d(t,"x",(function(){return k})),n.d(t,"v",(function(){return N})),n.d(t,"w",(function(){return U})),n.d(t,"u",(function(){return L})),n.d(t,"M",(function(){return M})),n.d(t,"B",(function(){return G})),n.d(t,"N",(function(){return F})),n.d(t,"O",(function(){return B})),n.d(t,"y",(function(){return q})),n.d(t,"z",(function(){return H})),n.d(t,"D",(function(){return z})),n.d(t,"I",(function(){return J})),n.d(t,"t",(function(){return Q})),n.d(t,"J",(function(){return Z})),n.d(t,"H",(function(){return te})),n.d(t,"F",(function(){return ne})),n.d(t,"r",(function(){return se})),n.d(t,"E",(function(){return re})),n.d(t,"q",(function(){return ie})),n.d(t,"A",(function(){return oe})),n.d(t,"C",(function(){return ce})),n.d(t,"s",(function(){return ae})),n.d(t,"G",(function(){return de})),n.d(t,"K",(function(){return ue})),n.d(t,"L",(function(){return le}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/constants/adEvents.ts"),i=n("./src/reddit/constants/video.ts"),o=n("./src/reddit/helpers/correlationIdTracker.ts"),c=n("./src/lib/ads/index.ts"),a=n("./src/lib/ads/store.ts"),d=n("./src/reddit/actions/post.ts"),u=n("./src/reddit/helpers/trackers/media.ts"),l=n("./src/reddit/helpers/trackers/postList.ts"),b=n("./src/reddit/selectors/platform.ts"),p=n("./src/reddit/selectors/posts.ts"),f=n("./src/reddit/selectors/telemetry.ts"),O=(n("./src/reddit/selectors/video.ts"),n("./src/telemetry/index.ts"));const _="VIDEO__CONSUMED",m="VIDEO__SET_FULLSCREEN",g="VIDEO__EXIT_FULLSCREEN",j="VIDEO__LOADABLE",E="VIDEO__LOADING",h="VIDEO__PAUSED",I="VIDEO__PLAYABLE",S="VIDEO__METADATA_RECEIVED",y="VIDEO__STARTED",T="VIDEO__UNLOADABLE",D="VIDEO__UNPAUSED",v="VIDEO__TIME_UPDATED",R="VIDEO__BUFFERING",A="VIDEO__PLAYING",w="VIDEO__CONTINUOUS_VIEW_STARTED_AT",C="VIDEO__SET_MUTED_IN_FEED",P=(()=>{let e="";return(t,n,s,r)=>async(i,c)=>{if(null!=t){e!==t&&(e=t,Object(o.d)(o.a.VideoView));const i=c(),a=r?u.b(t,n,s):u.a(t,n,s);Object(O.a)(Object.assign(Object.assign({},f.defaults(i)),a(i)))}}})(),x=Object(s.a)(w),k=e=>async(t,n)=>{const s=n(),i=Object(p.O)(s,{postId:e});t(P(e,"is_viewable","video",!1)),i.isSponsored&&t(Object(d.u)(i,r.a.VideoViewableImpression))},N=e=>async(t,n)=>{const s=n(),i=Object(p.O)(s,{postId:e});i.isSponsored&&t(Object(d.u)(i,r.a.VideoGroupMViewable))},U=e=>async(t,n)=>{const s=n(),i=Object(p.O)(s,{postId:e});i.isSponsored&&t(Object(d.u)(i,r.a.VideoVendorFullyViewable50))},L=e=>async(t,n)=>{const s=n(),i=Object(p.O)(s,{postId:e});t(P(e,"is_fully_viewable","video",!1)),i.isSponsored&&t(Object(d.u)(i,r.a.VideoFullyViewableImpression))},M=e=>async(t,n)=>{const s=Object(p.O)(n(),{postId:e});t(P(e,"start","video",!1)),s.isSponsored&&t(Object(d.u)(s,r.a.VideoStarted))},G=(e,t)=>async(n,s)=>{const i=Object(p.O)(s(),{postId:t});n(P(t,"play_with_sound","video",!1)),n(P(t,"is_viewable","video",!1)),n(P(t,"is_fully_viewable","video",!1)),i.isSponsored&&(n(Object(d.u)(i,r.a.VideoPlayedWithSound)),e&&(n(Object(d.u)(i,r.a.VideoViewableImpression)),n(Object(d.u)(i,r.a.VideoFullyViewableImpression))))},F=(e,t)=>async(n,s)=>{const o=Object(p.O)(s(),{postId:t});let c,a;switch(e){case i.b:c="watch_25_percent",a=r.a.VideoWatched25;break;case i.c:c="watch_50_percent",a=r.a.VideoWatched50;break;case i.d:c="watch_75_percent",a=r.a.VideoWatched75;break;case i.e:c="watch_95_percent",a=r.a.VideoWatched95;break;default:c="watch_100_percent",a=r.a.VideoWatched100}n(P(t,c,"video",!1)),o.isSponsored&&n(Object(d.u)(o,a,c))},B=(e,t)=>async(n,s)=>{const o=Object(p.O)(s(),{postId:t});let c,a;switch(e){case i.g:c="watch_3_seconds",a=r.a.VideoWatchedSeconds3;break;case i.h:c="watch_5_seconds",a=r.a.VideoWatchedSeconds5;break;default:c="watch_10_seconds",a=r.a.VideoWatchedSeconds10}n(P(t,c,"video",!1)),o.isSponsored&&n(Object(d.u)(o,a,c))},V=Object(s.a)(_),q=Object(s.a)(j),W=Object(s.a)(E),H=Object(s.a)(h),K=Object(s.a)(I),Y=Object(s.a)(m),z=Object(s.a)(S),J=Object(s.a)(v),Q=Object(s.a)(g),X=Object(s.a)(y),Z=Object(s.a)(T),$=Object(s.a)(D),ee=Object(s.a)(R),te=Object(s.a)(A),ne=e=>async(t,n)=>{const s=Object(p.O)(n(),{postId:e});t(Y({postId:e})),((e,t,n)=>{n(P(t,"play_expanded","video",!1)),n(P(t,"is_viewable","video",!1)),n(P(t,"is_fully_viewable","video",!1)),e.isSponsored&&(n(Object(d.u)(e,r.a.VideoPlayedExpanded)),n(Object(d.u)(e,r.a.VideoViewableImpression)),n(Object(d.u)(e,r.a.VideoFullyViewableImpression)))})(s,e,t)},se=(e,t)=>async(n,s)=>{const r=s();r.posts.video.autoPlayed[e]&&Object(b.k)(r)&&(l.d(r,e),void 0!==t&&n(ee({postId:e,isBuffering:t})))},re=e=>async(t,n)=>{const s=n();s.posts.video.autoPlayed[e]&&Object(b.k)(s)&&l.h(s,e)},ie=(e,t)=>async(n,s)=>{n(W({postId:e,time:t}));const r=s();Object(b.k)(r)&&l.f(r,e)},oe=(e,t)=>async(n,s)=>{n(K({postId:e,time:t}));const r=s();Object(b.k)(r)&&l.a(r,e)},ce=e=>async(t,n)=>{const s=n(),r=s.posts.video.autoPlayed[e],i=s.posts.video.started[e];t(X({postId:e})),t($({postId:e})),!i&&r&&Object(b.k)(s)&&l.c(s,e)},ae=e=>async(t,n)=>{const s=n(),r=s.posts.video.autoPlayed[e],i=s.posts.video.consumed[e];t(V({postId:e})),r&&Object(b.k)(s)&&!i&&l.b(s,e)},de=Object(s.a)(C),ue=(e,t)=>async(n,s)=>{n(x({postId:e,time:t}));const r=s();Object(p.O)(r,{postId:e}).isSponsored&&a.e(e,!0,c.m.seeked)},le=e=>async(t,n)=>{const s=n();Object(p.O)(s,{postId:e}).isSponsored&&a.e(e,!0,c.m.seeked)}},"./src/reddit/actions/vote.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return P}));var s=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/telemetry/index.ts"),i=n("./src/reddit/actions/gold/tooltips.ts"),o=n("./src/reddit/actions/login.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/post.ts"),d=n("./src/reddit/components/ModerationPrompts/useActivePromptId.ts"),u=n("./src/reddit/constants/adEvents.ts"),l=n("./src/reddit/constants/experiments.ts"),b=n("./src/reddit/contexts/PageLayer/selectors.ts"),p=n("./src/lib/constants/index.ts"),f=n("./src/lib/makeApiRequest/index.ts"),O=n("./src/lib/omitHeaders/index.ts"),_=n("./src/reddit/constants/headers.ts"),m=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var g=n("./src/reddit/helpers/isComment.ts"),j=n("./src/reddit/helpers/isPost.ts"),E=n("./src/reddit/helpers/trackers/gild.ts"),h=n("./src/reddit/models/Vote/index.ts"),I=n("./src/reddit/selectors/comments.ts"),S=n("./src/reddit/helpers/chooseVariant/index.ts"),y=n("./src/reddit/selectors/user.ts");var T=n("./src/reddit/selectors/gild.ts"),D=n("./src/reddit/selectors/moderatorPermissions.ts"),v=n("./src/reddit/selectors/modQueue.ts"),R=n("./src/reddit/selectors/platform.ts"),A=n("./src/reddit/selectors/posts.ts");const w="VOTE__VOTE_CAST",C=Object(s.a)(w),P=(e,t)=>n=>async(s,w,P)=>{let{apiContext:x}=P;if(!Object(y.J)(w()))return s(Object(c.k)({actionSource:c.a.Vote})),void s(Object(o.i)());const k=e(n,w),N=h.b(k,t),U=Object(j.a)(n)?k.postId:n;if(s(C({id:U,isInstance:!1,vote:t})),(w().posts.instances[U]||[]).forEach(e=>{s(C({id:e,isInstance:!0,vote:t}))}),N)if(Object(j.a)(n)){const e=Object(A.O)(w(),{postId:n}),r=t>0?u.a.Upvote:u.a.Downvote;s(Object(a.u)(e,r))}else if(Object(g.a)(n)){const e=Object(I.o)(w(),{commentId:n});if(e){const n=Object(A.O)(w(),{postId:e.postId}),r=t>0?u.a.CommentUpvote:u.a.CommentDownvote;s(Object(a.u)(n,r))}}const L=w(),M=Object(R.i)(L),G=!!Object(T.f)(L),F=Object(y.fb)(L);if(G?s(Object(i.a)()):Object(j.a)(U)&&N===h.a.upvoted&&!F&&(e=>{const t=Object(S.c)(e,{experimentEligibilitySelector:e=>Object(y.J)(e),experimentName:l.zb});return Object(l.kd)(t)?void 0:t})(L)&&(s(Object(i.b)(U,M)),Object(r.a)(Object(E.viewGiveAwardTooltipEvent)(U)(L))),Object(y.J)(L)){const e=await((e,t,n)=>Object(f.a)(Object(O.a)(e,[_.a]),{endpoint:Object(m.a)("".concat(e.apiUrl,"/api/vote")),method:p.eb.POST,data:{id:t,dir:n,api_type:"json"}}))(x(),U,N);e.ok||s(C({id:U,isInstance:!1,vote:t})),function(e){const{moderationPrompt:t}=e.body;if(!t)return;if(!Object(j.a)(n))return;const r=Object(A.O)(L,{postId:n});if(Object(D.g)(L,{subredditId:r.belongsTo.id}))return;if(Object(v.b)(L))return;if(Object(b.F)(L.platform&&L.platform.currentPage))return;if(r.isSponsored)return;if("profile"===r.belongsTo.type)return;const i=L.experimentOverrides[l.Y],o=Object(R.i)(L);("none"!==t||i&&N===h.a.downvoted)&&(s(Object(a.L)({[n]:{moderationPrompt:i||t}})),s(Object(a.B)(Object(d.b)(n,o))))}(e)}}},"./src/reddit/actions/widgets/constants.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));const s="WIDGETS__WIDGET_CREATED",r="WIDGETS__WIDGET_UPDATED",i="WIDGET_DELETED",o="WIDGETS_SORTED",c="WIDGETS__STARTED_EDITING_WIDGET",a="WIDGETS__LOADED",d="SUBREDDIT__WIDGETS_PENDING",u="SUBREDDIT__WIDGETS_LOADED",l="SUBREDDIT__WIDGETS_FAILED"},"./src/reddit/actions/widgets/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return D})),n.d(t,"h",(function(){return R})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return U}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/apiRequestState.ts"),o=n("./src/reddit/actions/imageUploads.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/reddit/constants/headers.ts");const b=async(e,t,n)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widgets"),method:a.eb.GET,type:"json",data:{progressive_images:n}});var p=n("./src/reddit/helpers/getGenericUploadError.ts"),f=n("./src/reddit/helpers/media/index.ts"),O=n("./src/lib/assertNever.ts"),_=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/models/Image/index.tsx"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/models/Widgets/index.ts"),E=n("./src/reddit/actions/widgets/constants.ts");const h=Object(r.a)(E.g),I=(e,t,n)=>async(r,b,f)=>{const{apiContext:O}=f;r(Object(i.h)(n));const E=b(),I=Object(_.S)(E,{subredditId:e}).name,S=Object(j.k)(t);let y=null,T=null;try{(y=await Object(o.f)(E,m.a.Widgets))&&(T=Object(o.m)(y)(r,b,f))}catch(v){const e=Object(p.a)("webSocket");return void r(Object(i.f)(n,e))}const D=await(async(e,t,n)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget"),method:a.eb.POST,type:"json",data:n}))(O(),I,S);if(D.ok){let o=D.body;const a=o.id;if("calendar"===t.kind&&r(Object(c.e)({kind:g.b.SuccessMod,text:s.fbt._("New calendar added! It may take a few minutes to see your events appear",null,{hk:"4iETrT"})})),y){try{await T}catch(v){}o=await r(L(e,a))||o}r(h({subredditId:e,widget:o,widgetId:a})),r(Object(i.e)(n))}else y&&y.websocket.close(),r(Object(i.f)(n,D.error))},S=Object(r.a)(E.i),y=(e,t,n)=>async(r,b,f)=>{const{apiContext:E}=f;r(Object(i.h)(n));const h=t.id,I=b(),y=Object(_.S)(I,{subredditId:e}).name,T=Object(j.k)(t);let D=null,v=null;try{(D=await Object(o.f)(I,m.a.Widgets))&&(v=Object(o.m)(D)(r,b,f))}catch(A){const e=Object(p.a)("webSocket");return void r(Object(i.f)(n,e))}const R=await(async(e,t,n)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:a.eb.PUT,type:"json",data:n}))(E(),y,T);if(R.ok){let o=function(e,t,n){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign(Object.assign({},e),t);case"community-list":{const s={};for(const t of e.data)s[t.name]=t;return Object.assign(Object.assign({},t),{data:t.data.map(e=>{if(!("subscribers"in s[e])){const t={subredditName:e},s=Object(_.A)(n,t),r=Object(_.x)(n,t);return{name:s.name,subscribers:s?s.subscribers:void 0,iconUrl:s?s.communityIcon:void 0,isNSFW:s?s.isNSFW:void 0,isSubscribed:r?r.userIsSubscriber:void 0}}return s[e]})})}case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(O.a)(e)}}(t,R.body,I);if(v){try{await v}catch(A){}o=await r(L(e,h))||o}r(S({subredditId:e,widgetId:h,widget:o})),"calendar"===t.kind&&r(Object(c.e)({kind:g.b.SuccessMod,text:s.fbt._("Calendar is updated! It may take a few minutes to see your events change",null,{hk:"10XWV"})})),r(Object(i.e)(n))}else D&&D.websocket.close(),r(Object(i.f)(n,R.error))},T=Object(r.a)(E.h),D=(e,t,n)=>async(s,r,o)=>{let{apiContext:c}=o;s(Object(i.h)(n));const b=t.id,p=Object(_.S)(r(),{subredditId:e}).name,f=await(async(e,t,n)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:a.eb.DELETE,type:"json"}))(c(),p,t);f.ok?(s(Object(i.e)(n)),s(T({subredditId:e,widgetId:b}))):s(Object(i.f)(n,f.error))},v=Object(r.a)(E.f),R=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=Object(_.S)(s(),{subredditId:e}).name;(await(async(e,t,n)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_order/sidebar"),method:a.eb.PATCH,type:"json",data:n}))(i(),o,t)).ok&&n(v({subredditId:e,widgetIds:t}))},A=e=>{let{imageData:t}=e;return async(e,n,s)=>{const r=n(),i=r.structuredStyles.isEditing,c=Object(_.S)(r,{subredditId:i}).name;e(Object(o.k)(t));const b=await(async(e,t,n,s)=>Object(d.a)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_image_upload_s3"),method:a.eb.POST,data:{filepath:n,mimetype:s}}))(s.apiContext(),c,t.file.name,await Object(f.g)(t.file));let p=!1;try{const s=await Object(o.g)(n(),b,t,m.a.Widgets);s&&(e(Object(o.j)(s)),p=!0)}catch(O){if(O instanceof Error)throw O;e(Object(o.i)(O))}return p}},w=Object(r.a)(E.d),C=Object(r.a)(E.e),P=(e,t)=>async(n,s,r)=>{let{apiContext:o}=r;n(Object(i.h)(t));const c=Object(_.S)(s(),{subredditId:e}).name,a=await b(o(),c);if(a.ok){const s=a.body;n(C({subredditId:e,widgets:s})),n(Object(i.e)(t))}else n(Object(i.f)(t,a.error))},x=Object(r.a)(E.c),k=Object(r.a)(E.b),N=Object(r.a)(E.a),U=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;n(x({subredditId:e}));const o=Object(_.S)(s(),{subredditId:e}).name,c=await b(i(),o,t);if(c.ok){const t=c.body;n(k({subredditId:e,widgets:t}))}else n(N({subredditId:e,error:c.error}))},L=(e,t)=>async(n,s,r)=>{let{apiContext:i}=r;const o=Object(_.S)(s(),{subredditId:e}).name,c=await b(i(),o,!0);if(c.ok)return c.body.items[t]}},"./src/reddit/components/CountAnimation/config.ts":function(e,t,n){"use strict";var s=n("./src/lib/constants/index.ts");t.a={animationIncrementDuration:750,postSelectionRequirements:{countUpperLimit:9999,countLowerLimit:3,createdDateWhitin:s.ec},chancePerPostListing:.5,discountAmountCoefficient:.3,upvoteCount:{inititalDelayRange:{lower:200,upper:500},subsequentRecurringDelayRange:{lower:2e3,upper:5e3},incrementRangeRelativeToTotalDiscount:{lower:.05,upper:.1}},commentCount:{inititalDelayRange:{lower:350,upper:650},subsequentRecurringDelayRange:{lower:2e3,upper:5e3},incrementRangeRelativeToTotalDiscount:{lower:.05,upper:.1}}}},"./src/reddit/components/CountAnimation/helpers.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./src/reddit/components/CountAnimation/config.ts");const r=e=>{return Math.abs(e).toString().split("").map(e=>parseInt(e))},i=(e,t)=>{let n=Math.abs(e);const s=Math.abs(t),r=[n];if(n===s)return r;let i=!0;for(;i;)++n>9&&(n=0),r.push(n),n===s&&(i=!1);return r},o=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),c=e=>!!e&&!e.isSponsored&&!e.isScoreHidden&&p(e.score),a=e=>!!e&&!e.isSponsored&&p(e.numComments),d=e=>{if(!e)return!1;const t=Date.now(),n=Math.abs(t-e.created);return!!e&&n<=s.a.postSelectionRequirements.createdDateWhitin},u=e=>d(e)&&(c(e)||a(e)),l=(e,t)=>{const n=((e,t)=>{let n=0;return e.forEach(e=>{const s=t[e];u(s)||n++}),n})(e,t),s=Math.round(n/e.length*100)/100;return Math.round(s/2*100)/100},b=(e,t)=>{const n={},r={},i=l(e,t)+s.a.chancePerPostListing;let o=!1;return e.forEach(e=>{const s=t[e],d=i+(o?0:.15);u(s)&&(e=>Math.random()<e)(d)?(o=!0,c(s)&&(n[e]={totalDiscount:f(s.score)}),a(s)&&(r[e]={totalDiscount:f(s.numComments)})):o=!1}),{upvoteDiscount:n,commentDiscount:r}},p=e=>{const{countUpperLimit:t,countLowerLimit:n}=s.a.postSelectionRequirements;return e>=n&&e<=t},f=e=>{if(e<=2)return 0;const t=1/Math.log10(e);return Math.round(t*s.a.discountAmountCoefficient*e)}},"./src/reddit/components/Flatlist/getFlatlistTooltipId.ts":function(e,t,n){"use strict";t.a=(e,t,n)=>{const s="".concat(e,"--").concat(t);return n?"".concat(s,"--").concat(n):s}},"./src/reddit/components/ModerationPrompts/useActivePromptId.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var s=n("./node_modules/react-redux/es/index.js");const r=e=>e.moderationPromptId;function i(e,t){return Object(s.d)(r)===o(e.id,t)}function o(e,t){return"prompt-".concat(e).concat(t?"-overlay":"")}},"./src/reddit/components/NotificationBanners/bannerIds.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),function(e){e.EmailCollectionBannerId="email-collection-banner-id"}(s||(s={}))},"./src/reddit/components/Settings/modalIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"o",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return m}));const s="change_email_modal_id",r="check_email_modal_id",i="set_email_modal_id",o="verify_email_modal_id",c="reset_pw_sso_2fa_modal_id",a="reset_pw_sso_email_modal_id",d="reset_pw_sso_google_link_modal_id",u="reset_pw_sso_google_unlink_modal_id",l="reset_pw_sso_apple_link_modal_id",b="reset_pw_sso_apple_unlink_modal_id",p="reset_pw_sso_deactivate_account_modal_id",f="change_username_modal_id",O="confirm_save_username_modal_id",_="intercept_action_modal_id",m="second_confirm_keep_username_modal_id"},"./src/reddit/components/TrackingHelper/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b}));var s=n("./node_modules/react/index.js"),r=n.n(s),i=n("./node_modules/react-redux/es/index.js"),o=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const d=r.a.createContext(()=>{});function u(e){let{children:t}=e;const n=Object(i.e)(),a=Object(s.useCallback)(e=>{{const t=n.getState(),s=e(t);Object(c.a)(Object.assign(Object.assign({},o.defaults(t)),s))}},[n]);return r.a.createElement(d.Provider,{value:a},t?r.a.Children.only(t):null)}function l(){return Object(s.useContext)(d)}function b(e){function t(t){const n=l();return r.a.createElement(e,a({},t,{sendEvent:n}))}return t.displayName="Tracked",t.WrappedComponent=e,t}},"./src/reddit/constants/actions.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s="@@router/CALL_HISTORY_METHOD"},"./src/reddit/constants/cookie.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f}));const s="USER",r="alphaModal",i="over18",o="mod_mode_enabled",c="recent_srs",a="_recentclicks2",d="eu_cookie_v2",u="uapp_cookie",l="nightmode",b="_options",p="show_announcements";var f;!function(e){e.Yes="yes",e.No="no"}(f||(f={}))},"./src/reddit/constants/graphql.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),function(e){e.Card="CARD",e.Classic="CLASSIC",e.Compact="COMPACT"}(s||(s={}))},"./src/reddit/constants/modals.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),function(e){e.ADD_REMOVAL_REASON="add_removal_reason",e.ALPHA_CONSUMER="alpha_consumer",e.BADGE_PICKER="badge_picker",e.BADGE_PURCHASE="badge_purchase",e.BAN_USER="ban_user",e.BLADE_NIGHTMODE="blade_nightmode",e.BLADE_UNSAVED_CHANGES="blade_unsaved_changes",e.CHANGE_PASSWORD_MODAL_ID="account_manager_change_password",e.CONFIRM_CLOSE_COIN_MODAL_ID="confirm_close_coin_modal_id",e.CONFIRM_CLOSE_PREMIUM_MODAL_ID="confirm_close_premium_modal_id",e.CONTRIBUTOR_REQUEST="contributor_request",e.CONTRIBUTOR_REQUEST_PENDING="contributor_request_pending",e.CONVERT_TO_COINS="convert_to_coins",e.DISABLE_TWO_FACTOR="disable_2fa_modal",e.DOWN_TO_CHAT_PENDING_MODAL="down_to_chat_pending_modal",e.ECON_CLAIM_FREE_AWARD_MODAL="econ_claim_free_award_modal",e.ECON_COIN_PURCHASE="econ_coin_purchase",e.ECON_COIN_PACKAGE_OFFER="econ_coin_package_offer",e.ECON_POWERUPS_MARKETING="econ_powerups_marketing",e.ECON_POWERUPS_PURCHASE="econ_powerups_purchase",e.ECON_TOP_AWARDERS="econ_top_awarders",e.ENABLE_TWO_FACTOR="enable_2fa_modal",e.GOLD_GILD_ANIMATION_OVERLAY="gold_gild_animation_overlay",e.GOLD_GILD_MODAL="gold_gild_modal",e.GOLD_TARGETED_OFFER_MODAL="gold_targeted_offer",e.GOOGLE_ONE_TAP_MODAL_ID="google_one_tap_modal_id",e.GOVERNANCE_OPT_OUT="governance_opt_out",e.GOVERNANCE_RELEASE_NOTES="governance_release_notes",e.HARBERGER_TAX_CRYPTO_BANNER_MANAGE="harberger_tax_crypto_banner_manage",e.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE="hargerger_tax_crypto_banner_purchase",e.HARBERGER_TAX_BANNER_MANAGE="harberger_tax_banner_manage",e.HARBERGER_TAX_BANNER_PURCHASE="harberger_tax_banner_purchase",e.KEYBOARD_SHORTCUTS="keyboard_shortcuts",e.LINK_APPLE_SSO="link_apple_sso",e.LINK_GOOGLE_SSO="link_google_sso",e.LOGIN_MODAL_ID="account_manager_login",e.MOD_TO_MEMBER_SHARE="mod_to_member_share",e.CROWD_CONTROL="crowd_control",e.MULTIREDDIT_ADD_SUBREDDIT="multireddit_add_subreddit",e.MULTIREDDIT_CREATE="multireddit_create",e.MULTIREDDIT_DUPLICATE="multireddit_duplicate",e.MULTIREDDIT_EDIT="multireddit_edit",e.MUTE_USER="mute_user",e.PINNED_POSTS_LIMIT_REACHED="pinned_posts_limit_reached",e.REDESIGN_MODAL="redesign_modal",e.REGISTER_MODAL_ID="account_manager_register",e.SNOOVATAR_MODAL="snoovatar_modal",e.SPEZ_MODAL="spez_modal",e.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT="subreddit_premium_badge_management",e.SUBREDDIT_PREMIUM_GIFT_MODAL="subreddit_premium_gift",e.SUBREDDIT_PREMIUM_UPLOAD_MODAL="subreddit_premium_upload",e.TRANSFER_POINTS="community_points_transfer",e.TWO_FACTOR_BACKUP_CODES="two_factor_backup_codes",e.UNLINK_APPLE_SSO="unlink_apple_sso",e.UNLINK_GOOGLE_SSO="unlink_google_sso",e.USER_FLAIR_MODAL_ID="user_flair_modal",e.WALLET_REGISTRATION_MODAL="wallet_registration_modal"}(s||(s={}));const r=[s.GOOGLE_ONE_TAP_MODAL_ID]},"./src/reddit/constants/preferences.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return c}));const s="rpanDuDismissalTime",r="showRpanDu",i="topContentDismissalTime",o="topContentTimesDismissed",c=[...["openPostInNewTab","rememberCommunitySort","sort","stylesEnabled","useMarkdown","layout","rememberCommunityLayout","hasSeenCustomizeFlyout","reduceAnimationsFromAwards",s,r,i,o,"surveyLastSeenTime"],"activityRelevantAds","thirdPartyDataPersonalizedAds","thirdPartySiteDataPersonalizedAds","thirdPartySiteDataPersonalizedContent","showLocationBasedRecommendations"]},"./src/reddit/constants/shortcuts.ts":function(e,t,n){"use strict";var s,r;n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(s||(s={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(r||(r={}));const i="SHORTCUT_FOCUSABLE_DIV",o=[9,13,32]},"./src/reddit/constants/tracking.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const s={CLICK:"click",CLOSE:"close",COMPLETE:"complete",DISABLE:"disable",DRAG:"drag",ENABLE:"enable",REJECT:"reject",SELECT:"select",START:"start",STOP:"stop",VIEW:"view"},r={POST:"post",SCREEN:"screen"},i="media-element"},"./src/reddit/constants/video.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return f}));const s=250,r=500,i=25,o=50,c=75,a=95,d=100,u=[i,o,c,a,d],l=3,b=5,p=10,f=[l,b,p]},"./src/reddit/endpoints/category/subreddits.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),o=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=e=>{const t=[],n=[],s={},r={};return e.data.children.forEach(e=>{let{data:i}=e;const o=Object(c.a)(i);t.push(o.id),n.push(o.name),s[o.id]=o,r[o.id]={accountsActive:i.accounts_active,allOriginalContent:i.all_original_content,bannerBackgroundColor:i.banner_background_color,bannerBackgroundImage:i.banner_background_image,contentCategory:i.content_category,allowChatPostCreation:i.allow_chat_post_creation,keyColor:i.key_color,originalContentTagEnabled:i.original_content_tag_enabled,publicDescription:i.public_description,subscribers:i.subscribers,userIsSubscriber:i.user_is_subscriber}}),{subredditIds:t,subredditNames:n,subreddits:s,subredditsAboutInfo:r}};t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(r.a)(Object(i.a)(e,[o.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/subreddits_in_category.json?category_id=").concat(t,"&limit=").concat(n)),method:s.eb.GET})}},"./src/reddit/endpoints/flair/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return E}));var s=n("./src/config.ts"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n,s,a,d)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/selectflair"),method:r.eb.POST,data:{api_type:"json",flair_template_id:s,name:t,text:a,css_class:d}}),u=(e,t,n,s)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/selectflair"),method:r.eb.POST,data:{api_type:"json",flair_template_id:n,link:t,text:s}}),l=(e,t,n)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/setflairenabled"),method:r.eb.POST,data:{api_type:"json",flair_enabled:t}}),b=async(e,t,n)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair.json"),method:r.eb.POST,data:{subreddit:t,enabled:n}}),p=async(e,t,n)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_link_flair.json"),method:r.eb.POST,data:{subreddit:t,enabled:n}}),f=async(e,t,n,s)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair_self_assign.json"),method:r.eb.POST,data:{subreddit:s,flair_type:n,enabled:t}}),O=async(e,t,n,s)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/flairtemplate_v2"),method:r.eb.POST,data:{allowable_content:t.allowableContent,css_class:t.cssClass,flair_template_id:t.id,text:t.text,text_editable:t.textEditable,flair_type:s,text_color:t.textColor,background_color:t.backgroundColor,max_emojis:t.maxEmojis,mod_only:t.modOnly,r:n}}),_=async(e,t,n)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/deleteflairtemplate"),method:r.eb.POST,data:{flair_template_id:t,r:n}}),m=async(e,t,n,s)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_template_order/").concat(n),method:r.eb.PATCH,type:"json",data:s}),g=async(e,t)=>Object(i.a)(e,{endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/userFlair"),method:r.eb.GET,headers:{[c.a]:c.a}}),j=async(e,t,n)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/deleteflair"),method:r.eb.POST,data:{api_type:"json",name:t}}),E=async(e,t)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/top_flair_in_subreddit.json?subreddit=").concat(t)),method:r.eb.GET})},"./src/reddit/endpoints/gold/topAwarded.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n("./src/graphql/operations/TopAwardedPosts.json"),r=n("./src/graphql/operations/TopAwardersLeaderboard.json"),i=n("./src/lib/makeGqlRequest/index.ts");const o=(e,t)=>Object(i.a)(e,Object.assign(Object.assign({},s),{variables:Object.assign(Object.assign({},t),{includeListingMetadata:!!t.includeListingMetadata})})),c=(e,t)=>Object(i.a)(e,Object.assign(Object.assign({},r),{variables:t}))},"./src/reddit/endpoints/governance/posts.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./src/config.ts"),r=(n("./src/reddit/models/Poll/index.ts"),n("./src/reddit/endpoints/governance/requester.ts"));function i(e,t,n){return Object(r.a)(e,{method:"get",endpoint:"".concat(s.a.metaUrl,"/polls/").concat(t,"?postIds=").concat(n.join(","))})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./src/lib/makeApiRequest/index.ts");function r(e,t){return Object(s.a)(e,Object.assign({type:"json"},t)).then(e=>{if(e.ok)return{body:e.body,ok:!0,status:e.status};return{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:Object.assign(Object.assign({},e.body),{code:e.status}),ok:!1,status:e.status}})}},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var s=n("./src/config.ts"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n)=>Object(i.a)(e,{endpoint:Object(a.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/").concat(t)),method:r.eb.GET,data:Object.assign({moderated_limit:25},n)}),u=(e,t,n)=>Object(i.a)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/modactions/").concat(t),method:r.eb.POST,type:"json",data:n})},"./src/reddit/endpoints/moderator/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O}));var s=n("./src/graphql/operations/SubredditPostFlairStyleTemplates.json"),r=n("./src/graphql/operations/SubredditStyles.json"),i=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=(n("./src/lib/uploadToS3/index.ts"),n("./src/reddit/constants/headers.ts"));n("./src/reddit/helpers/media/index.ts");const u=async(e,t,n)=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:i.eb.GET,data:{progressive_images:n}}),l=async(e,t,n)=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:i.eb.PATCH,data:n}),b=async(e,t)=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:i.eb.DELETE}),p=async(e,t,n,s,r)=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/style_asset_upload_s3/").concat(t),method:i.eb.POST,data:{filepath:n,imagetype:s,mimetype:r}}),f=(e,t)=>Object(c.a)(e,Object.assign(Object.assign({},r),{variables:{subredditName:t}})),O=(e,t,n)=>Object(c.a)(e,Object.assign(Object.assign({},s),{variables:{subredditName:t,templateIds:n}}))},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,n){"use strict";var s=n("./src/config.ts"),r=n("./src/lib/addQueryParams/index.ts"),i=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/Comment/addProfileImgParam.ts"),a=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),d=n("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=(e,t,n,u,l,b,p)=>{let f=n?"".concat(s.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t,"/").concat(n):"".concat(s.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t);return f=Object(a.a)(Object(d.a)(f)),l&&(f=Object(c.a)(f)),b&&(f=Object(r.a)(f,{realtime_comments:!0})),p&&(f=Object(r.a)(f,{blend_new_comments:"1"})),Object(o.a)(e,{data:u,endpoint:f,method:i.eb.GET,traceRequestName:"get_comments_page"})}},"./src/reddit/endpoints/page/search.ts":function(e,t,n){"use strict";var s=n("./src/config.ts"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/search/index.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t)=>{let n=t?Object.assign(Object.assign({},e),{type:e.restrict_sr?"link":e.type}):e;(n=n.type?n:Object.assign(Object.assign({},n),{type:"link,sr,user"})).q=Object(o.a)(e.q);const s=Object(c.c)(c.a.SearchResults);return s&&(n.search_correlation_id=s),n};t.a=(e,t,n,o)=>Object(i.a)(e,{data:d(o||{},t),endpoint:Object(a.a)(n?"".concat(s.a.gatewayUrl,"/desktopapi/v1/multireddits/").concat(n,"/").concat(t,"/search"):t?"".concat(s.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/search"):"".concat(s.a.gatewayUrl,"/desktopapi/v1/search")),method:r.eb.GET})},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return I}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./src/config.ts"),r=n("./src/graphql/operations/SubredditPage.json"),i=n("./src/lib/constants/index.ts"),o=n("./src/lib/isAdHocMultireddit/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/makeGqlRequest/index.ts"),u=n("./src/lib/performanceTimings/index.tsx"),l=n("./src/reddit/constants/graphql.ts"),b=n("./src/reddit/constants/page.ts"),p=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),f=n("./src/reddit/helpers/getPostLimitForMobile/index.ts"),O=n("./src/reddit/helpers/graphql/normalizeSubredditPageFromGql/index.ts"),_=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),m=n("./src/reddit/models/Subreddit/index.ts"),g=n("./src/reddit/selectors/platform.ts"),j=n("./src/reddit/selectors/user.ts"),E=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const h=(e,t,n)=>{const{after:s,geo_filter:r,isMobile:i,layout:a,limit:d,recentPostIds:u,sort:p,t:O}=n,_=Object(j.Q)(e),m=Object(g.q)(e),E=Object(o.a)(t),h=Object(c.a)(t),I={name:t,includeIdentity:_&&!e.user.account,adContext:{layout:a?a.toUpperCase():l.a.Card,reddaid:e.user.reddaid},isFake:h,includeRecents:h&&u&&u.length>0||!1,includeTrending:h,isAdHocMulti:E,isAll:t===b.c.All,isPopular:t===b.c.Popular,recentPostIds:u||[],subredditNames:E?t.split("+"):[]};return p&&(I.sort=p.toUpperCase()),O&&(I.range=O.toUpperCase()),i?I.pageSize=Object(f.a)(a):d&&(I.pageSize=d),m&&m.ad&&(I.forceAds={ad:m.ad}),(m&&m.geo_filter||r)&&(I.region=m&&m.geo_filter||r),s&&(I.after=btoa(s)),I},I=async(e,t,n)=>{const s=Date.now(),o=await((e,t)=>Object(d.a)(e,Object.assign(Object.assign({},r),{variables:t})))(e,t),c=Date.now();if(!o.ok||!o.body)return o;const a=o.body,l=Date.now(),b=Object(O.a)(a.data),p=Date.now(),f=[{duration:c-s,logKeyType:u.a.gqlFetchTiming},{duration:p-l,logKeyType:u.a.gqlNormalizationTiming}];return Object(u.h)({name:i.p.SUBREDDIT,isLoggedIn:n,metrics:f}),Object.assign(Object.assign({},o),{ok:!!a.data.subredditInfoByName&&!Object(m.h)(a.data.subredditInfoByName),status:S(a.data),body:b})},S=e=>{if(!e.subredditInfoByName)return 404;if(Object(m.h)(e.subredditInfoByName)){if(e.subredditInfoByName.forbiddenReason===m.b.Banned)return 404;if(e.subredditInfoByName.forbiddenReason===m.b.GoldOnly||e.subredditInfoByName.forbiddenReason===m.b.Private||e.subredditInfoByName.forbiddenReason===m.b.Quarantined)return 403}return 200},y=e=>{var{recentPostIds:t}=e,n=E(e,["recentPostIds"]);return t&&t.length?Object.assign(Object.assign({},n),{recentPostIds:t.join(",")}):n};t.a=(e,t,n)=>Object(a.a)(e,{endpoint:Object(p.a)(Object(_.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t))),method:i.eb.GET,data:n&&y(n)||{},traceRequestName:"get_subreddit_page"})},"./src/reddit/endpoints/post/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"u",(function(){return _})),n.d(t,"j",(function(){return m})),n.d(t,"w",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"k",(function(){return E})),n.d(t,"x",(function(){return h})),n.d(t,"q",(function(){return I})),n.d(t,"m",(function(){return S})),n.d(t,"c",(function(){return y})),n.d(t,"p",(function(){return T})),n.d(t,"y",(function(){return D})),n.d(t,"s",(function(){return v})),n.d(t,"z",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"v",(function(){return w})),n.d(t,"t",(function(){return C})),n.d(t,"a",(function(){return P})),n.d(t,"n",(function(){return x})),n.d(t,"o",(function(){return N})),n.d(t,"r",(function(){return L})),n.d(t,"e",(function(){return M}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var s=n("./src/graphql/operations/PostIsTrackingCrossposts.json"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var u=n("./src/reddit/helpers/reportPage/index.ts");const l=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/approve")),method:r.eb.POST,data:{id:t}}),b=(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:r.eb.POST,data:{id:t}}),p=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/fetch_title")),method:r.eb.POST,data:{url:t,api_type:"json"}}),f=(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/follow_post")),method:r.eb.POST,data:{follow:n,fullname:t}}),O=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/hide")),method:r.eb.POST,data:{id:t}}),_=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/unhide")),method:r.eb.POST,data:{id:t}}),m=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/lock")),method:r.eb.POST,data:{id:t}}),g=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/unlock")),method:r.eb.POST,data:{id:t}}),j=(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/set_original_content")),method:r.eb.POST,data:{fullname:t,should_set_oc:n}}),E=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/marknsfw")),method:r.eb.POST,data:{id:t}}),h=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/unmarknsfw")),method:r.eb.POST,data:{id:t}}),I=(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/sendreplies"),method:r.eb.POST,data:{id:t,state:n}}),S=(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/remove")),method:r.eb.POST,data:{id:t,spam:n}}),y=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/del")),method:r.eb.POST,data:{id:t}}),T=(e,t)=>((e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/save")),method:r.eb.POST,data:{id:t}}))(e,t),D=(e,t)=>((e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/unsave")),method:r.eb.POST,data:{id:t}}))(e,t),v=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/spoiler")),method:r.eb.POST,data:{id:t}}),R=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/unspoiler")),method:r.eb.POST,data:{id:t}}),A=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:r.eb.POST,data:{id:t}}),w=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:r.eb.POST,data:{id:t}}),C=(e,t,n,s)=>Object(i.a)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/set_subreddit_sticky"),method:r.eb.POST,data:{id:t,state:n,to_profile:s}});var P;!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint",e.CrisisTextLine="crisisTextLine"}(P||(P={}));const x=(e,t)=>Object(i.a)(Object(c.a)(e,[a.a]),{method:r.eb.POST,endpoint:Object(d.a)("".concat(e.apiUrl,"/api/report")),data:k(t)}),k=e=>{const t=Object.assign({thing_id:e.id,api_type:"json"},e.timestamp&&{live_stream_relative_report_time_sec:e.timestamp.toString()}),{reportFlowPayload:n}=e;switch(n.customText&&(t.custom_text=n.customText),n.kind){case P.Other:return Object.assign(Object.assign({},t),{reason:"other",other_reason:n.rule});case P.Rule:return Object.assign(Object.assign({},t),{reason:n.rule,rule_reason:n.rule});case P.SiteRule:case P.CrisisTextLine:default:return Object.assign(Object.assign({},t),{reason:"site_reason_selected",site_reason:n.rule})}},N=(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{method:r.eb.POST,endpoint:Object(d.a)("".concat(e.apiUrl,"/api/report")),data:U(t,n)}),U=(e,t)=>{const n=Object(u.b)(e),s=Object.assign(Object.assign({},n),{api_type:"json"});return t&&(s.from_help_desk=!0),s},L=async(e,t,n)=>Object(i.a)(Object(c.a)(e,[a.a]),{method:r.eb.POST,endpoint:Object(d.a)("".concat(e.apiUrl,"/api/set_contest_mode/")),data:{api_type:"json",id:n,state:t}}),M=(e,t)=>Object(o.a)(e,Object.assign(Object.assign({},s),{variables:t}))},"./src/reddit/endpoints/profile/info.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p}));var s=n("./src/graphql/operations/ProfileModHubPage.json"),r=n("./src/graphql/operations/RedditorKarma.json"),i=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");const u=(e,t)=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about.json"),method:i.eb.GET,data:{gilding_detail:1,awarded_detail:1,raw_json:1}}),l={awardeeKarma:0,awarderKarma:0,commentKarma:0,postKarma:0,totalKarma:0},b=(e,t)=>Object(c.a)(e,Object.assign(Object.assign({},r),{variables:{name:t}})),p=(e,t)=>Object(c.a)(e,Object.assign(Object.assign({},s),{variables:{name:t}}))},"./src/reddit/endpoints/publicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return I})),n.d(t,"d",(function(){return S})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return C})),n.d(t,"a",(function(){return P}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/lodash/omit.js"),i=n.n(r),o=n("./src/config.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/constants/headers.ts"),u=n("./src/lib/makeRequest/index.ts"),l=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),b=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),p=n("./src/reddit/featureFlags/useProductionStreamingApi.ts"),f=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),O=n("./src/reddit/models/PostCreationForm/index.ts"),_=n("./src/reddit/models/Vote/index.ts");function m(){return Object(p.b)()?"https://web.archive.org/web/20210101014622/https://strapi.reddit.com":o.a.streamingApiUrl}const g=async e=>Object(u.b)({endpoint:"".concat(m(),"/rpan_config_v1"),method:a.eb.GET,headers:i()(e.headers(),[d.c,d.b]),timeoutMs:void 0}).then(A),j=async(e,t)=>{let n;return n=t===l.R?"/config":"/".concat(t,"/config"),Object(u.b)({endpoint:"".concat(m()).concat(n),method:a.eb.GET,headers:i()(e.headers(),[d.c,d.b]),timeoutMs:void 0}).then(A)},E=async(e,t)=>Object(u.b)({endpoint:"".concat(m(),"/videos/").concat(t),method:a.eb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(A),h=async e=>Object(u.b)({endpoint:"".concat(m(),"/videos"),method:a.eb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(A),I=async(e,t,n)=>{let s;s=t===l.R?"/broadcasts":"/".concat(t,"/broadcasts");const r=Object(c.a)(s,{cursor:null==n?void 0:n.cursor,page_size:null==n?void 0:n.pageSize});return Object(u.b)({endpoint:"".concat(m()).concat(r),method:a.eb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(A)},S=async e=>Object(u.b)({endpoint:"".concat(m(),"/recommended_viewer_subreddits"),method:a.eb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(A),y=async(e,t,n)=>Object(u.b)({endpoint:"".concat(m(),"/videos/").concat(t,"/vote/").concat(w(n)),method:a.eb.POST,headers:i()(e.headers,[d.c,d.b])}).then(A),T=async(e,t)=>Object(u.b)({endpoint:"".concat(m(),"/videos/").concat(t,"/heartbeat"),method:a.eb.POST,headers:i()(e.headers(),[d.c,d.b])}).then(A),D=async(e,t,n,s)=>{const r=n.rteState;if(!r)return Promise.reject(new Error("Editor state is undefined"));const i=b.a.getRawText(r);return i?v(e,t,i).then(e=>e.ok&&e.body&&e.body.data?Object.assign(Object.assign({},e),{body:{parentId:t,comment:Object.assign(Object.assign({},Object(f.a)(e.body.data.r2_comment,s)),{media:R(r)}),automuteLevel:e.body.data.auto_mute_status.level},error:void 0}):e):Promise.reject(new Error("Cannot send empty message"))},v=async(e,t,n)=>Object(u.b)({endpoint:"".concat(m(),"/broadcasts/").concat(t,"/comment_v2"),method:a.eb.POST,headers:i()(e.headers,[d.c,d.b]),data:{text:n},type:"json"}).then(A),R=e=>({type:"rtjson",richtextContent:{document:b.a.toRichTextJSON(e).document},rteMode:O.h.RICH_TEXT}),A=e=>{if(e.ok)return Object.assign(Object.assign({},e),{error:void 0});{const t={type:404===e.status?a.E.NOT_FOUND_ERROR:a.E.SERVER_ERROR};return 429===e.status&&(t.fields=[{field:"",msg:s.fbt._("Try again later",null,{hk:"3BBLIU"})}]),Object.assign(Object.assign({},e),{error:t})}},w=e=>e===_.a.upvoted?"up":e===_.a.downvoted?"down":"unset",C=async(e,t,n)=>Object(u.b)({endpoint:"".concat(m(),"/broadcasts/").concat(t),method:a.eb.PUT,headers:i()(e.headers,[d.c,d.b]),data:{data:{chat_disabled:n}},type:"json"}).then(A),P=async(e,t)=>Object(u.b)({endpoint:"".concat(m(),"/broadcasts/").concat(t,"/auto_mute_status"),method:a.eb.GET,headers:i()(e.headers,[d.c,d.b])}).then(A)},"./src/reddit/endpoints/subreddit/about.ts":function(e,t,n){"use strict";var s=n("./src/graphql/operations/SubredditAbout.json"),r=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t,n)=>Object(r.a)(e,Object.assign(Object.assign({},s),{variables:{subredditName:t,includeSubreddit:n}}))},"./src/reddit/endpoints/subreddit/notificationSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n("./src/graphql/operations/FetchSubredditsNotificationSettings.json"),r=n("./src/graphql/operations/UpdateSubredditNotificationSettings.json"),i=n("./src/lib/makeGqlRequest/index.ts");const o=(e,t)=>Object(i.a)(e,Object.assign(Object.assign({},s),{variables:{subredditIds:[t]}})),c=(e,t,n)=>Object(i.a)(e,Object.assign(Object.assign({},r),{variables:{input:Object.assign(Object.assign({},n),{subredditId:t})}}))},"./src/reddit/endpoints/subreddit/rules.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return S}));var s=n("./node_modules/lodash/camelCase.js"),r=n.n(s),i=n("./node_modules/lodash/mapKeys.js"),o=n.n(i),c=n("./src/graphql/operations/SubredditRules.json"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/makeGqlRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/graphql/helpers.ts"),f=n("./src/reddit/models/Rule/index.ts");const O=e=>{let{rules:t}=e;return{rules:t.map(e=>Object.assign(Object.assign({},o()(e,(e,t)=>r()(t))),{kind:"link"===e.kind?"post":e.kind}))}},_=(e,t)=>Object(u.a)(e,Object.assign(Object.assign({},c),{variables:{subredditName:t}})).then(e=>(e.ok&&e.body&&(e.body=(e=>{return{rules:(e.data.subreddit&&e.data.subreddit.rules||[]).map(e=>({kind:f.c[e.kind],description:e.content.markdown,descriptionRichText:e.content.richtext,shortName:e.name,violationReason:e.violationReason||"",createdUtc:Object(p.d)(e.createdAt,p.a.Millis),priority:e.priority}))}})(e.body)),e)),m=(e,t)=>Object(d.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about/rules.json"),method:a.eb.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=O(e.body)),e)),g=e=>e.ok?(e.body=Object(f.h)(JSON.parse(e.body.json.data.rules)),e):e.body,j=async(e,t,n)=>Object(d.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/add_subreddit_rule"),method:a.eb.POST,data:{r:t,short_name:n.rule,kind:n.kind===f.b.post?"link":n.kind,violation_reason:n.reason,description:n.description,api_type:"json",raw_json:1}}).then(e=>g(e)),E=async(e,t,n,s)=>Object(d.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/update_subreddit_rule"),method:a.eb.POST,data:{r:t,short_name:n.rule,kind:n.kind===f.b.post?"link":n.kind,violation_reason:n.reason,description:n.description,old_short_name:s,api_type:"json",raw_json:1}}).then(e=>g(e)),h=async(e,t,n)=>Object(d.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/remove_subreddit_rule"),method:a.eb.POST,data:{r:t,short_name:n,api_type:"json",raw_json:1}}).then(e=>g(e)),I=e=>e.map(e=>encodeURIComponent(e)).join(),S=async(e,t,n)=>Object(d.a)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/reorder_subreddit_rules"),method:a.eb.POST,data:{r:t,new_rule_order:I(n),api_type:"json",raw_json:1}}).then(e=>g(e))},"./src/reddit/endpoints/subreddit/settings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return _}));var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),o=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=n("./src/reddit/constants/headers.ts");const a=(e,t,n)=>Object(r.a)(Object(i.a)(e,[c.a]),{method:s.eb.POST,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/delete_sr_").concat(n),data:{raw_json:1}}),d=(e,t)=>Object(r.a)(Object(i.a)(e,[c.a]),{method:s.eb.GET,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/about/edit.json"),data:{raw_json:1}}).then(e=>e.ok?Object.assign(Object.assign({},e),{body:Object.assign({},b(e.body.data))}):e),u=(e,t,n)=>Object(r.a)(Object(i.a)(e,[c.a]),{method:s.eb.PATCH,endpoint:Object(o.a)("".concat(e.apiUrl,"/api/v1/subreddit/update_settings")),type:"json",data:Object.assign(Object.assign({},p(n,O)),{sr:t})}),l=(e,t,n)=>{const o=Object.assign(Object.assign({},f(n)),{sr:t});return Object(r.a)(Object(i.a)(e,[c.a]),{method:s.eb.POST,endpoint:"".concat(e.apiUrl,"/api/site_admin"),data:o})},b=e=>({allowChatPostCreation:e.allow_chat_post_creation,allowDiscovery:e.allow_discovery,allowGalleries:e.allow_galleries,allowImages:e.allow_images,allowPolls:e.allow_polls,allowPostCrossposts:e.allow_post_crossposts,collapseDeletedComments:e.collapse_deleted_comments,commentScoreHideMins:e.comment_score_hide_mins,contentOptions:e.content_options,contentVisible:e.default_set,crowdControlMode:e.crowd_control_mode,crowdControlChatLevel:e.crowd_control_chat_level,crowdControlLevel:e.crowd_control_level,description:e.description,disableContributorRequests:e.disable_contributor_requests,domain:e.domain,excludeBannedModqueue:e.exclude_banned_modqueue,headerHoverText:e.header_hover_text,hideAds:e.hide_ads,isChatPostFeatureEnabled:e.is_chat_post_feature_enabled,keyColor:e.key_color,language:e.language,liveStreamingIsEnabled:e.live_streaming_is_enabled,newPinnedPostPNsEnabled:e.new_pinned_post_pns_enabled,over18:e.over_18,publicDescription:e.public_description,publicTraffic:e.public_traffic,restrictCommenting:e.restrict_commenting,restrictPosting:e.restrict_posting,showMedia:e.show_media,showMediaPreview:e.show_media_preview,spamComments:e.spam_comments,spamLinks:e.spam_links,spamSelfposts:e.spam_selfposts,spoilersEnabled:e.spoilers_enabled,submitLinkLabel:e.submit_link_label,submitText:e.submit_text,submitTextLabel:e.submit_text_label,subredditId:e.subreddit_id,subredditType:e.subreddit_type,suggestedCommentSort:e.suggested_comment_sort,title:e.title,toxicityThresholdChatLevel:e.toxicity_threshold_chat_level,userFlairPNsEnabled:e.user_flair_pns_enabled,welcomeMessageEnabled:e.welcome_message_enabled,welcomeMessageText:e.welcome_message_text,wikiEditAge:e.wiki_edit_age,wikiEditKarma:e.wiki_edit_karma,wikimode:e.wikimode}),p=(e,t)=>{const n={};for(const s in e)n[t[s]]=e[s];return n},f=e=>({allow_polls:e.allowPolls,allow_galleries:e.allowGalleries,allow_post_crossposts:e.allowPostCrossposts,allow_chat_post_creation:e.allowChatPostCreation,allow_images:e.allowImages,allow_discovery:e.allowDiscovery,allow_top:e.contentVisible,api_type:"json",collapse_deleted_comments:e.collapseDeletedComments,comment_score_hide_mins:e.commentScoreHideMins,crowd_control_mode:e.crowdControlMode,crowd_control_level:e.crowdControlLevel,crowd_control_chat_level:e.crowdControlChatLevel,disable_contributor_requests:e.disableContributorRequests,description:e.description,domain:e.domain,exclude_banned_modqueue:e.excludeBannedModqueue,"header-title":e.headerHoverText,hide_ads:e.hideAds,is_chat_post_feature_enabled:e.isChatPostFeatureEnabled,key_color:e.keyColor,lang:e.language,link_type:e.contentOptions,live_streaming_is_enabled:e.liveStreamingIsEnabled,new_pinned_post_pns_enabled:e.newPinnedPostPNsEnabled,over_18:e.over18,public_description:e.publicDescription,public_traffic:e.publicTraffic,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,show_media:e.showMedia,show_media_preview:e.showMediaPreview,spam_comments:e.spamComments,spam_links:e.spamLinks,spam_selfposts:e.spamSelfposts,spoilers_enabled:e.spoilersEnabled,sr:e.subredditId,submit_link_label:e.submitLinkLabel,submit_text:e.submitText,submit_text_label:e.submitTextLabel,suggested_comment_sort:e.suggestedCommentSort,title:e.title,toxicity_threshold_chat_level:e.toxicityThresholdChatLevel,type:e.subredditType,user_flair_pns_enabled:e.userFlairPNsEnabled,welcome_message_enabled:e.welcomeMessageEnabled,welcome_message_text:e.welcomeMessageText,wiki_edit_age:e.wikiEditAge,wiki_edit_karma:e.wikiEditKarma,wikimode:e.wikimode}),O={allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowChatPostCreation:"allow_chat_post_creation",allowDiscovery:"allow_discovery",allowPolls:"allow_polls",allowGalleries:"allow_galleries",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",crowdControlLevel:"crowd_control_level",crowdControlChatLevel:"crowd_control_chat_level",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",isChatPostFeatureEnabled:"is_chat_post_feature_enabled",keyColor:"key_color",language:"lang",liveStreamingIsEnabled:"live_streaming_is_enabled",contentOptions:"link_type",newPinnedPostPNsEnabled:"new_pinned_post_pns_enabled",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",subredditType:"type",suggestedCommentSort:"suggested_comment_sort",title:"title",toxicityThresholdChatLevel:"toxicity_threshold_chat_level",userFlairPNsEnabled:"user_flair_pns_enabled",welcomeMessageEnabled:"welcome_message_enabled",welcomeMessageText:"welcome_message_text",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"},_=(e,t,n)=>Object(r.a)(Object(i.a)(e,[c.a]),{method:s.eb.POST,endpoint:Object(o.a)("".concat(e.apiUrl,"/api/v1/subreddit/test_welcome_message")),data:{sr:t,test_message_text:n}})},"./src/reddit/endpoints/user/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return O}));var s=n("./src/config.ts"),r=n("./src/graphql/operations/ExperimentVariants.json"),i=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const l=(e,t)=>Object(o.a)(e,{endpoint:Object(u.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/about")),method:i.eb.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}),b=e=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_layout_switch"),method:i.eb.POST}),p=e=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_give_award_tooltip"),method:i.eb.POST}),f=e=>Object(o.a)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_modal"),method:i.eb.POST}),O=(e,t)=>Object(c.a)(e,Object.assign(Object.assign({},r),{variables:t}),{traceRequestName:"get_experiments"})},"./src/reddit/endpoints/user/preferences.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return E}));var s=n("./src/config.ts"),r=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts");n("./node_modules/core-js/modules/web.dom.iterable.js");const c={activityRelevantAds:"activity_relevant_ads",acceptPrivateMessages:"accept_pms",allowClickTracking:"allow_clicktracking",collapseReadMessages:"collapse_read_messages",defaultCommentSort:"default_comment_sort",emailDigests:"email_digests",emailUnreadMessages:"email_messages",emailUnsubscribe:"email_unsubscribe_all",geopopular:"geopopular",hasSeenCustomizeFlyout:"has_seen_customize_flyout",hideAds:"hide_ads",hideFromRobots:"hide_from_robots",hideNSFW:"no_profanity",highlightComments:"highlight_new_comments",ignoreSuggestedSort:"ignore_suggested_sort",inBeta:"beta",labelNSFW:"label_nsfw",markMessagesRead:"mark_messages_read",nightmode:"nightmode",over18:"over_18",sendWelcomeMessages:"send_welcome_messages",showMessagesInInbox:"threaded_messages",showNotifications:"live_orangereds",showUsernameMentionNotifications:"monitor_mentions",privateFeeds:"private_feeds",autoplayVideo:"video_autoplay",reduceAnimationsFromAwards:"reduce_animations_from_awards",rpanDuDismissalTime:"rpan_du_dismissal_time",showActiveCommunities:"top_karma_subreddits",showRpanDu:n("./src/reddit/constants/preferences.ts").c,showTwitter:"show_twitter",stylesEnabled:"styles_enabled",openPostInNewTab:"open_post_in_new_tab",rememberCommunitySort:"remember_community_sort",useMarkdown:"use_markdown",sort:"sort",layout:"layout",rememberCommunityLayout:"remember_community_layout",topContentDismissalTime:"top_content_dismissal_time",topContentTimesDismissed:"top_content_times_dismissed",thirdPartyDataPersonalizedAds:"third_party_data_personalized_ads",thirdPartySiteDataPersonalizedAds:"third_party_site_data_personalized_ads",thirdPartySiteDataPersonalizedContent:"third_party_site_data_personalized_content",showLocationBasedRecommendations:"show_location_based_recommendations",surveyLastSeenTime:"survey_last_seen_time"};var a=e=>{const t={};return Object.keys(e).map(n=>{c.hasOwnProperty(n)&&(t[c[n]]=e[n])}),t},d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const u={rpanDuDismissalTime:"rpan_du_dismissal_time",isContributorRequestTimestamp:"is_contributor_request_timestamp",sort:"sort",stylesEnabled:"styles_enabled",layout:"layout"};var l=e=>{const t={};return Object.keys(e).map(n=>{t[u[n]]=e[n]}),t},b=n("./src/reddit/constants/headers.ts");const p=e=>Object(i.a)(Object(o.a)(e,[b.a]),{method:r.eb.PATCH,endpoint:"".concat(e.apiUrl,"/api/v1/me/prefs"),type:"json",data:{over_18:"true"}}),f=(e,t)=>Object(i.a)(Object(o.a)(t,[b.a]),{method:r.eb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{video_autoplay:e}}),O=(e,t)=>Object(i.a)(Object(o.a)(t,[b.a]),{method:r.eb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{nightmode:e}}),_=(e,t)=>Object(i.a)(Object(o.a)(t,[b.a]),{method:r.eb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{geopopular:e}}),m=(e,t)=>Object(i.a)(Object(o.a)(t,[b.a]),{method:r.eb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:a(e)}),g=(e,t)=>Object(i.a)(Object(o.a)(t,[b.a]),{method:r.eb.POST,endpoint:"".concat(t.apiUrl,"/api/quarantine_optin"),data:{sr_name:e,api_type:"json",accept:!0}}),j=(e,t)=>Object(i.a)(t,{method:r.eb.POST,endpoint:Object(d.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/set_preferences")),type:"json",data:{type:"account",preferences:a(e)}}),E=(e,t,n)=>Object(i.a)(n,{method:r.eb.POST,endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"subreddit",subreddit_id:e,preferences:l(t)}})},"./src/reddit/helpers/adCount/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n("./src/lib/constants/index.ts"),r=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),i=n("./src/reddit/selectors/platform.ts");const o=(e,t,n)=>[e,t,n].join("/"),c=(e,t)=>{switch(t){case r.a.SUBREDDIT:case r.a.COMMENTS_OVERLAY:case r.a.COMMENTS:{const t=Object(i.i)(e);return[o(s.c.ABOVE_THE_FOLD,t,0),o(s.c.BELOW_THE_FOLD,t,1)]}case r.a.FRONTPAGE:return[o(s.c.ABOVE_THE_FOLD,!1,0),o(s.c.BELOW_THE_FOLD,!1,1)];case r.a.MULTIREDDIT:case r.a.SEARCH_RESULTS:return[o(s.c.BELOW_THE_FOLD,!1,0)];default:return[o(s.c.ABOVE_THE_FOLD,!1,0),o(s.c.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/cookies/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n("./node_modules/Base64/base64.js"),r=n("./node_modules/icepick/icepick.js"),i=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(i),c=n("./src/lib/permanentCookieOptions.ts"),a=n("./src/reddit/constants/cookie.ts");function d(e){const t=function(){const e=o.a.get(a.l);if(e)try{return JSON.parse(Object(s.atob)(e))}catch(t){0}}(),n=Object(r.merge)(t||{},e),i=new Date;i.setFullYear(i.getFullYear()+2),o.a.set(a.l,btoa(JSON.stringify(n)),Object(c.a)(2))}},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/lodash/findLastIndex.js"),r=n.n(s),i=n("./src/reddit/models/WhitelistStatus/index.ts"),o=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const d=(e,t)=>{let{subreddits:n,profiles:s}=t;const r=n[e.belongsTo.id]||s[e.belongsTo.id];return!e.isNSFW&&r&&i.a.has(r.wls||i.b.NO_ADS)};t.a=(e,t,n)=>{var{postIds:s,posts:i,subreddits:u,profiles:l}=n,b=a(n,["postIds","posts","subreddits","profiles"]);const p=e.listings.postOrder.ids[t],f=(s||[]).filter(e=>!p||!p.includes(e)),O=p.map(t=>e.posts.models[t]),_=O.length-(r()(O,e=>e.isSponsored)+1),m=f.map(e=>i[e]);let g;const j=[],E={subreddits:u,profiles:l};for(let r=0;r<m.length;r++){const n=m[r];let s=!1;if(n.isSponsored){const e=r>0&&m[r-1],t=r<m.length-1&&m[r+1];e&&d(e,E)&&t&&d(t,E)&&(s=!0)}n.isSponsored&&s&&(null==g&&_+r>=3||r-g>=3)?(g=r,j.push(n.id)):n.isSponsored?n.isSponsored&&Object(c.a)(Object.assign(Object.assign({source:"feed",action:"remove",noun:"ad"},o.defaults(e)),{listing:o.listing(e,t)})):j.push(n.id)}return Object.assign(Object.assign({},b),{subreddits:u,profiles:l,posts:i,postIds:j})}},"./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));const s={INVALID_EMAIL:"You entered an invalid email. Please try again.",RATELIMITED:"You are doing that too much. Please try later.",WRONG_PASSWORD:"You entered an incorrect password. Please try again."},r=(e,t)=>-1!==e.indexOf(t);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong. Please try again.";const n=e&&e.body&&e.body.jquery&&e.body.jquery[14]&&e.body.jquery[14][3]&&e.body.jquery[14][3][0];return"string"!=typeof n?t:r(n,"the following emails are invalid")?s.INVALID_EMAIL:r(n,"wrong password")?s.WRONG_PASSWORD:r(n,"you are doing that too much")?s.RATELIMITED:t}},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./src/lib/constants/index.ts");function r(e){return{type:s.E.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getPostLimitForMobile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./src/reddit/constants/postLayout.ts");function r(e){return e?s.c[e]:s.f}},"./src/reddit/helpers/getVendorMetadata.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/ads/index.ts"),r=n("./src/lib/ads/store.ts"),i=n("./src/reddit/constants/adEvents.ts");const o=(e,t)=>{return Object.keys(e).reduce((n,s)=>(n[s]=t-(e[s].timeEntered||t),n),{})},c=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n){if(e&&t)return 4;if(!t&&e)return 3;if(t&&!e)return 2;if(!t&&!e)return 1}return s},a=(e,t,n)=>{let a=null,d=null;if("undefined"==typeof document||"undefined"==typeof window)return null;const u=Date.now(),{thresholdData:l,videoThresholdData:b,videoAds:p}=r.c(e)||r.a,{videoData:f}=t,O=o(l,u),_=o(b,u),m=l[1].totalTime+O[1],g=l[50].totalTime+O[50],j=l[100].totalTime+O[100],E=Math.max(l[1].maxContinuousTime,O[1]),h=Math.max(l[30].maxContinuousTime,O[30]),I=Math.max(l[50].maxContinuousTime,O[50]),S=Math.max(l[100].maxContinuousTime,O[100]),y=I>s.l,T=document.getElementById(e);if(!T)return null;const D=T.getElementsByTagName("video");let v=null;D&&D[0]&&(v=D[0].getBoundingClientRect());const R=T.getBoundingClientRect(),A=(a=Math.floor(R.width))*(d=Math.floor(R.height)),w=A>242499&&I>=1e3||S>=1e3||n===i.a.GroupMViewable?1:0,C=A>242499&&h>=1e3||S>=1e3?1:0,P=Math.max(b.FULL_IN_VIEW_TIME.maxContinuousTime,_.FULL_IN_VIEW_TIME)>1,x=b.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime+_.HALF_DURATION_80_IN_VIEW_AUDIBLE,k={w:a,h:d,sw:window.screen.width,sh:window.screen.height,t:u,a:m,b:g,c:j,d:E,e:I,f:S,g:w?1:0,i:n===i.a.Impression?u:t.timeImpressionViewed||0,o:y?1:0,q:C?1:0,r:t.eventGlobalCount?t.eventGlobalCount:0};if(f.isVideo){const e=f.videoDuration||0,{videoAudible:r}=t.videoData;k.va=f.isVideo?1:0,k.vh=v?Math.floor(v.height):0,k.vw=v?Math.floor(v.width):0,k.ve=f.videoVolume||0,k.vc=Math.floor(e),k.vd=Math.floor(f.cumulativeViewedTime)||0,k.vq=f.wasFullScreen||0,k.vg=b[1].timeEntered?1:0,k.vb=b.TOTAL_MRC_VIEWABLE_TIME.totalTime+_.TOTAL_MRC_VIEWABLE_TIME,k.vs=c(r,b[1].timeEntered,n===i.a.VideoStarted,f.videoStarted),k.vt=c(r,b[1].timeEntered,n===i.a.VideoWatched25,f.watched25),k.vu=c(r,b[1].timeEntered,n===i.a.VideoWatched50,f.watched50),k.vv=c(r,b[1].timeEntered,n===i.a.VideoWatched75,f.watched75),k.vx=c(r,b[1].timeEntered,n===i.a.VideoWatched100,f.watched100);const o=e>0?x>=Math.min(s.f,e/2):x>=s.f;k.vr=o?1:0,k.vy=b.FULL_IN_VIEW_AUDIBLE_TIME.totalTime+_.FULL_IN_VIEW_AUDIBLE_TIME,k.vi=b.AUDIBLE_TIME.totalTime+_.AUDIBLE_TIME,k.vz=b.FULL_IN_VIEW_TIME.totalTime+_.FULL_IN_VIEW_TIME,k.xa=P?1:0,k.xb=Math.max(b.TOTAL_MRC_VIEWABLE_TIME.maxContinuousTime,_.TOTAL_MRC_VIEWABLE_TIME),k.xc=p.seeked.value?1:0}return k}},"./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts":function(e,t,n){"use strict";var s=n("./src/reddit/models/Flair/index.ts");function r(e){switch(e){case s.g.LEFT:return s.b.Left;case s.g.RIGHT:return s.b.Right;default:return null}}function i(e){let{isEnabled:t=!1,position:n}=e;return{isEnabled:t,position:r(n)}}t.a=e=>{let{postFlairSettings:t}=e;return Object.assign({},t&&{displaySettings:t&&i(t)})}},"./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var s=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),r=n("./src/reddit/models/Subreddit/index.ts"),i=n("./src/reddit/models/User/index.ts"),o=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>{let{pageInfo:t,edges:n}=e;const r={moderatedSubredditIds:[],pageInfo:t,subreddits:{}};for(const{node:i}of n){const e=Object(s.a)(i);r.subreddits[e.id]=e,r.moderatedSubredditIds.push(e.id)}return r};t.a=e=>{let{name:t,path:n,redditorInfo:s,styles:c,wls:a,id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p}=e;const{height:f,icon:O,width:_}=c&&c.legacyIcon&&{height:c.legacyIcon.dimensions.height,icon:c.legacyIcon.url,width:c.legacyIcon.dimensions.width}||{height:null,icon:c&&c.icon||"",width:null},m=c&&c.legacyPrimaryColor,g=s&&s.__typename===i.c.AvailableRedditor&&s.prefixedName||"";return Object.assign(Object.assign(Object.assign({url:n,displayText:g,icon:{url:O,width:_,height:f},communityIcon:O,type:r.e.User,name:t.substr(2)},m&&{primaryColor:m}),a&&{whitelistStatus:a.toLowerCase(),wls:o.b[a]}),{id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p})}},"./src/reddit/helpers/graphql/normalizeSubredditModPermissions/index.ts":function(e,t,n){"use strict";t.a=e=>{let{isAccessEnabled:t,isAllAllowed:n,isChatConfigEditingAllowed:s,isChatOperator:r,isConfigEditingAllowed:i,isFlairEditingAllowed:o,isMailEditingAllowed:c,isPostEditingAllowed:a,isWikiEditingAllowed:d}=e;return{access:!!t,all:!!n,chatConfig:!!s,chatOperator:!!r,config:!!i,flair:!!o,mail:!!c,posts:!!a,wiki:!!d}}},"./src/reddit/helpers/graphql/normalizeSubredditPageFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));var s=n("./src/lib/assertNever.ts"),r=n("./src/lib/env/index.ts"),i=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/models/RichTextJson/index.ts"),a=n("./src/reddit/models/Subreddit/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),u=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),b=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),p=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),f=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),O=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),_=n("./src/reddit/helpers/graphql/normalizeSubredditModPermissions/index.ts"),m=n("./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts"),g=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),j=n("./src/reddit/helpers/graphql/helpers.ts");const E=(e,t,n)=>{const c={account:null,authorFlair:{},postIds:[],postInstances:{},posts:{},postFlair:{},preferences:null,profiles:{},recentPostIds:[],structuredStyles:{},subredditAboutInfo:{},subredditPermissions:{},subreddits:{},token:"",trendingSubredditIds:[]},a=e=>{if(Object(o.i)(e)||Object(o.h)(e))return null;if(c.posts[e.id])return e.id;const t=Object(l.e)(e);c.posts[t.id]=t;const{crosspostRoot:n}=e;n&&n.type===o.a.Post&&n.postInfo&&a(n.postInfo);let b=t.id;if(e.authorFlair&&(c.authorFlair[t.belongsTo.id]||(c.authorFlair[t.belongsTo.id]={}),c.authorFlair[t.belongsTo.id][t.author]=Object(d.a)(e.authorFlair)[0]),Object(o.k)(e))c.profiles[e.profile.id]||(c.profiles[e.profile.id]=Object(p.a)(e.profile));else if(Object(o.l)(e))c.subreddits[e.subreddit.id]||(c.subreddits[e.subreddit.id]=Object(O.a)(e.subreddit)),c.postFlair[e.subreddit.id]||(c.postFlair[e.subreddit.id]=Object(u.a)(e.subreddit));else if(Object(o.g)(e)){const n=Object(l.b)(e);if(!n)return null;b=n,c.posts[n]=Object.assign(Object.assign({},t),{id:n,permalink:"".concat(t.permalink,"?instanceId=").concat(encodeURIComponent(n))}),c.posts[t.id]||(c.posts[t.id]=Object.assign(Object.assign({},t),{events:[]})),c.postInstances[e.id]||(c.postInstances[e.id]=[]),c.postInstances[e.id].push(n)}else try{Object(s.a)(e)}catch(f){const t='Received unhandled element type when processing subreddit posts: "'.concat(e.__typename,'"');Object(r.b)()||console.warn(t),i.c.captureMessage(t)}return b&&c.postIds.push(b),b};if(e.forEach(e=>a(e)),t){c.trendingSubredditIds=t.map(e=>e.id);for(const e of t)c.subreddits[e.id]=Object(O.a)(e)}const f=c.postIds.length-1;return c.token=f>=0?c.postIds[f]:"",n&&(c.account=Object(g.a)(n),c.preferences=n.preferences&&Object(b.a)(n.preferences,n.interactions)||null),c};t.a=e=>{let{adhocMultiredditByNames:t,all:n,identity:s,popular:d,recentPosts:u,subredditInfoByName:l,trendingSubreddits:b}=e;if(!l)return{reason:a.d.NotFoundSubreddit,data:{account:s&&Object(g.a)(s)||null}};if(Object(a.h)(l)){const{banMessage:e,publicDescriptionText:t,quarantineMessage:n,isEmailRequiredForQuarantineOptin:r}=l;return{reason:h(l.forbiddenReason),data:Object.assign({account:s&&Object(g.a)(s)||null,banMessage:e||void 0,description:t,quarantineRequiresEmailOptin:r},n?{quarantineMessage:n.markdown,quarantineMessageRTJson:Object(j.e)(n.richtext,c.i)}:{})}}const p=l||d||n||t,[O,I]=p.elements.edges.reduce((e,t)=>{const[n,s]=e,r=t.node;return Object(o.j)(r)?n.push(r):s.push(r),[n,s]},[[],[]]);if(I.length){const e="Received unhandled ".concat(I.length,' elements when processing subreddit data: "').concat(I[0].__typename,'"');Object(r.b)()||console.warn(e),i.c.captureMessage(e)}u&&O.push(...u);const S=p.elements.dist,y=E(O,b,s);return l&&l.styles&&(y.structuredStyles={data:{style:Object(m.a)(l.styles)}}),l&&(y.subredditAboutInfo=Object(f.a)(l),l.modPermissions&&(y.subredditPermissions=Object(_.a)(l.modPermissions))),Object.assign(Object.assign({},y),null!==S&&{dist:S})};const h=e=>{switch(e){case a.b.Banned:return a.d.BannedSubreddit;case a.b.GoldOnly:return a.d.GoldSubreddit;case a.b.Private:return a.d.PrivateSubreddit;case a.b.Quarantined:return a.d.QuarantinedSubreddit;case a.b.Unknown:return a.d.ForbiddenSubreddit}}},"./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");t.a=e=>{const t={menuPosition:e.menuPosition?e.menuPosition.toLowerCase():void 0,bannerCommunityNameFormat:e.bannerCommunityNameFormat?e.bannerCommunityNameFormat.toLowerCase():void 0,bannerShowCommunityIcon:e.bannerShowCommunityIcon?e.bannerShowCommunityIcon.toLowerCase():void 0,bannerHeight:e.bannerHeight?e.bannerHeight.toLowerCase():void 0,postVoteIcons:e.postVoteIcons?e.postVoteIcons.toLowerCase():void 0,submenuBackgroundStyle:e.submenuBackgroundStyle?e.submenuBackgroundStyle.toLowerCase():void 0,backgroundImagePosition:e.backgroundImagePosition?e.backgroundImagePosition.toLowerCase():void 0,bannerBackgroundImagePosition:e.bannerBackgroundImagePosition?e.bannerBackgroundImagePosition.toLowerCase():void 0,bannerPositionedImagePosition:e.bannerPositionedImagePosition?e.bannerPositionedImagePosition.toLowerCase():void 0,postBackgroundImagePosition:e.postBackgroundImagePosition?e.postBackgroundImagePosition.toLowerCase():void 0,postPlaceholderImagePosition:e.postPlaceholderImagePosition?e.postPlaceholderImagePosition.toLowerCase():void 0,menuBackgroundOpacity:e.menuBackgroundOpacity||void 0,backgroundImage:e.backgroundImage||void 0,bannerBackgroundImage:e.bannerBackgroundImage||void 0,bannerPositionedImage:e.bannerPositionedImage||void 0,communityIcon:e.icon||void 0,menuBackgroundImage:e.menuBackgroundImage||void 0,postBackgroundImage:e.postBackgroundImage||void 0,postDownvoteIconActive:e.postDownvoteIconActive||void 0,postDownvoteIconInactive:e.postDownvoteIconInactive||void 0,postPlaceholderImage:e.postPlaceholderImage||void 0,postUpvoteIconActive:e.postUpvoteIconActive||void 0,postUpvoteIconInactive:e.postUpvoteIconInactive||void 0,bannerBackgroundColor:e.bannerBackgroundColor||void 0,bannerOverlayColor:e.bannerOverlayColor||void 0,menuBackgroundColor:e.menuBackgroundColor||void 0,menuLinkColorActive:e.menuLinkColorActive||void 0,menuLinkColorInactive:e.menuLinkColorInactive||void 0,menuLinkColorHover:e.menuLinkColorHover||void 0,submenuBackgroundColor:e.submenuBackgroundColor||void 0,primaryColor:e.primaryColor||void 0,highlightColor:e.highlightColor||void 0,postTitleColor:e.postTitleColor||void 0,backgroundColor:e.backgroundColor||void 0,postBackgroundColor:e.postBackgroundColor||void 0,postDownvoteCountColor:e.postDownvoteCountColor||void 0,postUpvoteCountColor:e.postUpvoteCountColor||void 0,mobileKeyColor:e.mobileKeyColor||void 0,mobileBannerImage:e.mobileBannerImage||void 0,sidebarWidgetHeaderColor:e.sidebarWidgetHeaderColor||void 0,sidebarWidgetBackgroundColor:e.sidebarWidgetBackgroundColor||void 0,secondaryBannerPositionedImage:e.secondaryBannerPositionedImage||void 0};return Object.keys(t).forEach(e=>{void 0===t[e]&&delete t[e]}),t}},"./src/reddit/helpers/history/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n("./node_modules/lodash/omit.js"),r=n.n(s);const i=(e,t)=>{const n=history.state?history.state.state:{},s=Object.assign(Object.assign({},history.state),{state:Object.assign(Object.assign({},n),{[e]:t})});history.replaceState(s,window.document.title)},o=e=>{const t=Object.assign(Object.assign({},history.state),{state:Object.assign({},r()(history.state.state,e))});history.replaceState(t,window.document.title)},c=e=>history&&history.state&&history.state.state&&history.state.state[e]},"./src/reddit/helpers/makeModQueueListingKey/index.ts":function(e,t,n){"use strict";t.a=e=>{const{profile:t,subreddit:n}=e;let s=n&&"r/".concat(n)||t&&"u/".concat(t)||"all";return"comments"!==e.onlyOfType&&"links"!==e.onlyOfType||(s+="--[".concat(e.onlyOfType,"]")),s}},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=e=>{const t=/^((\/u\/)|(u\/))/;return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(t,""):e}},"./src/reddit/helpers/overlay/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var s=n("./node_modules/history/esm/history.js"),r=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/reddit/helpers/path/index.ts");const o=e=>{if("string"==typeof e)return Object(s.c)(Object(i.b)(e),{isOverlay:!0});{const t=Object(s.c)(e);return t.state=Object.assign(Object.assign({},t.state||{}),{isOverlay:!0}),t}},c=e=>Object(r.b)(o(e))},"./src/reddit/helpers/pixels.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return f}));var s=n("./src/lib/LRUCache/index.ts"),r=n("./node_modules/query-string/index.js"),i=n.n(r),o=n("./src/lib/sentry/index.ts"),c=n("./src/reddit/constants/adEvents.ts"),a=n("./src/reddit/models/Media/index.ts");const d=new s.a(1e3),u=[c.a.Click,c.a.GalleryItemImpression],l=e=>{e.forEach(e=>d.set(e.url,!0))},b=e=>/^(http|https):\/\/([a-z]+\.)?reddit.com/.test(e),p=(e,t)=>{let{url:n,type:s}=e;if(!n)return o.c.captureMessage("Pixel of type ".concat(s," has no url")),!1;if(!d.get(n)){let e="";if(t&&b(n)){const{url:s,query:r}=i.a.parseUrl(n);e=i.a.stringifyUrl({url:s,query:Object.assign(Object.assign({},r),t)})}const s=new Image;return d.set(n,!0),e&&(n=e),s.src=n,!0}return!1},f=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=e.events;let i=[];const o=e.media;if(o&&Object(a.G)(o)&&o.gallery&&u.includes(t)){const e=o.gallery.items[s];i=(null==e?void 0:e.adEvents)||[]}const c=[...r,...i];return c.filter(e=>e.type===t).every(e=>p(e,n))}},"./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var s=n("./src/reddit/models/Gold/Award.ts");t.a=e=>e.map(e=>({awardType:e.award_type,awardSubType:e.award_sub_type?e.award_sub_type:s.b.Global,coinPrice:e.coin_price,coinReward:e.coin_reward,count:e.count,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,iconUrl:e.icon_url,resizedIcons:e.resized_icons,resizedStaticIcons:e.resized_static_icons,id:e.id,isEnabled:e.is_enabled,isNew:!!e.is_new,name:e.name,staticIconUrl:e.static_icon_url,subredditCoinReward:e.subreddit_coin_reward,tags:e.tags,tiers:Object(s.n)(e.tiersByRequiredAwardings)}));const r=e=>{const{icon_url:t,resized_icons:n,resized_static_icons:r,static_icon_url:i}=e;let o,c,a,d,u,l;for(const{url:s,width:b}of n||[])32===b&&(o={url:s}),64===b&&(c={url:s}),128===b&&(a={url:s});for(const{url:s,width:b}of r||[])32===b&&(d={url:s}),64===b&&(u={url:s}),128===b&&(l={url:s});return{awardType:e.award_type.toUpperCase(),awardSubType:e.award_sub_type?e.award_sub_type.toUpperCase():s.d.Global,coinPrice:e.coin_price,coinReward:e.coin_reward,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,id:e.id,isEnabled:e.is_enabled,isNew:!!e.is_new,name:e.name,icon:{url:t},icon32:o,icon64:c,icon128:a,staticIcon:{url:i},staticIcon32:d,staticIcon64:u,staticIcon128:l,subredditCoinReward:e.subreddit_coin_reward,tags:e.tags,tiers:Object(s.n)(e.tiersByRequiredAwardings)}},i=e=>{const{top_award:t,total_count:n}=e;return{topAward:t&&r(t),totalCount:n}}},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var s=n("./src/lib/constants/index.ts"),r=n("./src/reddit/helpers/isComment.ts"),i=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),o=n("./src/reddit/models/Vote/index.ts"),c=e=>!0===e?o.a.upvoted:!1===e?o.a.downvoted:o.a.notVoted,a=n("./src/reddit/models/Comment/index.ts");t.a=(e,t)=>{const n={approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,collapsedBecauseCrowdControl:e.collapsed_because_crowd_control,commentType:e.comment_type,created:e.created_utc,deletedBy:u(e),distinguishType:e.distinguished||"",editedAt:null,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isAuthorPremium:!!e.author_premium,isApproved:e.approved,isDeleted:e.author===s.A,isGildable:e.can_gild,isLocked:e.locked,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,isSystem:!1,subredditId:e.subreddit_id,markdown:e.body,media:{mediaMetadata:e.media_metadata,type:"rtjson",richtextContent:d(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(r.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,treatmentTags:e.treatment_tags,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:c(e.likes)};return e.all_awardings&&(n.allAwardings=Object(i.a)(e.all_awardings)),e.awarders&&(n.awarders=e.awarders),e.associated_award&&(n.associatedAwardId=e.associated_award.id,n.associatedAward=Object(i.b)(e.associated_award)),n};const d=e=>"string"==typeof e?JSON.parse(e):e,u=e=>e.author!==s.A?null:e.body===s.B?a.b.User:e.body===s.Eb?a.b.Moderator:null},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,n){"use strict";var s=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),r=n("./src/reddit/models/Flair/index.ts"),i=n("./src/reddit/models/Media/index.ts"),o=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/Vote/index.ts");const a=e=>{const t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:r.f.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:r.f.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:r.f.Spoiler}),e.over_18&&t.push({text:"nsfw",type:r.f.Nsfw}),t},d=e=>e?e.map(e=>({categoryId:e.category_id,categoryName:e.category_name})):[],u=e=>{const t=e.preview&&e.preview.enabled;let n=!1,s=null,r={},c={};const a=e.over_18||e.spoiler;if(e.preview&&(n=!!(c=e.preview.images[0].variants).mp4,r=e.preview.images[0].source,a&&(s=c.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:i.o.TEXT,markdownContent:e.selftext,obfuscated:s,rteMode:e.rte_mode||o.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:i.o.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){const t=e.media.reddit_video;return{hlsUrl:t.hls_url,dashUrl:t.dash_url,isGif:t.is_gif,scrubberThumbSource:t.scrubber_media_url,obfuscated:s,posterUrl:t.url,width:t.width,height:t.height,type:i.o.VIDEO}}if(e.media&&e.media.rpan_video){const t=e.media.rpan_video;return{hlsUrl:t.hls_url,scrubberThumbSource:t.scrubber_media_url,type:i.o.LIVEVIDEO}}if(e.secure_media&&e.secure_media.oembed){return{content:e.secure_media_embed.media_domain_url,type:i.o.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:s,provider:e.secure_media.oembed.provider_name}}if(t&&n)return{content:c.mp4.source.url,type:i.o.GIFVIDEO,width:c.mp4.source.width,height:c.mp4.source.height,gifBackgroundImage:r.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:s,resolutions:c.mp4.resolutions};if(t){const t=c.gif?c.gif.resolutions:e.preview.images[0].resolutions;return{content:r.url,type:i.o.IMAGE,width:r.width,height:r.height,obfuscated:s,resolutions:t}}return null},l=e=>{const t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){const n=e.outbound_link;t.outboundUrl=n.url,t.outboundUrlExpiration=n.expiration,t.outboundUrlCreated=n.created}return t}return null};t.a=e=>{return{allAwardings:e.all_awardings?Object(s.a)(e.all_awardings):[],awarders:e.awarders,author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,contestMode:e.contest_mode,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,discussionType:e.discussion_type||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:a(e),hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isAuthorPremium:e.author_premium,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isEligibleForQASchema:!1,isFollowed:e.is_followed||!1,isGildable:e.can_gild,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,liveCommentsWebsocket:e.liveCommentsWebsocket||e.websocket_url,media:u(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numDuplicates:e.num_duplicates,numReports:e.num_reports||0,permalink:"https://web.archive.org/web/20210101014622/https://www.reddit.com".concat(e.permalink),postCategories:d(e.post_categories),preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,removedBy:e.removed_by,removedByCategory:e.removed_by_category,saved:e.saved,score:e.score,topAwardedType:e.top_awarded_type&&e.top_awarded_type.toUpperCase(),treatmentTags:e.treatment_tags,isScoreHidden:!!e.hide_score,sendReplies:e.send_replies,source:l(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(c.d)(e.likes)}}},"./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts":function(e,t,n){"use strict";t.a=e=>({allowContractors:e.allow_contractors,communityIcon:e.community_icon,displayText:e.display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.community_icon||e.icon_img||"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18||e.over18,isQuarantined:!!e.quarantine,name:e.display_name,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})},"./src/reddit/helpers/redesignOptoutCookie/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var s=n("./src/config.ts"),r=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(r);const o="redesign_optout";function c(){const e=new Date;return e.setFullYear(e.getFullYear()+3),e}function a(){i.a.get(o)||i.a.set(o,"true",{domain:s.a.cookieDomain,expires:c()})}function d(){i.a.get(o)&&i.a.remove(o,{domain:s.a.cookieDomain})}},"./src/reddit/helpers/reportPage/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return _}));n("./node_modules/core-js/modules/es6.regexp.constructor.js");var s=n("./src/reddit/models/RulesSequence/index.ts");const r="(?:old\\.reddit\\.".concat("(?:com|local)","|new\\.reddit\\.").concat("(?:com|local)","|reddit\\.").concat("(?:com|local)","|www\\.reddit\\.").concat("(?:com|local)",")"),i="(?:".concat("(?:r)","|").concat("(?:user|u)",")"),o="(?:https?://)",c="^".concat(o).concat(r,"/").concat(i,"/").concat("(?:[^/]+)","/comments/").concat("(?:\\w+)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/.*)?"),a="^".concat(o).concat(r,"/").concat(i,"/").concat("(?:[^/]+)","/comments/").concat("(\\w+)","(?:/.*)?"),d="^".concat(o).concat(r,"/message/messages/").concat("(\\w+)","(?:/.*)?"),u="^".concat(o,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/)?$"),l="^".concat(o,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","/").concat("(\\w+)","(?:/)?$"),b="(?:".concat(a,"|").concat(c,"|").concat(d,"|").concat(u,"|").concat(l,")"),p="(?:(?:".concat(o,"?").concat(r,"/)?").concat("(?:user|u)","/)?").concat("([\\w-]+)","(?:/)?"),f="(?:(?:".concat(o,"?").concat(r,"/)?").concat("(?:r)","/)?").concat("([\\w-]+)","(?:/)?"),O=e=>{const t=new RegExp(c),n=new RegExp(a),s=new RegExp(d),r=new RegExp(u),i=new RegExp(l);let o,b,O;if(e.thingUrl){const c=e.thingUrl.trim();if(t.test(c)){const e=t.exec(c);e&&e.length>1&&(o="t1_"+e[1])}else if(n.test(c)){const e=n.exec(c);e&&e.length>1&&(o="t3_"+e[1])}else if(s.test(c)){const e=s.exec(c);e&&e.length>1&&(o="t4_"+e[1])}else if(i.test(c)){const e=i.exec(c);e&&e.length>2&&(b=e[1],O=e[2])}else if(r.test(c)){const e=r.exec(c);e&&e.length>1&&(b=e[1])}}const _=new RegExp(p),m=new RegExp(f),g=[];let j;if(e.subredditName){const t=e.subredditName.trim();if(m.test(t)){const e=m.exec(t);e&&e.length>1&&(j=e[1])}}if(e.usernames&&e.usernames.length)for(let c=0;c<e.usernames.length;c++){const t=e.usernames[c].trim();if(_.test(t)){const e=_.exec(t);e&&e.length>1&&g.push(e[1])}}const{reason:E}=e;return{reason:"site_reason_selected",site_reason:E.reasonText,additional_info:e.additionalInfo?e.additionalInfo.join(","):void 0,custom_text:e.customText,modmail_conv_id:b,modmail_msg_id:O,sr_name:j,thing_id:o,usernames:g.length?g.join(","):void 0}},_=(e,t)=>{const n=new s.a;return m(n,e,t,0),n},m=(e,t,n,s)=>{for(let r=0;r<t.length;r++){const i=t[r];e.update(r,s);const o=e.getSequence().length;if(i.reasonAsParam===n)return;if(i.nextStepReasons&&i.nextStepReasons.length&&(m(e,i.nextStepReasons,n,s+1),e.getSequence().length>o))return;e.cut(s-1)}}},"./src/reddit/helpers/tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.array.sort.js");var s=n("./node_modules/lodash/values.js"),r=n.n(s);const i=e=>r()(e).sort((t,n)=>{const s=e[t.tag.id].tag.text.toLowerCase(),r=e[n.tag.id].tag.text.toLowerCase();return s<r?-1:s>r?1:0}),o=e=>!e.id&&!!e.action},"./src/reddit/helpers/trackers/authorHovercard.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b}));var s=n("./src/reddit/helpers/isComment.ts"),r=n("./src/reddit/selectors/telemetry.ts");const i=(e,t)=>({comment:t&&Object(s.a)(t)?r.comment(e,t):null,post:t?r.post(e,t):null,profile:r.profile(e),screen:r.screen(e)}),o=(e,t)=>n=>Object.assign({source:"user_hovercard",action:"click",noun:e},i(n,t)),c=e=>t=>Object.assign({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},i(t,e)),a=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"mute_dialog_in_context"},i(t,e)),d=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"ban_dialog_in_context"},i(t,e)),u=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"unban_user_in_context"},i(t,e)),l=e=>t=>Object.assign({source:"user_hovercard",action:"click",noun:"change_user_flair_in_context",userSubreddit:r.userSubreddit(t)},i(t,e)),b=e=>t=>Object.assign({source:r.profile(t)?"user_profile":"user_hovercard",action:"click",noun:"create_chat"},e&&i(t,e))},"./src/reddit/helpers/trackers/blade.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return _})),n.d(t,"k",(function(){return m}));var s=n("./src/reddit/constants/blade.ts"),r=n("./src/reddit/selectors/telemetry.ts");const i=(e,t)=>n=>Object.assign(Object.assign({},r.defaults(n)),{source:s.d.Appearance,action:"click",noun:e,actionInfo:r.actionInfo(n,{paneName:t}),subreddit:r.subreddit(n)}),o=e=>i("save_style",e),c=e=>i("cancel_style",e),a=e=>t=>({source:s.d.Structure,action:"click",noun:e,screen:r.screen(t),subreddit:r.subreddit(t)}),d=e=>t=>({source:s.d.Appearance,action:"click",noun:e,screen:r.screen(t),subreddit:r.subreddit(t)}),u=(e,t)=>n=>({source:"colorpicker",action:"click",noun:e,actionInfo:r.actionInfo(n,{paneName:s.g[t]}),screen:r.screen(n),subreddit:r.subreddit(n)}),l=e=>t=>({source:s.h[e],action:"click",noun:"colorpicker",actionInfo:r.actionInfo(t,{paneName:s.g[e]}),screen:r.screen(t),subreddit:r.subreddit(t)}),b=e=>({screen:r.screen(e),subreddit:r.subreddit(e)}),p=()=>e=>Object.assign({source:s.d.Appearance,action:"view",noun:"blade"},b(e)),f=e=>t=>Object.assign({source:s.a[e],action:"click",noun:s.b[e]},b(t)),O=()=>e=>Object.assign({source:s.d.Appearance,action:"click",noun:"back"},b(e)),_=(e,t)=>Object.assign(Object.assign({},r.defaults(e)),(e=>t=>Object.assign({source:s.d.PostFlairManagement,action:"click",noun:e},b(t)))(t)(e)),m=e=>t=>({source:s.d.MenuLinks,action:"click",noun:e?"wiki_link_on":"wiki_link_off",screen:r.screen(t),subreddit:r.subreddit(t),userSubreddit:r.userSubreddit(t)})},"./src/reddit/helpers/trackers/communityTopics.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g}));var s,r=n("./src/reddit/selectors/tags.ts"),i=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/telemetry/index.ts");!function(e){e.communitySettings="community_settings",e.idCard="id_card"}(s||(s={}));const c=(e,t,n)=>{const s=Object(r.A)(e,{subredditId:t});return!!s&&s.id===n},a=(e,t)=>Object(r.x)(e,{itemId:t}).reduce((e,t)=>{let{topicTagIds:n,topicTagContents:s,topicTagTypes:r}=e;return n.push(t.tag.id),s.push(t.tag.text),r.push(t.tag.type),{topicTagIds:n,topicTagContents:s,topicTagTypes:r}},{topicTagIds:[],topicTagContents:[],topicTagTypes:[]}),d=(e,t,n)=>{if(!n.id)return{content:n.displayText};const s=Object(r.b)(e)[n.id]||Object(r.d)(e,{subredditId:t})[n.id];return s?{id:s.id,content:s.text,type:s.type,isPrimary:c(e,t,s.id)}:null},u=(e,t,n)=>{if(!n)return null;const s=Object(r.b)(e)[n]||Object(r.d)(e,{subredditId:t})[n];return s?{id:s.id,content:s.text,type:s.type,isPrimary:c(e,t,s.id)}:null},l=(e,t,n)=>Object.assign(Object.assign({},i.defaults(e)),{subreddit:Object.assign(Object.assign(Object.assign({},i.subreddit(e)||{}),{id:t}),a(e,t)),source:n.context,action:"click"}),b=(e,t,n)=>{Object(o.a)(((e,t,n)=>Object.assign(Object.assign({},l(e,t.subredditId,n)),{noun:t.isRelevant?"restore_related_topic":"remove_related_topic",topicTag:u(e,t.subredditId,t.tagId)}))(e,t,n))},p=(e,t,n,s)=>{Object(o.a)(Object.assign(Object.assign({},l(e,t,s)),{topicTag:d(e,t,n),noun:"add_related_topic"}))},f=(e,t,n,s)=>{return!Object(r.l)(e,{subredditId:t})&&n.id?Object(o.a)(((e,t,n,s)=>Object.assign(Object.assign({},l(e,t,s)),{topicTag:d(e,t,n),noun:"topic_auto_suggest"}))(e,t,n,s)):n.id?Object(o.a)(((e,t,n,s)=>Object.assign(Object.assign({},l(e,t,s)),{topicTag:d(e,t,n),noun:"topic_auto_complete"}))(e,t,n,s)):Object(o.a)(((e,t,n,s)=>Object.assign(Object.assign({},l(e,t,s)),{topicTag:d(e,t,n),noun:"topic_add_new"}))(e,t,n,s))},O=(e,t,n,s)=>Object(o.a)(Object.assign(Object.assign({},l(e,t,s)),{topicTag:d(e,t,n),noun:"topic_remove"})),_=(e,t,n)=>Object(o.a)(Object.assign(Object.assign({},l(e,t,n)),{noun:"topic_tag_field"})),m=(e,t,n)=>Object(o.a)(Object.assign(Object.assign({},l(e,t,n)),{noun:n.context===s.communitySettings?"save":"save_community_topics"})),g=(e,t,n,s)=>{const r=l(e,t,s);Object(o.a)(Object.assign(Object.assign({},r),{action:"view",noun:"error",actionInfo:Object.assign(Object.assign({},r.actionInfo),{reason:n})}))}},"./src/reddit/helpers/trackers/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var s=n("./src/reddit/constants/tracking.ts"),r=n("./src/reddit/selectors/telemetry.ts");const i=e=>t=>({source:e,action:s.c.VIEW,actionInfo:r.actionInfo(t,{settingValue:"footer_2"}),noun:"email_collection"}),o=e=>t=>({source:e,action:s.c.CLICK,actionInfo:r.actionInfo(t,{settingValue:"footer_2"}),noun:"add_email_collection"}),c=e=>t=>({source:e,action:"close",actionInfo:r.actionInfo(t,{settingValue:"footer_2"}),noun:"email_collection"}),a=e=>Object.assign(Object.assign({},r.defaults(e)),{source:"popup",action:s.c.CLICK,actionInfo:r.actionInfo(e,{settingValue:"footer_2"}),noun:"save_email_collection"}),d=e=>t=>Object.assign(Object.assign({},r.defaults(t)),{source:"popup",action:s.c.CLICK,actionInfo:r.actionInfo(t,{reason:e?"1":"0",settingValue:"footer_2"}),noun:"email_digest_check"}),u=e=>Object.assign(Object.assign({},r.defaults(e)),{source:"popup",action:s.c.CLICK,actionInfo:r.actionInfo(e,{settingValue:"footer_2"}),noun:"email_settings_link"})},"./src/reddit/helpers/trackers/emailVerification.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var s=n("./src/reddit/selectors/telemetry.ts");const r="tooltip",i=e=>t=>Object.assign(Object.assign({},Object(s.defaults)(t)),{action:"view",noun:"verification",source:e}),o=e=>t=>Object.assign(Object.assign({},Object(s.defaults)(t)),{action:"close",noun:"verification",source:e}),c=(e,t)=>n=>Object.assign(Object.assign({},Object(s.defaults)(n)),{action:"click",noun:"verification_".concat(t),source:e}),a=e=>t=>Object.assign(Object.assign({},Object(s.defaults)(t)),{action:"send",noun:"verification_email_".concat(e),source:"email"}),d=e=>t=>Object.assign(Object.assign({},Object(s.defaults)(t)),{action:"click",noun:"verification_email_".concat(e),source:"email"}),u=()=>e=>Object.assign(Object.assign({},Object(s.defaults)(e)),{action:"confirm",noun:"verification_email",source:"email"})},"./src/reddit/helpers/trackers/gild.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getAwardTypeFromAward",(function(){return d})),n.d(t,"clickGildEvent",(function(){return b})),n.d(t,"clickRpanGiveAward",(function(){return p})),n.d(t,"clickAddAward",(function(){return f})),n.d(t,"clickHideAward",(function(){return O})),n.d(t,"clickConfirmHideAward",(function(){return _})),n.d(t,"clickCancelHideAward",(function(){return m})),n.d(t,"clickAwardReportFlow",(function(){return j})),n.d(t,"clickCancelAwardReportFlow",(function(){return E})),n.d(t,"clickFlagAwardUsage",(function(){return h})),n.d(t,"clickCancelFlagAwardUsage",(function(){return I})),n.d(t,"clickConfirmFlagAwardUsage",(function(){return S})),n.d(t,"clickReportAward",(function(){return y})),n.d(t,"clickCancelReportAward",(function(){return T})),n.d(t,"clickConfirmReportAward",(function(){return D})),n.d(t,"viewGildModalEvent",(function(){return v})),n.d(t,"clickSelectAwardEvent",(function(){return R})),n.d(t,"viewGiveAwardTooltipEvent",(function(){return A})),n.d(t,"triggerAnonymousEvent",(function(){return w})),n.d(t,"clickMessageInputEvent",(function(){return C})),n.d(t,"typeMessageInputEvent",(function(){return P})),n.d(t,"clickLearnMoreLinkEvent",(function(){return x})),n.d(t,"clickQuestionMarkEvent",(function(){return k})),n.d(t,"clickConfirmAwardEvent",(function(){return N})),n.d(t,"clickGetPremiumEvent",(function(){return U})),n.d(t,"clickAddCoinsButtonEvent",(function(){return L})),n.d(t,"clickNextButtonEvent",(function(){return M})),n.d(t,"clickCloseGildModalEvent",(function(){return G})),n.d(t,"viewSuccessAwardEvent",(function(){return F})),n.d(t,"viewKarmaSuccessEvent",(function(){return B})),n.d(t,"clickFilterEvent",(function(){return V})),n.d(t,"clickNextFiltersEvent",(function(){return q})),n.d(t,"clickPreviousFiltersEvent",(function(){return W}));var s=n("./src/reddit/models/Gold/Award.ts"),r=n("./src/reddit/selectors/telemetry.ts"),i=n("./src/telemetry/models/GoldPurchase.ts"),o=n("./src/reddit/helpers/correlationIdTracker.ts"),c=n("./src/reddit/helpers/isComment.ts"),a=n("./src/reddit/selectors/gild.ts");const d=e=>e.awardType===s.f.Global&&e.awardSubType===s.d.Appreciation?i.GoldPurchaseType.GidAppreciation:e.awardType===s.f.Global&&e.awardSubType===s.d.Premium?i.GoldPurchaseType.GidPremium:e.awardSubType===s.d.Group?i.GoldPurchaseType.GidGroup:e.awardType===s.f.Community?i.GoldPurchaseType.GidCommunity:e.awardType===s.f.Moderator?i.GoldPurchaseType.GidMod:e.awardType===s.f.Global&&e.awardSubType===s.d.Global?i.GoldPurchaseType.GidGlobal:i.GoldPurchaseType.GidUnknown,u=(e,t)=>Object.assign({awardId:e.id,awardName:e.name,isTemporaryAward:!!e.endsAt,numberCoinsToRecipient:e.coinReward,type:d(e)},t),l=(e,t)=>Object.assign(Object.assign({},r.defaults(e)),{comment:t?r.comment(e,t):void 0,correlationId:Object(a.b)(e)||Object(o.d)(o.a.GildingFlow,!1),post:t?r.post(e,t):void 0,screen:r.screen(e),subreddit:r.subreddit(e),userSubreddit:r.userSubreddit(e)}),b=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:Object(c.a)(e)?"comment":"post",action:"click",noun:"give_gold"}),p=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"stream_player",action:"click",noun:"give_gold"}),f=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:Object(c.a)(e)?"comment":"post",action:"click",noun:"add_award"}),O=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:Object(c.a)(t)?"comment":"post",action:"click",noun:"hide_award",goldPurchase:u(e)}),_=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:Object(c.a)(t)?"comment":"post",action:"click",noun:"confirm_hide_award",goldPurchase:u(e)}),m=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:Object(c.a)(t)?"comment":"post",action:"click",noun:"cancel_hide_award",goldPurchase:u(e)}),g=e=>(t,n)=>s=>Object.assign(Object.assign({},l(s,n)),{source:Object(c.a)(n)?"comment":"post",action:"click",noun:e,goldPurchase:u(t)}),j=g("award_hovercard_report"),E=g("cancel_award_hovercard_report"),h=g("flag_award"),I=g("cancel_flag_award"),S=g("confirm_flag_award"),y=g("report_community_award"),T=g("cancel_report_community_award"),D=g("confirm_report_community_award"),v=(e,t,n)=>s=>Object.assign(Object.assign({},l(s,n)),{source:"give_gold",action:"view",noun:"page",goldPurchase:{defaultOption:e,defaultAnonymous:t}}),R=(e,t,n)=>s=>Object.assign(Object.assign({},l(s,t)),{source:"give_gold",action:"click",noun:"award",goldPurchase:u(e,n)}),A=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"view",noun:"tooltip"}),w=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:"give_gold",action:e,noun:"anonymous"}),C=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"click",noun:"message_input"}),P=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"type",noun:"message_input"}),x=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"click",noun:"learn_more"}),k=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"click",noun:"question"}),N=(e,t)=>n=>Object.assign(Object.assign({},l(n,e)),{source:"give_gold",action:"click",noun:"confirm",goldPurchase:Object.assign({contentType:Object(c.a)(e)?"comment":"post"},u(t))}),U=(e,t)=>n=>Object.assign(Object.assign({},l(n,e)),{source:"give_gold",action:"click",noun:"get_premium",goldPurchase:Object.assign({contentType:Object(c.a)(e)?"comment":"post"},u(t))}),L=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"click",noun:"add_coins"}),M=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"click",noun:"next"}),G=e=>t=>Object.assign(Object.assign({},l(t,e)),{source:"give_gold",action:"click",noun:"close"}),F=(e,t,n)=>s=>Object.assign(Object.assign({},l(s,e)),{source:"give_gold",action:"view",noun:"success",goldPurchase:Object.assign({contentType:Object(c.a)(e)?"comment":"post",numberCoins:t},u(n))}),B=e=>{let{award:t,awardeeKarmaEarned:n,awarderKarmaEarned:s,numberCoins:r,thingId:i}=e;return e=>Object.assign(Object.assign({},l(e,i)),{source:"give_gold",action:"view",noun:"karma_success",goldPurchase:Object.assign({contentType:Object(c.a)(i)?"comment":"post",awardeeKarmaEarned:n,awarderKarmaEarned:s,numberCoins:r},u(t))})},V=e=>t=>Object.assign(Object.assign({},l(t)),{source:"give_gold",action:"click",noun:"filter",goldPurchase:{filterId:e.tag,filterName:e.content.markdown}}),q=()=>e=>Object.assign(Object.assign({},l(e)),{source:"give_gold",action:"click",noun:"next_filters"}),W=()=>e=>Object.assign(Object.assign({},l(e)),{source:"give_gold",action:"click",noun:"previous_filters"})},"./src/reddit/helpers/trackers/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var s,r=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/telemetry.ts");!function(e){e.SubredditInlineTooltip="subreddit_inline_tooltip",e.EditSubredditIcon="edit_subreddit_icon",e.EditSubredditDescription="edit_subreddit_description",e.SaveDescription="save_description",e.Error="error"}(s||(s={}));const o=e=>({subreddit:i.subreddit(e),userSubreddit:i.userSubreddit(e)}),c=e=>Object.assign({source:"subreddit_tooltip",noun:s.SubredditInlineTooltip,action:r.c.VIEW},o(e)),a=e=>Object.assign({source:"id_card",noun:s.EditSubredditIcon,action:r.c.CLICK},o(e)),d=e=>Object.assign({source:"id_card",noun:s.EditSubredditDescription,action:r.c.CLICK},o(e)),u=(e,t)=>n=>Object.assign({source:"id_card",noun:s.SaveDescription,action:r.c.CLICK,setting:{value:String(e),oldValue:String(t)}},o(n)),l=(e,t)=>Object.assign(Object.assign(Object.assign({source:"id_card",noun:s.Error,action:r.c.VIEW},o(e)),i.defaults(e)),{actionInfo:i.actionInfo(e,{reason:t})})},"./src/reddit/helpers/trackers/media.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/selectors/telemetry.ts");const i=(e,t,n)=>i=>({source:"videoplayer",action:t,noun:n,experiment:r.experiment(i,s.bd),post:r.post(i,e),media:r.media(i,e),profile:r.profile(i),subreddit:r.subreddit(i),actionInfo:r.mediaActionInfo(i,e),correlationId:r.videoCorrelationId()}),o=e=>t=>({source:"videoplayer",action:"underrun",noun:"playback",experiment:r.experiment(t,s.bd),post:r.post(t,e),profile:r.profile(t),subreddit:r.subreddit(t),actionInfo:r.mediaActionInfo(t,e),media:r.media(t,e)}),c=(e,t,n)=>s=>Object.assign(Object.assign({},i(e,t,n)(s)),{timer:r.videoPlayerFirstFrameTimer(s,e),media:Object.assign(Object.assign({},r.media(s,e)),r.videoPlayerMaxTimeServed(s,e))})},"./src/reddit/helpers/trackers/post.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return I})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return y}));var s=n("./src/lib/constants/index.ts"),r=n("./src/reddit/helpers/correlationIdTracker.ts"),i=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),o=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/models/Post/index.ts"),a=n("./src/reddit/selectors/experiments/listingBelow.ts"),d=n("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),u=n("./src/reddit/selectors/telemetry.ts"),l=n("./src/telemetry/index.ts");const b=e=>e&&e.meta&&e.meta.name&&e.meta.name===s.Fb.DUPLICATES,p=(e,t,n)=>{const{currentPage:s}=e.platform,o=b(s)?"other_discussions":"post",c=Object(a.b)(e),p=Object(a.c)(e),f=Object(d.c)(e,{postId:t});if(c){const s=Object(i.a)(e),o=s?s.id:void 0;return Object(l.a)(Object.assign(Object.assign({},u.defaults(e)),{action:"view",actionInfo:u.actionInfo(e,{position:"number"==typeof n?n+1:void 0,reason:f?"count_animation":void 0}),correlationId:Object(r.c)(r.a.LinkedPosts),media:u.media(e,t),mlModel:u.listingBelowMlModel(c,o),noun:"post",post:u.post(e,t),profile:u.profile(e),source:"post_detail",subreddit:u.subreddit(e)}))}return Object(l.a)(Object.assign(Object.assign({source:o,action:"view",noun:"post"},u.defaults(e)),{actionInfo:u.actionInfo(e,{position:n,reason:f?"count_animation":void 0}),correlationId:p?Object(r.c)(r.a.LinkedPosts):void 0,post:u.post(e,t),profile:u.profile(e),media:u.media(e,t),screen:u.screen(e),subreddit:u.subreddit(e)}))},f=(e,t)=>Object(l.a)(Object.assign(Object.assign({source:"post",action:"view",noun:"ad"},u.defaults(e)),{post:u.post(e,t),media:u.media(e,t),screen:u.screen(e),subreddit:u.subreddit(e)})),O=(e,t,n,s)=>Object(l.a)(Object.assign(Object.assign({source:"post",action:"consume",noun:"post"},u.defaults(e)),{actionInfo:u.actionInfo(e,{position:s}),post:u.post(e,t,n),media:u.media(e,t),screen:u.screen(e),subreddit:u.subreddit(e)})),_=(e,t,n,s)=>({noun:s,post:u.post(e,t),source:n}),m=(e,t,n,s)=>{const{currentPage:r}=e.platform;if(b(r)){const n=Object(c.r)(r&&r.urlParams.partialPostId||"");return{noun:"post",post:u.post(e,n),source:"other_discussions",targetPost:u.post(e,t)}}return _(e,t,n,s)},g=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;return p=>{const f=u.post(p,e),O=u.defaults(p);(null==f?void 0:f.promoted)&&(Object(o.eb)(e),O.actionInfo.pageType&&Object(o.kb)(O.actionInfo.pageType));const{currentPage:g}=p.platform,j=b(g)?m(p,e,n,t):_(p,e,n,t),E=Object(a.b)(p)||c,h=Object(a.c)(p)||l;if(E){const n=s?u.getRelativePostOrder(p,e,s):null;return Object.assign(Object.assign({},O),{action:"click",actionInfo:Object.assign(Object.assign({},O.actionInfo),{position:"number"==typeof n?n+1:void 0,referralId:d}),correlationId:Object(r.c)(r.a.LinkedPosts),media:u.media(p,e),mlModel:u.listingBelowMlModel(E,i),noun:t,post:f,profile:u.profile(p),source:"post_detail",subreddit:u.subreddit(p)})}return Object.assign(Object.assign(Object.assign({},j),O),{action:"click",actionInfo:Object.assign(Object.assign({},O.actionInfo),{referralId:d}),correlationId:h?Object(r.c)(r.a.LinkedPosts):void 0,media:u.media(p,e),subreddit:u.subreddit(p)||u.subredditByPostOrCommentId(p,e)})}},j=(e,t)=>n=>Object(l.a)(Object.assign(Object.assign({source:"post",action:"click",noun:t},u.defaults(n)),{post:u.post(n,e),media:u.media(n,e),screen:u.screen(n),session:u.session(n),subreddit:u.subreddit(n)})),E=(e,t)=>({post:u.post(e,t),profile:u.profile(e)}),h=e=>t=>Object.assign(Object.assign({action:"pin",noun:"post",source:"profile"},E(t,e)),u.defaults(t)),I=e=>t=>Object.assign(Object.assign({action:"unpin",noun:"post",source:"profile"},E(t,e)),u.defaults(t)),S=(e,t,n)=>s=>Object.assign(Object.assign({action:"click",noun:"vote",source:"poll"},u.defaults(s)),{poll:u.poll(s,e,!0,n),post:u.post(s,t),subreddit:u.subreddit(s),userSubreddit:u.userSubreddit(s)}),y=(e,t)=>n=>Object.assign(Object.assign({action:"view",noun:"results",source:"poll"},u.defaults(n)),{poll:u.poll(n,e,!1),post:u.post(n,t),subreddit:u.subreddit(n),userSubreddit:u.userSubreddit(n)})},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"x",(function(){return j})),n.d(t,"w",(function(){return E})),n.d(t,"s",(function(){return h})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return S})),n.d(t,"z",(function(){return y})),n.d(t,"r",(function(){return T})),n.d(t,"i",(function(){return D})),n.d(t,"u",(function(){return v})),n.d(t,"t",(function(){return R})),n.d(t,"o",(function(){return A})),n.d(t,"n",(function(){return w})),n.d(t,"y",(function(){return C})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return x})),n.d(t,"l",(function(){return k})),n.d(t,"d",(function(){return U})),n.d(t,"m",(function(){return M})),n.d(t,"h",(function(){return G})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"b",(function(){return V})),n.d(t,"v",(function(){return q})),n.d(t,"g",(function(){return W}));var s=n("./src/reddit/constants/tracking.ts"),r=n("./src/reddit/helpers/correlationIdTracker.ts"),i=n("./src/reddit/helpers/media/index.ts"),o=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/PostDraft/index.ts"),a=n("./src/reddit/selectors/postDraft.ts"),d=n("./src/reddit/selectors/telemetry.ts"),u=n("./src/reddit/selectors/user.ts"),l=n("./src/telemetry/index.ts"),b=n("./src/telemetry/models/PostComposer.ts"),p=n("./src/telemetry/models/PostDraft.ts");const f={imageOnly:"image",linkOnly:"link",media:"media",poll:"poll",post:"self",crosspost:"crosspost"},O=e=>Object.assign(Object.assign({source:"post_composer",action:s.c.CLICK},d.defaults(e)),{screen:d.screen(e),correlationId:Object(r.c)(r.a.PostComposer)}),_=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===o.h.MARKDOWN?"markdown":"rte"},m=e=>{Object(l.a)(Object.assign({noun:"cancel"},O(e)))},g=e=>{Object(l.a)(Object.assign({noun:"discard"},O(e)))},j=e=>{Object(l.a)(Object.assign(Object.assign({noun:"subreddit_choice",subreddit:d.subreddit(e)},O(e)),{actionInfo:d.chatPostActionInfo(e)}))},E=e=>{Object(l.a)(Object.assign({noun:"subreddit_selector"},O(e)))},h=(e,t)=>{Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:f[t]}},O(e)))},I=()=>e=>Object.assign({noun:"add_option"},O(e)),S=()=>e=>Object.assign({noun:"voting_length"},O(e)),y=(e,t,n)=>{"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},O(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:n?"on":"off"}},O(e)))},T=(e,t,n)=>{Object(l.a)(Object.assign({noun:"post",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},_(e,t)),post:n?d.post(e,n):null},O(e)))},D=(e,t)=>{const n=t===o.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:n},O(e)))},v=(e,t)=>{Object(l.a)(Object.assign({noun:"save",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},_(e,t))},O(e)))},R=(e,t)=>{const n=e.uploads[t];n.error&&Object(l.a)(Object.assign(Object.assign({},O(e)),{noun:"media",action:s.c.REJECT,actionInfo:Object.assign(Object.assign({},d.actionInfo(e)),{reason:JSON.stringify(n.error)})}))},A=(e,t)=>{t.forEach(t=>{const n=Object(i.f)(t.type);n&&Object(l.a)(Object.assign(Object.assign({},O(e)),{action:s.c.DRAG,noun:n}))})},w=(e,t,n)=>{Object(l.a)(Object.assign(Object.assign({},O(e)),{noun:"input",postComposer:{inputType:n},action:t,actionInfo:d.chatPostActionInfo(e)}))},C=(e,t,n)=>{Object(l.a)(Object.assign(Object.assign({},O(e)),{noun:n,action:Object(b.getToggleAction)(t),actionInfo:d.chatPostActionInfo(e)}))},P=e=>N("input",e),x=()=>N("add"),k=()=>N("remove"),N=(e,t)=>n=>Object.assign(Object.assign({},O(n)),{noun:e,postComposer:{inputType:t,type:f.imageOnly},action:s.c.CLICK}),U=e=>{Object(l.a)(Object.assign(Object.assign({},O(e)),{noun:"hide_oc_description",action:s.c.CLICK}))},L=(e,t)=>{if(t){const n=d.subredditById(e,t);if(n)return{subreddit:n};const s=d.profileById(e,t);if(s)return{profile:s}}},M=(e,t)=>{const{draftId:n,destSubreddit:s}=t,r=Object(u.i)(e),i=Object(a.d)(e,{draftId:n}),o={authorId:r?r.id:void 0,createdTimestamp:i?i.created:void 0,id:n||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:o.type=p.DraftType.Link,o.urlLength=t.body.length;break;case c.b.Markdown:o.type=p.DraftType.Self,o.bodyTextLength=t.body.length;break;case c.b.RichText:o.type=p.DraftType.RichText,t.documentStats&&(o.bodyTextLength=t.documentStats.textLength,o.numberRteImages=t.documentStats.rteImagesCount,o.numberRteVideos=t.documentStats.rteVideosCount);break;case c.b.Image:o.type=p.DraftType.Image;break;case c.b.Video:o.type=p.DraftType.Video}return Object.assign({postDraft:o},L(e,s.id))},G=(e,t)=>{Object(l.a)(Object.assign(Object.assign({noun:"draft_load"},O(e)),M(e,t)))},F=(e,t)=>{Object(l.a)(Object.assign(Object.assign({noun:t.draftId?"draft_update":"draft_create"},O(e)),M(e,t)))},B=(e,t)=>{Object(l.a)(Object.assign(Object.assign({noun:"draft_delete"},O(e)),((e,t)=>{const n=Object(u.i)(e),s={authorId:n?n.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:s.type=p.DraftType.Link,s.urlLength=(t.body||"").length;break;case c.b.Markdown:s.type=p.DraftType.Self,s.bodyTextLength=(t.body||"").length;break;case c.b.RichText:s.type=p.DraftType.RichText}return Object.assign({postDraft:s},L(e,t.subredditId))})(e,t)))},V=e=>{Object(l.a)(Object.assign(Object.assign({},O(e)),{noun:"social_connect_link",action:s.c.CLICK}))},q=(e,t)=>{Object(l.a)(Object.assign(Object.assign({},O(e)),{noun:"twitter_share_checkbox",action:Object(b.getToggleAction)(t)}))},W=(e,t,n)=>{Object(l.a)(Object.assign(Object.assign(Object.assign({},O(e)),M(e,t)),{noun:"draft_share",action:n?s.c.ENABLE:s.c.DISABLE}))}},"./src/reddit/helpers/trackers/postList.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return O}));var s=n("./src/telemetry/index.ts"),r=n("./src/reddit/selectors/telemetry.ts");const i=(e,t)=>Object.assign(Object.assign({},r.defaults(e)),{media:r.media(e,t),post:r.post(e,t),profile:r.profile(e),subreddit:r.subreddit(e)}),o=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"stop",noun:"autoplay_initial_load"}))},c=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"complete",noun:"autoplay_initial_load"}))},a=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"start",noun:"autoplay_initial_load"}))},d=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"start",noun:"autoplay_network_load"}))},u=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"consume",noun:"autoplay"}))},l=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"start",noun:"autoplay"}))},b=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"start",noun:"autoplay_buffering"}))},p=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"stop",noun:"autoplay"}))},f=(e,t)=>{Object(s.a)(Object.assign(Object.assign({},i(e,t)),{source:"postlist",action:"stop",noun:"autoplay_buffering"}))},O=(e,t)=>{Object(s.a)(Object.assign(Object.assign({action:"view",source:"postlist",noun:"bottom"},r.defaults(e)),{listing:r.listing(e,t),subreddit:r.subreddit(e)}))}},"./src/reddit/helpers/trackers/profileSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return I}));var s=n("./node_modules/lodash/pick.js"),r=n.n(s),i=n("./src/reddit/constants/tracking.ts"),o=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/PostComposer.ts");const d=e=>Object.assign({source:"profile_settings"},Object(o.defaults)(e)),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(o.currentProfileModelSelector)(e);if(n)return r()(n,["id","name","type",...t])},l=e=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{noun:"twitter_connect_link",action:i.c.CLICK}))},b=e=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{noun:"twitter_disconnect_link",action:i.c.CLICK}))},p=(e,t)=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{noun:"display_twitter_checkbox",action:Object(a.getToggleAction)(t)}))},f=(e,t)=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{noun:"twitter_account",action:i.c.CLICK,profile:{id:t.id,name:t.username}}))},O=e=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{profile:u(e,["display_name","about","avatar_url","cover_url","nsfw","content_visible","communities_visible"]),action:i.c.VIEW,noun:"settings_page"}))},_={profileIcon:"avatar",profileBanner:"cover"},m=(e,t)=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{profile:u(e,["avatar_url","cover_url"]),action:"upload",noun:_[t]}))},g=(e,t)=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{profile:u(e,[]),action:"remove",noun:_[t]}))},j=e=>{Object(c.a)(Object.assign(Object.assign({},d(e)),{profile:u(e,["display_name","about","nsfw","content_visible","communities_visible"]),action:"click",noun:"save_settings"}))},E=e=>t=>Object.assign(Object.assign({},d(t)),{profile:u(t,[]),action:e?"select":"deselect",noun:"content_visible"}),h=e=>t=>Object.assign(Object.assign({},d(t)),{profile:u(t,[]),action:e?"select":"deselect",noun:"nsfw"}),I=e=>t=>Object.assign(Object.assign({},d(t)),{profile:u(t,[]),action:e?"select":"deselect",noun:"active_in_communities"})},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return I})),n.d(t,"n",(function(){return S})),n.d(t,"r",(function(){return y})),n.d(t,"c",(function(){return T})),n.d(t,"k",(function(){return D})),n.d(t,"o",(function(){return v})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"g",(function(){return w})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return x})),n.d(t,"m",(function(){return k})),n.d(t,"l",(function(){return N})),n.d(t,"s",(function(){return M})),n.d(t,"v",(function(){return G})),n.d(t,"e",(function(){return F})),n.d(t,"d",(function(){return V})),n.d(t,"t",(function(){return q})),n.d(t,"u",(function(){return W}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/makePostDraftPageKey/index.ts"),i=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),o=n("./src/reddit/helpers/routeKey/index.ts"),c=n("./src/reddit/helpers/trackers/postComposer.ts"),a=n("./src/reddit/helpers/trackers/profileSettings.ts"),d=n("./src/reddit/models/Comment/index.ts"),u=n("./src/reddit/models/Post/index.ts"),l=n("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),b=n("./src/reddit/selectors/profile.ts"),p=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/helpers/correlationIdTracker.ts"),O=n("./src/reddit/helpers/trackers/searchResults.ts"),_=n("./src/reddit/selectors/postDraft.ts"),m=n("./src/reddit/selectors/telemetry.ts"),g=n("./src/telemetry/index.ts");const j=(e,t,n,c)=>{const{route:l}=e,{name:b}=l.meta;if(b)switch(b){case s.Fb.COMMENTS:{const{partialCommentId:s,partialPostId:r}=e.match.params,a=Object(u.r)(r),l=Object(o.a)(e,t,t.posts.models[a]);if(!l)return;const b=s&&Object(d.f)(s),{sortToUse:p}=Object(i.a)(t,a);Object(g.a)(T(l,a,b,n,c,p)(t));break}case s.Fb.INDEX:case s.Fb.LISTING:case s.Fb.MULTIREDDIT:case s.Fb.SUBREDDIT:{const r=Object(o.c)(e,t);if(!r.listingKey)return;const{params:i,queryParams:a}=e.match,{sort:d=(r.sort?r.sort:s.P.HOT)}=i,u=a.t;Object(g.a)(E(r.listingKey,d,n,c,u)(t));break}case s.Fb.TOPIC:{const r=Object(o.c)(e,t);if(!r.listingKey)return;const{params:i}=e.match,a=r.sort?r.sort:s.Q,{sort:d=a}=i;Object(g.a)(E(r.listingKey,d,n,c)(t));break}case s.Fb.PROFILE_OVERVIEW:{const r=Object(o.d)(e,t);if(!r)return;const{params:i,queryParams:a}=e.match,{sort:d=s.yb}=i,u=a.t;Object(g.a)(h(r,d,n,c,u)(t));break}case s.Fb.PROFILE_POSTS:{const r=Object(o.d)(e,t);if(!r)return;const{queryParams:i}=e.match,{sort:a=s.yb,t:d=s.Xb}=i;Object(g.a)(I(r,a,n,c,d)(t));break}case s.Fb.PROFILE_COMMENTS:{const r=Object(o.d)(e,t);if(!r)return;const{queryParams:i}=e.match,{sort:a=s.yb,t:d=s.Xb}=i;Object(g.a)(S(r,a,n,c,d)(t));break}case s.Fb.SETTINGS:{const r=e;Object(g.a)(L(n,c)(t)),r.match.params.page===s.Sb.Profile&&Object(a.j)(t);break}case s.Fb.POST_CREATION:break;case s.Fb.POST_DRAFT:{const{draftId:s}=e.match.params,i=Object(r.a)(e.match.params);if(!i)return;C(t,i,s,n,c);break}case s.Fb.SUBREDDIT_WIKI:Object(g.a)(B(n,c)(t));break;case s.Fb.COINS:Object(g.a)(P(n,c)(t)),Object(g.a)(x()(t));break;case s.Fb.PREMIUM:Object(g.a)(k(n,c)(t)),Object(g.a)(N()(t));break;case s.Fb.APPEAL:Object(g.a)(U(n,c)(t))}},E=(e,t,n,s,r,i)=>o=>{const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(o)),{actionInfo:m.actionInfo(o,{success:a}),customFeed:m.customFeed(o),listing:m.listing(o,e,{sort:t,sortTime:r}),subreddit:m.subreddit(o),timer:m.timer(n,s),userSubreddit:m.userSubreddit(o),adblock:m.adblock(o),postFlair:{title:i}})},h=(e,t,n,s,r)=>i=>{const o=m.listing(i,e);o&&(o.sort=t,r&&(o.sortTime=r));const{api:c}=i.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign(Object.assign({listing:o,source:"global",action:"view",noun:"screen"},m.defaults(i)),{actionInfo:m.actionInfo(i,{success:a}),profile:m.profile(i),subreddit:m.subreddit(i),timer:m.timer(n,s),userSubreddit:m.userSubreddit(i),adblock:m.adblock(i)})},I=(e,t,n,s,r)=>i=>{const o=m.listing(i,e);o&&(o.sort=t,r&&(o.sortTime=r));const{api:c}=i.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign(Object.assign({listing:o,source:"global",action:"view",noun:"screen"},m.defaults(i)),{actionInfo:m.actionInfo(i,{success:a}),profile:m.profile(i),subreddit:m.subreddit(i),timer:m.timer(n,s),userSubreddit:m.userSubreddit(i),adblock:m.adblock(i)})},S=(e,t,n,s,r)=>i=>{const o=m.profileComments(i,e);o&&(o.sort=t,r&&(o.sortTime=r));const{api:c}=i.profileCommentsPage,a=!c.error[e]&&!c.pending[e];return Object.assign(Object.assign({listing:o,source:"global",action:"view",noun:"screen"},m.defaults(i)),{actionInfo:m.actionInfo(i,{success:a}),profile:m.profile(i),subreddit:m.subreddit(i),timer:m.timer(n,s),userSubreddit:m.userSubreddit(i),adblock:m.adblock(i)})},y=e=>(t,n)=>s=>{const r=!s.profilePrivatePage.api.error[e]&&!s.profilePrivatePage.api.pending[e];return Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(s)),{actionInfo:m.actionInfo(s,{success:r}),profile:m.profile(s),subreddit:m.subreddit(s),timer:m.timer(n,t),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)})},T=(e,t,n,s,r,i)=>o=>{const{api:c}=o.commentsPage,a=!c.error[e]&&!c.pending[e],d=Object(l.c)(o,{postId:t,isForceSelected:!0}),u=Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(o)),{actionInfo:m.actionInfo(o,{success:a,reason:d?"count_animation":void 0}),post:m.post(o,t),profile:m.profile(o),subreddit:m.subreddit(o),timer:m.timer(s,r),userSubreddit:m.userSubreddit(o),adblock:m.adblock(o),postEvent:m.postEventI13nSelector(o,{postId:t}),postCollection:m.postCollectionI13nSelector(o,{postId:t}),listing:m.listing(o,void 0,{sort:i})});return n&&(u.comment=m.comment(o,n)),u},D=(e,t,n)=>s=>{const r=s.creations.api.page.fetched[e],i=s.platform.currentPage?s.platform.currentPage.queryParams.source_id:void 0;return Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(s)),{actionInfo:m.actionInfo(s,{success:r}),post:i?m.post(s,i):void 0,subreddit:m.subreddit(s),timer:m.timer(t,n),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)})},v=(e,t)=>{Object(g.a)(Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),{actionInfo:m.actionInfo(e,{success:t})}))},R=(e,t,n,s)=>{Object(g.a)(Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),{actionInfo:m.actionInfo(e,{success:t}),profile:m.profileById(e,Object(b.m)(e,s)),subreddit:m.subredditById(e,Object(p.F)(e,n)),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}))},A=(e,t,n,s)=>{Object(g.a)(Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),{profile:m.profileById(e,Object(b.m)(e,s)),subreddit:m.subredditById(e,Object(p.F)(e,n)),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}))},w=e=>{Object(g.a)(Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),{actionInfo:m.actionInfo(e)}))},C=(e,t,n,s,r)=>{const i=e.creations.api.page.pending[t],o=!e.creations.api.page.error[t]&&!i&&!!n,a=Object(_.h)(e,n);Object(g.a)(Object.assign(Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),{actionInfo:m.actionInfo(e,{success:o}),subreddit:m.subreddit(e),timer:m.timer(s,r),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}),a?Object(c.m)(e,a):{}))},P=(e,t)=>n=>Object.assign(Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:Object(f.c)(f.a.GoldPayment)},m.defaults(n)),{timer:m.timer(e,t),adblock:m.adblock(n)}),x=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),k=(e,t)=>n=>Object.assign(Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:Object(f.c)(f.a.GoldPayment)},m.defaults(n)),{timer:m.timer(e,t),adblock:m.adblock(n)}),N=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),U=(e,t)=>n=>Object.assign(Object.assign({source:"appeal",action:"view",noun:"page"},m.defaults(n)),{timer:m.timer(e,t)}),L=(e,t)=>n=>Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(n)),{timer:m.timer(e,t)}),M=()=>e=>Object.assign({source:"global",action:"view",noun:"screen",subreddit:m.subreddit(e)},m.defaults(e)),G=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),F=()=>e=>Object.assign({action:"view",source:"global",noun:"screen"},m.defaults(e)),B=(e,t)=>n=>Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(n)),{customFeed:m.customFeed(n),subreddit:m.subreddit(n),timer:m.timer(e,t),userSubreddit:m.userSubreddit(n),adblock:m.adblock(n)}),V=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),q=(e,t,n,r,i,o)=>c=>{let a=!0;if(t.type.indexOf(s.Rb.Posts)>-1){const{api:t}=c.listings.listingOrder;a=a&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(s.Rb.Subreddits)>-1||t.type.indexOf(s.Rb.Users)>-1){const{api:t}=c.listings.postOrder;a=a&&!t.error[e]&&!t.pending[e]}const d=m.paneName(c,i),u=m.structureType(c,i),l=c.platform.currentPage&&c.platform.currentPage.urlParams&&c.platform.currentPage.urlParams.subredditName?m.subredditByName(c,c.platform.currentPage.urlParams.subredditName):void 0;return Object.assign(Object.assign(Object.assign(Object.assign({},O.c(c,t)),{source:"global",action:"view",noun:"screen",actionInfo:m.actionInfo(c,{success:a,paneName:d}),timer:m.timer(n,r),search:Object.assign(Object.assign(Object.assign({},m.search(c,t,!0,i||void 0)),!!o&&{originElement:o}),{queryId:Object(f.c)(f.a.SearchResults),structureType:u,subredditId:t.restrict_sr&&l&&l.id?l.id:void 0,subredditName:t.restrict_sr&&l&&l.name?l.name:void 0})}),!!o&&{correlationId:Object(f.c)(f.a.SearchResults)}),{userPreferences:{hideNsfw:!c.user.prefs.over18}})},W=(e,t)=>{Object(g.a)(Object.assign(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e)),{actionInfo:m.actionInfo(e,{success:t})}))}},"./src/reddit/helpers/trackers/searchResults.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"r",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"t",(function(){return _})),n.d(t,"s",(function(){return m})),n.d(t,"u",(function(){return g})),n.d(t,"w",(function(){return j})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return I})),n.d(t,"h",(function(){return S})),n.d(t,"x",(function(){return y})),n.d(t,"v",(function(){return T})),n.d(t,"i",(function(){return D})),n.d(t,"k",(function(){return v})),n.d(t,"e",(function(){return R})),n.d(t,"j",(function(){return A})),n.d(t,"d",(function(){return w})),n.d(t,"o",(function(){return C})),n.d(t,"n",(function(){return P})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return k})),n.d(t,"b",(function(){return N}));var s=n("./src/lib/constants/index.ts"),r=n("./src/reddit/constants/posts.ts"),i=n("./src/reddit/constants/tracking.ts"),o=n("./src/reddit/helpers/correlationIdTracker.ts"),c=n("./src/reddit/selectors/posts.ts"),a=n("./src/reddit/selectors/telemetry.ts");const d="search",u="search_results_best",l=(e,t)=>{const n=a.subreddit(e);return{screen:a.screen(e),subreddit:n&&t&&t.restrict_sr?n:null}},b=(e,t)=>n=>{const s=t;return s.structureType="related",Object.assign({action:e,correlationId:Object(o.c)(o.a.SearchResults),noun:"related_search",source:d,search:a.search(n,s)},l(n))},p=(e,t,n,s)=>r=>Object.assign(Object.assign({},l(r,n)),{source:d,action:"click",noun:t,actionInfo:a.actionInfo(r,s?{pageType:"search_results_best",position:0}:void 0),discoveryUnit:s?a.discoveryUnit(s):null,search:a.search(r,n),post:a.post(r,e),media:a.media(r,e)}),f=(e,t,n,s,r)=>i=>Object.assign(Object.assign({},R(i,e,t,r,s,n)),{noun:"ad"}),O=(e,t,n)=>r=>{let i=!0;if(t.type.indexOf(s.Rb.Posts)>-1){const{api:t}=r.listings.listingOrder;i=i&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(s.Rb.Subreddits)>-1||t.type.indexOf(s.Rb.Users)>-1){const{api:t}=r.listings.postOrder;i=i&&!t.error[e]&&!t.pending[e]}return Object.assign(Object.assign({},l(r,t)),{source:d,action:"view",noun:"search_results_post",actionInfo:a.actionInfo(r,{success:i,pageType:"search_results_best",position:0}),discoveryUnit:a.discoveryUnit(n),search:a.search(r,t)})},_=(e,t)=>n=>({action:"view",actionInfo:a.actionInfo(n),metaSearch:a.metaSearch(t),noun:e,screen:a.screen(n),search:a.smartSearch(n,t),source:d}),m=(e,t)=>n=>({action:"click",actionInfo:a.actionInfo(n),noun:e,metaSearch:a.metaSearch(t),screen:a.screen(n),search:a.smartSearch(n,t),source:d}),g=(e,t,n)=>s=>Object.assign({source:d,action:"click",noun:a.SearchDropdownNouns.Recent,actionInfo:a.actionInfo(s,{paneName:"subreddit_dropdown",position:n+1}),search:{query:e,originPageType:s.platform.currentPage?a.getPageTypeFromCurrentPage(s.platform.currentPage):void 0,queryId:Object(o.c)(o.a.SearchResults)}},E(s,t)),j=(e,t,n,s)=>r=>{const i=s.filter(e=>e.id);return Object.assign({source:d,action:"click",noun:a.SearchDropdownNouns.Typeahead,actionInfo:a.actionInfo(r,{position:n+1}),search:{query:t.displayInfo&&t.displayInfo.subredditOrProfileName?t.displayInfo.subredditOrProfileName:e,originPageType:r.platform.currentPage?a.getPageTypeFromCurrentPage(r.platform.currentPage):void 0,queryId:Object(o.c)(o.a.SearchResults),typeaheadActive:!0,subredditIds:i.map(e=>e.id),numberSubreddits:i.length}},E(r,t))},E=(e,t)=>{const n=t.isSubreddit&&t.id?a.subredditForSearch(e,t.id):void 0,s=t.isProfile&&t.id?a.profileForSearch(e,t.id):void 0,r={id:t.id,name:t.displayInfo?t.displayInfo.subredditOrProfileName:void 0};return{subreddit:t.isSubreddit?n||r:void 0,profile:t.isProfile?s||r:void 0}},h=(e,t,n)=>s=>({action:t,actionInfo:a.actionInfo(s),noun:e,screen:a.screen(s),search:a.search(s,n),source:u});var I;!function(e){e.TopResults="tab_top_results",e.Posts="tab_posts",e.CommunitiesAndUsers="tab_communities"}(I||(I={}));const S=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:d,action:"click",noun:e,correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(n),search:a.search(n,t)}),y=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:d,action:"click",noun:e,correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(n),search:a.search(n,t)}),T=(e,t)=>n=>({action:"click",correlationId:Object(o.c)(o.a.SearchResults),noun:e?s.Qb.ToSubreddit:s.Qb.ToGlobal,search:a.search(n,t),source:d}),D=(e,t,n,s)=>r=>Object.assign(Object.assign({},l(r,n)),{source:d,action:"click",noun:"search_result_post",correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(r,{relativePosition:a.getRelativePostOrder(r,t,e)}),search:Object.assign(Object.assign({},a.search(r,n)),!!s&&{originElement:s}),post:a.post(r,t)}),v=(e,t,n,s,r)=>i=>R(i,e,t,n,s,r),R=(e,t,n,s,r,c)=>{const u=a.paneName(e,s),l=a.postRelativePosition(e,t,r,c),b=a.amountOfElementsBeforePost(e,n,r,c,u),p=null!==l?b+l:null,f=a.structureType(e,s),O=Object.assign(Object.assign({},a.search(e,n,!0,s||void 0)),{structureType:f,queryId:Object(o.c)(o.a.SearchResults)});return{source:d,action:i.c.CLICK,noun:"post",actionInfo:s?{pageType:a.getPageTypeFromCurrentPage(s),paneName:u,position:p,relativePosition:l}:a.actionInfo(e,{paneName:u,position:p,relativePosition:l}),search:O,post:a.post(e,t),userPreferences:{hideNsfw:!e.user.prefs.over18},discoveryUnit:c?a.discoveryUnit(c):null}},A=(e,t,n,s,r,i)=>o=>w(o,e,t,n,s,r,i),w=(e,t,n,s,u,l,b)=>{if(!s){s=Object(c.O)(e,{postId:l}).belongsTo}const p=a.paneName(e,n);let f,O;if(l){f=a.postRelativePosition(e,l,u,b);const n=a.amountOfElementsBeforePost(e,t,u,b,p);O=null!==f?n+f:null}else{f=a.communityRelativePosition(e,s.id,u,b);const t=a.amountOfElementsBeforeCommunity(e,u,b);O=null!==f?t+f:null}const _=a.structureType(e,n),m=Object.assign(Object.assign({},a.search(e,t,!0,n||void 0)),{structureType:_,queryId:Object(o.c)(o.a.SearchResults)});return{source:d,action:i.c.CLICK,noun:s.type,search:m,subreddit:s.type===r.a.SUBREDDIT?a.subredditForSearch(e,s.id):void 0,profile:s.type===r.a.PROFILE?a.profileForSearch(e,s.id):void 0,userPreferences:{hideNsfw:!e.user.prefs.over18},discoveryUnit:b?a.discoveryUnit(b):null,actionInfo:n?{pageType:a.getPageTypeFromCurrentPage(n),paneName:p,position:O,relativePosition:f}:a.actionInfo(e,{paneName:p,position:O,relativePosition:f}),post:l?a.post(e,l):void 0}},C=(e,t)=>n=>Object.assign(Object.assign({},l(n,e)),{source:d,action:"click",noun:"search_result_subreddit",correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(n),search:Object.assign(Object.assign({},a.search(n,e)),!!t&&{originElement:t}),subreddit:a.subreddit(n)}),P=(e,t,n,s,r)=>o=>Object.assign(Object.assign({},R(o,t,n,s,e,r)),{action:i.c.VIEW}),x=(e,t,n,s)=>r=>Object.assign(Object.assign({},l(r,n)),{source:d,action:"view",noun:"search_results_post",correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(r,{relativePosition:a.getRelativePostOrder(r,t,e),position:a.getAbsoluteOrder(r,t,e)}),search:Object.assign(Object.assign({},a.search(r,n)),!!s&&{originElement:s}),post:a.post(r,t)}),k=(e,t,n)=>s=>Object.assign(Object.assign({},l(s)),{source:d,action:"click",noun:"search_result_".concat(e),correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(s),search:Object.assign(Object.assign({},a.search(s,t)),!!n&&{originElement:n}),[e]:a[e](s)}),N=(e,t)=>n=>Object.assign(Object.assign({},l(n,t)),{source:d,action:e,noun:"covid_banner",correlationId:Object(o.c)(o.a.SearchResults),actionInfo:a.actionInfo(n),search:a.search(n,t)})},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var s,r=n("./node_modules/uuid/v4.js"),i=n.n(r);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(s||(s={}));const o=()=>i()()},"./src/reddit/models/Comment/addProfileImgParam.ts":function(e,t,n){"use strict";var s=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(s.a)(e,{profile_img:!0})},"./src/reddit/models/DiscoveryUnit/index.ts":function(e,t,n){"use strict";var s,r,i,o;n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return O})),function(e){e.Community="community",e.CommunityCategory="community_category",e.FavoriteSubreddits="favorite_subreddits",e.Listing="listing",e.RecentlyVisitedSubreddits="recently_visited_subreddits",e.SubredditListing="subreddit_listing"}(s||(s={})),function(e){e.Comments="comments",e.Communities="communities",e.Explore="explore",e.Frontpage="front_page",e.Popular="popular",e.SubredditListing="subreddit_listing",e.Topic="topic"}(r||(r={})),function(e){e.Large="large",e.Small="small"}(i||(i={})),function(e){e.Wide="wide",e.Description="description",e.ActionButton="action_button",e.SeeMore="see_more",e.HideItems="hide_items",e.HideUnit="hide_unit",e.ShowLess="show_less",e.PostShowSubredditHeader="post_show_subreddit_header",e.UnitShowSubredditHeader="unit_show_subreddit_header",e.PreviewMode="preview_mode"}(o||(o={}));const c="community_banner_posts",a="search_posts",d="search_subreddits",u="trending_on_popular",l="best_of_community",b="chaining_similar_subreddits_posts",p="top_week_posts",f="top_week_posts_large",O="top_topic_communities_rails"},"./src/reddit/models/ExternalAccount/index.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),function(e){e.Twitter="twitter"}(s||(s={}))},"./src/reddit/models/ModQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var s=n("./src/reddit/helpers/isPost.ts"),r=n("./src/reddit/models/Flair/index.ts");const i=1;var o;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(o||(o={}));const c={},a={ignore_reports:o.UnignoreReports,lock:o.Unlock,mark_nsfw:o.UnmarkNSFW,remove:o.Approve,spam:o.Approve,spoiler:o.Unspoiler,unignore_reports:o.IgnoreReports,unlock:o.Lock,unmark_nsfw:o.MarkNSFW,unspoiler:o.Spoiler},d=(e,t,n,i,a)=>{switch(t){case"approve":{const e={};return n.forEach(t=>{e[t]={approvedBy:i,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}}),e}case"flair":{const t={};return n.forEach(n=>{if(Object(s.a)(n)){const s=e[n].flair.filter(e=>e.type===r.f.Nsfw||e.type===r.f.Spoiler);a&&a.flair&&s.push(a.flair),t[n]={flair:s}}}),t}case"ignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!0}}),e}case"lock":{const e={};return n.forEach(t=>{e[t]={isLocked:!0}}),e}case"mark_nsfw":{const t={},i={text:"nsfw",type:r.f.Nsfw};return n.forEach(n=>{if(Object(s.a)(n)){const s=e[n],r=s.isNSFW?s.flair:s.flair?[...s.flair,i]:{[n]:i};t[n]={isNSFW:!0,flair:r}}}),t}case"remove":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:i}}),e}case"spam":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:i}}),e}case"spoiler":{const t={},i={text:"spoiler",type:r.f.Spoiler};return n.forEach(n=>{if(Object(s.a)(n)){const s=e[n],r=s.isSpoiler?s.flair:s.flair?[...s.flair,i]:{[n]:i};t[n]={isSpoiler:!0,flair:r}}}),t}case"unignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!1}}),e}case"unlock":{const e={};return n.forEach(t=>{e[t]={isLocked:!1}}),e}case"unmark_nsfw":{const t={};return n.forEach(n=>{if(Object(s.a)(n)){const s=e[n],i=s.flair?s.flair.filter(e=>e.type!==r.f.Nsfw):null;t[n]={isNSFW:!1,flair:i}}}),t}case"unspoiler":{const t={};return n.forEach(n=>{if(Object(s.a)(n)){const s=e[n],i=s.flair?s.flair.filter(e=>e.type!==r.f.Spoiler):null;t[n]={isSpoiler:!1,flair:i}}}),t}case o.RemovalReason:{const e={};return n.forEach(t=>{e[t]={modNote:a&&a.modNote,modReasonBy:i,modRemovalReason:a&&a.removalReason}}),e}default:return c}}},"./src/reddit/models/Option/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const s=e=>!e.id,r=e=>!!e.id,i=(e,t)=>s(e)&&s(t)?e.displayText.toLowerCase().trim()===t.displayText.toLowerCase().trim():!(!r(e)||!r(t))&&e.id===t.id},"./src/reddit/models/Poll/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));var s,r,i=n("./node_modules/bignumber.js/bignumber.js");!function(e){e.GovGeneric="governance:generic",e.ReplaceTopMod="governance:replace-top-mod",e.Spinoff="governance:spin-off",e.GA="ga",e.Prediction="prediction"}(s||(s={})),function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower"}(r||(r={}));const o={[s.ReplaceTopMod]:()=>[{text:"Yes"},{text:"No"}],[s.Spinoff]:e=>[{text:e?"Yes, I'd like to join r/".concat(e):"Yes, I'd like to join the new community"},{text:"No"}]};function c(e,t){return!!e.options.filter(e=>t.options[e.id].userSelected).length}function a(e,t){return new Date(e.endsAt).getTime()<Date.now()||c(e,t)}function d(e,t){let n=e.options[0],s=new i.BigNumber(t.options[n.id].votes);for(const r of e.options){const e=new i.BigNumber(t.options[r.id].votes);e.isGreaterThan(s)&&(n=r,s=e)}return n}function u(e){switch(e.type){case s.GovGeneric:case s.ReplaceTopMod:case s.Spinoff:return!0;default:return!1}}function l(e){return!0===e.isPrediction}},"./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts":function(e,t,n){"use strict";var s=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(s.a)(e,{emotes_as_images:!0})},"./src/reddit/models/Rule/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l}));const s={all:"all",post:"post",comment:"comment"},r={all:"all",link:"post",comment:"comment"},i={LINK_AND_COMMENT:"all",LINK:"post",COMMENT:"comment"},o=15,c=100,a=100,d=500,u=2e3,l=e=>({rules:e.map(e=>({kind:r[e.kind],description:e.description,descriptionHtml:e.description_html,shortName:e.short_name,violationReason:e.violation_reason,createdUtc:e.created_utc,priority:e.priority}))})},"./src/reddit/models/RulesSequence/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{constructor(){this.sequence=[]}getSequence(){return this.sequence}update(e,t){const n=this.sequence.slice(0,t);n.push(e),this.sequence=n}cut(e){const t=this.sequence.slice(0,e+1);this.sequence=t}}},"./src/reddit/models/Tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return a}));const s=25,r=64;var i;!function(e){e.EVENT="EVENT",e.COLLECTION="COLLECTION",e.CLASSIFICATION="CLASSIFICATION",e.POST_CLASSIFICATION="POST_CLASSIFICATION",e.SUBREDDIT_CLASSIFICATION="SUBREDDIT_CLASSIFICATION",e.COMMENT_CLASSIFICATION="COMMENT_CLASSIFICATION"}(i||(i={}));const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.id,displayText:e.text,selected:t}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o(e.tag,t)};var a;!function(e){e.TAGGED="TAGGED",e.NONE="NONE"}(a||(a={}))},"./src/reddit/models/Vote/index.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),function(e){e[e.downvoted=-1]="downvoted",e[e.notVoted=0]="notVoted",e[e.upvoted=1]="upvoted"}(s||(s={}));const r=(e,t)=>e.voteState===t?s.notVoted:t,i=e=>{switch(e){case!0:return s.upvoted;case!1:return s.downvoted;default:return s.notVoted}},o=(e,t)=>{const n=e.voteState===t,s=n?0:t,r=n?e.score-t:e.score-e.voteState+t;return Object.assign(Object.assign({},e),{voteState:s,score:r})},c=e=>"UP"===e?s.upvoted:"DOWN"===e?s.downvoted:s.notVoted},"./src/reddit/reducers/features/categories/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/redux/es/redux.js"),r=n("./src/reddit/actions/category/constants.ts");var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:case r.c:return null;case r.a:{const{error:e}=t.payload;return e||null}default:return e}};var o=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.c:return!1;case r.b:return!0;default:return e}};var c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.c:return!0;case r.b:case r.a:return!1;default:return e}},a=Object(s.c)({error:i,loaded:o,pending:c});const d={};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.g:case r.f:{const{categoryId:n}=t.payload,s=Object.assign({},e);return delete s[n],s}case r.e:{const{categoryId:n,error:s}=t.payload;return Object.assign(Object.assign({},e),{[n]:s})}default:return e}};const l={};var b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.g:{const{categoryId:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:!1})}case r.f:{const{categoryId:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:!0})}default:return e}};const p={};var f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.g:{const{categoryId:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:!0})}case r.f:case r.e:{const{categoryId:n}=t.payload;return Object.assign(Object.assign({},e),{[n]:!1})}default:return e}},O=Object(s.c)({error:u,loaded:b,pending:f}),_=Object(s.c)({list:a,subreddits:O}),m=n("./node_modules/lodash/isEmpty.js"),g=n.n(m);const j=[];var E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:{const{categoryIds:n}=t.payload;return g()(n)?e:n}default:return e}};const h={};var I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:{const{categories:n}=t.payload;return g()(n)?e:Object.assign(Object.assign({},e),n)}default:return e}},S=n("./node_modules/lodash/forOwn.js"),y=n.n(S),T=n("./src/reddit/helpers/name/index.ts");const D={};var v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:{const{categories:n}=t.payload;if(g()(n))return e;const s={};return y()(n,e=>{s[Object(T.g)(e.name)]=e.id}),Object.assign(Object.assign({},e),s)}default:return e}},R=n("./src/reddit/actions/global/constants.ts"),A=n("./src/reddit/constants/localStorage.ts");const w={};var C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.a:return t.payload[A.a.CATEGORIES_RANKING_STORE]||e;case r.d:{const{categoryId:n,rank:s}=t.payload;return Object.assign(Object.assign({},e),{[n]:s})}default:return e}};t.a=Object(s.c)({api:_,ids:E,models:I,nameToId:v,ranking:C})},"./src/reddit/reducers/pages/modHub/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/redux/es/redux.js"),r=n("./src/reddit/actions/subredditModeration.ts");var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.e:case r.d:return null;case r.c:return t.payload;default:return e}},o=n("./src/reddit/models/SubredditModeration/index.ts");const c={};var a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.e:{const{subredditId:n,fetchedToken:s}=t.payload,r=Object(o.d)(n,s);return Object.assign(Object.assign({},e),{[r]:!0})}case r.d:case r.c:{const{subredditId:n,fetchedToken:s}=t.payload,r=Object(o.d)(n,s);return Object.assign(Object.assign({},e),{[r]:!1})}default:return e}},d=Object(s.c)({error:i,pending:a});const u={};var l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:{const{fetchedToken:n,subredditId:s}=t.payload,r=Object(o.d)(s,n);return Object.assign(Object.assign({},e),{[r]:!0})}default:return e}};const b={};var p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}},f=n("./node_modules/icepick/icepick.js");const O={};var _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:case r.d:{const{subredditId:n,approvedSubmitters:s}=t.payload,r={[n]:s};return Object(f.merge)(e,r)}case r.i:{const{subredditId:n,userId:s}=t.payload;return Object(f.unsetIn)(e,[n,s])}default:return e}};var m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.h:case r.g:return null;case r.f:return t.payload;default:return e}};var g=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.h:return!0;case r.g:case r.f:return!1;default:return e}},j=Object(s.c)({error:m,pending:g});var E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.h:return null;case r.g:{const e=t.payload.approvedSubmitterIds[0];return e?t.payload.approvedSubmitters[e]:null}default:return e}},h=Object(s.c)({api:j,result:E});const I={};var S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:{const{subredditId:n,approvedSubmitterIds:s}=t.payload;return e[n]?Object.assign(Object.assign({},e),{[n]:[...e[n],...s]}):Object.assign(Object.assign({},e),{[n]:s})}case r.i:{const{subredditId:n,userId:s}=t.payload;return{[n]:e[n].filter(e=>e!==s)}}case r.b:{const{subredditId:n,approvedSubmitterIds:s}=t.payload,r=s[0];return r&&e[n]&&-1===e[n].indexOf(r)?{[n]:[r,...e[n]]}:e}default:return e}},y=Object(s.c)({api:d,fetchedTokens:l,loadMore:p,models:_,search:h,userOrder:S}),T=n("./src/reddit/actions/grantUserFlair/constants.ts");var D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.g:case T.i:return null;case T.f:return t.payload;default:return e}};var v=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.i:return!0;case T.g:case T.f:return!1;default:return e}},R=Object(s.c)({error:D,pending:v}),A=n("./node_modules/lodash/merge.js"),w=n.n(A),C=n("./node_modules/lodash/omit.js"),P=n.n(C);const x={};var k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.g:case T.k:{const{subredditId:n,flairedUsers:s}=t.payload;return w()(Object.assign({},e),{[n]:s})}case T.c:{const{subredditId:n,userName:s}=t.payload,r=P()(e[n],s);return Object.assign(Object.assign({},e),{[n]:r})}case T.a:case T.b:case T.h:const{subredditId:n,userName:s,applied:r}=t.payload;return r?Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]),{[s]:r})}):e;default:return e}};const N={};var U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.g:{const{key:n,pageInfo:s}=t.payload;return Object.assign(Object.assign({},e),{[n]:s})}default:return e}};var L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.l:case T.k:return null;case T.j:return t.payload;default:return e}};var M=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.l:return!0;case T.k:case T.j:return!1;default:return e}},G=Object(s.c)({error:L,pending:M});var F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.k:{const{searchResult:e}=t.payload;return e}case T.c:{const{userName:n}=t.payload;return e===n?null:e}default:return e}},B=Object(s.c)({api:G,result:F});const V={};var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.g:{const{key:n,userOrder:s}=t.payload;return Object.assign(Object.assign({},e),{[n]:s})}case T.a:{const{key:n,userName:s}=t.payload;if(!n)return e;if(!e[n].includes(s)){const t=[...e[n],s];return Object.assign(Object.assign({},e),{[n]:t})}return e}case T.c:{const{userName:n}=t.payload,s={};for(const t in e)s[t]=e[t].filter(e=>e!==n);return s}default:return e}},W=Object(s.c)({api:R,models:k,pageInfo:U,search:B,userOrder:q}),H=n("./src/reddit/actions/moderationLog/constants.ts");const K={};var Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:{const{actionIds:n,key:s,subredditId:r}=t.payload;return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({},e[r]||{}),{[s]:n})})}default:return e}};const z={};var J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:{const{normalizedModerationLog:n,subredditId:s}=t.payload,r={};n.forEach(e=>{r[e.id]=e});const i={[s]:r};return w()(Object.assign({},e),i)}default:return e}},Q=Object(s.c)({itemOrder:Y,models:J});var X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:{const{endCursor:e}=t.payload;return e}default:return e}};const Z={};var $=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:{const{hasNextPage:n,subredditId:s}=t.payload;return Object.assign(Object.assign({},e),{[s]:n})}default:return e}};const ee={};var te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:{const{hasPreviousPage:n,subredditId:s}=t.payload;return Object.assign(Object.assign({},e),{[s]:n})}default:return e}};const ne=[];var se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.a:{const{normalizedModerators:n,subredditId:s}=t.payload;return Object.assign(Object.assign({},e),{[s]:n})}default:return e}};var re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:{const{startCursor:e}=t.payload;return e}default:return e}},ie=Object(s.c)({actions:Q,endCursor:X,hasNextPage:$,hasPreviousPage:te,moderators:se,startCursor:re});const oe={};var ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.E:case r.s:{const{subredditId:n,moderators:s}=t.payload.response||t.payload,r={[n]:s};return Object(f.merge)(e,r)}case r.u:{const{subredditId:n,userId:s,permissions:r}=t.payload;return Object(f.setIn)(e,[n,s,"modPermissions"],r)}case r.Q:{const{subredditId:n,userId:s}=t.payload;return Object(f.unsetIn)(e,[n,s])}default:return e}};const ae={};var de=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.t:case r.s:{const{key:n,subredditId:s}=t.payload;return s?Object.assign(Object.assign({},e),{[n]:null}):e}case r.r:{const{error:n,key:s,subredditId:r}=t.payload;return r?Object.assign(Object.assign({},e),{[s]:n}):e}default:return e}};const ue={};var le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.r:case r.s:{const{subredditId:n,key:s}=t.payload;return n?Object.assign(Object.assign({},e),{[s]:!1}):e}case r.t:{const{subredditId:n,key:s}=t.payload;return n?Object.assign(Object.assign({},e),{[s]:!0}):e}default:return e}},be=Object(s.c)({error:de,pending:le});const pe={};var fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.s:{const{subredditId:n,response:s,key:r}=t.payload;return Object(f.setIn)(e,[n,r],s.moderatorIds)}case r.Q:{const{subredditId:n,userId:s,key:r}=t.payload,i=e[n][r].filter(e=>e!==s);return Object(f.setIn)(e,[n,r],i)}default:return e}},Oe=Object(s.c)({data:fe,api:be});var _e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.x:case r.w:return null;case r.v:return t.payload;default:return e}};var me=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.w:case r.v:return!1;case r.x:return!0;default:return e}},ge=Object(s.c)({error:_e,pending:me});const je={};var Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.w:{const{subredditId:n,moderators:s}=t.payload;return Object(f.set)(e,n,s)}case r.P:{const{subredditId:n,userId:s}=t.payload;return Object(f.unsetIn)(e,[n,s])}case r.a:{const n=t.payload,{subredditId:s,moderators:r}=n,i={[s]:r};return Object(f.merge)(e,i)}default:return e}};const he={};var Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.w:{const{subredditId:n,moderatorIds:s}=t.payload;return Object.assign(Object.assign({},e),{[n]:s})}case r.P:{const{subredditId:n,userId:s}=t.payload,r=e[n].filter(e=>e!==s);return Object.assign(Object.assign({},e),{[n]:r})}case r.a:{const n=t.payload,{subredditId:s,moderatorIds:r}=n,i=[...e[s]||[],...r];return Object.assign(Object.assign({},e),{[s]:i})}default:return e}},Se=Object(s.c)({api:ge,models:Ee,userOrder:Ie});const ye={};var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.B:{const{subredditId:n,response:s}=t.payload,{invitePending:r}=s,i={[n]:r};return Object(f.merge)(e,i)}case r.y:case r.z:{const{subredditId:n}=t.payload;return Object(f.unset)(e,n)}default:return e}};const De={};var ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.s:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Re={};var Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.B:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const we={};var Ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.B:{const{response:n}=t.payload,s={[n.subredditId]:n.moderators};return Object(f.merge)(Object.assign({},e),s)}case r.u:{const n=t.payload,{subredditId:s,userId:r,permissions:i}=n;return e[s]&&e[s][r]?Object(f.setIn)(e,[s,r,"modPermissions"],i):e}default:return e}};var Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.F:case r.E:return null;case r.D:return t.payload;default:return e}};var xe=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.F:return!0;case r.E:case r.D:return!1;default:return e}},ke=Object(s.c)({error:Pe,pending:xe}),Ne=n("./node_modules/lodash/isEqual.js"),Ue=n.n(Ne);var Le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.F:case r.D:case r.Q:return null;case r.E:{const e=t.payload.moderatorIds[0];return e?t.payload.moderators[e]:null}case r.u:{const{userId:n,permissions:s}=t.payload;return e&&e.id===n&&!Ue()(e.modPermissions,s)?Object.assign(Object.assign({},e),{modPermissions:s}):e}default:return e}},Me=Object(s.c)({api:ke,result:Le});const Ge={};var Fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.C:case r.B:{const{subredditId:n,key:s}=t.payload;return n?Object.assign(Object.assign({},e),{[s]:null}):e}case r.A:{const{error:n,subredditId:s,key:r}=t.payload;return s?Object.assign(Object.assign({},e),{[r]:n}):e}default:return e}};const Be={};var Ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.A:case r.B:{const{subredditId:n,key:s}=t.payload;return n?Object.assign(Object.assign({},e),{[s]:!1}):e}case r.C:{const{subredditId:n,key:s}=t.payload;return n?Object.assign(Object.assign({},e),{[s]:!0}):e}default:return e}},qe=Object(s.c)({error:Fe,pending:Ve});n("./node_modules/core-js/modules/web.dom.iterable.js");const We={};var He=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.B:{const{response:n,subredditId:s,key:r}=t.payload,{moderatorIds:i}=n;return Object(f.merge)(e,{[s]:{[r]:i}})}case r.Q:{const{subredditId:n,userId:s}=t.payload,r=Object.assign({},e[n]);return Object.keys(e[n]).forEach(t=>{const i=e[n][t].filter(e=>e!==s);r[t]=i}),Object(f.set)(e,n,r)}default:return e}},Ke=Object(s.c)({data:He,api:qe}),Ye=Object(s.c)({editableModerators:ce,editableUserOrder:Oe,invitedModerators:Se,invitePending:Te,loadMoreModerators:Ae,loadMoreEditableModerators:ve,models:Ce,search:Me,userOrder:Ke}),ze=n("./src/reddit/actions/bulkActions/constants.ts");var Je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze.c:case ze.b:return null;case ze.a:return t.payload;default:return e}},Qe=n("./src/reddit/actions/modQueue/constants.ts");var Xe=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze.c:return!0;case ze.b:case ze.a:case Qe.s:case Qe.r:return!1;default:return e}},Ze=Object(s.c)({error:Je,pending:Xe});const $e={};var et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.a:{const{ids:n}=t.payload,s={};return n.forEach(e=>s[e]=!0),Object.assign(Object.assign({},e),s)}case Qe.d:{const{ids:n}=t.payload;return P()(e,n)}case Qe.c:{const{ids:e}=t.payload,n={};return e.forEach(e=>n[e]=!0),n}default:return e}},tt=n("./src/reddit/models/ModQueue/index.ts");const nt={};var st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze.b:{const{operation:e,ids:n}=t.payload;return"approve"===e?nt:{[tt.c[e]]:n}}default:return e}},rt=Object(s.c)({api:Ze,selectedItems:et,undoLastAction:st});var it=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.g:case Qe.f:return null;case Qe.e:return t.payload;default:return e}};var ot=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.g:return!0;case Qe.f:case Qe.e:return!1;default:return e}},ct=Object(s.c)({error:it,pending:ot});const at={};var dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.f:{const{listingKey:n,page:s,response:r}=t.payload,{modqueue:i}=r;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]||{}),{[s]:i})})}default:return e}};const ut={};var lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.f:{const{listingKey:n,response:s}=t.payload,{modqueue:r}=s,i=r[r.length-1]||null;return Object.assign(Object.assign({},e),{[n]:i})}default:return e}},bt=Object(s.c)({api:ct,itemOrder:dt,loadMore:lt}),pt=n("./src/reddit/actions/pages/modListing/constants.ts");var ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt.e:{const n=t.payload,{moderatingSubreddits:s}=n;return s?null:e}case Qe.i:case Qe.f:case Qe.m:case Qe.p:case Qe.v:{const{response:e}=t.payload,{moderatedAfter:n}=e;return n}case Qe.k:{const e=t.payload,{moderatedAfter:n}=e;return n}default:return e}};const Ot=[];var _t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.i:case Qe.f:case Qe.m:case Qe.p:case Qe.v:{const{response:e}=t.payload,{listingOrder:n}=e;return n}case Qe.k:{const n=t.payload,{listingOrder:s}=n;return[...e,...s]}case pt.e:{const n=t.payload,{listingOrder:s}=n;return s||e}default:return e}};var mt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.b:return!0;default:return e}};var gt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.k:return!0;case Qe.b:return!1;default:return e}},jt=Object(s.c)({after:ft,data:_t,loaded:mt,pending:gt});var Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.j:case Qe.i:return null;case Qe.h:return t.payload;default:return e}};var ht=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.j:return!0;case Qe.i:case Qe.h:return!1;default:return e}},It=Object(s.c)({error:Et,pending:ht});const St={};var yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.i:{const{listingKey:n,page:s,response:r}=t.payload,{modqueue:i}=r;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]||{}),{[s]:i})})}default:return e}};const Tt={};var Dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.i:{const{listingKey:n,response:s}=t.payload,{modqueue:r}=s,i=r[r.length-1]||null;return Object.assign(Object.assign({},e),{[n]:i})}default:return e}},vt=Object(s.c)({api:It,itemOrder:yt,loadMore:Dt});var Rt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.n:case Qe.m:return null;case Qe.l:return t.payload;default:return e}};var At=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.n:return!0;case Qe.m:case Qe.l:return!1;default:return e}},wt=Object(s.c)({error:Rt,pending:At});const Ct={};var Pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.m:{const{listingKey:n,page:s,response:r}=t.payload,{modqueue:i}=r;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]||{}),{[s]:i})})}default:return e}};const xt={};var kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.m:{const{listingKey:n,response:s}=t.payload,{modqueue:r}=s,i=r[r.length-1]||null;return Object.assign(Object.assign({},e),{[n]:i})}default:return e}},Nt=Object(s.c)({api:wt,itemOrder:Pt,loadMore:kt});var Ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.q:case Qe.p:return null;case Qe.o:return t.payload;default:return e}};var Lt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.q:return!0;case Qe.p:case Qe.o:return!1;default:return e}},Mt=Object(s.c)({error:Ut,pending:Lt});const Gt={};var Ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.p:{const{listingKey:n,page:s,response:r}=t.payload,{modqueue:i}=r;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]||{}),{[s]:i})})}default:return e}};const Bt={};var Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.p:{const{listingKey:n,response:s}=t.payload,{modqueue:r}=s,i=r[r.length-1]||null;return Object.assign(Object.assign({},e),{[n]:i})}default:return e}},qt=Object(s.c)({api:Mt,itemOrder:Ft,loadMore:Vt});var Wt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.w:case Qe.v:return null;case Qe.u:return t.payload;default:return e}};var Ht=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.w:return!0;case Qe.v:case Qe.u:return!1;default:return e}},Kt=Object(s.c)({error:Wt,pending:Ht});const Yt={};var zt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.v:{const{listingKey:n,page:s,response:r}=t.payload,{modqueue:i}=r;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},e[n]||{}),{[s]:i})})}default:return e}};const Jt={};var Qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.v:{const{listingKey:n,response:s}=t.payload,{modqueue:r}=s,i=r[r.length-1]||null;return Object.assign(Object.assign({},e),{[n]:i})}default:return e}},Xt=Object(s.c)({api:Kt,itemOrder:zt,loadMore:Qt}),Zt=Object(s.c)({bulkAction:rt,edited:bt,moderatedCommunitiesOrder:jt,modqueue:vt,reports:Nt,spam:qt,unmoderated:Xt});var $t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.J:case r.H:return null;case r.G:return t.payload;default:return e}};const en={};var tn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.J:{const{subredditId:n,fetchedToken:s}=t.payload,r=Object(o.d)(n,s);return Object.assign(Object.assign({},e),{[r]:!0})}case r.H:case r.G:{const{subredditId:n,fetchedToken:s}=t.payload,r=Object(o.d)(n,s);return Object.assign(Object.assign({},e),{[r]:!1})}default:return e}},nn=Object(s.c)({error:$t,pending:tn});const sn={};var rn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.H:{const{fetchedToken:n,subredditId:s}=t.payload,r=Object(o.d)(s,n);return Object.assign(Object.assign({},e),{[r]:!0})}default:return e}},on=n("./src/reddit/actions/inContextModeration.ts");var cn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case on.b:return t.payload;default:return e}};const an={};var dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.H:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const un={};var ln=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.I:case r.H:{const{subredditId:n,mutedUsers:s}=t.payload,r={[n]:s};return Object(f.merge)(e,r)}case r.N:{const{subredditId:n,userId:s}=t.payload;return Object(f.unsetIn)(e,[n,s])}default:return e}};var bn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.M:case r.L:return null;case r.K:return t.payload;default:return e}};var pn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.M:return!0;case r.L:case r.K:return!1;default:return e}},fn=Object(s.c)({error:bn,pending:pn});var On=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.M:case r.K:return null;case r.L:{const e=t.payload.mutedUserIds[0];return e?t.payload.mutedUsers[e]:null}default:return e}},_n=Object(s.c)({api:fn,result:On});const mn={};var gn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.H:{const{subredditId:n,mutedUserIds:s}=t.payload;return e[n]?Object.assign(Object.assign({},e),{[n]:[...e[n],...s]}):Object.assign(Object.assign({},e),{[n]:s})}case r.N:{const{subredditId:n,userId:s}=t.payload;return{[n]:e[n].filter(e=>e!==s)}}case r.I:{const{subredditId:n,mutedUserIds:s}=t.payload,r=s[0];return r&&e[n]&&-1===e[n].indexOf(r)?{[n]:[r,...e[n]]}:e}default:return e}},jn=Object(s.c)({api:nn,fetchedTokens:rn,inContext:cn,loadMore:dn,models:ln,search:_n,userOrder:gn});t.a=Object(s.c)({approvedSubmitters:y,flairedUsers:W,moderationLog:ie,moderators:Ye,modQueue:Zt,muted:jn})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s,r=n("./src/reddit/actions/ads/constants.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(s||(s={}));const i={};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.t:case r.q:{const n=t.payload;return Object.assign(Object.assign({},e),n)}case r.r:case r.t:return e;case r.v:return i;default:return e}}},"./src/reddit/reducers/tags/selected/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s,r=n("./node_modules/lodash/uniqWith.js"),i=n.n(r),o=n("./node_modules/lodash/values.js"),c=n.n(o),a=n("./src/reddit/actions/tags/constants.ts"),d=n("./src/reddit/models/Option/index.ts"),u=n("./src/reddit/models/Tags/index.ts");!function(e){e.ADD="ADD",e.REMOVE="REMOVE"}(s||(s={}));const l={selectedOptions:{},selectedSuggestedOptions:{},deselectedOptions:{},deselectedSuggestedOptions:{},inputByItemId:{},suggestedInputByItemId:{}};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.w:case a.r:{const{subredditId:n,itemTags:s,suggestedItemTags:r}=t.payload,o=i()([...(e.selectedOptions[n]||[]).map(e=>{if(!e.id){const t=c()(s[n]||{}).find(t=>e.displayText.toLowerCase().trim()===t.tag.text.toLowerCase().trim());if(t)return Object.assign(Object.assign({},Object(u.e)(t,!0)),{action:null})}return e}),...c()(s[n]||{}).map(e=>Object.assign(Object.assign({},Object(u.e)(e,!0)),{action:null}))],d.a);return Object.assign(Object.assign({},e),{selectedOptions:Object.assign(Object.assign({},e.selectedOptions),{[n]:o.map(e=>Object.assign(Object.assign({},e),{action:e.id?null:e.action}))}),selectedSuggestedOptions:Object.assign(Object.assign({},e.selectedSuggestedOptions),{[n]:c()(r[n]||{}).map(e=>Object.assign(Object.assign({},Object(u.e)(e,!0)),{action:null}))}),deselectedOptions:Object.assign(Object.assign({},e.deselectedOptions),{[n]:[]})})}case a.D:case a.z:{const{subredditId:n,option:r}=t.payload,o=t.type===a.z?"selectedOptions":"selectedSuggestedOptions",c=t.type===a.z?"deselectedOptions":"deselectedSuggestedOptions",u=(e[c][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,r));let b=s.ADD;return l>-1&&(b=null,u.splice(l,1)),Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},e[o]),{[n]:i()([...e[o][n]||[],Object.assign(Object.assign({},r),{action:b})],d.a)}),[c]:Object.assign(Object.assign({},e[c]),{[n]:u})})}case a.C:case a.y:{const{subredditId:n,option:r}=t.payload,i=t.type===a.y?"selectedOptions":"selectedSuggestedOptions",o=t.type===a.y?"deselectedOptions":"deselectedSuggestedOptions",c=(e[o][n]||[]).slice(),u=(e[i][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,r));return l>-1&&(null===u[l].action&&c.push(Object.assign(Object.assign({},u[l]),{action:s.REMOVE})),u.splice(l,1)),Object.assign(Object.assign({},e),{[i]:Object.assign(Object.assign({},e[i]),{[n]:u}),[o]:Object.assign(Object.assign({},e[o]),{[n]:c})})}case a.A:{const{itemTagsState:n}=t.payload,s=Object.keys(n);if(!s.length)return e;const r={selectedOptions:{},deselectedOptions:{},inputByItemId:{}},i=s.reduce((e,t)=>(e.selectedOptions[t]=c()(n[t]).map(e=>Object.assign(Object.assign({},Object(u.e)(e,!0)),{action:null})),e.deselectedOptions[t]=[],e.inputByItemId[t]="",e),r);return Object.assign(Object.assign({},e),{inputByItemId:Object.assign(Object.assign({},e.inputByItemId),i.inputByItemId),selectedOptions:Object.assign(Object.assign({},e.selectedOptions),i.selectedOptions),deselectedOptions:Object.assign(Object.assign({},e.deselectedOptions),i.deselectedOptions)})}case a.B:case a.x:{const{subredditId:n,input:s}=t.payload,r=t.type===a.x?"inputByItemId":"suggestedInputByItemId";return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({},e[r]),{[n]:s})})}case a.i:case a.h:{const{subredditId:n,primaryTagId:s}=t.payload;if(!s||!n)return e;const r=e.selectedOptions[n];if(r){const t=r.findIndex(e=>e.id===s),i=[...r];return t>=0&&i.splice(t,1),Object.assign(Object.assign({},e),{selectedOptions:Object.assign(Object.assign({},e.selectedOptions),{[n]:i})})}return e}default:return e}}},"./src/reddit/selectors/PublicAccessNetwork/api.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"o",(function(){return _})),n.d(t,"n",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return S}));var s=n("./node_modules/reselect/es/index.js"),r=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/helpers/publicAccessNetwork/index.ts");const c=e=>e.publicAccessNetwork.api.config,a=(e,t)=>!!t&&!!e.publicAccessNetwork.api.error[Object(o.h)(t)],d=e=>a(e,i.b),u=(e,t)=>!!t&&!!e.publicAccessNetwork.api.pending[Object(o.h)(t)]&&e.publicAccessNetwork.api.pending[Object(o.h)(t)].isPending,l=e=>u(e,i.b),b=e=>e.publicAccessNetwork.api.pending[i.b]&&e.publicAccessNetwork.api.pending[i.b].fetchedUtcTimeStamp,p=Object(s.a)(c,e=>e.global),f=Object(s.a)((e,t)=>{let{subreddit:n}=t;return n},c,(e,t)=>{const n=e.toLowerCase();return t.subreddits[n]}),O=Object(s.a)(c,e=>e.global.rpan_intro_video_url),_=Object(s.a)(c,e=>e.global.url_to_show_for_unavailable_video),m=Object(s.a)(c,e=>!1),g=Object(s.a)(c,e=>e.isError),j=Object(s.a)(c,e=>e.global.max_chat_comment_length),E=e=>e.publicAccessNetwork.api.recommendedViewerSubreddits,h=(Object(s.a)(E,e=>e.isError),Object(s.a)(E,e=>e.isPending)),I=Object(r.a)(Object(s.a)(E,e=>e.subreddits)),S=Object(s.a)(I,e=>[{name:"All",prefixedName:"All",path:Object(o.e)()},...e.map(e=>({name:e,prefixedName:"r/".concat(e),path:Object(o.g)(e)}))])},"./src/reddit/selectors/activeModalId.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));const s=e=>e.activeModalId,r=e=>t=>t.activeModalId===e},"./src/reddit/selectors/brandSafety.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/isFakeSubreddit/index.ts"),i=n("./src/reddit/contexts/PageLayer/selectors.ts"),o=n("./src/reddit/models/WhitelistStatus/index.ts"),c=n("./src/reddit/selectors/posts.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=new Set([s.P.NEW,s.P.RISING,s.P.CONTROVERSIAL]),u=e=>e.brandSafety.hasBrandSafetyBeenAssessed,l=(e,t)=>{let{postId:n}=t;const s=Object(c.O)(e,{postId:n}),r=Object(c.bb)(e,{postId:n});return!(!s||!r)&&(r.wls===o.b.ALL_ADS&&!s.isNSFW)},b=e=>e.brandSafety.isViewSafe,p=e=>!e.brandSafety.isViewSafe,f=(e,t)=>{const{listingName:n,pageLayer:s}=t,c=Object(a.A)(e,{subredditName:n}),u=Object(i.b)(e,{pageLayer:s});return(!u||!d.has(u))&&(!(c||!Object(r.a)(n))||!!c&&c.wls===o.b.ALL_ADS)}},"./src/reddit/selectors/communityFlairs.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var s=n("./node_modules/reselect/es/index.js");const r=(e,t)=>{const n=e.communityFlairs[t];return n&&n.sortedKeys},i=Object(s.a)(r,e=>e),o=(e,t)=>{const n=e.communityFlairs[t];return n&&n.models},c=Object(s.a)(o,e=>e),a=(Object(s.a)((e,t)=>o(e,t),(e,t)=>r(e,t),(e,t)=>{if(t&&e)return t.map(t=>e[t])}),(e,t)=>e.communityFlairs.hasOwnProperty(t))},"./src/reddit/selectors/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return j}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/constants/index.ts"),r=n("./src/lib/makeListingKey/index.ts"),i=n("./src/lib/objectSelector/index.ts"),o=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/DiscoveryUnit/index.ts"),a=n("./src/reddit/selectors/category.ts"),d=(n("./src/reddit/selectors/listings.ts"),n("./src/reddit/selectors/posts.ts")),u=(n("./src/reddit/selectors/subreddit.ts"),n("./src/reddit/selectors/experiments/econ/predictions.ts"));const l=[],b=e=>e.discoveryUnits.api.list.loaded,p=e=>e.discoveryUnits.api.list.pending,f=(e,t)=>{let{unitName:n}=t;const s=e.discoveryUnits.nameToId[Object(o.g)(n)];return e.discoveryUnits.models[s]},O=(e,t)=>{let{listingKey:n}=t;const s=Object(d.R)(e);return Object(d.H)(e,{listingKey:n,predictionsEnabled:Object(u.c)(e)}).filter(e=>{const t=s[e];return t&&!t.isStickied&&!t.isSponsored})},_=()=>Object(i.a)((e,t)=>{let n,{categoryName:i,id:o,unitName:c}=t;if(i&&!(n=Object(a.f)(e,{categoryName:i})))return l;const d=o||n&&n.id,u=Object(r.a)(c,s.P.HOT,{category:d});return O(e,{listingKey:u})}),m=e=>f(e,{unitName:c.c}),g=new Set(["sequence"]),j=e=>{const t=e.platform.currentPage;if(t){const{meta:e,urlParams:n}=t,s=e&&e.name||"",r=n&&n.subredditName||"",i="subreddit"===s,o=g.has(r.toLowerCase());return i&&o}return!1}},"./src/reddit/selectors/downToChat.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));const s=(e,t)=>e.chat.downToChat.subreddits[t]&&e.chat.downToChat.subreddits[t].bannerEnabled,r=(e,t)=>e.chat.downToChat.subreddits[t]&&e.chat.downToChat.subreddits[t].buttonEnabled,i=(e,t)=>!!e.chat.downToChat.subreddits[t]},"./src/reddit/selectors/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n("./node_modules/reselect/es/index.js"),r=n("./src/reddit/helpers/localStorage/index.ts"),i=n("./src/reddit/selectors/user.ts");const o=Object(s.a)(i.J,i.l,i.z,(e,t,n)=>e&&!t&&!n),c=e=>(()=>0===Object(r.l)())()&&o(e)},"./src/reddit/selectors/experiments/avatarsInComments.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n("./node_modules/reselect/es/index.js"),r=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),o=n("./src/reddit/selectors/user.ts");const c=Object(s.a)(o.J,o.I,(e,t)=>e||t),a=Object(s.a)(e=>Object(i.c)(e,{experimentEligibilitySelector:c,experimentName:r.h}),e=>e===r.j.Active),d=Object(s.a)(o.J,o.I,(e,t)=>!e&&!t),u=Object(s.a)(e=>Object(i.c)(e,{experimentEligibilitySelector:d,experimentName:r.i}),e=>e===r.j.Active),l=Object(s.a)(a,u,(e,t)=>e||t)},"./src/reddit/selectors/experiments/econ/predictions.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/helpers/chooseVariant/index.ts");const i=e=>t=>{const n=Object(r.c)(t,{experimentEligibilitySelector:r.a,experimentName:e});return!(!n||Object(s.kd)(n))},o=i(s.mb),c=i(s.ob),a=i(s.nb),d=i(s.pb),u=i(s.qb)},"./src/reddit/selectors/experiments/goldSubredditPowerups.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/helpers/chooseVariant/index.ts");const i=e=>{return Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:s.Ab})===s.Gb.Enabled}},"./src/reddit/selectors/experiments/gqlSubredditPage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/helpers/chooseVariant/index.ts");const i=e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:s.M})===s.S.Enabled,o=e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:s.L})===s.R.Enabled},"./src/reddit/selectors/experiments/postActionBarAnimation.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var s=n("./src/reddit/components/CountAnimation/helpers.ts"),r=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/featureFlags/index.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/userPrefs.ts");const a=e=>i.d.actionBarAnimationExperiment(e)&&!Object(c.c)(e)&&(e=>{return Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:r.dc})===r.lc.BarAnimation})(e),d=(e,t)=>{let{postId:n,isActionBarAnimationEnabled:r,isForceSelected:i}=t;if(!n||Object(c.c)(e)||!r)return;const o=e.posts.models[n];if(!o)return;if(i)return Object(s.f)(o)&&Object(s.g)(o)&&Object(s.a)(o.score)||void 0;const a=e.actionBarCountAnimation.upvoteDiscount[n];return null==a?void 0:a.totalDiscount},u=(e,t)=>{let{postId:n,isActionBarAnimationEnabled:r,isForceSelected:i}=t;if(!n||Object(c.c)(e)||!r)return;const o=e.posts.models[n];if(!o)return;if(i)return Object(s.f)(o)&&Object(s.e)(o)&&Object(s.a)(o.numComments)||void 0;const a=e.actionBarCountAnimation.commentDiscount[n];return a&&a.totalDiscount},l=(e,t)=>{let{postId:n,isForceSelected:s}=t;return a(e)&&!(!u(e,{postId:n,isActionBarAnimationEnabled:!0,isForceSelected:s})&&!d(e,{postId:n,isActionBarAnimationEnabled:!0,isForceSelected:s}))}},"./src/reddit/selectors/experiments/publicAccessNetwork.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"l",(function(){return _})),n.d(t,"k",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return j}));var s=n("./node_modules/reselect/es/index.js"),r=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>r.Kc.RulesAndWarnings===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.yc}),c=e=>r.Kc.WarningsOnly===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.yc}),a=e=>r.tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.kc}),d=e=>r.Sc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Oc}),u=e=>r.Tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Pc}),l=(e,t,n)=>{const s=n(e,t);return!(!s||!s.meter)&&(s.meter.enabled&&u(e)&&r.id.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.ed}))},b=Object(s.a)(e=>Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Cc}),e=>e===r.Mc.Enabled),p=e=>r.tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Fc}),f=e=>r.tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Ac}),O=e=>r.tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Dc}),_=e=>Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Bc}),m=e=>{switch(e){case r.Lc.Five:return.05;case r.Lc.Ten:return.1;case r.Lc.Fifty:return.5;default:return.01}},g=e=>r.tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Gc}),j=e=>r.tc.Enabled===Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.zc})},"./src/reddit/selectors/experiments/survey.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l}));var s=n("./src/reddit/constants/experiments.ts"),r=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/moderatorPermissions.ts"),o=n("./src/reddit/selectors/platform.ts");const c=e=>e.subscriptions.subredditOrder.includes("t5_32b7p")&&"enabled"===Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:"d2x_layer_survey"}),a=e=>{const t=Object(o.d)(e),n=t&&Object(i.g)(e,{subredditId:t}),s="enabled"===Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:"d2x_mods_survey"});return!!n&&!!s},d=e=>a(e)||c(e)||(e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:s.ac})===s.cc.Enabled)(e)||(e=>"enabled"===Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:"survey_demo_nps_1"}))(e)||(e=>"enabled"===Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:"survey_demo_combined_1"}))(e),u=e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:s.Zb})===s.bc.Enabled,l=e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:s.dd})===s.hd.Enabled},"./src/reddit/selectors/experiments/topPosts.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b}));var s=n("./node_modules/reselect/es/index.js"),r=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/contexts/PageLayer/index.tsx"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(s.a)(c.J,(e,t)=>{let{pageLayer:n}=t;return Object(i.y)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(i.K)(n)},(e,t,n)=>!e&&!t&&n),d=Object(s.a)((e,t)=>Object(o.c)(e,{experimentName:r.X,experimentEligibilitySelector:e=>a(e,t)}),e=>e),u=e=>e===r.Yc.NoCommunityWidgets,l=e=>e===r.Yc.NoRulesModerators,b=e=>e===r.Yc.RelatedPostsDu},"./src/reddit/selectors/experiments/topicLinks.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./node_modules/reselect/es/index.js"),r=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),o=n("./src/reddit/selectors/user.ts");const c=Object(s.a)(o.J,o.I,(e,t)=>!e&&!t),a=e=>Object(i.b)(e,{experimentName:r.P,experimentEligibilitySelector:c,expEventOverride:!1})===r.U.Enabled},"./src/reddit/selectors/externalAccount.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var s=n("./src/reddit/models/ExternalAccount/index.ts"),r=n("./src/reddit/models/User/index.ts"),i=n("./src/reddit/selectors/user.ts");const o=(e,t)=>{let{username:n}=t;return!!e.externalAccount.api.user.pending[n]},c=(e,t)=>{let{username:n}=t;return e.externalAccount.user[n]},a=e=>{const t=Object(i.i)(e);if(!t)return;const n=Object(r.e)(t),s=c(e,{username:n});return s?s.twitter:void 0},d=e=>!!e.externalAccount.api.connect.pending[s.a.Twitter],u=(e,t)=>{let{profileName:n}=t;if(!n)return null;const o=c(e,{username:n});if(!o)return null;const a=o[s.a.Twitter];if(!a)return null;const d=Object(i.i)(e);if(!(d&&Object(r.e)(d).toLowerCase()===n.toLowerCase()))return a;const u=Object(i.kb)(e,{userName:n});return u?u.prefShowTwitter?a:null:a}},"./src/reddit/selectors/focusedVerticalSuggestion.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return h}));n("./node_modules/core-js/modules/es6.array.sort.js");var s=n("./src/reddit/featureFlags/index.ts"),r=n("./src/reddit/selectors/posts.ts"),i=n("./src/reddit/selectors/subreddit.ts"),o=n("./src/reddit/selectors/user.ts"),c=n("./src/reddit/selectors/experiments/econ/predictions.ts");const a=(e,t)=>{const n=e.focusedVerticals.interactedSubredditIds&&e.focusedVerticals.interactedSubredditIds[t];if(n){const t=Object(i.S)(e,{subredditId:n});return t&&t.displayText||""}return""},d=(e,t)=>e.focusedVerticals.interactedSubredditIds&&e.focusedVerticals.interactedSubredditIds[t]||"",u=e=>e.focusedVerticals.components.dismissed,l=[],b=(e,t)=>{const n=p(e,t);if(!n)return l;const s=Object(i.W)(e,{subredditName:n.name});return s&&s.postIds&&s.postIds.length?s.postIds:l},p=(e,t)=>{const n=e.focusedVerticals.recommendedSubredditIds&&e.focusedVerticals.recommendedSubredditIds[t];return n?Object(i.S)(e,{subredditId:n}):null},f=(e,t,n,s,i)=>{const o=i.find(e=>e<=t)||-1,c=i.find(e=>e>t)||1/0;return t!==c&&t!==o&&(!(o+n>t)&&(!(t+n>c)&&!((e,t,n)=>{const s=n[t-1],i=n[t],o=i&&Object(r.O)(e,{postId:s})||null,c=i&&Object(r.O)(e,{postId:i})||null;return o&&o.isSponsored||c&&c.isSponsored})(e,t,s)))},O=[3],_=(e,t,n)=>{let{listingKey:s}=n;const i=t.slice().sort();let o=-1;const a=Object(r.H)(e,{listingKey:s,predictionsEnabled:Object(c.c)(e)}),d=[];return O.forEach(t=>{let n=o+t;if(!(n>=a.length)){for(;n<a.length&&!f(e,n,t,a,i);)n+=1;n<a.length&&(d.push(n),o=n)}}),d},m=e=>{return e.focusedVerticals.api.pending.focusedVerticalGqlPending},g=e=>{return e.focusedVerticals.api.error.focusedVerticalGqlError},j=e=>e.focusedVerticals.category,E=e=>e.focusedVerticals.lastLoadedEnv,h=e=>{const t=Object(o.I)(e),n=s.d.geoSubredditRecommendationDULoggedIn(e),r=s.d.geoSubredditRecommendationDULoggedOut(e);return t&&n||!t&&r}},"./src/reddit/selectors/gild.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u}));const s=e=>e.gild.gildModalThingId,r=e=>e.gild.correlationId||void 0,i=e=>e.gild.isAnonymous,o=e=>e.gild.isIframed,c=e=>e.gild.message,a=e=>e.gild.api.pending,d=e=>e.gild.api.error,u=e=>e.gild&&e.gild.giveAwardTooltipThingId},"./src/reddit/selectors/gold/purchaseCatalog.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return _}));var s=n("./src/reddit/selectors/communityAwards.ts");const r=e=>e.goldPurchase.purchaseCatalog.activeSaleConfig,i=e=>{return e.goldPurchase.purchaseCatalog.coinPackages.storefrontPackageIds.map(t=>e.goldPurchase.purchaseCatalog.coinPackages.models[t])},o=(e,t)=>{return i(e).find(e=>e.mobileId===t)},c=e=>{return e.goldPurchase.purchaseCatalog.coinPackages.dealPackageIds.map(t=>e.goldPurchase.purchaseCatalog.coinPackages.models[t])},a=(e,t)=>{return c(e).filter(e=>e.mobileId===t)[0]},d=e=>{return e.goldPurchase.purchaseCatalog.coinPackages.recommendedPackageIds.map(t=>e.goldPurchase.purchaseCatalog.coinPackages.models[t])},u=e=>e.goldPurchase.purchaseCatalog.premiumPackages,l=(e,t)=>{return u(e).find(e=>e.mobileId===t)},b=e=>e.goldPurchase.purchaseCatalog.api.storefrontPending,p=e=>e.goldPurchase.purchaseCatalog.api.errorMessage,f=e=>e.goldPurchase.purchaseCatalog.api.recommendedPending,O=e=>{var t;return!!(null===(t=e.goldPurchase.purchaseCatalog.freeAwardEvent)||void 0===t?void 0:t.isEnabled)},_=e=>{var t;const n=null===(t=e.goldPurchase.purchaseCatalog.freeAwardEvent)||void 0===t?void 0:t.awardIds[0];return n?Object(s.a)(e,n):null}},"./src/reddit/selectors/header.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>e.header.isSubscriptionsDropdownOpen},"./src/reddit/selectors/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var s=n("./src/reddit/models/Image/index.tsx");const r=e=>e.imageUploads,i=(e,t)=>{let{id:n}=t;return r(e)[n]},o=(e,t)=>{const n=r(e),i=[];for(const r in n){const e=n[r];e.kind===s.b.TempUploaded&&e.context===t&&i.push(e)}return i}},"./src/reddit/selectors/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var s=n("./src/reddit/featureFlags/index.ts"),r=n("./src/reddit/selectors/moderatorPermissions.ts");const i=(e,t)=>{let{subredditId:n}=t;if(!s.d.subredditInlineEditing(e))return!1;const i=n?Object(r.j)(e,{subredditId:n}):null;return!!i&&(e=>!!e&&e.config)(i)},o=e=>e.subreddits.api.inlineEditing.pending},"./src/reddit/selectors/interceptedAction.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>e.interceptedAction},"./src/reddit/selectors/modQueue.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return O}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/constants/index.ts"),r=n("./src/reddit/helpers/makeModQueueListingKey/index.ts"),i=n("./src/lib/objectSelector/index.ts"),o=n("./src/lib/initializeClient/installReducer.ts"),c=n("./src/reddit/reducers/pages/modHub/index.ts");Object(o.a)({pages:{modHub:c.a}});const a=(e,t)=>Object(r.a)({onlyOfType:t.queryParams.only,profile:t.profileName,subreddit:t.subredditName}),d=Object(i.a)((e,t)=>{var n,s,r;const{pageName:i,page:o}=t,c=a(0,t);if(!(null===(r=null===(s=null===(n=e.pages.modHub.modQueue[i])||void 0===n?void 0:n.itemOrder)||void 0===s?void 0:s[c])||void 0===r?void 0:r[o]))return;const d=e.pages.modHub.modQueue[i].itemOrder[c][o];return d?d.map(t=>e.posts.models[t]||e.comments.models[t]):[]}),u=(e,t)=>{var n;const{pageName:s}=t;return null===(n=e.pages.modHub.modQueue[s])||void 0===n||!n.api||e.pages.modHub.modQueue[s].api.pending},l=(e,t)=>{var n;const s=a(0,t);return null===(n=e.pages.modHub.modQueue[t.pageName])||void 0===n?void 0:n.loadMore[s]},b=e=>Object.keys(e.pages.modHub.modQueue.bulkAction.selectedItems),p=e=>e.pages.modHub.modQueue.bulkAction.api.pending,f=e=>e.pages.modHub.modQueue.moderatedCommunitiesOrder.data,O=e=>{const t=e.platform&&e.platform.currentPage;return t&&t.meta&&(t.meta.name===s.Fb.MODERATION_PAGES||t.meta.name===s.Fb.MODQUEUE_PAGES)}},"./src/reddit/selectors/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>t=>t.notificationBannerId===e},"./src/reddit/selectors/oldSiteRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>e.oldSiteRules},"./src/reddit/selectors/searchResults.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b}));n("./node_modules/core-js/modules/es6.regexp.search.js");const s=[],r=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.error[n]},i=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.identifiers[n]||[]},c=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]},a=e=>{const t=e.search.searchQuery;if(!t)return s;const n=e.search.typeahead.idsByQuery[t.toLowerCase()];if(!n)return s;const r=[];return n.forEach(t=>{r.push(e.search.typeahead.models[t])}),r},d=e=>e.search.typeahead.idsByQuery,u=e=>{const t=e.listings.activeKey;return e.search.viewTreatment[t]},l=e=>{const t=e.listings.activeKey;if(t)return e.searchDiscoveryUnits.headerContent[t]},b=(e,t)=>t?e.search.relatedQueries[t.toLowerCase()]:s},"./src/reddit/selectors/seo/linksModule.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./node_modules/reselect/es/index.js"),r=n("./src/reddit/selectors/user.ts");const i=e=>!Object(r.J)(e)&&e.seo.linksModule.frontpage||null,o=e=>{const t=e.split("/");if("r"===t[1])return t[2]},c=Object(s.a)(i,e=>e?e.map(e=>Object.assign(Object.assign({},e),{links:e.links.map(e=>Object.assign(Object.assign({},e),{title:o(e.url)})).filter(e=>e.title)})):null),a=Object(s.a)(c,e=>e?e.map(e=>Object.assign(Object.assign({},e),{links:e.links.filter(e=>e.visible)})):null),d=(e,t)=>{let{subredditId:n}=t;const s=((e,t)=>{let{subredditId:n}=t;return e.seo.linksModule.subreddits&&e.seo.linksModule.subreddits[n]})(e,{subredditId:n});return s&&s.subreddits}},"./src/reddit/selectors/seo/topicLinks.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=(e,t)=>{let{subredditId:n}=t;return e.seo.topicLinks.subreddits&&e.seo.topicLinks.subreddits[n]}},"./src/reddit/selectors/tags.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"r",(function(){return _})),n.d(t,"D",(function(){return m})),n.d(t,"E",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"v",(function(){return S})),n.d(t,"w",(function(){return y})),n.d(t,"t",(function(){return R})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return P})),n.d(t,"s",(function(){return x})),n.d(t,"n",(function(){return k})),n.d(t,"C",(function(){return N})),n.d(t,"B",(function(){return U})),n.d(t,"x",(function(){return L})),n.d(t,"a",(function(){return M})),n.d(t,"u",(function(){return G})),n.d(t,"F",(function(){return F})),n.d(t,"z",(function(){return B})),n.d(t,"A",(function(){return q})),n.d(t,"j",(function(){return W})),n.d(t,"y",(function(){return H})),n.d(t,"G",(function(){return K})),n.d(t,"p",(function(){return Y})),n.d(t,"q",(function(){return z}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/lodash/some.js"),r=n.n(s),i=n("./node_modules/lodash/values.js"),o=n.n(i),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/helpers/tags/index.ts"),d=n("./src/reddit/models/Tags/index.ts");const u=e=>{const t=H(e),n=t&&t.id;return o()((e=>{const t=l(e)?w(e):R(e),n=b(e),s=t.reduce((e,t)=>(e[t.id]=Object(d.f)(t),e),{});return n.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),s)})(e)).filter(e=>!e.selected&&e.id!==n)},l=e=>e.tags.creation.tagInput||"",b=e=>e.tags.creation.selectedOptions||[],p=e=>{const t=[];for(let n=0;n<b(e).length;n++)b(e)[n].id&&t.push(b(e)[n].id);return t||[]},f=e=>(b(e)||[]).filter(e=>!!e.displayText).map(e=>e.displayText),O=e=>{const t=[];for(let n=0;n<b(e).length;n++)b(e)[n].id||t.push(b(e)[n].displayText);return t||[]},_=e=>Object.keys(e.tags.models.globalSubredditTags).length>0,m=e=>e.tags.api.create.error||e.tags.api.deleteTag.error||e.tags.api.fetch.error||e.tags.api.update.error,g=e=>e.tags.api.create.pending||e.tags.api.deleteTag.pending||e.tags.api.fetch.pending||e.tags.api.update.pending,j=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.inputByItemId[n]||""},E=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.suggestedInputByItemId[n]||""},h=[],I=(e,t)=>{let{subredditId:n}=t;return r()(S(e,{subredditId:n}),e=>!!e.action)||r()(T(e,{subredditId:n}),e=>!!e.action)},S=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.selectedOptions[n]||h},y=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.selectedSuggestedOptions[n]||h},T=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.deselectedOptions[n]||h},D={},v={},R=e=>e.tags.availableGlobalTagOrder.recommendedGlobal.map(t=>e.tags.models.globalSubredditTags[t]),A=e=>e.tags.models.globalSubredditTags,w=e=>e.tags.availableGlobalTagOrder.global.map(t=>e.tags.models.globalSubredditTags[t]),C=(e,t)=>{let{subredditId:n}=t;return e.tags.models.subredditScopedTags[n]||v},P=(e,t)=>{const n=o()(t);for(let s=0;s<n.length;s++)if(n[s].text.toLowerCase().trim()===e.toLowerCase().trim())return n[s];return null},x=(e,t)=>{let{itemId:n}=t;return e.tags.models.itemTags[n]||D},k=(e,t)=>{let{itemId:n}=t;return!!e.tags.models.itemTags[n]},N=(e,t)=>{let{itemId:n}=t;return e.tags.models.suggestedItemTags[n]||D},U=(e,t)=>{let{itemId:n}=t;return o()(N(e,{itemId:n})).filter(e=>e.isRelevant).map(e=>Object(d.e)(e,!0))},L=(e,t)=>{let{itemId:n}=t;return e.tags.models.sortedItemTags[n]||[]},M=Object(c.a)((e,t)=>{let{thingId:n,suggested:s=!1}=t;const r=B(e,{subredditId:n});return o()(((e,t)=>{let{thingId:n,suggested:s=!1}=t;const r=(s?E(e,{subredditId:n}):j(e,{subredditId:n}))?w(e):R(e),i=s?y(e,{subredditId:n}):S(e,{subredditId:n}),o=r.reduce((e,t)=>(e[t.id]=Object(d.f)(t),e),{});return i.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),o)})(e,{thingId:n,suggested:s})).filter(e=>!e.selected&&e.id!==r)}),G=(e,t)=>{let{subredditId:n}=t;return S(e,{subredditId:n}).concat(T(e,{subredditId:n}))},F=(e,t)=>{let{subredditId:n}=t;return S(e,{subredditId:n}).filter(a.b).map(e=>({text:e.displayText,type:d.c.CLASSIFICATION}))},B=(e,t)=>{let{subredditId:n}=t;return e.tags.models.subredditPrimaryTagId[n]||null},V=(e,t)=>t&&e.tags.models.globalSubredditTags[t]||null,q=(e,t)=>{const n=B(e,t);return V(e,n)},W=e=>e.tags.creation.selectedPrimaryTagId||null,H=e=>{const t=W(e);return V(e,t)},K=e=>e.tags.api.updatePrimaryTag.pending,Y=(e,t)=>{let{subredditId:n}=t;return Object.keys(x(e,{itemId:n})).length>0},z=e=>b(e).length>0},"./src/reddit/selectors/userPrefs.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var s=n("./src/lib/constants/index.ts");const r=e=>!i(e)&&!!e.user.prefs.subscriptionsPinned,i=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==s.Fb.MODERATION_PAGES),o=e=>e.user.prefs.reduceAnimationsFromAwards},"./src/reddit/selectors/widgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return _})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return E}));var s=n("./src/lib/objectSelector/index.ts"),r=n("./src/reddit/constants/posts.ts"),i=n("./src/reddit/helpers/name/index.ts"),o=n("./src/reddit/models/Widgets/index.ts"),c=n("./src/reddit/selectors/profile.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=[],u=e=>e.widgets.models,l=Object(s.a)((e,t)=>Object(o.r)(t)?e.widgets.models[t.widgetId]:Object(o.l)(t.widgetKind)),b=(e,t)=>e.widgets.idCardIds[t.subredditId],p=(e,t)=>{let n=t.subredditId;if(!n&&t.subredditName&&(n=Object(a.F)(e,t.subredditName)),n){const t=b(e,{subredditId:n});if(t)return e.widgets.models[t]}return null},f=(e,t)=>e.widgets.sidebar[t.subredditId]||[],O=(e,t)=>e.widgets.menuIds[t.subredditId],_=(e,t)=>{const n=O(e,t);return n?e.widgets.models[n]:null},m=(e,t)=>{const n=e.widgets.sidebar[t.subredditId];return Array.isArray(n)?n.reduce((t,n)=>{const s=e.widgets.models[n];return s&&t.push(s.kind),t},[]):d},g=(e,t)=>{const n=f(e,t);for(const s of n){const t=e.widgets.models[s];if("subreddit-rules"===t.kind)return t}return null},j=(e,t)=>{const n=f(e,t).map(t=>e.widgets.models[t]).filter(e=>"post-flair"===e.kind);return n.length?n:null},E=Object(s.a)((e,t)=>{if(t.type===r.a.PROFILE){const n=Object(c.j)(e,{profileName:t.name});return n?{profile:{id:n.id,name:Object(i.g)(n.name)}}:{}}const n=Object(a.A)(e,{subredditName:t.name}),s=Object(a.x)(e,{subredditName:t.name});return{subreddit:{categoryName:s?s.contentCategory:null,id:n.id,name:Object(i.g)(n.name)}}})}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/Governance~ModListing~Reddit.9babd4056f927604a876.js.map

}
/*
     FILE ARCHIVED ON 01:46:22 Jan 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:08:30 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.107
  exclusion.robots.policy: 0.094
  cdx.remote: 0.164
  esindex: 0.016
  LoadShardBlock: 154.174 (6)
  PetaboxLoader3.datanode: 128.531 (8)
  load_resource: 121.609 (2)
  PetaboxLoader3.resolve: 76.676 (2)
*/