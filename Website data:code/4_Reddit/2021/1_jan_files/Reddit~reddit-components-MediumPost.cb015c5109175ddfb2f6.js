var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["Reddit~reddit-components-MediumPost"],{"./src/higherOrderComponents/makeAsync.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("./node_modules/react/index.js"),r=s.n(n);function i(e){var t;return(t=class t extends r.a.Component{constructor(e){super(e),this.mounted=!1,this.state={Component:t.Component}}componentDidMount(){this.mounted=!0,this.state.Component!==e.ErrorComponent&&e.getComponent().then(e=>{t.Component=e,this.mounted&&this.setState({Component:e})},t=>(this.mounted&&this.setState({Component:e.ErrorComponent}),Promise.reject(t)))}componentWillUnmount(){this.mounted=!1}render(){const t=this.state.Component||e.LoadingComponent;return r.a.createElement(t,this.props)}}).Component=null,t}},"./src/lib/getShortenedLink.ts":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.regexp.replace.js");var n=s("./src/reddit/models/Media/index.ts"),r=s("./node_modules/node-libs-browser/node_modules/url/url.js"),i=s.n(r);t.a=function(e){const{source:t,isSponsored:s,domainOverride:r}=e;let o="";if(s){if(t&&t.displayText)return t.displayText.length>30?t.displayText.substring(0,30)+"...":t.displayText;o=r||Object(n.E)(e)}else o=Object(n.E)(e);const a=i.a.parse(o),c=a.path||"",d=c.length>7?c.substring(0,7)+"...":c;return(a.hostname?a.hostname.replace("www.",""):"")+d}},"./src/lib/loadableAction/index.ts":function(e,t,s){"use strict";t.a=function(e){return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return async(t,n,r)=>{return(await e())(...s)(t,n,r)}}}},"./src/lib/memoizeByReference/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("./node_modules/lodash/every.js"),r=s.n(n);function i(e){let t=null,s=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return null!==t&&i.length===t.length&&r()(i,(e,s)=>e===t[s])||(t=i,s=e(...i)),s}}},"./src/lib/onFocusAndVisibilityChange/index.ts":function(e,t,s){"use strict";s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./node_modules/brcast/dist/brcast.es.js");const r=()=>"undefined"!=typeof document,i=()=>r()&&"visible"===document.visibilityState,o=()=>({documentInFocus:i()}),{subscribe:a,unsubscribe:c,setState:d}=Object(n.a)(o()),l={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"},u=()=>d(o());(()=>{const e=(()=>{if(!r())return;const e=Object.keys(l).find(e=>e in document);return e?l[e]:void 0})();e&&document.addEventListener(e,u)})(),t.a={isDocumentHidden:()=>!i(),isDocumentVisible:i,subscribe:a,unsubscribe:c}},"./src/lib/timeUntil/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s("./node_modules/core-js/modules/es6.regexp.to-string.js");var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./src/lib/constants/index.ts");const i=[r.fc,r.jb,r.x,r.J,r.fb,r.Jb],o={[r.Jb]:e=>n.fbt._({"*":"{number} seconds",_1:"1 second"},[n.fbt._plural(e,"number")],{hk:"3pTp9Z"}),[r.fb]:e=>n.fbt._({"*":"{number} minutes",_1:"1 minute"},[n.fbt._plural(e,"number")],{hk:"2gB3sf"}),[r.J]:e=>n.fbt._({"*":"{number} hours",_1:"1 hour"},[n.fbt._plural(e,"number")],{hk:"2w4n8B"}),[r.x]:e=>n.fbt._({"*":"{number} days",_1:"1 day"},[n.fbt._plural(e,"number")],{hk:"3zIGRH"}),[r.jb]:e=>n.fbt._({"*":"{number} months",_1:"1 month"},[n.fbt._plural(e,"number")],{hk:"28DQqD"}),[r.fc]:e=>n.fbt._({"*":"{number} years",_1:"1 year"},[n.fbt._plural(e,"number")],{hk:"Gqzh3"})},a={[r.Jb]:e=>n.fbt._("{amount}s",[n.fbt._param("amount",String(e))],{hk:"F4qog"}),[r.fb]:e=>n.fbt._("{amount}m",[n.fbt._param("amount",String(e))],{hk:"43tM5H"}),[r.J]:e=>n.fbt._("{amount}h",[n.fbt._param("amount",String(e))],{hk:"19NsxU"}),[r.x]:e=>n.fbt._("{amount}d",[n.fbt._param("amount",String(e))],{hk:"39MDc9"}),[r.jb]:e=>n.fbt._("{amount}m",[n.fbt._param("amount",String(e))],{hk:"28feBj"}),[r.fc]:e=>n.fbt._("{amount}y",[n.fbt._param("amount",String(e))],{hk:"10bv8G"}),[r.jb]:e=>n.fbt._("{amount}m",[n.fbt._param("amount",String(e))],{hk:"28feBj"}),[r.fc]:e=>n.fbt._("{amount}y",[n.fbt._param("amount",String(e))],{hk:"10bv8G"})};function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const c=Date.now(),d=new Date(e).getTime(),l={[r.fc]:"",[r.jb]:"",[r.x]:"",[r.J]:"",[r.fb]:"",[r.Jb]:""};let u=d-c;if(u<=0)return n.fbt._("a moment",null,{hk:"3QLaye"}).toString();for(const n of i){const e=Math.floor(u/n);e&&(l[n]=(t?a:o)[n](e).toString()),u-=e*n}const m=i.map(e=>l[e]).filter(Boolean).slice(0,2).join(" ");return t||s?m:n.fbt._("{amount of time left} left",[n.fbt._param("amount of time left",m)],{hk:"7VjAI"}).toString()}},"./src/reddit/actions/economics/subredditPremium/actionCreators.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"f",(function(){return l})),s.d(t,"g",(function(){return u})),s.d(t,"h",(function(){return m})),s.d(t,"i",(function(){return p})),s.d(t,"j",(function(){return b}));var n=s("./src/lib/makeActionCreator/index.ts"),r=s("./src/reddit/actions/economics/subredditPremium/constants.ts");const i=Object(n.a)(r.a),o=Object(n.a)(r.b),a=Object(n.a)(r.c),c=Object(n.a)(r.d),d=Object(n.a)(r.e),l=Object(n.a)(r.f),u=Object(n.a)(r.g),m=Object(n.a)(r.h),p=Object(n.a)(r.i),b=Object(n.a)(r.j)},"./src/reddit/actions/gold/modals.ts":function(e,t,s){"use strict";s.d(t,"e",(function(){return f})),s.d(t,"b",(function(){return x})),s.d(t,"d",(function(){return O})),s.d(t,"c",(function(){return v})),s.d(t,"a",(function(){return C})),s.d(t,"f",(function(){return w}));var n=s("./src/lib/makeActionCreator/index.ts"),r=s("./src/lib/postParentMessage/index.ts"),i=s("./src/reddit/helpers/isPost.ts"),o=s("./src/reddit/constants/modals.ts"),a=s("./src/reddit/selectors/gild.ts"),c=s("./src/reddit/helpers/correlationIdTracker.ts"),d=s("./src/reddit/actions/gold/communityAwards.ts"),l=s("./src/reddit/actions/modal.ts"),u=s("./src/reddit/selectors/communityAwards.ts"),m=s("./src/reddit/selectors/posts.ts"),p=s("./src/reddit/selectors/subreddit.ts"),b=s("./src/telemetry/index.ts"),h=s("./src/reddit/actions/gold/constants.ts");const f=Object(n.a)(h.N),g=Object(n.a)(h.g),x=()=>async(e,t)=>{const n=t();e(g()),Object(c.b)(c.a.GiftPremiumFlow);const{clickCloseModalEvent:r}=await s.e("givePremiumTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"));Object(b.a)(r()(n))},j=Object(n.a)(h.M),O=e=>{let{awardId:t,correlationId:s,thingId:n}=e;return async(e,r)=>{const a=r(),c=t?Object(u.a)(a,t):void 0;e(j({award:c&&c.isEnabled?c:void 0,thingId:n,correlationId:s})),e(Object(l.h)(o.a.GOLD_GILD_MODAL));const b=Object(p.J)(a,{thingId:n});let h=null;if(b)h=b.id;else if(Object(i.a)(n)){const e=Object(m.O)(a,{postId:n});e&&(h=e.belongsTo.id)}h&&Object(d.a)(h,n)}},y=Object(n.a)(h.f),v=Object(n.a)(h.L),C=()=>async(e,t)=>{const n=t(),i=Object(a.d)(n);if(Object(a.h)(n)){const e="close.gild";Object(r.a)({type:e})}e(y()),e(Object(l.g)(o.a.GOLD_GILD_MODAL));const{clickCloseGildModalEvent:d}=await Promise.resolve().then(s.bind(null,"./src/reddit/helpers/trackers/gild.ts"));Object(b.a)(d(i)(n)),Object(c.b)(c.a.GildingFlow)},w=()=>async()=>{Object(r.a)({type:"login.gild"})}},"./src/reddit/actions/publicAccessNetwork/streams.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return j})),s.d(t,"b",(function(){return O})),s.d(t,"d",(function(){return y})),s.d(t,"e",(function(){return v}));s("./node_modules/core-js/modules/es6.regexp.search.js"),s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./node_modules/query-string/index.js"),r=s.n(n),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/publicAccessNetwork/constants.ts"),a=s("./src/reddit/endpoints/publicAccessNetwork/index.ts"),c=s("./src/reddit/helpers/publicAccessNetwork/index.ts"),d=s("./src/reddit/selectors/experiments/publicAccessNetwork.ts"),l=s("./src/reddit/selectors/PublicAccessNetwork/api.ts");const u=new Set(["home","r/popular"]),m=e=>{const t=location&&location.search||"",s=r.a.parse(t);u.has(e)&&(s.related=e);const n=r.a.stringify(s);return n?"?".concat(n):""},p=Object(i.a)(o.N),b=Object(i.a)(o.y),h=Object(i.a)(o.O),f=Object(i.a)(o.z),g=Object(i.a)(o.M),x=Object(i.a)(o.L),j=Object(i.a)(o.t),O=Object(i.a)(o.u),y=e=>async(t,s,n)=>{let{gqlContext:r}=n;const i=Object(c.h)(e),o=s();if(Object(l.d)(o,i))return;t(p(i));const d=await Object(a.e)(r(),i),u=Date.now();if(d.ok&&d.body&&d.body.data){const e=d.body.data;t(b({model:e,utcTimeStamp:u}))}else t(k({streamId:i,error:d.error,utcTimeStamp:u}))},v=(e,t)=>async(s,n)=>Object(d.h)(n())?s(w(e,t)):s(C()),C=()=>async(e,t,s)=>{let{gqlContext:n}=s;const r=t();if(Object(l.f)(r))return;e(h());const i=await Object(a.g)(n()),o=Date.now();if(i.ok&&i.body&&i.body.data){const t=i.body.data;e(f({models:t,utcTimeStamp:o}))}else e(S({error:i.error,utcTimeStamp:o}))},w=(e,t)=>async(s,n,r)=>{let{gqlContext:i}=r;const o=n();if(Object(l.f)(o))return;s(h());const c=await Object(a.f)(i(),e,t),d=Date.now();if(c.ok&&c.body&&c.body.data){const t=c.body.data;s(f({listingName:e,models:t,utcTimeStamp:d}))}else s(S({error:c.error,utcTimeStamp:d}))},k=e=>async t=>{t(g(e))},S=e=>async t=>{t(x(e))}},"./src/reddit/components/AdViewability/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/isEqual.js"),r=s.n(n),i=s("./node_modules/react/index.js"),o=s.n(i),a=s("./node_modules/reselect/es/index.js"),c=s("./node_modules/@researchgate/react-intersection-observer/lib/es/index.js"),d=s("./src/lib/ads/index.ts"),l=s("./src/lib/ads/store.ts"),u=s("./src/lib/onFocusAndVisibilityChange/index.ts"),m=s("./src/reddit/connectors/PostViewable/index.ts"),p=s("./src/reddit/constants/adEvents.ts"),b=s("./src/reddit/selectors/media.ts"),h=s("./src/reddit/selectors/video.ts");const f=[{event:p.a.ViewableImpression,threshold:d.k,viewabilityMinimum:d.l},{event:p.a.Impression,threshold:d.b,viewabilityMinimum:d.c},{event:p.a.GalleryItemImpression,threshold:d.b,viewabilityMinimum:d.c},{event:p.a.VendorFullyInView,threshold:d.a,viewabilityMinimum:d.e},{event:p.a.GroupMViewable,threshold:d.a,viewabilityMinimum:d.l},{event:p.a.VendorFullyInViewSeconds5,threshold:d.k,viewabilityMinimum:d.g,remainingTime:d.g,timeViewingInterrupted:0,cumulative:!0,cumulativeElapsedTime:0},{event:p.a.VendorFullyInViewSeconds15,threshold:d.k,viewabilityMinimum:d.f,remainingTime:d.f,timeViewingInterrupted:0,cumulative:!0,cumulativeElapsedTime:0}],g=[{event:p.a.VideoViewableImpression,threshold:d.k,viewabilityMinimum:d.j,remainingTime:d.j,timeViewingInterrupted:0},{event:p.a.VideoFullyViewableImpression,threshold:d.a,viewabilityMinimum:d.h,remainingTime:d.h,timeViewingInterrupted:0},{event:p.a.VideoGroupMViewable,threshold:void 0,viewabilityMinimum:d.j,remainingTime:d.j,timeViewingInterrupted:0,cumulative:!0,cumulativeElapsedTime:0,checkAudible:!0},{event:p.a.VideoVendorFullyViewable50,threshold:d.a,viewabilityMinimum:void 0,remainingTime:void 0,timeViewingInterrupted:0,cumulative:!0,cumulativeElapsedTime:0}],x=e=>e.map(e=>{let{event:t,cumulative:s=!1,cumulativeElapsedTime:n,remainingTime:r,threshold:i=null,viewabilityMinimum:o,checkAudible:a=!1,timeViewingInterrupted:c}=e;return{event:t,cumulative:s,checkAudible:a,timer:null,fired:!1,threshold:i,remainingTime:r,cumulativeElapsedTime:0,viewabilityMinimum:o,timeViewingInitialized:0,timeViewingInterrupted:c}}),j=()=>x(f),O=()=>x(g),y=[d.b,d.d,d.k,d.i,d.a],v=[d.b,d.k,d.i,d.a],C=[d.b,d.d,d.k,d.a],w=e=>"boolean"==typeof e.cumulative&&e.cumulative,k=Object(a.c)({continuousViewingStartedAt:(e,t)=>{let{post:s}=t;return Object(h.c)(e,{postId:s.id})},videoDuration:(e,t)=>{let{post:s}=t;const n=Object(h.j)(e,{postId:s.id});if(n)return n.length},isAudible:e=>Object(b.a)(e),isPlaying:(e,t)=>{let{post:s}=t;return Object(h.e)(e,{postId:s.id})},isFullScreen:(e,t)=>{let{post:s}=t;return Object(h.f)(e,{postId:s.id})}}),S=Object(m.a)(k);class _ extends i.Component{constructor(e){super(e),this.viewabilityStats=j(),this.videoStats=O(),this.pageInFocus=!0,this.inViewStats=[],this.outOfViewStats=[],this.handleViewabilityChange=e=>{this.props.trackDisplay&&this.handleThresholds(e,d.q),this.props.trackVideo&&this.handleThresholds(e,d.o,!0),this.checkViewabilityByType(e)},this.checkViewabilityByType=e=>{r()(this.state.event,e)||this.setState({event:e}),this.props.trackDisplay&&this.viewabilityStats.forEach(t=>{this.checkViewability(e,t)}),this.props.isPlaying&&this.props.trackVideo&&this.videoStats.forEach(t=>{t.checkAudible&&!this.props.isAudible||this.checkViewability(e,t)})},this.state={event:null,currentContinuousViewingStartedAt:e.continuousViewingStartedAt}}componentDidMount(){this.visibilityChangeSubscriptionId=u.a.subscribe(e=>{this.pageInFocus=e.documentInFocus,this.state.event&&this.handleViewabilityChange(this.state.event)})}componentWillUnmount(){const{post:e,trackDisplay:t,trackVideo:s}=this.props;this.visibilityChangeSubscriptionId&&u.a.unsubscribe(this.visibilityChangeSubscriptionId),t&&(l.d(e.id,d.q,!1),this.viewabilityStats.forEach(e=>{w(e)&&e.cumulative&&this.pauseCumulativeStats(e),this.clearTimer(e)})),s&&(l.d(e.id,d.o,!0),this.videoStats.forEach(e=>{w(e)&&e.cumulative&&this.pauseCumulativeStats(e),this.clearTimer(e)})),this.outOfViewStats=[],this.inViewStats=[]}componentDidUpdate(){this.props.trackVideo&&(this.state.currentContinuousViewingStartedAt===this.props.continuousViewingStartedAt?(this.handleThresholds(this.state.event,d.o,!0),this.videoStats.forEach(e=>{!this.props.isPlaying||e.checkAudible&&!this.props.isAudible?e.cumulative?this.pauseCumulativeStats(e):this.pauseViewableStats(e):this.checkViewability(this.state.event,e)})):this.resetTimers())}resetTimers(){this.videoStats.forEach(e=>{e.cumulative||this.resetTimer(e)}),this.setState({currentContinuousViewingStartedAt:this.props.continuousViewingStartedAt})}resetTimer(e){this.clearTimer(e),e.timeViewingInitialized=0,void 0!==e.viewabilityMinimum&&(e.remainingTime=e.viewabilityMinimum)}pauseViewableStats(e){let t;if(!e.timer||e.fired)return;e.timeViewingInterrupted=Date.now();const s=e.timeViewingInterrupted-e.timeViewingInitialized;t=(e.viewabilityMinimum||0)-s,e.remainingTime=t>0?t:0,this.clearTimer(e)}pauseCumulativeStats(e){let t;e.timer&&!e.fired&&(e.timeViewingInterrupted=Date.now(),e.cumulativeElapsedTime+=e.timeViewingInterrupted-e.timeViewingInitialized,t=(e.viewabilityMinimum||0)-e.cumulativeElapsedTime,e.remainingTime=t>0?t:0,this.clearTimer(e))}meetsViewabilityRequirements(e,t){let s,n=!1,r=!1;return"object"==typeof t?(s=t.threshold,n=!!t.playing,r=!!t.withSound):s=t,this.isAdequatelyInView(e,s)&&(!n||this.props.isPlaying)&&(!r||this.props.isAudible)}handleThresholds(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{post:n}=this.props,i=t.filter(t=>this.meetsViewabilityRequirements(e,t));!r()(i,this.inViewStats)&&i.length>0&&l.b(n.id,i,s);const o=t.filter(t=>!this.meetsViewabilityRequirements(e,t));!r()(o,this.outOfViewStats)&&o.length>0&&l.d(n.id,o,s),this.outOfViewStats=o,this.inViewStats=i}isAdequatelyInView(e,t){return!!this.props.isFullScreen||!!e&&e.intersectionRatio>=t&&this.pageInFocus}addDurationBasedViewabilityMinimum(e){this.props.videoDuration?e.viewabilityMinimum=Math.min(.5*this.props.videoDuration,d.f):e.viewabilityMinimum=d.f,e.remainingTime=e.viewabilityMinimum}adjustThreshold(e,t){const{height:s,width:n}=e.boundingClientRect;return!t.threshold&&t.event===p.a.VideoGroupMViewable&&this.props.videoDuration&&(t.threshold=n*s<3e5?d.a:d.i,t.viewabilityMinimum=.5*this.props.videoDuration),t.event===p.a.GroupMViewable&&n*s>242500&&(t.threshold=d.k),t}checkViewability(e,t){if(w(t)&&t.event===p.a.VideoVendorFullyViewable50&&this.addDurationBasedViewabilityMinimum(t),e&&e.target&&this.adjustThreshold(e,t),t.threshold&&void 0!==t.viewabilityMinimum){if(this.isAdequatelyInView(e,t.threshold)&&!t.fired){if(t.timer)return;const e=this.getLengthForTimer(t);return e>0?this.initTimer(t,e):this.fireStat(t),void(t.timeViewingInitialized=Date.now())}w(t)&&t.cumulative&&this.pauseCumulativeStats(t),this.clearTimer(t)}}clearTimer(e){e.timer&&(clearTimeout(e.timer),e.timer=null)}getLengthForTimer(e){return void 0!==e.remainingTime?e.remainingTime:e.viewabilityMinimum||0}fireStat(e){setTimeout(()=>this.props.onPostViewable(this.props.post,e.event),0),e.fired=!0}initTimer(e,t){this.clearTimer(e),e.timer=window.setTimeout(()=>{this.fireStat(e)},t)}render(){const{trackDisplay:e,trackVideo:t}=this.props;let s=y;return e&&!t?s=C:!e&&t&&(s=v),o.a.createElement(c.a,{threshold:s,onChange:this.handleViewabilityChange},this.props.children)}}t.a=S(_)},"./src/reddit/components/CategoryTag/index.m.less":function(e,t,s){e.exports={metaFlair:"_7_d4sJjd2oYzaJuU_QpOI","m-lightboxHeader":"_1rtoCmW_7bFJWYffSOwt4R",mLightboxHeader:"_1rtoCmW_7bFJWYffSOwt4R"}},"./src/reddit/components/CategoryTagList/index.m.less":function(e,t,s){e.exports={categoryTagWrapper:"_13jLUpnQtcA8FXyw5Kv06q"}},"./src/reddit/components/CategoryTagList/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),a=s("./src/reddit/components/TrackingHelper/index.tsx"),c=s("./src/reddit/selectors/user.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/constants/index.ts"),u=s("./src/reddit/constants/posts.ts"),m=s("./src/reddit/controls/InternalLink/index.tsx"),p=s("./src/lib/addQueryParams/index.ts");const b=(e,t,s,n,r)=>{const i=r||"*:*",o=s||l.Q;return Object(p.a)("/search",{q:i,sort:o,t:n,category_name:e,category:t})};var h=s("./src/reddit/helpers/correlationIdTracker.ts"),f=s("./src/reddit/selectors/telemetry.ts");const g=(e,t)=>s=>Object.assign(Object.assign({source:"post",action:"click",noun:"meta_flair"},f.defaults(s)),{correlationId:Object(h.c)(h.a.SearchResults),post:f.post(s,e),search:f.postFlairClickToSearch(s,t),subreddit:f.subreddit(s)});var x=s("./src/reddit/components/CategoryTag/index.m.less"),j=s.n(x);class O extends r.a.Component{constructor(){super(...arguments),this.onClick=()=>{const e={id:this.props.category.categoryId,title:this.props.category.categoryName,eventType:u.a.SUBREDDIT,originElement:"meta_flair"};this.props.sendEvent(g(this.props.postId,e))}}render(){const e=this.props.category,t=this.props.inLightboxHeader,s=e.categoryId,n=e.categoryName,i=r.a.createElement("span",null,n);return r.a.createElement("span",{className:Object(d.a)(j.a.metaFlair,{[j.a["m-lightboxHeader"]]:t})},r.a.createElement(m.a,{onClick:this.onClick,to:b(n,s,l.Pb.Relevance,l.Wb.DAY),children:i}))}}var y=s("./src/reddit/components/CategoryTagList/index.m.less"),v=s.n(y);const C=Object(i.b)(()=>Object(o.c)({labelNSFW:c.R}));t.a=C(Object(a.c)(e=>{let{postCategories:t,postId:s,inLightboxHeader:n,sendEvent:i}=e;return r.a.createElement("span",{className:n?null:v.a.categoryTagWrapper},t.map(e=>r.a.createElement(O,{postId:s,category:e,key:e.categoryId,inLightboxHeader:n,sendEvent:i})))}))},"./src/reddit/components/CompactPost/HorizontalVotes/index.m.less":function(e,t,s){e.exports={horizontalVotes:"_2oM1YqCxIwkvwyeZamWwhW",customScoreStyles:"_25IkBM0rRUqWX5ZojEMAFQ",customDownvoteStyles:"_783RL1AYIib59nxLCXhgv"}},"./src/reddit/components/CompactPost/HorizontalVotes/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),o=s("./src/lib/CSSVariableProvider/withTheme.tsx"),a=s("./src/reddit/components/VerticalVotes/index.tsx"),c=s("./src/reddit/components/CompactPost/HorizontalVotes/index.m.less"),d=s.n(c);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var u=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const m=Object(o.a)(e=>{var{className:t}=e,s=u(e,["className"]);return r.a.createElement(a.a,l({},s,{className:Object(i.a)(d.a.horizontalVotes,t),scoreClassName:Object(i.a)(d.a.customScoreStyles,s.scoreClassName),downvoteClassName:Object(a.b)(s)?d.a.customDownvoteStyles:void 0}))});t.a=m},"./src/reddit/components/CountAnimation/index.m.less":function(e,t,s){e.exports={countAnimation:"_3z5CnRH3l7hQGI8TQYFyqX",digitDeltaWrapper:"WBY6J5DJsZFZXSxBqtq0F",digitDelta:"_3LT2yD0gRFklddn3Ra9ElD","sr-only":"D6SuXeSnAAagG8dKAb4O4",srOnly:"D6SuXeSnAAagG8dKAb4O4"}},"./src/reddit/components/CountAnimation/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/hooks/useIntersectionObserver.ts");var o=s("./src/reddit/components/CountAnimation/config.ts"),a=s("./src/reddit/components/CountAnimation/helpers.ts"),c=s("./src/reddit/components/CountAnimation/index.m.less"),d=s.n(c);t.a=e=>{const{initialDisplayCount:t,countToUpperBound:s,incrementDelta:c,initialDelay:l,subsequentRecurringDelay:u}=e,[m,p]=Object(n.useState)(!1),[b,h]=Object(n.useState)(!0),[f,g]=Object(n.useState)([]),[x,j]=Object(n.useState)(Object(a.c)(t).reverse()),O=Object(n.useRef)(!1),y=Object(n.useRef)(null),v=Object(n.useRef)(e=>{}),C=Object(n.useRef)();v.current=Object(n.useCallback)(e=>{let t=e||c();const n=[...x].reverse().join("");let r=parseInt(n)+t;r>s&&(t=s-parseInt(n),r=s);const i=Object(a.c)(r).reverse();p(!1),g(x),j(i),h(!1),C.current=setTimeout(()=>{p(!0)},0)},[s,c,x]);const w=Object(n.useRef)(()=>{}),k=Object(n.useRef)(),S=Object(n.useRef)();w.current=Object(n.useCallback)(()=>{S.current=setTimeout(()=>{v.current();const e=[...f].reverse().join("");parseInt(e)<s&&w.current()},u())},[s,u,f]);const _=Object(n.useCallback)(e=>{e.forEach(e=>{const{isIntersecting:t}=e;t&&(O.current||(O.current=!0,k.current=setTimeout(()=>{v.current(),w.current()},l())))})},[]);Object(i.a)(y,_);const I=function(e){const t=Object(n.useRef)();return Object(n.useEffect)(()=>{t.current=e}),t.current}(s);Object(n.useEffect)(()=>(void 0!==I&&I!==s&&v.current(s-I),()=>{clearTimeout(k.current),clearTimeout(S.current),clearTimeout(C.current)}),[s]);const T=Object(n.useCallback)(()=>h(!0),[h]),E=0===f.length,N=b||E;return r.a.createElement("div",{className:d.a.countAnimation,ref:y},x.map((e,t)=>{const s=f[t]||0;return r.a.createElement("span",{"aria-hidden":!0,className:d.a.digitDeltaWrapper,key:t,onTransitionEnd:T,style:m&&f.length>0&&!b?{transform:"translateY(-".concat(100*(Object(a.d)(s,e).length-1),"%)"),transitionDuration:"".concat(o.a.animationIncrementDuration/1e3,"s")}:{transform:"translateY(0)"}},N?r.a.createElement("span",{className:d.a.digitDelta},e):Object(a.d)(s,e).map((e,t)=>r.a.createElement("span",{className:d.a.digitDelta,key:t},e)))}),r.a.createElement("span",{className:d.a.srOnly,role:"screen-reader"},[...x].reverse().join("")))}},"./src/reddit/components/Emoji/index.m.less":function(e,t,s){e.exports={EmojiDisplay:"_2Gt13AX94UlLxkluAMsZqP",emojiDisplay:"_2Gt13AX94UlLxkluAMsZqP"}},"./src/reddit/components/Flair/index.m.less":function(e,t,s){e.exports={FlairEmojiDisplay:"_1QwShihKKlyRXyQSlqYaWW",flairEmojiDisplay:"_1QwShihKKlyRXyQSlqYaWW",FlairWrapper:"_2X6EB3ZhEeXCh1eIVA64XM",flairWrapper:"_2X6EB3ZhEeXCh1eIVA64XM",TextFlair:"_1jNPl3YUk6zbpLWdjaJT1r",textFlair:"_1jNPl3YUk6zbpLWdjaJT1r",transparentBackgroundColor:"_39BEcWjOlYi1QGcJil6-yl",RichTextFlair:"_2hSecp_zkPm_s5ddV2htoj",richTextFlair:"_2hSecp_zkPm_s5ddV2htoj",MetaFlair:"_1wzhGvvafQFOWAyA157okr",metaFlair:"_1wzhGvvafQFOWAyA157okr",CloseButton:"_3BPVpMSn5b1vb1yTQuqCRH",closeButton:"_3BPVpMSn5b1vb1yTQuqCRH",CloseIcon:"_2cvySYWkqJfynvXFOpNc5L",closeIcon:"_2cvySYWkqJfynvXFOpNc5L",small:"aJrgrewN9C8x1Fusdx4hh",large:"_1wj6zoMi6hRP5YhJ8nXWXE",flairVariant:"_2VqfzH0dZ9dIl3XWNxs42y"}},"./src/reddit/components/Flair/index.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return B})),s.d(t,"a",(function(){return G})),s.d(t,"b",(function(){return J}));s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/lodash/pick.js"),i=s.n(r),o=s("./node_modules/polished/dist/polished.es.js"),a=s("./node_modules/react/index.js"),c=s.n(a),d=s("./node_modules/react-router-dom/esm/react-router-dom.js"),l=s("./src/lib/addQueryParams/index.ts"),u=s("./src/lib/classNames/index.ts"),m=s("./src/lib/CSSVariableProvider/withTheme.tsx"),p=s("./src/lib/lessComponent.tsx"),b=s("./src/reddit/components/Emoji/index.m.less"),h=s.n(b);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var g=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const x=p.a.wrapped(e=>{var{backgroundImage:t,style:s}=e,n=g(e,["backgroundImage","style"]);return c.a.createElement("div",f({style:Object.assign(Object.assign({},s||{}),{backgroundImage:"url('".concat(t,"')")})},n))},"EmojiDisplay",h.a);var j=s("./src/reddit/components/InfoTextTooltip/index.tsx"),O=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),y=s("./src/reddit/constants/colors.ts"),v=s("./src/reddit/constants/parameters.ts"),C=s("./src/reddit/controls/InternalLink/index.tsx"),w=s("./src/reddit/helpers/styles/smartTextColor.ts"),k=s("./src/reddit/icons/svgs/Close/index.tsx"),S=s("./src/reddit/models/Flair/index.ts"),_=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),I=s("./src/reddit/components/Flair/index.m.less"),T=s.n(I);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var N=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const P=Object(O.a)(j.b),F=p.a.div("FlairWrapper",T.a),V=p.a.wrapped(d.a,"CloseButton",T.a),L=p.a.wrapped(Object(m.a)(e=>{var{forceSmallEmojis:t,theme:s}=e,n=N(e,["forceSmallEmojis","theme"]);const r=s;return c.a.createElement(x,E({style:Object.assign({},A(!!t,r)||{})},n))}),"FlairEmojiDisplay",T.a),A=(e,t)=>{if(!e&&!!t.subredditContext.emojiHeight&&!!t.subredditContext.emojiWidth)return{height:"".concat(t.subredditContext.emojiHeight,"px"),width:"".concat(t.subredditContext.emojiWidth,"px")}},M=(e,t)=>{const s=t?"/r/".concat(t,"/search"):"/search",n="".concat(t?"flair_name":"flair",':"').concat(e,'"');return Object(l.a)(s,{[v.p]:n,[v.s]:t?"1":""})},D=e=>e.isFlairFilter?c.a.createElement(C.a,{onMouseDown:e.onMouseDown,to:e.to||""},e.flair):e.onClick?c.a.createElement(C.a,{onClick:()=>e.onClick(e.searchableTerm),to:M(e.searchableTerm,e.subredditName)},e.flair):e.flair;class R extends c.a.Component{constructor(){super(...arguments),this.tooltipTargetElement=null,this.state={isTooltipOpen:!1},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.setState({isTooltipOpen:!0})},this.onHideTooltip=()=>{this.setState({isTooltipOpen:!1})}}render(){const e=c.a.createElement("span",{className:Object(u.a)(this.props.className,{[T.a.transparentBackgroundColor]:"transparent"===this.props.backgroundColor}),onMouseEnter:this.props.tooltip?this.onShowTooltip:void 0,onMouseLeave:this.props.tooltip?this.onHideTooltip:void 0,ref:this.setTooltipTargetRef,style:{backgroundColor:this.props.backgroundColor||Object(_.a)(this.props).flair,color:"".concat(B(this.props))}},this.props.text,this.props.isSelected&&c.a.createElement(V,{to:"./",onClick:this.props.onCloseClick},c.a.createElement(k.a,{className:T.a.CloseIcon,style:{fill:this.props.backgroundColor||Object(_.a)(this.props).flair}})),!!this.props.tooltip&&c.a.createElement(P,{text:this.props.tooltip,isOpen:this.state.isTooltipOpen,tooltipTarget:this.tooltipTargetElement,targetPosition:["center","top"],tooltipPosition:["center","bottom"]}));return c.a.createElement(D,{flair:e,isFlairFilter:this.props.isFlairFilter,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,searchableTerm:this.props.text,subredditName:this.props.subredditName,to:this.props.to})}}const W=Object(m.a)(R),z=Object(m.a)(e=>{let t="",s=!1;const n=e.richtext.map((n,r)=>{if(n.e===S.c.Emoji){const i=n;return t+=i.a,s=!0,c.a.createElement(L,{forceSmallEmojis:e.forceSmallEmojis,backgroundImage:i.u,key:r,title:i.a})}{const e=n;return t+=e.t,c.a.createElement("span",{key:r},e.t)}});let r;s&&!e.forceSmallEmojis&&e.theme&&e.theme.subredditContext.emojiWidth&&e.theme.subredditContext.emojiHeight&&e.theme.subredditContext.emojiHeight>16&&(r={marginTop:"-".concat(e.theme.subredditContext.emojiHeight-16,"px")});const i=c.a.createElement(F,{className:Object(u.a)(e.className,{[T.a.transparentBackgroundColor]:"transparent"===e.backgroundColor}),style:Object.assign(Object.assign({},r),{backgroundColor:e.backgroundColor||Object(_.a)(e).flair,color:"".concat(B(e))})},n,e.isSelected&&c.a.createElement(V,{to:"./",onClick:e.onCloseClick},c.a.createElement(k.a,{className:T.a.CloseIcon,style:{fill:e.backgroundColor||Object(_.a)(e).flair}})));return c.a.createElement(D,{flair:i,isFlairFilter:e.isFlairFilter,onClick:e.onClick?()=>{e.onClick(t)}:void 0,onMouseDown:e.onMouseDown,searchableTerm:t,subredditName:e.subredditName,to:e.to})}),B=e=>!e.textColor||e.textColor&&!e.backgroundColor?Object(_.a)(e).postFlairText:"transparent"===e.backgroundColor?Object(w.a)(Object(_.a)(e).post,y.a.black,y.a.white):e.textColor===S.e.Dark?y.a.black:y.a.white,G=p.a.wrapped(W,"TextFlair",T.a),q=p.a.wrapped(z,"RichTextFlair",T.a),H=e=>{switch(e.type){case"spoiler":return"#A4A7A8";case"nsfw":return"#FF585B";default:return Object(o.j)(.1,Object(_.a)(i()(e,"theme","redditStyle","data-redditstyle")).button)}},Q=p.a.wrapped(e=>{const t=H(e),s=c.a.createElement("span",{className:e.className,style:{border:"1px solid ".concat(t),color:t}},e.text);return c.a.createElement(D,{flair:s,searchableTerm:e.text})},"MetaFlair",T.a);function J(e){const{className:t,disabled:s=!1,flair:r,isFlairFilter:i,isSelected:o,onClick:a,onCloseClick:d,onMouseDown:l,subredditName:m,usesCommunityStyles:p,forceSmallEmojis:b,to:h}=e,f=Object(u.a)({[T.a.flairVariant]:i,[T.a.small]:i&&!e.large,[T.a.large]:i&&e.large},t);switch(r.type){case S.f.Richtext:return s||!r.richtext?null:c.a.createElement(q,{backgroundColor:r.backgroundColor,className:f,forceSmallEmojis:b,isFlairFilter:i,isSelected:o,onClick:a,onCloseClick:d,onMouseDown:l,redditStyle:!p,richtext:r.richtext,subredditName:m,textColor:r.textColor,to:h});case S.f.Text:return s||!r.text?null:c.a.createElement(G,{backgroundColor:r.backgroundColor,className:f,isFlairFilter:i,isSelected:o,onClick:a,onCloseClick:d,onMouseDown:l,subredditName:m,text:r.text,textColor:r.textColor,redditStyle:!p,to:h});case S.f.Meta:return c.a.createElement(G,{backgroundColor:r.backgroundColor,className:t,isFlairFilter:i,subredditName:m,text:r.text,textColor:r.textColor,redditStyle:!p,to:h});case S.f.Nsfw:case S.f.Spoiler:return c.a.createElement(Q,{className:t,text:r.text,type:r.type});case S.f.Quarantined:return null;case S.f.Oc:return c.a.createElement(G,{backgroundColor:y.a.alienblue,text:r.text,textColor:S.e.Light,tooltip:n.fbt._("This post is marked as Original Content [OC]",null,{hk:"h7je6"})});default:return r.text?c.a.createElement(G,{backgroundColor:r.backgroundColor,className:f,isFlairFilter:i,onClick:a,onCloseClick:d,onMouseDown:l,subredditName:m,text:r.text,redditStyle:!p,to:h}):null}}},"./src/reddit/components/FlairList/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/noop.js"),r=s.n(n),i=s("./node_modules/react/index.js"),o=s.n(i),a=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/reddit/components/Flair/index.tsx"),l=s("./src/reddit/helpers/flair.ts"),u=s("./src/reddit/models/Flair/index.ts"),m=s("./src/reddit/selectors/user.ts");const p=Object(c.c)({labelNSFW:m.R}),b=Object(a.b)(p),h=e=>{if(e.type===u.f.Richtext&&e.richtext){const t=e.richtext.map(e=>e.e===u.c.Emoji?e.u:e.t).join("-");return"".concat(e.type,"--").concat(t)}return"".concat(e.type,"--").concat(e.text)};t.a=b(e=>{let{className:t,isFlairFilter:s,onClick:n,onMouseDown:i,disabled:a=!1,flair:c,labelNSFW:m,subredditName:p}=e;const b=!!c.find(e=>e.type===u.f.Richtext),f=c.map(e=>{if(e.type===u.f.Text&&b)return null;if(!m&&e.type===u.f.Nsfw)return null;const t=Object(l.j)(e),c="/r/".concat(p,"/"),f=i?()=>i(e):r.a;return o.a.createElement(d.b,{isFlairFilter:s,key:h(e),onClick:n,onMouseDown:f,disabled:a,flair:e,forceSmallEmojis:!0,subredditName:p,to:Object(l.e)(c,t)})});return o.a.createElement("div",{className:t},f)})},"./src/reddit/components/FlairPickerTitle/index.m.less":function(e,t,s){e.exports={modalHeader:"_26bOTAKvGixX5tMC3vGfTv"}},"./src/reddit/components/FlairPickerTitle/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/noop.js"),r=s.n(n),i=s("./node_modules/react/index.js"),o=s.n(i),a=s("./src/reddit/components/ModalStyledComponents/index.tsx"),c=s("./src/reddit/controls/TextButton/index.tsx"),d=s("./src/reddit/components/FlairPickerTitle/index.m.less"),l=s.n(d);t.a=e=>o.a.createElement(a.h,{className:l.a.modalHeader},o.a.createElement(a.p,null,e.title),o.a.createElement(c.a,{onClick:e.onClosePressed||r.a},o.a.createElement(a.b,null)))},"./src/reddit/components/FlairPickerWrapper/index.m.less":function(e,t,s){e.exports={Wrapper:"_3nRJIwLuth2pKYrXnr2jPN",wrapper:"_3nRJIwLuth2pKYrXnr2jPN"}},"./src/reddit/components/FlairPickerWrapper/index.tsx":function(e,t,s){"use strict";var n=s("./src/lib/lessComponent.tsx"),r=s("./src/reddit/components/FlairPickerWrapper/index.m.less"),i=s.n(r);const o=n.a.div("Wrapper",i.a);t.a=o},"./src/reddit/components/FlairPreview/index.m.less":function(e,t,s){e.exports={Placeholder:"_30zvTaAcvBFmwfelq6Bvwg",placeholder:"_30zvTaAcvBFmwfelq6Bvwg",SelectedFlair:"BzonfS85jX2JTiu_i0Jyd",selectedFlair:"BzonfS85jX2JTiu_i0Jyd",FlairComponent:"vynkb69RQyUY-PA6bCaW0",flairComponent:"vynkb69RQyUY-PA6bCaW0"}},"./src/reddit/components/FlairPreview/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),o=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/Flair/index.tsx"),c=s("./src/reddit/components/FlairPreview/index.m.less"),d=s.n(c);const l=o.a.span("Placeholder",d.a),u=o.a.div("SelectedFlair",d.a),m=o.a.wrapped(a.b,"FlairComponent",d.a);t.a=e=>e.flair?i.a.createElement(u,null,i.a.createElement(l,null,n.fbt._("{placeholder}",[n.fbt._param("placeholder",e.placeholderText)],{hk:"4G6VRy"})),i.a.createElement(m,{flair:e.flair,forceSmallEmojis:!0})):i.a.createElement(u,null,n.fbt._("No flair selected",null,{hk:"1XPXbv"}))},"./src/reddit/components/FlairSearch/FlairEdit/helper.m.less":function(e,t,s){e.exports={FlairEditStub:"Z7x0t_45z9vZGN2zw6US6",flairEditStub:"Z7x0t_45z9vZGN2zw6US6",isCompact:"_3YjPWOd9tK9O_DN50RI_FN"}},"./src/reddit/components/FlairSearch/FlairEdit/helper.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s("./node_modules/lodash/once.js"),r=s.n(n),i=s("./node_modules/react/index.js"),o=s.n(i),a=s("./src/higherOrderComponents/makeAsync.tsx"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/lib/loadWithRetries/index.ts"),u=s("./src/reddit/components/FlairSearch/FlairEdit/helper.m.less"),m=s.n(u);const p=d.a.wrapped(e=>o.a.createElement("div",{className:Object(c.a)(e.className,{[m.a.isCompact]:e.isCompact})}),"FlairEditStub",m.a),b=r()((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return Object(a.a)({getComponent:()=>Object(l.a)(()=>Promise.all([s.e("vendors~Chat~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RedesignChat~RichTextEditor"),s.e("FlairEdit")]).then(s.bind(null,"./src/reddit/components/FlairSearch/FlairEdit/index.tsx")).then(e=>e.default)),ErrorComponent:e,LoadingComponent:e})}))},"./src/reddit/components/FlairSearch/FlairTemplateList/index.m.less":function(e,t,s){e.exports={container:"_1bdAduczElF9-gLoCvHz-p",flairComponent:"_2leID3tMN8hpvVd4XhEqTl",radioOption:"FJIE5E2gciCA8q3Jzvcyg",pencil:"_3H_wwe03-Fkrm6oWGakXI8",searchBoxWrapper:"_18cuM8Uu7RcIFu1bCT0r4t",searchIcon:"_2bECVWL_WJ9RGBx7-RnzfO",searchInput:"_1nQbRaoAvb6Uy0oI-OfDtZ"}},"./src/reddit/components/FlairSearch/index.m.less":function(e,t,s){e.exports={container:"_2AKP6aCod0Z6TuXXfc1ZqL",buttonsRow:"_3w7b_fPwMuVD17J7epjTXi",clearButton:"_3WykjMvdVO5xibqd5xlfTC",flairEditSection:"SVd7IxchgiWetdYbftTHx",editLabel:"KTa3kg9lzGPUeLuhAHMT_",restrictionHintText:"_1fV9kJfKnED9qQ2AF8f3iT"}},"./src/reddit/components/FlairSearch/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),o=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/memoizeByReference/index.ts"),l=s("./src/reddit/featureFlags/index.ts"),u=s("./src/reddit/helpers/flair.ts"),m=s("./src/reddit/selectors/moderatorPermissions.ts"),p=s("./src/reddit/components/FlairSearch/FlairEdit/helper.tsx"),b=s("./src/reddit/components/Flair/index.tsx"),h=s("./src/reddit/controls/RadioInput/index.tsx"),f=s("./src/reddit/controls/RadioInput/RadioOption/index.tsx"),g=s("./src/reddit/icons/svgs/Pencil/index.tsx"),x=s("./src/reddit/icons/svgs/Search/index.tsx"),j=s("./src/reddit/components/FlairSearch/FlairTemplateList/index.m.less"),O=s.n(j);class y extends i.a.Component{constructor(){super(...arguments),this.state={searchQuery:""},this.onSearchChange=e=>{this.setState({searchQuery:e.target.value})}}render(){const{templates:e,templateIds:t,selectedTemplateId:s}=this.props,{searchQuery:r}=this.state,o=t.map(t=>e[t]).filter(e=>e.text.toLowerCase().includes(r)),a=!!s&&o.some(e=>e.id===s);return i.a.createElement("div",{className:O.a.container},i.a.createElement("div",{className:O.a.searchBoxWrapper},i.a.createElement("input",{className:O.a.searchInput,onChange:this.onSearchChange,type:"text",placeholder:n.fbt._("Search for flair",null,{hk:"jQdqA"}),value:r}),i.a.createElement(x.a,{className:O.a.searchIcon})),i.a.createElement(h.a,{name:"flair_picker",onChange:this.props.onChange,value:s},o.map((e,t)=>{const n=Object(u.c)(e),r=s===e.id||!a&&0===t;return i.a.createElement(f.a,{className:O.a.radioOption,key:e.id,showButton:!0,tabIndex:r?0:-1,value:e.id},i.a.createElement(b.b,{className:O.a.flairComponent,flair:n,forceSmallEmojis:!0}),e.textEditable&&i.a.createElement(g.a,{className:O.a.pencil}))})))}}var v=s("./src/reddit/components/FlairSearch/index.m.less"),C=s.n(v);const w="FlairSearch-EmojiPicker-DropdownId",k=Object(d.a)(e=>e&&Object(u.c)(e)),S=Object(a.c)({areFlairRestrictionsEnabled:l.d.flairRestrictions,isModerator:m.d}),_=Object(o.b)(S);class I extends i.a.Component{constructor(){super(...arguments),this.onFlairEdit=e=>{const{templates:t}=this.props,s=t&&e.templateId?t[e.templateId]:void 0;let n=e;s&&(n=Object(u.d)({flair:e,template:s,ignoreTextAllowance:!0})),this.props.onChange(n)},this.onTemplateSelected=e=>{const{templates:t}=this.props;if(t){const s=t[e],n=Object(u.c)(s);this.props.onChange(n)}}}render(){const{props:e}=this,{isModerator:t,templates:s,templateIds:r,subredditId:o}=e,a=s&&e.flair&&e.flair.templateId&&s[e.flair.templateId]||void 0,d=Object(p.a)(),l=e.flair||k(a);return i.a.createElement("div",{className:Object(c.a)(e.className,C.a.container)},s&&r&&i.a.createElement(y,{flairTemplateType:e.flairTemplateType,onChange:this.onTemplateSelected,selectedTemplateId:a?a.id:"",templateIds:r,templates:s}),l&&a&&(t||a.textEditable)?i.a.createElement("div",{className:C.a.flairEditSection},i.a.createElement("div",{className:C.a.editLabel},n.fbt._("Edit flair",null,{hk:"1APWWu"})),e.areFlairRestrictionsEnabled&&i.a.createElement("div",{className:C.a.restrictionHintText},Object(u.k)(a)),i.a.createElement(d,{autofocus:!0,emojiPickerId:w,flair:l,flairTemplate:a,flairTemplateType:e.flairTemplateType,isFlairModOnly:a.modOnly,onChange:this.onFlairEdit,subredditId:o})):null)}}t.a=_(I)},"./src/reddit/components/FlairWrapper/index.m.less":function(e,t,s){e.exports={flairList:"lrzZ8b0L6AzLkQj5Ww7H1",flairWrapper:"_2fiIRtMpITeCAzXc4cANKp",flairNoWrap:"_2xu1HuBz1Yx6SP10AGVx_I"}},"./src/reddit/components/FlairWrapper/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return C}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),o=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/components/CategoryTagList/index.tsx"),l=s("./src/reddit/components/FlairList/index.tsx"),u=s("./src/reddit/components/SearchResultsContent/searchResultsPageTreatment/searchIgnoreClickContext.ts"),m=s("./src/reddit/contexts/PageLayer/index.tsx"),p=s("./src/reddit/helpers/correlationIdTracker.ts"),b=s("./src/reddit/helpers/flair.ts"),h=s("./src/reddit/helpers/trackers/postFlair.ts"),f=s("./src/reddit/models/Flair/index.ts"),g=s("./src/reddit/selectors/postFlair.ts"),x=s("./src/reddit/selectors/posts.ts"),j=s("./src/reddit/selectors/subreddit.ts"),O=s("./src/reddit/components/FlairWrapper/index.m.less"),y=s.n(O);const v=Object(o.b)(()=>Object(a.c)({flairPosition:(e,t)=>{let{pageLayer:s}=t;return Object(m.p)(e,{pageLayer:s})},isMeta:(e,t)=>{let{post:s}=t;return Object(x.r)(e,{postId:s.id})},isPostFlairEnabled:(e,t)=>Object(g.c)(e,{subredditId:t.post.belongsTo.id}),postCategories:(e,t)=>{let{post:s}=t;return Object(x.E)(e,s)},subredditName:(e,t)=>{let{post:s}=t;return Object(j.S)(e,{subredditId:s.belongsTo.id}).name}})),C=(e,t)=>{const s=[];return t.isOriginalContent&&s.push({text:n.fbt._("OC",null,{hk:"1i721p"}),type:f.f.Oc}),e&&s.push({text:n.fbt._("Poll",null,{hk:"1scdU1"}),type:f.f.Meta}),s.push(...t.flair),s};t.a=v(e=>{let{className:t,disableFlair:s,flairPosition:n,isFlairFilter:r,isPostFlairEnabled:o,isMeta:a,nowrap:m,post:g,postCategories:x,sendEvent:j,showCategoryTag:O,subredditName:v,titleFlair:w}=e;const k=Object(u.b)(),S=n===f.b.Left,_=w||C(a,g),I=[];let T=[];S?_.map(e=>{Object(b.p)(e.type)?I.push(e):T.push(e)}):T=_;const E=m?y.a.flairNoWrap:I.length>0||T.length>0||x&&O?y.a.flairWrapper:null,N=e=>{const t={id:g.belongsTo.id,eventType:g.belongsTo.type,originElement:"post_flair",postFlairName:e};Object(p.d)(p.a.SearchResults),j&&j(Object(h.a)(g.id,t))},P=e=>{Object(p.d)(p.a.SearchResults),j&&j(Object(h.e)(e,g.id))},F=!(s||!_||!_.length),V=!!(O&&x&&x.length);return F||V?i.a.createElement("div",{className:Object(c.a)(E,t),"data-ignore-click":k},F&&I&&i.a.createElement(l.a,{className:y.a.flairList,isFlairFilter:r,key:"leftFlair",onClick:N,onMouseDown:P,flair:I,disabled:!o,subredditName:v}),F&&i.a.createElement(l.a,{className:y.a.flairList,isFlairFilter:r,key:"rightFlair",onClick:N,onMouseDown:P,flair:T,disabled:!o,subredditName:v}),V&&i.a.createElement(d.a,{inLightboxHeader:m,postId:g.id,postCategories:x})):null})},"./src/reddit/components/Governance/PostPollMetaData/index.m.less":function(e,t,s){e.exports={proposalMetaData:"_2uZcUQgumllsYgn5TxSizG",proposalMetaDataTime:"_1u5ghYiKbGasP3ORCsbasV"}},"./src/reddit/components/Hovercards/SubredditHovercard/index.tsx":function(e,t,s){"use strict";var n=s("./src/higherOrderComponents/makeAsync.tsx"),r=s("./src/lib/loadWithRetries/index.ts");const i=()=>null;t.a=Object(n.a)({ErrorComponent:i,getComponent:()=>Object(r.a)(()=>Promise.all([s.e("AuthorHovercard~Governance~InFeedChaining~Reddit~SubredditHovercard~reddit-components-ClassicPost~re~2f1a95cc"),s.e("SubredditHovercard")]).then(s.bind(null,"./src/reddit/components/Hovercards/SubredditHovercard/_SubredditHovercard.tsx"))).then(e=>e.default),LoadingComponent:i})},"./src/reddit/components/ImageWithFallback/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s("./node_modules/core-js/modules/es6.symbol.js"),s("./node_modules/react/index.js");const n=e=>new Promise((t,s)=>{const n=new Image;n.onload=()=>t(n),n.onerror=s,n.src=e})},"./src/reddit/components/InfoTextTooltip/Hooked.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),o=s("./src/reddit/components/InfoTextTooltip/hooked.m.less"),a=s.n(o);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};t.a=r.a.memo((function(e){var{visible:t}=e,s=d(e,["visible"]);const[o,l]=Object(n.useState)(t);return Object(n.useEffect)(()=>{let e=window.setTimeout(()=>{e=void 0,l(t)},0);return()=>{e&&window.clearTimeout(e),l(!1)}},[t]),t?r.a.createElement("div",c({className:Object(i.a)(a.a.tooltip,{[a.a.visible]:o})},s.popperProps),s.children,o&&r.a.createElement("div",c({className:a.a.arrow},s.arrowProps))):null}))},"./src/reddit/components/InfoTextTooltip/hooked.m.less":function(e,t,s){e.exports={arrow:"_1jsc29CjRXZWjd2tr0Ji0Y",tooltip:"_2J_zB4R1FH2EjGMkQjedwc",visible:"u6HtAZu8_LKL721-EnKuR"}},"./src/reddit/components/InfoTextTooltip/index.m.less":function(e,t,s){e.exports={BottomText:"_3uK2I0hi3JFTKnMUFHD2Pd",bottomText:"_3uK2I0hi3JFTKnMUFHD2Pd",Text:"HQ2VJViRjokXpRbJzPvvc",text:"HQ2VJViRjokXpRbJzPvvc","fade-in":"_1tIZttmhLdrIGrB-6VvZcT",fadeIn:"_1tIZttmhLdrIGrB-6VvZcT"}},"./src/reddit/components/InfoTextTooltip/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return f})),s.d(t,"a",(function(){return g}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),a=s("./src/higherOrderComponents/addOverlayEvents.tsx"),c=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=s("./src/reddit/selectors/tooltip.ts"),l=s("./src/reddit/components/InfoTextTooltip/index.m.less"),u=s.n(l),m=s("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const b=m.a.div("Text",u.a),h=m.a.div("BottomText",u.a),f=e=>r.a.createElement(b,{className:e.className,style:e.style},e.text,e.children),g=e=>{const t=e.overflow?e.overflow.left:0;return r.a.createElement(h,{className:e.className,style:Object.assign(Object.assign({},e.style),{"--infoTextTooltip-overflow-left":"".concat(t,"px")})},e.text,e.children)},x=Object(o.c)({isOpen:(e,t)=>{let{tooltipId:s}=t;return Object(d.b)(s)(e)}}),j=Object(c.a)(g,[a.a.Click,a.a.Keydown]),O=Object(c.a)(f,[a.a.Click,a.a.Keydown]),y=Object(i.b)(x);t.c=y(e=>{const{caretOnTop:t}=e;return t?r.a.createElement(j,p({},e,{targetPosition:["center","bottom"],tooltipPosition:["center","top"]})):r.a.createElement(O,p({},e,{targetPosition:["center","top"],tooltipPosition:["center","bottom"]}))})},"./src/reddit/components/OverlayAwareTooltip/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/higherOrderComponents/asTooltip.tsx"),o=s("./src/reddit/constants/elementIds.ts"),a=s("./src/reddit/contexts/InsideOverlay.tsx");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function d(e,t){const s=Object(i.a)(e,t);class n extends r.a.PureComponent{constructor(){super(...arguments),this.state={container:null}}componentDidMount(){if(this.props.isOverlay){const e=document.getElementById(o.d);this.setState({container:e})}}render(){return r.a.createElement(s,c({},this.props,{container:this.state.container,excludeContainerPosition:this.props.isOverlay}))}}return Object(a.b)(n)}},"./src/reddit/components/Poll/MetaData/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./src/lib/timeAgo/index.ts"),i=s("./src/lib/timeUntil/index.ts"),o=s("./node_modules/react/index.js"),a=s.n(o);function c(e){const t=new Date(e.poll.endsAt).getTime()-Date.now()<=0;return a.a.createElement("span",{className:e.className},t?n.fbt._("Voting closed {timeAgo}",[n.fbt._param("timeAgo",Object(r.d)(e.poll.endsAt/1e3))],{hk:"3OERID"}):Object(i.a)(new Date(e.poll.endsAt)))}},"./src/reddit/components/PopupPortal/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"b",(function(){return p}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/higherOrderComponents/asTooltip.tsx"),o=s("./src/lib/CSSVariableProvider/index.tsx"),a=s("./src/reddit/constants/zIndex.ts");const c="POPUP_CONTAINER";let d;const l=["right","top"],u=["left","top"];function m(e){const[t,s]=Object(n.useState)(null);return Object(n.useEffect)(()=>{const t=()=>{const t=(e=>{let t;if(!(t="string"==typeof e?document.getElementById(e):e.current))return;const s=t.getBoundingClientRect(),{style:n}=Object(i.b)({isFixed:!1,targetBox:s,targetPosition:l,tooltipPosition:u,tooltipSize:{width:100,height:100}});return{x:n.left,y:n.top}})(e);t&&s(t)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]),t}function p(e){const{children:t,rightOf:s}=e,n=m(s);return n&&(d||(d=document.getElementById(c)))?Object(o.d)(r.a.createElement("div",{style:{position:"absolute",transform:"t".concat("ranslate(",n.x,"px, ").concat(n.y,"px)"),zIndex:a.e}},t),d):null}},"./src/reddit/components/PostFlairPicker/helpers.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"a",(function(){return d})),s.d(t,"b",(function(){return l}));var n=s("./node_modules/lodash/isEqual.js"),r=s.n(n),i=s("./src/reddit/constants/flair.ts"),o=s("./src/reddit/helpers/flair.ts"),a=s("./src/reddit/models/Flair/index.ts");const c=e=>(e||[]).find(e=>e.type===a.f.Text||e.type===a.f.Image||e.type===a.f.Richtext);var d;!function(e){e[e.InvalidTemplate=0]="InvalidTemplate",e[e.NoChanges=1]="NoChanges",e[e.NotSelected=2]="NotSelected",e[e.TextIsNotAllowed=3]="TextIsNotAllowed",e[e.TextIsEmpty=4]="TextIsEmpty",e[e.TextIsTooLong=5]="TextIsTooLong"}(d||(d={}));const l=(e,t,s)=>{if(s&&!t)return{canSave:!0};if(!t)return{canSave:!1,reason:d.NotSelected};const n=e&&t.templateId?e[t.templateId]:void 0;if(!n)return{canSave:!1,reason:d.InvalidTemplate};const a=Object(o.g)(t).length;return 0===a?{canSave:!1,reason:d.TextIsEmpty}:a>i.g?{canSave:!1,reason:d.TextIsTooLong}:Object(o.n)(t)&&!Object(o.q)(n)?{canSave:!1,reason:d.TextIsNotAllowed}:r()(s,t)?{canSave:!1,reason:d.NoChanges}:{canSave:!0}}},"./src/reddit/components/PostTitle/index.m.less":function(e,t,s){e.exports={outboundLinkIcon:"qgDkGQIoFEpMMeNtfI0BY",pollMeta:"FKej75-i0z1XubMqeVh9Q",styledLink:"SQnoC3ObvgnGjWt90zD9Z",isVisitedEnabled:"_2INHSNB8V5eaWp4P0rY_mE",Title:"_2SdHzo12ISmrC8H86TgSCp",title:"_2SdHzo12ISmrC8H86TgSCp",titleContainer:"y8HYJ-y_lTUHkQIc1mdCq",isNoWrap:"_2_QBmCTk6VD4M3dvKqXD23",postTitleVisibility:"_1hLrLjnE1G_RBCNcN9MVQf",ExtraLarge:"_29WrubtjAcKqzJSPdQqQ4h",extraLarge:"_29WrubtjAcKqzJSPdQqQ4h",Large:"_3wqmjmv3tb_k-PROt7qFZe",large:"_3wqmjmv3tb_k-PROt7qFZe",Medium:"_1zpZYP8cFNLfLDexPY65Y7",medium:"_1zpZYP8cFNLfLDexPY65Y7",Small:"uWdXen_41bh0iwLrgzFkc",small:"uWdXen_41bh0iwLrgzFkc",ExtraSmall:"_1aqE18-N18ZIRlkE1wa7DP",extraSmall:"_1aqE18-N18ZIRlkE1wa7DP",Component:"_2FCtq-QzlfuN-SwVMUZMM3",component:"_2FCtq-QzlfuN-SwVMUZMM3"}},"./src/reddit/components/PostTitle/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return B})),s.d(t,"a",(function(){return q}));s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/polished/dist/polished.es.js"),r=s("./node_modules/react/index.js"),i=s.n(r),o=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/esm/react-router-dom.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/ads/index.ts"),l=s("./src/lib/classNames/index.ts"),u=s("./src/lib/CSSVariableProvider/withTheme.tsx"),m=s("./src/lib/lessComponent.tsx"),p=s("./src/reddit/components/TrackingHelper/index.tsx"),b=s("./src/reddit/contexts/PageLayer/index.tsx"),h=s("./src/reddit/controls/OutboundLink/index.tsx"),f=s("./src/reddit/controls/OutboundLink/styled.tsx"),g=s("./src/lib/permalinkToOverlayLocation/index.ts"),x=s("./src/reddit/helpers/flair.ts"),j=s("./src/reddit/helpers/path/index.ts"),O=s("./src/reddit/helpers/publicAccessNetwork/index.ts"),y=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),v=s("./src/reddit/models/Flair/index.ts"),C=s("./src/reddit/models/Media/index.ts"),w=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),k=s("./src/lib/getShortenedLink.ts"),S=s("./src/reddit/components/FlairWrapper/index.tsx"),_=s("./node_modules/fbt/lib/FbtPublic.js"),I=s("./src/lib/prettyPrintNumber/index.ts"),T=s("./src/reddit/components/Poll/MetaData/index.tsx"),E=s("./src/reddit/components/Governance/PostPollMetaData/index.m.less"),N=s.n(E);const P=Object(c.c)({poll:(e,t)=>e.polls.models[t.pollId],resultsByVoters:(e,t)=>e.polls.results.byVoters[t.pollId]});var F=Object(o.b)(P)((function(e){const{poll:t,resultsByVoters:s}=e,n=s?s.totalVotes:"0";return i.a.createElement("div",{className:Object(l.a)(e.className,N.a.proposalMetaData)},i.a.createElement("span",null,_.fbt._({"*":"{count} votes",_1:"{count} vote"},[_.fbt._param("count",Object(I.a)(n)),_.fbt._plural(parseInt(n))],{hk:"4rP1VK"})),t&&i.a.createElement(T.a,{className:N.a.proposalMetaDataTime,poll:t}))})),V=s("./src/reddit/components/SEOTitle/index.tsx"),L=s("./src/reddit/selectors/posts.ts"),A=s("./src/reddit/selectors/subreddit.ts"),M=s("./src/reddit/selectors/user.ts"),D=s("./src/reddit/components/PostTitle/index.m.less"),R=s.n(D),W=s("./src/config.ts");function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var B,G=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};!function(e){e[e.ExtraLarge=0]="ExtraLarge",e[e.Large=1]="Large",e[e.Medium=2]="Medium",e[e.Small=3]="Small",e[e.ExtraSmall=4]="ExtraSmall"}(B||(B={}));const q=m.a.wrapped(Object(u.a)(e=>{var{size:t,titleColor:s,titleType:n,nowrap:r,children:o,className:a,redditStyle:c,theme:d}=e,u=G(e,["size","titleColor","titleType","nowrap","children","className","redditStyle","theme"]);let m="";switch(t){case B.ExtraLarge:m=R.a.ExtraLarge;break;case B.Large:m=R.a.Large;break;case B.Medium:m=R.a.Medium;break;case B.Small:m=R.a.Small;break;case B.ExtraSmall:m=R.a.ExtraSmall}return i.a.createElement("div",z({className:Object(l.a)(a,m,{[R.a.isNoWrap]:r}),style:{"--posttitletextcolor":s||Object(w.a)(Object.assign({redditStyle:c,theme:d},u)).titleText}},u),n?i.a.createElement(V.b,{type:n},o):o)}),"Title",R.a),H=e=>{var{className:t,disableVisited:s,titleColor:n}=e,r=G(e,["className","disableVisited","titleColor"]);return i.a.createElement(a.a,z({},r,{className:Object(l.a)(t,R.a.styledLink,{[R.a.isVisitedEnabled]:!s})}),r.children)},Q=e=>{var{disableVisited:t,nowrap:s}=e,n=G(e,["disableVisited","nowrap"]);return i.a.createElement("div",z({},n,{className:Object(l.a)(R.a.titleContainer,n.className,{[R.a.isNoWrap]:s,[R.a.isVisitedEnabled]:!t})}))},J=Object(b.t)({isCommentPermalink:b.v,pageLayer:e=>e}),U=Object(c.c)({flairPosition:(e,t)=>{let{pageLayer:s}=t;return Object(b.p)(e,{pageLayer:s})},isMeta:(e,t)=>{let{post:s}=t;return Object(L.r)(e,{postId:s.id})},subredditName:(e,t)=>{let{post:s}=t;return Object(A.S)(e,{subredditId:s.belongsTo.id}).name},shouldOpenPostInNewTab:M.ab,imageGalleryCurrentItem:(e,t)=>{let{post:s}=t;return Object(L.i)(e,{postId:s.id})}}),K=Object(o.b)(U),Y=e=>{const{post:t,subredditName:s}=e,{isSponsored:n}=t;if(e.isCommentsPage&&!e.isCommentPermalink&&!e.shouldLinkWrap)return i.a.createElement(Q,{nowrap:e.nowrap},i.a.createElement(X,e));if(e.isCommentsPageAd&&t.source&&t.source.url)return i.a.createElement(h.b,{href:t.source.url,isSponsored:n,postId:t.id,source:t.source},i.a.createElement(X,e));{const r=t.media&&Object(C.I)(t.media)?Object(O.c)(t.id,s):t.permalink,o=e.isCommentPermalink?Object(j.b)(r):Object(g.a)(r);return i.a.createElement(Q,{disableVisited:e.disableVisited,nowrap:e.nowrap},n?((e,t)=>{const{source:s}=Object(d.s)(e,t.imageGalleryCurrentItem);return s?i.a.createElement(h.b,{href:s.url,isSponsored:e.isSponsored,postId:e.id,source:s},i.a.createElement(X,t)):i.a.createElement(X,t)})(t,e):i.a.createElement(H,{className:e.titleLinkClassName,"data-click-id":"body",disableVisited:e.disableVisited,target:e.shouldOpenPostInNewTab?"_blank":void 0,titleColor:e.titleColor,to:o},i.a.createElement(X,e)))}},X=e=>{const{leftFlair:t,isCommentsPageAd:s,post:n}=e;let r=e.format?e.format(n):n.title;s&&"string"==typeof r&&(r=(e=>{return e.length>=250?e.slice(0,250-"...".length)+"...":e})(r));const o=e.isCommentsPage?V.a.PostComments:V.a.PostItem;return i.a.createElement(q,{className:e.titleClassName,nowrap:e.nowrap,redditStyle:e.redditStyle||e.isCommentsPage,size:e.size,titleColor:e.titleColor,titleType:o},t&&i.a.createElement(S.a,{titleFlair:t,nowrap:!0,post:n,sendEvent:e.sendEvent,showCategoryTag:!1}),r)},Z=e=>{const{hideSourceLink:t,post:s}=e,{isSponsored:n}=s,r=!t&&!e.isCrosspost&&e.size!==B.Large&&!s.isSponsored&&!(s.media&&Object(C.I)(s.media))&&(s.source||s.media&&(s.media.type===C.o.GIFVIDEO||s.media.type===C.o.IMAGE||s.media.type===C.o.EMBED));if(t||!e.isCommentsPage||e.isCommentPermalink||e.shouldLinkWrap){if(r)return i.a.createElement(f.a,{className:e.outboundLinkClassName,href:Object(C.E)(s),isSponsored:n,postId:s.id,source:s.source},Object(k.a)(s),!s.isSponsored&&i.a.createElement(y.a,{className:R.a.outboundLinkIcon}))}else if(s.source&&!e.isCrosspost&&e.size!==B.Large&&e.size!==B.ExtraLarge)return i.a.createElement(f.a,{className:e.outboundLinkClassName,href:s.source.url,isSponsored:n,postId:s.id,source:s.source},Object(k.a)(s),!s.isSponsored&&i.a.createElement(y.a,{className:R.a.outboundLinkIcon}));return null};class $ extends i.a.Component{getDynamicStyleTags(){return i.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n        .".concat(this.props.post.id," .").concat(R.a.Component," {\n          --postTitle-VisitedLinkColor: ").concat(Object(n.c)(.45,Object(w.a)(this.props).titleText,"#FFFFFF"),";\n          --postTitleLink-VisitedLinkColor: ").concat(Object(n.c)(.45,this.props.titleColor||Object(w.a)(this.props).titleText,Object(w.a)(this.props).body),";\n        }\n      ")}})}render(){const{className:e,disableFlair:t,flairPosition:s,isCommentsPage:n,isMeta:r,isOverlay:o,poll:a,post:c,showNSFWSpoilerFlairsOnly:d}=this.props,u=s===v.b.Left,m=Object(S.b)(r,c),p=d?m.filter(e=>e.type===v.f.Nsfw||e.type===v.f.Spoiler):u?m.filter(e=>Object(x.p)(e.type)):[],b=d?[]:u?m.filter(e=>!Object(x.p)(e.type)):m,h=!o&&!n,f=!t&&p&&p.length>0&&h,g=!t&&b&&b.length>0&&h;return i.a.createElement("div",{className:Object(l.a)(e,c.id)},!d&&f&&i.a.createElement(S.a,{isFlairFilter:!0,titleFlair:p,nowrap:!0,post:c,sendEvent:this.props.sendEvent,showCategoryTag:!1}),i.a.createElement(Y,z({},this.props,{leftFlair:d?p:void 0})),a&&i.a.createElement(F,{className:R.a.pollMeta,pollId:a.id}),i.a.createElement(Z,this.props),g&&i.a.createElement(S.a,{isFlairFilter:!0,titleFlair:b,nowrap:!0,post:c,sendEvent:this.props.sendEvent,showCategoryTag:!1}),i.a.createElement("div",{className:R.a.postTitleVisibility,dangerouslySetInnerHTML:{__html:'\n              <img alt="" src="'.concat(W.a.assetPath,'/img/renderTimingPixel.png" style="width: 1px; height: 1px;" onLoad="(__markFirstPostVisible || function(){})();" />\n            ')}}),this.getDynamicStyleTags())}}t.c=m.a.wrapped(J(K(Object(u.a)(Object(p.c)($)))),"Component",R.a)},"./src/reddit/components/SearchResultsContent/searchResultsPageTreatment/searchIgnoreClickContext.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return i}));var n=s("./node_modules/react/index.js");const r=Object(n.createContext)(!1);function i(){return Object(n.useContext)(r)}},"./src/reddit/components/Thumbnail/index.m.less":function(e,t,s){e.exports={blurredThumbnail:"GnWcY6GPzeZ5rzsiQ98fo",container:"_2MkcR85HDnYngvlVW2gMMa",contentType:"_2hIvPRO2xz4rn9LXAJXYDa",hasType:"_10qSZsDWnOBwx4bc7GJ1QF",hiddenImage:"_25ZOvQhQdAqwdxPd5z-KFB",imageThumbnail:"_33Pa96SGhFVpZeI6a7Y_Pl",verticallyCenterThumbnail:"Fq7oYOARH1VVCaLAuAh37",linkIcon:"m0n699kowSp8Wfa40lqpF",outboundLinkIcon:"_2rOixIHGmpfZB93ihJsw3V",placeholderThumbnail:"_2YO2O4rMRYYMeH_t2y8M5w",thumbnail:"_2c1ElNxHftd8W_nZtcG9zf",usePreview:"_78ohNtfA1urjgUhnN1jLi",LinkText:"_3HXDOeeCKnmgu_pIdoLofi",linkText:"_3HXDOeeCKnmgu_pIdoLofi"}},"./src/reddit/components/Thumbnail/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return B}));var n=s("./src/lib/isUrl/index.ts"),r=s("./node_modules/react/index.js"),i=s.n(r),o=s("./src/lib/classNames/index.ts"),a=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/lessComponent.tsx"),d=s("./src/reddit/actions/publicAccessNetwork/constants.ts"),l=s("./src/reddit/components/ImageWithFallback/index.tsx"),u=s("./src/reddit/icons/fonts/Gif/index.tsx"),m=s("./src/reddit/icons/fonts/Link/index.tsx"),p=s("./src/reddit/icons/fonts/Photos/index.tsx"),b=s("./src/reddit/icons/fonts/Text/index.tsx"),h=s("./src/reddit/icons/fonts/Video/index.tsx"),f=s("./src/reddit/icons/svgs/Gallery/index.tsx"),g=s("./src/reddit/icons/svgs/Poll/index.tsx"),x=s("./src/reddit/constants/elementClassNames.ts"),j=s("./src/reddit/controls/ContentType/index.m.less"),O=s.n(j);const y=e=>Object(o.a)(O.a.contentTypeIcon,e.className),v=e=>i.a.createElement(m.a,{className:Object(o.a)(x.a,y(e))});function C(e){const t=y(e);switch(e.type){case"gifvideo":return i.a.createElement(u.a,{className:t});case"image":return i.a.createElement(p.a,{className:t});case"meta":return i.a.createElement(g.a,{className:t});case"rtjson":case"text":return i.a.createElement(b.a,{className:t});case"video":return i.a.createElement(h.a,{className:t});case"gallery":return i.a.createElement(f.a,{className:t});default:return i.a.createElement(v,e)}}var w=s("./src/reddit/controls/OutboundLink/index.tsx"),k=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),S=s("./src/reddit/models/Media/index.ts"),_=s("./src/reddit/models/Theme/index.ts"),I=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),T=s("./src/reddit/components/Thumbnail/index.m.less"),E=s.n(T);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const P=e=>e.placeholderImage||Object(I.a)(e).placeholderImage,F=e=>e.placeholderImage?"cover":Object(I.a)(e).placeholderImagePosition,V=c.a.span("LinkText",E.a),L=e=>{let{className:t,onClick:s,children:n}=e;return i.a.createElement("div",{onClick:s,className:Object(o.a)(E.a.linkIcon,t)},n)},A=e=>i.a.createElement("img",{alt:e.alt,className:Object(o.a)(E.a.hiddenImage,e.className)}),M=e=>{const t=i.a.createRef(),{src:s,errorSrc:n}=e;return s&&n&&Object(l.a)(s).catch(()=>{t.current&&(t.current.style.backgroundImage="url(".concat(n,")"))}),i.a.createElement("div",{"aria-label":e.alt,className:Object(o.a)(E.a.thumbnail,E.a.imageThumbnail,e.className),"data-click-id":"image",ref:t,role:"img",style:{backgroundImage:"url(".concat(e.src,")"),borderColor:e.isOutbound?Object(I.a)(e).button:Object(I.a)(e).line}},e.isOutbound&&i.a.createElement(L,{className:e.linkIconClassName},i.a.createElement(k.a,{className:Object(o.a)(E.a.outboundLinkIcon,e.outboundLinkIconClassName)}),e.text&&i.a.createElement(V,{className:e.linkTextClassName},e.text)),i.a.createElement(A,{alt:e.alt,className:"hiddenImg"}))},D=e=>e.isOutbound?Object(I.a)(e).button:e.placeholderImage?"transparent":Object(I.a)(e).line,R=e=>{const t=P(e),s=t&&{background:Object(_.g)(Object(I.a)(e).placeholder,t,F(e))};return i.a.createElement("div",{className:Object(o.a)(E.a.thumbnail,E.a.placeholderThumbnail,e.className),"data-click-id":"image",style:Object.assign(Object.assign({},s),{borderColor:D(e)})},(!e.placeholderImage||e.showContentType)&&i.a.createElement(C,{className:Object(o.a)(e.contentTypeClassName,E.a.contentType,{[E.a.hasType]:e.type&&!e.isOutbound}),type:e.isMeta||e.isPoll?"meta":e.type}),e.isOutbound&&i.a.createElement(L,{className:e.linkIconClassName},i.a.createElement(k.a,{className:Object(o.a)(E.a.outboundLinkIcon,e.outboundLinkIconClassName)}),e.text&&i.a.createElement(V,{className:e.linkTextClassName},e.text)))},W=e=>i.a.createElement(M,N({},e,{className:Object(o.a)(E.a.blurredThumbnail,e.className)})),z=Object(a.a)(e=>{const{className:t,containerClassName:s,contentTypeClassName:r,crosspost:a,forceShowNSFW:c,isMeta:d,linkIconClassName:l,linkTextClassName:u,outboundLinkIconClassName:m,post:p,redditStyle:b,removeLink:h,showContentType:f,templatePlaceholderImage:g,text:x,theme:j,usePreview:O}=e,y=!j.subredditContext.shouldShowNSFWContent&&(p.isNSFW||!(!a||!a.isNSFW))&&!c,v=P({placeholderImage:g,redditStyle:b,theme:j}),C=B(e),k=q(p,t,v,y,x,j,C,d,f,h,b,l,u,m,r),_=Object(S.E)(p);return Object(n.a)(_)&&!h&&_.indexOf("redditmedia")<0?i.a.createElement("div",{className:Object(o.a)(E.a.container,O?E.a.usePreview:"",s)},i.a.createElement(w.b,{href:Object(S.E)(p),isSponsored:p.isSponsored,postId:p.id,source:p.source},k)):i.a.createElement("div",{className:Object(o.a)(E.a.container,O?E.a.usePreview:"",s)},k)}),B=e=>{let{crosspost:t,post:s,url:n,usePreview:r}=e;if(n)return n;const{preview:i,media:o,thumbnail:a}=t||s;return r&&i?i.url:G(o)?o.scrubberThumbSource:a.url},G=e=>!!e&&e.type===S.o.LIVEVIDEO,q=(e,t,s,r,a,c,l,u,m,p,b,h,f,g,x)=>{const j=e.source&&!e.isSponsored||!1;if(Object(n.a)(l)){const s=G(e.media),n=s?{errorSrc:d.U}:{},u=Object(o.a)(t,{[E.a.verticallyCenterThumbnail]:s});return r?i.a.createElement(W,N({"data-click-id":"image",src:l},n,{className:u,isOutbound:j&&!p,linkIconClassName:h,linkTextClassName:f,outboundLinkIconClassName:g,redditStyle:b,text:a,theme:c})):i.a.createElement(M,N({alt:e.title,className:u,src:l},n,{isOutbound:j&&!p,linkIconClassName:h,linkTextClassName:f,outboundLinkIconClassName:g,redditStyle:b,text:a,theme:c}))}return i.a.createElement(R,{className:t,contentTypeClassName:x,placeholderImage:s,isMeta:u,isOutbound:j&&!p,linkIconClassName:h,linkTextClassName:f,outboundLinkIconClassName:g,redditStyle:b,showContentType:m,text:a,theme:c,type:e.media?e.media.type:null,isPoll:!!e.pollData})};t.a=z},"./src/reddit/components/VerticalVotes/index.m.less":function(e,t,s){e.exports={votesContainer:"_1E9mcoVn4MYnuBQSVDt1gC",bounceUp:"nmB1I04Z-G4nY3g3s_17F",bounceDown:"_1L6r7KisMt3CYUGWSEMGiR",disabledScore:"_3WPd5t8B-7mtiGONFotWAM"}},"./src/reddit/components/VerticalVotes/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return v}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),o=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/reddit/constants/elementClassNames.ts"),u=s("./src/reddit/controls/Score/index.tsx"),m=s("./src/reddit/components/VerticalVotes/votes.tsx"),p=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),b=s("./src/reddit/models/Vote/index.ts"),h=s("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),f=s("./src/reddit/selectors/user.ts"),g=s("./src/reddit/components/VerticalVotes/index.m.less"),x=s.n(g);const j=Object(a.c)({isNightmode:f.U,totalDiscount:h.d}),O=Object(o.b)(j),y=e=>!e.isCustomIconDisabled&&!0!==e.redditStyle&&Object(p.a)(e).voteIcons.upvoteInactive&&Object(p.a)(e).voteIcons.upvoteActive,v=e=>!e.isCustomIconDisabled&&!0!==e.redditStyle&&Object(p.a)(e).voteIcons.downvoteInactive&&Object(p.a)(e).voteIcons.downvoteActive;class C extends i.a.Component{constructor(){super(...arguments),this.state={voted:b.a.notVoted},this.onUpvote=()=>{const{voteState:e}=this.props.model,{onVoteClick:t}=this.props;t(b.a.upvoted),this.setState({voted:e!==b.a.upvoted?b.a.upvoted:b.a.notVoted})},this.onDownvote=()=>{const{voteState:e}=this.props.model,{onVoteClick:t}=this.props;t(b.a.downvoted),this.setState({voted:e!==b.a.downvoted?b.a.downvoted:b.a.notVoted})}}render(){const e=this.props,{downvoteButtonClassName:t,isNightmode:s,shouldShowScore:r=!0,upvoteButtonClassName:o,containerRef:a,model:d,totalDiscount:p}=e,h=y(e),f=v(e),g=d.voteState;return i.a.createElement("div",{className:Object(c.a)(x.a.votesContainer,e.className),id:"vote-arrows-".concat(d.id),ref:a},h?i.a.createElement(m.b,{"aria-label":n.fbt._("upvote",null,{hk:"G6dJB"}),"aria-pressed":g===b.a.upvoted,"data-click-id":"upvote",compact:e.compact,className:e.upvoteClassName,id:e.upvoteTooltipId,isNightmode:s,onClick:this.onUpvote,voteState:g}):i.a.createElement("button",{"aria-label":n.fbt._("upvote",null,{hk:"RguWS"}),"aria-pressed":g===b.a.upvoted,className:Object(c.a)(l.n,o),onClick:this.onUpvote,"data-click-id":"upvote",id:e.upvoteTooltipId},i.a.createElement(m.d,{compact:e.compact,className:e.upvoteClassName,voteState:g})),!e.compact&&r&&i.a.createElement(u.a,{className:e.scoreClassName,flairStyleTemplate:e.flairStyleTemplate,light:e.light,score:e.model.score,voteState:g,isScoreHidden:e.model.isScoreHidden,totalDiscount:p}),f?i.a.createElement(m.a,{"aria-label":n.fbt._("downvote",null,{hk:"tNfDV"}),"aria-pressed":g===b.a.downvoted,"data-click-id":"downvote",className:e.downvoteClassName,compact:e.compact,isNightmode:s,onClick:this.onDownvote,voteState:g}):i.a.createElement("button",{"aria-label":n.fbt._("downvote",null,{hk:"1mDjTw"}),"aria-pressed":g===b.a.downvoted,className:Object(c.a)(l.n,t),onClick:this.onDownvote,"data-click-id":"downvote"},i.a.createElement(m.c,{className:e.downvoteClassName,compact:e.compact,voteState:g})))}}const w=Object(d.a)(O(C));t.a=w},"./src/reddit/connectors/PostViewable/index.ts":function(e,t,s){"use strict";var n=s("./node_modules/react-redux/es/index.js"),r=s("./src/reddit/actions/post.ts");t.a=(e,t)=>Object(n.b)(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},e),{onPostViewable:r.J})}(t))},"./src/reddit/constants/jsapiEvents.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return i}));const n="reddit",r="reddit.ready",i="reddit.urlChanged"},"./src/reddit/controls/ContentType/index.m.less":function(e,t,s){e.exports={contentTypeIcon:"_3CquMWJ6RMh8E9D-_84AtZ"}},"./src/reddit/controls/LoadingIcon/index.m.less":function(e,t,s){e.exports={loadingIcon:"_3LwT7hgGcSjmJ7ng7drAuq",spin:"ibDwUVR1CAykturOgqOS5",mCentered:"_2qr28EeyPvBWAsPKl-KuWN"}},"./src/reddit/controls/LoadingIcon/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),o=s("./src/reddit/controls/LoadingIcon/index.m.less"),a=s.n(o);t.a=e=>{let{center:t,className:s,sizePx:n}=e;return r.a.createElement("div",{className:Object(i.a)(a.a.loadingIcon,s,{[a.a.mCentered]:t}),style:{"--sizePx":"".concat(n,"px")}})}},"./src/reddit/controls/OutboundLink/styled.tsx":function(e,t,s){"use strict";var n=s("./src/lib/lessComponent.tsx"),r=s("./src/reddit/constants/elementClassNames.ts"),i=s("./src/reddit/controls/OutboundLink/index.tsx"),o=s("./src/reddit/controls/OutboundLink/styles.m.less"),a=s.n(o);t.a=n.a.wrapped(i.b,"styledOutboundLink",{styledOutboundLink:"".concat(a.a.styledOutboundLink," ").concat(r.l)})},"./src/reddit/controls/OutboundLink/styles.m.less":function(e,t,s){e.exports={styledOutboundLink:"_13svhQIUZqD9PVzFcLwOKT"}},"./src/reddit/controls/RadioInput/RadioOption/index.m.less":function(e,t,s){e.exports={radioOption:"_2e6fJknJ4noSygWYov8-F1",radioOff:"_1lzSnSABNXX12WerTnwqI3",radioOn:"_3PYsg_uRJ6AGptv-hi7kqu"}},"./src/reddit/controls/RadioInput/RadioOption/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),o=s("./src/reddit/constants/keycodes.ts"),a=s("./src/reddit/icons/svgs/RadioOff/index.tsx"),c=s("./src/reddit/icons/svgs/RadioOn/index.tsx"),d=s("./src/reddit/layout/row/Inline/index.tsx"),l=s("./src/reddit/controls/RadioInput/RadioOption/index.m.less"),u=s.n(l);class m extends r.a.Component{constructor(){super(...arguments),this.ref=null,this.onKeyPress=e=>{const{props:t}=this;t.disabled||e.key!==o.b.Enter&&e.key!==o.b.Space||(t.onClick&&t.onClick(t.value),e.preventDefault())}}componentDidUpdate(e){this.props.selected&&!e.selected&&this.ref&&this.ref.focus()}render(){const{props:e}=this;return e.hidden?null:r.a.createElement(d.a,{"aria-checked":e.selected,className:Object(i.a)(e.className,u.a.radioOption),innerRef:e=>this.ref=e,onClick:e.disabled?void 0:e.onClick,onKeyPress:this.onKeyPress,role:"radio",tabIndex:e.tabIndex},e.showButton&&(e.selected?r.a.createElement(c.a,{className:u.a.radioOn,role:"presentation"}):r.a.createElement(a.a,{className:u.a.radioOff,role:"presentation"})),e.children)}}t.a=m},"./src/reddit/controls/RadioInput/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/constants/keycodes.ts");class o extends r.a.Component{constructor(e){super(e),this.handleClick=e=>{const{disabled:t,onChange:s}=this.props;t||this.state.value!==e&&(s(e),this.setState({value:e}))},this.getValues=()=>{const e=[];return r.a.Children.forEach(this.props.children,t=>{t.props.hidden||t.props.disabled||e.push(t.props.value)}),e},this.onKeyDown=e=>{const{disabled:t,onChange:s}=this.props,{value:n}=this.state;if(t)return;const r=e.key===i.b.ArrowUp,o=e.key===i.b.ArrowDown;if(r||o){const t=this.getValues();if(!t.length)return;const i=n?t.indexOf(n):0,o=t[((r?i-1:i+1)+t.length)%t.length];s(o),this.setState({value:o}),e.preventDefault()}},this.state={value:e.value||null}}UNSAFE_componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value||null})}render(){const{props:e}=this,{value:t}=this.state;return r.a.createElement("div",{"aria-label":e.name,className:e.className,role:"radiogroup",onKeyDown:this.onKeyDown},r.a.createElement("input",{disabled:e.disabled,type:"hidden",value:t||""}),r.a.Children.map(e.children,(s,n)=>{const i=0===n,o=s.props.value===t,a=null!==t?o?0:-1:i?0:-1;return r.a.cloneElement(s,{disabled:e.disabled,onClick:e=>this.handleClick(s.props.value),selected:o,tabIndex:a})}))}}},"./src/reddit/controls/Score/index.m.less":function(e,t,s){e.exports={score:"_1rZYMD_4xY3gRcSS3p8ODO"}},"./src/reddit/controls/Score/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),o=s("./src/lib/CSSVariableProvider/withTheme.tsx"),a=s("./src/lib/prettyPrintNumber/index.ts"),c=s("./src/reddit/components/CountAnimation/index.tsx"),d=s("./src/reddit/components/CountAnimation/config.ts"),l=s("./src/reddit/components/CountAnimation/helpers.ts"),u=s("./src/reddit/constants/colors.ts"),m=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),p=s("./src/reddit/helpers/styles/smartTextColor.ts"),b=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),h=s("./src/reddit/models/Vote/index.ts"),f=s("./src/reddit/controls/Score/index.m.less"),g=s.n(f);const x=e=>e.voteState===h.a.downvoted?Object(b.a)(e).voteText.downvote:e.voteState===h.a.upvoted?Object(b.a)(e).voteText.upvote:Object(p.a)(Object(m.a)(e)),{upvoteCount:{inititalDelayRange:{lower:j,upper:O},subsequentRecurringDelayRange:{lower:y,upper:v},incrementRangeRelativeToTotalDiscount:{lower:C,upper:w}}}=d.a,k=()=>Object(l.h)(j,O),S=()=>Object(l.h)(y,v),_=Object(o.a)(e=>{const t={color:e.light?u.a.lightboxHeaderText:x(e)},{totalDiscount:s=0,score:o}=e,d=e.isScoreHidden?"•":Object(a.b)(o),m=Object(n.useCallback)(()=>Object(l.h)(Math.ceil(s*C),Math.ceil(s*w)),[s]);return r.a.createElement("div",{className:Object(i.a)(g.a.score,e.className),style:e.disableInlineColor?void 0:t},!e.isScoreHidden&&s>0?r.a.createElement(c.a,{initialDisplayCount:o-s,countToUpperBound:o,initialDelay:k,subsequentRecurringDelay:S,incrementDelta:m}):d)});t.a=_},"./src/reddit/helpers/canRenderThumbnail.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("./src/reddit/constants/thumbnails.ts"),r=s("./src/reddit/models/Media/index.ts");function i(e){return!(!e.thumbnail||!e.thumbnail.url||e.thumbnail.url===n.a.SELF||e.thumbnail.url===n.a.NSFW||e.media&&Object(r.G)(e.media))}},"./src/reddit/helpers/richTextJson/index.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"e",(function(){return a})),s.d(t,"a",(function(){return c})),s.d(t,"d",(function(){return d})),s.d(t,"c",(function(){return u}));s("./node_modules/core-js/modules/es6.regexp.split.js"),s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./src/reddit/models/RichTextJson/index.ts");const r="giphy|",i="|downsized";function o(e,t){return r+e+(t?i:"")}function a(e){return e&&0===e.indexOf(r)}function c(e){const t=e&&e.media&&e.media.mediaMetadata;return!!t&&Object.keys(t).some(a)}function d(e){let t=e.substring(r.length);return t.indexOf("|")&&(t=t.split("|")[0]),"https://web.archive.org/web/20210101014616/https://giphy.com/gifs/".concat(t)}function l(e){return"object"==typeof e&&null!==e&&!!e.e}function u(e){const t=e=>{let s=[];const r=e.c&&Array.isArray(e.c)?e.c:[];for(const n of r)l(n)&&(s=[...s,...t(n)]);return n.F(e)&&s.push(e.id),s};return e.reduce((e,s)=>[...e,...t(s)],[])}},"./src/reddit/helpers/trackers/communityAwards.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"g",(function(){return l})),s.d(t,"c",(function(){return u})),s.d(t,"f",(function(){return m})),s.d(t,"b",(function(){return p})),s.d(t,"d",(function(){return b})),s.d(t,"h",(function(){return f})),s.d(t,"i",(function(){return g}));var n=s("./src/reddit/models/Gold/Award.ts"),r=s("./src/reddit/selectors/telemetry.ts"),i=s("./src/reddit/helpers/correlationIdTracker.ts"),o=s("./src/reddit/helpers/trackers/gild.ts");const a=e=>Object.assign(Object.assign({},r.defaults(e)),{screen:r.screen(e),subreddit:r.subreddit(e),userSubreddit:r.userSubreddit(e)}),c=e=>({awardId:e.id,awardName:e.name,isModAward:e.awardType===n.f.Moderator,isTemporatyAward:!!e.endsAt,numberCoins:e.coinPrice,numberMonths:Math.floor((e.daysOfPremium||0)/30),numberCoinsToRecipient:e.coinReward||0,numberCoinsToCommunity:e.subredditCoinReward||0,type:Object(o.getAwardTypeFromAward)(e)}),d=()=>e=>Object.assign(Object.assign({},a(e)),{source:"awards",action:"click",correlationId:Object(i.c)(i.a.AwardCreationFlow),noun:"create"}),l=e=>t=>Object.assign(Object.assign({},a(t)),{source:"awards",action:"click",correlationId:Object(i.c)(i.a.AwardDeletionFlow),noun:"delete",goldPurchase:e?c(e):null,media:e?{url:e.icon.url}:null}),u=(e,t,s)=>n=>Object.assign(Object.assign({},a(n)),{source:"create_award",action:e,correlationId:Object(i.c)(i.a.AwardCreationFlow),noun:t,goldPurchase:s}),m=(e,t,s,n)=>r=>Object.assign(Object.assign({},a(r)),{source:"create_award",action:"upload",correlationId:Object(i.c)(i.a.AwardCreationFlow),noun:"image",actionInfo:n?{reason:n}:{success:!0},media:t?{fileName:t.file.name,height:t.height,id:t.id,mimetype:t.file.type,size:t.file.size,type:"image",uploadDuration:s,url:e,width:t.width}:null}),p=(e,t,s)=>n=>Object.assign(Object.assign({},a(n)),{source:"create_award",action:"click",correlationId:Object(i.c)(i.a.AwardCreationFlow),noun:"create",media:t&&e?{fileName:t.file.name,height:t.height,id:t.id,mimetype:t.file.type,size:t.file.size,type:"image",url:e,width:t.width}:null,goldPurchase:s?c(s):null}),b=(e,t,s)=>n=>Object.assign(Object.assign({},a(n)),{source:"create_award",action:e,correlationId:Object(i.c)(i.a.AwardCreationFlow),noun:t,goldPurchase:s?c(s):null}),h=(e,t,s)=>n=>Object.assign(Object.assign({},a(n)),{source:"awards",action:"click",noun:s,goldPurchase:c(e),profile:r.profileById(n,t),subreddit:r.subredditById(n,t)}),f=(e,t)=>h(e,t,"disable_in_community"),g=(e,t)=>h(e,t,"enable_in_community")},"./src/reddit/helpers/trackers/goldPayment.ts":function(e,t,s){"use strict";s.d(t,"h",(function(){return f})),s.d(t,"b",(function(){return g})),s.d(t,"f",(function(){return x})),s.d(t,"d",(function(){return j})),s.d(t,"e",(function(){return O})),s.d(t,"c",(function(){return y})),s.d(t,"a",(function(){return v})),s.d(t,"g",(function(){return C})),s.d(t,"i",(function(){return w})),s.d(t,"j",(function(){return k}));var n=s("./src/lib/constants/index.ts"),r=s("./src/reddit/models/Gold/ProductOffer.ts"),i=s("./src/reddit/selectors/gold/giveAwards.ts"),o=s("./src/reddit/selectors/gold/purchaseCatalog.ts"),a=s("./src/reddit/selectors/goldPurchaseModals.ts"),c=s("./src/reddit/selectors/platform.ts"),d=s("./src/reddit/selectors/telemetry.ts"),l=s("./src/telemetry/models/GoldPurchase.ts"),u=s("./src/telemetry/models/Payment.ts"),m=s("./src/reddit/helpers/trackers/gild.ts"),p=s("./src/reddit/helpers/correlationIdTracker.ts"),b=s("./src/reddit/helpers/isComment.ts"),h=s("./src/reddit/helpers/trackers/communityAwards.ts");const f=(e,t)=>{const{thingId:s,packageId:c}=t,u=!!s,f=i.b(e),g=f?Object(m.getAwardTypeFromAward)(f):null,x=u?g:a.o(e)?l.GoldPurchaseType.Premium:l.GoldPurchaseType.Coins,j=s?Object(b.a)(s)?"comment":"post":void 0,O=c||a.s(e),y=[...Object(o.d)(e),...Object(o.f)(e)].filter(e=>e.mobileId===O)[0],v=t.offerContext||(f&&0===f.coinPrice?r.a.StorefrontFreeAward:Object(r.c)(y,u)),C=y?Math.round(1e4*(y.baselinePennies-y.pennies)/y.baselinePennies)/100:0,w=y?Math.round(1e4*(y.coins-y.baselineCoins)/y.coins)/100:0,k=y?y.baselinePennies!==y.pennies?"".concat(C,"_percent_price"):y.baselineCoins!==y.coins?"".concat(w,"_percent_bonus"):void 0:void 0,S=x===l.GoldPurchaseType.Premium?n.sb:y?y.pennies:void 0;return Object.assign(Object.assign({},d.defaults(e)),{comment:s?d.comment(e,s):null,correlationId:a.q(e)||Object(p.d)(p.a.GoldPayment,!1),post:s?d.post(e,s):null,screen:d.screen(e),subreddit:s?d.subreddit(e):null,goldPurchase:Object.assign(Object.assign({},f?Object(h.a)(f):null),{type:x,gildedContent:u,contentType:j,numberCoins:y?y.coins:void 0,offerContext:v,offerType:k}),payment:{currency:"USD",amountInSmallestDenom:S},purchase:{priceMicros:S}})},g=(e,t,s)=>n=>Object.assign(Object.assign({},f(n,{packageId:t,thingId:e,offerContext:s})),{source:"gold_payment",action:"click",noun:"close"}),x=e=>t=>Object.assign(Object.assign({},f(t,{thingId:e})),{source:"gold_payment",action:"click",noun:"paypal"}),j=e=>t=>Object.assign(Object.assign({},f(t,{thingId:e})),{source:"gold_payment",action:"click",noun:"continue_paypal"}),O=e=>t=>Object.assign(Object.assign({},f(t,{thingId:e})),{source:"gold_payment",action:"click",noun:"credit_card"}),y=e=>t=>Object.assign(Object.assign({},f(t,{thingId:e})),{source:"gold_payment",action:"click",noun:"complete_credit_card"}),v=(e,t)=>s=>Object.assign(Object.assign({},f(s,{packageId:e,offerContext:t})),{source:"gold_payment",action:"click",noun:"confirm"}),C=e=>t=>Object.assign(Object.assign({},f(t,{thingId:e})),{source:"gold_payment",action:"display",noun:"error"}),w=(e,t,s)=>n=>{const r=f(n,{packageId:t,thingId:e,offerContext:s});return Object.assign(Object.assign({},r),{source:"gold_payment",action:"view",noun:"page",payment:Object.assign(Object.assign({},r.payment),{defaultOption:u.PaymentMethod.Paypal}),goldPurchase:Object.assign(Object.assign({},r.goldPurchase),{source:e?l.GiveGold:a.o(n)?l.PremiumMarketing:l.CoinsMarketing})})},k=e=>t=>{const s=f(t,{thingId:e});return Object.assign(Object.assign({},s),{source:"gold_payment",action:"view",noun:"success",payment:Object.assign(Object.assign({},s.payment),{method:Object(c.b)(t).queryParams.thanks?u.PaymentMethod.Paypal:u.PaymentMethod.CreditCard})})}},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return d})),s.d(t,"d",(function(){return l})),s.d(t,"c",(function(){return u})),s.d(t,"e",(function(){return m})),s.d(t,"a",(function(){return p}));var n=s("./src/reddit/constants/tracking.ts"),r=s("./src/telemetry/index.ts"),i=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),o=s("./src/reddit/selectors/platform.ts"),a=s("./src/reddit/selectors/telemetry.ts");const c=e=>({profile:a.profile(e),screen:a.screen(e),subreddit:a.subreddit(e)}),d=(e,t,s)=>n=>Object.assign(Object.assign({source:Object(o.i)(n)||s?"post_lightbox":"post_detail",action:"click",noun:t},c(n)),{post:a.post(n,e)}),l=(e,t,s,n)=>r=>{const o=s?a.comment(r,s):null,{sortToUse:c}=Object(i.a)(r,e);return Object.assign(Object.assign({},d(e,t,n)(r)),{comment:o,listing:{sort:c}})},u=(e,t)=>s=>{const n=a.currentPost(s);return n?d(n.id,e,t)(s):Object.assign({source:Object(o.i)(s)||t?"post_lightbox":"post_detail",action:"click",noun:e},c(s))},m=(e,t)=>s=>Object(r.a)(Object.assign(Object.assign({},d(e,t)(s)),a.defaults(s))),p=e=>t=>Object.assign(Object.assign({source:"id_card",action:n.c.CLICK,noun:e},c(t)),{post:a.currentPost(t),userSubreddit:a.userSubreddit(t)})},"./src/reddit/helpers/trackers/modTools.ts":function(e,t,s){"use strict";s.d(t,"h",(function(){return i})),s.d(t,"i",(function(){return o})),s.d(t,"a",(function(){return a})),s.d(t,"d",(function(){return c})),s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return l})),s.d(t,"e",(function(){return u})),s.d(t,"j",(function(){return m})),s.d(t,"g",(function(){return p})),s.d(t,"f",(function(){return b}));var n=s("./src/reddit/selectors/telemetry.ts");const r=e=>({screen:Object(n.screen)(e),profile:Object(n.profile)(e),subreddit:Object(n.subreddit)(e),userSubreddit:Object(n.userSubreddit)(e)}),i=e=>t=>Object.assign({source:"nav",action:"click",noun:e?"mod_mode_on":"mod_mode_off"},r(t)),o=(e,t)=>s=>Object.assign({source:"post_mod_action_menu",action:"click",noun:e,post:Object(n.post)(s,t)},r(s)),a=(e,t)=>s=>Object.assign({source:"comment",action:"click",noun:e,post:Object(n.post)(s,t),comment:Object(n.comment)(s,t)},r(s)),c=(e,t)=>s=>Object.assign({source:"comment_overflow_menu",action:"click",noun:e,post:Object(n.post)(s,t),comment:Object(n.comment)(s,t)},r(s)),d=(e,t)=>s=>Object.assign({source:"mod_distinguish_menu",action:"click",noun:e,post:Object(n.post)(s,t),comment:Object(n.comment)(s,t)},r(s)),l=(e,t)=>s=>Object.assign({source:"comment_mod_action_menu",action:"click",noun:e,post:Object(n.post)(s,t),comment:Object(n.comment)(s,t)},r(s)),u=(e,t)=>s=>Object.assign({source:"comment_report_menu",action:"click",noun:e,comment:Object(n.comment)(s,t),post:Object(n.post)(s,t)},r(s)),m=(e,t)=>s=>Object.assign({source:"post_report_menu",action:"click",noun:e,post:Object(n.post)(s,t)},r(s)),p=(e,t)=>s=>({source:"post",action:"click",noun:e,post:Object(n.post)(s,t),subreddit:Object(n.subredditByPostOrCommentId)(s,t)}),b=(e,t)=>s=>({source:"comment",action:"click",noun:e,comment:Object(n.comment)(s,t),post:Object(n.post)(s,t),subreddit:Object(n.subredditByPostOrCommentId)(s,t)})},"./src/reddit/helpers/trackers/postFlair.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return a})),s.d(t,"f",(function(){return c})),s.d(t,"d",(function(){return d})),s.d(t,"c",(function(){return l})),s.d(t,"e",(function(){return u}));var n=s("./src/reddit/helpers/correlationIdTracker.ts"),r=s("./src/reddit/selectors/telemetry.ts"),i=s("./src/reddit/helpers/flair.ts");const o=(e,t)=>s=>Object.assign(Object.assign({source:"post",action:"click",noun:"post_flair"},r.defaults(s)),{actionInfo:r.actionInfo(s),correlationId:Object(n.c)(n.a.SearchResults),post:r.post(s,e),search:Object.assign(Object.assign({},r.postFlairClickToSearch(s,t)),{query:"flair_name:'".concat(t.postFlairName,"'"),queryId:Object(n.c)(n.a.SearchResults)}),subreddit:r.subreddit(s)}),a=e=>t=>Object.assign(Object.assign({source:"post_flair_widget",action:"click",noun:"post_flair_search"},r.defaults(t)),{actionInfo:r.actionInfo(t),correlationId:Object(n.c)(n.a.SearchResults),search:r.postFlairClickToSearch(t,e),subreddit:r.subreddit(t)}),c=e=>t=>{const s=Object(i.g)(e);return Object.assign(Object.assign({},r.defaults(t)),{action:"click",noun:"post_flair",source:"post_flair_widget",subreddit:r.subreddit(t),postFlair:{id:e.templateId,title:s}})},d=()=>e=>Object.assign(Object.assign({},r.defaults(e)),{action:"click",noun:"overflow",source:"post_flair_widget",subreddit:r.subreddit(e)}),l=e=>t=>{const s=Object(i.g)(e);return Object.assign(Object.assign({},r.defaults(t)),{action:"click",noun:"clear",source:"post_flair_widget",subreddit:r.subreddit(t),postFlair:{id:e.templateId,title:s}})},u=(e,t)=>s=>{const o=Object(i.g)(e),a=r.post(s,t);return Object.assign(Object.assign({},r.defaults(s)),{action:"click",noun:"post_flair",source:"post",subreddit:r.subreddit(s),postFlair:{id:e.templateId,title:o},post:a,search:{query:"flair_name:'".concat(o,"'"),subredditId:a?a.subredditId:void 0,subredditName:a?a.subredditName:void 0,postFlairName:o,originElement:"post_flair",queryId:Object(n.c)(n.a.SearchResults),originPageType:s.platform.currentPage?r.getPageTypeFromCurrentPage(s.platform.currentPage):void 0}})}},"./src/reddit/hooks/useInfoTextTooltip.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s("./node_modules/icepick/icepick.js"),r=s("./node_modules/react/index.js"),i=s("./node_modules/react-popper/lib/esm/usePopper.js");const o=Object(n.freeze)({modifiers:[]});function a(e){let t="object"==typeof e?e:o;return Array.isArray(t.modifiers)||(t=Object(n.assoc)(t,"modifiers",o.modifiers)),t}const c=Object(n.freeze)({name:"offset",options:{offset:[0,6]}});function d(e){return function(e){const[t,s]=Object(r.useState)(null),[o,c]=Object(r.useState)(null),[d,l]=Object(r.useState)(null),[u,m]=Object(r.useState)(!1),p=Object(r.useCallback)(async()=>m(!0),[]),b=Object(r.useCallback)(()=>m(!1),[]),h=Object(r.useMemo)(()=>{const t=a(e);return d?Object(n.updateIn)(t,["modifiers"],e=>Object(n.push)(e,{name:"arrow",options:{element:d}})):t},[d,e]),{attributes:f,styles:g}=Object(i.a)(t,o,h);return Object(r.useMemo)(()=>({arrowProps:Object.assign({ref:l,style:g.arrow},f.arrow),hide:b,popperProps:Object.assign({ref:c,style:g.popper},f.popper),show:p,target:{element:t,ref:s},visible:u}),[l,f,c,b,p,g,t,s,u])}(Object(r.useMemo)(()=>{const t=a(e);return Object(n.updateIn)(t,["modifiers"],e=>Object(n.push)(e,c))},[e]))}},"./src/reddit/hooks/useIntersectionObserver.ts":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js");t.a=function(e,t,s){Object(n.useEffect)(()=>{const n=e&&e.current;if(!n||"undefined"==typeof IntersectionObserver)return;const r=new IntersectionObserver(t,s);return r.observe(n),()=>{r.unobserve(n)}},[e,t,s])}},"./src/reddit/icons/fonts/Gif/index.m.less":function(e,t,s){e.exports={GifIcon:"_2FVMHfvH9Kj7f59LnZjdUX",gifIcon:"_2FVMHfvH9Kj7f59LnZjdUX"}},"./src/reddit/icons/fonts/Gif/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),o=s("./src/reddit/icons/fonts/Gif/index.m.less"),a=s.n(o);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>r.a.createElement("i",{className:"".concat(Object(i.b)("gif")," ").concat(e.className)}),"GifIcon",a.a);t.a=c},"./src/reddit/icons/fonts/Link/index.m.less":function(e,t,s){e.exports={LinkIcon:"_1UzGujIvFbQUgWI4gO6QeD",linkIcon:"_1UzGujIvFbQUgWI4gO6QeD"}},"./src/reddit/icons/fonts/Link/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),o=s("./src/reddit/icons/fonts/Link/index.m.less"),a=s.n(o);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>r.a.createElement("i",{className:"".concat(Object(i.b)("link")," ").concat(e.className)}),"LinkIcon",a.a);t.a=c},"./src/reddit/icons/fonts/OutboundLink/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx");t.a=e=>r.a.createElement("i",{className:"".concat(Object(i.b)("outboundLink")," ").concat(e.className)})},"./src/reddit/icons/fonts/Photos/index.m.less":function(e,t,s){e.exports={PhotoIcon:"_1LWQVKh7NQLbKMIz2io1Di",photoIcon:"_1LWQVKh7NQLbKMIz2io1Di"}},"./src/reddit/icons/fonts/Photos/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),o=s("./src/reddit/icons/fonts/Photos/index.m.less"),a=s.n(o);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>r.a.createElement("i",{className:"".concat(Object(i.b)("photos")," ").concat(e.className)}),"PhotoIcon",a.a);t.a=c},"./src/reddit/icons/fonts/Premium/index.m.less":function(e,t,s){e.exports={PremiumIcon:"dLp3R7pmxclGjLS87yr5S",premiumIcon:"dLp3R7pmxclGjLS87yr5S"}},"./src/reddit/icons/fonts/Premium/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),o=s("./src/reddit/icons/fonts/Premium/index.m.less"),a=s.n(o);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>r.a.createElement("i",{title:e.title,className:"".concat(Object(i.b)("premium")," ").concat(e.className)}),"PremiumIcon",a.a);t.a=c},"./src/reddit/icons/fonts/Text/index.m.less":function(e,t,s){e.exports={TextIcon:"_5UHlAh7zBZ6migrBJeld3",textIcon:"_5UHlAh7zBZ6migrBJeld3"}},"./src/reddit/icons/fonts/Text/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),o=s("./src/reddit/icons/fonts/Text/index.m.less"),a=s.n(o);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>r.a.createElement("i",{className:"".concat(Object(i.b)("text")," ").concat(e.className)}),"TextIcon",a.a);t.a=c},"./src/reddit/icons/fonts/Video/index.m.less":function(e,t,s){e.exports={VideoIcon:"_1q4uVersxe3LOuom7R34bx",videoIcon:"_1q4uVersxe3LOuom7R34bx"}},"./src/reddit/icons/fonts/Video/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),o=s("./src/reddit/icons/fonts/Video/index.m.less"),a=s.n(o);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>r.a.createElement("i",{className:"".concat(Object(i.b)("video")," ").concat(e.className)}),"VideoIcon",a.a);t.a=c},"./src/reddit/models/Payments/index.ts":function(e,t,s){"use strict";var n,r,i;s.d(t,"a",(function(){return r})),function(e){e.PayPal="paypal",e.Stripe="stripe"}(n||(n={})),function(e){e.NewPayPal="new-paypal",e.NewStripe="new-stripe",e.SavedPayPal="saved-paypal",e.SavedStripe="saved-stripe"}(r||(r={})),function(e){e.Comment="comment",e.Post="post",e.Profile="profile",e.Subreddit="subreddit"}(i||(i={}))},"./src/reddit/models/Product/index.ts":function(e,t,s){"use strict";var n;function r(e){return e.substring(e.lastIndexOf("|")+1)}s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r})),function(e){e.Badge="badge",e.EmotesPack="emotes_pack",e.Giphy="giphy",e.Membership="membership"}(n||(n={}))},"./src/reddit/selectors/authorFlair.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return i}));const n=(e,t)=>{let{post:s}=t;const n=s.belongsTo.id;if(!n)return null;const r=e.authorFlair.models[n];if(!r)return null;const i=s.author;return i&&r[i]||null},r=(e,t)=>{let{subredditId:s}=t;const n=e.authorFlair&&e.authorFlair.inContext&&e.authorFlair.inContext.username;if(!n)return null;if(!s)return null;const r=e.authorFlair.models[s];return r?r[n]:null},i=e=>e.authorFlair.inContext},"./src/reddit/selectors/economics.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return h})),s.d(t,"p",(function(){return f})),s.d(t,"a",(function(){return g})),s.d(t,"x",(function(){return x})),s.d(t,"f",(function(){return j})),s.d(t,"r",(function(){return O})),s.d(t,"h",(function(){return y})),s.d(t,"z",(function(){return v})),s.d(t,"m",(function(){return C})),s.d(t,"o",(function(){return w})),s.d(t,"e",(function(){return k})),s.d(t,"d",(function(){return S})),s.d(t,"i",(function(){return _})),s.d(t,"q",(function(){return I})),s.d(t,"k",(function(){return N})),s.d(t,"s",(function(){return F})),s.d(t,"y",(function(){return V})),s.d(t,"u",(function(){return L})),s.d(t,"v",(function(){return A})),s.d(t,"b",(function(){return M})),s.d(t,"w",(function(){return D})),s.d(t,"t",(function(){return R})),s.d(t,"g",(function(){return W})),s.d(t,"l",(function(){return z})),s.d(t,"j",(function(){return B})),s.d(t,"n",(function(){return G}));s("./node_modules/core-js/modules/es6.array.sort.js"),s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./src/reddit/featureFlags/index.ts"),r=s("./src/reddit/helpers/economics/sortBadges.ts"),i=s("./src/reddit/helpers/richTextJson/index.ts"),o=s("./src/reddit/models/Badge/index.ts"),a=s("./src/reddit/models/Badge/managementPage.ts"),c=s("./src/reddit/models/Gold/Powerups/index.ts"),d=s("./src/reddit/models/Payments/index.ts"),l=s("./src/reddit/models/Product/index.ts"),u=s("./src/reddit/reducers/economics/paymentSystems/index.ts"),m=s("./src/reddit/reducers/economics/subredditPremium/index.ts"),p=s("./src/reddit/selectors/comments.ts"),b=s("./src/reddit/selectors/gold/powerups.ts");const h=(e,t)=>{const s=e.economics.subredditPremium[t];if(s&&s.status===m.a.Fetched){const e=s.data.subscription,t=e&&e.active;if(t){let e=Object.keys(t);return e.length>1&&(e=e.filter(e=>"provisional_membership"!==e)),t[e[0]]||null}}return null},f=(e,t)=>{const s=h(e,t);return s&&s.endsAt||null};var g;!function(e){e[e.DontKnow=0]="DontKnow",e[e.NotSubscribed=1]="NotSubscribed",e[e.Subscribed=2]="Subscribed"}(g||(g={}));const x=(e,t)=>{const s=e.economics.subredditPremium[t];if(s&&s.status===m.a.Fetched){const s=f(e,t),n=Date.now();return s&&n<s?g.Subscribed:g.NotSubscribed}return g.DontKnow},j=(e,t)=>{const s=e.user.account,n=e.economics.subredditPremium[t];if(s&&n&&n.status===m.a.Fetched){const n=((e.users.appliedBadges[s.id]||{})[t]||[]).map(t=>e.badges.models[t]).filter(Boolean);if(n)return{[a.a.Loyalty]:n.find(e=>e.placement===o.a.First),[a.a.Achievement]:n.find(e=>e.placement===o.a.Second),[a.a.Cosmetic]:n.find(e=>!e.placement)}}return{[a.a.Loyalty]:void 0,[a.a.Achievement]:void 0,[a.a.Cosmetic]:void 0}},O=(e,t,s)=>{if(!n.d.spBadges(e))return[];const i=(e.users.appliedBadges[s]||{})[t]||[];return Object(r.a)(i.map(t=>e.badges.models[t]).filter(Boolean))},y=(e,t)=>{const s=e.economics.subredditPremium[t.subredditId];if(s&&s.status===m.a.Fetched){const e=s.raw.collections[t.collectionId];if(e)return{highlight:e.extra&&e.extra.style&&e.extra.style.color,title:e.title}}};function v(e,t){const s=(e.economics.me.data.specialMemberships||{})[t];return!!(s&&s.settings&&s.settings.optOut)}function C(e,t){const{badge:s,subredditId:n}=t,r=e.user.account?e.user.account.id:void 0;if(Object(o.e)(s)&&s.userId===r)return s;const i=e.badges.models,a=e.user.ownedBadges[n]||{},c=Object(o.e)(s)?s.type:s.id;return Object.keys(a).map(e=>i[e]).find(e=>e&&e.type===c)}function w(e,t,s,n){const r=e.economics.subredditPremium[t];if(r&&r.status===m.a.Fetched){if(s===a.a.Loyalty||s===a.a.Achievement)return r.data.collections[s];if(s===a.a.Cosmetic&&n)return r.data.collections[s][n]}return[]}function k(e,t){const s=w(e,t,a.a.Loyalty).find(e=>"membership"===e.id);return s?[].concat(s.locked,s.unlocked).filter(e=>e.position).sort((e,t)=>e.position-t.position):[]}function S(e,t){const s=e.economics.subredditPremium[t];if(s&&s.status===m.a.Fetched){const e=s.data.collections[a.a.Cosmetic];return Object.values(e).reduce((e,t)=>e.concat(t),[]).reduce((e,t)=>e.concat(t.locked,t.unlocked),[]).filter(o.f)}return[]}function _(e,t){return w(e,t,a.a.Cosmetic,a.c.Gallery).some(e=>e.locked.some(e=>Object(o.f)(e)||!!e.price))}const I=e=>{const t=[],s=e.economics.paymentSystems;if(s.status===u.a.Fetched&&s.data.stripe&&s.data.stripe.sources){const e=s.data.stripe.sources;for(const s in e){const n=e[s];t.push({display:"".concat(n.brand," •••• ").concat(n.last4),id:s,type:d.a.SavedStripe})}}if(s.status===u.a.Fetched&&s.data.braintree&&s.data.braintree.sources){const e=s.data.braintree.sources;for(const s in e){const n=e[s];"PayPal"===n.brand&&t.push({display:"PayPal",id:n.id,type:d.a.SavedPayPal})}}return t};var T;!function(e){e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NotFetched=2]="NotFetched"}(T||(T={}));const E={prices:{},member:"Supporter",memberPlural:"Supporters",memberAlt:"Subreddit Supporter",memberAltPlural:"Subreddit Supporters",membership:"Membership",membershipAlt:"Supporter Membership"},N=(e,t)=>Object.values(e.products.models).filter(e=>e.type===l.a.Membership&&t&&e.subredditId===t),P=(e,t)=>{if(!t)return{};const s=E.prices;N(e,t).forEach(e=>{e.price&&e.currency&&(s[e.currency]=e.price)});const n=h(e,t);return n&&n.price&&n.currency&&(s[n.currency]=n.price),s},F=(e,t)=>{const s=e.subreddits.gov.meta[t||""],n=s&&s.extra&&s.extra.nomenclature||E;return{prices:P(e,t),member:n.member||E.member,memberPlural:n.memberPlural||E.memberPlural,memberAlt:n.memberAlt||E.memberAlt,memberAltPlural:n.memberAltPlural||E.memberAltPlural,membership:n.membership||E.membership,membershipAlt:n.membershipAlt||E.membershipAlt}},V=e=>{const t=e.economics.paymentSystems;return!!(t.status===u.a.Fetched&&t.data&&t.data.tips&&t.data.tips.usdr&&t.data.tips.usdr.allowed)},L=(e,t)=>{const s=e.user.ownedBadges[t]||{};return!!Object.keys(s).length},A=e=>{const t=e.economics.paymentSystems;return t.status===u.a.Fetched&&!!t.data&&!!t.data.stripe&&!!t.data.stripe.stripeAccountId},M=(e,t)=>{if(!t)return;return e.economics.emotes[t]},D=(e,t)=>{const s=t&&e.economics.gifs[t];return!!s&&s.hasGifProduct},R=(e,t,s)=>{const r="replyToPost"!==s&&Object(p.o)(e,{commentId:s});if(!!r&&Object(i.a)(r))return!0;if(t&&Object(b.i)(e,{subredditId:t,benefit:c.a.CommentsWithGifs}))return!0;const o=n.d.spGiphy(e),a=D(e,t);return o&&a},W=(e,t,s)=>{if(t){const n=e.economics.banners.dismissedBanners[t];if(n&&n.data)return!!n.data[s]}},z=(e,t)=>{if(!t||!t.subredditId)return null;const s=(e.economics.me.data.claimPoints||{})[t.subredditId];if(!s||!s.length)return null;const n=(e.user.wallets[t.subredditId]||{}).latest,r=n&&n.publicAddress&&n.publicAddress.toLowerCase(),i=s.filter(e=>!e.address||e.address.toLowerCase()===r);return i.reduce((e,t)=>parseInt(t.round)<parseInt(e.round)?t:e,i[0])||null},B=(e,t)=>{const s=e.economics.claims[t.subredditId];return!!s&&s.isClaiming},G=e=>e.economics.pointsCopy.data},"./src/reddit/selectors/experiments/categories.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("./src/reddit/constants/experiments.ts"),r=s("./src/reddit/helpers/chooseVariant/index.ts"),i=s("./src/reddit/selectors/user.ts");const o=e=>{return Object(i.G)(e)||n.x.Treatment1===Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:n.s})}},"./src/reddit/singleton/EventSystem.ts":function(e,t,s){"use strict";var n=s("./src/config.ts"),r=s("./src/lib/fastdom/index.ts"),i=s("./src/reddit/actions/jsApi.ts");const o="JSAPI customEvent.detail.name is deprecated. Please upgrade to <meta>",a="jsapi.consumer",c="/r/redesign/wiki/jsapi";var d=s("./src/reddit/constants/jsapiEvents.ts");const l=100;const u=new class{constructor(){if(this.queue=[],this.active=!1,"undefined"==typeof document)return;let e;this.store=new Promise(t=>e=t),this.attachStore=t=>e(t);const t=document.querySelectorAll('meta[name="'.concat(a,'"]'));t.length&&(t.forEach(e=>{const t=e.content;this.store.then(e=>e.dispatch(i.b(t)))}),this.store.then(()=>this.fireEventsQueue())),document.addEventListener(d.b,e=>this.onReadyEvent(e),!0)}onReadyEvent(e){let t;if(this.active=!0,e.target&&e.target instanceof HTMLMetaElement&&e.target.name===a&&(t=e.target.content),!t)try{e.detail&&(t=e.detail.name,console.warn(o,"".concat(n.a.redditUrl).concat(c),e))}catch(s){return void console.error(o,"".concat(n.a.redditUrl).concat(c),s)}this.store.then(e=>{e.dispatch(i.b(t||"")),this.fireEventsQueue()})}publish(e,t,s){const n={name:e,props:t,element:s};this.queue.push(n),this.queue.length>l&&this.queue.shift(),this.active&&this.fireEvent(n)}fireEvent(e){e.element.dispatchEvent(new CustomEvent(e.name,{detail:e.props}))}fireEventsQueue(){r.a.read(()=>{for(let e=0;e<this.queue.length;e++){const t=this.queue[e];this.fireEvent(t)}})}};t.a=u}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/Reddit~reddit-components-MediumPost.cb015c5109175ddfb2f6.js.map

}
/*
     FILE ARCHIVED ON 01:46:16 Jan 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:09:38 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.063
  exclusion.robots.policy: 0.054
  cdx.remote: 0.09
  esindex: 0.01
  LoadShardBlock: 88.526 (6)
  PetaboxLoader3.datanode: 132.873 (8)
  load_resource: 191.285 (2)
  PetaboxLoader3.resolve: 99.24 (2)
*/