var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["CommentsPage"],{"./node_modules/lodash/_baseDelay.js":function(e,t){var n="Expected a function";e.exports=function(e,t,o){if("function"!=typeof e)throw new TypeError(n);return setTimeout(function(){e.apply(void 0,o)},t)}},"./node_modules/lodash/_baseReduce.js":function(e,t){e.exports=function(e,t,n,o,r){return r(e,function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)}),n}},"./node_modules/lodash/defer.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDelay.js"),r=n("./node_modules/lodash/_baseRest.js")(function(e,t){return o(e,1,t)});e.exports=r},"./node_modules/lodash/uniqueId.js":function(e,t,n){var o=n("./node_modules/lodash/toString.js"),r=0;e.exports=function(e){var t=++r;return o(e)+t}},"./src/app/components/StyledHtml/index.less":function(e,t,n){},"./src/app/components/StyledHtml/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d});n("./node_modules/react/index.js"),n("./src/app/components/StyledHtml/index.less");var o,r=n("./src/config.ts"),i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=function(e){return e.replace(new RegExp('href="/u',"gi"),'target="_blank" href="'+r.a.redditUrl+"/u").replace(new RegExp('href="/r',"gi"),'target="_blank" href="'+r.a.redditUrl+"/r")};function d(e){var t=e.html;return i("div",{className:"StyledHtml",dangerouslySetInnerHTML:{__html:s(t)}})}},"./src/app/helpers/describeApiError/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("./src/app/strings/index.ts"),r=n("./src/lib/constants/index.ts");function i(e){var t=e.apiError,n=e.isLoggedOut,i=e.language;switch(t.type){case r.C.AUTHORIZATION_ERROR:return n?Object(o.a)(i,"error.type.notLoggedIn"):Object(o.a)(i,"error.type.notAuthorized");case r.C.VALIDATION_ERROR:return Object(o.a)(i,"error.type.validation");case r.C.NOT_FOUND_ERROR:return Object(o.a)(i,"error.type.notFound");case r.C.SERVER_ERROR:return Object(o.a)(i,"error.type.server");case r.C.LIKELY_UBLOCK_ERROR:return Object(o.a)(i,"error.type.blocked");default:return Object(o.a)(i,"error.type.generic")}}},"./src/lib/loginHref/index.ts":function(e,t,n){"use strict";var o=n("./src/config.ts"),r=n("./node_modules/history/index.js");t.a=function(e,t,n){var i=Object(r.createPath)(e),s=encodeURIComponent(""+t+i);return""+o.a.accountManagerOrigin+(n||"/login")+"?dest="+s}},"./src/lib/performanceTimings/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c});var o,r,i=n("./src/lib/constants/index.ts"),s=n("./src/telemetry/helpers/sendTiming.ts"),d=n("./src/lib/performance.js");function c(e,t){var n=function(){if(!d.a||!d.a.timing)return null;var e=d.a.timing,t={timeToFirstByte:e.responseStart-e.requestStart,timeToInteractive:e.domInteractive-e.requestStart};if(d.a.getEntriesByType){var n=d.a.getEntriesByType("paint");if(n.length){var o=n.find(function(e){return"first-contentful-paint"===e.name});t.timeToFirstContentfulPaint=o.startTime}}return t}();if(n){var o={name:e,isLoggedIn:t};Object(s.a)(i.n.Redesign,{data:n,meta:o,type:"perf"})}}!function(e){e.CommentsPage="comments-page",e.FrontPage="frontpage",e.Subreddit="subreddit"}(o||(o={})),function(e){e.apiTiming="apiTiming",e.serverSideRender="serverSideRender",e.setupTiming="setupTiming"}(r||(r={}))},"./src/lib/unicodeUtils/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var o=function(e){var t=0,n=0,o=[0],r=!0,i=!1,s=void 0;try{for(var d,c=e[Symbol.iterator]();!(r=(d=c.next()).done);r=!0){t++,n+=d.value.length,o[t]=n}}catch(e){i=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}return o},r=function(e){var t=0,n=0,o=[],r=!0,i=!1,s=void 0;try{for(var d,c=e[Symbol.iterator]();!(r=(d=c.next()).done);r=!0){for(var a=d.value,l=0;l<a.length;l++)o[n]=t,n++;t++}}catch(e){i=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}return o[n]=t,o}},"./src/reddit/components/ClassicPost/Thumbnail.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});n("./node_modules/react/index.js");var o,r=n("./bundled-modules/styled-components/styled-components.min.js"),i=n("./src/lib/classNames/index.ts"),s=n("./src/reddit/components/Thumbnail/index.tsx"),d=n("./src/reddit/constants/posts.ts"),c=n("./src/reddit/helpers/styles/mixins/index.tsx"),a=n("./src/reddit/components/ClassicPost/index.m.less"),l=n.n(a),p=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=Object(r.css)(["","."," {","","}"],s.c,l.a.thumbnailContainer,Object(c.x)(d.c,d.d),c.c);t.b=function(e){var t=e.className,n=e.crosspost,o=e.forceShowNSFW,r=e.post,d=e.templatePlaceholderImage,c=e.url;return p("div",{className:Object(i.a)(l.a.thumbnailContainer,t)},void 0,p(s.d,{className:l.a.thumbnail,crosspost:n,post:r,forceShowNSFW:o,templatePlaceholderImage:d,url:c}))}},"./src/reddit/components/ClassicPost/index.m.less":function(e,t,n){e.exports={classicThumbnail:"nL7Q54U2LLg9rkVdSxxLe",content:"_1Y6dfr4zLlrygH-FLmr8x-",crosspostMediaWrapper:"_1qc1-Anfrhr6APGcBKFk8M",expandoContainer:"_3r40yytzBnldjGGOrs2mCw",flatlist:"ssgs3QQidkqeycI33hlBa",flatlistContainer:"_36kpXQ-z7Hr61j8878uRkP",flatlistSeparator:"_1wDt70OnYnqsrm0XIsNn8v",leftExpando:"_35zWJjb5RJMIMkexZ2Prus",mainBody:"_2XDITKxlj4y3M99thqyCsO",rightExpando:"_2Ddj1d6vOe9NlJqkdothNe",spacer:"iRkLLvxarfGu_2c7HxhW0",thumbnail:"_2e9Lv1I3dOmICVO9fg3uTG",thumbnailContainer:"_38EcSQ9jzVrdtzkXO1cydX"}},"./src/reddit/components/CommentModModeDropdown/index.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var o,r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(s),c=n("./src/higherOrderComponents/asTooltip.tsx"),a=n("./src/reddit/actions/comment.ts"),l=n("./src/reddit/components/TrackingHelper/index.tsx"),p=n("./src/reddit/controls/Dropdown/index.tsx"),u=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),m=n("./src/reddit/helpers/trackers/modTools.ts"),f=n("./src/reddit/selectors/tooltip.ts"),h=n("./src/app/strings/index.ts"),g=n("./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx"),b=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),v=function(e){return b(g.c,{},void 0,!e.comment.isApproved&&b(g.b,{displayText:e.comment.approvedBy?Object(h.a)(e.language,"modTools.approved"):Object(h.a)(e.language,"modTools.approve"),onClick:e.onApproveComment},void 0,b(g.a,{})),!e.comment.bannedBy&&[b(g.b,{displayText:e.comment.isRemoved?Object(h.a)(e.language,"modTools.removed"):Object(h.a)(e.language,"modTools.remove"),onClick:e.onRemoveComment},void 0,b(g.d,{})),b(g.b,{displayText:e.comment.isSpam?Object(h.a)(e.language,"modTools.removedAsSpam"):Object(h.a)(e.language,"modTools.removeAsSpam"),onClick:e.onSpamComment},void 0,b(g.e,{}))])},y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),x=d()(p.a).withConfig({componentId:"la5ynn-0"})(["margin-top: -4px;"]),O=Object(i.createStructuredSelector)({isDropdownOpen:function(e,t){var n=t.tooltipId;return Object(f.b)(n)(e)}}),w=Object(r.connect)(O,function(e,t){var n=t.comment;return{onApproveComment:function(){return e(Object(a.G)(n.id))},onRemoveComment:function(){return e(Object(a.X)(n.id,!1))},onSpamComment:function(){return e(Object(a.X)(n.id,!0))}}}),C=Object(c.a)(x),j=w(Object(l.b)(function(e){var t=e.comment,n=e.isDropdownOpen,o=e.isOverlay,r=e.language,i=e.onApproveComment,s=e.onRemoveComment,d=e.onSpamComment,c=e.sendEvent,a=e.tooltipId,l=Object(u.a)(o);return y(C,{container:l,isOpen:n,isOverlay:o,tooltipId:a},void 0,y(v,{language:r,onApproveComment:function(){i(),c(Object(m.c)("approve",t.id))},onRemoveComment:function(){s(),c(Object(m.c)("remove",t.id))},onSpamComment:function(){d(),c(Object(m.c)("spam",t.id))},comment:t}))}));t.a=j},"./src/reddit/components/ContentGate/index.tsx":function(e,t,n){"use strict";var o=n("./src/config.ts"),r=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),i=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),d=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(d),a=n("./src/app/components/StyledHtml/index.tsx"),l=n("./src/app/strings/index.ts"),p=n("./src/lib/loginHref/index.ts"),u=n("./src/reddit/actions/contentGate.ts"),m=n("./src/reddit/actions/preferences.ts"),f=n("./src/reddit/components/Footer/index.tsx"),h=n("./src/reddit/constants/componentSizes.ts"),g=n("./src/reddit/controls/Button/index.tsx"),b=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),v=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=n("./src/reddit/selectors/meta.ts"),x=n("./src/reddit/selectors/user.ts");n.d(t,"a",function(){return j});var O,w=(O="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var d=Array(i),c=0;c<i;c++)d[c]=arguments[c+3];t.children=d}return{$$typeof:O,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});function C(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(r,i){try{var s=t[r](i),d=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(d).then(function(e){o("next",e)},function(e){o("throw",e)});e(d)}("next")})}}var j,I=c.a.div.withConfig({componentId:"s1ylg6yr-0"})(["display: flex;justify-content: center;margin-left: auto;margin-right: auto;"]),S=c.a.div.withConfig({componentId:"s1ylg6yr-1"})(["background-color: ",";align-items: center;display: flex;flex-direction: column;justify-content: center;min-height: 100vh;"],function(e){return Object(v.c)(e).canvas}),k=c.a.p.withConfig({componentId:"s1ylg6yr-2"})(["","color: ",";margin-top: 0;margin-bottom: 32px;"],b.titleFontH5,function(e){return Object(v.c)(e).bodyText}),P=c()(g.d).withConfig({componentId:"s1ylg6yr-3"})(["width: ","px;"],150),T=c()(g.c).withConfig({componentId:"s1ylg6yr-4"})(["width: ","px;"],150),E=c()(g.g).withConfig({componentId:"s1ylg6yr-5"})(["width: ","px;"],150),_=c()(g.f).withConfig({componentId:"s1ylg6yr-6"})(["width: ","px;"],150),R=c.a.div.withConfig({componentId:"s1ylg6yr-7"})(["margin-bottom: 25px;"]),M=c()(P).withConfig({componentId:"s1ylg6yr-8"})(["margin-top: 12px;"]),L=c.a.img.withConfig({componentId:"s1ylg6yr-9"})(["height: 128px;margin: 0px auto;width: 240px;"]),N=c.a.img.withConfig({componentId:"s1ylg6yr-10"})(["background-color: #a8a8a8;border-radius: 100%;height: 100px;margin-left: auto;margin-right: auto;width: 100px;"]),A=c()(P).withConfig({componentId:"s1ylg6yr-11"})(["margin-right: ","px;"],24),D=c()(T).withConfig({componentId:"s1ylg6yr-12"})(["margin-right: ","px;"],24),H=c()(_).withConfig({componentId:"s1ylg6yr-13"})(["margin-right: ","px;"],24),F=c()(E).withConfig({componentId:"s1ylg6yr-14"})(["margin-right: ","px;"],24),z=c.a.h3.withConfig({componentId:"s1ylg6yr-15"})(["","color: ",";margin-top: 32px;margin-bottom: 20px;"],b.titleFontH3,function(e){return Object(v.c)(e).bodyText}),B=c.a.div.withConfig({componentId:"s1ylg6yr-16"})(["align-items: center;display: flex;justify-content: center;margin-left: auto;margin-right: auto;max-width: ","px;text-align: center;"],h.f);!function(e){e.GoldSubreddit="GoldSubreddit",e.Nsfw="Nsfw",e.PrivateSubreddit="PrivateSubreddit",e.QuarantinedSubreddit="QuarantinedSubreddit",e.SubredditBanned="SubredditBanned",e.SubredditDoesNotExist="SubredditDoesNotExist"}(j||(j={}));var q=Object(s.createStructuredSelector)({language:x.y,origin:y.b,user:x.g}),W=Object(r.connect)(q,function(e,t){var n,o,r=t.subredditName;return{continueToQuarantinedSubreddit:(o=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(m.w(r));case 2:window.location.reload();case 3:case"end":return t.stop()}},t,void 0)})),function(){return o.apply(this,arguments)}),setCookieAndRedirect:(n=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(u.g());case 2:window.location.reload();case 3:case"end":return t.stop()}},t,void 0)})),function(){return n.apply(this,arguments)})}}),K=function(e){var t=e.banMessage,n=e.contentGateType,r=e.continueToQuarantinedSubreddit,i=e.language,s=e.location,d=e.origin,c=e.quarantineRequiresEmail,u=e.setCookieAndRedirect,m=e.subredditName,f=e.user;switch(n){case j.GoldSubreddit:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/gold.png"}),w(z,{},void 0,Object(l.a)(i,"contentGate.goldSubreddit.title",{subredditName:m})),w(k,{},void 0,Object(l.a)(i,"contentGate.goldSubreddit.description")),w(I,{},void 0,f?w(H,{href:o.a.redditUrl+"/gold"},void 0,Object(l.a)(i,"contentGate.goldSubreddit.getGold")):w(D,{href:Object(p.a)(s,d)},void 0,Object(l.a)(i,"contentGate.goldSubreddit.signUp")),f?w(P,{to:"/"},void 0,Object(l.a)(i,"contentGate.goldSubreddit.goHome")):w(_,{href:Object(p.a)(s,d)},void 0,Object(l.a)(i,"contentGate.goldSubreddit.login"))));case j.Nsfw:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/nsfw.png"}),w(z,{},void 0,Object(l.a)(i,"contentGate.over18.title")),w(k,{},void 0,Object(l.a)(i,"contentGate.over18.description")),w(I,{},void 0,w(A,{to:"/"},void 0,Object(l.a)(i,"common.no")),w(_,{onClick:u},void 0,Object(l.a)(i,"common.yes"))));case j.PrivateSubreddit:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/private.png"}),w(z,{},void 0,Object(l.a)(i,"contentGate.privateSubreddit.title",{subredditName:m})),w(k,{},void 0,Object(l.a)(i,"contentGate.privateSubreddit.description")),w(I,{},void 0,f?w(H,{href:o.a.redditUrl+"/message/compose?to=/r/"+m},void 0,Object(l.a)(i,"contentGate.privateSubreddit.messageMods")):w(H,{href:Object(p.a)(s,d)},void 0,Object(l.a)(i,"contentGate.goldSubreddit.signUp")),w(P,{to:"/"},void 0,f?Object(l.a)(i,"contentGate.privateSubreddit.goHome"):Object(l.a)(i,"contentGate.privateSubreddit.exploreReddit"))));case j.QuarantinedSubreddit:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/quarantined.png"}),w(z,{},void 0,Object(l.a)(i,"contentGate.quarantinedSubreddit.title",{subredditName:m})),w(k,{},void 0,Object(l.a)(i,"contentGate.quarantinedSubreddit.description")),w(I,{},void 0,function(e,t,n,r){return e&&e.hasVerifiedEmail||!r?w(I,{},void 0,w(A,{to:"/"},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.goHome")),w(_,{onClick:n},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.continue"))):w(I,{},void 0,w(F,{to:"/"},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.goHome")),w(T,{href:o.a.redditUrl+"/prefs/update"},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.verifyEmail")))}(f,i,r,c)));case j.SubredditBanned:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/banned.png"}),w(z,{},void 0,Object(l.a)(i,"contentGate.subredditBanned.title",{subredditName:m})),function(e,t){return e?w(R,{},void 0,w(a.a,{html:(n=e,n.replace(/\[(.+?)\]\((.+?)\)/g,"<a href='$2'>$1</a>"))})):w(k,{},void 0,Object(l.a)(t,"contentGate.subredditBanned.description"));var n}(t,i),w(I,{},void 0,w(P,{to:"/"},void 0,Object(l.a)(i,"contentGate.subredditBanned.exploreReddit"))));case j.SubredditDoesNotExist:return w("div",{},void 0,w(N,{}),w(z,{},void 0,Object(l.a)(i,"contentGate.subredditDoesNotExist.title",{subredditName:m})),w(I,{},void 0,w(M,{to:"/"},void 0,Object(l.a)(i,"contentGate.subredditDoesNotExist.goHome"))))}};t.b=W(Object(i.f)(function(e){return w(S,{},void 0,w("div",{},void 0,w(B,{},void 0,K(e))),w(f.a,{}))}))},"./src/reddit/components/MediumPost/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return K});n("./node_modules/react/index.js");var o,r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(s),c=n("./src/config.ts"),a=n("./src/app/actions/tooltip.ts"),l=n("./src/reddit/actions/post.ts"),p=n("./src/reddit/components/AdLinkWrapper/index.tsx"),u=n("./src/reddit/components/CallToActionButton/index.tsx"),m=n("./src/reddit/components/CompactPost/HorizontalVotes.tsx"),f=n("./src/reddit/components/Flatlist/index.tsx"),h=n("./src/reddit/components/LargePost/index.tsx"),g=n("./src/reddit/components/ModModeReports/index.tsx"),b=n("./src/reddit/components/ModModeReports/helpers.ts"),v=n("./src/reddit/components/PostBackgroundWrapper/index.tsx"),y=n("./src/reddit/components/PostContainer/index.tsx"),x=n("./src/reddit/components/PostTitle/index.tsx"),O=n("./src/reddit/components/PostTopLine/index.tsx"),w=n("./src/reddit/components/PostTopMeta/index.tsx"),C=n("./src/reddit/components/Thumbnail/index.tsx"),j=n("./src/reddit/constants/screenWidths.ts"),I=n("./src/reddit/contexts/InsideOverlay.tsx"),S=n("./src/reddit/contexts/PageLayer/index.tsx"),k=n("./src/reddit/controls/OutboundLink/styled.tsx"),P=n("./src/reddit/helpers/canRenderThumbnail.ts"),T=n("./src/reddit/helpers/hasModFlairPermissions/index.ts"),E=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),_=n("./src/reddit/helpers/styles/mixins/index.tsx"),R=n("./src/reddit/models/Vote/index.ts"),M=n("./src/reddit/selectors/moderatorPermissions.ts"),L=n("./src/reddit/selectors/posts.ts"),N=n("./src/reddit/selectors/user.ts"),A=n("./src/reddit/components/SourceLink/index.tsx"),D=n("./src/reddit/helpers/styles/mixins/responsive.ts"),H=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),F=d.a.article.withConfig({componentId:"s1wkwgow-0"})(["display: flex;flex-direction: row;padding-bottom: 8px;"]),z=d()(g.a).withConfig({componentId:"s1wkwgow-1"})(["margin-top: 10px;"]),B=d.a.div.withConfig({componentId:"s1wkwgow-2"})(["display: flex;flex: 1 1 100%;flex-direction: column;padding-bottom: ","px;position: relative;word-break: break-word;"],22),q=d()(x.c).withConfig({componentId:"s1wkwgow-3"})(["margin: 0 8px;"]),W=d.a.div.withConfig({componentId:"s1wkwgow-4"})(["","border-radius: 2px;padding: 0px 8px;"],Object(_.x)(108,144)),K=function(e){var t=e.post,n=e.forceShowNSFW,o=e.templatePlaceholderImage;return H(W,{},void 0,H(C.d,{post:t,forceShowNSFW:n,templatePlaceholderImage:o}))},U=d()(m.a).withConfig({componentId:"s1wkwgow-5"})(["max-height: 24px;",""],D.a),$=d.a.div.withConfig({componentId:"s1wkwgow-6"})(["align-items: center;display: flex;flex-direction: row;"]),V=d()(v.b).withConfig({componentId:"s1wkwgow-7"})(["padding-top: 8px;"]),G=Object(S.q)({isCommentsPage:S.t,isOriginalPage:S.x,pageLayer:function(e){return e}}),J=Object(r.connect)(function(){return Object(i.createStructuredSelector)({crosspost:L.b,currentUser:N.g,flairStyleTemplate:S.J,hideNSFWPref:N.p,post:L.x,isActive:L.e,language:N.y,moderatorPermissions:M.e,modModeEnabled:S.H,showMedia:S.o,subredditOrProfile:L.H,userIsOp:N.M})},function(e,t){var n=t.postId;return{handleVote:function(t){return t===R.a.upvoted?e(Object(l.F)(n)):e(Object(l.m)(n))},onIgnoreReports:function(){return e(Object(l.D)(n))},onOpenReportsDropdown:function(t){return e(Object(a.e)({tooltipId:t}))}}});t.b=G(J(d()(Object(I.b)(function(e){var t=e.className,n=e.crosspost,o=e.currentUser,r=e.eventFactory,i=e.flairStyleTemplate,s=e.hideNSFWPref,d=e.inSubredditOrProfile,a=void 0!==d&&d,l=e.isCommentsPage,m=e.isCheckboxSelected,g=e.isOverlay,v=e.isOriginalPage,C=e.language,j=e.moderatorPermissions,I=e.modModeEnabled,S=e.onClickPost,_=e.onIgnoreReports,R=e.onOpenReportsDropdown,M=e.post,L=e.subredditOrProfile,N=e.showBulkActionCheckbox,D=e.showMedia,W=e.toggleCheckbox,G=e.userIsOp,J=Object(E.a)(j),Q=Object(T.a)(j),Y="subreddit"===M.belongsTo.type,X=G&&!!Y,Z=Object(b.c)(M),ee=Object(P.a)(M),te=a&&!D,ne=te&&!!M.source&&!n;return H(y.a,{className:t,post:M,onClick:S,eventFactory:r},void 0,Object(h.b)(M,e.handleVote,N,m,W,i),H(V,{flairStyleTemplate:i},void 0,H(F,{},void 0,H(B,{"data-click-id":"body"},void 0,H(O.a,{hideNSFWPref:s,inSubredditOrProfile:a,isOverlay:!!g,language:C,post:M,showCornerOutboundLink:ne,showOCCategories:v,showSubreddit:!a&&!M.isSponsored,subredditOrProfile:L}),H(q,{post:M,size:x.b.Large,titleColor:i&&i.postTitleColor}),M.source&&!M.isSponsored&&!n&&H(A.a,{post:M,isCommentsPage:l})),!te&&ee&&H(K,{post:n||M,templatePlaceholderImage:i&&i.postPlaceholderImage})),M.source&&M.source.url&&M.isSponsored&&H(p.a,{},void 0,H(k.a,{href:M.source.url.replace(c.a.redditUrl,""),isSponsored:M.isSponsored,source:M.source},void 0,M.source.displayText),M.callToAction&&H(u.a,{href:M.source.url.replace(c.a.redditUrl,""),isSponsored:M.isSponsored,source:M.source,isNotCardView:!0},void 0,M.callToAction)),I&&J&&Z&&H(z,{language:C,onIgnoreReports:_,reportable:M}),H($,{},void 0,H(U,{compact:!1,flairStyleTemplate:i,model:M,onVoteClick:e.handleVote}),H(f.c,{currentUser:o,hasModFlairPerms:Q,hasModPostPerms:J,isOverlay:!!g,language:C,modModeEnabled:I,onIgnoreReports:_,onOpenReportsDropdown:R,post:M,showEditFlair:X,tooltipType:g?w.c.Lightbox:void 0}))))})).withConfig({componentId:"s1wkwgow-8"})(["","","","","","",";@media (min-width: ","px) {padding-left: 40px;border-radius: 4px;}"],C.e,_.n,_.m,v.a,f.d,function(e){return Object(_.j)(e.flairStyleTemplate)},j.h)))},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx":function(e,t,n){"use strict";n.d(t,"g",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return v});var o=n("./bundled-modules/styled-components/styled-components.min.js"),r=n.n(o),i=n("./src/reddit/controls/Dropdown/Row.tsx"),s=n("./src/reddit/icons/fonts/Approve/index.tsx"),d=n("./src/reddit/icons/fonts/Remove/index.tsx"),c=n("./src/reddit/icons/fonts/Spam/index.tsx"),a=n("./src/reddit/icons/fonts/Tag/index.tsx"),l=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),p=Object(o.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),u=Object(o.css)(["color: ",";cursor: pointer;font-size: 12px;line-height: 16px;padding: 8px 16px 8px 8px;&:hover {background-color: ",";border-color: ",";}"],function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon}),m=r()(s.a).withConfig({componentId:"s19zlun7-0"})(["",""],p),f=r()(d.a).withConfig({componentId:"s19zlun7-1"})(["",""],p),h=r()(c.a).withConfig({componentId:"s19zlun7-2"})(["",""],p),g=r()(a.a).withConfig({componentId:"s19zlun7-3"})(["",""],p),b=r.a.div.withConfig({componentId:"s19zlun7-4"})(["border-radius: 4px;box-shadow: 0 2px 4px 0 ",";cursor: pointer;line-height: 0px; // this seems to better vertically align the icon\noverflow: hidden;width: 100%;"],function(e){return Object(l.c)(e).flair}),v=r()(i.c).withConfig({componentId:"s19zlun7-5"})(["",""],u)},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,n){"use strict";var o,r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/reselect/lib/index.js"),c=n("./bundled-modules/styled-components/styled-components.min.js"),a=n.n(c),l=n("./src/app/strings/index.ts"),p=n("./src/higherOrderComponents/asTooltip.tsx"),u=n("./src/reddit/components/InfoTextTooltip/index.tsx"),m=n("./src/reddit/contexts/InsideOverlay.tsx"),f=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),h=n("./src/reddit/selectors/user.ts"),g=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var v=["left","top"],y=["left","bottom"],x=a.a.span.withConfig({componentId:"emsaoq-0"})(["opacity: 0;transition: opacity ease-out 1s;"]),O=a.a.span.withConfig({componentId:"emsaoq-1"})(["// Workaround for chrome to fix tooltip position when\n// spoiler text starts with space\n&:before {content: '';position: absolute;visibility: hidden;}"]),w=a.a.span.withConfig({componentId:"emsaoq-2"})(["border-radius: 2px;transition: background ease-out 1s;",""," {opacity: ",";}"],function(e){return e.isOpen?"\n    background: rgba(84, 84, 82, 0.1);\n  ":"\n    background: #545452;\n    cursor: pointer;\n  "},x,function(e){return e.isOpen?1:0}),C=Object(p.a)(a()(u.a).withConfig({componentId:"emsaoq-3"})(["animation-duration: .1s;&:after {left: 10px;}"]),["click","keydown"]),j=Object(d.createStructuredSelector)({language:h.y}),I=Object(s.connect)(j),S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e){n.state.isOpen||(e.preventDefault(),e.stopPropagation(),n.setState({isOpen:!0}))},n.setTooltipTargetRef=function(e){return n.tooltipTargetElement=e},n.onShowTooltip=function(){n.state.isOpen||n.setState({showTooltip:!0})},n.onHideTooltip=function(){n.setState({showTooltip:!1})},n.state={isOpen:!1,showTooltip:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),b(t,[{key:"render",value:function(){var e=this.props,t=e.isOverlay,n=e.language,o=this.state,r=o.isOpen,i=o.showTooltip,s=Object(f.a)(t);return g(w,{isOpen:r,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},void 0,g(x,{},void 0,g(O,{innerRef:this.setTooltipTargetRef}),g(C,{container:s,isOpen:i,tooltipTarget:this.tooltipTargetElement,text:Object(l.a)(n,"posts.spoilerRevealTooltip"),targetPosition:v,tooltipPosition:y}),this.props.children))}}]),t}();t.a=I(Object(m.b)(S))},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,n){"use strict";n.d(t,"w",function(){return p}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return m}),n.d(t,"k",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"v",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"b",function(){return x}),n.d(t,"f",function(){return O}),n.d(t,"u",function(){return w}),n.d(t,"d",function(){return C}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return I}),n.d(t,"n",function(){return S}),n.d(t,"t",function(){return k}),n.d(t,"p",function(){return T}),n.d(t,"o",function(){return E}),n.d(t,"q",function(){return _}),n.d(t,"s",function(){return R}),n.d(t,"r",function(){return M}),n.d(t,"a",function(){return L});var o=n("./node_modules/polished/dist/polished.es.js"),r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(s),c=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),a=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=[d.a.h1.withConfig({componentId:"s570a4-0"})(["","margin-bottom: 8px;margin-top: 1.4em;"],c.bodyFontH1),d.a.h2.withConfig({componentId:"s570a4-1"})(["","margin-bottom: 8px;margin-top: 1.4em;"],c.bodyFontH2),d.a.h3.withConfig({componentId:"s570a4-2"})(["","margin-bottom: 8px;margin-top: 1.4em;"],c.bodyFontH3),d.a.h4.withConfig({componentId:"s570a4-3"})(["","margin-bottom: 8px;margin-top: 1.4em;"],c.bodyFontH4),d.a.h5.withConfig({componentId:"s570a4-4"})(["","margin-bottom: 8px;margin-top: 1.4em;"],c.bodyFontH5),d.a.h6.withConfig({componentId:"s570a4-5"})(["","margin-bottom: 8px;margin-top: 1.4em;"],c.bodyFontH6)],u=d.a.hr.withConfig({componentId:"s570a4-6"})(["border: 0;border-top: 1px solid ",";height: 1px;margin: 8px 0;"],function(e){return Object(o.e)(Object(a.c)(e).bodyText,.2)}),m=d.a.code.withConfig({componentId:"s570a4-7"})(["","background: rgba(238, 238, 238, 0.8);color: #FF006D;margin: 0 2px;max-width: 100%;overflow: auto;"],c.bodyFontMono),f=d.a.pre.withConfig({componentId:"s570a4-8"})(["background: rgba(238, 238, 238, 0.8);display: grid;line-height: 1.4;margin: 4px 0;max-width: 100%;overflow: auto;padding: 8px;> "," {background-color: transparent;color: #222;margin: 0;}"],m),h=d.a.blockquote.withConfig({componentId:"s570a4-9"})(["border-left: 4px solid ",";margin: 4px 0 4px 8px;padding-left: 8px;"],function(e){return Object(o.e)(Object(a.c)(e).bodyText,.2)}),g=d.a.p.withConfig({componentId:"s570a4-10"})(["padding: 0.25em 0;&:first-child {padding-top: 0;}&:last-child {padding-bottom: 0;}"]),b=d.a.li.withConfig({componentId:"s570a4-11"})(["margin: 0.4em 1em;"," {padding: 0;}"],g),v=d.a.ul.withConfig({componentId:"s570a4-12"})(["list-style: disc outside;margin: 4px 0 4px 8px;& & {list-style-type: circle;}& & & {list-style-type: square;}"]),y=d.a.ol.withConfig({componentId:"s570a4-13"})(["list-style: decimal outside;margin: 4px 0 4px 8px;& & {list-style-type: lower-alpha;}& & & {list-style-type: lower-roman;}"]),x=d.a.strong.withConfig({componentId:"s570a4-14"})(["font-weight: 700;"]),O=d.a.em.withConfig({componentId:"s570a4-15"})(["font-style: italic;"]),w=d.a.span.withConfig({componentId:"s570a4-16"})(["text-decoration: underline;"]),C=function(e){return i.a.createElement("del",e)},j=d.a.sub.withConfig({componentId:"s570a4-17"})(["position: relative;bottom: -0.4em;font-size: 0.7em;line-height: 0.7em;"]),I=d.a.sup.withConfig({componentId:"s570a4-18"})(["position: relative;top: -0.4em;font-size: 0.7em;line-height: 0.7em;"]),S=d.a.table.withConfig({componentId:"s570a4-19"})(["border: 2px solid #EEEEEE;border-collapse: collapse;display: inline-block;margin-bottom: 4px;margin-top: 4px;overflow-x: auto;word-break: normal;"]),k=d.a.tr.withConfig({componentId:"s570a4-20"})(["border: 1px solid #EEEEEE;&:nth-child(even) {background-color: ",";}&:nth-child(odd) {background-color: ",";}"],function(e){return Object(o.e)(Object(a.c)(e).body,.8)},function(e){return Object(o.e)(Object(a.c)(e).body,.8)}),P="\n  border: 1px solid #EEEEEE;\n  color: "+function(e){return Object(a.c)(e).bodyText}+";\n  padding: 4px 8px;\n",T=d.a.td.withConfig({componentId:"s570a4-21"})(["","background-color: ",";text-align: left;"],P,function(e){return Object(o.e)(Object(a.c)(e).body,.8)}),E=d.a.td.withConfig({componentId:"s570a4-22"})(["","text-align: center;"],P),_=d.a.td.withConfig({componentId:"s570a4-23"})(["","text-align: right;"],P),R=d.a.th.withConfig({componentId:"s570a4-24"})(["","text-align: left;"],P),M=d.a.th.withConfig({componentId:"s570a4-25"})(["","text-align: center;"],P),L=(d.a.th.withConfig({componentId:"s570a4-26"})(["","text-align: right;"],P),d()(function(e){return i.a.createElement("a",l({target:"_blank"},e))}).withConfig({componentId:"s570a4-27"})(["&, &:visited {color: ",";text-decoration: none;}"],function(e){return Object(a.c)(e).linkText}))},"./src/reddit/contexts/TrackCommentsPageClick.ts":function(e,t,n){"use strict";var o=n("./bundled-modules/create-react-context/index.js"),r=n.n(o);t.a=r()(function(){return function(){}})},"./src/reddit/controls/ErrorText/index.tsx":function(e,t,n){"use strict";var o,r=n("./node_modules/lodash/uniqueId.js"),i=n.n(r),s=n("./node_modules/raf/index.js"),d=n.n(s),c=n("./node_modules/react/index.js"),a=n.n(c),l=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/reselect/lib/index.js"),u=n("./bundled-modules/styled-components/styled-components.min.js"),m=n.n(u),f=n("./src/app/strings/index.ts"),h=n("./src/reddit/actions/modal.ts"),g=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),b=n("./src/reddit/selectors/activeModalId.ts"),v=n("./src/higherOrderComponents/asModal.tsx"),y=n("./src/reddit/controls/Button/index.tsx"),x=n("./src/reddit/layout/row/Inline/index.tsx"),O=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),w=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),C=Object(f.d)("error.ok"),j=m.a.div.withConfig({componentId:"s18tv1r8-0"})(["box-sizing: border-box;border-radius: 4px;width: 350px;background-color: ",";border: 1px solid ",";border-radius: 4px;box-shadow: 0 0 0 1px ",",0px 2px 3px 2px ",";"],function(e){return Object(O.c)(e).body},function(e){return Object(O.c)(e).line},function(e){return Object(O.c)(e).line},function(e){return Object(O.c)(e).line}),I=m()(x.a).withConfig({componentId:"s18tv1r8-1"})(["","padding: 11px 16px;border-bottom: 1px solid ",";"],g.titleFontH4,function(e){return Object(O.c)(e).line}),S=m.a.div.withConfig({componentId:"s18tv1r8-2"})(["","padding: 16px;"],g.bodyFont),k=m()(x.a).withConfig({componentId:"s18tv1r8-3"})(["padding: 8px 5px;border-top: 1px solid ",";background: hsl(0, 0%, 98%);flex-direction: row-reverse;"],function(e){return Object(O.c)(e).line}),P=m()(y.b).withConfig({componentId:"s18tv1r8-4"})(["margin-left: 5px;"]),T=Object(v.a)(function(e){var t=e.children,n=e.language,o=e.title;return w(j,{},void 0,w(I,{},void 0,o),w(S,{},void 0,t),w(k,{},void 0,w(P,{onClick:e.onConfirmed},void 0,C(n))))});n.d(t,"b",function(){return z});var E=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var R=Object(f.d)("error.more"),M=Object(f.d)("error.error"),L=Object(f.d)("error.type.generic"),N=m.a.div.withConfig({componentId:"s2apn2n-0"})(["","color: #f00;padding-top: 4px;text-align: right;display: flex;"],g.metadataFont),A=m.a.span.withConfig({componentId:"s2apn2n-1"})(["white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"]),D=m.a.span.withConfig({componentId:"s2apn2n-2"})(["text-decoration: underline;cursor: pointer;padding-left: 4px;"]),H=Object(p.createStructuredSelector)({activeModalId:b.a}),F=Object(l.connect)(H,function(e){return{toggleErrorTextModal:function(t){return e(Object(h.e)(t))}}})(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcTextDidOverflow=function(e){d()(function(){e&&e.scrollWidth>e.clientWidth&&n.setState({textHasOverflowed:!0})})},n.setRef=function(e){n.calcTextDidOverflow(e)},n.state={errorModalBody:e.errorModalBody||e.children,errorModalTitle:e.errorModalTitle||M(e.language),moreText:e.moreText||R(e.language),textHasOverflowed:!1,modalId:"ErrorTextModal--"+i()()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.activeModalId,r=e.language,i=e.toggleErrorTextModal,s=this.state,d=s.errorModalBody,c=s.errorModalTitle,a=s.modalId,l=s.moreText,p=s.textHasOverflowed;return E(N,{className:n},void 0,E(A,{innerRef:this.setRef},void 0,t),p&&E(D,{onClick:function(){return i(a)}},void 0,l),o===a&&E(T,{language:r,onConfirmed:function(){return i(a)},title:c},void 0,d))}}]),t}()),z=(t.a=F,function(e,t){return(e.length>0?e:[L(t)]).map(function(e){return E(F,{language:t},void 0,e)})})},"./src/reddit/helpers/canRenderThumbnail.ts":function(e,t,n){"use strict";var o="nsfw",r="self";function i(e){return!(!e.thumbnail||!e.thumbnail.url||e.thumbnail.url===r||e.thumbnail.url===o)}n.d(t,"a",function(){return i})},"./src/reddit/pages/CommentsPage/index.tsx":function(e,t,n){"use strict";n.r(t);var o,r=n("./node_modules/lodash/fromPairs.js"),i=n.n(r),s=n("./node_modules/lodash/get.js"),d=n.n(s),c=n("./node_modules/lodash/throttle.js"),a=n.n(c),l=n("./node_modules/polished/dist/polished.es.js"),p=n("./node_modules/react/index.js"),u=n.n(p),m=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/reselect/lib/index.js"),h=n("./bundled-modules/styled-components/styled-components.min.js"),g=n.n(h),b=n("./src/app/models/Draft.ts"),v=n("./src/app/strings/index.ts"),y=n("./node_modules/react-router-dom/es/index.js"),x=n("./src/reddit/controls/OverlayLink/index.tsx"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},C=function(e){var t=e.isOverlay,n=w(e,["isOverlay"]),o=t?x.a:y.a;return u.a.createElement(o,O({},n,{children:n.children,className:n.className,onClick:n.onClick,to:n.to}))},j=n("./src/reddit/helpers/path/index.ts"),I=n("./src/reddit/icons/svgs/ArrowRight/index.tsx"),S=n("./src/telemetry/index.ts"),k=n("./src/telemetry/models/Timer.ts"),P=n("./src/lib/constants/index.ts"),T=n("./src/lib/domUtils/index.ts"),E=n("./src/lib/extractQueryParams/index.ts"),_=n("./src/lib/fastdom/index.ts"),R=n("./src/lib/makeCommentsPageKey/index.ts"),M=n("./src/lib/makeDraftKey/index.ts"),L=n("./src/lib/performanceTimings/index.tsx"),N=n("./src/app/actions/tooltip.ts"),A=n("./src/reddit/actions/comment.ts"),D=n("./src/reddit/actions/login.ts"),H=n("./src/reddit/actions/video.ts"),F=n("./src/reddit/components/BannerAd/index.tsx"),z=n("./src/reddit/contexts/PageLayer/index.tsx"),B=n("./src/reddit/featureFlags/index.ts"),q=n("./src/reddit/models/WhitelistStatus/index.ts"),W=n("./src/reddit/selectors/subreddit.ts"),K=n("./src/reddit/selectors/user.ts"),U=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var V=Object(f.createStructuredSelector)({shouldHideAds:function(e,t){var n=Object(W.m)(e,{subredditName:t.listingName});return!e.meta.isSessionSeo||B.d.rabbitHole(e)||Object(K.u)(e)||Object(z.C)(t.pageLayer)||Object(K.o)(e)||n&&n.wls!==q.a.ALL_ADS}}),G=Object(m.connect)(V),J=Object(z.q)(),Q=P.h[0],Y=g()(F.a).withConfig({componentId:"s1k97mcp-0"})(["text-align: center;width: ",';margin: 30px auto 50px auto;&:before {content: "advertisement";color: rgb(135, 138, 140);display: block;font-size: 10px;letter-spacing: 0.5px;line-height: 12px;text-transform: uppercase;padding-bottom: 4px;font-weight: 500;text-align: left;}'],Q+"px"),X=g.a.div.withConfig({componentId:"s1k97mcp-1"})(["margin: 0 auto;"]),Z=J(G(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={enoughSpace:!1,hasBeenAssessed:!1},e.checkAvailableSpace=a()(function(){_.a.read(function(){if(e.container){var t=P.h[0],n=e.container.clientWidth;!e.state.enoughSpace&&e.state.hasBeenAssessed||_.a.write(function(){e.setState({enoughSpace:n>t,hasBeenAssessed:!0})})}})},P.E),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),$(t,[{key:"componentDidMount",value:function(){this.props.shouldHideAds||(this.checkAvailableSpace(),window.addEventListener("resize",this.checkAvailableSpace))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkAvailableSpace)}},{key:"render",value:function(){var e=this;if(this.props.shouldHideAds)return null;var t=this.props,n=t.isOverlay,o=t.refreshKey,r=t.listingName,i=t.isPostNSFW,s=t.placement;return U(X,{innerRef:function(t){e.container=t}},void 0,this.state.enoughSpace&&U(Y,{id:function(e,t){var n="";return t&&(n+="overlay-"),n+="comment-"+e}(s,n),sizes:[P.h],placement:s,isPostNSFW:i,listingName:r,refreshKey:o}))}}]),t}())),ee=n("./src/reddit/components/ContentGate/index.tsx"),te=n("./src/reddit/components/StructuredStyles/BladeDrawerController/index.tsx"),ne=n("./src/reddit/constants/colors.ts"),oe=n("./src/reddit/constants/componentSizes.ts"),re=n("./src/reddit/constants/elementIds.ts"),ie=n("./src/reddit/constants/history.ts"),se=n("./src/reddit/constants/parameters.ts"),de=n("./src/reddit/contexts/TrackCommentsPageClick.ts"),ce=n("./src/reddit/icons/fonts/Archived/index.tsx"),ae=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),le=n("./src/reddit/models/Comment/index.ts"),pe=n("./src/reddit/models/Media/index.ts"),ue=n("./src/reddit/models/Post/index.ts"),me=n("./src/reddit/models/Theme/index.ts"),fe=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),he=n("./src/reddit/selectors/comments.ts"),ge=n("./src/reddit/selectors/meta.ts"),be=n("./src/reddit/selectors/posts.ts"),ve=n("./src/reddit/selectors/tooltip.ts"),ye=n("./src/reddit/components/AuthorHovercard/helpers.ts"),xe=n("./src/higherOrderComponents/makeAsync.tsx"),Oe=n("./src/lib/loadWithRetries/index.ts"),we=n("./src/reddit/components/RichTextEditor/Placeholder.tsx"),Ce=n("./src/reddit/helpers/styles/components/index.tsx"),je=n("./src/reddit/helpers/styles/mixins/loading.ts"),Ie=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Se=g()(Object(Ce.a)()).withConfig({componentId:"rae1fm-0"})(["margin: ",";"],function(e){return e.isTopLevelComment?"24px 40px":"16px 0"}),ke=g()(Object(Ce.a)()).withConfig({componentId:"rae1fm-1"})(["","height: 19px;margin-bottom: 4px;width: 150px;"],je.a),Pe=Object(xe.a)({ErrorComponent:function(e){var t=e.isTopLevelComment;return Ie(Se,{isTopLevelComment:t},void 0,Ie(ke,{gradientType:"comments",isLoading:!1}),Ie(we.a,{gradientType:"comments",isLoading:!1,toolbarPosition:"bottom"}))},getComponent:function(){return Object(Oe.a)(function(){return Promise.all([n.e("vendors~FlairEdit~PostCreation~RichTextEditor~UiDashboard"),n.e("vendors~PostCreation~RichTextEditor~UiDashboard"),n.e("PostCreation~RichTextEditor~UiDashboard"),n.e("RichTextEditor~UiDashboard"),n.e("RichTextEditor")]).then(n.bind(null,"./src/reddit/components/CommentCreation/index.tsx")).then(function(e){return e.default})})},LoadingComponent:function(e){var t=e.isTopLevelComment;return Ie(Se,{isTopLevelComment:t},void 0,Ie(ke,{gradientType:"comments",isLoading:!0}),Ie(we.a,{gradientType:"comments",isLoading:!0,toolbarPosition:"bottom"}))}}),Te=function(e){return u.a.createElement(Pe,e)},Ee=n("./src/lib/isSimpleClick/index.ts"),_e=n("./src/lib/loginHref/index.ts"),Re=n("./src/reddit/controls/Button/index.tsx"),Me=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),Le=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Ne=g.a.div.withConfig({componentId:"s6wlmco-0"})(["margin: 16px 26px 0 26px;display: flex;align-items: center;justify-content: space-between;border-radius: 4px;border: 1px solid ",";padding: 12px 8px;"],function(e){return Object(fe.c)(e).line}),Ae=g.a.span.withConfig({componentId:"s6wlmco-1"})(["","color: ",""],Me.titleFontH4,function(e){return Object(fe.c)(e).metaText}),De=g()(Re.c).withConfig({componentId:"s6wlmco-2"})(["","",""],Me.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),He=g()(Re.f).withConfig({componentId:"s6wlmco-3"})(["","","margin-left: auto;margin-right: 8px;"],Me.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),Fe=function(e){e.className;var t=e.language,n=e.location,o=e.openLoginModal,r=e.openRegisterModal,i=e.origin;return Le(Ne,{},void 0,Le(Ae,{},void 0,Object(v.a)(t,"session.comment")),Le(He,{href:Object(_e.a)(n,i,"/login"),onClick:function(e){Object(Ee.a)(e)&&(e.preventDefault(),e.stopPropagation(),o())},"data-redditstyle":!0},void 0,Object(v.a)(t,"session.login.submit")),Le(De,{href:Object(_e.a)(n,i,"/register"),onClick:function(e){Object(Ee.a)(e)&&(e.preventDefault(),e.stopPropagation(),r())},"data-redditstyle":!0},void 0,Object(v.a)(t,"session.register.submit")))},ze=n("./node_modules/lodash/isEqual.js"),Be=n.n(ze),qe=n("./src/reddit/constants/comments.ts"),We=n("./src/reddit/constants/elementClassNames.ts"),Ke=n("./src/reddit/constants/zIndex.ts"),Ue=n("./src/reddit/icons/fonts/helpers.tsx"),$e=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Ve=g()(function(e){return $e("i",{className:Object(Ue.b)("expand")+" "+e.className})}).withConfig({componentId:"qjrkk1-0"})(["display: inline-block;width: 12px;height: 12px;font-size: 12px;font-weight: 400;line-height: 12px;"]),Ge=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Je=g()(function(e){return u.a.createElement("button",e,Ge(Ve,{}))}).withConfig({componentId:"gcap43-0"})(["background: none;border: none;cursor: pointer;height: 12px;line-height: 12px;outline: none;width: 12px;&."," {color: ",";}",""],We.f,function(e){return Object(fe.c)(e).line},function(e){return"color: "+Object(fe.c)(e).linkText+";\n      transform: rotate(180deg);\n      &:hover {\n        color: "+Object(fe.c)(e).linkText+";\n      }"}),Qe=n("./src/config.ts"),Ye=n("./node_modules/lodash/defer.js"),Xe=n.n(Ye),Ze=n("./src/lib/makeCommentPermalink/index.ts"),et=n("./src/reddit/actions/modal.ts"),tt=n("./src/reddit/actions/reportFlow.ts"),nt=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),ot=n("./src/reddit/helpers/trackers/lightbox.ts"),rt=n("./src/reddit/selectors/activeModalId.ts"),it=n("./src/reddit/selectors/moderatorPermissions.ts"),st=n("./src/reddit/components/CommentModModeDropdown/index.tsx"),dt=n("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),ct=n("./src/reddit/components/ConfirmUserActionModal/index.tsx"),at=n("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),lt=n("./src/reddit/components/ModActionsMenu/index.tsx"),pt=n("./src/reddit/components/ModModeReports/helpers.ts"),ut=n("./src/reddit/components/OverflowMenu/index.tsx"),mt=n("./src/reddit/components/ReportFlow/index.tsx"),ft=n("./src/reddit/components/ShareMenu/index.tsx"),ht=n("./src/reddit/components/TrackingHelper/index.tsx"),gt=n("./src/reddit/components/ViewReportsDropdown/index.tsx"),bt=n("./src/reddit/contexts/InsideOverlay.tsx"),vt=n("./src/reddit/controls/CheckboxMenuItem/index.tsx"),yt=n("./src/reddit/controls/Dropdown/Row.tsx"),xt=n("./src/reddit/helpers/trackers/modTools.ts"),Ot=n("./src/reddit/layout/row/Inline/index.tsx"),wt=n("./src/reddit/icons/fonts/Comment/index.tsx"),Ct=n("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),jt=n("./src/reddit/icons/fonts/ModActions/index.tsx"),It=n("./src/reddit/icons/fonts/Report/index.tsx"),St=n("./src/reddit/icons/svgs/Trash2/index.tsx"),kt=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Pt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var Tt=g()(wt.a).withConfig({componentId:"qzsqzl-0"})(["","color: #B7B9BA;display: inline-block;font-size: 14px;height: 12px;line-height: 13px;margin: 0px 6px 0px -1px;width: 12px;"],yt.d),Et=g()(St.a).withConfig({componentId:"qzsqzl-1"})(["","height: 12px;width: 12px;"],yt.d),_t=g()(jt.a).withConfig({componentId:"qzsqzl-2"})(["","display: inline-block;height: 12px;width: 12px;"],yt.d),Rt=Object(h.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),Mt=g()(It.a).withConfig({componentId:"qzsqzl-3"})(["",""],Rt),Lt=g()(Ct.a).withConfig({componentId:"qzsqzl-4"})(["",""],Rt),Nt=g()(lt.a).withConfig({componentId:"qzsqzl-5"})(["cursor: pointer;height: 24px;margin-right: 8px;margin-top: -4px;"]),At=g()(Object(Ce.a)()).withConfig({componentId:"qzsqzl-6"})(["margin-right: ",";"],function(e){return e.modModeEnabled?"0px":"12px"}),Dt=g()(ut.a).withConfig({componentId:"qzsqzl-7"})(["font-weight: 500;","color: ",";"," {width: 16px;text-align: center;}"],Me.titleFontH5,function(e){return Object(fe.c)(e).actionIcon},yt.a),Ht=g()(Ot.a).withConfig({componentId:"qzsqzl-8"})(["","color: ",";margin: 4px 0 8px;"],Me.actionFont,function(e){return Object(fe.c)(e).actionIcon}),Ft=Object(h.css)(["display: inline-block;margin-right: 12px;transition: color 0.1s;&::first-letter {text-transform: uppercase;}&:disabled {cursor: default;}&:hover {text-decoration: underline;}"]),zt=Object(h.css)(["&.not(:disabled):hover {color: ",";}"],function(e){return Object(fe.c)(e).bodyText}),Bt=g()(g.a.button.withConfig({componentId:"qzsqzl-10"})(["",""],Ft)).withConfig({componentId:"qzsqzl-9"})(["",""],zt),qt=g()(dt.c).withConfig({componentId:"qzsqzl-11"})(["margin-left: 12px;&:before {content: '';position: absolute;border-left: 1px solid ",";height: 20px;margin: 6px 0px;}"],function(e){return Object(fe.c)(e).line}),Wt=g()(gt.a).withConfig({componentId:"qzsqzl-12"})(["display: inline-block;"]),Kt=Object(z.q)(),Ut=function(e){return"Comment-"+e+"--Modal--DeleteComment"},$t=function(e){return"Distinguish--Dropdown--"+e},Vt=function(e){return e+"-overflow-menu"},Gt=function(e){return"View--Reports--"+e},Jt=Object(f.createStructuredSelector)({activeTooltipId:ve.a,currentUser:K.g,isConfirmModalOpen:function(e,t){var n=t.comment;return Object(rt.a)(e)===Ut(n.id)},isPendingDeletion:he.y,isLoggedIn:K.u,moderatorPermissions:function(e,t){var n=t.comment;return Object(z.g)(e,t)||Object(it.f)(e,{subredditId:n.subredditId})},modModeEnabled:z.H,postIsArchived:function(e,t){var n=t.comment;return Object(be.u)(e,{postId:n.postId})},postIsLocked:function(e,t){var n=t.comment;return Object(be.v)(e,{postId:n.postId})},postPermalink:function(e,t){var n=t.comment;return Object(be.w)(e,{postId:n.postId})},reportFlowIsOpen:function(e,t){var n=t.comment;return e.reportFlow.postOrCommentId===n.id},sendRepliesToggled:function(e,t){var n=t.comment;return Object(he.D)(e,{commentId:n.id})},subredditOrProfile:function(e,t){var n=t.comment;return Object(be.H)(e,{postId:n.postId})}}),Qt=Object(m.connect)(Jt,function(e,t){var n=t.comment,o=t.commentsPageKey,r=t.language;return{deleteComment:function(){return o&&e(Object(A.Y)(r,n.id,o))},handleDelete:function(){e(Object(et.e)(Ut(n.id))),e(Object(N.e)({tooltipId:Vt(n.id)}))},handleEdit:function(){var t=n.media&&n.media.rteMode;o&&e(Object(A.S)({commentId:n.id,draftKey:Object(M.a)(b.a.edit,n.id),text:n.bodyMD,commentMode:t,commentsPageKey:o}))},handleReply:function(){return o&&e(Object(A.Ja)({parentCommentId:n.id,commentsPageKey:o}))},onDistinguishComment:function(t,o){return e(Object(A.P)(n.id,t,o))},onIgnoreReports:function(){return e(Object(A.Ka)(n.id))},onReportClick:function(){return e(Object(tt.i)(n.id))},onToggleSave:function(){return e(Object(A.Ba)(n.id))},onToggleDistinguishDropdown:function(){return e(Object(N.e)({tooltipId:$t(n.id)}))},onToggleReportsDropdown:function(){return e(Object(N.e)({tooltipId:Gt(n.id)}))},toggleDeleteCommentModal:function(){return e(Object(et.e)(Ut(n.id)))},toggleSendReplies:function(){return e(Object(A.Ca)(n.id))}}}),Yt=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.sendCommentEventWithName=function(t){return e.props.sendEvent(Object(ot.b)(e.props.comment.postId,"comment_"+t))},e.sendCommentModEventWithName=function(t){return e.props.sendEvent(Object(xt.a)(t,e.props.comment.id))},e.sendCommentReportEvent=function(t){return e.props.sendEvent(Object(xt.e)(t,e.props.comment.id))},e.handleSave=function(){e.props.comment.isSaved?e.sendCommentModEventWithName("unsave"):e.sendCommentModEventWithName("save"),e.props.onToggleSave()},e.handleEdit=function(){e.props.sendEvent(Object(xt.d)("edit",e.props.comment.id)),e.props.handleEdit()},e.handleDelete=function(){e.props.sendEvent(Object(xt.d)("delete",e.props.comment.id)),e.props.toggleDeleteCommentModal()},e.handleReportClick=function(){e.props.sendEvent(Object(xt.a)("report",e.props.comment.id)),e.props.onReportClick()},e.handleDistinguishToggle=function(){e.props.sendEvent(Object(xt.a)("mod_distinguish_menu",e.props.comment.id)),e.props.onToggleDistinguishDropdown()},e.sendCommentDistinguishEvent=function(t){return e.props.sendEvent(Object(xt.b)(t,e.props.comment.id))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),Pt(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.comment,o=t.className,r=t.currentUser,i=t.deleteComment,s=t.handleReply,d=t.isOverlay,c=t.isLoggedIn,a=t.isPendingDeletion,l=t.language,p=t.onDistinguishComment,u=t.onIgnoreReports,m=t.onToggleReportsDropdown,f=t.moderatorPermissions,h=t.modModeEnabled,g=t.postIsArchived,b=t.postIsLocked,y=t.postPermalink,x=t.sendEvent,O=t.toggleDeleteCommentModal,w=t.toggleSendReplies,C=t.trackClick,j=Object(nt.a)(f),I=!!r&&r.displayText===n.author,S=!!r&&r.isEmployee,k=b||g?j&&c:c,P=Object(pt.a)(n);return kt("div",{className:o},void 0,kt(Ht,{},void 0,k&&kt(Bt,{onClick:function(){s(),Xe()(function(){return C("reply")()})},disabled:a},void 0,kt(Tt,{}),Object(v.a)(l,"comment.reply")),kt(ft.a,{dropdownId:n.id+"-comment-share-menu",isOverlay:!!d,permalink:Object(Ze.a)(y,n.id),sendEventWithName:this.sendCommentEventWithName},void 0,kt(Bt,{onClick:function(){return e.sendCommentEventWithName("share")}},void 0,Object(v.a)(l,"posts.share"))),!I&&c&&kt(Bt,{onClick:this.handleReportClick,disabled:a},void 0,Object(v.a)(l,"comment.report")),kt(Bt,{onClick:this.handleSave},void 0,n.isSaved?Object(v.a)(l,"comment.unsaveComment"):Object(v.a)(l,"comment.saveComment")),r&&!I&&kt(Bt,{onClick:function(){return t=e.props.comment,n=e.props.sendEvent,o="\n    "+Qe.a.redditUrl+"/gold/payment?goldtype=gift&months=1&thing="+t.id+"&web2x=true\n  ",window.open(o,"_blank"),void n(Object(xt.a)("gild",t.id));var t,n,o}},void 0,Object(v.a)(l,"comment.gold")),I&&kt(Bt,{onClick:this.handleEdit},void 0,Object(v.a)(l,"comment.edit")),I&&kt(At,{modModeEnabled:h},void 0,kt(ut.b,{dropdownId:Vt(n.id),onClick:function(){return x(Object(xt.a)("comment_overflow_menu",n.id))}},void 0,kt(Dt,{displayText:Object(v.a)(l,"comment.deleteComment"),onClick:this.handleDelete},void 0,kt(Et,{})),kt(vt.a,{text:Object(v.a)(l,"posts.toggleSendReplies"),onClick:w,isSelected:this.props.sendRepliesToggled}))),this.props.isConfirmModalOpen&&kt(ct.a,{actionText:Object(v.a)(l,"comment.delete"),cancelActionText:Object(v.a)(l,"comment.keep"),headerText:Object(v.a)(l,"comment.deleteComment"),modalText:Object(v.a)(l,"comment.deleteConfirmation"),onConfirm:i,toggleModal:O,trackClick:function(){},withOverlay:!0}),j&&(h?kt(qt,{comment:n,isCommentAuthor:I,language:l}):kt(Nt,{dropdownId:n.id+"-mod-actions-menu",inCommentFlatlist:!0,onClick:function(){return x(Object(xt.a)("comment_mod_action_menu",n.id))}},void 0,kt(_t,{}),kt(st.a,{comment:n,isOverlay:!!d,language:l,tooltipId:n.id+"-mod-actions-menu"}))),Object(pt.c)(n)&&!h&&kt(dt.b,{text:""+P,onClick:function(){m(),e.sendCommentModEventWithName("comment_report_menu")},selected:this.props.activeTooltipId===Gt(n.id),id:Gt(n.id)},void 0,kt(Wt,{isOverlay:!!d,language:l,model:n,onIgnoreReports:function(){u(),e.sendCommentReportEvent(n.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:Gt(n.id)}),n.ignoreReports?kt(Lt,{}):kt(Mt,{})),j&&!h&&I&&!S&&!n.bannedBy&&kt(dt.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===$t(n.id)},void 0,kt(dt.a,{}),kt(at.a,{isAdminDistinguished:n.isAdmin,isDropdownOpen:this.props.activeTooltipId===$t(n.id),isModDistinguished:n.isMod,isOverlay:!!d,isStickied:n.isStickied,isTopLevelComment:!n.parentId,isUserEmployee:S,isUserMod:j,language:l,onDistinguishComment:p,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:$t(n.id)})),I&&S&&!n.bannedBy&&kt(dt.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===$t(n.id)},void 0,kt(dt.a,{}),kt(at.a,{isAdminDistinguished:n.isAdmin,isDropdownOpen:this.props.activeTooltipId===$t(n.id),isModDistinguished:n.isMod,isOverlay:!!d,isStickied:n.isStickied,isTopLevelComment:!n.parentId,isUserEmployee:S,isUserMod:j,language:l,onDistinguishComment:p,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:$t(n.id)}))),this.props.reportFlowIsOpen&&kt(mt.a,{withOverlay:!0,commentId:this.props.comment.id,overlayCustomStyles:mt.b,postId:this.props.comment.postId}))}}]),t}(),Xt=Kt(Qt(Object(ht.b)(Object(bt.b)(Yt)))),Zt=n("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),en=n("./src/reddit/components/ModModeReports/index.tsx"),tn=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),nn=n("./src/reddit/components/RichTextJson/index.tsx"),on=n("./src/reddit/components/VerticalVotes/index.tsx"),rn=n("./src/reddit/components/VerticalVotes/index.m.less"),sn=n.n(rn),dn=n("./src/reddit/components/VerticalVotes/votes.tsx"),cn=n("./src/reddit/components/VerticalVotes/votes.m.less"),an=n.n(cn),ln=n("./src/reddit/constants/componentTestIds.ts"),pn=n("./src/reddit/controls/ErrorText/index.tsx"),un=n("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),mn=n("./src/reddit/models/Subreddit/index.ts"),fn=n("./src/reddit/models/Vote/index.ts"),hn=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),vn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,d=e[Symbol.iterator]();!(o=(s=d.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yn=g()(Je).withConfig({componentId:"s16de0yo-0"})(["left: 15px;position: absolute;top: 17px;"]),xn=g()(pn.a).withConfig({componentId:"s16de0yo-1"})(["text-align: left;"]),On=g()(on.a).withConfig({componentId:"s16de0yo-2"})(["min-width: 24px;max-height: 40px;margin: 6px -1px -2px 9px;text-align: center;z-index: ",";","."," {height: 20px;}.",",.",",",","," {padding: 2px;}"],Ke.d,on.b,sn.a.voteButton,an.a.customDownvote,an.a.customUpvote,dn.c,dn.d),wn=g()(Zt.a).withConfig({componentId:"s16de0yo-3"})(["margin-left: ",";min-height: 18px;"],function(e){return e.collapsed?"32px":"0px"}),Cn=g()(Object(Ce.a)()).withConfig({componentId:"s16de0yo-4"})(["border: 1px solid transparent;border-radius: 4px;box-sizing: border-box;opacity: ",";margin-left: 4px;padding-left: 4px;padding-top: 4px;max-width: ","px;width: 100%;","","","",""],function(e){return e.isPendingDeletion?"0.5":"1.0"},oe.e,function(e){return e.isRemoved?"border: 2px solid "+ne.a.removed+";\n      background-color: "+Object(l.e)(ne.a.removed,.05)+";\n      padding-left: 4px;\n      padding-top: 4px;\n      margin-top: -4px;":""},function(e){return e.isActive?"border: 1px solid "+Object(fe.c)(e).postIcon+";":""},function(e){return e.isCollapsed?"margin-left: 8px;\n      padding-left: 0;":""},function(e){return e.highlightComment?"background-color: "+Object(l.j)(.9,Object(fe.c)(e).active):""}),jn=g()(Object(Ce.a)()).withConfig({componentId:"s16de0yo-5"})(["border-radius: 4px;display: flex;margin-left: -23px;padding: 8px 4px 0 0;position: relative;transition: color 0.5s, fill 0.5s, background 1s;",":hover + "," {"," {opacity: 1;}}","&.top-level {margin-top: 16px;}"],yn,Cn,wn,function(e){return e.focused?"background: "+Object(l.j)(.95,Object(fe.c)(e).button)+";":"background: transparent;"}),In=g()(nn.a).withConfig({componentId:"s16de0yo-6"})(["padding: 2px 0;width: 100%;"]),Sn=g.a.div.withConfig({componentId:"s16de0yo-7"})(["padding: 2px 0;width: 100%"]),kn=g()(Te).withConfig({componentId:"s16de0yo-8"})(["position: relative;&:before {border-left: 1px dashed ",';bottom: 0;content: " ";left: -8px;position: absolute;top: 1px;}'],function(e){return Object(fe.c)(e).line}),Pn=g()(kn).withConfig({componentId:"s16de0yo-9"})(["margin-left: 0;&:before {content: none;}"]),Tn=Object(z.q)()(Object(m.connect)(function(){return Object(f.createStructuredSelector)({comment:function(e,t){return Object(he.m)(e,t)},depth:function(e,t){return Object(he.i)(e,t)},collapsed:he.g,flair:he.e,focused:he.s,isEditing:he.x,isPendingDeletion:he.y,language:K.y,moderatorPermissions:function(e,t){var n=Object(he.m)(e,t);return n?Object(it.f)(e,{subredditId:n.subredditId}):null},modModeEnabled:z.H,errorMsgs:he.B,replyFormOpen:he.E,subredditType:he.G,highlightComment:function(e,t){var n=t.commentId,o=Object(he.p)(e);if(o===hn.a.None)return!1;var r=Object(he.m)(e,{commentId:n});if(!r)return!1;var i=Object(K.k)(e),s=!!Object(it.e)(e,{postId:r.postId}),d=Object(be.x)(e,{postId:r.postId});if(!d||!d.previousVisits||d.previousVisits.length<2)return!1;var c=o===hn.a.Last?d.previousVisits[d.previousVisits.length-1]:d.previousVisits[0];return(s||i)&&r.created>c}})},function(e,t){var n=t.commentId,o=t.commentsPageKey,r=t.scrollToAndRemeasure,i=t.trackClick;return{onCollapseClick:function(){return e(Object(A.Ia)({commentId:n,commentsPageKey:o,scrollToAndRemeasure:r}))},onIgnoreReports:function(){return e(Object(A.Ka)(n))},onVoteClick:function(t){var o=t===fn.a.upvoted?[Object(A.La)(n),"upvote_comment"]:[Object(A.Q)(n),"downvote_comment"],r=vn(o,2),s=r[0],d=r[1];i(d)(),e(s)}}})(function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.comment,r=e.commentsPageKey,i=e.collapsed,s=e.depth,d=e.errorMsgs,c=e.flair,a=e.focused,l=e.highlightComment,p=e.isActive,u=e.isEditing,m=e.isPendingDeletion,f=e.language,h=e.moderatorPermissions,g=e.modModeEnabled,y=e.onCollapseClick,x=e.onIgnoreReports,O=e.onLineMouseOver,w=e.onVoteClick,C=e.replyFormOpen,j=e.trackClick,I=e.renderedInOverlay,S=e.subredditType,k=!u&&!o.isDeleted&&!!d&&d.length>0,P=Object(M.a)(b.a.edit,o.id),T=Object(M.a)(b.a.replyToComment,o.id),E=Object(nt.a)(h),_=o.authorIsContractor&&S===mn.a.EmployeesOnly;return bn(jn,{className:"Comment "+o.id+" "+(s?"":"top-level"),focused:a},void 0,i&&bn(yn,{className:o.id,onClick:function(){n(),y(),j("collapse")()},onMouseOver:function(){return O(o.id)},onMouseOut:n}),!i&&!o.isDeleted&&bn(On,{compact:!0,model:o,onVoteClick:w}),bn(Cn,{highlightComment:l,isActive:p,isCollapsed:i,isPendingDeletion:m,isRemoved:!!o.bannedBy},void 0,bn(un.a,{},void 0,Object(v.a)(f,"comment.level",{level:s+1})),bn(wn,{childrenInfo:t,collapsed:i,comment:o,commentsPageKey:r,flair:c,language:f,renderedInOverlay:I,renderContractorBadge:_}),!i&&bn("div",{},void 0,u&&bn(Pn,{autofocus:!0,commentsPageKey:r,depth:s,draftType:b.a.edit,draftKey:P,rtJson:o.media&&o.media.richtextContent,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(A.Z)({language:f,id:o.id,commentsPageKey:r,depth:s,draftKey:P,formData:e})},submitButtonText:Object(v.a)(f,"comment.saveEdits")}),!u&&!o.isDeleted&&(o.media&&o.media.richtextContent?bn(In,{content:o.media.richtextContent,language:f,renderingObjectInfo:o,renderFallback:function(){return bn(Sn,{"data-test-id":ln.d},void 0,bn(tn.a,{html:o.body}))}}):bn(Sn,{"data-test-id":ln.d},void 0,bn(tn.a,{html:o.body}))),g&&E&&Object(pt.c)(o)&&bn(en.a,{language:f,onIgnoreReports:x,reportable:o}),!u&&!o.isDeleted&&bn(Xt,{comment:o,commentsPageKey:r,language:f,trackClick:j}),k&&d.map(function(e){return bn(xn,{language:f},void 0,e)}),C&&bn(kn,{autofocus:!0,commentsPageKey:r,depth:s,draftType:b.a.replyToComment,draftKey:T,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(A.Ea)({commentsPageKey:r,draftKey:T,language:f,parentCommentDepth:s,parentCommentId:o.id,formData:e,editorMode:t})},submitButtonText:Object(v.a)(f,"comment.reply")}))))})),En=function(e){return bn(de.a.Consumer,{},void 0,function(t){return u.a.createElement(Tn,gn({},e,{trackClick:t}))})},_n=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Rn=g.a.div.withConfig({componentId:"wndnar-0"})(["align-items: center;border: 1px solid transparent;border-radius: 4px;color: ",";display: flex;fill: ",";margin-left: 8px;padding: 4px;",""],function(e){return Object(fe.c)(e).linkText},function(e){return Object(fe.c)(e).linkText},function(e){return e.isActive?"border: 1px solid "+Object(fe.c)(e).postIcon+";":""}),Mn=g()(I.a).withConfig({componentId:"wndnar-1"})(["height: 10px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 10px;"]),Ln=g()(C).withConfig({componentId:"wndnar-2"})(["","align-items: center;display: flex;"],Me.actionFont),Nn=g.a.span.withConfig({componentId:"wndnar-3"})(["&:hover {text-decoration: underline;}"]),An=Object(f.createStructuredSelector)({language:K.y,permalink:function(e,t){return Object(he.l)(e,{commentId:Object(he.r)(e,t).parentId})}}),Dn=Object(m.connect)(An)(Object(bt.b)(function(e){var t=e.isActive,n=e.isOverlay,o=e.language,r=e.permalink;return _n(Rn,{isActive:t},void 0,_n(Ln,{isOverlay:!!n,to:Object(j.b)(r)},void 0,_n(Nn,{},void 0,Object(v.a)(o,"comment.continueThread")),"",_n(Mn,{})))})),Hn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Fn=g.a.div.withConfig({componentId:"s1m7ii1-0"})(["padding: 8px 0px 0px;"]),zn=g.a.p.withConfig({componentId:"s1m7ii1-1"})(["","border: 1px solid transparent;border-radius: 4px;color: ",";cursor: pointer;height: 24px;margin-left: 4px;padding-left: 4px;"],Me.actionFont,function(e){return Object(fe.c)(e).linkText}),Bn=g()(zn).withConfig({componentId:"s1m7ii1-2"})(["&:hover {text-decoration: underline;}",""],function(e){return e.isActive?"border: 1px solid "+Object(fe.c)(e).postIcon+";":""}),qn=Object(f.createStructuredSelector)({moreCommentsItem:he.z,moreCommentsPending:he.A,language:K.y}),Wn=Object(m.connect)(qn,function(e,t){return{moreCommentsClicked:function(){return e(Object(A.U)(t.commentsPageKey,t.moreCommentsId))}}})(function(e){var t=e.language,n=e.isActive,o=e.moreCommentsClicked,r=e.moreCommentsItem,i=e.moreCommentsPending;return Hn(Fn,{},void 0,i?Hn(zn,{},void 0,Object(v.a)(t,"comment.loading")):Hn(de.a.Consumer,{},void 0,function(e){return Hn(Bn,{isActive:n,onClick:function(){o(),e("load_more_comment")()}},void 0,Object(v.b)(t,"comment.moreReply",r.numComments,{numComments:r.numComments}))}))}),Kn=n("./node_modules/lodash/times.js"),Un=n.n(Kn),$n=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Vn=g()(function(e){return u.a.createElement("div",e,$n("i",{className:"threadline"}))}).withConfig({componentId:"fxv3b9-0"})(["box-sizing: border-box;cursor: pointer;display: inline-block;height: 100%;margin-left: ","px;vertical-align: top;width: ","px;& > ."," {display: block;height: 100%;width: 50%;border-right: 2px solid ",";}&."," > ."," {border-right: 2px solid ",";}"],oe.C,oe.D,We.h,function(e){return Object(fe.c)(e).line},We.f,We.h,function(e){return Object(fe.c)(e).button}),Gn=g.a.div.withConfig({componentId:"fxv3b9-1"})(["bottom: 0;left: 0;position: absolute;top: 0;z-index: ",";"],Ke.f),Jn=g.a.div.withConfig({componentId:"fxv3b9-2"})(["box-sizing: border-box;display: inline-block;height: 100%;vertical-align: top;"," {bottom: 0;height: calc(100% - 56px);position: absolute;}"],Vn),Qn=function(e){var t=e.collapsed,n=e.depth,o=e.onLineClick,r=e.onLineMouseOver,i=e.onLineMouseOut,s=e.onShortLineClick,d=e.parentNodeIds,c=e.type;return $n(Gn,{},void 0,Un()(n+1,function(e){return e===n?c!==qe.b.Comment||t?null:$n(Jn,{},d[e],$n(Vn,{className:d[e],onClick:s,onMouseOver:function(){return r(d[e])},onMouseOut:function(){return i(d[e])}})):$n(Vn,{className:d[e],onClick:o(e),onMouseOver:function(){return r(d[e])},onMouseOut:function(){return i(d[e])}},d[e])}))},Yn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Xn=g()(Object(Ce.b)()).withConfig({componentId:"s136il31-0"})(["box-sizing: border-box;overflow: visible;padding-left: ","px;position: relative;transition: background 1s;width: 100%;","&:focus{outline: none;}"],function(e){return e.depth*(oe.D+oe.C)+(e.type===qe.b.Comment?oe.D:0)},function(e){return e.isHidden?"display: none;":""}),Zn=function(e){var t=document.querySelectorAll("."+e);if(t&&t.length)for(var n=0;n<t.length;n++)t[n].classList.add(We.f)},eo=function(){var e=document.querySelectorAll("."+We.f);if(e&&e.length)for(var t=0;t<e.length;t++)e[t].classList.remove(We.f)},to=Object(m.connect)(function(){return Object(f.createStructuredSelector)({collapsed:function(e,t){var n=t.commentLink,o=t.commentsPageKey;return!(!e.comments.collapsed[o]||!e.comments.collapsed[o][n.id])},commentListNode:function(e,t){return Object(he.k)(e,t)},depth:function(e,t){return Object(he.i)(e,t)},isActive:function(e,t){var n=t.commentLink;return!!e.shortcuts.activeCommentId&&n.id===e.shortcuts.activeCommentId}})},function(e,t){var n=t.commentLink,o=t.commentsPageKey,r=t.scrollToAndRemeasure;return{onLineClick:function(t){return function(){e(Object(A.J)({commentLink:n,commentsPageKey:o,lineDepth:t,scrollToAndRemeasure:r}))}},onShortLineClick:function(){return e(Object(A.Ia)({commentId:n.id,commentsPageKey:o,scrollToAndRemeasure:r}))}}})(function(e){var t=e.childrenInfo,n=e.className,o=e.collapsed,r=e.commentLink,i=e.commentsPageKey,s=e.depth,d=e.isActive,c=e.isHidden,a=e.onLineClick,l=e.onShortLineClick,p=e.scrollToAndRemeasure,u=e.renderedInOverlay,m=e.parentNodeIds;return Yn(Xn,{className:n,depth:s,isHidden:c,id:r.id,isActive:d,type:r.type},void 0,Yn(Qn,{collapsed:o,depth:s,onLineClick:a,onLineMouseOver:Zn,onLineMouseOut:eo,onShortLineClick:l,type:r.type,parentNodeIds:m}),no({childrenInfo:t,clearHovered:eo,commentLink:r,commentsPageKey:i,onLineMouseOver:Zn,isActive:d,renderedInOverlay:u,scrollToAndRemeasure:p}))}),no=function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.commentLink,r=e.commentsPageKey,i=e.isActive,s=e.onLineMouseOver,d=e.renderedInOverlay,c=e.scrollToAndRemeasure;switch(o.type){case qe.b.Comment:return Yn(En,{childrenInfo:t,clearHovered:n,commentId:o.id,commentsPageKey:r,isActive:i,onLineMouseOver:s,renderedInOverlay:d,scrollToAndRemeasure:c});case qe.b.MoreComments:return Yn(Wn,{commentsPageKey:r,isActive:i,moreCommentsId:o.id});case qe.b.ContinueThread:return Yn(Dn,{id:o.id,isActive:i})}},oo=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),ro=n("./src/reddit/components/Comments/States/index.tsx"),io=n("./src/reddit/components/Scroller/Simple.tsx"),so=n("./src/reddit/constants/screenWidths.ts"),co=n("./src/reddit/helpers/commentList/index.ts"),ao=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),lo=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var po=oe.h+10,uo=g()(io.b).withConfig({componentId:"s10usnt7-0"})(["padding: 0 15px;@media(min-width: ","px) {padding: 0;}"],so.h),mo=Object(f.createStructuredSelector)({allCollapsed:he.a,commentLinks:he.j,commentThreadLinkSet:he.o,language:K.y,measureScrollFPS:B.d.measureScrollFPS,moreComments:he.b,postPermalink:be.w}),fo=Object(m.connect)(mo)(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getParentNodeIds=function(e){var t=n.props,o=t.commentLinks,r=t.commentThreadLinkSet;if(n.parentNodeIdsMap[e.id])return n.parentNodeIdsMap[e.id];var i=r[e.id].depth;if(0===i)return n.parentNodeIdsMap[e.id]=[e.id],n.parentNodeIdsMap[e.id];var s=o[o.findIndex(function(t){return t.id===e.id})-1],d=n.parentNodeIdsMap[s.id].slice();return n.parentNodeIdsMap[e.id]=d.filter(function(e){return r[e].depth<i}),n.parentNodeIdsMap[e.id].push(e.id),n.parentNodeIdsMap[e.id]},n.getChildrenInfo=function(e){return n.childrenInfoMap[e]||void 0},n.parentNodeIdsMap={},oo.c(),n.childrenInfoMap={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),lo(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentLinks,n=e.allCollapsed,o=e.commentThreadLinkSet,r=e.moreComments;this.timerId&&S.c.cancel(this.timerId),t.length&&(this.timerId=S.c.start()),this.findHiddenNodes(t,n,o,r)}},{key:"componentDidMount",value:function(){this.timerId&&Object(S.b)(P.n.Redesign,{type:"mount",component:"commentsList",duration:S.c.end(this.timerId)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.allCollapsed,n=e.commentsPageKey,o=e.commentLinks,r=e.commentThreadLinkSet,i=e.moreComments;(n!==this.props.commentsPageKey||o.length>this.props.commentLinks.length||!Be()(t,this.props.allCollapsed))&&this.findHiddenNodes(o,t,r,i)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.commentsPageKey,o=t.commentLinks,r=t.allCollapsed;return e.commentsPageKey!==n||e.commentLinks.length>o.length||!Be()(e.allCollapsed,r)||e.commentLinks.some(function(e,t){return e.id!==o[t].id})}},{key:"componentWillUpdate",value:function(e){this.timerId&&S.c.cancel(this.timerId),e.commentLinks.length&&(this.timerId=S.c.start())}},{key:"componentDidUpdate",value:function(e){this.timerId&&Object(S.b)(P.n.Redesign,{type:"mount",component:"commentsList",duration:S.c.end(this.timerId)})}},{key:"componentWillUnmount",value:function(){this.timerId&&S.c.cancel(this.timerId)}},{key:"findHiddenNodes",value:function(e,t,n,o){if(t&&Object.keys(t).length){var r=null,i=1/0,s=0,d=!1;oo.c();for(var c=0;c<e.length;c++){var a=e[c];r&&(n[a.id].depth>i?(oo.a(a.id),s+=Object(co.d)(a,o),a.type===qe.b.ContinueThread&&(d=!0)):(this.childrenInfoMap[r]={numChildren:s,hasContinueThread:d},r=null,i=1/0,s=0,d=!1)),!r&&t[a.id]&&(r=a.id,i=n[a.id].depth)}}}},{key:"render",value:function(){return this.props.commentLinks.length?this.renderList():this.renderEmptyState()}},{key:"renderList",value:function(){var e=this,t=void 0;this.props.measureScrollFPS&&(t="comments-"+(this.props.renderedInOverlay?"lightbox":"page"));return ao(uo,{className:this.props.className,disableScrollCache:this.props.renderedInOverlay,getContainer:function(){return e.props.renderedInOverlay?document.getElementById(re.c):null},preventScrollOnMount:!0,scrollToChildPadding:po,trackingName:t},this.props.commentsPageKey,this.props.commentLinks.map(function(t,n){return{estHeight:oo.b(t.id)?0:65,id:t.id,render:function(n){var o=n.placeholderRecommended,r=n.height,i=(n.width,n.scrollToAndRemeasure);return o?ao("div",{style:{height:r,backgroundColor:"#fff"}}):ao(to,{childrenInfo:e.getChildrenInfo(t.id),commentLink:t,commentsPageKey:e.props.commentsPageKey,id:t.id,isHidden:oo.b(t.id),scrollToAndRemeasure:i,renderedInOverlay:!!e.props.renderedInOverlay,parentNodeIds:e.getParentNodeIds(t)})}}}))}},{key:"renderEmptyState",value:function(){return this.props.commentId?ao(ro.f,{language:this.props.language,link:this.props.postPermalink}):ao(ro.b,{language:this.props.language})}}]),t}()),ho=n("./src/higherOrderComponents/asTooltip.tsx"),go=n("./src/reddit/controls/Dropdown/index.tsx"),bo=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),vo=n("./src/reddit/icons/svgs/Dropdown/index.tsx"),yo=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),xo=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Oo=void 0;var wo="CommentSort--SortPicker",Co=Object(ho.a)(go.a),jo=g.a.div.withConfig({componentId:"s18rx025-0"})(["","color: ",";cursor: pointer;"],Me.labelsFont,function(e){return Object(fe.c)(e).linkText}),Io=g()(yt.c).withConfig({componentId:"s18rx025-1"})(["","background-color: inherit;border: none;display: flex;margin-left: 4px;padding: 0 4px;width: auto;"],Me.smallButtonFont),So=g()(vo.a).withConfig({componentId:"s18rx025-2"})(["cursor: pointer;fill: ",";margin: 0px;"],function(e){return Object(fe.c)(e).button}),ko=g.a.div.withConfig({componentId:"s18rx025-3"})(["","display: flex;margin-left: auto; /* Right side alignment through flexbox */"],Me.metadataFont),Po=g()(C).withConfig({componentId:"s18rx025-4"})(["","align-items: center;display: flex;color: ",";fill: ",";"],Me.actionFont,function(e){return Object(fe.c)(e).button},function(e){return Object(fe.c)(e).button}),To=g.a.span.withConfig({componentId:"s18rx025-5"})(["color: ",";@media (max-width: ","px) {display: none;}"],function(e){return Object(fe.c)(e).bodyText},so.e-1),Eo=g.a.span.withConfig({componentId:"s18rx025-6"})(["&:hover {text-decoration: underline;}"]),_o=g()(I.a).withConfig({componentId:"s18rx025-7"})(["height: 11px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 11px;"]),Ro=Object(f.createStructuredSelector)({commentPermalink:function(e,t){var n=t.commentId;return n&&Object(he.l)(e,{commentId:n})},dropdownIsOpen:Object(ve.b)(wo),highlightIsOpen:Object(ve.b)("CommentSort--highlight-picker"),language:K.y,postPermalink:be.w,showCommentHighlighter:function(e,t){var n=t.postId,o=Object(K.k)(e),r=!!Object(it.e)(e,{postId:n}),i=Object(be.x)(e,{postId:n});return(r||o)&&!!i&&!!i.previousVisits&&i.previousVisits.length>1},selectedHighlightSort:he.p}),Mo=function(e){return function(e,t){return function(){return Oo.props.sendEvent(function(n){return{source:"comment_highlighting",action:t,noun:e}})}}},Lo=Object(m.connect)(Ro,function(e,t){var n=t.trackClick;return{onOpenDropdown:function(){e(Object(N.e)({tooltipId:wo})),n("sorting")},onOpenHighlightDropdown:function(t){e(Object(N.e)({tooltipId:"CommentSort--highlight-picker"})),t()},changeHighlightSort:function(t){return e(Object(A.I)({sort:t}))}}})(Object(ht.b)(function(e){var t=e.sort||P.r.CONFIDENCE,n=Object(bo.a)(e.isOverlay),o=" ("+Object(v.a)(e.language,"sorts.suggested")+")",r=e.suggestedSort&&t===e.suggestedSort?P.t[t]+o:P.t[t];return u.a.createElement("div",{className:e.className,ref:e.elementRef},xo(jo,{onClick:e.onOpenDropdown},void 0,Object(v.a)(e.language,"sorts.titleBy")),xo(Io,{onClick:e.onOpenDropdown,displayText:r,id:wo,noHover:!0}),xo(So,{onClick:e.onOpenDropdown}),xo(Co,{container:n,isOpen:e.dropdownIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:wo},void 0,[P.r.CONFIDENCE,P.r.TOP,P.r.NEW,P.r.CONTROVERSIAL,P.r.OLD,P.r.QA].map(function(n){var o=e.commentPermalink?e.commentPermalink:e.postPermalink,r=Object(j.b)(o);return xo(C,{isOverlay:e.isOverlay,onClick:e.trackClick(qe.a[n]),tabIndex:-1,to:r+"?sort="+n},n,xo(yt.c,{displayText:P.t[n],isSelected:t===n}))})),e.showCommentHighlighter&&xo(Do,{changeHighlightSort:e.changeHighlightSort,container:n,highlightIsOpen:e.highlightIsOpen,isOverlay:e.isOverlay,language:e.language,onOpen:function(){return e.onOpenHighlightDropdown(Mo(e.sendEvent)("dropdown","click"))},selectedSort:e.selectedHighlightSort,trackHighlight:Mo(e.sendEvent)}),e.commentId&&Ho(e))})),No=function(e){return e===hn.a.First?"First Visit":e===hn.a.Last?"Last Visit":"None"},Ao=g.a.div.withConfig({componentId:"s18rx025-8"})(["align-items: center;display: flex;margin-left: 20px;"]),Do=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.track=function(){var t=e.props,n=t.trackHighlight,o=t.selectedSort;o!==hn.a.None&&n(o===hn.a.Last?"since_last_visit":"since_first_visit","view")},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),yo(t,[{key:"componentDidMount",value:function(){this.track()}},{key:"componentWillUpdate",value:function(e){e.selectedSort!==this.props.selectedSort&&this.track()}},{key:"render",value:function(){var e=this.props;return xo(Ao,{},void 0,xo(jo,{onClick:e.onOpen},void 0,Object(v.a)(e.language,"sorts.commentVisitHighlight")),xo(Io,{onClick:e.onOpen,displayText:No(e.selectedSort),id:"CommentSort--highlight-picker"}),xo(So,{onClick:e.onOpen}),xo(Co,{container:e.container,isOpen:e.highlightIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:"CommentSort--highlight-picker"},void 0,xo("span",{onClick:function(){e.trackHighlight("since_first_visit","click"),e.changeHighlightSort(hn.a.First)}},void 0,xo(yt.c,{displayText:No(hn.a.First),isSelected:e.selectedSort===hn.a.First})),xo("span",{onClick:function(){e.trackHighlight("since_last_visit","click"),e.changeHighlightSort(hn.a.Last)}},void 0,xo(yt.c,{displayText:No(hn.a.Last),isSelected:e.selectedSort===hn.a.Last})),xo("span",{onClick:function(){e.trackHighlight("do_not_highlight","click"),e.changeHighlightSort(hn.a.None)}},void 0,xo(yt.c,{displayText:No(hn.a.None),isSelected:e.selectedSort===hn.a.None}))))}}]),t}(),Ho=function(e){return xo(ko,{},void 0,xo(To,{},void 0,Object(v.a)(e.language,"comment.singleComment.shortMessage"),""),xo(Po,{isOverlay:e.isOverlay,to:Object(j.b)(e.postPermalink)},void 0,xo(Eo,{},void 0,Object(v.a)(e.language,"comment.viewAllComments")),"",xo(_o,{})))},Fo=g()(Lo).withConfig({componentId:"s18rx025-9"})(["align-items: center;background: ",";border-bottom: 1px solid ",";display: flex;justify-content: flex-start;margin: 16px 40px 0;padding: 0 16px 4px 0;"],function(e){return Object(fe.c)(e).body},function(e){return Object(fe.c)(e).line}),zo=n("./src/lib/objectSelector/index.ts"),Bo=n("./src/reddit/components/IdCard/index.tsx"),qo=n("./src/reddit/components/ProfileIdCard/index.tsx"),Wo=n("./src/reddit/components/SidebarAd/index.tsx"),Ko=n("./src/reddit/components/SidebarFooter/index.tsx"),Uo=n("./src/reddit/components/SidebarSpacer/index.tsx"),$o=n("./src/reddit/components/SidebarStickyBottom/index.tsx"),Vo=n("./src/reddit/components/Widgets/Widget/index.tsx"),Go=n("./src/reddit/helpers/createBannerProperties/index.ts"),Jo=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Qo=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var Yo=[P.f,P.g],Xo=g.a.div.withConfig({componentId:"s1mplfi9-0"})(["display: flex;flex-direction: column;height: 100%;top: 0;width: ","px;"],oe.z),Zo=Object(f.createStructuredSelector)({language:K.y,widgets:Object(zo.a)(W.i)}),er=Object(m.connect)(Zo)(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),Qo(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.subredditName!==e.subredditName||!Be()(this.props.widgets,e.widgets)}},{key:"renderFooter",value:function(e){var t=this.props,n=t.isOverlay,o=t.subredditName,r=t.post;return n?Jo(u.a.Fragment,{},void 0,Jo(Wo.a,{placement:P.d.BELOW_THE_FOLD,listingName:o,isOverlay:n,placementIndex:e,position:Go.a.BOTTOM}),Jo(Ko.a,{})):Jo($o.f,{listingName:o,things:[r],placementIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.commentsPageKey,o=e.isOverlay,r=e.post,i=e.subredditName,s=e.widgets,d=0;return Jo(Xo,{className:t},void 0,"profile"===r.belongsTo.type?Jo(qo.a,{profileName:i,isOverlay:o||!1}):Jo(Bo.b,{commentsPageKey:n,isCommentsPage:!0,isOverlay:o,listingName:i,postId:r.id,rememberPosition:r.numComments>0}),Jo(Wo.a,{placement:P.d.ABOVE_THE_FOLD,placementIndex:d++,listingName:i,isPostNSFW:r.isNSFW,isOverlay:o,refreshKey:r.id,position:Go.a.FIRST,sizes:Yo}),s.map(function(e,t){return Jo(Uo.a,{},"widgetSpacer"+t,Jo(Vo.a,{subredditName:i,widget:e}))}),this.renderFooter(d++))}}]),t}()),tr=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),nr=Object(h.css)(["","color: ",";"],Me.metadataFont,function(e){return Object(fe.c)(e).bodyText}),or=g.a.div.withConfig({componentId:"s15t8fxx-0"})(["display: inline-block;margin: 12px 8px 8px 16px;"]),rr=g()(Object(Ce.a)()).withConfig({componentId:"s15t8fxx-1"})(["background-color: ",";display: inline-block;width: 8px;position: absolute;top: 0;bottom: 0;"],function(e){return e.color}),ir=g.a.div.withConfig({componentId:"s15t8fxx-2"})(["",""],nr),sr=g.a.div.withConfig({componentId:"s15t8fxx-3"})(["display: inline-block;margin: 8px 0 8px;"]),dr=g.a.div.withConfig({componentId:"s15t8fxx-4"})(["","font-weight: bold;"],nr),cr=g()(Object(Ce.a)()).withConfig({componentId:"s15t8fxx-5"})(["background-color: ",";border: 1px solid ",";border-radius: 4px;margin: 16px;position: relative;display: flex;"],function(e){return Object(fe.c)(e).body},function(e){return e.color}),ar=function(e){var t=e.className,n=e.color,o=e.renderIcon,r=e.subtitle,i=e.title;return tr(cr,{className:t,color:n},void 0,tr(rr,{color:n}),o&&tr(or,{},void 0,o()),tr(sr,{},void 0,tr(dr,{},void 0,i),r&&tr(ir,{},void 0,r)))},lr=n("./src/reddit/components/HeaderImage/index.tsx"),pr=n("./src/reddit/components/PostContent/index.tsx"),ur=n("./src/reddit/components/PostTopMeta/index.tsx"),mr=n("./src/reddit/components/SubredditNav/index.tsx"),fr=n("./src/reddit/helpers/history/index.ts"),hr=n("./src/reddit/helpers/trackers/screenview.ts"),gr=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),br=g.a.div.withConfig({componentId:"s1qr0gd6-0"})(["box-sizing: border-box;display: flex;justify-content: center;margin: ","px auto 0;max-width: ","px;overflow-y: hidden;padding-bottom: 32px;position: relative;width: calc(100% - ","px);&:focus {outline: none;}"],oe.h,oe.l,2*oe.j),vr=g.a.div.withConfig({componentId:"s1qr0gd6-1"})(["background: ",";flex: 1;margin: ","px;margin-right: ","px;max-width: 100%;min-height: 100vh;min-width: 0;padding-bottom: 1px;width: 100%;word-break: break-word;","@media(min-width: ","px) {max-width: 890px;}"],function(e){return Object(fe.c)(e).body},oe.n,oe.m,"",so.f),yr=g.a.div.withConfig({componentId:"s1qr0gd6-2"})(["display: none;margin: ","px;margin-left: 0;padding: 0;right: 0;top: 0;width: ","px;@media(min-width: ","px) {display: block;}"],oe.n,oe.z,so.f),xr=function(e){return gr(br,{tabIndex:-1},void 0,gr(vr,{redditStyle:!0},void 0,e.content),gr(yr,{},void 0,e.sidebar))},Or=n("./src/reddit/layout/page/Listing/index.tsx"),wr=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Cr=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}();var jr=g.a.span.withConfig({componentId:"vu4bvf-0"})(["&:hover {text-decoration: underline;}"]),Ir=g()(I.a).withConfig({componentId:"vu4bvf-1"})(["height: 11px;margin-top: -0.125em;width: 11px;transform: scaleX(-1);"]),Sr=g.a.div.withConfig({componentId:"vu4bvf-2"})(["padding: 8px;"]),kr=g()(C).withConfig({componentId:"vu4bvf-3"})(["color: ",";fill: ",";font-size: 11px;font-weight: 500;line-height: 16px;"],function(e){return Object(fe.c)(e).linkText},function(e){return Object(fe.c)(e).linkText}),Pr=80,Tr=g()(ce.a).withConfig({componentId:"vu4bvf-4"})(["color: ",";height: 24px;margin: 0 -4px 0 4px;vertical-align: sub;width: 24px;"],ne.a.locked),Er=g()(function(e){return ae("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},void 0,ae("path",{d:"M16,9H15V7A5,5,0,0,0,5,7V9H4a1,1,0,0,0-1,1v7a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V10A1,1,0,0,0,16,9ZM7,7a3,3,0,0,1,6,0V9H7Z"}))}).withConfig({componentId:"vu4bvf-5"})(["fill: ",";height: 24px;width: 24px;"],ne.a.locked),_r=Object(m.connect)(function(){return Object(f.createStructuredSelector)({apiError:he.c,apiPending:he.d,canCommentAsModerator:function(e,t){var n=t.postId,o=Object(be.H)(e,{postId:n});return!!(o&&o.id&&e.moderatingSubreddits[o.id])},comment:he.m,contentGateInfo:function(e,t){var n=t.subredditName;return Object(K.d)(e,n)},currentUserShowNSFW:K.C,fullyLoaded:he.t,headComment:he.w,isLoggedIn:K.u,isTooltipOpen:function(e,t){return!!Object(ve.a)(e)},language:K.y,origin:ge.b,post:he.C,subredditOrProfile:be.H,userHovercardIsOpen:function(e,t){return Object(ve.b)(Object(ye.b)({itemId:t.postId,tooltipType:ur.c.StickyPost}))(e)},userPrefs:K.O})},function(e,t){return{setCommentFocus:function(t){return e(A.K({commentListNodeId:t}))},dispatchUnpause:function(){return e(H.N({postId:t.postId}))},onHideTooltip:function(){return e(Object(N.f)())},onToggleTooltip:function(t){return e(Object(N.e)({tooltipId:t}))},openLoginModal:function(){return e(Object(D.a)())},openRegisterModal:function(){return e(Object(D.b)())}}}),Rr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.needsUpdatedMeasurements=!0,n.scrollY=null,n.recheckScrollTimer=-1,n.postPaused=!0,n.setPostScrollItemRef=function(e){n.postScrollItemRef=e,setTimeout(n.handleScroll)},n.handleScroll=a()(function(){if(n.scrollContainerEl){n.needsUpdatedMeasurements&&n.updateMeasurements();var e=n.didScrollPastPost,t=n.scrollContainerEl,o=n.scrollPostThreshold,r=n.props,i=r.userHovercardIsOpen,s=r.isOverlay,d=r.isTooltipOpen,c=r.onHideTooltip,a=r.onToggleTooltip,l=r.post,p=r.postId;clearTimeout(n.recheckScrollTimer),n.recheckScrollTimer=-1;var u=t===window?t.scrollY:t?t.scrollTop:0,m=null!==n.scrollY&&Math.abs(u-n.scrollY)>Pr,f=l&&l.media&&l.media.type===pe.l.EMBED?l.media.provider:null,h=l&&l.media&&pe.c.has(l.media.type)&&(!f||!pe.o.has(f));n.scrollY=u,!e&&u>=o&&(n.didScrollPastPost=!0),e&&u<o&&(n.didScrollPastPost=!1,i&&_.a.write(function(){a(Object(ye.b)({itemId:p,tooltipType:ur.c.StickyPost}))})),h&&n.postScrollItemRef&&(n.postPaused||!m&&!n.didScrollPastPost?n.postPaused&&!n.didScrollPastPost&&(m?n.recheckScrollTimer=setTimeout(n.handleScroll,4*P.E):(n.postPaused=!1,_.a.write(n.postScrollItemRef.focusContent))):(n.postPaused=!0,_.a.write(n.postScrollItemRef.pauseContent))),s&&d&&c()}},P.E),n.sendEventWithName=function(e){return function(){return n.props.sendEvent(Object(ot.b)(n.props.postId,e))}},n.updateWindowHeight=function(){n.needsUpdatedMeasurements=!0,n.handleScroll()},n.updateCommentSortRef=function(e){n.commentSortRef=e,n.needsUpdatedMeasurements=!0},n.updateCommentFormRef=function(e){n.commentFormRef=e,n.needsUpdatedMeasurements=!0},n.didScrollPastPost=e.shouldScrollToComments&&!!e.post&&!!e.post.numComments,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),wr(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentId,n=e.setCommentFocus;t&&n(t)}},{key:"componentDidMount",value:function(){var e=this,t=this.commentFormRef,n=this.commentSortRef,o=this.props,r=o.isLoggedIn,i=o.isOverlay,s=o.post,d=o.shouldScrollToComments;i?(this.scrollContainerEl=document.getElementById(re.c),d&&(t||n)&&s&&s.numComments&&this.scrollToComments(),_.a.write(function(){e.scrollContainerEl&&e.scrollContainerEl.focus()})):this.scrollContainerEl=window,this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),_.a.read(function(){e.props.isOverlay||Object(L.b)(L.a.CommentsPage,r)})}},{key:"componentWillReceiveProps",value:function(e){e.postId!==this.props.postId&&(this.didRenderLoading=!1),e.commentId&&e.commentId!==this.props.commentId&&this.props.setCommentFocus(e.commentId)}},{key:"componentWillUpdate",value:function(e){this.removeListeners()}},{key:"componentDidUpdate",value:function(e){var t=this;this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),e.postId!==this.props.postId&&(this.props.post&&this.props.post.numComments?_.a.read(this.handleScroll):_.a.write(function(){Object(T.c)(t.scrollContainerEl,0),_.a.read(t.handleScroll)}),this.props.isOverlay&&_.a.write(function(){t.scrollContainerEl&&t.scrollContainerEl.focus()}))}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.needsUpdatedMeasurements=!1,this.scrollContainerEl=void 0}},{key:"updateMeasurements",value:function(){this.needsUpdatedMeasurements=!1,this.windowHeight=window.innerHeight,this.commentFormRef?this.scrollPostThreshold=this.commentFormRef.offsetTop:this.commentSortRef?this.scrollPostThreshold=this.commentSortRef.offsetTop:this.scrollPostThreshold=200}},{key:"addListeners",value:function(){this.props.isOverlay&&window.addEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.addEventListener("scroll",this.handleScroll)}},{key:"removeListeners",value:function(){this.props.isOverlay&&window.removeEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToComments",value:function(){var e=this;_.a.read(function(){var t=document.getElementById(re.c);if(t){var n=void 0,o=void 0;e.commentFormRef?(n=e.commentFormRef.offsetTop-80,o=e.commentFormRef.offsetParent):e.commentSortRef?(n=e.commentSortRef.offsetTop-80,o=e.commentSortRef.offsetParent):n=0,o&&(n+=o.offsetTop),_.a.write(function(){Object(T.c)(t,n),e.needsUpdatedMeasurements=!0,setTimeout(function(){return _.a.read(e.handleScroll)})})}})}},{key:"shouldSendScreenview",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.commentsPageKey;return S.c.has(o)&&(t||!n||this.listLongEnoughForScreenView())}},{key:"listLongEnoughForScreenView",value:function(){return!!this.commentSortRef&&this.commentSortRef.getBoundingClientRect().bottom>window.innerHeight}},{key:"checkAndSendScreenview",value:function(){var e=this;_.a.read(function(){var t=e.props,n=t.commentId,o=t.commentsPageKey,r=t.postId,i=t.sendEvent;if(e.shouldSendScreenview()){var s=S.c.end(o);i(Object(hr.a)(o,r,n,k.TimerType.InApp,s))}})}},{key:"isCommentPermalink",value:function(){return void 0!==this.props.commentId}},{key:"render",value:function(){var e=this.props,t=e.apiPending,n=e.closeLocation,o=e.commentsPageKey,r=e.contentGateInfo,i=e.currentUserShowNSFW,s=e.isOverlay,d=e.post,c=e.postId,a=e.subredditOrProfile,l=e.subredditName,p=this.isCommentPermalink();if(!d)return Cr(t?ro.e:ro.c,{});var u=void 0,m=void 0;return r?r.privateSubreddit?u=ee.a.PrivateSubreddit:r.goldSubreddit?u=ee.a.GoldSubreddit:r.subredditBanned&&(u=ee.a.SubredditBanned,m=r.subredditBanMessage):d.isNSFW&&!i&&(u=ee.a.Nsfw),u&&l?Cr(ee.b,{banMessage:m,subredditName:l,contentGateType:u}):Cr(Hr,{closeLocation:n,commentsPageKey:o,isOverlay:s,post:d,subredditOrProfile:a},void 0,Cr("div",{},"PostContentWrapper",Cr(Lr,{isCommentPermalink:p,isExclusivePost:!0,isOverlay:s,postId:c,redditStyle:s,scrollerItemRef:this.setPostScrollItemRef}),Cr(Z,{listingName:l||"",isOverlay:s,placement:P.d.ABOVE_THE_FOLD})),this.renderCommentPanes())}},{key:"renderCommentPanes",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.canCommentAsModerator,r=e.commentId,i=e.commentsPageKey,s=e.fullyLoaded,d=e.headComment,c=e.isLoggedIn,a=e.isOverlay,l=e.language,p=e.location,u=e.openLoginModal,m=e.openRegisterModal,f=e.origin,h=e.post,g=e.postId,y=e.sort,x=e.subredditName,O=e.userPrefs;if(!h)return null;var w=this.isCommentPermalink(),C=[],I=h.isLocked&&!o,S=!w&&!h.isArchived,k=x?"comment.threadLocked.title":"comment.threadLocked.simpleTitle",T=P.s;if(y?T=y:h.suggestedSort?T=h.suggestedSort:O&&O.defaultCommentSort&&(T=O.defaultCommentSort),I)C.push(Cr(ar,{color:ne.a.locked,renderIcon:function(){return Cr(Er,{})},subtitle:Object(v.a)(l,"comment.threadLocked.subtitle"),title:Object(v.a)(l,k,{subredditName:x})},"commentThreadBanner"));else if(h.isArchived)C.push(Cr(ar,{color:ne.a.locked,renderIcon:function(){return Cr(Tr,{})},subtitle:Object(v.a)(l,"comment.threadArchived.subtitle"),title:Object(v.a)(l,"comment.threadArchived.title")},"commentThreadBanner"));else if(S)if(c){var E=Object(M.a)(b.a.replyToPost,g);C.push(Cr(Te,{autofocus:!1,isTopLevelComment:!0,depth:0,draftKey:E,draftType:b.a.replyToPost,editorElementRef:this.updateCommentFormRef,parentCommentId:"replyToPost",submitAction:function(e,t){return A.Ga(l,g,i,E,e,t)},submitButtonText:Object(v.a)(l,"comment.comment")},"form"))}else C.push(Cr(Fe,{language:l,location:p,openLoginModal:u,openRegisterModal:m,origin:f},"loggedOutCommentForm"));return C.push(Cr(Fo,{commentId:r,elementRef:this.updateCommentSortRef,isOverlay:a,postId:g,sort:T,suggestedSort:h.suggestedSort,trackClick:this.sendEventWithName},"commentSort")),n?(this.didRenderLoading=!0,C.push(Cr(ro.a,{isLoading:n},"commentsPlaceholder"))):t&&!d?C.push(Cr(ro.d,{language:l,postId:g,commentId:r,sort:T,apiError:t})):(C.push(Cr(Nr,{redditStyle:!0,renderedInOverlay:a},"commentsWrapper",w&&d&&null!==d.parentId&&Cr(Sr,{},void 0,Cr(kr,{isOverlay:a,to:Object(j.b)(d.permalink+"?context=8&depth=9")},void 0,Cr(Ir,{}),"",Cr(jr,{},void 0,Object(v.a)(l,"comment.showParentComments")))),Cr(fo,{postId:g,commentId:r,commentsPageKey:i,renderedInOverlay:a}))),t&&d?C.push(Cr(ro.d,{language:l,postId:g,commentId:r,sort:T,apiError:t},"commentsErrorState")):s||C.push(Cr(ro.a,{isLoading:!0},"commentsPlaceholder"))),Cr(de.a.Provider,{value:this.sendEventWithName},void 0,C)}}]),t}(),Mr=_r(Object(ht.b)(Rr)),Lr=g()(pr.a).withConfig({componentId:"vu4bvf-6"})(["",""],function(e){return e.isOverlay?"background: "+Object(fe.c)(e).body+";":"background: "+Object(me.g)(Object(fe.c)(e).body,Object(fe.c)(e).backgroundImage,Object(fe.c)(e).backgroundImagePosition)+";\n      border-radius: 4px 4px 0 0;"}),Nr=g.a.div.withConfig({componentId:"vu4bvf-7"})(["/* TODO: remove once issue around transparent comments backgroundis fixed */box-sizing: border-box;padding-right: 16px;margin: 16px;margin-bottom: 0px;margin-left: 10px;padding-bottom: 16px;// set overlay background to 80% opacity\n",""],function(e){return e.renderedInOverlay?"background: "+Object(l.j)(.2,Object(fe.c)(e).body)+";":"background: "+Object(fe.c)(e).body+";"}),Ar=g.a.div.withConfig({componentId:"vu4bvf-8"})(["background: ",";border: 1px solid ",";border-radius: 4px;word-break: break-word;"],function(e){return Object(fe.c)(e).body},function(e){return Object(fe.c)(e).line}),Dr=g()(er).withConfig({componentId:"vu4bvf-9"})(["margin-top: 1px;max-height: initial;position: relative;"]),Hr=function(e){var t=e.children,n=e.commentsPageKey,o=e.isOverlay,r=e.post,i=e.subredditOrProfile;return o?Cr(xr,{content:t,sidebar:i&&Cr(er,{commentsPageKey:n,isOverlay:!0,post:r,subredditName:i.name,subredditId:i.id})}):Cr(te.a,{subredditId:i?i.id:void 0},void 0,Cr(Or.d,{maxWidth:oe.l,content:Cr(Ar,{redditStyle:!0},void 0,t),disableFullscreen:!0,navBar:i&&u.a.Children.toArray([Cr(lr.a,{disableFullscreen:!0,headerText:i.name,maxWidth:oe.l,prefixedHeaderText:i.displayText,subredditOrProfile:i,url:i.url}),"user"!==i.type&&Cr(mr.a,{disableFullscreen:!0,homeUrl:i.url,maxWidth:oe.l,subredditId:i.id})]),sidebar:i&&Cr(Dr,{commentsPageKey:n,post:r,subredditName:i.name,subredditId:i.id})}))};t.default=function(e){var t=e.location.state,n=d()(t,ie.a.IsOverlay,!1),o=d()(t,ie.a.CloseLocation,null),r=d()(t,ie.a.ScrollOnLoad,!1);r&&Object(fr.c)(ie.a.ScrollOnLoad);var s=e.match.params,c=s.partialCommentId,a=s.partialPostId,l=s.subredditName,p=Object(ue.b)(a),u=c&&Object(le.b)(c),m=e.location.search,f=i()([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object(E.a)(m)))),h=se.l in f?f[se.l]:"",g=P.Jb.has(h)?h:void 0,b=f.instanceId,v={};g&&(v.sort=g,v.hasSortParam=!0),f.context&&(v.context=parseInt(f.context,10)),f.depth&&(v.depth=parseInt(f.depth,10));var y=Object(R.a)(p,u,v),x=e.location;return Cr(Mr,{location:x,closeLocation:o,commentId:u,commentsPageKey:y,isOverlay:n,postId:p,instanceId:b,shouldScrollToComments:r,sort:g,subredditName:l})}}}]);
//# sourceMappingURL=CommentsPage.2383e22a94170412cb35.js.map

}
/*
     FILE ARCHIVED ON 02:30:10 Sep 01, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:44:20 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.08
  exclusion.robots.policy: 0.066
  cdx.remote: 0.127
  esindex: 0.019
  LoadShardBlock: 427.711 (6)
  PetaboxLoader3.datanode: 497.048 (8)
  load_resource: 421.062 (2)
  PetaboxLoader3.resolve: 180.48 (2)
*/