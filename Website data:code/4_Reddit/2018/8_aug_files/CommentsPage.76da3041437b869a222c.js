var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["CommentsPage"],{"./node_modules/lodash/_baseDelay.js":function(e,t){var n="Expected a function";e.exports=function(e,t,o){if("function"!=typeof e)throw new TypeError(n);return setTimeout(function(){e.apply(void 0,o)},t)}},"./node_modules/lodash/defer.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDelay.js"),r=n("./node_modules/lodash/_baseRest.js")(function(e,t){return o(e,1,t)});e.exports=r},"./node_modules/lodash/uniqueId.js":function(e,t,n){var o=n("./node_modules/lodash/toString.js"),r=0;e.exports=function(e){var t=++r;return o(e)+t}},"./src/app/components/StyledHtml/index.less":function(e,t,n){},"./src/app/components/StyledHtml/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d});n("./node_modules/react/index.js"),n("./src/app/components/StyledHtml/index.less");var o,r=n("./src/config.ts"),i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=function(e){return e.replace(new RegExp('href="/u',"gi"),'target="_blank" href="'+r.a.redditUrl+"/u").replace(new RegExp('href="/r',"gi"),'target="_blank" href="'+r.a.redditUrl+"/r")};function d(e){var t=e.html;return i("div",{className:"StyledHtml",dangerouslySetInnerHTML:{__html:s(t)}})}},"./src/lib/loginHref/index.ts":function(e,t,n){"use strict";var o=n("./src/config.ts"),r=n("./node_modules/history/index.js");t.a=function(e,t,n){var i=Object(r.createPath)(e),s=encodeURIComponent(""+t+i);return""+o.a.accountManagerOrigin+(n||"/login")+"?dest="+s}},"./src/reddit/components/ClassicPost/Thumbnail.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});n("./node_modules/react/index.js");var o,r=n("./bundled-modules/styled-components/styled-components.min.js"),i=n("./src/lib/classNames/index.ts"),s=n("./src/reddit/components/Thumbnail/index.tsx"),d=n("./src/reddit/constants/posts.ts"),c=n("./src/reddit/helpers/styles/mixins/index.tsx"),a=n("./src/reddit/components/ClassicPost/index.m.less"),l=n.n(a),p=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=Object(r.css)(["","."," {","","}"],s.a,l.a.thumbnailContainer,Object(c.x)(d.c,d.d),c.c);t.b=function(e){var t=e.className,n=e.crosspost,o=e.forceShowNSFW,r=e.post,d=e.templatePlaceholderImage;return p("div",{className:Object(i.a)(l.a.thumbnailContainer,t)},void 0,p(s.b,{className:l.a.thumbnail,crosspost:n,post:r,forceShowNSFW:o,templatePlaceholderImage:d}))}},"./src/reddit/components/ClassicPost/index.m.less":function(e,t,n){e.exports={classicThumbnail:"nL7Q54U2LLg9rkVdSxxLe",content:"_1Y6dfr4zLlrygH-FLmr8x-",crosspostMediaWrapper:"_1qc1-Anfrhr6APGcBKFk8M",expandoContainer:"_3r40yytzBnldjGGOrs2mCw",flatlist:"ssgs3QQidkqeycI33hlBa",flatlistContainer:"_36kpXQ-z7Hr61j8878uRkP",flatlistSeparator:"_1wDt70OnYnqsrm0XIsNn8v",leftExpando:"_35zWJjb5RJMIMkexZ2Prus",mainBody:"_2XDITKxlj4y3M99thqyCsO",rightExpando:"_2Ddj1d6vOe9NlJqkdothNe",spacer:"iRkLLvxarfGu_2c7HxhW0",thumbnail:"_2e9Lv1I3dOmICVO9fg3uTG",thumbnailContainer:"_38EcSQ9jzVrdtzkXO1cydX"}},"./src/reddit/components/CommentModModeDropdown/index.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var o,r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(s),c=n("./src/higherOrderComponents/asTooltip.tsx"),a=n("./src/reddit/actions/comment.ts"),l=n("./src/reddit/components/TrackingHelper/index.tsx"),p=n("./src/reddit/controls/Dropdown/index.tsx"),u=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),m=n("./src/reddit/helpers/trackers/modTools.ts"),f=n("./src/reddit/selectors/tooltip.ts"),h=n("./src/app/strings/index.ts"),g=n("./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx"),b=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),v=function(e){return b(g.c,{},void 0,!e.comment.isApproved&&b(g.b,{displayText:e.comment.approvedBy?Object(h.a)(e.language,"modTools.approved"):Object(h.a)(e.language,"modTools.approve"),onClick:e.onApproveComment},void 0,b(g.a,{})),!e.comment.bannedBy&&[b(g.b,{displayText:e.comment.isRemoved?Object(h.a)(e.language,"modTools.removed"):Object(h.a)(e.language,"modTools.remove"),onClick:e.onRemoveComment},void 0,b(g.d,{})),b(g.b,{displayText:e.comment.isSpam?Object(h.a)(e.language,"modTools.removedAsSpam"):Object(h.a)(e.language,"modTools.removeAsSpam"),onClick:e.onSpamComment},void 0,b(g.e,{}))])},y=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),x=d()(p.a).withConfig({componentId:"la5ynn-0"})(["margin-top: -4px;"]),O=Object(i.createStructuredSelector)({isDropdownOpen:function(e,t){var n=t.tooltipId;return Object(f.b)(n)(e)}}),w=Object(r.connect)(O,function(e,t){var n=t.comment;return{onApproveComment:function(){return e(Object(a.G)(n.id))},onRemoveComment:function(){return e(Object(a.X)(n.id,!1))},onSpamComment:function(){return e(Object(a.X)(n.id,!0))}}}),C=Object(c.a)(x),j=w(Object(l.b)(function(e){var t=e.comment,n=e.isDropdownOpen,o=e.isOverlay,r=e.language,i=e.onApproveComment,s=e.onRemoveComment,d=e.onSpamComment,c=e.sendEvent,a=e.tooltipId,l=Object(u.a)(o);return y(C,{container:l,isOpen:n,isOverlay:o,tooltipId:a},void 0,y(v,{language:r,onApproveComment:function(){i(),c(Object(m.c)("approve",t.id))},onRemoveComment:function(){s(),c(Object(m.c)("remove",t.id))},onSpamComment:function(){d(),c(Object(m.c)("spam",t.id))},comment:t}))}));t.a=j},"./src/reddit/components/ContentGate/index.tsx":function(e,t,n){"use strict";var o=n("./src/config.ts"),r=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),i=n("./node_modules/react-router/es/index.js"),s=n("./node_modules/reselect/lib/index.js"),d=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(d),a=n("./src/app/components/StyledHtml/index.tsx"),l=n("./src/app/strings/index.ts"),p=n("./src/lib/loginHref/index.ts"),u=n("./src/reddit/actions/contentGate.ts"),m=n("./src/reddit/actions/preferences.ts"),f=n("./src/reddit/components/Footer/index.tsx"),h=n("./src/reddit/constants/componentSizes.ts"),g=n("./src/reddit/controls/Button/index.tsx"),b=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),v=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=n("./src/reddit/selectors/meta.ts"),x=n("./src/reddit/selectors/user.ts");n.d(t,"a",function(){return j});var O,w=(O="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var d=Array(i),c=0;c<i;c++)d[c]=arguments[c+3];t.children=d}return{$$typeof:O,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});function C(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(r,i){try{var s=t[r](i),d=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(d).then(function(e){o("next",e)},function(e){o("throw",e)});e(d)}("next")})}}var j,I=c.a.div.withConfig({componentId:"s1ylg6yr-0"})(["display: flex;justify-content: center;margin-left: auto;margin-right: auto;"]),S=c.a.div.withConfig({componentId:"s1ylg6yr-1"})(["background-color: ",";align-items: center;display: flex;flex-direction: column;justify-content: center;min-height: 100vh;"],function(e){return Object(v.c)(e).canvas}),k=c.a.p.withConfig({componentId:"s1ylg6yr-2"})(["","color: ",";margin-top: 0;margin-bottom: 32px;"],b.titleFontH5,function(e){return Object(v.c)(e).bodyText}),P=c()(g.d).withConfig({componentId:"s1ylg6yr-3"})(["width: ","px;"],150),T=c()(g.c).withConfig({componentId:"s1ylg6yr-4"})(["width: ","px;"],150),E=c()(g.g).withConfig({componentId:"s1ylg6yr-5"})(["width: ","px;"],150),_=c()(g.f).withConfig({componentId:"s1ylg6yr-6"})(["width: ","px;"],150),M=c.a.div.withConfig({componentId:"s1ylg6yr-7"})(["margin-bottom: 25px;"]),R=c()(P).withConfig({componentId:"s1ylg6yr-8"})(["margin-top: 12px;"]),L=c.a.img.withConfig({componentId:"s1ylg6yr-9"})(["height: 128px;margin: 0px auto;width: 240px;"]),N=c.a.img.withConfig({componentId:"s1ylg6yr-10"})(["background-color: #a8a8a8;border-radius: 100%;height: 100px;margin-left: auto;margin-right: auto;width: 100px;"]),A=c()(P).withConfig({componentId:"s1ylg6yr-11"})(["margin-right: ","px;"],24),D=c()(T).withConfig({componentId:"s1ylg6yr-12"})(["margin-right: ","px;"],24),F=c()(_).withConfig({componentId:"s1ylg6yr-13"})(["margin-right: ","px;"],24),H=c()(E).withConfig({componentId:"s1ylg6yr-14"})(["margin-right: ","px;"],24),B=c.a.h3.withConfig({componentId:"s1ylg6yr-15"})(["","color: ",";margin-top: 32px;margin-bottom: 20px;"],b.titleFontH3,function(e){return Object(v.c)(e).bodyText}),W=c.a.div.withConfig({componentId:"s1ylg6yr-16"})(["align-items: center;display: flex;justify-content: center;margin-left: auto;margin-right: auto;max-width: ","px;text-align: center;"],h.f);!function(e){e.GoldSubreddit="GoldSubreddit",e.Nsfw="Nsfw",e.PrivateSubreddit="PrivateSubreddit",e.QuarantinedSubreddit="QuarantinedSubreddit",e.SubredditBanned="SubredditBanned",e.SubredditDoesNotExist="SubredditDoesNotExist"}(j||(j={}));var $=Object(s.createStructuredSelector)({language:x.w,origin:y.b,user:x.f}),U=Object(r.connect)($,function(e,t){var n,o,r=t.subredditName;return{continueToQuarantinedSubreddit:(o=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(m.p(r));case 2:window.location.reload();case 3:case"end":return t.stop()}},t,void 0)})),function(){return o.apply(this,arguments)}),setCookieAndRedirect:(n=C(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(u.g());case 2:window.location.reload();case 3:case"end":return t.stop()}},t,void 0)})),function(){return n.apply(this,arguments)})}}),K=function(e){var t=e.banMessage,n=e.contentGateType,r=e.continueToQuarantinedSubreddit,i=e.language,s=e.location,d=e.origin,c=e.quarantineRequiresEmail,u=e.setCookieAndRedirect,m=e.subredditName,f=e.user;switch(n){case j.GoldSubreddit:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/gold.png"}),w(B,{},void 0,Object(l.a)(i,"contentGate.goldSubreddit.title",{subredditName:m})),w(k,{},void 0,Object(l.a)(i,"contentGate.goldSubreddit.description")),w(I,{},void 0,f?w(F,{href:o.a.redditUrl+"/gold"},void 0,Object(l.a)(i,"contentGate.goldSubreddit.getGold")):w(D,{href:Object(p.a)(s,d)},void 0,Object(l.a)(i,"contentGate.goldSubreddit.signUp")),f?w(P,{to:"/"},void 0,Object(l.a)(i,"contentGate.goldSubreddit.goHome")):w(_,{href:Object(p.a)(s,d)},void 0,Object(l.a)(i,"contentGate.goldSubreddit.login"))));case j.Nsfw:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/nsfw.png"}),w(B,{},void 0,Object(l.a)(i,"contentGate.over18.title")),w(k,{},void 0,Object(l.a)(i,"contentGate.over18.description")),w(I,{},void 0,w(A,{to:"/"},void 0,Object(l.a)(i,"common.no")),w(_,{onClick:u},void 0,Object(l.a)(i,"common.yes"))));case j.PrivateSubreddit:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/private.png"}),w(B,{},void 0,Object(l.a)(i,"contentGate.privateSubreddit.title",{subredditName:m})),w(k,{},void 0,Object(l.a)(i,"contentGate.privateSubreddit.description")),w(I,{},void 0,f?w(F,{href:o.a.redditUrl+"/message/compose?to=/r/"+m},void 0,Object(l.a)(i,"contentGate.privateSubreddit.messageMods")):w(F,{href:Object(p.a)(s,d)},void 0,Object(l.a)(i,"contentGate.goldSubreddit.signUp")),w(P,{to:"/"},void 0,f?Object(l.a)(i,"contentGate.privateSubreddit.goHome"):Object(l.a)(i,"contentGate.privateSubreddit.exploreReddit"))));case j.QuarantinedSubreddit:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/quarantined.png"}),w(B,{},void 0,Object(l.a)(i,"contentGate.quarantinedSubreddit.title",{subredditName:m})),w(k,{},void 0,Object(l.a)(i,"contentGate.quarantinedSubreddit.description")),w(I,{},void 0,function(e,t,n,r){return e&&e.hasVerifiedEmail||!r?w(I,{},void 0,w(A,{to:"/"},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.goHome")),w(_,{onClick:n},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.continue"))):w(I,{},void 0,w(H,{to:"/"},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.goHome")),w(T,{href:o.a.redditUrl+"/prefs/update"},void 0,Object(l.a)(t,"contentGate.quarantinedSubreddit.verifyEmail")))}(f,i,r,c)));case j.SubredditBanned:return w("div",{},void 0,w(L,{src:o.a.assetPath+"/img/content-gate-icons/banned.png"}),w(B,{},void 0,Object(l.a)(i,"contentGate.subredditBanned.title",{subredditName:m})),function(e,t){return e?w(M,{},void 0,w(a.a,{html:(n=e,n.replace(/\[(.+?)\]\((.+?)\)/g,"<a href='$2'>$1</a>"))})):w(k,{},void 0,Object(l.a)(t,"contentGate.subredditBanned.description"));var n}(t,i),w(I,{},void 0,w(P,{to:"/"},void 0,Object(l.a)(i,"contentGate.subredditBanned.exploreReddit"))));case j.SubredditDoesNotExist:return w("div",{},void 0,w(N,{}),w(B,{},void 0,Object(l.a)(i,"contentGate.subredditDoesNotExist.title",{subredditName:m})),w(I,{},void 0,w(R,{to:"/"},void 0,Object(l.a)(i,"contentGate.subredditDoesNotExist.goHome"))))}};t.b=U(Object(i.f)(function(e){return w(S,{},void 0,w("div",{},void 0,w(W,{},void 0,K(e))),w(f.a,{}))}))},"./src/reddit/components/MediumPost/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return K});n("./node_modules/react/index.js");var o,r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/lib/index.js"),s=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(s),c=n("./src/config.ts"),a=n("./src/app/actions/tooltip.ts"),l=n("./src/reddit/actions/post.ts"),p=n("./src/reddit/components/AdLinkWrapper/index.tsx"),u=n("./src/reddit/components/CallToActionButton/index.tsx"),m=n("./src/reddit/components/CompactPost/HorizontalVotes.tsx"),f=n("./src/reddit/components/Flatlist/index.tsx"),h=n("./src/reddit/components/LargePost/index.tsx"),g=n("./src/reddit/components/ModModeReports/index.tsx"),b=n("./src/reddit/components/ModModeReports/helpers.ts"),v=n("./src/reddit/components/PostBackgroundWrapper/index.tsx"),y=n("./src/reddit/components/PostContainer/index.tsx"),x=n("./src/reddit/components/PostTitle/index.tsx"),O=n("./src/reddit/components/PostTopLine/index.tsx"),w=n("./src/reddit/components/PostTopMeta/index.tsx"),C=n("./src/reddit/components/Thumbnail/index.tsx"),j=n("./src/reddit/constants/screenWidths.ts"),I=n("./src/reddit/contexts/InsideOverlay.tsx"),S=n("./src/reddit/contexts/PageLayer/index.tsx"),k=n("./src/reddit/controls/OutboundLink/styled.tsx"),P=n("./src/reddit/helpers/canRenderThumbnail.ts"),T=n("./src/reddit/helpers/hasModFlairPermissions/index.ts"),E=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),_=n("./src/reddit/helpers/styles/mixins/index.tsx"),M=n("./src/reddit/models/Vote/index.ts"),R=n("./src/reddit/selectors/moderatorPermissions.ts"),L=n("./src/reddit/selectors/posts.ts"),N=n("./src/reddit/selectors/user.ts"),A=n("./src/reddit/components/SourceLink/index.tsx"),D=n("./src/reddit/helpers/styles/mixins/responsive.ts"),F=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),H=d.a.article.withConfig({componentId:"s1wkwgow-0"})(["display: flex;flex-direction: row;padding-bottom: 8px;"]),B=d()(g.a).withConfig({componentId:"s1wkwgow-1"})(["margin-top: 10px;"]),W=d.a.div.withConfig({componentId:"s1wkwgow-2"})(["display: flex;flex: 1 1 100%;flex-direction: column;padding-bottom: ","px;position: relative;word-break: break-word;"],22),$=d()(x.c).withConfig({componentId:"s1wkwgow-3"})(["margin: 0 8px;"]),U=d.a.div.withConfig({componentId:"s1wkwgow-4"})(["","border-radius: 2px;padding: 0px 8px;"],Object(_.x)(108,144)),K=function(e){var t=e.post,n=e.forceShowNSFW,o=e.templatePlaceholderImage;return F(U,{},void 0,F(C.b,{post:t,forceShowNSFW:n,templatePlaceholderImage:o}))},G=d()(m.a).withConfig({componentId:"s1wkwgow-5"})(["max-height: 24px;",""],D.a),V=d.a.div.withConfig({componentId:"s1wkwgow-6"})(["align-items: center;display: flex;flex-direction: row;"]),z=d()(v.b).withConfig({componentId:"s1wkwgow-7"})(["padding-top: 8px;"]),q=Object(S.p)({isCommentsPage:S.s,isOriginalPage:S.w,pageLayer:function(e){return e}}),Q=Object(r.connect)(function(){return Object(i.createStructuredSelector)({crosspost:L.a,currentUser:N.f,flairStyleTemplate:S.H,hideNSFWPref:N.n,post:L.w,isActive:L.c,language:N.w,moderatorPermissions:R.e,modModeEnabled:S.F,showMedia:S.n,subredditOrProfile:L.E,userIsOp:N.I})},function(e,t){var n=t.postId;return{handleVote:function(t){return t===M.a.upvoted?e(Object(l.C)(n)):e(Object(l.j)(n))},onIgnoreReports:function(){return e(Object(l.A)(n))},onOpenReportsDropdown:function(t){return e(Object(a.e)({tooltipId:t}))}}});t.b=q(Q(d()(Object(I.b)(function(e){var t=e.className,n=e.crosspost,o=e.currentUser,r=e.eventFactory,i=e.flairStyleTemplate,s=e.hideNSFWPref,d=e.inSubredditOrProfile,a=void 0!==d&&d,l=e.isCommentsPage,m=e.isCheckboxSelected,g=e.isOverlay,v=e.isOriginalPage,C=e.language,j=e.moderatorPermissions,I=e.modModeEnabled,S=e.onClickPost,_=e.onIgnoreReports,M=e.onOpenReportsDropdown,R=e.post,L=e.subredditOrProfile,N=e.showBulkActionCheckbox,D=e.showMedia,U=e.toggleCheckbox,q=e.userIsOp,Q=Object(E.a)(j),J=Object(T.a)(j),X="subreddit"===R.belongsTo.type,Y=q&&!!X,Z=Object(b.c)(R),ee=Object(P.a)(R),te=a&&!D,ne=te&&!!R.source&&!n;return F(y.a,{className:t,post:R,onClick:S,eventFactory:r},void 0,Object(h.b)(R,e.handleVote,N,m,U,i),F(z,{flairStyleTemplate:i},void 0,F(H,{},void 0,F(W,{"data-click-id":"body"},void 0,F(O.a,{hideNSFWPref:s,inSubredditOrProfile:a,isOverlay:!!g,language:C,post:R,showCornerOutboundLink:ne,showOCCategories:v,showSubreddit:!a&&!R.isSponsored,subredditOrProfile:L}),F($,{post:R,size:x.b.Large,titleColor:i&&i.postTitleColor}),R.source&&!R.isSponsored&&!n&&F(A.a,{post:R,isCommentsPage:l})),!te&&ee&&F(K,{post:n||R,templatePlaceholderImage:i&&i.postPlaceholderImage})),R.source&&R.source.url&&R.isSponsored&&F(p.a,{},void 0,F(k.a,{href:R.source.url.replace(c.a.redditUrl,""),isSponsored:R.isSponsored,source:R.source},void 0,R.source.displayText),R.callToAction&&F(u.a,{href:R.source.url.replace(c.a.redditUrl,""),isSponsored:R.isSponsored,source:R.source,isNotCardView:!0},void 0,R.callToAction)),I&&Q&&Z&&F(B,{language:C,onIgnoreReports:_,reportable:R}),F(V,{},void 0,F(G,{compact:!1,flairStyleTemplate:i,model:R,onVoteClick:e.handleVote}),F(f.c,{currentUser:o,hasModFlairPerms:J,hasModPostPerms:Q,isOverlay:!!g,language:C,modModeEnabled:I,onIgnoreReports:_,onOpenReportsDropdown:M,post:R,showEditFlair:Y,tooltipType:g?w.c.Lightbox:void 0}))))})).withConfig({componentId:"s1wkwgow-8"})(["","","","","","",";@media (min-width: ","px) {padding-left: 40px;border-radius: 4px;}"],C.c,_.n,_.m,v.a,f.d,function(e){return Object(_.j)(e.flairStyleTemplate)},j.h)))},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx":function(e,t,n){"use strict";n.d(t,"g",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return v});var o=n("./bundled-modules/styled-components/styled-components.min.js"),r=n.n(o),i=n("./src/reddit/controls/Dropdown/Row.tsx"),s=n("./src/reddit/icons/fonts/Approve/index.tsx"),d=n("./src/reddit/icons/fonts/Remove/index.tsx"),c=n("./src/reddit/icons/fonts/Spam/index.tsx"),a=n("./src/reddit/icons/fonts/Tag/index.tsx"),l=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),p=Object(o.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),u=Object(o.css)(["color: ",";cursor: pointer;font-size: 12px;line-height: 16px;padding: 8px 16px 8px 8px;&:hover {background-color: ",";border-color: ",";}"],function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon}),m=r()(s.a).withConfig({componentId:"s19zlun7-0"})(["",""],p),f=r()(d.a).withConfig({componentId:"s19zlun7-1"})(["",""],p),h=r()(c.a).withConfig({componentId:"s19zlun7-2"})(["",""],p),g=r()(a.a).withConfig({componentId:"s19zlun7-3"})(["",""],p),b=r.a.div.withConfig({componentId:"s19zlun7-4"})(["border-radius: 4px;box-shadow: 0 2px 4px 0 ",";cursor: pointer;line-height: 0px; // this seems to better vertically align the icon\noverflow: hidden;width: 100%;"],function(e){return Object(l.c)(e).flair}),v=r()(i.c).withConfig({componentId:"s19zlun7-5"})(["",""],u)},"./src/reddit/contexts/TrackCommentsPageClick.ts":function(e,t,n){"use strict";var o=n("./bundled-modules/create-react-context/index.js"),r=n.n(o);t.a=r()(function(){return function(){}})},"./src/reddit/controls/ErrorText/index.tsx":function(e,t,n){"use strict";var o,r=n("./node_modules/lodash/uniqueId.js"),i=n.n(r),s=n("./node_modules/raf/index.js"),d=n.n(s),c=n("./node_modules/react/index.js"),a=n.n(c),l=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/reselect/lib/index.js"),u=n("./bundled-modules/styled-components/styled-components.min.js"),m=n.n(u),f=n("./src/app/strings/index.ts"),h=n("./src/reddit/actions/modal.ts"),g=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),b=n("./src/reddit/selectors/activeModalId.ts"),v=n("./src/higherOrderComponents/asModal.tsx"),y=n("./src/reddit/controls/Button/index.tsx"),x=n("./src/reddit/layout/row/Inline/index.tsx"),O=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),w=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),C=Object(f.d)("error.ok"),j=m.a.div.withConfig({componentId:"s18tv1r8-0"})(["box-sizing: border-box;border-radius: 4px;width: 350px;background-color: ",";border: 1px solid ",";border-radius: 4px;box-shadow: 0 0 0 1px ",",0px 2px 3px 2px ",";"],function(e){return Object(O.c)(e).body},function(e){return Object(O.c)(e).line},function(e){return Object(O.c)(e).line},function(e){return Object(O.c)(e).line}),I=m()(x.a).withConfig({componentId:"s18tv1r8-1"})(["","padding: 11px 16px;border-bottom: 1px solid ",";"],g.titleFontH4,function(e){return Object(O.c)(e).line}),S=m.a.div.withConfig({componentId:"s18tv1r8-2"})(["","padding: 16px;"],g.bodyFont),k=m()(x.a).withConfig({componentId:"s18tv1r8-3"})(["padding: 8px 5px;border-top: 1px solid ",";background: hsl(0, 0%, 98%);flex-direction: row-reverse;"],function(e){return Object(O.c)(e).line}),P=m()(y.b).withConfig({componentId:"s18tv1r8-4"})(["margin-left: 5px;"]),T=Object(v.a)(function(e){var t=e.children,n=e.language,o=e.title;return w(j,{},void 0,w(I,{},void 0,o),w(S,{},void 0,t),w(k,{},void 0,w(P,{onClick:e.onConfirmed},void 0,C(n))))});n.d(t,"b",function(){return B});var E=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var M=Object(f.d)("error.more"),R=Object(f.d)("error.error"),L=Object(f.d)("error.type.generic"),N=m.a.div.withConfig({componentId:"s2apn2n-0"})(["","color: #f00;padding-top: 4px;text-align: right;display: flex;"],g.metadataFont),A=m.a.span.withConfig({componentId:"s2apn2n-1"})(["white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"]),D=m.a.span.withConfig({componentId:"s2apn2n-2"})(["text-decoration: underline;cursor: pointer;padding-left: 4px;"]),F=Object(p.createStructuredSelector)({activeModalId:b.a}),H=Object(l.connect)(F,function(e){return{toggleErrorTextModal:function(t){return e(Object(h.e)(t))}}})(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcTextDidOverflow=function(e){d()(function(){e&&e.scrollWidth>e.clientWidth&&n.setState({textHasOverflowed:!0})})},n.setRef=function(e){n.calcTextDidOverflow(e)},n.state={errorModalBody:e.errorModalBody||e.children,errorModalTitle:e.errorModalTitle||R(e.language),moreText:e.moreText||M(e.language),textHasOverflowed:!1,modalId:"ErrorTextModal--"+i()()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.activeModalId,r=e.language,i=e.toggleErrorTextModal,s=this.state,d=s.errorModalBody,c=s.errorModalTitle,a=s.modalId,l=s.moreText,p=s.textHasOverflowed;return E(N,{className:n},void 0,E(A,{innerRef:this.setRef},void 0,t),p&&E(D,{onClick:function(){return i(a)}},void 0,l),o===a&&E(T,{language:r,onConfirmed:function(){return i(a)},title:c},void 0,d))}}]),t}()),B=(t.a=H,function(e,t){return(e.length>0?e:[L(t)]).map(function(e){return E(H,{language:t},void 0,e)})})},"./src/reddit/helpers/canRenderThumbnail.ts":function(e,t,n){"use strict";var o="nsfw",r="self";function i(e){return!(!e.thumbnail||!e.thumbnail.url||e.thumbnail.url===r||e.thumbnail.url===o)}n.d(t,"a",function(){return i})},"./src/reddit/pages/CommentsPage/index.tsx":function(e,t,n){"use strict";n.r(t);var o,r=n("./node_modules/lodash/fromPairs.js"),i=n.n(r),s=n("./node_modules/lodash/get.js"),d=n.n(s),c=n("./node_modules/lodash/throttle.js"),a=n.n(c),l=n("./node_modules/polished/dist/polished.es.js"),p=n("./node_modules/react/index.js"),u=n.n(p),m=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/reselect/lib/index.js"),h=n("./bundled-modules/styled-components/styled-components.min.js"),g=n.n(h),b=n("./src/app/models/Draft.ts"),v=n("./src/app/strings/index.ts"),y=n("./node_modules/react-router-dom/es/index.js"),x=n("./src/reddit/controls/OverlayLink/index.tsx"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n},C=function(e){var t=e.isOverlay,n=w(e,["isOverlay"]),o=t?x.a:y.a;return u.a.createElement(o,O({},n,{children:n.children,className:n.className,onClick:n.onClick,to:n.to}))},j=n("./src/reddit/helpers/path/index.ts"),I=n("./src/reddit/icons/svgs/ArrowRight/index.tsx"),S=n("./src/telemetry/index.ts"),k=n("./src/telemetry/models/Timer.ts"),P=n("./src/lib/constants/index.ts"),T=n("./src/lib/domUtils/index.ts"),E=n("./src/lib/extractQueryParams/index.ts"),_=n("./src/lib/fastdom/index.ts"),M=n("./src/lib/makeCommentsPageKey/index.ts"),R=n("./src/lib/makeDraftKey/index.ts"),L=n("./src/app/actions/tooltip.ts"),N=n("./src/reddit/actions/comment.ts"),A=n("./src/reddit/actions/login.ts"),D=n("./src/reddit/actions/video.ts"),F=n("./src/reddit/components/BannerAd/index.tsx"),H=n("./src/reddit/contexts/PageLayer/index.tsx"),B=n("./src/reddit/featureFlags/index.ts"),W=n("./src/reddit/models/WhitelistStatus/index.ts"),$=n("./src/reddit/selectors/subreddit.ts"),U=n("./src/reddit/selectors/user.ts"),K=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var i=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});if(1===s)t.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),G=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var V=Object(f.createStructuredSelector)({shouldHideAds:function(e,t){var n=Object($.k)(e,{subredditName:t.listingName});return!e.meta.isSessionSeo||B.c.rabbitHole(e)||Object(U.s)(e)||Object(H.A)(t.pageLayer)||Object(U.m)(e)||n&&n.wls!==W.a.ALL_ADS}}),z=Object(m.connect)(V),q=Object(H.p)(),Q=P.h[0],J=g()(F.a).withConfig({componentId:"s1k97mcp-0"})(["text-align: center;width: ",';margin: 30px auto 50px auto;&:before {content: "advertisement";color: rgb(135, 138, 140);display: block;font-size: 10px;letter-spacing: 0.5px;line-height: 12px;text-transform: uppercase;padding-bottom: 4px;font-weight: 500;text-align: left;}'],Q+"px"),X=g.a.div.withConfig({componentId:"s1k97mcp-1"})(["margin: 0 auto;"]),Y=q(z(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={enoughSpace:!1,hasBeenAssessed:!1},e.checkAvailableSpace=a()(function(){_.a.read(function(){if(e.container){var t=P.h[0],n=e.container.clientWidth;!e.state.enoughSpace&&e.state.hasBeenAssessed||_.a.write(function(){e.setState({enoughSpace:n>t,hasBeenAssessed:!0})})}})},P.E),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),G(t,[{key:"componentDidMount",value:function(){this.props.shouldHideAds||(this.checkAvailableSpace(),window.addEventListener("resize",this.checkAvailableSpace))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkAvailableSpace)}},{key:"render",value:function(){var e=this;if(this.props.shouldHideAds)return null;var t=this.props,n=t.isOverlay,o=t.refreshKey,r=t.listingName,i=t.isPostNSFW,s=t.placement;return K(X,{innerRef:function(t){e.container=t}},void 0,this.state.enoughSpace&&K(J,{id:function(e,t){var n="";return t&&(n+="overlay-"),n+="comment-"+e}(s,n),sizes:[P.h],placement:s,isPostNSFW:i,listingName:r,refreshKey:o}))}}]),t}())),Z=n("./src/reddit/components/ContentGate/index.tsx"),ee=n("./src/reddit/components/StructuredStyles/BladeDrawerController/index.tsx"),te=n("./src/reddit/constants/colors.ts"),ne=n("./src/reddit/constants/componentSizes.ts"),oe=n("./src/reddit/constants/elementIds.ts"),re=n("./src/reddit/constants/history.ts"),ie=n("./src/reddit/constants/parameters.ts"),se=n("./src/reddit/contexts/TrackCommentsPageClick.ts"),de=n("./src/reddit/icons/fonts/Archived/index.tsx"),ce=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),ae=n("./src/reddit/models/Comment/index.ts"),le=n("./src/reddit/models/Media/index.ts"),pe=n("./src/reddit/models/Post/index.ts"),ue=n("./src/reddit/models/Theme/index.ts"),me=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),fe=n("./src/reddit/selectors/comments.ts"),he=n("./src/reddit/selectors/meta.ts"),ge=n("./src/reddit/selectors/posts.ts"),be=n("./src/reddit/selectors/tooltip.ts"),ve=n("./src/reddit/components/AuthorHovercard/helpers.ts"),ye=n("./src/higherOrderComponents/makeAsync.tsx"),xe=n("./src/lib/loadWithRetries/index.ts"),Oe=n("./src/reddit/components/RichTextEditor/Placeholder.tsx"),we=n("./src/reddit/helpers/styles/components/index.tsx"),Ce=n("./src/reddit/helpers/styles/mixins/loading.ts"),je=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Ie=g()(Object(we.a)()).withConfig({componentId:"rae1fm-0"})(["margin: ",";"],function(e){return e.isTopLevelComment?"24px 40px":"16px 0"}),Se=g()(Object(we.a)()).withConfig({componentId:"rae1fm-1"})(["","height: 19px;margin-bottom: 4px;width: 150px;"],Ce.a),ke=Object(ye.a)({ErrorComponent:function(e){var t=e.isTopLevelComment;return je(Ie,{isTopLevelComment:t},void 0,je(Se,{gradientType:"comments",isLoading:!1}),je(Oe.a,{gradientType:"comments",isLoading:!1,toolbarPosition:"bottom"}))},getComponent:function(){return Object(xe.a)(function(){return Promise.all([n.e("vendors~FlairEdit~PostCreation~RichTextEditor~UiDashboard"),n.e("vendors~PostCreation~RichTextEditor~UiDashboard"),n.e("PostCreation~RichTextEditor~UiDashboard"),n.e("RichTextEditor~UiDashboard"),n.e("RichTextEditor")]).then(n.bind(null,"./src/reddit/components/CommentCreation/index.tsx")).then(function(e){return e.default})})},LoadingComponent:function(e){var t=e.isTopLevelComment;return je(Ie,{isTopLevelComment:t},void 0,je(Se,{gradientType:"comments",isLoading:!0}),je(Oe.a,{gradientType:"comments",isLoading:!0,toolbarPosition:"bottom"}))}}),Pe=function(e){return u.a.createElement(ke,e)},Te=n("./src/lib/isSimpleClick/index.ts"),Ee=n("./src/lib/loginHref/index.ts"),_e=n("./src/reddit/controls/Button/index.tsx"),Me=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),Re=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Le=g.a.div.withConfig({componentId:"s6wlmco-0"})(["margin: 16px 26px 0 26px;display: flex;align-items: center;justify-content: space-between;border-radius: 4px;border: 1px solid ",";padding: 12px 8px;"],function(e){return Object(me.c)(e).line}),Ne=g.a.span.withConfig({componentId:"s6wlmco-1"})(["","color: ",""],Me.titleFontH4,function(e){return Object(me.c)(e).metaText}),Ae=g()(_e.c).withConfig({componentId:"s6wlmco-2"})(["","",""],Me.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),De=g()(_e.f).withConfig({componentId:"s6wlmco-3"})(["","","margin-left: auto;margin-right: 8px;"],Me.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),Fe=function(e){e.className;var t=e.language,n=e.location,o=e.openLoginModal,r=e.openRegisterModal,i=e.origin;return Re(Le,{},void 0,Re(Ne,{},void 0,Object(v.a)(t,"session.comment")),Re(De,{href:Object(Ee.a)(n,i,"/login"),onClick:function(e){Object(Te.a)(e)&&(e.preventDefault(),e.stopPropagation(),o())},"data-redditstyle":!0},void 0,Object(v.a)(t,"session.login.submit")),Re(Ae,{href:Object(Ee.a)(n,i,"/register"),onClick:function(e){Object(Te.a)(e)&&(e.preventDefault(),e.stopPropagation(),r())},"data-redditstyle":!0},void 0,Object(v.a)(t,"session.register.submit")))},He=n("./node_modules/lodash/isEqual.js"),Be=n.n(He),We=n("./src/reddit/constants/comments.ts"),$e=n("./src/reddit/constants/elementClassNames.ts"),Ue=n("./src/reddit/constants/zIndex.ts"),Ke=n("./src/reddit/icons/fonts/helpers.tsx"),Ge=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Ve=g()(function(e){return Ge("i",{className:Object(Ke.b)("expand")+" "+e.className})}).withConfig({componentId:"qjrkk1-0"})(["display: inline-block;width: 12px;height: 12px;font-size: 12px;font-weight: 400;line-height: 12px;"]),ze=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),qe=g()(function(e){return u.a.createElement("button",e,ze(Ve,{}))}).withConfig({componentId:"gcap43-0"})(["background: none;border: none;cursor: pointer;height: 12px;line-height: 12px;outline: none;width: 12px;&."," {color: ",";}",""],$e.e,function(e){return Object(me.c)(e).line},function(e){return"color: "+Object(me.c)(e).linkText+";\n      transform: rotate(180deg);\n      &:hover {\n        color: "+Object(me.c)(e).linkText+";\n      }"}),Qe=n("./src/config.ts"),Je=n("./node_modules/lodash/defer.js"),Xe=n.n(Je),Ye=n("./src/lib/makeCommentPermalink/index.ts"),Ze=n("./src/reddit/actions/modal.ts"),et=n("./src/reddit/actions/reportFlow.ts"),tt=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),nt=n("./src/reddit/helpers/trackers/lightbox.ts"),ot=n("./src/reddit/selectors/activeModalId.ts"),rt=n("./src/reddit/selectors/moderatorPermissions.ts"),it=n("./src/reddit/components/CommentModModeDropdown/index.tsx"),st=n("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),dt=n("./src/reddit/components/ConfirmUserActionModal/index.tsx"),ct=n("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),at=n("./src/reddit/components/ModActionsMenu/index.tsx"),lt=n("./src/reddit/components/ModModeReports/helpers.ts"),pt=n("./src/reddit/components/OverflowMenu/index.tsx"),ut=n("./src/reddit/components/ReportFlow/index.tsx"),mt=n("./src/reddit/components/ShareMenu/index.tsx"),ft=n("./src/reddit/components/TrackingHelper/index.tsx"),ht=n("./src/reddit/components/ViewReportsDropdown/index.tsx"),gt=n("./src/reddit/contexts/InsideOverlay.tsx"),bt=n("./src/reddit/controls/CheckboxMenuItem/index.tsx"),vt=n("./src/reddit/controls/Dropdown/Row.tsx"),yt=n("./src/reddit/helpers/trackers/modTools.ts"),xt=n("./src/reddit/layout/row/Inline/index.tsx"),Ot=n("./src/reddit/icons/fonts/Comment/index.tsx"),wt=n("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),Ct=n("./src/reddit/icons/fonts/ModActions/index.tsx"),jt=n("./src/reddit/icons/fonts/Report/index.tsx"),It=n("./src/reddit/icons/svgs/Trash2/index.tsx"),St=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var Pt=g()(Ot.a).withConfig({componentId:"s1axw53s-0"})(["","color: #B7B9BA;display: inline-block;font-size: 14px;height: 12px;line-height: 13px;margin: 0px 6px 0px -1px;width: 12px;"],vt.d),Tt=g()(It.a).withConfig({componentId:"s1axw53s-1"})(["","height: 12px;width: 12px;"],vt.d),Et=g()(Ct.a).withConfig({componentId:"s1axw53s-2"})(["","display: inline-block;height: 12px;width: 12px;"],vt.d),_t=Object(h.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),Mt=g()(jt.a).withConfig({componentId:"s1axw53s-3"})(["",""],_t),Rt=g()(wt.a).withConfig({componentId:"s1axw53s-4"})(["",""],_t),Lt=g()(at.a).withConfig({componentId:"s1axw53s-5"})(["cursor: pointer;height: 24px;margin-right: 8px;margin-top: -4px;"]),Nt=g()(Object(we.a)()).withConfig({componentId:"s1axw53s-6"})(["margin-right: ",";"],function(e){return e.modModeEnabled?"0px":"12px"}),At=g()(pt.a).withConfig({componentId:"s1axw53s-7"})(["font-weight: 500;","color: ",";"," {width: 16px;text-align: center;}"],Me.titleFontH5,function(e){return Object(me.c)(e).actionIcon},vt.a),Dt=g()(xt.a).withConfig({componentId:"s1axw53s-8"})(["","color: ",";margin: 4px 0 8px;"],Me.actionFont,function(e){return Object(me.c)(e).actionIcon}),Ft=Object(h.css)(["display: inline-block;margin-right: 12px;transition: color 0.1s;&::first-letter {text-transform: uppercase;}&:disabled {cursor: default;}&:hover {text-decoration: underline;}"]),Ht=Object(h.css)(["&.not(:disabled):hover {color: ",";}"],function(e){return Object(me.c)(e).bodyText}),Bt=g()(g.a.button.withConfig({componentId:"s1axw53s-10"})(["",""],Ft)).withConfig({componentId:"s1axw53s-9"})(["",""],Ht),Wt=g()(st.c).withConfig({componentId:"s1axw53s-11"})(["margin-left: 12px;&:before {content: '';position: absolute;border-left: 1px solid ",";height: 20px;margin: 6px 0px;}"],function(e){return Object(me.c)(e).line}),$t=g()(ht.a).withConfig({componentId:"s1axw53s-12"})(["display: inline-block;"]),Ut=Object(H.p)(),Kt=function(e){return"Comment-"+e+"--Modal--DeleteComment"},Gt=function(e){return"Distinguish--Dropdown--"+e},Vt=function(e){return e+"-overflow-menu"},zt=function(e){return"View--Reports--"+e},qt=Object(f.createStructuredSelector)({activeTooltipId:be.a,currentUser:U.f,isConfirmModalOpen:function(e,t){var n=t.comment;return Object(ot.a)(e)===Kt(n.id)},isPendingDeletion:fe.y,isLoggedIn:U.s,moderatorPermissions:function(e,t){var n=t.comment;return Object(H.g)(e,t)||Object(rt.f)(e,{subredditId:n.subredditId})},modModeEnabled:H.F,postIsArchived:function(e,t){var n=t.comment;return Object(ge.t)(e,{postId:n.postId})},postIsLocked:function(e,t){var n=t.comment;return Object(ge.u)(e,{postId:n.postId})},postPermalink:function(e,t){var n=t.comment;return Object(ge.v)(e,{postId:n.postId})},reportFlowIsOpen:function(e,t){var n=t.comment;return e.reportFlow.postOrCommentId===n.id},sendRepliesToggled:function(e,t){var n=t.comment;return Object(fe.D)(e,{commentId:n.id})},subredditOrProfile:function(e,t){var n=t.comment;return Object(ge.E)(e,{postId:n.postId})}}),Qt=Object(m.connect)(qt,function(e,t){var n=t.comment,o=t.commentsPageKey,r=t.language;return{deleteComment:function(){return o&&e(Object(N.Y)(r,n.id,o))},handleDelete:function(){e(Object(Ze.e)(Kt(n.id))),e(Object(L.e)({tooltipId:Vt(n.id)}))},handleEdit:function(){var t=n.media&&n.media.rteMode;o&&e(Object(N.S)({commentId:n.id,draftKey:Object(R.a)(b.a.edit,n.id),text:n.bodyMD,commentMode:t,commentsPageKey:o}))},handleReply:function(){return o&&e(Object(N.Ja)({parentCommentId:n.id,commentsPageKey:o}))},onDistinguishComment:function(t,o){return e(Object(N.P)(n.id,t,o))},onIgnoreReports:function(){return e(Object(N.Ka)(n.id))},onReportClick:function(){return e(Object(et.g)(n.id))},onToggleSave:function(){return e(Object(N.Ba)(n.id))},onToggleDistinguishDropdown:function(){return e(Object(L.e)({tooltipId:Gt(n.id)}))},onToggleReportsDropdown:function(){return e(Object(L.e)({tooltipId:zt(n.id)}))},toggleDeleteCommentModal:function(){return e(Object(Ze.e)(Kt(n.id)))},toggleSendReplies:function(){return e(Object(N.Ca)(n.id))}}}),Jt=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.sendCommentEventWithName=function(t){return e.props.sendEvent(Object(nt.b)(e.props.comment.postId,"comment_"+t))},e.sendCommentModEventWithName=function(t){return e.props.sendEvent(Object(yt.a)(t,e.props.comment.id))},e.sendCommentReportEvent=function(t){return e.props.sendEvent(Object(yt.e)(t,e.props.comment.id))},e.handleSave=function(){e.props.comment.isSaved?e.sendCommentModEventWithName("unsave"):e.sendCommentModEventWithName("save"),e.props.onToggleSave()},e.handleEdit=function(){e.props.sendEvent(Object(yt.d)("edit",e.props.comment.id)),e.props.handleEdit()},e.handleDelete=function(){e.props.sendEvent(Object(yt.d)("delete",e.props.comment.id)),e.props.toggleDeleteCommentModal()},e.handleReportClick=function(){e.props.sendEvent(Object(yt.a)("report",e.props.comment.id)),e.props.onReportClick()},e.handleDistinguishToggle=function(){e.props.sendEvent(Object(yt.a)("mod_distinguish_menu",e.props.comment.id)),e.props.onToggleDistinguishDropdown()},e.sendCommentDistinguishEvent=function(t){return e.props.sendEvent(Object(yt.b)(t,e.props.comment.id))},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),kt(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.comment,o=t.className,r=t.currentUser,i=t.deleteComment,s=t.handleReply,d=t.isOverlay,c=t.isLoggedIn,a=t.isPendingDeletion,l=t.language,p=t.onDistinguishComment,u=t.onIgnoreReports,m=t.onToggleReportsDropdown,f=t.moderatorPermissions,h=t.modModeEnabled,g=t.postIsArchived,b=t.postIsLocked,y=t.postPermalink,x=t.sendEvent,O=t.toggleDeleteCommentModal,w=t.toggleSendReplies,C=t.trackClick,j=Object(tt.a)(f),I=!!r&&r.displayText===n.author,S=!!r&&r.isEmployee,k=b||g?j&&c:c,P=Object(lt.a)(n);return St("div",{className:o},void 0,St(Dt,{},void 0,k&&St(Bt,{onClick:function(){s(),Xe()(function(){return C("reply")()})},disabled:a},void 0,St(Pt,{}),Object(v.a)(l,"comment.reply")),St(mt.a,{dropdownId:n.id+"-comment-share-menu",isOverlay:!!d,permalink:Object(Ye.a)(y,n.id),sendEventWithName:this.sendCommentEventWithName},void 0,St(Bt,{onClick:function(){return e.sendCommentEventWithName("share")}},void 0,Object(v.a)(l,"posts.share"))),!I&&c&&St(Bt,{onClick:this.handleReportClick,disabled:a},void 0,Object(v.a)(l,"comment.report")),St(Bt,{onClick:this.handleSave},void 0,n.isSaved?Object(v.a)(l,"comment.unsaveComment"):Object(v.a)(l,"comment.saveComment")),r&&!I&&St(Bt,{onClick:function(){return t=e.props.comment,n=e.props.sendEvent,o="\n    "+Qe.a.redditUrl+"/gold/payment?goldtype=gift&months=1&thing="+t.id+"&web2x=true\n  ",window.open(o,"_blank"),void n(Object(yt.a)("gild",t.id));var t,n,o}},void 0,Object(v.a)(l,"comment.gold")),I&&St(Bt,{onClick:this.handleEdit},void 0,Object(v.a)(l,"comment.edit")),I&&St(Nt,{modModeEnabled:h},void 0,St(pt.b,{dropdownId:Vt(n.id),onClick:function(){return x(Object(yt.a)("comment_overflow_menu",n.id))}},void 0,St(At,{displayText:Object(v.a)(l,"comment.deleteComment"),onClick:this.handleDelete},void 0,St(Tt,{})),St(bt.a,{text:Object(v.a)(l,"posts.toggleSendReplies"),onClick:w,isSelected:this.props.sendRepliesToggled}))),this.props.isConfirmModalOpen&&St(dt.a,{actionText:Object(v.a)(l,"comment.delete"),cancelActionText:Object(v.a)(l,"comment.keep"),headerText:Object(v.a)(l,"comment.deleteComment"),modalText:Object(v.a)(l,"comment.deleteConfirmation"),onConfirm:i,toggleModal:O,trackClick:function(){},withOverlay:!0}),j&&(h?St(Wt,{comment:n,isCommentAuthor:I,language:l}):St(Lt,{dropdownId:n.id+"-mod-actions-menu",inCommentFlatlist:!0,onClick:function(){return x(Object(yt.a)("comment_mod_action_menu",n.id))}},void 0,St(Et,{}),St(it.a,{comment:n,isOverlay:!!d,language:l,tooltipId:n.id+"-mod-actions-menu"}))),Object(lt.c)(n)&&!h&&St(st.b,{text:""+P,onClick:function(){m(),e.sendCommentModEventWithName("comment_report_menu")},selected:this.props.activeTooltipId===zt(n.id),id:zt(n.id)},void 0,St($t,{isOverlay:!!d,language:l,model:n,onIgnoreReports:function(){u(),e.sendCommentReportEvent(n.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:zt(n.id)}),n.ignoreReports?St(Rt,{}):St(Mt,{})),j&&!h&&I&&!S&&!n.bannedBy&&St(st.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===Gt(n.id)},void 0,St(st.a,{}),St(ct.a,{isAdminDistinguished:n.isAdmin,isDropdownOpen:this.props.activeTooltipId===Gt(n.id),isModDistinguished:n.isMod,isOverlay:!!d,isStickied:n.isStickied,isTopLevelComment:!n.parentId,isUserEmployee:S,isUserMod:j,language:l,onDistinguishComment:p,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:Gt(n.id)})),I&&S&&!n.bannedBy&&St(st.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===Gt(n.id)},void 0,St(st.a,{}),St(ct.a,{isAdminDistinguished:n.isAdmin,isDropdownOpen:this.props.activeTooltipId===Gt(n.id),isModDistinguished:n.isMod,isOverlay:!!d,isStickied:n.isStickied,isTopLevelComment:!n.parentId,isUserEmployee:S,isUserMod:j,language:l,onDistinguishComment:p,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:Gt(n.id)}))),this.props.reportFlowIsOpen&&St(ut.a,{withOverlay:!0,commentId:this.props.comment.id,postId:this.props.comment.postId}))}}]),t}(),Xt=Ut(Qt(Object(ft.b)(Object(gt.b)(Jt)))),Yt=n("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),Zt=n("./src/reddit/components/ModModeReports/index.tsx"),en=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),tn=n("./src/reddit/components/RichTextJson/index.tsx"),nn=n("./src/reddit/components/VerticalVotes/index.tsx"),on=n("./src/reddit/components/VerticalVotes/index.m.less"),rn=n.n(on),sn=n("./src/reddit/components/VerticalVotes/votes.tsx"),dn=n("./src/reddit/components/VerticalVotes/votes.m.less"),cn=n.n(dn),an=n("./src/reddit/constants/componentTestIds.ts"),ln=n("./src/reddit/controls/ErrorText/index.tsx"),pn=n("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),un=n("./src/reddit/models/Subreddit/index.ts"),mn=n("./src/reddit/models/Vote/index.ts"),fn=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),bn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,d=e[Symbol.iterator]();!(o=(s=d.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vn=g()(qe).withConfig({componentId:"s16de0yo-0"})(["left: 15px;position: absolute;top: 17px;"]),yn=g()(ln.a).withConfig({componentId:"s16de0yo-1"})(["text-align: left;"]),xn=g()(nn.a).withConfig({componentId:"s16de0yo-2"})(["min-width: 24px;max-height: 40px;margin: 6px -1px -2px 9px;text-align: center;z-index: ",";","."," {height: 20px;}.",",.",",",","," {padding: 2px;}"],Ue.d,nn.b,rn.a.voteButton,cn.a.customDownvote,cn.a.customUpvote,sn.c,sn.d),On=g()(Yt.a).withConfig({componentId:"s16de0yo-3"})(["margin-left: ",";min-height: 18px;"],function(e){return e.collapsed?"32px":"0px"}),wn=g()(Object(we.a)()).withConfig({componentId:"s16de0yo-4"})(["border: 1px solid transparent;border-radius: 4px;box-sizing: border-box;opacity: ",";margin-left: 4px;padding-left: 4px;padding-top: 4px;max-width: ","px;width: 100%;","","","",""],function(e){return e.isPendingDeletion?"0.5":"1.0"},ne.e,function(e){return e.isRemoved?"border: 2px solid "+te.a.removed+";\n      background-color: "+Object(l.e)(te.a.removed,.05)+";\n      padding-left: 4px;\n      padding-top: 4px;\n      margin-top: -4px;":""},function(e){return e.isActive?"border: 1px solid "+Object(me.c)(e).postIcon+";":""},function(e){return e.isCollapsed?"margin-left: 8px;\n      padding-left: 0;":""},function(e){return e.highlightComment?"background-color: "+Object(l.j)(.9,Object(me.c)(e).active):""}),Cn=g()(Object(we.a)()).withConfig({componentId:"s16de0yo-5"})(["border-radius: 4px;display: flex;margin-left: -23px;padding: 8px 4px 0 0;position: relative;transition: color 0.5s, fill 0.5s, background 1s;",":hover + "," {"," {opacity: 1;}}","&.top-level {margin-top: 16px;}"],vn,wn,On,function(e){return e.focused?"background: "+Object(l.j)(.95,Object(me.c)(e).button)+";":"background: transparent;"}),jn=g()(tn.a).withConfig({componentId:"s16de0yo-6"})(["padding: 2px 0;width: 100%;"]),In=g.a.div.withConfig({componentId:"s16de0yo-7"})(["padding: 2px 0;width: 100%"]),Sn=g()(Pe).withConfig({componentId:"s16de0yo-8"})(["position: relative;&:before {border-left: 1px dashed ",';bottom: 0;content: " ";left: -8px;position: absolute;top: 1px;}'],function(e){return Object(me.c)(e).line}),kn=g()(Sn).withConfig({componentId:"s16de0yo-9"})(["margin-left: 0;&:before {content: none;}"]),Pn=Object(H.p)()(Object(m.connect)(function(){return Object(f.createStructuredSelector)({comment:function(e,t){return Object(fe.m)(e,t)},depth:function(e,t){return Object(fe.i)(e,t)},collapsed:fe.g,flair:fe.e,focused:fe.s,isEditing:fe.x,isPendingDeletion:fe.y,language:U.w,moderatorPermissions:function(e,t){var n=Object(fe.m)(e,t);return n?Object(rt.f)(e,{subredditId:n.subredditId}):null},modModeEnabled:H.F,errorMsgs:fe.B,replyFormOpen:fe.E,subredditType:fe.G,highlightComment:function(e,t){var n=t.commentId,o=Object(fe.p)(e);if(o===fn.a.None)return!1;var r=Object(fe.m)(e,{commentId:n});if(!r)return!1;var i=Object(U.j)(e),s=!!Object(rt.e)(e,{postId:r.postId}),d=Object(ge.w)(e,{postId:r.postId});if(!d||!d.previousVisits||d.previousVisits.length<2)return!1;var c=o===fn.a.Last?d.previousVisits[d.previousVisits.length-1]:d.previousVisits[0];return(s||i)&&r.created>c}})},function(e,t){var n=t.commentId,o=t.commentsPageKey,r=t.scrollToAndRemeasure,i=t.trackClick;return{onCollapseClick:function(){return e(Object(N.Ia)({commentId:n,commentsPageKey:o,scrollToAndRemeasure:r}))},onIgnoreReports:function(){return e(Object(N.Ka)(n))},onVoteClick:function(t){var o=t===mn.a.upvoted?[Object(N.La)(n),"upvote_comment"]:[Object(N.Q)(n),"downvote_comment"],r=bn(o,2),s=r[0],d=r[1];i(d)(),e(s)}}})(function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.comment,r=e.commentsPageKey,i=e.collapsed,s=e.depth,d=e.errorMsgs,c=e.flair,a=e.focused,l=e.highlightComment,p=e.isActive,u=e.isEditing,m=e.isPendingDeletion,f=e.language,h=e.moderatorPermissions,g=e.modModeEnabled,y=e.onCollapseClick,x=e.onIgnoreReports,O=e.onLineMouseOver,w=e.onVoteClick,C=e.replyFormOpen,j=e.trackClick,I=e.renderedInOverlay,S=e.subredditType,k=!u&&!o.isDeleted&&!!d&&d.length>0,P=Object(R.a)(b.a.edit,o.id),T=Object(R.a)(b.a.replyToComment,o.id),E=Object(tt.a)(h),_=o.authorIsContractor&&S===un.a.EmployeesOnly;return gn(Cn,{className:"Comment "+o.id+" "+(s?"":"top-level"),focused:a},void 0,i&&gn(vn,{className:o.id,onClick:function(){n(),y(),j("collapse")()},onMouseOver:function(){return O(o.id)},onMouseOut:n}),!i&&!o.isDeleted&&gn(xn,{compact:!0,model:o,onVoteClick:w}),gn(wn,{highlightComment:l,isActive:p,isCollapsed:i,isPendingDeletion:m,isRemoved:!!o.bannedBy},void 0,gn(pn.a,{},void 0,Object(v.a)(f,"comment.level",{level:s+1})),gn(On,{childrenInfo:t,collapsed:i,comment:o,commentsPageKey:r,flair:c,language:f,renderedInOverlay:I,renderContractorBadge:_}),!i&&gn("div",{},void 0,u&&gn(kn,{autofocus:!0,commentsPageKey:r,depth:s,draftType:b.a.edit,draftKey:P,rtJson:o.media&&o.media.richtextContent,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(N.Z)({language:f,id:o.id,commentsPageKey:r,depth:s,draftKey:P,formData:e})},submitButtonText:Object(v.a)(f,"comment.saveEdits")}),!u&&!o.isDeleted&&(o.media&&o.media.richtextContent?gn(jn,{content:o.media.richtextContent,language:f,renderingObjectInfo:o,renderFallback:function(){return gn(In,{"data-test-id":an.d},void 0,gn(en.a,{html:o.body}))}}):gn(In,{"data-test-id":an.d},void 0,gn(en.a,{html:o.body}))),g&&E&&Object(lt.c)(o)&&gn(Zt.a,{language:f,onIgnoreReports:x,reportable:o}),!u&&!o.isDeleted&&gn(Xt,{comment:o,commentsPageKey:r,language:f,trackClick:j}),k&&d.map(function(e){return gn(yn,{language:f},void 0,e)}),C&&gn(Sn,{autofocus:!0,commentsPageKey:r,depth:s,draftType:b.a.replyToComment,draftKey:T,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(N.Ea)({commentsPageKey:r,draftKey:T,language:f,parentCommentDepth:s,parentCommentId:o.id,formData:e,editorMode:t})},submitButtonText:Object(v.a)(f,"comment.reply")}))))})),Tn=function(e){return gn(se.a.Consumer,{},void 0,function(t){return u.a.createElement(Pn,hn({},e,{trackClick:t}))})},En=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),_n=g.a.div.withConfig({componentId:"wndnar-0"})(["align-items: center;border: 1px solid transparent;border-radius: 4px;color: ",";display: flex;fill: ",";margin-left: 8px;padding: 4px;",""],function(e){return Object(me.c)(e).linkText},function(e){return Object(me.c)(e).linkText},function(e){return e.isActive?"border: 1px solid "+Object(me.c)(e).postIcon+";":""}),Mn=g()(I.a).withConfig({componentId:"wndnar-1"})(["height: 10px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 10px;"]),Rn=g()(C).withConfig({componentId:"wndnar-2"})(["","align-items: center;display: flex;"],Me.actionFont),Ln=g.a.span.withConfig({componentId:"wndnar-3"})(["&:hover {text-decoration: underline;}"]),Nn=Object(f.createStructuredSelector)({language:U.w,permalink:function(e,t){return Object(fe.l)(e,{commentId:Object(fe.r)(e,t).parentId})}}),An=Object(m.connect)(Nn)(Object(gt.b)(function(e){var t=e.isActive,n=e.isOverlay,o=e.language,r=e.permalink;return En(_n,{isActive:t},void 0,En(Rn,{isOverlay:!!n,to:Object(j.b)(r)},void 0,En(Ln,{},void 0,Object(v.a)(o,"comment.continueThread")),"",En(Mn,{})))})),Dn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Fn=g.a.div.withConfig({componentId:"s1m7ii1-0"})(["padding: 8px 0px 0px;"]),Hn=g.a.p.withConfig({componentId:"s1m7ii1-1"})(["","border: 1px solid transparent;border-radius: 4px;color: ",";cursor: pointer;height: 24px;margin-left: 4px;padding-left: 4px;"],Me.actionFont,function(e){return Object(me.c)(e).linkText}),Bn=g()(Hn).withConfig({componentId:"s1m7ii1-2"})(["&:hover {text-decoration: underline;}",""],function(e){return e.isActive?"border: 1px solid "+Object(me.c)(e).postIcon+";":""}),Wn=Object(f.createStructuredSelector)({moreCommentsItem:fe.z,moreCommentsPending:fe.A,language:U.w}),$n=Object(m.connect)(Wn,function(e,t){return{moreCommentsClicked:function(){return e(Object(N.U)(t.commentsPageKey,t.moreCommentsId))}}})(function(e){var t=e.language,n=e.isActive,o=e.moreCommentsClicked,r=e.moreCommentsItem,i=e.moreCommentsPending;return Dn(Fn,{},void 0,i?Dn(Hn,{},void 0,Object(v.a)(t,"comment.loading")):Dn(se.a.Consumer,{},void 0,function(e){return Dn(Bn,{isActive:n,onClick:function(){o(),e("load_more_comment")()}},void 0,Object(v.b)(t,"comment.moreReply",r.numComments,{numComments:r.numComments}))}))}),Un=n("./node_modules/lodash/times.js"),Kn=n.n(Un),Gn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Vn=g()(function(e){return u.a.createElement("div",e,Gn("i",{className:"threadline"}))}).withConfig({componentId:"fxv3b9-0"})(["box-sizing: border-box;cursor: pointer;display: inline-block;height: 100%;margin-left: ","px;vertical-align: top;width: ","px;& > ."," {display: block;height: 100%;width: 50%;border-right: 2px solid ",";}&."," > ."," {border-right: 2px solid ",";}"],ne.C,ne.D,$e.g,function(e){return Object(me.c)(e).line},$e.e,$e.g,function(e){return Object(me.c)(e).button}),zn=g.a.div.withConfig({componentId:"fxv3b9-1"})(["bottom: 0;left: 0;position: absolute;top: 0;z-index: ",";"],Ue.f),qn=g.a.div.withConfig({componentId:"fxv3b9-2"})(["box-sizing: border-box;display: inline-block;height: 100%;vertical-align: top;"," {bottom: 0;height: calc(100% - 56px);position: absolute;}"],Vn),Qn=function(e){var t=e.collapsed,n=e.depth,o=e.onLineClick,r=e.onLineMouseOver,i=e.onLineMouseOut,s=e.onShortLineClick,d=e.parentNodeIds,c=e.type;return Gn(zn,{},void 0,Kn()(n+1,function(e){return e===n?c!==We.b.Comment||t?null:Gn(qn,{},d[e],Gn(Vn,{className:d[e],onClick:s,onMouseOver:function(){return r(d[e])},onMouseOut:function(){return i(d[e])}})):Gn(Vn,{className:d[e],onClick:o(e),onMouseOver:function(){return r(d[e])},onMouseOut:function(){return i(d[e])}},d[e])}))},Jn=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Xn=g()(Object(we.b)()).withConfig({componentId:"s136il31-0"})(["box-sizing: border-box;overflow: visible;padding-left: ","px;position: relative;transition: background 1s;width: 100%;","&:focus{outline: none;}"],function(e){return e.depth*(ne.D+ne.C)+(e.type===We.b.Comment?ne.D:0)},function(e){return e.isHidden?"display: none;":""}),Yn=function(e){var t=document.querySelectorAll("."+e);if(t&&t.length)for(var n=0;n<t.length;n++)t[n].classList.add($e.e)},Zn=function(){var e=document.querySelectorAll("."+$e.e);if(e&&e.length)for(var t=0;t<e.length;t++)e[t].classList.remove($e.e)},eo=Object(m.connect)(function(){return Object(f.createStructuredSelector)({collapsed:function(e,t){var n=t.commentLink,o=t.commentsPageKey;return!(!e.comments.collapsed[o]||!e.comments.collapsed[o][n.id])},commentListNode:function(e,t){return Object(fe.k)(e,t)},depth:function(e,t){return Object(fe.i)(e,t)},isActive:function(e,t){var n=t.commentLink;return!!e.shortcuts.activeCommentId&&n.id===e.shortcuts.activeCommentId}})},function(e,t){var n=t.commentLink,o=t.commentsPageKey,r=t.scrollToAndRemeasure;return{onLineClick:function(t){return function(){e(Object(N.J)({commentLink:n,commentsPageKey:o,lineDepth:t,scrollToAndRemeasure:r}))}},onShortLineClick:function(){return e(Object(N.Ia)({commentId:n.id,commentsPageKey:o,scrollToAndRemeasure:r}))}}})(function(e){var t=e.childrenInfo,n=e.className,o=e.collapsed,r=e.commentLink,i=e.commentsPageKey,s=e.depth,d=e.isActive,c=e.isHidden,a=e.onLineClick,l=e.onShortLineClick,p=e.scrollToAndRemeasure,u=e.renderedInOverlay,m=e.parentNodeIds;return Jn(Xn,{className:n,depth:s,isHidden:c,id:r.id,isActive:d,type:r.type},void 0,Jn(Qn,{collapsed:o,depth:s,onLineClick:a,onLineMouseOver:Yn,onLineMouseOut:Zn,onShortLineClick:l,type:r.type,parentNodeIds:m}),to({childrenInfo:t,clearHovered:Zn,commentLink:r,commentsPageKey:i,onLineMouseOver:Yn,isActive:d,renderedInOverlay:u,scrollToAndRemeasure:p}))}),to=function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.commentLink,r=e.commentsPageKey,i=e.isActive,s=e.onLineMouseOver,d=e.renderedInOverlay,c=e.scrollToAndRemeasure;switch(o.type){case We.b.Comment:return Jn(Tn,{childrenInfo:t,clearHovered:n,commentId:o.id,commentsPageKey:r,isActive:i,onLineMouseOver:s,renderedInOverlay:d,scrollToAndRemeasure:c});case We.b.MoreComments:return Jn($n,{commentsPageKey:r,isActive:i,moreCommentsId:o.id});case We.b.ContinueThread:return Jn(An,{id:o.id,isActive:i})}},no=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),oo=n("./src/reddit/components/Comments/States/index.tsx"),ro=n("./src/reddit/components/Scroller/Simple.tsx"),io=n("./src/reddit/constants/screenWidths.ts"),so=n("./src/reddit/helpers/commentList/index.ts"),co=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),ao=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var lo=ne.h+10,po=g()(ro.b).withConfig({componentId:"s1aokeoj-0"})(["padding: 0 15px;@media(min-width: ","px) {padding: 0;}"],io.h),uo=Object(f.createStructuredSelector)({allCollapsed:fe.a,commentLinks:fe.j,commentThreadLinkSet:fe.o,language:U.w,measureScrollFPS:B.c.measureScrollFPS,moreComments:fe.b}),mo=Object(m.connect)(uo)(function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getParentNodeIds=function(e){var t=n.props,o=t.commentLinks,r=t.commentThreadLinkSet;if(n.parentNodeIdsMap[e.id])return n.parentNodeIdsMap[e.id];var i=r[e.id].depth;if(0===i)return n.parentNodeIdsMap[e.id]=[e.id],n.parentNodeIdsMap[e.id];var s=o[o.findIndex(function(t){return t.id===e.id})-1],d=n.parentNodeIdsMap[s.id].slice();return n.parentNodeIdsMap[e.id]=d.filter(function(e){return r[e].depth<i}),n.parentNodeIdsMap[e.id].push(e.id),n.parentNodeIdsMap[e.id]},n.getChildrenInfo=function(e){return n.childrenInfoMap[e]||void 0},n.parentNodeIdsMap={},no.c(),n.childrenInfoMap={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),ao(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentLinks,n=e.allCollapsed,o=e.commentThreadLinkSet,r=e.moreComments;this.timerId&&S.c.cancel(this.timerId),t.length&&(this.timerId=S.c.start()),this.findHiddenNodes(t,n,o,r)}},{key:"componentDidMount",value:function(){this.timerId&&Object(S.b)(P.n.Redesign,{type:"mount",component:"commentsList",duration:S.c.end(this.timerId)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.allCollapsed,n=e.commentsPageKey,o=e.commentLinks,r=e.commentThreadLinkSet,i=e.moreComments;(n!==this.props.commentsPageKey||o.length>this.props.commentLinks.length||!Be()(t,this.props.allCollapsed))&&this.findHiddenNodes(o,t,r,i)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.commentsPageKey,o=t.commentLinks,r=t.allCollapsed;return e.commentsPageKey!==n||e.commentLinks.length>o.length||!Be()(e.allCollapsed,r)||e.commentLinks.some(function(e,t){return e.id!==o[t].id})}},{key:"componentWillUpdate",value:function(e){this.timerId&&S.c.cancel(this.timerId),e.commentLinks.length&&(this.timerId=S.c.start())}},{key:"componentDidUpdate",value:function(e){this.timerId&&Object(S.b)(P.n.Redesign,{type:"mount",component:"commentsList",duration:S.c.end(this.timerId)})}},{key:"componentWillUnmount",value:function(){this.timerId&&S.c.cancel(this.timerId)}},{key:"findHiddenNodes",value:function(e,t,n,o){if(t&&Object.keys(t).length){var r=null,i=1/0,s=0,d=!1;no.c();for(var c=0;c<e.length;c++){var a=e[c];r&&(n[a.id].depth>i?(no.a(a.id),s+=Object(so.d)(a,o),a.type===We.b.ContinueThread&&(d=!0)):(this.childrenInfoMap[r]={numChildren:s,hasContinueThread:d},r=null,i=1/0,s=0,d=!1)),!r&&t[a.id]&&(r=a.id,i=n[a.id].depth)}}}},{key:"render",value:function(){return this.props.commentLinks.length?this.renderList():this.renderEmptyState()}},{key:"renderList",value:function(){var e=this,t=void 0;this.props.measureScrollFPS&&(t="comments-"+(this.props.renderedInOverlay?"lightbox":"page"));return co(po,{className:this.props.className,disableScrollCache:this.props.renderedInOverlay,getContainer:function(){return e.props.renderedInOverlay?document.getElementById(oe.c):null},preventScrollOnMount:!0,scrollToChildPadding:lo,trackingName:t},this.props.commentsPageKey,this.props.commentLinks.map(function(t,n){return{estHeight:no.b(t.id)?0:65,id:t.id,render:function(n){var o=n.placeholderRecommended,r=n.height,i=(n.width,n.scrollToAndRemeasure);return o?co("div",{style:{height:r,backgroundColor:"#fff"}}):co(eo,{childrenInfo:e.getChildrenInfo(t.id),commentLink:t,commentsPageKey:e.props.commentsPageKey,id:t.id,isHidden:no.b(t.id),scrollToAndRemeasure:i,renderedInOverlay:!!e.props.renderedInOverlay,parentNodeIds:e.getParentNodeIds(t)})}}}))}},{key:"renderEmptyState",value:function(){return co(oo.b,{language:this.props.language})}}]),t}()),fo=n("./src/higherOrderComponents/asTooltip.tsx"),ho=n("./src/reddit/controls/Dropdown/index.tsx"),go=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),bo=n("./src/reddit/icons/svgs/Dropdown/index.tsx"),vo=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),yo=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),xo=void 0;var Oo="CommentSort--SortPicker",wo=Object(fo.a)(ho.a),Co=g.a.div.withConfig({componentId:"s18rx025-0"})(["","color: ",";cursor: pointer;"],Me.labelsFont,function(e){return Object(me.c)(e).linkText}),jo=g()(vt.c).withConfig({componentId:"s18rx025-1"})(["","background-color: inherit;border: none;display: flex;margin-left: 4px;padding: 0 4px;width: auto;"],Me.smallButtonFont),Io=g()(bo.a).withConfig({componentId:"s18rx025-2"})(["cursor: pointer;fill: ",";margin: 0px;"],function(e){return Object(me.c)(e).button}),So=g.a.div.withConfig({componentId:"s18rx025-3"})(["","display: flex;margin-left: auto; /* Right side alignment through flexbox */"],Me.metadataFont),ko=g()(C).withConfig({componentId:"s18rx025-4"})(["","align-items: center;display: flex;color: ",";fill: ",";"],Me.actionFont,function(e){return Object(me.c)(e).button},function(e){return Object(me.c)(e).button}),Po=g.a.span.withConfig({componentId:"s18rx025-5"})(["color: ",";@media (max-width: ","px) {display: none;}"],function(e){return Object(me.c)(e).bodyText},io.e-1),To=g.a.span.withConfig({componentId:"s18rx025-6"})(["&:hover {text-decoration: underline;}"]),Eo=g()(I.a).withConfig({componentId:"s18rx025-7"})(["height: 11px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 11px;"]),_o=Object(f.createStructuredSelector)({commentPermalink:function(e,t){var n=t.commentId;return n&&Object(fe.l)(e,{commentId:n})},dropdownIsOpen:Object(be.b)(Oo),highlightIsOpen:Object(be.b)("CommentSort--highlight-picker"),language:U.w,postPermalink:ge.v,showCommentHighlighter:function(e,t){var n=t.postId,o=Object(U.j)(e),r=!!Object(rt.e)(e,{postId:n}),i=Object(ge.w)(e,{postId:n});return(r||o)&&!!i&&!!i.previousVisits&&i.previousVisits.length>1},selectedHighlightSort:fe.p}),Mo=function(e){return function(e,t){return function(){return xo.props.sendEvent(function(n){return{source:"comment_highlighting",action:t,noun:e}})}}},Ro=Object(m.connect)(_o,function(e,t){var n=t.trackClick;return{onOpenDropdown:function(){e(Object(L.e)({tooltipId:Oo})),n("sorting")},onOpenHighlightDropdown:function(t){e(Object(L.e)({tooltipId:"CommentSort--highlight-picker"})),t()},changeHighlightSort:function(t){return e(Object(N.I)({sort:t}))}}})(Object(ft.b)(function(e){var t=e.sort||P.r.CONFIDENCE,n=Object(go.a)(e.isOverlay),o=" ("+Object(v.a)(e.language,"sorts.suggested")+")",r=e.suggestedSort&&t===e.suggestedSort?P.t[t]+o:P.t[t];return u.a.createElement("div",{className:e.className,ref:e.elementRef},yo(Co,{onClick:e.onOpenDropdown},void 0,Object(v.a)(e.language,"sorts.titleBy")),yo(jo,{onClick:e.onOpenDropdown,displayText:r,id:Oo,noHover:!0}),yo(Io,{onClick:e.onOpenDropdown}),yo(wo,{container:n,isOpen:e.dropdownIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:Oo},void 0,[P.r.CONFIDENCE,P.r.TOP,P.r.NEW,P.r.CONTROVERSIAL,P.r.OLD,P.r.QA].map(function(n){var o=e.commentPermalink?e.commentPermalink:e.postPermalink,r=Object(j.b)(o);return yo(C,{isOverlay:e.isOverlay,onClick:e.trackClick(We.a[n]),tabIndex:-1,to:r+"?sort="+n},n,yo(vt.c,{displayText:P.t[n],isSelected:t===n}))})),e.showCommentHighlighter&&yo(Ao,{changeHighlightSort:e.changeHighlightSort,container:n,highlightIsOpen:e.highlightIsOpen,isOverlay:e.isOverlay,language:e.language,onOpen:function(){return e.onOpenHighlightDropdown(Mo(e.sendEvent)("dropdown","click"))},selectedSort:e.selectedHighlightSort,trackHighlight:Mo(e.sendEvent)}),e.commentId&&Do(e))})),Lo=function(e){return e===fn.a.First?"First Visit":e===fn.a.Last?"Last Visit":"None"},No=g.a.div.withConfig({componentId:"s18rx025-8"})(["align-items: center;display: flex;margin-left: 20px;"]),Ao=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.track=function(){var t=e.props,n=t.trackHighlight,o=t.selectedSort;o!==fn.a.None&&n(o===fn.a.Last?"since_last_visit":"since_first_visit","view")},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),vo(t,[{key:"componentDidMount",value:function(){this.track()}},{key:"componentWillUpdate",value:function(e){e.selectedSort!==this.props.selectedSort&&this.track()}},{key:"render",value:function(){var e=this.props;return yo(No,{},void 0,yo(Co,{onClick:e.onOpen},void 0,Object(v.a)(e.language,"sorts.commentVisitHighlight")),yo(jo,{onClick:e.onOpen,displayText:Lo(e.selectedSort),id:"CommentSort--highlight-picker"}),yo(Io,{onClick:e.onOpen}),yo(wo,{container:e.container,isOpen:e.highlightIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:"CommentSort--highlight-picker"},void 0,yo("span",{onClick:function(){e.trackHighlight("since_first_visit","click"),e.changeHighlightSort(fn.a.First)}},void 0,yo(vt.c,{displayText:Lo(fn.a.First),isSelected:e.selectedSort===fn.a.First})),yo("span",{onClick:function(){e.trackHighlight("since_last_visit","click"),e.changeHighlightSort(fn.a.Last)}},void 0,yo(vt.c,{displayText:Lo(fn.a.Last),isSelected:e.selectedSort===fn.a.Last})),yo("span",{onClick:function(){e.trackHighlight("do_not_highlight","click"),e.changeHighlightSort(fn.a.None)}},void 0,yo(vt.c,{displayText:Lo(fn.a.None),isSelected:e.selectedSort===fn.a.None}))))}}]),t}(),Do=function(e){return yo(So,{},void 0,yo(Po,{},void 0,Object(v.a)(e.language,"comment.singleComment.shortMessage"),""),yo(ko,{isOverlay:e.isOverlay,to:Object(j.b)(e.postPermalink)},void 0,yo(To,{},void 0,Object(v.a)(e.language,"comment.viewAllComments")),"",yo(Eo,{})))},Fo=g()(Ro).withConfig({componentId:"s18rx025-9"})(["align-items: center;background: ",";border-bottom: 1px solid ",";display: flex;justify-content: flex-start;margin: 16px 40px 0;padding: 0 16px 4px 0;"],function(e){return Object(me.c)(e).body},function(e){return Object(me.c)(e).line}),Ho=n("./src/lib/objectSelector/index.ts"),Bo=n("./src/reddit/components/IdCard/index.tsx"),Wo=n("./src/reddit/components/ProfileIdCard/index.tsx"),$o=n("./src/reddit/components/SidebarAd/index.tsx"),Uo=n("./src/reddit/components/SidebarFooter/index.tsx"),Ko=n("./src/reddit/components/SidebarSpacer/index.tsx"),Go=n("./src/reddit/components/SidebarStickyBottom/index.tsx"),Vo=n("./src/reddit/components/Widgets/Widget/index.tsx"),zo=n("./src/reddit/helpers/createBannerProperties/index.ts"),qo=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),Qo=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var Jo=[P.f,P.g],Xo=g.a.div.withConfig({componentId:"njq5bt-0"})(["display: flex;flex-direction: column;height: 100%;top: 0;width: ","px;"],ne.z),Yo=Object(f.createStructuredSelector)({language:U.w,widgets:Object(Ho.a)($.g)}),Zo=Object(m.connect)(Yo)(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),Qo(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.subredditName!==e.subredditName||!Be()(this.props.widgets,e.widgets)}},{key:"renderFooter",value:function(e){var t=this.props,n=t.isOverlay,o=t.subredditName,r=t.post;return n?qo("div",{},void 0,qo(Ko.a,{},void 0,qo($o.a,{placement:P.d.BELOW_THE_FOLD,listingName:o,isOverlay:n,placementIndex:e,position:zo.a.BOTTOM})),qo(Uo.a,{})):qo(Go.f,{listingName:o,things:[r],placementIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isOverlay,o=e.post,r=e.subredditName,i=e.widgets,s=0;return qo(Xo,{className:t},void 0,"profile"===o.belongsTo.type?qo(Wo.a,{profileName:r,isOverlay:n||!1}):qo(Bo.b,{isCommentsPage:!0,isOverlay:n,listingName:r,postId:o.id,rememberPosition:o.numComments>0}),qo(Ko.a,{},void 0,qo($o.a,{placement:P.d.ABOVE_THE_FOLD,placementIndex:s++,listingName:r,isPostNSFW:o.isNSFW,isOverlay:n,refreshKey:o.id,position:zo.a.FIRST,sizes:Jo})),i.map(function(e,t){return qo(Ko.a,{},"widgetSpacer"+t,qo(Vo.a,{subredditName:r,widget:e}))}),this.renderFooter(s++))}}]),t}()),er=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),tr=Object(h.css)(["","color: ",";"],Me.metadataFont,function(e){return Object(me.c)(e).bodyText}),nr=g.a.div.withConfig({componentId:"s15t8fxx-0"})(["display: inline-block;margin: 12px 8px 8px 16px;"]),or=g()(Object(we.a)()).withConfig({componentId:"s15t8fxx-1"})(["background-color: ",";display: inline-block;width: 8px;position: absolute;top: 0;bottom: 0;"],function(e){return e.color}),rr=g.a.div.withConfig({componentId:"s15t8fxx-2"})(["",""],tr),ir=g.a.div.withConfig({componentId:"s15t8fxx-3"})(["display: inline-block;margin: 8px 0 8px;"]),sr=g.a.div.withConfig({componentId:"s15t8fxx-4"})(["","font-weight: bold;"],tr),dr=g()(Object(we.a)()).withConfig({componentId:"s15t8fxx-5"})(["background-color: ",";border: 1px solid ",";border-radius: 4px;margin: 16px;position: relative;display: flex;"],function(e){return Object(me.c)(e).body},function(e){return e.color}),cr=function(e){var t=e.className,n=e.color,o=e.renderIcon,r=e.subtitle,i=e.title;return er(dr,{className:t,color:n},void 0,er(or,{color:n}),o&&er(nr,{},void 0,o()),er(ir,{},void 0,er(sr,{},void 0,i),r&&er(rr,{},void 0,r)))},ar=n("./src/reddit/components/HeaderImage/index.tsx"),lr=n("./src/reddit/components/PostContent/index.tsx"),pr=n("./src/reddit/components/PostTopMeta/index.tsx"),ur=n("./src/reddit/components/SubredditNav/index.tsx"),mr=n("./src/reddit/helpers/history/index.ts"),fr=n("./src/reddit/helpers/trackers/screenview.ts"),hr=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),gr=g.a.div.withConfig({componentId:"s1fu0e07-0"})(["box-sizing: border-box;display: flex;justify-content: center;margin: ","px auto 0;max-width: ","px;overflow-y: hidden;padding-bottom: 32px;position: relative;width: calc(100% - ","px);&:focus {outline: none;}"],ne.h,ne.l,2*ne.j),br=g.a.div.withConfig({componentId:"s1fu0e07-1"})(["background: ",";flex: 1;margin: ","px;margin-right: ","px;max-width: 100%;min-height: 100vh;padding-bottom: 1px;width: 100%;word-break: break-word;","@media(min-width: ","px) {max-width: 890px;}"],function(e){return Object(me.c)(e).body},ne.n,ne.m,"",io.f),vr=g.a.div.withConfig({componentId:"s1fu0e07-2"})(["display: none;margin: ","px;margin-left: 0;padding: 0;right: 0;top: 0;width: ","px;@media(min-width: ","px) {display: block;}"],ne.n,ne.z,io.f),yr=function(e){return hr(gr,{tabIndex:-1},void 0,hr(br,{redditStyle:!0},void 0,e.content),hr(vr,{},void 0,e.sidebar))},xr=n("./src/reddit/layout/page/Listing/index.tsx"),Or=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),wr=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var d in i)void 0===n[d]&&(n[d]=i[d]);else n||(n=i||{});if(1===s)n.children=r;else if(s>1){for(var c=Array(s),a=0;a<s;a++)c[a]=arguments[a+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}();var Cr=g.a.span.withConfig({componentId:"s1vfgy6h-0"})(["&:hover {text-decoration: underline;}"]),jr=g()(I.a).withConfig({componentId:"s1vfgy6h-1"})(["height: 11px;margin-top: -0.125em;width: 11px;transform: scaleX(-1);"]),Ir=g.a.div.withConfig({componentId:"s1vfgy6h-2"})(["padding: 8px;"]),Sr=g()(C).withConfig({componentId:"s1vfgy6h-3"})(["color: ",";fill: ",";font-size: 11px;font-weight: 500;line-height: 16px;"],function(e){return Object(me.c)(e).linkText},function(e){return Object(me.c)(e).linkText}),kr=8,Pr=g()(de.a).withConfig({componentId:"s1vfgy6h-4"})(["color: ",";height: 24px;margin: 0 -4px 0 4px;vertical-align: sub;width: 24px;"],te.a.locked),Tr=g()(function(e){return ce("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},void 0,ce("path",{d:"M16,9H15V7A5,5,0,0,0,5,7V9H4a1,1,0,0,0-1,1v7a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V10A1,1,0,0,0,16,9ZM7,7a3,3,0,0,1,6,0V9H7Z"}))}).withConfig({componentId:"s1vfgy6h-5"})(["fill: ",";height: 24px;width: 24px;"],te.a.locked),Er=Object(m.connect)(function(){return Object(f.createStructuredSelector)({apiError:fe.c,apiPending:fe.d,canCommentAsModerator:function(e,t){var n=t.postId,o=Object(ge.E)(e,{postId:n});return!!(o&&o.id&&e.moderatingSubreddits[o.id])},comment:fe.m,contentGateInfo:function(e,t){var n=t.subredditName;return Object(U.d)(e,n)},currentUserShowNSFW:U.z,fullyLoaded:fe.t,headComment:fe.w,isLoggedIn:U.s,isTooltipOpen:function(e,t){return!!Object(be.a)(e)},language:U.w,origin:he.b,post:fe.C,subredditOrProfile:ge.E,userHovercardIsOpen:function(e,t){return Object(be.b)(Object(ve.b)({itemId:t.postId,tooltipType:pr.c.StickyPost}))(e)},userPrefs:U.J})},function(e,t){return{setCommentFocus:function(t){return e(N.K({commentListNodeId:t}))},dispatchUnpause:function(){return e(D.G({postId:t.postId}))},onHideTooltip:function(){return e(Object(L.f)())},onToggleTooltip:function(t){return e(Object(L.e)({tooltipId:t}))},openLoginModal:function(){return e(Object(A.a)())},openRegisterModal:function(){return e(Object(A.b)())}}}),_r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.needsUpdatedMeasurements=!0,n.scrollY=null,n.recheckScrollTimer=-1,n.postPaused=!0,n.setPostScrollItemRef=function(e){n.postScrollItemRef=e,setTimeout(n.handleScroll)},n.handleScroll=a()(function(){if(n.scrollContainerEl){n.needsUpdatedMeasurements&&n.updateMeasurements();var e=n.didScrollPastPost,t=n.scrollContainerEl,o=n.scrollPostThreshold,r=n.props,i=r.userHovercardIsOpen,s=r.isOverlay,d=r.isTooltipOpen,c=r.onHideTooltip,a=r.onToggleTooltip,l=r.post,p=r.postId;clearTimeout(n.recheckScrollTimer),n.recheckScrollTimer=-1;var u=t===window?t.scrollY:t?t.scrollTop:0,m=null!==n.scrollY&&Math.abs(u-n.scrollY)>kr,f=l&&l.media&&l.media.type===le.l.EMBED?l.media.provider:null,h=l&&l.media&&le.c.has(l.media.type)&&(!f||!le.o.has(f));n.scrollY=u,!e&&u>=o&&(n.didScrollPastPost=!0),e&&u<o&&(n.didScrollPastPost=!1,i&&_.a.write(function(){a(Object(ve.b)({itemId:p,tooltipType:pr.c.StickyPost}))})),h&&n.postScrollItemRef&&(n.postPaused||!m&&!n.didScrollPastPost?n.postPaused&&!n.didScrollPastPost&&(m?n.recheckScrollTimer=setTimeout(n.handleScroll,4*P.E):(n.postPaused=!1,_.a.write(n.postScrollItemRef.focusContent))):(n.postPaused=!0,_.a.write(n.postScrollItemRef.pauseContent))),s&&d&&c()}},P.E),n.sendEventWithName=function(e){return function(){return n.props.sendEvent(Object(nt.b)(n.props.postId,e))}},n.updateWindowHeight=function(){n.needsUpdatedMeasurements=!0,n.handleScroll()},n.updateCommentSortRef=function(e){n.commentSortRef=e,n.needsUpdatedMeasurements=!0},n.updateCommentFormRef=function(e){n.commentFormRef=e,n.needsUpdatedMeasurements=!0},n.didScrollPastPost=e.shouldScrollToComments&&!!e.post&&!!e.post.numComments,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.a.Component),Or(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentId,n=e.setCommentFocus;t&&n(t)}},{key:"componentDidMount",value:function(){var e=this,t=this.commentFormRef,n=this.commentSortRef,o=this.props,r=o.isOverlay,i=o.post,s=o.shouldScrollToComments;r?(this.scrollContainerEl=document.getElementById(oe.c),s&&(t||n)&&i&&i.numComments&&this.scrollToComments(),_.a.write(function(){e.scrollContainerEl&&e.scrollContainerEl.focus()})):this.scrollContainerEl=window,this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview()}},{key:"componentWillReceiveProps",value:function(e){e.postId!==this.props.postId&&(this.didRenderLoading=!1),e.commentId&&e.commentId!==this.props.commentId&&this.props.setCommentFocus(e.commentId)}},{key:"componentWillUpdate",value:function(e){this.removeListeners()}},{key:"componentDidUpdate",value:function(e){var t=this;this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),e.postId!==this.props.postId&&(this.props.post&&this.props.post.numComments?_.a.read(this.handleScroll):_.a.write(function(){Object(T.c)(t.scrollContainerEl,0),_.a.read(t.handleScroll)}),this.props.isOverlay&&_.a.write(function(){t.scrollContainerEl&&t.scrollContainerEl.focus()}))}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.needsUpdatedMeasurements=!1,this.scrollContainerEl=void 0}},{key:"updateMeasurements",value:function(){this.needsUpdatedMeasurements=!1,this.windowHeight=window.innerHeight,this.commentFormRef?this.scrollPostThreshold=this.commentFormRef.offsetTop:this.commentSortRef?this.scrollPostThreshold=this.commentSortRef.offsetTop:this.scrollPostThreshold=200}},{key:"addListeners",value:function(){this.props.isOverlay&&window.addEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.addEventListener("scroll",this.handleScroll)}},{key:"removeListeners",value:function(){this.props.isOverlay&&window.removeEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToComments",value:function(){var e=this;_.a.read(function(){var t=document.getElementById(oe.c);if(t){var n=void 0,o=void 0;e.commentFormRef?(n=e.commentFormRef.offsetTop-80,o=e.commentFormRef.offsetParent):e.commentSortRef?(n=e.commentSortRef.offsetTop-80,o=e.commentSortRef.offsetParent):n=0,o&&(n+=o.offsetTop),_.a.write(function(){Object(T.c)(t,n),e.needsUpdatedMeasurements=!0,setTimeout(function(){return _.a.read(e.handleScroll)})})}})}},{key:"shouldSendScreenview",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.commentsPageKey;return S.c.has(o)&&(t||!n||this.listLongEnoughForScreenView())}},{key:"listLongEnoughForScreenView",value:function(){return!!this.commentSortRef&&this.commentSortRef.getBoundingClientRect().bottom>window.innerHeight}},{key:"checkAndSendScreenview",value:function(){var e=this;_.a.read(function(){var t=e.props,n=t.commentId,o=t.commentsPageKey,r=t.postId,i=t.sendEvent;if(e.shouldSendScreenview()){var s=S.c.end(o);i(Object(fr.a)(o,r,n,k.TimerType.InApp,s))}})}},{key:"isCommentPermalink",value:function(){return void 0!==this.props.commentId}},{key:"render",value:function(){var e=this.props,t=e.apiPending,n=e.closeLocation,o=e.contentGateInfo,r=e.currentUserShowNSFW,i=e.isOverlay,s=e.post,d=e.postId,c=e.subredditOrProfile,a=e.subredditName,l=this.isCommentPermalink();if(!s)return wr(t?oo.e:oo.c,{});var p=void 0,u=void 0;return o?o.privateSubreddit?p=Z.a.PrivateSubreddit:o.goldSubreddit?p=Z.a.GoldSubreddit:o.subredditBanned&&(p=Z.a.SubredditBanned,u=o.subredditBanMessage):s.isNSFW&&!r&&(p=Z.a.Nsfw),p&&a?wr(Z.b,{banMessage:u,subredditName:a,contentGateType:p}):wr(Dr,{closeLocation:n,isOverlay:i,post:s,subredditOrProfile:c},void 0,wr("div",{},"PostContentWrapper",wr(Rr,{isCommentPermalink:l,isExclusivePost:!0,isOverlay:i,postId:d,redditStyle:i,scrollerItemRef:this.setPostScrollItemRef}),wr(Y,{listingName:a||"",isOverlay:i,placement:P.d.ABOVE_THE_FOLD})),this.renderCommentPanes())}},{key:"renderCommentPanes",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.canCommentAsModerator,r=e.commentId,i=e.commentsPageKey,s=e.fullyLoaded,d=e.headComment,c=e.isLoggedIn,a=e.isOverlay,l=e.language,p=e.location,u=e.openLoginModal,m=e.openRegisterModal,f=e.origin,h=e.post,g=e.postId,y=e.sort,x=e.subredditName,O=e.userPrefs;if(!h)return null;var w=this.isCommentPermalink(),C=[],I=h.isLocked&&!o,S=!w&&!h.isArchived,k=x?"comment.threadLocked.title":"comment.threadLocked.simpleTitle",T=P.s;if(y?T=y:h.suggestedSort?T=h.suggestedSort:O&&O.defaultCommentSort&&(T=O.defaultCommentSort),I)C.push(wr(cr,{color:te.a.locked,renderIcon:function(){return wr(Tr,{})},subtitle:Object(v.a)(l,"comment.threadLocked.subtitle"),title:Object(v.a)(l,k,{subredditName:x})},"commentThreadBanner"));else if(h.isArchived)C.push(wr(cr,{color:te.a.locked,renderIcon:function(){return wr(Pr,{})},subtitle:Object(v.a)(l,"comment.threadArchived.subtitle"),title:Object(v.a)(l,"comment.threadArchived.title")},"commentThreadBanner"));else if(S)if(c){var E=Object(R.a)(b.a.replyToPost,g);C.push(wr(Pe,{autofocus:!1,isTopLevelComment:!0,depth:0,draftKey:E,draftType:b.a.replyToPost,editorElementRef:this.updateCommentFormRef,parentCommentId:"replyToPost",submitAction:function(e,t){return N.Ga(l,g,i,E,e,t)},submitButtonText:Object(v.a)(l,"comment.comment")},"form"))}else C.push(wr(Fe,{language:l,location:p,openLoginModal:u,openRegisterModal:m,origin:f},"loggedOutCommentForm"));return C.push(wr(Fo,{commentId:r,elementRef:this.updateCommentSortRef,isOverlay:a,postId:g,sort:T,suggestedSort:h.suggestedSort,trackClick:this.sendEventWithName},"commentSort")),n?(this.didRenderLoading=!0,C.push(wr(oo.a,{isLoading:n},"commentsPlaceholder"))):t&&!d?C.push(wr(oo.d,{language:l,postId:g,commentId:r,sort:T})):(C.push(wr(Lr,{redditStyle:!0,renderedInOverlay:a},"commentsWrapper",w&&d&&null!==d.parentId&&wr(Ir,{},void 0,wr(Sr,{isOverlay:a,to:Object(j.b)(d.permalink+"?context=8&depth=9")},void 0,wr(jr,{}),"",wr(Cr,{},void 0,Object(v.a)(l,"comment.showParentComments")))),wr(mo,{commentId:r,commentsPageKey:i,renderedInOverlay:a}))),t&&d?C.push(wr(oo.d,{language:l,postId:g,commentId:r,sort:T},"commentsErrorState")):s||C.push(wr(oo.a,{isLoading:!0},"commentsPlaceholder"))),wr(se.a.Provider,{value:this.sendEventWithName},void 0,C)}}]),t}(),Mr=Er(Object(ft.b)(_r)),Rr=g()(lr.a).withConfig({componentId:"s1vfgy6h-6"})(["",""],function(e){return e.isOverlay?"background: "+Object(me.c)(e).body+";":"background: "+Object(ue.g)(Object(me.c)(e).body,Object(me.c)(e).backgroundImage,Object(me.c)(e).backgroundImagePosition)+";\n      border-radius: 4px 4px 0 0;"}),Lr=g.a.div.withConfig({componentId:"s1vfgy6h-7"})(["/* TODO: remove once issue around transparent comments backgroundis fixed */box-sizing: border-box;padding-right: 16px;margin: 16px;margin-bottom: 0px;margin-left: 10px;padding-bottom: 16px;// set overlay background to 80% opacity\n",""],function(e){return e.renderedInOverlay?"background: "+Object(l.j)(.2,Object(me.c)(e).body)+";":"background: "+Object(me.c)(e).body+";"}),Nr=g.a.div.withConfig({componentId:"s1vfgy6h-8"})(["background: ",";border: 1px solid ",";border-radius: 4px;word-break: break-word;"],function(e){return Object(me.c)(e).body},function(e){return Object(me.c)(e).line}),Ar=g()(Zo).withConfig({componentId:"s1vfgy6h-9"})(["margin-top: 1px;max-height: initial;position: relative;"]),Dr=function(e){var t=e.children,n=e.isOverlay,o=e.post,r=e.subredditOrProfile;return n?wr(yr,{content:t,sidebar:r&&wr(Zo,{isOverlay:!0,post:o,subredditName:r.name,subredditId:r.id})}):wr(ee.a,{subredditId:r?r.id:void 0},void 0,wr(xr.d,{maxWidth:ne.l,content:wr(Nr,{redditStyle:!0},void 0,t),disableFullscreen:!0,navBar:r&&u.a.Children.toArray([wr(ar.a,{disableFullscreen:!0,headerText:r.name,maxWidth:ne.l,prefixedHeaderText:r.displayText,subredditOrProfile:r,url:r.url}),"user"!==r.type&&wr(ur.a,{disableFullscreen:!0,homeUrl:r.url,maxWidth:ne.l,subredditId:r.id})]),sidebar:r&&wr(Ar,{post:o,subredditName:r.name,subredditId:r.id})}))};t.default=function(e){var t=e.location.state,n=d()(t,re.a.IsOverlay,!1),o=d()(t,re.a.CloseLocation,null),r=d()(t,re.a.ScrollOnLoad,!1);r&&Object(mr.c)(re.a.ScrollOnLoad);var s=e.match.params,c=s.partialCommentId,a=s.partialPostId,l=s.subredditName,p=Object(pe.b)(a),u=c&&Object(ae.b)(c),m=e.location.search,f=i()([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object(E.a)(m)))),h=ie.l in f?f[ie.l]:"",g=P.Ib.has(h)?h:void 0,b=f.instanceId,v={};g&&(v.sort=g,v.hasSortParam=!0),f.context&&(v.context=parseInt(f.context,10)),f.depth&&(v.depth=parseInt(f.depth,10));var y=Object(M.a)(p,u,v),x=e.location;return wr(Mr,{location:x,closeLocation:o,commentId:u,commentsPageKey:y,isOverlay:n,postId:p,instanceId:b,shouldScrollToComments:r,sort:g,subredditName:l})}}}]);
//# sourceMappingURL=CommentsPage.76da3041437b869a222c.js.map

}
/*
     FILE ARCHIVED ON 00:52:43 Aug 01, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:44:07 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.117
  exclusion.robots.policy: 0.103
  cdx.remote: 0.138
  esindex: 0.013
  LoadShardBlock: 259.294 (6)
  PetaboxLoader3.datanode: 190.562 (7)
  PetaboxLoader3.resolve: 141.816 (2)
  load_resource: 118.358
*/