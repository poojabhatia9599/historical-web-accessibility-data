var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["Governance~Reddit"],{"./src/lib/assertNever.ts":function(e,t,s){"use strict";function r(e){throw new Error(`Unexpected object: ${e}`)}s.d(t,"a",function(){return r})},"./src/lib/bigNumberUtils/percent.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./node_modules/bignumber.js/bignumber.js");function n(e,t){const s=new r.BigNumber(e),n=new r.BigNumber(t),a=new r.BigNumber(s.dividedBy(n)),c=new r.BigNumber("100").multipliedBy(a);return new r.BigNumber(c).toNumber()}},"./src/lib/copyToClipboard/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/logs/console.ts");t.a=(e=>{const t=document.body.scrollTop,s=document.body.scrollLeft,n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch(a){return Object(r.a)(a,`Failed to copy text: ${e}`),!1}return document.body.removeChild(n),document.body.scrollTop=t,document.body.scrollLeft=s,!0})},"./src/lib/filterQueryParams/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/omit.js"),n=s.n(r),a=s("./node_modules/url/url.js"),c=s.n(a);t.a=((e,t)=>{const s=c.a.parse(e,!0);return s.search=void 0,s.query=Object.assign({},n()(s.query,t)),c.a.format(s)})},"./src/lib/formatApiError/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/app/strings/index.ts"),n=s("./src/app/strings/sources/error.js");function a(e,t,s){return t?t.fields&&t.fields.length?t.fields.map(e=>e.msg).join(", "):t.type&&n.a[t.type]?Object(r.a)(e,`error.${t.type}`):401===s?Object(r.a)(e,"error.authentication"):Object(r.a)(e,"error.generic"):""}},"./src/lib/makeCollectionCommentsPageKey/index.ts":function(e,t,s){"use strict";t.a=((e,t,s,r={})=>{let n=`collectionCommentsPage--[collection:'${e}']`;return t&&(n+=`--[post:'${t}']`),s&&(n+=`--[rootComment:'${s}']`),r&&(r.sort&&r.hasSortParam&&(n+=`--[sort:'${r.sort}']`),r.context&&(n+=`--[context:${r.context}]`),r.depth&&(n+=`--[depth:${r.depth}]`)),n})},"./src/lib/makeDraftKey/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/app/models/Draft.ts");function n(e,t){return`${r.a[e]}_${t}`}},"./src/lib/makeExplorePageKey/index.ts":function(e,t,s){"use strict";function r(e){return`Explore--[categoryName:${e.categoryName}]`}s.d(t,"a",function(){return r})},"./src/lib/makeOverviewConversationsItemKey/index.ts":function(e,t,s){"use strict";t.a=((e,t)=>{return`overviewConversations--[profile:'${t}']--[post:'${e}']`})},"./src/lib/makePartnerSubredditConnectionPageKey/index.ts":function(e,t,s){"use strict";function r(e){return`PartnerSubredditConnection--[to:${e.to}]--[userId:${e.userId}]`}s.d(t,"a",function(){return r})},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,s){"use strict";function r(e){let t="PostDraftPage";return e.draftId&&(t+=`--[draftId:${e.draftId}]`),t}s.d(t,"a",function(){return r})},"./src/lib/makeSearchKey/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return d});var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/constants/parameters.ts");const a=(e,t)=>`${e}--[type:${t.sort().join(",")}]`,c=new Set(["f","n","0"]),o=(e="")=>{const t=e.toLowerCase();return!(0===t.length||"off"===t||c.has(t[0]))},i=e=>e?"1":"",d=e=>{const t=e.sort&&Object(r.Yb)(e.sort)?e.sort:r.pb,s=e.t&&r.Vb.has(e.t)?e.t:r.qb,a=e.type;let c=[];"string"==typeof a?c=decodeURIComponent(a).split(",").sort().filter(r.Zb):Array.isArray(a)&&(c=a.filter(r.Zb)),c&&0!==c.length||(c=[r.Fb.Posts,r.Fb.Subreddits,r.Fb.Users]);const d={q:e.q,sort:t,t:s,type:c};return void 0!==e.include_over_18&&(d.include_over_18=i(o(e.include_over_18))),void 0!==e.restrict_sr&&(d.restrict_sr=i(o(e.restrict_sr))),e.is_multi&&(d.is_multi=i(o(e.is_multi))),e.category&&(d.category=e.category),e[n.b]&&(d.category_name=e.category_name),d};t.b=((e,t={})=>{let s=e||"!";return t.include_over_18&&(s=`${s}--[include_over_18:${t.include_over_18}]`),t.q&&(s=`${s}--[q:${t.q}]`),t.restrict_sr&&(s=`${s}--[restrict_sr:${t.restrict_sr}]`),t.sort&&(s=`${s}--[sort:${t.sort}]`),t.t&&(s=`${s}--[t:${t.t}]`),t.category&&(s=`${s}--[c:${t.category}]`),s.toLowerCase()})},"./src/lib/omitKey/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};function n(e,t){if(t in e){const s=t;e[s];return r(e,["symbol"==typeof s?s:s+""])}return e}},"./src/lib/truthyString/index.ts":function(e,t,s){"use strict";const r=new Set(["0","disabled","false","off",""]);t.a=(e=>!r.has(e.toLowerCase()))},"./src/reddit/actions/ad.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts");const o=async(e,t,s)=>{const r={count:t};return s&&(r.subreddit=s),Object(c.b)(e,{type:"json",endpoint:`${n.a.gatewayUrl}/desktopapi/v1/sidebar_ads`,method:a.Fa.POST,data:r})};var i=s("./src/reddit/helpers/adCount/index.ts"),d=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),u=s("./src/reddit/selectors/platform.ts"),l=s("./src/reddit/selectors/posts.ts");s.d(t,"a",function(){return b}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"e",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"g",function(){return h}),s.d(t,"h",function(){return I});const b="AD_BRAND_SAFETY_STATUS_RECEIVED",p="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",O="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",f="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",m="RESET_SIDEBAR_PROMOTED_POSTS",j=Object(r.a)(b),y=Object(r.a)(O),g=Object(r.a)(p),_=Object(r.a)(f),E=Object(r.a)("REFRESH_SIDEBAR_PROMOTED_POST_FAILED"),h=(Object(r.a)(m),e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(i.b)(n,e),c=a.length;if(0===c)return;switch(e){case d.a.COMMENTS:case d.a.COMMENTS_OVERLAY:if(!Object(u.l)(n,{page:n.platform.currentPage}))return;break;case d.a.FRONTPAGE:case d.a.MULTIREDDIT:case d.a.SEARCH_RESULTS:case d.a.SUBREDDIT:{const e=n.listings.activeKey,t=Object(l.H)(n,{listingKey:e});if(!t||!t.length)return;break}default:return void 0}const b=Object(u.e)(n);let p;if((p=b?await o(r(),c,b):await o(r(),c)).body&&p.body.length){const e=p.body,s={};for(let t=0;t<e.length;t++)s[a[t]]=e[t];t(y(s))}else t(g(p.error))}),I=e=>async(t,s,{apiContext:r})=>{const n=await o(r(),1);n.body&&n.body.length?t(_({[e]:n.body[0]})):t(E(n.error))}},"./src/reddit/actions/adblockUpsell.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/constants/adblockUpsellModal.ts"),a=s("./src/reddit/endpoints/user/index.ts"),c=s("./src/reddit/selectors/user.ts");const o="ADBLOCK_MODAL_SEEN_SUCCESS",i=Object(r.a)(o),d=()=>async(e,t,s)=>{if(Object(c.C)(t())){e(i()),(await Object(a.a)(s.apiContext())).ok}else{const t=Date.now();localStorage.setItem(n.a,t.toString()),e(i())}}},"./src/reddit/actions/alpha.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/logs/errors.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");var d=s("./src/config.ts");var u=s("./src/reddit/actions/toaster.ts"),l=s("./src/reddit/models/Toast/index.ts"),b=s("./src/lib/makeRequest/index.ts");async function p(e,t){return await Object(b.a)({method:n.Fa.POST,endpoint:"/timings/optoutrequest",data:{appName:e.statsAppName,successful:t},type:"json"})}s.d(t,"b",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"g",function(){return y}),s.d(t,"e",function(){return g}),s.d(t,"h",function(){return v}),s.d(t,"l",function(){return C}),s.d(t,"j",function(){return A}),s.d(t,"d",function(){return R}),s.d(t,"k",function(){return D}),s.d(t,"i",function(){return P}),s.d(t,"m",function(){return x});const O="ADD_PARTICIPANTS_REQUESTED",f="ADD_PARTICIPANTS_SUCCESS",m="ADD_PARTICIPANTS_FAILED",j="REMOVE_PARTICIPANTS_REQUESTED",y="REMOVE_PARTICIPANTS_SUCCESS",g="REMOVE_PARTICIPANTS_FAILED",_=Object(r.a)(y),E=Object(r.a)(O),h=Object(r.a)(m),I=Object(r.a)(y),T=Object(r.a)(j),S=Object(r.a)(g),v=(e,t,s)=>async(r,a,{apiContext:d})=>{r(E());const u=await((e,t)=>Object(c.b)(Object(o.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/v1/alpha/add`,method:n.Fa.POST,data:t,type:"json"}))(d(),{subreddits:e,users:t,message:s});u.ok?r(_(Object.assign({},u.body))):r(h({error:u.error}))},C=(e,t)=>async(s,r,{apiContext:a})=>{s(T());const d={subreddits:e,users:t},u=await((e,t)=>Object(c.b)(Object(o.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/v1/alpha/remove`,method:n.Fa.POST,data:t,type:"json"}))(a(),d);u.ok?s(I(Object.assign({},u.body))):s(S({error:u.error}))},A=e=>async(t,s,{apiContext:r})=>{(await function(e){return Object(c.b)(Object(o.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/leave_redesign_beta`,method:"post",type:"json"})}(r())).ok?(await p(r(),!0),e&&window.location.reload()):(p(r(),!1),t(Object(u.e)({kind:l.b.Error,text:"Sorry, something went wrong. Try Opting out again."})))},R="OPTOUT_BANNER_TOGGLED",D=Object(r.a)(R),P=()=>async(e,t,{apiContext:s})=>{!function(e){Object(c.b)(Object(o.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/join_redesign_beta`,method:"post",type:"json"}).then(()=>{var e=window.location;const t=e.pathname,s=e.search,r=`${d.a.redditUrl}${t}${s}`;window.location.replace(r)})}(s())},x=()=>async(e,t,{apiContext:s})=>{Object(a.a)({context:s(),error:{},type:n.s.LOGGEDIN_HAS_REDESIGN_COOKIE})}},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/lib/makeActionCreator/index.ts");const n="API_REQUEST_HEADERS__set";Object(r.a)(n)},"./src/reddit/actions/apiRequestState.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"h",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"f",function(){return l}),s.d(t,"g",function(){return b});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/models/ApiRequestState/index.ts");const a="API_REQUEST_STATE__STARTED",c="API_REQUEST_STATE__COMPLETED",o="API_REQUEST_STATE__FAILED",i="API_REQUEST_STATE__RELEASED";function d(e){return{type:a,payload:{apiRequestStatus:n.a.Pending,apiRequestId:e}}}function u(e){return{type:c,payload:{apiRequestStatus:n.a.Complete,apiRequestId:e}}}function l(e,t){return{type:o,payload:{apiRequestStatus:n.a.Failed,apiRequestId:e,apiError:t}}}const b=Object(r.a)(i)},"./src/reddit/actions/appeal.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts"),i=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");var d=s("./src/reddit/endpoints/me/index.ts"),u=s("./src/reddit/helpers/pageActionLoginRedirect.ts");s.d(t,"e",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"d",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"f",function(){return h}),s.d(t,"g",function(){return I});const l="APPEAL_PENDING",b="APPEAL_LOADED",p="APPEAL_FAILED",O="APPEAL_PAGE_LOADED",f="APPEAL_PAGE_FAILED",m=Object(r.a)(l),j=Object(r.a)(b),y=Object(r.a)(p),g=Object(r.a)("APPEAL_PAGE_PENDING"),_=Object(r.a)(O),E=Object(r.a)(f),h=()=>async(e,t,{apiContext:s})=>{e(g());const r=await Object(d.a)(s());if(r.ok&&r.body)if(r.body.account)e(_(r.body));else{const s=t();Object(u.a)(e,s)}else e(E(r.error))},I=(e,t)=>async(s,r,{apiContext:d})=>{if(r().appeal.api.pending)return;s(m());const u=await((e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{method:n.Fa.POST,endpoint:Object(i.a)(`${e.apiUrl}/api/appeal`),data:{description:t,email:s}}))(d(),e,t);u.ok&&u.body.success?s(j()):s(y())}},"./src/reddit/actions/authorFlair.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",a=Object(r.a)(n)},"./src/reddit/actions/badge.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"i",function(){return b}),s.d(t,"g",function(){return p}),s.d(t,"h",function(){return O}),s.d(t,"j",function(){return f}),s.d(t,"k",function(){return T}),s.d(t,"l",function(){return S}),s.d(t,"m",function(){return v});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/governance/index.ts"),a=s("./src/reddit/endpoints/governance/badges.ts");const c="BADGE__BADGE_MODAL_OPENED",o="BADGE__BADGE_APPLICATION_SUCCESS",i="BADGE__BADGE_APPLICATION_FAILURE",d="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",u="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",l="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",b="BADGE__USER_BADGES_FETCH_SUCCESS",p="BADGE__USER_BADGES_FETCH_FAILURE",O="BADGE__USER_BADGES_FETCH_PENDING",f=Object(r.a)(c),m=Object(r.a)(o),j=Object(r.a)(i),y=(Object(r.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(r.a)(d)),g=Object(r.a)(u),_=Object(r.a)(l),E=Object(r.a)(b),h=Object(r.a)(p),I=Object(r.a)(O),T=({badgeIds:e,subredditId:t})=>async(s,r,{apiContext:c})=>{const o=r(),i=o.user.account;if(i){const r=(o.users.appliedBadges[i.id]||{})[t]||[],d=e.length?e[0]:r[0],u=!!e.length;s(m({badgeIds:e,subredditId:t,userId:i.id}));const l=await Object(a.a)(c(),t,d,u);l.ok||(s(j({badgeIds:e,subredditId:t,error:l.error,previousBadgeIds:r,userId:i.id})),Object(n.b)(s,l.error))}},S=({subredditId:e})=>async(t,s,{apiContext:r})=>{t(_({subredditId:e}));const n=await Object(a.b)(r(),e);n.ok?t(y(Object.assign({},n.body,{subredditId:e}))):t(g({subredditId:e,error:n.error}))},v=({subredditId:e})=>async(t,s,{apiContext:r})=>{const n=s().user.account;if(n){t(I({subredditId:e}));const s=await Object(a.c)(r(),e,n.id);s.ok?t(E(Object.assign({},s.body,{subredditId:e}))):t(h({subredditId:e,error:s.error}))}}},"./src/reddit/actions/category.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/isEmpty.js"),n=s.n(r),a=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/constants/categories.tsx"),i=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/reddit/constants/headers.ts");var b=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts");var p=s("./src/reddit/selectors/category.ts");s.d(t,"c",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"g",function(){return _}),s.d(t,"f",function(){return E}),s.d(t,"e",function(){return h}),s.d(t,"d",function(){return I}),s.d(t,"h",function(){return C}),s.d(t,"i",function(){return A});const O="CATEGORY__LIST_PENDING",f="CATEGORY__LIST_LOADED",m="CATEGORY__LIST_FAILED",j=Object(c.a)(O),y=Object(c.a)(f),g=Object(c.a)(m),_=()=>async(e,t,{apiContext:s})=>{const r=t(),n=Object(p.h)(r),a=Object(p.g)(r);if(n||a)return;e(j());const c=await(e=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/api/available_subreddit_categories.json?use_extended_categories=true`,method:i.Fa.GET}))(s());if(c.ok){var b=(e=>{const t={},s=[];return e.forEach((e,r)=>{const n={attr:e.category_attr,color:e.category_color||o.a[r%o.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};s.push(n.id),t[n.id]=n}),{categories:t,categoryIds:s}})(c.body);const t=b.categories,s=b.categoryIds;e(y({categories:t,categoryIds:s}))}else e(g(c.error))},E="CATEGORY__SUBREDDITS_PENDING",h="CATEGORY__SUBREDDITS_LOADED",I="CATEGORY__SUBREDDITS_FAILED",T=Object(c.a)(E),S=Object(c.a)(h),v=Object(c.a)(I),C=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(p.k)(a,{id:e}),o=Object(p.j)(a,{id:e});if(c||o)return;s(T({categoryId:e}));const O=await((e,t,s=100)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/api/subreddits_in_category.json?category=${t}&max_recs=${s}`,method:i.Fa.GET}))(n(),e,t);if(O.ok){const t=(e=>{const t=[],s={},r={};return e.data.children.forEach(e=>{const n=Object(b.a)(e.data);t.push(n.id),s[n.id]=n,r[n.id]={allOriginalContent:e.data.all_original_content,bannerBackgroundImage:e.data.banner_background_image,contentCategory:e.data.content_category,originalContentTagEnabled:e.data.original_content_tag_enabled,publicDescription:e.data.public_description,userIsSubscriber:e.data.user_is_subscriber}}),{subredditIds:t,subreddits:s,subredditsAboutInfo:r}})(O.body);s(S(Object.assign({categoryId:e},t)))}else s(v({categoryId:e,error:O.error}))},A=e=>async(t,s,{apiContext:r})=>{await t(C(e));const c=s(),i=Object(p.i)(c,{id:e});if(!i)return;const d=i.name,u=Object(p.c)(c,{categoryName:d});n()(u)||t(Object(a.b)(Object(o.f)(u)))}},"./src/reddit/actions/chat/sendbirdProxy.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return o});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/chat/index.ts");const a="SENDBIRD_PROXY__SET_CONFIG",c=Object(r.a)(a),o=()=>async(e,t,{apiContext:s})=>{const r=await Object(n.h)(s());r.ok&&await e(c(r.body))}},"./src/reddit/actions/chat/subredditChannel.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return i}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"h",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"m",function(){return f}),s.d(t,"l",function(){return E}),s.d(t,"i",function(){return h}),s.d(t,"k",function(){return I}),s.d(t,"j",function(){return S}),s.d(t,"b",function(){return C});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/chat/index.ts"),a=s("./src/reddit/models/SubredditChannel/index.ts"),c=s("./src/reddit/selectors/chat.ts"),o=s("./src/reddit/selectors/user.ts");const i="SUBREDDIT_CHANNELS__REQUESTED",d="SUBREDDIT_CHANNELS__ADDED",u="SUBREDDIT_CHANNELS__FAILED",l="SUBREDDIT_CHANNEL__ADDED",b="SUBREDDIT_CHANNEL__SELECTED",p="SUBREDDIT_CHANNEL__EDITED",O="SUBREDDIT_CHANNEL__REMOVED",f=Object(r.a)(b),m=Object(r.a)(i),j=Object(r.a)(u),y=Object(r.a)(d),g=Object(r.a)(l),_=Object(r.a)("SUBREDDIT_CHANNEL__FAILED"),E=e=>async(t,s,{apiContext:r})=>{var o=s().user;const i=o.account,d=o.session;if(!i||!d)return;t(m({subredditId:e}));const u=Object(c.d)(s(),{subredditId:e}),l=await Object(n.i)(r(),e,u);if(l.ok){var b=l.body;const s=b.rooms,r=b.subreddit_chat_enabled,n=b.user_subreddit_chat_enabled,c=Object(a.d)(s);t(y({collection:c,subredditId:e,isSubredditWhitelisted:!!r,isUserSubredditChatEnabled:!!n}))}else if(l.error){const s=l.error;t(j({error:s,subredditId:e}))}},h=(e,t)=>async(s,r,{apiContext:c})=>{var o=r().user;const i=o.account,d=o.session;if(!i||!d)return;const u=await Object(n.d)(c(),d,t);if(u.ok){const r=Object(a.e)(Object.assign({},u.body,t));return await s(g({channel:r,subredditId:e})),r}s(_(u.error))},I=(e,t)=>async(s,r,{apiContext:a})=>{const c=e.channelSendbirdUrl;const o=r().user.session;if(!o)return;const i=await Object(n.f)(a(),c,o,t);i.ok?s(T({channel:e,editedSubredditChannelData:t})):s(_(i.error))},T=Object(r.a)(p),S=e=>async(t,s,{apiContext:r})=>{const a=e.channelId,c=e.channelSendbirdUrl,i=s();if(!Object(o.C)(i))return;const d=await Object(n.e)(r(),c);d.ok?t(v(a)):t(_(d.error))},v=Object(r.a)(O),C="SUBREDDIT_CHANNELS__ENABLED";Object(r.a)(C)},"./src/reddit/actions/chat/subredditSettings.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return u}),s.d(t,"c",function(){return l});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/chat/index.ts"),a=s("./src/reddit/selectors/user.ts");const c="CHAT_SUBREDDIT_SETTINGS__SET",o=Object(r.a)(c),i=Object(r.a)("CHAT_SUBREDDIT_SETTINGS__SET_FAILED"),d=async(e,t,s)=>{try{if(s)return await e(o(Object.assign({subredditId:t},s))),s}catch(r){i(r)}},u=e=>async(t,s,{apiContext:r})=>{try{const o=s();if(!Object(a.C)(o))return;const u=await Object(n.g)(r(),e);return d(t,e,u)}catch(c){i(c)}},l=(e,t)=>async(s,r,{apiContext:c})=>{try{const u=r();if(!Object(a.C)(u))return;const l=await Object(n.j)(c(),e,t);l.ok&&d(s,e,l.body)}catch(o){i(o)}}},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return O}),s.d(t,"c",function(){return _});var r,n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/chat/endpoints/sendbird/index.ts"),o=s("./src/reddit/selectors/chat.ts"),i=s("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(r||(r={}));var d=r;const u=d.SYNC,l=d.REQUEST_FAILED,b=d.REQUEST_PENDING,p=d.REQUEST_SUCCESS,O=Object(a.a)(u),f=Object(a.a)(l),m=Object(a.a)(b),j=Object(a.a)(p);let y;const g=5*n.Ga,_=()=>async(e,t,{apiContext:s})=>{const r=t();if(!Object(i.C)(r)||!Object(o.e)(r))return clearTimeout(y);y||e((()=>async(e,t,{apiContext:s})=>{const r=t(),n=r.user.session;if(n&&Object(i.C)(r)&&Object(o.e)(r)){e(m());const t=await Object(c.i)(s(),n);t&&t.ok?e(j({basicChannelCount:t.body.unread_count||0,subredditChannelCount:t.body.subreddit_unread_count||0})):e(f({error:t.error}))}})()),y=setTimeout(()=>{e(_())},g)}},"./src/reddit/actions/claimgold.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/models/Toast/index.ts"),o=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/lib/omitHeaders/index.ts"),u=s("./src/reddit/constants/headers.ts"),l=s("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");var b=async(e,t)=>{const s={api_type:"json",code:t.code,raw_json:1};return Object(i.b)(Object(d.a)(e,[u.a]),{method:o.Fa.POST,endpoint:`${e.apiUrl}/api/claimgold`,data:s}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(l.a)(e)}))},p=s("./src/reddit/helpers/genericServerError/index.ts"),O=s("./src/reddit/selectors/claimgold.ts"),f=s("./src/reddit/selectors/user.ts");s.d(t,"e",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"i",function(){return _}),s.d(t,"g",function(){return E}),s.d(t,"j",function(){return h}),s.d(t,"f",function(){return I}),s.d(t,"b",function(){return T}),s.d(t,"c",function(){return S}),s.d(t,"a",function(){return v}),s.d(t,"h",function(){return C});const m="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",j="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",y=Object(r.a)(m),g=Object(r.a)(j),_=()=>async(e,t)=>{const s=t();Object(O.b)(s)?e(g()):e(y())},E="CLAIMGOLD_UPDATE_CODE",h=Object(r.a)(E),I="CLAIM_GOLD__TRIGGER_LOADER",T="CLAIM_GOLD__CLAIM_GOLD_PENDING",S="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",v="CLAIM_GOLD__CLAIM_GOLD_FAILED",C=()=>async(e,t,{apiContext:s})=>{const r={code:t().claimGold.code};e(D());try{const t=await b(s(),r);t.error?e(x(t)):e(k())}catch(n){e(x(n))}},A=Object(r.a)(I),R=Object(r.a)(T),D=()=>async(e,t)=>{e(R()),window.setTimeout(()=>{t().claimGold.api.pending&&e(A())},2e3)},P=Object(r.a)(v),x=e=>async(t,s)=>{const r=Object(f.I)(s());await t(P(Object.assign({},e,{error:e.error||Object(p.a)(r)})));const n=s().claimGold.api.error;n&&t(Object(a.e)({kind:c.b.Error,duration:a.a,text:n}))},w=Object(r.a)(S),k=()=>async(e,t)=>{e(w());const s=Object(f.I)(t());e(Object(a.e)({kind:c.b.SuccessCommunity,text:Object(n.a)(s,"gold.premiumPurchase.redeemGiftCodeSuccess")}))}},"./src/reddit/actions/comment.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/makeCommentsPageKey/index.ts"),a=s("./src/lib/makeDraftKey/index.ts"),c=s("./src/app/models/Draft.ts"),o=s("./src/app/strings/index.ts"),i=s("./src/reddit/actions/governance/async.ts"),d=s("./src/reddit/actions/modal.ts"),u=s("./src/reddit/actions/postCreation/editorContent.ts"),l=s("./src/reddit/actions/shortcuts.ts"),b=s("./src/reddit/actions/toaster.ts"),p=s("./src/reddit/actions/vote.ts"),O=s("./src/reddit/constants/adEvents.ts"),f=s("./src/reddit/constants/modals.ts"),m=s("./src/config.ts"),j=s("./src/lib/constants/index.ts"),y=s("./src/lib/makeApiRequest/index.ts"),g=s("./src/lib/omitHeaders/index.ts"),_=s("./src/reddit/constants/headers.ts"),E=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),h=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const I=(e,t)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(`${e.apiUrl}/api/save`),method:j.Fa.POST,data:{id:t}}),T=(e,t)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(`${e.apiUrl}/api/unsave`),method:j.Fa.POST,data:{id:t}}),S=(e,t)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:`${e.apiUrl}/api/ignore_reports`,method:j.Fa.POST,data:{id:t}}),v=(e,t)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:`${e.apiUrl}/api/unignore_reports`,method:j.Fa.POST,data:{id:t}});var C=s("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),A=s("./src/reddit/helpers/genericServerError/index.ts"),R=s("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),D=s("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),P=s("./src/reddit/models/PostCreationForm/index.ts");const x=async(e,t,s,r,n,a)=>{const c={api_type:"json",return_rtjson:!0,thing_id:s};if(a===P.h.MARKDOWN)c.text=r.text;else{c.text=null;let e=null;r.rteState&&(e=C.a.toRichTextJSON(r.rteState).document),c.richtext_json=JSON.stringify({document:e})}return Object(y.b)(Object(g.a)(e,[_.a]),{method:j.Fa.POST,endpoint:Object(E.a)(Object(h.a)(`${e.apiUrl}/api/comment.json`)),data:c}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(D.a)(e)}):Object.assign({},e,{body:{comment:Object(R.a)(e.body.json.data.things[0].data,n)}}):Object.assign({},e,{body:{comment:Object(R.a)(e.body,n)}}):Object.assign({},e,{error:e.error||Object(A.a)(t)}))};var w=s("./src/reddit/endpoints/post/index.tsx"),k=s("./src/reddit/endpoints/post/convert.ts"),N=s("./src/reddit/helpers/commentList/index.ts"),L=s("./src/reddit/helpers/dom/index.ts"),U=s("./src/reddit/helpers/pixels.ts"),M=s("./src/reddit/helpers/trackers/commentsPage.ts"),F=s("./src/reddit/models/Comment/index.ts"),G=s("./src/reddit/models/Post/index.ts"),B=s("./src/reddit/models/RichTextJson/index.ts"),$=s("./src/reddit/models/RichTextJson/nodeMakers.ts"),V=s("./src/reddit/models/Toast/index.ts"),H=s("./src/reddit/models/Vote/index.ts"),q=s("./src/reddit/featureFlags/index.ts"),K=s("./src/reddit/selectors/comments.ts"),W=s("./src/reddit/selectors/posts.ts"),Q=s("./src/reddit/selectors/user.ts");s.d(t,"B",function(){return Y}),s.d(t,"Da",function(){return J}),s.d(t,"m",function(){return z}),s.d(t,"O",function(){return X}),s.d(t,"Ba",function(){return Z}),s.d(t,"u",function(){return ee}),s.d(t,"t",function(){return te}),s.d(t,"s",function(){return se}),s.d(t,"U",function(){return ce}),s.d(t,"La",function(){return oe}),s.d(t,"Q",function(){return ie}),s.d(t,"i",function(){return de}),s.d(t,"h",function(){return ue}),s.d(t,"d",function(){return le}),s.d(t,"e",function(){return be}),s.d(t,"c",function(){return pe}),s.d(t,"b",function(){return Oe}),s.d(t,"j",function(){return fe}),s.d(t,"L",function(){return me}),s.d(t,"K",function(){return je}),s.d(t,"T",function(){return Ee}),s.d(t,"Ia",function(){return he}),s.d(t,"J",function(){return Te}),s.d(t,"G",function(){return Se}),s.d(t,"X",function(){return ve}),s.d(t,"Ka",function(){return Ce}),s.d(t,"P",function(){return Ae}),s.d(t,"D",function(){return Re}),s.d(t,"F",function(){return De}),s.d(t,"E",function(){return Pe}),s.d(t,"C",function(){return xe}),s.d(t,"Ha",function(){return ke}),s.d(t,"Fa",function(){return Ne}),s.d(t,"Ga",function(){return Ue}),s.d(t,"Ea",function(){return Me}),s.d(t,"o",function(){return Fe}),s.d(t,"n",function(){return Ge}),s.d(t,"k",function(){return Be}),s.d(t,"f",function(){return $e}),s.d(t,"l",function(){return Ve}),s.d(t,"M",function(){return qe}),s.d(t,"r",function(){return Qe}),s.d(t,"N",function(){return Ye}),s.d(t,"Ja",function(){return Je}),s.d(t,"V",function(){return ze}),s.d(t,"W",function(){return Xe}),s.d(t,"Aa",function(){return Ze}),s.d(t,"p",function(){return et}),s.d(t,"H",function(){return st}),s.d(t,"q",function(){return rt}),s.d(t,"z",function(){return nt}),s.d(t,"y",function(){return at}),s.d(t,"A",function(){return ct}),s.d(t,"g",function(){return ot}),s.d(t,"S",function(){return dt}),s.d(t,"R",function(){return pt}),s.d(t,"Z",function(){return Ot}),s.d(t,"w",function(){return ft}),s.d(t,"v",function(){return mt}),s.d(t,"x",function(){return jt}),s.d(t,"Y",function(){return Et}),s.d(t,"Ca",function(){return ht}),s.d(t,"a",function(){return It}),s.d(t,"I",function(){return Tt});const Y="COMMENT__STICKIED_COMMENT_SUCCESS",J=Object(r.a)(Y),z="COMMENT__MUTATED",X=Object(r.a)(z),Z=e=>async(t,s,{apiContext:r})=>{if(!Object(Q.C)(s()))return t(Object(d.i)(f.a.REGISTER_MODAL_ID)),void t(Object(d.l)({actionSource:"save",redirectUrl:Object(K.m)(s(),{commentId:e})}));const n=s().comments.models[e];if(!n)return;const a=n.isSaved?T:I;t(X({[e]:{isSaved:!n.isSaved}})),(await a(r(),e)).ok||t(X({[e]:{isSaved:n.isSaved}}))},ee="COMMENT__MORECOMMENTS_PENDING",te="COMMENT__MORECOMMENTS_LOADED",se="COMMENT__MORECOMMENTS_FAILED",re=Object(r.a)(ee),ne=Object(r.a)(te),ae=Object(r.a)(se),ce=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.moreComments.models[t],o=a.platform.currentPage,d=o&&o.routeMatch,u=d&&d.match;const l=(u?u.params:null).partialPostId;if(!l)return;const b=Object(G.f)(l);s(re({moreCommentsId:c.id}));const p=await((e,t,s)=>Object(y.b)(e,{data:s,endpoint:Object(h.a)(`${m.a.gatewayUrl}/desktopapi/v1/morecomments/${t}`),method:j.Fa.POST,type:"json"}))(n(),b,{token:c.token});if(p.ok){const t=p.body,n=Object(N.a)(t,b);if(s(ne(Object.assign({key:e,moreCommentsItem:c,shouldCollapse:n},t))),q.d.governance(r())){const e=r().posts.models[b];if(e&&"subreddit"===e.belongsTo.type){const r=Object.keys(t.comments).map(e=>{return t.comments[e].authorId}),n=e.belongsTo.id,a=await Object(i.a)();await s(a({subredditId:n,userIds:r}))}}}else s(ae(Object.assign({moreCommentsItem:c},p.error)))},oe=Object(p.b)(N.b,H.a.upvoted),ie=Object(p.b)(N.b,H.a.downvoted),de="COMMENT__FOCUSED_TOGGLED",ue="COMMENT__FOCUSED_SET",le="COMMENT__COLLAPSED_TOGGLED",be="COMMENT__COLLAPSED_UNSET",pe="COMMENTS__HIDDEN_TOGGLED",Oe="COMMENTS__HIDDEN_SET",fe="COMMENT_FORM_FOCUS_CHANGED",me=Object(r.a)(de),je=Object(r.a)(ue),ye=Object(r.a)(le),ge=Object(r.a)(be),_e=(Object(r.a)(Oe),Object(r.a)(pe),Object(r.a)(fe)),Ee=({hasFocus:e,draftKey:t})=>async(s,r)=>{!r().comments.drafts[t]||s(_e({hasFocus:e,draftKey:t}))},he=({commentId:e,commentsPageKey:t,scrollToAndRemeasure:s})=>async(r,n)=>{const a=n(),c=Object(F.c)(e),o=Object(K.o)(a,{commentLink:c,commentsPageKey:t}).depth,i=!a.comments.collapsed[t][e];r(ye({commentId:e,commentsPageKey:t})),i&&0===o&&s(e,!0),Object(l.r)()},Ie=({commentId:e,commentsPageKey:t})=>async(s,r)=>{s(ge({commentId:e,commentsPageKey:t}))},Te=({commentLink:e,commentsPageKey:t,lineDepth:s,scrollToAndRemeasure:r})=>async(n,a)=>{const c=a(),o=Object(N.e)(t,e,s,c);n(ye({commentId:o,commentsPageKey:t})),0===s&&r(o,!0),Object(l.r)()},Se=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.comments.models[e],c=n.user.account?n.user.account.displayText:null;a&&c&&(t(X({[e]:{isApproved:!0,approvedBy:c,bannedBy:null,isRemoved:!1,isSpam:!1,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}})),(await((e,t)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(`${e.apiUrl}/api/approve`),method:j.Fa.POST,data:{id:t}}))(r(),e)).ok||t(X({[e]:{isApproved:a.isApproved,approvedBy:null,bannedBy:a.bannedBy,isRemoved:a.isRemoved,isSpam:a.isSpam,modNote:a.modNote,modReasonBy:a.modReasonBy,modRemovalReason:a.modRemovalReason,numReports:a.numReports||null}})),Object(l.r)())},ve=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.comments.models[e],o=a.user.account?a.user.account.displayText:null;c&&o&&(s(X({[e]:{approvedBy:null,bannedBy:o,isApproved:!1,isRemoved:!t,isSpam:t}})),(await((e,t,s)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(`${e.apiUrl}/api/remove`),method:j.Fa.POST,data:{id:t,spam:s}}))(n(),e,t)).ok||s(X({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam}})),Object(l.r)())},Ce=e=>async(t,s,{apiContext:r})=>{const n=s().comments.models[e];if(!n)return;const a=n.ignoreReports?v:S;t(X({[e]:{ignoreReports:!n.ignoreReports}})),(await a(r(),e)).ok||t(X({[e]:{ignoreReports:n.ignoreReports}}))},Ae=(e,t,s)=>async(r,a,{apiContext:c})=>{const o=a(),i=o.comments.models[e];if(!i)return;const d=i.postId,u=o.postStickiedComments.data[d],l=j.h[t];r(X({[e]:{distinguishType:t,isAdmin:t===j.C.ADMIN,isMod:t===j.C.MODERATOR,isStickied:!!s}})),s&&u&&u!==e&&r(X({[u]:{isStickied:!1}})),(await((e,t,s,r)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(`${e.apiUrl}/api/distinguish/${s}`),method:j.Fa.POST,data:{id:t,sticky:r}}))(c(),e,l,s||null)).ok?s&&r(J({id:e,postId:d,commentsPageKey:Object(n.a)(d,null,Object.assign({sort:j.t.CONFIDENCE},o.platform.currentPage.queryParams))})):(r(X({[e]:{distinguishType:i.distinguishType,isAdmin:i.isAdmin,isMod:i.isMod,isStickied:i.isStickied}})),r(X({[u]:{isStickied:o.comments.models[u].isStickied}})))},Re="COMMENT__SUBMIT_COMMENT_PENDING",De="COMMENT__SUBMIT_REPLY_TO_POST_SUCCESS",Pe="COMMENT__SUBMIT_REPLY_TO_COMMENT_SUCCESS",xe="COMMENT__SUBMIT_COMMENT_FAILURE",we=Object(r.a)(Re),ke=Object(r.a)(De),Ne=Object(r.a)(Pe),Le=Object(r.a)(xe),Ue=(e,t,s,r,n,a)=>async(c,o,{apiContext:i})=>{const d=o(),u=d.comments.submit.pending[r];if(!d.user.account||u)return;M.f(o(),a),c(we({draftKey:r,draft:n}));const b=d.user.account.displayText,p=n.commentMode,f=await x(i(),e,t,n,b,p);if(f.ok){c(ke(Object.assign({},f.body,{headCommentId:Object(K.w)(d,{commentsPageKey:s}),commentsPageKey:s,draftKey:r})));const e=Object(W.C)(o(),{postId:t});Object(U.a)(e.events,O.a.CommentSubmitted)}else c(Le({draftKey:r,error:f.error}));Object(l.r)()},Me=e=>async(t,s,{apiContext:r})=>{const n=e.language,a=e.parentCommentId,c=e.commentsPageKey,o=e.parentCommentDepth,i=e.draftKey,d=e.formData,u=e.editorMode,b=s(),p=b.comments.submit.pending[i];if(!b.user.account||p)return;M.f(b,u),t(we({draftKey:i,draft:d}));const O=b.user.account.displayText,f=d.commentMode,m=await x(r(),n,a,d,O,f);m.ok?t(Ne(Object.assign({},m.body,{parentCommentId:a,commentsPageKey:c,draftKey:i,depth:o+1}))):t(Le({draftKey:i,error:m.error})),Object(l.r)()},Fe="COMMENT__COMMENT_REPLY_FORM_OPENED",Ge="COMMENT__COMMENT_REPLY_FORM_CANCELLED",Be="COMMENT__COMMENT_FORM_MUTATED",$e="COMMENT__COMMENT_DRAFT_CLEARED",Ve="COMMENT__COMMENT_FORM_SWITCHED_MODE",He=Object(r.a)(Fe),qe=Object(r.a)(Ge),Ke=Object(r.a)(Be),We=(Object(r.a)($e),Object(r.a)(Ve)),Qe="INITIALIZE_COMMENT_EDITOR_MODE",Ye=(Object(r.a)(Qe),(e,t,s)=>async(r,n,{apiContext:a})=>{const c=e===P.h.RICH_TEXT,i=Object(Q.I)(n());if(!t||"object"==typeof t&&Object(B.E)(t))r(We({editorMode:e,draftKey:s,content:c?B.i:""}));else{r(Object(u.f)(s));const n=await Object(k.a)(a(),e,c?t:JSON.stringify(t));if(n.ok){const t=n.body.output;r(Object(u.e)(s)),r(We({editorMode:e,draftKey:s,content:t}))}else r(Object(u.e)(s)),r(Object(b.e)({duration:b.a,kind:V.b.Error,text:Object(o.a)(i,"error.generic")}))}}),Je=({parentCommentId:e,commentsPageKey:t})=>async(s,r)=>{const n=r(),o=Object(a.a)(c.a.replyToComment,e);if(!Object(Q.C)(r()))return s(Object(d.i)(f.a.REGISTER_MODAL_ID)),void s(Object(d.l)({actionSource:"reply",redirectUrl:Object(K.m)(r(),{commentId:e})}));if(n.comments.replyFormOpen[t]&&n.comments.replyFormOpen[t][e])return void s(qe({parentCommentId:e,commentsPageKey:t}));let i="",u=null;const l=n.user.prefs.commentMode,b=Object(L.c)();if(b){const e=b.filter(e=>!!e&&10!==e.charCodeAt(0));if(l===P.h.MARKDOWN)i=e.map(e=>`> ${e}\n`).join("");else{const t=e.map(e=>$.r(e,null)).map(e=>$.k([e])),s=$.r("",null),r=$.k([s]);u={document:[$.c(t),r]}}}const p=n.comments.drafts[o];let O;O=b?{commentMode:l,draftType:c.a.replyToComment,rtJson:u,text:`${i}\n`}:p||{commentMode:l,draftType:c.a.replyToComment,rtJson:u,text:""},s(He({parentCommentId:e,commentsPageKey:t,draftKey:o,formData:O}))},ze=e=>async(t,s)=>{t(Ie(e)),t(dt(e))},Xe=({parentCommentId:e,commentsPageKey:t})=>async(s,r)=>{s(qe({parentCommentId:e,commentsPageKey:t})),s(Je({parentCommentId:e,commentsPageKey:t})),s(Ie({commentId:e,commentsPageKey:t}))},Ze=(e,t)=>s=>s(Ke({draftKey:e,formData:t})),et="COMMENT__DISABLE_AUTOFOCUS",tt=Object(r.a)(et),st=e=>t=>t(tt({draftKey:e})),rt="COMMENT__EDIT_COMMENT_ENABLED",nt="COMMENT__REQUEST_EDIT_PENDING",at="COMMENT__REQUEST_EDIT_FAILURE",ct="COMMENT__REQUEST_EDIT_SUCCESS",ot="COMMENT__COMMENT_EDIT_FORM_CANCELLED",it=Object(r.a)(rt),dt=({commentId:e,commentMode:t,commentsPageKey:s,draftKey:r,text:n})=>async(a,o)=>{const i=o();i.user.account&&(M.c(i),a(it({commentId:e,commentsPageKey:s,draftKey:r,formData:{text:n,commentMode:t,rteState:null,draftType:c.a.edit,hasFocus:!0}})))},ut=Object(r.a)(nt),lt=Object(r.a)(at),bt=Object(r.a)(ct),pt=Object(r.a)(ot),Ot=({language:e,id:t,commentsPageKey:s,depth:r,draftKey:n,formData:a})=>async(r,c,{apiContext:o})=>{const i=c();if(!i.user.account)return;r(ut({draftKey:n})),M.d(i);const d=i.user.account.displayText||"",u=a.commentMode,l=await(async(e,t,s,r,n,a,c)=>{const o={api_type:"json",return_rtjson:!0,thing_id:s};if(c===P.h.MARKDOWN)o.text=n.text;else{o.text=null;let e=null;n.rteState&&(e=C.a.toRichTextJSON(n.rteState).document),o.richtext_json=JSON.stringify({document:e})}return Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(Object(h.a)(`${e.apiUrl}/api/editusertext`)),method:j.Fa.POST,data:o}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(D.a)(e)}):Object.assign({},e,{body:{comment:Object(R.a)(e.body.json.data.things[0].data,a)}}):Object.assign({},e,{body:{comment:Object(R.a)(e.body,a)}}):Object.assign({},e,{error:e.error||Object(A.a)(t)}))})(o(),e,t,0,a,d,u);if(l.ok){const e=l.body;r(bt({commentId:t,commentsPageKey:s,draftKey:n})),r(X({[t]:Object.assign({},e.comment)}))}else r(lt({draftKey:n,error:l.error}))},ft="COMMENT__REQUEST_DELETE_PENDING",mt="COMMENT__REQUEST_DELETE_FAILURE",jt="COMMENT__REQUEST_DELETE_SUCCESS",yt=Object(r.a)(ft),gt=Object(r.a)(mt),_t=Object(r.a)(jt),Et=(e,t,s,r)=>async(r,n,{apiContext:a})=>{const c=n();if(!c.user.account)return;r(yt({id:t})),M.a(t,c);const o=await((e,t,s)=>Object(y.b)(Object(g.a)(e,[_.a]),{endpoint:Object(E.a)(`${e.apiUrl}/api/del`),method:j.Fa.POST,data:{id:t}}).then(e=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(D.a)(e)}):Object.assign({},e,{body:{}}):Object.assign({},e,{error:e.error||Object(A.a)(s)})))(a(),t,e);o.ok?r(_t({id:t,postId:s})):r(gt({id:t,error:o.error}))},ht=e=>async(t,s,{apiContext:r})=>{const n=!s().comments.models[e].sendReplies;t(X({[e]:{sendReplies:n}})),(await Object(w.o)(r(),e,n)).ok||t(X({[e]:{sendReplies:!n}}))},It="COMMENT__CHANGE_HIGHLIGHT_FILTER",Tt=Object(r.a)(It)},"./src/reddit/actions/commentList.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"c",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/helpers/trackers/commentList.ts");const a="COMMENTLIST__MARKED_END",c="COMMENTLIST__UNMARKED_END",o=Object(r.a)(a),i=Object(r.a)(c),d=(e,t)=>async(s,r)=>{const a=r();e in a.profileCommentsPage.fetchedTokens?e in a.profileCommentsPage.commentIds?s(i({listingKey:e})):n.a(a,e):s(o({listingKey:e,listingName:t}))}},"./src/reddit/actions/contentGate.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"e",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"h",function(){return j}),s.d(t,"i",function(){return y}),s.d(t,"j",function(){return g}),s.d(t,"k",function(){return _}),s.d(t,"l",function(){return E}),s.d(t,"g",function(){return h});var r=s("./src/config.ts"),n=s("./node_modules/js-cookie/src/js.cookie.js"),a=s.n(n),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/constants/cookie.ts"),i=s("./src/reddit/endpoints/user/preferences.ts"),d=s("./src/reddit/selectors/user.ts");const u="CONTENTGATE__VISITED_GOLD_SUBREDDIT",l="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",b="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",p="CONTENTGATE__SET_OVER_18_PREF",O="CONTENTGATE__VISITED_BANNED_SUBREDDIT",f="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",m=Object(c.a)(p),j=Object(c.a)(O),y=Object(c.a)(f),g=Object(c.a)(u),_=Object(c.a)(l),E=Object(c.a)(b),h=()=>async(e,t,{apiContext:s})=>{const n=t();if(Object(d.C)(n)&&n.platform.currentPage)await Object(i.e)(s());else{const e=new Date;e.setFullYear(e.getFullYear()+2),a.a.set(o.g,"1",{expires:e,domain:r.a.cookieDomain})}e(m({over18:!0}))}},"./src/reddit/actions/dashboard.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return o}),s.d(t,"f",function(){return i}),s.d(t,"e",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts");const n="DASHBOARD__COMPONENT_SELECTED",a="DASHBOARD__SUBREDDIT_SELECTED",c="DASHBOARD__SUBREDDIT_LOADED",o=Object(r.a)(n),i=Object(r.a)(a),d=Object(r.a)(c)},"./src/reddit/actions/discoveryUnit.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/makeListingKey/index.ts"),c=s("./src/reddit/actions/category.ts"),o=s("./src/reddit/actions/page.ts"),i=s("./src/lib/addQueryParams/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/lib/stringInterpolate/index.ts"),b=s("./src/reddit/constants/headers.ts"),p=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts");const O=e=>{const t=[],s={};return e.data.children.forEach(e=>{const r=Object(p.a)(e.data);t.push(r.id),s[r.id]=r}),{postIds:t,posts:s}};var f=s("./src/reddit/models/DiscoveryUnit/index.ts"),m=s("./src/reddit/selectors/category.ts"),j=s("./src/reddit/selectors/discoveryUnit.ts"),y=s("./src/reddit/selectors/listings.ts"),g=s("./src/reddit/selectors/posts.ts");s.d(t,"c",function(){return _}),s.d(t,"b",function(){return E}),s.d(t,"a",function(){return h}),s.d(t,"h",function(){return v}),s.d(t,"f",function(){return C}),s.d(t,"e",function(){return A}),s.d(t,"d",function(){return R}),s.d(t,"i",function(){return w}),s.d(t,"g",function(){return N}),s.d(t,"j",function(){return L});const _="DISCOVERY_UNIT__LIST_PENDING",E="DISCOVERY_UNIT__LIST_LOADED",h="DISCOVERY_UNIT__LIST_FAILED",I=Object(n.a)(_),T=Object(n.a)(E),S=Object(n.a)(h),v=()=>async(e,t,{apiContext:s})=>{const r=t(),n=Object(j.g)(r),a=Object(j.f)(r);if(n||a)return;e(I());const c=await(e=>Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"community",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"community",url:"/r/%{subredditName}/hot.json"},{id:"xd_70",enabled:!0,layout:"large",surface:"search",unit_name:"search_posts",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_71",enabled:!0,layout:"large",surface:"search",unit_name:"search_subreddits",unit_type:"community_category",url:"/api/subreddits_in_category.json"}]}}}}))(s());if(c.ok){const t=(e=>{return{discoveryUnits:e.global.discovery_config_v1.discovery_units.reduce((e,t)=>{const s={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[s.id]=s,e},{})}})(c.body).discoveryUnits;e(T({discoveryUnits:t}))}else e(S({error:c.error}))},C="DISCOVERY_UNIT__UNIT_DATA_PENDING",A="DISCOVERY_UNIT__UNIT_DATA_LOADED",R="DISCOVERY_UNIT__UNIT_DATA_FAILED",D=Object(n.a)(C),P=Object(n.a)(A),x=Object(n.a)(R),w=(e,t)=>async(s,n,{apiContext:c})=>{const o=n(),i=Object(a.a)(e,r.U.HOT,{category:t}),l=Object(y.h)(o,{listingKey:i}),p=!!o.listings.listingOrder.fetchedTokens[i];if(l||p)return;s(D({key:i}));const f=await((e,t)=>Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/posts_in_category.json?category=${t}`,method:r.Fa.GET}))(c(),t);if(f.ok){var m=O(f.body);const e=m.postIds,t=m.posts,r=e.length>0?e.length-1:0;s(P({key:i,meta:o.meta,postIds:e,posts:t,token:e[r]}))}else s(x({key:i,error:f.error}))},k=(e,t,s)=>async(n,c,{apiContext:o})=>{const p=c(),m=e.unitName,j=Object(a.a)(m,r.U.HOT,Object.assign({},e.parameters,t)),g=Object(y.j)(p,{listingKey:j}),_=g?g.token:void 0,E=Object(y.h)(p,{listingKey:j});if(g){if(!s)return;{const e=Object(y.i)(p,{listingKey:j,token:g.token});if(E||e)return}}else{const e=!!p.listings.listingOrder.fetchedTokens[j];if(E||e)return}n(D({fetchedToken:_,key:j}));const h=Object.assign({},t,{after:_}),I=await((e,t,s)=>{let n=t.url;return t.parameters&&(n=Object(i.a)(Object(l.a)(n,t.parameters),t.parameters)),s&&(n=Object(i.a)(Object(l.a)(n,s),s)),Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:`${e.apiUrl}${n}`,method:r.Fa.GET})})(o(),e,h);if(I.ok)switch(e.unitType){case f.a.Listing:case f.a.CommunityCategory:case f.a.Community:{var T=O(I.body);const e=T.postIds,t=T.posts;n(P({fetchedToken:_,key:j,meta:p.meta,postIds:e,posts:t,token:e[e.length-1]}));break}}else n(x({key:j,error:I.error}))},N=(e,t,s,r)=>async(n,a,{apiContext:o})=>{let i;if(await n(c.g()),!s&&!(i=Object(m.f)(a(),{categoryName:t})))return;const d=s||i&&i.id;await Promise.all([n(k(e,{category:d},r)),n(c.h(d))])},L=(e,t,s)=>async(n,c,{apiContext:i})=>{const d=Object(a.a)(t,r.U.HOT);0===Object(g.y)(c(),{listingKey:d}).length&&await n(o.P(d,t,{},!0)),await n(k(e,{subredditName:t},s))}},"./src/reddit/actions/embedAndImage.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return o});var r=s("./src/lib/makeActionCreator/index.ts");const n="EMBEDS__UNLOADABLE",a="EMBEDS__LOADABLE",c=Object(r.a)(n),o=Object(r.a)(a)},"./src/reddit/actions/emoji.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/forEach.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),i=s("./src/lib/uploadToS3/index.ts"),d=s("./src/reddit/constants/headers.ts");var u=s("./src/lib/makeActionCreator/index.ts"),l=s("./src/reddit/actions/imageUploads.ts"),b=s("./src/reddit/helpers/getGenericUploadError.ts"),p=s("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),O=s("./src/reddit/helpers/media/index.ts"),f=s("./src/reddit/models/Emoji/index.ts"),m=s("./src/reddit/models/Image/index.tsx"),j=s("./src/reddit/selectors/subreddit.ts"),y=s("./src/reddit/actions/toaster.ts");s.d(t,"g",function(){return g}),s.d(t,"d",function(){return E}),s.d(t,"c",function(){return h}),s.d(t,"f",function(){return S}),s.d(t,"e",function(){return v}),s.d(t,"a",function(){return R}),s.d(t,"n",function(){return x}),s.d(t,"m",function(){return k}),s.d(t,"j",function(){return N}),s.d(t,"k",function(){return L}),s.d(t,"h",function(){return U}),s.d(t,"i",function(){return M}),s.d(t,"b",function(){return F}),s.d(t,"l",function(){return B});const g="STRUCTURED_STYLES__NEW_EMOJI_ADDED",_=Object(u.a)(g),E="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",h="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",I=Object(u.a)(E),T=Object(u.a)(h),S="GET_ALL_EMOJIS_LOADED",v="GET_ALL_EMOJIS_FAILED",C=Object(u.a)(S),A=Object(u.a)(v),R="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",D=Object(u.a)(R),P=e=>({text:"Failed to save emoji",buttonText:"Retry",buttonAction:k(e)}),x=({imageData:e,subredditId:t})=>async(s,r,n)=>{const u=r(),b=Object(j.B)(u,{subredditId:t}).name;s(Object(l.k)(e));const p=e.file,f=await Object(O.f)(p),y=await(async(e,t,s,r)=>Object(c.b)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji_asset_upload_s3.json`,method:a.Fa.POST,data:{filepath:s,mimetype:r}}))(n.apiContext(),b,p.name,f);if(y.ok){const t=await(async(e,t,s)=>Object(i.a)(s,t))(n.apiContext(),y.body.s3UploadLease,p);if(t.ok){if(!r().imageUploads[e.id])return void Object(m.d)(e);const n=decodeURIComponent(t.body.PostResponse.Location),a=y.body.websocketUrl,c=Object(m.m)(e,n,a);s(Object(l.j)(c))}else{const r=Object(m.j)(e,t.error);s(Object(l.i)(r))}}else{const t=Object(m.j)(e,y.error);s(Object(l.i)(t))}},w=(e,t)=>async(s,r,n)=>{const i=e.imageData,u=e.subredditId,b=e.emojiName,O=Object(p.a)(i.url),f=r(),g=Object(j.B)(f,{subredditId:u}).name,_=await(async(e,t,s,r)=>Object(c.b)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji.json`,method:a.Fa.POST,data:{s3_key:s,name:r}}))(n.apiContext(),g,O,b);if(!_.ok){const r=Object(m.j)(i,_.error);s(Object(l.i)(r)),s(Object(y.e)(P(e))),t&&t.close()}},k=e=>async(t,s,r)=>{const n=e.imageData,a=e.subredditId,c=e.emojiName;if(t(Object(l.k)(n)),!n.websocketUrl)return t(Object(y.e)({text:"Could not upload emoji"}));const o=new WebSocket(n.websocketUrl);o.onopen=(async()=>{await w(e,o)(t,s,r)}),o.onmessage=(s=>{const r=JSON.parse(s.data);if("success"===r.type){const e=r.payload.emoji_url,s=Object(m.n)(n,e);t(Object(l.l)(s));const o=Object(f.e)(c,s.url,a);t(_(o))}else{const s=Object(b.a)(c),r=Object(m.j)(n,s);t(Object(l.i)(r)),t(Object(y.e)(P(e)))}o.close()}),o.onerror=(s=>{const r=Object(b.a)(c),a=Object(m.j)(n,r);t(Object(l.i)(a)),t(Object(y.e)(P(e))),o.close()})},N=e=>async(t,s,{apiContext:r})=>{const i=s(),u=Object(j.B)(i,{subredditId:e}).name,l=await(async(e,t)=>Object(c.b)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emojis/all`,method:a.Fa.GET,type:"json"}).then(e=>(e.ok&&n()(e.body,e=>n()(e,(e,t)=>e.name=t)),e)))(r(),u);if(l.ok){const e=l.body;t(C(e))}else t(A(l.error))},L=e=>async(t,s,{apiContext:r})=>{s().emojis[e]||t(N(e))},U=(e,t)=>async(s,r,{apiContext:n})=>{const i=r(),u=Object(j.B)(i,{subredditId:t}).name,l=await(async(e,t,s)=>Object(c.b)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${s}/emoji/${t}`,method:a.Fa.DELETE,type:"json"}))(n(),e,u);if(l.ok){s(I({emojiName:e,subredditId:t}))}else s(T(l.error))},M=(e,t)=>async(s,r,{apiContext:n})=>{const i=r(),u=Object(j.B)(i,{subredditId:e}).name;if((await(async(e,t,s)=>Object(c.b)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/enable_emojis_in_sr.json`,method:a.Fa.POST,data:{subreddit:t,enable:s}}))(n(),u,t)).ok){s(D({subredditId:e,emojisEnabled:t}))}},F="EMOJI_CUSTOM_SIZE_UPDATED",G=Object(u.a)(F),B=(e,t)=>async(s,r,{apiContext:n})=>{const i=r(),u=Object(j.B)(i,{subredditId:e}).name;(await(async(e,t,s)=>Object(c.b)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji_custom_size`,method:a.Fa.POST,data:s}))(n(),u,t)).ok&&s(G({subredditId:e,emojiCustomSize:t}))}},"./src/reddit/actions/events.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),d=s("./src/reddit/constants/headers.ts");var u=(e,t)=>Object(o.b)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/start_event_post.json`,method:c.Fa.POST,data:{id:t}}),l=s("./src/reddit/models/Toast/index.ts"),b=s("./src/reddit/selectors/posts.ts");s.d(t,"a",function(){return p}),s.d(t,"b",function(){return f});const p="START_EVENT_NOW_SUCCESS",O=Object(n.a)(p),f=e=>async(t,s,{apiContext:n})=>{const c=await u(n(),e),o=s();if(c.ok){t(O({postId:e}));const n=s(),c=Object(b.C)(n,{postId:e}),o=c&&c.title||"";t(Object(a.e)({kind:l.b.SuccessMod,text:Object(r.a)(n.user.language,"events.eventStartedSuccessfully",{title:o})}))}else t(Object(a.e)({kind:l.b.Error,text:Object(r.a)(o.user.language,"error.type.generic")}))}},"./src/reddit/actions/experiments.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/lib/makeActionCreator/index.ts");s("./src/reddit/endpoints/user/index.ts");const n="EXPERIMENTS__REQUEST_LOADED",a=(Object(r.a)("EXPERIMENTS__REQUEST_PENDING"),Object(r.a)("EXPERIMENTS__REQUEST_FAILED"),Object(r.a)(n),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),c=Object(r.a)(a)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"d",function(){return _}),s.d(t,"e",function(){return E});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/loadWithRetries/index.ts"),c=s("./src/reddit/actions/structuredStyles.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/models/StructuredStyles/index.ts"),d=s("./src/reddit/models/Toast/index.ts"),u=s("./src/reddit/selectors/subreddit.ts");const l="STRUCTURED_STYLES__EXPORT_THEME_PENDING",b="STRUCTURED_STYLES__EXPORT_THEME_LOADED",p="STRUCTURED_STYLES__EXPORT_THEME_FAILED",O=Object(r.a)(l),f=Object(r.a)(b),m=Object(r.a)(p),j=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),y=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),g=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),_=e=>async(t,r)=>{t(O());const c=r(),i=c.user.language,l=Object(u.B)(c,{subredditId:e}).name,b=c.structuredStyles.models[e],p=await Object(a.a)(()=>Promise.all([s.e("vendors~ExportTheme~ImportTheme~xml2js"),s.e("vendors~ExportTheme~ImportTheme"),s.e("ExportTheme")]).then(s.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))).then(e=>e.default),j=await p(b,l);j.ok?(t(f()),t(Object(o.e)({kind:d.b.SuccessMod,text:Object(n.a)(i,"structuredStyles.forms.themes.exportSuccessToast")}))):(t(m(j.error)),t(Object(o.e)({kind:d.b.Error,text:Object(n.a)(i,"structuredStyles.forms.themes.exportFailToast")})))},E=e=>async(t,r)=>{t(j());const u=r().user.language,l=await Object(a.a)(()=>Promise.all([s.e("vendors~ExportTheme~ImportTheme~xml2js"),s.e("vendors~ExportTheme~ImportTheme"),s.e("ImportTheme")]).then(s.bind(null,"./src/reddit/helpers/importTheme/index.ts"))).then(e=>e.default),b=await l(e);b.ok?(t(y()),t(Object(o.e)({kind:d.b.SuccessMod,text:Object(n.a)(u,"structuredStyles.forms.themes.importSuccessToast")})),0!==Object.keys(b.attributes).length&&t(Object(c.n)(Object(i.f)(b.attributes)))):(t(g(b.error)),t(Object(o.e)({kind:d.b.Error,text:Object(n.a)(u,"structuredStyles.forms.themes.importFailToast")})))}},"./src/reddit/actions/externalAccount.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/addQueryParams/index.ts"),c=s("./src/reddit/actions/toaster.ts"),o=s("./src/reddit/constants/parameters.ts"),i=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/reddit/constants/headers.ts"),b=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");const p=e=>{return e.reduce((e,t)=>(e[t.provider]=t,e),{})};var O=s("./src/reddit/featureFlags/index.ts"),f=s("./src/reddit/models/Toast/index.ts"),m=s("./src/reddit/models/User/index.ts"),j=s("./src/reddit/selectors/externalAccount.ts"),y=s("./src/reddit/selectors/platform.ts"),g=s("./src/reddit/selectors/subreddit.ts"),_=s("./src/reddit/selectors/user.ts");s.d(t,"l",function(){return E}),s.d(t,"k",function(){return h}),s.d(t,"j",function(){return I}),s.d(t,"i",function(){return T}),s.d(t,"h",function(){return S}),s.d(t,"g",function(){return v}),s.d(t,"o",function(){return w}),s.d(t,"p",function(){return k}),s.d(t,"b",function(){return N}),s.d(t,"c",function(){return L}),s.d(t,"a",function(){return U}),s.d(t,"n",function(){return B}),s.d(t,"e",function(){return $}),s.d(t,"f",function(){return V}),s.d(t,"d",function(){return H}),s.d(t,"m",function(){return Q});const E="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",h="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",I="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",T="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",S="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",v="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",C=Object(r.a)(E),A=Object(r.a)(h),R=Object(r.a)(I),D=Object(r.a)(T),P=Object(r.a)(S),x=Object(r.a)(v),w=e=>async(t,s,{apiContext:r})=>{const n=s();if(!O.d.externalAccounts(n))return;const a=Object(_.j)(n),c=e||a&&Object(m.d)(a);if(!c)return;if(Object(j.f)(n,{username:c}))return;t(C(c));const o=await((e,t)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/user/${t}.json`),method:i.Fa.GET}))(r(),c);if(o.ok){const e=p(o.body);t(A({username:c,accountsData:e}))}else t(R(o.error))},k=()=>async(e,t,{apiContext:s})=>{const r=t();if(!O.d.externalAccounts(r))return;const n=Object(y.e)(r);if(!n)return;const a=r.externalAccount.api.subreddit.fetched[n],c=r.externalAccount.api.subreddit.pending[n];if(a||c)return;const o=Object(g.r)(r,{subredditName:n});if(!(o&&o.hasExternalAccount))return;e(D(n));const f=await((e,t)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/subreddit/${t}.json`),method:i.Fa.GET}))(s(),n);if(f.ok){const t=p(f.body);e(P({subredditName:n,accountsData:t}))}else e(x(f.error))},N="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",L="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",U="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",M=Object(r.a)(N),F=Object(r.a)(L),G=Object(r.a)(U),B=e=>async(t,s,{apiContext:r})=>{t(M({provider:e}));const n=Object(_.j)(s()),a=Object(m.d)(n),c=await((e,t)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/${t}/disconnect.json`),method:i.Fa.POST}))(r(),e);c.ok?t(F({provider:e,username:a})):t(G({provider:e,error:c.error}))},$="OAUTH_FLOW_URL_PENDING",V="OAUTH_FLOW_URL_SUCCESS",H="OAUTH_FLOW_URL_FAILED",q=Object(r.a)($),K=Object(r.a)(V),W=Object(r.a)(H),Q=e=>async(t,s,{apiContext:r})=>{t(q({provider:e}));const p=Object(_.I)(s()),O=Object(a.a)(window.location.href,{[o.c]:e}),m=await((e,t,s)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/${t}/connect.json`),method:i.Fa.POST,data:{redirect_url:s}}))(r(),e,O);if(m.ok){const s=m.body.redirect_url;t(K({provider:e})),window.location.href=s}else t(W({provider:e,error:m.error})),t(Object(c.e)({kind:f.b.Error,text:Object(n.a)(p,"error.type.generic")}))}},"./src/reddit/actions/frontpage.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return g}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"d",function(){return S});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/getParsedUserAgent/index.ts"),c=s("./src/reddit/actions/page.ts"),o=s("./src/reddit/constants/parameters.ts"),i=s("./src/reddit/endpoints/page/frontpage.ts"),d=s("./src/reddit/endpoints/page/subredditPage.ts"),u=s("./src/lib/makeActionCreator/index.ts"),l=s("./src/lib/makeListingKey/index.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/reddit/constants/page.ts"),O=s("./src/reddit/constants/postLayout.ts"),f=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/reddit/helpers/filterListingResponse/index.ts"),j=s("./src/reddit/selectors/frontpage.ts"),y=s("./src/reddit/selectors/monthsToMinutes.ts");const g="FRONTPAGE__MORE_POSTS_PENDING",_="FRONTPAGE__MORE_POSTS_LOADED",E="FRONTPAGE__MORE_POSTS_FAILED",h=Object(u.a)(g),I=Object(u.a)(_),T=Object(u.a)(E),S=e=>async(t,s,{apiContext:r})=>{const u=s(),g=Object(j.a)(u);var _=e.sort;const E=void 0===_?g:_,S=u.platform.currentPage?u.platform.currentPage.queryParams:{},v=Object(l.a)(p.b,E,S),C=u.listings.postOrder.loadMore[v],A=S[o.p]?S[o.p].toUpperCase():"",R=A in b.Lb&&b.Lb[A];if(C){const e=u.listings.postOrder.api.pending[v],s=u.listings.postOrder.fetchedTokens,l=!(!s[v]||!s[v][C.token]);if(!e&&!l){t(h({key:v,fetchedToken:C.token}));const e=!!u.platform.currentPage&&!!u.platform.currentPage.queryParams.useMockData,s=Object.assign({after:C.token,dist:C.dist},n()(S,o.j),{isMobile:Object(a.d)(u.meta.userAgent),sort:E,t:Object(c.F)(E,R),layout:O.c[Object(f.K)(u,{})],useMockData:e}),l=Object(y.h)(u),b=Object(y.i)(u),p=l&&b;if(!p){const e=u.platform.lastPage,t=e&&e.url;t&&(s.clickUrl=t)}const j=p?()=>Object(d.a)(r(),l,s):()=>Object(i.a)(r(),s),g=await j(),_=Object.assign({},g.body,Object(m.a)(u,v,g.body));g.ok?t(I(Object.assign({key:v,fetchedToken:C.token,meta:u.meta},_))):t(T(Object.assign({key:v,error:g.error,fetchedToken:C.token},_)))}}}},"./src/reddit/actions/global.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/raven/index.ts"),a=s("./src/reddit/selectors/monthsToMinutes.ts"),c=s("./src/reddit/actions/monthsToMinutes.ts");const o="LOCAL_STORAGE_LOADED",i=Object(r.a)(o),d=e=>async(t,s)=>{Object(a.m)(s())&&t(Object(c.q)()),s().user.loid.loid||Object(n.c)("User has no LOID set");const r=e.localStorageData;r&&t(i(r))}},"./src/reddit/actions/gold/constants.ts":function(e,t,s){"use strict";s.d(t,"t",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"s",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"r",function(){return o}),s.d(t,"l",function(){return i}),s.d(t,"p",function(){return d}),s.d(t,"k",function(){return u}),s.d(t,"m",function(){return l}),s.d(t,"o",function(){return b}),s.d(t,"n",function(){return p}),s.d(t,"q",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"g",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"j",function(){return y}),s.d(t,"i",function(){return g}),s.d(t,"d",function(){return _}),s.d(t,"h",function(){return E}),s.d(t,"c",function(){return h});const r="GIVE_PREMIUM__OPEN_GIVE_PREMIUM_MODAL",n="GIVE_PREMIUM__CLOSE_GIVE_PREMIUM_MODAL",a="GILD__OPEN_GILD_MODAL",c="GILD__CLOSE_GILD_MODAL",o="GILD__OPEN_FRAMED_GILD",i="GIVE_PREMIUM__GIVE_PREMIUM_PENDING",d="GIVE_PREMIUM__GIVE_PREMIUM_SUCCESSFUL",u="GIVE_PREMIUM__GIVE_PREMIUM_FAILED",l="GIVE_PREMIUM__SELECT_PACKAGE",b="GIVE_PREMIUM__SET_IS_ANONYMOUS",p="GIVE_PREMIUM__SET_INCLUDE_MESSAGE",O="GIVE_PREMIUM__UPDATE_MESSAGE",f="GILD__SELECT_GILD_TYPE",m="GILD__SET_IS_ANONYMOUS",j="GILD__SET_INCLUDE_MESSAGE",y="GILD__UPDATE_MESSAGE",g="GILD__TRIGGER_LOADER",_="GILD__GILD_PENDING",E="GILD__GILD_SUCCESSFUL",h="GILD__GILD_FAILED"},"./src/reddit/actions/gold/modals.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"d",function(){return b}),s.d(t,"c",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"f",function(){return m});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/messageIframeParent/index.ts"),a=s("./src/reddit/selectors/gild.ts"),c=s("./src/reddit/helpers/correlationIdTracker.ts"),o=s("./src/telemetry/index.ts"),i=s("./src/reddit/actions/gold/constants.ts");const d=Object(r.a)(i.t),u=Object(r.a)(i.b),l=()=>async(e,t)=>{const r=t();e(u()),Object(c.b)(c.a.GiftPremiumFlow);const n=(await s.e("givePremiumTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"))).clickCloseModalEvent;Object(o.a)(n()(r))},b=Object(r.a)(i.s),p=Object(r.a)(i.a),O=Object(r.a)(i.r),f=()=>async(e,t)=>{const r=t(),i=Object(a.d)(r);if(Object(a.h)(r)){const e="close.gild";Object(n.a)({type:e})}e(p());const d=(await s.e("gildTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/gild.ts"))).clickCloseGildModalEvent;Object(o.a)(d(i)(r)),Object(c.b)(c.a.GildingFlow)},m=()=>async()=>{Object(n.a)({type:"login.gild"})}},"./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"e",function(){return j}),s.d(t,"h",function(){return y}),s.d(t,"k",function(){return g}),s.d(t,"j",function(){return _}),s.d(t,"d",function(){return E}),s.d(t,"i",function(){return I});var r=s("./src/app/strings/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/formatApiError/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/goldPurchaseModals/payment.ts"),i=s("./src/reddit/endpoints/gold/purchase.ts"),d=s("./src/reddit/helpers/correlationIdTracker.ts"),u=s("./src/reddit/models/Gold/Coins/index.ts"),l=s("./src/reddit/selectors/user.ts");const b="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL",p="COIN_PURCHASE_MODAL__CLOSE_COIN_PURCHASE_MODAL",O=Object(c.a)(b),f=Object(c.a)(p),m="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL_TO_GILD",j=Object(c.a)(m),y=(e,t,s)=>async r=>{r(j({thingId:s}));const n=Object(u.b)(e,t),a=Object(d.c)(d.a.GoldPayment);r(T({coinPackage:n,correlationId:a}))},g=(e,t)=>async(s,r,{apiContext:n})=>{const c=r(),u=t.coins,b=t.pennies,p=Object(d.c)(d.a.GoldPayment),O=Object(l.I)(c);s(Object(o.p)());const f=await s(Object(o.q)(e));if(f)try{const e=await Object(i.e)(n(),O,f,u,b,p);if(e.error){const t=Object(a.a)(O,e.error,e.status);return void s(Object(o.o)(t))}return void s(Object(o.l)({coins:e.body.coins?e.body.coins:0,confirmed:!1}))}catch(m){const e=Object(a.a)(O,m);s(Object(o.o)(e))}},_=(e,t)=>async(n,c,{apiContext:u})=>{const b=c(),p=t.coins,O=t.pennies,m=Object(d.c)(d.a.GoldPayment),j=Object(l.I)(b);n(Object(o.p)());const y=await n(Object(o.q)(e));if(y)try{var g=b.gild;const e=g.gildModalThingId,t=g.gildType,c=g.isAnonymous,d=g.includeMessage,l=g.message;if(!e||!t)return void n(Object(o.o)(Object(r.a)(j,"gold.errors.unknowngild")));const h={gildType:t,includeMessage:d,isAnonymous:c,message:l},I=await Object(i.d)(u(),j,y,p,O,e,h,m);if(I.error){const e=Object(a.a)(j,I.error,I.status);return void n(Object(o.o)(e))}{const r=(await s.e("gildActions").then(s.bind(null,"./src/reddit/actions/gold/gild.ts"))).gildSuccessful;n(f()),n(Object(o.l)({confirmed:!1}));var _=I.body;const a=_.coins;return void n(r({id:e,gildings:_.gildings,coins:a,gildType:t}))}}catch(E){const e=Object(a.a)(j,E);n(Object(o.o)(e))}},E="COIN_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",h=Object(c.a)(E),I=({coinPackage:e,correlationId:t})=>async(s,r,{apiContext:c})=>{s(O({coinPackage:e}));const d=r(),u=n.a.paypal.buttons[`coins${e.coins}`]||n.a.paypal.buttons.coins500,b=Object(l.I)(d);try{const e=await Object(i.b)(c(),b,u,t);if(e.error){const t=Object(a.a)(b,e.error,e.status);s(Object(o.m)(t))}else s(h(e))}catch(p){const e=Object(a.a)(b,p);s(Object(o.m)(e))}},T=({coinPackage:e,correlationId:t})=>async(s,c,{apiContext:d})=>{s(O({coinPackage:e}));const u=c(),b=n.a.paypal.buttons[`coinsGild${e.coins}`]||n.a.paypal.buttons.coinsGild500,p=Object(l.I)(u);var f=u.gild;const m=f.gildModalThingId,j=f.gildType,y=f.isAnonymous,g=f.message;if(m&&j)try{const e=await Object(i.a)(d(),p,b,m,j,g,y,t);if(e.error){const t=Object(a.a)(p,e.error,e.status);s(Object(o.m)(t))}else s(h(e))}catch(_){const e=Object(a.a)(p,_);s(Object(o.m)(e))}else s(Object(o.m)(Object(r.a)(p,"gold.errors.unknowngild")))}},"./src/reddit/actions/goldPurchaseModals/payment.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return o}),s.d(t,"n",function(){return i}),s.d(t,"c",function(){return d}),s.d(t,"l",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"k",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"g",function(){return f}),s.d(t,"j",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"p",function(){return y}),s.d(t,"h",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"o",function(){return h}),s.d(t,"d",function(){return I}),s.d(t,"m",function(){return T}),s.d(t,"q",function(){return S});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/reddit/selectors/goldPurchaseModals.ts"),c=s("./src/reddit/selectors/user.ts");const o="GOLD_PAYMENT__SELECT_PAYMENT_METHOD",i=Object(r.a)(o),d="GOLD_PAYMENT__PAYMENT_COMPLETED",u=Object(r.a)(d),l="GOLD_PAYMENT__CARD_NAME_INPUT",b=Object(r.a)(l),p="GOLD_PAYMENT__CARD_NAME_EMPTY",O=Object(r.a)(p),f="GOLD_PAYMENT__STRIPE_ELEMENT_CHANGE",m=Object(r.a)(f),j="GOLD_PAYMENT__STRIPE_TOKEN_PENDING",y=Object(r.a)(j),g="GOLD_PAYMENT__CARD_ERROR",_=Object(r.a)(g),E="GOLD_PAYMENT__STRIPE_API_ERROR",h=Object(r.a)(E),I="GOLD_PAYMENT__PAYPAL_API_ERROR",T=Object(r.a)(I),S=e=>async(t,s)=>{const r=s(),o=Object(a.j)(r);var i=await e.createToken({name:o});const d=i.token,u=i.error;if(o.trim()){if(!u&&d)return d;t(_(u||void 0))}else{const e=Object(c.I)(r),s=Object(n.a)(e,"gold.checkoutForm.yourCardsNameFieldIsIncomplete");t(O({message:s}))}}},"./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"e",function(){return p}),s.d(t,"d",function(){return O}),s.d(t,"g",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"f",function(){return y});var r=s("./src/config.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/formatApiError/index.ts"),o=s("./src/reddit/actions/goldPurchaseModals/payment.ts"),i=s("./src/reddit/endpoints/gold/purchase.ts"),d=s("./src/reddit/helpers/correlationIdTracker.ts"),u=s("./src/reddit/selectors/user.ts");const l="PREMIUM_PURCHASE_MODAL__OPEN_PREMIUM_PURCHASE_MODAL",b="PREMIUM_PURCHASE_MODAL__CLOSE_PREMIUM_PURCHASE_MODAL",p=Object(n.a)(l),O=Object(n.a)(b),f=e=>async(t,s,{apiContext:r})=>{const n=s(),l=a.Ta,b=Object(d.c)(d.a.GoldPayment),p=Object(u.I)(n);t(Object(o.p)());const O=await t(Object(o.q)(e));if(O)try{const e=await Object(i.f)(r(),p,O,l,b);if(e.error){const s=Object(c.a)(p,e.error);t(Object(o.o)(s))}else t(Object(o.l)({confirmed:!1}))}catch(f){const e=Object(c.a)(p,f);t(Object(o.o)(e))}},m="PREMIUM_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",j=Object(n.a)(m),y=e=>async(t,s,{apiContext:n})=>{t(p());const a=s(),d=Object(u.I)(a),l=r.a.paypal.buttons.premium;try{const s=await Object(i.c)(n(),d,l,e);if(s.error){const e=Object(c.a)(d,s.error);t(Object(o.m)(e))}else t(j(s))}catch(b){const e=Object(c.a)(d,b);t(Object(o.m)(e))}}},"./src/reddit/actions/governance/async.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r=()=>s.e("GovActions").then(s.bind(null,"./src/reddit/actions/governance/publicWalletsFetched.ts")).then(e=>e.default)},"./src/reddit/actions/governance/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"e",function(){return c}),s.d(t,"f",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"h",function(){return d}),s.d(t,"i",function(){return u}),s.d(t,"g",function(){return l}),s.d(t,"k",function(){return b}),s.d(t,"l",function(){return p}),s.d(t,"j",function(){return O}),s.d(t,"n",function(){return f}),s.d(t,"m",function(){return m}),s.d(t,"p",function(){return j}),s.d(t,"q",function(){return y}),s.d(t,"r",function(){return g}),s.d(t,"o",function(){return _}),s.d(t,"t",function(){return E}),s.d(t,"u",function(){return h}),s.d(t,"s",function(){return I});const r="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",n="GOVERNANCE__OPT_OUT_IN_PENDING",a="GOVERNANCE__OPT_OUT_MODAL_OPENED",c="GOVERNANCE__PROPOSAL_CREATION_PENDING",o="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",i="GOVERNANCE__PROPOSAL_CREATION_FAILURE",d="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",u="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",l="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",b="GOVERNANCE__PUBLIC_WALLET_INFO_PENDING",p="GOVERNANCE__PUBLIC_WALLET_INFO_SUCCESS",O="GOVERNANCE__PUBLIC_WALLET_INFO_FAILURE",f="GOVERNANCE__RELEASE_NOTES_SUCCESS",m="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",j="GOVERNANCE__TRANSFER_MODAL_OPENED",y="GOVERNANCE__TRANSFER_PENDING",g="GOVERNANCE__TRANSFER_SUCCESS",_="GOVERNANCE__TRANSFER_FAILURE",E="GOVERNANCE__WALLETS_FETCH_PENDING",h="GOVERNANCE__WALLETS_FETCH_SUCCESS",I="GOVERNANCE__WALLETS_FETCH_FAILURE"},"./src/reddit/actions/governance/index.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/localStorageAvailable/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/prettyPrintNumber/index.ts"),i=s("./src/reddit/actions/modal.ts"),d=s("./src/reddit/actions/post.ts"),u=s("./src/reddit/actions/toaster.ts"),l=s("./src/reddit/endpoints/governance/requester.ts");var b=s("./src/reddit/endpoints/governance/poll.ts"),p=s("./src/config.ts"),O=s("./src/lib/omitHeaders/index.ts"),f=s("./src/reddit/constants/headers.ts"),m=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts");const j=p.a.releaseNotesSubredditMap||{t5_kzsl3:"rn_funkygoose",t5_37jgj:"rn_ethtrader",t5_2t9ha:"rn_stellar"};s("./src/reddit/endpoints/governance/wallet.ts");var y=s("./src/reddit/models/Toast/index.ts"),g=s("./src/reddit/models/Vote/index.ts"),_=s("./src/reddit/selectors/gov.ts"),E=s("./src/reddit/actions/governance/constants.ts");s.d(t,"d",function(){return T}),s.d(t,"e",function(){return S}),s.d(t,"i",function(){return P}),s.d(t,"b",function(){return L}),s.d(t,"a",function(){return U}),s.d(t,"f",function(){return M}),s.d(t,"g",function(){return F}),s.d(t,"h",function(){return G}),s.d(t,"c",function(){return B});const h=Object(c.a)(E.a),I=Object(c.a)(E.b),T=Object(c.a)(E.c),S=(Object(c.a)(E.e),Object(c.a)(E.f)),v=(Object(c.a)(E.d),Object(c.a)(E.h)),C=Object(c.a)(E.i),A=Object(c.a)(E.g),R=Object(c.a)(E.n),D=Object(c.a)(E.m),P=Object(c.a)(E.p),x=Object(c.a)(E.q),w=Object(c.a)(E.r),k=Object(c.a)(E.o),N=(Object(c.a)(E.t),Object(c.a)(E.u));Object(c.a)(E.s);function L(e,t){if("extra"in t){const s="string"==typeof t.extra?t.extra:Object.keys(t.extra).map(e=>t.extra[e]).join(" ");e(Object(u.e)({duration:5e3,kind:y.b.Error,text:s}))}else e(Object(u.e)({duration:5e3,kind:y.b.Error,text:"Something wen't wrong. Please try again later."}))}const U=({subredditId:e})=>async(t,s,{apiContext:r})=>{const a=await function(e,t){return Object(l.a)(e,{endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/community/${t.subredditId}/me`,method:n.Fa.GET})}(r(),{subredditId:e});a.ok&&t(h(Object.assign({subredditId:e},a.body)))},M=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().polls.models[e];s(v({pollId:e}));const c=await Object(b.b)(n(),a.subredditId,e,t);if(c.ok){s(C(c.body));const t=r(),n=t.polls.models[e];if(n){const e=n.postId,r=t.posts.models[e];r&&r.voteState===g.a.notVoted&&s(Object(d.G)(e))}}else s(A({pollId:e,error:c.error})),L(s,c.error)},F=({subredditId:e})=>async(t,s,{apiContext:r})=>{if(!j[e])return;if(!Object(a.a)())return;const c=(e=>`RELEASE_NOTES-${e}`)(e),o=localStorage.getItem(c);let i={};try{o&&(i=JSON.parse(o))}catch(b){return void localStorage.removeItem(c)}const d=Object.keys(i).reduce((e,t)=>i[t]>e?i[t]:e,0);if(Date.now()-n.y<d)return;const u=await function(e,t){const s=j[t.subredditId];return s?Object(l.a)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/r/${s}/new.json?limit=10&rtj=debug`,method:"get"}).then(e=>e.ok?Object.assign({},e,{body:{releaseNotes:e.body.data.children.map(e=>Object(m.a)(e.data))}}):e):Promise.resolve({ok:!1,error:{},status:404})}(r(),{subredditId:e});if(u.ok){t(R(Object.assign({subredditId:e},u.body)));const s=u.body.releaseNotes.map(e=>e.id);s.filter(e=>!i[e]).length&&t(D());const r=s.reduce((e,t)=>(e[t]=Date.now(),e),{});localStorage.setItem(c,JSON.stringify(r))}},G=(e,t)=>async(s,n,{apiContext:a})=>{s(x());const c=n().transfers.communityPoints.contentId||void 0,d=await function(e,t){return Object(l.a)(e,{data:{amount:t.amount,contentId:t.contentId,description:t.message,receiveUserName:t.recipient},endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/wallets/me/${t.subredditId}/transfers`,method:"post"})}(a(),Object.assign({},e,{contentId:c}));if(d.ok){const a=n().user.language;s(w(Object.assign({},d.body,{subredditId:e.subredditId}))),s(Object(u.e)({kind:y.b.SuccessCommunity,text:Object(r.a)(a,"gov.transferSuccess",{amount:Object(o.a)(e.amount),recipient:e.recipient,tokenName:Object(_.f)(n(),{subredditId:e.subredditId})})})),t&&s(Object(i.f)())}else s(k({error:d.error})),L(s,d.error)},B=(e,t)=>async(s,n,{apiContext:a})=>{s(I());const c=await function(e,t,s){return Object(l.a)(e,{data:{optOut:t},method:"patch",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/wallets/me/${s}`})}(a(),e,t);if(c.ok){s(N({[t]:c.body}));const a=e?"polls.optOutSuccess":"polls.optInSuccess";s(Object(u.e)({kind:y.b.SuccessCommunity,text:Object(r.a)(n().user.language,a,{tokenName:Object(_.f)(n(),{subredditId:t})})}))}else L(s,c.error)}},"./src/reddit/actions/header.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return n}),s.d(t,"f",function(){return a}),s.d(t,"j",function(){return c}),s.d(t,"k",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"a",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"c",function(){return l}),s.d(t,"g",function(){return b}),s.d(t,"h",function(){return p}),s.d(t,"i",function(){return O});var r=s("./src/lib/makeActionCreator/index.ts");const n="HEADER__SUBSCRIPTIONS_PINNED",a="HEADER__SUBSCRIPTIONS_UNPINNED",c=Object(r.a)(n),o=Object(r.a)(a),i="EXPERIMENTS__SHUFFLE_CATEGORIES",d=(Object(r.a)(i),"HEADER__DROPDOWN_CLOSED"),u="HEADER__DROPDOWN_OPENED",l="HEADER__DROPDOWN_TOGGLED",b=Object(r.a)(d),p=Object(r.a)(u),O=Object(r.a)(l)},"./src/reddit/actions/hero.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/news.ts"),c=s("./src/reddit/actions/pages/news/utils.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/config.ts"),d=s("./src/lib/constants/index.ts"),u=s("./src/lib/makeApiRequest/index.ts"),l=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),b=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/selectors/listings.ts"),O=s("./src/reddit/selectors/news.ts");s.d(t,"b",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"a",function(){return j}),s.d(t,"d",function(){return h}),s.d(t,"e",function(){return I});const f="NEWS__NEWS_HERO_LOADED",m="NEWS__NEWS_HERO_PENDING",j="NEWS__NEWS_HERO_FAILED",y=Object(n.a)(m),g=Object(n.a)(f),_=Object(n.a)(j),E=(e,t,s,r=!0)=>async(n,a,b)=>{const f=a(),m=Object(p.d)(f,{listingKey:e}),j=f.listings.postOrder.ids[e],_=Object(p.c)(f,{listingKey:e});if(m||j&&!_)return;n(y({key:e}));const E=Object.assign({},Object(c.b)(t,s)),h=await((e,t)=>Object(u.b)(e,{endpoint:Object(l.a)(`${i.a.gatewayUrl}/desktopapi/v1/news_hero`),method:d.Fa.GET,data:Object.assign({},t)}))(b.apiContext(),E),I=`error-${e}`;if(!h.ok)return T(e,n,f,h.error,I,t,s,r);var S=h.body;const v=S.posts,C=S.postIds,A=S.subreddits;n(g({availableTopics:Object(O.d)(f),key:e,meta:f.meta,postIds:C,posts:v,subreddits:A})),n(o.f(I))},h=(e,t,s,r=!0)=>async(n,a,c)=>{let o=n(E(e,t,s,r));return r||(o=o.catch(e=>Promise.resolve(e))),o},I=(e,t,s,r=!0)=>async(n,o,i)=>{await n(a.g(r));const d=o();var u=Object(c.c)(d,t,s);const l=u.topic,b=u.subtopic;return n(h(e,l,b,r))},T=(e,t,s,n,a,c,i,d)=>{t(_({error:n,key:e})),d&&t(o.e({id:a,kind:b.b.Error,text:Object(r.a)(s.user.language,"news.failedToLoadHero"),buttonText:Object(r.a)(s.user.language,"listings.toast.retryButton"),buttonAction:E(e,c,i)}))}},"./src/reddit/actions/imageUploads.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"k",function(){return O}),s.d(t,"j",function(){return f}),s.d(t,"l",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"h",function(){return y}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"m",function(){return h});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/raven/index.ts"),a=s("./src/lib/uploadToS3/index.ts"),c=s("./src/reddit/helpers/getGenericUploadError.ts"),o=s("./src/reddit/models/Image/index.tsx"),i=s("./src/reddit/selectors/imageUploads.ts");const d="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",u="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",l="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",b="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",p="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",O=Object(r.a)(d),f=Object(r.a)(u),m=Object(r.a)(l),j=Object(r.a)(b),y=Object(r.a)(p),g=async(e,t,s,r)=>{if(!t.ok)throw Object(o.j)(s,t.error);let n,c=t.body;"s3UploadLease"in c&&(c=c.s3UploadLease,n=t.body.websocketUrl);const i=await Object(a.a)(s.file,c);if(i.ok){if(!e.imageUploads[s.id])return void Object(o.d)(s);const t=decodeURIComponent(i.body.PostResponse.Location);return Object(o.m)(s,t,n,r)}throw Object(o.j)(s,i.error)};function _(e){return e.split("/").pop()}const E=(e,t)=>new Promise((s,r)=>{const a=Object(i.b)(e,t);if(!a.length)return s(null);const c=a[0].websocketUrl;if(!c)return r(new Error("ImageUploads: No websocket URL found"));const o={};for(let e=0;e<a.length;e++){const t=a[e],s=_(t.url);o[s]=t}const d=a.length,u=new WebSocket(c);u.onopen=(e=>{u.onerror=null,s({websocket:u,imagesByKey:o,imageCount:d})}),u.onerror=(e=>{u.close();const t=new Error("ImageUploads: Failed to connect to websocket");Object(n.b)(t),r()})}),h=e=>(t,s,{apiContext:r})=>new Promise((s,r)=>{const a=e.websocket;let i=e.imageCount,d=e.imagesByKey;function u(){for(const e in d){const s=d[e],r=Object(o.n)(s,s.url);t(m(r))}s(),a.close()}d=Object.assign({},d);let l=setTimeout(u,6e4);a.onmessage=(e=>{clearTimeout(l);const r=JSON.parse(e.data);if(r&&"success"===r.type){const e=r.payload.url,s=_(e),n=d[s];if(!n)return;i-=1,delete n[s];const a=Object(o.n)(n,e);t(m(a))}else{const e=_(r.payload.image_key),s=d[e];if(!s)return;i-=1,delete s[e];const n=Object(c.a)(r.payload.image_key),a=Object(o.j)(s,n);t(j(a))}i?l=setTimeout(u,6e4):(a.close(),s())}),a.onerror=(e=>{clearTimeout(l);const s=Object(c.a)("websocket");for(const r in d){const e=d[r],n=Object(o.j)(e,s);t(j(n))}a.close();const i=new Error("ImageUploads: WebSocket connection failed before all messages received");Object(n.b)(i),r()})})},"./src/reddit/actions/inContextModeration.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return o});var r=s("./src/lib/makeActionCreator/index.ts");const n="INCONTEXT__BANNED",a="INCONTEXT__MUTED",c=Object(r.a)(n),o=Object(r.a)(a)},"./src/reddit/actions/jsApi.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="JSAPI__CONSUMER_SUBSCRIBED",a=Object(r.a)(n)},"./src/reddit/actions/modMode.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return u});var r=s("./node_modules/js-cookie/src/js.cookie.js"),n=s.n(r),a=s("./src/config.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/constants/cookie.ts");const i="MOD_MODE_TOGGLED",d=Object(c.a)(i),u=e=>async(t,s,{apiContext:r})=>{let c;if(void 0!==e)c=e;else{c="false"===n.a.get(o.c)}n.a.set(o.c,c,{domain:a.a.cookieDomain});(document.cookie.match(/mod_mode_enabled=/g)||[]).length>1&&n.a.set(o.c,"",{expires:0,path:"/"});t(d({enabled:c}))}},"./src/reddit/actions/modQueue.ts":function(e,t,s){"use strict";s.d(t,"m",function(){return g}),s.d(t,"l",function(){return _}),s.d(t,"k",function(){return E}),s.d(t,"j",function(){return S}),s.d(t,"i",function(){return v}),s.d(t,"h",function(){return C}),s.d(t,"q",function(){return P}),s.d(t,"p",function(){return x}),s.d(t,"o",function(){return w}),s.d(t,"t",function(){return U}),s.d(t,"s",function(){return M}),s.d(t,"r",function(){return F}),s.d(t,"y",function(){return V}),s.d(t,"x",function(){return H}),s.d(t,"w",function(){return q}),s.d(t,"E",function(){return Y}),s.d(t,"n",function(){return J}),s.d(t,"b",function(){return X}),s.d(t,"D",function(){return ee}),s.d(t,"e",function(){return te}),s.d(t,"d",function(){return se}),s.d(t,"c",function(){return re}),s.d(t,"A",function(){return ae}),s.d(t,"v",function(){return oe}),s.d(t,"u",function(){return ie}),s.d(t,"F",function(){return be}),s.d(t,"a",function(){return pe}),s.d(t,"z",function(){return Oe}),s.d(t,"f",function(){return fe}),s.d(t,"B",function(){return me}),s.d(t,"g",function(){return je}),s.d(t,"C",function(){return ye});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/removalReasons.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/endpoints/modQueue/index.ts"),d=s("./src/reddit/helpers/isPost.ts"),u=s("./src/reddit/helpers/makeModQueueListingKey/index.ts"),l=s("./src/reddit/models/Flair/index.ts"),b=s("./src/reddit/models/ModQueue/index.ts"),p=s("./src/reddit/models/Toast/index.ts"),O=s("./src/reddit/selectors/modQueue.ts"),f=s("./src/reddit/selectors/subreddit.ts"),m=s("./src/reddit/selectors/telemetry.ts"),j=s("./src/reddit/selectors/user.ts"),y=s("./src/telemetry/index.ts");const g="MODQUEUE_PENDING",_="MODQUEUE_LOADED",E="MODQUEUE_FAILED",h=Object(a.a)(g),I=Object(a.a)(_),T=Object(a.a)(E),S="EDITED_PENDING",v="EDITED_LOADED",C="EDITED_FAILED",A=Object(a.a)(S),R=Object(a.a)(v),D=Object(a.a)(C),P="REPORTS_PENDING",x="REPORTS_LOADED",w="REPORTS_FAILED",k=Object(a.a)(P),N=Object(a.a)(x),L=Object(a.a)(w),U="SPAM_PENDING",M="SPAM_LOADED",F="SPAM_FAILED",G=Object(a.a)(U),B=Object(a.a)(M),$=Object(a.a)(F),V="UNMODERATED_PENDING",H="UNMODERATED_LOADED",q="UNMODERATED_FAILED",K=Object(a.a)(V),W=Object(a.a)(H),Q=Object(a.a)(q),Y=(e,t)=>async(s,a,{apiContext:c})=>{let d,l,O;switch(e){case n.Ja.Edited:d=A,l=D,O=R;break;case n.Ja.Modqueue:d=h,l=T,O=I;break;case n.Ja.Reports:d=k,l=L,O=N;break;case n.Ja.Spam:d=G,l=$,O=B;break;case n.Ja.Unmoderated:d=K,l=Q,O=W;break;default:throw new Error("Invalid modqueue requested")}s(d());const f=await Object(i.b)(c(),e,t);if(f.ok){s(O({listingKey:Object(u.a)(t),page:`${t.page||b.b}`,response:f.body}))}else{const e=Object(j.I)(a());s(l(f.error)),s(Object(o.e)({kind:p.b.Error,text:Object(r.a)(e,"subredditModeration.modQueue.toastText.somethingWentWrong")}))}},J="MORE_MODERATED_SUBREDDITS_LOADED",z=Object(a.a)(J),X="ALL_MODERATED_COMMUNITIES_LOADED",Z=Object(a.a)(X),ee=e=>async(t,s,{apiContext:n})=>{const a=s(),c=a.modQueue.moderatedCommunitiesOrder.after,d=a.modQueue.moderatedCommunitiesOrder.pending,u=a.modQueue.moderatedCommunitiesOrder.loaded,l=a.platform.currentPage.urlParams.pageName;if(e&&d||u||!c)return;const b=await Object(i.b)(n(),l,{moderated_after:c});if(b.ok)t(z(b.body)),b.body.moderatedAfter?t(ee()):t(Z());else{const e=Object(j.I)(s());t(Object(o.e)({kind:p.b.Error,text:Object(r.a)(e,"subredditModeration.modQueue.toastText.somethingWentWrong")}))}},te="BULKACTION_PENDING",se="BULKACTION_LOADED",re="BULKACTION_FAILED",ne=Object(a.a)(te),ae=Object(a.a)(se),ce=Object(a.a)(re),oe="UNDOACTION_LOADED",ie="UNDOACTION_FAILED",de=Object(a.a)("UNDOACTION_PENDING"),ue=Object(a.a)(oe),le=Object(a.a)(ie),be=(e,t,s)=>async(n,a,{apiContext:u})=>{n(ne());const g=a(),_=g.user.language,E=Object(O.f)(g),h=g.user.account&&g.user.account.displayText,I=Object(r.a)(_,`subredditModeration.modQueue.toastText.${e}`),T=Object(r.a)(_,"subredditModeration.modQueue.toastText.postsComments");for(let t=0;t<E.length;t++){const s=E[t];let r=e;[b.a.Approve,b.a.Remove,b.a.Spam].includes(e)&&(Object(d.a)(s)?r+="_link":r+="_comment"),Object(y.a)(Object.assign({source:"bulk_mod_action",action:"click",noun:r},m.defaults(g),{actionInfo:m.actionInfo(g,{count:E.length,paneName:g.platform.currentPage?g.platform.currentPage.urlParams.pageName:void 0}),comment:m.comment(g,s),post:m.post(g,s),profile:m.profileByPostOrCommentId(g,s),screen:m.screen(g),subreddit:m.subredditByPostOrCommentId(g,s)}))}const S={ids:E};t&&(S.text=Object(l.i)(t)||""),s&&(S.cssClass=s);const v=await Object(i.a)(u(),e,S);if(v.ok)if(n(ae(Object.assign({},v.body,{operation:e,ids:E,username:h,options:{flair:t}}))),e!==b.a.Approve&&e!==b.a.Flair){let t,s;const a=g.platform.currentPage&&g.platform.currentPage.queryParams&&g.platform.currentPage.queryParams.subreddit,d=a&&Object(f.w)(g,a);e===b.a.Remove&&d&&E.length>1&&(t=Object(r.a)(_,"subredditModeration.removalReasons.addARemovalReason"),s=Object(c.q)(d,E));const u=Object(o.d)(`${E.length} ${T} ${I}`,p.b.Undo,Object(r.a)(_,"subredditModeration.modQueue.toastText.undo"),(()=>async(e,t,{apiContext:s})=>{e(de());const n=t(),a=Object.keys(n.modQueue.bulkAction.undoLastAction)[0],c=n.modQueue.bulkAction.undoLastAction[a],d=n.user.account&&n.user.account.displayText;e(ne());const u=await Object(i.a)(s(),a,{ids:c});if(u.ok)e(ue(Object.assign({},u.body,{operation:a,ids:c,username:d})));else{const s=Object(j.I)(t());e(le(u.error)),e(Object(o.e)({kind:p.b.Error,text:Object(r.a)(s,"subredditModeration.modQueue.toastText.somethingWentWrong")}))}})(),t,s);n(Object(o.e)(u))}else{const e=Object(o.d)(`${E.length} ${T} ${I}`,p.b.SuccessMod);n(Object(o.e)(e))}else{n(ce(v.error));const e=Object(o.d)(Object(r.a)(_,"subredditModeration.modQueue.toastText.somethingWentWrong"),p.b.Error);n(Object(o.e)(e))}},pe="ADD_SELECTED_ITEMS",Oe=Object(a.a)(pe),fe="BULK_SELECT_ITEMS",me=Object(a.a)(fe),je="BULK_UNSELECT_ITEMS",ye=Object(a.a)(je)},"./src/reddit/actions/modal.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"i",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"f",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"g",function(){return j}),s.d(t,"h",function(){return y}),s.d(t,"k",function(){return g}),s.d(t,"j",function(){return _}),s.d(t,"e",function(){return E}),s.d(t,"d",function(){return h}),s.d(t,"l",function(){return I});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/media.ts"),a=s("./src/reddit/constants/modals.ts"),c=s("./src/reddit/endpoints/user/index.ts"),o=s("./src/reddit/helpers/localStorage/index.ts"),i=s("./src/reddit/selectors/activeModalId.ts"),d=s("./src/reddit/selectors/premium.ts"),u=s("./src/reddit/selectors/user.ts");const l="MODAL_TOGGLED",b=Object(r.a)(l),p="CLOSE_ALL_MODALS",O=Object(r.a)(p),f="REDESIGN_MODAL_CLOSED",m=Object(r.a)(f),j=e=>async(t,s,r)=>{Object(i.b)(e)(s())&&t(b(e))},y=e=>async(t,s,r)=>{Object(i.b)(e)(s())||t(b(e))},g=()=>async(e,t,s)=>{Object(o.w)(a.a.REDESIGN_MODAL,!0),Object(u.C)(t())&&Object(c.e)(s.apiContext())},_=()=>async(e,t,s)=>{g()(e,t,s),n.c(!0)(e,t,s),e(m())},E=()=>async(e,t)=>{const s=a.a.AD_BLOCK_UPSELL;!Object(i.a)(t())&&Object(d.e)(t(),"adblock_premium_upsell_modal")&&e(b(s))},h="SET_ACCOUNT_MANAGER_MODAL_DATA",I=Object(r.a)(h)},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return b}),s.d(t,"b",function(){return p});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/profile.ts"),a=s("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),c=s("./src/reddit/models/User/index.ts"),o=s("./src/reddit/selectors/user.ts");const i="MOD_PERMS__REQUEST_LOADED",d=Object(r.a)("MOD_PERMS__REQUEST_PENDING"),u=Object(r.a)(i),l=Object(r.a)("MOD_PERMS__REQUEST_FAILED"),b=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user.account)return;if(r.isModeratorWithPostPerms)return;e(d());const n=await Object(a.a)(s());n.ok?e(u(n.body)):e(l(n.error))},p=()=>async(e,t)=>{const s=Object(o.j)(t());if(s){const t=Object(c.d)(s);await e(Object(n.h)(t))}}},"./src/reddit/actions/monthsToMinutes.ts":function(e,t,s){"use strict";s.d(t,"k",function(){return p}),s.d(t,"c",function(){return O}),s.d(t,"r",function(){return f}),s.d(t,"i",function(){return m}),s.d(t,"g",function(){return y}),s.d(t,"t",function(){return g}),s.d(t,"f",function(){return _}),s.d(t,"s",function(){return E}),s.d(t,"h",function(){return h}),s.d(t,"q",function(){return T}),s.d(t,"w",function(){return S}),s.d(t,"d",function(){return v}),s.d(t,"o",function(){return C}),s.d(t,"l",function(){return A}),s.d(t,"m",function(){return R}),s.d(t,"x",function(){return D}),s.d(t,"y",function(){return P}),s.d(t,"v",function(){return w}),s.d(t,"e",function(){return k}),s.d(t,"p",function(){return N}),s.d(t,"b",function(){return L}),s.d(t,"n",function(){return U}),s.d(t,"j",function(){return M}),s.d(t,"u",function(){return F}),s.d(t,"a",function(){return G});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/reddit/constants/localStorage.ts"),c=s("./src/reddit/helpers/localStorage/index.ts"),o=s("./src/reddit/helpers/monthsToMinutes/index.ts"),i=s("./src/reddit/models/MonthsToMinutes/index.ts"),d=s("./src/reddit/selectors/monthsToMinutes.ts"),u=s("./src/reddit/selectors/posts.ts"),l=s("./src/reddit/selectors/runTimeEnvVars.ts"),b=s("./src/reddit/selectors/subscriptions.ts");const p="M2M_SUBSCRIPTIONS_NAMES_LOADED",O=(Object(r.a)(p),"M2M_APPLY_LOGGED_OUT_VOTE"),f=Object(r.a)(O),m="M2M_LOADED_FROM_LOCAL_STORAGE",j=Object(r.a)(m),y="M2M_EXPAND_ACCOUNT_COMPLETENESS",g=Object(r.a)(y),_="M2M_COLLAPSE_ACCOUNT_COMPLETENESS",E=Object(r.a)(_),h="M2M_INIT_FROM_EMPTY_LOCAL_STORAGE",I=Object(r.a)(h),T=()=>async(e,t,{apiContext:s})=>{try{const t=Object(c.f)(a.h);t&&t.loggedOutV3&&e(j(t.loggedOutV3))}catch(r){e(I())}Object(d.e)(t())&&setTimeout(()=>e(B()),i.a)},S=()=>async(e,t,{apiContext:s})=>{const r=t(),n=r.subscriptions.subredditOrder;Object(o.b)(r,n)},v="M2M_CLOSE_ACCOUNT_COMPLETENESS",C=Object(r.a)(v),A="M2M_TOOLTIP_ACTIVATED",R="M2M_TOOLTIP_CLOSED",D=Object(r.a)(A),P=Object(r.a)(R),x=(e,t)=>{const s=Object(l.a)(e);return!t.time||s-t.time>n.y},w=(e,t,s)=>async(r,n,{apiContext:a})=>{const c=n();if(!Object(d.m)(c))return;const o=c.user.loggedOutData.tooltips,l=Date.now();Object(b.a)(c)||o[i.i.SubscribeFeed].time||o[i.i.SubscribeFeed].postId||!(t>4)||Object(u.v)(c,e)||s?!Object(d.x)(c)&&!o[i.i.Vote].time&&!o[i.i.Vote].postId&&e!==o[i.i.SubscribeFeed].postId&&t>9?r(D({postId:e,time:l,tooltipType:i.i.Vote})):!Object(b.a)(c)&&x(c,o[i.i.SubscribeFeed])&&!o[i.i.SubscribeReminder].postId&&t>4&&!Object(u.v)(c,e)&&!s?r(D({postId:e,time:l,tooltipType:i.i.SubscribeReminder})):!Object(d.x)(c)&&x(c,o[i.i.Vote])&&!o[i.i.VoteReminder].postId&&t>9&&r(D({postId:e,time:l,tooltipType:i.i.VoteReminder})):r(D({postId:e,time:l,tooltipType:i.i.SubscribeFeed}))},k="M2M_CLOSE_WELCOME_MODAL",N=Object(r.a)(k),L="M2M_ACCOUNT_COMPLETENESS_SELECT_TAB",U=Object(r.a)(L),M="MILESTONE_ACTION_STALED",F=Object(r.a)(M),G="M2M_ACCOUNT_COMPLETENESS_AWAKE",B=Object(r.a)(G)},"./src/reddit/actions/multireddit.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),i=s("./src/reddit/constants/parameters.ts"),d=s("./src/reddit/constants/postLayout.ts"),u=s("./src/reddit/contexts/PageLayer/index.tsx"),l=s("./src/lib/makeApiRequest/index.ts"),b=s("./src/lib/omitHeaders/index.ts"),p=s("./src/reddit/constants/headers.ts"),O=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),f=s("./src/reddit/endpoints/page/myMultiredditFeed.ts"),m=s("./src/reddit/helpers/filterListingResponse/index.ts"),j=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),y=s("./src/reddit/selectors/multireddit.ts");s.d(t,"c",function(){return g}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"f",function(){return S}),s.d(t,"d",function(){return v}),s.d(t,"e",function(){return C}),s.d(t,"g",function(){return R});const g="MULTIREDDIT__MORE_POSTS_PENDING",_="MULTIREDDIT__MORE_POSTS_LOADED",E="MULTIREDDIT__MORE_POSTS_FAILED",h=Object(c.a)(g),I=Object(c.a)(_),T=Object(c.a)(E),S=e=>async(t,s,{apiContext:r})=>{var c=e.sort;const l=void 0===c?a.U.HOT:c,b=e.multiredditName,p=s(),O=p.platform.currentPage,j=O?O.queryParams:{},g=Object(y.b)(p,{multiredditName:b}),_=Object(o.a)(g.url,l,j),E=p.listings.postOrder.loadMore[_];if(!E)return;const S=p.listings.postOrder.api.pending[_],v=p.listings.postOrder.fetchedTokens,C=v[_]&&v[_][E.token]||!1;if(S||C)return;t(h({key:_,fetchedToken:E.token}));const A=await Object(f.a)(r(),b,Object.assign({after:E.token,dist:E.dist,layout:d.c[Object(u.K)(p,{})],sort:l},n()(j,i.j))),R=Object.assign({},A.body,Object(m.a)(p,_,A.body));A.ok?t(I(Object.assign({fetchedToken:E.token,key:_,meta:p.meta},R))):t(T(Object.assign({error:A.error,fetchedToken:E.token,key:_},R)))},v="MULTIREDDIT__MY_MULTIREDDITS_PENDING",C="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",A=(Object(c.a)(v),Object(c.a)(C)),R=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user.account)return;if(Object(y.e)(r)||Object(y.f)(r))return;const n=await(e=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:Object(O.a)(`${e.apiUrl}/api/multi/mine.json`),data:{expand_srs:1},method:a.Fa.GET}))(s());if(n.ok){const t=r.user.account.id,s=n.body.reduce((e,{data:t})=>t.subreddits.reduce((e,{data:t})=>{const s=Object(j.a)(t);return e[s.id]=s,e},e),{}),a=[],c=n.body.reduce((e,{data:t})=>{const s=(e=>{let t=e.over_18||!1;if(!t)for(const r of e.subreddits)if(r.data.over_18){t=!0;break}let s=e.quarantine||!1;if(!s)for(const r of e.subreddits){const e=(r.data.audience_target||"").split(",");if(r.data.quarantine||e.indexOf("unsafe")>-1){s=!0;break}}return{created:e.created_utc,description:e.description_html,displayText:e.display_name,isNSFW:t,isQuarantined:s,name:e.name,subredditIds:e.subreddits.map(e=>e.data.name),url:e.path,visibility:e.visibility}})(t),r=s.url.toLowerCase();return a.push(r),e[r]=s,e},{});e(A({subreddits:s,multireddits:c,multiredditsByUser:{[t]:a}}))}}},"./src/reddit/actions/news.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/reddit/actions/pages/news/index.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/config.ts"),d=s("./src/lib/constants/index.ts"),u=s("./src/lib/makeApiRequest/index.ts"),l=s("./src/reddit/models/News/index.ts"),b=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/routes/news/util.ts"),O=s("./src/reddit/selectors/news.ts"),f=s("./src/reddit/selectors/user.ts");s.d(t,"d",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"c",function(){return y}),s.d(t,"a",function(){return g}),s.d(t,"f",function(){return _}),s.d(t,"e",function(){return T}),s.d(t,"g",function(){return S});const m="NEWS__NEWS_TOPIC_SELECTED",j="NEWS__NEWS_TOPICS_LOADED",y="NEWS__NEWS_TOPICS_PENDING",g="NEWS__NEWS_TOPICS_FAILED",_=Object(n.a)(m),E=Object(n.a)(j),h=Object(n.a)(y),I=Object(n.a)(g),T=(e,t)=>async(s,r)=>{const n=Object(p.b)(e,t),o=r().platform.currentPage.routeMatch.match;o&&o.url===n?s(Object(c.d)(o,!0)):s(Object(a.b)(n))},S=(e=!0)=>async(t,s,{apiContext:n})=>{const a=s(),c=Object(O.r)(a),p=Object(O.d)(a).length>0;if(c||p)return;t(h);const m=await(e=>Object(u.b)(e,{endpoint:`${i.a.gatewayUrl}/news/topics`,method:d.Fa.GET}))(n());if(m.ok){const e=Object(l.d)(m.body.data||[]);t(E(e))}else t(I(m.error)),e&&t(function(e){const t=Object(f.I)(e);return Object(o.e)(Object(o.d)(Object(r.a)(t,"news.failedToLoadTopic"),b.b.Error,Object(r.a)(t,"error.clickHere"),S()))}(s()))}},"./src/reddit/actions/nps.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");var d=s("./node_modules/@r/frames/compiled.js"),u=s("./node_modules/lodash/debounce.js"),l=s.n(u),b=function(e){document.body.appendChild(function(e){let t;function s(){d.listen("embedjail"),d.receiveMessage(t.contentWindow,"open.embedjail",function(e){var s;s=e.detail,t.style.width=s.dimensions.width,t.style.height=s.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",r)}),d.receiveMessage(t.contentWindow,"close.embedjail",function(e){t.parentElement.removeChild(t),d.stopListening("asknicely"),window.removeEventListener("resize",r),t=void 0}),window.addEventListener("message",function(e){"https://web.archive.org/web/20181130235602/https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&d.postMessage(t.contentWindow,e.data+".asknicely")})}const r=l()(function(){t&&t.contentWindow&&d.postMessage(t.contentWindow,"resize.asknicely")},500);return function(){return t=function(){const t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),s(),t}}(e)())};s.d(t,"c",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"d",function(){return _});const p="NPS__URL_PENDING",O="NPS__URL_LOADED",f="NPS__URL_FAILED",m=Object(r.a)(p),j=Object(r.a)(O),y=Object(r.a)(f);let g=!1;const _=()=>async(e,t,s)=>{const r=t();if(r.nps.pending)return;if(g)return;e(m());const d=r.platform.currentPage&&r.platform.currentPage.queryParams.feature||"",u=!!r.user.account,l=await((e,t,s)=>Object(c.b)(Object(o.a)(e,[i.a]),{data:{feature:t,app_name:"web2x"},endpoint:`${s?n.a.oauthUrl:n.a.apiUrl}/api/jail/asknicely${s?"":".json"}`,method:a.Fa.GET}))(s.apiContext(),d,u);if(l.ok){const t=l.body;e(j(t)),t.dest&&(b(t.dest),g=!0)}else e(y())}},"./src/reddit/actions/originalContent.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),i=s("./src/reddit/constants/originalContent.ts"),d=s("./src/reddit/constants/page.ts"),u=s("./src/reddit/constants/parameters.ts"),l=s("./src/lib/makeApiRequest/index.ts"),b=s("./src/lib/omitHeaders/index.ts"),p=s("./src/reddit/constants/headers.ts"),O=s("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),f=s("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),m=s("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var j=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts");var y=s("./src/reddit/endpoints/page/originalContentPage.ts"),g=s("./src/reddit/models/OcSubreddits/index.ts");function _(e){return{discoverable:e.discoverable,name:e.name,displayText:e.display_text,submittable:e.submittable}}var E=s("./src/reddit/selectors/originalContent.ts"),h=s("./src/reddit/actions/page.ts");s.d(t,"f",function(){return I}),s.d(t,"e",function(){return T}),s.d(t,"d",function(){return S}),s.d(t,"q",function(){return R}),s.d(t,"c",function(){return D}),s.d(t,"b",function(){return P}),s.d(t,"a",function(){return x}),s.d(t,"p",function(){return L}),s.d(t,"l",function(){return U}),s.d(t,"k",function(){return M}),s.d(t,"j",function(){return F}),s.d(t,"s",function(){return V}),s.d(t,"o",function(){return H}),s.d(t,"n",function(){return q}),s.d(t,"m",function(){return K}),s.d(t,"t",function(){return J}),s.d(t,"i",function(){return z}),s.d(t,"h",function(){return X}),s.d(t,"g",function(){return Z}),s.d(t,"r",function(){return re});const I="OC_MORE_POSTS_PENDING",T="OC_MORE_POSTS_LOADED",S="OC_MORE_POSTS_FAILED",v=Object(c.a)(I),C=Object(c.a)(T),A=Object(c.a)(S),R=e=>async(t,s,{apiContext:r})=>{const c=s(),l=c.platform.currentPage;var b=e.sort;const p=void 0===b?a.V:b;var O=e.category;const f=void 0===O?i.b:O,m=l?l.queryParams:{},j=Object.assign({},m,{category:f}),g=Object(o.a)(d.j,p,j),_=c.listings.postOrder.loadMore[g],E=m[u.p]?m[u.p].toUpperCase():"",I=E in a.Lb&&a.Lb[E];if(!_)return;const T=c.listings.postOrder.api.pending[g],S=c.listings.postOrder.fetchedTokens,R=S[g]&&S[g][_.token]||!1;if(T||R)return;t(v({key:g,fetchedToken:_.token}));const D=await Object(y.a)(r(),Object.assign({after:_.token,category:f,dist:_.dist,sort:p,t:Object(h.F)(p,I)},n()(m,u.j))),P=c.listings.postOrder.ids[g],x=Object.assign({},D.body,{postIds:(D.body.postIds||[]).filter(e=>!P||!P.includes(e))});D.ok?t(C(Object.assign({key:g,fetchedToken:_.token,meta:c.meta},x))):t(A(Object.assign({key:g,error:D.error,fetchedToken:_.token},x)))},D="OC_CATEGORIES_PENDING",P="OC_CATEGORIES_LOADED",x="OC_CATEGORIES_FAILED",w=Object(c.a)(D),k=Object(c.a)(P),N=Object(c.a)(x),L=()=>async(e,t,{apiContext:s})=>{const r=t();if(Object(E.d)(r))return;if(Object(E.c)(r).length>0)return;e(w());const n=await(e=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:`${e.apiUrl}/api/oc_categories.json`,method:a.Fa.GET}))(s());if(n.ok){const t=n.body.map(_);e(k(t))}else e(N(n.error))},U="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_PENDING",M="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_LOADED",F="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_FAILED",G=Object(c.a)(U),B=Object(c.a)(M),$=Object(c.a)(F),V=(e=i.b)=>async(t,s,{apiContext:r})=>{t(G({category:e}));const n=await((e,t)=>Object(l.b)(Object(b.a)(e,[p.a]),{data:t,endpoint:`${e.apiUrl}/api/oc_top_subreddits.json`,method:a.Fa.GET}))(r(),{category:e,count:i.e});if(n.ok){var c=Object(g.c)(n.body.data.children.map(({data:e})=>e));const s=c.subreddits,r=c.subredditsAboutInfo;t(B({category:e,subreddits:s,subredditsAboutInfo:r}))}else t($({category:e,error:n.error}))},H="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_PENDING",q="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_LOADED",K="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_FAILED",W=Object(c.a)(H),Q=Object(c.a)(q),Y=Object(c.a)(K),J=(e=i.b)=>async(t,s,{apiContext:r})=>{t(W({category:e}));const n=await((e,t)=>Object(l.b)(Object(b.a)(e,[p.a]),{data:t,endpoint:`${e.apiUrl}/api/oc_top_creators.json`,method:a.Fa.GET}))(r(),{category:e});if(n.ok){var c=function(e){return e.data.children.reduce((e,{data:t})=>{if(e.users[t.name.toLowerCase()]=Object(O.a)(t),t.subreddit){const s=Object(m.a)(t.subreddit,t.name);s&&(e.profiles[s.id]=s,e.profilesAboutInfo[s.id]=Object(f.a)(t))}return e},{profiles:{},profilesAboutInfo:{},users:{}})}(n.body);const s=c.profiles,r=c.profilesAboutInfo,a=c.users;t(Q({category:e,profiles:s,profilesAboutInfo:r,users:a}))}else t(Y({category:e,error:n.error}))},z="PAGE__ORIGINAL_CONTENT_BEST_POSTS_PENDING",X="PAGE__ORIGINAL_CONTENT_BEST_POSTS_LOADED",Z="PAGE__ORIGINAL_CONTENT_BEST_POSTS_FAILED",ee=Object(c.a)(z),te=Object(c.a)(X),se=Object(c.a)(Z),re=(e=i.b)=>async(t,s,{apiContext:r})=>{const n=s(),c=n.meta,o=Object(E.a)(n,{categoryName:e});if(Object(E.b)(n,{categoryName:e})||o.length)return;t(ee({category:e}));const d=await((e,t)=>Object(l.b)(Object(b.a)(e,[p.a]),{data:t,endpoint:`${e.apiUrl}/original/${t.category}/top.json`,method:a.Fa.GET}))(r(),{category:e,limit:i.a,sort:a.U.TOP,t:a.Lb.WEEK});if(d.ok){const s=function(e){return e.data.children.reduce((e,{data:t})=>{const s=Object(j.a)(t);return e.posts[s.id]=s,e},{posts:{}})}(d.body).posts;t(te({category:e,meta:c,posts:s}))}else t(se({category:e,error:d.error}))}},"./src/reddit/actions/page.ts":function(e,t,s){"use strict";var r,n,a,c=s("./node_modules/lodash/get.js"),o=s.n(c),i=s("./node_modules/lodash/pick.js"),d=s.n(i),u=s("./node_modules/lodash/some.js"),l=s.n(u),b=s("./node_modules/react-router-redux/es/index.js"),p=s("./src/app/strings/index.ts"),O=s("./src/lib/addQueryParams/index.ts"),f=s("./src/lib/getParsedUserAgent/index.ts"),m=s("./src/reddit/actions/category.ts"),j=s("./src/reddit/actions/discoveryUnit.ts"),y=s("./src/reddit/actions/shortcuts.ts"),g=s("./src/reddit/constants/parameters.ts"),_=s("./src/reddit/endpoints/governance/posts.ts"),E=s("./src/reddit/endpoints/page/commentsPage.ts"),h=s("./src/reddit/endpoints/page/frontpage.ts"),I=s("./src/reddit/endpoints/page/myMultiredditFeed.ts"),T=s("./src/reddit/endpoints/page/search.ts"),S=s("./src/reddit/endpoints/page/subredditPage.ts"),v=s("./src/reddit/helpers/getPostLimitForMobile/index.ts"),C=s("./src/lib/assertNever.ts"),A=s("./src/lib/constants/index.ts"),R=s("./src/app/models/Draft.ts"),D=s("./src/lib/makeDraftKey/index.ts"),P=s("./src/reddit/models/Gold/Coins/index.ts"),x=s("./src/reddit/actions/appeal.ts"),w=s("./src/reddit/actions/badge.ts"),k=s("./src/reddit/actions/contentGate.ts"),N=s("./src/reddit/actions/dashboard.ts"),L=s("./src/reddit/actions/externalAccount.ts"),U=s("./src/reddit/actions/gold/modals.ts"),M=s("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),F=s("./src/reddit/actions/goldPurchaseModals/payment.ts"),G=s("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),B=s("./src/reddit/actions/governance/index.ts"),$=s("./src/reddit/actions/moderatingSubreddits.ts"),V=s("./src/reddit/actions/modQueue.ts"),H=s("./src/reddit/actions/platform.ts"),q=s("./src/reddit/actions/post.ts"),K=s("./src/reddit/actions/preferences.ts"),W=s("./src/reddit/actions/profile.ts"),Q=s("./src/reddit/actions/redditEmbed.ts"),Y=s("./src/reddit/actions/removalReasons.ts"),J=s("./src/reddit/actions/structuredStyles.ts"),z=s("./src/reddit/actions/subreddit.ts"),X=s("./src/reddit/actions/subredditSettings.ts"),Z=s("./src/reddit/actions/subredditModeration.ts"),ee=s("./src/reddit/actions/toaster.ts"),te=s("./src/reddit/actions/users.ts"),se=s("./src/reddit/constants/adEvents.ts");!function(e){e.BannedSubreddit="BANNED",e.GoldSubreddit="GOLD",e.PrivateSubreddit="PRIVATE",e.QuarantinedSubreddit="QUARANTINED",e.NotFoundSubreddit="NOT_FOUND"}(r||(r={})),function(e){e.BannedProfile="BANNED",e.DeletedProfile="DELETED",e.NotFoundProfile="NOT_FOUND",e.ForbiddenProfile="FORBIDDEN"}(n||(n={})),function(e){e.Unknown="Unknown"}(a||(a={}));var re=s("./src/reddit/constants/experiments.ts"),ne=s("./src/reddit/constants/listings.ts"),ae=s("./src/reddit/constants/page.ts"),ce=s("./src/reddit/constants/postLayout.ts"),oe=s("./src/reddit/constants/posts.ts"),ie=s("./src/reddit/contexts/PageLayer/index.tsx"),de=s("./src/reddit/helpers/canAccessModerationPage/index.ts"),ue=s("./src/reddit/helpers/commentList/index.ts"),le=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),be=s("./src/reddit/helpers/makeModQueueListingKey/index.ts"),pe=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),Oe=s("./src/reddit/helpers/pixels.ts"),fe=s("./src/reddit/helpers/trackers/screenview.ts"),me=s("./src/reddit/models/Comment/index.ts"),je=s("./src/reddit/models/DiscoveryUnit/index.ts"),ye=s("./src/reddit/models/ModeratingSubreddits/index.ts"),ge=s("./src/reddit/models/Multireddit/index.ts"),_e=s("./src/reddit/models/Post/index.ts"),Ee=s("./src/reddit/models/Toast/index.ts"),he=s("./src/reddit/models/User/index.ts"),Ie=s("./src/reddit/selectors/experiments/explore.ts"),Te=s("./src/reddit/selectors/frontpage.ts"),Se=s("./src/reddit/selectors/goldPurchaseModals.ts"),ve=s("./src/reddit/selectors/moderatorPermissions.ts"),Ce=s("./src/reddit/selectors/monthsToMinutes.ts"),Ae=s("./src/reddit/selectors/multireddit.ts"),Re=s("./src/reddit/selectors/platform.ts"),De=s("./src/reddit/selectors/posts.ts"),Pe=s("./src/reddit/selectors/runTimeEnvVars.ts"),xe=s("./src/reddit/selectors/subreddit.ts"),we=s("./src/reddit/selectors/user.ts"),ke=s("./src/lib/isAdHocMultireddit/index.ts"),Ne=s("./src/lib/isFakeSubreddit/index.ts"),Le=s("./src/lib/makeActionCreator/index.ts"),Ue=s("./src/lib/makeCommentsPageKey/index.ts"),Me=s("./src/lib/makeListingKey/index.ts"),Fe=s("./src/lib/makeSearchKey/index.ts"),Ge=s("./src/lib/matchRoute/index.ts"),Be=s("./src/reddit/actions/ad.ts"),$e=s("./src/reddit/actions/governance/async.ts"),Ve=s("./src/reddit/featureFlags/index.ts"),He=s("./src/reddit/helpers/canonicalUrls.ts"),qe=s("./src/reddit/helpers/chooseVariant/index.ts"),Ke=s("./src/lib/raven/index.ts"),We=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qe=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Ye={path:"",extraKeys:["id"],disableExtra:!1,replaceMissedObject:!1};var Je;!function(e){e.NotEqual="ne",e.Missed="m",e.Length="l"}(Je||(Je={}));const ze=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,Xe=(e,t,s)=>s?`${e}[${t}]`:`${(e&&`${e}.`)+t}`,Ze=e=>ze(e)?"[Object]":e,et=e=>{const t=e.o1,s=e.o2,r=e.path;var n=e.diffs;const a=void 0===n?[]:n,c=e.replaceMissedObject,o=Qe(e,["o1","o2","path","diffs","replaceMissedObject"]);if(Array.isArray(t)&&Array.isArray(s))return t.length!==s.length?[...a,{k:Je.Length,p:r,o1:t,o2:s}]:t.reduce((n,a,c)=>[...n,...et(Object.assign({},e,{o1:t[c],o2:s[c],path:Xe(r,((e,t,{disableExtra:s,extraKeys:r})=>s||!ze(t)?e:r.reduce((e,s)=>`${e}${t[s]?`,${s}=${t[s]}`:""}`,e))(c,t[c]||s[c],o),!0)}))],a);if(ze(t)&&ze(s)){let n=a;const o=[];for(const a in t)o.push(a),n=n.concat(s.hasOwnProperty(a)?et(Object.assign({},e,{o1:t[a],o2:s[a],path:Xe(r,a)})):{k:Je.Missed,p:Xe(r,a),o1:c?Ze(t[a]):t[a]});for(const e in s)o.includes(e)||n.push({k:Je.Missed,p:Xe(r,e),o2:c?Ze(s[e]):s[e]});return n}return t!==s?[...a,{k:Je.NotEqual,p:r,o1:t,o2:s}]:a};var tt=(e,t)=>et(Object.assign({},Ye,{o1:e,o2:t})),st=s("./src/telemetry/index.ts");window.atob;const rt=window.btoa;var nt,at=s("./src/lib/makeRequest/index.ts");!function(e){e.NumberOfDiffs="numberOfDiffs"}(nt||(nt={}));const ct=e=>{switch(e){case nt.NumberOfDiffs:return A.w.NUMBER_OF_DIFFS}};const ot=(e,t,s)=>{Object(st.b)(A.o.Redesign,{type:"gql",responseName:e,duration:s}),function(e,t){Object(at.a)({method:A.Fa.POST,endpoint:`/counters/${ct(t.type)}`,data:{value:rt(JSON.stringify(Object.assign({appName:e},t.data)))},type:"json"})}(A.o.Redesign,{type:nt.NumberOfDiffs,data:{responseName:e,numberOfDiffs:t}})};var it=async function({fetchFn:e,context:t,variables:s,normalizer:r,dataToCompare:n,responseName:a,diffSettings:c}){try{const i=Date.now(),d=await e(t,s);if(d.ok){const e=r(d.body.data),t=Date.now()-i,s=tt(n.response,e),o=c&&c.rules?((e,t)=>e.filter(e=>{for(const r of t){var s=We(r,2);const t=s[0],n=s[1];if(t.test(e.p)&&n(e.o1,e.o2))return!1}return!0}))(s,c.rules):s,u=o.length;return ot(a,u,t),o.length&&Object(Ke.c)(`Compare responses: ${a}`,{extra:Object.assign({diff:o,numberOfDiffs:u},n.start&&{responsesDist:i-n.start}),settings:{serverLogging:!1}}),Object.assign({},d,{body:e})}return Object(Ke.c)(`Gql error in ${a}`,{extra:{error:d.error},settings:{serverLogging:!1}}),d}catch(o){Object(Ke.b)(o)}},dt=s("./src/reddit/models/Flair/index.ts"),ut=s("./node_modules/lodash/isEmpty.js"),lt=s.n(ut);const bt=/i\.redd\.it|v\.redd\.it|i\.reddituploads\.com/;var pt=s("./src/reddit/models/Gold/Gild/index.tsx"),Ot=s("./src/reddit/models/Media/index.ts");var ft=s("./src/reddit/models/PostCreationForm/index.ts"),mt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const jt=e=>{const t=Date.parse(e);return Number.isNaN(t)?0:t-t%1e3},yt=e=>{const t={},s=e.split("?")[1];if(!s)return t;const r=s.split("&");for(const c of r){var n=c.split("="),a=mt(n,2);const e=a[0],s=a[1];t[e]=s}return t},gt=(e,t)=>{if("string"!=typeof e||"string"!=typeof t||e.split("?")[0]!==t.split("?")[0])return!1;const s=["auto","crop"],r=yt(e),n=yt(t);return[...new Set([...Object.keys(r),...Object.keys(n)])].filter(e=>!s.includes(e)).every(e=>"s"===e?r[e]&&n[e]:r[e]===n[e])},_t=()=>!0,Et=(e,t)=>e&&e.toUpperCase()===t,ht=(e,t)=>Math.abs(e-t)<Math.max(20,.1*e);var It=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Tt={document:[]},St=(e,t=null)=>{try{return JSON.parse(e)}catch(s){return t}},vt=({flair:e,isNsfw:t,isSpoiler:s})=>{let r=[];if(e){var n=e.template;const t=n.id,s=n.textColor,a=n.richtext,c=n.type,o=n.text,i=n.backgroundColor,d=St(a),u=!lt()(d),l=Object.assign({backgroundColor:i},t&&{templateId:t},s&&{textColor:(e=>{switch(e){case"DARK":return dt.d.Dark;case"LIGHT":return dt.d.Light}})(s)});r=[...r,u?Object.assign({type:dt.e.Richtext,richtext:d},l):Object.assign({type:c,text:o},l)]}return t&&(r=[...r,{text:"nsfw",type:dt.e.Nsfw}]),s&&(r=[...r,{text:"spoiler",type:dt.e.Spoiler}]),r},Ct=e=>e.map(({type:e,url:t})=>({url:t||"",type:(e=>{switch(e){case"IMPRESSION":return se.a.Impression;case"CLICK":return se.a.Click;case"COMMENTS_VIEW":return se.a.CommentsView;case"UPVOTE":return se.a.Upvote;case"DOWNVOTE":return se.a.Downvote;case"COMMENT_SUBMITTED":return se.a.CommentSubmitted;case"VIEWABLE_IMPRESSION":return se.a.ViewableImpression;case"COMMENT_UPVOTE":return se.a.CommentUpvote;case"COMMENT_DOWNVOTE":return se.a.CommentDownvote}})(e)})),At=e=>{var t=e.domain,s=e.url,r=It(e,["domain","url"]);return r.__typename===_e.d.AdPost||null!==r.postHint&&!(e=>bt.test(e))(t||"")?Object.assign({displayText:t||"",url:s||""},r.outboundLink&&{outboundUrl:r.outboundLink.url,outboundUrlExpiration:jt(r.outboundLink.expiresAt)}):null},Rt=["small","medium","large","xlarge","xxlarge","xxxlarge"],Dt=(e,t)=>{const s=!!e&&(t?e.obfuscatedStill:e.still);return s?Rt.reduce((e,t)=>{const r=s[t],n=r&&Object.assign({url:r.url},r.dimensions);return n?[...e,n]:e},[]):[]},Pt=e=>e.authorOnlyInfo&&e.authorOnlyInfo.contentMode===_e.b.MARKDOWN?ft.h.MARKDOWN:ft.h.RICH_TEXT,xt=e=>Math.min(e.height,e.width),wt={callToAction:null,domainOverride:null,events:[],isBlank:!1,isSponsored:!1},kt=(e,t)=>!!e&&(e.verdict===`MOD_${t.toUpperCase()}`||e.verdict===`ADMIN_${t.toUpperCase()}`),Nt=({moderationInfo:e,banInfo:t})=>{if(!e)return;const s=(e=>e&&e.verdictBy&&e.verdictBy.name)(e),r=(e=>e&&jt(e.verdictAt)||null)(e),n=kt(e,"spammed"),a=kt(e,"approved"),c=kt(e,"removed");var o=a?{approvedBy:s,approvedAtUTC:r}:{bannedBy:s,bannedAtUTC:r},i=o.approvedBy;const d=void 0===i?null:i;var u=o.approvedAtUTC;const l=void 0===u?null:u;var b=o.bannedBy;const p=void 0===b?null:b;var O=o.bannedAtUTC;const f=void 0===O?null:O;return Object.assign({isSpam:n,isApproved:a,isRemoved:c,numReports:e.reportCount,modNote:e.modNote,approvedBy:d,approvedAtUTC:l,bannedBy:p,bannedAtUTC:f},t&&{modRemovalReason:t.reason,modReasonBy:t.bannedBy&&t.bannedBy.name})};var Lt=e=>{const t=e.id,s=e.commentCount,r=e.createdAt,n=e.score,a=e.distinguishedAs,c=e.domain,o=e.isLocked,i=e.isStickied,d=e.isArchived,u=e.isScoreHidden,l=e.isPollIncluded,b=e.thumbnail,p=e.title,O=e.author,f=e.viewCount,m=e.gildingTotals,j=e.suggestedCommentSort,y=e.isHidden,g=e.isSaved,_=e.isNsfw,E=e.isSpoiler,h=e.voteState,I=e.permalink,T=e.media,S=e.isCrosspostable,v=e.crosspostRoot,C=e.upvoteRatio,R=e.isMediaOnly,D=e.isReceivingPostReplies,P=e.crosspostCount,x=e.isOriginalContent,w=e.postEventInfo,k=v&&(v.type===_e.a.Post?v.post.id:v.comment.id),N=(e=>e&&e.still&&e.still.source?Object.assign({url:e.still.source.url},e.still.source.dimensions):void 0)(T),L=m&&(e=>e.reduce((e,{type:t,total:s})=>{const r=Object(pt.c)(t.id);return r&&(e[r]=s),e},{gid1:0,gid2:0,gid3:0}))(m);return Object.assign({id:t,authorId:O&&O.id,crosspostRootId:k,crosspostParentId:k,numComments:s||0,distinguishType:(e=>"NONE"===e?null:e.toLowerCase())(a),created:jt(r),score:null!==n&&n>0?n:0,isLocked:o,isStickied:i,isArchived:d,isSpoiler:E,isMeta:l,viewCount:f||0,postId:t,thumbnail:(e=>e?Object.assign({url:e.url},e.dimensions):{url:"self",width:null,height:null})(b),author:O?O.name:"",title:p||"",voteState:(e=>{switch(e){case"DOWN":return 1;case"UP":return-1;default:return 0}})(h),gildings:L,goldCount:L?L.gid2:0,suggestedSort:A.t[j]||null,belongsTo:(e=>{switch(e.__typename){case _e.d.ProfilePost:return{id:e.profile.redditor.id,type:"profile"};case _e.d.SubredditPost:return{id:e.subreddit.id,type:"subreddit"};default:return null}})(e),hidden:y,saved:g,scoreHidden:u,domain:c||"",isNSFW:_,permalink:`https://web.archive.org/web/20181130235602/https://www.reddit.com${I}`,isCrosspostable:S,source:At(e),flair:vt(e),media:((e,t)=>{const s=e.media,r=e.content,n=(e=>e.isSpoiler||e.isNsfw)(e)?s&&s.obfuscatedStill&&s.obfuscatedStill.source&&s.obfuscatedStill.source.url:null;switch(t){case Ot.m.VIDEO:{const e=400,r=Dt(s,!!n),a=s&&s.still&&s.still.source;let c;if(r.length){c=r.reduce((e,t)=>e.width>t.width?e:t);const t=r.reduce((t,s)=>xt(s)>e&&a&&xt(s)<xt(a)?[...t,s]:t,[]);t.length&&(c=t.reduce((e,t)=>xt(e)<xt(t)?e:t))}else c=a;return{type:t,obfuscated:n,hlsUrl:s&&s.streaming&&s.streaming.hlsUrl||"",dashUrl:s&&s.streaming&&s.streaming.dashUrl||"",isGif:!!s&&!!s.streaming&&s.streaming.isGif,scrubberThumbSource:s&&s.streaming&&s.streaming.scrubberMediaUrl||"",width:s&&s.streaming?s.streaming.dimensions.width:0,height:s&&s.streaming?s.streaming.dimensions.height:0,posterUrl:c.url}}case Ot.m.TEXT:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",content:e.content?e.content.html:null,rteMode:Pt(e)};case Ot.m.RTJSON:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",richtextContent:St(r.richtext,Tt),content:e.content?e.content.html:null,rteMode:Pt(e),mediaMetadata:e.content&&e.content.richtextMedia&&e.content.richtextMedia.length?e.content.richtextMedia:null};case Ot.m.IMAGE:return{type:t,obfuscated:n,resolutions:Dt(s,!!n),width:s&&s.still&&s.still.source?s.still.source.dimensions.width:0,height:s&&s.still&&s.still.source?s.still.source.dimensions.height:0,content:s&&s.still&&s.still.source?s.still.source.url:""};case Ot.m.EMBED:return{type:t,obfuscated:n,width:s&&s.video?s.video.dimensions.width:0,height:s&&s.video?s.video.dimensions.height:0,provider:s&&s.video&&s.video.attribution&&s.video.attribution.providerName||""};case Ot.m.GIFVIDEO:return{type:t,obfuscated:n,resolutions:Dt(s,!!n),width:s&&s.still&&s.still.source?s.still.source.dimensions.width:0,height:s&&s.still&&s.still.source?s.still.source.dimensions.height:0,gifBackgroundImage:s&&s.still&&s.still.source?s.still.source.url:"",content:s&&s.animated&&s.animated.mp4_source?s.animated.mp4_source.url:""};default:return null}})(e,(e=>{const t=e.media;switch(t&&t.typeHint){case _e.c.IMAGE:return Ot.m.IMAGE;case _e.c.GIFVIDEO:return Ot.m.GIFVIDEO;case _e.c.VIDEO:return Ot.m.VIDEO;case _e.c.EMBED:return Ot.m.EMBED;default:return e.content&&e.content.richtext?Ot.m.RTJSON:Ot.m.TEXT}})(e)),upvoteRatio:C,isMediaOnly:R,sendReplies:D,numCrossposts:P||0,isOriginalContent:x},w&&{eventInfo:(({isLive:e,startsAt:t,endsAt:s})=>({eventIsLive:e,eventStart:Date.parse(t),eventEnd:Date.parse(s)}))(w)},N&&{preview:N},e.__typename===_e.d.AdPost?(({adEvents:e,callToAction:t,domain:s,isBlank:r})=>({callToAction:t,domainOverride:s,events:Ct(e),isBlank:r,isSponsored:!0}))(e):wt,Nt(e),e.__typename===_e.d.SubredditPost&&e.subreddit.originalContentCategories&&{contentCategories:e.subreddit.originalContentCategories})},Ut=s("./src/reddit/models/Subreddit/index.ts"),Mt=s("./src/reddit/models/WhitelistStatus/index.ts"),Ft=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s},Gt=e=>{var t=e.name,s=e.path,r=e.redditor,n=e.styles,a=e.wls,c=Ft(e,["name","path","redditor","styles","wls"]),o=n&&n.legacyIcon&&{width:n.legacyIcon.dimensions.width,height:n.legacyIcon.dimensions.height}||{width:null,height:null};const i=o.width,d=o.height,u=n&&n.legacyPrimaryColor;return Object.assign({url:s,displayText:r.prefixedName,icon:{url:n&&n.icon||"",width:i,height:d},communityIcon:n&&n.icon||"",type:Ut.b.User,name:t.substr(2)},u&&{primaryColor:u},a&&{whitelistStatus:a.toLowerCase(),wls:Mt.a[a]},c)},Bt=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s},$t=e=>{var t=e.path,s=e.prefixedName,r=e.type,n=e.styles,a=e.wls,c=(e.postFlairSettings,e.originalContentCategories,Bt(e,["path","prefixedName","type","styles","wls","postFlairSettings","originalContentCategories"])),o=n&&n.legacyIcon&&{width:n.legacyIcon.dimensions.width,height:n.legacyIcon.dimensions.height}||{width:null,height:null};const i=o.width,d=o.height,u=n&&n.primaryColor;return Object.assign({url:t,displayText:s,icon:{url:n&&n.icon||"",width:i,height:d},communityIcon:n&&n.icon||"",type:r.toLowerCase(),primaryColor:u||""},a&&{whitelistStatus:a.toLowerCase(),wls:Mt.a[a]},c)},Vt=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Ht=e=>e&&e.unreadCount?e.unreadCount:0;var qt=e=>{var t=e.redditor,s=e.inbox,r=e.premium,n=e.preferences,a=Vt(e,["redditor","inbox","premium","preferences"]);const c=t.karma,o=t.profile,i=a.interactions,d=a.modMail;return Object.assign({url:o?o.path.slice(0,-1):"",id:t.id,created:jt(t.cakeDayOn),hasUnreadMail:Ht(s)>0,hasUnreadOldModmail:!!d&&d.isUnread,hasUnreadModmail:!!d&&d.isUnread,hasUserProfile:!!o,inboxCount:Ht(s),isEmployee:!!a.isEmployee,isMod:!!a.isModerator,hasVerifiedEmail:!!a.isEmailVerified,inRedesignBeta:n.isBetaEnabled,commentKarma:c?c.fromComments:0,postKarma:c?c.fromPosts:0,isGold:!!t.isGilded,goldExpiration:(e=>e&&e.expiresAt?jt(e.expiresAt):0)(r),showRecentPosts:n.isRecentPostsShown,showTrending:n.isTrendingSubredditsShown,nightmode:n.isNightModeEnabled,seenRedesignModal:!!i&&i.isRedesignModalAware,seenLayoutSwitch:!!i&&i.isLayoutSwitchAware,seenSubredditChatFtux:!!i&&i.isSubredditChatAware,isNSFW:!!o&&o.isNSFW,displayName:t.name,displayNamePrefixed:t.prefixedName,displayText:t.name,isSuspended:a.isSuspended,isFPR:!!a.isForcePasswordReset,creddits:r?r.creddits:0},o&&{profileId:o.id},t.icon&&{accountIcon:t.icon.url},r&&r.subscription&&{hasGoldSubscription:r.subscription.isGoldAvailable,hasPaypalSubscription:r.subscription.isPaypalAvailable,hasStripeSubscription:r.subscription.isStripeAvailable})};function Kt({isEnabled:e=!1,position:t}){return{isEnabled:e,position:function(e){switch(e){case dt.f.LEFT:return dt.a.Left;case dt.f.RIGHT:return dt.a.Right;case dt.f.NULL_VALUE:default:return""}}(t)}}function Wt({postFlairSettings:e}){return Object.assign({},e&&{displaySettings:e&&Kt(e)})}var Qt=({trendingSubreddits:e=[],identity:t,home:s})=>{const r={postIds:[],posts:{},postFlair:{},profiles:{},subreddits:{},trendingSubredditIds:[]};for(const o of e){const e=$t(o);r.subreddits[e.id]=e,r.trendingSubredditIds.push(e.id)}for(const o of s.posts.edges){const e=o.node;switch(r.postIds.push(e.id),r.posts[e.id]=Lt(e),e.__typename){case _e.d.ProfilePost:r.profiles[e.profile.id]||(r.profiles[e.profile.id]=Gt(e.profile));break;case _e.d.SubredditPost:r.subreddits[e.subreddit.id]||(r.subreddits[e.subreddit.id]=$t(e.subreddit)),r.postFlair[e.subreddit.id]||(r.postFlair[e.subreddit.id]=Wt(e.subreddit))}}const n=r.postIds.length-1,a=n>=0?r.postIds[n]:"",c=s.posts.dist;return Object.assign({},r,{account:t&&qt(t),featuredLiveThread:null,preferences:t&&(e=>({emailDigests:!!e.isEmailDigestEnabled,emailUnreadMessages:!!e.isEmailMessagesEnabled,emailUnsubscribe:!!e.isEmailOptedOut,hideFromRobots:!!e.isProfileHiddenFromRobots,hideNSFW:!!e.isNsfwMediaBlocked,highlightComments:!!e.isNewHighlightEnabled,inBeta:!!e.isBetaEnabled,labelNSFW:!!e.isNsfwLabelShown,nightmode:!!e.isNightModeEnabled,privateFeeds:!!e.isPrivateRssEnabled,profileOptOut:!!e.isLegacyProfilesEnabled,showMessagesInInbox:!!e.isMessageThreadingEnabled,autoplayVideo:!e.isVideoAutoplayDisabled}))(t.preferences),token:a},null!==c&&{dist:c})},Yt=s("./src/reddit/helpers/timeApiRoute/index.ts"),Jt=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),zt=s("./src/reddit/actions/hero.ts"),Xt=s("./src/reddit/constants/news.ts"),Zt=s("./src/reddit/selectors/news.ts");s.d(t,"n",function(){return es}),s.d(t,"j",function(){return ts}),s.d(t,"F",function(){return ss}),s.d(t,"S",function(){return rs}),s.d(t,"h",function(){return ns}),s.d(t,"g",function(){return as}),s.d(t,"f",function(){return cs}),s.d(t,"t",function(){return us}),s.d(t,"s",function(){return ls}),s.d(t,"r",function(){return bs}),s.d(t,"Q",function(){return ps}),s.d(t,"G",function(){return js}),s.d(t,"E",function(){return gs}),s.d(t,"P",function(){return _s}),s.d(t,"R",function(){return hs}),s.d(t,"d",function(){return Is}),s.d(t,"b",function(){return Ts}),s.d(t,"a",function(){return Ss}),s.d(t,"z",function(){return Cs}),s.d(t,"y",function(){return As}),s.d(t,"A",function(){return Rs}),s.d(t,"x",function(){return Ds}),s.d(t,"c",function(){return Ps}),s.d(t,"J",function(){return ks}),s.d(t,"I",function(){return Ns}),s.d(t,"H",function(){return Ls}),s.d(t,"N",function(){return Us}),s.d(t,"u",function(){return Ms}),s.d(t,"p",function(){return Fs}),s.d(t,"q",function(){return Gs}),s.d(t,"o",function(){return Bs}),s.d(t,"O",function(){return Ks}),s.d(t,"M",function(){return Ws}),s.d(t,"i",function(){return Qs}),s.d(t,"D",function(){return Js}),s.d(t,"m",function(){return zs}),s.d(t,"l",function(){return Xs}),s.d(t,"k",function(){return Zs}),s.d(t,"K",function(){return nr}),s.d(t,"e",function(){return ar}),s.d(t,"B",function(){return or}),s.d(t,"w",function(){return ir}),s.d(t,"v",function(){return dr}),s.d(t,"L",function(){return ur}),s.d(t,"C",function(){return lr});const es=25,ts=100,ss=(e,t)=>{if(e===A.U.CONTROVERSIAL||e===A.U.TOP)return t||A.Mb},rs=(e,t=!0)=>async(s,r,{routes:n})=>{const a=r();Object(Ge.a)(e,n,a)?s(Object(b.b)(e)):t?window.open(e,"_blank"):window.location.assign(e)},ns="PAGE__FRONTPAGE_PENDING",as="PAGE__FRONTPAGE_LOADED",cs="PAGE__FRONTPAGE_FAILED",os=Object(Le.a)(ns),is=Object(Le.a)(as),ds=Object(Le.a)(cs),us="PAGE__SUBREDDIT_PENDING",ls="PAGE__SUBREDDIT_LOADED",bs="PAGE__SUBREDDIT_FAILED",ps=Object(Le.a)(us),Os=Object(Le.a)(ls),fs=Object(Le.a)(bs),ms=(e,t)=>{const s=e.user.language;return Object(p.a)(s,`title.${t}`)},js=(e,t)=>async s=>{if(!e.ok&&e.body){const n=e.body.data?e.body.data.account:void 0,a=e.body.data?e.body.data.features:void 0,c=t?t.toLowerCase():"";if(404===e.status)if(e.body.reason===r.NotFoundSubreddit)s(k.i({account:n,features:a,subredditName:c}));else if(e.body.reason===r.BannedSubreddit){const t=e.body.data?e.body.data.ban_message:void 0;s(k.h({banMessage:t,account:n,features:a,subredditName:c}))}if(403===e.status)if(e.body.reason===r.GoldSubreddit)s(k.j({account:n,features:a,subredditName:c}));else if(e.body.reason===r.PrivateSubreddit)s(k.k({account:n,features:a,subredditDescription:e.body.data.description,subredditName:c}));else if(e.body.reason===r.QuarantinedSubreddit){const t=!e.body.data||e.body.data.quarantine_requires_email_optin;s(k.l({account:n,features:a,subredditName:c,quarantineRequiresEmail:t,quarantineMessage:e.body.data.quarantineMessage,quarantineMessageHtml:e.body.data.quarantineMessageHtml}))}s(K.r({nightmode:!!n&&n.nightmode}))}},ys=(e,t)=>async(s,r,n)=>{const a=r();if(a.listings.postOrder.api.pending[e])return;const c=ce.c[Object(ie.K)(a,{})];t.isMobile=Object(f.d)(a.meta.userAgent),t.recentPostIds=a.posts.recent,t.layout=c,t.useMockData=!!a.platform.currentPage&&(!!a.platform.currentPage.queryParams.useMockData&&Object(Pe.b)(a)),s(os({key:e}));const o=Object(Ce.h)(a),i=Object(Ce.i)(a,{expEventOverride:!1}),d=o&&i;if(!d){const e=a.platform.currentPage,s=e&&e.url;s&&(t.clickUrl=s)}const u=d?()=>Object(S.a)(n.apiContext(),o,t):()=>Object(h.a)(n.apiContext(),t),l=d?"multireddit":"index",b=Date.now(),O=await Object(Yt.a)(l,u);s(Object(H.k)(O.status));const j=`error-${e}`;if(O.ok){const o=O.body;s(is(Object.assign({key:e,meta:a.meta},o)));const i=[$.c()(s,r,n)];if(Object(Ie.a)(a)&&i.push(s(m.g())),await Promise.all(i),s(ee.f(j)),s(Object(Be.g)(Jt.a.FRONTPAGE)),!d&&Ve.d.enableShadowMode(a)){const e=t.sort,s=t.t,r={isLoggedIn:!!a.user.session&&!a.user.session.unsafeLoggedOut};e&&(r.sort=e.toUpperCase()),s&&(r.range=s.toUpperCase()),t.isMobile&&(r.pageSize=Object(v.a)(c)),it({fetchFn:h.b,normalizer:Qt,variables:r,context:n.gqlContext(),dataToCompare:{response:o,start:b},responseName:((e,t)=>{const s=[A.U.CONTROVERSIAL,A.U.TOP].includes(e)&&!t?A.Mb:t;return`home_feed_${e}${s?"_"+s:""}`})(e,s),diffSettings:{rules:[[/.*/,(e,t)=>void 0===e&&[!1,null,void 0].includes(t)],[/^features$/,_t],[/^posts\..+\.eventsOnRender$/,_t],[/^posts\..+\.isRoadblock$/,_t],[/^posts\..+\.postCategories$/,_t],[/^account\.geopopular$/,_t],[/^account\.inChat$/,_t],[/^account\.showTwitter$/,_t],[/^posts\..+\.score$/,ht],[/^subreddits\..+\.subscribers$/,ht],[/^posts\..+\.upvoteRatio$/,_t],[/^subreddits\..+\.primaryColor$/,Et],[/^posts\..+\.flair\[\d{1,2}\]\.backgroundColor$/,Et],[/^account.showRecentPosts$/,(e,t)=>!!e===t],[/^posts\..+\.media\.resolutions\[\d+\]\.url$/,gt],[/^posts\..+\.media\.posterUrl$/,gt],[/^trendingSubredditIds\[\d+\]$/,_t],[/^subreddits\..+\.wls$/,e=>null==e],[/^subreddits\..+\.whitelistStatus$/,(e,t)=>"null_value"===t&&(!e||"no_ads"===e)]]}})}}else s(ds(Object.assign({error:O.error,key:e},O.body))),s(ee.e({id:j,kind:Ee.b.Error,text:Object(p.a)(a.user.language,"listings.toast.error"),buttonText:Object(p.a)(a.user.language,"listings.toast.retryButton"),buttonAction:ys(e,t)}))},gs=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(Zt.b)(a),o=Object(Pe.b)(a);await Promise.all([Object(Zt.g)(a)?s(Object(zt.e)(c,Xt.g,"",o)):null,s(((e,t)=>async(s,r)=>{const n=r();if(!1===n.user.temporaryGQL.isLoggedIn){const t=Object(Ie.a)(n);if(t&&!Object(re.D)(t))return void s(Object(b.b)(Object(O.a)(ne.c[ae.e.Explore],e.queryParams)))}const a=Object(Te.a)(n);var c=e.params.sort;const o=void 0===c?a:c,i=Object(Me.a)(ae.b,o,e.queryParams),u=n.listings.postOrder.ids[i],l=n.listings.postOrder.api.error[i],p=n.listings.postOrder.api.pending[i],f=g.p in e.queryParams&&e.queryParams[g.p].toUpperCase()||"",m=f in A.Lb&&A.Lb[f];p||u&&!l&&!t?u&&(s(H.j({title:ms(r(),"frontpage")})),n.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(Be.g)(Jt.a.FRONTPAGE))})):(await s(ys(i,Object.assign({},d()(e.queryParams,g.j),d()(e.queryParams,g.i),{sort:o,t:ss(o,m)}))),s(H.j({title:ms(r(),"frontpage")})),Object(qe.a)(n,"redesign_aa"))})(e,t))])},_s=(e,t,s,r)=>async(n,a,c)=>{const o=a();if(o.listings.postOrder.api.pending[e])return;const i="all"!==t&&"popular"!==t||!o.posts.recent.length?s:Object.assign({},s,{recentPostIds:o.posts.recent});i.layout=ce.c[Object(ie.K)(o,{})],n(ps({key:e}));const d=await Object(Yt.a)("subreddit",()=>Object(S.a)(c.apiContext(),t,i));n(Object(H.k)(d.status));const u=`error-${e}`,b=d.body,O=Object(Ne.a)(t)||l()(b.subreddits,e=>e.name.toLowerCase()===t.toLowerCase());if(d.ok&&O){let s;const i=b.postIds.filter(e=>!!b.posts[e].isMeta);if(i.length){const e=Object.keys(b.subreddits).reduce((e,s)=>{const r=b.subreddits[s];return r.name.toLowerCase()===t.toLowerCase()?r.id:e},null);if(e){const t=await Object(_.a)(c.apiContext(),e,i);t.ok&&(s=t.body)}}if(n(Os(Object.assign({key:e,meta:o.meta,governance:s},b))),!Object(Ne.a)(t)){const e=Object(xe.w)(a(),t),s=Object(xe.A)(o,{subredditId:e});s&&s.length||await z.w(t)(n,a,c)}const d=[$.c()(n,a,c)];if(Object(Ie.a)(o)&&d.push(n(m.g())),await Promise.all(d),r&&n(ee.f(u)),n(Object(Be.g)(Jt.a.SUBREDDIT)),n(Object(L.p)()),Ve.d.governance(a())){const e=Object(xe.w)(a(),t);if(e&&n(Object(B.g)({subredditId:e})),e){const t=b.postIds.map(e=>{return b.posts[e].authorId}),s=await Object($e.a)();await Promise.all([n(Object(w.l)({subredditId:e})),n(s({subredditId:e,userIds:t}))])}}}else{if(403===d.status||404===d.status)return void n(js(d,t));n(fs(Object.assign({error:!d.ok&&d.error||{type:A.F.NOT_FOUND_ERROR},key:e},b)));const a=d.body.data?d.body.data.account:void 0;n(K.r({nightmode:!!a&&a.nightmode})),r&&n(ee.e({id:u,kind:Ee.b.Error,text:Object(p.a)(o.user.language,"listings.toast.error"),buttonText:Object(p.a)(o.user.language,"listings.toast.retryButton"),buttonAction:_s(e,t,s,r)}))}},Es=(e,t)=>{if(Object(Ne.a)(t)&&Object(ke.a)(t)){return Object(Ae.a)(e,{listingName:t}).displayText}return Object(xe.C)(e,{subredditName:t})},hs=(e,t)=>async(s,r,n)=>{var a=e.params,c=a.sort;const o=void 0===c?A.U.HOT:c,i=a.subredditName,u=e.queryParams.styling,l=Object(Me.a)(i,o,e.queryParams),b=r(),p=b.listings.postOrder.ids[l],O=b.listings.postOrder.api.error[l],f=b.listings.postOrder.api.pending[l],m=Object(xe.w)(b,i),j=u&&"true"===u&&((e,t)=>Object(ve.a)(ye.b.config)(e,{subredditId:t})||Object(ve.a)(ye.b.flair)(e,{subredditId:t}))(b,m),y=g.p in e.queryParams&&e.queryParams[g.p].toUpperCase()||"",_=y in A.Lb&&A.Lb[y];if(f||p&&!O&&!t){if(j&&s(J.p(m)),p){const e=Es(r(),i);s(H.j({title:e})),window.addEventListener("load",()=>{s(Object(L.p)())}),b.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(Be.g)(Jt.a.SUBREDDIT))}),Ve.d.governance(r())&&m&&window.addEventListener("load",()=>{s(Object(B.g)({subredditId:m}))})}return}const E=Object.assign({},d()(e.queryParams,[...g.j,...g.i,g.f]),{sort:o,t:ss(o,_)});if(await s(_s(l,i,E,!0)),Ve.d.governance(b)){const e=Object(xe.w)(r(),i);e&&await s(Object(B.a)({subredditId:e}))}j&&s(J.p(m));const h=Es(r(),i);s(H.j({title:h}))},Is="PAGE__COMMENTSPAGE_PENDING",Ts="PAGE__COMMENTSPAGE_LOADED",Ss="PAGE__COMMENTSPAGE_FAILED",vs=Object(Le.a)(Is),Cs=Object(Le.a)(Ts),As=Object(Le.a)(Ss),Rs=e=>async(t,s,r)=>{const n=e.params.partialPostId,a=e.params.partialCommentId;const c=(e.params||"").subredditName,o=n?Object(_e.f)(n):"",i=a&&Object(me.b)(a),d=e.queryParams,u=s(),l=d.instanceId;var b=Object(le.a)(d,u.user,u.posts.models[o]);const O=b.hasSortParam,f=b.sortToUse,m=["context","depth","limit",g.e].reduce((e,t)=>{const s=parseInt(d[t]);return isNaN(s)||(e[t]=s),e},{subredditName:c,hasSortParam:O,instanceId:l,include_categories:!0});O&&(m.sort=f),t(q.i(o)),await t(Ds(o,i,m));const j=s().posts.models[o];if(j){const r=((e,t)=>{const s=Object(De.N)(e,{postId:t});return s?Object(p.a)(e.user.language,"title.commentsPage",{postTitle:e.posts.models[t].title,subreddit:s.name}):""})(s(),o),n=Object(xe.z)(s(),{identifier:j.belongsTo});if(j.belongsTo.type!==oe.a.SUBREDDIT||j.isSponsored)j.belongsTo.type===oe.a.PROFILE&&await t(W.i(n.name));else{const e=Object(xe.A)(u,{subredditId:j.belongsTo.id});e&&e.length||await t(z.w(n.name))}t(Object(L.p)()),t(H.j({title:r}));const a=s().posts.instances[o]?e.queryParams.instanceId:j.postId;t(Object(y.c)(a))}else t(H.j({title:ms(s(),"frontpage")}));const _=e.params.routePrefix;if(oe.b[_]===oe.a.PROFILE?Object(He.a)(s(),t,e):Object(He.b)(s(),t,e),Ve.d.governance(u)){const e=j.belongsTo.id;e&&t(Object(B.g)({subredditId:e})),e&&await t(Object(B.a)({subredditId:e}))}},Ds=(e,t,s,r)=>async(n,a,c)=>{const o=Object(Ue.a)(e,t,s),i=a(),d=s.subredditName,u=i.commentsPage.keyToHeadCommentId.hasOwnProperty(o),l=i.commentsPage.api.fullyLoaded[o],b=i.commentsPage.api.error[o];if(i.commentsPage.api.pending[o]||u&&!b){if(u&&!i.sidebarPromotedPosts.firstFetch){const e=Object(Re.h)(i)?Jt.a.COMMENTS_OVERLAY:Jt.a.COMMENTS;window.addEventListener("load",()=>{n(Object(Be.g)(e))})}if(l||r||n(ws(e,t,s)),d&&Ve.d.governance(a())){const e=Object(xe.w)(a(),d);e&&window.addEventListener("load",()=>{n(Object(B.g)({subredditId:e}))})}return}const p=i.user.prefs.commentMode;n(vs({key:o,postId:e,commentMode:p}));const O=Object.assign({},s);{const t=Object(De.C)(a(),{postId:e});t&&t.numComments&&t.numComments>ts&&(O.truncate=es)}let f,m=await Object(Yt.a)("comments",()=>Object(E.a)(c.apiContext(),e,t,O));if(n(Object(H.k)(m.status)),m.ok){const t=Object.keys(m.body.posts).filter(e=>!!m.body.posts[e].isMeta),s=m.body.posts[e];if(t.length){const e=await Object(_.a)(c.apiContext(),s.belongsTo.id,t);e.ok&&(f=e.body)}}if(!r){const r=Object(De.C)(a(),{postId:e});r&&m.body.comments&&Object.keys(m.body.comments).length<r.numComments?n(ws(e,t,s)):m.ok&&n(xs({key:o}));const c=Object(Re.h)(i)?Jt.a.COMMENTS_OVERLAY:Jt.a.COMMENTS;n(Object(Be.g)(c))}if(m.ok){const t=Object(ue.a)(m.body,e);n(Cs(Object.assign({key:o,postId:e,meta:i.meta,governance:f,shouldCollapse:t},m.body))),await $.c()(n,a,c),n(ee.f(o));const s=Object(De.C)(a(),{postId:e});if(Object(Oe.a)(s.events,se.a.CommentsView),!r&&Ve.d.governance(a())){const t=a().posts.models[e];if(t&&"subreddit"===t.belongsTo.type){const e=Object.keys(m.body.comments).map(e=>{return m.body.comments[e].authorId}),s=t.belongsTo.id,r=await Object($e.a)();await Promise.all([n(Object(w.l)({subredditId:s})),n(r({subredditId:s,userIds:e}))])}}}else d&&(n(ps({key:o})),m=await Object(Yt.a)("subreddit",()=>Object(S.a)(c.apiContext(),d,{})),n(Object(H.k)(m.status))),n(js(m,d)),n(As(Object.assign({error:m.error,key:o},m.body)))},Ps="PAGE__COMMENTSPAGE_LOADED_FULL",xs=Object(Le.a)(Ps),ws=(e,t,s)=>async(r,n,a)=>{const c=Object(Ue.a)(e,t,s),o=n(),i=await Object(E.a)(a.apiContext(),e,t,s);if(r(Object(H.k)(i.status)),i.ok){const t=Object(ue.a)(i.body,e);if(r(Cs(Object.assign({key:c,postId:e,meta:o.meta,shouldCollapse:t},i.body))),r(xs({key:c})),Ve.d.governance(n())){const t=n().posts.models[e];if(t&&"subreddit"===t.belongsTo.type){const e=Object.keys(i.body.comments).map(e=>{return i.body.comments[e].authorId}),s=t.belongsTo.id,n=await Object($e.a)();await r(n({subredditId:s,userIds:e}))}}}else r(As(Object.assign({error:i.error,key:c},i.body)))},ks=e=>async(t,s,r)=>{var n=e.params;const a=n.subredditName,c=n.pageName,o=Object(Me.a)(a,void 0,e.queryParams),i=s(),d=e.queryParams,u=d.page,l=i.listings.postOrder.ids[o],b=i.listings.postOrder.api.error[o],p=i.listings.postOrder.api.pending[o];let O,f,m,j,y;if(b)return;if(p||l&&!b)Object(fe.d)(i,!0,a);else{if(t(ps({key:o})),!(O=await Object(Yt.a)("subreddit",()=>Object(S.a)(r.apiContext(),a,{}))).ok)return void t(fs(Object.assign({error:O.error,key:o},O.body)));{t(Os(Object.assign({key:o,meta:i.meta},O.body)));const e=s();if(!Object(we.C)(e)&&c!==A.Jb.Moderators)return void Object(pe.a)(t,e)}}if(!c)return;switch(c){case A.Jb.Muted:f=Z.Ia;break;case A.Jb.Contributors:f=Z.V;break;case A.Jb.Banned:f=Z.Z;break;case A.Jb.Moderators:j=!0;break;case A.Jb.Removal:f=Y.r;break;case A.Jb.PostRequirements:f=X.A,y=!0;break;case A.Jb.Modqueue:case A.Jb.Reports:case A.Jb.Spam:case A.Jb.Edited:case A.Jb.Unmoderated:m=c;break;default:return Object(C.a)(c)}const g=Object(xe.C)(s(),{subredditName:a.toLowerCase()}),_=Object(xe.w)(s(),a),E=Object(ve.g)(s(),{subredditId:_});if(Object(de.a)(c,E)){if(m){const e=Object(be.a)(Object.assign({},d,{subreddit:a})),n=i.modQueue[m].itemOrder[e],c=!!(n&&n[u]&&n[u].length),o=i.modQueue[m].api.error;if(i.modQueue[m].api.pending||c&&!o)return;Object(Re.m)(i)||await Object(V.E)(m,Object.assign({},d,{subreddit:a}))(t,s,r)}else j?(await Object(Z.Fa)(_,d)(t,s,r),i.moderatingSubreddits[_]&&(await Object(Z.Da)(_,d)(t,s,r),await Object(Z.Ea)(_)(t,s,r))):y?await f(a)(t,s,r):f&&await f(_,d)(t,s,r);i.subreddits.rules[_]||await z.w(a)(t,s,r),t(H.j({title:g})),Object(fe.d)(s(),O&&O.ok,a)}},Ns=e=>async(t,s,r)=>{const n=e.params.pageName,a=e.queryParams,c=a.page,i=a.profile,d=a.subreddit,u=s();if(!n)return;const l=Object(be.a)(a),b=u.modQueue[n].itemOrder[l],p=!!(b&&b[c]&&b[c].length),O=u.modQueue[n].api.error;if(u.modQueue[n].api.pending||p&&!O)return;Object(Re.m)(u)||await Object(V.E)(n,a)(t,s,r);const f=s();if(o()(f.modQueue[n].api.error,"type")===A.F.AUTHENTICATION_ERROR)return Object(pe.a)(t,f);Object(fe.e)(f,n,d,i),t(H.j({title:ms(f,"modQueue")}))},Ls=e=>async(t,s,r)=>{await t(Object(Q.c)(e,!0))},Us=e=>async(t,s,r)=>{await t(Object(Q.c)(e,!0))},Ms=()=>async(e,t,s)=>{await e(x.f())},Fs="SEARCH__SEARCH_PENDING",Gs="SEARCH__SEARCH_RESULTS_RECEIVED",Bs="SEARCH__SEARCH_FAILED",$s=Object(Le.a)(Fs),Vs=Object(Le.a)(Gs),Hs=Object(Le.a)(Bs),qs=(e,t,s)=>async(r,n,{apiContext:a})=>{const c=n(),o=t[g.b],i=t.category;(o||i)&&(await Promise.all([r(j.h()),r(m.g())]),i&&await Promise.all([r(m.h(i,10)),r(j.i(je.f,i))]));let d=t.type.indexOf(A.Fb.Posts)>-1||s&&t.restrict_sr;if(d){const t=c.listings.postOrder.ids[e],s=c.listings.postOrder.api.error[e];d=!(c.listings.postOrder.api.pending[e]||t&&!s)}let u=t.type.indexOf(A.Fb.Subreddits)>-1||t.type.indexOf(A.Fb.Users)>-1;if(u){const t=c.listings.listingOrder.identifiers[e],s=c.listings.listingOrder.api.error[e];u=!(c.listings.listingOrder.api.pending[e]||t&&!s)}if(!d&&!u)return void(c.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{r(Object(Be.g)(Jt.a.SEARCH_RESULTS))}));const l=`error-${e}`,b=t.type;r($s({key:e,type:b}));const O=await Object(Yt.a)("searchResults",()=>Object(T.a)(a(),s,Object.assign({},t,{type:(t.type||[]).join(",")})));O.ok?(r(Vs(Object.assign({key:e,type:b,meta:c.meta,subredditName:s},O.body))),r(ee.f(l)),r(Object(Be.g)(Jt.a.SEARCH_RESULTS))):(r(Hs(Object.assign({key:e,error:O.error,type:b},O.body))),r(ee.e({id:l,kind:Ee.b.Error,text:Object(p.a)(c.user.language,"search.toast.error"),buttonText:Object(p.a)(c.user.language,"search.toast.retryButton"),buttonAction:qs(e,t,s)})))},Ks=e=>async(t,s,r)=>{const n=Object(Fe.c)(d()(e.queryParams,g.n)),a=e.params.subredditName||e.params.multiredditName,c=Object.assign({},n,{sort:n.category?A.Eb.Relevance:n.sort,t:n.category?A.Lb.DAY:n.t}),o=Object(Fe.b)(a,c),i=s();await t(qs(o,c,a));const u=s();let l=!1;var b=n.type;const O=void 0===b?[]:b,f=O.indexOf(A.Fb.Posts)>-1,m=O.indexOf(A.Fb.Subreddits)>-1||O.indexOf(A.Fb.Users)>-1;f&&u.listings.postOrder.api.error[o]&&(l=!0),m&&u.listings.listingOrder.api.error[o]&&(l=!0),t(l?H.j({title:ms(i,"frontpage")}):H.j({title:((e,t)=>Object(p.a)(e.user.language,"search.title",{query:t||"None"}))(u,n.q)}))},Ws=(e,t,s)=>async(r,n,{routes:a})=>{const c=n(),o=(t||c.platform.currentPage).routeMatch.match,i=Object(Ge.a)(o.url,a);if(!i)return;const d=e.metaKey||e.ctrlKey||1===e.button;if(i.route&&i.route.meta&&(i.route.meta.name===A.mb.INDEX||i.route.meta.name===A.mb.MULTIREDDIT||i.route.meta.name===A.mb.SUBREDDIT))d?window.open(o.url):s?r(Object(b.b)(o.url)):(await r(i.route.action(o,!0)),window.scroll(0,0));else if(i.match&&i.match.params&&i.match.params.subredditName){const e=i.match.params.subredditName,t=`/r/${e}`;if(d)window.open(t);else if(s)r(Object(b.b)(t));else{const s=Object(Me.a)(e,A.U.HOT);await r(Object(b.b)(t)),r(_s(s,e,{})),window.scroll(0,0)}}},Qs="PAGE__FRONTPAGE_RELOADED",Ys=Object(Le.a)(Qs),Js=e=>async(t,s,r)=>{const n=s(),a=n.platform.currentPage.routeMatch.match;Object(Se.q)(n)||Object(Se.d)(n)||(e||t(Ys()),await t(gs(a,!0)),window.scroll(0,0))},zs="PAGE__MULTIREDDIT_FEED_PENDING",Xs="PAGE__MULTIREDDIT_FEED_LOADED",Zs="PAGE__MULTIREDDIT_FEED_FAILED",er=Object(Le.a)(zs),tr=Object(Le.a)(Xs),sr=Object(Le.a)(Zs),rr=(e,t,s,r)=>async(n,a,{apiContext:c})=>{const o=a();if(o.listings.postOrder.api.pending[e])return;n(er({key:e})),s.layout=ce.c[Object(ie.K)(o,{})];const i=await Object(Yt.a)("multireddit",()=>Object(I.a)(c(),t,s)),d=`error-${e}`;if(i.ok)n(tr(Object.assign({key:e,meta:o.meta},i.body))),r&&n(ee.f(d)),window.addEventListener("load",()=>{n(Object(Be.g)(Jt.a.MULTIREDDIT))});else{if(404===i.status)return r&&n(ee.f(d)),void n(Object(b.c)("/"));n(sr(Object.assign({error:!i.ok&&i.error||{type:A.F.NOT_FOUND_ERROR},key:e},i.body))),r&&n(ee.e({id:d,kind:Ee.b.Error,text:Object(p.a)(o.user.language,"listings.toast.error"),buttonText:Object(p.a)(o.user.language,"listings.toast.retryButton"),buttonAction:rr(e,t,s,r)}))}},nr=(e,t)=>async(s,r)=>{const n=e.params.multiredditName;let a=e.params.username;if(!a){const e=r();if(e.user.session&&e.user.session.unsafeLoggedOut)return void s(Object(b.c)("/"));if(!e.user.account&&e.user.session&&await s(te.o()),!r().user.account)return void s(Object(b.c)("/"))}var c=e.params.sort;const o=void 0===c?A.U.HOT:c,i={multiredditName:n},u=r();a||(a=u.user.account?Object(he.d)(u.user.account):"");const l=Object(ge.c)(a,n),p=Object(Me.a)(l,o,e.queryParams),O=u.listings.postOrder.ids[p],f=u.listings.postOrder.api.error[p],m=u.listings.postOrder.api.pending[p],j=g.p in e.queryParams&&e.queryParams[g.p].toUpperCase()||"",y=j in A.Lb&&A.Lb[j];if(m||O&&!f&&!t)return void(O&&(s(H.j({title:Object(Ae.c)(r(),i)})),u.sidebarPromotedPosts.firstFetch||s(Object(Be.g)(Jt.a.MULTIREDDIT))));await s(rr(p,n,Object.assign({},d()(e.queryParams,g.j),d()(e.queryParams,g.i),{sort:o,t:ss(o,y)}),!0));const _=r();Object(Ae.b)(_,i)&&s(H.j({title:Object(Ae.c)(r(),i)})),Object(He.c)(_,s,e)},ar="PAGE__DASHBOARD_PENDING",cr=Object(Le.a)(ar),or=e=>async(t,s,r)=>{const n=s(),a=A.U.HOT;var c=e.params;const o=c.subredditName,i=c.section,u=c.component,l=Object(D.a)(R.a.replyToComment,"example-comment");t(cr({draftKey:l})),i&&u&&t(N.d(`${i}/${u}`));const b=o&&n.dashboard.subredditLoaded[o];if(o&&!b){t(N.f(o));const s=Object(Me.a)(o,a,e.queryParams),r=g.p in e.queryParams&&e.queryParams[g.p].toUpperCase()||"",n=r in A.Lb&&A.Lb[r];await t(_s(s,o,Object.assign({},d()(e.queryParams,g.j),d()(e.queryParams,g.i),{sort:a,t:ss(a,n)}),!0)),t(N.e(o))}else{const s=Object(Me.a)(ae.b,a,{}),r=g.p in e.queryParams&&e.queryParams[g.p].toUpperCase()||"",n=r in A.Lb&&A.Lb[r];await t(ys(s,Object.assign({},d()(e.queryParams,g.j),d()(e.queryParams,g.i),{sort:a,t:ss(a,n)})))}},ir=e=>async(t,s)=>{const r=s();t(H.j({title:ms(r,"coins")})),Object(we.C)(r)||await t(te.o());const n=s(),a=e.queryParams;if(a.thanks)setTimeout(()=>{a.gild&&t(M.e({thingId:"THING_ID_PLACEHOLDER"})),t(M.g({coinPackage:P.a.coins500})),t(F.l({confirmed:!1}))},1e3);else if(a.qty){if(!Object(we.C)(n)||!Ve.d.canProxyGild(n))return void t(Object(b.c)("/coins"));setTimeout(()=>{const e=parseInt(a.qty),s=Object(P.c)(e);t(M.g({coinPackage:s})),t(F.n(A.hb))},500)}},dr=e=>async(e,t)=>{const s=t();e(H.j({title:ms(s,"coins")}))},ur=e=>async(t,s)=>{const r=s();t(H.j({title:ms(r,"premium")})),e.queryParams.thanks&&setTimeout(()=>{t(G.e()),t(F.l({confirmed:!1}))},1e3),Object(we.C)(r)||await t(te.o())},lr=e=>async(t,s)=>{const r=s(),n=e.params.thingId;t(Object(U.c)(n)),Object(we.C)(r)||await t(te.o());const a=s();if(!Object(we.C)(a))return t(Object(U.f)())}},"./src/reddit/actions/pages/collectionCommentsPage.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/makeCollectionCommentsPageKey/index.ts"),c=s("./src/reddit/actions/ad.ts"),o=s("./src/reddit/actions/badge.ts"),i=s("./src/reddit/actions/moderatingSubreddits.ts"),d=s("./src/reddit/actions/page.ts"),u=s("./src/reddit/actions/pages/shared.ts"),l=s("./src/reddit/actions/platform.ts"),b=s("./src/reddit/actions/post.ts"),p=s("./src/reddit/actions/profile.ts"),O=s("./src/reddit/actions/shortcuts.ts"),f=s("./src/reddit/actions/subreddit.ts"),m=s("./src/reddit/actions/toaster.ts"),j=s("./src/reddit/constants/adEvents.ts"),y=s("./src/reddit/constants/parameters.ts"),g=s("./src/reddit/constants/posts.ts"),_=s("./src/reddit/endpoints/governance/posts.ts"),E=s("./src/config.ts"),h=s("./src/lib/constants/index.ts"),I=s("./src/lib/makeApiRequest/index.ts"),T=s("./src/reddit/models/RichTextJson/addRTJParam.ts");var S=(e,t,s,r,n)=>Object(I.b)(e,{data:n,endpoint:function(e,t,s){const r=`${E.a.gatewayUrl}/desktopapi/v1/collection_postcomments`;return s?Object(T.a)(`${r}/${e}/${t}/${s}`):t?Object(T.a)(`${r}/${e}/${t}`):Object(T.a)(`${r}/${e}`)}(t,s,r),method:h.Fa.GET}),v=s("./src/reddit/endpoints/page/subredditPage.ts"),C=s("./src/reddit/featureFlags/index.ts"),A=s("./src/reddit/helpers/canonicalUrls.ts"),R=s("./src/reddit/helpers/commentList/index.ts"),D=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),P=s("./src/reddit/helpers/pixels.ts"),x=s("./src/reddit/helpers/timeApiRoute/index.ts"),w=s("./src/reddit/models/Comment/index.ts"),k=s("./src/reddit/models/Post/index.ts"),N=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),L=s("./src/reddit/selectors/platform.ts"),U=s("./src/reddit/selectors/postCollection.ts"),M=s("./src/reddit/selectors/posts.ts"),F=s("./src/reddit/selectors/subreddit.ts");s.d(t,"d",function(){return G}),s.d(t,"b",function(){return B}),s.d(t,"a",function(){return $}),s.d(t,"e",function(){return K}),s.d(t,"c",function(){return W});const G="PAGE__COLLECTIONCOMMENTSPAGE_PENDING",B="PAGE__COLLECTIONCOMMENTSPAGE_LOADED",$="PAGE__COLLECTIONCOMMENTSPAGE_FAILED",V=Object(n.a)(G),H=Object(n.a)(B),q=Object(n.a)($),K=e=>async(t,s)=>{var n=e.params;const a=n.collectionId,c=n.partialPostId,o=n.partialCommentId;var i=n.subredditName;const d=void 0===i?"":i,m=c?Object(k.f)(c):"",j=o&&Object(w.b)(o),_=e.queryParams,E=s(),h=_.instanceId;var I=Object(D.a)(_,E.user,E.posts.models[m]);const T=I.hasSortParam,S=I.sortToUse,v=["context","depth","limit",y.e].reduce((e,t)=>{const s=parseInt(_[t]);return isNaN(s)||(e[t]=s),e},{subredditName:d,hasSortParam:T,instanceId:h});T&&(v.sort=S),t(b.i(m)),await t(J(a,m,j,v));const C=s().posts.models[m];if(C){const n=((e,t)=>{const s=Object(U.j)(e,{collectionId:t});if(!s)return"";const n=Object(F.B)(e,{subredditId:s.subredditId});return n?Object(r.a)(e.user.language,"title.commentsPage",{postTitle:s.title,subreddit:n.name}):""})(s(),a),c=Object(F.z)(s(),{identifier:C.belongsTo});if(!C.isSponsored)if(C.belongsTo.type===g.a.SUBREDDIT){const e=Object(F.A)(E,{subredditId:C.belongsTo.id});e&&e.length||await t(f.w(c.name))}else await t(p.i(c.name));t(l.j({title:n}));const o=s().posts.instances[m]?e.queryParams.instanceId:C.postId;t(Object(O.c)(o))}else t(l.j({title:Object(u.b)(s(),"frontpage")}));const R=e.params.routePrefix;g.b[R]===g.a.PROFILE?Object(A.a)(s(),t,e):Object(A.b)(s(),t,e)},W="PAGE__COLLECTIONCOMMENTSPAGE_LOADED_FULL",Q=Object(n.a)(W),Y=(e,t,s,r)=>async(n,c,o)=>{const i=Object(a.a)(e,t,s,r),d=c();t=t||Object(U.i)(d,{collectionId:e});const u=await S(o.apiContext(),e,t,s,r);if(n(Object(l.k)(u.status)),u.ok){if(!(t=t||u.body.collections[e].primaryPostId))return;const s=Object(R.a)(u.body,t);n(H(Object.assign({key:i,collectionId:e,meta:d.meta,postId:t,shouldCollapse:s},u.body)));const r=d.user.prefs.commentMode;n(Q({commentMode:r,key:i,postId:t}))}else n(q(Object.assign({error:u.error,key:i},u.body)))},J=(e,t,s,r,n)=>async(u,b,p)=>{const O=Object(a.a)(e,t,s,r),f=b();t=t||Object(U.i)(f,{collectionId:e});const y=r.subredditName,g=f.commentsPage.keyToHeadCommentId.hasOwnProperty(O),E=f.commentsPage.api.fullyLoaded[O],h=f.commentsPage.api.error[O];if(f.commentsPage.api.pending[O]||g&&!h){if(g&&!f.sidebarPromotedPosts.firstFetch){const e=Object(L.h)(f)?N.a.COMMENTS_OVERLAY:N.a.COMMENTS;window.addEventListener("load",()=>{u(Object(c.g)(e))})}return void(E||n||u(Y(e,t,s,r)))}const I=f.user.prefs.commentMode;u(V({key:O,collectionId:e,commentMode:I,postId:t}));const T=Object.assign({},r);{const e=t&&Object(M.C)(b(),{postId:t});e&&e.numComments&&e.numComments>d.j&&(T.truncate=d.n)}let A,D=await Object(x.a)("comments",()=>S(p.apiContext(),e,t,s,T));if(u(Object(l.k)(D.status)),D.ok&&(t=t||D.body.collections[e].primaryPostId)){const e=Object.keys(D.body.posts).filter(e=>!!D.body.posts[e].isMeta),s=Object(M.C)(b(),{postId:t});if(e.length){const t=await Object(_.a)(p.apiContext(),s.belongsTo.id,e);t.ok&&(A=t.body)}}if(!n){const n=t?Object(M.C)(b(),{postId:t}):null;n&&D.body.comments&&Object.keys(D.body.comments).length<n.numComments?u(Y(e,t,s,r)):D.ok&&u(Q({commentMode:I,key:O,postId:t}));const a=Object(L.h)(f)?N.a.COMMENTS_OVERLAY:N.a.COMMENTS;u(Object(c.g)(a))}if(D.ok){if(!t)return;const e=Object(R.a)(D.body,t);u(Object(d.z)(Object.assign({commentMode:I,key:O,postId:t,meta:f.meta,governance:A,shouldCollapse:e},D.body))),await i.c()(u,b,p),u(m.f(O));const s=Object(M.C)(b(),{postId:t});if(Object(P.a)(s.events,j.a.CommentsView),!n&&C.d.governance(b())){const e=b().posts.models[t];e&&"subreddit"===e.belongsTo.type&&await u(Object(o.l)({subredditId:e.belongsTo.id}))}}else y&&(u(Object(d.Q)({key:O})),D=await Object(x.a)("subreddit",()=>Object(v.a)(p.apiContext(),y,{})),u(Object(l.k)(D.status))),u(Object(d.G)(D,y)),u(q(Object.assign({error:D.error,key:O},D.body)))}},"./src/reddit/actions/pages/explore.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return v}),s.d(t,"b",function(){return C}),s.d(t,"a",function(){return A}),s.d(t,"d",function(){return k}),s.d(t,"e",function(){return N});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeExplorePageKey/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/category.ts"),u=s("./src/reddit/actions/discoveryUnit.ts"),l=s("./src/reddit/actions/modal.ts"),b=s("./src/reddit/actions/page.ts"),p=s("./src/reddit/actions/platform.ts"),O=s("./src/reddit/actions/toaster.ts"),f=s("./src/reddit/constants/experiments.ts"),m=s("./src/reddit/constants/explore.ts"),j=s("./src/reddit/constants/listings.ts"),y=s("./src/reddit/helpers/timeApiRoute/index.ts"),g=s("./src/reddit/models/Toast/index.ts"),_=s("./src/reddit/selectors/category.ts"),E=s("./src/reddit/selectors/discoveryUnit.ts"),h=s("./src/reddit/selectors/experiments/explore.ts"),I=s("./src/reddit/selectors/listings.ts"),T=s("./src/reddit/selectors/posts.ts"),S=s("./src/reddit/selectors/user.ts");const v="PAGE__EXPLORE_PAGE_PENDING",C="PAGE__EXPLORE_PAGE_LOADED",A="PAGE__EXPLORE_PAGE_FAILED",R=Object(c.a)(v),D=Object(c.a)(C),P=Object(c.a)(A),x=(e,t,s)=>async(r,a,c)=>{const o=a(),i=Object(E.a)(o);if(!i){r(P({key:e,error:{}}));const s=Object(S.I)(o);return void r(O.e({id:`error-${e}`,kind:g.b.Error,text:Object(n.a)(s,"listings.toast.error"),buttonText:Object(n.a)(s,"listings.toast.retryButton"),buttonAction:k(e,t)}))}const d=Object(I.j)(o,{listingKey:e}),l=d?d.token:void 0;if(d){if(!s)return;{const t=Object(I.h)(o,{listingKey:e}),s=Object(I.i)(o,{listingKey:e,token:d.token});if(t||s)return}}else{const t=Object(I.h)(o,{listingKey:e}),s=Object(I.f)(o,{listingKey:e});if(t||s)return}r(R({key:e}));const b=Object(_.e)(o),p=l?b.findIndex(e=>e.id===l)+1:0,f=b.slice(p,p+m.a);await Promise.all(f.map(e=>r(u.g(i,e.name))));const j=Math.min(p+m.a-1,b.length-1);r(D({fetchedToken:l,ids:f.map(({id:e})=>e),key:e,token:b[j].id}))},w=(e,t,s,r)=>async(a,c,o)=>{let i=c();const l=Object(E.c)(i),b=Object(_.f)(i,{categoryName:s});if(!l||!b){a(P({key:e,error:{}}));const s=Object(S.I)(i);return void a(O.e({id:`error-${e}`,kind:g.b.Error,text:Object(n.a)(s,"listings.toast.error"),buttonText:Object(n.a)(s,"listings.toast.retryButton"),buttonAction:k(e,t)}))}const p=Object(I.j)(i,{listingKey:e}),f=p?p.token:void 0,j=Object(I.h)(i,{listingKey:e});if(p){if(!r)return;{const t=Object(I.i)(i,{listingKey:e,token:p.token});if(j||t)return}}else{const t=Object(I.f)(i,{listingKey:e});if(j||t)return}a(R({key:e})),await a(d.h(b.id)),i=c();const y=Object(_.d)(i,{categoryName:s}),h=f?y.findIndex(e=>e.id===f)+1:0,T=y.slice(h,h+m.b);await Promise.all(T.map(e=>a(u.j(l,e.name)))),a(D({fetchedToken:f,ids:T.map(({id:e})=>e),key:e,token:y[Math.min(h+m.b-1,y.length-1)].id}))},k=(e,t,s)=>async(r,n,a)=>{await Promise.all([r(u.h()),r(d.g())]);const c=t.categoryName?()=>r(w(e,t,t.categoryName,s)):()=>r(x(e,t,s));await Object(y.a)("explore",c),t.categoryName?await r(w(e,t,t.categoryName,s)):await r(x(e,t,s))},N=e=>async(t,s,c)=>{const d=s(),u=Object(h.a)(d);if(!u)return void t(Object(r.b)("/"));const O=Object(o.a)(e.params);if(Object(I.h)(d,{listingKey:O}))return;const m=Object(i.a)(j.b.Popular,a.U.HOT);0===Object(T.y)(d,{listingKey:m}).length&&await t(b.P(m,j.b.Popular,{},!0)),Object(S.C)(s())?t(Object(r.b)("/")):e.params.categoryName&&Object(f.B)(u)?t(Object(r.b)(j.c[j.b.Explore])):(t(Object(l.l)({actionSource:"explore",redirectUrl:"/"})),await t(k(O,e.params)),t(p.j({title:(e=>Object(n.a)(e.user.language,"title.frontpage"))(s())})))}},"./src/reddit/actions/pages/modListing/constants.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return r}),s.d(t,"e",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"i",function(){return c}),s.d(t,"h",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"c",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"l",function(){return b}),s.d(t,"k",function(){return p}),s.d(t,"j",function(){return O});const r="PAGE__MOD_LISTING_PAGE_PENDING",n="PAGE__MOD_LISTING_PAGE_LOADED",a="PAGE__MOD_LISTING_PAGE_FAILED",c="MOD_LISTING_MORE_POSTS_PENDING",o="MOD_LISTING_MORE_POSTS_LOADED",i="MOD_LISTING_MORE_POSTS_FAILED",d="MOD_LISTING_HIDE_SUBREDDIT_SUCCESS",u="MOD_LISTING_HIDE_SUBREDDIT_PENDING",l="MOD_LISTING_HIDE_SUBREDDIT_FAILED",b="MOD_LISTING_UNHIDE_SUBREDDIT_SUCCESS",p="MOD_LISTING_UNHIDE_SUBREDDIT_PENDING",O="MOD_LISTING_UNHIDE_SUBREDDIT_FAILED"},"./src/reddit/actions/pages/modListing/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/platform.ts"),u=s("./src/reddit/actions/toaster.ts"),l=s("./src/reddit/constants/page.ts"),b=s("./src/reddit/constants/parameters.ts"),p=s("./src/config.ts"),O=s("./src/lib/makeApiRequest/index.ts"),f=s("./src/lib/omitHeaders/index.ts"),m=s("./src/reddit/constants/headers.ts"),j=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),y=s("./src/reddit/helpers/name/index.ts"),g=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),_=(e,t)=>Object(O.b)(e,{data:t,endpoint:Object(j.a)(Object(g.a)(`${p.a.gatewayUrl}/desktopapi/v1/mod`)),method:c.Fa.GET});const E=(e,t,s,r)=>Object(O.b)(Object(f.a)(e,[m.a]),{endpoint:`${e.apiUrl}/api/filter/user/${t}/f/mod/${Object(y.b)(s)}`,method:r?c.Fa.PUT:c.Fa.DELETE,data:{model:JSON.stringify({name:Object(y.g)(s)})}}),h=(e,t,s)=>E(e,t,s,!0),I=(e,t,s)=>E(e,t,s,!1);var T=s("./src/reddit/helpers/timeApiRoute/index.ts"),S=s("./src/reddit/models/Toast/index.ts"),v=s("./src/reddit/routes/modListing/index.ts"),C=s("./src/reddit/selectors/user.ts"),A=s("./src/reddit/actions/page.ts"),R=s("./src/reddit/actions/pages/modListing/constants.ts");s.d(t,"b",function(){return N}),s.d(t,"c",function(){return F}),s.d(t,"a",function(){return Q}),s.d(t,"d",function(){return Y});var D=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const P=Object(o.a)(R.f),x=Object(o.a)(R.e),w=Object(o.a)(R.d),k=(e,t)=>async(s,r,n)=>{const c=r(),o=c.listings.postOrder.api.pending[e],i=Object(C.I)(c);if(o)return;s(P({key:e}));const d=await Object(T.a)("modListing",()=>_(n.apiContext(),t)),l=`error-${e}`;d.ok?(s(x(Object.assign({key:e,meta:c.meta},d.body))),s(u.f(l))):(s(w(Object.assign({error:d.error,key:e},d.body))),s(u.e({id:l,kind:S.b.Error,text:Object(a.a)(i,"listings.toast.error"),buttonText:Object(a.a)(i,"listings.toast.retryButton"),buttonAction:k(e,t)})))},N=(e,t)=>async(s,r)=>{var o=e.params.sort;const u=void 0===o?c.V:o,p=Object(v.d)(e.path),O=p?l.g:l.f,f=Object(i.a)(O,u,e.queryParams),m=r(),j=m.listings.postOrder.ids[f],y=m.listings.postOrder.api.error[f],g=m.listings.postOrder.api.pending[f],_=Object(C.I)(m);if(g||j&&!y&&!t)return void(j&&s(d.j({title:Object(a.a)(_,"modListing.title")})));const E=G(e.queryParams);await s(k(f,Object.assign({},n()(e.queryParams,b.j),n()(e.queryParams,b.i),{filtered:!!p||void 0,moderated_srs:!0,sort:u,t:Object(A.F)(u,E)}))),s(d.j({title:Object(a.a)(_,"modListing.title")}))},L=Object(o.a)(R.i),U=Object(o.a)(R.h),M=Object(o.a)(R.g),F=e=>async(t,s,{apiContext:r})=>{const a=s(),o=a.platform.currentPage;if(!o)return;var d=e.sort;const u=void 0===d?c.V:d,p=o.queryParams,O=Object(v.d)(o.url),f=O?l.g:l.f,m=Object(i.a)(f,u,p),j=a.listings.postOrder.loadMore[m];if(!j)return;const y=a.listings.postOrder.api.pending[m],g=a.listings.postOrder.fetchedTokens,E=!(!g[m]||!g[m][j.token]);if(y||E)return;const h=G(p);t(L({key:m,fetchedToken:j.token}));const I=await _(r(),Object.assign({after:j.token,dist:j.dist,filtered:!!O||void 0,sort:u,t:Object(A.F)(u,h)},n()(p,b.j))),T=a.listings.postOrder.ids[m],S=Object.assign({},I.body,{postIds:(I.body.postIds||[]).filter(e=>!T||!T.includes(e))});I.ok?t(U(Object.assign({key:m,fetchedToken:j.token,meta:a.meta},S))):t(M(Object.assign({key:m,error:I.error,fetchedToken:j.token},S)))};function G(e){const t=b.p in e&&e[b.p].toUpperCase()||"";return t in c.Lb&&c.Lb[t]}const B=Object(o.a)(R.c),$=Object(o.a)(R.b),V=Object(o.a)(R.a),H=Object(o.a)(R.l),q=Object(o.a)(R.k),K=Object(o.a)(R.j),W=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(C.j)(a);var o=D(t?[$,B,V,h]:[q,H,K,I],4);const i=o[0],d=o[1],u=o[2],l=o[3];if(!c||!c.displayText)return;const b=a.platform.currentPage;if(!b||!b.routeMatch)return;s(i(e));const p=await l(n(),c.displayText,e);p.ok?(await s(N(b.routeMatch.match,!0)),s(d(e))):s(u(p.body))},Q=e=>W(e,!0),Y=e=>W(e,!1)},"./src/reddit/actions/pages/news/index.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/hero.ts"),c=s("./src/reddit/actions/news.ts"),o=s("./src/reddit/actions/pages/news/utils.ts"),i=s("./src/reddit/actions/platform.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/constants/news.ts"),l=s("./src/config.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),f=s("./src/reddit/helpers/timeApiRoute/index.ts"),m=s("./src/reddit/models/News/index.ts"),j=s("./src/reddit/models/Toast/index.ts"),y=s("./src/reddit/routes/news/util.ts"),g=s("./src/reddit/selectors/listings.ts"),_=s("./src/reddit/selectors/news.ts");s.d(t,"c",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"a",function(){return T}),s.d(t,"d",function(){return R});const E=e=>Object(r.a)(e.user.language,"listings.news.title"),h="PAGE__NEWS_PENDING",I="PAGE__NEWS_LOADED",T="PAGE__NEWS_FAILED",S=Object(n.a)(h),v=Object(n.a)(I),C=Object(n.a)(T),A=(e,t,s,r=!0)=>async(n,a,c)=>{const i=a(),u=Object(g.d)(i,{listingKey:e}),m=i.listings.postOrder.ids[e],j=Object(g.c)(i,{listingKey:e});if(u||m&&!j)return;n(S({key:e}));const y=Object.assign({},Object(o.b)(t,s)),E=await Object(f.a)("news",()=>((e,t)=>Object(p.b)(e,{endpoint:Object(O.a)(`${l.a.gatewayUrl}/desktopapi/v1/news`),method:b.Fa.GET,data:Object.assign({},t)}))(c.apiContext(),y)),h=`error-${e}`;if(!E.ok)return D(e,n,i,E.error,h,t,s,r);var I=E.body;const T=I.account,C=I.features,A=I.posts,R=I.postIds,P=I.preferences,x=I.subreddits,w=I.subredditAboutInfo;n(v({account:T,activeCommunityIds:Object(o.a)(R,A),availableTopics:Object(_.d)(i),features:C,key:e,meta:i.meta,postIds:R,posts:A,preferences:P,subreddits:x,subredditsAboutInfo:w})),n(d.f(h))},R=(e,t)=>async(s,r,n)=>{await s(c.g());let o=r();const d=u.g;var l=e.params,b=l.topic;const p=void 0===b?d:b;var O=l.subtopic;const f=void 0===O?"":O,j=Object(_.d)(o);var h=Object(y.c)(j,p,f);const I=h.selectedTopic,T=h.selectedSubtopic;if(p!==d&&(!I||I.topicId===m.a)||""!==f&&!T)return void s(Object(c.e)(null,null));s(c.f({selectedTopic:I,selectedSubtopic:T})),o=r();const S=Object(_.j)(o),v=Object(_.k)(o),C=Object(g.d)(o,{listingKey:S}),R=o.listings.postOrder.ids[S],D=Object(g.c)(o,{listingKey:S});if(C||R&&!D&&!t)return R?s(i.j({title:E(o)})):void 0;const P=Object(_.p)(o);await Promise.all([P?s(Object(a.d)(v,I,T)):null,s(A(S,I,T))]);const x=r();return s(i.j({title:E(x)}))},D=(e,t,s,n,a,c,o,i)=>{t(C({error:n,key:e})),i&&t(d.e({id:a,kind:j.b.Error,text:Object(r.a)(s.user.language,"listings.toast.error"),buttonText:Object(r.a)(s.user.language,"listings.toast.retryButton"),buttonAction:A(e,c,o)}))}},"./src/reddit/actions/pages/news/utils.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return o});var r=s("./src/reddit/constants/news.ts"),n=s("./src/reddit/selectors/news.ts");const a=(e,t)=>{let s="";if(e&&t)s=`${t.subtopicId}`;else if(e&&!t){s=(e.subtopics||[]).map(e=>e.subtopicId).join(r.f)}return{subtopic_ids:s,limit:r.a,always_show_media:1}},c=(e,t)=>{const s=[];for(let n=0;n<e.length;n++){const a=t[e[n]];if(a&&"subreddit"===a.belongsTo.type&&!s.includes(a.belongsTo.id)&&s.push(a.belongsTo.id),s.length===r.b)break}return s},o=(e,t="",s="")=>{const r=Object(n.d)(e);let a=null,c=null;if(a=i(r,t)){const e=a.subtopics||[];c=i(e,s)}return{topic:a,subtopic:c}},i=(e,t)=>e.find(e=>e.name.toLowerCase()===t.toLowerCase())||null},"./src/reddit/actions/pages/originalContent.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return E}),s.d(t,"b",function(){return h}),s.d(t,"a",function(){return I}),s.d(t,"d",function(){return A});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/moderatingSubreddits.ts"),u=s("./src/reddit/actions/originalContent.ts"),l=s("./src/reddit/actions/platform.ts"),b=s("./src/reddit/actions/toaster.ts"),p=s("./src/reddit/constants/originalContent.ts"),O=s("./src/reddit/constants/page.ts"),f=s("./src/reddit/constants/parameters.ts"),m=s("./src/reddit/endpoints/page/originalContentPage.ts"),j=s("./src/reddit/helpers/timeApiRoute/index.ts"),y=s("./src/reddit/models/Toast/index.ts"),g=s("./src/reddit/actions/page.ts");const _=e=>Object(a.a)(e.user.language,"listings.originalContent.title"),E="PAGE__ORIGINAL_CONTENT_PAGE_PENDING",h="PAGE__ORIGINAL_CONTENT_PAGE_LOADED",I="PAGE__ORIGINAL_CONTENT_PAGE_FAILED",T=Object(o.a)(E),S=Object(o.a)(h),v=Object(o.a)(I),C=(e,t)=>async(s,r,n)=>{const c=r();if(c.listings.postOrder.api.pending[e])return;s(T({key:e}));const o=await Object(j.a)("originalContent",()=>Object(m.a)(n.apiContext(),t)),i=`error-${e}`;if(o.ok){s(S(Object.assign({key:e,meta:c.meta},o.body)));const a=[d.c()(s,r,n),s(u.s(t.category)),s(u.t(t.category)),s(u.p()),s(u.r(t.category))];await Promise.all(a),s(b.f(i))}else s(v(Object.assign({error:o.error,key:e},o.body))),s(b.e({id:i,kind:y.b.Error,text:Object(a.a)(c.user.language,"listings.toast.error"),buttonText:Object(a.a)(c.user.language,"listings.toast.retryButton"),buttonAction:C(e,t)}))},A=e=>async(t,s,r)=>{var a=e.params,o=a.sort;const d=void 0===o?c.U.HOT:o;var u=a.categoryName;const b=void 0===u?p.b:u,m=Object.assign({},e.queryParams,{category:b}),j=Object(i.a)(O.j,d,m),y=s(),E=y.listings.postOrder.ids[j],h=y.listings.postOrder.api.error[j],I=y.listings.postOrder.api.pending[j],T=f.p in e.queryParams&&e.queryParams[f.p].toUpperCase()||"",S=T in c.Lb&&c.Lb[T];if(I||E&&!h)return void(E&&t(l.j({title:_(s())})));await t(C(j,Object.assign({},n()(e.queryParams,f.j),n()(e.queryParams,f.i),{sort:d,t:Object(g.F)(d,S),category:b})));const v=s();t(l.j({title:_(v)}))}},"./src/reddit/actions/pages/partnerSubredditConnection.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return _}),s.d(t,"b",function(){return E}),s.d(t,"a",function(){return h}),s.d(t,"d",function(){return C});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makePartnerSubredditConnectionPageKey/index.ts"),d=s("./src/lib/truthyString/index.ts"),u=s("./src/reddit/actions/platform.ts"),l=s("./src/reddit/actions/profile.ts"),b=s("./src/reddit/endpoints/user/me.ts"),p=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),O=s("./src/reddit/helpers/timeApiRoute/index.ts"),f=s("./src/reddit/models/ExternalAccount/index.ts"),m=s("./src/reddit/models/User/index.ts"),j=s("./src/reddit/routes/partnerSubredditConnection/constants.ts"),y=s("./src/reddit/selectors/user.ts"),g=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const _="PARTNER_SUBREDDIT_CONNECTION__PAGE_PENDING",E="PARTNER_SUBREDDIT_CONNECTION__PAGE_LOADED",h="PARTNER_SUBREDDIT_CONNECTION__PAGE_FAILED",I=Object(o.a)(_),T=Object(o.a)(E),S=Object(o.a)(h),v=(e,t)=>Object(a.a)(`${j.a}/${e}`,t),C=e=>async(t,s,a)=>{const o=e.queryParams,j=e.params.page,_=o.to,E=o.userId;var h=o.isNsfw;const C=void 0===h?"":h;if(!E||!_||_!==f.a.Patreon)return void t(Object(r.c)("/"));await t((e=>async(t,s,r)=>{const n=s(),a=Object(i.a)(e),c=n.partnerSubredditConnection.api.page.pending[a],o=n.partnerSubredditConnection.api.page.fetched[a],d=n.partnerSubredditConnection.api.page.error[a];if(c||o&&!d)return;I({key:a});const u=[];u.push(Object(b.a)(r.apiContext()));var p=await Object(O.a)("partnerSubredditConnection",()=>Promise.all(u));const f=g(p,1)[0];if(f.ok){const e=f.body.account;t(T({account:e,key:a}));const s=[];if(e){const r=Object(m.d)(e);s.push(t(l.g())),s.push(t(l.h(r)))}await Promise.all(s)}else t(S({error:f.error,key:a}))})({to:_,userId:E}));const A=Object(y.j)(s());A?A.id===E?Object(y.h)(s())||Object(d.a)(C)?t(Object(r.c)(v(c.jb.NsfwUser,o))):j!==c.jb.WrongUser&&j!==c.jb.NsfwUser?t(u.j({title:(e=>Object(n.a)(e.user.language,"title.partnerSubredditConnection"))(s())})):t(Object(r.c)(v(c.jb.Create,o))):t(Object(r.c)(v(c.jb.WrongUser,o))):Object(p.a)(t,s())}},"./src/reddit/actions/pages/postCreation.ts":function(e,t,s){"use strict";var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/filterQueryParams/index.ts"),o=s("./src/lib/isFakeSubreddit/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/lib/makePostCreationPageKey/index.ts"),u=s("./src/reddit/actions/externalAccount.ts"),l=s("./src/reddit/actions/governance/index.ts"),b=s("./src/reddit/actions/originalContent.ts"),p=s("./src/reddit/actions/platform.ts"),O=s("./src/reddit/actions/post.ts"),f=s("./src/reddit/actions/postCreation/index.ts"),m=s("./src/reddit/actions/profile.ts"),j=s("./src/reddit/actions/subreddit.ts"),y=s("./src/reddit/actions/subredditDuplicates.ts"),g=s("./src/reddit/actions/subredditSettings.ts"),_=s("./src/config.ts"),E=s("./src/lib/makeApiRequest/index.ts"),h=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),I=s("./src/reddit/featureFlags/index.ts"),T=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),S=s("./src/reddit/helpers/timeApiRoute/index.ts"),v=s("./src/reddit/helpers/trackers/postComposer.ts"),C=s("./src/reddit/models/User/index.ts"),A=s("./src/reddit/selectors/postCollection.ts"),R=s("./src/reddit/selectors/posts.ts"),D=s("./src/reddit/selectors/subreddit.ts"),P=s("./src/reddit/selectors/user.ts");s.d(t,"c",function(){return w}),s.d(t,"b",function(){return k}),s.d(t,"a",function(){return N}),s.d(t,"d",function(){return F}),s.d(t,"e",function(){return G});var x=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const w="POST_CREATION__PAGE_PENDING",k="POST_CREATION__PAGE_LOADED",N="POST_CREATION__PAGE_FAILED",L=Object(i.a)(w),U=Object(i.a)(k),M=Object(i.a)(N),F=e=>async(t,s,r)=>{const n=e.collectionId,c=e.profileName,i=e.subredditName,p=Object(d.a)(e),O=s(),f=O.creations.api.page.pending[p],y=O.creations.api.page.fetched[p],T=O.creations.api.page.error[p];if(f||y&&!T)return;const v=[];if(t(L({key:p})),v.push(((e,t)=>Object(E.b)(e,{method:a.Fa.GET,endpoint:Object(h.a)(`${_.a.gatewayUrl}/desktopapi/v1/submitpage`),data:{subreddit:t.subredditName,collection_id:t.collectionId}}))(r.apiContext(),{subredditName:i,collectionId:n})),i){!!s().subredditSettings.requirementsBySubreddit[i]||Object(o.a)(i)||v.push(t(Object(g.z)(i)))}v.push(t(b.p())),c&&(v.push(t(m.i(c))),v.push(t(m.h(c))));var A=await Object(S.a)("postCreation",()=>Promise.all(v));const R=x(A,1)[0];if(R.ok){const e=R.body;var w=e.posts;const r=void 0===w?{}:w;t(U(Object.assign({key:p,meta:O.meta},e,{posts:r})));const n=Object(P.j)(s());if(n&&n.hasUserProfile&&await t(m.i(Object(C.d)(n))),await t(u.o()),i&&!Object(o.a)(i)&&await t(j.w(i)),i&&I.d.governance(s())){const e=Object(D.w)(s(),i);e&&await t(Object(l.a)({subredditId:e}))}}else t(M({error:R.error,key:p}))},G=e=>async(t,s)=>{var o=e.params;const i=o.subredditName,d=o.profileName,u=e.queryParams,l=u.collection;await t(F({collectionId:l,profileName:d,subredditName:i}));const b=i?Object(D.t)(s(),{subredditName:i}):void 0;if(u.source_id&&I.d.redesignCrosspostCreation(s()))await t(((e,t)=>async(s,r)=>{const n=e.subredditName,a=e.profileName,c=[];let o;n?o=Object(D.w)(r(),n):a&&(o=Object(P.O)(r(),{userName:a})),o&&c.push(s(Object(y.b)(o,t))),c.push(s(Object(O.x)(t))),await Promise.all(c);const i=Object(R.e)(r(),{postId:t});s(Object(f.Ea)({postId:t,postTitle:i?i.title:""}))})(e.params,u.source_id));else if(l){const n=Object(A.j)(s(),{collectionId:l});b&&n&&n.subredditId===b.id||t(Object(r.c)(Object(c.a)(e.url,["collection"])))}const m=s();Object(P.C)(m)?(((e,t)=>{const s=e.platform.lastPage;t&&s&&s.meta&&s.meta.name===a.mb.POST_CREATION&&v.t(e)})(s(),i),t(p.j({title:(e=>{const t=e.user.language,s=e.platform.currentPage;let r="Reddit";if(s&&s.urlParams.subredditName){const t=s.urlParams.subredditName,n=Object(D.t)(e,{subredditName:t});n&&(r=n.name)}return Object(n.a)(t,"title.submit",{subreddit:r})})(s())}))):Object(T.a)(t,m)}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/makePostDraftPageKey/index.ts"),a=s("./src/reddit/actions/profile.ts"),c=s("./src/config.ts"),o=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),l=s("./src/reddit/endpoints/post/draft/helpers.ts"),b=s("./src/reddit/helpers/timeApiRoute/index.ts");s.d(t,"a",function(){return p}),s.d(t,"b",function(){return j});const p="POST_DRAFT__PAGE_LOADED",O=(Object(r.a)("POST_DRAFT__PAGE_PENDING"),Object(r.a)(p)),f=Object(r.a)("POST_DRAFT__PAGE_FAILED"),m=e=>async(t,s,r)=>{const p=e.draftId,m=e.profileName,j=Object(n.a)(e),y=s(),g=y.creations.api.page.pending[j],_=y.creations.api.page.fetched[j],E=y.creations.api.page.error[j];if(g||_&&!E||!p)return;t(a.i(m));const h=await Object(b.a)("postDraft",()=>((e,t,s)=>Object(i.b)(e,{endpoint:Object(d.a)(Object(u.a)(`${c.a.gatewayUrl}/desktopapi/v1/draftpreviewpage/${s}/${t}`)),method:o.Fa.GET}))(r.apiContext(),p,m));if(h.ok){const e=h.body;e.drafts[p].kind=Object(l.b)(e.drafts[p].kind),t(O(Object.assign({},e,{key:j})))}else t(f({error:h.error,key:j}))},j=e=>async(t,s,r)=>{await t(m(e.params))}},"./src/reddit/actions/pages/profileComments.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/difference.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/externalAccount.ts"),u=s("./src/reddit/actions/moderatingSubreddits.ts"),l=s("./src/reddit/actions/page.ts"),b=s("./src/reddit/actions/pages/profileShared.ts"),p=s("./src/reddit/actions/platform.ts"),O=s("./src/reddit/actions/profile.ts"),f=s("./src/reddit/actions/subreddit.ts"),m=s("./src/reddit/constants/parameters.ts"),j=s("./src/reddit/contexts/PageLayer/index.tsx"),y=s("./src/config.ts"),g=s("./src/lib/addAllowQuarantinedParam/index.ts"),_=s("./src/lib/constants/index.ts"),E=s("./src/lib/makeApiRequest/index.ts"),h=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const I=(e,t,s)=>Object(E.b)(e,{data:s,endpoint:Object(g.a)(Object(h.a)(`${y.a.gatewayUrl}/desktopapi/v1/user/${t}/comments`)),method:_.Fa.GET});var T=s("./src/reddit/helpers/timeApiRoute/index.ts"),S=s("./src/reddit/selectors/profile.ts"),v=s("./src/reddit/selectors/profileComments.ts");s.d(t,"f",function(){return C}),s.d(t,"e",function(){return A}),s.d(t,"d",function(){return R}),s.d(t,"h",function(){return w}),s.d(t,"c",function(){return k}),s.d(t,"b",function(){return N}),s.d(t,"a",function(){return L}),s.d(t,"g",function(){return G});const C="PAGE__PROFILE_COMMENTS_PENDING",A="PAGE__PROFILE_COMMENTS_LOADED",R="PAGE__PROFILE_COMMENTS_FAILED",D=Object(o.a)(C),P=Object(o.a)(A),x=Object(o.a)(R),w=e=>async(t,s,r)=>{const n=e.queryParams,a=e.params;var o=Object(b.b)(n);const j=o.sort,y=o.t,g=a.profileName,_=Object(i.a)(`u_${g}`,j,e.queryParams);const E=s().profileCommentsPage,h=E.commentIds[_],v=E.api.error[_],C=E.api.pending[_];if(await t(O.i(g)),C||h&&!v){if(h){const e=Object(S.l)(s(),{profileName:g});t(p.j({title:e}))}return}const A=Object.assign({},c()(e.queryParams,[...m.j,m.f]),{sort:j,t:Object(l.F)(j,y)});t(D({key:_}));const R=await Object(T.a)("profileComments",()=>I(r.apiContext(),g,A));if(!R.ok)return t(x({account:R.body.data?R.body.data.account:null,error:R.body.reason?{type:R.body.reason}:R.error,key:_})),void t(p.k(R.status));const w=R.body;t(P(Object.assign({key:_,meta:s().meta},w))),await Promise.all([t(Object(b.c)(g)),t(Object(f.z)()),t(Object(u.b)()),t(d.o(g))])},k="PROFILE_COMMENTS__MORE_ITEMS_PENDING",N="PROFILE_COMMENTS__MORE_ITEMS_LOADED",L="PROFILE_COMMENTS__MORE_ITEMS_FAILED",U=Object(o.a)(k),M=Object(o.a)(N),F=Object(o.a)(L),G=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var o=a.routeMatch.match;const d=o.queryParams,u=o.params;var l=Object(b.b)(d);const p=l.sort,O=l.t,f=u.profileName,y=Object(i.a)(`u_${f}`,p,d),g=Object(v.d)(r,{listingKey:y});if(!g)return;const _=Object(v.b)(r,{listingKey:y}),E=Object(v.c)(r,{listingKey:y}),h=E&&E[g.token];if(_||h)return;e(U({key:y,fetchedToken:g.token}));const T=await I(s(),f,Object.assign({after:g.token,dist:g.dist,sort:p,t:O},c()(d,m.j),{layout:Object(j.K)(r,{}).toLowerCase()}));if(T.ok){const t=Object(v.f)(r,{listingKey:y}),s=Object.assign({},T.body,{commentIds:n()(T.body.commentIds,t)});e(M(Object.assign({fetchedToken:g.token,key:y,meta:r.meta},s)))}else e(F({account:T.body.data?T.body.data.account:null,error:T.error,fetchedToken:g.token,key:y}))}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return l});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/preferences.ts"),a=s("./src/reddit/actions/profile.ts"),c=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),o=s("./src/reddit/models/User/index.ts"),i=s("./src/reddit/selectors/user.ts");const d="PAGE__PROFILE_MOD_SETTINGS_LOADED",u=Object(r.a)(d),l=e=>async(t,s)=>{const r=[t(n.s()),t(Object(a.i)(e.params.profileName))];await Promise.all(r);const d=Object(i.j)(s());d?(await t(Object(a.h)(Object(o.d)(d))),t(u())):Object(c.a)(t,s())}},"./src/reddit/actions/pages/profileOverview.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return T}),s.d(t,"e",function(){return S}),s.d(t,"d",function(){return v}),s.d(t,"c",function(){return C}),s.d(t,"b",function(){return A}),s.d(t,"a",function(){return R}),s.d(t,"g",function(){return L});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/reddit/actions/moderatingSubreddits.ts"),c=s("./src/reddit/actions/pages/profileShared.ts"),o=s("./src/reddit/actions/subreddit.ts"),i=s("./src/reddit/endpoints/page/profileOverviewPage.ts"),d=s("./src/lib/constants/index.ts"),u=s("./src/reddit/constants/postLayout.ts"),l=s("./src/reddit/constants/parameters.ts"),b=s("./src/reddit/contexts/PageLayer/index.tsx"),p=s("./src/reddit/selectors/listings.ts"),O=s("./src/reddit/selectors/profile.ts"),f=s("./src/reddit/selectors/profileOverviewChronoItems.ts"),m=s("./src/lib/makeActionCreator/index.ts"),j=s("./src/reddit/actions/externalAccount.ts"),y=s("./src/reddit/actions/pinnedPost.ts"),g=s("./src/reddit/actions/platform.ts"),_=s("./src/reddit/actions/profile.ts"),E=s("./src/reddit/actions/trophyCase.ts"),h=s("./src/reddit/helpers/makeOverviewListingKey/index.ts"),I=s("./src/reddit/helpers/timeApiRoute/index.ts");const T="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_PENDING",S="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_LOADED",v="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_FAILED",C="PAGE__PROFILE_OVERVIEW_CHRONO_PENDING",A="PAGE__PROFILE_OVERVIEW_CHRONO_LOADED",R="PAGE__PROFILE_OVERVIEW_CHRONO_FAILED",D=Object(m.a)(T),P=Object(m.a)(S),x=Object(m.a)(v),w=Object(m.a)(C),k=Object(m.a)(A),N=Object(m.a)(R),L=e=>async(t,s,r)=>{const m=e.queryParams,T=e.params;var S=Object(c.a)(s(),m);const v=S.sort,C=S.t,A=T.profileName,R=u.c[Object(b.K)(s(),{})],L=A.toLowerCase(),M=Object.assign({},n()(e.queryParams,l.j),{sort:v,layout:R,t:C});if(await t(_.i(L)),R===u.c[u.e.Compact]){const r=Object(h.a)(L,d.Oa,v,e.queryParams);if(s().profileOverviewPage.chrono.ids[r])return;await t(((e,t,s,r)=>async(r,n,a)=>{const c=n(),o=!!Object(f.f)(c,{listingKey:e}).length,d=!!Object(f.a)(c,{listingKey:e});if(Object(f.b)(c,{listingKey:e})||o&&!d)return;r(w({key:e}));const u=await Object(I.a)("profile",()=>Object(i.a)(a.apiContext(),t,s)),l=u.body,b=l.pinned;if(u.ok){r(k(Object.assign({key:e,meta:c.meta},l)));const s=Object(O.i)(c,t);r(Object(y.h)({profileId:s,pinned:b}))}else r(N({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),r(Object(g.k)(u.status))})(r,L,M))}else{const r=Object(h.a)(L,d.Pa,v,e.queryParams);if(s().listings.postOrder.ids[r]&&!s().listings.postOrder.api.error[r])return;await t(((e,t,s,r)=>async(r,n,a)=>{const c=n(),o=!!c.listings.postOrder.ids[e],d=!!Object(p.c)(c,{listingKey:e});if(Object(p.d)(c,{listingKey:e})||o&&!d)return;r(D({key:e}));const u=await Object(I.a)("profile",()=>Object(i.b)(a.apiContext(),t,s)),l=u.body,b=l.pinned,f=l.postIds;if(u.ok){r(P(Object.assign({key:e,meta:c.meta,profileName:t},l,{postIds:f})));const s=Object(O.i)(c,t);r(Object(y.h)({profileId:s,pinned:b}))}else r(x({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),r(Object(g.k)(u.status))})(r,L,M))}await t(Object(o.z)()),await t(Object(a.b)());const F=s();if(!F.platform.currentPage)return;if(200!==F.platform.currentPage.status)return;const G=Object(O.i)(s(),L);await t(E.b(L,G)),t(g.j({title:U(s(),A)})),await t(_.h(L)),await t(j.o(A))},U=(e,t)=>Object(O.l)(e,{profileName:t})},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/lib/makeListingKey/index.ts"),o=s("./src/reddit/actions/externalAccount.ts"),i=s("./src/reddit/actions/moderatingSubreddits.ts"),d=s("./src/reddit/actions/page.ts"),u=s("./src/reddit/actions/pages/profileShared.ts"),l=s("./src/reddit/actions/pinnedPost.ts"),b=s("./src/reddit/actions/platform.ts"),p=s("./src/reddit/actions/profile.ts"),O=s("./src/reddit/actions/subreddit.ts"),f=s("./src/reddit/constants/parameters.ts"),m=s("./src/reddit/contexts/PageLayer/index.tsx"),j=s("./src/config.ts"),y=s("./src/lib/addAllowQuarantinedParam/index.ts"),g=s("./src/lib/constants/index.ts"),_=s("./src/lib/makeApiRequest/index.ts"),E=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const h=(e,t,s)=>Object(_.b)(e,{data:s,endpoint:Object(y.a)(Object(E.a)(`${j.a.gatewayUrl}/desktopapi/v1/user/${t}/posts`)),method:g.Fa.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e);var I=s("./src/reddit/helpers/timeApiRoute/index.ts"),T=s("./src/reddit/selectors/listings.ts"),S=s("./src/reddit/selectors/profile.ts");s.d(t,"f",function(){return v}),s.d(t,"e",function(){return C}),s.d(t,"d",function(){return A}),s.d(t,"h",function(){return x}),s.d(t,"c",function(){return w}),s.d(t,"b",function(){return k}),s.d(t,"a",function(){return N}),s.d(t,"g",function(){return F});const v="PAGE__PROFILE_POSTS_PENDING",C="PAGE__PROFILE_POSTS_LOADED",A="PAGE__PROFILE_POSTS_FAILED",R=Object(a.a)(v),D=Object(a.a)(C),P=Object(a.a)(A),x=e=>async(t,s,r)=>{const a=e.queryParams,j=e.params;var y=Object(u.b)(a);const g=y.sort,_=y.t,E=j.profileName,v=Object(c.a)(`u_${E}`,g,a),C=s(),A=C.listings.postOrder.ids[v],x=Object(T.c)(C,{listingKey:v}),w=Object(T.d)(C,{listingKey:v});if(await t(p.i(E)),w||A&&!x){if(A){const e=Object(S.l)(s(),{profileName:E});t(b.j({title:e}))}return}const k=Object.assign({},n()(e.queryParams,[...f.j,...f.i,f.f]),{layout:Object(m.K)(C,{}).toLowerCase(),sort:g,t:Object(d.F)(g,_)});t(R({key:v}));const N=await Object(I.a)("profilePosts",()=>h(r.apiContext(),E,k));if(!N.ok)return t(P({account:N.body.data?N.body.data.account:null,error:N.body.reason?{type:N.body.reason}:N.error,key:v})),void t(b.k(N.status));const L=N.body;t(D(Object.assign({key:v,meta:s().meta},L)));const U=Object(S.i)(s(),E),M=L.pinned;t(Object(l.h)({profileId:U,pinned:M})),await Promise.all([t(Object(u.c)(E)),t(Object(O.z)()),t(Object(i.b)()),t(o.o(E))])},w="PROFILE_POSTS__MORE_POSTS_PENDING",k="PROFILE_POSTS__MORE_POSTS_LOADED",N="PROFILE_POSTS__MORE_POSTS_FAILED",L=Object(a.a)(w),U=Object(a.a)(k),M=Object(a.a)(N),F=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var o=a.routeMatch.match;const i=o.queryParams,d=o.params;var l=Object(u.b)(i);const b=l.sort,p=l.t,O=d.profileName,j=Object(c.a)(`u_${O}`,b,i),y=Object(T.g)(r,{listingKey:j});if(!y)return;const g=Object(T.d)(r,{listingKey:j}),_=Object(T.e)(r,{listingKey:j,token:y.token});if(g||_)return;e(L({key:j,fetchedToken:y.token}));const E=Object.assign({after:y.token,dist:y.dist,sort:b,t:p},n()(i,f.j),{layout:Object(m.K)(r,{}).toLowerCase()}),I=await h(s(),O,E),S=r.listings.postOrder.ids[j],v=I.body.postIds||[],C=Object.assign({},I.body,{postIds:v.filter(e=>!S||!S.includes(e))});I.ok?(e(U(Object.assign({fetchedToken:y.token,key:j,meta:r.meta},C))),await e(Object(u.c)(O))):e(M({account:I.body.data?I.body.data.account:null,error:I.error,fetchedToken:y.token,key:j}))}},"./src/reddit/actions/pages/profileShared.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"c",function(){return m});var r=s("./node_modules/lodash/defaults.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),o=s("./src/reddit/actions/platform.ts"),i=s("./src/reddit/actions/profile.ts"),d=s("./src/reddit/actions/trophyCase.ts"),u=s("./src/reddit/featureFlags/index.ts"),l=s("./src/reddit/selectors/profile.ts"),b=s("./src/lib/constants/index.ts");const p={sort:b.fb,t:b.gb};function O(e){return n()(c()(e,["t","sort"]),p)}function f(e,t){return u.d.redesignProfilesOverviewSorting(e)?O(t):p}const m=e=>async(t,s,r)=>{await Promise.all([t(j(e)),t(y(e))])},j=e=>async(t,s,r)=>{const n=Object(l.i)(s(),e);await t(d.b(e,n))},y=e=>async(t,s,r)=>{const n=Object(l.l)(s(),{profileName:e});t(o.j({title:n})),await t(i.h(e))}},"./src/reddit/actions/pages/shared.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u});var r=s("./src/app/strings/index.ts"),n=s("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),a=s("./src/reddit/helpers/routeKey/index.ts"),c=s("./src/reddit/helpers/trackers/screenview.ts"),o=s("./src/telemetry/index.ts"),i=s("./src/telemetry/models/Timer.ts");const d=(e,t)=>{const s=e.user.language;return Object(r.a)(s,`title.${t}`)},u=()=>async(e,t)=>{const s=t(),r=s.platform.currentPage;if(!r)return;const d=r.routeMatch,u=Object(n.a)(s,d),l=Object(a.c)(d,s,u);l&&o.c.has(l)&&Object(c.f)(d,s,i.TimerType.InApp,o.c.end(l))}},"./src/reddit/actions/pinnedPost.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return f}),s.d(t,"h",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"g",function(){return y}),s.d(t,"c",function(){return E}),s.d(t,"f",function(){return h}),s.d(t,"b",function(){return S}),s.d(t,"e",function(){return v}),s.d(t,"i",function(){return w});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/modal.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/constants/modals.ts"),d=s("./src/reddit/endpoints/post/index.tsx"),u=s("./src/reddit/models/Toast/index.ts"),l=s("./src/reddit/selectors/posts.ts"),b=s("./src/reddit/selectors/profile.ts"),p=s("./src/reddit/selectors/user.ts"),O=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const f="PINNEDPOST__PINNED_POSTS_LOADED",m=Object(a.a)(f),j="PINNEDPOST__PIN_POST_SUCCESS",y="PINNEDPOST__UNPIN_POST_SUCCESS",g=Object(a.a)(j),_=Object(a.a)(y),E="PINNEDPOST__PIN_POST_PENDING",h="PINNEDPOST__UNPIN_POST_PENDING",I=Object(a.a)(E),T=Object(a.a)(h),S="PINNEDPOST__PIN_POST_FAILURE",v="PINNEDPOST__UNPIN_POST_FAILURE",C=Object(a.a)(S),A=Object(a.a)(v),R=(e,t)=>Object(o.e)({buttonAction:w(t,!0),buttonText:Object(r.a)(e,"posts.postPinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,"posts.postPinned")}),D=(e,t,s)=>Object(o.e)({buttonAction:w(t,!0),buttonText:Object(r.a)(e,"posts.postUnpinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,s?"posts.postUnpinnedReloadPage":"posts.postUnpinned")}),P=e=>Object(o.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPost")}),x=e=>Object(o.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotUnpinPost")}),w=(e,t=!1)=>async(s,a,{apiContext:f})=>{const m=a(),j=m.posts.models[e];if(!j)return;const y=!Object(l.r)(m,{postId:e}),E=Object(p.I)(m);if(y&&j.isRemoved)return s((e=>Object(o.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPostRemovedPost")}))(E));const h=j.author,S=Object(b.i)(m,h);var v=O(y?[I,g,C,R,P]:[T,_,A,D,x],5);const w=v[0],k=v[1],N=v[2],L=v[3],U=v[4];if(y){if(Object(l.J)(m,{profileName:h}).length>=n.Z)return void s(Object(c.i)(i.a.PINNED_POSTS_LIMIT_REACHED))}const M=Object(l.l)(m,e,h),F=!y&&M;s(w({postId:e,profileId:S})),(await Object(d.q)(f(),e,y,!0)).ok?(s(k({postId:e,profileId:S})),t||s(L(E,e,F))):(s(N({postId:e,profileId:S})),s(U(E)))}},"./src/reddit/actions/platform.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"e",function(){return O}),s.d(t,"g",function(){return f}),s.d(t,"h",function(){return m}),s.d(t,"k",function(){return g}),s.d(t,"j",function(){return _}),s.d(t,"i",function(){return E}),s.d(t,"f",function(){return h});var r=s("./src/lib/areUrlsEqual/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/logs/errors.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/matchRoute/index.ts"),i=s("./src/reddit/constants/listings.ts"),d=s("./src/reddit/helpers/routeKey/index.ts");const u="PLATFORM__HISTORY_LOCATION_SET",l="PLATFORM__INITIAL_REFERRER_SET",b="PLATFORM__NAVIGATION_CONFIRMATION_REQUESTED",p="PLATFORM__PAGE_META_SET",O="PLATFORM__PAGE_STATUS_SET",f=e=>async(t,s,r)=>{const n=s().platform.currentPage;if(!n)return;const a=Object(o.a)(n.url,e);a&&a.route.action(a.match)(t,s,r)},m=(e,t,s)=>async(a,c,o)=>{const u=c().platform.currentPage;(!s||s.route.chunk===n.r.SUBREDDIT&&i.a.has(s.match.params.subredditName.toLowerCase()))&&window.location.replace(`https://web.archive.org/web/20181130235602/https://www.reddit.com${e.pathname}${e.search}`);const l=s?Object(d.d)(s,c()):null;const b=c().user;if(a(j({action:t,listingKey:l,location:e,routeMatch:s,user:b})),(!u||!Object(r.a)(u.url,e))&&s){const e=s.match;await s.route.action(e)(a,c,o)}},j=Object(c.a)(u),y=(Object(c.a)(l),Object(c.a)(p)),g=Object(c.a)(O),_=e=>async(t,s,r)=>{const n=s().platform.currentPage;if(!n)return;const a=n.key;await t(y({key:a,meta:e}))},E=Object(c.a)(b),h=()=>async(e,t,s)=>{if(window!==window.parent){Object(a.b)(s.apiContext(),{extra:{errorType:n.s.NOT_ALLOWED_ACCESS,value:"Page was unexpectedly loaded inside iframe"}});try{window.top.location.href=window.location.href}catch(r){}}}},"./src/reddit/actions/polls.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="POLLS__POLL_CREATION_UPDATED",a=Object(r.a)(n)},"./src/reddit/actions/post.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return N}),s.d(t,"d",function(){return L}),s.d(t,"f",function(){return U}),s.d(t,"e",function(){return M}),s.d(t,"n",function(){return F}),s.d(t,"h",function(){return B}),s.d(t,"y",function(){return V}),s.d(t,"D",function(){return H}),s.d(t,"A",function(){return q}),s.d(t,"G",function(){return W}),s.d(t,"m",function(){return Q}),s.d(t,"u",function(){return J}),s.d(t,"v",function(){return z}),s.d(t,"a",function(){return X}),s.d(t,"b",function(){return Z}),s.d(t,"w",function(){return se}),s.d(t,"j",function(){return re}),s.d(t,"z",function(){return ne}),s.d(t,"t",function(){return ae}),s.d(t,"q",function(){return ce}),s.d(t,"C",function(){return oe}),s.d(t,"s",function(){return ie}),s.d(t,"r",function(){return de}),s.d(t,"l",function(){return ue}),s.d(t,"E",function(){return le}),s.d(t,"F",function(){return be}),s.d(t,"p",function(){return Oe}),s.d(t,"g",function(){return fe}),s.d(t,"k",function(){return je}),s.d(t,"i",function(){return ye}),s.d(t,"B",function(){return ge}),s.d(t,"x",function(){return Ee}),s.d(t,"o",function(){return he});var r=s("./src/config.ts"),n=s("./node_modules/js-cookie/src/js.cookie.js"),a=s.n(n),c=s("./src/app/strings/index.ts"),o=s("./src/lib/copyToClipboard/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/reddit/actions/platform.ts"),u=s("./src/reddit/actions/vote.ts"),l=s("./src/reddit/constants/cookie.ts"),b=s("./src/reddit/constants/history.ts"),p=s("./src/reddit/constants/posts.ts"),O=s("./src/reddit/actions/video.ts"),f=s("./src/reddit/endpoints/post/index.tsx"),m=s("./src/lib/constants/index.ts"),j=s("./src/lib/makeListingKey/index.ts"),y=s("./node_modules/react-router-redux/es/index.js"),g=s("./src/reddit/actions/modal.ts"),_=s("./src/reddit/actions/toaster.ts"),E=s("./src/reddit/constants/adEvents.ts"),h=s("./src/reddit/constants/modals.ts"),I=s("./src/reddit/endpoints/page/commentsPage.ts"),T=s("./src/reddit/helpers/pixels.ts"),S=s("./src/reddit/helpers/trackers/post.ts"),v=s("./src/reddit/models/Flair/index.ts"),C=s("./src/reddit/models/Toast/index.ts"),A=s("./src/reddit/models/User/index.ts"),R=s("./src/reddit/models/Vote/index.ts"),D=s("./src/reddit/selectors/platform.ts"),P=s("./src/reddit/selectors/user.ts"),x=s("./src/reddit/constants/viewabilityEvents.ts"),w=s("./src/reddit/selectors/posts.ts"),k=s("./src/telemetry/index.ts");const N="POST__EXPANDED_TOGGLED",L="POST__FOCUS_CHANGED",U="POSTS__MUTATED",M="POSTS_LOADED",F=Object(i.a)(N),G=(Object(i.a)(L),Object(i.a)(M)),B="POST__STICKY_POST_SUCCESS",$=Object(i.a)(B),V=Object(i.a)(U),H=(e,t,s,r)=>async(n,a,{apiContext:o})=>{if(!Object(P.C)(a()))return void n(Object(g.i)(h.a.REGISTER_MODAL_ID));n(V({[e]:{hidden:t}}));const i=a(),d=Object(P.I)(i);let u;if((u=t?await Object(f.g)(o(),e):await Object(f.r)(o(),e)).ok){if(r){const r=t?Object(c.a)(d,"posts.hiddenSuccess"):Object(c.a)(d,"posts.unhiddenSuccess"),a=Object(_.d)(r,C.b.Undo,Object(c.a)(d,"posts.hiddenUndo"),H(e,!t,s,!1));n(Object(_.e)(a))}}else if(n(V({[e]:{hidden:!t}})),r){const e=Object(_.d)(Object(c.a)(d,"error.generic"),C.b.Error);n(Object(_.e)(e))}},q=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;if(!Object(P.C)(s()))return t(Object(g.i)(h.a.REGISTER_MODAL_ID)),void t(Object(g.l)({actionSource:"save",redirectUrl:n.permalink}));const a=n.saved?f.v:f.n;if(t(V({[e]:{saved:!n.saved}})),(await a(r(),e)).ok){const r=Object(P.I)(s()),a=n.saved?Object(c.a)(r,"posts.unsavedSuccess"):Object(c.a)(r,"posts.savedSuccess"),o=Object(_.d)(a,C.b.Undo,Object(c.a)(r,"posts.savedUndo"),q(e));t(Object(_.e)(o))}else t(V({[e]:{saved:n.saved}}))},K=(e,t)=>t().posts.models[e],W=Object(u.b)(K,R.a.upvoted),Q=Object(u.b)(K,R.a.downvoted),Y=e=>`viewing-${e}`,J=e=>async(t,s)=>{const r=s();S.g(r,e),k.c.start(Y(e))},z=(e,t)=>async(s,n)=>{const a=n(),c=Y(e);if(k.c.has(c)){const s=k.c.end(`viewing-${e}`);!t&&s>r.a.telemetry.postConsumedThreshold&&S.a(a,e,s)}},X="AD__IMPRESSION",Z="AD__VIEWABLE_IMPRESSION",ee=Object(i.a)(X),te=Object(i.a)(Z),se=(e,t)=>async(s,r)=>{if(!e.isSponsored)return;const n=e.media&&"video"===e.media.type;if(n&&t===x.a.VideoViewable)s(Object(O.B)(e.id));else{if(!n||t!==x.a.VideoFullyViewable)return t===x.a.Impression?(s((e=>async t=>{e.isSponsored&&(Object(T.a)(e.events,E.a.Impression),t(ee({postId:e.id})))})(e)),void S.f(r(),e.id)):void s((e=>async t=>{e.isSponsored&&(Object(T.a)(e.events,E.a.ViewableImpression),t(te({postId:e.id})))})(e));s(Object(O.A)(e.id))}},re=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.posts.models[e],c=n.user.account?n.user.account.displayText:null;a&&(t(V({[e]:{approvedBy:c,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null}})),(await Object(f.b)(r(),e)).ok||t(V({[e]:{approvedBy:null,bannedBy:a.bannedBy,isApproved:a.isApproved,isRemoved:a.isRemoved,isSpam:a.isSpam,modNote:a.modNote,numReports:a.numReports||null,modRemovalReason:a.modRemovalReason,modReasonBy:a.modReasonBy}})))},ne=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.posts.models[e],o=a.user.account?a.user.account.displayText:null;c&&o&&(s(V({[e]:{approvedBy:null,bannedBy:o,isApproved:!1,isRemoved:!t,isSpam:t}})),(await Object(f.l)(n(),e,t)).ok||s(V({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam}})))},ae=(e,t,s)=>async(r,n,{apiContext:a})=>{const o=n(),i=o.posts.models[e],d=Object(P.I)(o);if(i)if(r(V({[e]:{hidden:!0}})),(await Object(f.c)(a(),e)).ok){const e=Object(_.d)(Object(c.a)(d,"posts.deleteSuccess"),C.b.SuccessMod);if(s)r(Object(y.b)(t.state[b.a.CloseLocation]));else{const e=Object(D.f)(o);e&&r(Object(y.b)(e.url))}r(Object(_.e)(e))}else{r(V({[e]:{hidden:!1}}));const t=Object(_.d)(Object(c.a)(d,"error.generic"),C.b.Error);r(Object(_.e)(t))}},ce=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.isLocked?f.t:f.i;t(V({[e]:{isLocked:!n.isLocked}})),(await a(r(),e)).ok||t(V({[e]:{isLocked:n.isLocked}}))},oe=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.isSpoiler?f.w:f.p,c=n.isSpoiler?n.flair.filter(e=>e.type!==v.e.Spoiler):[...n.flair,{text:"spoiler",type:v.e.Spoiler}];t(V({[e]:{isSpoiler:!n.isSpoiler,flair:c}})),(await a(r(),e)).ok||t(V({[e]:{isSpoiler:n.isSpoiler,flair:n.flair}}))},ie=e=>async(t,s,{apiContext:r})=>{const n=Object(w.C)(s(),{postId:e});n&&(t(V({[e]:{isOriginalContent:!n.isOriginalContent}})),(await Object(f.k)(r(),e,!n.isOriginalContent)).ok||t(V({[e]:{isOriginalContent:n.isOriginalContent}})))},de=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.isNSFW?f.u:f.j,c=n.isNSFW?n.flair.filter(e=>e.type!==v.e.Nsfw):[...n.flair,{text:"nsfw",type:v.e.Nsfw}];t(V({[e]:{isNSFW:!n.isNSFW,flair:c}})),(await a(r(),e)).ok?await t(_e(e)):t(V({[e]:{isNSFW:n.isNSFW,flair:n.flair}}))},ue=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().posts.models[e];if(!a)return;const c=m.h[t];s(V({[e]:{distinguishType:t}})),(await Object(f.d)(n(),e,c)).ok||s(V({[e]:{distinguishType:a.distinguishType}}))},le=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.ignoreReports?f.s:f.h;t(V({[e]:{ignoreReports:!n.ignoreReports}})),(await a(r(),e)).ok||t(V({[e]:{ignoreReports:n.ignoreReports}}))},be=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.posts.models[e];if(!a)return;const c=!a.isStickied;t(V({[e]:{isStickied:c}}));const o=n.subredditStickyPosts.data[a.belongsTo.id];let i;if(c&&o&&o.length>=2&&(i=o[1],t(V({[i]:{isStickied:!1}}))),(await Object(f.q)(r(),e,c,!1)).ok){const s=a.belongsTo.id,r=pe(e,c,n.subredditStickyPosts.data[a.belongsTo.id]),o=n.subreddits.models[s].name,i=Object(j.a)(o,m.V,{});t($({newStickiedPostList:r,subredditId:s,listingKey:i}))}else t(V({[e]:{isStickied:a.isStickied}})),i&&t(V({[i]:{isStickied:!0}}))},pe=(e,t,s)=>{const r=s?[...s]:[];return t?(r.length>=2&&r.splice(1,1,e),r):r.filter(function(t){return t!==e})},Oe=e=>async(t,s,{apiContext:r})=>{const n=s().user.language;if(Object(o.a)(e)){const e=Object(_.d)(Object(c.a)(n,"posts.copyLinkSuccess"),C.b.SuccessCommunity);t(Object(_.e)(e))}else{const e=Object(_.d)(Object(c.a)(n,"error.generic"),C.b.Error);t(Object(_.e)(e))}},fe="PREFERENCES__RECENT_POSTS_UPDATED",me=Object(i.a)(fe),je=()=>async(e,t)=>{const s=t();if(!s.user.account)return;const n=Object(A.d)(s.user.account);a.a.remove(`${n}${l.h}`,{domain:r.a.cookieDomain}),e(me({postIds:[]}))},ye=e=>async(t,s)=>{const n=s();if(!n.user.account||!n.user.account.showRecentPosts||n.posts.recent.indexOf(e)>-1)return;const c=Object(A.d)(n.user.account),o=n.posts.recent?n.posts.recent.slice(0):[];o.push(e),o.length>p.e&&o.shift(),a.a.set(`${c}${l.h}`,`${encodeURIComponent(o.join(","))}`,{domain:r.a.cookieDomain}),t(me({postIds:o}))},ge=e=>async(t,s,{apiContext:r})=>{const n=!s().posts.models[e].sendReplies;t(V({[e]:{sendReplies:n}})),(await Object(f.o)(r(),e,n)).ok||t(V({[e]:{sendReplies:!n}}))},_e=e=>async(t,s,r)=>{if(Object(w.C)(s(),{postId:e}))return;const n=await Object(I.a)(r.apiContext(),e,void 0,{limit:1,truncate:0});if(t(Object(d.k)(n.status)),n.ok){const e=n.body;t(G(e.posts))}},Ee=e=>async(t,s)=>{await t(_e(e));const r=Object(w.C)(s(),{postId:e});r&&r.crosspostRootId&&await t(_e(r.crosspostRootId))},he=e=>async(t,s,{apiContext:r})=>{const n=s();if(!Object(P.C)(n))return void t(Object(g.i)(h.a.LOGIN_MODAL_ID));const a=Object(w.C)(n,{postId:e});if(a&&(t(V({[e]:{isFollowed:!a.isFollowed}})),!(await Object(f.f)(r(),e,!a.isFollowed)).ok)){t(V({[e]:{isFollowed:a.isFollowed}}));const s=Object(P.I)(n);t(Object(_.e)({kind:C.b.Error,text:Object(c.a)(s,"posts.event.followFailed")}))}}},"./src/reddit/actions/postCollection.ts":function(e,t,s){"use strict";var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/filterQueryParams/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/constants/history.ts"),d=s("./src/lib/constants/index.ts"),u=s("./src/lib/makeApiRequest/index.ts"),l=s("./src/lib/omitHeaders/index.ts"),b=s("./src/reddit/constants/headers.ts");var p=(e,t,s)=>Object(u.b)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/collections/add_post_to_collection.json`,method:d.Fa.POST,data:{collection_id:t,link_fullname:s}});var O=(e,t,s)=>Object(u.b)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/collections/create_collection.json`,method:d.Fa.POST,data:{title:t,sr_fullname:s}});var f=(e,t)=>Object(u.b)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/collections/delete_collection.json`,method:d.Fa.POST,data:{collection_id:t}}),m=s("./src/config.ts");var j=(e,t)=>Object(u.b)(Object(l.a)(e,[b.a]),{endpoint:`${m.a.gatewayUrl}/desktopapi/v1/subreddit_collections/${t}`,method:d.Fa.GET});var y=(e,t,s)=>Object(u.b)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/collections/remove_post_in_collection.json`,method:d.Fa.POST,data:{collection_id:t,link_fullname:s}});var g=(e,t,s)=>Object(u.b)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/v1/collections/update_collection_title.json`,method:d.Fa.POST,data:{collection_id:t,title:s}}),_=s("./src/reddit/helpers/overlay/index.ts"),E=s("./src/reddit/helpers/path/index.ts"),h=s("./src/reddit/models/Toast/index.ts"),I=s("./src/reddit/selectors/platform.ts"),T=s("./src/reddit/selectors/postCollection.ts"),S=s("./src/reddit/selectors/posts.ts"),v=s("./src/reddit/selectors/subreddit.ts");s.d(t,"c",function(){return C}),s.d(t,"d",function(){return A}),s.d(t,"b",function(){return R}),s.d(t,"m",function(){return w}),s.d(t,"f",function(){return k}),s.d(t,"o",function(){return L}),s.d(t,"g",function(){return U}),s.d(t,"q",function(){return F}),s.d(t,"a",function(){return G}),s.d(t,"k",function(){return $}),s.d(t,"l",function(){return H}),s.d(t,"e",function(){return q}),s.d(t,"n",function(){return W}),s.d(t,"i",function(){return Q}),s.d(t,"j",function(){return Y}),s.d(t,"h",function(){return J}),s.d(t,"r",function(){return ee}),s.d(t,"p",function(){return te});const C="CREATE_COLLECTION_PENDING",A="CREATE_COLLECTION_SUCCESS",R="CREATE_COLLECTION_FAILED",D=Object(c.a)(C),P=Object(c.a)(A),x=Object(c.a)(R),w=e=>async(t,s,{apiContext:r})=>{const n=Object(I.f)(s());if(!n)return;t(D());const a=await O(r(),e,n.id);let c;if(a.ok){const e=s().meta,r=(e=>({createdAtUTC:e.created_at_utc,id:e.collection_id,lastUpdateUTC:e.last_update_utc,permalink:e.permalink,postIds:e.link_ids,primaryPostId:e.primary_link_id||void 0,subredditId:e.subreddit_id,title:e.title}))(a.body);t(P({collection:r,meta:e})),c=r}else{const e=a.error;t(x(e))}return c},k="GET_SUBREDDIT_COLLECTION_SUCCESS",N=Object(c.a)(k),L=e=>async(t,s,{apiContext:r})=>{const a=s(),c=a.postCollection.subredditToIds||{};if(Object.keys(c).length>0)return;const i=await j(r(),e);i.ok?t(N(i.body)):t(Object(o.e)({kind:h.b.Error,text:Object(n.a)(a.user.language,"error.type.generic")}))},U="REMOVE_POST_FROM_COLLECTION_SUCCESS",M=Object(c.a)(U),F=(e,t,s)=>async(r,a,{apiContext:c})=>{if((await y(c(),e,t)).ok){const c=a(),i=Object(S.C)(c,{postId:t}),d=i&&i.title||"",u=Object(T.j)(c,{collectionId:e}),l=(u&&u.postIds&&u.postIds.indexOf(t)||-1)-1;if(r(M({collectionId:e,postId:t})),s&&l>=0){const t=a(),s=Object(T.j)(t,{collectionId:e}),n=s&&s.postIds&&s.postIds[l]||"",c=Object(S.C)(t,{postId:n});c&&c.permalink&&r(Object(_.a)(c.permalink))}r(Object(o.e)({kind:h.b.SuccessMod,text:Object(n.a)(c.user.language,"collection.postRemovedSuccess",{postTitle:d}),buttonText:Object(n.a)(c.user.language,"collection.undo"),buttonAction:H(e,t)}))}else{const e=a();r(Object(o.e)({kind:h.b.Error,text:Object(n.a)(e.user.language,"error.type.generic")}))}},G="ADD_POST_TO_COLLECTION_SUCCESS",B=Object(c.a)(G),$="UPDATE_POST_WITH_COLLECTION_ID",V=Object(c.a)($),H=(e,t)=>async(s,r,{apiContext:a})=>{const c=r();if((await p(a(),e,t)).ok){s(B({collectionId:e,postId:t})),s(V({collectionId:e,postId:t}));const r=Object(S.C)(c,{postId:t}),a=Object(T.j)(c,{collectionId:e}),i=a&&a.title||"";s(Object(o.e)({kind:h.b.SuccessMod,text:Object(n.a)(c.user.language,"collection.postAddedSuccess",{title:i}),buttonText:Object(n.a)(c.user.language,"collection.view"),buttonAction:Object(_.a)(r.permalink)}))}else s(Object(o.e)({kind:h.b.Error,text:Object(n.a)(c.user.language,"error.type.generic")}))},q="DELETE_COLLECTION_SUCCESS",K=Object(c.a)(q),W=(e,t)=>async(s,c,{apiContext:i})=>{const d=c();if((await f(i(),e)).ok){const c=d.platform.currentPage.url,i=Object(T.j)(d,{collectionId:e}),u=i&&i.title||"",l=i&&i.subredditId,b=Object(v.b)(d,{subredditId:l})||"/";s(K({collectionId:e,collection:i})),s(t?Object(r.c)(Object(a.a)(c,["collection"])):Object(r.b)(b)),s(Object(o.e)({kind:h.b.SuccessMod,text:Object(n.a)(d.user.language,"collection.collectionDeletedSuccess",{title:u})}))}else s(Object(o.e)({kind:h.b.Error,text:Object(n.a)(d.user.language,"error.type.generic")}))},Q="UPDATE_COLLECTION_PENDING",Y="UPDATE_COLLECTION_SUCCESS",J="UPDATE_COLLECTION_FAILED",z=Object(c.a)(Q),X=Object(c.a)(Y),Z=Object(c.a)(J),ee=(e,t)=>async(s,r,{apiContext:n})=>{s(z());const a=await g(n(),e,t);if(a.ok)s(X({collectionId:e,newTitle:t}));else{const e=a.error;s(Z(e))}},te=e=>async(t,s)=>{const n=s().platform.currentPage.locationState;t(!(!n||!n[i.a.IsOverlay])?Object(_.a)(e.permalink):Object(r.b)(Object(E.b)(e.permalink)))}},"./src/reddit/actions/postCreation/editorContent.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return b}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"e",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"g",function(){return g});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/endpoints/post/convert.ts"),o=s("./src/reddit/helpers/trackers/postComposer.ts"),i=s("./src/reddit/models/PostCreationForm/index.ts"),d=s("./src/reddit/models/RichTextJson/index.ts"),u=s("./src/reddit/models/Toast/index.ts"),l=s("./src/reddit/selectors/user.ts");const b="EDITOR_CONTENT_KEY__NEW_DRAFT",p="STARTED_CONVERTING_EDITOR_CONTENT",O="FINISHED_CONVERTING_EDITOR_CONTENT",f=Object(n.a)(p),m=Object(n.a)(O),j="POST_CREATION__TOGGLE_EDITOR_MODE",y=Object(n.a)(j),g=(e,t,s)=>async(n,p,{apiContext:O})=>{o.i(p(),t);const j=t===i.h.MARKDOWN,g=t===i.h.RICH_TEXT,_=Object(l.I)(p()),E=b;if(j&&Object(d.E)(s))return void n(y({editorKey:e,editorMode:i.h.MARKDOWN,content:""}));if(g&&!s)return void n(y({editorKey:e,editorMode:i.h.RICH_TEXT,content:d.i}));n(f(E));const h=await Object(c.a)(O(),t,j?JSON.stringify(s):s);h.ok?(n(m(E)),n(y({editorKey:e,editorMode:t,content:h.body.output}))):(n(m(E)),n(Object(a.e)({duration:a.a,kind:u.b.Error,text:Object(r.a)(_,"error.generic")})))}},"./src/reddit/actions/postCreation/general.ts":function(e,t,s){"use strict";s.d(t,"k",function(){return m}),s.d(t,"o",function(){return j}),s.d(t,"I",function(){return y}),s.d(t,"p",function(){return _}),s.d(t,"m",function(){return h}),s.d(t,"L",function(){return I}),s.d(t,"P",function(){return T}),s.d(t,"b",function(){return S}),s.d(t,"a",function(){return v}),s.d(t,"c",function(){return C}),s.d(t,"d",function(){return A}),s.d(t,"e",function(){return R}),s.d(t,"f",function(){return D}),s.d(t,"g",function(){return P}),s.d(t,"h",function(){return x}),s.d(t,"i",function(){return w}),s.d(t,"j",function(){return k}),s.d(t,"r",function(){return N}),s.d(t,"s",function(){return L}),s.d(t,"t",function(){return U}),s.d(t,"u",function(){return M}),s.d(t,"v",function(){return F}),s.d(t,"w",function(){return G}),s.d(t,"x",function(){return B}),s.d(t,"y",function(){return $}),s.d(t,"l",function(){return V}),s.d(t,"z",function(){return H}),s.d(t,"A",function(){return q}),s.d(t,"B",function(){return W}),s.d(t,"C",function(){return Q}),s.d(t,"D",function(){return Y}),s.d(t,"F",function(){return J}),s.d(t,"E",function(){return z}),s.d(t,"G",function(){return X}),s.d(t,"H",function(){return Z}),s.d(t,"Q",function(){return ee}),s.d(t,"R",function(){return te}),s.d(t,"S",function(){return se}),s.d(t,"T",function(){return re}),s.d(t,"U",function(){return ne}),s.d(t,"V",function(){return ae}),s.d(t,"X",function(){return ce}),s.d(t,"Y",function(){return oe}),s.d(t,"J",function(){return ie}),s.d(t,"O",function(){return de}),s.d(t,"q",function(){return ue}),s.d(t,"N",function(){return be}),s.d(t,"n",function(){return pe}),s.d(t,"W",function(){return fe}),s.d(t,"M",function(){return me}),s.d(t,"K",function(){return je});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/isUrl/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/modal.ts"),o=s("./src/reddit/actions/subreddit.ts"),i=s("./src/reddit/contexts/PageLayer/index.tsx"),d=s("./src/reddit/endpoints/post/index.tsx"),u=s("./src/reddit/models/PostCreationForm/index.ts"),l=s("./src/reddit/routes/postCreation/constants.ts"),b=s("./src/reddit/selectors/platform.ts"),p=s("./src/reddit/selectors/postCollection.ts"),O=s("./src/reddit/selectors/postCreations.ts"),f=s("./src/reddit/selectors/subreddit.ts");const m="POST_CREATION__ERRORS_NO_LONGER_VALID",j="POST_CREATION__OC_CATEGORY_SELECTED",y=Object(a.a)(m),g=Object(a.a)(j),_="POST_TITLE_FETCHED",E=Object(a.a)(_),h="INITIALIZE_EDITOR_MODE",I=(Object(a.a)(h),e=>{switch(e){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),T=e=>async(t,s,{apiContext:r})=>{t(g(e)),Object(f.n)(s(),e).length>0||t(Object(o.x)(e))},S="POST_CREATION__CHANGE_FLAIR",v="POST_CREATION__CHANGE_EVENT_SCHEDULE",C="POST_CREATION__CHANGE_LINK_BODY",A="POST_CREATION__CHANGE_MARKDOWN_BODY",R="POST_CREATION__CHANGE_MEDIA_BODY",D="POST_CREATION__CHANGE_OC_CATEGORY",P="POST_CREATION__CHANGE_RECAPTCHA",x="POST_CREATION__CHANGE_RTE_STATE",w="POST_CREATION__CHANGE_SUBMISSION_TYPE",k="POST_CREATION__CHANGE_TITLE",N="POST_CREATION__TOGGLE_IS_CHANGED",L="POST_CREATION__TOGGLE_IS_GOV",U="POST_CREATION__TOGGLE_IS_NSFW",M="POST_CREATION__TOGGLE_IS_OC",F="POST_CREATION__TOGGLE_IS_POLL",G="POST_CREATION__TOGGLE_IS_SPOILER",B="POST_CREATION__TOGGLE_POST_TO_TWITTER",$="POST_CREATION__TOGGLE_SEND_REPLIES",V="POST_CREATION__INITIALIZE_CROSSPOST_MODE",H=Object(a.a)(v),q=Object(a.a)(S),K=Object(a.a)(C),W=Object(a.a)(A),Q=Object(a.a)(R),Y=Object(a.a)(D),J=Object(a.a)(P),z=Object(a.a)(x),X=Object(a.a)(w),Z=Object(a.a)(k),ee=Object(a.a)(N),te=Object(a.a)(L),se=Object(a.a)(U),re=Object(a.a)(M),ne=Object(a.a)(F),ae=Object(a.a)(G),ce=Object(a.a)(B),oe=Object(a.a)($),ie=Object(a.a)(V),de=e=>async(t,s,{apiContext:r})=>{t(K(e)),Object(n.a)(e)&&t((e=>async(t,s,{apiContext:r})=>{const n=await Object(d.e)(r(),e);n.ok&&n.body&&n.body.json&&n.body.json.data&&t(E(n.body.json.data))})(e))},ue="POST_CREATION__RESET_FORM",le=Object(a.a)(ue),be=(e,t)=>async(s,n)=>{s(le()),s(e?Object(r.b)(l.c):Object(r.b)(Object(O.S)(n(),{pageLayer:t})))},pe="POST_CREATION__MODAL_TOGGLED",Oe=Object(a.a)(pe),fe=e=>async t=>{e?e===u.d?t(Oe(e)):t(c.i(e)):(t(Oe(e)),t(c.i(e)))},me=e=>async(t,s)=>{const r=s(),n=Object(i.E)(e),a=Object(O.z)(r);if(n&&a){Object(O.K)(r)!==u.c&&t(fe(u.c))}else t(be(!1,e))},je=()=>async(e,t)=>{const s=t(),r=Object(b.f)(s);r&&(Object(p.f)(s,{subredditId:r.id})?e(c.i(u.a)):e(c.i(u.b)))}},"./src/reddit/actions/postCreation/index.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/post.ts"),c=s("./src/reddit/actions/toaster.ts"),o=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/lib/omitHeaders/index.ts"),u=s("./src/reddit/constants/headers.ts"),l=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),b=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const p=e=>Object.assign({thing_id:e.post.id,validate_on_submit:!0},(e=>!(!e.document||!e.document.length))(e)?(e=>({text:null,richtext_json:JSON.stringify({document:e.document})}))(e):(e=>({text:e.markdown,return_rtjson:!0}))(e));var O=(e,t)=>Object(i.b)(Object(d.a)(e,[u.a]),{endpoint:Object(b.a)(Object(l.a)(`${e.apiUrl}/api/editusertext`)),method:o.Fa.POST,data:p(t)}),f=s("./src/reddit/helpers/overlay/index.ts"),m=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),j=s("./src/reddit/helpers/trackers/lightbox.ts"),y=s("./src/reddit/helpers/trackers/post.ts"),g=s("./src/reddit/helpers/trackers/postComposer.ts"),_=s("./src/reddit/models/Media/index.ts"),E=s("./src/reddit/models/PostCreationForm/index.ts"),h=s("./src/reddit/models/Toast/index.ts"),I=s("./src/reddit/selectors/posts.ts"),T=s("./src/reddit/actions/postCreation/general.ts");const S=Object(n.a)("POST_CREATION_EDIT_COMPLETE"),v=Object(n.a)("POST_CREATION_EDIT_FAILED"),C=Object(n.a)("POST_CREATION_PENDING_EDIT"),A=Object(n.a)("POST_CREATION_START_EDITING_POST"),R=Object(n.a)("POST_CREATION_STOP_EDITING_POST"),D=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(I.C)(a,{postId:e});t?(s(Object(f.a)(c.permalink)),Object(j.c)(e,"edit")(a)):Object(y.b)(e,"edit")(a);const o=c.media;if(!o)return;let i,d=E.h.RICH_TEXT,u="";o.type===_.m.TEXT?(d=E.h.MARKDOWN,u=o.content):o.type===_.m.RTJSON&&(u=(d=o.rteMode||E.h.RICH_TEXT)===E.h.MARKDOWN?o.markdownContent:o.richtextContent,i=o.mediaMetadata||void 0),s(A({editorMode:d,mediaMetadata:i,postContent:u,postId:e}))},P=e=>async(t,s,{apiContext:n})=>{const o=s(),i=e.post,d=!i.media||"rtjson"!==i.media.type&&"text"!==i.media.type?"":i.media.rteMode;g.q(s(),Object(T.L)(d)),t(C(i.id));const u=await O(n(),e),l=!1===u.body.success;if(t(S(i.id)),u.ok&&!l){t(Object(c.e)({kind:h.b.SuccessCommunity,text:Object(r.a)(o.user.language,"postCreation.editing.success")})),t(R(i.id));const e=Object(m.a)(u.body);t(Object(a.y)({[i.id]:e}))}else t(v(u.error))};var x=s("./src/reddit/actions/postCreation/editorContent.ts"),w=s("./node_modules/uuid/v4.js"),k=s.n(w),N=s("./src/lib/formatApiError/index.ts"),L=s("./src/reddit/actions/upload.ts");var U=s("./src/reddit/helpers/correlationIdTracker.ts"),M=s("./src/reddit/helpers/imagePreview/index.ts"),F=s("./src/reddit/helpers/media/index.ts"),G=s("./src/reddit/models/Upload/index.ts"),B=s("./src/reddit/selectors/telemetry.ts"),$=s("./src/telemetry/index.ts");const V=async({state:e,uploadKey:t,assetId:s,isCanceled:r,fileSource:n,uploadDuration:a,correlationId:c})=>{const o=e.uploads[t],i=r||o.status===G.a.CANCELED,d=o.file,u=o.url,l=o.metadata,b=o.error,p=l.mimetype||d.type,O=p.startsWith("video/"),f=o.status===G.a.SUCCESS;let m="";b?m=JSON.stringify(b):i&&(m="canceled");const j={width:l.width,height:l.height,duration:l.videoDuration&&Math.round(1e3*l.videoDuration)};Object($.a)(Object.assign({source:O?"videoupload":"imageupload",action:"upload",correlationId:c,noun:O?"video":"image"},(e=>Object.assign({},B.defaults(e),{screen:B.screen(e),profile:B.profile(e),subreddit:B.subreddit(e)}))(e),{actionInfo:Object.assign({},B.actionInfo(e),{success:f},m?{reason:m}:{}),media:Object.assign({mimetype:p,uploadDuration:a,source:n,fileName:d.name,size:d.size,type:O?"video":"image"},s?{id:s}:{},u?{url:u}:{},j)}))};var H=s("./src/reddit/selectors/postCreations.ts"),q=s("./src/reddit/selectors/user.ts");const K=Object(n.a)("POST_CREATION__MEDIA_UPLOAD_PENDING"),W=Object(n.a)("POST_CREATION__MEDIA_UPLOAD_SUCCEEDED"),Q=Object(n.a)("POST_CREATION__MEDIA_UPLOAD_FAILED"),Y=e=>async(t,s)=>{t(K());const r=e.map(({url:e,uploadKey:s})=>{const r=Object(F.a)(Object(F.c)(e),"poster.png");return t(z(r,s))});await Promise.all(r);const n=s().uploads,a=e.map(({uploadKey:e})=>n[e]).find(e=>e.status!==G.a.SUCCESS);t(a?Q(a.error):W())},J=(e,t)=>({error:t?{type:e,fields:[{field:"",msg:t}]}:{type:e}});const z=(e,t,s,n)=>async(a,c,{apiContext:l})=>{const b=Object(H.g)(c()),p=Date.now();let O=null,f=!1,m=!1,j=!1;const y=e=>{if(!j&&s&&f){j=!0;const r=c(),n=Date.now()-p,a=Object(U.c)(U.a.PostComposer);m?V({state:r,uploadKey:t,assetId:O,isCanceled:e,fileSource:s,uploadDuration:n,correlationId:a}):g.p(r,t)}};t.startsWith(G.b.RTE_MEDIA);await a(Object(L.k)(e,t,async p=>{f=!0,Object(L.j)(p.id,()=>{y(!0)});var j=await async function(e,t,s,n){const a=Object(q.I)(e),c=s&&s.allowedPostTypes,i=s&&s.name,d=await Object(F.f)(t)||t.type,u=Object(F.b)(t)||void 0;if(!u)return J("UNSUPPORTED_BROWSER");const l={localUrl:u,mimetype:d};if(!d||!Object(F.h)(d))return{error:{type:o.S}};if(d.startsWith("image/")){if(c&&!c.images){const e=Object(r.a)(a,"postCreation.mediaInput.imagesAreNotAllowed",{subredditName:i});return J(o.S,e)}if("image/gif"===d){if(t.size>o.W)return J(o.J)}else if(t.size>o.Y)return J(o.P);const e=await Object(M.a)(u);l.width=e.width,l.height=e.height}else if(d.startsWith("video/")){if(t.size>o.Ca)return J(o.Wb);let e;try{e=await Object(F.g)(u,!0)}catch(b){return J(o.S)}if(c){const t=c.videos,s=c.images;if(s&&!t&&e.duration>o.Da){const e=Object(r.a)(a,"postCreation.mediaInput.videoTooLongForImageOnlySubreddit",{subredditName:i});return J(o.S,e)}if(!s&&!t){const e=Object(r.a)(a,"postCreation.mediaInput.videosAreNotAllowed",{subredditName:i});return J(o.S,e)}}if(e.duration>o.Ba){const e=Object(r.a)(a,"postCreation.mediaInput.videoTooLongInGeneral");return J(o.S,e)}l.height=e.height,l.width=e.width,l.videoDuration=e.duration,l.videoFirstFrameUrl=e.firstFrame.dataUrl}return{metadata:l}}(c(),e,b);const g=j.error,_=j.metadata;if(g||!_)return{error:g};a(Object(L.l)({key:t,metadata:Object.assign({fileSource:s},_)})),m=!0,n&&n();const E=e.name,h=await(async(e,t,s)=>Object(i.b)(Object(d.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/media/asset.json`,method:o.Fa.POST,data:{filepath:t,mimetype:s}}))(l(),E,_.mimetype);return h.ok?(O=h.body.asset.asset_id,{uploadLease:h.body.args}):{error:h.error||void 0}},!0)),y(!1)},X=e=>async(t,s,{apiContext:r})=>{const n=s().uploads[e];n&&!Object(G.d)(n)&&await t(z(n.file,n.key,n.metadata.fileSource))},Z=(e,t,s)=>async(n,a)=>{const o=e.map((e,r)=>new Promise(async r=>{const a=Object(G.e)(G.b.RTE_MEDIA,`${s}-${k()().slice(-6)}`);await n(z(e,a,t,()=>r(a))),r(a)})),i=await Promise.all(o);n(((e,t=3)=>async(s,n)=>{var a=n();const o=a.uploads,i=a.user.language,d=e.map(e=>o[e]).filter(e=>e.status===G.a.FAILED&&!e.metadata.mimetype).map(e=>e.error),u=d.length>t?t-1:d.length,l=d.length-u;d.slice(0,u).forEach(e=>s(Object(c.e)({duration:c.a,kind:h.b.Error,text:Object(N.a)(i,e)}))),l>0&&s(Object(c.e)({duration:c.a,kind:h.b.Error,text:Object(r.d)(i,"postCreation.cannotAddFiles",l)}))})(i))};var ee=s("./src/reddit/actions/governance/index.ts"),te=s("./src/reddit/actions/page.ts"),se=s("./src/reddit/actions/postDraft.ts"),re=s("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),ne=s("./src/lib/convertToCamelCase/index.ts"),ae=s("./node_modules/url/url.js"),ce=s("./src/reddit/constants/originalContent.ts"),oe=s("./src/reddit/helpers/name/index.ts"),ie=s("./src/reddit/models/Flair/index.ts");const de=e=>{const t=Object(oe.f)(e.destSubreddit.name);return Object.assign({api_type:"json"},e.destSubreddit.isProfile?{sr:`u_${t}`,submit_type:"profile"}:{sr:t,submit_type:"subreddit"},{draft_id:e.draftId||void 0,title:e.title,spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,post_category:e.ocCategory===ce.c?void 0:e.ocCategory,post_to_twitter:e.postToTwitter,kind:(e=>{switch(e.kind){case E.n.CROSSPOST:return E.n.CROSSPOST;case E.n.LINK:return E.n.LINK;case E.n.MEDIA:return e.makeGif?E.n.VIDEO_GIF:e.mediaType;default:return"self"}})(e),sendreplies:e.sendReplies},e.gRecaptchaResponse?{"g-recaptcha-response":e.gRecaptchaResponse}:{},{resubmit:e.resubmit},(e=>{switch(e.kind){case E.n.RICH_TEXT:return{richtext_json:JSON.stringify({document:e.document})};case E.n.MARKDOWN:return{text:e.markdown};case E.n.LINK:case E.n.MEDIA:return{url:e.url};case E.n.CROSSPOST:return{crosspost_fullname:e.sourcePostId}}})(e),e.kind===E.n.MEDIA&&"video"===e.mediaType?{video_poster_url:e.videoThumbnailUrl}:{},e.kind===E.n.MEDIA&&e.makeGif?{make_gif:"on"}:{},e.flair?{flair_id:e.flair.templateId,flair_text:Object(ie.i)(e.flair)}:{},e.validate_on_submit?{validate_on_submit:e.validate_on_submit}:{},e.eventSchedule&&{event_start:e.eventSchedule.startDate,event_end:e.eventSchedule.endDate,event_tz:e.eventSchedule.timezoneName,unlist:e.eventSchedule.submitTime===E.i.AtEventTime},e.collectionId&&{collection_id:e.collectionId})},ue=async(e,t)=>{if(e.body.fields&&Object(E.s)(e.body.fields[0]))return Object.assign({},e,{body:{},error:{type:o.F.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}});if(!e.ok)return e;if(e.body.json.errors&&Array.isArray(e.body.json.errors)&&e.body.json.errors.length)return Object.assign({},e,{ok:!1,error:{type:(e=>{if(e.some(e=>e[0]===o.F.BAD_CAPTCHA_ERROR))return o.F.BAD_CAPTCHA_ERROR;for(const t of e)switch(t[0]){case o.F.USER_REQUIRED_ERROR:case o.F.VALIDATION_ERROR:return t[0];case o.F.NO_TEXT:case o.F.NO_URL:return o.F.VALIDATION_ERROR;default:continue}return o.F.VALIDATION_ERROR})(e.body.json.errors),fields:e.body.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))}});const s=e.body.json.data;let r=s.url;r||t.kind!==E.n.MEDIA||(r=await((e,t)=>new Promise(s=>{const r=new WebSocket(e),n=e=>{r.close(),clearTimeout(a),s(e)},a=setTimeout(()=>{n("")},t);r.onmessage=(e=>{const t=JSON.parse(e.data),s="success"===t.type?t.payload.redirect:"";n(s)}),r.onerror=(e=>{n("")})}))(s.websocket_url,3e4));const n=s.id||(e=>{const t=/comments\/(\w+)\/.*$/.exec(e),s=t&&t[1];return s?`${o.Sa.POST}_${s}`:""})(r),a=Object(ae.parse)(r).path,c=s.drafts_count;return Object.assign({},e,{body:{id:n,path:a,draftsCount:c}})};var le=(e,t)=>Object(i.b)(Object(d.a)(e,[u.a]),{endpoint:Object(b.a)(Object(l.a)(`${e.apiUrl}/api/submit?resubmit=true`)),method:o.Fa.POST,data:de(t)}).then(async e=>await ue(e,t));var be=s("./src/reddit/featureFlags/index.ts"),pe=s("./src/reddit/models/Poll/index.ts"),Oe=s("./src/reddit/models/User/index.ts"),fe=s("./src/reddit/selectors/postDraft.ts");const me="POST_CREATION__PENDING",je="POST_CREATION__FAILED",ye=Object(n.a)(me),ge=Object(n.a)("POST_CREATION__SUCCEEDED"),_e=Object(n.a)(je),Ee=Object(n.a)("POST_CREATION__POLL_FAILED"),he=Object(n.a)("POST_CREATION__VALIDATION_FAILED"),Ie=Object(n.a)("POST_CREATION__SUBMIT_VALIDATION_FAILED"),Te=Object(n.a)("POST_CREATION__CAPTCHA_REQUIRED"),Se=Object(n.a)("POST_CREATION__SET_SUBMIT_MODE"),ve=e=>{const t=e.uploads,s=Object(H.I)(e),r=Object(H.a)(e),n=Object(H.W)(e);if(r===o.Cb.POST)return re.a.getPendingThumbnailUploads(n,t);if(r===o.Cb.MEDIA&&s){const e=s.video;if(e&&e.thumbnail&&!t[E.m])return[Object.assign({},e.thumbnail,{uploadKey:E.m})]}},Ce=(e,t)=>async(s,r,{apiContext:n})=>{let a=r();const c=a.creations.api.post.submit.pending,i=Object(fe.g)(a);if(c||i)return;s(Se(e)),a=r();const d=Object(H.a)(a),u=be.d.rteVideoPoster(a),l=ve(a),b=d===o.Cb.MEDIA;l&&(u||b)&&(await s(Y(l)),ve(r()))||(e===E.p.Draft?await s(Object(se.r)(t.draftId)):await s(Ae(t)))},Ae=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(H.T)(n,e),c=n.creations.formData.isGov,d=n.creations.formData.isPoll,u=n.creations.formData.polls?((e,t)=>Object.assign({},e,t?{type:pe.a.govGeneric}:{},{options:e.options.map(e=>({text:e.text.trim()})).filter(e=>!!e.text)}))(n.creations.formData.polls,c):{duration:o.y,options:[]};if(!a)return;let l;if(g.n(n,Object(T.L)(a.kind)),t(ye(a)),(l=d?await function(e,t,s){const r=t.destSubreddit.id;return Object(i.b)(e,{method:o.Fa.POST,endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/polls/${r}`,type:"json",data:Object.assign({poll:s,subredditId:r},Object(ne.a)(de(t)))}).then(async e=>{const s=e.ok?Object.assign({},e,{body:{json:{data:e.body}}}):e,r=await ue(s,t);if(r.ok){const t=r.body;return{body:Object.assign({},t,{poll:e.body.poll}),ok:!0,status:e.status}}return{error:r.body,ok:!1,status:e.status}})}(r(),a,u):await le(r(),a)).ok){const e=Object(q.j)(n),s=l.body;t(ge({draftId:a.draftId,response:s})),d&&t(Object(ee.e)({poll:s.poll}));const r=(s.path||`/user/${Object(Oe.d)(e)}/posts`).replace(/^\/r\/u_/,"/user/");t(Object(te.S)(r,!1))}else if(d){const e=l.error;t(Ee(e))}else{const e=l.error;e.type===o.F.BAD_CAPTCHA_ERROR?t(Te()):e.type===o.F.VALIDATION_ERROR?t(he(e)):e.type===o.F.SUBMIT_VALIDATION_ERROR?t(Ie(e)):t(_e(e))}};var Re=s("./src/reddit/actions/postCreation/submitValidation.ts"),De=s("./src/reddit/actions/postCreation/subredditChange.ts");s.d(t,"l",function(){return"POST_CREATION_EDIT_COMPLETE"}),s.d(t,"m",function(){return"POST_CREATION_EDIT_FAILED"}),s.d(t,"x",function(){return"POST_CREATION_PENDING_EDIT"}),s.d(t,"C",function(){return"POST_CREATION_START_EDITING_POST"}),s.d(t,"D",function(){return"POST_CREATION_STOP_EDITING_POST"}),s.d(t,!1,function(){return S}),s.d(t,!1,function(){return v}),s.d(t,!1,function(){return C}),s.d(t,!1,function(){return A}),s.d(t,"Qa",function(){return R}),s.d(t,"Ca",function(){return D}),s.d(t,"db",function(){return P}),s.d(t,!1,function(){return x.a}),s.d(t,!1,function(){return x.c}),s.d(t,!1,function(){return x.b}),s.d(t,!1,function(){return x.f}),s.d(t,!1,function(){return x.e}),s.d(t,"J",function(){return x.d}),s.d(t,!1,function(){}),s.d(t,"Ua",function(){return x.g}),s.d(t,"n",function(){return T.k}),s.d(t,"v",function(){return T.o}),s.d(t,"Da",function(){return T.I}),s.d(t,!1,function(){}),s.d(t,"z",function(){return T.p}),s.d(t,!1,function(){}),s.d(t,!1,function(){}),s.d(t,"q",function(){return T.m}),s.d(t,!1,function(){}),s.d(t,!1,function(){return T.L}),s.d(t,"Na",function(){return T.P}),s.d(t,"c",function(){return T.b}),s.d(t,"b",function(){return T.a}),s.d(t,"d",function(){return T.c}),s.d(t,"e",function(){return T.d}),s.d(t,"f",function(){return T.e}),s.d(t,"g",function(){return T.f}),s.d(t,"h",function(){return T.g}),s.d(t,"i",function(){return T.h}),s.d(t,"j",function(){return T.i}),s.d(t,"k",function(){return T.j}),s.d(t,"K",function(){return T.r}),s.d(t,"L",function(){return T.s}),s.d(t,"M",function(){return T.t}),s.d(t,"N",function(){return T.u}),s.d(t,"O",function(){return T.v}),s.d(t,"P",function(){return T.w}),s.d(t,"Q",function(){return T.x}),s.d(t,"R",function(){return T.y}),s.d(t,"p",function(){return T.l}),s.d(t,"T",function(){return T.z}),s.d(t,"U",function(){return T.A}),s.d(t,!1,function(){}),s.d(t,"V",function(){return T.B}),s.d(t,"W",function(){return T.C}),s.d(t,"X",function(){return T.D}),s.d(t,"Z",function(){return T.F}),s.d(t,"Y",function(){return T.E}),s.d(t,"Aa",function(){return T.G}),s.d(t,"Ba",function(){return T.H}),s.d(t,"Va",function(){return T.Q}),s.d(t,!1,function(){return T.R}),s.d(t,"Wa",function(){return T.S}),s.d(t,"Xa",function(){return T.T}),s.d(t,"Ya",function(){return T.U}),s.d(t,"Za",function(){return T.V}),s.d(t,"bb",function(){return T.X}),s.d(t,"cb",function(){return T.Y}),s.d(t,"Ea",function(){return T.J}),s.d(t,"Ja",function(){return T.O}),s.d(t,"A",function(){return T.q}),s.d(t,!1,function(){}),s.d(t,"Ia",function(){return T.N}),s.d(t,"u",function(){return T.n}),s.d(t,!1,function(){}),s.d(t,"ab",function(){return T.W}),s.d(t,"Ha",function(){return T.M}),s.d(t,"Fa",function(){return T.K}),s.d(t,"s",function(){return"POST_CREATION__MEDIA_UPLOAD_PENDING"}),s.d(t,"t",function(){return"POST_CREATION__MEDIA_UPLOAD_SUCCEEDED"}),s.d(t,"r",function(){return"POST_CREATION__MEDIA_UPLOAD_FAILED"}),s.d(t,!1,function(){return K}),s.d(t,!1,function(){return W}),s.d(t,!1,function(){return Q}),s.d(t,"fb",function(){return Y}),s.d(t,"eb",function(){return z}),s.d(t,"Ma",function(){return X}),s.d(t,"Pa",function(){return Z}),s.d(t,"w",function(){return me}),s.d(t,"I",function(){return"POST_CREATION__SUCCEEDED"}),s.d(t,"o",function(){return je}),s.d(t,"y",function(){return"POST_CREATION__POLL_FAILED"}),s.d(t,"S",function(){return"POST_CREATION__VALIDATION_FAILED"}),s.d(t,"E",function(){return"POST_CREATION__SUBMIT_VALIDATION_FAILED"}),s.d(t,"a",function(){return"POST_CREATION__CAPTCHA_REQUIRED"}),s.d(t,"B",function(){return"POST_CREATION__SET_SUBMIT_MODE"}),s.d(t,!1,function(){return ye}),s.d(t,!1,function(){return ge}),s.d(t,!1,function(){return _e}),s.d(t,!1,function(){return Ee}),s.d(t,!1,function(){return he}),s.d(t,"Sa",function(){return Ie}),s.d(t,!1,function(){return Te}),s.d(t,!1,function(){return Se}),s.d(t,"Ra",function(){return Ce}),s.d(t,!1,function(){return Ae}),s.d(t,!1,function(){return Re.a}),s.d(t,!1,function(){return Re.b}),s.d(t,!1,function(){}),s.d(t,!1,function(){}),s.d(t,"gb",function(){return Re.c}),s.d(t,"G",function(){return De.b}),s.d(t,"H",function(){return De.c}),s.d(t,"F",function(){return De.a}),s.d(t,!1,function(){}),s.d(t,!1,function(){}),s.d(t,"Ta",function(){return De.h}),s.d(t,"Ka",function(){return De.e}),s.d(t,"Ga",function(){return De.d}),s.d(t,"Oa",function(){return De.g}),s.d(t,"La",function(){return De.f})},"./src/reddit/actions/postCreation/submitValidation.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/postCreation/index.ts"),a=s("./src/reddit/contexts/PageLayer/selectors.ts"),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),d=s("./src/reddit/constants/headers.ts");var u=s("./src/reddit/selectors/postCreations.ts");s.d(t,"a",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"c",function(){return f});const l="SUBMIT_VALIDATION_FIELD_HAS_ERROR",b="SUBMIT_VALIDATION_FIELD_IS_VALID",p=Object(r.a)(l),O=Object(r.a)(b),f=(e,t)=>async(s,r,{apiContext:l})=>{const b=r(),f=Object(a.q)(b,{pageLayer:t});if(!f)return;const m=Object(u.p)(b,{field:e});if(!m)return;const j=Object(u.e)(b),y=await((e,t,s,r,n)=>Object(o.b)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/validate_submission_field`,method:c.Fa.POST,data:{sr:t,field:s,kind:r,title:n.title||"",url:n.url||null,text:n.selftext,richtext_json:n.rtjson&&JSON.stringify({document:n.rtjson}),flair_id:n.flairId||null}}))(l(),f.name,e,j,m),g=y.error;g&&g.fields&&g.fields.length?s(p(g.fields[0])):s(O(e)),y.error&&s(Object(n.Sa)(y.error))}},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return _}),s.d(t,"c",function(){return E}),s.d(t,"a",function(){return h}),s.d(t,"h",function(){return S}),s.d(t,"e",function(){return v}),s.d(t,"d",function(){return C}),s.d(t,"g",function(){return A}),s.d(t,"f",function(){return R});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/addQueryParams/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/filterQueryParams/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/actions/modal.ts"),d=s("./src/reddit/actions/pages/postCreation.ts"),u=s("./src/reddit/contexts/PageLayer/selectors.ts"),l=s("./src/reddit/featureFlags/index.ts"),b=s("./src/reddit/helpers/name/index.ts"),p=s("./src/reddit/models/PostCreationForm/index.ts"),O=s("./src/reddit/routes/postCreation/index.ts"),f=s("./src/reddit/routes/postCreation/constants.ts"),m=s("./src/reddit/selectors/platform.ts"),j=s("./src/reddit/selectors/postCreations.ts"),y=s("./src/reddit/selectors/subreddit.ts"),g=s("./src/reddit/actions/postCreation/general.ts");const _="POST_CREATION__SUBREDDIT_CHANGE_PENDING",E="POST_CREATION__SUBREDDIT_WILL_CHANGE",h="POST_CREATION__SUBREDDIT_CHANGE_CANCELED",I=Object(o.a)(_),T=Object(o.a)(E),S=Object(o.a)(h),v=(e,t)=>async(s,r,{apiContext:n})=>{let c=r();const o=e.name,l=e.isProfile,O=Object(m.f)(c),f=O&&!l&&Object(b.a)(O.name,o),g=c.creations.api.subreddit.change.pending;if(f||g)return;const _=Object(u.t)(t);if(l||!o||!Object(j.v)(c))return void s(C(e,_));s(I(e)),await s(Object(d.d)({subredditName:o}));const E=e.allowedPostTypes||Object(y.s)(r(),{subredditName:o});if(!E)return void s(C(e,_));let h;c=r();const T=Object(j.Aa)(c),S=Object(j.v)(c);if(T===a.Cb.MEDIA&&S){var v=Object(j.I)(c);const e=v.mediaType,t=v.video;if("image"!==e||E.images){if("video"===e&&!E.videos){const e=t&&t.duration||0;E.images?e>a.Da&&(h=p.o.VideoWillBeRemovedTooLongForGif):h=p.o.VideoWillBeRemovedMediaNotAllowed}}else h=p.o.ImageWillBeRemoved}s(h?Object(i.i)(h):C(Object.assign({},e,{allowedPostTypes:E}),_))},C=(e,t,s=!0)=>async(a,c)=>{const o=e.name,i=e.isProfile,d=c().platform.currentPage,u=d.queryParams,b=i?O.b:O.c;let p="";if(p=o?b(o):Object(O.d)(d.routeMatch.match.path)&&t!==u.draft?f.a:f.c,p=Object(n.a)(p,Object.assign({},u,{draft:t||u.draft})),!t&&d.url.toLowerCase()===p.toLowerCase())return;a(T(e)),l.d.drafts(c())&&s&&a(Object(g.Q)(!0)),a(Object(r.c)(p))},A=e=>async(t,s)=>{const a=s().platform.currentPage,c=a.queryParams,o=Object(n.a)(a.url,Object.assign({},c,{collection:e}));t(Object(r.c)(o))},R=()=>async(e,t)=>{const s=t().platform.currentPage,n=Object(c.a)(s.url,["collection"]);e(Object(r.c)(n))}},"./src/reddit/actions/postDraft.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/formatApiError/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/postCreation/general.ts"),o=s("./src/reddit/actions/postCreation/subredditChange.ts"),i=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/contexts/PageLayer/selectors.ts"),u=s("./src/app/models/StructuredStylesImageUpload.ts"),l=s("./src/lib/makeApiRequest/index.ts"),b=s("./src/lib/omitHeaders/index.ts");var p=s("./src/reddit/constants/headers.ts"),O=s("./src/reddit/helpers/name/index.ts"),f=s("./src/reddit/models/PostDraft/index.ts"),m=s("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),j=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),y=s("./src/reddit/models/Subreddit/index.ts");const g=e=>{let t=e.drafts.reduce((e,t)=>{const s=(e=>{let t;return t="link"===e.kind?{kind:f.b.Link,body:e.body||void 0}:"markdown"===e.kind?{kind:f.b.Markdown,body:e.body||void 0}:{kind:f.b.RichText,body:e.body||void 0},Object.assign({subredditId:e.subreddit||void 0,contentCategory:e.content_category||void 0,created:e.created,flair:e.flair,id:e.id,isNSFW:!!e.nsfw,isOriginalContent:!!e.original_content,isSpoiler:!!e.spoiler,modified:e.modified||void 0,sendReplies:!!e.send_replies,isPublicLink:!!e.is_public_link,title:e.title||""},t)})(t);return e.postDraftIds.push(s.id),e.postDrafts[s.id]=s,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce((e,t)=>{if(t.subreddit_type===y.b.User){const s=Object(m.a)(t,Object(O.f)(t.display_name_prefixed));e.profiles[s.id]=s}else{const s=Object(j.a)(t);e.subreddits[s.id]=s}return e},t)};var _=s("./src/reddit/endpoints/post/draft/helpers.ts"),E=s("./src/reddit/models/PostCreationForm/index.ts"),h=s("./src/reddit/helpers/trackers/postComposer.ts"),I=s("./src/reddit/models/Toast/index.ts"),T=s("./src/reddit/models/User/index.ts"),S=s("./src/reddit/selectors/postCreations.ts"),v=s("./src/reddit/selectors/postDraft.ts"),C=s("./src/reddit/selectors/profile.ts"),A=s("./src/reddit/selectors/subreddit.ts"),R=s("./src/reddit/selectors/user.ts");s.d(t,"f",function(){return D}),s.d(t,"e",function(){return P}),s.d(t,"d",function(){return x}),s.d(t,"p",function(){return L}),s.d(t,"j",function(){return U}),s.d(t,"l",function(){return M}),s.d(t,"i",function(){return F}),s.d(t,"m",function(){return G}),s.d(t,"k",function(){return B}),s.d(t,"h",function(){return $}),s.d(t,"n",function(){return V}),s.d(t,"s",function(){return J}),s.d(t,"r",function(){return z}),s.d(t,"g",function(){return X}),s.d(t,"q",function(){return ee}),s.d(t,"c",function(){return te}),s.d(t,"a",function(){return se}),s.d(t,"b",function(){return re}),s.d(t,"o",function(){return oe});const D="POST_DRAFT__LIST_PENDING",P="POST_DRAFT__LIST_LOADED",x="POST_DRAFT__LIST_FAILED",w=Object(a.a)(D),k=Object(a.a)(P),N=Object(a.a)(x),L=()=>async(e,t,{apiContext:s})=>{const n=t();if(!Object(R.j)(n)||Object(v.b)(n))return;e(w());const a=await(e=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:`${e.apiUrl}/api/v1/drafts.json`,method:r.Fa.GET}))(s());a.ok?e(k(g(a.body))):e(N(a.error))},U="POST_DRAFT__SAVE_DRAFT_PENDING",M="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",F="POST_DRAFT__SAVE_DRAFT_FAILED",G="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",B="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",$="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",V="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",H=Object(a.a)(U),q=Object(a.a)(M),K=Object(a.a)(F),W=Object(a.a)(G),Q=Object(a.a)(B),Y=Object(a.a)($),J=Object(a.a)(V),z=e=>async(t,s,{apiContext:a})=>{const c=s(),d=Object(v.g)(c),u=Object(S.R)(c);if(d||u)return;const O=Object(v.h)(c,e);if(!O)return;t(H(O)),h.e(c,O);const f=await((e,t,s)=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:`${e.apiUrl}/api/v1/draft`,method:s?r.Fa.PUT:r.Fa.POST,data:Object(_.a)(t)}).then(e=>e.body.fields&&Object(E.s)(e.body.fields[0])?Object.assign({},e,{body:{},error:{type:r.F.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}):e))(a(),O,e);if(f.ok){var m=Object(_.c)(f.body);const s=m.id,r=m.draftsCount;t(q({draftId:s,draftsCount:r})),e||t(Object(o.d)(O.destSubreddit,s,!1))}else{const e=f.error;e.type===r.F.BAD_CAPTCHA_ERROR?t(Y()):e.type===r.F.VALIDATION_ERROR?t(W(e)):e.type===r.F.SUBMIT_VALIDATION_ERROR?t(Q(e)):t(K(e));const s=Object(R.I)(c);t(Object(i.e)({duration:i.a,kind:I.b.Error,text:Object(n.a)(s,e)}))}},X="POST_DRAFT__LOAD_DRAFT",Z=Object(a.a)(X),ee=e=>async(t,s,{apiContext:r})=>{t(Z(e));let n=E.e;const a=s();if(e.subredditId){const t=Object(A.B)(a,{subredditId:e.subredditId}),s=Object(C.k)(a,{profileId:e.subredditId}),r=Object(R.j)(a);t?n={isProfile:!1,name:t.name}:s&&r&&(n={isProfile:!0,name:Object(T.d)(r)})}await t(Object(o.d)(n,e.id,!1));const c=Object(v.h)(s(),e.id);c&&h.h(s(),c)},te="POST_DELETE_DRAFT_SUCCEEDED",se="POST_DELETE_DRAFT_FAILED",re="POST_DELETE_DRAFT_PENDING",ne=Object(a.a)(te),ae=Object(a.a)(se),ce=Object(a.a)(re),oe=(e,t)=>async(s,a,{apiContext:o})=>{const p=a();if(Object(v.a)(p,e))return;const O=Object(v.d)(p,{draftId:e});O&&h.f(p,O),s(ce({draftId:e}));const f=await(async(e,t)=>Object(l.b)(Object(b.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/draft?draft_id=${t}`,method:r.Fa.DELETE}))(o(),e);if(f.ok){const r=Object(_.c)(f.body).draftsCount;s(ne({draftId:e,draftsCount:r}));const n=Object(d.t)(t);e===n&&s(Object(c.N)(!0,t))}else{const t=f.error,r=Object(R.I)(a());s(ae({draftId:e,apiError:t})),s(Object(i.e)({duration:i.a,kind:I.b.Error,text:Object(n.a)(r,t)}))}}},"./src/reddit/actions/postFlair.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return p}),s.d(t,"a",function(){return j}),s.d(t,"f",function(){return E}),s.d(t,"b",function(){return S}),s.d(t,"e",function(){return R}),s.d(t,"d",function(){return D}),s.d(t,"l",function(){return k}),s.d(t,"k",function(){return N}),s.d(t,"j",function(){return L}),s.d(t,"g",function(){return U}),s.d(t,"i",function(){return M}),s.d(t,"h",function(){return F});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/post.ts"),c=s("./src/reddit/actions/postFlairStyleTemplate.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/endpoints/flair/index.ts"),d=s("./src/reddit/models/Flair/index.ts"),u=s("./src/reddit/models/Toast/index.ts"),l=s("./src/reddit/selectors/subreddit.ts"),b=s("./src/reddit/selectors/user.ts");const p="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",O=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),f=Object(n.a)(p),m=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),j="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",y=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),g=Object(n.a)(j),_=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),E="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",h=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),I=Object(n.a)(E),T=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),S="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",v=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),C=Object(n.a)(S),A=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),R="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",D="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",P=Object(n.a)(R),x=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),w=Object(n.a)(D),k=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(l.B)(a,{subredditId:e}).name;if(s(O()),(await Object(i.i)(n(),c,t)).ok){s(f({subredditId:e,isEnabled:t}))}else s(m())},N=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(l.B)(a,{subredditId:e}).name;if(s(y()),(await Object(i.h)(n(),t,d.c.LinkFlair,c)).ok){s(g({subredditId:e,canAssignOwn:t}))}else s(_())},L=(e,t,s,n)=>async(a,p,{apiContext:O})=>{const f=p(),m=Object(l.B)(f,{subredditId:t}).name,j=Object(b.I)(f);a(h());const y=await Object(i.d)(O(),e,m,d.c.LinkFlair);if(y.ok){const e=y.body;a(I({subredditId:t,template:e}));const i=Object(o.d)(Object(r.a)(j,"structuredStyles.forms.flair.toast.flairSaved"),u.b.SuccessMod);a(Object(o.e)(i)),e.id&&s&&n&&a(Object(c.g)(t,e.id,s,n))}else{a(T());const s=Object(o.d)(Object(r.a)(j,"structuredStyles.forms.flair.toast.flairNotSaved"),u.b.Error,Object(r.a)(j,"structuredStyles.forms.flair.toast.retryButtonText"),L(e,t));a(Object(o.e)(s))}},U=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),d=Object(l.B)(c,{subredditId:t}).name,p=Object(b.I)(c);if(s(v()),(await Object(i.a)(a(),e,d)).ok){s(C({subredditId:t,templateId:e}));const n=Object(o.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairDeleted"),u.b.SuccessMod);s(Object(o.e)(n))}else{s(A());const n=Object(o.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairNotDeleted"),u.b.Error,Object(r.a)(p,"structuredStyles.forms.flair.toast.retryButtonText"),U(e,t));s(Object(o.e)(n))}},M=(e,t,s)=>async(n,a,{apiContext:c})=>{const p=a(),O=Object(l.B)(p,{subredditId:s}).name,f=Object(b.I)(p);if(n(P({subredditId:s,templateIds:t})),(await Object(i.c)(c(),O,d.c.LinkFlair,t)).ok){n(x());const e=Object(o.d)(Object(r.a)(f,"structuredStyles.forms.flair.toast.flairReorderSuccess"),u.b.SuccessMod);n(Object(o.e)(e))}else{n(w({subredditId:s,templateIds:e}));const a=Object(o.d)(Object(r.a)(f,"structuredStyles.forms.flair.toast.flairReorderFailure"),u.b.Error,Object(r.a)(f,"structuredStyles.forms.flair.toast.retryButtonText"),M(e,t,s));n(Object(o.e)(a))}},F=({post:e,previewFlair:t,selectedTemplateId:s})=>async(r,n,{apiContext:c})=>{const o=e.flair.filter(e=>!Object(d.j)(e.type));if(t&&o.unshift(t),r(Object(a.y)({[e.id]:{flair:o}})),t){const r=Object(d.i)(t);Object(i.f)(c(),e.id,s,r)}else Object(i.f)(c(),e.id,"","")}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/isEqual.js"),n=s.n(r),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/apiRequestState.ts"),o=s("./src/reddit/actions/imageUploads.ts"),i=s("./src/reddit/actions/structuredStyles.ts"),d=s("./src/reddit/helpers/getGenericUploadError.ts"),u=s("./src/reddit/helpers/media/index.ts"),l=s("./src/lib/constants/index.ts"),b=s("./src/lib/makeApiRequest/index.ts"),p=s("./src/lib/omitHeaders/index.ts"),O=s("./src/reddit/constants/headers.ts");var f=s("./src/reddit/helpers/trackers/blade.ts"),m=s("./src/reddit/selectors/subreddit.ts"),j=s("./src/telemetry/index.ts"),y=s("./src/reddit/models/Image/index.tsx");s.d(t,"b",function(){return g}),s.d(t,"d",function(){return _}),s.d(t,"e",function(){return E}),s.d(t,"c",function(){return h}),s.d(t,"g",function(){return T}),s.d(t,"a",function(){return S}),s.d(t,"f",function(){return C});const g="POSTFLAIR_STYLETEMPLATE_DRAFT_UPDATED",_=Object(a.a)(g),E=({subredditId:e,flairId:t,imageKey:s,imageData:r})=>async(n,a,c)=>{const i=a(),d=Object(m.B)(i,{subredditId:e});if(!d)return;n(Object(o.k)(r));const f=await(async(e,t,s,r,n,a)=>Object(b.b)(Object(p.a)(e,[O.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_style_asset_upload_s3/${s}`,method:l.Fa.POST,data:{filepath:r,imagetype:n,mimetype:a}}))(c.apiContext(),d.name,t,r.file.name,s,await Object(u.f)(r.file));try{const e=await Object(o.g)(a(),f,r,y.a.FlairTemplates);e&&n(Object(o.j)(e))}catch(j){if(j instanceof Error)throw j;n(Object(o.i)(j))}},h="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",I=Object(a.a)(h),T=(e,t,s,r)=>async(a,u,g)=>{a(Object(c.h)(r));const _=g.apiContext,E=u(),h=Object(m.B)(E,{subredditId:e});if(!h)return;const T=E.structuredStyles.flairTemplate.models[t];if(T&&n()(T,s))return;let S=null,v=null;try{(S=await Object(o.f)(E,y.a.FlairTemplates))&&(v=Object(o.m)(S)(a,u,g))}catch(D){const e=Object(d.a)("webSocket");return void a(Object(c.f)(r,e))}const C=await(async(e,t,s,r)=>Object(b.b)(Object(p.a)(e,[O.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_styles/${s}`,method:l.Fa.PUT,data:r}))(_(),h.name,t,s),A=T?"edit_post_flair_template":"save_post_flair_template",R=Object(f.f)(E,A);if(C.ok){if(v)try{await v}catch(D){}a(Object(c.e)(r)),a(I({flairId:t,template:s}))}else S&&S.websocket.close(),a(Object(c.f)(r,C.error));a(Object(i.t)()),Object(j.a)(Object.assign({},R,{actionInfo:Object.assign({},R.actionInfo,{success:C.ok})}))},S="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",v=Object(a.a)(S),C=(e,t,s)=>async(r,n,{apiContext:a})=>{const o=n();r(Object(c.h)(s));const d=Object(m.B)(o,{subredditId:e});if(!d)return;const u=await(async(e,t,s)=>Object(b.b)(Object(p.a)(e,[O.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_styles/${s}`,method:l.Fa.DELETE}))(a(),d.name,t),y=Object(f.f)(o,"delete_flair_template");u.ok?(r(v({flairId:t})),r(Object(c.e)(s))):r(Object(c.f)(s,u.error)),Object(j.a)(Object.assign({},y,{actionInfo:Object.assign({},y.actionInfo,{success:u.ok})})),r(Object(i.t)())}},"./src/reddit/actions/postList.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=(s("./src/reddit/actions/embedAndImage.ts"),s("./src/reddit/actions/video.ts"),s("./src/reddit/helpers/trackers/postList.ts"));s("./src/reddit/constants/postLayout.ts"),s("./src/reddit/selectors/platform.ts"),s("./src/reddit/selectors/posts.ts");s("./src/reddit/selectors/video.ts");s.d(t,"a",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"c",function(){return d});const a="POSTLIST__MARKED_END",c="POSTLIST__UNMARKED_END",o=Object(r.a)(a),i=Object(r.a)(c),d=(e,t)=>async(s,r)=>{const a=r();e in a.listings.postOrder.fetchedTokens?e in a.listings.postOrder.ids?s(i({listingKey:e})):n.j(a,e):s(o({listingKey:e,listingName:t}))}},"./src/reddit/actions/product.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/governance/index.ts"),a=s("./src/reddit/endpoints/governance/badges.ts"),c=s("./src/reddit/endpoints/governance/requester.ts");s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"g",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"h",function(){return O}),s.d(t,"i",function(){return E}),s.d(t,"j",function(){return h});const o="PRODUCT__BADGE_PURCHASE_OPENED",i="PRODUCT__BADGE_PURCHASE_SUCCESS",d="PRODUCT__BADGE_PURCHASE_FAILURE",u="PRODUCT__BADGE_PURCHASE_PENDING",l="PRODUCT__FETCH_SUCCESS",b="PRODUCT__FETCH_FAILURE",p="PRODUCT__FETCH_PENDING",O=Object(r.a)(o),f=Object(r.a)(i),m=Object(r.a)(d),j=Object(r.a)(u),y=Object(r.a)(l),g=Object(r.a)(b),_=Object(r.a)(p),E=({productId:e})=>async(t,s,{apiContext:r})=>{const o=s(),i=o.products.models[e],d=o.user.account,u=!!o.products.api.purchase.pending[e];if(i&&i.price&&!u){t(j({productId:e}));const s=await function(e,t){return Object(c.a)(e,{method:"post",endpoint:"https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/orders",data:t})}(r(),{price:i.price,products:{[e]:"1"},subredditId:i.subredditId});let o;if(s.ok&&d&&(o=await Object(a.c)(r(),i.subredditId,d.id)),s.ok){if(o&&o.ok){var l=o.body;const e=l.badges,r=l.userOwnedBadges;t(f({product:i,badges:e,userOwnedBadges:r,wallet:s.body.wallet}))}}else t(m({productId:e,error:s.error})),Object(n.b)(t,s.error)}},h=({subredditId:e})=>async(t,s,{apiContext:r})=>{t(_({subredditId:e}));const n=await function(e,t){return Object(c.a)(e,{method:"get",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/products/${t}?type=badge`})}(r(),e);n.ok?t(y({subredditId:e,products:n.body})):t(g({subredditId:e,error:n.error}))}},"./src/reddit/actions/profile.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");var i=s("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),d=s("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),u=s("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var l=s("./src/reddit/models/User/index.ts"),b=s("./src/reddit/selectors/profile.ts"),p=s("./src/reddit/selectors/subscriptions.ts"),O=s("./src/reddit/selectors/user.ts");s.d(t,"d",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"a",function(){return y}),s.d(t,"e",function(){return g}),s.d(t,"f",function(){return _}),s.d(t,"g",function(){return A}),s.d(t,"i",function(){return R}),s.d(t,"h",function(){return D});const f="PROFILE__PROFILE_INFO_LOADED",m="PROFILE__MODERATED_SUBREDDITS_PENDING",j="PROFILE__MODERATED_SUBREDDITS_LOADED",y="PROFILE__MODERATED_SUBREDDITS_FAILED",g="PROFILE__RECEIVED_MODERATED_SUBREDDITS_MODELS",_="PROFILE__RECEIVED_MODERATED_SUBREDDITS_SUBSCRIPTIONS",E=Object(r.a)(f),h=Object(r.a)("PROFILE__PROFILE_INFO_FAILED"),I=Object(r.a)(m),T=Object(r.a)(j),S=Object(r.a)(y),v=Object(r.a)(g),C=Object(r.a)(_),A=()=>async(e,t,{apiContext:s})=>{const r=Object(O.j)(t());r&&r.profileId&&await e(R(Object(l.d)(r)))},R=e=>async(t,s,{apiContext:r})=>{const l=s();if(!(!Object(b.g)(l,{profileName:e})||!Object(b.e)(l,{profileName:e})))return;const p=await((e,t)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/user/${t}/about.json`,method:n.Fa.GET,data:{raw_json:1}}))(r(),e);p.ok?t(E(function(e){const t=e.data;return Object.assign({about:Object(d.a)(t),banner:t.subreddit&&t.subreddit.banner_img&&{height:t.subreddit.banner_size[1],url:t.subreddit.banner_img,width:t.subreddit.banner_size[0]},user:Object(i.a)(t)},t.subreddit?{profile:Object(u.a)(t.subreddit,t.name)}:null)}(p.body))):t(h(p.body))},D=e=>async(t,s,{apiContext:r})=>{const i={profileName:e};if(Object(b.a)(s(),i))return;if(Object(b.h)(s(),i))return;t(I(i));const d=await((e,t)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/user/${t}/moderated_subreddits.json`,method:n.Fa.GET,data:{raw_json:1}}))(r(),e);if(d.ok){const r=function(e){return e?e.map(e=>({communityIcon:e.community_icon,displayText:e.sr_display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.icon_img?e.icon_img:"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18,isQuarantined:!!e.quarantine,name:"user"===e.subreddit_type?e.sr.slice(n.Pb.length):e.sr,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})):[]}(d.body.data);t(T({profileName:e,data:r}));const a={},c={};if(r.forEach(e=>{("user"===e.type?c:a)[e.id]=e}),t(v({subreddits:a,profiles:c})),!Object(p.d)(s())){const e=(e=>{const t=e.filter(e=>e.user_is_subscriber);return{subredditOrder:t.filter(e=>"user"!==e.subreddit_type).map(e=>e.name),profileOrder:t.filter(e=>"user"===e.subreddit_type).map(e=>e.name)}})(d.body.data||[]);t(C(e))}}else t(S(d.body))}},"./src/reddit/actions/profileConversations.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/difference.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),o=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/reddit/actions/pages/profileShared.ts"),u=s("./src/reddit/constants/parameters.ts"),l=s("./src/reddit/constants/things.ts"),b=s("./src/config.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/reddit/models/RichTextJson/addRTJParam.ts");var f=s("./src/reddit/helpers/makeOverviewListingKey/index.ts");s.d(t,"f",function(){return m}),s.d(t,"e",function(){return j}),s.d(t,"d",function(){return y}),s.d(t,"c",function(){return g}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"h",function(){return A}),s.d(t,"g",function(){return R});const m="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_PENDING",j="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_LOADED",y="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_FAILED",g="PROFILE__EXTRACOMMENTS_PENDING",_="PROFILE__EXTRACOMMENTS_LOADED",E="PROFILE__EXTRACOMMENTS_FAILED",h=Object(i.a)(m),I=Object(i.a)(j),T=Object(i.a)(y),S=Object(i.a)(_),v=Object(i.a)(g),C=Object(i.a)(E),A=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var i=a.routeMatch.match;const l=i.queryParams,m=i.params;var j=Object(d.a)(r,l);const y=j.sort,g=j.t,_=m.profileName,E=_.toLowerCase(),S=Object(f.a)(E,o.Pa,y,l),v=r.listings.postOrder.loadMore[S];if(!v)return;const C=r.listings.postOrder.api.pending[S],A=r.listings.postOrder.fetchedTokens,R=!(!A[S]||!A[S][v.token]);if(C||R)return;e(h({key:S,fetchedToken:v.token}));const D=await((e,t,s)=>Object(p.b)(e,{data:s,endpoint:Object(O.a)(`${b.a.gatewayUrl}/desktopapi/v1/user/${t}/conversations`),method:o.Fa.GET}))(s(),_,Object.assign({after:v.token,dist:v.dist,sort:y,t:g},c()(l,u.j)));if(D.ok){const t=r.listings.postOrder.ids[S],s=Object.assign({},D.body,{postIds:n()(D.body.postIds,t)});e(I(Object.assign({fetchedToken:v.token,key:S,meta:r.meta,profileName:_},s)))}else e(T({error:D.error,fetchedToken:v.token,key:S,account:D.body.data?D.body.data.account:null}))},R=(e,t,s)=>async(r,n,{apiContext:a})=>{if(n().profileOverviewPage.conversations.extraComments.api.pending[s])return;r(v({extraCommentsId:s}));let c=t;t.startsWith(l.b)&&(c=t.slice(l.b.length));const i=s.split("-")[1],d=await((e,t,s,r)=>Object(p.b)(e,{endpoint:`${b.a.gatewayUrl}/desktopapi/v1/user/${t}/morecomments/${s}`,method:o.Fa.GET,type:"json",data:{after:r,limit:14}}))(a(),e,c,i);d.ok?r(S(Object.assign({profileName:e,extraCommentsId:s},d.body))):r(C(d.body))}},"./src/reddit/actions/profileOverviewChrono.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"d",function(){return _});var r=s("./node_modules/lodash/difference.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/helpers/makeOverviewListingKey/index.ts"),d=s("./src/reddit/selectors/profileOverviewChronoItems.ts"),u=s("./src/lib/constants/index.ts"),l=s("./src/reddit/constants/parameters.ts"),b=s("./src/reddit/actions/pages/profileShared.ts"),p=s("./src/reddit/endpoints/page/profileOverviewPage.ts");const O="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_PENDING",f="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_LOADED",m="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_FAILED",j=Object(o.a)(O),y=Object(o.a)(f),g=Object(o.a)(m),_=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var o=a.routeMatch.match;const O=o.queryParams,f=o.params;var m=Object(b.a)(r,O);const _=m.sort,E=m.t,h=f.profileName,I=Object(i.a)(h,u.Oa,_,O),T=Object(d.d)(r,{listingKey:I});if(!T)return;const S=Object(d.b)(r,{listingKey:I}),v=Object(d.c)(r,{listingKey:I}),C=v&&v[T.token];if(S||C)return;e(j({key:I,fetchedToken:T.token}));const A=await Object(p.a)(s(),h,Object.assign({after:T.token,dist:T.dist,sort:_,t:E},c()(O,l.j)));if(A.ok){const t=Object(d.f)(r,{listingKey:I}),s=Object.assign({},A.body,{overviewIds:n()(A.body.overviewIds,t)});e(y(Object.assign({fetchedToken:T.token,key:I,meta:r.meta},s)))}else e(g({error:A.error,fetchedToken:T.token,key:I,account:A.body.data?A.body.data.account:null}))}},"./src/reddit/actions/promo.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return l});var r=s("./src/lib/cache/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/constants/promos.ts");const o="PROMO__HIDE_PROMO",i="PROMO__SHOW_PROMO",d=Object(a.a)(i),u=Object(a.a)(o),l=(e,t)=>async(s,a)=>{switch(e){case c.j.MobilePromoBanner:return s(u({promoType:e})),void Object(r.d)(c.g,!0,(t||3)*n.y);case c.j.UpsellSignUpBannerSmall:return void s(u({promoType:e}));case c.j.UpsellSignUpBannerLarge:case c.j.UpsellSignUpBannerMedium:return s(u({promoType:c.j.UpsellSignUpBannerLarge})),s(u({promoType:c.j.UpsellSignUpBannerMedium})),void Object(r.d)(c.k,!0,n.Xb)}}},"./src/reddit/actions/recommendations.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts");s("./src/config.ts"),s("./src/lib/constants/index.ts"),s("./src/lib/makeApiRequest/index.ts"),s("./src/reddit/helpers/addRedesignIdentifier/index.ts");s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});const n="RECOMMENDED_POSTS_FAILED",a="RECOMMENDED_POSTS_LOADED";Object(r.a)(a),Object(r.a)(n)},"./src/reddit/actions/redditEmbed.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"a",function(){return o}),s.d(t,"c",function(){return l});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/me/index.ts"),a=s("./src/reddit/helpers/pageActionLoginRedirect.ts");const c="REDDIT_EMBED_LOADED",o="REDDIT_EMBED_FAILED",i=Object(r.a)("REDDIT_EMBED_PENDING"),d=Object(r.a)(c),u=Object(r.a)(o),l=(e,t)=>async(e,s,{apiContext:r})=>{const c=s();e(i());const o=await Object(n.a)(r());o.ok&&o.body?!t||o.body.account?e(d(o.body)):Object(a.a)(e,c):e(u(o.error))}},"./src/reddit/actions/removalReasons.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/models/Draft.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeCommentsPageKey/index.ts"),o=s("./src/lib/makeDraftKey/index.ts"),i=s("./src/reddit/helpers/isPost.ts"),d=s("./src/reddit/helpers/routeKey/index.ts"),u=s("./src/app/strings/index.ts"),l=s("./src/reddit/actions/comment.ts"),b=s("./src/reddit/actions/modal.ts"),p=s("./src/reddit/actions/modQueue.ts"),O=s("./src/reddit/actions/post.ts"),f=s("./src/reddit/actions/toaster.ts"),m=s("./src/reddit/constants/modals.ts"),j=s("./src/lib/makeApiRequest/index.ts"),y=s("./src/lib/omitHeaders/index.ts"),g=s("./src/reddit/constants/headers.ts");const _=(e,t)=>Object(j.b)(Object(y.a)(e,[g.a]),{endpoint:`${e.apiUrl}/api/v1/modactions/removal_reasons/`,method:a.Fa.POST,type:"json",data:{item_ids:t.itemIds,reason_id:t.reasonId,mod_note:t.modNote}}),E=(e,t,s)=>Object(j.b)(Object(y.a)(e,[g.a]),{endpoint:`${e.apiUrl}/api/v1/modactions/removal_${s}_message/`,method:a.Fa.POST,type:"json",data:t});var h=s("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),I=s("./src/reddit/models/ModQueue/index.ts"),T=s("./src/reddit/models/RemovalReason/index.ts"),S=s("./src/reddit/models/Toast/index.ts"),v=s("./src/reddit/selectors/comments.ts"),C=s("./src/reddit/selectors/platform.ts");s.d(t,"k",function(){return A}),s.d(t,"l",function(){return R}),s.d(t,"j",function(){return D}),s.d(t,"r",function(){return k}),s.d(t,"b",function(){return N}),s.d(t,"c",function(){return L}),s.d(t,"a",function(){return U}),s.d(t,"n",function(){return B}),s.d(t,"h",function(){return $}),s.d(t,"i",function(){return V}),s.d(t,"g",function(){return H}),s.d(t,"p",function(){return Q}),s.d(t,"e",function(){return Y}),s.d(t,"f",function(){return J}),s.d(t,"d",function(){return z}),s.d(t,"o",function(){return te}),s.d(t,"m",function(){return se}),s.d(t,"q",function(){return ne}),s.d(t,"t",function(){return be}),s.d(t,"s",function(){return pe});const A="REMOVALREASONS__LOAD_PENDING",R="REMOVALREASONS__LOAD_SUCCESS",D="REMOVALREASONS__LOAD_FAILED",P=Object(r.a)(A),x=Object(r.a)(R),w=Object(r.a)(D),k=e=>async(t,s,{apiContext:r})=>{const n=s().subreddits.models[e].name;t(P());const c=await((e,t)=>Object(j.b)(Object(y.a)(e,[g.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/removal_reasons.json`,method:a.Fa.GET}))(r(),n);c.ok?t(x({subredditId:e,response:c.body})):t(w(c.error))},N="REMOVALREASONS__ADD_PENDING",L="REMOVALREASONS__ADD_SUCCESS",U="REMOVALREASONS__ADD_FAILED",M=Object(r.a)(N),F=Object(r.a)(L),G=Object(r.a)(U),B=(e,t)=>async(s,r,{apiContext:n})=>{const c=r(),o=c.subreddits.models[e].name,i=c.user.language;s(M());const d=await((e,t,s)=>Object(j.b)(Object(y.a)(e,[g.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/removal_reasons`,method:a.Fa.POST,data:s}))(n(),o,t);if(d.ok){const r=d.body.id,n=Object.assign({},t,{id:r});s(F({subredditId:e,reason:n})),s(Object(f.e)({kind:S.b.SuccessMod,text:Object(u.a)(i,"subredditModeration.removalReasons.toastText.removalReasonAdded")}))}else s(G(d.error))},$="REMOVALREASONS__EDIT_PENDING",V="REMOVALREASONS__EDIT_SUCCESS",H="REMOVALREASONS__EDIT_FAILED",q=Object(r.a)($),K=Object(r.a)(V),W=Object(r.a)(H),Q=(e,t)=>async(s,r,{apiContext:n})=>{const c=r(),o=c.subreddits.models[e].name,i=c.user.language;s(q());const d=await((e,t,s)=>Object(j.b)(Object(y.a)(e,[g.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/removal_reasons/${s.id}`,method:a.Fa.PUT,data:{message:s.message,title:s.title}}))(n(),o,t);d.ok?(s(K({subredditId:e,reason:t})),s(Object(f.e)({kind:S.b.SuccessMod,text:Object(u.a)(i,"subredditModeration.removalReasons.toastText.removalReasonSaved")}))):s(W(d.error))},Y="REMOVALREASONS__DELETE_PENDING",J="REMOVALREASONS__DELETE_SUCCESS",z="REMOVALREASONS__DELETE_FAILED",X=Object(r.a)(Y),Z=Object(r.a)(J),ee=Object(r.a)(z),te=(e,t)=>async(s,r,{apiContext:n})=>{const c=r(),o=c.subreddits.models[e].name,i=c.user.language;s(X());const d=await((e,t,s)=>Object(j.b)(Object(y.a)(e,[g.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/removal_reasons/${s}`,method:a.Fa.DELETE}))(n(),o,t);d.ok?(s(Z({subredditId:e,reasonId:t})),s(Object(f.e)({kind:S.b.SuccessMod,text:Object(u.a)(i,"subredditModeration.removalReasons.toastText.removalReasonDeleted")}))):s(ee(d.error))},se="REMOVALREASONS__REMOVEDITEMS_SELECTED",re=Object(r.a)(se),ne=(e,t)=>async(s,r,{apiContext:n})=>{const a=r();a.removalReasons.reasonOrder[e]&&a.removalReasons.reasonOrder[e].length>0||s(k(e)),s(re({subredditId:e,itemIds:t})),s(Object(b.i)(m.a.ADD_REMOVAL_REASON))},ae=Object(r.a)("REMOVALREASONS__SUBMIT_PENDING"),ce=Object(r.a)("REMOVALREASONS__SUBMIT_SUCCESS"),oe=Object(r.a)("REMOVALREASONS__SUBMIT_FAILED"),ie=Object(r.a)("REMOVALREASONS__MESSAGE_PENDING"),de=Object(r.a)("REMOVALREASONS__MESSAGE_PRIVATE_SUCCESS"),ue=Object(r.a)("REMOVALREASONS__MESSAGE_PUBLIC_SUCCESS"),le=Object(r.a)("REMOVALREASONS__MESSAGE_FAILED"),be=(e,t,s,r,u)=>async(b,p,{apiContext:f})=>{const m=p(),j=m.user.account&&m.user.account.displayText,y=e[0],g=Object(i.a)(y)?T.e.Post:T.e.Comment,I=g===T.e.Post?m.posts.models[y]:m.comments.models[y],S=g===T.e.Post?O.y:l.O;if(!I||!j)return;b(ae()),b(S({[y]:{modNote:u,modRemovalReason:t&&t.title,modReasonBy:j}}));const A={itemIds:e,modNote:u,reasonId:t?t.id:null},R=await _(f(),A);if(R.ok){if(b(ce()),t){b(ie());const i={itemId:e,message:s,title:t.title,type:r},u=await E(f(),Object(T.h)(i,g),g);if(u.ok)if(r===T.f.Public){if(b(ue()),u.body){const e=Object(h.a)(u.body,j),t={comment:e,parentId:y},s=Object(C.g)(m),r=m.platform.currentPage&&m.platform.currentPage.routeMatch;let i=s&&r&&Object(d.a)(r,m,m.posts.models[e.postId]);if(i||(i=Object(c.a)(e.postId,null,{sort:a.u,hasSortParam:!0})),g===T.e.Post){const s=Object(o.a)(n.a.replyToPost,y);b(Object(l.Ha)(Object.assign({},t,{headCommentId:Object(v.w)(m,{commentsPageKey:i}),commentsPageKey:i,draftKey:s})));const r=m.postStickiedComments.data[y];b(Object(l.Da)({id:e.id,postId:e.postId,commentsPageKey:i})),r&&r!==e.id&&b(Object(l.O)({[r]:{isStickied:!1}}))}else if(g===T.e.Comment){const e=Object(o.a)(n.a.replyToComment,I.id),s=Object(v.j)(m,{commentId:y,commentsPageKey:i});b(Object(l.Fa)(Object.assign({},t,{parentCommentId:y,commentsPageKey:i,draftKey:e,depth:s+1})))}}}else b(de());else b(le(u.error))}}else b(oe(R.error)),b(S({[y]:{modNote:I.modNote,modRemovalReason:I.modRemovalReason,modReasonBy:I.modReasonBy}}))},pe=(e,t,s,r,n)=>async(a,c,{apiContext:o})=>{const i=c(),d=i.user.language,l=i.user.account&&i.user.account.displayText;if(!l)return;a(ae());const b=Object(f.e)({kind:S.b.SuccessMod,text:Object(u.a)(d,"subredditModeration.removalReasons.toastText.addedRemovalReason",{number:e.length})}),O={itemIds:e,modNote:n,reasonId:t?t.id:null},m=await _(o(),O);if(m.ok){const c={ids:e,operation:I.a.RemovalReason,username:l,options:{modNote:n,removalReason:t&&t.title}};if(a(Object(p.A)(c)),t){const n={itemId:e,message:s,title:t.title,type:r},c=await E(o(),Object(T.h)(n,T.e.Bulk),T.e.Bulk);c.ok?(a(de()),a(b)):a(le(c.error))}else a(b)}else a(oe(m.error))}},"./src/reddit/actions/reportFlow.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return y}),s.d(t,"c",function(){return g}),s.d(t,"b",function(){return _}),s.d(t,"g",function(){return T}),s.d(t,"e",function(){return S}),s.d(t,"a",function(){return v}),s.d(t,"i",function(){return R}),s.d(t,"f",function(){return D}),s.d(t,"h",function(){return w});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/actions/sitewideRules.ts"),o=s("./src/reddit/actions/subreddit.ts"),i=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/actions/users.ts"),u=s("./src/reddit/constants/modals.ts"),l=s("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),b=s("./src/reddit/endpoints/post/index.tsx"),p=s("./src/reddit/helpers/isComment.ts"),O=s("./src/reddit/helpers/isPost.ts"),f=s("./src/reddit/models/Toast/index.ts"),m=s("./src/reddit/selectors/posts.ts"),j=s("./src/reddit/selectors/user.ts");const y="REPORT__PENDING",g="REPORT__LOADED",_="REPORT__FAILED",E=Object(n.a)(y),h=Object(n.a)(g),I=Object(n.a)(_),T=e=>async(t,s,{apiContext:n})=>{const a=e.id,c=s(),o=c.reportFlow.api.pending[a],d=c.reportFlow.userIsMod;if(o)return;t(E({id:a}));const u=`error-report-${a}`;(await Object(b.m)(n(),e)).ok?(t(h({id:a})),t(i.f(u)),d&&t(w())):(t(I({id:a})),t(i.e({id:u,kind:f.b.Error,text:Object(r.a)(c.user.language,"reportFlow.reportRequest.error"),buttonText:Object(r.a)(c.user.language,"reportFlow.reportRequest.retry"),buttonAction:T(e)})))},S="REPORT_FLOW__TARGET_SET",v="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",C=Object(n.a)(S),A=Object(n.a)(v),R=(e,t)=>async(s,r,{apiContext:n})=>{const i=r(),l=Object(p.a)(e);if(!Object(O.a)(e)&&!l)return;const b=l?i.comments.models[e]:i.posts.models[e];if(!b)return;if(!Object(j.C)(r()))return s(Object(a.i)(u.a.REGISTER_MODAL_ID)),void s(Object(a.l)({actionSource:"report",redirectUrl:b.permalink}));s(Object(d.s)(b.author));const f=Object(m.N)(i,{postId:l?i.comments.models[e].postId:i.posts.models[e].id});i.sitewideRules&&i.sitewideRules.length||s(Object(c.b)()),f&&s(Object(o.w)(f.name,f.type)),s(C(e)),s(A(!!t)),f&&s(x(f.name))},D="REPORT_FLOW__USER_IS_MOD_SET",P=Object(n.a)(D),x=e=>async(t,s,{apiContext:r})=>{const n=await Object(l.a)(r());t(P(n.ok&&!!n.body[e]))},w=()=>async(e,t,{apiContext:s})=>{e(C(null))}},"./src/reddit/actions/search.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return p}),s.d(t,"c",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"e",function(){return m}),s.d(t,"h",function(){return j}),s.d(t,"f",function(){return E}),s.d(t,"d",function(){return h}),s.d(t,"g",function(){return I});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeSearchKey/index.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/constants/parameters.ts"),l=s("./src/reddit/endpoints/page/search.ts"),b=s("./src/reddit/models/Toast/index.ts");const p="SEARCH__MORE_RESULTS_PENDING",O="SEARCH__MORE_RESULTS_RECEIVED",f="SEARCH__MORE_RESULTS_FAILED",m="SEARCH__UPDATE_SEARCH_QUERY",j=Object(o.a)(m),y=Object(o.a)(p),g=Object(o.a)(O),_=Object(o.a)(f),E=e=>async(t,s,{apiContext:r})=>{const o=s(),p=o.platform.currentPage.queryParams,O=o.platform.currentPage.urlParams.subredditName||o.platform.currentPage.urlParams.multiredditName,f=Object(i.c)(n()(p,u.n)),m=Object.assign({},f,{sort:f.category?c.Eb.Relevance:f.sort,t:f.category?c.Lb.DAY:f.t}),j=Object(i.b)(O,m);let h;if(e.indexOf(c.Fb.Posts)>-1){const e=o.listings.postOrder.loadMore[j];if(!e)return;const t=o.listings.postOrder.api.pending[j],s=o.listings.postOrder.fetchedTokens,r=s[j]&&s[j][e.token];if(t||r)return;h=e.token}else{if(!(e.indexOf(c.Fb.Subreddits)>-1||e.indexOf(c.Fb.Users)>-1))throw new Error("Should not attempt to fetch more results without a search type");{const e=o.listings.listingOrder.loadMore[j];if(!e)return;const t=o.listings.listingOrder.api.pending[j],s=o.listings.listingOrder.fetchedTokens,r=s[j]&&s[j][e.token];if(t||r)return;h=e.token}}const I=`error-${j}`;t(y({fetchedToken:h,key:j,type:e}));const T=await Object(l.a)(r(),O,Object.assign({},m,{after:h,type:(f.type||[]).join(",")}));T.ok?(t(g(Object.assign({key:j,fetchedToken:h,meta:o.meta,subredditOrMultiName:O,type:e},T.body))),t(d.f(I))):(t(_(Object.assign({key:j,error:T.error,fetchedToken:h,meta:o.meta,type:e},T.body))),t(d.e({id:I,kind:b.b.Error,text:Object(a.a)(o.user.language,"search.toast.moreResultsError"),buttonText:Object(a.a)(o.user.language,"search.toast.retryButton"),buttonAction:E(e)})))},h="SEARCH__TYPEAHEAD_SUCCESS",I=Object(o.a)(h)},"./src/reddit/actions/session.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts");s.d(t,"c",function(){return c}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"g",function(){return O});const c="SESSION__USER_AUTHENTICATED",o="SESSION__USER_LOGGED_OUT",i="SESSION__USER_REAUTHENTICATED",d="SESSION__USER_REFRESH_FAILED",u="SESSION__LOAT_RECEIVED",l="SESSION__LOAT_REFRESHED",b=(Object(r.a)(c),Object(r.a)(i)),p=Object(r.a)(o),O=(Object(r.a)(d),()=>async(e,t,{apiContext:s})=>{const r=t().user.session;if(r){const t=await((e,t)=>Object(a.b)(e,{data:t,endpoint:"/refreshproxy",method:n.Fa.POST},a.c))(s(),r);if(t.ok){const s=t.body;s.unsafeLoggedOut?(r.unsafeLoggedOut||e(p()),e(f(s))):e(b(s))}}}),f=(Object(r.a)(u),Object(r.a)(l))},"./src/reddit/actions/shortcuts.ts":function(e,t,s){"use strict";var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/comment.ts"),c=s("./src/reddit/actions/modal.ts"),o=s("./src/reddit/actions/post.ts"),i=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/components/Comments/helpers/hiddenComments.ts"),u=s("./src/reddit/constants/elementIds.ts"),l=s("./src/reddit/constants/modals.ts"),b=s("./src/reddit/constants/postLayout.ts"),p=s("./src/reddit/constants/shortcuts.ts"),O=s("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),f=s("./src/reddit/helpers/overlay/index.ts"),m=s("./src/reddit/helpers/routeKey/index.ts"),j=s("./src/reddit/helpers/trackers/lightbox.ts"),y=s("./src/reddit/selectors/telemetry.ts");const g=e=>()=>({source:"shortcuts",action:"submit",noun:e}),_=(e,t)=>s=>({source:"shortcuts",action:"submit",noun:e,post:y.post(s,t)}),E=(e,t)=>s=>({source:"shortcuts",action:"submit",noun:e,post:y.comment(s,t)}),h=g("show_panel"),I=g("esc_close"),T=g("c_create_post");g("q_navigation");var S=s("./src/reddit/selectors/gild.ts"),v=s("./src/reddit/selectors/goldPurchaseModals.ts"),C=s("./src/reddit/selectors/listings.ts"),A=s("./src/reddit/selectors/platform.ts");s.d(t,"a",function(){return R}),s.d(t,"b",function(){return D}),s.d(t,"c",function(){return x}),s.d(t,"l",function(){return w}),s.d(t,"k",function(){return k}),s.d(t,"p",function(){return N}),s.d(t,"j",function(){return L}),s.d(t,"o",function(){return U}),s.d(t,"t",function(){return M}),s.d(t,"f",function(){return F}),s.d(t,"s",function(){return G}),s.d(t,"h",function(){return B}),s.d(t,"g",function(){return $}),s.d(t,"e",function(){return V}),s.d(t,"m",function(){return H}),s.d(t,"q",function(){return q}),s.d(t,"i",function(){return K}),s.d(t,"n",function(){return W}),s.d(t,"d",function(){return Y}),s.d(t,"r",function(){return ee});const R="SHORTCUTS__ACTIVE_COMMENT_SET",D="SHORTCUTS__ACTIVE_POST_SET",P=Object(n.a)(R),x=Object(n.a)(D),w=e=>async(t,s,{apiContext:r})=>{t(Object(c.i)(l.a.KEYBOARD_SHORTCUTS)),e(h)},k=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.shortcuts.activePostId,o=a.listings.activeKey,i=a.listings.postOrder.ids[o];if(!c||i.indexOf(c)<0){const e=i[0];return s(x(e)),void X(e)}let d,u=c;do{if(!(d=Object(C.b)(a,{postId:u}))||!d.nextPost)return;u=d.nextPost.id}while(a.posts.models[u].hidden);a.shortcuts.namespace===p.d.Lightbox?(J(s,d.nextPost),e(t?j.b(c,"next_post",!0):(e=>_("n_next",e))(u))):(s(x(u)),X(u),e((e=>_("j_next",e))(u)))},N=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId,c=n.listings.activeKey,o=n.listings.postOrder.ids[c];if(!a||o.indexOf(a)<0)return t(x(o[0])),void X(o[0]);if(0===o.indexOf(a))return;let i,d=a;do{if(!(i=Object(C.b)(n,{postId:d}))||!i.prevPost)return;d=i.prevPost.id}while(n.posts.models[d].hidden);n.shortcuts.namespace===p.d.Lightbox?(J(t,i.prevPost),e((e=>_("p_previous",e))(d))):(t(x(d)),X(d),e((e=>_("k_previous",e))(d)))},L=e=>async(t,s,{apiContext:r})=>{const n=s(),a=z(n);if(!a)return;let c;const o=n.shortcuts.activeCommentId;if(o){const e=n.comments.collapsed[a],t=n.commentsPage.keyToCommentThreadLinkSets[a];if(e[c=o])do{if(!t[c].next)return;c=t[c].next.id}while(d.b(c));else c=t[c].next.id}else{const e=n.commentsPage.keyToHeadCommentId[a];if(!e)return;c=e}t(P(c)),X(c),e((e=>E("j_next",e))(c))},U=e=>async(t,s,{apiContext:r})=>{const n=s(),a=z(n);if(!a)return;let c;const o=n.shortcuts.activeCommentId;if(o&&o!==n.commentsPage.keyToHeadCommentId[a]){const e=n.commentsPage.keyToCommentThreadLinkSets[a];for(c=e[o].prev.id;d.b(c);)c=e[c].prev.id}else{const e=n.commentsPage.keyToHeadCommentId[a];if(!e||o===e)return;c=e}t(P(c)),X(c),e((e=>E("k_previous",e))(c))},M=e=>async(t,s,{apiContext:r})=>{const n=s();var c=n.shortcuts;const i=c.activeCommentId,d=c.activePostId,u=z(n);u&&(i&&!n.comments.collapsed[u][i]?(t(a.La(i)),e((e=>E("a_upvote",e))(i))):d&&(t(o.G(d)),e((e=>_("a_upvote",e))(d))))},F=e=>async(t,s,{apiContext:r})=>{const n=s();var c=n.shortcuts;const i=c.activeCommentId,d=c.activePostId,u=z(n);u&&(i&&!n.comments.collapsed[u][i]?(t(a.Q(i)),e((e=>E("z_downvote",e))(i))):d&&(t(o.m(d)),e((e=>_("z_downvote",e))(d))))},G=e=>async(t,s,{apiContext:r})=>{const n=s();var c=n.shortcuts;const i=c.activeCommentId,d=c.activePostId,u=z(n);u&&(i&&!n.comments.collapsed[u][i]?(t(a.Ba(i)),e((e=>E("s_save",e))(i))):d&&(t(o.A(d)),e((e=>_("s_save",e))(d))))},B=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId;a&&!n.posts.models[a].isSponsored&&(t(o.D(a,!n.posts.models[a].hidden,n.shortcuts.namespace===p.d.Lightbox,!0)),t(k(e)),e((e=>_("h_hide",e))(a)))},$=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId,c=n.user.prefs.layout;if(a&&(c===b.e.Compact||c===b.e.Classic)){const s=n.posts.models[a].crosspostRootId;(n.posts.models[a].media||s&&n.posts.models[s]&&n.posts.models[s].media)&&(t(o.n({postId:a})),e((e=>_("x_expando",e))(a)))}},V=e=>async(t,s,{apiContext:n})=>{const c=s(),o=c.shortcuts.activeCommentId,i=z(c);if(i&&o){if(c.comments.models[o])t(a.Ia({commentId:o,commentsPageKey:i,scrollToAndRemeasure:()=>null}));else if(c.continueThreads.models[o]){const e=c.continueThreads.models[o].parentId,s=c.comments.models[e].permalink;t(Object(r.b)(s))}else t(U(e)),t(a.U(i,o));e((e=>E("enter_comment_collapse",e))(o))}},H=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.listings.activeKey,c=n.listings.postOrder.ids[a],o=n.shortcuts.activePostId;!c||!o||c.indexOf(o)<0||(t(Object(f.a)(n.posts.models[o].permalink)),e((e=>_("enter_open_post",e))(o)))},q=e=>async(t,s,{apiContext:r})=>{const n=s(),c=z(n),o=n.shortcuts.activeCommentId;o&&c&&c!==n.listings.activeKey&&(t(a.Ja({commentsPageKey:c,parentCommentId:o})),e((e=>E("r_comment",e))(o)))},K=e=>async(t,s,{apiContext:n})=>{const a=s();if(!a.user.account)return;const c=Object(A.f)(a),o=c?c.url:"/";t(Object(r.b)(`${o}submit`)),e(T)},W=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId;if(a){const t=n.posts.models[a];if(t.source){const s=t.source.url,r=window.open(s,"_blank");r&&r.focus(),e((e=>_("l_go_to_link",e))(a))}}},Q=[v.d,v.q,e=>!!Object(S.d)(e)],Y=(e,t)=>async(s,n,{apiContext:o})=>{const d=n();for(const e of Q)if(e(d))return;const u=document.activeElement,l=d.shortcuts.activeCommentId,b=z(d);if(u&&"true"===u.contentEditable&&l&&b)s(a.M({parentCommentId:l,commentsPageKey:b})),X(l);else if(d.activeModalId)Z(p.b),s(Object(c.i)(d.activeModalId));else if(d.toaster[0])Z(p.b),s(Object(i.f)(d.toaster[0].id));else if(d.shortcuts.namespace===p.d.Lightbox&&d.platform.currentPage){const e=d.platform.currentPage.locationState.closeLocation;e&&(Z(p.b),s(Object(r.b)(e)))}const O=d.shortcuts.activePostId;e(t&&O?j.b(O,"close",!0):I)},J=(e,t)=>{Z(p.b),e(x(t.id)),document.body.style.overflow="",X(t.id),document.body.style.overflow="hidden",e(Object(f.a)(t.permalink));const s=document.getElementById(u.c);s&&s.scrollTo(0,0)},z=e=>{const t=e.platform.currentPage;if(!t||!t.routeMatch)return;const s=t.routeMatch,r=Object(O.a)(e,s);return Object(m.c)(s,e,r)},X=e=>{const t=document.getElementById(e);t&&t.focus()},Z=e=>{const t=document.getElementById(e),s=window.scrollX,r=window.scrollY;t&&(t.focus(),window.scrollTo(s,r))},ee=()=>{Z(p.b)}},"./src/reddit/actions/sitewideRules.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");s.d(t,"a",function(){return d}),s.d(t,"b",function(){return b});const d="SITEWIDE_RULES_LOADED",u=Object(n.a)(d),l=Object(r.f)("reportFlow.sectionHeaders.spamAndAbuse"),b=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user||!r.user.language)return;const n=await(e=>Object(c.b)(Object(o.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/sitewide_rules.json`,method:a.Fa.GET}))(s());if(n.ok){const t=n.body.sitewide_rules;let s=[];if(t&&t.length){const e={reasonTextToShow:l(r.user.language),nextStepReasons:[t[0],t[1]]};s.push(e),s=s.concat(t.slice(2))}e(u(s))}}},"./src/reddit/actions/structuredStyles.ts":function(e,t,s){"use strict";s.d(t,"h",function(){return T}),s.d(t,"j",function(){return A}),s.d(t,"s",function(){return x}),s.d(t,"i",function(){return w}),s.d(t,"r",function(){return U}),s.d(t,"e",function(){return M}),s.d(t,"p",function(){return G}),s.d(t,"c",function(){return B}),s.d(t,"n",function(){return V}),s.d(t,"g",function(){return H}),s.d(t,"b",function(){return W}),s.d(t,"m",function(){return Y}),s.d(t,"f",function(){return J}),s.d(t,"q",function(){return X}),s.d(t,"d",function(){return Z}),s.d(t,"o",function(){return te}),s.d(t,"a",function(){return se}),s.d(t,"l",function(){return re}),s.d(t,"k",function(){return ne}),s.d(t,"t",function(){return ae});var r=s("./node_modules/lodash/omit.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),o=s("./node_modules/react-router-redux/es/index.js"),i=s("./src/lib/filterQueryParams/index.ts"),d=s("./src/lib/makeActionCreator/index.ts"),u=s("./src/reddit/actions/apiRequestState.ts"),l=s("./src/reddit/actions/imageUploads.ts"),b=s("./src/reddit/actions/modal.ts"),p=s("./src/reddit/constants/modals.ts"),O=s("./src/reddit/endpoints/moderator/structuredStyles.ts"),f=s("./src/reddit/helpers/getGenericUploadError.ts"),m=s("./src/reddit/helpers/media/index.ts"),j=s("./src/reddit/models/Image/index.tsx"),y=s("./src/reddit/models/StructuredStyles/index.ts"),g=s("./src/reddit/selectors/structuredStyles.ts"),_=s("./src/reddit/selectors/subreddit.ts"),E=s("./src/reddit/selectors/user.ts"),h=s("./src/reddit/helpers/trackers/blade.ts"),I=s("./src/telemetry/index.ts");const T="STRUCTURED_STYLES__STYLES_REQUESTED_LOADED",S=Object(d.a)("STRUCTURED_STYLES__STYLES_REQUESTED_PENDING"),v=Object(d.a)(T),C=Object(d.a)("STRUCTURED_STYLES__STYLES_REQUESTED_FAILED"),A="STRUCTURED_STYLES__STYLES_UPDATED_LOADED",R=Object(d.a)(A),D={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},P=e=>{const t=Object.assign({},e);return Object.keys(e).forEach(s=>{D[s]&&!e[s]&&D[s].forEach(e=>t[e]=null)}),t},x=(e,t,s,r)=>async(n,a,c)=>{const o=c.apiContext,i=a(),d=P(t),b=i.structuredStyles.models[e];let p;for(const e in d)if(d[e]!==b[e]){p=!0;break}if(!p)return;n(Object(u.h)(r));const m=Object(h.m)(s)(i);let y=null,g=null;try{(y=await Object(l.f)(a(),j.a.StructuredStyles))&&(g=Object(l.m)(y)(n,a,c))}catch(S){const e=Object(f.a)("webSocket");return void n(Object(u.f)(r,e))}const E=Object(_.B)(i,{subredditId:e}).name,T=await O.c(o(),E,d);if(T.ok){if(g)try{await g}catch(S){}n(Object(u.e)(r)),n(R({subredditId:e,styles:d}))}else y&&y.websocket.close(),n(Object(u.f)(r,T.error));Object(I.a)(Object.assign({},m,{actionInfo:Object.assign({},m.actionInfo,{success:T.ok})}))},w="STRUCTURED_STYLES__STYLES_RESET_LOADED",k=Object(d.a)("STRUCTURED_STYLES__STYLES_RESET_PENDING"),N=Object(d.a)(w),L=Object(d.a)("STRUCTURED_STYLES__STYLES_RESET_FAILED"),U=e=>async(t,s,{apiContext:r})=>{t(k({subredditId:e}));const n=Object(_.B)(s(),{subredditId:e}).name,a=await O.d(r(),n);if(a.ok){const r=s().structuredStyles.models[e],n=r?r.mobileKeyColor:null;t(N({subredditId:e,styles:{mobileKeyColor:n}}))}else t(L(Object.assign({subredditId:e},a.error)))},M="STRUCTURED_STYLES__EDITING_STARTED",F=Object(d.a)(M),G=e=>async(t,s,r)=>{const n=s(),a=n.structuredStyles.models[e]||{};Object(E.K)(n)?t(Object(b.i)(p.a.BLADE_NIGHTMODE)):t(F({subredditId:e,styles:a})),((e,t)=>async(s,r,{apiContext:n})=>{s(S({subredditId:e}));const a=Object(_.B)(r(),{subredditId:e}).name,c=await O.a(n(),a,t);if(c.ok){let t,r,n;const a=c.body;a.data?(t=a.data.style,r=a.data.content.widgets.items,n=a.data.content.widgets.layout.sidebar.order):(t={},r={},n=[]),s(v({subredditId:e,styles:t,widgets:r,sidebar:n}))}else s(C(Object.assign({subredditId:e},c.error)))})(e,!1)(t,s,r)},B="STRUCTURED_STYLES__DRAFT_UPDATED",$=Object(d.a)(B),V=e=>async(t,s,r)=>{const n=P(e),a=s();for(const e in n)if(Object(y.h)(e))if(n[e]){if("string"!=typeof n[e]){const a=n[e],c=await Object(j.e)(a);K(e,c)(t,s,r),n[e]=""}}else{const s=Object(g.g)(a,{name:e});s&&t(Object(l.h)(s))}t($(n))},H="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",q=Object(d.a)(H),K=(e,t)=>async(s,r,n)=>{const a=r(),c=a.structuredStyles.isEditing,o=Object(_.B)(a,{subredditId:c}).name;s(q({imageKey:e,uploadId:t.id})),s(Object(l.k)(t));const i=await O.b(n.apiContext(),o,t.file.name,e,await Object(m.f)(t.file));try{const n=await Object(l.g)(r(),i,t,j.a.StructuredStyles);if(n){const t=n.url;s(Object(l.j)(n)),s($({[e]:t}))}}catch(d){if(d instanceof Error)throw d;s(Object(l.i)(d))}},W="STRUCTURED_STYLES__DRAFT_REPLACED",Q=Object(d.a)(W),Y=(e,t,s)=>async(r,a,o)=>{const i=a(),d=i.structuredStyles.models[e]||{},u=i.structuredStyles.draft,l=Object(h.l)(t)(i);if(s){const t=c()(d,s),a=n()(u,s),o=Object.assign({},a,t);r(Q({subredditId:e,styles:o}))}else{r(Q({subredditId:e,styles:d}))}Object(I.a)(l)},J="STRUCTURED_STYLES__EDITING_STOPPED",z=Object(d.a)(J),X=()=>async(e,t,s)=>{const r=t();e(z());const n=r.platform.currentPage.url;n&&e(Object(o.c)(Object(i.a)(n,["styling"])))},Z="STRUCTURED_STYLES__EDITING_FLAIR_STARTED",ee=Object(d.a)(Z),te=e=>async(t,s,r)=>{const n=s().structuredStyles.flairTemplate.models[e]||{};t(ee({flairId:e,template:n}))},se="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",re=Object(d.a)(se),ne="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",ae=Object(d.a)(ne)},"./src/reddit/actions/subreddit.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),i=s("./src/reddit/constants/originalContent.ts"),d=s("./src/reddit/constants/parameters.ts"),u=s("./src/reddit/constants/postLayout.ts"),l=s("./src/reddit/contexts/PageLayer/index.tsx"),b=s("./src/reddit/endpoints/governance/posts.ts"),p=s("./src/reddit/endpoints/modQueue/index.ts"),O=s("./src/lib/makeApiRequest/index.ts"),f=s("./src/lib/omitHeaders/index.ts"),m=s("./src/reddit/constants/headers.ts"),j=s("./src/reddit/endpoints/page/subredditPage.ts"),y=s("./src/lib/makeGqlRequest/index.ts");var g=(e,t)=>Object(O.b)(Object(f.a)(e,[m.a]),{endpoint:`${e.apiUrl}/provider/subreddit/connect_subreddit`,method:a.Fa.POST,data:{campaign_installation_id:t.campaignInstallationId,provider:t.provider,provider_id:t.providerId,subreddit:t.subredditName}});var _=(e,t)=>Object(O.b)(Object(f.a)(e,[m.a]),{endpoint:`${e.apiUrl}/provider/subreddit/create_subreddit`,method:a.Fa.POST,data:(e=>({campaign_installation_id:e.campaignInstallationId,description:e.description,name:e.name,provider:e.provider,provider_id:e.providerId}))(t)}),E=s("./node_modules/lodash/camelCase.js"),h=s.n(E),I=s("./node_modules/lodash/mapKeys.js"),T=s.n(I);const S=({rules:e,site_rules:t})=>({rules:e.map(e=>Object.assign({},T()(e,(e,t)=>h()(t)),{kind:"link"===e.kind?"post":e.kind})),oldSiteRules:t});var v=s("./src/reddit/helpers/filterListingResponse/index.ts"),C=s("./src/reddit/models/Subreddit/index.ts");const A={[C.a.Image]:"images",[C.a.Link]:"links",[C.a.Spoiler]:"spoilers",[C.a.Text]:"text",[C.a.Video]:"videos"};var R=e=>{const t=(e=>{return Object.assign({},{images:!1,links:!1,spoilers:!1,text:!1,videos:!1},e.reduce((e,t)=>(e[A[t]]=!0,e),{}))})(e.allowedPostTypes);return{[e.id]:{accountsActive:e.activeCount,allOriginalContent:!1,allowedPostTypes:t,emojisEnabled:!0,originalContentTagEnabled:!0,publicDescription:e.publicDescription.markdown,showMedia:!0,subscribers:e.subscribersCount,userIsSubscriber:e.isSubscribed,usingNewModmail:!0}}},D=s("./src/reddit/models/OcSubreddits/index.ts"),P=s("./src/reddit/selectors/listings.ts"),x=s("./src/reddit/selectors/profile.ts"),w=s("./src/reddit/selectors/subreddit.ts");s.d(t,"p",function(){return k}),s.d(t,"o",function(){return N}),s.d(t,"n",function(){return L}),s.d(t,"j",function(){return U}),s.d(t,"y",function(){return B}),s.d(t,"t",function(){return $}),s.d(t,"w",function(){return H}),s.d(t,"A",function(){return q}),s.d(t,"m",function(){return K}),s.d(t,"l",function(){return W}),s.d(t,"k",function(){return Q}),s.d(t,"z",function(){return X}),s.d(t,"r",function(){return Z}),s.d(t,"s",function(){return ee}),s.d(t,"q",function(){return te}),s.d(t,"x",function(){return ae}),s.d(t,"e",function(){return ce}),s.d(t,"f",function(){return oe}),s.d(t,"d",function(){return ie}),s.d(t,"u",function(){return be}),s.d(t,"h",function(){return pe}),s.d(t,"i",function(){return Oe}),s.d(t,"g",function(){return fe}),s.d(t,"v",function(){return ge}),s.d(t,"b",function(){return _e}),s.d(t,"c",function(){return Ee}),s.d(t,"a",function(){return he}),s.d(t,"B",function(){return ve});const k="SUBREDDIT__MORE_POSTS_PENDING",N="SUBREDDIT__MORE_POSTS_LOADED",L="SUBREDDIT__MORE_POSTS_FAILED",U="SUBREDDIT__META_FILTER_TOGGLED",M=Object(c.a)(k),F=Object(c.a)(N),G=Object(c.a)(L),B=Object(c.a)(U),$="SUBREDDIT__RULES_LOADED",V=Object(c.a)($),H=(e,t)=>async(s,r,{apiContext:n})=>{const c=t===C.b.User?Object(x.i)(r(),e):Object(w.w)(r(),e),o=t===C.b.User?await((e,t)=>Object(O.b)(Object(f.a)(e,[m.a]),{endpoint:`${e.apiUrl}/user/${t}/about/rules.json`,method:a.Fa.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=S(e.body)),e)))(n(),e):await((e,t)=>Object(O.b)(Object(f.a)(e,[m.a]),{endpoint:`${e.apiUrl}/r/${t}/about/rules.json`,method:a.Fa.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=S(e.body)),e)))(n(),e);if(o.ok){const e=o.body;s(V({rules:e,subredditId:c}))}},q=e=>async(t,s,{apiContext:r})=>{var c=e.sort;const i=void 0===c?a.U.HOT:c,p=e.subredditName,O=s(),f=O.platform.currentPage?O.platform.currentPage.queryParams:{},m=Object(o.a)(p,i,f),y=O.listings.postOrder.loadMore[m];if(!y)return;const g=O.listings.postOrder.api.pending[m],_=O.listings.postOrder.fetchedTokens,E=!(!_[m]||!_[m][y.token]);if(g||E)return;t(M({key:m,fetchedToken:y.token}));const h=Object.assign({after:y.token,dist:y.dist,layout:u.c[Object(l.K)(O,{})],sort:i},n()(f,[...d.j,d.f])),I=await Object(j.a)(r(),p,h),T=Object.assign({},I.body,Object(v.a)(O,m,I.body));if(I.ok){let e;const n=T.postIds.filter(e=>!!T.posts[e].isMeta),a=Object(w.w)(s(),p);if(n.length){const t=await Object(b.a)(r(),a,n);t.ok&&(e=t.body)}t(F(Object.assign({fetchedToken:y.token,key:m,meta:O.meta,governance:e},T)))}else t(G(Object.assign({error:I.error,fetchedToken:y.token,key:m},T)))},K="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",W="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",Q="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",Y=Object(c.a)(K),J=Object(c.a)(W),z=Object(c.a)(Q),X=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user.account||r.subreddits.moderated.api.fetched)return;e(Y());const n=await Object(p.b)(s(),a.Ja.Modqueue,{moderated:!0,moderated_limit:50});n.ok?e(J(n.body)):e(z({error:n.error}))},Z="POST_CREATION__OC_SUBREDDITS_REQUESTED",ee="POST_CREATION__OC_SUBREDDITS_SUCCEEDED",te="POST_CREATION__OC_SUBREDDITS_FAILED",se=Object(c.a)(Z),re=Object(c.a)(ee),ne=Object(c.a)(te),ae=e=>async(t,s,{apiContext:r})=>{const n=s(),c=Object(o.a)(i.d,"",{category:e}),d=Object(P.j)(n,{listingKey:c}),u=d?d.token:void 0;if(d){const e=Object(P.h)(n,{listingKey:c}),t=Object(P.i)(n,{listingKey:c,token:d.token});if(e||t)return}t(se({key:c,fetchedToken:u}));const l=await((e,t)=>Object(O.b)(Object(f.a)(e,[m.a]),{data:t,endpoint:`${e.apiUrl}/api/oc_category_subreddits.json`,method:a.Fa.GET}))(r(),{after:u,category:e});if(l.ok){var b=Object(D.c)(l.body.data.children.map(({data:e})=>e));const e=b.subreddits,s=b.subredditsAboutInfo,r=Object.keys(e);t(re({key:c,fetchedToken:u,subreddits:e,subredditsAboutInfo:s,token:r[r.length-1]}))}else t(ne({key:c,error:l.error}))},ce="SUBREDDIT__CONNECT_TO_PARTNER_PENDING",oe="SUBREDDIT__CONNECT_TO_PARTNER_SUCCEEDED",ie="SUBREDDIT__CONNECT_TO_PARTNER_FAILED",de=Object(c.a)(ce),ue=Object(c.a)(oe),le=Object(c.a)(ie),be=e=>async(t,s,{apiContext:r})=>{const n=s(),a=e.subredditName;if(Object(w.j)(n))return;t(de({subredditName:a}));const c=await g(r(),e);c.ok?t(ue({subredditName:a})):t(le({subredditName:a,error:c.error}))},pe="SUBREDDIT__CREATE_PENDING",Oe="SUBREDDIT__CREATE_SUCCEEDED",fe="SUBREDDIT__CREATE_FAILED",me=Object(c.a)(pe),je=Object(c.a)(Oe),ye=Object(c.a)(fe),ge=e=>async(t,s,{apiContext:r})=>{const n=s(),a=e.name;if(Object(w.k)(n))return;t(me({subredditName:a}));const c=await _(r(),e);c.ok?t(je({subredditName:a})):t(ye({subredditName:a,error:c.error}))},_e="SUBREDDIT__ABOUT_PENDING",Ee="SUBREDDIT__ABOUT_SUCCEEDED",he="SUBREDDIT__ABOUT_FAILED",Ie=Object(c.a)(_e),Te=Object(c.a)(Ee),Se=Object(c.a)(he),ve=e=>async(t,s,{gqlContext:r})=>{const n=s();if(Object(w.r)(n,{subredditName:e})||n.subreddits.api.about.error[e.toLowerCase()]||n.subreddits.api.about.pending[e.toLowerCase()])return;t(Ie({subredditName:e}));const a=await((e,t)=>Object(y.a)(e,{id:"e5d665dba28c",variables:{subredditName:t}}))(r(),e);if(a.ok){const s=R(a.body.data.subreddit);t(Te({subredditName:e,data:s}))}else t(Se({subredditName:e,error:a.error}))}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts"),i=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const d=e=>(e.ok&&(e.body.subreddits=e.body.subreddits.map(e=>{var t=e.numSubscribers,s=i(e,["numSubscribers"]);return Object.assign({subscribers:t},s)})),e);var u=s("./src/reddit/helpers/name/index.ts"),l=s("./src/reddit/selectors/subredditAutocomplete.ts");s.d(t,"c",function(){return b}),s.d(t,"b",function(){return p}),s.d(t,"a",function(){return O}),s.d(t,"d",function(){return y});const b="SUBREDDIT_AUTOCOMPLETE__PENDING",p="SUBREDDIT_AUTOCOMPLETE__LOADED",O="SUBREDDIT_AUTOCOMPLETE__FAILED",f=Object(r.a)(b),m=Object(r.a)(p),j=Object(r.a)(O),y=(e,t=!1)=>async(s,r,{apiContext:i})=>{const b=Object(u.f)(e);if(!b)return;const p=r(),O=p.subredditAutocomplete;if(O.api.pending[b]||O.models[b])return;if(Object(l.c)(p,{substring:b}))return;s(f({key:b}));const y=await((e,t)=>Object(a.b)(Object(c.a)(e,[o.a]),{data:t,endpoint:`${e.apiUrl}/api/subreddit_autocomplete.json`,method:n.Fa.GET}).then(d))(i(),{query:b,include_over_18:!1,include_profiles:t});y.ok?s(m(Object.assign({key:b},y.body))):s(j({key:b,error:y.error}))}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/subscription.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts"),d=s("./src/reddit/selectors/subreddit.ts");s.d(t,"c",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"d",function(){return f});const u="SUBREDDIT_CROSSPOSTABLE__PENDING",l="SUBREDDIT_CROSSPOSTABLE__LOADED",b="SUBREDDIT_CROSSPOSTABLE__FAILED",p=(Object(r.a)(u),Object(r.a)(l)),O=Object(r.a)(b),f=()=>async(e,t,{apiContext:s})=>{await e(n.h());var r=t().subreddits.crosspostable;const u=r.api,l=r.ids;if(u.pending||Object.keys(l).length)return;const b=await((e,t)=>Object(c.b)(Object(o.a)(e,[i.a]),{data:t,endpoint:`${e.apiUrl}/api/crosspostable_subreddits.json`,method:a.Fa.GET}))(s(),{sr_detail:!1});if(b.ok){const s=t(),r=b.body&&b.body.length?b.body.map(e=>Object(d.w)(s,e)).filter(e=>!!e).reduce((e,t)=>(e[t]=!0,e),{}):{};e(p({subredditIds:r}))}else e(O({error:b.error}))}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/config.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/reddit/models/Post/index.ts");var i=s("./src/reddit/models/Duplicates/index.ts"),d=s("./src/reddit/models/Subreddit/index.ts"),u=s("./src/reddit/selectors/profile.ts"),l=s("./src/reddit/selectors/subreddit.ts");s.d(t,"a",function(){return b}),s.d(t,"b",function(){return O});const b="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",p=(Object(r.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(r.a)(b)),O=(e,t)=>async(s,r,{apiContext:b})=>{const O=Object(l.B)(r(),{subredditId:e})||Object(u.k)(r(),{profileId:e});if(!O)return;const f={crossposts_only:!0,sort:"new",sr:Object(d.c)(O)?n.Pb+O.name:O.name},m=await((e,t,s)=>Object(c.b)(e,{data:s,endpoint:`${a.a.gatewayUrl}/desktopapi/v1/duplicates/${Object(o.g)(t)}`,method:n.Fa.GET}))(b(),t,f);if(m.ok){const r=m.body;s(p({distinguishKey:Object(i.a)(t,f),postIds:r.postIds,posts:r.posts,profiles:r.profiles,subreddits:r.subreddits,subredditId:e}))}}},"./src/reddit/actions/subredditModeration.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/get.js"),n=s.n(r),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/app/strings/index.ts"),o=s("./src/reddit/actions/apiRequestState.ts"),i=s("./src/reddit/actions/modal.ts"),d=s("./src/reddit/actions/subreddit.ts"),u=s("./src/reddit/actions/toaster.ts"),l=s("./src/reddit/constants/modals.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/lib/omitHeaders/index.ts"),f=s("./src/reddit/constants/headers.ts");const m=(e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/contributors`,method:b.Fa.GET,data:s}),j=(e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/banned`,method:b.Fa.GET,data:s}),y=(e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/moderators`,method:b.Fa.GET,data:Object.assign({},s,{count:10})}),g=(e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/moderators_invited`,method:b.Fa.GET,data:Object.assign({},s,{count:50})}),_=(e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/muted`,method:b.Fa.GET,data:s});var E=s("./src/reddit/helpers/normalizeUsername/index.tsx"),h=s("./src/reddit/models/ModeratingSubreddits/index.ts"),I=s("./src/reddit/models/SubredditModeration/index.ts"),T=s("./src/reddit/models/Toast/index.ts"),S=s("./src/reddit/models/User/index.ts"),v=s("./src/reddit/selectors/activeModalId.ts"),C=s("./src/reddit/selectors/subreddit.ts"),A=s("./src/reddit/selectors/user.ts");s.d(t,"J",function(){return R}),s.d(t,"H",function(){return D}),s.d(t,"G",function(){return P}),s.d(t,"Ia",function(){return N}),s.d(t,"M",function(){return L}),s.d(t,"L",function(){return U}),s.d(t,"K",function(){return M}),s.d(t,"Ja",function(){return $}),s.d(t,"I",function(){return V}),s.d(t,"N",function(){return H}),s.d(t,"Oa",function(){return W}),s.d(t,"Ha",function(){return Q}),s.d(t,"e",function(){return Y}),s.d(t,"d",function(){return J}),s.d(t,"c",function(){return z}),s.d(t,"V",function(){return te}),s.d(t,"h",function(){return se}),s.d(t,"g",function(){return re}),s.d(t,"f",function(){return ne}),s.d(t,"W",function(){return ie}),s.d(t,"b",function(){return de}),s.d(t,"i",function(){return ue}),s.d(t,"U",function(){return pe}),s.d(t,"Ma",function(){return Oe}),s.d(t,"m",function(){return fe}),s.d(t,"l",function(){return me}),s.d(t,"k",function(){return je}),s.d(t,"Z",function(){return Ee}),s.d(t,"p",function(){return he}),s.d(t,"o",function(){return Ie}),s.d(t,"n",function(){return Te}),s.d(t,"Aa",function(){return Ae}),s.d(t,"j",function(){return Re}),s.d(t,"q",function(){return De}),s.d(t,"Y",function(){return we}),s.d(t,"Na",function(){return ke}),s.d(t,"C",function(){return Ne}),s.d(t,"B",function(){return Le}),s.d(t,"A",function(){return Ue}),s.d(t,"t",function(){return Be}),s.d(t,"s",function(){return $e}),s.d(t,"r",function(){return Ve}),s.d(t,"Fa",function(){return We}),s.d(t,"Da",function(){return Qe}),s.d(t,"x",function(){return Ye}),s.d(t,"w",function(){return Je}),s.d(t,"v",function(){return ze}),s.d(t,"Ea",function(){return tt}),s.d(t,"a",function(){return st}),s.d(t,"T",function(){return ct}),s.d(t,"Q",function(){return ot}),s.d(t,"R",function(){return lt}),s.d(t,"La",function(){return pt}),s.d(t,"u",function(){return Ot}),s.d(t,"Ca",function(){return yt}),s.d(t,"F",function(){return gt}),s.d(t,"E",function(){return _t}),s.d(t,"D",function(){return Et}),s.d(t,"Ga",function(){return St}),s.d(t,"y",function(){return vt}),s.d(t,"O",function(){return At}),s.d(t,"S",function(){return Dt}),s.d(t,"z",function(){return Pt}),s.d(t,"Ba",function(){return wt}),s.d(t,"P",function(){return kt}),s.d(t,"Ka",function(){return Mt}),s.d(t,"X",function(){return Ft});const R="SUBREDDIT__MUTEDUSERS_PENDING",D="SUBREDDIT__MUTEDUSERS_LOADED",P="SUBREDDIT__MUTEDUSERS_FAILED",x=Object(a.a)(R),w=Object(a.a)(D),k=Object(a.a)(P),N=(e,t={})=>async(s,r,{apiContext:n})=>{const a=r(),c=t.after||"",o=Object(I.c)(e,c),i=a.muted.fetchedTokens[o];if(a.muted.api.pending[o]||i)return;s(x({subredditId:e,fetchedToken:c}));const d=a.subreddits.models[e].name,u=await _(n(),d,t);u.ok?s(w(Object.assign({},u.body,{fetchedToken:c}))):s(k({subredditId:e,fetchedToken:c}))},L="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",U="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",M="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",F=Object(a.a)(L),G=Object(a.a)(U),B=Object(a.a)(M),$=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(F());const o=await _(n(),a,c);o.ok?s(G(o.body)):s(B(o.error))},V="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",H="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",q=Object(a.a)(V),K=Object(a.a)(H),W=(e,t)=>async(s,r,{apiContext:a})=>{const o=r(),i=o.subreddits.models[e].url,d=await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/unfriend`,method:b.Fa.POST,data:{api_type:"json",id:s,type:"muted"}}))(a(),i,t);if(d.ok)s(K({subredditId:e,userId:t}));else{const e=n()(d,"body.json.errors[0][1]",Object(c.a)(o.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Q=(e,t,s)=>async(r,a,{apiContext:o})=>{const i=a(),d=i.subreddits.models[e].url,l=i.subreddits.models[e].name;t=Object(E.a)(t);const m=await((e,t,s,r)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.Fa.POST,data:{api_type:"json",name:s,note:r,type:"muted"}}))(o(),d,t,s);if(m.ok){const e={username:t};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(c.a)(i.user.language,"subredditModeration.mutedUsers.successAdd")}));const s=await _(o(),l,e);s.ok&&r(q(s.body))}else{const e=n()(m,"body.json.errors[0][1]",Object(c.a)(i.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Y="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",J="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",z="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",X=Object(a.a)(Y),Z=Object(a.a)(J),ee=Object(a.a)(z),te=(e,t={})=>async(s,r,{apiContext:n})=>{const a=r(),c=t.after||"",o=Object(I.c)(e,c),i=a.approvedSubmitters.fetchedTokens[o];if(a.approvedSubmitters.api.pending[o]||i)return;s(X({subredditId:e,fetchedToken:c}));const d=a.subreddits.models[e].name,u=await m(n(),d,t);u.ok?s(Z(Object.assign({},u.body,{fetchedToken:c}))):s(ee({subredditId:e,fetchedToken:c}))},se="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",re="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",ne="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",ae=Object(a.a)(se),ce=Object(a.a)(re),oe=Object(a.a)(ne),ie=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(ae());const o=await m(n(),a,c);o.ok?s(ce(o.body)):s(oe(o.error))},de="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",ue="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",le=Object(a.a)(de),be=Object(a.a)(ue),pe=(e,t)=>async(s,r,{apiContext:a})=>{const o=r(),i=o.subreddits.models[e].url,d=o.subreddits.models[e].name;t=Object(E.a)(t);const l=await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.Fa.POST,data:{api_type:"json",name:s,type:"contributor"}}))(a(),i,t);if(l.ok){const e={username:t};s(Object(u.e)({kind:T.b.SuccessMod,text:Object(c.a)(o.user.language,"subredditModeration.approvedSubmitters.successAdd",{username:t})}));const r=await m(a(),d,e);r.ok&&s(le(r.body))}else{const e=n()(l,"body.json.errors[0][1]",Object(c.a)(o.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Oe=(e,t)=>async(s,r,{apiContext:a})=>{const o=r(),i=o.subreddits.models[e].url,d=await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/unfriend`,method:b.Fa.POST,data:{api_type:"json",id:s,type:"contributor"}}))(a(),i,t);if(d.ok)s(be({subredditId:e,userId:t}));else{const e=n()(d,"body.json.errors[0][1]",Object(c.a)(o.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},fe="SUBREDDIT__BANNEDUSERS_PENDING",me="SUBREDDIT__BANNEDUSERS_LOADED",je="SUBREDDIT__BANNEDUSERS_FAILED",ye=Object(a.a)(fe),ge=Object(a.a)(me),_e=Object(a.a)(je),Ee=(e,t={})=>async(s,r,{apiContext:n})=>{const a=r(),c=t.after||"",o=Object(I.c)(e,c),i=a.banned.fetchedTokens[o];if(a.banned.api.pending[o]||i)return;s(ye({subredditId:e,fetchedToken:c}));const d=a.subreddits.models[e].name,u=await j(n(),d,t);u.ok?s(ge(Object.assign({},u.body,{fetchedToken:c}))):s(_e({subredditId:e,fetchedToken:c}))},he="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",Ie="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",Te="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",Se=Object(a.a)(he),ve=Object(a.a)(Ie),Ce=Object(a.a)(Te),Ae=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(Se());const o=await j(n(),a,c);o.ok?s(ve(o.body)):s(Ce(o.error))},Re="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",De="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",Pe=Object(a.a)(Re),xe=Object(a.a)(De),we=(e,t,s)=>async(r,a,{apiContext:i})=>{const d=a(),l=d.subreddits.models[e].url,m=d.subreddits.models[e].name;t.username=Object(E.a)(t.username),r(Object(o.h)(s));const y=await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.Fa.POST,data:{api_type:"json",ban_reason:s.reason,ban_message:s.banMessage,duration:s.duration,name:s.username,note:s.modNote,ban_context:s.contextId,type:"banned"}}))(i(),l,t);if(y.ok){r(Object(o.e)(s));const e={username:t.username};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(c.a)(d.user.language,"subredditModeration.bannedUsers.successAdd")}));const n=await j(i(),m,e);n.ok&&r(Pe(n.body))}else{r(Object(o.f)(s,y.error));const e=n()(y,"body.json.errors[0][1]",Object(c.a)(d.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},ke=(e,t)=>async(s,r,{apiContext:a})=>{const o=r(),i=o.subreddits.models[e].url,d=await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/unfriend`,method:b.Fa.POST,data:{api_type:"json",id:s,type:"banned"}}))(a(),i,t);if(d.ok)s(xe({subredditId:e,userId:t}));else{const e=n()(d,"body.json.errors[0][1]",Object(c.a)(o.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Ne="SUBREDDIT__MODERATORS_PENDING",Le="SUBREDDIT__MODERATORS_LOADED",Ue="SUBREDDIT__MODERATORS_FAILED",Me=Object(a.a)(Ne),Fe=Object(a.a)(Le),Ge=Object(a.a)(Ue),Be="SUBREDDIT__EDITABLEMODERATORS_PENDING",$e="SUBREDDIT__EDITABLEMODERATORS_LOADED",Ve="SUBREDDIT__EDITABLEMODERATORS_FAILED",He=Object(a.a)(Be),qe=Object(a.a)($e),Ke=Object(a.a)(Ve),We=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(C.B)(a,{subredditId:e}).name,o=t&&t.after?t.after:"",i=t&&t.before?t.before:"",d=Object(I.c)(e,o,i),u=a.moderators.userOrder.data[d],l=a.moderators.userOrder.api.error[d];if(a.moderators.userOrder.api.pending[d]||u&&!l)return;s(Me({subredditId:e,after:o}));const b=await y(n(),c,t);if(b.ok){const t={after:o,before:i,response:b.body,subredditId:e};s(Fe(t))}else{const t={error:b.error,subredditId:e,after:o,before:i};s(Ge(t))}},Qe=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(C.B)(a,{subredditId:e}).name,o=t&&t.afterEditable?t.afterEditable:"",i=t&&t.beforeEditable?t.beforeEditable:"",d=Object(I.c)(e,o,i),u=a.moderators.editableUserOrder.data[d],l=a.moderators.editableUserOrder.api.error[d];if(a.moderators.editableUserOrder.api.pending[d]||u&&!l)return;s(He({subredditId:e,after:o}));const m=Object.assign({},t,{after:o,before:i}),j=await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/moderators_editable`,method:b.Fa.GET,data:Object.assign({},s,{count:10})}))(n(),c,m);if(j.ok){const t={after:o,before:i,response:j.body,subredditId:e};s(qe(t))}else{const t={after:o,before:i,error:j.error,subredditId:e};s(Ke(t))}},Ye="SUBREDDIT__INVITEDMODERATORS_PENDING",Je="SUBREDDIT__INVITEDMODERATORS_LOADED",ze="SUBREDDIT__INVITEDMODERATORS_FAILED",Xe=Object(a.a)(Ye),Ze=Object(a.a)(Je),et=Object(a.a)(ze),tt=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(C.B)(n,{subredditId:e}).name;if(n.moderators.invitedModerators.api.pending)return;t(Xe());const c=await g(r(),a);if(c.ok){const e=c.body;t(Ze(e))}else t(et(c.error))},st="SUBREDDIT__ADDMODERATOR__SUCCESS",rt=Object(a.a)("SUBREDDIT__ADDMODERATOR_PENDING"),nt=Object(a.a)(st),at=Object(a.a)("SUBREDDIT__ADDMODERATOR__FAILED"),ct=(e,t,s)=>async(r,n,{apiContext:a})=>{const o=n(),i=Object(C.B)(o,{subredditId:e}),d=i.name,l=i.url;t=Object(E.a)(t),r(rt());const m=Object(h.c)(s),j=await((e,t,s,r)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.Fa.POST,data:{name:s,type:"moderator_invite",permissions:r,api_type:"json"}}))(a(),l,t,m);if(j.ok){const s=await g(a(),d,{username:t});if(j.ok){const t=s.body,n=t.moderatorIds[0];o.moderators.invitedModerators.models[e][n]?r(Object(u.e)({kind:T.b.SuccessCommunity,text:Object(c.a)(o.user.language,"subredditModeration.moderators.userAlreadyInvited")})):(r(Object(u.e)({kind:T.b.SuccessMod,text:Object(c.a)(o.user.language,"subredditModeration.moderators.successAdd")})),r(nt(t)))}}else{const e=j.body.json&&j.body.json.errors;e&&e[0]&&e[0][1]&&r(Object(u.e)({kind:T.b.Error,text:e[0][1],duration:3e3})),r(at())}},ot="SUBREDDIT__REMOVEMODERATOR__SUCCESS",it=Object(a.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),dt=Object(a.a)(ot),ut=Object(a.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),lt="SUBREDDIT__RESIGNMODERATOR__SUCCESS",bt=Object(a.a)(lt),pt=(e,t,s,r)=>async(n,a,{apiContext:c})=>{const o=a(),i=o.subreddits.models[e].name,d=Object(I.c)(e,s,r);if(n(it()),(await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/unfriend`,method:b.Fa.POST,data:{id:s,type:"moderator",r:t,api_type:"json"}}))(c(),i,t)).ok){n(dt({subredditId:e,userId:t,key:d}));const s=Object(A.j)(o);s&&s.id===t&&n(bt({subredditId:e,userId:t}))}else n(ut())},Ot="SUBREDDIT__EDITMODERATOR__SUCCESS",ft=Object(a.a)("SUBREDDIT__EDITMODERATOR_PENDING"),mt=Object(a.a)(Ot),jt=Object(a.a)("SUBREDDIT__EDITMODERATOR__FAILED"),yt=(e,t,s,r)=>async(n,a,{apiContext:c})=>{const o=a().subreddits.models[e].url;n(ft());const i=Object(h.c)(s);if((await((e,t,s,r)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/setpermissions`,method:b.Fa.POST,data:{name:s,type:"moderator",permissions:r,api_type:"json"}}))(c(),o,t,i)).ok){n(mt({permissions:s,subredditId:e,userId:r}))}else n(jt())},gt="SUBREDDIT_MODERATORS_SEARCH_PENDING",_t="SUBREDDIT_MODERATORS_SEARCH_LOADED",Et="SUBREDDIT_MODERATORS_SEARCH_FAILED",ht=Object(a.a)(gt),It=Object(a.a)(_t),Tt=Object(a.a)(Et),St=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(ht());const o=await y(n(),a,c);o.ok?s(It(o.body)):s(Tt(o.error))},vt="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",Ct=Object(a.a)(vt),At="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",Rt=Object(a.a)(At),Dt=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.user.account;if(!a)return;const c=n.subreddits.models[e],o=c.url,i=c.name;if((await((e,t)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/accept_moderator_invite`,method:b.Fa.POST,data:{api_type:"json"}}))(r(),o)).ok){t(Ct({subredditId:e})),t(Qe(e)),t(tt(e)),t(We(e));const s={username:Object(S.d)(a)},n=await y(r(),i,s);if(n.ok){const s=n.body.moderators[a.id];s&&t(Rt({[e]:s.modPermissions}))}}},Pt="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",xt=Object(a.a)(Pt),wt=e=>async(t,s,{apiContext:r})=>{const n=s().subreddits.models[e].name;(await((e,t)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/decline_mod_invite`,method:b.Fa.POST,data:{api_type:"json"}}))(r(),n)).ok&&t(xt({subredditId:e}))},kt="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",Nt=Object(a.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),Lt=Object(a.a)(kt),Ut=Object(a.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),Mt=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(C.B)(a,{subredditId:e}).name;s(Nt()),(await((e,t,s)=>Object(p.b)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/unfriend`,method:b.Fa.POST,data:{id:s,type:"moderator_invite",r:t,api_type:"json"}}))(n(),c,t)).ok?s(Lt({subredditId:e,userId:t})):s(Ut())},Ft=e=>async(t,s,{apiContext:r})=>{const n=s();if(e&&!Object(v.b)(l.a.BAN_USER)(n)&&!n.subreddits.rules[e]){const s=Object(C.B)(n,{subredditId:e});await t(Object(d.w)(s.name))}t(Object(i.i)(l.a.BAN_USER))}},"./src/reddit/actions/subredditSettings.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return p}),s.d(t,"a",function(){return f}),s.d(t,"A",function(){return j}),s.d(t,"z",function(){return y}),s.d(t,"L",function(){return g}),s.d(t,"g",function(){return I}),s.d(t,"f",function(){return S}),s.d(t,"c",function(){return C}),s.d(t,"e",function(){return R}),s.d(t,"b",function(){return P}),s.d(t,"l",function(){return w}),s.d(t,"y",function(){return N}),s.d(t,"k",function(){return L}),s.d(t,"x",function(){return M}),s.d(t,"i",function(){return F}),s.d(t,"E",function(){return B}),s.d(t,"u",function(){return $}),s.d(t,"I",function(){return V}),s.d(t,"t",function(){return H}),s.d(t,"H",function(){return q}),s.d(t,"s",function(){return K}),s.d(t,"G",function(){return W}),s.d(t,"r",function(){return Q}),s.d(t,"F",function(){return Y}),s.d(t,"p",function(){return J}),s.d(t,"K",function(){return z}),s.d(t,"o",function(){return X}),s.d(t,"J",function(){return Z}),s.d(t,"j",function(){return ee}),s.d(t,"w",function(){return te}),s.d(t,"q",function(){return se}),s.d(t,"D",function(){return re}),s.d(t,"n",function(){return ne}),s.d(t,"m",function(){return ce}),s.d(t,"B",function(){return ie}),s.d(t,"C",function(){return de}),s.d(t,"h",function(){return ue}),s.d(t,"v",function(){return be});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/endpoints/subreddit/settings.ts"),c=s("./src/reddit/actions/toaster.ts"),o=s("./src/reddit/helpers/trackers/submitValidation.ts"),i=s("./src/reddit/models/PostRequirements/index.ts"),d=s("./src/reddit/models/Toast/index.ts"),u=s("./src/reddit/models/User/index.ts"),l=s("./src/reddit/selectors/submitValidation.ts"),b=s("./src/reddit/selectors/user.ts");const p="SUBREDDIT_SETTINGS_POST_REQUIREMENTS_LOADED",O=Object(n.a)(p),f="SUBREDDIT_SETTINGS__POST_REQUIREMENTS_BY_SUBREDDIT_LOADED",m=Object(n.a)(f),j=e=>async(t,s,{apiContext:r})=>{t(x());const n=await Object(a.c)(r(),e);n&&n.ok&&t(O(n.body))},y=e=>async(t,s,{apiContext:r})=>{t(x());const n=await Object(a.c)(r(),e);n&&n.ok&&t(m({[e.toLowerCase()]:n.body}))},g=e=>async(t,s,{apiContext:r})=>{const n=s();var u=n.subredditSettings.postRequirements;const l=u.formState,b=u.initialData;if(b){t(T()),o.i(n);const s=_(l);if(null===s){const s=Object(i.a)(l),n=Object(i.c)(s,b),o=await Object(a.e)(r(),e,n);200===o.status?(t(O(s)),t(Object(c.e)({kind:d.b.SuccessCommunity,text:"Submission rules updated successfully"}))):t(D(o.body.explanation))}else t(A(s));t(v())}},_=e=>{const t=e.linkDomain,s=e.titleLength,r=e.postLength,n=e.reposts;var a=t.blacklist;const c=[];if((void 0===a?[]:a).filter(h).length&&c.push({formSection:"linkDomain",formField:"blacklist",error:"Blacklisted domains cannot include reddit hosted content."}),s.isToggled){const e=s.min,t=s.max;e&&e>300&&c.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than 300."}),e&&t&&e>t&&c.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than or equal to maximum"}),t&&(t<2||t>300)&&c.push({formSection:"titleLength",formField:"max",error:"Maximum must be between 2 and 300."})}if(r.isToggled){const e=r.min,t=r.max;e&&e>4e4&&c.push({formSection:"postLength",formField:"min",error:"Minimum must be less than 40,000."}),e&&t&&e>t&&c.push({formSection:"postLength",formField:"min",error:"Minimum must be less than maximum"}),t&&(t<2||t>4e4)&&c.push({formSection:"postLength",formField:"max",error:"Maximum must be between 2 and 40,000."})}return n.isToggled&&n.days&&n.days>90&&c.push({formSection:"reposts",formField:"days",error:"Repost limit must 90 or less"}),c.length?c:null},E=/i\.redd\.it|v.redd.it/,h=e=>E.test(e),I="POST_REQUIREMENTS_UPDATE_STARTED",T=Object(n.a)(I),S="POST_REQUIREMENTS_UPDATE_FINISHED",v=Object(n.a)(S),C="POST_REQUIREMENTS_FORM_VALIDATION_FAILED",A=Object(n.a)(C),R="POST_REQUIREMENTS_UPDATE_FAILED",D=Object(n.a)(R),P="POST_REQUIREMENTS_FETCH_STARTED",x=Object(n.a)(P),w="POST_REQUIREMENTS_BODY_REQUIREMENT",k=Object(n.a)(w),N=e=>async(t,s,{apiContext:r})=>{o.d(s(),e),t(k(e))},L="POST_REQUIREMENTS_LINK_LIST_REQUIREMENT",U=Object(n.a)(L),M=e=>async(t,s,{apiContext:r})=>{o.a(s(),e),t(U(e))},F="POST_REQUIREMENTS_TOGGLE_SECTION",G=Object(n.a)(F),B=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(l.b)(n)[e].isToggled;t(G(e)),o.f(n,e,a)},$="UPDATE_TITLE_STRINGS",V=Object(n.a)($),H="UPDATE_TITLE_REGEX",q=Object(n.a)(H),K="UPDATE_TITLE_MIN_LENGTH",W=Object(n.a)(K),Q="UPDATE_TITLE_MAX_LENGTH",Y=Object(n.a)(Q),J="UPDATE_POST_MIN_LENGTH",z=Object(n.a)(J),X="UPDATE_POST_MAX_LENGTH",Z=Object(n.a)(X),ee="UPDATE_LINK_DOMAINS",te=Object(n.a)(ee),se="UPDATE_REPOST_DAYS",re=Object(n.a)(se),ne="POST_REQUIREMENTS_POST_GUIDELINES_REQUIREMENT",ae=Object(n.a)(ne),ce="POST_REQUIREMENTS_POST_GUIDELINES_GUIDELINE",oe=Object(n.a)(ce),ie=e=>async(t,s,{apiContext:r})=>{t(ae(e))},de=e=>async(t,s,{apiContext:r})=>{t(oe(e))},ue="SUBREDDIT_SETTINGS_LOADED",le=Object(n.a)(ue),be=()=>async(e,t,{apiContext:s})=>{const n=Object(b.j)(t());n&&await e((e=>async(t,s,{apiContext:r})=>{const n=await Object(a.b)(r(),e);n&&n.ok&&t(le(n.body))})(r.Pb+Object(u.d)(n)))};Object(n.a)("SUBREDDIT_SETTINGS_UPDATE_SUCCESS")},"./src/reddit/actions/subscription.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/app/strings/index.ts"),c=s("./src/reddit/actions/header.ts"),o=s("./src/reddit/actions/modal.ts"),i=s("./src/reddit/actions/monthsToMinutes.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/constants/modals.ts"),l=s("./src/config.ts"),b=s("./src/lib/makeApiRequest/index.ts"),p=s("./src/lib/omitHeaders/index.ts"),O=s("./src/reddit/constants/headers.ts");var f=s("./src/reddit/models/MonthsToMinutes/index.ts"),m=s("./src/reddit/models/Toast/index.ts"),j=s("./src/reddit/selectors/monthsToMinutes.ts"),y=s("./src/reddit/selectors/profile.ts"),g=s("./src/reddit/selectors/subreddit.ts"),_=s("./src/reddit/selectors/subscriptions.ts"),E=s("./src/reddit/selectors/toast.ts"),h=s("./src/reddit/selectors/user.ts");s.d(t,"c",function(){return T}),s.d(t,"d",function(){return S}),s.d(t,"b",function(){return v}),s.d(t,"e",function(){return C}),s.d(t,"h",function(){return x}),s.d(t,"g",function(){return w}),s.d(t,"a",function(){return k}),s.d(t,"f",function(){return L});var I=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(i){n=!0,a=i}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const T="SUBSCRIPTION__FETCH_DATA_PENDING",S="SUBSCRIPTION__FETCH_DATA_SUCCESS",v="SUBSCRIPTION__FETCH_DATA_FAILURE",C="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",A=Object(n.a)(S),R=Object(n.a)(T),D=Object(n.a)(v),P=Object(n.a)(C),x=(Object(n.a)("SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED"),Object(n.a)("SUBSCRIPTION__ORDER_LOADED"),()=>async(e,t,{apiContext:s})=>{const n=t();if(!n.user.account||n.subscriptions.api.fetched)return;e(R());const a=await(e=>Object(b.b)(e,{endpoint:`${l.a.gatewayUrl}/desktopapi/v1/subscriptions`,method:r.Fa.GET}))(s());a.ok?e(A(a.body)):e(D({error:a.error}))}),w=(e,t,s)=>async(n,l,{apiContext:T})=>{const S=Object(h.I)(l());var v="subreddit"===e.type?[e.name,Object(g.w)(l(),e.name)]:[`${r.Pb}${e.name}`,Object(y.i)(l(),e.name)],C=I(v,2);const A=C[0],R=C[1];if(Object(h.C)(l()))n(P({identifier:{id:R,type:e.type},nameIdentifier:e,profileModels:l().profiles.models,subredditModels:l().subreddits.models,subscriptionsCount:Object(_.a)(l()),userIsSubscriber:t,widgetId:s})),(await((e,t,s)=>Object(b.b)(Object(p.a)(e,[O.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/subscribe`,data:{action:s?"sub":"unsub",sr_name:t,api_type:"json"}}))(T(),A,t)).ok||(n(P({identifier:{id:R,type:e.type},nameIdentifier:e,profileModels:l().profiles.models,subredditModels:l().subreddits.models,subscriptionsCount:Object(_.a)(l()),userIsSubscriber:!t,widgetId:s})),n(Object(d.e)(Object(d.d)(Object(a.a)(S,"profile.somethingWentWrongTryAgain"),m.b.Error))));else if(Object(j.m)(l())){if("profile"===e.type)return void n(Object(d.e)(Object(d.d)(Object(a.a)(S,"monthsToMinutes.subscribeProfileFailToast"),m.b.Error,Object(a.a)(S,"account.signup"),Object(o.i)(u.a.REGISTER_MODAL_ID))));let r=Object(_.a)(l());if(t&&r>=f.d)return void(Object(E.a)(l(),m.a.subscribeCap)||n(Object(d.e)({text:"",duration:-1,kind:m.b.Custom,customToastType:m.a.subscribeCap})));if(n(P({identifier:{id:R,type:e.type},nameIdentifier:e,profileModels:l().profiles.models,subredditModels:l().subreddits.models,subscriptionsCount:Object(_.a)(l()),userIsSubscriber:t,widgetId:s})),r=Object(_.a)(l()),n(Object(i.w)()),t&&r===f.c&&(n(Object(c.h)()),n(Object(i.x)({time:Date.now(),tooltipType:f.i.Home}))),t&&Object(j.o)(l())&&r===f.g&&n(Object(i.t)()),t&&Object(j.p)(l()))if(r!==f.g||Object(E.a)(l(),m.a.subscribeMilestone)){const t=Object(g.t)(l(),{subredditName:e.name});n(Object(d.e)({text:Object(a.a)(S,"monthsToMinutes.subscribeSuccessToast",{subredditName:t.displayText}),kind:m.b.SuccessCommunity,buttonText:Object(a.a)(S,"account.signup"),buttonAction:Object(o.i)(u.a.REGISTER_MODAL_ID)}))}else n(Object(d.e)({customToastType:m.a.subscribeMilestone,kind:m.b.Custom,text:"",duration:-1}))}else n(Object(o.i)(u.a.REGISTER_MODAL_ID))},k="SUBSCRIPTION__FAVORITE_TOGGLED",N=Object(n.a)(k),L=e=>async(t,s,{apiContext:n})=>{const a=s(),c=a.subreddits.models[e.id];let o=c&&c.name;if(!o){const t=a.profiles.models[e.id];if(!(o=t&&`u_${t.name}`))throw new Error(`actions.subscription -- No subreddit or profile found with id ${e.id}`)}const i=a.subscriptions.favoriteSubredditOrder||[],u=a.subscriptions.favoriteProfileOrder||[],l=i.indexOf(e.id),f=u.indexOf(e.id),j=-1===l&&-1===f,y=a.subreddits.models,g=a.profiles.models;t(N({makeFavorite:j,identifier:e,subredditModels:y,profileModels:g})),(await((e,t,s)=>Object(b.b)(Object(p.a)(e,[O.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/favorite`,data:{make_favorite:s?"true":"false",sr_name:t,api_type:"json"}}))(n(),o,j)).ok||(t(N({makeFavorite:!j,identifier:e,subredditModels:y,profileModels:g})),t(Object(d.e)({text:"Sorry, failed to update favorites.",kind:m.b.Error})))}},"./src/reddit/actions/tracking.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/lib/makeActionCreator/index.ts");const n="TRACKING__VIEWPORT_DATA_LOADED",a="TRACKING__VIEWPORT_DATA_UNLOADED",c=Object(r.a)(n);Object(r.a)(a)},"./src/reddit/actions/trophyCase.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./node_modules/lodash/pickBy.js"),a=s.n(n),c=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),d=s("./src/lib/redditId/index.ts"),u=s("./src/reddit/constants/headers.ts");var l=(e,t)=>Object(o.b)(Object(i.a)(e,[u.a]),{method:c.Fa.GET,endpoint:`${e.apiUrl}/user/${t}/trophies.json`}).then(e=>{const t=e.body&&e.body.data&&e.body.data.trophies;if(e.ok&&t){const s=a()(t.map(b),"id"),r=Object.keys(s);return Object.assign({},e,{body:{trophies:s,trophyIds:r}})}return e});const b=e=>({awardId:e.data.award_id,description:e.data.description||"",icon:e.data.icon_40||"",id:Object(d.b)(e.data.id,e.kind),name:e.data.name,url:e.data.url||""});s.d(t,"a",function(){return p}),s.d(t,"b",function(){return m});const p="TROPHYCASE__FETCH_SUCCESS",O=Object(r.a)(p),f=Object(r.a)("TROPHYCASE__FETCH_FAILED"),m=(e,t)=>async(s,r,{apiContext:n})=>{const a=await l(n(),e);a.ok?s(O(Object.assign({profileId:t,profileName:e},a.body))):s(f({profileId:t,error:a.error}))}},"./src/reddit/actions/upload.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return u}),s.d(t,"h",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"e",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"l",function(){return _}),s.d(t,"j",function(){return C}),s.d(t,"k",function(){return A}),s.d(t,"i",function(){return R});var r=s("./node_modules/lodash/get.js"),n=s.n(r),a=s("./node_modules/uuid/v4.js"),c=s.n(a),o=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/uploadToS3/index.ts"),d=s("./src/reddit/models/Upload/index.ts");const u="UPLOAD_PENDING",l="UPLOAD_UPLOADING",b="UPLOAD_METADATA_CHANGED",p="UPLOAD_PROGRESS",O="UPLOAD_SUCCESS",f="UPLOAD_FAILED",m="UPLOAD_CANCELED",j="UPLOAD_REMOVED",y=Object(o.a)(u),g=Object(o.a)(l),_=Object(o.a)(b),E=Object(o.a)(p),h=Object(o.a)(O),I=Object(o.a)(f),T=Object(o.a)(m),S=Object(o.a)(j),v=new Map,C=(e,t)=>{const s=v.get(e)||[];s.push(t),v.set(e,s)},A=(e,t,s,r=!1)=>async(a,o,{apiContext:u})=>{const l=t;if(o().uploads[l]&&Object(d.d)(o().uploads[l]))return;const b=c()(),p=()=>{const e=o().uploads[l];return!e||e.id!==b||e.status===d.a.CANCELED};a(y({key:l,id:b,file:e}));var O=await s(o().uploads[l]);const f=O.uploadLease,m=O.error;if(p())return;if(m||!f)return void a(I({key:l,error:m}));let j;C(b,()=>{j&&j.abort()}),a(g({key:l}));const _=await Object(i.a)(e,f,e=>(j=e,r&&e.on("progress",e=>{if(!p()&&"upload"===e.direction){const t={percent:e.percent,total:e.total,uploaded:e.loaded};a(E({key:l,progress:t}))}}),e));if(j=null,!p())if(_.ok){const e=decodeURIComponent(_.body.PostResponse.Location);a(h({key:l,url:e}))}else{const e=n()(_,"body.Error.Message.0"),t=Object.assign({type:"ERROR"},e?{fields:[{field:"0",msg:e}]}:{});a(I({key:l,error:t}))}},R=(e,t=!1)=>(s,r)=>{const n=r().uploads[e];n&&(((e,t)=>{const s=v.get(e);s&&s.forEach(s=>s(e,t)),v.delete(e)})(n.id,t),s(t?S({key:e}):T({key:e})))}},"./src/reddit/actions/userBlocks.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"h",function(){return f}),s.d(t,"b",function(){return m}),s.d(t,"c",function(){return j}),s.d(t,"a",function(){return y}),s.d(t,"g",function(){return h});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/endpoints/accounts/index.ts"),o=s("./src/reddit/models/Toast/index.ts"),i=s("./src/reddit/selectors/user.ts");const d="USER_BLOCK__PENDING",u="USER_BLOCK__LOADED",l="USER_BLOCK__FAILED",b=Object(n.a)(d),p=Object(n.a)(u),O=Object(n.a)(l),f=e=>async(t,s,{apiContext:n})=>{const i=s();if(i.blockUser.api.pending[e])return;t(b({username:e}));const d=await Object(c.a)(n(),e),u=`error-block-${e}`;if(d.ok)d.body.name&&t(p(d.body)),t(a.f(u));else{const s={type:d.error?d.error.type:"Unknown error",username:e};t(O(s)),t(a.e({id:u,kind:o.b.Error,text:Object(r.a)(i.user.language,"reportFlow.blockUser.error"),buttonText:Object(r.a)(i.user.language,"reportFlow.blockUser.retry"),buttonAction:f(e)}))}},m="USER_UNBLOCK__PENDING",j="USER_UNBLOCK__SUCCESS",y="USER_UNBLOCK__FAILED",g=Object(n.a)(m),_=Object(n.a)(j),E=Object(n.a)(y),h=e=>async(t,s,{apiContext:n})=>{const d=s(),u=Object(i.j)(d),l=u?u.id:void 0;l&&(t(g({name:e})),(await Object(c.b)(n(),l,e)).ok?t(_({name:e})):(t(a.e({kind:o.b.Error,text:Object(r.a)(d.user.language,"reportFlow.blockUser.error")})),t(E({name:e}))))}},"./src/reddit/actions/userFlair.ts":function(e,t,s){"use strict";s.d(t,"i",function(){return m}),s.d(t,"a",function(){return j}),s.d(t,"d",function(){return y}),s.d(t,"b",function(){return h}),s.d(t,"h",function(){return v}),s.d(t,"c",function(){return D}),s.d(t,"g",function(){return k}),s.d(t,"f",function(){return N}),s.d(t,"e",function(){return F}),s.d(t,"o",function(){return V}),s.d(t,"n",function(){return H}),s.d(t,"m",function(){return q}),s.d(t,"l",function(){return K}),s.d(t,"j",function(){return W}),s.d(t,"k",function(){return Q}),s.d(t,"p",function(){return Y});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./node_modules/lodash/isEmpty.js"),c=s.n(a),o=s("./src/reddit/actions/authorFlair.ts"),i=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/endpoints/flair/index.ts"),u=s("./src/reddit/models/Flair/index.ts"),l=s("./src/reddit/models/Toast/index.ts"),b=s("./src/reddit/models/User/index.ts"),p=s("./src/reddit/selectors/subreddit.ts"),O=s("./src/reddit/selectors/user.ts"),f=s("./src/reddit/selectors/userFlair.ts");const m="USER_FLAIR_DATA__MUTATED",j="AUTHOR_FLAIR_DATA__MUTATED",y="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",g=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),_=Object(n.a)(y),E=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),h="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",I=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),T=Object(n.a)(h),S=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),v="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",C=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),A=Object(n.a)(v),R=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),D="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",P=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),x=Object(n.a)(D),w=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),k="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",N="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",L=Object(n.a)(k),U=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),M=Object(n.a)(N),F="USERFLAIR_FETCH_SUCCESS",G=Object(n.a)(F),B=Object(n.a)(m),$=Object(n.a)(j),V=(e,t,s,r,n)=>async(a,c,{apiContext:o})=>{const i=c(),l=i.user.account;let O;l&&(O=Object(b.d)(l));const m=Object.assign({},Object(f.b)(i,{subredditId:n}).displaySettings,{isUserEnabled:s}),j={userName:r,subredditId:n,applied:e,displaySettings:m};a(r===O?B(j):$(j));const y=Object(p.B)(i,{subredditId:n}),g=e&&Object(u.i)(e);Object(d.e)(o(),r,y.name,t,g),Object(d.g)(o(),s,y.name)},H=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(p.B)(a,{subredditId:e}).name;if(s(g()),(await Object(d.j)(n(),c,t)).ok){s(_({subredditId:e,isEnabled:t}))}else s(E())},q=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(p.B)(a,{subredditId:e}).name;if(s(I()),(await Object(d.h)(n(),t,u.c.UserFlair,c)).ok){s(T({subredditId:e,canAssignOwn:t}))}else s(S())},K=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),o=Object(p.B)(c,{subredditId:t}).name,b=Object(O.I)(c);s(C());const f=await Object(d.d)(a(),e,o,u.c.UserFlair);if(f.ok){const e={subredditId:t,template:f.body};s(A(e));const n=Object(i.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairSaved"),l.b.SuccessMod);s(Object(i.e)(n))}else{s(R());const n=Object(i.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairNotSaved"),l.b.Error,Object(r.a)(b,"structuredStyles.forms.flair.toast.retryButtonText"),K(e,t));s(Object(i.e)(n))}},W=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),o=Object(p.B)(c,{subredditId:t}).name,u=Object(O.I)(c);if(s(P()),(await Object(d.a)(a(),e,o)).ok){s(x({subredditId:t,templateId:e}));const n=Object(i.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairDeleted"),l.b.SuccessMod);s(Object(i.e)(n))}else{s(w());const n=Object(i.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairNotDeleted"),l.b.Error,Object(r.a)(u,"structuredStyles.forms.flair.toast.retryButtonText"),W(e,t));s(Object(i.e)(n))}},Q=(e,t,s)=>async(n,a,{apiContext:c})=>{const o=a(),b=Object(p.B)(o,{subredditId:s}).name,f=Object(O.I)(o);if(n(L({subredditId:s,templateIds:t})),(await Object(d.c)(c(),b,u.c.UserFlair,t)).ok){n(U());const e=Object(i.d)(Object(r.a)(f,"structuredStyles.forms.flair.toast.flairReorderSuccess"),l.b.SuccessMod);n(Object(i.e)(e))}else{n(M({subredditId:s,templateIds:e}));const a=Object(i.d)(Object(r.a)(f,"structuredStyles.forms.flair.toast.flairReorderFailure"),l.b.Error,Object(r.a)(f,"structuredStyles.forms.flair.toast.retryButtonText"),Q(e,t,s));n(Object(i.e)(a))}},Y=(e,t)=>async(s,n,{apiContext:a})=>{const u=n(),b=u.userFlair;if(b&&b[e]&&b[e].displaySettings.isEnabled&&c()(b[e].templateIds)){const n=Object(p.B)(u,{subredditId:e}).name,c=await Object(d.b)(a(),n);if(c.ok)s(G(c.body)),s(Object(o.b)({username:t,subredditId:e}));else{const e=Object(O.I)(u),t=Object(i.d)(Object(r.a)(e,"error.type.generic"),l.b.Error);s(Object(i.e)(t))}}else s(Object(o.b)({username:t,subredditId:e}))}},"./src/reddit/actions/userWhitelist.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"g",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"a",function(){return j}),s.d(t,"h",function(){return E});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/endpoints/accounts/index.ts"),o=s("./src/reddit/models/Toast/index.ts");const i="USER_WHITELIST__PENDING",d="USER_WHITELIST__SUCCESS",u="USER_WHITELIST__FAILED",l=Object(n.a)(i),b=Object(n.a)(d),p=Object(n.a)(u),O=e=>async(t,s,{apiContext:n})=>{t(l());const i=await Object(c.d)(n(),e);if(i.ok)i.body.name&&t(b(i.body));else{t(p());const e=s();t(a.e({kind:o.b.Error,text:Object(r.a)(e.user.language,"reportFlow.blockUser.error")}))}},f="USER_UNWHITELIST__PENDING",m="USER_UNWHITELIST__SUCCESS",j="USER_UNWHITELIST__FAILED",y=Object(n.a)(f),g=Object(n.a)(m),_=Object(n.a)(j),E=e=>async(t,s,{apiContext:n})=>{const i=s();t(y({name:e})),(await Object(c.c)(n(),e)).ok?t(g({name:e})):(t(_({name:e})),t(a.e({kind:o.b.Error,text:Object(r.a)(i.user.language,"reportFlow.blockUser.error")})))}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");var i;s.d(t,"b",function(){return i}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"f",function(){return j}),function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(i||(i={}));const d="USERNAME_AVAILABLE__AVAILABLE",u="USERNAME_AVAILABLE__FAILURE",l="USERNAME_AVAILABLE__PENDING",b="USERNAME_AVAILABLE__UNAVAILABLE",p=Object(r.a)(d),O=Object(r.a)(u),f=Object(r.a)(l),m=Object(r.a)(b),j=({username:e})=>async(t,s,{apiContext:r})=>{const d=s().users.nameAvailable;if(!d[e]||d[e]===i.Error){t(f({username:e}));const s=await((e,t)=>Object(a.b)(Object(c.a)(e,[o.a]),{method:n.Fa.GET,endpoint:`${e.apiUrl}/api/username_available.json?user=${t.username}`,type:"json"}))(r(),{username:e});s.ok?s.body?t(p({username:e})):t(m({username:e})):t(O({username:e}))}}},"./src/reddit/actions/vote.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/constants/adEvents.ts"),o=s("./src/reddit/constants/modals.ts"),i=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/lib/omitHeaders/index.ts"),u=s("./src/reddit/constants/headers.ts"),l=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");var b=s("./src/reddit/helpers/isComment.ts"),p=s("./src/reddit/helpers/isPost.ts"),O=s("./src/reddit/helpers/pixels.ts"),f=s("./src/reddit/models/MonthsToMinutes/index.ts"),m=s("./src/reddit/models/Toast/index.ts"),j=s("./src/reddit/models/Vote/index.ts"),y=s("./src/reddit/selectors/comments.ts"),g=s("./src/reddit/selectors/monthsToMinutes.ts"),_=s("./src/reddit/selectors/posts.ts"),E=s("./src/reddit/selectors/toast.ts"),h=s("./src/reddit/selectors/user.ts"),I=s("./src/reddit/actions/monthsToMinutes.ts"),T=s("./src/reddit/actions/toaster.ts");s.d(t,"a",function(){return S}),s.d(t,"b",function(){return C});const S="VOTE__VOTE_CAST",v=Object(r.a)(S),C=(e,t)=>s=>async(r,S,{apiContext:C})=>{if(!Object(h.C)(S())&&!Object(g.m)(S()))return void r(Object(a.i)(o.a.REGISTER_MODAL_ID));const A=e(s,S),R=j.b(A,t),D=Object(p.a)(s)?A.postId:s;if(r(v({id:D,isInstance:!1,vote:t})),Object(g.m)(S())&&R!==j.a.notVoted&&Object(g.x)(S())===f.h&&(Object(g.o)(S())?r(Object(I.t)()):Object(g.p)(S())&&!Object(E.a)(S(),m.a.voteMilestone)&&r(Object(T.e)({customToastType:m.a.voteMilestone,kind:m.b.Custom,text:"",duration:n.K}))),(S().posts.instances[D]||[]).forEach(e=>{r(v({id:e,isInstance:!0,vote:t}))}),R)if(Object(p.a)(s)){const e=Object(_.C)(S(),{postId:s}),r=t>0?c.a.Upvote:c.a.Downvote;Object(O.a)(e.events,r)}else if(Object(b.a)(s)){const e=Object(y.n)(S(),{commentId:s});if(e){const s=Object(_.C)(S(),{postId:e.postId}),r=t>0?c.a.CommentUpvote:c.a.CommentDownvote;Object(O.a)(s.events,r)}}((e,t,s)=>Object(i.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)(`${e.apiUrl}/api/vote`),method:n.Fa.POST,data:{id:t,dir:s,api_type:"json"}}))(C(),D,R)}},"./src/reddit/actions/widgets.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/reddit/actions/apiRequestState.ts"),c=s("./src/reddit/actions/imageUploads.ts"),o=s("./src/reddit/actions/toaster.ts"),i=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/reddit/constants/headers.ts");var b=s("./src/reddit/helpers/getGenericUploadError.ts"),p=s("./src/reddit/helpers/media/index.ts"),O=s("./src/lib/assertNever.ts"),f=s("./src/reddit/selectors/subreddit.ts"),m=s("./src/reddit/models/Image/index.tsx"),j=s("./src/reddit/models/Toast/index.ts"),y=s("./src/reddit/models/Widgets/index.ts"),g=s("./src/reddit/selectors/user.ts");s.d(t,"c",function(){return _}),s.d(t,"h",function(){return h}),s.d(t,"e",function(){return I}),s.d(t,"j",function(){return S}),s.d(t,"d",function(){return v}),s.d(t,"i",function(){return A}),s.d(t,"b",function(){return R}),s.d(t,"l",function(){return P}),s.d(t,"f",function(){return x}),s.d(t,"g",function(){return w}),s.d(t,"a",function(){return k}),s.d(t,"k",function(){return L});const _="WIDGETS__WIDGET_CREATED",E=Object(r.a)(_),h=(e,t,s)=>async(r,p,O)=>{const _=O.apiContext;r(Object(a.h)(s));const h=p(),I=Object(f.B)(h,{subredditId:e}).name,T=Object(g.I)(h),S=Object(y.i)(t);let v=null;try{v=await Object(c.f)(h,m.a.Widgets)}catch(A){const e=Object(b.a)("webSocket");return void r(Object(a.f)(s,e))}const C=await(async(e,t,s)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget`,method:i.Fa.POST,type:"json",data:s}))(_(),I,S);if(C.ok){const i=C.body,d=i.id;if("calendar"===t.kind&&r(Object(o.e)({kind:j.b.SuccessMod,text:Object(n.a)(T,"structuredStyles.widgets.calendar.toastText.created")})),v)try{await Object(c.m)(v)(r,p,O)}catch(A){}r(E({subredditId:e,widget:i,widgetId:d})),r(Object(a.e)(s))}else v&&v.websocket.close(),r(Object(a.f)(s,C.error))},I="WIDGETS__WIDGET_UPDATED",T=Object(r.a)(I),S=(e,t,s)=>async(r,p,_)=>{const E=_.apiContext;r(Object(a.h)(s));const h=t.id,I=p(),S=Object(f.B)(I,{subredditId:e}).name,v=Object(g.I)(I),C=Object(y.i)(t);let A=null,R=null;try{(A=await Object(c.f)(I,m.a.Widgets))&&(R=Object(c.m)(A)(r,p,_))}catch(P){const e=Object(b.a)("webSocket");return void r(Object(a.f)(s,e))}const D=await(async(e,t,s)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget/${s.id}`,method:i.Fa.PUT,type:"json",data:s}))(E(),S,C);if(D.ok){const c=function(e,t,s){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign({},e,t);case"community-list":{const r={};for(const t of e.data)r[t.name]=t;return Object.assign({},t,{data:t.data.map(e=>{if(!("subscribers"in r[e])){const t={subredditName:e},r=Object(f.t)(s,t),n=Object(f.r)(s,t);return{name:r.name,subscribers:r?r.subscribers:void 0,iconUrl:r?r.communityIcon:void 0,isSubscribed:n?n.userIsSubscriber:void 0}}return r[e]})})}case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(O.a)(e)}}(t,D.body,I);if(r(T({subredditId:e,widgetId:h,widget:c})),R)try{await R}catch(P){}"calendar"===t.kind&&r(Object(o.e)({kind:j.b.SuccessMod,text:Object(n.a)(v,"structuredStyles.widgets.calendar.toastText.updated")})),r(Object(a.e)(s))}else A&&A.websocket.close(),r(Object(a.f)(s,D.error))},v="WIDGET_DELETED",C=Object(r.a)(v),A=(e,t,s)=>async(r,n,{apiContext:c})=>{r(Object(a.h)(s));const o=t.id,b=Object(f.B)(n(),{subredditId:e}).name,p=await(async(e,t,s)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget/${s.id}`,method:i.Fa.DELETE,type:"json"}))(c(),b,t);p.ok?(r(Object(a.e)(s)),r(C({subredditId:e,widgetId:o}))):r(Object(a.f)(s,p.error))},R="WIDGETS_SORTED",D=Object(r.a)(R),P=(e,t)=>async(s,r,{apiContext:n})=>{const a=Object(f.B)(r(),{subredditId:e}).name;(await(async(e,t,s)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget_order/sidebar`,method:i.Fa.PATCH,type:"json",data:s}))(n(),a,t)).ok&&s(D({subredditId:e,widgetIds:t}))},x=({imageData:e})=>async(t,s,r)=>{const n=s(),a=n.structuredStyles.isEditing,o=Object(f.B)(n,{subredditId:a}).name;t(Object(c.k)(e));const b=await(async(e,t,s,r)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget_image_upload_s3`,method:i.Fa.POST,data:{filepath:s,mimetype:r}}))(r.apiContext(),o,e.file.name,await Object(p.f)(e.file));try{const r=await Object(c.g)(s(),b,e,m.a.Widgets);r&&t(Object(c.j)(r))}catch(O){if(O instanceof Error)throw O;t(Object(c.i)(O))}},w=Object(r.a)("WIDGETS__STARTED_EDITING_WIDGET"),k="WIDGETS__LOADED",N=Object(r.a)(k),L=(e,t)=>async(s,r,{apiContext:n})=>{s(Object(a.h)(t));const c=Object(f.B)(r(),{subredditId:e}).name,o=await(async(e,t)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widgets`,method:i.Fa.GET,type:"json"}))(n(),c);if(o.ok){const r=o.body;s(N({subredditId:e,widgets:r})),s(Object(a.e)(t))}else s(Object(a.f)(t,o.error))}},"./src/reddit/components/Comments/helpers/hiddenComments.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"c",function(){return c});let r={};function n(e){return e in r}function a(e){r[e]=!0}function c(){r={}}},"./src/reddit/constants/elementIds.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a});const r="bladeContainer",n="header",a="overlayScrollContainer"},"./src/reddit/constants/explore.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r=3,n=3},"./src/reddit/constants/listings.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a});s("./src/app/strings/index.ts");const r=new Set(["friends","random"]);var n;!function(e){e.All="all",e.Explore="explore",e.Home="home",e.News="news",e.Original="original",e.Popular="popular"}(n||(n={}));const a={[n.Home]:"/",[n.Popular]:"/r/popular",[n.All]:"/r/all",[n.Original]:"/original",[n.News]:"/news",[n.Explore]:"/explore"}},"./src/reddit/constants/modals.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e.AD_BLOCK_UPSELL="ad_block_upsell",e.ADD_REMOVAL_REASON="add_removal_reason",e.ALPHA_CONSUMER="alpha_consumer",e.BADGE_PICKER="badge_picker",e.BADGE_PURCHASE="badge_purchase",e.BAN_USER="ban_user",e.BETA_CONSUMER="beta_consumer",e.BLADE_NIGHTMODE="blade_nightmode",e.BLADE_UNSAVED_CHANGES="blade_unsaved_changes",e.CONFIRM_CLOSE_COIN_MODAL_ID="confirm_close_coin_modal_id",e.CONFIRM_CLOSE_PREMIUM_MODAL_ID="confirm_close_premium_modal_id",e.CREATE_SUBREDDIT_CHAT="create_subreddit_chat",e.DELETE_SUBREDDIT_CHAT="delete_subreddit_chat",e.EDIT_SUBREDDIT_CHAT="edit_subreddit_chat",e.GOLD_INTRODUCTION="gold_introduction",e.GOLD_MODAL_CLICK_TEST="gold_modal_click_test",e.GOVERNANCE_OPT_OUT="governance_opt_out",e.GOVERNANCE_RELEASE_NOTES="governance_release_notes",e.KEYBOARD_SHORTCUTS="keyboard_shortcuts",e.LOGIN_MODAL_ID="account_manager_login",e.MANAGE_SUBREDDIT_CHAT="manage_subreddit_chat",e.MOD_BETA="mod_beta",e.MUTE_USER="mute_user",e.PINNED_POSTS_LIMIT_REACHED="pinned_posts_limit_reached",e.REDESIGN_MODAL="redesign_modal",e.REGISTER_MODAL_ID="account_manager_register",e.SPEZ_MODAL="spez_modal",e.SUBREDDIT_CHAT_SETTINGS="subreddit_chat_settings",e.TRANSFER_POINTS="community_points_transfer",e.USER_FLAIR_MODAL_ID="user_flair_modal"}(r||(r={}))},"./src/reddit/constants/promos.ts":function(e,t,s){"use strict";var r,n;s.d(t,"j",function(){return r}),s.d(t,"h",function(){return n}),s.d(t,"g",function(){return a}),s.d(t,"l",function(){return c}),s.d(t,"i",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"m",function(){return O}),s.d(t,"k",function(){return f}),function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(r||(r={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(n||(n={}));const a="seen_mobile_promo",c=3;var o,i,d;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(o||(o={})),function(e){e.Test1="test_1",e.Test2="test_2"}(i||(i={})),function(e){e.Test1="test_1",e.Test2="test_2"}(d||(d={}));const u="desktop_xpromo_logged_in",l="desktop_xpromo_logged_out",b="47afc8f7-ed6c-497d-8750-200e43f3bdd8",p="026bd85a-79e4-449e-b75c-207e347c5d96",O={welcome:"welcome",join:"join",vote:"vote",personalize:"personalize"};!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(o||(o={}));const f="seen_logged_out_upsell_banner"},"./src/reddit/constants/shortcuts.ts":function(e,t,s){"use strict";var r,n;s.d(t,"d",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"a",function(){return c}),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(r||(r={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(n||(n={}));const a="SHORTCUT_FOCUSABLE_DIV",c=[9,13,32]},"./src/reddit/constants/viewabilityEvents.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e[e.Viewable=1]="Viewable",e[e.VideoViewable=2]="VideoViewable",e[e.VideoFullyViewable=3]="VideoFullyViewable",e[e.Impression=4]="Impression"}(r||(r={}))},"./src/reddit/controls/FormFields/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return f}),s.d(t,"b",function(){return g}),s.d(t,"c",function(){return E}),s.d(t,"d",function(){return C}),s.d(t,"e",function(){return A});var r,n=s("./node_modules/react/index.js"),a=s.n(n),c=s("./bundled-modules/styled-components/styled-components.min.js"),o=s.n(c),i=s("./src/reddit/helpers/styles/mixins/fonts.tsx"),d=s("./src/reddit/icons/svgs/Plus/index.tsx"),u=s("./src/reddit/icons/svgs/Trash2/index.tsx"),l=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},p=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,s,n){var a=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={}),t&&a)for(var o in a)void 0===t[o]&&(t[o]=a[o]);else t||(t=a||{});if(1===c)t.children=n;else if(c>1){for(var i=Array(c),d=0;d<c;d++)i[d]=arguments[d+3];t.children=i}return{$$typeof:r,type:e,key:void 0===s?null:""+s,ref:null,props:t,_owner:null}}),O=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const f=o.a.input.withConfig({componentId:"s1302iak-0"})(["background-color: ",";border: 1px solid ",";color: ",";box-sizing: border-box;height: 48px;margin-bottom: 8px;border-radius: 4px;padding: 12px 24px 4px 12px;width: 100%;&:focus {border: solid 1px #0079D3;}&:focus + label {top: 8px;left: 12px;}&:invalid + label {top: 8px;left: 12px;}"],e=>Object(l.c)(e).body,e=>Object(l.c)(e).line,e=>Object(l.c)(e).bodyText),m=o.a.label.withConfig({componentId:"s1302iak-1"})(["","cursor: text;color: #A5A4A4;position: absolute;top: ",";left: ",";transition: 0.2s;"],i.labelsFont,e=>e.hasValue?"8px":"19px",e=>e.hasValue?"12px":"15px"),j=o.a.div.withConfig({componentId:"s1302iak-2"})(["position: relative;display: inline-block;"," {background-color: ",";color: ",";padding-bottom: 12px;border-color: ","}"],f,e=>Object(l.c)(e).body,e=>Object(l.c)(e).bodyText,e=>!1===e.isValid?"#f00":"rgb(229, 229, 229)"),y=e=>{"LABEL"===e.target.tagName&&(e.target.parentElement.firstElementChild.focus(),e.stopPropagation())},g=e=>{e.label,e.children;const t=e.inputRef,s=e.className,r=O(e,["label","children","inputRef","className"]),n=void 0!==e.value&&""!==e.value;return p(j,{className:s,hasLabel:!!e.label,onClick:y,isValid:e.isValid},void 0,a.a.createElement(f,b({innerRef:t},r)),e.label&&p(m,{hasValue:n},void 0,e.label),e.children)},_=o.a.div.withConfig({componentId:"s1302iak-3"})(["position: relative;display: inline-block;"," {background-color: ",";color: ",";padding-bottom: 0;&::placeholder {color: transparent;}&:focus {border: solid 1px ",";outline: none;&::placeholder {color: ",";}}}"],f,e=>Object(l.c)(e).body,e=>Object(l.c)(e).bodyText,e=>Object(l.c)(e).button,e=>Object(l.c)(e).metaText),E=e=>{e.label,e.children;const t=e.inputRef,s=e.className,r=e.redditStyle,n=O(e,["label","children","inputRef","className","redditStyle"]),c=void 0!==e.value&&""!==e.value;return p(_,{className:s,redditStyle:r,onClick:y},void 0,a.a.createElement(f,b({innerRef:t},n)),e.label&&p(m,{hasValue:c},void 0,e.label),e.children)},h=o()(u.b).withConfig({componentId:"s1302iak-4"})(["height: 20px;&:hover {fill: rgb(114, 113, 113);}"]),I=o.a.div.withConfig({componentId:"s1302iak-5"})(["position: absolute;cursor: pointer;top: 14px;right: 16px;display: inline-block;"]),T=o()(d.a).withConfig({componentId:"s1302iak-6"})(["height: 17px;background-color: #A5A4A4;fill: white;border-radius: 3px;position: absolute;right: 16px;&:hover {background-color: rgb(114, 113, 113);}"]),S=o()(e=>p("div",{className:e.className,onClick:e.onClick},void 0,e.text," ",p(T,{}))).withConfig({componentId:"s1302iak-7"})(["background-color: ",";border: dashed 1px #ddd;color: ",";cursor: pointer;height: 32px;padding: 16px 12px 0px 12px;position: relative;border-radius: 4px;margin-bottom: 8px;"],e=>Object(l.c)(e).body,e=>Object(l.c)(e).bodyText),v=o.a.div.withConfig({componentId:"s1302iak-8"})(["display: flex;flex-direction: column;padding: 0px 8px;"]);var C;!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE"}(C||(C={}));class A extends a.a.Component{constructor(){super(...arguments),this.state={addingNewInputs:!1},this.addValue=(()=>{const e=this.props.values.slice();this.props.buttonOnTop?e.unshift(""):e.push(""),this.props.onChange(e),this.props.onEvent&&this.props.onEvent({action:C.ADD})}),this.updateValue=((e,t)=>{const s=this.props.values.slice();s[t]=e.target.value,this.props.onChange(s)}),this.removeValue=(e=>{const t=this.props.values.slice(),s=t[e];t.splice(e,1),this.props.onChange(t),this.props.onEvent&&this.props.onEvent({action:C.REMOVE,value:s,index:e})})}componentWillReceiveProps(e){e.values.length>this.props.values.length&&this.setState({addingNewInputs:!0})}componentDidUpdate(){this.focusedInput&&this.state.addingNewInputs&&(this.focusedInput.focus(),this.setState({addingNewInputs:!1}))}setInputRef(e,t){this.state.addingNewInputs&&(!this.props.buttonOnTop||this.props.buttonOnTop&&!t)&&(this.focusedInput=e)}renderFields(){var e=this.props;const t=e.values,s=e.disabled,r=e.label,n=e.placeholder;return t.map((e,t)=>p(g,{inputRef:e=>this.setInputRef(e,t),disabled:s,type:"text",label:r,onChange:e=>this.updateValue(e,t),placeholder:n,value:e,style:{paddingRight:"36px"}},void 0,p(I,{onClick:()=>this.removeValue(t)},void 0,p(h,{}))))}render(){var e=this.props;const t=e.buttonOnTop,s=e.values,r=e.maxLength,n=e.addValueText,a=e.disabled;this.focusedInput=null;const c=!(!!r&&s.length>=r)&&!a;return p(v,{className:this.props.className},void 0,t&&c&&p(S,{onClick:this.addValue,text:n}),this.renderFields(),!t&&c&&p(S,{onClick:this.addValue,text:n}))}}},"./src/reddit/endpoints/accounts/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return u});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts");const o=async(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/block_user`,method:r.Fa.POST}),i=async(e,t,s)=>Object(n.b)(Object(a.a)(e,[c.a]),{data:{name:s,container:t,type:"enemy"},endpoint:`${e.apiUrl}/api/unfriend`,method:r.Fa.POST}),d=async(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/add_whitelisted?include_model`,method:r.Fa.POST}),u=async(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/remove_whitelisted`,method:r.Fa.POST})},"./src/reddit/endpoints/chat/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"i",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"f",function(){return m}),s.d(t,"e",function(){return j}),s.d(t,"h",function(){return y}),s.d(t,"a",function(){return _}),s.d(t,"g",function(){return h}),s.d(t,"j",function(){return I});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");const i="api/v1",d=`${i}/sendbird`;var u;!function(e){e.PUBLIC="all"}(u||(u={}));const l=10,b=10;class p extends Error{constructor(e,t){super(e),this.response=t}}const O=async(e,t,s)=>{const d={};return s&&(d.public_mode=u.PUBLIC),Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${i}/subreddit/${t}/channels`,method:n.Fa.GET,data:d})},f=async(e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${i}/subreddit/channels/create`,method:n.Fa.POST,data:JSON.stringify({room:s.room,room_type:s.roomType,description:s.description,subreddit:s.subreddit,automute_account_age_threshold:s.minimumAcctAge,automute_on_join_duration:s.newMemberAge})}),m=async(e,t,s,d)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${i}/subreddit/channels/${t}`,method:n.Fa.PUT,data:JSON.stringify({room:d.room,description:d.description,automute_account_age_threshold:d.minimumAcctAge,automute_on_join_duration:d.newMemberAge})}),j=async(e,t)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${i}/subreddit/channels/${t}`,method:n.Fa.DELETE}),y=async e=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${d}/config`,method:n.Fa.GET});var g,_;function E(e){const t={bannedWords:e.profanity_filter&&e.profanity_filter.keywords,regexes:e.profanity_filter&&e.profanity_filter.regex_filters,rateLimit:e.user_messages_per_channel,domains:e.domain_filter&&e.domain_filter.domains&&e.domain_filter.domains.join(", "),useDefaultProfanityFilter:e.profanity_filter&&e.profanity_filter.should_check_global,domainFilterOption:void 0};if(!1===e.allow_links)t.domainFilterOption=_.BLOCK_ALL_DOMAINS;else{var s=e.domain_filter;const r=(s=void 0===s?{type:void 0}:s).type;r===g.BLOCK_MODE?t.domainFilterOption=_.BLOCK_BANNED_DOMAINS:r===g.ALLOW_MODE?t.domainFilterOption=_.ALLOW_APPROVED_DOMAINS:t.domainFilterOption=_.ALLOW_ALL_DOMAINS}return t}async function h(e,t){const s=await Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${i}/chat/subreddit/${t}/settings`,method:n.Fa.GET});if(s.ok&&s.body)return E(s.body)}async function I(e,t,s){const d=await Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${i}/chat/subreddit/${t}/settings`,method:n.Fa.PUT,data:JSON.stringify(function(e){const t={};return e.rateLimit&&e.rateLimit>0&&(t.user_messages_per_channel=e.rateLimit,t.user_messages_per_channel_duration=b),void 0===e.bannedWords&&void 0===e.regexes&&void 0===e.useDefaultProfanityFilter||(t.profanity_filter={keywords:e.bannedWords,regex_filters:e.regexes,should_check_global:e.useDefaultProfanityFilter}),e.domainFilterOption===_.BLOCK_ALL_DOMAINS?(t.allow_links=!1,t.domain_filter={type:g.DISABLE}):e.domainFilterOption===_.ALLOW_ALL_DOMAINS?(t.allow_links=!0,t.domain_filter={type:g.DISABLE}):e.domainFilterOption===_.ALLOW_APPROVED_DOMAINS&&e.domains?(t.allow_links=!0,t.domain_filter={type:g.ALLOW_MODE,domains:e.domains.split(",")}):e.domainFilterOption===_.BLOCK_BANNED_DOMAINS&&e.domains&&(t.allow_links=!0,t.domain_filter={type:g.BLOCK_MODE,domains:e.domains.split(",")}),t}(s))});if(d.ok&&d.body)return Object.assign({},d,{body:E(d.body)});throw new p("Failed to update subreddit chat settings",d)}!function(e){e[e.BLOCK_MODE=2]="BLOCK_MODE",e[e.ALLOW_MODE=1]="ALLOW_MODE",e[e.DISABLE=0]="DISABLE"}(g||(g={})),function(e){e.ALLOW_ALL_DOMAINS="Allow all domains",e.ALLOW_APPROVED_DOMAINS="Allow links to approved domains",e.BLOCK_BANNED_DOMAINS="Block links to banned domains",e.BLOCK_ALL_DOMAINS="Block all domains"}(_||(_={}))},"./src/reddit/endpoints/flair/index.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"j",function(){return l}),s.d(t,"i",function(){return b}),s.d(t,"h",function(){return p}),s.d(t,"d",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"b",function(){return j});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");const i=(e,t,s,r,i)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/r/${s}/api/selectflair`,method:n.Fa.POST,data:{api_type:"json",flair_template_id:r,name:t,text:i}}),d=(e,t,s,r)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/selectflair`,method:n.Fa.POST,data:{api_type:"json",flair_template_id:s,link:t,text:r}}),u=(e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/r/${s}/api/setflairenabled`,method:n.Fa.POST,data:{api_type:"json",flair_enabled:t}}),l=async(e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/enable_sr_user_flair.json`,method:n.Fa.POST,data:{subreddit:t,enabled:s}}),b=async(e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/enable_sr_link_flair.json`,method:n.Fa.POST,data:{subreddit:t,enabled:s}}),p=async(e,t,s,r)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/enable_sr_user_flair_self_assign.json`,method:n.Fa.POST,data:{subreddit:r,flair_type:s,enabled:t}}),O=async(e,t,s,r)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/flairtemplate_v2`,method:n.Fa.POST,data:{flair_template_id:t.id,text:t.text,text_editable:t.textEditable,flair_type:r,text_color:t.textColor,background_color:t.backgroundColor,mod_only:t.modOnly,r:s}}),f=async(e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/deleteflairtemplate`,method:n.Fa.POST,data:{flair_template_id:t,r:s}}),m=async(e,t,s,r)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_template_order/${s}`,method:n.Fa.PATCH,type:"json",data:r}),j=async(e,t)=>Object(a.b)(e,{endpoint:`${r.a.gatewayUrl}/desktopapi/v1/subreddits/${t}/userFlair`,method:n.Fa.GET,headers:{[o.a]:o.a}})},"./src/reddit/endpoints/gold/purchase.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return l}),s.d(t,"d",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"a",function(){return m});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),o=s("./src/reddit/helpers/genericServerError/index.ts"),i=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),d=s("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const u=(e,t)=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(d.a)(e)}):Object.assign({},e):Object.assign({},e,{error:e.error||Object(o.a)(t)}),l=async(e,t,s,o,i,d)=>{const l={token:s.id,coins:o,pennies:i,correlation_id:d};return Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/v2/gold/stripe/buy_coins`,data:l}).then(e=>u(e,t))},b=async(e,t,s,o,d,l,b,p)=>{const O=b.gildType,f=b.includeMessage,m=b.isAnonymous,j=b.message,y={token:s.id,coins:o,pennies:d,thing_id:l,gild_type:O,message:f?j:"",is_anonymous:m,correlation_id:p};return Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/v2/gold/stripe/buy_coins_and_gild`,data:y}).then(e=>(e&&e.ok&&e.body&&e.body.gildings&&(e.body.gildings=Object(i.a)(e.body.gildings)),Object.assign({},e))).then(e=>u(e,t))},p=async(e,t,s,o,i)=>{const d={token:s.id,pennies:o,correlation_id:i};return Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/v2/gold/stripe/buy_premium_subscription`,data:d}).then(e=>u(e,t))},O=async(e,t,s,o)=>{const i={button_id:s,correlation_id:o};return Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/v2/gold/paypal/initiate_coins_payment`,data:i}).then(e=>u(e,t))},f=async(e,t,s,o)=>{const i={button_id:s,correlation_id:o};return Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/v2/gold/paypal/initiate_premium_payment`,data:i}).then(e=>u(e,t))},m=async(e,t,s,o,i,d,l,b)=>{const p={button_id:s,thing_id:o,gild_type:i,message:d,is_anonymous:l,correlation_id:b};return Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:`${e.apiUrl}/api/v2/gold/paypal/initiate_coins_and_gild_payment`,data:p}).then(e=>u(e,t))}},"./src/reddit/endpoints/governance/badges.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"a",function(){return c});var r=s("./src/reddit/endpoints/governance/requester.ts");async function n(e,t){const s=Object(r.a)(e,{method:"get",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/badges/${t}?selected=true`}),n=await s;if(n.ok){const e={},t={},s=n.body;return Object.keys(s).forEach(r=>{const n=s[r];t[r]=n,e[n.userId]||(e[n.userId]=[]),e[n.userId].push(n.id)}),Object.assign({},n,{body:{badges:t,usersAppliedBadges:e}})}return n}async function a(e,t,s){const n=await Object(r.a)(e,{method:"get",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/badges/${t}?users=${s}`});if(n.ok){const e={},t=[],s=n.body;return Object.keys(s).forEach(r=>{const n=s[r];e[r]=n,t.push(n.id)}),Object.assign({},n,{body:{badges:e,userOwnedBadges:t}})}return n}function c(e,t,s,n=!0){return Object(r.a)(e,{method:"patch",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/badges/${t}/${s}`,data:{selected:n}})}},"./src/reddit/endpoints/governance/poll.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return d});var r=s("./node_modules/lodash/get.js"),n=s.n(r),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),o=s("./src/reddit/endpoints/governance/requester.ts");function i(e,t,s,r){return Object(o.a)(e,{method:"put",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/polls/${t}/${s}/votes/me/${r}`})}function d(e,t){return Object(o.a)(Object(a.a)(e,[c.a]),{method:"get",endpoint:`${e.apiUrl}/by_id/${t}.json`}).then(e=>e.ok?Object.assign({},e,{body:{title:n()(e.body,["data","children",0,"data","title"],""),url:n()(e.body,["data","children",0,"data","permalink"],"")}}):e)}},"./src/reddit/endpoints/governance/posts.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/reddit/endpoints/governance/requester.ts");function n(e,t,s){return Object(r.a)(e,{method:"get",endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/polls/${t}?postIds=${s.join(",")}`})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/lib/makeApiRequest/index.ts");function n(e,t){return Object(r.b)(e,Object.assign({},t,{type:"json"})).then(e=>{if(e.ok)return{body:e.body,ok:!0,status:e.status};return{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:{code:e.status},ok:!1,status:e.status}})}},"./src/reddit/endpoints/governance/wallet.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return c});s("./src/lib/bigNumberUtils/percent.ts");var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/endpoints/governance/requester.ts");function a(e,t){return Object(n.a)(e,{endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/wallets/${t.subredditId}/me`,method:r.Fa.GET}).then(e=>{if(e.ok){const s=e.body,r={[t.subredditId]:s};return Object.assign({},e,{body:r})}return e})}function c(e,t){return Object(n.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:`https://web.archive.org/web/20181130235602/https://meta-api.reddit.com/wallets/${t.subredditId}`,method:r.Fa.POST,data:t.userIds}).then(e=>e.ok?Object.assign({},e,{body:{wallets:e.body}}):e)}},"./src/reddit/endpoints/me/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts");const c=e=>Object(a.b)(e,{endpoint:`${r.a.gatewayUrl}/desktopapi/v1/me`,method:n.Fa.GET})},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts"),i=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,s)=>Object(a.b)(e,{endpoint:Object(i.a)(`${r.a.gatewayUrl}/desktopapi/v1/${t}`),method:n.Fa.GET,data:Object.assign({moderated_limit:25},s)}),u=(e,t,s)=>Object(a.b)(Object(c.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/v1/modactions/${t}`,method:n.Fa.POST,type:"json",data:s})},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts");t.a=(async e=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/subreddit_permissions`,method:r.Fa.GET}))},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=((e,t,s,o)=>Object(a.b)(e,{data:o,endpoint:s?Object(c.a)(`${r.a.gatewayUrl}/desktopapi/v1/postcomments/${t}/${s}`):Object(c.a)(`${r.a.gatewayUrl}/desktopapi/v1/postcomments/${t}`),method:n.Fa.GET}))},"./src/reddit/endpoints/page/frontpage.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return l});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/makeGqlRequest/index.ts"),o=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),i=s("./src/reddit/helpers/getPostLimitForMobile/index.ts"),d=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),u=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const l=(e,t)=>{return Object(c.a)(e,{id:"23f097c1dde7",variables:t})};t.a=((e,t)=>{let c={};if(t){const e=t.isMobile,s=t.recentPostIds,r=u(t,["isMobile","recentPostIds"]);c=Object.assign({},r,e?{limit:Object(i.a)(t.layout)}:{},s?{recentPostIds:s.join(",")}:{})}return t&&t.useMockData?(()=>new Promise(async e=>{const t=await s.e("MockData").then(s.bind(null,"./src/reddit/endpoints/page/mocks/frontpage.ts")).then(e=>e.default);setTimeout(()=>e(t()),2e3)}))():Object(a.b)(e,{endpoint:Object(o.a)(Object(d.a)(`${r.a.gatewayUrl}/desktopapi/v1/frontpage`)),method:n.Fa.GET,data:Object.assign({},c)})})},"./src/reddit/endpoints/page/myMultiredditFeed.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=((e,t,s)=>Object(a.b)(e,{data:s,endpoint:Object(c.a)(Object(o.a)(`${r.a.gatewayUrl}/desktopapi/v1/me/multireddits/${t}`)),method:n.Fa.GET}))},"./src/reddit/endpoints/page/originalContentPage.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=((e,t)=>Object(a.b)(e,{data:t,endpoint:Object(c.a)(Object(o.a)(`${r.a.gatewayUrl}/desktopapi/v1/original`)),method:n.Fa.GET}))},"./src/reddit/endpoints/page/profileOverviewPage.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return d});var r=s("./src/config.ts"),n=s("./src/lib/addAllowQuarantinedParam/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const i=(e,t,s)=>Object(c.b)(e,{data:s,endpoint:Object(n.a)(Object(o.a)(`${r.a.gatewayUrl}/desktopapi/v1/user/${t}/conversations`)),method:a.Fa.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e),d=(e,t,s)=>Object(c.b)(e,{data:s,endpoint:Object(n.a)(Object(o.a)(`${r.a.gatewayUrl}/desktopapi/v1/user/${t}/overview`)),method:a.Fa.GET}).then(e=>"pinned"in e.body?e:"overviewIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.overviewIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e)},"./src/reddit/endpoints/page/search.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/search/index.ts"),o=s("./src/reddit/helpers/correlationIdTracker.ts");t.a=((e,t,s)=>Object(a.b)(e,{data:((e,t)=>{let s=t?Object.assign({},e,{type:e.restrict_sr?"link":e.type}):e;(s=s.type?s:Object.assign({},s,{type:"link,sr,user"})).q=Object(c.a)(e.q);const r=Object(o.c)(o.a.SearchResults);return r&&(s.search_correlation_id=r),s})(s||{},t),endpoint:t?`${r.a.gatewayUrl}/desktopapi/v1/subreddits/${t}/search`:`${r.a.gatewayUrl}/desktopapi/v1/search`,method:n.Fa.GET}))},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),i=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};t.a=((e,t,s)=>Object(a.b)(e,{endpoint:Object(c.a)(Object(o.a)(`${r.a.gatewayUrl}/desktopapi/v1/subreddits/${t}`)),method:n.Fa.GET,data:s&&(e=>{var t=e.recentPostIds,s=i(e,["recentPostIds"]);return t&&t.length?Object.assign({},s,{recentPostIds:t.join(",")}):s})(s)||{}}))},"./src/reddit/endpoints/post/convert.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),o=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),i=s("./src/reddit/models/PostCreationForm/index.ts");t.a=((e,t,s)=>{const d={output_mode:"markdown"===t?t:"rtjson"};return t===i.h.MARKDOWN?d.richtext_json=s:d.markdown_text=s,Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/convert_rte_body_format`),method:r.Fa.POST,data:d})})},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return i});var r=s("./src/reddit/constants/originalContent.ts"),n=s("./src/reddit/models/Flair/index.ts"),a=s("./src/reddit/models/PostDraft/index.ts");const c=e=>({id:e.json.data.id,draftsCount:e.json.data.drafts_count}),o=e=>{switch(e){case"link":return a.b.Link;case"markdown":return a.b.Markdown;case"richtext":return a.b.RichText;default:return"self"}},i=e=>Object.assign({id:e.draftId||void 0},(e=>e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{})(e),{kind:(e=>{switch(e.kind){case a.b.Link:return"link";case a.b.Markdown:return"markdown";case a.b.RichText:return"richtext";default:return"self"}})(e),title:(e=>e.title.substring(0,300))(e),body:(e=>{switch(e.kind){case a.b.Link:case a.b.Markdown:return e.body;case a.b.RichText:return JSON.stringify({document:e.body})}})(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,content_category:e.ocCategory===r.c?void 0:e.ocCategory||void 0},(e=>e?{flair_id:e.templateId||null,flair_text:Object(n.i)(e)||null,flair_text_color:e.textColor||null,flair_background_color:e.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null})(e.flair),{send_replies:e.sendReplies,is_public_link:e.isPublicLink})},"./src/reddit/endpoints/post/index.tsx":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),o=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");s.d(t,"b",function(){return i}),s.d(t,"d",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"f",function(){return l}),s.d(t,"g",function(){return b}),s.d(t,"r",function(){return p}),s.d(t,"i",function(){return O}),s.d(t,"t",function(){return f}),s.d(t,"k",function(){return m}),s.d(t,"j",function(){return j}),s.d(t,"u",function(){return y}),s.d(t,"o",function(){return g}),s.d(t,"l",function(){return _}),s.d(t,"c",function(){return E}),s.d(t,"n",function(){return h}),s.d(t,"v",function(){return I}),s.d(t,"p",function(){return T}),s.d(t,"w",function(){return S}),s.d(t,"h",function(){return v}),s.d(t,"s",function(){return C}),s.d(t,"q",function(){return A}),s.d(t,"a",function(){return R}),s.d(t,"m",function(){return D});const i=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/approve`),method:r.Fa.POST,data:{id:t}}),d=(e,t,s)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/distinguish/${s}`),method:r.Fa.POST,data:{id:t}}),u=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/fetch_title`),method:r.Fa.POST,data:{url:t,api_type:"json"}}),l=(e,t,s)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/follow_post`),method:r.Fa.POST,data:{follow:s,fullname:t}}),b=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/hide`),method:r.Fa.POST,data:{id:t}}),p=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/unhide`),method:r.Fa.POST,data:{id:t}}),O=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/lock`),method:r.Fa.POST,data:{id:t}}),f=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/unlock`),method:r.Fa.POST,data:{id:t}}),m=(e,t,s)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/set_original_content`),method:r.Fa.POST,data:{fullname:t,should_set_oc:s}}),j=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/marknsfw`),method:r.Fa.POST,data:{id:t}}),y=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/unmarknsfw`),method:r.Fa.POST,data:{id:t}}),g=(e,t,s)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/sendreplies`,method:r.Fa.POST,data:{id:t,state:s}}),_=(e,t,s)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/remove`),method:r.Fa.POST,data:{id:t,spam:s}}),E=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/del`),method:r.Fa.POST,data:{id:t}}),h=(e,t)=>((e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/save`),method:r.Fa.POST,data:{id:t}}))(e,t),I=(e,t)=>((e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/unsave`),method:r.Fa.POST,data:{id:t}}))(e,t),T=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/spoiler`),method:r.Fa.POST,data:{id:t}}),S=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/unspoiler`),method:r.Fa.POST,data:{id:t}}),v=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/ignore_reports`,method:r.Fa.POST,data:{id:t}}),C=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/unignore_reports`,method:r.Fa.POST,data:{id:t}}),A=(e,t,s,o)=>Object(n.b)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/set_subreddit_sticky`,method:r.Fa.POST,data:{id:t,state:s,to_profile:o}});var R;!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint"}(R||(R={}));const D=(e,t)=>Object(n.b)(Object(a.a)(e,[c.a]),{method:r.Fa.POST,endpoint:Object(o.a)(`${e.apiUrl}/api/report`),data:P(t)}),P=e=>{const t={thing_id:e.id,api_type:"json"},s=e.reason;switch(s.kind){case R.Other:return Object.assign({},t,{reason:"other",other_reason:s.rule});case R.Rule:return Object.assign({},t,{reason:s.rule,rule_reason:s.rule});case R.SiteRule:default:return Object.assign({},t,{reason:"site_reason_selected",site_reason:s.rule})}}},"./src/reddit/helpers/adCount/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return o});var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),a=s("./src/reddit/selectors/platform.ts");const c=(e,t,s)=>[e,t,s].join("/"),o=(e,t)=>{switch(t){case n.a.SUBREDDIT:case n.a.COMMENTS_OVERLAY:case n.a.COMMENTS:{const t=Object(a.h)(e);return[c(r.d.ABOVE_THE_FOLD,t,0),c(r.d.BELOW_THE_FOLD,t,1)]}case n.a.FRONTPAGE:return[c(r.d.ABOVE_THE_FOLD,!1,0),c(r.d.BELOW_THE_FOLD,!1,1)];case n.a.MULTIREDDIT:case n.a.SEARCH_RESULTS:return[c(r.d.BELOW_THE_FOLD,!1,0)];default:return[c(r.d.ABOVE_THE_FOLD,!1,0),c(r.d.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/canAccessModerationPage/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts");t.a=((e,t)=>{switch(e){case r.Jb.Moderators:return!0;case r.Jb.Muted:return!(!t||!t.mail);case r.Jb.Banned:case r.Jb.Contributors:return!(!t||!t.access);case r.Jb.Modqueue:case r.Jb.Reports:case r.Jb.Edited:case r.Jb.Spam:case r.Jb.Unmoderated:case r.Jb.PostRequirements:case r.Jb.Removal:return!(!t||!t.posts);default:return!1}})},"./src/reddit/helpers/canonicalUrls.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/addQueryParams/index.ts"),a=s("./src/lib/isAdHocMultireddit/index.ts"),c=s("./src/lib/isFakeSubreddit/index.ts"),o=s("./src/reddit/selectors/multireddit.ts"),i=s("./src/reddit/selectors/subreddit.ts");const d=(e,t,s)=>{const a=s.params,c=s.queryParams,i=s.url,d=a.multiredditName,u=Object(o.d)(e,{multiredditName:d});if(!u)return;const l=i===u,b=i.endsWith("/");if(l&&b)return;const p=b?i:`${i}/`,O=l?p:`${u}${p.substr(u.length)}`;t(Object(r.c)(Object(n.a)(O,c)))},u=(e,t,s)=>{const a=s.params,c=s.queryParams,o=s.url,d=a.subredditName;if(d){const s=`/user/${d}/`,a=o.endsWith("/"),u=Object(i.a)(e,{profileName:d});if(!u)return;const l=s===u;if(l&&a)return;const b=a?o:`${o}/`,p=l?b:b.replace(s,u);t(Object(r.c)(Object(n.a)(p,c)))}},l=(e,t,s)=>{const d=s.params,u=s.queryParams,l=s.url,b=d.subredditName;if(b){const s=`/r/${b}/`,d=l.endsWith("/");let p=l;if(Object(c.a)(b)&&Object(a.a)(b)){const t=Object(o.a)(e,{listingName:b}).subredditIds,r=Object(i.F)(e,{subredditIds:t}).map(e=>e.name).join("+");p=(d?l:`${l}/`).replace(s,`/r/${r}/`)}else{const t=Object(i.c)(e,{subredditName:b});if(!t)return;const r=(Object(c.a)(b)?s.toLowerCase():s)===t;if(r&&d)return;const n=d?l:`${l}/`;p=r?n:n.replace(s,t)}t(Object(r.c)(Object(n.a)(p,u)))}}},"./src/reddit/helpers/commentList/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return i}),s.d(t,"a",function(){return d});var r=s("./src/reddit/constants/comments.ts"),n=s("./src/reddit/selectors/comments.ts");const a=(e,t)=>t().comments.models[e],c=e=>{switch(e.commentLink.type){case r.b.Comment:return e.commentsDict[e.commentLink.id];case r.b.MoreComments:return e.moreCommentsDict[e.commentLink.id];case r.b.ContinueThread:return e.continueThreadDict[e.commentLink.id]}},o=(e,t)=>e.type===r.b.MoreComments?t[e.id].numComments:1,i=(e,t,s,r)=>{let a=Object(n.o)(r,{commentLink:t,commentsPageKey:e}),c=t;for(;a&&a.depth>s&&a.prev&&(c=a.prev,(a=Object(n.o)(r,{commentLink:c,commentsPageKey:e}))&&!(a.depth<=s)););return c.id},d=(e,t)=>{const s=e.commentLists,r=e.comments;if(s[t].head)return Object.keys(r).filter(e=>(e=>!1!==e.collapsed)(r[e]))}},"./src/reddit/helpers/correlationIdTracker.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"b",function(){return d});var r,n=s("./node_modules/uuid/v4.js"),a=s.n(n);!function(e){e.AdblockUpsell="AdblockUpsell",e.GildingFlow="GildingFlow",e.GiftPremiumFlow="GiftPremiumFlow",e.GoldPayment="GoldPayment",e.PostComposer="PostComposer",e.PremiumSettings="PremiumSettings",e.RabbitHole="RabbitHole",e.SearchResults="SearchResults"}(r||(r={}));const c={},o=e=>c[e],i=e=>c[e]=a()(),d=e=>c[e]=void 0},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/findLastIndex.js"),n=s.n(r),a=s("./src/reddit/selectors/telemetry.ts"),c=s("./src/telemetry/index.ts"),o=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};t.a=((e,t,s)=>{var r=s.postIds,i=s.posts,d=o(s,["postIds","posts"]);const u=e.listings.postOrder.ids[t],l=(r||[]).filter(e=>!u||!u.includes(e)),b=u.map(t=>e.posts.models[t]),p=b.length-(n()(b,e=>e.isSponsored)+1),O=l.map(e=>i[e]);let f;const m=[];for(let n=0;n<O.length;n++){const s=O[n];s.isSponsored&&(null==f&&p+n>=4||n-f>=4)?(f=n,m.push(s.id)):s.isSponsored?s.isSponsored&&Object(c.a)(Object.assign({source:"feed",action:"remove",noun:"ad"},a.defaults(e),{listing:a.listing(e,t)})):m.push(s.id)}return Object.assign({},d,{posts:i,postIds:m})})},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/app/strings/index.ts");const a=Object(n.f)("error.type.generic");t.a=(e=>({type:r.F.SERVER_ERROR,fields:[{field:"",msg:a(e)}]}))},"./src/reddit/helpers/getCommentsPageSort/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/constants/parameters.ts");t.a=((e,t,s)=>{const a=s&&s.suggestedSort?s.suggestedSort:"";let c,o,i=!1;t&&t.prefs&&(c=t.prefs.defaultCommentSort),a?o=a:c&&(o=c);const d=n.o in e?e[n.o]:"";return(r.Rb.has(d)?d:o)===d&&(o=d,i=!0),{hasSortParam:i,sortToUse:o}})},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/lib/constants/index.ts");function n(e){return{type:r.F.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getPostFromRouteMatch/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/models/Post/index.ts"),n=s("./src/lib/constants/index.ts");t.a=((e,t)=>{if(t.route.meta.name===n.mb.COMMENTS){const s=t.match.params.partialPostId,n=Object(r.f)(s);return e.posts.models[n]}return null})},"./src/reddit/helpers/getPostLimitForMobile/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/reddit/constants/postLayout.ts");function n(e){return e?r.a[e]:r.d}},"./src/reddit/helpers/isComment.ts":function(e,t,s){"use strict";var r=s("./src/reddit/constants/things.ts");t.a=function(e){return!!e&&e.substring(0,3)===r.a}},"./src/reddit/helpers/makeModQueueListingKey/index.ts":function(e,t,s){"use strict";t.a=(e=>{const t=e.profile,s=e.subreddit;return s&&`r/${s}`||t&&`u/${t}`||"all"})},"./src/reddit/helpers/makeOverviewListingKey/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeListingKey/index.ts");t.a=((e,t,s,a={})=>{const c=`${r.Pb}${e}--${t}`;return Object(n.a)(c,s,a)})},"./src/reddit/helpers/monthsToMinutes/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return d});var r=s("./node_modules/js-cookie/src/js.cookie.js"),n=s.n(r),a=s("./src/config.ts"),c=s("./src/reddit/constants/cookie.ts"),o=s("./src/reddit/constants/localStorage.ts");const i=(e,t)=>{const s=(e=>e.join(","))(((e,t)=>{return t.map(t=>e.subreddits.models[t].name)})(e,t)),r=new Date;r.setFullYear(r.getFullYear()+2),n.a.set(c.d,s,{expires:r,domain:a.a.cookieDomain})},d=()=>{localStorage.removeItem(o.h),n.a.remove(c.d,{domain:a.a.cookieDomain})}},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,s){"use strict";t.a=(e=>{const t=/^((\/u\/)|(u\/))/;return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(t,""):e})},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/url/url.js"),n=s.n(r),a=s("./node_modules/js-cookie/src/js.cookie.js"),c=s.n(a),o=s("./src/config.ts"),i=s("./src/lib/constants/index.ts"),d=s("./src/reddit/selectors/subreddit.ts");const u=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),l=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments)(/|$)"),b=new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),p=new RegExp("^/desktopapi/v1/frontpage/?$");var O=(e,t)=>{const s=new Set;if(e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(s.add("identity"),s.add("prefs")),(e=>!u.test(e.pathname||""))(t)&&s.add("identity"),(e=>b.test(e.pathname||""))(t)&&s.add("meta")),!e.live.isFrontpageLoaded&&(e=>p.test(e.pathname||""))(t)&&s.add("featuredLiveThread"),l.test(t.pathname||"")){const t=e.platform.currentPage&&e.platform.currentPage.urlParams.subredditName||"",r=Object(d.w)(e,t);r&&e.structuredStyles.models[r]||s.add("structuredStyles")}return[...s].join(",")};t.a=(e=>t=>{const s=n.a.parse(t.endpoint,!0),r=s.host,a=`${s.protocol}//${r}`,d=t.method===i.Fa.GET?"data":"query",u=t[d]||{};if(a===o.a.gatewayUrl){const t=c.a.get("over18")||"";u.allow_over18=t,u.include=O(e.getState(),s)}t[d]=u})},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,s){"use strict";s("./node_modules/history/index.js"),s("./src/reddit/actions/platform.ts");var r=s("./src/config.ts");t.a=((e,t)=>{const s=t.platform.currentPage&&t.platform.currentPage.url;let n=`${r.a.accountManagerOrigin}/login`;const a=window.location.origin;s&&(n+=`?dest=${encodeURIComponent(`${a}${s}`)}`),window.location.href=n})},"./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts");t.a=(e=>Object.assign({accountIcon:e.icon_img,commentKarma:e.comment_karma,created:e.created,displayName:e.name,displayNamePrefixed:e.subreddit&&e.subreddit.display_name_prefixed,displayText:e.name,hasUserProfile:!!e.subreddit,hideFromRobots:!!e.hide_from_robots,id:`${r.Sa.ACCOUNT}_${e.id}`,isEmployee:e.is_employee,isFollowing:e.has_subscribed,isGold:e.is_gold,isMod:e.is_mod,isNSFW:!(!e.subreddit||!e.subreddit.over_18),prefShowSnoovatar:e.pref_show_snoovatar,prefShowTwitter:e.pref_show_twitter,postKarma:e.link_karma,url:`/user/${e.name}`,username:e.name},e.subreddit?{profileId:e.subreddit.name}:null))},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/helpers/isComment.ts"),a=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),c=s("./src/reddit/models/Vote/index.ts");t.a=((e,t)=>({approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,created:e.created_utc,distinguishType:e.distinguished||"",editedAt:null,gildings:e.gildings?Object(a.a)(e.gildings):null,goldCount:e.gilded,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isApproved:e.approved,isDeleted:e.author===r.B,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,subredditId:e.subreddit_id,markdown:e.body,media:{type:"rtjson",richtextContent:o(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(n.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:(e=>!0===e?c.a.upvoted:!1===e?c.a.downvoted:c.a.notVoted)(e.likes)}));const o=e=>"string"==typeof e?JSON.parse(e):e},"./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts":function(e,t,s){"use strict";t.a=(e=>({gid1:e.gid_1,gid2:e.gid_2,gid3:e.gid_3}))},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),n=s("./src/reddit/models/Flair/index.ts"),a=s("./src/reddit/models/Media/index.ts"),c=s("./src/reddit/models/PostCreationForm/index.ts"),o=s("./src/reddit/models/Vote/index.ts");t.a=(e=>{return{author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:(e=>{const t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:n.e.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:n.e.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:n.e.Spoiler}),e.over_18&&t.push({text:"nsfw",type:n.e.Nsfw}),t})(e),gildings:e.gildings?Object(r.a)(e.gildings):null,goldCount:e.gilded||0,hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isFollowed:e.is_followed||!1,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isRoadblock:1===e.priority,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,media:(e=>{const t=e.preview&&e.preview.enabled;let s=!1,r=null,n={},o={};const i=e.over_18||e.spoiler;if(e.preview&&(s=!!(o=e.preview.images[0].variants).mp4,n=e.preview.images[0].source,i&&(r=o.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:a.m.TEXT,markdownContent:e.selftext,obfuscated:r,rteMode:e.rte_mode||c.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:a.m.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){const t=e.media.reddit_video;return{hlsUrl:t.hls_url,dashUrl:t.dash_url,isGif:t.is_gif,scrubberThumbSource:t.scrubber_media_url,obfuscated:r,posterUrl:t.url,width:t.width,height:t.height,type:a.m.VIDEO}}if(e.secure_media&&e.secure_media.oembed)return{content:e.secure_media_embed.media_domain_url,type:a.m.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:r,provider:e.secure_media.oembed.provider_name};if(t&&s)return{content:o.mp4.source.url,type:a.m.GIFVIDEO,width:o.mp4.source.width,height:o.mp4.source.height,gifBackgroundImage:n.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:r,resolutions:o.mp4.resolutions};if(t){const t=o.gif?o.gif.resolutions:e.preview.images[0].resolutions;return{content:n.url,type:a.m.IMAGE,width:n.width,height:n.height,obfuscated:r,resolutions:t}}return null})(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numReports:e.num_reports||0,permalink:`https://web.archive.org/web/20181130235602/https://www.reddit.com${e.permalink}`,postCategories:(e=>e?e.map(e=>({categoryId:e.category_id,categoryName:e.category_name})):[])(e.post_categories),preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,saved:e.saved,score:e.score,scoreHidden:e.score_hidden,sendReplies:e.send_replies,source:(e=>{const t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){const s=e.outbound_link;t.outboundUrl=s.url,t.outboundUrlExpiration=s.expiration,t.outboundUrlCreated=s.created}return t}return null})(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(o.d)(e.likes)}})},"./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts":function(e,t,s){"use strict";t.a=(e=>({commentKarma:e.comment_karma,hasExternalAccount:e.has_external_account,postKarma:e.link_karma,prefShowTwitter:e.pref_show_twitter,publicDescription:e.subreddit?e.subreddit.public_description:"",userIsSubscriber:e.subreddit&&e.subreddit.user_is_subscriber||!1}))},"./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),n=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};t.a=((e,t)=>{const s=Object(r.a)(e),a=(s.wls,n(s,["wls"]));return Object.assign({},a,{name:t})})},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts");t.a=(e=>({type:(e=>{for(const t of e)switch(t[0]){case r.F.USER_REQUIRED_ERROR:case r.F.VALIDATION_ERROR:return t[0];case r.F.NO_TEXT:case r.F.NO_URL:return r.F.VALIDATION_ERROR;default:continue}return r.F.VALIDATION_ERROR})(e.body.json.errors),fields:e.body.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))}))},"./src/reddit/helpers/routeKey/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return S}),s.d(t,"d",function(){return v}),s.d(t,"f",function(){return C}),s.d(t,"e",function(){return R}),s.d(t,"a",function(){return P}),s.d(t,"b",function(){return k});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeCommentsPageKey/index.ts"),o=s("./src/lib/makeExplorePageKey/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),d=s("./src/lib/makePartnerSubredditConnectionPageKey/index.ts"),u=s("./src/lib/makePostCreationPageKey/index.ts"),l=s("./src/lib/makeSearchKey/index.ts"),b=s("./src/reddit/constants/postLayout.ts"),p=s("./src/reddit/helpers/makeOverviewListingKey/index.ts"),O=s("./src/reddit/constants/originalContent.ts"),f=s("./src/reddit/constants/page.ts"),m=s("./src/reddit/constants/parameters.ts"),j=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),y=s("./src/reddit/models/Comment/index.ts"),g=s("./src/reddit/models/Multireddit/index.ts"),_=s("./src/reddit/models/Post/index.ts"),E=s("./src/reddit/models/User/index.ts"),h=s("./src/reddit/routes/modListing/index.ts"),I=s("./src/reddit/selectors/frontpage.ts"),T=s("./src/reddit/selectors/news.ts");const S=(e,t,s)=>{const r=e.route.meta.name;if(!r||!a.T.has(r)&&r!==a.mb.COINS&&r!==a.mb.COMMENTS&&r!==a.mb.POST_CREATION&&r!==a.mb.PREMIUM&&r!==a.mb.SEARCH_RESULTS&&r!==a.mb.PARTNER_SUBREDDIT_CONNECTION&&r!==a.mb.EXPLORE||!s&&r===a.mb.COMMENTS)return null;switch(r){case a.mb.POST_CREATION:return Object(u.a)(e.match.params);case a.mb.INDEX:case a.mb.LISTING:case a.mb.SUBREDDIT:case a.mb.ORIGINAL_CONTENT:return v(e,t);case a.mb.PROFILE_COMMENTS:case a.mb.PROFILE_POSTS:case a.mb.PROFILE_OVERVIEW:return C(e,t);case a.mb.MULTIREDDIT:return A(e,t);case a.mb.NEWS:return R(e,t);case a.mb.COMMENTS:return P(e,t,s);case a.mb.SEARCH_RESULTS:return D(e);case a.mb.COINS:case a.mb.PREMIUM:return r;case a.mb.SETTINGS:return w(e);case a.mb.PARTNER_SUBREDDIT_CONNECTION:return x(e);case a.mb.EXPLORE:return k(e);default:return null}},v=(e,t)=>{const s=e.route,r=e.match,n=s.meta.name;if(!a.T.has(n)&&n!==a.mb.POST_CREATION)return null;const c=r.queryParams;switch(n){case a.mb.INDEX:case a.mb.LISTING:const s=Object(I.a)(t),p=r.params,m=p.sort?p.sort:s;return Object(i.a)(f.b,m,c);case a.mb.PROFILE_COMMENTS:case a.mb.PROFILE_POSTS:{const e=r.params.profileName,t=c.sort;return Object(i.a)(`u_${e}`,t,c)}case a.mb.POST_CREATION:case a.mb.SUBREDDIT:{const e=r.params,t=e.subredditName;var o=e.sort;const s=void 0===o?a.U.HOT:o;return Object(i.a)(t,s,c)}case a.mb.ORIGINAL_CONTENT:{var d=r.params,u=d.categoryName;const e=void 0===u?O.b:u;var l=d.sort;const t=void 0===l?a.U.HOT:l;return Object(i.a)(f.j,t,Object.assign({},c,{category:e}))}case a.mb.MOD_LISTING:{var b=r.params.sort;const e=void 0===b?a.V:b,t=Object(h.d)(r.path)?f.g:f.f;return Object(i.a)(t,e,c)}case a.mb.MULTIREDDIT:return A(e,t);case a.mb.NEWS:return R(e,t);case a.mb.SEARCH_RESULTS:return S(e,t,null);default:return null}},C=(e,t)=>{const s=e.route,r=e.match,n=s.meta.name;if(!a.T.has(n)&&n!==a.mb.POST_CREATION)return null;const c=r.params,o=r.queryParams,d=c.profileName;var u=o.sort;const l=void 0===u?a.fb:u;switch(n){case a.mb.PROFILE_OVERVIEW:const e=(t.user.prefs&&t.user.prefs.profileLayout?t.user.prefs.profileLayout:b.e.Large)===b.e.Compact?a.Oa:a.Pa;return Object(p.a)((d||"").toLowerCase(),e,l,o);case a.mb.PROFILE_COMMENTS:case a.mb.PROFILE_POSTS:return Object(i.a)(`u_${d}`,l,o);default:return null}},A=(e,t)=>{const s=e.route,r=e.match;if(s.meta.name!==a.mb.MULTIREDDIT)return null;const n=r.params,c=r.queryParams,o=n.multiredditName;var d=n.sort;const u=void 0===d?a.U.HOT:d;let l=n.username;l||(l=t.user.account?Object(E.d)(t.user.account):"me");const b=Object(g.c)(l,o);return Object(i.a)(b,u,c)},R=(e,t)=>{const s=e.route,r=e.match;if(s.meta.name!==a.mb.NEWS)return null;var n=r.params;const c=n.topic,o=n.subtopic;return Object(T.h)(t.user,c||"",o||"")},D=e=>{const t=e.route,s=e.match;if(t.meta.name!==a.mb.SEARCH_RESULTS)return null;const r=s.params.subredditName,c=Object(l.c)(n()(s.queryParams,m.n));return Object(l.b)(r,c)},P=(e,t,s)=>{const r=e.route,n=e.match,o=r.meta.name;if(!o||o!==a.mb.COMMENTS)return null;var i=n.params;const d=i.partialCommentId,u=i.partialPostId,l=Object(_.f)(u),b=d&&Object(y.b)(d);var p=Object(j.a)(n.queryParams,t.user,s);const O=p.hasSortParam,f=p.sortToUse;return Object(c.a)(l,b,{sort:f,hasSortParam:O})},x=e=>{const t=e.route,s=e.match,r=t.meta.name;if(!r||r!==a.mb.PARTNER_SUBREDDIT_CONNECTION)return;const n=s.queryParams;return Object(d.a)(n)},w=e=>"SettingsPage-"+e.match.params.page,k=e=>{const t=e.route,s=e.match,r=t.meta.name;if(!r||r!==a.mb.EXPLORE)return null;const n=s.queryParams.categoryName;return Object(o.a)({categoryName:n})}},"./src/reddit/helpers/timeApiRoute/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/telemetry/index.ts");t.a=async function(e,t){const s=n.c.start();try{const a=await t();return Object(n.b)(r.o.Redesign,{page:e,type:"route",duration:n.c.end(s)}),a}finally{n.c.cancel(s)}}},"./src/reddit/helpers/trackers/blade.ts":function(e,t,s){"use strict";s.d(t,"m",function(){return c}),s.d(t,"l",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"h",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"n",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"i",function(){return m}),s.d(t,"j",function(){return j}),s.d(t,"k",function(){return y}),s.d(t,"f",function(){return g}),s.d(t,"e",function(){return _});var r=s("./src/reddit/constants/blade.ts"),n=s("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>s=>Object.assign({},n.defaults(s),{source:r.c.Appearance,action:"click",noun:e,actionInfo:n.actionInfo(s,{paneName:t}),subreddit:n.subreddit(s)}),c=e=>a("save_style",e),o=e=>a("cancel_style",e),i=e=>t=>({source:r.c.Structure,action:"click",noun:e,screen:n.screen(t),subreddit:n.subreddit(t)}),d=e=>t=>({source:r.c.Appearance,action:"click",noun:e,screen:n.screen(t),subreddit:n.subreddit(t)}),u=(e,t)=>s=>({source:"colorpicker",action:"click",noun:e,actionInfo:n.actionInfo(s,{paneName:r.f[t]}),screen:n.screen(s),subreddit:n.subreddit(s)}),l=e=>t=>({source:r.g[e],action:"click",noun:"colorpicker",actionInfo:n.actionInfo(t,{paneName:r.f[e]}),screen:n.screen(t),subreddit:n.subreddit(t)}),b=e=>({screen:n.screen(e),subreddit:n.subreddit(e)}),p=()=>e=>Object.assign({source:r.c.Appearance,action:"view",noun:"blade"},b(e)),O=e=>t=>Object.assign({source:r.a[e],action:"click",noun:r.b[e]},b(t)),f=()=>e=>Object.assign({source:r.c.Appearance,action:"click",noun:"back"},b(e)),m=e=>t=>Object.assign({source:r.c.PostFlairManagement,action:"click",noun:e},b(t)),j=e=>t=>Object.assign({source:r.c.PostFlairManagement,action:"toggle",noun:"post_flair_template",actionInfo:{settingValue:e?"on":"off"}},b(t)),y=e=>t=>Object.assign({source:r.c.UserFlairManagement,action:"click",noun:e},b(t)),g=(e,t)=>Object.assign({},n.defaults(e),m(t)(e)),_=e=>t=>({source:"emoji",action:"click",noun:e,screen:n.screen(t),subreddit:n.subreddit(t)})},"./src/reddit/helpers/trackers/coins.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return o}),s.d(t,"f",function(){return i}),s.d(t,"d",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"c",function(){return p});var r=s("./src/reddit/selectors/telemetry.ts"),n=s("./node_modules/uuid/v4.js"),a=s.n(n);let c;const o=()=>c,i=()=>c=a()(),d=()=>c=void 0,u="coins_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_coins",correlationId:o()},r.defaults(e)),b=e=>t=>Object.assign({source:u,action:"click",noun:`coins_${e}`,correlationId:o()},r.defaults(t)),p=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:o()},r.defaults(e))},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/telemetry/index.ts"),n=s("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"commentlist",noun:"bottom"},n.defaults(e),{listing:n.listing(e,t),subreddit:n.subreddit(e)}))}},"./src/reddit/helpers/trackers/commentsPage.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"c",function(){return p}),s.d(t,"d",function(){return O});var r=s("./src/app/models/Draft.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/reddit/constants/tracking.ts"),c=s("./src/reddit/selectors/telemetry.ts"),o=s("./src/telemetry/index.ts");const i=e=>{const t=(e=>{const t=e.platform.currentPage;if(t&&t.routeMatch){const e=t.routeMatch.match.params;if(e&&e.partialPostId)return`${n.Sa.POST}_${e.partialPostId}`}})(e);return Object.assign({source:"comment_composer",action:a.b.CLICK},c.defaults(e),{screen:c.screen(e),subreddit:c.subreddit(e),post:t?c.post(e,t):null,profile:c.profile(e)})},d=(e,t)=>Object(o.a)(Object.assign({noun:"comment"},i(e),{commentComposer:{editorMode:t}})),u=e=>Object(o.a)(Object.assign({noun:"cancel"},i(e))),l=(e,t)=>{t===r.a.replyToPost&&Object(o.a)(Object.assign({noun:"input"},i(e)))},b=(e,t)=>Object(o.a)(Object.assign({source:"comment",noun:"delete",action:"click"},c.defaults(t),{screen:c.screen(t),subreddit:c.subreddit(t),post:c.post(t,e)})),p=e=>Object(o.a)(Object.assign({noun:"edit"},i(e))),O=e=>Object(o.a)(Object.assign({noun:"save_edit"},i(e)))},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return d});var r=s("./src/reddit/constants/tracking.ts"),n=s("./src/telemetry/index.ts"),a=s("./src/reddit/selectors/platform.ts"),c=s("./src/reddit/selectors/telemetry.ts");const o=(e,t,s)=>r=>({source:Object(a.h)(r)||s?"post_lightbox":"post_detail",action:"click",noun:t,post:c.post(r,e),profile:c.profile(r),screen:c.screen(r),subreddit:c.subreddit(r)}),i=(e,t)=>s=>Object(n.a)(Object.assign({},o(e,t)(s),c.defaults(s))),d=e=>t=>({source:"id_card",action:r.b.CLICK,noun:e,profile:c.profile(t),screen:c.screen(t),subreddit:c.subreddit(t),userSubreddit:c.userSubreddit(t)})},"./src/reddit/helpers/trackers/post.ts":function(e,t,s){"use strict";s.d(t,"g",function(){return a}),s.d(t,"f",function(){return c}),s.d(t,"a",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"e",function(){return b});var r=s("./src/telemetry/index.ts"),n=s("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>Object(r.a)(Object.assign({source:"post",action:"view",noun:"post"},n.defaults(e),{post:n.post(e,t),profile:n.profile(e),media:n.media(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})),c=(e,t)=>Object(r.a)(Object.assign({source:"post",action:"view",noun:"ad"},n.defaults(e),{post:n.post(e,t),media:n.media(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})),o=(e,t,s)=>Object(r.a)(Object.assign({source:"post",action:"consume",noun:"post"},n.defaults(e),{post:n.post(e,t,s),media:n.media(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})),i=(e,t)=>s=>({source:"post",action:"click",noun:t,post:n.post(s,e),media:n.media(s,e),screen:n.screen(s),session:n.session(s),subreddit:n.subreddit(s)||n.subredditByPostOrCommentId(s,e)}),d=(e,t)=>s=>Object(r.a)(Object.assign({source:"post",action:"click",noun:t},n.defaults(s),{post:n.post(s,e),media:n.media(s,e),screen:n.screen(s),session:n.session(s),subreddit:n.subreddit(s)})),u=(e,t)=>({post:n.post(e,t),profile:n.profile(e)}),l=e=>t=>Object.assign({action:"pin",noun:"post",source:"profile"},u(t,e),n.defaults(t)),b=e=>t=>Object.assign({action:"unpin",noun:"post",source:"profile"},u(t,e),n.defaults(t))},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return j}),s.d(t,"c",function(){return y}),s.d(t,"t",function(){return g}),s.d(t,"s",function(){return _}),s.d(t,"o",function(){return E}),s.d(t,"v",function(){return h}),s.d(t,"n",function(){return I}),s.d(t,"i",function(){return T}),s.d(t,"q",function(){return S}),s.d(t,"p",function(){return v}),s.d(t,"l",function(){return C}),s.d(t,"k",function(){return A}),s.d(t,"u",function(){return R}),s.d(t,"d",function(){return D}),s.d(t,"m",function(){return P}),s.d(t,"x",function(){return x}),s.d(t,"y",function(){return w}),s.d(t,"z",function(){return k}),s.d(t,"w",function(){return N}),s.d(t,"j",function(){return U}),s.d(t,"h",function(){return M}),s.d(t,"e",function(){return F}),s.d(t,"f",function(){return G}),s.d(t,"b",function(){return B}),s.d(t,"r",function(){return $}),s.d(t,"g",function(){return V});var r=s("./src/reddit/constants/tracking.ts"),n=s("./src/reddit/helpers/correlationIdTracker.ts"),a=s("./src/reddit/helpers/media/index.ts"),c=s("./src/reddit/models/PostCreationForm/index.ts"),o=s("./src/reddit/models/PostDraft/index.ts"),i=s("./src/reddit/selectors/postDraft.ts"),d=s("./src/reddit/selectors/telemetry.ts"),u=s("./src/reddit/selectors/user.ts"),l=s("./src/telemetry/index.ts"),b=s("./src/telemetry/models/PostComposer.ts"),p=s("./src/telemetry/models/PostDraft.ts");const O={imageOnly:"image",linkOnly:"link",media:"media",poll:"self",post:"self",crosspost:"crosspost"},f=e=>Object.assign({source:"post_composer",action:r.b.CLICK},d.defaults(e),{screen:d.screen(e),correlationId:Object(n.c)(n.a.PostComposer)}),m=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===c.h.MARKDOWN?"markdown":"rte"},j=e=>{Object(l.a)(Object.assign({noun:"cancel"},f(e)))},y=e=>{Object(l.a)(Object.assign({noun:"discard"},f(e)))},g=e=>{Object(l.a)(Object.assign({noun:"subreddit_choice",subreddit:d.subreddit(e)},f(e)))},_=e=>{Object(l.a)(Object.assign({noun:"subreddit_selector"},f(e)))},E=(e,t)=>{Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:O[t]}},f(e)))},h=(e,t,s)=>{"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},f(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:s?"on":"off"}},f(e)))},I=(e,t)=>{Object(l.a)(Object.assign({noun:"post",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},m(e,t))},f(e)))},T=(e,t)=>{const s=t===c.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:s},f(e)))},S=(e,t)=>{Object(l.a)(Object.assign({noun:"save",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},m(e,t))},f(e)))},v=(e,t)=>{const s=e.uploads[t];s.error&&Object(l.a)(Object.assign({},f(e),{noun:"media",action:"reject",actionInfo:Object.assign({},d.actionInfo(e),{reason:JSON.stringify(s.error)})}))},C=(e,t)=>{t.forEach(t=>{const s=Object(a.e)(t.type);s&&Object(l.a)(Object.assign({},f(e),{action:"drag",noun:s}))})},A=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),{noun:"input",postComposer:{inputType:s},action:t}))},R=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),{noun:s,action:Object(b.getToggleAction)(t)}))},D=e=>{Object(l.a)(Object.assign({},f(e),{noun:"hide_oc_description",action:"click"}))},P=(e,t)=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"share_profile_post_to_category",subreddit:{categoryName:t}}))},x=e=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"recommend_oc_community"}))},w=(e,t)=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"recommended_oc_category",subreddit:{categoryName:t}}))},k=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"recommended_oc_subreddit",subreddit:{id:s.id,name:s.name,categoryName:t}}))},N=e=>{Object(l.a)(Object.assign({},f(e),{noun:"recommend_oc_community",action:"close"}))},L=(e,t)=>{if(t){const s=d.subredditById(e,t);if(s)return{subreddit:s};const r=d.profileById(e,t);if(r)return{profile:r}}},U=(e,t)=>{const s=t.draftId,r=t.destSubreddit,n=Object(u.j)(e),a=Object(i.d)(e,{draftId:s}),c={authorId:n?n.id:void 0,createdTimestamp:a?a.created:void 0,id:s||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case o.b.Link:c.type=p.DraftType.Link,c.urlLength=t.body.length;break;case o.b.Markdown:c.type=p.DraftType.Self,c.bodyTextLength=t.body.length;break;case o.b.RichText:c.type=p.DraftType.RichText,t.documentStats&&(c.bodyTextLength=t.documentStats.textLength,c.numberRteImages=t.documentStats.rteImagesCount,c.numberRteVideos=t.documentStats.rteVideosCount);break;case o.b.Image:c.type=p.DraftType.Image;break;case o.b.Video:c.type=p.DraftType.Video}return Object.assign({postDraft:c},L(e,r.id))},M=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_load"},f(e),U(e,t)))},F=(e,t)=>{Object(l.a)(Object.assign({noun:t.draftId?"draft_update":"draft_create"},f(e),U(e,t)))},G=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_delete"},f(e),((e,t)=>{const s=Object(u.j)(e),r={authorId:s?s.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case o.b.Link:r.type=p.DraftType.Link,r.urlLength=(t.body||"").length;break;case o.b.Markdown:r.type=p.DraftType.Self,r.bodyTextLength=(t.body||"").length;break;case o.b.RichText:r.type=p.DraftType.RichText}return Object.assign({postDraft:r},L(e,t.subredditId))})(e,t)))},B=e=>{Object(l.a)(Object.assign({},f(e),{noun:"social_connect_link",action:r.b.CLICK}))},$=(e,t)=>{Object(l.a)(Object.assign({},f(e),{noun:"twitter_share_checkbox",action:Object(b.getToggleAction)(t)}))},V=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),U(e,t),{noun:"draft_share",action:s?"enable":"disable"}))}},"./src/reddit/helpers/trackers/premium.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return o}),s.d(t,"g",function(){return i}),s.d(t,"e",function(){return d}),s.d(t,"a",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"b",function(){return O});var r=s("./src/reddit/selectors/telemetry.ts"),n=s("./node_modules/uuid/v4.js"),a=s.n(n);let c;const o=()=>c,i=()=>c=a()(),d=()=>c=void 0,u="premium_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:o()},r.defaults(e)),b=()=>e=>Object.assign({source:u,action:"click",noun:"price",correlationId:o()},r.defaults(e)),p=()=>e=>Object.assign({source:u,action:"click",noun:"redeem_code",correlationId:o()},r.defaults(e)),O=()=>e=>Object.assign({source:u,action:"click",noun:"manage",correlationId:o()},r.defaults(e))},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return y}),s.d(t,"c",function(){return g}),s.d(t,"j",function(){return _}),s.d(t,"k",function(){return E}),s.d(t,"i",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"g",function(){return T}),s.d(t,"d",function(){return S}),s.d(t,"e",function(){return v}),s.d(t,"a",function(){return R}),s.d(t,"h",function(){return D});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makePostDraftPageKey/index.ts"),a=s("./src/reddit/helpers/routeKey/index.ts"),c=s("./src/reddit/helpers/trackers/postComposer.ts"),o=s("./src/reddit/helpers/trackers/profileSettings.ts"),i=s("./src/reddit/models/Comment/index.ts"),d=s("./src/reddit/models/Post/index.ts"),u=s("./src/reddit/selectors/news.ts"),l=s("./src/reddit/selectors/profile.ts"),b=s("./src/reddit/selectors/subreddit.ts"),p=s("./src/reddit/helpers/trackers/coins.ts"),O=s("./src/reddit/helpers/trackers/premium.ts"),f=s("./src/reddit/selectors/postDraft.ts"),m=s("./src/reddit/selectors/telemetry.ts"),j=s("./src/telemetry/index.ts");const y=(e,t,s,c)=>{const l=e.route.meta.name;if(l)switch(l){case r.mb.COMMENTS:var b=e.match.params;const w=b.partialCommentId,k=b.partialPostId,N=Object(d.f)(k),L=Object(a.a)(e,t,t.posts.models[N]);if(!L)return;const U=w&&Object(i.b)(w);Object(j.a)(I(L,N,U,s,c)(t));break;case r.mb.INDEX:case r.mb.LISTING:case r.mb.MULTIREDDIT:case r.mb.SUBREDDIT:case r.mb.ORIGINAL_CONTENT:const M=Object(a.d)(e,t);if(!M)return;var p=e.match;const F=p.params,G=p.queryParams;var O=F.sort;const B=void 0===O?r.U.HOT:O,$=G.t;Object(j.a)(g(M,B,s,c,$)(t));break;case r.mb.PROFILE_OVERVIEW:{const n=Object(a.f)(e,t);if(!n)return;var f=e.match;const o=f.params,i=f.queryParams;var m=o.sort;const d=void 0===m?r.fb:m,u=i.t;Object(j.a)(_(n,d,s,c,u)(t))}break;case r.mb.PROFILE_POSTS:{const n=Object(a.f)(e,t);if(!n)return;const o=e.match.queryParams;var y=o.sort;const i=void 0===y?r.fb:y;var T=o.t;const d=void 0===T?r.Mb:T;Object(j.a)(E(n,i,s,c,d)(t))}break;case r.mb.PROFILE_COMMENTS:{const n=Object(a.f)(e,t);if(!n)return;const o=e.match.queryParams;var S=o.sort;const i=void 0===S?r.fb:S;var v=o.t;const d=void 0===v?r.Mb:v;Object(j.a)(h(n,i,s,c,d)(t))}break;case r.mb.SETTINGS:e.match.params.page===r.Gb.Profile&&Object(o.j)(t);break;case r.mb.POST_CREATION:break;case r.mb.NEWS:const V=Object(a.e)(e,t);if(!V)return;const H=Object(u.m)(t.user);Object(j.a)(g(V,H,s,c)(t));break;case r.mb.POST_DRAFT:{const r=e.match.params.draftId,a=Object(n.a)(e.match.params);if(!a)return;C(t,a,r,s,c);break}case r.mb.PARTNER_SUBREDDIT_CONNECTION:Object(j.a)(A(s,c)(t));break;case r.mb.COINS:Object(j.a)(R(s,c)(t));break;case r.mb.PREMIUM:Object(j.a)(D(s,c)(t));break;case r.mb.APPEAL:Object(j.a)(P(s,c)(t));break;case r.mb.EXPLORE:{const r=Object(a.b)(e);if(!r)return;Object(j.a)(x(r,s,c)(t));break}}},g=(e,t,s,r,n)=>a=>{const c=m.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const o=a.listings.postOrder.api,i=!o.error[e]&&!o.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},m.defaults(a),{actionInfo:m.actionInfo(a,{success:i}),news:m.news(a),screen:m.screen(a),subreddit:m.subreddit(a),timer:m.timer(s,r),userSubreddit:m.userSubreddit(a),adblock:m.adblock(a)})},_=(e,t,s,r,n)=>a=>{const c=m.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const o=a.listings.postOrder.api,i=!o.error[e]&&!o.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},m.defaults(a),{actionInfo:m.actionInfo(a,{success:i}),profile:m.profile(a),screen:m.screen(a),subreddit:m.subreddit(a),timer:m.timer(s,r),userSubreddit:m.userSubreddit(a),adblock:m.adblock(a)})},E=(e,t,s,r,n)=>a=>{const c=m.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const o=a.listings.postOrder.api,i=!o.error[e]&&!o.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},m.defaults(a),{actionInfo:m.actionInfo(a,{success:i}),profile:m.profile(a),screen:m.screen(a),subreddit:m.subreddit(a),timer:m.timer(s,r),userSubreddit:m.userSubreddit(a),adblock:m.adblock(a)})},h=(e,t,s,r,n)=>a=>{const c=m.profileComments(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const o=a.profileCommentsPage.api,i=!o.error[e]&&!o.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},m.defaults(a),{actionInfo:m.actionInfo(a,{success:i}),profile:m.profile(a),screen:m.screen(a),subreddit:m.subreddit(a),timer:m.timer(s,r),userSubreddit:m.userSubreddit(a),adblock:m.adblock(a)})},I=(e,t,s,r,n)=>a=>{const c=a.commentsPage.api,o=!c.error[e]&&!c.pending[e],i=Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(a),{actionInfo:m.actionInfo(a,{success:o}),post:m.post(a,t),profile:m.profile(a),screen:m.screen(a),subreddit:m.subreddit(a),timer:m.timer(r,n),userSubreddit:m.userSubreddit(a),adblock:m.adblock(a)});return s&&(i.comment=m.comment(a,s)),i},T=(e,t,s)=>r=>{const n=r.creations.api.page.fetched[e],a=r.platform.currentPage?r.platform.currentPage.queryParams.source_id:void 0;return Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(r),{actionInfo:m.actionInfo(r,{success:n}),post:a?m.post(r,a):void 0,screen:m.screen(r),subreddit:m.subreddit(r),timer:m.timer(t,s),userSubreddit:m.userSubreddit(r),adblock:m.adblock(r)})},S=(e,t,s)=>{Object(j.a)(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e),{actionInfo:m.actionInfo(e,{success:t}),screen:m.screen(e),subreddit:m.subredditById(e,Object(b.w)(e,s)),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}))},v=(e,t,s,r)=>{Object(j.a)(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e),{profile:m.profileById(e,Object(l.i)(e,r)),screen:m.screen(e),subreddit:m.subredditById(e,Object(b.w)(e,s)),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)}))},C=(e,t,s,r,n)=>{const a=e.creations.api.page.pending[t],o=!e.creations.api.page.error[t]&&!a&&!!s,i=Object(f.h)(e,s);Object(j.a)(Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(e),{actionInfo:m.actionInfo(e,{success:o}),screen:m.screen(e),subreddit:m.subreddit(e),timer:m.timer(r,n),userSubreddit:m.userSubreddit(e),adblock:m.adblock(e)},i?Object(c.j)(e,i):{}))},A=(e,t)=>s=>Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(s),{actionInfo:m.actionInfo(s),screen:m.screen(s),timer:m.timer(e,t),userSubreddit:m.userSubreddit(s),adblock:m.adblock(s)}),R=(e,t)=>s=>Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:p.e()},m.defaults(s),{timer:m.timer(e,t),adblock:m.adblock(s)}),D=(e,t)=>s=>Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:O.f()},m.defaults(s),{timer:m.timer(e,t),adblock:m.adblock(s)}),P=(e,t)=>s=>Object.assign({source:"appeal",action:"view",noun:"page"},m.defaults(s),{timer:m.timer(e,t)}),x=(e,t,s)=>r=>{const n=r.listings.listingOrder.api,a=!n.error[e]&&!n.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},m.defaults(r),{actionInfo:m.actionInfo(r,{success:a}),screen:m.screen(r),timer:m.timer(t,s),userSubreddit:m.userSubreddit(r),adblock:m.adblock(r)})}},"./src/reddit/helpers/trackers/submitValidation.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"c",function(){return d}),s.d(t,"h",function(){return b}),s.d(t,"g",function(){return p}),s.d(t,"d",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"e",function(){return _}),s.d(t,"i",function(){return E}),s.d(t,"j",function(){return h});var r=s("./src/reddit/controls/FormFields/index.tsx"),n=s("./src/reddit/selectors/telemetry.ts"),a=s("./src/telemetry/index.ts");const c=e=>Object.assign({source:"submit_validation"},n.defaults(e),{profile:n.profile(e),subreddit:n.subreddit(e)}),o={titleRegEx:"title_regex",titleStrings:"title_required_word",titleLength:"title_length",reposts:"repost_frequency",flair:"post_flair"},i=(e,t,s)=>{Object(a.a)(Object.assign({},c(e),{action:s?"deselect":"select",noun:o[t]}))},d=(e,t)=>t.action===r.d.ADD?u(e):t.action===r.d.REMOVE&&t.value&&void 0!==t.index?l(e,t.value,t.index):void 0,u=e=>{Object(a.a)(Object.assign({},c(e),{action:"add",noun:"title_required_word"}))},l=(e,t,s)=>{Object(a.a)(Object.assign({},c(e),{action:"remove",noun:"title_required_word",actionInfo:n.actionInfo(e,{settingValue:t,position:s})}))},b=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"change",noun:"title_min",actionInfo:n.actionInfo(e,{settingValue:t})}))},p=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"change",noun:"title_max",actionInfo:n.actionInfo(e,{settingValue:t})}))},O={none:"optional",required:"required",notAllowed:"not_allowed"},f=(e,t)=>{const s=O[t];Object(a.a)(Object.assign({},c(e),{action:"toggle",noun:"post_body",actionInfo:n.actionInfo(e,{settingValue:s})}))},m=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"toggle",noun:"domain",actionInfo:n.actionInfo(e,{settingValue:"none"===t?"no_filtering":t})}))},j=(e,t,s)=>{if(t.action===r.d.ADD){return y(e,"whitelist"===s?"add_whitelist":"add_blacklist")}if(t.action===r.d.REMOVE&&t.value&&void 0!==t.index){const r="whitelist"===s?"remove_whitelist":"remove_blacklist";return g(e,t.value,t.index,r)}},y=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:t,noun:"domain"}))},g=(e,t,s,r)=>{Object(a.a)(Object.assign({},c(e),{action:r,noun:"domain",actionInfo:n.actionInfo(e,{settingValue:t,position:s})}))},_=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"change",noun:"repost_days",actionInfo:n.actionInfo(e,{settingValue:t})}))},E=e=>{Object(a.a)(Object.assign({},c(e),{action:"click",noun:"save"}))},h=e=>{Object(a.a)(Object.assign({source:"global",noun:"screen",action:"view"},n.defaults(e),{profile:n.profile(e),subreddit:n.subreddit(e)}))}},"./src/reddit/icons/svgs/Plus/index.tsx":function(e,t,s){"use strict";s("./node_modules/react/index.js");var r,n=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,s,n){var a=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={}),t&&a)for(var o in a)void 0===t[o]&&(t[o]=a[o]);else t||(t=a||{});if(1===c)t.children=n;else if(c>1){for(var i=Array(c),d=0;d<c;d++)i[d]=arguments[d+3];t.children=i}return{$$typeof:r,type:e,key:void 0===s?null:""+s,ref:null,props:t,_owner:null}});t.a=(e=>n("svg",{className:e.className,viewBox:"0 0 20 20",version:"1.1"},void 0,n("g",{stroke:"none"},void 0,n("g",{transform:"translate(-34.000000, -136.000000)",fill:"inherit"},void 0,n("path",{d:"M45.2,147.2 L48.8,147.2 C49.46272,147.2 50,146.66272 50,146 C50,145.33728 49.46272,144.8 48.8,144.8 L45.2,144.8 L45.2,141.2 C45.2,140.53728 44.66272,140 44,140 C43.33728,140 42.8,140.53728 42.8,141.2 L42.8,144.8 L39.2,144.8 C38.53728,144.8 38,145.33728 38,146 C38,146.66272 38.53728,147.2 39.2,147.2 L42.8,147.2 L42.8,150.8 C42.8,151.46272 43.33728,152 44,152 C44.66272,152 45.2,151.46272 45.2,150.8 L45.2,147.2 Z",id:"Combined-Shape"})))))},"./src/reddit/icons/svgs/Trash2/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return i});s("./node_modules/react/index.js");var r,n=s("./bundled-modules/styled-components/styled-components.min.js"),a=s.n(n),c=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,s,n){var a=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={}),t&&a)for(var o in a)void 0===t[o]&&(t[o]=a[o]);else t||(t=a||{});if(1===c)t.children=n;else if(c>1){for(var i=Array(c),d=0;d<c;d++)i[d]=arguments[d+3];t.children=i}return{$$typeof:r,type:e,key:void 0===s?null:""+s,ref:null,props:t,_owner:null}});const i=e=>o("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},void 0,o("path",{d:"M16.5,2H12.71l-.85-.85A.5.5,0,0,0,11.5,1h-3a.5.5,0,0,0-.35.15L7.29,2H3.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h13a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,16.5,2Z"}),o("path",{d:"M16.5,5H3.5a.5.5,0,0,0-.5.5v12A1.5,1.5,0,0,0,4.5,19h11A1.5,1.5,0,0,0,17,17.5V5.5A.5.5,0,0,0,16.5,5ZM6.75,15.5a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Z"}));t.b=a()(i).withConfig({componentId:"s69qjd8-0"})(["fill: ",";"],e=>Object(c.c)(e).actionIcon)},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return c});var r,n=s("./node_modules/uuid/v4.js"),a=s.n(n);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(r||(r={}));const c=()=>a()()},"./src/reddit/models/Comment/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return i});var r=s("./src/reddit/constants/comments.ts"),n=s("./src/reddit/constants/things.ts"),a=s("./src/lib/constants/index.ts");const c=e=>`${n.a}${e}`,o=e=>({id:e,type:r.b.Comment}),i=e=>e.author===a.B},"./src/reddit/models/DiscoveryUnit/index.ts":function(e,t,s){"use strict";var r,n,a,c;s.d(t,"a",function(){return r}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"c",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"f",function(){return l}),s.d(t,"g",function(){return b}),function(e){e.Community="community",e.CommunityCategory="community_category",e.FavoriteSubreddits="favorite_subreddits",e.Listing="listing",e.RecentlyVisitedSubreddits="recently_visited_subreddits",e.SubredditListing="subreddit_listing"}(r||(r={})),function(e){e.Communities="communities",e.Explore="explore",e.Frontpage="front_page",e.Popular="popular",e.SubredditListing="subreddit_listing"}(n||(n={})),function(e){e.Large="large",e.Small="small"}(a||(a={})),function(e){e.Wide="wide",e.Description="description",e.ActionButton="action_button",e.SeeMore="see_more",e.HideItems="hide_items",e.HideUnit="hide_unit",e.ShowLess="show_less",e.PostShowSubredditHeader="post_show_subreddit_header",e.UnitShowSubredditHeader="unit_show_subreddit_header",e.PreviewMode="preview_mode"}(c||(c={}));const o="posts_in_category_rails_hero",i="posts_in_subreddit_hero",d="posts_in_category_rails_small",u="posts_in_subreddit_small",l="search_posts",b="search_subreddits"},"./src/reddit/models/Duplicates/index.ts":function(e,t,s){"use strict";function r(e,t){return`${e}-sort[${t.sort}]-crossposts_only[${t.crossposts_only}]`}s.d(t,"a",function(){return r})},"./src/reddit/models/Emoji/index.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"e",function(){return o});const r=24,n=64e3,a=128,c=128,o=(e,t,s)=>({name:e,url:t,subredditId:s})},"./src/reddit/models/Gold/Coins/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/config.ts");const n={coins500:{coins:500,pennies:199,assetPath:`${r.a.assetPath}/img/gold/coins-package-500.png`},coins1100:{coins:1100,pennies:399,assetPath:`${r.a.assetPath}/img/gold/coins-package-1100.png`},coins1800:{coins:1800,pennies:599,assetPath:`${r.a.assetPath}/img/gold/coins-package-1800.png`},coins7200:{coins:7200,pennies:1999,assetPath:`${r.a.assetPath}/img/gold/coins-package-7200.png`},coins40000:{coins:4e4,pennies:9999,assetPath:`${r.a.assetPath}/img/gold/coins-package-40000.png`},coinsVariable:{coins:1/0,pennies:1/0,assetPath:`${r.a.assetPath}/img/gold/coins-package-40000.png`}},a=(e,t)=>{for(const s in n){const r=n[s];if(t-r.coins<=e)return r}return n.coins40000},c=e=>{const t=n.coins40000;if(e<=t.coins)return a(0,e);const s=t.pennies/t.coins,r=n.coinsVariable;return r.coins=e,r.pennies=Math.ceil(s*e),r}},"./src/reddit/models/Gold/Gild/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return d}),s.d(t,"d",function(){return l}),s.d(t,"b",function(){return p});s("./node_modules/react/index.js");var r,n,a,c=s("./src/config.ts"),o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,s,n){var a=e&&e.defaultProps,c=arguments.length-3;if(t||0===c||(t={}),t&&a)for(var o in a)void 0===t[o]&&(t[o]=a[o]);else t||(t=a||{});if(1===c)t.children=n;else if(c>1){for(var i=Array(c),d=0;d<c;d++)i[d]=arguments[d+3];t.children=i}return{$$typeof:r,type:e,key:void 0===s?null:""+s,ref:null,props:t,_owner:null}});!function(e){e.Silver="silver",e.Gold="gold",e.Platinum="platinum"}(n||(n={})),function(e){e.Gid1="gid_1",e.Gid2="gid_2",e.Gid3="gid_3"}(a||(a={}));const i=new Set(Object.keys(a).map(e=>a[e])),d=e=>i.has(e)?e.replace(/_/,""):null,u={[a.Gid1]:{title:"gold.gildModal.awardSelector.silver.title",color:"#A5A4A4",cost:100,modelField:a.Gid1,benefits:["gold.gildModal.awardSelector.silver.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.silver.benefitsTitle",icon:({className:e})=>o("img",{className:e,src:`${c.a.assetPath}/img/gold/badges/award-silver-medium.png`}),awardMessage:"gold.gildModal.awardSelector.silver.awardMessage",enabled:!0},[a.Gid2]:{title:"gold.gildModal.awardSelector.gold.title",color:"#DDBB38",cost:500,modelField:a.Gid2,benefits:["gold.gildModal.awardSelector.gold.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.gold.benefitsTitle",icon:({className:e})=>o("img",{className:e,src:`${c.a.assetPath}/img/gold/badges/award-gold-medium.png`}),awardMessage:"gold.gildModal.awardSelector.gold.awardMessage",enabled:!0},[a.Gid3]:{title:"gold.gildModal.awardSelector.platinum.title",color:"#0DD2BA",cost:1800,modelField:a.Gid3,benefits:["gold.gildModal.awardSelector.platinum.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.platinum.benefitsTitle",icon:({className:e})=>o("img",{className:e,src:`${c.a.assetPath}/img/gold/badges/award-platinum-medium.png`}),awardMessage:"gold.gildModal.awardSelector.platinum.awardMessage",enabled:!0}},l=e=>u[e],b={[a.Gid1]:0,[a.Gid2]:0,[a.Gid3]:0},p=(e,t)=>Object.assign({},e,{gildings:t||b})},"./src/reddit/models/ModQueue/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return i}),s.d(t,"d",function(){return d});var r=s("./src/reddit/helpers/isPost.ts"),n=s("./src/reddit/models/Flair/index.ts");const a=1;var c;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(c||(c={}));const o={},i={ignore_reports:c.UnignoreReports,lock:c.Unlock,mark_nsfw:c.UnmarkNSFW,remove:c.Approve,spam:c.Approve,spoiler:c.Unspoiler,unignore_reports:c.IgnoreReports,unlock:c.Lock,unmark_nsfw:c.MarkNSFW,unspoiler:c.Spoiler},d=(e,t,s,a,i)=>{switch(t){case"approve":{const e={};return s.forEach(t=>{e[t]={approvedBy:a,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null}}),e}case"flair":{const t={};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s].flair.filter(e=>e.type===n.e.Nsfw||e.type===n.e.Spoiler);i&&i.flair&&r.push(i.flair),t[s]={flair:r}}}),t}case"ignore_reports":{const e={};return s.forEach(t=>{e[t]={ignoreReports:!0}}),e}case"lock":{const e={};return s.forEach(t=>{e[t]={isLocked:!0}}),e}case"mark_nsfw":{const t={},a={text:"nsfw",type:n.e.Nsfw};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],n=r.isNSFW?r.flair:r.flair?[...r.flair,a]:{[s]:a};t[s]={isNSFW:!0,flair:n}}}),t}case"remove":{const e={};return s.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:a}}),e}case"spam":{const e={};return s.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:a}}),e}case"spoiler":{const t={},a={text:"spoiler",type:n.e.Spoiler};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],n=r.isSpoiler?r.flair:r.flair?[...r.flair,a]:{[s]:a};t[s]={isSpoiler:!0,flair:n}}}),t}case"unignore_reports":{const e={};return s.forEach(t=>{e[t]={ignoreReports:!1}}),e}case"unlock":{const e={};return s.forEach(t=>{e[t]={isLocked:!1}}),e}case"unmark_nsfw":{const t={};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],a=r.flair?r.flair.filter(e=>e.type!==n.e.Nsfw):null;t[s]={isNSFW:!1,flair:a}}}),t}case"unspoiler":{const t={};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],a=r.flair?r.flair.filter(e=>e.type!==n.e.Spoiler):null;t[s]={isSpoiler:!1,flair:a}}}),t}case c.RemovalReason:{const e={};return s.forEach(t=>{e[t]={modNote:i&&i.modNote,modReasonBy:a,modRemovalReason:i&&i.removalReason}}),e}default:return o}}},"./src/reddit/models/Poll/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"e",function(){return c}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i});var r,n,a=s("./node_modules/bignumber.js/bignumber.js");function c(e,t){const s=!!e.options.filter(e=>t.options[e.id].userSelected).length,r=new Date(e.endsAt).getTime()<Date.now();return s||r}function o(e,t){let s=e.options[0],r=new a.BigNumber(t.options[s.id].votes);for(const n of e.options){const e=new a.BigNumber(t.options[n.id].votes);e.isGreaterThan(r)&&(s=n,r=e)}return s}function i(e){switch(e.type){case r.govGeneric:return!0;default:return!1}}!function(e){e.govGeneric="governance:generic"}(r||(r={})),function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower"}(n||(n={}))},"./src/reddit/models/PostRequirements/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i});var r=s("./node_modules/lodash/isEqual.js"),n=s.n(r);const a=e=>"number"==typeof e&&e<2?null:e,c=e=>{const t={},s=e.titleRegEx,r=e.titleStrings,n=e.titleLength,c=e.postLength,o=e.linkDomain,i=e.linkListPermission,d=e.postBodyRequirement,u=e.postingGuidelines,l=e.reposts,b=e.flair;return r.isToggled?t.ruleTitleStrings=r.strings.filter(e=>!!e):t.ruleTitleStrings=[],s.isToggled?t.ruleTitleRegex=s.regex.filter(e=>!!e):t.ruleTitleRegex=[],n.isToggled?(t.ruleTitleTextMaxLength=n.max,t.ruleTitleTextMinLength=a(n.min)):(t.ruleTitleTextMaxLength=null,t.ruleTitleTextMinLength=null),c.isToggled?(t.ruleBodyTextMaxLength=c.max,t.ruleBodyTextMinLength=a(c.min)):(t.ruleBodyTextMaxLength=null,t.ruleBodyTextMinLength=null),t.ruleLinkListPermission=i,"none"!==i&&("whitelist"===i?t.ruleLinkWhitelist=o.whitelist.filter(e=>!!e):t.ruleLinkBlacklist=o.blacklist.filter(e=>!!e)),t.noopGuidelinesRequirement=u.requirement,"none"!==u.requirement&&(t.noopGuidelines=u.guidelines),l.isToggled?t.ruleLinkRepostAge=l.days:t.ruleLinkRepostAge=null,t.ruleBodyRequirement=d,t.ruleFlairRequired=b.isToggled,t},o=(e,t)=>{const s=Object.assign({},e);return s.isLoading=!1,s.titleStrings.isToggled=!!t.ruleTitleStrings.length,s.titleStrings.strings=t.ruleTitleStrings,s.titleRegEx.isToggled=!!t.ruleTitleRegex.length,s.titleRegEx.regex=t.ruleTitleRegex,s.titleLength.isToggled=null!==t.ruleTitleTextMinLength||null!==t.ruleTitleTextMaxLength,s.titleLength.min=t.ruleTitleTextMinLength,s.titleLength.max=t.ruleTitleTextMaxLength,s.postLength.isToggled=null!==t.ruleBodyTextMinLength||null!==t.ruleBodyTextMaxLength,s.postLength.min=t.ruleBodyTextMinLength,s.postLength.max=t.ruleBodyTextMaxLength,s.postingGuidelines.requirement=t.noopGuidelinesRequirement,s.postingGuidelines.guidelines=t.noopGuidelines,s.postBodyRequirement=t.ruleBodyRequirement,s.linkListPermission=t.ruleLinkListPermission,s.linkDomain.whitelist=t.ruleLinkWhitelist,s.linkDomain.blacklist=t.ruleLinkBlacklist,s.reposts.isToggled=null!==t.ruleLinkRepostAge,s.reposts.days=t.ruleLinkRepostAge,s.flair.isToggled=t.ruleFlairRequired,s},i=(e,t)=>{const s={};for(const r in e){const a=e[r];Array.isArray(a)?n()(a,t[r])||(s[r]=a):a!==t[r]&&(s[r]=a)}return s}},"./src/reddit/models/RemovalReason/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"b",function(){return o}),s.d(t,"f",function(){return i}),s.d(t,"e",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"h",function(){return l});var r=s("./src/reddit/helpers/isPost.ts");const n=20,a=50,c=1e4,o=100;var i,d;!function(e){e.Private="private",e.PrivateExposed="private_exposed",e.Public="public"}(i||(i={})),function(e){e.Bulk="bulk",e.Comment="comment",e.Post="link"}(d||(d={}));const u=e=>1===e.length?Object(r.a)(e[0])?d.Post:d.Comment:d.Bulk,l=(e,t)=>{return{[t===d.Bulk?"item_ids":"item_id"]:e.itemId,message:e.message,title:e.title,type:e.type}}},"./src/reddit/models/RichTextJson/nodeMakers.ts":function(e,t,s){"use strict";s.d(t,"r",function(){return n}),s.d(t,"l",function(){return a}),s.d(t,"h",function(){return c}),s.d(t,"m",function(){return o}),s.d(t,"n",function(){return i}),s.d(t,"s",function(){return d}),s.d(t,"k",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"i",function(){return O}),s.d(t,"j",function(){return f}),s.d(t,"p",function(){return m}),s.d(t,"o",function(){return j}),s.d(t,"q",function(){return y}),s.d(t,"f",function(){return g}),s.d(t,"b",function(){return _}),s.d(t,"t",function(){return E}),s.d(t,"g",function(){return h}),s.d(t,"a",function(){return I});var r=s("./src/reddit/models/RichTextJson/index.ts");const n=(e,t)=>Object.assign({e:r.A,t:e},t?{f:t}:null),a=e=>({e:r.w,t:e}),c=(e,t,s)=>Object.assign({e:r.o,t:e,u:t},s?{f:s}:null),o=e=>({e:r.x,c:[n(e,null)]}),i=(e,t)=>({e:r.y,t:e,l:t}),d=(e,t)=>({e:r.B,t:e,l:t}),u=e=>({e:r.u,c:e}),l=(e,t)=>({e:r.k,l:e,c:t}),b=e=>({e:r.b,c:e}),p=e=>({e:"code",c:e}),O=e=>({e:r.q,c:e}),f=(e,t)=>({e:r.p,c:e,o:t}),m=(e,t)=>Object.assign({c:e},t?{a:t}:{}),j=e=>({c:e}),y=(e,t)=>({e:r.z,h:e,c:t}),g=(e,t)=>({e:r.m,id:e,c:t}),_=(e,t)=>({e:r.a,id:e,c:t}),E=(e,t,s,n)=>Object.assign({e:r.C,id:e,c:t,gifify:n},s?{p:g(s)}:{}),h=()=>({e:r.n}),I={e:r.u,c:[{e:r.A,t:""}]}},"./src/reddit/models/Search/index.ts":function(e,t,s){"use strict";var r;s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"c",function(){return a}),function(e){e.subredditOrProfile="subredditOrProfile",e.text="text"}(r||(r={}));const n={searchQuery:"",type:r.text},a=e=>({displayInfo:{iconUrl:e.icon.url,subredditOrProfileName:e.name,subscribers:e.subscribers},id:e.id,isProfile:e.displayText.startsWith("u/"),isSubreddit:e.displayText.startsWith("r/"),isTypeaheadSuggestion:!0,searchQuery:e.displayText,type:r.subredditOrProfile})},"./src/reddit/models/SubredditChannel/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return i});var r,n,a=s("./src/chat/models/Channel/utils/removeSendbirdPrefix.ts");!function(e){e.Public="public",e.Private="private"}(r||(r={})),function(e){e.Joined="joined",e.Invited="invited",e.Unsorted="none"}(n||(n={}));const c={channelId:"",channelSendbirdUrl:"",subredditId:"",name:"",description:"",membersCount:0,type:r.Public,channelState:n.Unsorted,minimumAcctAge:0,newMemberAge:0,isModQueue:!1},o=e=>{const t={};return e.length&&e.forEach(e=>{const s=(e=>({channelId:Object(a.a)(e.url),channelSendbirdUrl:e.url,channelState:e.member_state,subredditId:e.subreddit.id,isModQueue:e.is_modqueue,name:e.name,type:e.type,description:e.description,membersCount:e.member_count,minimumAcctAge:e.automute_account_age_threshold||0,newMemberAge:e.automute_on_join_duration||0}))(e);t[s.channelId]=s}),t},i=e=>({channelId:Object(a.a)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:n.Joined,subredditId:e.subreddit_id,isModQueue:!1,name:e.room,type:e.roomType,description:e.description,membersCount:1,minimumAcctAge:e.automute_account_age_threshold,newMemberAge:e.automute_on_join_duration})},"./src/reddit/models/Vote/index.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"c",function(){return c}),function(e){e[e.downvoted=-1]="downvoted",e[e.notVoted=0]="notVoted",e[e.upvoted=1]="upvoted"}(r||(r={}));const n=(e,t)=>e.voteState===t?r.notVoted:t,a=e=>{switch(e){case!0:return r.upvoted;case!1:return r.downvoted;default:return r.notVoted}},c=(e,t)=>{const s=e.voteState===t,r=s?0:t,n=s?e.score-t:e.score-e.voteState+t;return Object.assign({},e,{voteState:r,score:n})}},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(r||(r={}))},"./src/reddit/reducers/comments/visitHighlightingFilter/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./src/reddit/actions/comment.ts"),a=s("./src/reddit/actions/platform.ts");!function(e){e.First="First",e.Last="Last",e.None="None"}(r||(r={}));const c=r.Last;t.b=((e=c,t)=>{switch(t.type){case a.a:return c;case n.a:return t.payload.sort;default:return e}})},"./src/reddit/reducers/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/redux/es/index.js"),n=s("./src/app/reducers/meta/index.ts"),a=s("./src/app/reducers/tooltipId/index.ts"),c=s("./src/reddit/actions/modal.ts"),o=s("./src/reddit/constants/modals.ts");const i={};var d=(e=i,t)=>{switch(t.type){case c.d:return t.payload||i;case c.b:case c.a:case c.c:return e===o.a.LOGIN_MODAL_ID||e===o.a.REGISTER_MODAL_ID?i:e;default:return e}},u=s("./src/reddit/actions/authorFlair.ts"),l=s("./src/reddit/actions/badge.ts"),b=s("./src/reddit/actions/governance/constants.ts"),p=s("./src/reddit/actions/platform.ts"),O=s("./src/reddit/actions/postCreation/index.ts"),f=s("./src/reddit/actions/product.ts"),m=s("./src/reddit/actions/reportFlow.ts"),j=s("./src/reddit/actions/structuredStyles.ts");var y=(e=null,t)=>{switch(t.type){case c.b:{const s=t.payload;return e===s?null:s}case c.a:case O.u:case c.c:case p.a:case m.e:return null;case j.f:return e===o.a.BLADE_UNSAVED_CHANGES?null:e;case j.e:return e===o.a.BLADE_NIGHTMODE?null:e;case u.a:return e===o.a.USER_FLAIR_MODAL_ID?null:o.a.USER_FLAIR_MODAL_ID;case l.c:return o.a.BADGE_PICKER;case f.b:return o.a.BADGE_PURCHASE;case b.c:return o.a.GOVERNANCE_OPT_OUT;case b.p:return o.a.TRANSFER_POINTS;case b.m:return o.a.GOVERNANCE_RELEASE_NOTES;default:return e}},g=s("./src/reddit/actions/post.ts"),_=s("./src/reddit/actions/video.ts");const E={};var h=(e=E,t)=>{switch(t.type){case g.a:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adImpression=Date.now(),r}case g.b:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adViewableImpression=Date.now(),r}case _.d:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoViewable=Date.now(),r}case _.a:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoFullyViewable=Date.now(),r}case _.c:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoStarted=Date.now(),r}case _.b:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoPlayedWithSound=Date.now(),r}case _.q:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoPlayedExpanded=Date.now(),r}case _.e:{var s=t.payload;const r=s.postId,n=s.percentage,a=Object.assign({},e);a[r]||(a[r]={});const c=`adVideoWatchedPercent${n}`;return a[r].adVideoWatchedPercent||(a[r][c]={}),a[r][c]=Date.now(),a}case _.f:{var r=t.payload;const s=r.postId,n=r.seconds,a=Object.assign({},e);a[s]||(a[s]={});const c=`adVideoWatchedSeconds${n}`;return a[s].adVideoWatchedSeconds||(a[s][c]={}),a[s][c]=Date.now(),a}default:return e}},I=s("./src/reddit/actions/alpha.ts");const T={notFound:{users:[],subreddits:[]},error:null,pending:!1,showOptoutBanner:!1};var S=(e=T,t)=>{switch(t.type){case I.e:case I.a:{const s=t.paylod.error;return Object.assign({},e,{error:s,pending:!1})}case I.f:case I.b:return Object.assign({},e,{error:null,pending:!0});case I.c:case I.g:{const s=t.payload.notFound;return Object.assign({},e,{error:null,pending:!1,notFound:s})}case I.d:return Object.assign({},e,{showOptoutBanner:!!t.payload});default:return e}},v=s("./src/reddit/actions/apiRequestState.ts");const C={};var A=(e=C,t)=>{switch(t.type){case v.d:case v.a:case v.b:{const s=t.payload;return Object.assign({},e,{[s.apiRequestId]:s})}case v.c:{const s=t.payload;if(!(s in e))return e;if(1===Object.keys(e).length)return C;const r=Object.assign({},e);return delete r[s],r}default:return e}},R=s("./src/reddit/actions/appeal.ts");var D=(e=!1,t)=>{switch(t.type){case R.e:case R.b:return!1;case R.a:return!0;case R.d:return!1;default:return e}};var P=(e=!1,t)=>{switch(t.type){case R.e:return!0;case R.b:case R.a:case R.d:return!1;default:return e}};var x=(e=!1,t)=>{switch(t.type){case R.b:return!0;case R.e:case R.a:case R.d:return!1;default:return e}},w=Object(r.c)({error:D,pending:P,success:x}),k=Object(r.c)({api:w}),N=s("./src/reddit/actions/subredditModeration.ts");var L=(e=null,t)=>{switch(t.type){case N.e:case N.d:return null;case N.c:return t.payload;default:return e}},U=s("./src/reddit/models/SubredditModeration/index.ts");const M={};var F=(e=M,t)=>{switch(t.type){case N.e:{var s=t.payload;const r=s.subredditId,n=s.fetchedToken,a=Object(U.c)(r,n);return Object.assign({},e,{[a]:!0})}case N.d:case N.c:{var r=t.payload;const s=r.subredditId,n=r.fetchedToken,a=Object(U.c)(s,n);return Object.assign({},e,{[a]:!1})}default:return e}},G=Object(r.c)({error:L,pending:F});const B={};var $=(e=B,t)=>{switch(t.type){case N.d:{var s=t.payload;const r=s.fetchedToken,n=s.subredditId,a=Object(U.c)(n,r);return Object.assign({},e,{[a]:!0})}default:return e}};const V={};var H=(e=V,t)=>{switch(t.type){case N.d:var s=t.payload;return{[s.subredditId]:s.after};default:return e}},q=s("./node_modules/lodash/merge.js"),K=s.n(q);const W={};var Q=(e=W,t)=>{switch(t.type){case N.b:case N.d:{var s=t.payload;const r={[s.subredditId]:s.approvedSubmitters};return K()(Object.assign({},e),r)}case N.i:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}default:return e}};var Y=(e=null,t)=>{switch(t.type){case N.h:case N.g:return null;case N.f:return t.payload;default:return e}};var J=(e=!1,t)=>{switch(t.type){case N.h:return!0;case N.g:case N.f:return!1;default:return e}},z=Object(r.c)({error:Y,pending:J});var X=(e=null,t)=>{switch(t.type){case N.h:return null;case N.g:{const e=t.payload.approvedSubmitterIds[0];return e?t.payload.approvedSubmitters[e]:null}default:return e}},Z=Object(r.c)({api:z,result:X});const ee={};var te=(e=ee,t)=>{switch(t.type){case N.d:{var s=t.payload;const r=s.subredditId,n=s.approvedSubmitterIds;return e[r]?Object.assign({},e,{[r]:[...e[r],...n]}):Object.assign({},e,{[r]:n})}case N.i:{var r=t.payload;const s=r.subredditId,n=r.userId;return{[s]:e[s].filter(e=>e!==n)}}case N.b:{var n=t.payload;const s=n.subredditId,r=n.approvedSubmitterIds[0];return r&&e[s]&&-1===e[s].indexOf(r)?{[s]:[r,...e[s]]}:e}default:return e}},se=Object(r.c)({api:G,fetchedTokens:$,loadMore:H,models:Q,search:Z,userOrder:te});var re=(e=null,t)=>{switch(t.type){case u.a:return t.payload;default:return e}},ne=s("./src/reddit/actions/comment.ts"),ae=s("./src/reddit/actions/modQueue.ts"),ce=s("./src/reddit/actions/page.ts"),oe=s("./src/reddit/actions/pages/profileComments.ts"),ie=s("./src/reddit/actions/pages/profilePosts.ts"),de=s("./src/reddit/actions/profileConversations.ts"),ue=s("./src/reddit/actions/subreddit.ts"),le=s("./src/reddit/actions/userFlair.ts"),be=s("./src/reddit/models/User/index.ts");const pe={};var Oe=(e=pe,t)=>{switch(t.type){case ce.q:{const s=t.payload.authorFlair;return s?K()(Object.assign({},e),s):e}case ne.t:case ce.s:case ce.b:case oe.b:case oe.e:case ie.e:case ie.b:case de.e:case ue.o:{var s=t.payload;const r=s.account,n=s.authorFlair,a=s.userFlair,c=K()(Object.assign({},e),n);if(!a||!r)return c;const o=Object.keys(a)[0];return o&&Object(be.d)(r)?(c[o]||(c[o]={}),c):c}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{var r=t.payload.response;const s=r.account,n=r.authorFlair,a=r.userFlair,c=K()(Object.assign({},e),n);if(!a||!s)return c;const o=Object.keys(a)[0];return o&&Object(be.d)(s)?(c[o]||(c[o]={}),c):c}case le.i:{var n=t.payload;const s=n.subredditId,r=n.userName,a=n.applied,c=n.displaySettings.isUserEnabled;return Object.assign({},e,{[s]:Object.assign({},e[s],{[r]:c?a:null})})}case le.a:{var a=t.payload;const s=a.subredditId,r=a.userName,n=a.applied,c=a.displaySettings.isEnabled;return Object.assign({},e,{[s]:Object.assign({},e[s],{[r]:c?n:null})})}default:return e}},fe=Object(r.c)({inContext:re,models:Oe});const me={};var je=(e=me,t)=>{switch(t.type){case l.e:case l.f:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:void 0})}case l.d:{var s=t.payload;const r=s.subredditId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const ye={};var ge=(e=ye,t)=>{switch(t.type){case l.e:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case l.f:case l.d:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},_e=Object(r.c)({error:je,pending:ge});const Ee={};var he=(e=Ee,t)=>{switch(t.type){case l.h:case l.i:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:void 0})}case l.g:{var s=t.payload;const r=s.subredditId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Ie={};var Te=(e=Ie,t)=>{switch(t.type){case l.h:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case l.i:case l.g:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},Se=Object(r.c)({error:he,pending:Te}),ve=Object(r.c)({subreddit:_e,user:Se});const Ce={};var Ae=(e=Ce,t)=>{switch(t.type){case l.f:case l.i:case f.d:{const s=t.payload.badges;return Object.assign({},e,s)}default:return e}},Re=Object(r.c)({api:ve,models:Ae});var De=(e=null,t)=>{switch(t.type){case N.m:case N.l:return null;case N.k:return t.payload;default:return e}};const Pe={};var xe=(e=Pe,t)=>{switch(t.type){case N.m:{var s=t.payload;const r=s.subredditId,n=s.fetchedToken,a=Object(U.c)(r,n);return Object.assign({},e,{[a]:!0})}case N.l:case N.k:{var r=t.payload;const s=r.subredditId,n=r.fetchedToken,a=Object(U.c)(s,n);return Object.assign({},e,{[a]:!1})}default:return e}},we=Object(r.c)({error:De,pending:xe});const ke={};var Ne=(e=ke,t)=>{switch(t.type){case N.l:{var s=t.payload;const r=s.fetchedToken,n=s.subredditId,a=Object(U.c)(n,r);return Object.assign({},e,{[a]:!0})}default:return e}},Le=s("./src/reddit/actions/inContextModeration.ts");var Ue=(e=null,t)=>{switch(t.type){case Le.a:return t.payload;default:return e}};const Me={};var Fe=(e=Me,t)=>{switch(t.type){case N.l:var s=t.payload;return{[s.subredditId]:s.after};default:return e}};const Ge={};var Be=(e=Ge,t)=>{switch(t.type){case N.j:case N.l:{var s=t.payload;const r={[s.subredditId]:s.bannedUsers};return K()(Object.assign({},e),r)}case N.q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}default:return e}};var $e=(e=null,t)=>{switch(t.type){case N.p:case N.o:return null;case N.n:return t.payload;default:return e}};var Ve=(e=!1,t)=>{switch(t.type){case N.p:return!0;case N.o:case N.n:return!1;default:return e}},He=Object(r.c)({error:$e,pending:Ve});var qe=(e=null,t)=>{switch(t.type){case N.p:case N.n:return null;case N.o:{const e=t.payload.bannedUserIds[0];return e?t.payload.bannedUsers[e]:null}default:return e}},Ke=Object(r.c)({api:He,result:qe});const We={};var Qe=(e=We,t)=>{switch(t.type){case N.l:{var s=t.payload;const r=s.subredditId,n=s.bannedUserIds;return e[r]?Object.assign({},e,{[r]:[...e[r],...n]}):Object.assign({},e,{[r]:n})}case N.q:{var r=t.payload;const s=r.subredditId,n=r.userId;return{[s]:e[s].filter(e=>e!==n)}}case N.j:{var n=t.payload;const s=n.subredditId,r=n.bannedUserIds[0];return r&&e[s]&&-1===e[s].indexOf(r)?{[s]:[r,...e[s]]}:e}default:return e}},Ye=Object(r.c)({api:we,fetchedTokens:Ne,inContext:Ue,loadMore:Fe,models:Be,search:Ke,userOrder:Qe}),Je=s("./src/reddit/actions/userBlocks.ts");const ze={};var Xe=(e=ze,t)=>{switch(t.type){case Je.f:case Je.e:{const s=t.payload.userId;return Object.assign({},e,{[s]:null})}case Je.d:{var s=t.payload;const r=s.userId,n=s.type;return Object.assign({},e,{[r]:n})}default:return e}};const Ze={};var et=(e=Ze,t)=>{switch(t.type){case Je.f:{const s=t.payload.userId;return Object.assign({},e,{[s]:!0})}case Je.e:case Je.d:{const s=t.payload.userId;return Object.assign({},e,{[s]:!1})}default:return e}},tt=Object(r.c)({error:Xe,pending:et}),st=Object(r.c)({api:tt}),rt=s("./src/reddit/actions/ad.ts");const nt={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1};var at=(e=nt,t)=>{switch(t.type){case rt.a:return Object.assign({},e,{isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0});case ce.t:case ce.m:case ce.h:return Object.assign({},e,{hasBrandSafetyBeenAssessed:!1});default:return e}},ct=s("./src/reddit/actions/category.ts");var ot=(e=null,t)=>{switch(t.type){case ct.b:case ct.c:return null;case ct.a:return t.payload.error||null;default:return e}};var it=(e=!1,t)=>{switch(t.type){case ct.c:return!1;case ct.b:return!0;default:return e}};var dt=(e=!1,t)=>{switch(t.type){case ct.c:return!0;case ct.b:case ct.a:return!1;default:return e}},ut=Object(r.c)({error:ot,loaded:it,pending:dt});const lt={};var bt=(e=lt,t)=>{switch(t.type){case ct.f:case ct.e:{const s=t.payload.categoryId,r=Object.assign({},e);return delete r[s],r}case ct.d:{var s=t.payload;const r=s.categoryId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const pt={};var Ot=(e=pt,t)=>{switch(t.type){case ct.f:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!1})}case ct.e:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!0})}default:return e}};const ft={};var mt=(e=ft,t)=>{switch(t.type){case ct.f:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!0})}case ct.e:case ct.d:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!1})}default:return e}},jt=Object(r.c)({error:bt,loaded:Ot,pending:mt}),yt=Object(r.c)({list:ut,subreddits:jt}),gt=s("./node_modules/lodash/isEmpty.js"),_t=s.n(gt);const Et=[];var ht=(e=Et,t)=>{switch(t.type){case ct.b:{const s=t.payload.categoryIds;return _t()(s)?e:s}default:return e}};const It={};var Tt=(e=It,t)=>{switch(t.type){case ct.b:{const s=t.payload.categories;return _t()(s)?e:Object.assign({},e,s)}default:return e}},St=s("./node_modules/lodash/forOwn.js"),vt=s.n(St),Ct=s("./src/reddit/helpers/name/index.ts");const At={};var Rt=(e=At,t)=>{switch(t.type){case ct.b:{const s=t.payload.categories;if(_t()(s))return e;const r={};return vt()(s,e=>{r[Object(Ct.f)(e.name)]=e.id}),Object.assign({},e,r)}default:return e}},Dt=Object(r.c)({api:yt,ids:ht,models:Tt,nameToId:Rt}),Pt=s("./src/reddit/actions/chat/init.ts");var xt=(e=!1,t)=>{switch(t.type){case Pt.a:return!0;default:return e}},wt=s("./src/reddit/actions/chat/sendbirdProxy.ts"),kt=s("./src/reddit/actions/chat/subredditChannel.ts");var Nt=(e=!1,t)=>{switch(t.type){case kt.b:case kt.a:return!!t.payload.isUserSubredditChatEnabled;case wt.a:return t.payload.user_subreddit_chat_enabled;default:return e}},Lt=s("./src/chat/actions/promo/constants.ts");const Ut={displaySubredditChatFtux:!1};var Mt=(e=Ut,t)=>{switch(t.type){case Lt.a:{const s=t.payload;return Object.assign({},e,{[s]:!0})}case Lt.b:{const s=t.payload;return Object.assign({},e,{[s]:!1})}default:return e}},Ft=s("./src/reddit/actions/chat/subredditSettings.ts");const Gt={subredditId:null,bannedWords:"",domains:"",rateLimit:-1,regexes:[]};var Bt=(e=Gt,t)=>{switch(t.type){case Ft.a:return Object.assign({},t.payload);default:return e}},$t=s("./src/reddit/actions/chat/unreadCount.ts");const Vt={apiError:null};var Ht=(e=Vt,t)=>{switch(t.type){case $t.a.REQUEST_FAILED:{const e=t.payload;return Object.assign({},Vt,{apiError:e})}case $t.a.REQUEST_SUCCESS:case $t.a.REQUEST_PENDING:return Vt;default:return e}};var qt=(e=!1,t)=>{switch(t.type){case $t.a.REQUEST_PENDING:return!0;case $t.a.REQUEST_FAILED:case $t.a.REQUEST_SUCCESS:return!1;default:return e}},Kt=Object(r.c)({error:Ht,pending:qt});const Wt={basicChannelCount:0,subredditChannelCount:0};var Qt=(e=Wt,t)=>{switch(t.type){case $t.a.SYNC:case $t.a.REQUEST_SUCCESS:{const e=t.payload;return Object.assign({},e)}default:return e}},Yt=Object(r.c)({api:Kt,count:Qt}),Jt=Object(r.c)({isInited:xt,isUserSubredditChatEnabled:Nt,subredditSettings:Bt,promos:Mt,unread:Yt}),zt=s("./src/reddit/actions/claimgold.ts");var Xt=(e=null,t)=>{switch(t.type){case zt.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case zt.d:case zt.e:case zt.c:return null;default:return e}};var Zt=(e=!1,t)=>{switch(t.type){case zt.d:case zt.c:case zt.a:return!1;case zt.b:return!0;default:return e}};var es=(e=!1,t)=>{switch(t.type){case zt.b:case zt.d:case zt.c:case zt.a:return!1;case zt.f:return!0;default:return e}},ts=Object(r.c)({error:Xt,pending:Zt,showLoader:es});var ss=(e="",t)=>{switch(t.type){case zt.g:return t.payload;case zt.e:return"";default:return e}};var rs=(e=!1,t)=>{switch(t.type){case zt.e:return!0;case zt.c:case zt.d:return!1;default:return e}},ns=Object(r.c)({api:ts,code:ss,showModal:rs}),as=s("./node_modules/lodash/get.js"),cs=s.n(as),os=s("./src/reddit/actions/pages/collectionCommentsPage.ts");const is={};var ds=(e=is,t)=>{switch(t.type){case ne.d:{var s=t.payload;const r=s.commentsPageKey,n=s.commentId;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!cs()(e,[r,n],!1)})})}case ne.e:{var r=t.payload;const s=r.commentsPageKey,n=r.commentId;return Object.assign({},e,{[s]:Object.assign({},e[s],{[n]:!1})})}case ne.t:case os.b:case ce.b:{var n=t.payload;const s=n.key,r=n.shouldCollapse;if(!r)return e;const a=r.reduce((e,t)=>Object.assign({},e,{[t]:!0}),{});return Object.assign({},e,{[s]:Object.assign({},e[s],a)})}default:return e}},us=s("./src/app/models/Draft.ts"),ls=s("./src/lib/makeDraftKey/index.ts"),bs=s("./src/reddit/models/PostCreationForm/index.ts");const ps={};var Os=(e=ps,t)=>{switch(t.type){case ne.p:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:Object.assign({},e[s],{autofocusDisabled:!0})})}case ne.j:{var s=t.payload;const r=s.draftKey,n=s.hasFocus;return e[r]?Object.assign({},e,{[r]:Object.assign({},e[r],{hasFocus:n})}):e}case ce.e:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:{rteState:null,draftType:us.a.replyToPost}})}case os.b:case os.c:case ce.d:{var r=t.payload;const s=r.postId,n=r.commentMode,a=Object(ls.a)(us.a.replyToPost,s);return Object.assign({},e,{[a]:{rteState:null,hasFocus:!1,commentMode:n,draftType:us.a.replyToPost}})}case ne.l:var n=t.payload;const i=n.draftKey,d=n.content,u=n.editorMode;return e[i]?Object.assign({},e,{[i]:Object.assign({},e[i],{commentMode:u,rteState:null,text:u===bs.h.MARKDOWN?d:null,rtJson:u===bs.h.RICH_TEXT?d:null})}):e;case ne.q:case ne.o:{var a=t.payload;const s=a.draftKey,r=a.formData;return Object.assign({},e,{[s]:Object.assign({},r,{hasFocus:!0})})}case ne.k:{var c=t.payload;const s=c.draftKey,r=c.formData;return null===e[s]?e:Object.assign({},e,{[s]:Object.assign({},e[s],r)})}case ne.f:{const s=t.payload.draftKey,r=e[s];return r&&r.draftType===us.a.replyToPost?Object.assign({},e,{[s]:Object.assign({},r,{rteState:null,text:""})}):Object.assign({},e,{[s]:null})}case ne.F:{const s=t.payload.draftKey,r=e[s];return Object.assign({},e,{[s]:Object.assign({},r,{rteState:null,text:""})})}case ne.E:case ne.A:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:null})}case ne.D:{var o=t.payload;const s=o.draftKey,r=o.draft;return Object.assign({},e,{[s]:r})}default:return e}};const fs={};var ms=(e=fs,t)=>{switch(t.type){case ne.h:{const s=t.payload.commentListNodeId;return Object.assign({},e,{[s]:!0})}case ne.i:{const s=t.payload.commentListNodeId;return Object.assign({},e,{[s]:!e[s]})}default:return e}};const js={};var ys=(e=js,t)=>{switch(t.type){case ne.c:{var s=t.payload;const r=s.commentListNodeIds,n=s.commentsPageKey,a=r.reduce((t,s)=>(t[s]=!cs()(e,[n,s],!1),t),{});return Object.assign({},e,{[n]:Object.assign({},e[n],a)})}case ne.b:{var r=t.payload;const s=r.commentListNodeIds,n=r.commentsPageKey,a=s.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n],a)})}case ne.t:case os.b:case ce.b:{var n=t.payload;const s=n.key,r=n.shouldHide;if(!r)return e;const a=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[s]:Object.assign({},e[s],a)})}default:return e}};const gs={};var _s=(e=gs,t)=>{switch(t.type){case ne.q:{var s=t.payload;const r=s.commentId,n=s.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!0})})}case ne.g:case ne.y:case ne.A:{var r=t.payload;const s=r.commentId,n=r.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[s]:!1})})}default:return e}},Es=s("./node_modules/lodash/isEqual.js"),hs=s.n(Es),Is=s("./node_modules/lodash/mergeWith.js"),Ts=s.n(Is),Ss=s("./node_modules/lodash/omit.js"),vs=s.n(Ss),Cs=s("./src/reddit/actions/gold/constants.ts"),As=s("./src/reddit/actions/pages/profileOverview.ts"),Rs=s("./src/reddit/actions/profileOverviewChrono.ts"),Ds=s("./src/reddit/actions/vote.ts"),Ps=s("./src/reddit/helpers/isComment.ts"),xs=s("./src/reddit/models/Gold/Gild/index.tsx"),ws=s("./src/reddit/models/ModQueue/index.ts"),ks=s("./src/reddit/models/Vote/index.ts");const Ns={},Ls=["next","prev","depth"];var Us=(e=Ns,t)=>{switch(t.type){case ne.E:case ne.F:{const s=t.payload.comment;return Object.assign({},e,{[s.id]:s})}case ne.t:case os.b:case ce.b:case oe.b:case oe.e:case As.b:case As.e:case de.b:case de.e:case Rs.b:{const s=Object.assign({},e);for(const r in t.payload.comments){const n=e[r],a=t.payload.comments[r];n?hs()(n,a)||(a.postAuthor||(a.postAuthor=n.postAuthor),a.postTitle||(a.postTitle=n.postTitle),s[r]=vs()(a,Ls)):s[r]=vs()(a,Ls)}return s}case ne.x:{const s=t.payload.id;return Object.assign({},e,{[s]:Object.assign({},e[s],{isDeleted:!0})})}case ne.m:{const s=t.payload;return Ts()(Object.assign({},e),s,(e,t)=>Object.assign({},e,t))}case Ds.a:{var s=t.payload;const r=s.id,n=s.vote,a=e[r];return a?Object.assign({},e,{[r]:Object(ks.c)(a,n)}):e}case Cs.h:{var r=t.payload;const s=r.gildings,n=r.id,a=e[n];return a?Object.assign({},e,{[n]:Object(xs.b)(a,s)}):e}case N.l:{const s=t.payload.comments;return Object.assign({},e,s)}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{const s=t.payload.response.comments;return Object.assign({},e,s)}case ae.d:case ae.v:{var n=t.payload;const s=n.operation,r=n.ids,a=n.username,c=n.options,o=r.filter(e=>Object(Ps.a)(e)),i=Object(ws.d)(e,s,o,a,c);return Ts()(Object.assign({},e),i,(e,t)=>Object.assign({},e,t))}default:return e}};const Ms={};var Fs=(e=Ms,t)=>{switch(t.type){case ne.o:{var s=t.payload;const r=s.parentCommentId,n=s.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!0})})}case ne.n:case ne.E:{var r=t.payload;const s=r.parentCommentId,n=r.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[s]:!1})})}default:return e}};const Gs={};var Bs=(e=Gs,t)=>{switch(t.type){case ne.n:case ne.D:case ne.z:case ne.F:case ne.E:case ne.A:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:null})}case ne.C:case ne.y:{var s=t.payload;const r=s.draftKey,n=s.error;return Object.assign({},e,{[r]:n})}case ne.v:{var r=t.payload;const s=r.id,n=r.error;return Object.assign({},e,{[s]:n})}case ne.w:case ne.x:{const s=t.payload.id;return Object.assign({},e,{[s]:null})}default:return e}};const $s={};var Vs=(e=$s,t)=>{switch(t.type){case ne.D:case ne.z:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:!0})}case ne.E:case ne.F:case ne.A:case ne.C:case ne.y:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:!1})}case ne.w:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case ne.x:case ne.v:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}default:return e}},Hs=Object(r.c)({error:Bs,pending:Vs}),qs=s("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Ks=Object(r.c)({collapsed:ds,drafts:Os,focused:ms,hidden:ys,isEditing:_s,models:Us,replyFormOpen:Fs,submit:Hs,visitHighlightFilter:qs.b});const Ws={};var Qs=(e=Ws,t)=>{switch(t.type){case os.d:case os.b:case ce.d:case ce.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case os.a:case ce.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n||{}})}default:return e}};const Ys={};var Js=(e=Ys,t)=>{switch(t.type){case os.c:case ce.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}};const zs={};var Xs=(e=zs,t)=>{switch(t.type){case os.d:case ce.d:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case os.b:case os.a:case ce.b:case ce.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Zs=Object(r.c)({error:Qs,fullyLoaded:Js,pending:Xs}),er=s("./node_modules/lodash/mapValues.js"),tr=s.n(er),sr=s("./src/reddit/helpers/commentList/index.ts"),rr=s("./src/reddit/models/Comment/index.ts");const nr={};function ar(e){const t=e;return tr()(t,({depth:e,next:t,prev:s})=>({depth:e,next:t,prev:s}))}var cr=(e=nr,t)=>{switch(t.type){case ne.t:{var s=t.payload;const r=s.comments,n=s.commentLists,a=s.continueThreads,c=s.key,o=s.moreCommentsItem,i=s.moreComments,d=n[o.postId],u=e[c],l={},b=u[o.id];if(b.prev){const e=b.prev.id;l[e]=Object.assign({},u[e],{next:d.head||b.next})}if(b.next){const e=b.next.id;l[e]=Object.assign({},u[e],{prev:d.tail||b.prev})}if(d.head&&d.tail){const e=Object(sr.c)({commentLink:d.head,commentsDict:r,moreCommentsDict:i,continueThreadDict:a}),t=Object(sr.c)({commentLink:d.tail,commentsDict:r,moreCommentsDict:i,continueThreadDict:a});e.prev=b.prev,t.next=b.next}return Object.assign({},e,{[c]:Object.assign({},e[c],ar(r),ar(a),ar(i),l)})}case os.b:case ce.b:{var r=t.payload;const s=r.comments,n=r.continueThreads,a=r.key,c=r.moreComments;return Object.assign({},e,{[a]:Object.assign({},e[a],ar(s),ar(n),ar(c))})}case ne.F:{var n=t.payload;const s=n.comment,r=n.commentsPageKey,a=n.headCommentId,c=e[r],o={};let i=null;return a&&(o[a]=Object.assign({},c[a],{prev:Object(rr.c)(s.id)}),i=Object(rr.c)(a)),Object.assign({},e,{[r]:Object.assign({},e[r],o,{[s.id]:{depth:0,next:i,prev:null}})})}case ne.E:{var a=t.payload;const s=a.comment,r=a.commentsPageKey,n=a.parentCommentId,c=a.depth,o=e[r],i={};let d=null;const u=o[n].next;return u&&(i[u.id]=Object.assign({},o[u.id],{prev:Object(rr.c)(s.id)}),d=Object(rr.c)(u.id)),i[n]=Object.assign({},o[n],{next:Object(rr.c)(s.id)}),Object.assign({},e,{[r]:Object.assign({},e[r],i,{[s.id]:{depth:c,next:d,prev:Object(rr.c)(n)}})})}default:return e}};const or={};var ir=(e=or,t)=>{switch(t.type){case ne.F:{var s=t.payload;const r=s.comment,n=s.commentsPageKey;return Object.assign({},e,{[n]:r.id})}case os.b:case ce.b:{var r=t.payload;const s=r.commentLists,n=r.key,a=r.postId;return Object.assign({},e,{[n]:s[a]&&s[a].head?s[a].head.id:null})}default:return e}};const dr={};var ur=(e=dr,t)=>{switch(t.type){case os.d:case os.b:case os.c:case ce.d:{var s=t.payload;const r=s.key,n=s.postId;return Object.assign({},e,{[r]:n})}case ne.F:{var r=t.payload;const s=r.parentId,n=r.commentsPageKey;return e[n]?e:Object.assign({},e,{[n]:s})}default:return e}},lr=Object(r.c)({api:Zs,keyToCommentThreadLinkSets:cr,keyToHeadCommentId:ir,keyToPostId:ur}),br=s("./src/reddit/actions/contentGate.ts");const pr={};var Or=(e=pr,t)=>{switch(t.type){case br.a:{const s=t.payload.subredditName;if(s){if(e[s]){const t={[s]:{goldSubreddit:!0}};return Ts()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[s]:{goldSubreddit:!0}})}return e}case br.b:{var s=t.payload;const r=s.subredditDescription,n=s.subredditName;if(n){if(e[n]){const t={[n]:{privateSubreddit:!0,subredditDescription:r}};return Ts()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{privateSubreddit:!0,subredditDescription:r}})}return e}case br.c:{var r=t.payload;const s=r.subredditName,n=r.quarantineRequiresEmail,a=r.quarantineMessage,c=r.quarantineMessageHtml;return s?Object.assign({},e,{[s]:Object.assign({},e[s],{quarantinedSubreddit:!0,quarantineRequiresEmail:n,quarantineMessage:a,quarantineMessageHtml:c})}):e}case br.e:{var n=t.payload;const s=n.subredditName,r=n.banMessage;if(s){if(e[s]){const t={[s]:{subredditBanned:!0,subredditBanMessage:r}};return Ts()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[s]:{subredditBanned:!0,subredditBanMessage:r}})}return e}case br.f:{const s=t.payload.subredditName;if(s){if(e[s]){const t={[s]:{subredditDoesNotExist:!0}};return Ts()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[s]:{subredditDoesNotExist:!0}})}return e}default:return e}};const fr={};var mr=(e=fr,t)=>{switch(t.type){case ne.t:case os.b:case ce.b:return Object.assign({},e,t.payload.continueThreads);default:return e}},jr=Object(r.c)({models:mr}),yr=s("./src/reddit/actions/postCollection.ts");var gr=(e=null,t)=>{switch(t.type){case c.b:case yr.d:case yr.c:case yr.j:case yr.i:return null;case yr.b:case yr.h:return t.payload;default:return e}};var _r=(e=!1,t)=>{switch(t.type){case yr.c:case yr.i:return!0;case yr.d:case yr.b:case yr.j:case yr.h:return!1;default:return e}},Er=Object(r.c)({error:gr,pending:_r}),hr=Object(r.c)({createOrUpdate:Er}),Ir=s("./src/reddit/actions/postDraft.ts");const Tr={};var Sr=(e=Tr,t)=>{switch(t.type){case Ir.c:case Ir.b:{const s=t.payload.draftId;return Object.assign({},e,{[s]:null})}case Ir.a:{var s=t.payload;const r=s.apiError,n=s.draftId;return Object.assign({},e,{[n]:r})}default:return e}};const vr={};var Cr=(e=vr,t)=>{switch(t.type){case Ir.b:{const s=t.payload.draftId;return Object.assign({},e,{[s]:!0})}case Ir.c:case Ir.a:{const s=t.payload.draftId;return Object.assign({},e,{[s]:!1})}default:return e}},Ar=Object(r.c)({error:Sr,pending:Cr});var Rr=(e=null,t)=>{switch(t.type){case Ir.d:return t.payload;case Ir.f:case Ir.e:return null;default:return e}};var Dr=(e=!1,t)=>{switch(t.type){case Ir.f:return!0;case Ir.e:case Ir.d:return!1;default:return e}},Pr=Object(r.c)({error:Rr,pending:Dr});const xr={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null};var wr=(e=xr,t)=>{switch(t.type){case Ir.l:case Ir.j:return xr;case Ir.i:{const e=t.payload;return Object.assign({},xr,{apiError:e})}case Ir.m:{const e=t.payload;return Object.assign({},xr,{validationError:e})}case Ir.k:{const e=t.payload;return Object.assign({},xr,{submitValidationError:e})}case Ir.h:return Object.assign({},xr,{needsCaptcha:!0});default:return e}};var kr=(e=!1,t)=>{switch(t.type){case Ir.j:return!0;case Ir.l:case Ir.i:case Ir.m:case Ir.k:case Ir.h:return!1;default:return e}},Nr=Object(r.c)({error:wr,pending:kr}),Lr=Object(r.c)({deleteDraft:Ar,listing:Pr,save:Nr}),Ur=s("./src/reddit/actions/postCreation/editorContent.ts");const Mr={};var Fr=(e=Mr,t)=>{switch(t.type){case Ur.c:{const s=t.payload;return Object.assign({},e,{[s]:!0})}case Ur.b:{const s=t.payload;return Object.assign({},e,{[s]:!1})}default:return e}},Gr=Object(r.c)({pending:Fr});var Br=(e=null,t)=>{switch(t.type){case O.s:case O.t:case O.d:case O.e:case O.f:case O.j:case O.k:case O.n:case O.H:return null;case O.r:return t.payload;default:return e}};var $r=(e=!1,t)=>{switch(t.type){case O.s:return!0;case O.t:case O.r:return!1;default:return e}},Vr=Object(r.c)({error:Br,pending:$r}),Hr=Object(r.c)({converting:Gr,mediaUpload:Vr}),qr=s("./src/reddit/actions/pages/postCreation.ts");const Kr={};var Wr=(e=Kr,t)=>{switch(t.type){case qr.b:case qr.c:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case qr.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Qr={};var Yr=(e=Qr,t)=>{switch(t.type){case qr.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}case qr.b:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}};const Jr={};var zr=(e=Jr,t)=>{switch(t.type){case qr.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case qr.b:case qr.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Xr=Object(r.c)({error:Wr,fetched:Yr,pending:zr});const Zr={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null};var en=(e=Zr,t)=>{switch(t.type){case O.I:case O.w:case O.d:case O.e:case O.f:case O.j:case O.k:case O.n:case O.H:case O.A:return Zr;case O.i:return t.payload.isContentChanged?Zr:e;case O.o:{const e=t.payload;return Object.assign({},Zr,{apiError:e})}case O.S:{const e=t.payload;return Object.assign({},Zr,{validationError:e})}case O.E:{const e=t.payload;return Object.assign({},Zr,{submitValidationError:e})}case O.a:return Object.assign({},Zr,{needsCaptcha:!0});case O.y:return Object.assign({},Zr,{pollError:t.payload});default:return e}};var tn=(e=!1,t)=>{switch(t.type){case O.w:return!0;case O.I:case O.o:case O.S:case O.E:case O.y:case O.a:return!1;default:return e}},sn=Object(r.c)({error:en,pending:tn});var rn=(e=null,t)=>{switch(t.type){case O.x:case O.C:return null;case O.m:return t.payload;default:return e}};var nn=(e=!1,t)=>{switch(t.type){case O.x:return!0;case O.m:case O.l:return!1;default:return e}},an=Object(r.c)({error:rn,pending:nn}),cn=Object(r.c)({submit:sn,update:an});var on=(e=null,t)=>{switch(t.type){case O.H:case O.F:case O.G:return null;default:return e}};var dn=(e=!1,t)=>{switch(t.type){case O.G:return!0;case O.F:case O.H:return!1;default:return e}},un=Object(r.c)({error:on,pending:dn}),ln=Object(r.c)({change:un}),bn=Object(r.c)({collection:hr,draft:Lr,editor:Hr,page:Xr,post:cn,subreddit:ln}),pn=s("./src/reddit/actions/pages/postDraft.ts");const On={};var fn=(e=On,t)=>{switch(t.type){case Ir.e:return t.payload.postDrafts||On;case Ir.c:{const s=e,r=t.payload.draftId;return vs()(s,r)}case O.I:{const s=t.payload.draftId;return s?vs()(e,s):e}case pn.a:return t.payload.drafts;default:return e}},mn=s("./src/lib/constants/index.ts");const jn=e=>{if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},yn=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams};var gn=s("./src/reddit/models/PostDraft/index.ts");var _n=(e="",t)=>{switch(t.type){case O.d:return t.payload||"";case O.A:return"";case p.a:{if(jn(t)!==mn.mb.POST_CREATION)return"";const s=yn(t);return s&&s.url?s.url||"":e}case Ir.g:{const e=t.payload;return e.kind===gn.b.Link&&e.body||""}default:return e}};var En=(e="",t)=>{switch(t.type){case O.e:return t.payload||"";case O.A:case O.D:return"";case O.J:return t.payload.editorMode===bs.h.MARKDOWN?t.payload.content||"":e;case p.a:{if(jn(t)!==mn.mb.POST_CREATION)return"";const s=yn(t);return s&&s.text?(e=>e?e.replace(/\+/g," "):"")(s.text):e}case Ir.g:{const e=t.payload;return e.kind===gn.b.Markdown&&e.body||""}default:return e}},hn=s("./src/reddit/actions/upload.ts");var In=(e=null,t)=>{switch(t.type){case O.f:return t.payload||null;case O.A:return null;case p.a:return jn(t)!==mn.mb.POST_CREATION?null:e;case Ir.g:return null;case hn.a:case hn.f:return t.payload.key===bs.l?null:e;default:return e}},Tn=s("./src/reddit/components/RichTextEditor/RTEState/index.tsx");const Sn=Tn.a.createInitial;var vn=(e=Sn(),t)=>{switch(t.type){case O.i:return t.payload.rteState;case O.A:return Tn.a.createInitial();case O.J:{const s=t.payload;return s.editorMode===bs.h.RICH_TEXT&&s.editorKey===bs.g.POST_CREATION?Tn.a.createInitial(s.content):e}case p.a:return jn(t)!==mn.mb.POST_CREATION?Tn.a.createInitial():e;case Ir.g:{const e=t.payload;return e.kind===gn.b.RichText?Tn.a.createInitial(e.body):Tn.a.createInitial()}default:return e}},Cn=Object(r.c)({link:_n,markdown:En,media:In,rte:vn});var An=(e=null,t)=>{switch(t.type){case O.b:return t.payload||null;case O.A:case Ir.g:case O.H:return null;case p.a:return jn(t)===mn.mb.POST_CREATION?e:null;default:return e}};var Rn=(e=null,t)=>{switch(t.type){case O.c:return t.payload||null;case O.A:return null;case p.a:return jn(t)===mn.mb.POST_CREATION?e:null;case Ir.g:return t.payload.flair||null;default:return e}};var Dn=(e=!1,t)=>{switch(t.type){case O.L:return t.payload||!1;case O.A:return!1;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;default:return e}};var Pn=(e=!1,t)=>{switch(t.type){case O.M:return t.payload||!1;case O.A:return!1;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;case Ir.g:return t.payload.isNSFW||!1;default:return e}};var xn=(e=!1,t)=>{switch(t.type){case O.N:return t.payload||!1;case O.A:return!1;case O.H:return!!t.payload.name&&e;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;case Ir.g:return t.payload.isOriginalContent||!1;default:return e}};var wn=(e=!1,t)=>{switch(t.type){case O.O:return t.payload||!1;case O.A:return!1;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;default:return e}};var kn=(e=!1,t)=>{switch(t.type){case O.A:return!1;case Ir.n:return t.payload;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;case Ir.g:return t.payload.isPublicLink;default:return e}};var Nn=(e=!1,t)=>{switch(t.type){case O.P:return t.payload||!1;case O.A:return!1;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;case Ir.g:return t.payload.isSpoiler||!1;default:return e}};var Ln=(e=null,t)=>{switch(t.type){case O.G:case O.H:return t.payload;case O.F:case p.a:return null;default:return e}};var Un=(e=null,t)=>{switch(t.type){case O.g:return t.payload||null;case O.A:return null;case p.a:return jn(t)===mn.mb.POST_CREATION?e:null;case Ir.g:return t.payload.contentCategory||null;default:return e}},Mn=s("./src/reddit/actions/polls.ts");var Fn=(e=null,t)=>{switch(t.type){case Mn.a:return Object.assign({},t.payload);case b.f:case O.A:return null;default:return e}};var Gn=(e=!1,t)=>{const s=t.type,r=t.payload;switch(s){case O.Q:return r||!1;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;case Ir.g:return!1;default:return e}};var Bn=(e="",t)=>{switch(t.type){case O.h:return t.payload||"";case p.a:return jn(t)!==mn.mb.POST_CREATION?"":e;default:return e}};var $n=(e=!0,t)=>{switch(t.type){case O.A:return!0;case O.R:return t.payload;case p.a:return jn(t)!==mn.mb.POST_CREATION||e;case Ir.g:return t.payload.sendReplies;default:return e}};const Vn=mn.Cb.POST;var Hn=(e=Vn,t)=>{switch(t.type){case O.A:return Vn;case O.p:return mn.Cb.CROSSPOST;case O.j:return t.payload||Vn;case p.a:{if(jn(t)!==mn.mb.POST_CREATION)return Vn;const o=yn(t);if(!o)return e;var s=o.title;const i=void 0===s?"":s;var r=o.url;const d=void 0===r?"":r;var n=o.text;const u=void 0===n?"":n;var a=o.media;const l=void 0!==a&&a;var c=o.selftext;const b=void 0!==c&&c,p=i&&!u&&!b;return l?mn.Cb.MEDIA:d||p?mn.Cb.LINK_ONLY:u||b?mn.Cb.POST:e}case Ir.g:{const e=t.payload;return gn.a[e.kind]}default:return e}};var qn=(e="",t)=>{switch(t.type){case O.p:return t.payload.postTitle||"";case O.k:return t.payload||"";case O.z:{const s=t.payload.title;return e||s||""}case O.A:return"";case p.a:{if(jn(t)!==mn.mb.POST_CREATION)return"";const s=yn(t);return s&&s.title?(e=>e?e.replace(/\+/g," "):"")(s.title):e}case Ir.g:return t.payload.title;default:return e}},Kn=Object(r.c)({body:Cn,eventSchedule:An,flair:Rn,isGov:Dn,isNSFW:Pn,isOC:xn,isPoll:wn,isPublicLink:kn,isSpoiler:Nn,nextSubreddit:Ln,ocCategory:Un,postToTwitter:Gn,polls:Fn,recaptcha:Bn,sendReplies:$n,submissionType:Hn,title:qn}),Wn=s("./src/reddit/actions/postCreation/submitValidation.ts");const Qn={title:null,body:null,link:null,flair:null};var Yn=(e=Qn,t)=>{switch(t.type){case O.c:case O.d:case O.e:return e[mn.Ra.BODY]?Object.assign({},e,{[mn.Ra.BODY]:null}):e;case O.i:{const s=t.payload.isContentChanged;return e[mn.Ra.BODY]&&s?Object.assign({},e,{[mn.Ra.BODY]:null}):e}case O.k:return e[mn.Ra.TITLE]?Object.assign({},e,{[mn.Ra.TITLE]:null}):e;case Wn.a:{var s=t.payload;const r=s.field,n=s.msg;return Object.assign({},e,{[r]:n})}case Wn.b:{const s=t.payload;return Object.assign({},e,{[s]:null})}case O.n:{const s=t.payload;return s?Object.assign({},e,{[s]:null}):Qn}case O.E:{const s=t.payload;if(s&&s.fields&&s.fields.length){const t=s.fields[0],r=t.field,n=t.msg;return Object.assign({},e,{[r]:n})}return e}case p.a:return jn(t)!==mn.mb.POST_CREATION?Qn:e;default:return e}};var Jn=(e=!1,t)=>{switch(t.type){case O.b:case O.c:case O.d:case O.e:case O.f:case O.g:case O.k:case O.j:case O.M:case O.N:case O.P:case Ir.n:case O.R:return!0;case O.i:return!!t.payload.isContentChanged||e;case O.I:return!1;case O.K:return t.payload;case p.a:return jn(t)===mn.mb.POST_CREATION&&e;case O.A:case Ir.l:case Ir.g:return!1;default:return e}};var zn=(e=null,t)=>{switch(t.type){case O.u:return e===t.payload?null:t.payload||null;case c.b:return t.payload?null:e;case p.a:return jn(t)!==mn.mb.POST_CREATION?null:e;default:return e}},Xn=s("./src/reddit/routes/postCreation/index.ts");var Zn=(e=null,t)=>{const s=t.type,r=t.payload;switch(s){case O.v:return r;case O.G:return"";case p.a:return jn(t)===mn.mb.POST_CREATION&&Object(Xn.d)(t.payload.routeMatch.route.path)?e:null;default:return e}};const ea=bs.p.Post;var ta=(e=ea,t)=>{switch(t.type){case O.w:return bs.p.Post;case O.B:return t.payload;case Ir.j:return bs.p.Draft;case p.a:return jn(t)!==mn.mb.POST_CREATION?ea:e;default:return e}},sa=Object(r.c)({fieldValidation:Yn,isChanged:Jn,modalId:zn,ocCategory:Zn,submitMode:ta});var ra=(e="",t)=>{switch(t.type){case O.C:return t.payload.editorMode===bs.h.MARKDOWN?t.payload.postContent||"":e;case O.D:return"";case O.J:return t.payload.editorMode===bs.h.MARKDOWN?t.payload.content||"":e;default:return e}};const na=Tn.a.createInitial;var aa=(e=na(),t)=>{switch(t.type){case O.D:return Tn.a.createInitial();case O.C:{const s=t.payload;return s.editorMode===bs.h.RICH_TEXT&&"object"==typeof s.postContent?Tn.a.createInitial(s.postContent,s.mediaMetadata):e}case O.J:{const s=t.payload;return s.editorMode===bs.h.RICH_TEXT&&s.editorKey===bs.g.POST_EDITING?Tn.a.createInitial(s.content):e}default:return e}},ca=Object(r.c)({markdown:ra,rte:aa});const oa=bs.h.RICH_TEXT;var ia=(e=oa,t)=>{switch(t.type){case O.C:return t.payload.editorMode;case O.D:return oa;case O.J:return t.payload.editorMode;default:return e}};var da=(e=null,t)=>{switch(t.type){case O.C:return t.payload.postId;case O.D:return null;default:return e}},ua=Object(r.c)({draft:ca,editorMode:ia,postId:da}),la=Object(r.c)({api:bn,drafts:fn,formData:Kn,formState:sa,postEditing:ua}),ba=s("./src/reddit/actions/dashboard.ts");const pa={selectedComponent:null,subredditPending:!1,subredditLoaded:{}};var Oa=(e=pa,t)=>{switch(t.type){case ba.a:return Object.assign({},e,{selectedComponent:t.payload});case ba.c:{const s=t.payload,r=e.subredditLoaded[s];return Object.assign({},e,{subredditPending:!r,subredditLoaded:Object.assign({},e.subredditLoaded,{[s]:r||!1})})}case ba.b:{const s=t.payload;return Object.assign({},e,{subredditPending:!1,subredditLoaded:Object.assign({},e.subredditLoaded,{[s]:!0})})}default:return e}},fa=s("./src/reddit/actions/discoveryUnit.ts");var ma=(e=null,t)=>{switch(t.type){case fa.b:case fa.c:return null;case fa.a:return t.payload.error||null;default:return e}};var ja=(e=!1,t)=>{switch(t.type){case fa.c:return!1;case fa.b:return!0;default:return e}};var ya=(e=!1,t)=>{switch(t.type){case fa.c:return!0;case fa.b:case fa.a:return!1;default:return e}},ga=Object(r.c)({error:ma,loaded:ja,pending:ya}),_a=Object(r.c)({list:ga});const Ea={};var ha=(e=Ea,t)=>{switch(t.type){case fa.b:{const s=t.payload.discoveryUnits;return _t()(s)?e:Object.assign({},e,s)}default:return e}};const Ia={};var Ta=(e=Ia,t)=>{switch(t.type){case fa.b:{const s=t.payload.discoveryUnits;if(_t()(s))return e;const r={};return vt()(s,e=>{r[Object(Ct.f)(e.unitName)]=e.id}),Object.assign({},e,r)}default:return e}},Sa=Object(r.c)({api:_a,models:ha,nameToId:Ta}),va=s("./src/reddit/actions/emoji.ts"),Ca=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Aa={};var Ra=(e=Aa,t)=>{switch(t.type){case va.e:case va.c:return e;case va.f:return t.payload;case va.d:{var s=t.payload;const r=s.emojiName,n=s.subredditId,a=e[n],c=r,o=(a[c],Ca(a,["symbol"==typeof c?c:c+""]));return Object.assign({},e,{[n]:o})}case va.g:{const s=t.payload,r=e[s.subredditId],n={url:s.url,name:s.name},a=Object.assign({},r,{[s.name]:n});return Object.assign({},e,{[s.subredditId]:a})}default:return e}},Da=s("./src/reddit/actions/externalAccount.ts");const Pa={};var xa=(e=Pa,t)=>{switch(t.type){case Da.e:case Da.f:{const s=t.payload.provider;return Object.assign({},e,{[s]:null})}case Da.d:{var s=t.payload;const r=s.provider,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const wa={};var ka=(e=wa,t)=>{switch(t.type){case Da.e:{const s=t.payload.provider;return Object.assign({},e,{[s]:!0})}case Da.f:case Da.d:{const s=t.payload.provider;return Object.assign({},e,{[s]:!1})}default:return e}},Na=Object(r.c)({error:xa,pending:ka});const La={};var Ua=(e=La,t)=>{switch(t.type){case Da.l:case Da.k:{const s=t.payload.provider;return Object.assign({},e,{[s]:null})}case Da.j:{var s=t.payload;const r=s.provider,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Ma={};var Fa=(e=Ma,t)=>{switch(t.type){case Da.b:{const s=t.payload.provider;return Object.assign({},e,{[s]:!0})}case Da.c:case Da.a:{const s=t.payload.provider;return Object.assign({},e,{[s]:!1})}default:return e}},Ga=Object(r.c)({error:Ua,pending:Fa});const Ba={};var $a=(e=Ba,t)=>{switch(t.type){case Da.i:case Da.h:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:null})}case Da.g:{var s=t.payload;const r=s.subredditName,n=s.apiError;return Object.assign({},e,{[r]:n})}default:return e}};const Va={};var Ha=(e=Va,t)=>{switch(t.type){case Da.h:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:!0})}default:return e}};const qa={};var Ka=(e=qa,t)=>{switch(t.type){case Da.i:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:!0})}case Da.h:case Da.g:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:!1})}default:return e}},Wa=Object(r.c)({error:$a,fetched:Ha,pending:Ka});const Qa={};var Ya=(e=Qa,t)=>{switch(t.type){case Da.l:case Da.k:{const s=t.payload.username;return Object.assign({},e,{[s]:null})}case Da.j:{var s=t.payload;const r=s.username,n=s.apiError;return Object.assign({},e,{[r]:n})}default:return e}};const Ja={};var za=(e=Ja,t)=>{switch(t.type){case Da.l:{const s=t.payload.username;return Object.assign({},e,{[s]:!0})}case Da.k:case Da.j:{const s=t.payload.username;return Object.assign({},e,{[s]:!1})}default:return e}},Xa=Object(r.c)({error:Ya,pending:za}),Za=Object(r.c)({connect:Na,disconnect:Ga,user:Xa,subreddit:Wa});const ec={};var tc=(e=ec,t)=>{switch(t.type){case Da.h:{var s=t.payload;const r=s.subredditName,n=s.accountsData;return Object.assign({},e,{[r]:n})}default:return e}};const sc={};var rc=(e=sc,t)=>{switch(t.type){case Da.k:{var s=t.payload;const r=s.username,n=s.accountsData;return Object.assign({},e,{[r]:n})}case Da.c:{var r=t.payload;const s=r.username,n=r.provider,a=e[s];return a&&a[n]?Object.assign({},e,{[s]:vs()(a,n)}):e}default:return e}},nc=Object(r.c)({api:Za,user:rc,subreddit:tc}),ac=s("./src/reddit/featureFlags/index.ts"),cc=s("./src/lib/truthyString/index.ts");const oc=ac.a.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),ic=ac.a.reduce((e,t)=>(e[t]=null,e),{});var dc=(e=ic,t)=>{switch(t.type){case p.a:{const s=yn(t);if(void 0!==s){const t={};for(const e in s){const r=Object(ac.g)(e);if(r){const n=oc[r.toLowerCase()];if(n){const r=s[e],a="string"!=typeof r||Object(cc.a)(r);t[n]=a}}}if(Object.keys(t).length>0)return Object.assign({},e,t)}return e}case ac.b:{var s=t.payload;const r=s.featureName,n=s.currentValue;return n===e[r]?e:Object.assign({},e,{[r]:n})}case ac.c:{var r=t.payload;const s=r.featureName,n=r.currentValue;return Object.assign({},e,{[s]:!n})}default:return e}},uc=Object(r.c)({overrides:dc});var lc=(e=null,t)=>{switch(t.type){case Cs.c:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case Cs.a:case p.a:case Cs.s:case Cs.h:return null;default:return e}};var bc=(e=!1,t)=>{switch(t.type){case Cs.a:case p.a:case Cs.h:case Cs.c:return!1;case Cs.d:return!0;default:return e}};var pc=(e=!1,t)=>{switch(t.type){case Cs.d:case Cs.a:case p.a:case Cs.h:case Cs.c:return!1;case Cs.i:return!0;default:return e}},Oc=Object(r.c)({error:lc,pending:bc,showLoader:pc});var fc=(e=null,t)=>{switch(t.type){case Cs.r:case Cs.s:return t.payload;case Cs.h:case p.a:case Cs.a:return null;default:return e}};const mc=xs.a.Gid2;var jc=(e=mc,t)=>{switch(t.type){case Cs.e:return t.payload;case Cs.s:return mc;default:return e}};var yc=(e=!1,t)=>{switch(t.type){case Cs.f:return t.payload;case Cs.s:return!1;default:return e}};var gc=(e=!0,t)=>{switch(t.type){case Cs.g:return t.payload;case Cs.s:return!0;default:return e}};var _c=(e=!1,t)=>{switch(t.type){case Cs.r:return!0;default:return e}};var Ec=(e="",t)=>{switch(t.type){case Cs.j:return t.payload;case Cs.s:return"";default:return e}},hc=Object(r.c)({api:Oc,gildModalThingId:fc,gildType:jc,includeMessage:yc,isAnonymous:gc,isIframed:_c,message:Ec});var Ic=(e=null,t)=>{switch(t.type){case Cs.k:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case Cs.b:case p.a:case Cs.t:case Cs.p:return null;default:return e}};var Tc=(e=!1,t)=>{switch(t.type){case Cs.b:case p.a:case Cs.p:case Cs.k:return!1;case Cs.l:return!0;default:return e}},Sc=Object(r.c)({error:Ic,pending:Tc});var vc=(e="",t)=>{switch(t.type){case Cs.t:return t.payload;case p.a:case Cs.b:case Cs.p:return"";default:return e}},Cc=Object(r.c)({api:Sc,givePremiumModalAccountName:vc}),Ac=s("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),Rc=s("./src/reddit/actions/goldPurchaseModals/payment.ts");var Dc=(e="selectPayment",t)=>{switch(t.type){case Ac.b:return"selectPayment";case Rc.c:return"paymentCompleted";default:return e}};var Pc=(e=null,t)=>{switch(t.type){case Ac.a:case Cs.a:case Cs.h:return null;case Ac.c:return t.payload&&t.payload.thingId?t.payload.thingId:e;default:return e}};var xc=(e=null,t)=>{switch(t.type){case Ac.b:return t.payload.coinPackage;case Rc.c:case Ac.a:return null;default:return e}};var wc=(e=!1,t)=>{switch(t.type){case Ac.b:return!0;case Cs.s:case p.a:case Ac.a:return!1;default:return e}},kc=Object(r.c)({activePage:Dc,gildThingId:Pc,purchasePackage:xc,showModal:wc}),Nc=s("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts");var Lc=(e="",t)=>{switch(t.type){case Rc.b:return t.payload.cardName;case Rc.e:return t.payload!==mn.hb?"":e;case Ac.a:case Nc.a:case p.a:return"";default:return e}};var Uc=(e="",t)=>{switch(t.type){case Rc.g:{var s=t.payload;const r=s.error;return"cardCvc"===s.elementType?r&&r.message||"":e}case Rc.e:return t.payload!==mn.hb?"":e;case Ac.a:case Nc.a:case p.a:return"";default:return e}};var Mc=(e="",t)=>{switch(t.type){case Rc.g:{var s=t.payload;const r=s.error;return"cardExpiry"===s.elementType?r&&r.message||"":e}case Rc.e:return t.payload!==mn.hb?"":e;case Ac.a:case Nc.a:case p.a:return"";default:return e}};var Fc=(e="",t)=>{switch(t.type){case Rc.g:{var s=t.payload;const r=s.error;return"cardNumber"===s.elementType?r&&r.message||"":e}case Rc.e:return t.payload!==mn.hb?"":e;case Ac.a:case Nc.a:case p.a:return"";default:return e}};var Gc=(e="",t)=>{switch(t.type){case Rc.a:return t.payload.message||e;case Rc.b:return"";case Rc.e:return t.payload!==mn.hb?"":e;case Ac.a:case Nc.a:case p.a:return"";default:return e}};var Bc=(e="",t)=>{switch(t.type){case Rc.g:{var s=t.payload;const r=s.error;return"postalCode"===s.elementType?r&&r.message||"":e}case Rc.e:return t.payload!==mn.hb?"":e;case Ac.a:case Nc.a:case p.a:return"";default:return e}},$c=Object(r.c)({cardCvc:Uc,cardExpiry:Mc,cardNumber:Fc,nameOnCard:Gc,postalCode:Bc});const Vc=mn.ib;var Hc=(e=Vc,t)=>{switch(t.type){case Ac.b:case Nc.b:return Vc;case Rc.e:return t.payload;default:return e}};var qc=(e=null,t)=>{switch(t.type){case Rc.d:return t.payload||e;case Rc.e:return t.payload.method===mn.ib?null:e;case Ac.b:case Nc.b:case Cs.s:return null;default:return e}};var Kc=(e="",t)=>{switch(t.type){case Ac.b:case Nc.b:return"";case Ac.d:case Nc.c:{const e=t.payload;return e.body&&e.body.passthrough?e.body.passthrough:""}default:return e}},Wc=Object(r.c)({errorMessage:qc,passthrough:Kc});var Qc=(e=null,t)=>{switch(t.type){case Rc.a:case Rc.h:return t.payload.message||e;case Rc.f:return t.payload;case Rc.g:case Rc.b:case Rc.i:return null;case Rc.e:return t.payload===mn.hb?null:e;default:return e}};var Yc=(e=!1,t)=>{switch(t.type){case Rc.a:case Rc.f:case Rc.h:return!1;case Rc.e:return t.payload!==mn.hb&&e;case Rc.i:return!0;default:return e}},Jc=Object(r.c)({errorMessage:Qc,pending:Yc}),zc=Object(r.c)({cardName:Lc,cardValidation:$c,paymentMethod:Hc,paypal:Wc,stripeToken:Jc});var Xc=(e="selectPayment",t)=>{switch(t.type){case Nc.b:return"selectPayment";case Rc.c:return"paymentCompleted";default:return e}};var Zc=(e=!1,t)=>{switch(t.type){case Nc.b:return!0;case p.a:case Nc.a:return!1;default:return e}},eo=Object(r.c)({activePage:Xc,showModal:Zc}),to=Object(r.c)({coinPurchaseModal:kc,payment:zc,premiumPurchaseModal:eo}),so=s("./src/app/actions/overlayEvents.ts"),ro=s("./src/reddit/actions/header.ts");var no=(e=!1,t)=>{switch(t.type){case ro.a:return!1;case ro.b:return!0;case ro.c:return!e;case so.b:return!1;default:return e}},ao=Object(r.c)({isSubscriptionsDropdownOpen:no}),co=s("./src/reddit/actions/imageUploads.ts");const oo={};var io=(e=oo,t)=>{switch(t.type){case co.d:{const s=t.payload;return Object.assign({},e,{[s.id]:s})}case co.c:case co.e:case co.b:{const s=t.payload;return e[s.id]?Object.assign({},e,{[s.id]:s}):e}case co.a:{const s=t.payload;if(!e[s.id])return e;const r=Object.assign({},e);return delete r[s.id],r}default:return e}},uo=s("./src/reddit/actions/moderatingSubreddits.ts");var lo=(e=!1,t)=>{switch(t.type){case uo.a:{if(e)return e;const s=t.payload;return Object.keys(s).some(e=>!0===s[e].posts)}case ce.s:case os.b:case ce.b:case qr.b:{if(e)return e;const s=t.payload;return s.subredditPermissions&&s.subreddits?s.subredditPermissions.posts:e}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{if(e)return e;const s=t.payload.response,r=s.moderatingSubreddits,n=s.moderatingProfiles;let a=Object.keys(r).some(e=>!0===r[e].posts);return a||(a=Object.keys(n).some(e=>!0===r[e].posts)),a}default:return e}},bo=s("./src/reddit/actions/jsApi.ts");const po=[];var Oo=(e=po,t)=>{switch(t.type){case bo.a:{const s=t.payload;return-1===e.indexOf(s)&&(e=[...e,s]).sort(),e}default:return e}};var fo=(e="",t)=>{switch(t.type){case p.a:return t.payload.listingKey||e;default:return e}},mo=s("./src/reddit/actions/pages/explore.ts"),jo=s("./src/reddit/actions/search.ts");const yo={};var go=(e=yo,t)=>{switch(t.type){case jo.b:case jo.c:case ce.p:case ce.q:{var s=t.payload;const r=s.key,n=s.type;return-1===n.indexOf(mn.Fb.Subreddits)&&-1===n.indexOf(mn.Fb.Users)?e:Object.assign({},e,{[r]:null})}case jo.a:case ce.o:{var r=t.payload;const s=r.key,n=r.error,a=r.type;return-1===a.indexOf(mn.Fb.Subreddits)&&-1===a.indexOf(mn.Fb.Users)?e:Object.assign({},e,{[s]:n})}case fa.f:case fa.e:case mo.c:case mo.b:case ue.r:case ue.s:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case fa.d:case mo.a:case ue.q:{var n=t.payload;const s=n.key,r=n.error;return Object.assign({},e,{[s]:r})}default:return e}};const _o={};var Eo=(e=_o,t)=>{switch(t.type){case jo.b:case ce.p:{var s=t.payload;const r=s.key,n=s.type;return-1===n.indexOf(mn.Fb.Subreddits)&&-1===n.indexOf(mn.Fb.Users)?e:Object.assign({},e,{[r]:!0})}case jo.c:case jo.a:case ce.q:case ce.o:{var r=t.payload;const s=r.key,n=r.type;return-1===n.indexOf(mn.Fb.Subreddits)&&-1===n.indexOf(mn.Fb.Users)?e:Object.assign({},e,{[s]:!1})}case fa.f:case mo.c:case ue.r:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case fa.e:case fa.d:case mo.b:case mo.a:case ue.s:case ue.q:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},ho=Object(r.c)({error:go,pending:Eo});const Io={};var To=(e=Io,t)=>{switch(t.type){case jo.c:{var s=t.payload;const r=s.fetchedToken,n=s.key,a=s.type;if(-1===a.indexOf(mn.Fb.Subreddits)&&-1===a.indexOf(mn.Fb.Users))return e;const c=e[n];return Object.assign({},e,{[n]:Object.assign({},c,{[r]:!0})})}case fa.e:case mo.b:case ue.s:{var r=t.payload;const s=r.fetchedToken,n=r.key;return Object.assign({},e,{[n]:Object.assign({},e[n],{[s]:!0})})}default:return e}};const So={};var vo=(e=So,t)=>{switch(t.type){case jo.c:{var s=t.payload;const r=s.key,n=s.listingOrder,a=s.type;return-1===a.indexOf(mn.Fb.Subreddits)&&-1===a.indexOf(mn.Fb.Users)?e:Object.assign({},e,{[r]:e[r].concat(n)})}case ce.q:{var r=t.payload;const s=r.key,n=r.listingOrder,a=r.type;return-1===a.indexOf(mn.Fb.Subreddits)&&-1===a.indexOf(mn.Fb.Users)?e:Object.assign({},e,{[s]:n})}default:return e}};const Co={};var Ao=(e=Co,t)=>{switch(t.type){case mo.b:{var s=t.payload;const r=s.key,n=s.ids;return n&&0!==n.length?Object.assign({},e,{[r]:[...e[r]||[],...n]}):e}default:return e}},Ro=s("./src/lib/omitKey/index.ts");const Do={};var Po=(e=Do,t)=>{switch(t.type){case jo.c:case ce.q:{var s=t.payload;const r=s.key,n=s.tokens,a=s.type;return-1===a.indexOf(mn.Fb.Subreddits)&&-1===a.indexOf(mn.Fb.Users)?e:n.listings?Object.assign({},e,{[r]:{token:n.listings}}):Object(Ro.a)(e,r)}case fa.e:case mo.b:case ue.s:{var r=t.payload;const s=r.key,n=r.token;return Object.assign({},e,{[s]:{token:n}})}default:return e}},xo=Object(r.c)({api:ho,identifiers:vo,ids:Ao,fetchedTokens:To,loadMore:Po}),wo=s("./src/reddit/actions/frontpage.ts"),ko=s("./src/reddit/actions/hero.ts"),No=s("./src/reddit/actions/multireddit.ts"),Lo=s("./src/reddit/actions/originalContent.ts"),Uo=s("./src/reddit/actions/pages/modListing/constants.ts"),Mo=s("./src/reddit/actions/pages/news/index.ts"),Fo=s("./src/reddit/actions/pages/originalContent.ts");const Go={};var Bo=(e=Go,t)=>{switch(t.type){case ko.b:case ko.c:case Mo.b:case Mo.c:case Fo.c:case Fo.b:case ce.h:case ce.g:case ce.m:case ce.l:case ce.t:case ce.s:case wo.c:case wo.b:case Uo.e:case Uo.f:case Uo.i:case Uo.h:case No.c:case No.b:case Lo.f:case Lo.e:case ie.f:case ie.e:case ie.c:case ie.b:case de.f:case de.e:case As.f:case As.e:case ue.p:case ue.o:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case ce.p:case ce.q:case jo.b:case jo.c:{var s=t.payload;const r=s.key;return-1===s.type.indexOf(mn.Fb.Posts)?e:Object.assign({},e,{[r]:null})}case ko.a:case Mo.a:case ce.f:case ce.k:case ce.r:case wo.a:case Uo.g:case No.a:case Lo.d:case ue.n:case de.d:case As.d:case ie.d:case ie.a:{var r=t.payload;const s=r.key,n=r.error;return Object.assign({},e,{[s]:n})}case ce.o:case jo.a:{var n=t.payload;const s=n.error,r=n.key;return-1===n.type.indexOf(mn.Fb.Posts)?e:Object.assign({},e,{[r]:s})}default:return e}};const $o={};var Vo=(e=$o,t)=>{switch(t.type){case Mo.c:case Fo.c:case ce.h:case ce.m:case ie.f:case As.f:case ce.t:case wo.c:case Uo.f:case Uo.i:case No.c:case Lo.f:case de.f:case ie.c:case ue.p:case ko.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case ce.p:case jo.b:{var s=t.payload;const r=s.key;return-1===s.type.indexOf(mn.Fb.Posts)?e:Object.assign({},e,{[r]:!0})}case Fo.b:case ce.g:case ce.f:case ce.k:case ce.l:case As.d:case As.e:case ie.d:case ie.e:case ce.s:case ce.r:case wo.b:case wo.a:case Uo.e:case Uo.d:case Uo.h:case Uo.g:case No.b:case No.a:case Mo.b:case Mo.a:case Lo.e:case Lo.d:case de.d:case de.e:case ie.a:case ie.b:case ue.o:case ue.n:case ko.b:case ko.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}case ce.q:case ce.o:case jo.c:case jo.a:{var r=t.payload;const s=r.key;return-1===r.type.indexOf(mn.Fb.Posts)?e:Object.assign({},e,{[s]:!1})}default:return e}},Ho=Object(r.c)({error:Bo,pending:Vo}),qo=s("./src/reddit/actions/postList.ts");const Ko={};var Wo=(e=Ko,t)=>{switch(t.type){case qo.a:{var s=t.payload;const r=s.listingKey,n=s.listingName;return Object.assign({},e,{[r]:n})}case qo.b:{const s=t.payload.listingKey;return s in e?vs()(e,[s]):e}default:return e}};const Qo={};var Yo=(e=Qo,t)=>{switch(t.type){case Uo.e:case Mo.b:case ce.g:case ce.l:case ce.s:case ie.e:case Fo.b:case ko.b:{const s=t.payload.key;return Object.assign({},e,{[s]:{}})}case wo.b:case Uo.h:case No.b:case Lo.e:case de.e:case ie.b:case ue.o:{var s=t.payload;const r=s.key,n=s.fetchedToken,a=e[r];return Object.assign({},e,{[r]:Object.assign({},a,{[n]:!0})})}case jo.c:{var r=t.payload;const s=r.fetchedToken,n=r.key;if(r.type.indexOf(mn.Fb.Posts)>-1){const t=e[n];return Object.assign({},e,{[n]:Object.assign({},t,{[s]:!0})})}return e}default:return e}},Jo=s("./src/reddit/actions/recommendations.ts");const zo={};var Xo=(e=zo,t)=>{switch(t.type){case ce.h:case Uo.f:case ce.m:case ie.f:case ce.t:case As.f:case ie.f:{const s=t.payload.key;return Object.assign({},e,{[s]:[]})}case fa.e:case Uo.e:case Mo.b:case Fo.b:case ce.g:case ce.l:case ce.s:case As.e:case ie.e:case Jo.b:case ko.b:{var s=t.payload;const r=s.key,n=s.postIds;return Object.assign({},e,{[r]:n})}case wo.b:case Uo.h:case No.b:case Lo.e:case ie.b:case de.e:case ue.o:{var r=t.payload;const s=r.key,n=r.postIds;return Object.assign({},e,{[s]:e[s].concat(n)})}case ce.q:{var n=t.payload;const s=n.key,r=n.postOrder;return-1===n.type.indexOf(mn.Fb.Posts)?e:Object.assign({},e,{[s]:r})}case jo.c:{var a=t.payload;const s=a.key,r=a.postOrder;return-1===a.type.indexOf(mn.Fb.Posts)?e:Object.assign({},e,{[s]:e[s].concat(r)})}case g.h:{var c=t.payload;const s=c.newStickiedPostList,r=c.listingKey;if(!e[r])return e;const n=[...e[r]].filter(e=>!s.includes(e));return n.unshift(...s),Object.assign({},e,{[r]:n})}default:return e}};const Zo={};var ei=(e=Zo,t)=>{switch(t.type){case ce.g:case ce.l:case ce.s:case As.e:case ie.e:case Fo.b:case wo.b:case Uo.e:case Uo.h:case No.b:case Lo.e:case de.e:case ie.b:case ue.o:{var s=t.payload;const r=s.key,n=s.token,a=s.dist;return n?Object.assign({},e,{[r]:{token:n,dist:a}}):Object(Ro.a)(e,r)}case jo.c:case ce.q:{var r=t.payload;const s=r.key,n=r.tokens;return-1===r.type.indexOf(mn.Fb.Posts)?e:n.posts?Object.assign({},e,{[s]:{token:n.posts}}):Object(Ro.a)(e,s)}default:return e}},ti=Object(r.c)({api:Ho,endMarkers:Wo,fetchedTokens:Yo,ids:Xo,loadMore:ei}),si=Object(r.c)({activeKey:fo,listingOrder:xo,postOrder:ti});var ri=(e=null,t)=>{switch(t.type){case ce.g:return _t()(t.payload.featuredLiveThread)?e:t.payload.featuredLiveThread;default:return e}};var ni=(e=!1,t)=>{switch(t.type){case ce.g:return!0;default:return e}},ai=Object(r.c)({featured:ri,isFrontpageLoaded:ni}),ci=s("./src/reddit/reducers/mediaPlayback/index.ts");const oi={};var ii=(e=oi,t)=>{switch(t.type){case ce.s:case os.b:case ce.b:case qr.b:{const s=t.payload;if(!s.subredditPermissions||!s.subreddits)return e;const r=Object.keys(s.subredditAboutInfo||{});if(1!==r.length)return e;const n=r[0];return Object.assign({},e,{[n]:s.subredditPermissions})}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{const s=t.payload.response,r=s.moderatingSubreddits,n=s.moderatingProfiles;return Object.assign({},e,r,n)}case ue.l:case Uo.e:case ae.n:{const s=t.payload,r=s.moderatingSubreddits,n=s.moderatingProfiles;return Object.assign({},e,r,n)}case N.R:{const s=t.payload.subredditId;return Object(Ro.a)(e,s)}case N.O:{const s=t.payload;return Object.assign({},e,s)}default:return e}};var di=(e=null,t)=>{switch(t.type){case N.C:case N.B:return null;case N.A:return t.payload;default:return e}};const ui={editableList:!1,moderatorsList:!1};var li=(e=ui,t)=>{switch(t.type){case N.C:return Object.assign({},e,{moderatorsList:!0});case N.t:return Object.assign({},e,{editableList:!0});case N.B:case N.A:case N.s:case N.r:return ui;default:return e}},bi=Object(r.c)({error:di,pending:li});const pi={};var Oi=(e=pi,t)=>{switch(t.type){case N.s:{const s=t.payload.response,r={[s.subredditId]:s.moderators};return K()(Object.assign({},e),r)}case N.u:{var s=t.payload;const r=s.subredditId,n=s.userId,a=s.permissions,c=Object.assign({},e);return c[r][n].modPermissions=a,K()(Object.assign({},e),Object.assign({},c))}case N.Q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}case N.E:{const s=t.payload,r=s.moderators,n=s.subredditId,a=n in e?e[n]:{};return Object.assign({},e,{[n]:Object.assign({},a,r)})}default:return e}};const fi={};var mi=(e=fi,t)=>{switch(t.type){case N.t:case N.s:{var s=t.payload;const r=s.subredditId,n=s.after;if(!r)return e;const a=Object(U.c)(r,n);return Object.assign({},e,{[a]:null})}case N.r:{var r=t.payload;const s=r.error,n=r.subredditId,a=r.after;if(!n)return e;const c=Object(U.c)(n,a);return Object.assign({},e,{[c]:s})}default:return e}};const ji={};var yi=(e=ji,t)=>{switch(t.type){case N.r:case N.s:{var s=t.payload;const r=s.subredditId,n=s.after;if(!r)return e;const a=Object(U.c)(r,n);return Object.assign({},e,{[a]:!1})}case N.t:{var r=t.payload;const s=r.subredditId,n=r.after;if(!s)return e;const a=Object(U.c)(s,n);return Object.assign({},e,{[a]:!0})}default:return e}},gi=Object(r.c)({error:mi,pending:yi});const _i={};var Ei=(e=_i,t)=>{switch(t.type){case N.s:{var s=t.payload;const r=s.subredditId,n=s.response,a=s.after,c=s.before,o=n.moderatorIds,i=Object(U.c)(r,a,c);return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[i]:o})})}case N.Q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=r.key,c=e[s][a].filter(e=>e!==n);return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[a]:c})})}default:return e}},hi=Object(r.c)({data:Ei,api:gi});var Ii=(e=null,t)=>{switch(t.type){case N.x:case N.w:return null;case N.v:return t.payload;default:return e}};var Ti=(e=!1,t)=>{switch(t.type){case N.w:case N.v:return!1;case N.x:return!0;default:return e}},Si=Object(r.c)({error:Ii,pending:Ti});const vi={};var Ci=(e=vi,t)=>{switch(t.type){case N.w:{var s=t.payload;const r=s.subredditId,n=s.moderators;return Object.assign({},e,{[r]:n})}case N.P:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}case N.a:{const s=t.payload,r={[s.subredditId]:s.moderators};return K()(Object.assign({},e),r)}default:return e}};const Ai={};var Ri=(e=Ai,t)=>{switch(t.type){case N.w:{var s=t.payload;const r=s.subredditId,n=s.moderatorIds;return Object.assign({},e,{[r]:n})}case N.P:{var r=t.payload;const s=r.subredditId,n=r.userId,a=e[s].filter(e=>e!==n);return Object.assign({},e,{[s]:a})}case N.a:{const s=t.payload,r=s.subredditId,n=s.moderatorIds,a=[...e[r]||[],...n];return Object.assign({},e,{[r]:a})}default:return e}},Di=Object(r.c)({api:Si,models:Ci,userOrder:Ri}),Pi=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const xi={};var wi=(e=xi,t)=>{switch(t.type){case N.B:{var s=t.payload;const r={[s.subredditId]:s.response.invitePending};return K()(Object.assign({},e),r)}case N.y:case N.z:{const s=t.payload.subredditId;return e[s],Pi(e,["symbol"==typeof s?s:s+""])}default:return e}};const ki={};var Ni=(e=ki,t)=>{switch(t.type){case N.s:{const e=t.payload.response;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Li={};var Ui=(e=Li,t)=>{switch(t.type){case N.B:{const e=t.payload.response;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Mi={};var Fi=(e=Mi,t)=>{switch(t.type){case N.B:{const s=t.payload.response,r={[s.subredditId]:s.moderators};return K()(Object.assign({},e),r)}case N.u:{const s=t.payload,r=s.subredditId,n=s.userId,a=s.permissions;if(e[r]&&e[r][n]){const t=Object.assign({},e);return t[r][n].modPermissions=a,t}return e}default:return e}};var Gi=(e=null,t)=>{switch(t.type){case N.F:case N.E:return null;case N.D:return t.payload;default:return e}};var Bi=(e=!1,t)=>{switch(t.type){case N.F:return!0;case N.E:case N.D:return!1;default:return e}},$i=Object(r.c)({error:Gi,pending:Bi});var Vi=(e=null,t)=>{switch(t.type){case N.F:case N.D:case N.Q:return null;case N.E:{const e=t.payload.moderatorIds[0];return e?t.payload.moderators[e]:null}case N.u:{var s=t.payload;const r=s.userId,n=s.permissions;return e&&e.id===r&&!hs()(e.modPermissions,n)?Object.assign({},e,{modPermissions:n}):e}default:return e}},Hi=Object(r.c)({api:$i,result:Vi});const qi={};var Ki=(e=qi,t)=>{switch(t.type){case N.C:case N.B:{var s=t.payload;const r=s.subredditId,n=s.after;if(!r)return e;const a=Object(U.c)(r,n);return Object.assign({},e,{[a]:null})}case N.A:{var r=t.payload;const s=r.error,n=r.subredditId,a=r.after;if(!n)return e;const c=Object(U.c)(n,a);return Object.assign({},e,{[c]:s})}default:return e}};const Wi={};var Qi=(e=Wi,t)=>{switch(t.type){case N.A:case N.B:{var s=t.payload;const r=s.subredditId,n=s.after;if(!r)return e;const a=Object(U.c)(r,n);return Object.assign({},e,{[a]:!1})}case N.C:{var r=t.payload;const s=r.subredditId,n=r.after;if(!s)return e;const a=Object(U.c)(s,n);return Object.assign({},e,{[a]:!0})}default:return e}},Yi=Object(r.c)({error:Ki,pending:Qi});const Ji={};var zi=(e=Ji,t)=>{switch(t.type){case N.B:{var s=t.payload;const r=s.response,n=s.after,a=s.before,c=s.subredditId,o=r.moderatorIds,i=Object(U.c)(c,n,a);return Object.assign({},e,{[c]:Object.assign({},e[c]||{},{[i]:o})})}case N.Q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e[s]);return Object.keys(e[s]).forEach(t=>{const r=e[s][t].filter(e=>e!==n);a[t]=r}),Object.assign({},e,{[s]:a})}default:return e}},Xi=Object(r.c)({data:zi,api:Yi}),Zi=Object(r.c)({api:bi,editableModerators:Oi,editableUserOrder:hi,invitedModerators:Di,invitePending:wi,loadMoreModerators:Ui,loadMoreEditableModerators:Ni,models:Fi,search:Hi,userOrder:Xi});var ed=(e=null,t)=>{switch(t.type){case Uo.b:case Uo.k:return null;case Uo.a:case Uo.j:return t.payload;default:return e}};var td=(e=!1,t)=>{switch(t.type){case Uo.b:case Uo.k:return!0;case Uo.c:case Uo.a:case Uo.l:case Uo.j:return!1;default:return e}},sd=Object(r.c)({error:ed,pending:td});const rd=[];var nd=(e=rd,t)=>{switch(t.type){case Uo.e:{const s=t.payload.filteredSubreddits;return s||e}case Uo.j:{const s=t.payload;return[...e,s]}case Uo.k:case Uo.a:{const s=t.payload;return e.filter(e=>e!==s)}default:return e}},ad=Object(r.c)({api:sd,names:nd}),cd=Object(r.c)({filteredSubreddits:ad}),od=s("./src/reddit/actions/modMode.ts");var id=(e=!0,t)=>{switch(t.type){case od.a:return t.payload.enabled;default:return e}};var dd=(e=null,t)=>{switch(t.type){case ae.e:case ae.d:return null;case ae.c:return t.payload;default:return e}};var ud=(e=!1,t)=>{switch(t.type){case ae.e:case ae.v:return!0;case ae.d:case ae.c:case ae.u:return!1;default:return e}},ld=Object(r.c)({error:dd,pending:ud});const bd={};var pd=(e=bd,t)=>{switch(t.type){case ae.a:{const s=t.payload.ids,r={};return s.forEach(e=>r[e]=!0),Object.assign({},e,r)}case ae.g:{const s=t.payload.ids;return vs()(e,s)}case ae.f:{const e=t.payload.ids,s={};return e.forEach(e=>s[e]=!0),s}default:return e}};const Od={};var fd=(e=Od,t)=>{switch(t.type){case ae.d:{var s=t.payload;const e=s.operation,r=s.ids;return"approve"===e?Od:{[ws.c[e]]:r}}default:return e}},md=Object(r.c)({api:ld,selectedItems:pd,undoLastAction:fd});var jd=(e=null,t)=>{switch(t.type){case ae.j:case ae.i:return null;case ae.h:return t.payload;default:return e}};var yd=(e=!1,t)=>{switch(t.type){case ae.j:return!0;case ae.i:case ae.h:return!1;default:return e}},gd=Object(r.c)({error:jd,pending:yd});const _d={};var Ed=(e=_d,t)=>{switch(t.type){case ae.i:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const hd={};var Id=(e=hd,t)=>{switch(t.type){case ae.i:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},Td=Object(r.c)({api:gd,itemOrder:Ed,loadMore:Id});var Sd=(e=null,t)=>{switch(t.type){case Uo.e:return t.payload.moderatingSubreddits?null:e;case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:return t.payload.response.moderatedAfter;case ae.n:return t.payload.moderatedAfter;default:return e}};const vd=[];var Cd=(e=vd,t)=>{switch(t.type){case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:return t.payload.response.listingOrder;case ae.n:{const s=t.payload.listingOrder;return[...e,...s]}case Uo.e:{const s=t.payload.listingOrder;return s||e}default:return e}};var Ad=(e=!1,t)=>{switch(t.type){case ae.b:return!0;default:return e}};var Rd=(e=!1,t)=>{switch(t.type){case ae.n:return!0;case ae.b:return!1;default:return e}},Dd=Object(r.c)({after:Sd,data:Cd,loaded:Ad,pending:Rd});var Pd=(e=null,t)=>{switch(t.type){case ae.m:case ae.l:return null;case ae.k:return t.payload;default:return e}};var xd=(e=!1,t)=>{switch(t.type){case ae.m:return!0;case ae.l:case ae.k:return!1;default:return e}},wd=Object(r.c)({error:Pd,pending:xd});const kd={};var Nd=(e=kd,t)=>{switch(t.type){case ae.l:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const Ld={};var Ud=(e=Ld,t)=>{switch(t.type){case ae.l:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},Md=Object(r.c)({api:wd,itemOrder:Nd,loadMore:Ud});var Fd=(e=null,t)=>{switch(t.type){case ae.q:case ae.p:return null;case ae.o:return t.payload;default:return e}};var Gd=(e=!1,t)=>{switch(t.type){case ae.q:return!0;case ae.p:case ae.o:return!1;default:return e}},Bd=Object(r.c)({error:Fd,pending:Gd});const $d={};var Vd=(e=$d,t)=>{switch(t.type){case ae.p:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const Hd={};var qd=(e=Hd,t)=>{switch(t.type){case ae.p:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},Kd=Object(r.c)({api:Bd,itemOrder:Vd,loadMore:qd});var Wd=(e=null,t)=>{switch(t.type){case ae.t:case ae.s:return null;case ae.r:return t.payload;default:return e}};var Qd=(e=!1,t)=>{switch(t.type){case ae.t:return!0;case ae.s:case ae.r:return!1;default:return e}},Yd=Object(r.c)({error:Wd,pending:Qd});const Jd={};var zd=(e=Jd,t)=>{switch(t.type){case ae.s:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const Xd={};var Zd=(e=Xd,t)=>{switch(t.type){case ae.s:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},eu=Object(r.c)({api:Yd,itemOrder:zd,loadMore:Zd});var tu=(e=null,t)=>{switch(t.type){case ae.y:case ae.x:return null;case ae.w:return t.payload;default:return e}};var su=(e=!1,t)=>{switch(t.type){case ae.y:return!0;case ae.x:case ae.w:return!1;default:return e}},ru=Object(r.c)({error:tu,pending:su});const nu={};var au=(e=nu,t)=>{switch(t.type){case ae.x:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const cu={};var ou=(e=cu,t)=>{switch(t.type){case ae.x:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},iu=Object(r.c)({api:ru,itemOrder:au,loadMore:ou}),du=Object(r.c)({bulkAction:md,edited:Td,moderatedCommunitiesOrder:Dd,modqueue:Md,reports:Kd,spam:eu,unmoderated:iu}),uu=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const lu={};var bu=(e=lu,t)=>{switch(t.type){case ne.u:{const s=t.payload.moreCommentsId;return Object.assign({},e,{[s]:null})}case ne.t:{const s=t.payload.moreCommentsItem;return Object.assign({},e,{[s.id]:null})}case ne.s:{const s=t.payload,r=s.moreCommentsItem,n=uu(s,["moreCommentsItem"]);return Object.assign({},e,{[r.id]:n||{}})}default:return e}};const pu={};var Ou=(e=pu,t)=>{switch(t.type){case ne.u:{const s=t.payload.moreCommentsId;return Object.assign({},e,{[s]:!0})}case ne.s:case ne.t:{const s=t.payload.moreCommentsItem;return Object.assign({},e,{[s.id]:!1})}default:return e}},fu=Object(r.c)({error:bu,pending:Ou});const mu={};var ju=(e=mu,t)=>{switch(t.type){case ne.t:case os.b:case ce.b:return Object.assign({},e,t.payload.moreComments);default:return e}},yu=Object(r.c)({api:fu,models:ju});var gu=(e=!1,t)=>{switch(t.type){case No.d:return!1;case No.e:return!0;default:return e}};var _u=(e=!1,t)=>{switch(t.type){case No.d:return!0;case No.e:return!1;default:return e}},Eu=Object(r.c)({fetched:gu,pending:_u}),hu=s("./node_modules/lodash/union.js"),Iu=s.n(hu);const Tu={};var Su=(e=Tu,t)=>{switch(t.type){case ce.l:case No.b:for(const s in t.payload.multiredditsByUser){const r=e[s],n=t.payload.multiredditsByUser[s];if(r){const t=Iu()(r,n);return hs()(r,t)?e:Object.assign({},e,{[s]:t})}return Object.assign({},e,{[s]:n})}return Tu;case No.e:for(const s in t.payload.multiredditsByUser){const r=t.payload.multiredditsByUser[s];return e[s]&&hs()(r,e[s])?e:Object.assign({},e,{[s]:r})}return Tu;default:return e}};const vu={};var Cu=(e=vu,t)=>{switch(t.type){case ce.l:case No.b:case No.e:{let s={};for(const r in t.payload.multireddits){const n=t.payload.multireddits[r];r in e&&hs()(e[n.url],n)||(s=Object.assign({},s,{[r]:n}))}return _t()(s)?e:Object.assign({},e,s)}default:return e}},Au=Object(r.c)({api:Eu,byUserId:Su,models:Cu});var Ru=(e=null,t)=>{switch(t.type){case N.J:case N.H:return null;case N.G:return t.payload;default:return e}};const Du={};var Pu=(e=Du,t)=>{switch(t.type){case N.J:{var s=t.payload;const r=s.subredditId,n=s.fetchedToken,a=Object(U.c)(r,n);return Object.assign({},e,{[a]:!0})}case N.H:case N.G:{var r=t.payload;const s=r.subredditId,n=r.fetchedToken,a=Object(U.c)(s,n);return Object.assign({},e,{[a]:!1})}default:return e}},xu=Object(r.c)({error:Ru,pending:Pu});const wu={};var ku=(e=wu,t)=>{switch(t.type){case N.H:{var s=t.payload;const r=s.fetchedToken,n=s.subredditId,a=Object(U.c)(n,r);return Object.assign({},e,{[a]:!0})}default:return e}};var Nu=(e=null,t)=>{switch(t.type){case Le.b:return t.payload;default:return e}};const Lu={};var Uu=(e=Lu,t)=>{switch(t.type){case N.H:var s=t.payload;return{[s.subredditId]:s.after};default:return e}};const Mu={};var Fu=(e=Mu,t)=>{switch(t.type){case N.I:case N.H:{var s=t.payload;const r={[s.subredditId]:s.mutedUsers};return K()(Object.assign({},e),r)}case N.N:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}default:return e}};var Gu=(e=null,t)=>{switch(t.type){case N.M:case N.L:return null;case N.K:return t.payload;default:return e}};var Bu=(e=!1,t)=>{switch(t.type){case N.M:return!0;case N.L:case N.K:return!1;default:return e}},$u=Object(r.c)({error:Gu,pending:Bu});var Vu=(e=null,t)=>{switch(t.type){case N.M:case N.K:return null;case N.L:{const e=t.payload.mutedUserIds[0];return e?t.payload.mutedUsers[e]:null}default:return e}},Hu=Object(r.c)({api:$u,result:Vu});const qu={};var Ku=(e=qu,t)=>{switch(t.type){case N.H:{var s=t.payload;const r=s.subredditId,n=s.mutedUserIds;return e[r]?Object.assign({},e,{[r]:[...e[r],...n]}):Object.assign({},e,{[r]:n})}case N.N:{var r=t.payload;const s=r.subredditId,n=r.userId;return{[s]:e[s].filter(e=>e!==n)}}case N.I:{var n=t.payload;const s=n.subredditId,r=n.mutedUserIds[0];return r&&e[s]&&-1===e[s].indexOf(r)?{[s]:[r,...e[s]]}:e}default:return e}},Wu=Object(r.c)({api:xu,fetchedTokens:ku,inContext:Nu,loadMore:Uu,models:Fu,search:Hu,userOrder:Ku});const Qu={};var Yu=(e=Qu,t)=>{switch(t.type){case Mo.b:var s=t.payload;const r=s.key,n=s.activeCommunityIds;return Object.assign({},e,{[r]:n});default:return e}},Ju=Object(r.c)({activeCommunityIds:Yu});var zu=(e=null,t)=>{switch(t.type){case ko.b:case ko.c:case Mo.b:case Mo.c:return null;case Mo.a:case ko.a:return t.payload;default:return e}};var Xu=(e=!1,t)=>{switch(t.type){case ko.c:case Mo.c:return!0;case ko.a:case ko.b:case Mo.a:case Mo.b:return!1;default:return e}},Zu=Object(r.c)({error:zu,pending:Xu}),el=s("./node_modules/lodash/values.js"),tl=s.n(el),sl=s("./src/reddit/models/News/index.ts");const rl={},nl=(e,t)=>e.reduce((e,s)=>{const r=Object.assign({belongsTo:s.belongsTo,heroSource:s.preview||{},id:s.id,status:sl.b.Latest,thumbnailUrl:s.preview&&s.preview.url||""},al(t,s));return e[r.id]=r,e},{}),al=(e,t)=>{let s,r;return e.find(e=>!(!e.subtopics||!e.subtopics.length)&&!!e.subtopics.find(n=>{if(n.subreddits&&n.subreddits.length){const a=t&&t.belongsTo&&t.belongsTo.id||"";if(a&&n.subreddits.includes(a))return s=n,r=e,!0}return!1})),{topic:r,subtopic:s}};var cl=(e=rl,t)=>{switch(t.type){case Mo.b:case ko.b:{var s=t.payload;const r=s.availableTopics,n=s.posts,a=nl(tl()(n),r);return Object.assign({},e,a)}default:return e}},ol=Object(r.c)({api:Zu,models:cl}),il=s("./src/reddit/actions/news.ts");var dl=(e=null,t)=>{switch(t.type){case il.c:case il.b:return null;case il.a:return t.payload;default:return e}};var ul=(e=!1,t)=>{switch(t.type){case il.c:return!0;case il.a:case il.b:return!1;default:return e}},ll=Object(r.c)({error:dl,pending:ul});const bl={availableTopics:[],selectedSubtopic:null,selectedTopic:null};var pl=(e=bl,t)=>{switch(t.type){case il.d:var s=t.payload;const r=s.selectedTopic,n=s.selectedSubtopic;return Object.assign({},e,{selectedTopic:r,selectedSubtopic:n});case il.b:const a=t.payload;return Object.assign({},e,{selectedTopic:e.selectedTopic||a[0]||null,availableTopics:a});default:return e}},Ol=Object(r.c)({api:ll,models:pl}),fl=Object(r.c)({topics:Ol,stories:ol,communityInfo:Ju}),ml=s("./src/reddit/actions/nps.ts");const jl={pending:!1,success:!1,dest:void 0};var yl=(e=jl,t)=>{switch(t.type){case ml.c:return Object.assign({},jl,{pending:!0});case ml.a:return jl;case ml.b:{const e=t.payload.dest;return Object.assign({},jl,{success:!0,dest:e})}default:return e}};const gl={};var _l=(e=gl,t)=>{switch(t.type){case Lo.i:case Lo.h:{const s=t.payload.category;return Object.assign({},e,{[s]:null})}case Lo.g:{var s=t.payload;const r=s.category,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const El={};var hl=(e=El,t)=>{switch(t.type){case Lo.i:{const s=t.payload.category;return Object.assign({},e,{[s]:!0})}case Lo.h:case Lo.g:{const s=t.payload.category;return Object.assign({},e,{[s]:!1})}default:return e}},Il=Object(r.c)({error:_l,pending:hl}),Tl=Object(r.c)({api:Il});var Sl=(e=null,t)=>{switch(t.type){case Lo.c:case Lo.b:return null;case Lo.a:return t.payload;default:return e}};var vl=(e=!1,t)=>{switch(t.type){case Lo.c:return!0;case Lo.b:case Lo.a:return!1;default:return e}},Cl=Object(r.c)({error:Sl,pending:vl});const Al={};var Rl=(e=Al,t)=>{switch(t.type){case Lo.b:return 0===t.payload.length?Al:t.payload.reduce((e,t)=>(e[t.name]=t,e),{});default:return e}},Dl=Object(r.c)({api:Cl,models:Rl});const Pl={};var xl=(e=Pl,t)=>{switch(t.type){case Lo.l:case Lo.k:{const s=t.payload.category;return Object.assign({},e,{[s]:null})}case Lo.j:{var s=t.payload;const r=s.category,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const wl={};var kl=(e=wl,t)=>{switch(t.type){case Lo.l:{const s=t.payload.category;return Object.assign({},e,{[s]:!0})}case Lo.k:case Lo.j:{const s=t.payload.category;return Object.assign({},e,{[s]:!1})}default:return e}},Nl=Object(r.c)({error:xl,pending:kl}),Ll=Object(r.c)({api:Nl});const Ul={};var Ml=(e=Ul,t)=>{switch(t.type){case Lo.o:case Lo.n:{const s=t.payload.category;return Object.assign({},e,{[s]:null})}case Lo.m:{var s=t.payload;const r=s.category,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Fl={};var Gl=(e=Fl,t)=>{switch(t.type){case Lo.l:{const s=t.payload.category;return Object.assign({},e,{[s]:!0})}case Lo.k:case Lo.j:{const s=t.payload.category;return Object.assign({},e,{[s]:!1})}default:return e}},Bl=Object(r.c)({error:Ml,pending:Gl}),$l=Object(r.c)({api:Bl}),Vl=Object(r.c)({bestPosts:Tl,categories:Dl,topCommunities:Ll,topCreators:$l}),Hl=s("./src/reddit/actions/pages/partnerSubredditConnection.ts");const ql={};var Kl=(e=ql,t)=>{switch(t.type){case Hl.b:case Hl.c:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case Hl.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Wl={};var Ql=(e=Wl,t)=>{switch(t.type){case Hl.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}case Hl.b:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}};const Yl={};var Jl=(e=Yl,t)=>{switch(t.type){case Hl.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case Hl.b:case Hl.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},zl=Object(r.c)({error:Kl,fetched:Ql,pending:Jl}),Xl=Object(r.c)({page:zl}),Zl=Object(r.c)({api:Xl}),eb=s("./node_modules/history/index.js"),tb=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const sb={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}};var rb=(e=sb,t)=>{switch(t.type){case p.a:{const s=e.currentPage,r=t.payload,n=r.routeMatch,a=r.location,c=a.key,o=Object(eb.createPath)(a),i=n?((e,t,s,r)=>{const n=s.route,a=(n.action,tb(n,["action"]));return{key:e,locationState:r.state,meta:s.route.meta,queryParams:s.match.queryParams,routeMatch:Object.assign({},s,{route:a}),status:200,url:t,urlParams:s.match.params}})(c,o,n,a):((e,t)=>({key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}))(c,o);let d=e.referrers;if("PUSH"===r.action){const e=s&&s.url||"";d=Object.assign({},d,{[c]:e})}else if("REPLACE"===r.action&&s&&d[s.key]){const e=s.key,t=d[e],r=tb(d,["symbol"==typeof e?e:e+""]);d=Object.assign({},r,{[c]:t})}return Object.assign({},e,{referrers:d,currentPage:i,lastPage:s})}case p.d:{const s=t.payload,r=s.key,n=s.meta;return Object.assign({},e,{metas:Object.assign({},e.metas,{[r]:n})})}case p.e:{if(!e.currentPage)return e;const s=t.payload,r=Object.assign({},e.currentPage,{status:s});return Object.assign({},e,{currentPage:r})}case os.b:case ce.b:return!e.currentPage||t.payload.postMeta,e;case p.b:return e;case p.c:{const s=t.payload.allowNavigationCallback;return Object.assign({},e,{allowNavigationCallback:s})}default:return e}},nb=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const ab={};var cb=(e=ab,t)=>{switch(t.type){case b.i:{const s=t.payload.pollResults.pollId;return e[s],nb(e,["symbol"==typeof s?s:s+""])}case b.h:{const s=t.payload.pollId;return e[s],nb(e,["symbol"==typeof s?s:s+""])}case b.g:{var s=t.payload;const r=s.pollId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const ob={};var ib=(e=ob,t)=>{switch(t.type){case b.i:{const s=t.payload.pollResults.pollId;return Object.assign({},e,{[s]:!1})}case b.g:{const s=t.payload.pollId;return Object.assign({},e,{[s]:!1})}case b.h:{const s=t.payload.pollId;return Object.assign({},e,{[s]:!0})}default:return e}},db=Object(r.c)({error:cb,pending:ib}),ub=Object(r.c)({voting:db});const lb={};var bb=(e=lb,t)=>{switch(t.type){case b.f:{const s=t.payload.poll;return Object.assign({},e,{[s.id]:s})}case ce.g:case ce.s:case ue.o:case wo.b:case os.b:case ce.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{const r=s[t].poll;return e[r.id]=r,e},{});return Object.assign({},e,t)}return e}default:return e}},pb=s("./src/reddit/models/Poll/index.ts");const Ob={};var fb=(e=Ob,t)=>{switch(t.type){case b.i:{var s=t.payload.pollResults;const r=s[pb.b.ByVoters],n=s.pollId;return Object.assign({},e,{[n]:r})}case ce.g:case ce.s:case ue.o:case wo.b:case os.b:case ce.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{var r=s[t].pollResults;const n=r[pb.b.ByVoters];return e[r.pollId]=n,e},{});return Object.assign({},e,t)}return e}default:return e}};const mb={};var jb=(e=mb,t)=>{switch(t.type){case b.i:{var s=t.payload.pollResults;const r=s[pb.b.ByVotingPower],n=s.pollId;return Object.assign({},e,{[n]:r})}case ce.g:case ce.s:case ue.o:case wo.b:case os.b:case ce.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{var r=s[t].pollResults;const n=r[pb.b.ByVotingPower];return e[r.pollId]=n,e},{});return Object.assign({},e,t)}return e}default:return e}},yb=Object(r.c)({byVoters:fb,byVotingPower:jb});const gb={};var _b=(e=gb,t)=>{switch(t.type){case b.i:{var s=t.payload.pollResults;const r=s.pollId,n=s.rewardPoints;return n?Object.assign({},e,{[r]:n}):e}default:return e}},Eb=Object(r.c)({api:ub,models:bb,results:yb,rewards:_b}),hb=s("./src/reddit/helpers/path/index.ts");const Ib={},Tb=e=>{const t=e.protocol,s=e.domain;return e=>{const r=Object(hb.b)(e.permalink);return Object.assign({},e,{permalink:`${t}://${s}${r}`})}};var Sb=(e=Ib,t)=>{switch(t.type){case qr.b:case Uo.e:case Uo.h:case Mo.b:case oe.b:case oe.e:case As.e:case As.b:case ie.e:case ie.b:case ce.s:case ce.g:case ce.l:case ce.s:case os.b:case ce.b:case g.e:case Fo.b:case No.b:case Lo.e:case Lo.h:case wo.b:case de.e:case Jo.b:case ue.o:case jo.c:case Rs.b:case ce.q:case yr.f:{var s=t.payload;const r=s.collections,n=s.meta;if(!r)return e;let a=r;if(n){const e=Tb(n);a=tr()(r,e)}return Object.assign({},e,a)}case yr.d:{var r=t.payload;const s=r.collection,n=r.meta;if(!s)return e;const a=s.id;let c=s;return n&&(c=Tb(n)(s)),Object.assign({},e,{[a]:c})}case yr.g:{var n=t.payload;const s=n.collectionId,r=n.postId,a=e[s];return a?Object.assign({},e,{[s]:Object.assign({},a,{postIds:a.postIds.filter(e=>e!==r)})}):e}case yr.a:{var a=t.payload;const s=a.collectionId,r=a.postId,n=e[s];return n&&r?Object.assign({},e,{[s]:Object.assign({},n,{postIds:[...n.postIds,r]})}):e}case yr.e:{const s=t.payload.collectionId,r=Object.assign({},e);return delete r[s],r}case yr.j:{var c=t.payload;const s=c.collectionId,r=c.newTitle,n=e[s];return n?Object.assign({},e,{[s]:Object.assign({},n,{title:r})}):e}default:return e}};const vb={};var Cb=(e=vb,t)=>{switch(t.type){case qr.b:case yr.f:{const s=t.payload.collections;if(!s)return e;const r=Object.keys(s);if(!r.length)return e;const n=s[r[0]].subredditId;return Object.assign({},e,{[n]:r})}case yr.d:{const s=t.payload.collection,r=s.subredditId,n=e[r]||[];return Object.assign({},e,{[r]:[...n,s.id]})}case yr.e:{var s=t.payload;const r=s.collectionId,n=s.collection;if(!n)return e;const a=n&&e[n.subredditId];return a?Object.assign({},e,{[n.subredditId]:a.filter(e=>e!==r)}):e}default:return e}},Ab=Object(r.c)({models:Sb,subredditToIds:Cb}),Rb=s("./src/reddit/actions/postFlair.ts"),Db=s("./src/reddit/models/Flair/index.ts");const Pb={},xb={displaySettings:{isEnabled:!1,position:Db.a.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},wb=(e,t)=>{if(!t)return e;const s=Object.keys(t);return 0===s.length?e:s.reduce((e,s)=>(e[s]=Object.assign({},xb,e[s],t[s]),e),Object.assign({},e))};var kb=(e=Pb,t)=>{switch(t.type){case qr.b:case wo.b:case Uo.e:case Uo.h:case No.b:case Lo.e:case Fo.b:case os.b:case ce.b:case ce.g:case ce.l:case ce.q:case ce.s:case oe.b:case oe.e:case de.e:case Rs.b:case Rs.b:case As.b:case As.e:case ie.b:case ie.e:case Jo.b:case jo.c:case jo.c:case ue.o:return wb(e,t.payload.postFlair);case Rb.c:{var s=t.payload;const r=s.subredditId,n=s.isEnabled,a=e[r].displaySettings,c=Object.assign({},a,{isEnabled:n});return Object.assign({},e,{[r]:Object.assign({},e[r],{displaySettings:c})})}case Rb.a:{var r=t.payload;const s=r.subredditId,n=r.canAssignOwn,a=e[s].permissions,c=Object.assign({},a,{canAssignOwn:n});return Object.assign({},e,{[s]:Object.assign({},e[s],{permissions:c})})}case Rb.f:{var n=t.payload;const s=n.subredditId,r=n.template,a=e[s],c=a.templates,o=a.templateIds,i=Object.assign({},c,{[r.id]:r}),d=[...o];return d.includes(r.id)||d.push(r.id),Object.assign({},e,{[s]:Object.assign({},a,{templates:i,templateIds:d})})}case Rb.b:{var a=t.payload;const s=a.subredditId,r=a.templateId,n=e[s],c=n.templates,o=n.templateIds,i=vs()(c,r),d=o.filter(e=>e!==r);return Object.assign({},e,{[s]:Object.assign({},n,{templates:i,templateIds:d})})}case Rb.e:case Rb.d:{const s=t.payload,r=e[s.subredditId];return Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templateIds:s.templateIds})})}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{const s=t.payload.response;return wb(e,s.postFlair)}default:return e}};const Nb={};var Lb=(e=Nb,t)=>{switch(t.type){case Lo.h:{var s=t.payload;const r=s.category,n=s.posts;return e[r]?e:Object.assign({},e,{[r]:Object.keys(n)})}default:return e}},Ub=s("./src/reddit/actions/embedAndImage.ts");const Mb={};var Fb=(e=Mb,t)=>{switch(t.type){case Ub.b:{const s=t.payload.postId;return e[s]?Object.assign({},e,{[s]:!1}):e}case Ub.a:{const s=t.payload.postId;return Object.assign({},e,{[s]:!0})}}return e},Gb=Object(r.c)({loadable:Fb});const Bb={};var $b=(e=Bb,t)=>{switch(t.type){case g.c:{const s=t.payload.postId;return Object.assign({},e,{[s]:!e[s]})}default:return e}};var Vb=(e=null,t)=>{switch(t.type){case g.d:return t.payload.postId;default:return e}};const Hb={};var qb=(e=Hb,t)=>{switch(t.type){case Uo.e:case Uo.h:case ce.g:case ce.s:case Fo.b:case Lo.e:case Lo.h:case wo.b:case de.e:case Jo.b:case ue.o:case jo.c:case ce.q:return Ts()(Object.assign({},e),t.payload.postInstances,(e,t)=>{if(e)return e.concat(t)});default:return e}};const Kb={};var Wb=(e=Kb,t)=>{switch(t.type){case b.f:{const s=t.payload.poll;return Object.assign({},e,{[s.postId]:s.id})}case ce.g:case ce.s:case ue.o:case wo.b:case os.b:case ce.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{const r=s[t];return e[t]=r.poll.id,e},{});return Object.assign({},e,t)}return e}default:return e}},Qb=s("./src/reddit/actions/events.ts"),Yb=s("./src/reddit/actions/monthsToMinutes.ts"),Jb=s("./src/reddit/helpers/isPost.ts"),zb=s("./node_modules/lodash/pickBy.js"),Xb=s.n(zb);function Zb(e,t){const s=Xb()(t,(t,s="")=>!e[s]||!hs()(e[s],t));return Object.keys(s).length>0?Object.assign({},e,s):e}var ep=s("./src/reddit/models/Post/index.ts"),tp=s("./src/reddit/actions/subredditDuplicates.ts");const sp={},rp=e=>{const t=e.protocol,s=e.domain;return e=>{const r=Object(hb.b)(e.permalink);return Object.assign({},e,{permalink:`${t}://${s}${r}`})}},np=e=>{let t=e.source;return t&&t.outboundUrlCreated&&(t=Object.assign({},t,{outboundUrlReceived:Date.now()}),e.source=t),e},ap=e=>t=>{for(let s=0;s<e.length;s++)t=e[s](t);return t},cp=(e,t)=>{const s={},r=t.posts;return Object.keys(r).length?(Object.keys(r).map(t=>{const n=r[t],a=e[t];a&&(s[t]=a.voteState===ks.a.notVoted?Object(ks.c)(a,n):a)}),Object.assign({},e,s)):e};var op=(e=sp,t)=>{switch(t.type){case p.a:if(jn(t)===mn.mb.COMMENTS){const s=yn(t),r=(e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params})(t);if(s&&s.instanceId&&r&&r.partialPostId){const t=s.instanceId,n=Object(ep.f)(r.partialPostId);if(e[n]&&e[t])return Object.assign({},e,{[n]:((e,t)=>Object.assign({},e,{events:t.events,source:t.source}))(e[n],e[t])})}}return e;case os.b:case ce.b:{const s=rp(t.payload.meta);return Object.assign({},e,tr()(t.payload.posts,ap([s,np,(e=>t=>{const s=e[t.id];return s&&s.events&&(t.events=s.events,t.source=s.source),t})(e),(e=>t=>{const s=e[t.id];return s&&s.isSponsored&&(t.isSponsored=s.isSponsored),t})(e)])))}case g.e:return Zb(e,t.payload);case tp.a:return Zb(e,t.payload.posts);case qr.b:case Uo.e:case Uo.h:case Mo.b:case oe.b:case oe.e:case As.e:case As.b:case ie.e:case ie.b:case ce.s:case ce.g:case ce.l:case ce.s:case Fo.b:case No.b:case Lo.e:case Lo.h:case wo.b:case de.e:case Jo.b:case ue.o:case Rs.b:case ko.b:{const s=rp(t.payload.meta);return Object.assign({},e,tr()(t.payload.posts,ap([s,np])))}case fa.e:case jo.c:case ce.q:{const s=rp(t.payload.meta),r=tr()(t.payload.posts,ap([s,np]));return Ts()(Object.assign({},e),r,(e,t)=>Object.assign({},t,e))}case g.f:{const s=t.payload;return Ts()(Object.assign({},e),s,(e,t)=>Object.assign({},e,t))}case Ds.a:{var s=t.payload;const r=s.id,n=s.vote,a=e[r];return a?Object.assign({},e,{[r]:Object(ks.c)(a,n)}):e}case ne.F:{const s=t.payload.comment.postId,r=e[s];return r?Object.assign({},e,{[s]:Object.assign({},r,{numComments:r.numComments+1})}):e}case ne.x:{const s=t.payload.postId,r=e[s];return r?Object.assign({},e,{[s]:Object.assign({},r,{numComments:r.numComments-1})}):e}case Cs.h:{var r=t.payload;const s=r.id,n=r.gildings,a=e[s];return a?Object.assign({},e,{[s]:Object(xs.b)(a,n)}):e}case N.l:{const s=t.payload.posts;return Object.assign({},e,s)}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{const s=t.payload.response.posts;return Object.assign({},e,s)}case ae.d:case ae.v:{var n=t.payload;const s=n.operation,r=n.ids,a=n.username,c=n.options,o=r.filter(e=>Object(Jb.a)(e)),i=Object(ws.d)(e,s,o,a,c);return Ts()(Object.assign({},e),i,(e,t)=>Object.assign({},e,t))}case Yb.c:return cp(e,t.payload);case Yb.i:{const s=t.payload;return cp(e,s.votes)}case yr.k:{var a=t.payload;const s=a.postId,r=a.collectionId,n=e[s];if(n&&r){const t=n.collectionIds||[];return t.push(r),Object.assign({},e,{[s]:Object.assign({},n,{collectionIds:[...t]})})}return e}case yr.e:{var c=t.payload;const s=c.collectionId,r=c.collection,n=r&&r.postIds||[],a={};return n.forEach(t=>{const r=e[t],n=r&&r.collectionIds;if(n){const e=n.filter(e=>e!==s);a[t]=Object.assign({},r,{collectionIds:e})}}),Object.assign({},e,a)}case yr.g:{var o=t.payload;const s=o.collectionId,r=o.postId;if(!s||!r)return e;const n=e[r],a=n&&n.collectionIds;if(!a)return e;const c=a.filter(e=>e!==s);return Object.assign({},e,{[r]:Object.assign({},n,{collectionIds:c})})}case Qb.a:{const s=t.payload.postId;if(!s)return e;const r=e[s];if(!r||!r.eventInfo)return e;const n=r.eventInfo;return Object.assign({},e,{[s]:Object.assign({},r,{eventInfo:Object.assign({},n,{eventIsLive:!0})})})}default:return e}};const ip=[];var dp=(e=ip,t)=>{switch(t.type){case g.g:return t.payload.postIds;case Fo.b:case ce.g:case ce.s:{const s=t.payload.recentPostIds;return s&&s.length?s:e}default:return e}},up=s("./src/reddit/reducers/posts/video/index.ts"),lp=Object(r.c)({bestOCPosts:Lb,embedAndImage:Gb,expanded:$b,focus:Vb,instances:qb,metaMap:Wb,models:op,recent:dp,video:up.a}),bp=s("./src/lib/reducers/addAuthentication/index.ts");const pp={};var Op=Object(bp.a)((e=pp,t)=>{switch(t.type){case os.b:case ce.b:{var s=t.payload;const r=s.postId,n=s.commentLists,a=s.comments,c=n[r]&&n[r].head;return c&&a[c.id]&&a[c.id].isStickied?Object.assign({},e,{[r]:c.id}):e}case ne.B:{var r=t.payload;const e=r.id;return{[r.postId]:e}}default:return e}},pp),fp=Object(r.c)({data:Op});const mp={};var jp=(e=mp,t)=>{switch(t.type){case f.f:case f.g:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:void 0})}case f.e:{var s=t.payload;const r=s.subredditId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const yp={};var gp=(e=yp,t)=>{switch(t.type){case f.f:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case f.g:case f.e:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},_p=Object(r.c)({error:jp,pending:gp});const Ep={};var hp=(e=Ep,t)=>{switch(t.type){case f.d:{const s=t.payload.product;return Object.assign({},e,{[s.id]:void 0})}case f.c:{const s=t.payload.productId;return Object.assign({},e,{[s]:void 0})}case f.a:{var s=t.payload;const r=s.productId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Ip={};var Tp=(e=Ip,t)=>{switch(t.type){case f.c:{const s=t.payload.productId;return Object.assign({},e,{[s]:!0})}case f.d:{const s=t.payload.product;return Object.assign({},e,{[s.id]:!1})}case f.a:{const s=t.payload.productId;return Object.assign({},e,{[s]:!1})}default:return e}},Sp=Object(r.c)({error:hp,pending:Tp}),vp=Object(r.c)({fetch:_p,purchase:Sp});var Cp=(e=null,t)=>{switch(t.type){case f.b:return t.payload.productId;case c.a:return null;default:return e}};const Ap={};var Rp=(e=Ap,t)=>{switch(t.type){case f.g:{const s=t.payload.products;return Object.assign({},e,s)}default:return e}},Dp=Object(r.c)({api:vp,currentlyPurchasing:Cp,models:Rp});const Pp={};var xp=(e=Pp,t)=>{switch(t.type){case oe.f:case oe.e:case oe.c:case oe.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case oe.d:case oe.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const wp={};var kp=(e=wp,t)=>{switch(t.type){case oe.f:case oe.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case oe.e:case oe.d:case oe.b:case oe.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Np=Object(r.c)({error:xp,pending:kp});const Lp={};var Up=(e=Lp,t)=>{switch(t.type){case oe.e:{var s=t.payload;const r=s.key,n=s.commentIds;return Object.assign({},e,{[r]:n})}case oe.b:{var r=t.payload;const s=r.key,n=r.commentIds,a=e[s]||[];return Object.assign({},e,{[s]:a.concat(n)})}default:return e}},Mp=s("./src/reddit/actions/commentList.ts");const Fp={};var Gp=(e=Fp,t)=>{switch(t.type){case Mp.a:{var s=t.payload;const r=s.listingKey,n=s.listingName;return Object.assign({},e,{[r]:n})}case Mp.b:{const s=t.payload.listingKey;return s in e?vs()(e,s):e}default:return e}};const Bp={};var $p=(e=Bp,t)=>{switch(t.type){case oe.e:{const s=t.payload.key;return Object.assign({},e,{[s]:{}})}case oe.b:{var s=t.payload;const r=s.key,n=s.fetchedToken,a=e[r];return Object.assign({},e,{[r]:Object.assign({},a,{[n]:!0})})}default:return e}};const Vp={};var Hp=(e=Vp,t)=>{switch(t.type){case oe.e:case oe.b:{var s=t.payload;const r=s.key,n=s.dist,a=s.token;return a?Object.assign({},e,{[r]:{dist:n,token:a}}):Object(Ro.a)(e,r)}default:return e}},qp=Object(r.c)({api:Np,endMarkers:Gp,fetchedTokens:$p,commentIds:Up,loadMore:Hp}),Kp=s("./src/reddit/actions/pages/profileModSettings.ts");var Wp=(e=!0,t)=>{switch(t.type){case Kp.a:return!1;default:return e}},Qp=Object(r.c)({pending:Wp}),Yp=Object(r.c)({api:Qp});const Jp={};var zp=(e=Jp,t)=>{switch(t.type){case As.c:case As.b:case Rs.c:case Rs.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case As.a:case Rs.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Xp={};var Zp=(e=Xp,t)=>{switch(t.type){case As.c:case Rs.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case As.b:case As.a:case Rs.b:case Rs.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},eO=Object(r.c)({error:zp,pending:Zp});const tO={};var sO=(e=tO,t)=>{switch(t.type){case As.b:{const s=t.payload.key;return Object.assign({},e,{[s]:{}})}case Rs.b:{var s=t.payload;const r=s.key,n=s.fetchedToken,a=e[r];return Object.assign({},e,{[r]:Object.assign({},a,{[n]:!0})})}default:return e}};const rO={};var nO=(e=rO,t)=>{switch(t.type){case As.b:case Rs.b:{var s=t.payload;const r=s.key,n=s.overviewIds,a=e[r]||[];return Object.assign({},e,{[r]:[...a,...n]})}default:return e}};const aO={};var cO=(e=aO,t)=>{switch(t.type){case As.b:case Rs.b:{var s=t.payload;const r=s.key,n=s.dist,a=s.token;return a?Object.assign({},e,{[r]:{dist:n,token:a}}):Object(Ro.a)(e,r)}default:return e}},oO=Object(r.c)({api:eO,fetchedTokens:sO,ids:nO,loadMore:cO});const iO={};var dO=(e=iO,t)=>{switch(t.type){case As.f:case As.e:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case As.d:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n||{}})}default:return e}};const uO={};var lO=(e=uO,t)=>{switch(t.type){case As.f:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case As.e:case As.d:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},bO=Object(r.c)({error:dO,pending:lO});const pO={};var OO=(e=pO,t)=>{switch(t.type){case de.c:case de.b:{const s=t.payload.extraCommentsId;return Object.assign({},e,{[s]:null})}case de.a:{var s=t.payload;const r=s.extraCommentsId,n=s.error;return Object.assign({},e,{[r]:n||{}})}default:return e}};const fO={};var mO=(e=fO,t)=>{switch(t.type){case de.c:{const s=t.payload.extraCommentsId;return Object.assign({},e,{[s]:!0})}case de.b:case de.a:{const s=t.payload.extraCommentsId;return Object.assign({},e,{[s]:!1})}default:return e}},jO=Object(r.c)({error:OO,pending:mO});const yO={};var gO=(e=yO,t)=>{switch(t.type){case As.e:case de.b:case de.e:return Object.assign({},e,t.payload.extraComments);default:return e}},_O=Object(r.c)({api:jO,models:gO}),EO=s("./src/lib/makeOverviewConversationsItemKey/index.ts");const hO={};function IO(e){const t=e;return tr()(t,({depth:e,next:t,prev:s})=>({depth:e,next:t,prev:s}))}const TO=(e,t,s)=>{const r={};for(const n in t){const e=t[n],s=e.postId;r.hasOwnProperty(s)?r[s]=Object.assign({},r[s],{[n]:e}):r[s]={[n]:e}}for(const n in s){const e=s[n],t=e.postId;r.hasOwnProperty(t)?r[t]=Object.assign({},r[t],{[n]:e}):r[t]={[t]:e}}return r};var SO=(e=hO,t)=>{switch(t.type){case As.e:case de.e:{var s=t.payload;const r=s.comments,n=s.extraComments,a=s.postIds,c=s.profileName,o=TO(a,r,n),i={};for(const e of a)i[Object(EO.a)(e,c)]=o.hasOwnProperty(e)?IO(o[e]):{};return Object.assign({},e,i)}case de.b:{var r=t.payload;const s=r.comments,n=r.commentLists,a=r.extraComments,c=r.extraCommentsId,o=r.postIds,i=r.profileName;if(0===o.length){const t=Object.keys(e).find(t=>void 0!==e[t][c]);if(!t)return e;const s=Object.assign({},e[t])[c].prev,r=s&&s.id||"";return Object.assign({},e,{[t]:Object.assign({},e[t],{[r]:Object.assign({},e[t][r],{next:null})})})}const d=o[0],u=IO(TO(o,s,a)[d]),l=Object(EO.a)(d,i),b=Object.assign({},e[l]),p=b[c].prev,O=p&&p.id||"",f=n[d].head,m=f&&f.id||"",j={id:m,type:"comment"},y=Object.assign({},b,{[O]:Object.assign({},b[O],{next:j})},u,{[m]:Object.assign({},u[m],{prev:p})});return Object.assign({},e,{[l]:y})}default:return e}};const vO={};var CO=(e=vO,t)=>{switch(t.type){case As.e:case de.e:{var s=t.payload;const r=s.commentLists,n=s.postIds,a=s.profileName,c={};for(const e of n)c[Object(EO.a)(e,a)]=r[e]&&r[e].head?r[e].head.id:null;return Object.assign({},e,c)}default:return e}};const AO={};var RO=(e=AO,t)=>{switch(t.type){case As.e:case de.e:{var s=t.payload;const r=s.postIds,n=s.profileName,a={};for(const e of r)a[Object(EO.a)(e,n)]=e;return Object.assign({},e,a)}default:return e}},DO=Object(r.c)({api:bO,extraComments:_O,keyToCommentThreadLinkSets:SO,keyToHeadCommentId:CO,keyToPostId:RO}),PO=Object(r.c)({chrono:oO,conversations:DO});const xO={};var wO=(e=xO,t)=>(t.type,e),kO=s("./src/reddit/actions/preferences.ts"),NO=s("./src/reddit/actions/profile.ts"),LO=s("./src/reddit/actions/subscription.ts");const UO={};var MO=(e=UO,t)=>{switch(t.type){case ce.q:case jo.c:return Object.assign({},e,t.payload.profileAboutInfo);case NO.d:{const s=t.payload;return s.profile?Object.assign({},e,{[s.profile.id]:s.about}):e}case LO.e:{var s=t.payload;const r=s.identifier,n=s.userIsSubscriber;if("profile"!==r.type)return e;const a=r.id;return Object.assign({},e,{[a]:Object.assign({},e[a],{userIsSubscriber:n})})}case Lo.n:{const s=t.payload.profilesAboutInfo;return s?0===Object.keys(s).length?e:Object.assign({},e,s):e}case kO.l:{const s=t.payload,r=e[s.subredditId];if(!r)return e;if(r.publicDescription===s.settings.publicDescription)return e;const n=Object.assign({},r,{publicDescription:s.settings.publicDescription});return Object.assign({},e,{[s.subredditId]:n})}default:return e}};const FO={},GO=(e,t)=>{if(!t)return e;const s=Object.keys(t);if(!s.length)return e;const r={};return s.forEach(s=>{const n=e[s],a=Object.assign({},t[s]);n&&hs()(n,a)||(r[s]=a)}),Object.keys(r).length?Object.assign({},e,r):e};var BO=(e=FO,t)=>{switch(t.type){case wo.b:case os.b:case ce.b:case ce.g:case oe.b:case oe.e:case As.b:case As.e:case ie.e:case Rs.b:case wo.b:case Uo.e:case Uo.h:case Lo.e:case Lo.n:case jo.c:case ue.o:case NO.e:case de.b:case de.e:case ce.q:case Fo.b:case qr.b:case Ir.e:case pn.a:case ce.s:case ce.l:case Jo.b:case LO.d:return GO(e,t.payload.profiles);case jo.d:{const s=t.payload.typeaheadSuggestions;return Object.keys(s).length?GO(e,s.profiles):e}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:case ae.n:{const s=t.payload.response.profiles;return GO(e,s)}case NO.d:{const s=t.payload.profile;return s?GO(e,{[s.id]:s}):e}case kO.l:{const r=t.payload;var s=r.settings;const n=s.title,a=s.over18,c=e[r.subredditId];return!c||c.title===n&&c.isNSFW===a?e:Object.assign({},e,{[r.subredditId]:Object.assign({},c,{id:r.subredditId,title:n,isNSFW:a})})}default:return e}};const $O={};var VO=(e=$O,t)=>{switch(t.type){case NO.c:{const s=t.payload.profileName;return Object.assign({},e,{[(s||"").toLowerCase()]:!0})}case NO.a:case NO.b:{const s=t.payload.profileName;return Object.assign({},e,{[(s||"").toLowerCase()]:!1})}default:return e}},HO=Object(r.c)({pending:VO});const qO={};var KO=(e=qO,t)=>{switch(t.type){case NO.b:{var s=t.payload;const r=s.profileName,n=s.data.map(e=>e.id);return Object.assign({},e,{[(r||"").toLowerCase()]:n})}default:return e}},WO=Object(r.c)({api:HO,models:KO}),QO=s("./src/reddit/actions/pinnedPost.ts");const YO={};var JO=Object(bp.a)((e=YO,t)=>{switch(t.type){case QO.a:{var s=t.payload;const r=s.pinned,n=s.profileId;return Object.assign({},e,{[n]:r})}case QO.d:{var r=t.payload;const s=r.postId,n=r.profileId,a=e[n]||[];return Object.assign({},e,{[n]:[...a,s].slice(-mn.Z)})}case QO.g:{var n=t.payload;const s=n.postId,r=n.profileId,a=e[r]||[];return Object.assign({},e,{[r]:a.filter(e=>e!==s)})}default:return e}},YO);const zO={};var XO=Object(bp.a)((e=zO,t)=>{switch(t.type){case QO.a:{var s=t.payload;const r=s.pinned,n=s.profileId;return Object.assign({},e,{[n]:r})}default:return e}},zO);const ZO={};var ef=Object(bp.a)((e=ZO,t)=>{switch(t.type){case QO.c:case QO.f:{var s=t.payload;const r=s.postId,n=s.profileId,a=e[n]||[];return Object.assign({},e,{[n]:[...a,r]})}case QO.b:case QO.e:case QO.d:case QO.g:{var r=t.payload;const s=r.postId,n=r.profileId,a=e[n]||[];return Object.assign({},e,{[n]:a.filter(e=>e!==s)})}default:return e}},ZO),tf=Object(r.c)({data:JO,initialData:XO,pending:ef}),sf=s("./src/reddit/actions/trophyCase.ts");const rf={};var nf=(e=rf,t)=>{switch(t.type){case sf.a:{var s=t.payload;const r=s.profileId,n=s.trophyIds;return Object.assign({},e,{[r]:n})}default:return e}},af=Object(r.c)({about:MO,models:BO,moderated:WO,pinnedPosts:tf,trophyCases:nf}),cf=s("./src/reddit/actions/promo.ts");const of={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null};var df=(e=of,t)=>{switch(t.type){case cf.b:{const s=t.payload.promoType;return Object.assign({},e,{[s]:!0})}case cf.a:{const s=t.payload.promoType;return Object.assign({},e,{[s]:!1})}default:return e}};const uf={};var lf=(e=uf,t)=>{switch(t.type){case os.b:case ce.b:case oe.b:case ne.t:case ie.b:case de.e:case de.b:case Rs.b:case ue.o:case ce.s:case As.e:case As.b:case oe.e:case ie.e:{const s=t.payload.providerFlair;return s?K()(s,e):e}default:return e}},bf=Object(r.c)({models:lf});const pf={};var Of=(e=pf,t)=>{switch(t.type){case Jo.b:return Object.assign({},e,t.payload);case Jo.a:default:return e}},ff=s("./src/reddit/actions/removalReasons.ts");var mf=(e=null,t)=>{switch(t.type){case ff.k:case ff.l:case ff.b:case ff.c:case ff.h:case ff.i:case ff.e:case ff.f:return null;case ff.j:case ff.a:case ff.g:case ff.d:return t.payload;default:return e}};var jf=(e=!1,t)=>{switch(t.type){case ff.k:case ff.b:case ff.h:case ff.e:return!0;case ff.l:case ff.j:case ff.c:case ff.a:case ff.i:case ff.g:case ff.f:case ff.d:return!1;default:return e}},yf=Object(r.c)({error:mf,pending:jf}),gf=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const _f={};var Ef=(e=_f,t)=>{switch(t.type){case ff.l:{const s=t.payload.response.data;return Object.assign({},e,s)}case ff.c:case ff.i:{const s=t.payload.reason;return Object.assign({},e,{[s.id]:s})}case ff.f:{const s=t.payload.reasonId;return e[s],gf(e,["symbol"==typeof s?s:s+""])}default:return e}};const hf={};var If=(e=hf,t)=>{switch(t.type){case ff.l:{var s=t.payload;const r=s.subredditId,n=s.response.order;return Object.assign({},e,{[r]:n})}case ff.c:{var r=t.payload;const s=r.subredditId,n=r.reason;return Object.assign({},e,{[s]:[...e[s],n.id]})}case ff.f:{var n=t.payload;const s=n.subredditId,r=n.reasonId,a=[...e[s]].filter(e=>e!==r);return Object.assign({},e,{[s]:a})}default:return e}};var Tf=(e=null,t)=>{switch(t.type){case ff.m:{var s=t.payload;const e=s.subredditId;return{itemIds:s.itemIds,subredditId:e}}default:return e}},Sf=Object(r.c)({api:yf,models:Ef,reasonOrder:If,removedItemIds:Tf});const vf={};var Cf=(e=vf,t)=>{switch(t.type){case m.d:case m.c:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}case m.b:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case m.e:{const s=t.payload;return s?Object.assign({},e,{[s]:!1}):e}default:return e}};const Af={};var Rf=(e=Af,t)=>{switch(t.type){case m.d:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case m.c:case m.b:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}case m.e:{const s=t.payload;return s?Object.assign({},e,{[s]:!1}):e}default:return e}};const Df={};var Pf=(e=Df,t)=>{switch(t.type){case m.c:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case m.d:case m.b:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}case m.e:{const s=t.payload;return s?Object.assign({},e,{[s]:!1}):e}default:return e}},xf=Object(r.c)({error:Cf,pending:Rf,success:Pf});var wf=(e=!1,t)=>{switch(t.type){case m.a:return t.payload;case c.b:return!t.payload&&e;case p.a:return!1;case m.e:return!!t.payload&&e;default:return e}};var kf=(e=null,t)=>{switch(t.type){case m.e:return t.payload;case c.b:return t.payload?null:e;case p.a:return null;default:return e}};var Nf=(e=!1,t)=>{switch(t.type){case m.f:return t.payload;case m.e:return!1;default:return e}},Lf=Object(r.c)({api:xf,openedFromModalPage:wf,postOrCommentId:kf,userIsMod:Nf}),Uf=s("./src/lib/makeActionCreator/index.ts");Object(Uf.a)("REQUEST_HOST_SET");var Mf=(e="",t)=>{switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}};Object(Uf.a)("RUN_TIME_ENV_VARS__IS_STAGING");const Ff={staging:!1,startTimeInMillis:(new Date).getTime()};var Gf=(e=Ff,t)=>{switch(t.type){case"RUN_TIME_ENV_VARS__IS_STAGING":return Object.assign({},e,{staging:!0});default:return e}};var Bf=(e=null,t)=>{switch(t.type){case jo.e:return t.payload.searchQuery;default:return e}};const $f={};var Vf=(e=$f,t)=>{switch(t.type){case jo.d:{var s=t.payload;const r=s.order,n=s.searchQuery;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}},Hf=s("./src/reddit/models/Search/index.ts");const qf={};var Kf=(e=qf,t)=>{switch(t.type){case jo.d:{const s=t.payload.typeaheadSuggestions,r={};return Object.keys(s).forEach(e=>{const t=s[e];return r[e]=Object(Hf.c)(t)}),Object.assign({},e,r)}default:return e}},Wf=Object(r.c)({idsByQuery:Vf,models:Kf}),Qf=Object(r.c)({searchQuery:Bf,typeahead:Wf}),Yf=s("./src/reddit/actions/shortcuts.ts");var Jf=(e=null,t)=>{switch(t.type){case Yf.a:return t.payload;case p.a:return null;default:return e}};var zf=(e=null,t)=>{switch(t.type){case Yf.b:return t.payload||null;default:return e}},Xf=s("./src/reddit/constants/history.ts"),Zf=s("./src/reddit/constants/shortcuts.ts"),em=s("./src/reddit/helpers/history/index.ts");const tm=Zf.d.Global,sm=e=>{switch(e.name){case"comments":return Object(em.b)(Xf.a.IsOverlay),Zf.d.Lightbox;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return Zf.d.Listing;case"modQueuePages":return Zf.d.Modqueue;default:return tm}};var rm=(e=tm,t)=>{switch(t.type){case p.a:const s=t.payload;if(s.routeMatch){const e=s.routeMatch.route.meta;return sm(e)}return tm;default:return e}},nm=Object(r.c)({activeCommentId:Jf,activePostId:zf,namespace:rm});var am=(e=!1,t)=>{if(e)return e;switch(t.type){case rt.b:case rt.c:return!0;default:return e}},cm=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),om=Object(r.c)({firstFetch:am,models:cm.b}),im=s("./src/reddit/actions/sitewideRules.ts");const dm=[];var um=(e=dm,t)=>{switch(t.type){case im.a:return t.payload;default:return e}},lm=s("./src/reddit/models/StructuredStyles/index.ts");const bm={};var pm=(e=bm,t)=>{switch(t.type){case j.h:case j.b:case j.e:return t.payload.styles;case j.f:return bm;case j.c:{const s=t.payload;return Object.assign({},e,s)}case j.i:{const e=t.payload;return Object(lm.d)(e.styles)}default:return e}},Om=s("./src/reddit/actions/exportImportStyles.ts");var fm=(e=null,t)=>{switch(t.type){case Om.c:case Om.b:return null;case Om.a:return t.payload;default:return e}};var mm=(e=!1,t)=>{switch(t.type){case Om.c:return!0;case Om.b:case Om.a:return!1;default:return e}},jm=Object(r.c)({error:fm,pending:mm}),ym=s("./src/reddit/actions/postFlairStyleTemplate.ts");const gm={};var _m=(e=gm,t)=>{switch(t.type){case j.d:case ym.b:var s=t.payload;return{[s.flairId]:s.template};case j.k:return gm;case ym.a:case Rb.b:case j.i:return gm;default:return e}};const Em={};var hm=(e=Em,t)=>{switch(t.type){case ce.s:case os.b:case ce.b:case ce.q:case jo.c:case qr.b:case pn.a:{const s=t.payload;if(!s.structuredStyles||!s.structuredStyles.data)return e;const r=s.structuredStyles.data.flairTemplate;return Object.assign({},e,r)}case ym.c:{var s=t.payload;const r=s.flairId,n=s.template;return Object.assign({},e,{[r]:n})}case ym.a:{const s=t.payload.flairId;return Object(Ro.a)(e,s)}case Rb.b:{const s=t.payload.templateId;return Object(Ro.a)(e,s)}case j.i:return Em;default:return e}},Im=Object(r.c)({draft:_m,models:hm});const Tm={};var Sm=(e=Tm,t)=>{switch(t.type){case j.g:{const s=t.payload;return Object.assign({},e,{[s.imageKey]:s.uploadId})}case j.i:case j.f:return Tm;default:return e}};var vm=(e=!1,t)=>{switch(t.type){case j.k:case j.f:return!1;case j.a:return!0;default:return e}};var Cm=(e=null,t)=>{switch(t.type){case j.e:return t.payload.subredditId;case j.f:case p.a:case kO.c:return null;default:return e}};const Am={};var Rm=(e=Am,t)=>{switch(t.type){case ce.s:case os.b:case ce.b:case qr.b:case pn.a:{const s=t.payload;if(!s.structuredStyles||!s.structuredStyles.data)return e;const r=Object.keys(s.subredditAboutInfo||{});if(1!==r.length)return e;const n=r[0],a=s.structuredStyles.data.style;return Object.assign({},e,{[n]:a})}case jo.c:case ce.q:{const s=t.payload;if(!s.structuredStyles||!s.structuredStyles.data)return e;if(!s.subredditName)return e;let r;if(vt()(s.subreddits,(e,t)=>{if(e.name.toLowerCase()===s.subredditName.toLowerCase())return r=t,!1}),!r)return e;const n=s.structuredStyles.data.style;return Object.assign({},e,{[r]:n})}case j.j:{const s=t.payload,r=e[s.subredditId];return Object.assign({},e,{[s.subredditId]:Object.assign({},r,s.styles)})}case j.h:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.styles})}case j.i:{const s=t.payload,r=Object(lm.d)(s.styles);return Object.assign({},e,{[s.subredditId]:r})}case NO.d:{const s=t.payload,r=s.banner,n=s.profile;if(!r||!n)return e;const a=e[n.id];return Object.assign({},e,{[n.id]:Object.assign({},a,{bannerBackgroundImage:r.url})})}case kO.j:{const s=t.payload;return"profileBanner"===s.key?Zb(e,{[s.subredditId]:{bannerBackgroundImage:s.imageUrl}}):e}case kO.i:{const s=t.payload;return"profileBanner"===s.key?Zb(e,{[s.subredditId]:{bannerBackgroundImage:void 0}}):e}default:return e}},Dm=Object(r.c)({draft:pm,exportStyles:jm,flairTemplate:Im,imagePreviews:Sm,isBladeEditorDirty:vm,isEditing:Cm,models:Rm});Object(Uf.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST");var Pm=(e="",t)=>{switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}},xm=s("./src/reddit/actions/subredditAutocomplete.ts");const wm={};var km=(e=wm,t)=>{switch(t.type){case xm.c:case xm.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case xm.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Nm={};var Lm=(e=Nm,t)=>{switch(t.type){case xm.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case xm.b:case xm.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Um=Object(r.c)({error:km,pending:Lm});const Mm={};var Fm=(e=Mm,t)=>{switch(t.type){case xm.b:{const s=t.payload.key;return Object.assign({},e,{[s]:t.payload})}default:return e}},Gm=Object(r.c)({api:Um,models:Fm});const Bm={};var $m=(e=Bm,t)=>{switch(t.type){case kt.c:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case kt.a:case kt.d:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}};const Vm={};var Hm=(e=Vm,t)=>{switch(t.type){case kt.d:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case kt.a:case kt.c:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}};const qm={};var Km=(e=qm,t)=>{switch(t.type){case kt.d:{const s=t.payload.subredditId;return e[s]?e:Object.assign({},e,{[s]:!1})}case kt.a:{var s=t.payload;const r=s.subredditId,n=s.isSubredditWhitelisted;return Object.assign({},e,{[r]:n})}case kt.c:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},Wm=Object(r.c)({error:$m,pending:Hm,whitelist:Km}),Qm=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Ym={};var Jm=(e=Ym,t)=>{switch(t.type){case kt.a:return Object.assign({},e,t.payload.collection);case kt.e:{const s=t.payload.channel;return Object.assign({},e,{[s.channelId]:Object.assign({},s)})}case kt.f:{var s=t.payload;const r=s.channel,n=s.editedSubredditChannelData;return r.name=n.room,r.description=n.description,r.minimumAcctAge=r.minimumAcctAge,r.newMemberAge=r.newMemberAge,Object.assign({},e,{[r.channelId]:Object.assign({},r)})}case kt.g:{const s=t.payload;return e[s],Qm(e,["symbol"==typeof s?s:s+""])}default:return e}};var zm=(e=null,t)=>{switch(t.type){case kt.h:return t.payload.channelId;case kt.g:return e===t.payload?null:e;default:return e}},Xm=Object(r.c)({api:Wm,models:Jm,selected:zm});const Zm={};var ej=(e=Zm,t)=>{switch(t.type){case os.b:case ce.b:case ce.q:case ce.r:case ce.s:case qr.b:case pn.a:case oe.b:case oe.e:case As.b:case As.a:case As.e:case As.d:case ie.e:case de.b:case de.e:case jo.c:{const s=t.payload.subredditAboutInfo;return void 0===s?e:Object.assign({},e,s)}case va.a:{var s=t.payload;const r=s.subredditId,n=s.emojisEnabled,a=e[r],c=Object.assign({},a,{emojisEnabled:n});return Object.assign({},e,{[r]:c})}case LO.e:{var r=t.payload;const s=r.identifier,n=r.userIsSubscriber;if("subreddit"!==s.type)return e;const a=s.id;return Object.assign({},e,{[a]:Object.assign({},e[a],{userIsSubscriber:n})})}case ct.e:case Mo.b:case Lo.k:case ue.s:{const s=t.payload.subredditsAboutInfo;if(!s)return e;const r=Object.keys(s);return 0===r.length?e:r.reduce((e,t)=>(s[t]&&(e[t]=e[t]?Object.assign({},e[t],s[t]):s[t]),e),Object.assign({},e))}case va.b:{const s=t.payload,r=s.emojiCustomSize,n=s.subredditId,a=e[n];if(!a)return e;const c=Object.assign({},a);if(r){const e=r.width,t=r.height;c.emojisCustomSize=[e,t]}else delete c.emojisCustomSize;return Object.assign({},e,{[n]:c})}case ue.c:{const s=t.payload.data;return Object.assign({},e,s)}default:return e}};const tj={};var sj=(e=tj,t)=>{switch(t.type){case ue.b:case ue.c:{const s=t.payload.subredditName;return Object.assign({},e,{[s.toLowerCase()]:null})}case ue.a:{var s=t.payload;const r=s.subredditName,n=s.error;return Object.assign({},e,{[r.toLowerCase()]:n})}default:return e}};var rj=(e=!1,t)=>{switch(t.type){case ue.b:return!0;case ue.c:case ue.a:return!1;default:return e}},nj=Object(r.c)({error:sj,pending:rj});var aj=(e=null,t)=>{switch(t.type){case ue.d:return t.payload.error||null;case ue.e:case ue.f:return null;default:return e}};var cj=(e=null,t)=>{switch(t.type){case ue.f:return t.payload.subredditName||null;case ue.d:case ue.e:return null;default:return e}};var oj=(e=!1,t)=>{switch(t.type){case ue.e:return!0;case ue.f:case ue.d:return!1;default:return e}},ij=Object(r.c)({error:aj,lastConnectedSubredditId:cj,pending:oj});var dj=(e=null,t)=>{switch(t.type){case ue.g:return t.payload.error||null;case ue.h:case ue.i:return null;default:return e}};var uj=(e=null,t)=>{switch(t.type){case ue.i:return t.payload.subredditName||null;case ue.h:case ue.g:return null;default:return e}};var lj=(e=!1,t)=>{switch(t.type){case ue.h:return!0;case ue.i:case ue.g:return!1;default:return e}},bj=Object(r.c)({error:dj,lastCreatedSubredditId:uj,pending:lj}),pj=Object(r.c)({about:nj,connectToPartner:ij,create:bj}),Oj=s("./node_modules/lodash/isNil.js"),fj=s.n(Oj);const mj={};var jj=(e=mj,t)=>{switch(t.type){case ue.j:{var s=t.payload;const r=s.subredditId,n=s.forceState;return Object.assign({},e,{[r]:fj()(n)?!e[r]:n})}default:return e}},yj=Object(r.c)({meta:jj});const gj={};var _j=(e=gj,t)=>{switch(t.type){case ct.e:{var s=t.payload;const r=s.categoryId,n=s.subredditIds;return _t()(n)?e:Object.assign({},e,{[r]:n})}default:return e}},Ej=s("./src/reddit/actions/subredditCrosspostable.ts");var hj=(e=null,t)=>{switch(t.type){case Ej.a:return t.payload.error;case Ej.c:case Ej.b:return null;default:return e}};var Ij=(e=!1,t)=>{switch(t.type){case Ej.c:return!0;case Ej.b:case Ej.a:return!1;default:return e}},Tj=Object(r.c)({errors:hj,pending:Ij});const Sj={};var vj=(e=Sj,t)=>{switch(t.type){case Ej.b:{const s=t.payload.subredditIds;return hs()(e,s)?e:s}default:return e}},Cj=Object(r.c)({api:Tj,ids:vj});const Aj={};var Rj=(e=Aj,t)=>{switch(t.type){case tp.a:{const s=t.payload,r=s.subredditId,n=s.distinguishKey,a=s.postIds;if(!(r in e))return Object.assign({},e,{[r]:{[n]:a}});const c=e[r];return Zb(c,{[n]:a})===c?e:Object.assign({},e,{[r]:Object.assign({},c,{[n]:a})})}default:return e}},Dj=Object(r.c)({models:Rj});const Pj={};var xj=(e=Pj,t)=>{switch(t.type){case b.a:{var s=t.payload;const r=s.assets,n=s.subredditId;return Object.assign({},e,{[n]:r})}default:return e}};const wj={};var kj=(e=wj,t)=>{switch(t.type){case b.a:{var s=t.payload;const r=s.subredditId,n=s.distribution;return Object.assign({},e,{[r]:n})}default:return e}};const Nj={};var Lj=(e=Nj,t)=>{switch(t.type){case b.a:{var s=t.payload;const r=s.subredditId,n=s.meta;return Object.assign({},e,{[r]:n})}default:return e}};const Uj={};var Mj=(e=Uj,t)=>{switch(t.type){case b.n:{var s=t.payload;const r=s.subredditId,n=s.releaseNotes;return Object.assign({},e,{[r]:n})}default:return e}},Fj=Object(r.c)({assets:xj,distributions:kj,meta:Lj,releaseNotes:Mj}),Gj=s("./node_modules/lodash/isEqualWith.js"),Bj=s.n(Gj),$j=s("./src/lib/forceHttps/index.ts"),Vj=s("./src/reddit/models/Subreddit/index.ts");const Hj={},qj=(e,t)=>{return!Bj()(e,t,(e,t,s)=>{if("subscribers"===s)return!0})},Kj=(e,t)=>{if(!t)return e;const s=Object.keys(t);if(!s.length)return e;const r={};for(let n=0;n<s.length;n++){const a=s[n],c=e[a],o=t[a];c&&!qj(c,o)||(r[a]=o)}return Object.keys(r).length?Object.assign({},e,r):e};var Wj=(e=Hj,t)=>{switch(t.type){case LO.d:return((e,t)=>{const s=Object.keys(t);if(s.length){const r=Object.assign({},e);return s.forEach(s=>{const n=e[s],a=t[s],c=n?Object.assign({},n,a):Object.assign({},a);a.icon.url?c.icon.url=Object($j.a)(a.icon.url):n&&n.icon.url?c.icon=n.icon:c.icon.url="",r[s]=c}),r}return e})(e,t.payload.subreddits||{});case ct.e:case wo.b:case Uo.e:case Uo.h:case ae.n:case No.b:case No.e:case Mo.b:case Lo.e:case Lo.k:case Fo.b:case os.b:case ce.b:case ce.g:case ce.l:case oe.b:case oe.e:case As.b:case As.e:case ie.b:case ie.e:case ce.q:case ce.s:case qr.b:case Ir.e:case pn.a:case NO.e:case de.b:case de.e:case Rs.b:case Jo.b:case jo.c:case ue.l:case ue.o:case ue.s:case ko.b:return Kj(e,t.payload.subreddits||{});case ae.i:case ae.l:case ae.p:case ae.s:case ae.x:{const s=t.payload.response.subreddits;return Kj(e,s)}case jo.d:{const s=t.payload.typeaheadSuggestions;return Kj(e,s.subreddits||{})}case Yb.i:{const s=t.payload.subreddits,r={};return Object.keys(s).map(e=>{const t=s[e];r[e]=((e,t)=>({displayText:`r/${e}`,name:e,id:t,icon:{height:null,url:"",width:null},subscribers:0,title:e,type:Vj.b.Public,url:`/r/${e}`,isNSFW:!1}))(t,e)}),Object.assign({},r,e)}default:return e}};var Qj=(e=null,t)=>{switch(t.type){case ue.k:return t.payload.error;case ue.m:case ue.l:return null;default:return e}};var Yj=(e=!1,t)=>{switch(t.type){case ue.m:case ue.l:return!0;case ue.k:return!1;default:return e}};var Jj=(e=!1,t)=>{switch(t.type){case ue.m:return!0;case ue.l:case ue.k:return!1;default:return e}},zj=Object(r.c)({errors:Qj,fetched:Yj,pending:Jj});var Xj=(e=null,t)=>{switch(t.type){case ue.l:{const e=t.payload.subreddits,s=Object.keys(e);return s.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),s}default:return e}},Zj=Object(r.c)({api:zj,order:Xj});const ey=[];var ty=(e=ey,t)=>{switch(t.type){case ue.s:{const s=t.payload.subreddits;if(!s)return e;const r=Object.keys(s);if(0===r.length)return e;const n=r.filter(t=>!e.includes(t));return 0===n.length?e:[...e,...n]}default:return e}};const sy={};var ry=(e=sy,t)=>{switch(t.type){case f.g:{var s=t.payload;const r=s.subredditId,n=s.products,a=Object.keys(n).reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:a})}default:return e}};const ny={};var ay=(e=ny,t)=>{switch(t.type){case ue.t:{var s=t.payload;const r=s.rules,n={[s.subredditId]:{rules:r.rules,oldSiteRules:r.oldSiteRules}};return Object.assign({},e,n)}default:return e}},cy=s("./src/reddit/actions/subredditSettings.ts");const oy={};var iy=(e=oy,t)=>{switch(t.type){case cy.h:{const s=t.payload;return Zb(e,{[s.subredditId]:s})}case kO.l:{const s=t.payload,r=e[s.subredditId]||{},n=Object.assign({},r,s.settings);return Object.assign({},e,{[s.subredditId]:n})}default:return e}};const dy={};var uy=(e=dy,t)=>{switch(t.type){case Lo.k:{var s=t.payload;const r=s.category,n=s.subreddits;return Object.assign({},e,{[r]:Object.keys(n)})}default:return e}};const ly=[];var by=(e=ly,t)=>{switch(t.type){case Fo.b:case ce.g:case ce.s:{const s=t.payload.trendingSubredditIds;return s&&s.length?s:e}default:return e}},py=Object(r.c)({about:ej,api:pj,appliedFilters:yj,byCategory:_j,crosspostable:Cj,duplicates:Dj,gov:Fj,models:Wj,moderated:Zj,original:ty,products:ry,rules:ay,settings:iy,top:uy,trending:by}),Oy=s("./node_modules/lodash/cloneDeep.js"),fy=s.n(Oy);const my={titleRegEx:{regex:null},titleStrings:{strings:null},titleLength:{min:null,max:null},postLength:{min:null,max:null},postingGuidelines:{guidelines:null},postBodyRequirement:{requirement:null},linkListPermission:{permission:null},linkDomain:{whitelist:null,blacklist:null},reposts:{days:null}};var jy=(e=my,t)=>{const s=t.type,r=t.payload;switch(s){case cy.c:const t=fy()(e);return r.forEach(e=>{const s=e.formSection,r=e.formField,n=e.error;t[s][r]=n}),t;case cy.g:return my;default:return e}},yy=s("./src/reddit/models/PostRequirements/index.ts");const gy={isLoading:!0,isSaving:!1,hasFormError:!1,serverError:null,titleStrings:{isToggled:!1,strings:[]},titleRegEx:{isToggled:!1,regex:[]},titleLength:{isToggled:!1,min:null,max:null},postLength:{isToggled:!1,min:null,max:null},postingGuidelines:{requirement:"none",guidelines:null},postBodyRequirement:"none",linkListPermission:"none",linkDomain:{whitelist:[],blacklist:[]},reposts:{isToggled:!1,days:null},flair:{isToggled:!1}};var _y=(e=gy,t)=>{const s=t.type,r=t.payload;switch(s){case cy.b:return Object.assign({},e,{isLoading:!0});case cy.i:const t=r;return Object.assign({},e,{[t]:Object.assign({},e[t],{isToggled:!e[t].isToggled})});case cy.u:const n=r.map(e=>e.substring(0,40));return Object.assign({},e,{titleStrings:Object.assign({},e.titleStrings,{strings:n})});case cy.t:const a=r.map(e=>e.substring(0,100));return Object.assign({},e,{titleRegEx:Object.assign({},e.titleRegEx,{regex:a})});case cy.s:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{min:""!==r?parseInt(r):""})});case cy.r:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{max:""!==r?parseInt(r):""})});case cy.p:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{min:""!==r?parseInt(r):""})});case cy.o:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{max:""!==r?parseInt(r):""})});case cy.j:const c=e.linkListPermission;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{[c]:r})});case cy.q:return Object.assign({},e,{reposts:Object.assign({},e.reposts,{days:""!==r?parseInt(r):""})});case cy.l:return Object.assign({},e,{postBodyRequirement:r});case cy.k:const o="none"!==r;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{isToggled:o}),linkListPermission:r});case cy.n:return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{requirement:r})});case cy.m:const i=r&&r.length>400?r.substring(0,400):r;return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{guidelines:i})});case cy.d:return Object(yy.b)(gy,r);case cy.c:return Object.assign({},e,{hasFormError:!0});case cy.e:return Object.assign({},e,{serverError:r});case cy.g:return Object.assign({},e,{hasFormError:!1,serverError:null,isSaving:!0});case cy.f:return Object.assign({},e,{isSaving:!1});default:return e}};var Ey=(e=null,t)=>{const s=t.type,r=t.payload;switch(s){case cy.d:return r;default:return e}},hy=Object(r.c)({formState:_y,formErrors:jy,initialData:Ey});const Iy={};var Ty=(e=Iy,t)=>{const s=t.type,r=t.payload;switch(s){case cy.a:return Object.assign({},e,r);default:return e}},Sy=Object(r.c)({postRequirements:hy,requirementsBySubreddit:Ty});const vy={};var Cy=Object(bp.a)((e=vy,t)=>{switch(t.type){case ce.s:{var s=t.payload;const r=s.postIds,n=s.posts,a=r.slice(0,2).reduce((e,t)=>{if(n[t].isStickied){const s=n[t].belongsTo.id;e[s]?e[s].push(t):e[s]=[t]}return e},{});return K()(Object.assign({},e),a)}case g.h:{var r=t.payload;const s=r.newStickiedPostList,n=r.subredditId;return Object.assign({},e,{[n]:s})}default:return e}},vy),Ay=Object(r.c)({data:Cy});var Ry=(e=null,t)=>{switch(t.type){case LO.b:return t.payload.error;case LO.c:case LO.d:return null;default:return e}};var Dy=(e=!1,t)=>{switch(t.type){case LO.c:case LO.d:case Yb.i:return!0;case LO.b:return!1;default:return e}};var Py=(e=!1,t)=>{switch(t.type){case LO.c:return!0;case LO.d:case LO.b:return!1;default:return e}},xy=Object(r.c)({errors:Ry,fetched:Dy,pending:Py}),wy=(e,t,s)=>{let r,n,a=e.length-1,c=0;for(;c<=a;){const o=s(r=e[n=(c+a)/2|0],t);if(o<0){if((c=n+1)>a)return c}else{if(!(o>0))return n;if((a=n-1)<c)return a+1}}return(c+a)/2|0},ky=s("./src/reddit/constants/posts.ts");const Ny=[];var Ly=(e=Ny,t)=>{switch(t.type){case LO.d:{var s=t.payload;const e=s.profiles,r=s.favoriteProfileIds,n=s.favoriteSubredditIds;let a;return(a=r&&r.length?r:n?n.filter(t=>!!e[t]):[]).sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),a}case LO.a:{var r=t.payload;const s=r.makeFavorite,n=r.identifier,a=r.profileModels,c=n.id;if(n.type!==ky.a.PROFILE)return e;const o=e?e.slice():[];if(s){const e=wy(o,c,(e,t)=>a[e].displayText.toLowerCase()>a[t].displayText.toLowerCase()?1:-1);o.splice(e,0,c)}else{const e=o.indexOf(c);o.splice(e,1)}return o}case LO.e:{var n=t.payload;const s=n.identifier,r=n.userIsSubscriber,a=s.id;if(s.type!==ky.a.PROFILE||r||!e)return e;const c=e.indexOf(a);if(-1===c)return e;const o=e?e.slice():[];return o.splice(c,1),o}default:return e}};const Uy=[];var My=(e=Uy,t)=>{switch(t.type){case LO.d:{var s=t.payload;const e=s.subreddits,r=s.favoriteSubredditIds,n=r?r.filter(t=>!!e[t]):[];return n.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),n}case LO.a:{var r=t.payload;const s=r.makeFavorite,n=r.identifier,a=r.subredditModels,c=n.id;if(n.type!==ky.a.SUBREDDIT)return e;const o=e?e.slice():[];if(s){const e=wy(o,c,(e,t)=>a[e].displayText.toLowerCase()>a[t].displayText.toLowerCase()?1:-1);o.splice(e,0,c)}else{const e=o.indexOf(c);o.splice(e,1)}return o}case LO.e:{var n=t.payload;const s=n.identifier,r=n.userIsSubscriber,a=s.id;if(s.type!==ky.a.SUBREDDIT||r||!e)return e;const c=e.indexOf(a);if(-1===c)return e;const o=e?e.slice():[];return o.splice(c,1),o}default:return e}},Fy=s("./node_modules/lodash/uniq.js"),Gy=s.n(Fy);const By=[];var $y=(e=By,t)=>{switch(t.type){case NO.f:{const s=t.payload.profileOrder;return Gy()([...e,...s])}case LO.d:{const e=t.payload.profiles,s=Object.keys(e);return s.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),s}case LO.e:{var s=t.payload;const r=s.identifier,n=s.profileModels,a=s.userIsSubscriber,c=r.id;if(r.type!==ky.a.PROFILE)return e;const o=e?e.slice():[];if(a){const e=wy(o,c,(e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1);o.splice(e,0,c)}else{const e=o.indexOf(c);o.splice(e,1)}return o}default:return e}};const Vy=[];var Hy=(e=Vy,t)=>{switch(t.type){case NO.f:{const s=t.payload.subredditOrder;return Gy()([...e,...s])}case LO.d:{const e=t.payload.subreddits,s=Object.keys(e);return s.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),s}case LO.e:{var s=t.payload;const r=s.identifier,n=s.subredditModels,a=s.userIsSubscriber,c=r.id;if(r.type!==ky.a.SUBREDDIT||!c)return e;const o=e?e.slice():[];if(a){const e=wy(o,c,(e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1);o.splice(e,0,c)}else{const e=o.indexOf(c);o.splice(e,1)}return o}case Yb.i:{const e=t.payload;return Object.keys(e.subreddits)}default:return e}},qy=Object(r.c)({api:xy,favoriteProfileOrder:Ly,favoriteSubredditOrder:My,profileOrder:$y,subredditOrder:Hy}),Ky=s("./src/reddit/actions/redditEmbed.ts"),Wy=s("./src/reddit/models/Theme/index.ts");const Qy={current:Wy.c,cached:{}};var Yy=(e=Qy,t)=>{switch(t.type){case br.a:case br.b:case br.e:case br.c:case br.f:case Uo.e:case Uo.h:case Mo.b:case Fo.b:case os.a:case ce.a:case os.b:case ce.b:case os.d:case ce.d:case ce.g:case ce.s:case ce.l:case Hl.b:case wo.b:case Lo.e:case Ky.b:case ue.o:case jo.c:case ce.q:case kO.g:case qr.b:case pn.a:return t.payload&&t.payload.preferences?t.payload.preferences.nightmode?{current:Wy.b,cached:{}}:{current:Wy.c,cached:{}}:e;case oe.d:case oe.e:case As.a:case As.b:case As.d:case As.e:case ie.d:case ie.e:{const s=t.payload.account;return s?s.nightmode?{current:Wy.b,cached:{}}:{current:Wy.c,cached:{}}:e}case ae.k:case ae.m:case ae.l:case ae.j:case ae.i:case ae.q:case ae.p:case ae.s:case ae.t:case ae.y:case ae.x:return t.payload&&t.payload.response&&t.payload.response.preferences?t.payload.response.preferences.nightmode?{current:Wy.b,cached:{}}:{current:Wy.c,cached:{}}:e;case kO.f:return t.payload?t.payload.nightmode?{current:Wy.b,cached:{}}:{current:Wy.c,cached:{}}:e;default:return e}},Jy=s("./src/reddit/actions/toaster.ts");const zy=[];var Xy=(e=zy,t)=>{switch(t.type){case Jy.c:{const s=t.payload,r=[];let n=!1;for(const t of e){const e=t.id===s.id?s:t;r.push(e),n=n||e===s}return n||r.push(s),r}case Jy.b:{const s=t.payload;return e.filter(e=>e.id!==s)}default:return e}},Zy=s("./src/reddit/actions/tracking.ts");const eg={};var tg=(e=eg,t)=>{switch(t.type){case Zy.a:{const s=t.payload.routeKey;return Object.assign({},e,{[s]:!0})}case Zy.b:{const s=t.payload.routeKey;return Object.assign({},e,{[s]:!1})}default:return e}},sg=Object(r.c)({viewportDataLoaded:tg});var rg=(e=null,t)=>{switch(t.type){case b.q:case b.r:return null;case b.o:return t.payload.error;default:return e}};var ng=(e=!1,t)=>{switch(t.type){case b.q:return!0;case b.o:case b.r:return!1;default:return e}},ag=Object(r.c)({error:rg,pending:ng});var cg=(e=null,t)=>{switch(t.type){case b.p:return(t.payload?t.payload.contentId:null)||null;case c.a:case b.r:return null;default:return e}};var og=(e="",t)=>{switch(t.type){case b.p:return(t.payload?t.payload.recipient:"")||"";case b.r:return"";default:return e}},ig=Object(r.c)({api:ag,contentId:cg,initialRecipient:og}),dg=Object(r.c)({communityPoints:ig});const ug={};var lg=(e=ug,t)=>{switch(t.type){case sf.a:{const s=t.payload.trophies;return Object.assign({},e,s)}default:return e}},bg=s("./src/reddit/models/Upload/index.ts");const pg={};var Og=(e=pg,t)=>{switch(t.type){case hn.d:{var s=t.payload;const r=s.key,n=s.id,a=s.file,c=e[r],o=c&&c.file===a?Object.assign({},c.metadata):{};return Object.assign({},e,{[r]:{key:r,id:n,file:a,metadata:o,url:void 0,status:bg.a.PENDING}})}case hn.h:{const s=t.payload.key,r=e[s];return Object.assign({},e,{[s]:Object.assign({},r,{status:bg.a.UPLOADING})})}case hn.c:{var r=t.payload;const s=r.key,n=r.metadata,a=e[s];return Object.assign({},e,{[s]:Object.assign({},a,{metadata:n})})}case hn.e:{var n=t.payload;const s=n.key,r=n.progress,a=e[s];return Object.assign({},e,{[s]:Object.assign({},a,{progress:r})})}case hn.g:{var a=t.payload;const s=a.key,r=a.url,n=e[s];return Object.assign({},e,{[s]:Object.assign({},n,{status:bg.a.SUCCESS,url:r})})}case hn.b:{var c=t.payload;const s=c.key,r=c.error,n=e[s];return Object.assign({},e,{[s]:Object.assign({},n,{status:bg.a.FAILED,error:r})})}case hn.a:{const s=t.payload.key,r=e[s];return Object.assign({},e,{[s]:Object.assign({},r,{status:bg.a.CANCELED})})}case hn.f:{const s=t.payload.key,r=e[s];return r.metadata.localUrl&&window.URL.revokeObjectURL(r.metadata.localUrl),vs()(e,s)}default:return e}};const fg={};var mg=(e=fg,t)=>{switch(t.type){case b.a:{var s=t.payload;const r=s.subredditId,n=s.wallet;if(!n)return e;const a=e[r]||{};return Object.assign({},e,{[r]:Object.assign({},a,{latest:n,byDate:Object.assign({},a.byDate||{},{[n.at]:n})})})}case b.u:{const s=t.payload,r=Object.assign({},e);return Object.keys(s).forEach(t=>{const n=s[t],a=e[t],c={latest:a?a.latest.at<=n.at?n:a.latest:n,byDate:Object.assign({},a?a.byDate:{},{[n.at]:n})};r[t]=c}),r}case f.d:{var r=t.payload;const s=r.product,n=r.wallet,a=e[s.subredditId]||{};return Object.assign({},e,{[s.subredditId]:Object.assign({},a,{[n.at]:n,latest:n})})}case b.r:{var n=t.payload;const s=n.subredditId,r=n.wallet,a=e[s]||{};return Object.assign({},e,{[s]:Object.assign({},a,{[r.at]:r,latest:r})})}default:return e}},jg=s("./src/reddit/actions/adblockUpsell.ts"),yg=s("./src/reddit/actions/users.ts");const gg=(e,t)=>!t||hs()(e,t)?e:t;var _g=Object(bp.a)((e=null,t)=>{switch(t.type){case R.c:case R.d:case br.a:case br.b:case br.c:case br.e:case br.f:case Uo.e:case Uo.h:case Uo.g:case No.a:case No.b:case Mo.b:case Lo.d:case Lo.e:case Fo.a:case Fo.b:case os.a:case ce.a:case os.b:case ce.b:case ce.f:case ce.g:case ce.k:case ce.l:case ce.r:case Hl.b:case oe.b:case oe.a:case oe.e:case oe.d:case As.e:case As.d:case As.b:case As.a:case ie.e:case ie.d:case ce.s:case ce.o:case ce.q:case qr.b:case pn.a:case jo.a:case jo.c:case Ky.a:case Ky.b:case kO.g:case yg.e:return gg(e,t.payload.account);case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:case ae.k:case ae.h:case ae.o:case ae.r:case ae.w:{const s=t.payload.response;return s?gg(e,s.account):e}case yg.c:return e?Object.assign({},e,{seenLayoutSwitch:!0}):e;case c.c:return e?Object.assign({},e,{seenRedesignModal:!0}):e;case kO.j:case kO.i:{const s=t.payload;return e&&"profileIcon"===s.key?Object.assign({},e,{accountIcon:s.imageUrl}):e}case Cs.p:case Cs.h:{const s=t.payload.coins;return e?Object.assign({},e,{coins:s}):e}case Rc.c:{const s=t.payload.coins;return s&&e?Object.assign({},e,{coins:s}):e}case jg.a:return e?Object.assign({},e,{seenPremiumAdblockModal:!0}):e;default:return e}},null),Eg=s("./src/reddit/models/WhitelistAndBlocked.ts");const hg={};var Ig=(e=hg,t)=>{switch(t.type){case Je.f:return Object.assign({},e,{new:Eg.a.pending});case Je.d:return Object.assign({},e,{new:Eg.a.error});case Je.e:return Object.assign({},e,{new:Eg.a.waitingForRequest});case Je.b:{const s=t.payload.name;return Object.assign({},e,{[s]:Eg.a.pending})}case Je.a:{const s=t.payload.name;return Object.assign({},e,{[s]:Eg.a.error})}case Je.c:{const s=t.payload.name;return Object.assign({},e,{[s]:Eg.a.waitingForRequest})}default:return e}};const Tg=[];var Sg=(e=Tg,t)=>{switch(t.type){case Je.e:return[t.payload,...e];case Je.c:{const s=t.payload.name;return e.filter(e=>e.name!==s)}case kO.g:return t.payload.blockedUsers;default:return e}},vg=Object(r.c)({api:Ig,data:Sg});const Cg=(e,t)=>void 0===t||e&&t===e.count?e:Object.assign({},e,{count:t});var Ag=(e=null,t)=>{switch(t.type){case qr.b:{const s=t.payload.drafts;return e&&hs()(e,s)?e:Object.assign({},e,s)}case O.I:{const s=t.payload.response.draftsCount;return Cg(e,s)}case Ir.e:{const s=t.payload.postDraftIds;return Cg(e,s.length)}case Ir.c:case Ir.l:{const s=t.payload.draftsCount;return Cg(e,s)}default:return e}},Rg=s("./src/reddit/actions/global.ts");const Dg={welcomeModal:!1,localStorageLoaded:!1};var Pg=(e=Dg,t)=>{switch(t.type){case Rg.a:{const s=t.payload;return null===s.welcome_modal_see_store||void 0===s.welcome_modal_see_store?e:Object.assign({},e,{localStorageLoaded:!0,welcomeModal:s.welcome_modal_see_store})}case Yb.e:return Object.assign({},e,{welcomeModal:!0});default:return e}};const xg={};var wg=(e=xg,t)=>{switch(t.type){case Rg.a:{const s=t.payload;return null===s.local_persisted_experiments_store||void 0===s.local_persisted_experiments_store?e:s.local_persisted_experiments_store}default:return e}},kg=s("./src/reddit/actions/experiments.ts");const Ng=[];var Lg=(e=Ng,t)=>{switch(t.type){case kg.a:return t.payload.experimentVariants.map(({id:e,experimentName:t,name:s,version:r})=>({id:parseInt(e),name:t,variant:s||void 0,version:r}));default:return e}};const Ug=/^experiment_(.*)$/i,Mg=e=>{const t=e.match(Ug);if(null!==t)return t[1]},Fg={};var Gg=(e=Fg,t)=>{switch(t.type){case p.a:{const s=yn(t);if(!s)return e;const r={};for(const e in s){const t=Mg(e);t&&(r[t.toLowerCase()]=s[e]||"")}return _t()(r)?e:Object.assign({},e,r)}case kg.b:{var s=t.payload;const r=s.experimentName,n=s.override;return r?Object.assign({},e,{[r]:n||""}):e}default:return e}},Bg=Object(r.c)({dismissed:Pg,models:Lg,localPersisted:wg,overrides:Gg});function $g(e,t){return t?e&&hs()(e,t)?e:t:e}const Vg={};var Hg=Object(bp.a)((e=Vg,t)=>{switch(t.type){case br.a:case br.b:case br.c:case br.e:case br.f:case Uo.e:case Mo.b:case Fo.a:case Fo.b:case os.a:case ce.a:case os.b:case ce.b:case ce.f:case ce.g:case ce.k:case ce.l:case ce.r:case Hl.b:case oe.e:case oe.d:case As.e:case As.d:case As.b:case As.a:case ie.e:case ie.d:case ce.s:case ce.o:case ce.q:case qr.b:case Ky.a:case Ky.b:case kO.g:case yg.e:{const s=t.payload.features;return s?$g(e,s):e}case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:case ae.k:case ae.h:case ae.o:case ae.r:case ae.w:{const s=t.payload.response;return s&&s.features?$g(e,s.features):e}default:return e}},Vg);var qg=(e="en",t)=>(t.type,e);var Kg=(e=!1,t)=>{switch(t.type){case Yb.i:return t.payload.accountCompleteness.closed;case Yb.d:return!0;default:return e}};var Wg=(e=!1,t)=>{switch(t.type){case Yb.i:return t.payload.accountCompleteness.collapsed;case Yb.g:return!1;case Yb.f:return!0;default:return e}};var Qg=(e=null,t)=>{switch(t.type){case Yb.b:return t.payload;case Yb.f:case LO.e:case Ds.a:return null;default:return e}};var Yg=(e=!0,t)=>{switch(t.type){case Yb.i:return t.payload.accountCompleteness.sleeping;case Yb.a:return!1;default:return e}},Jg=Object(r.c)({closed:Kg,collapsed:Wg,sleeping:Yg,selectedTab:Qg});var zg=(e=!1,t)=>{switch(t.type){case Yb.i:case Yb.h:return!0;default:return e}};const Xg=[];var Zg=(e=Xg,t)=>{switch(t.type){case Yb.k:{const s=t.payload;return s.length?s:e}case LO.e:{var s=t.payload;const r=s.nameIdentifier;return s.userIsSubscriber?[...e,r.name]:[...e.filter(e=>r.name!==e)]}default:return e}};var e_=(e=!1,t)=>{switch(t.type){case Yb.k:return t.payload.length>=3||e;case ce.i:return!0;case LO.e:{var s=t.payload;const r=s.subscriptionsCount,n=s.userIsSubscriber;return!(1===r&&!n)&&e}default:return e}},t_=s("./src/reddit/models/MonthsToMinutes/index.ts");var s_=(e=null,t)=>{switch(t.type){case Ds.a:return t_.f.Vote;case LO.e:return t_.f.Subscribe;default:return e}};var r_=(e=!1,t)=>{switch(t.type){case Yb.j:return!1;case Ds.a:case LO.e:return!0;default:return e}};const n_={[t_.i.Home]:{},[t_.i.SubscribeFeed]:{},[t_.i.SubscribeIdCard]:{},[t_.i.SubscribeReminder]:{},[t_.i.Vote]:{},[t_.i.VoteReminder]:{},[t_.i.VoteSuccess]:{}};var a_=(e=n_,t)=>{switch(t.type){case Yb.i:{var s=t.payload.tooltip;const r=s.homeTooltipTime,n=s.subscribeTooltipTime,a=s.subscribeIdCardTooltipTime,c=s.voteTooltipTime;return e[t_.i.Home].time=r,e[t_.i.SubscribeFeed].time=n,e[t_.i.Vote].time=c,e[t_.i.SubscribeIdCard]={isDismissed:!0,time:a},Object.assign({},e)}case Yb.l:{var r=t.payload;const s=r.postId,n=r.time,a=r.tooltipType,c={isDismissed:!1,postId:s,time:n};return Object.assign({},e,{[a]:c})}case Yb.m:{const s=t.payload,r=Object.assign({},e[s]);return r.isDismissed=!0,Object.assign({},e,{[s]:r})}case Ds.a:{const s=t.payload.id;let r=Object.assign({},e[t_.i.VoteSuccess]);return r.isDismissed||r.postId||(r={isDismissed:!1,postId:s}),Object.assign({},e,{[t_.i.VoteSuccess]:r})}case ce.i:{const t=Object.assign({},e[t_.i.Home]);return t.isDismissed=!0,Object.assign({},e,{[t_.i.Home]:t})}case p.a:case kO.d:{const t=Object.assign({},e);return Object.keys(e).map(s=>{const r=Object.assign({},e[s]);(r.postId||r.time)&&(r.isDismissed=!0),t[s]=r}),t}case ro.e:return Object.assign({},e,{[t_.i.Home]:Object.assign({},e[t_.i.Home],{isDismissed:!0})});default:return e}},c_=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const o_={};var i_=(e=o_,t)=>{switch(t.type){case Ds.a:{var s=t.payload;const r=s.id,n=s.vote;if(!Object(Ps.a)(r))return e;if(e[r]===n){const t=r;return e[t],c_(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[r]:n})}case Yb.i:return t.payload.votes.comments;default:return e}},d_=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const u_={};var l_=(e=u_,t)=>{switch(t.type){case Ds.a:{var s=t.payload;const r=s.id,n=s.isInstance,a=s.vote;if(!Object(Jb.a)(r)||n)return e;if(e[r]===a){const t=r;return e[t],d_(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[r]:a})}case Yb.i:return t.payload.votes.posts;default:return e}},b_=Object(r.c)({comments:i_,posts:l_}),p_=Object(r.c)({accountCompleteness:Jg,dataLoaded:zg,feedMultiName:Zg,isFrontpageHome:e_,lastMilestoneAction:s_,milestoneActionFresh:r_,tooltips:a_,votes:b_});const O_={blob:"",loid:"",loidCreated:"",version:-1};var f_=(e=O_,t)=>{switch(t.type){case yg.d:return t.payload;default:return e}};const m_={};var j_=(e=m_,t)=>{switch(t.type){case l.i:{var s=t.payload;const r=s.subredditId,n=s.userOwnedBadges.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r]||{},n)})}case f.d:{var r=t.payload;const s=r.userOwnedBadges,n=r.product,a=s.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n.subredditId]:Object.assign({},e[n.subredditId]||{},a)})}default:return e}},y_=s("./src/reddit/reducers/user/prefs/index.ts");var g_=(e="",t)=>{switch(t.type){case yg.f:return t.payload;default:return e}},__=s("./src/reddit/actions/session.ts");var E_=(e=null,t)=>{switch(t.type){case __.a:case __.b:case __.c:case __.e:return t.payload;case __.d:return null;default:return e}};var h_=(e=!1,t)=>{switch(t.type){case __.f:return!0;default:return e}};var I_=(e="",t)=>{switch(t.type){case yg.j:return t.payload;default:return e}},T_=s("./node_modules/lodash/shuffle.js"),S_=s.n(T_),v_=s("./src/reddit/constants/categories.tsx");const C_=[];var A_=(e=C_,t)=>{switch(t.type){case ro.d:return S_()(Object.keys(v_.b));default:return e}};var R_=(e=null,t)=>{switch(t.type){case kg.a:return t.payload.isLoggedIn;default:return e}},D_=Object(r.c)({isLoggedIn:R_}),P_=s("./src/reddit/actions/userWhitelist.ts");const x_={};var w_=(e=x_,t)=>{switch(t.type){case P_.e:return Object.assign({},e,{new:Eg.a.pending});case P_.d:return Object.assign({},e,{new:Eg.a.error});case P_.f:return Object.assign({},e,{new:Eg.a.waitingForRequest});case P_.b:{const s=t.payload.name;return Object.assign({},e,{[s]:Eg.a.pending})}case P_.a:{const s=t.payload.name;return Object.assign({},e,{[s]:Eg.a.error})}case P_.c:{const s=t.payload.name;return Object.assign({},e,{[s]:Eg.a.waitingForRequest})}default:return e}};const k_=[];var N_=(e=k_,t)=>{switch(t.type){case P_.f:return[t.payload,...e];case P_.c:{const s=t.payload.name;return e.filter(e=>e.name!==s)}case kO.g:return t.payload.whitelistedUsers;default:return e}},L_=Object(r.c)({api:w_,data:N_}),U_=Object(r.c)({account:_g,blocked:vg,drafts:Ag,experiments:Bg,features:Hg,language:qg,loggedOutData:p_,loid:f_,ownedBadges:j_,prefs:y_.b,reddaid:g_,session:E_,sessionRefreshFailed:h_,sessionTracker:I_,shuffledCategories:A_,temporaryGQL:D_,wallets:mg,whitelist:L_});const M_={};var F_=(e=M_,t)=>{switch(t.type){case ce.s:case qr.b:case pn.a:case os.b:case ce.b:case le.e:return Object.assign({},e,t.payload.userFlair);case ae.l:case ae.i:case ae.p:case ae.s:case ae.x:{const s=t.payload.response.userFlair,r=Object.assign({},e);return Object.keys(s).forEach(e=>{r[e]||(r[e]=s[e])}),r}case le.i:{var s=t.payload;const r=s.subredditId,n=s.applied,a=s.displaySettings;return Object.assign({},e,{[r]:Object.assign({},e[r],{applied:n,displaySettings:a})})}case le.d:{var r=t.payload;const s=r.subredditId,n=r.isEnabled,a=e[s].displaySettings,c=Object.assign({},a,{isEnabled:n});return Object.assign({},e,{[s]:Object.assign({},e[s],{displaySettings:c})})}case le.b:{var n=t.payload;const s=n.subredditId,r=n.canAssignOwn,a=e[s].permissions,c=Object.assign({},a,{canAssignOwn:r});return Object.assign({},e,{[s]:Object.assign({},e[s],{permissions:c})})}case le.h:{const s=t.payload,r=e[s.subredditId],n=e[s.subredditId].templates,a=e[s.subredditId].templateIds,c=Object.assign({},n,{[s.template.id]:s.template}),o=[...a];return o.includes(s.template.id)||o.push(s.template.id),Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templates:c,templateIds:o})})}case le.c:{const s=t.payload,r=e[s.subredditId],n=e[s.subredditId].templates,a=e[s.subredditId].templateIds,c=vs()(n,s.templateId),o=a.filter(e=>e!==s.templateId);return Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templates:Object.assign({},c),templateIds:o})})}case le.g:case le.f:{const s=t.payload,r=e[s.subredditId];return Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templateIds:s.templateIds})})}default:return e}};const G_={};var B_=(e=G_,t)=>{switch(t.type){case yg.i:case yg.h:{const s=t.payload.username;return Object.assign({},e,{[s.toLowerCase()]:null})}case yg.g:{var s=t.payload;const r=s.username,n=s.error;return Object.assign({},e,{[r.toLowerCase()]:n})}default:return e}};var $_=(e=!1,t)=>{switch(t.type){case yg.i:return!0;case yg.h:case yg.g:return!1;default:return e}},V_=Object(r.c)({error:B_,pending:$_});const H_={};var q_=(e=H_,t)=>{switch(t.type){case l.f:{var s=t.payload;const r=s.subredditId,n=s.usersAppliedBadges,a=Object.keys(n).reduce((t,s)=>{const a=n[s];return t[s]=Object.assign({},e[s]||{},{[r]:a}),t},{});return Object.assign({},e,a)}case l.b:{var r=t.payload;const s=r.badgeIds,n=r.subredditId,a=r.userId;return Object.assign({},e,{[a]:Object.assign({},e[a]||{},{[n]:s})})}case l.a:{var n=t.payload;const s=n.previousBadgeIds,r=n.subredditId,a=n.userId;return Object.assign({},e,{[a]:Object.assign({},e[a]||{},{[r]:s})})}default:return e}};const K_={},W_=(e,t)=>{const s=Object.keys(t);if(!s.length)return e;const r={};return s.forEach(s=>{const n=e[s],a=t[s];n&&hs()(n,a)||(r[s.toLowerCase()]=a)}),Object.keys(r).length?Object.assign({},e,r):e};var Q_=(e=K_,t)=>{switch(t.type){case Lo.n:{const s=t.payload.users;return W_(e,s)}case yg.h:{const s=t.payload.data;return W_(e,s)}case NO.d:{const s=t.payload.user;return W_(e,{[s.username]:s})}default:return e}},Y_=s("./src/reddit/actions/usernameAvailable.ts");const J_={};var z_=(e=J_,t)=>{switch(t.type){case Y_.a:{const s=t.payload.username;return Object.assign({},e,{[s]:Y_.b.Available})}case Y_.c:{const s=t.payload.username;return Object.assign({},e,{[s]:Y_.b.Error})}case Y_.d:{const s=t.payload.username;return Object.assign({},e,{[s]:Y_.b.Pending})}case Y_.e:{const s=t.payload.username;return Object.assign({},e,{[s]:Y_.b.Unavailable})}default:return e}};const X_={};var Z_=(e=X_,t)=>{switch(t.type){case b.l:{var s=t.payload;const r=s.subredditId,n=s.wallets,a=Object.keys(n).reduce((t,s)=>{const a=e[s]||{},c=Object.assign({},a,{[r]:n[s]});return Object.assign({},t,{[s]:c})},{});return Object.assign({},e,a)}default:return e}};const eE={};var tE=(e=eE,t)=>{switch(t.type){case Lo.n:{var s=t.payload;const r=s.category,n=s.users;return Object.assign({},e,{[r]:Object.keys(n)})}default:return e}},sE=Object(r.c)({api:V_,appliedBadges:q_,models:Q_,nameAvailable:z_,publicWallets:Z_,topOCCreators:tE});const rE={};var nE=(e=rE,t)=>{switch(t.type){case os.b:case ce.b:case ce.s:case ue.o:case ce.q:case qr.b:case pn.a:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets.layout.idCardWidget,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return Object.assign({},e,{[a]:r})}default:return e}},aE=s("./src/reddit/actions/widgets.ts");const cE={};var oE=(e=cE,t)=>{switch(t.type){case os.b:case ce.b:case ce.s:case ue.o:case qr.b:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets.items,n=s.data.content.widgets.layout.topbar.order.filter(e=>r[e]&&"menu"===r[e].kind);if(!n.length)return e;const a=Object.keys(t.payload.subredditAboutInfo||{});if(1!==a.length)return e;const c=a[0];return Object.assign({},e,{[c]:n[0]})}case aE.c:{const s=t.payload;return"menu"!==s.widget.kind?e:Object.assign({},e,{[s.subredditId]:s.widgetId})}case aE.d:{const s=t.payload;return e[s.subredditId]===s.widgetId?Object.assign({},e,{[s.subredditId]:null}):e}default:return e}};const iE={};var dE=(e=iE,t)=>{switch(t.type){case ce.s:{const s=t.payload,r=s.structuredStyles&&s.structuredStyles.data&&s.structuredStyles.data.content;if(!r)return e;const n=r.widgets;return Object.assign({},e,n.items)}case j.h:{const s=t.payload;return Object.assign({},e,s.widgets)}case aE.a:{const s=t.payload;return Object.assign({},e,s.widgets.items)}case aE.e:case aE.c:{const s=t.payload;return Object.assign({},e,{[s.widget.id]:s.widget})}case aE.d:{const s=t.payload,r=Object.assign({},e);return delete r[s.widgetId],r}case os.b:case ce.b:case ce.s:case ue.o:case ce.q:case qr.b:case pn.a:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets;return Object.assign({},e,r.items)}case LO.e:{var s=t.payload;const r=s.userIsSubscriber,n=s.nameIdentifier,a=s.widgetId;if(!e[a]||"community-list"!==e[a].kind)return Object.assign({},e);const c=r,o=e[a],i=o.data.map(e=>{const t=Object.assign({},e);return n.name===t.name&&(t.isSubscribed=c),t});return Object.assign({},e,{[a]:Object.assign({},o,{data:i})})}default:return e}};const uE={};var lE=(e=uE,t)=>{switch(t.type){case ce.s:case ue.o:case qr.b:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets.layout.moderatorWidget,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return Object.assign({},e,{[a]:r})}default:return e}};const bE={};var pE=(e=bE,t)=>{switch(t.type){case ce.s:case qr.b:case pn.a:{const s=t.payload,r=s.structuredStyles&&s.structuredStyles.data&&s.structuredStyles.data.content;if(!r)return e;const n=Object.keys(s.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0],c=r.widgets.layout.sidebar.order;return Object.assign({},e,{[a]:c})}case j.h:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.sidebar})}case aE.a:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.widgets.layout.sidebar.order})}case aE.b:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.widgetIds})}case aE.c:{const s=t.payload;if("menu"===s.widget.kind)return e;if(!e[s.subredditId])return Object.assign({},e,{[s.subredditId]:[s.widgetId]});const r=e[s.subredditId].concat(s.widgetId);return Object.assign({},e,{[s.subredditId]:r})}case aE.d:{const s=t.payload;if(!e[s.subredditId])return e;const r=e[s.subredditId].filter(e=>e!==s.widgetId);return Object.assign({},e,{[s.subredditId]:r})}case os.b:case ce.b:case ce.s:case ce.q:case ue.o:case qr.b:case pn.a:{const s=t.payload.structuredStyles;if(!(s&&s.data&&s.data.content.widgets))return e;const r=s.data.content.widgets.layout.sidebar.order,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return Object.assign({},e,{[a]:r})}default:return e}},OE=Object(r.c)({idCardIds:nE,menuIds:oE,models:dE,moderatorIds:lE,sidebar:pE});t.a=Object(r.c)({accountManagerModalData:d,activeModalId:y,ads:h,alpha:S,apiRequestState:A,appeal:k,approvedSubmitters:se,authorFlair:fe,badges:Re,banned:Ye,blockUser:st,brandSafety:at,categories:Dt,chat:Jt,claimGold:ns,comments:Ks,commentsPage:lr,contentGate:Or,continueThreads:jr,creations:la,dashboard:Oa,discoveryUnits:Sa,emojis:Ra,externalAccount:nc,featureFlags:uc,gild:hc,goldPurchase:to,header:ao,imageUploads:io,isModeratorWithPostPerms:lo,jsApi:Oo,listings:si,live:ai,mediaPlayback:ci.a,meta:n.a,moderatingSubreddits:ii,moderators:Zi,modListingPage:cd,modModeEnabled:id,modQueue:du,moreComments:yu,multireddits:Au,muted:Wu,news:fl,nps:yl,originalContent:Vl,partnerSubredditConnection:Zl,platform:rb,postCollection:Ab,polls:Eb,postFlair:kb,posts:lp,postStickiedComments:fp,givePremium:Cc,products:Dp,profileCommentsPage:qp,profileModSettingsPage:Yp,profileOverviewPage:PO,profilePostsPage:wO,profiles:af,providerFlair:bf,promos:df,recommendations:Of,removalReasons:Sf,reportFlow:Lf,requestHost:Mf,runTimeEnvVars:Gf,search:Qf,shortcuts:nm,sidebarPromotedPosts:om,sitewideRules:um,structuredStyles:Dm,stylesheets:Pm,subredditAutocomplete:Gm,subredditChannels:Xm,subreddits:py,subredditSettings:Sy,subredditStickyPosts:Ay,subscriptions:qy,themes:Yy,toaster:Xy,tooltipId:a.a,tracking:sg,transfers:dg,trophies:lg,uploads:Og,user:U_,userFlair:F_,users:sE,widgets:OE})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./src/reddit/actions/ad.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(r||(r={}));const a={};t.b=((e=a,t)=>{switch(t.type){case n.d:case n.b:{const s=t.payload;return Object.assign({},e,s)}case n.c:case n.d:return e;case n.e:return a;default:return e}})},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./node_modules/lodash/isEqual.js"),a=s.n(n),c=s("./node_modules/lodash/merge.js"),o=s.n(c),i=s("./node_modules/lodash/pick.js"),d=s.n(i),u=s("./src/lib/constants/index.ts"),l=s("./src/reddit/actions/comment.ts"),b=s("./src/reddit/actions/contentGate.ts"),p=s("./src/reddit/actions/frontpage.ts"),O=s("./src/reddit/actions/header.ts"),f=s("./src/reddit/actions/modQueue.ts"),m=s("./src/reddit/actions/originalContent.ts"),j=s("./src/reddit/actions/page.ts"),y=s("./src/reddit/actions/pages/collectionCommentsPage.ts"),g=s("./src/reddit/actions/pages/modListing/constants.ts"),_=s("./src/reddit/actions/pages/news/index.ts"),E=s("./src/reddit/actions/pages/originalContent.ts"),h=s("./src/reddit/actions/pages/partnerSubredditConnection.ts"),I=s("./src/reddit/actions/pages/postCreation.ts"),T=s("./src/reddit/actions/pages/postDraft.ts"),S=s("./src/reddit/actions/pages/profileComments.ts"),v=s("./src/reddit/actions/pages/profileOverview.ts"),C=s("./src/reddit/actions/pages/profilePosts.ts"),A=s("./src/reddit/actions/postCreation/index.ts"),R=s("./src/reddit/actions/postDraft.ts"),D=s("./src/reddit/actions/preferences.ts"),P=s("./src/reddit/actions/redditEmbed.ts"),x=s("./src/reddit/actions/search.ts"),w=s("./src/reddit/actions/subreddit.ts"),k=s("./src/reddit/actions/users.ts"),N=s("./src/reddit/constants/theme.ts"),L=s("./src/reddit/models/PostCreationForm/index.ts"),U=s("./src/reddit/models/PostDraft/index.ts"),M=s("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(r||(r={}));const F=["allowClickTracking","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","inBeta","labelNSFW","markMessagesRead","nightmode","over18","profileOptOut","showMessagesInInbox","showUsernameMentionNotifications","showNotifications","autoplayVideo","showTwitter"],G={allowClickTracking:!1,collapsedTraySections:M.a,commentMode:L.h.RICH_TEXT,defaultCommentSort:u.t.CONFIDENCE,editorMode:L.h.RICH_TEXT,featuresViewedHistory:M.b,geopopular:void 0,globalTheme:N.a,hamburgerTray:void 0,hideNSFW:!0,labelNSFW:!0,layout:void 0,markMessagesRead:!0,nightmode:!1,over18:!1,profileLayout:void 0,profileOptOut:!1,subscriptionsPinned:void 0,autoplayVideo:!0,showActiveCommunities:!0,showTwitter:!1};t.b=((e=G,t)=>{switch(t.type){case l.l:case l.r:{const s=t.payload.editorMode;return Object.assign({},e,{commentMode:s})}case A.q:case A.J:{const s=t.payload.editorMode;return Object.assign({},e,{editorMode:s})}case O.e:return Object.assign({},e,{subscriptionsPinned:!0});case O.f:return Object.assign({},e,{subscriptionsPinned:!1});case R.g:{const s=t.payload.kind;return Object.assign({},e,{editorMode:s===U.b.Markdown?L.h.MARKDOWN:L.h.RICH_TEXT})}case D.d:return e.layout===t.payload.layout?e:Object.assign({},e,{layout:t.payload.layout});case D.k:return e.profileLayout===t.payload.profileLayout?e:Object.assign({},e,{profileLayout:t.payload.profileLayout});case b.d:return Object.assign({},e,{over18:!0});case D.a:return void 0!==t.payload?Object.assign({},e,{autoplayVideo:t.payload.autoplayVideo}):e;case D.f:return void 0!==t.payload?Object.assign({},e,{nightmode:t.payload.nightmode}):e;case D.e:return void 0!==t.payload?Object.assign({},e,{nightmodeTempUpdated:t.payload.nightmode}):e;case D.c:return void 0!==t.payload?Object.assign({},e,{hamburgerTray:t.payload.set}):Object.assign({},e,{hamburgerTray:!e.hamburgerTray});case D.b:return void 0!==t.payload?Object.assign({},e,{collapsedTraySections:o()({},e.collapsedTraySections,t.payload)}):e;case k.a:case k.b:return Object.assign({},e,{featuresViewedHistory:o()({},e.featuresViewedHistory,t.payload)});case b.a:case b.b:case b.e:case b.c:case b.f:case g.e:case g.h:case _.b:case E.b:case y.a:case j.a:case y.b:case j.b:case y.d:case j.d:case j.g:case j.s:case j.l:case h.b:case S.e:case v.e:case v.b:case C.e:case p.b:case m.e:case w.o:case x.c:case P.b:case I.b:case T.a:case D.g:case j.q:case D.h:if(t.payload&&t.payload.preferences){const s=t.payload.preferences,r=d()(e,F);if(!a()(s,r))return Object.assign({},e,s)}return e;case S.d:case v.d:case v.a:case C.d:if(t.payload&&t.payload.account){const s=t.payload.account.nightmode;if(e.nightmode!==s)return Object.assign({},e,{nightmode:s})}return e;case f.k:case f.m:case f.l:case f.j:case f.i:case f.q:case f.p:case f.s:case f.t:case f.y:case f.x:if(t.payload&&t.payload.response&&t.payload.response.preferences){const s=t.payload.response.preferences,r=d()(e,F);if(!a()(s,r))return Object.assign({},e,s)}return e;case D.l:{const s=t.payload.additional.showActiveCommunities;return e.showActiveCommunities!==s?Object.assign({},e,{showActiveCommunities:s}):e}default:return e}})},"./src/reddit/routes/modListing/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return u});var r=s("./node_modules/lodash/flatten.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/reddit/actions/pages/modListing/index.ts");const o="/r/mod",i="/me/f/mod",d=[o,i],u=e=>e.startsWith(i),l=n()(d.map(e=>Object.keys(a.U).map(t=>`${e}/:sort(${a.U[t]})?`))).map(e=>({path:e,action:c.b,chunk:a.r.MOD_LISTING,exact:!0,meta:{name:a.mb.MOD_LISTING},pretfetches:[a.r.SUBREDDIT,a.r.COMMENTS_PAGE]}));t.c=l},"./src/reddit/routes/partnerSubredditConnection/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r="/subreddits/connect"},"./src/reddit/routes/postCreation/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return d});var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/actions/pages/postCreation.ts"),a=s("./src/reddit/routes/postCreation/constants.ts");const c=[a.c,a.d,a.b,a.a],o=e=>a.d.replace(/:subredditName/,e),i=e=>a.b.replace(/:profileName/,e),d=e=>e.split("?")[0]===a.a,u=c.map(e=>({path:e,action:n.e,chunk:r.r.POST_CREATION,exact:!0,meta:{name:r.mb.POST_CREATION},prefetches:[r.r.COMMENTS_PAGE]}));t.a=u},"./src/reddit/selectors/activeModalId.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r=e=>e.activeModalId,n=e=>t=>t.activeModalId===e},"./src/reddit/selectors/category.ts":function(e,t,s){"use strict";s.d(t,"g",function(){return u}),s.d(t,"h",function(){return l}),s.d(t,"j",function(){return b}),s.d(t,"k",function(){return p}),s.d(t,"i",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"e",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"b",function(){return _}),s.d(t,"d",function(){return E}),s.d(t,"c",function(){return h}),s.d(t,"l",function(){return I}),s.d(t,"m",function(){return T}),s.d(t,"n",function(){return S});var r=s("./node_modules/reselect/lib/index.js"),n=s("./src/reddit/constants/experiments.ts"),a=s("./src/reddit/helpers/name/index.ts"),c=s("./src/reddit/models/Widgets/index.ts"),o=s("./src/reddit/selectors/experiments/explore.ts"),i=s("./src/reddit/selectors/subreddit.ts");const d=[],u=e=>e.categories.api.list.loaded,l=e=>e.categories.api.list.pending,b=(e,{id:t})=>e.categories.api.subreddits.loaded[t],p=(e,{id:t})=>e.categories.api.subreddits.pending[t],O=(e,{id:t})=>e.categories.models[t],f=(e,{categoryName:t})=>{const s=e.categories.nameToId[Object(a.f)(t)];if(s)return O(e,{id:s})},m=new Set(["nba","nfl"]),j=Object(r.createSelector)(e=>e.categories.ids,e=>e.categories.models,o.a,(e,t,s)=>{const r=Object(n.C)(s)?n.m:n.n,c={};let o=1e3;const i=[];for(const n of e){const e=t[n];m.has(Object(a.f)(e.name))||(r[e.name]||(c[e.name]=o++),i.push(e))}return i.sort((e,t)=>{return(r[e.name]||c[e.name])-(r[t.name]||c[t.name])})}),y=(e,{categoryName:t})=>{const s=f(e,{categoryName:t});return s&&e.subreddits.byCategory[s.id]||d},g=Object(r.createSelector)((e,{id:t})=>{return e.subreddits.byCategory[t]||d},i.E,e=>e.subreddits.about,(e,t,s)=>e.map(e=>Object(c.h)(t[e],s[e]))),_=Object(r.createSelector)(y,i.E,e=>e.subreddits.about,(e,t,s)=>e.map(e=>Object(c.h)(t[e],s[e]))),E=Object(r.createSelector)(y,i.E,(e,t)=>0===e.length?d:e.map(e=>t[e])),h=Object(r.createSelector)(y,i.E,(e,t)=>0===e.length?d:e.map(e=>{const s=t[e];return s?s.name:""}).filter(Boolean)),I=Object(r.createSelector)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||d,e=>e.categories.models,(e,t)=>e.map(e=>t[e])),T=Object(r.createSelector)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||d,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e])),S=(e,t)=>{const s=t?e.posts.models[t]:null;return s&&s.postCategories?s.postCategories:null}},"./src/reddit/selectors/claimgold.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r=e=>e.claimGold.code,n=e=>e.claimGold.showModal},"./src/reddit/selectors/discoveryUnit.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"h",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"d",function(){return y}),s.d(t,"a",function(){return E}),s.d(t,"c",function(){return T});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeListingKey/index.ts"),a=s("./src/lib/objectSelector/index.ts"),c=s("./src/reddit/helpers/name/index.ts"),o=s("./src/reddit/models/DiscoveryUnit/index.ts"),i=s("./src/reddit/selectors/category.ts"),d=s("./src/reddit/selectors/experiments/explore.ts"),u=s("./src/reddit/selectors/posts.ts"),l=s("./src/reddit/selectors/subreddit.ts");const b=[],p=e=>e.discoveryUnits.api.list.loaded,O=e=>e.discoveryUnits.api.list.pending,f=(e,{unitName:t})=>{const s=e.discoveryUnits.nameToId[Object(c.f)(t)];return e.discoveryUnits.models[s]},m=Object(a.a)((e,{listingKey:t})=>{const s=Object(u.E)(e);return Object(u.y)(e,{listingKey:t}).filter(e=>{const t=s[e];return t&&!t.isStickied&&!t.isSponsored})}),j=Object(a.a)((e,{categoryName:t,id:s,unitName:a})=>{let c;if(t&&!(c=Object(i.f)(e,{categoryName:t})))return b;const o=s||c&&c.id,d=Object(n.a)(a,r.U.HOT,{category:o});return m(e,{listingKey:d})}),y=Object(a.a)((e,{unitName:t,subredditName:s})=>{if(!Object(l.t)(e,{subredditName:s}))return b;const a=Object(n.a)(t,r.U.HOT,{subredditName:s});return m(e,{listingKey:a})}),g={unitName:o.b},_={unitName:o.c},E=e=>{const t=Object(d.b)(e)?_:g;return f(e,t)},h={unitName:o.d},I={unitName:o.e},T=e=>{const t=Object(d.b)(e)?I:h;return f(e,t)}},"./src/reddit/selectors/frontpage.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/constants/experiments.ts"),a=s("./src/reddit/helpers/chooseVariant/index.ts"),c=s("./src/reddit/selectors/user.ts");const o=e=>{if(e.user&&e.user.session&&!e.user.session.unsafeLoggedOut)return r.U.BEST;if(Object(c.C)(e)||!Object(c.E)(e))return r.U.HOT;switch(Object(a.a)(e,n.o)){case n.p.Treatment1:return r.U.TOP;default:return r.U.HOT}}},"./src/reddit/selectors/gild.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"i",function(){return a}),s.d(t,"f",function(){return c}),s.d(t,"g",function(){return o}),s.d(t,"h",function(){return i}),s.d(t,"b",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"a",function(){return l});const r=e=>e.gild.gildModalThingId,n=(e,t)=>e.gild.gildModalThingId===t,a=e=>e.gild.gildType,c=e=>e.gild.includeMessage,o=e=>e.gild.isAnonymous,i=e=>e.gild.isIframed,d=e=>e.gild.message,u=e=>e.gild.api.pending,l=e=>e.gild.api.error},"./src/reddit/selectors/goldPurchaseModals.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"p",function(){return o}),s.d(t,"q",function(){return i}),s.d(t,"e",function(){return d}),s.d(t,"j",function(){return u}),s.d(t,"h",function(){return l}),s.d(t,"i",function(){return b}),s.d(t,"k",function(){return p}),s.d(t,"m",function(){return O}),s.d(t,"n",function(){return f}),s.d(t,"l",function(){return m}),s.d(t,"o",function(){return j}),s.d(t,"g",function(){return y}),s.d(t,"f",function(){return g});const r=e=>e.goldPurchase.coinPurchaseModal.activePage,n=e=>e.goldPurchase.coinPurchaseModal.gildThingId||void 0,a=e=>e.goldPurchase.coinPurchaseModal.showModal,c=e=>e.goldPurchase.coinPurchaseModal.purchasePackage,o=e=>e.goldPurchase.premiumPurchaseModal.activePage,i=e=>e.goldPurchase.premiumPurchaseModal.showModal,d=e=>e.goldPurchase.payment.paymentMethod,u=e=>e.goldPurchase.payment.cardName,l=e=>e.goldPurchase.payment.cardValidation.cardCvc,b=e=>e.goldPurchase.payment.cardValidation.cardExpiry,p=e=>e.goldPurchase.payment.cardValidation.cardNumber,O=e=>e.goldPurchase.payment.cardValidation.nameOnCard,f=e=>e.goldPurchase.payment.cardValidation.postalCode,m=e=>e.goldPurchase.payment.stripeToken.errorMessage,j=e=>e.goldPurchase.payment.stripeToken.pending,y=e=>e.goldPurchase.payment.paypal.passthrough,g=e=>e.goldPurchase.payment.paypal.errorMessage},"./src/reddit/selectors/gov.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"e",function(){return b});var r=s("./src/reddit/contexts/PageLayer/index.tsx");const n=[],a={filled:"img/communityPoints/default_filled.png",grey:"img/communityPoints/default_grey.png"},c=(e,t)=>t&&t.subredditId?(e.user.wallets[t.subredditId]||{}).latest:void 0,o=(e,t)=>{return(e.users.publicWallets[t.userId]||{})[t.subredditId]},i=(e,t)=>{const s=Object(r.n)(e,t);return s&&e.subreddits.gov.releaseNotes[s]||n},d=(e,t)=>t&&t.subredditId&&(e.subreddits.gov.meta[t.subredditId]||{}).name||"Community Points",u=(e,t)=>t&&t.subredditId&&(e.subreddits.gov.meta[t.subredditId]||{}).images||a,l=(e,t)=>t.subredditId?e.subreddits.gov.assets[t.subredditId]:void 0,b=(e,t)=>t.subredditId?e.subreddits.gov.meta[t.subredditId]:void 0},"./src/reddit/selectors/imageUploads.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/reddit/models/Image/index.tsx");const n=e=>e.imageUploads,a=(e,t)=>{const s=n(e),a=[];for(const n in s){const e=s[n];e.kind===r.b.TempUploaded&&e.context===t&&a.push(e)}return a}},"./src/reddit/selectors/modQueue.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return o}),s.d(t,"f",function(){return i}),s.d(t,"a",function(){return d}),s.d(t,"e",function(){return u});var r=s("./src/reddit/helpers/makeModQueueListingKey/index.ts"),n=s("./src/lib/objectSelector/index.ts");const a=Object(n.a)((e,{pageName:t,page:s,profileName:n,subredditName:a})=>{const c=Object(r.a)({profile:n,subreddit:a});if(!e.modQueue[t]||!e.modQueue[t].itemOrder[c]||!e.modQueue[t].itemOrder[c][s])return;const o=e.modQueue[t].itemOrder[c][s];return o?o.map(t=>e.posts.models[t]||e.comments.models[t]):[]}),c=(e,t)=>{const s=t.pageName;return!e.modQueue[s]||!e.modQueue[s].api||e.modQueue[s].api.pending},o=(e,{pageName:t,profileName:s,subredditName:n})=>{const a=Object(r.a)({profile:s,subreddit:n});return e.modQueue[t].loadMore[a]},i=e=>Object.keys(e.modQueue.bulkAction.selectedItems),d=e=>e.modQueue.bulkAction.api.pending,u=e=>e.modQueue.moderatedCommunitiesOrder.data},"./src/reddit/selectors/originalContent.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"h",function(){return j}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return _}),s.d(t,"i",function(){return E}),s.d(t,"k",function(){return h}),s.d(t,"j",function(){return I}),s.d(t,"a",function(){return T}),s.d(t,"b",function(){return S});var r=s("./node_modules/lodash/values.js"),n=s.n(r),a=s("./node_modules/reselect/lib/index.js"),c=s("./src/app/strings/index.ts"),o=s("./src/lib/objectSelector/index.ts"),i=s("./src/reddit/constants/originalContent.ts"),d=s("./src/reddit/selectors/profile.ts"),u=s("./src/reddit/selectors/user.ts");const l=[],b=Object(c.f)("postCreation.modifiers.originalContentCategories.none"),p=Object(c.f)("postCreation.modifiers.originalContentCategories.best"),O=e=>e.originalContent.categories.api.pending,f=e=>e.originalContent.categories.models,m=Object(a.createSelector)(f,e=>n()(e).sort((e,t)=>e.name.localeCompare(t.name))),j=Object(a.createSelector)(m,e=>e.filter(e=>e.submittable)),y=Object(a.createSelector)(m,e=>e.filter(e=>e.discoverable)),g=Object(a.createSelector)(y,e=>e.reduce((e,t)=>(e[t.name]=t,e),{})),_=Object(a.createSelector)(u.I,y,(e,t)=>[{discoverable:!0,name:i.b,displayText:p(e),submittable:!1},...t]),E=Object(a.createSelector)(u.I,j,(e,t)=>[{discoverable:!1,name:i.c,displayText:b(e),submittable:!0},...t]),h=(e,{categoryName:t})=>e.users.topOCCreators[t]||l,I=Object(o.a)((e,{userNames:t})=>t.map(t=>{return{user:Object(u.U)(e,{userName:t}),profile:Object(d.g)(e,{profileName:t})}})),T=(e,{categoryName:t})=>e.posts.bestOCPosts[t]||l,S=(e,{categoryName:t})=>e.originalContent.bestPosts.api.pending[t]},"./src/reddit/selectors/premium.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return c}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return i}),s.d(t,"a",function(){return d}),s.d(t,"b",function(){return u});var r=s("./src/reddit/helpers/adblock/index.ts"),n=s("./src/reddit/helpers/chooseVariant/index.ts"),a=s("./src/reddit/selectors/user.ts");const c=(e,t)=>{const s=Object(a.j)(e);if(s&&s.isGold)return!1;if(!Object(r.b)())return!1;if(Object(r.a)())return!1;let c;return"on"===(c=Object(n.a)(e,t))},o=e=>!!e.givePremium.givePremiumModalAccountName,i=e=>e.givePremium.givePremiumModalAccountName,d=e=>e.givePremium.api.error||"",u=e=>e.givePremium.api.pending},"./src/reddit/selectors/profileOverviewChronoItems.ts":function(e,t,s){"use strict";var r=s("./src/lib/objectSelector/index.ts"),n=s("./src/reddit/models/Flair/index.ts"),a=s("./src/reddit/models/PostCreationForm/index.ts");n.e.Text,n.e.Spoiler,n.e.Text,n.e.Spoiler,a.h.RICH_TEXT,n.e.Text,n.e.Spoiler,a.h.RICH_TEXT,n.e.Text,n.e.Spoiler,a.h.RICH_TEXT;var c=s("./src/reddit/helpers/isComment.ts");s.d(t,"f",function(){return o}),s.d(t,"e",function(){return d}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"c",function(){return m});const o=Object(r.a)((e,{listingKey:t})=>{const s=e.posts.models;return i(e,{listingKey:t}).filter(e=>{if(Object(c.a)(e))return!0;{const t=s[e];return t&&!t.hidden}})}),i=Object(r.a)((e,{listingKey:t})=>{const s=e.profileOverviewPage.chrono.ids[t];return s?[...s]:[]}),d=Object(r.a)((e,{listingKey:t})=>{return o(e,{listingKey:t}).reduce((t,s)=>{const r=Object(c.a)(s)?e.comments.models[s].postId:s;return t[s]=r,t},{})}),u=(Object(r.a)((e,{listingKey:t})=>{const s=e.posts.models;return u(e,{listingKey:t}).filter(e=>{const t=s[e];return t&&!t.hidden})}),Object(r.a)((e,{listingKey:t})=>{return o(e,{listingKey:t}).map(t=>Object(c.a)(t)?e.comments.models[t].postId:t)})),l=Object(r.a)((e,{listingKey:t})=>{const s=e.posts.models,r=u(e,{listingKey:t}),n={};return r.forEach(e=>n[e]=s[e]),n}),b=Object(r.a)((e,{listingKey:t})=>{const s=e.comments.models,r=o(e,{listingKey:t}),n={};return r.forEach(e=>!!Object(c.a)(e)&&(n[e]=s[e])),n}),p=(e,{listingKey:t})=>e.profileOverviewPage.chrono.api.error[t],O=(e,{listingKey:t})=>e.profileOverviewPage.chrono.api.pending[t],f=(e,{listingKey:t})=>e.profileOverviewPage.chrono.loadMore[t],m=(e,{listingKey:t})=>e.profileOverviewPage.chrono.fetchedTokens[t]},"./src/reddit/selectors/submitValidation.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"c",function(){return a});const r=e=>e.subredditSettings.postRequirements.formState,n=e=>e.subredditSettings.postRequirements.formErrors,a=e=>e.creations.formState.fieldValidation},"./src/reddit/selectors/toast.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./node_modules/reselect/lib/index.js");const n=Object(r.createSelector)(e=>e.toaster,(e,t)=>t,(e,t)=>e.find(e=>e.customToastType===t))},"./src/reddit/selectors/userFlair.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/reddit/models/Flair/index.ts");const n=(e,{subredditId:t})=>e.userFlair[t],a=(e,{subredditId:t})=>!e.userFlair[t]||e.userFlair[t].displaySettings.isEnabled,c=(e,{subredditId:t})=>e.userFlair[t]?e.userFlair[t].displaySettings.position:r.a.Right}}]);
//# sourceMappingURL=Governance~Reddit.e4c3c9991311dbdab2bc.js.map

}
/*
     FILE ARCHIVED ON 23:56:02 Nov 30, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:34:57 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.274
  exclusion.robots.policy: 0.244
  cdx.remote: 0.443
  esindex: 0.026
  LoadShardBlock: 289.527 (6)
  PetaboxLoader3.datanode: 1294.772 (8)
  load_resource: 1281.242 (2)
  PetaboxLoader3.resolve: 109.187 (2)
*/