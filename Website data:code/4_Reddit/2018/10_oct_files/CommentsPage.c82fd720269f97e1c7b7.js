var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["CommentsPage"],{"./node_modules/lodash/_baseDelay.js":function(e,t){var n="Expected a function";e.exports=function(e,t,o){if("function"!=typeof e)throw new TypeError(n);return setTimeout(function(){e.apply(void 0,o)},t)}},"./node_modules/lodash/defer.js":function(e,t,n){var o=n("./node_modules/lodash/_baseDelay.js"),i=n("./node_modules/lodash/_baseRest.js")(function(e,t){return o(e,1,t)});e.exports=i},"./src/app/components/StyledHtml/index.less":function(e,t,n){},"./src/app/components/StyledHtml/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./src/app/components/StyledHtml/index.less"),n("./src/config.ts")),s=function(e){return e.replace(new RegExp('href="/u',"gi"),'target="_blank" href="'+r.a.redditUrl+"/u").replace(new RegExp('href="/r',"gi"),'target="_blank" href="'+r.a.redditUrl+"/r")};function d(e){var t=e.html;return i()("div",{className:"StyledHtml",dangerouslySetInnerHTML:{__html:s(t)}})}},"./src/reddit/components/CommentModModeDropdown/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),s=n("./node_modules/reselect/lib/index.js"),d=n("./bundled-modules/styled-components/styled-components.min.js"),c=n.n(d),a=n("./src/higherOrderComponents/asTooltip.tsx"),l=n("./src/reddit/actions/comment.ts"),m=n("./src/reddit/components/TrackingHelper/index.tsx"),p=n("./src/reddit/controls/Dropdown/index.tsx"),u=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),g=n("./src/reddit/helpers/trackers/modTools.ts"),h=n("./src/reddit/selectors/tooltip.ts"),f=n("./src/app/strings/index.ts"),b=n("./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx"),v=function(e){return i()(b.c,{},void 0,!e.comment.isApproved&&i()(b.b,{displayText:e.comment.approvedBy?Object(f.a)(e.language,"modTools.approved"):Object(f.a)(e.language,"modTools.approve"),onClick:e.onApproveComment},void 0,i()(b.a,{})),!e.comment.bannedBy&&[i()(b.b,{displayText:e.comment.isRemoved?Object(f.a)(e.language,"modTools.removed"):Object(f.a)(e.language,"modTools.remove"),onClick:e.onRemoveComment},void 0,i()(b.d,{})),i()(b.b,{displayText:e.comment.isSpam?Object(f.a)(e.language,"modTools.removedAsSpam"):Object(f.a)(e.language,"modTools.removeAsSpam"),onClick:e.onSpamComment},void 0,i()(b.e,{}))])},x=c()(p.a).withConfig({componentId:"la5ynn-0"})(["margin-top: -4px;"]),O=Object(s.createStructuredSelector)({isDropdownOpen:function(e,t){var n=t.tooltipId;return Object(h.b)(n)(e)}}),C=Object(r.connect)(O,function(e,t){var n=t.comment;return{onApproveComment:function(){return e(Object(l.G)(n.id))},onRemoveComment:function(){return e(Object(l.X)(n.id,!1))},onSpamComment:function(){return e(Object(l.X)(n.id,!0))}}}),j=Object(a.a)(x),y=C(Object(m.b)(function(e){var t=e.comment,n=e.isDropdownOpen,o=e.isOverlay,r=e.language,s=e.onApproveComment,d=e.onRemoveComment,c=e.onSpamComment,a=e.sendEvent,l=e.tooltipId,m=Object(u.a)(o);return i()(j,{container:m,isOpen:n,isOverlay:o,tooltipId:l},void 0,i()(v,{language:r,onApproveComment:function(){s(),a(Object(g.c)("approve",t.id))},onRemoveComment:function(){d(),a(Object(g.c)("remove",t.id))},onSpamComment:function(){c(),a(Object(g.c)("spam",t.id))},comment:t}))}));t.a=y},"./src/reddit/components/ContentGate/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/babel-runtime/regenerator/index.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),c=n.n(d),a=n("./src/config.ts"),l=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),m=n("./node_modules/react-router/es/index.js"),p=n("./node_modules/reselect/lib/index.js"),u=n("./bundled-modules/styled-components/styled-components.min.js"),g=n.n(u),h=n("./src/app/components/StyledHtml/index.tsx"),f=n("./src/app/strings/index.ts"),b=n("./src/lib/loginHref/index.ts"),v=n("./src/reddit/actions/contentGate.ts"),x=n("./src/reddit/actions/preferences.ts"),O=n("./src/reddit/constants/componentSizes.ts"),C=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),j=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=g.a.div.withConfig({componentId:"s19uef1h-0"})(["margin: 0 auto;max-width: 100%;padding: 36px 0;width: ","px;"],O.g),I=g.a.div.withConfig({componentId:"s19uef1h-1"})(["","color: ",";margin-top: 15px;text-align: center;"],C.titleFontH6,function(e){return Object(j.c)(e).actionIcon}),w=g.a.a.withConfig({componentId:"s19uef1h-2"})(["color: ",";text-decoration: underline;"],function(e){return Object(j.c)(e).actionIcon}),k=g.a.a.withConfig({componentId:"s19uef1h-3"})(["color: ",";text-decoration: underline;"],function(e){return Object(j.c)(e).actionIcon}),S=Object(p.createStructuredSelector)({language:function(e){return e.user.language}}),T=Object(l.connect)(S)(function(e){var t=e.language;return i()(y,{},void 0,i()(I,{},void 0,Object(f.a)(t,"footer.legalbottom.part1"),i()(w,{href:a.a.redditUrl+"/help/useragreement"},void 0,Object(f.a)(t,"footer.legalbottom.user")),Object(f.a)(t,"footer.legalbottom.part2"),i()(k,{href:a.a.redditUrl+"/help/privacypolicy"},void 0,Object(f.a)(t,"footer.legalbottom.privacy")),Object(f.a)(t,"footer.legalbottom.part3",{year:(new Date).getFullYear()})))}),P=n("./src/reddit/constants/colors.ts"),M=n("./src/reddit/controls/Button/index.tsx"),E=n("./src/reddit/selectors/meta.ts"),N=n("./src/reddit/selectors/user.ts");n.d(t,"a",function(){return L});var L,R=g.a.div.withConfig({componentId:"s16l1az5-0"})(["display: flex;justify-content: center;margin-left: auto;margin-right: auto;"]),_=g.a.div.withConfig({componentId:"s16l1az5-1"})(["background-color: ",";align-items: center;display: flex;flex-direction: column;justify-content: center;min-height: 100vh;"],function(e){return Object(j.c)(e).canvas}),D=g.a.p.withConfig({componentId:"s16l1az5-2"})(["","color: ",";margin-top: 0;margin-bottom: 32px;"],C.titleFontH5,function(e){return Object(j.c)(e).bodyText}),A=g.a.div.withConfig({componentId:"s16l1az5-3"})(["border-radius: 4px;background-color: ",";margin-bottom: 20px;padding: 16px;"],function(e){return Object(j.c)(e).body}),H=g.a.div.withConfig({componentId:"s16l1az5-4"})(["","text-align: left;"],C.bodyFont),F=g.a.h3.withConfig({componentId:"s16l1az5-5"})(["","color: ",";margin-bottom: 20px;"],C.titleFontH3,function(e){return Object(j.c)(e).bodyText}),B=g.a.a.withConfig({componentId:"s16l1az5-6"})(["color: ",";padding-left: 3px;"],P.a.alienblue),z=g()(M.f).withConfig({componentId:"s16l1az5-7"})(["width: ","px;"],150),K=g()(M.e).withConfig({componentId:"s16l1az5-8"})(["width: ","px;"],150),W=g()(M.i).withConfig({componentId:"s16l1az5-9"})(["width: ","px;"],150),G=g()(M.h).withConfig({componentId:"s16l1az5-10"})(["width: ","px;"],150),U=g.a.div.withConfig({componentId:"s16l1az5-11"})(["margin-bottom: 25px;"]),V=g()(z).withConfig({componentId:"s16l1az5-12"})(["margin-top: 12px;"]),q=g.a.img.withConfig({componentId:"s16l1az5-13"})(["height: 128px;margin: 0px auto;width: auto;"]),Y=g.a.img.withConfig({componentId:"s16l1az5-14"})(["background-color: #a8a8a8;border-radius: 100%;height: 100px;margin-left: auto;margin-right: auto;width: 100px;"]),J=g()(z).withConfig({componentId:"s16l1az5-15"})(["margin-right: ","px;"],24),Q=g()(K).withConfig({componentId:"s16l1az5-16"})(["margin-right: ","px;"],24),X=g()(G).withConfig({componentId:"s16l1az5-17"})(["margin-right: ","px;"],24),Z=g()(W).withConfig({componentId:"s16l1az5-18"})(["margin-right: ","px;"],24),$=g.a.h3.withConfig({componentId:"s16l1az5-19"})(["","color: ",";margin-top: 32px;margin-bottom: 20px;"],C.titleFontH3,function(e){return Object(j.c)(e).bodyText}),ee=g.a.div.withConfig({componentId:"s16l1az5-20"})(["align-items: center;display: flex;justify-content: center;margin-left: auto;margin-right: auto;max-width: ","px;text-align: center;"],O.g);!function(e){e.GoldSubreddit="GoldSubreddit",e.Nsfw="Nsfw",e.PrivateSubreddit="PrivateSubreddit",e.QuarantinedSubreddit="QuarantinedSubreddit",e.SubredditBanned="SubredditBanned",e.SubredditDoesNotExist="SubredditDoesNotExist"}(L||(L={}));var te=Object(p.createStructuredSelector)({language:N.H,origin:E.c,user:N.j}),ne=Object(l.connect)(te,function(e,t){var n,o,i=t.subredditName;return{continueToQuarantinedSubreddit:(o=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(x.w(i));case 2:window.location.reload();case 3:case"end":return t.stop()}},t,void 0)})),function(){return o.apply(this,arguments)}),setCookieAndRedirect:(n=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(v.g());case 2:window.location.reload();case 3:case"end":return t.stop()}},t,void 0)})),function(){return n.apply(this,arguments)})}}),oe=function(e){var t=e.banMessage,n=e.contentGateType,o=e.continueToQuarantinedSubreddit,r=e.language,s=e.location,d=e.origin,c=e.quarantineRequiresEmail,l=e.quarantineMessage,m=e.setCookieAndRedirect,p=e.subredditDescription,u=e.subredditName,g=e.user;switch(n){case L.GoldSubreddit:return i()("div",{},void 0,i()(q,{src:a.a.assetPath+"/img/gold/premium-crest.png"}),i()($,{},void 0,Object(f.a)(r,"contentGate.goldSubreddit.titlePremium",{subredditName:u})),i()(D,{},void 0,Object(f.a)(r,"contentGate.goldSubreddit.descriptionPremium")),i()(R,{},void 0,g?i()(X,{href:a.a.redditUrl+"/premium"},void 0,Object(f.a)(r,"contentGate.goldSubreddit.getPremium")):i()(Q,{href:Object(b.a)(s,d)},void 0,Object(f.a)(r,"contentGate.goldSubreddit.signUp")),g?i()(z,{to:"/"},void 0,Object(f.a)(r,"contentGate.goldSubreddit.goHome")):i()(G,{href:Object(b.a)(s,d)},void 0,Object(f.a)(r,"contentGate.goldSubreddit.login"))));case L.Nsfw:return i()("div",{},void 0,i()(q,{src:a.a.assetPath+"/img/content-gate-icons/nsfw.png"}),i()($,{},void 0,Object(f.a)(r,"contentGate.over18.title")),i()(D,{},void 0,Object(f.a)(r,"contentGate.over18.description")),i()(R,{},void 0,i()(J,{to:"/"},void 0,Object(f.a)(r,"common.no")),i()(G,{onClick:m},void 0,Object(f.a)(r,"common.yes"))));case L.PrivateSubreddit:return i()("div",{},void 0,i()(q,{src:a.a.assetPath+"/img/content-gate-icons/private.png"}),i()($,{},void 0,Object(f.a)(r,"contentGate.privateSubreddit.title",{subredditName:u})),p&&p.length&&i()(A,{},void 0,i()(F,{},void 0,"r/",u),i()(H,{},void 0,p)),i()(D,{},void 0,Object(f.a)(r,"contentGate.privateSubreddit.description")),i()(R,{},void 0,g?i()(X,{href:a.a.redditUrl+"/message/compose?to=/r/"+u},void 0,Object(f.a)(r,"contentGate.privateSubreddit.messageMods")):i()(X,{href:Object(b.a)(s,d)},void 0,Object(f.a)(r,"contentGate.goldSubreddit.signUp")),i()(z,{to:"/"},void 0,g?Object(f.a)(r,"contentGate.privateSubreddit.goHome"):Object(f.a)(r,"contentGate.privateSubreddit.exploreReddit"))));case L.QuarantinedSubreddit:return i()("div",{},void 0,i()(q,{src:a.a.assetPath+"/img/content-gate-icons/quarantined.png"}),i()($,{},void 0,Object(f.a)(r,"contentGate.quarantinedSubreddit.title")),i()(D,{},void 0,Object(f.a)(r,"contentGate.quarantinedSubreddit.subtitle"),i()(B,{href:"https://web.archive.org/web/20181001000500/https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits"},void 0,Object(f.a)(r,"contentGate.quarantinedSubreddit.quarantined")),i()("br",{}),i()("br",{}),l||Object(f.a)(r,"contentGate.quarantinedSubreddit.description"),i()("br",{}),i()("br",{}),Object(f.a)(r,"contentGate.quarantinedSubreddit.prompt")),i()(R,{},void 0,function(e,t,n,o){return e&&e.hasVerifiedEmail||!o?i()(R,{},void 0,i()(J,{to:"/"},void 0,Object(f.a)(t,"contentGate.quarantinedSubreddit.noThankYou")),i()(G,{onClick:n},void 0,Object(f.a)(t,"contentGate.quarantinedSubreddit.continue"))):i()(R,{},void 0,i()(Z,{to:"/"},void 0,Object(f.a)(t,"contentGate.quarantinedSubreddit.noThankYou")),i()(K,{href:a.a.redditUrl+"/prefs/update"},void 0,Object(f.a)(t,"contentGate.quarantinedSubreddit.verifyEmail")))}(g,r,o,c)));case L.SubredditBanned:return i()("div",{},void 0,i()(q,{src:a.a.assetPath+"/img/content-gate-icons/banned.png"}),i()($,{},void 0,Object(f.a)(r,"contentGate.subredditBanned.title",{subredditName:u})),function(e,t){return e?i()(U,{},void 0,i()(h.a,{html:(n=e,n.replace(/\[(.+?)\]\((.+?)\)/g,"<a href='$2'>$1</a>"))})):i()(D,{},void 0,Object(f.a)(t,"contentGate.subredditBanned.description"));var n}(t,r),i()(R,{},void 0,i()(z,{to:"/"},void 0,Object(f.a)(r,"contentGate.subredditBanned.exploreReddit"))));case L.SubredditDoesNotExist:return i()("div",{},void 0,i()(Y,{}),i()($,{},void 0,Object(f.a)(r,"contentGate.subredditDoesNotExist.title",{subredditName:u})),i()(R,{},void 0,i()(V,{to:"/"},void 0,Object(f.a)(r,"contentGate.subredditDoesNotExist.goHome"))))}};t.b=ne(Object(m.f)(function(e){return i()(_,{},void 0,i()("div",{},void 0,i()(ee,{},void 0,oe(e))),i()(T,{}))}))},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx":function(e,t,n){"use strict";n.d(t,"g",function(){return p}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return v});var o=n("./bundled-modules/styled-components/styled-components.min.js"),i=n.n(o),r=n("./src/reddit/controls/Dropdown/Row.tsx"),s=n("./src/reddit/icons/fonts/Approve/index.tsx"),d=n("./src/reddit/icons/fonts/Remove/index.tsx"),c=n("./src/reddit/icons/fonts/Spam/index.tsx"),a=n("./src/reddit/icons/fonts/Tag/index.tsx"),l=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),m=Object(o.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),p=Object(o.css)(["color: ",";cursor: pointer;font-size: 12px;line-height: 16px;padding: 8px 16px 8px 8px;&:hover {background-color: ",";border-color: ",";}"],function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon},function(e){return Object(l.c)(e).actionIcon}),u=i()(s.a).withConfig({componentId:"s19zlun7-0"})(["",""],m),g=i()(d.a).withConfig({componentId:"s19zlun7-1"})(["",""],m),h=i()(c.a).withConfig({componentId:"s19zlun7-2"})(["",""],m),f=i()(a.a).withConfig({componentId:"s19zlun7-3"})(["",""],m),b=i.a.div.withConfig({componentId:"s19zlun7-4"})(["border-radius: 4px;box-shadow: 0 2px 4px 0 ",";cursor: pointer;line-height: 0px; // this seems to better vertically align the icon\noverflow: hidden;width: 100%;"],function(e){return Object(l.c)(e).flair}),v=i()(r.c).withConfig({componentId:"s19zlun7-5"})(["",""],p)},"./src/reddit/contexts/TrackCommentsPageClick.ts":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),i=n.n(o);t.a=i.a.createContext(function(){return function(){}})},"./src/reddit/controls/ErrorText/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/createClass.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),l=n.n(a),m=n("./node_modules/babel-runtime/helpers/inherits.js"),p=n.n(m),u=n("./node_modules/lodash/uniqueId.js"),g=n.n(u),h=n("./node_modules/raf/index.js"),f=n.n(h),b=n("./node_modules/react/index.js"),v=n.n(b),x=n("./node_modules/react-redux/es/index.js"),O=n("./node_modules/reselect/lib/index.js"),C=n("./bundled-modules/styled-components/styled-components.min.js"),j=n.n(C),y=n("./src/app/strings/index.ts"),I=n("./src/reddit/actions/modal.ts"),w=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),k=n("./src/reddit/selectors/activeModalId.ts"),S=n("./src/higherOrderComponents/asModal.tsx"),T=n("./src/reddit/controls/Button/index.tsx"),P=n("./src/reddit/layout/row/Inline/index.tsx"),M=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),E=Object(y.d)("error.ok"),N=j.a.div.withConfig({componentId:"s18tv1r8-0"})(["box-sizing: border-box;border-radius: 4px;width: 350px;background-color: ",";border: 1px solid ",";border-radius: 4px;box-shadow: 0 0 0 1px ",",0px 2px 3px 2px ",";"],function(e){return Object(M.c)(e).body},function(e){return Object(M.c)(e).line},function(e){return Object(M.c)(e).line},function(e){return Object(M.c)(e).line}),L=j()(P.a).withConfig({componentId:"s18tv1r8-1"})(["","padding: 11px 16px;border-bottom: 1px solid ",";"],w.titleFontH4,function(e){return Object(M.c)(e).line}),R=j.a.div.withConfig({componentId:"s18tv1r8-2"})(["","padding: 16px;"],w.bodyFont),_=j()(P.a).withConfig({componentId:"s18tv1r8-3"})(["padding: 8px 5px;border-top: 1px solid ",";background: hsl(0, 0%, 98%);flex-direction: row-reverse;"],function(e){return Object(M.c)(e).line}),D=j()(T.d).withConfig({componentId:"s18tv1r8-4"})(["margin-left: 5px;"]),A=Object(S.a)(function(e){var t=e.children,n=e.language,o=e.title;return i()(N,{},void 0,i()(L,{},void 0,o),i()(R,{},void 0,t),i()(_,{},void 0,i()(D,{onClick:e.onConfirmed},void 0,E(n))))});n.d(t,"b",function(){return V});var H=Object(y.d)("error.more"),F=Object(y.d)("error.error"),B=Object(y.d)("error.type.generic"),z=j.a.div.withConfig({componentId:"s2apn2n-0"})(["","color: #f00;padding-top: 4px;text-align: right;display: flex;"],w.metadataFont),K=j.a.span.withConfig({componentId:"s2apn2n-1"})(["white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"]),W=j.a.span.withConfig({componentId:"s2apn2n-2"})(["text-decoration: underline;cursor: pointer;padding-left: 4px;"]),G=Object(O.createStructuredSelector)({activeModalId:k.a}),U=Object(x.connect)(G,function(e){return{toggleErrorTextModal:function(t){return e(Object(I.h)(t))}}})(function(e){function t(e){s()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcTextDidOverflow=function(e){f()(function(){e&&e.scrollWidth>e.clientWidth&&n.setState({textHasOverflowed:!0})})},n.setRef=function(e){n.calcTextDidOverflow(e)},n.state={errorModalBody:e.errorModalBody||e.children,errorModalTitle:e.errorModalTitle||F(e.language),moreText:e.moreText||H(e.language),textHasOverflowed:!1,modalId:"ErrorTextModal--"+g()()},n}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.activeModalId,r=e.language,s=e.toggleErrorTextModal,d=this.state,c=d.errorModalBody,a=d.errorModalTitle,l=d.modalId,m=d.moreText,p=d.textHasOverflowed;return i()(z,{className:n},void 0,i()(K,{innerRef:this.setRef},void 0,t),p&&i()(W,{onClick:function(){return s(l)}},void 0,m),o===l&&i()(A,{language:r,onConfirmed:function(){return s(l)},title:a},void 0,c))}}]),t}(v.a.Component)),V=(t.a=U,function(e,t){return(e.length>0?e:[B(t)]).map(function(e){return i()(U,{language:t},void 0,e)})})},"./src/reddit/icons/svgs/ArrowRight/index.tsx":function(e,t,n){"use strict";var o=n("./node_modules/babel-runtime/helpers/jsx.js"),i=n.n(o);n("./node_modules/react/index.js");t.a=function(e){return i()("svg",{className:e.className,viewBox:"0 0 11.4 11.4",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,i()("g",{},void 0,i()("path",{fill:"inherit",d:"m11.17929,5.99479c0.08081,-0.19519 0.08081,-0.41599 0,-0.61118c-0.0408,-0.0984 -0.0992,-0.1864 -0.17361,-0.2608l-4.79963,-4.79911c-0.31283,-0.3128 -0.81847,-0.3128 -1.1313,0c-0.31283,0.31279 -0.31283,0.81918 0,1.13118l3.43471,3.43433l-7.66949,0c-0.44244,0 -0.80007,0.3584 -0.80007,0.79999c0,0.44159 0.35763,0.79999 0.80007,0.79999l7.66949,0l-3.43471,3.43433c-0.31283,0.3128 -0.31283,0.81919 0,1.13118c0.15601,0.156 0.36083,0.2344 0.56565,0.2344c0.20482,0 0.40964,-0.0784 0.56565,-0.2344l4.79963,-4.79911c0.07441,-0.0744 0.13281,-0.1624 0.17361,-0.2608"})))}},"./src/reddit/pages/CommentsPage/index.tsx":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(o),r=n("./node_modules/babel-runtime/helpers/createClass.js"),s=n.n(r),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(d),a=n("./node_modules/babel-runtime/helpers/inherits.js"),l=n.n(a),m=n("./node_modules/babel-runtime/helpers/jsx.js"),p=n.n(m),u=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),g=n.n(u),h=n("./node_modules/lodash/fromPairs.js"),f=n.n(h),b=n("./node_modules/lodash/get.js"),v=n.n(b),x=n("./node_modules/lodash/throttle.js"),O=n.n(x),C=n("./node_modules/polished/dist/polished.es.js"),j=n("./node_modules/react/index.js"),y=n.n(j),I=n("./node_modules/react-redux/es/index.js"),w=n("./node_modules/reselect/lib/index.js"),k=n("./bundled-modules/styled-components/styled-components.min.js"),S=n.n(k),T=n("./src/app/models/Draft.ts"),P=n("./src/app/strings/index.ts"),M=n("./node_modules/babel-runtime/helpers/extends.js"),E=n.n(M),N=n("./node_modules/react-router-dom/es/index.js"),L=n("./src/reddit/controls/UnstyledInternalLink/index.tsx"),R=n("./src/reddit/helpers/overlay/index.ts"),_=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},D=function(e){var t=e.children,n=e.className,o=e.to,i=_(e,["children","className","to"]),r=Object(R.b)(o);return y.a.createElement(L.a,E()({className:n,to:r},i),t)},A=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]])}return n},H=function(e){var t=e.isOverlay,n=A(e,["isOverlay"]),o=t?D:N.a;return y.a.createElement(o,E()({},n,{children:n.children,className:n.className,onClick:n.onClick,to:n.to}))},F=n("./src/reddit/helpers/path/index.ts"),B=n("./src/reddit/icons/svgs/ArrowRight/index.tsx"),z=n("./src/telemetry/index.ts"),K=n("./src/telemetry/models/Timer.ts"),W=n("./src/lib/constants/index.ts"),G=n("./src/lib/domUtils/index.ts"),U=n("./src/lib/extractQueryParams/index.ts"),V=n("./src/lib/fastdom/index.ts"),q=n("./src/lib/makeCommentsPageKey/index.ts"),Y=n("./src/lib/makeDraftKey/index.ts"),J=n("./src/lib/performanceTimings/index.tsx"),Q=n("./src/app/actions/tooltip.ts"),X=n("./src/reddit/actions/comment.ts"),Z=n("./src/reddit/actions/login.ts"),$=n("./src/reddit/actions/video.ts"),ee=n("./src/reddit/components/BannerAd/index.tsx"),te=n("./src/reddit/contexts/PageLayer/index.tsx"),ne=n("./src/reddit/featureFlags/index.ts"),oe=n("./src/reddit/models/WhitelistStatus/index.ts"),ie=n("./src/reddit/selectors/subreddit.ts"),re=n("./src/reddit/selectors/user.ts"),se=Object(w.createStructuredSelector)({shouldHideAds:function(e,t){var n=Object(ie.p)(e,{subredditName:t.listingName});return!e.meta.isSessionSeo||ne.d.rabbitHole(e)||Object(re.B)(e)||Object(te.F)(t.pageLayer)||Object(re.u)(e)||!Boolean(n)||n&&n.wls!==oe.a.ALL_ADS||t.isPostNSFW}}),de=Object(I.connect)(se),ce=Object(te.s)(),ae=W.h[0],le=S()(ee.a).withConfig({componentId:"tax8l4-0"})(["text-align: center;width: ",';margin: 30px auto 50px auto;&:before {content: "advertisement";color: rgb(135, 138, 140);display: block;font-size: 10px;letter-spacing: 0.5px;line-height: 12px;text-transform: uppercase;padding-bottom: 4px;font-weight: 500;text-align: left;}'],ae+"px"),me=S.a.div.withConfig({componentId:"tax8l4-1"})(["margin: 0 auto;"]),pe=ce(de(function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.container=null,e.state={enoughSpace:!1,hasBeenAssessed:!1},e.checkAvailableSpace=O()(function(){V.a.read(function(){if(e.container){var t=W.h[0],n=e.container.clientWidth;!e.state.enoughSpace&&e.state.hasBeenAssessed||V.a.write(function(){e.setState({enoughSpace:n>t,hasBeenAssessed:!0})})}})},W.E),e}return l()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.shouldHideAds||(this.checkAvailableSpace(),window.addEventListener("resize",this.checkAvailableSpace))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkAvailableSpace)}},{key:"render",value:function(){var e=this;if(this.props.shouldHideAds)return null;var t=this.props,n=t.isOverlay,o=t.refreshKey,i=t.listingName,r=t.isPostNSFW,s=t.placement;return p()(me,{innerRef:function(t){e.container=t}},void 0,this.state.enoughSpace&&p()(le,{id:function(e,t){var n="";return t&&(n+="overlay-"),n+="comment-"+e}(s,n),sizes:[W.h],placement:s,isPostNSFW:r,listingName:i,refreshKey:o}))}}]),t}(y.a.Component))),ue=n("./src/reddit/components/ContentGate/index.tsx"),ge=n("./src/reddit/components/PromoBanners/index.tsx"),he=n("./src/reddit/components/StructuredStyles/BladeDrawerController/index.tsx"),fe=n("./src/reddit/constants/colors.ts"),be=n("./src/reddit/constants/componentSizes.ts"),ve=n("./src/reddit/constants/elementIds.ts"),xe=n("./src/reddit/constants/history.ts"),Oe=n("./src/reddit/constants/parameters.ts"),Ce=n("./src/reddit/constants/promos.ts"),je=n("./src/reddit/contexts/TrackCommentsPageClick.ts"),ye=n("./src/reddit/icons/fonts/Archived/index.tsx"),Ie=n("./src/reddit/models/Comment/index.ts"),we=n("./src/reddit/models/Media/index.ts"),ke=n("./src/reddit/models/Post/index.ts"),Se=n("./src/reddit/models/Theme/index.ts"),Te=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),Pe=n("./src/reddit/selectors/comments.ts"),Me=n("./src/reddit/selectors/meta.ts"),Ee=n("./src/reddit/selectors/monthsToMinutes.ts"),Ne=n("./src/reddit/selectors/posts.ts"),Le=n("./src/reddit/selectors/tooltip.ts"),Re=n("./src/reddit/components/AccountCompleteness/index.tsx"),_e=n("./src/reddit/components/AuthorHovercard/helpers.ts"),De=n("./src/higherOrderComponents/makeAsync.tsx"),Ae=n("./src/lib/loadWithRetries/index.ts"),He=n("./src/reddit/components/RichTextEditor/Placeholder.tsx"),Fe=n("./src/reddit/helpers/styles/components/index.tsx"),Be=n("./src/reddit/helpers/styles/mixins/loading.ts"),ze=S()(Object(Fe.a)()).withConfig({componentId:"rae1fm-0"})(["margin: ",";"],function(e){return e.isTopLevelComment?"24px 40px":"16px 0"}),Ke=S()(Object(Fe.a)()).withConfig({componentId:"rae1fm-1"})(["","height: 19px;margin-bottom: 4px;width: 150px;"],Be.a),We=Object(De.a)({ErrorComponent:function(e){var t=e.isTopLevelComment;return p()(ze,{isTopLevelComment:t},void 0,p()(Ke,{gradientType:"comments",isLoading:!1}),p()(He.a,{gradientType:"comments",isLoading:!1,toolbarPosition:"bottom"}))},getComponent:function(){return Object(Ae.a)(function(){return Promise.all([n.e("vendors~Chat~CommentsPage~ModerationPages~PostCreation~RedesignChat~RichTextEditor~StructuredStyles~~96f4d9fe"),n.e("vendors~FlairEdit~PostCreation~RichTextEditor"),n.e("vendors~PostCreation~RichTextEditor"),n.e("PostCreation~RichTextEditor"),n.e("RichTextEditor")]).then(n.bind(null,"./src/reddit/components/CommentCreation/index.tsx")).then(function(e){return e.default})})},LoadingComponent:function(e){var t=e.isTopLevelComment;return p()(ze,{isTopLevelComment:t},void 0,p()(Ke,{gradientType:"comments",isLoading:!0}),p()(He.a,{gradientType:"comments",isLoading:!0,toolbarPosition:"bottom"}))}}),Ge=function(e){return y.a.createElement(We,e)},Ue=n("./src/lib/isSimpleClick/index.ts"),Ve=n("./src/lib/loginHref/index.ts"),qe=n("./src/reddit/controls/Button/index.tsx"),Ye=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),Je=S.a.div.withConfig({componentId:"s6wlmco-0"})(["margin: 16px 26px 0 26px;display: flex;align-items: center;justify-content: space-between;border-radius: 4px;border: 1px solid ",";padding: 12px 8px;"],function(e){return Object(Te.c)(e).line}),Qe=S.a.span.withConfig({componentId:"s6wlmco-1"})(["","color: ",""],Ye.titleFontH4,function(e){return Object(Te.c)(e).metaText}),Xe=S()(qe.e).withConfig({componentId:"s6wlmco-2"})(["","",""],Ye.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),Ze=S()(qe.h).withConfig({componentId:"s6wlmco-3"})(["","","margin-left: auto;margin-right: 8px;"],Ye.smallButtonFont,"\n  padding: 4px 9px 2px;\n  width: 100px;\n"),$e=function(e){e.className;var t=e.language,n=e.location,o=e.openLoginModal,i=e.openRegisterModal,r=e.origin;return p()(Je,{},void 0,p()(Qe,{},void 0,Object(P.a)(t,"session.comment")),p()(Ze,{href:Object(Ve.a)(n,r,"/login"),onClick:function(e){Object(Ue.a)(e)&&(e.preventDefault(),e.stopPropagation(),o())},"data-redditstyle":!0},void 0,Object(P.a)(t,"session.login.submit")),p()(Xe,{href:Object(Ve.a)(n,r,"/register"),onClick:function(e){Object(Ue.a)(e)&&(e.preventDefault(),e.stopPropagation(),i())},"data-redditstyle":!0},void 0,Object(P.a)(t,"session.register.submit")))},et=n("./node_modules/lodash/isEqual.js"),tt=n.n(et),nt=n("./src/reddit/constants/comments.ts"),ot=n("./src/reddit/constants/elementClassNames.ts"),it=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),rt=n.n(it),st=n("./src/reddit/constants/zIndex.ts"),dt=n("./src/reddit/icons/fonts/helpers.tsx"),ct=S()(function(e){return p()("i",{className:Object(dt.b)("expand")+" "+e.className})}).withConfig({componentId:"qjrkk1-0"})(["display: inline-block;width: 12px;height: 12px;font-size: 12px;font-weight: 400;line-height: 12px;"]),at=S()(function(e){return y.a.createElement("button",e,p()(ct,{}))}).withConfig({componentId:"gcap43-0"})(["background: none;border: none;cursor: pointer;height: 12px;line-height: 12px;outline: none;width: 12px;&."," {color: ",";}",""],ot.f,function(e){return Object(Te.c)(e).line},function(e){return"color: "+Object(Te.c)(e).linkText+";\n      transform: rotate(180deg);\n      &:hover {\n        color: "+Object(Te.c)(e).linkText+";\n      }"}),lt=n("./src/config.ts"),mt=n("./node_modules/lodash/defer.js"),pt=n.n(mt),ut=n("./src/lib/makeCommentPermalink/index.ts"),gt=n("./src/reddit/actions/gild.ts"),ht=n("./src/reddit/actions/modal.ts"),ft=n("./src/reddit/actions/reportFlow.ts"),bt=n("./src/reddit/helpers/correlationIdTracker.ts"),vt=n("./src/reddit/helpers/hasModPostPermissions/index.ts"),xt=n("./src/reddit/helpers/trackers/lightbox.ts"),Ot=n("./src/reddit/selectors/activeModalId.ts"),Ct=n("./src/reddit/selectors/moderatorPermissions.ts"),jt=n("./src/reddit/components/CommentModModeDropdown/index.tsx"),yt=n("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),It=n("./src/reddit/components/ConfirmUserActionModal/index.tsx"),wt=n("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),kt=n("./src/reddit/components/ModActionsMenu/index.tsx"),St=n("./src/reddit/components/ModModeReports/helpers.ts"),Tt=n("./src/reddit/components/OverflowMenu/index.tsx"),Pt=n("./src/reddit/components/ReportFlow/index.tsx"),Mt=n("./src/reddit/components/ShareMenu/index.tsx"),Et=n("./src/reddit/components/TrackingHelper/index.tsx"),Nt=n("./src/reddit/components/ViewReportsDropdown/index.tsx"),Lt=n("./src/reddit/contexts/InsideOverlay.tsx"),Rt=n("./src/reddit/controls/CheckboxMenuItem/index.tsx"),_t=n("./src/reddit/controls/Dropdown/Row.tsx"),Dt=n("./src/reddit/helpers/trackers/gild.ts"),At=n("./src/reddit/helpers/trackers/modTools.ts"),Ht=n("./src/reddit/layout/row/Inline/index.tsx"),Ft=n("./src/reddit/icons/fonts/Comment/index.tsx"),Bt=n("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),zt=n("./src/reddit/icons/fonts/ModActions/index.tsx"),Kt=n("./src/reddit/icons/fonts/Report/index.tsx"),Wt=n("./src/reddit/icons/svgs/Trash2/index.tsx"),Gt=S()(Ft.a).withConfig({componentId:"i8sa02-0"})(["","color: #B7B9BA;display: inline-block;font-size: 14px;height: 12px;line-height: 13px;margin: 0px 6px 0px -1px;width: 12px;"],_t.d),Ut=S()(Wt.b).withConfig({componentId:"i8sa02-1"})(["","height: 12px;width: 12px;"],_t.d),Vt=S()(zt.a).withConfig({componentId:"i8sa02-2"})(["","display: inline-block;height: 12px;width: 12px;"],_t.d),qt=Object(k.css)(["height: 12px;margin-top: -6px;padding-right: 4px;vertical-align: middle;width: 12px;"]),Yt=S()(Kt.a).withConfig({componentId:"i8sa02-3"})(["",""],qt),Jt=S()(Bt.a).withConfig({componentId:"i8sa02-4"})(["",""],qt),Qt=S()(kt.a).withConfig({componentId:"i8sa02-5"})(["cursor: pointer;height: 24px;margin-right: 8px;margin-top: -4px;"]),Xt=S()(Object(Fe.a)()).withConfig({componentId:"i8sa02-6"})(["margin-right: ",";"],function(e){return e.modModeEnabled?"0px":"12px"}),Zt=S()(Tt.a).withConfig({componentId:"i8sa02-7"})(["font-weight: 500;","color: ",";"," {width: 16px;text-align: center;}"],Ye.titleFontH5,function(e){return Object(Te.c)(e).actionIcon},_t.a),$t=S()(Ht.a).withConfig({componentId:"i8sa02-8"})(["","color: ",";margin: 4px 0 8px;"],Ye.actionFont,function(e){return Object(Te.c)(e).actionIcon}),en=Object(k.css)(["display: inline-block;margin-right: 12px;transition: color 0.1s;&::first-letter {text-transform: uppercase;}&:disabled {cursor: default;}&:hover {text-decoration: underline;}"]),tn=Object(k.css)(["&.not(:disabled):hover {color: ",";}"],function(e){return Object(Te.c)(e).bodyText}),nn=S()(S.a.button.withConfig({componentId:"i8sa02-10"})(["",""],en)).withConfig({componentId:"i8sa02-9"})(["",""],tn),on=S()(yt.c).withConfig({componentId:"i8sa02-11"})(["margin-left: 12px;&:before {content: '';position: absolute;border-left: 1px solid ",";height: 20px;margin: 6px 0px;}"],function(e){return Object(Te.c)(e).line}),rn=S()(Nt.a).withConfig({componentId:"i8sa02-12"})(["display: inline-block;"]),sn=Object(te.s)(),dn=function(e){return"Comment-"+e+"--Modal--DeleteComment"},cn=function(e){return"Distinguish--Dropdown--"+e},an=function(e){return e+"-overflow-menu"},ln=function(e){return"View--Reports--"+e},mn=Object(w.createStructuredSelector)({activeTooltipId:Le.a,canAccessRedditPremium:ne.d.redditPremium,currentUser:re.j,isConfirmModalOpen:function(e,t){var n=t.comment;return Object(Ot.a)(e)===dn(n.id)},isPendingDeletion:Pe.z,isLoggedIn:re.B,moderatorPermissions:function(e,t){var n=t.comment;return Object(te.i)(e,t)||Object(Ct.f)(e,{subredditId:n.subredditId})},modModeEnabled:te.K,postIsArchived:function(e,t){var n=t.comment;return Object(Ne.v)(e,{postId:n.postId})},postIsLocked:function(e,t){var n=t.comment;return Object(Ne.w)(e,{postId:n.postId})},postPermalink:function(e,t){var n=t.comment;return Object(Ne.x)(e,{postId:n.postId})},reportFlowIsOpen:function(e,t){var n=t.comment;return e.reportFlow.postOrCommentId===n.id},sendRepliesToggled:function(e,t){var n=t.comment;return Object(Pe.E)(e,{commentId:n.id})},subredditOrProfile:function(e,t){var n=t.comment;return Object(Ne.J)(e,{postId:n.postId})}}),pn=Object(I.connect)(mn,function(e,t){var n=t.comment,o=t.commentsPageKey,i=t.language;return{deleteComment:function(){return o&&e(Object(X.Y)(i,n.id,n.postId,o))},handleDelete:function(){e(Object(ht.h)(dn(n.id))),e(Object(Q.e)({tooltipId:an(n.id)}))},handleEdit:function(){var t=n.media&&n.media.rteMode;o&&e(Object(X.S)({commentId:n.id,draftKey:Object(Y.a)(T.a.edit,n.id),text:n.bodyMD,commentMode:t,commentsPageKey:o}))},handleReply:function(){return o&&e(Object(X.Ja)({parentCommentId:n.id,commentsPageKey:o}))},onDistinguishComment:function(t,o){return e(Object(X.P)(n.id,t,o))},onGildClick:function(){return e(Object(gt.p)(n.id))},onIgnoreReports:function(){return e(Object(X.Ka)(n.id))},onReportClick:function(){return e(Object(ft.i)(n.id))},onToggleSave:function(){return e(Object(X.Ba)(n.id))},onToggleDistinguishDropdown:function(){return e(Object(Q.e)({tooltipId:cn(n.id)}))},onToggleReportsDropdown:function(){return e(Object(Q.e)({tooltipId:ln(n.id)}))},toggleDeleteCommentModal:function(){return e(Object(ht.h)(dn(n.id)))},toggleSendReplies:function(){return e(Object(X.Ca)(n.id))}}}),un=function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.sendCommentEventWithName=function(t){return e.props.sendEvent(Object(xt.b)(e.props.comment.postId,"comment_"+t))},e.sendCommentModEventWithName=function(t){return e.props.sendEvent(Object(At.a)(t,e.props.comment.id))},e.sendCommentReportEvent=function(t){return e.props.sendEvent(Object(At.e)(t,e.props.comment.id))},e.handleSave=function(){e.props.comment.isSaved?e.sendCommentModEventWithName("unsave"):e.sendCommentModEventWithName("save"),e.props.onToggleSave()},e.handleEdit=function(){e.props.sendEvent(Object(At.d)("edit",e.props.comment.id)),e.props.handleEdit()},e.handleGild=function(){Object(bt.d)(bt.a.GildingFlow),e.props.sendEvent(Object(Dt.c)(e.props.comment.id)),e.props.onGildClick()},e.handleDelete=function(){e.props.sendEvent(Object(At.d)("delete",e.props.comment.id)),e.props.toggleDeleteCommentModal()},e.handleReportClick=function(){e.props.sendEvent(Object(At.a)("report",e.props.comment.id)),e.props.onReportClick()},e.handleDistinguishToggle=function(){e.props.sendEvent(Object(At.a)("mod_distinguish_menu",e.props.comment.id)),e.props.onToggleDistinguishDropdown()},e.sendCommentDistinguishEvent=function(t){return e.props.sendEvent(Object(At.b)(t,e.props.comment.id))},e}return l()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.canAccessRedditPremium,o=t.comment,i=t.className,r=t.currentUser,s=t.deleteComment,d=t.handleReply,c=t.isOverlay,a=t.isLoggedIn,l=t.isPendingDeletion,m=t.language,u=t.onDistinguishComment,g=t.onIgnoreReports,h=t.onToggleReportsDropdown,f=t.moderatorPermissions,b=t.modModeEnabled,v=t.postIsArchived,x=t.postIsLocked,O=t.postPermalink,C=t.sendEvent,j=t.toggleDeleteCommentModal,y=t.toggleSendReplies,I=t.trackClick,w=Object(vt.a)(f),k=!!r&&r.displayText===o.author,S=!!r&&r.isEmployee,T=!x&&!v||w&&a,M=Object(St.a)(o);return p()("div",{className:i},void 0,p()($t,{},void 0,T&&p()(nn,{onClick:function(){d(),pt()(function(){return I("reply")()})},disabled:l},void 0,p()(Gt,{}),Object(P.a)(m,"comment.reply")),p()(Mt.a,{dropdownId:o.id+"-comment-share-menu",isOverlay:!!c,permalink:Object(ut.a)(O,o.id),sendEventWithName:this.sendCommentEventWithName},void 0,p()(nn,{onClick:function(){return e.sendCommentEventWithName("share")}},void 0,Object(P.a)(m,"posts.share"))),!k&&p()(nn,{onClick:this.handleReportClick,disabled:l},void 0,Object(P.a)(m,"comment.report")),p()(nn,{onClick:this.handleSave},void 0,o.isSaved?Object(P.a)(m,"comment.unsaveComment"):Object(P.a)(m,"comment.saveComment")),r&&!k&&!n&&p()(nn,{onClick:function(){return t=e.props.comment,n=e.props.sendEvent,o="\n    "+lt.a.redditUrl+"/gold/payment?goldtype=gift&months=1&thing="+t.id+"&web2x=true\n  ",window.open(o,"_blank"),void n(Object(At.a)("gild",t.id));var t,n,o}},void 0,Object(P.a)(m,"comment.gold")),r&&!k&&n&&p()(nn,{onClick:this.handleGild},void 0,Object(P.a)(m,"comment.gold")),k&&p()(nn,{onClick:this.handleEdit},void 0,Object(P.a)(m,"comment.edit")),k&&p()(Xt,{modModeEnabled:b},void 0,p()(Tt.b,{dropdownId:an(o.id),onClick:function(){return C(Object(At.a)("comment_overflow_menu",o.id))}},void 0,p()(Zt,{displayText:Object(P.a)(m,"comment.deleteComment"),onClick:this.handleDelete},void 0,p()(Ut,{})),p()(Rt.a,{text:Object(P.a)(m,"posts.toggleSendReplies"),onClick:y,isSelected:this.props.sendRepliesToggled}))),this.props.isConfirmModalOpen&&p()(It.a,{actionText:Object(P.a)(m,"comment.delete"),cancelActionText:Object(P.a)(m,"comment.keep"),headerText:Object(P.a)(m,"comment.deleteComment"),modalText:Object(P.a)(m,"comment.deleteConfirmation"),onConfirm:s,toggleModal:j,trackClick:function(){},withOverlay:!0}),w&&(b?p()(on,{comment:o,isCommentAuthor:k,language:m}):p()(Qt,{dropdownId:o.id+"-mod-actions-menu",inCommentFlatlist:!0,onClick:function(){return C(Object(At.a)("comment_mod_action_menu",o.id))}},void 0,p()(Vt,{}),p()(jt.a,{comment:o,isOverlay:!!c,language:m,tooltipId:o.id+"-mod-actions-menu"}))),Object(St.c)(o)&&!b&&p()(yt.b,{text:""+M,onClick:function(){h(),e.sendCommentModEventWithName("comment_report_menu")},selected:this.props.activeTooltipId===ln(o.id),id:ln(o.id)},void 0,p()(rn,{isOverlay:!!c,language:m,model:o,onIgnoreReports:function(){g(),e.sendCommentReportEvent(o.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:ln(o.id)}),o.ignoreReports?p()(Jt,{}):p()(Yt,{})),w&&!b&&k&&!S&&!o.bannedBy&&p()(yt.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===cn(o.id)},void 0,p()(yt.a,{}),p()(wt.a,{isAdminDistinguished:o.isAdmin,isDropdownOpen:this.props.activeTooltipId===cn(o.id),isModDistinguished:o.isMod,isOverlay:!!c,isStickied:o.isStickied,isTopLevelComment:!o.parentId,isUserEmployee:S,isUserMod:w,language:m,onDistinguishComment:u,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:cn(o.id)})),k&&S&&!o.bannedBy&&p()(yt.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===cn(o.id)},void 0,p()(yt.a,{}),p()(wt.a,{isAdminDistinguished:o.isAdmin,isDropdownOpen:this.props.activeTooltipId===cn(o.id),isModDistinguished:o.isMod,isOverlay:!!c,isStickied:o.isStickied,isTopLevelComment:!o.parentId,isUserEmployee:S,isUserMod:w,language:m,onDistinguishComment:u,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:cn(o.id)}))),this.props.reportFlowIsOpen&&p()(Pt.a,{withOverlay:!0,commentId:this.props.comment.id,overlayCustomStyles:Pt.b,postId:this.props.comment.postId}))}}]),t}(y.a.Component),gn=sn(pn(Object(Et.b)(Object(Lt.b)(un)))),hn=n("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),fn=n("./src/reddit/components/GildModal/Loader.tsx"),bn=n("./src/reddit/components/ModModeReports/index.tsx"),vn=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),xn=n("./src/reddit/components/RichTextJson/index.tsx"),On=n("./src/reddit/components/VerticalVotes/index.tsx"),Cn=n("./src/reddit/components/VerticalVotes/index.m.less"),jn=n.n(Cn),yn=n("./src/reddit/components/VerticalVotes/votes.tsx"),In=n("./src/reddit/components/VerticalVotes/votes.m.less"),wn=n.n(In),kn=n("./src/reddit/constants/componentTestIds.ts"),Sn=n("./src/reddit/controls/ErrorText/index.tsx"),Tn=n("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),Pn=n("./src/reddit/models/Subreddit/index.ts"),Mn=n("./src/reddit/models/Vote/index.ts"),En=n("./src/reddit/selectors/gild.ts"),Nn=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Ln=S()(at).withConfig({componentId:"c497l3-0"})(["left: 15px;position: absolute;top: 17px;"]),Rn=S()(Sn.a).withConfig({componentId:"c497l3-1"})(["text-align: left;"]),_n=S()(On.a).withConfig({componentId:"c497l3-2"})(["min-width: 24px;max-height: 40px;margin: 6px -1px -2px 9px;text-align: center;z-index: ",";","."," {height: 20px;}.",",.",",",","," {padding: 2px;}"],st.e,On.b,jn.a.voteButton,wn.a.customDownvote,wn.a.customUpvote,yn.c,yn.d),Dn=S()(hn.a).withConfig({componentId:"c497l3-3"})(["margin-left: ",";min-height: 18px;"],function(e){return e.collapsed?"32px":"0px"}),An=S()(Object(Fe.a)()).withConfig({componentId:"c497l3-4"})(["border: 1px solid transparent;border-radius: 4px;box-sizing: border-box;opacity: ",";margin-left: 4px;padding-left: 4px;padding-top: 4px;max-width: ","px;width: 100%;","","","",""],function(e){return e.isPendingDeletion?"0.5":"1.0"},be.f,function(e){return e.isRemoved?"border: 2px solid "+fe.a.removed+";\n      background-color: "+Object(C.e)(fe.a.removed,.05)+";\n      padding-left: 4px;\n      padding-top: 4px;\n      margin-top: -4px;":""},function(e){return e.isActive?"border: 1px solid "+Object(Te.c)(e).postIcon+";":""},function(e){return e.isCollapsed?"margin-left: 8px;\n      padding-left: 0;":""},function(e){return e.highlightComment?"background-color: "+Object(C.j)(.9,Object(Te.c)(e).active):""}),Hn=S()(Object(Fe.a)()).withConfig({componentId:"c497l3-5"})(["border-radius: 4px;display: flex;margin-left: -23px;padding: 8px 4px 0 0;position: relative;transition: color 0.5s, fill 0.5s, background 1s;",":hover + "," {"," {opacity: 1;}}","&.top-level {margin-top: 16px;}"],Ln,An,Dn,function(e){return e.focused?"background: "+Object(C.j)(.95,Object(Te.c)(e).button)+";":"background: transparent;"}),Fn=S()(xn.a).withConfig({componentId:"c497l3-6"})(["padding: 2px 0;width: 100%;"]),Bn=S.a.div.withConfig({componentId:"c497l3-7"})(["padding: 2px 0;width: 100%;"]),zn=S()(Ge).withConfig({componentId:"c497l3-8"})(["position: relative;&:before {border-left: 1px dashed ",';bottom: 0;content: " ";left: -8px;position: absolute;top: 1px;}'],function(e){return Object(Te.c)(e).line}),Kn=S()(zn).withConfig({componentId:"c497l3-9"})(["margin-left: 0;&:before {content: none;}"]),Wn=Object(te.s)()(Object(I.connect)(function(){return Object(w.createStructuredSelector)({comment:function(e,t){return Object(Pe.n)(e,t)},depth:function(e,t){return Object(Pe.j)(e,t)},collapsed:Pe.h,flair:Pe.e,focused:Pe.t,gildModalIsOpen:function(e,t){var n=t.commentId;return Object(En.c)(e,n)},isEditing:Pe.y,isPendingDeletion:Pe.z,language:re.H,moderatorPermissions:function(e,t){var n=Object(Pe.n)(e,t);return n?Object(Ct.f)(e,{subredditId:n.subredditId}):null},modModeEnabled:te.K,errorMsgs:Pe.C,patreonPatronFlair:Pe.f,replyFormOpen:Pe.F,subredditType:Pe.H,highlightComment:function(e,t){var n=t.commentId,o=Object(Pe.q)(e);if(o===Nn.a.None)return!1;var i=Object(Pe.n)(e,{commentId:n});if(!i)return!1;var r=Object(re.n)(e),s=!!Object(Ct.e)(e,{postId:i.postId}),d=Object(Ne.y)(e,{postId:i.postId});if(!d||!d.previousVisits||d.previousVisits.length<2)return!1;var c=o===Nn.a.Last?d.previousVisits[d.previousVisits.length-1]:d.previousVisits[0];return(s||r)&&i.created>c}})},function(e,t){var n=t.commentId,o=t.commentsPageKey,i=t.scrollToAndRemeasure,r=t.trackClick;return{onCollapseClick:function(){return e(Object(X.Ia)({commentId:n,commentsPageKey:o,scrollToAndRemeasure:i}))},onIgnoreReports:function(){return e(Object(X.Ka)(n))},onVoteClick:function(t){var o=t===Mn.a.upvoted?[Object(X.La)(n),"upvote_comment"]:[Object(X.Q)(n),"downvote_comment"],i=rt()(o,2),s=i[0],d=i[1];r(d)(),e(s)}}})(function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.comment,i=e.commentsPageKey,r=e.collapsed,s=e.depth,d=e.errorMsgs,c=e.flair,a=e.focused,l=e.gildModalIsOpen,m=e.highlightComment,u=e.isActive,g=e.isEditing,h=e.isPendingDeletion,f=e.language,b=e.moderatorPermissions,v=e.modModeEnabled,x=e.onCollapseClick,O=e.onIgnoreReports,C=e.onLineMouseOver,j=e.onVoteClick,y=e.patreonPatronFlair,I=e.replyFormOpen,w=e.trackClick,k=e.renderedInOverlay,S=e.subredditType,M=!g&&!o.isDeleted&&!!d&&d.length>0,E=Object(Y.a)(T.a.edit,o.id),N=Object(Y.a)(T.a.replyToComment,o.id),L=Object(vt.a)(b),R=o.authorIsContractor&&S===Pn.a.EmployeesOnly;return p()(Hn,{className:"Comment "+o.id+" "+(s?"":"top-level"),focused:a},void 0,r&&p()(Ln,{className:o.id,onClick:function(){n(),x(),w("collapse")()},onMouseOver:function(){return C(o.id)},onMouseOut:n}),!r&&!o.isDeleted&&p()(_n,{compact:!0,model:o,onVoteClick:j}),p()(An,{highlightComment:m,isActive:u,isCollapsed:r,isPendingDeletion:h,isRemoved:!!o.bannedBy},void 0,p()(Tn.a,{},void 0,Object(P.a)(f,"comment.level",{level:s+1})),p()(Dn,{childrenInfo:t,collapsed:r,comment:o,commentsPageKey:i,flair:c,language:f,patreonPatronFlair:y,renderedInOverlay:k,renderContractorBadge:R}),!r&&p()("div",{},void 0,g&&p()(Kn,{autofocus:!0,commentsPageKey:i,depth:s,draftType:T.a.edit,draftKey:E,rtJson:o.media&&o.media.richtextContent,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(X.Z)({language:f,id:o.id,commentsPageKey:i,depth:s,draftKey:E,formData:e})},submitButtonText:Object(P.a)(f,"comment.saveEdits")}),!g&&!o.isDeleted&&(o.media&&o.media.richtextContent?p()(Fn,{content:o.media.richtextContent,language:f,renderingObjectInfo:o,renderFallback:function(){return p()(Bn,{"data-test-id":kn.d},void 0,p()(vn.a,{html:o.body}))}}):p()(Bn,{"data-test-id":kn.d},void 0,p()(vn.a,{html:o.body}))),v&&L&&Object(St.c)(o)&&p()(bn.a,{language:f,onIgnoreReports:O,reportable:o}),!g&&!o.isDeleted&&p()(gn,{comment:o,commentsPageKey:i,language:f,trackClick:w}),M&&d.map(function(e){return p()(Rn,{language:f},void 0,e)}),I&&p()(zn,{autofocus:!0,commentsPageKey:i,depth:s,draftType:T.a.replyToComment,draftKey:N,isTopLevelComment:!1,parentCommentId:o.id,submitAction:function(e,t){return Object(X.Ea)({commentsPageKey:i,draftKey:N,language:f,parentCommentDepth:s,parentCommentId:o.id,formData:e,editorMode:t})},submitButtonText:Object(P.a)(f,"comment.reply")}))),l&&p()(fn.a,{}))})),Gn=function(e){return p()(je.a.Consumer,{},void 0,function(t){return y.a.createElement(Wn,E()({},e,{trackClick:t}))})},Un=S.a.div.withConfig({componentId:"wndnar-0"})(["align-items: center;border: 1px solid transparent;border-radius: 4px;color: ",";display: flex;fill: ",";margin-left: 8px;padding: 4px;",""],function(e){return Object(Te.c)(e).linkText},function(e){return Object(Te.c)(e).linkText},function(e){return e.isActive?"border: 1px solid "+Object(Te.c)(e).postIcon+";":""}),Vn=S()(B.a).withConfig({componentId:"wndnar-1"})(["height: 10px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 10px;"]),qn=S()(H).withConfig({componentId:"wndnar-2"})(["","align-items: center;display: flex;"],Ye.actionFont),Yn=S.a.span.withConfig({componentId:"wndnar-3"})(["&:hover {text-decoration: underline;}"]),Jn=Object(w.createStructuredSelector)({language:re.H,permalink:function(e,t){return Object(Pe.m)(e,{commentId:Object(Pe.s)(e,t).parentId})}}),Qn=Object(I.connect)(Jn)(Object(Lt.b)(function(e){var t=e.isActive,n=e.isOverlay,o=e.language,i=e.permalink;return p()(Un,{isActive:t},void 0,p()(qn,{isOverlay:!!n,to:Object(F.b)(i)},void 0,p()(Yn,{},void 0,Object(P.a)(o,"comment.continueThread"))," ",p()(Vn,{})))})),Xn=S.a.div.withConfig({componentId:"s1m7ii1-0"})(["padding: 8px 0px 0px;"]),Zn=S.a.p.withConfig({componentId:"s1m7ii1-1"})(["","border: 1px solid transparent;border-radius: 4px;color: ",";cursor: pointer;height: 24px;margin-left: 4px;padding-left: 4px;"],Ye.actionFont,function(e){return Object(Te.c)(e).linkText}),$n=S()(Zn).withConfig({componentId:"s1m7ii1-2"})(["&:hover {text-decoration: underline;}",""],function(e){return e.isActive?"border: 1px solid "+Object(Te.c)(e).postIcon+";":""}),eo=Object(w.createStructuredSelector)({moreCommentsItem:Pe.A,moreCommentsPending:Pe.B,language:re.H}),to=Object(I.connect)(eo,function(e,t){return{moreCommentsClicked:function(){return e(Object(X.U)(t.commentsPageKey,t.moreCommentsId))}}})(function(e){var t=e.language,n=e.isActive,o=e.moreCommentsClicked,i=e.moreCommentsItem,r=e.moreCommentsPending;return p()(Xn,{},void 0,r?p()(Zn,{},void 0,Object(P.a)(t,"comment.loading")):p()(je.a.Consumer,{},void 0,function(e){return p()($n,{isActive:n,onClick:function(){o(),e("load_more_comment")()}},void 0,Object(P.b)(t,"comment.moreReply",i.numComments,{numComments:i.numComments}))}))}),no=n("./node_modules/lodash/times.js"),oo=n.n(no),io=S()(function(e){return y.a.createElement("div",e,p()("i",{className:"threadline"}))}).withConfig({componentId:"fxv3b9-0"})(["box-sizing: border-box;cursor: pointer;display: inline-block;height: 100%;margin-left: ","px;vertical-align: top;width: ","px;& > ."," {display: block;height: 100%;width: 50%;border-right: 2px solid ",";}&."," > ."," {border-right: 2px solid ",";}"],be.C,be.D,ot.h,function(e){return Object(Te.c)(e).line},ot.f,ot.h,function(e){return Object(Te.c)(e).button}),ro=S.a.div.withConfig({componentId:"fxv3b9-1"})(["bottom: 0;left: 0;position: absolute;top: 0;z-index: ",";"],st.g),so=S.a.div.withConfig({componentId:"fxv3b9-2"})(["box-sizing: border-box;display: inline-block;height: 100%;vertical-align: top;"," {bottom: 0;height: calc(100% - 56px);position: absolute;}"],io),co=function(e){var t=e.collapsed,n=e.depth,o=e.onLineClick,i=e.onLineMouseOver,r=e.onLineMouseOut,s=e.onShortLineClick,d=e.parentNodeIds,c=e.type;return p()(ro,{},void 0,oo()(n+1,function(e){return e===n?c!==nt.b.Comment||t?null:p()(so,{},d[e],p()(io,{className:d[e],onClick:s,onMouseOver:function(){return i(d[e])},onMouseOut:function(){return r(d[e])}})):p()(io,{className:d[e],onClick:o(e),onMouseOver:function(){return i(d[e])},onMouseOut:function(){return r(d[e])}},d[e])}))},ao=S()(Object(Fe.b)()).withConfig({componentId:"s136il31-0"})(["box-sizing: border-box;overflow: visible;padding-left: ","px;position: relative;transition: background 1s;width: 100%;","&:focus{outline: none;}"],function(e){return e.depth*(be.D+be.C)+(e.type===nt.b.Comment?be.D:0)},function(e){return e.isHidden?"display: none;":""}),lo=function(e){var t=document.querySelectorAll("."+e);if(t&&t.length)for(var n=0;n<t.length;n++)t[n].classList.add(ot.f)},mo=function(){var e=document.querySelectorAll("."+ot.f);if(e&&e.length)for(var t=0;t<e.length;t++)e[t].classList.remove(ot.f)},po=Object(I.connect)(function(){return Object(w.createStructuredSelector)({collapsed:function(e,t){var n=t.commentLink,o=t.commentsPageKey;return!(!e.comments.collapsed[o]||!e.comments.collapsed[o][n.id])},commentListNode:function(e,t){return Object(Pe.l)(e,t)},depth:function(e,t){return Object(Pe.j)(e,t)},isActive:function(e,t){var n=t.commentLink;return!!e.shortcuts.activeCommentId&&n.id===e.shortcuts.activeCommentId}})},function(e,t){var n=t.commentLink,o=t.commentsPageKey,i=t.scrollToAndRemeasure;return{onLineClick:function(t){return function(){e(Object(X.J)({commentLink:n,commentsPageKey:o,lineDepth:t,scrollToAndRemeasure:i}))}},onShortLineClick:function(){return e(Object(X.Ia)({commentId:n.id,commentsPageKey:o,scrollToAndRemeasure:i}))}}})(function(e){var t=e.childrenInfo,n=e.className,o=e.collapsed,i=e.commentLink,r=e.commentsPageKey,s=e.depth,d=e.isActive,c=e.isHidden,a=e.onLineClick,l=e.onShortLineClick,m=e.scrollToAndRemeasure,u=e.renderedInOverlay,g=e.parentNodeIds;return p()(ao,{className:n,depth:s,isHidden:c,id:i.id,isActive:d,type:i.type},void 0,p()(co,{collapsed:o,depth:s,onLineClick:a,onLineMouseOver:lo,onLineMouseOut:mo,onShortLineClick:l,type:i.type,parentNodeIds:g}),uo({childrenInfo:t,clearHovered:mo,commentLink:i,commentsPageKey:r,onLineMouseOver:lo,isActive:d,renderedInOverlay:u,scrollToAndRemeasure:m}))}),uo=function(e){var t=e.childrenInfo,n=e.clearHovered,o=e.commentLink,i=e.commentsPageKey,r=e.isActive,s=e.onLineMouseOver,d=e.renderedInOverlay,c=e.scrollToAndRemeasure;switch(o.type){case nt.b.Comment:return p()(Gn,{childrenInfo:t,clearHovered:n,commentId:o.id,commentsPageKey:i,isActive:r,onLineMouseOver:s,renderedInOverlay:d,scrollToAndRemeasure:c});case nt.b.MoreComments:return p()(to,{commentsPageKey:i,isActive:r,moreCommentsId:o.id});case nt.b.ContinueThread:return p()(Qn,{id:o.id,isActive:r})}},go=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),ho=n("./src/app/helpers/describeApiError/index.ts"),fo=n("./src/reddit/actions/page.ts"),bo=n("./src/reddit/components/Media/LoadingIcon/index.tsx"),vo=n("./src/reddit/icons/fonts/Downvote/index.tsx"),xo=n("./src/reddit/icons/fonts/Upvote/index.tsx"),Oo=n("./src/reddit/icons/svgs/SnooFacepalm/index.tsx"),Co=S.a.div.withConfig({componentId:"s1asfct2-0"})(["align-items: center;display: flex;flex-direction: column;justify-content: center;min-height: ","px;"],340),jo="\n  height: 28px;\n  margin-bottom: 20px;\n  width: 28px;\n",yo=S()(function(e){var t=e.className;return p()("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},void 0,p()("path",{d:"M15 4V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h1V6a2 2 0 0 1 2-2z"}),p()("path",{d:"M17 5H6a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h3.36l1.76 1.83a.5.5 0 0 0 .75 0L13.64 16H17a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"}))}).withConfig({componentId:"s1asfct2-1"})(["","fill: ",";"],jo,function(e){return Object(C.e)(Object(Te.c)(e).button,.4)}),Io=S()(Oo.a).withConfig({componentId:"s1asfct2-2"})(["",""],jo),wo=Object(k.css)(["","color: ",";opacity: 0.6;"],Ye.titleFontH3,function(e){return Object(Te.c)(e).metaText}),ko=S.a.p.withConfig({componentId:"s1asfct2-3"})(["","margin-bottom: 12px;text-transform: capitalize;"],wo),So=S.a.p.withConfig({componentId:"s1asfct2-4"})(["","text-align: center;margin: 0 50px 20px;"],wo),To=S.a.p.withConfig({componentId:"s1asfct2-5"})(["","color: ",";opacity: 0.6;"],Ye.titleFontH5,function(e){return Object(Te.c)(e).metaText}),Po=function(e){var t=e.language;return p()(Co,{},void 0,p()(yo,{}),p()(ko,{},void 0,Object(P.a)(t,"comment.noComments")),p()(To,{},void 0,Object(P.a)(t,"comment.empty")))},Mo=function(e){var t=e.language,n=e.link;return p()(Co,{},void 0,p()(yo,{}),p()(ko,{},void 0,Object(P.a)(t,"comment.missingComment")),p()(qe.f,{to:Object(F.b)(n)},void 0,Object(P.a)(t,"comment.viewAllComments")))},Eo=Object(I.connect)(null,function(e,t){var n=t.postId,o=t.commentId,i=t.sort;return{onClick:function(){return e(Object(fo.t)(n,o,{sort:i}))}}})(function(e){var t=e.apiError,n=e.language,o=e.onClick;return p()(Co,{},void 0,p()(Io,{}),p()(So,{},void 0,t?Object(ho.a)({apiError:t,language:n,isLoggedOut:!1}):Object(P.a)(n,"comment.error")),p()(qe.d,{onClick:o},void 0,Object(P.a)(n,"common.retry")))}),No=Object(k.css)(["background-color: ",";border-radius: 4px;height: 500px;margin: 81px auto 60px;max-width: 95%;position: relative;width: 1200px;"],function(e){return Object(Te.c)(e).body}),Lo=function(){return p()("div",{},void 0,"500")},Ro=S()(function(e){var t=e.className;return p()("div",{className:t},void 0,p()(bo.a,{}))}).withConfig({componentId:"s1asfct2-6"})(["",""],No),_o=S.a.div.withConfig({componentId:"s1asfct2-7"})(["margin-top: 20px;"]),Do=S.a.div.withConfig({componentId:"s1asfct2-8"})(["display: flex;margin: 0 20px;& > * {display: flex;flex-direction: column;}"]),Ao=S.a.div.withConfig({componentId:"s1asfct2-9"})(["flex: 0 0 auto;margin-left: -1px;"]),Ho=S.a.div.withConfig({componentId:"s1asfct2-10"})(["flex: 1 1 auto;margin: 5px 6px 0;"]),Fo=Object(k.css)(["font-size: 16px;color: ",";"],function(e){return Object(Te.c)(e).actionIcon}),Bo=S()(xo.a).withConfig({componentId:"s1asfct2-11"})(["",""],Fo),zo=S()(vo.a).withConfig({componentId:"s1asfct2-12"})(["","margin-top: -1px;"],Fo),Ko=S()(Object(Fe.a)()).withConfig({componentId:"s1asfct2-13"})(["","height: 16px;margin-bottom: 8px;width: 176px;background-color: ",";"],Be.b,function(e){return Object(Te.c)(e).placeholder}),Wo=S()(Object(Fe.a)()).withConfig({componentId:"s1asfct2-14"})(["","height: 124px;margin-bottom: 12px;width: 100%;background-color: ",";"],Be.b,function(e){return Object(Te.c)(e).placeholder}),Go=function(e){return p()(_o,{},void 0,oo()(10,function(t){return p()(Do,{},t,p()(Ao,{},void 0,p()(Bo,{}),p()(zo,{})),p()(Ho,{},void 0,p()(Ko,{isLoading:e.isLoading}),p()(Wo,{isLoading:e.isLoading})))}))},Uo=n("./src/reddit/components/Scroller/Simple.tsx"),Vo=n("./src/reddit/constants/screenWidths.ts"),qo=n("./src/reddit/helpers/commentList/index.ts"),Yo=be.i+10,Jo=S()(Uo.b).withConfig({componentId:"s10usnt7-0"})(["padding: 0 15px;@media(min-width: ","px) {padding: 0;}"],Vo.h),Qo=Object(w.createStructuredSelector)({allCollapsed:Pe.a,commentLinks:Pe.k,commentThreadLinkSet:Pe.p,language:re.H,measureScrollFPS:ne.d.measureScrollFPS,moreComments:Pe.b,postPermalink:Ne.x}),Xo=Object(I.connect)(Qo)(function(e){function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getParentNodeIds=function(e){var t=n.props,o=t.commentLinks,i=t.commentThreadLinkSet;if(n.parentNodeIdsMap[e.id])return n.parentNodeIdsMap[e.id];var r=i[e.id].depth;if(0===r)return n.parentNodeIdsMap[e.id]=[e.id],n.parentNodeIdsMap[e.id];var s=o[o.findIndex(function(t){return t.id===e.id})-1],d=n.parentNodeIdsMap[s.id].slice();return n.parentNodeIdsMap[e.id]=d.filter(function(e){return i[e].depth<r}),n.parentNodeIdsMap[e.id].push(e.id),n.parentNodeIdsMap[e.id]},n.getChildrenInfo=function(e){return n.childrenInfoMap[e]||void 0},n.parentNodeIdsMap={},go.c(),n.childrenInfoMap={},n}return l()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentLinks,n=e.allCollapsed,o=e.commentThreadLinkSet,i=e.moreComments;this.timerId&&z.c.cancel(this.timerId),t.length&&(this.timerId=z.c.start()),this.findHiddenNodes(t,n,o,i)}},{key:"componentDidMount",value:function(){this.timerId&&Object(z.b)(W.n.Redesign,{type:"mount",component:"commentsList",duration:z.c.end(this.timerId)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.allCollapsed,n=e.commentsPageKey,o=e.commentLinks,i=e.commentThreadLinkSet,r=e.moreComments;(n!==this.props.commentsPageKey||o.length>this.props.commentLinks.length||!tt()(t,this.props.allCollapsed))&&this.findHiddenNodes(o,t,i,r)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.commentsPageKey,o=t.commentLinks,i=t.allCollapsed;return e.commentsPageKey!==n||e.commentLinks.length>o.length||!tt()(e.allCollapsed,i)||e.commentLinks.some(function(e,t){return e.id!==o[t].id})}},{key:"componentWillUpdate",value:function(e){this.timerId&&z.c.cancel(this.timerId),e.commentLinks.length&&(this.timerId=z.c.start())}},{key:"componentDidUpdate",value:function(e){this.timerId&&Object(z.b)(W.n.Redesign,{type:"mount",component:"commentsList",duration:z.c.end(this.timerId)})}},{key:"componentWillUnmount",value:function(){this.timerId&&z.c.cancel(this.timerId)}},{key:"findHiddenNodes",value:function(e,t,n,o){if(t&&Object.keys(t).length){var i=null,r=1/0,s=0,d=!1;go.c();for(var c=0;c<e.length;c++){var a=e[c];i&&(n[a.id].depth>r?(go.a(a.id),s+=Object(qo.d)(a,o),a.type===nt.b.ContinueThread&&(d=!0)):(this.childrenInfoMap[i]={numChildren:s,hasContinueThread:d},i=null,r=1/0,s=0,d=!1)),!i&&t[a.id]&&(i=a.id,r=n[a.id].depth)}}}},{key:"render",value:function(){return this.props.commentLinks.length?this.renderList():this.renderEmptyState()}},{key:"renderList",value:function(){var e=this,t=void 0;this.props.measureScrollFPS&&(t="comments-"+(this.props.renderedInOverlay?"lightbox":"page"));return p()(Jo,{className:this.props.className,disableScrollCache:this.props.renderedInOverlay,getContainer:function(){return e.props.renderedInOverlay?document.getElementById(ve.c):null},preventScrollOnMount:!0,scrollToChildPadding:Yo,trackingName:t},this.props.commentsPageKey,this.props.commentLinks.map(function(t,n){return{estHeight:go.b(t.id)?0:65,id:t.id,render:function(n){var o=n.placeholderRecommended,i=n.height,r=(n.width,n.scrollToAndRemeasure);return o?p()("div",{style:{height:i,backgroundColor:"#fff"}}):p()(po,{childrenInfo:e.getChildrenInfo(t.id),commentLink:t,commentsPageKey:e.props.commentsPageKey,id:t.id,isHidden:go.b(t.id),scrollToAndRemeasure:r,renderedInOverlay:!!e.props.renderedInOverlay,parentNodeIds:e.getParentNodeIds(t)})}}}))}},{key:"renderEmptyState",value:function(){return this.props.commentId?p()(Mo,{language:this.props.language,link:this.props.postPermalink}):p()(Po,{language:this.props.language})}}]),t}(y.a.Component)),Zo=n("./src/higherOrderComponents/asTooltip.tsx"),$o=n("./src/reddit/controls/Dropdown/index.tsx"),ei=n("./src/reddit/helpers/getOverlayContainerById/index.ts"),ti=n("./src/reddit/icons/svgs/Dropdown/index.tsx"),ni=void 0,oi="CommentSort--SortPicker",ii=Object(Zo.a)($o.a),ri=S.a.div.withConfig({componentId:"s18rx025-0"})(["","color: ",";cursor: pointer;"],Ye.labelsFont,function(e){return Object(Te.c)(e).linkText}),si=S()(_t.c).withConfig({componentId:"s18rx025-1"})(["","background-color: inherit;border: none;display: flex;margin-left: 4px;padding: 0 4px;width: auto;"],Ye.smallButtonFont),di=S()(ti.b).withConfig({componentId:"s18rx025-2"})(["cursor: pointer;fill: ",";margin: 0px;"],function(e){return Object(Te.c)(e).button}),ci=S.a.div.withConfig({componentId:"s18rx025-3"})(["","display: flex;margin-left: auto; /* Right side alignment through flexbox */"],Ye.metadataFont),ai=S()(H).withConfig({componentId:"s18rx025-4"})(["","align-items: center;display: flex;color: ",";fill: ",";"],Ye.actionFont,function(e){return Object(Te.c)(e).button},function(e){return Object(Te.c)(e).button}),li=S.a.span.withConfig({componentId:"s18rx025-5"})(["color: ",";@media (max-width: ","px) {display: none;}"],function(e){return Object(Te.c)(e).bodyText},Vo.e-1),mi=S.a.span.withConfig({componentId:"s18rx025-6"})(["&:hover {text-decoration: underline;}"]),pi=S()(B.a).withConfig({componentId:"s18rx025-7"})(["height: 11px;margin-top: -0.125em; // Taken from https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4\nwidth: 11px;"]),ui=Object(w.createStructuredSelector)({commentPermalink:function(e,t){var n=t.commentId;return n&&Object(Pe.m)(e,{commentId:n})},dropdownIsOpen:Object(Le.b)(oi),highlightIsOpen:Object(Le.b)("CommentSort--highlight-picker"),language:re.H,postPermalink:Ne.x,showCommentHighlighter:function(e,t){var n=t.postId,o=Object(re.n)(e),i=!!Object(Ct.e)(e,{postId:n}),r=Object(Ne.y)(e,{postId:n});return(i||o)&&!!r&&!!r.previousVisits&&r.previousVisits.length>1},selectedHighlightSort:Pe.q}),gi=function(e){return function(e,t){return function(){return ni.props.sendEvent(function(n){return{source:"comment_highlighting",action:t,noun:e}})}}},hi=Object(I.connect)(ui,function(e,t){var n=t.trackClick;return{onOpenDropdown:function(){e(Object(Q.e)({tooltipId:oi})),n("sorting")},onOpenHighlightDropdown:function(t){e(Object(Q.e)({tooltipId:"CommentSort--highlight-picker"})),t()},changeHighlightSort:function(t){return e(Object(X.I)({sort:t}))}}})(Object(Et.b)(function(e){var t=e.sort||W.r.CONFIDENCE,n=Object(ei.a)(e.isOverlay),o=" ("+Object(P.a)(e.language,"sorts.suggested")+")",i=e.suggestedSort&&t===e.suggestedSort?W.t[t]+o:W.t[t];return y.a.createElement("div",{className:e.className,ref:e.elementRef},p()(ri,{onClick:e.onOpenDropdown},void 0,Object(P.a)(e.language,"sorts.titleBy")),p()(si,{onClick:e.onOpenDropdown,displayText:i,id:oi,noHover:!0}),p()(di,{onClick:e.onOpenDropdown}),p()(ii,{container:n,isOpen:e.dropdownIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:oi},void 0,[W.r.CONFIDENCE,W.r.TOP,W.r.NEW,W.r.CONTROVERSIAL,W.r.OLD,W.r.QA].map(function(n){var o=e.commentPermalink?e.commentPermalink:e.postPermalink,i=Object(F.b)(o);return p()(H,{isOverlay:e.isOverlay,onClick:e.trackClick(nt.a[n]),tabIndex:-1,to:i+"?sort="+n},n,p()(_t.c,{displayText:W.t[n],isSelected:t===n}))})),e.showCommentHighlighter&&p()(vi,{changeHighlightSort:e.changeHighlightSort,container:n,highlightIsOpen:e.highlightIsOpen,isOverlay:e.isOverlay,language:e.language,onOpen:function(){return e.onOpenHighlightDropdown(gi(e.sendEvent)("dropdown","click"))},selectedSort:e.selectedHighlightSort,trackHighlight:gi(e.sendEvent)}),e.commentId&&xi(e))})),fi=function(e){return e===Nn.a.First?"First Visit":e===Nn.a.Last?"Last Visit":"None"},bi=S.a.div.withConfig({componentId:"s18rx025-8"})(["align-items: center;display: flex;margin-left: 20px;"]),vi=function(e){function t(){i()(this,t);var e=c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.track=function(){var t=e.props,n=t.trackHighlight,o=t.selectedSort;o!==Nn.a.None&&n(o===Nn.a.Last?"since_last_visit":"since_first_visit","view")},e}return l()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.track()}},{key:"componentWillUpdate",value:function(e){e.selectedSort!==this.props.selectedSort&&this.track()}},{key:"render",value:function(){var e=this.props;return p()(bi,{},void 0,p()(ri,{onClick:e.onOpen},void 0,Object(P.a)(e.language,"sorts.commentVisitHighlight")),p()(si,{onClick:e.onOpen,displayText:fi(e.selectedSort),id:"CommentSort--highlight-picker"}),p()(di,{onClick:e.onOpen}),p()(ii,{container:e.container,isOpen:e.highlightIsOpen,renderContentsHidden:!0,isOverlay:e.isOverlay,tooltipId:"CommentSort--highlight-picker"},void 0,p()("span",{onClick:function(){e.trackHighlight("since_first_visit","click"),e.changeHighlightSort(Nn.a.First)}},void 0,p()(_t.c,{displayText:fi(Nn.a.First),isSelected:e.selectedSort===Nn.a.First})),p()("span",{onClick:function(){e.trackHighlight("since_last_visit","click"),e.changeHighlightSort(Nn.a.Last)}},void 0,p()(_t.c,{displayText:fi(Nn.a.Last),isSelected:e.selectedSort===Nn.a.Last})),p()("span",{onClick:function(){e.trackHighlight("do_not_highlight","click"),e.changeHighlightSort(Nn.a.None)}},void 0,p()(_t.c,{displayText:fi(Nn.a.None),isSelected:e.selectedSort===Nn.a.None}))))}}]),t}(y.a.Component),xi=function(e){return p()(ci,{},void 0,p()(li,{},void 0,Object(P.a)(e.language,"comment.singleComment.shortMessage")," "),p()(ai,{isOverlay:e.isOverlay,to:Object(F.b)(e.postPermalink)},void 0,p()(mi,{},void 0,Object(P.a)(e.language,"comment.viewAllComments"))," ",p()(pi,{})))},Oi=S()(hi).withConfig({componentId:"s18rx025-9"})(["align-items: center;background: ",";border-bottom: 1px solid ",";display: flex;justify-content: flex-start;margin: 16px 40px 0;padding: 0 16px 4px 0;"],function(e){return Object(Te.c)(e).body},function(e){return Object(Te.c)(e).line}),Ci=n("./src/lib/objectSelector/index.ts"),ji=n("./src/reddit/components/Governance/CommunityCard/index.tsx"),yi=n("./src/reddit/components/IdCard/index.tsx"),Ii=n("./src/reddit/components/ProfileIdCard/index.tsx"),wi=n("./src/reddit/components/SidebarAd/index.tsx"),ki=n("./src/reddit/components/SidebarFooter/index.tsx"),Si=n("./src/reddit/components/SidebarSpacer/index.tsx"),Ti=n("./src/reddit/components/SidebarStickyBottom/index.tsx"),Pi=n("./src/reddit/components/Widgets/Widget/index.tsx"),Mi=n("./src/reddit/featureFlags/component.tsx"),Ei=n("./src/reddit/helpers/createBannerProperties/index.ts"),Ni=[W.f,W.g],Li=Object(Mi.a)("governance",ji.a),Ri=S.a.div.withConfig({componentId:"s1j19zvq-0"})(["","margin-top: 16px;"],ji.b),_i=S.a.div.withConfig({componentId:"s1j19zvq-1"})(["display: flex;flex-direction: column;height: 100%;top: 0;width: ","px;"],be.z),Di=Object(w.createStructuredSelector)({language:re.H,widgets:Object(Ci.a)(ie.l)}),Ai=Object(I.connect)(Di)(function(e){function t(){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l()(t,e),s()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.subredditName!==e.subredditName||!tt()(this.props.widgets,e.widgets)}},{key:"renderFooter",value:function(e){var t=this.props,n=t.isOverlay,o=t.subredditName,i=t.post;return n?p()(y.a.Fragment,{},void 0,p()(wi.a,{isOverlay:n,isPostNSFW:i.isNSFW,listingName:o,placement:W.d.BELOW_THE_FOLD,placementIndex:e,position:Ei.a.BOTTOM,refreshKey:i.id,sizes:Ni}),p()(ki.a,{})):p()(Ti.f,{listingName:o,things:[i],placementIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.commentsPageKey,o=e.isOverlay,i=e.post,r=e.subredditId,s=e.subredditName,d=e.widgets,c=0;return p()(_i,{className:t},void 0,"profile"===i.belongsTo.type?p()(Ii.a,{profileName:s,isOverlay:o||!1}):p()(yi.b,{commentsPageKey:n,isCommentsPage:!0,isOverlay:o,listingName:s,postId:i.id,rememberPosition:i.numComments>0}),p()(Ri,{},void 0,p()(Li,{subredditId:r,uniqueId:i.id})),p()(wi.a,{isOverlay:o,isPostNSFW:i.isNSFW,listingName:s,placement:W.d.ABOVE_THE_FOLD,placementIndex:c++,position:Ei.a.FIRST,refreshKey:i.id,sizes:Ni}),d.map(function(e,t){return p()(Si.a,{},"widgetSpacer"+t,p()(Pi.a,{subredditName:s,widget:e}))}),this.renderFooter(c++))}}]),t}(y.a.Component)),Hi=Object(k.css)(["","color: ",";"],Ye.metadataFont,function(e){return Object(Te.c)(e).bodyText}),Fi=S.a.div.withConfig({componentId:"s15t8fxx-0"})(["display: inline-block;margin: 12px 8px 8px 16px;"]),Bi=S()(Object(Fe.a)()).withConfig({componentId:"s15t8fxx-1"})(["background-color: ",";display: inline-block;width: 8px;position: absolute;top: 0;bottom: 0;"],function(e){return e.color}),zi=S.a.div.withConfig({componentId:"s15t8fxx-2"})(["",""],Hi),Ki=S.a.div.withConfig({componentId:"s15t8fxx-3"})(["display: inline-block;margin: 8px 0 8px;"]),Wi=S.a.div.withConfig({componentId:"s15t8fxx-4"})(["","font-weight: bold;"],Hi),Gi=S()(Object(Fe.a)()).withConfig({componentId:"s15t8fxx-5"})(["background-color: ",";border: 1px solid ",";border-radius: 4px;margin: 16px;position: relative;display: flex;"],function(e){return Object(Te.c)(e).body},function(e){return e.color}),Ui=function(e){var t=e.className,n=e.color,o=e.renderIcon,i=e.subtitle,r=e.title;return p()(Gi,{className:t,color:n},void 0,p()(Bi,{color:n}),o&&p()(Fi,{},void 0,o()),p()(Ki,{},void 0,p()(Wi,{},void 0,r),i&&p()(zi,{},void 0,i)))},Vi=n("./src/reddit/components/HeaderImage/index.tsx"),qi=n("./src/reddit/components/PostContent/index.tsx"),Yi=n("./src/reddit/components/PostTopMeta/index.tsx"),Ji=n("./src/reddit/components/SubredditNav/index.tsx"),Qi=n("./src/reddit/helpers/history/index.ts"),Xi=n("./src/reddit/helpers/trackers/screenview.ts"),Zi=S.a.div.withConfig({componentId:"s1qr0gd6-0"})(["box-sizing: border-box;display: flex;justify-content: center;margin: ","px auto 0;max-width: ","px;overflow-y: hidden;padding-bottom: 32px;position: relative;width: calc(100% - ","px);&:focus {outline: none;}"],be.i,be.m,2*be.k),$i=S.a.div.withConfig({componentId:"s1qr0gd6-1"})(["background: ",";flex: 1;margin: ","px;margin-right: ","px;max-width: 100%;min-height: 100vh;min-width: 0;padding-bottom: 1px;width: 100%;word-break: break-word;","@media(min-width: ","px) {max-width: 890px;}"],function(e){return Object(Te.c)(e).body},be.o,be.n,"",Vo.f),er=S.a.div.withConfig({componentId:"s1qr0gd6-2"})(["display: none;margin: ","px;margin-left: 0;padding: 0;right: 0;top: 0;width: ","px;@media(min-width: ","px) {display: block;}"],be.o,be.z,Vo.f),tr=function(e){return p()(Zi,{tabIndex:-1},void 0,p()($i,{redditStyle:!0},void 0,e.content),p()(er,{},void 0,e.sidebar))},nr=n("./src/reddit/layout/page/Listing/index.tsx"),or=S.a.span.withConfig({componentId:"s2ad8i3-0"})(["&:hover {text-decoration: underline;}"]),ir=S()(B.a).withConfig({componentId:"s2ad8i3-1"})(["height: 11px;margin-top: -0.125em;width: 11px;transform: scaleX(-1);"]),rr=S.a.div.withConfig({componentId:"s2ad8i3-2"})(["padding: 8px;"]),sr=S()(H).withConfig({componentId:"s2ad8i3-3"})(["color: ",";fill: ",";font-size: 11px;font-weight: 500;line-height: 16px;"],function(e){return Object(Te.c)(e).linkText},function(e){return Object(Te.c)(e).linkText}),dr=80,cr=S()(ye.a).withConfig({componentId:"s2ad8i3-4"})(["color: ",";height: 24px;margin: 0 -4px 0 4px;vertical-align: sub;width: 24px;"],fe.a.locked),ar=S()(function(e){return p()("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},void 0,p()("path",{d:"M16,9H15V7A5,5,0,0,0,5,7V9H4a1,1,0,0,0-1,1v7a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V10A1,1,0,0,0,16,9ZM7,7a3,3,0,0,1,6,0V9H7Z"}))}).withConfig({componentId:"s2ad8i3-5"})(["fill: ",";height: 24px;width: 24px;"],fe.a.locked),lr=Object(I.connect)(function(){return Object(w.createStructuredSelector)({apiError:Pe.c,apiPending:Pe.d,canCommentAsModerator:function(e,t){var n=t.postId,o=Object(Ne.J)(e,{postId:n});return!!(o&&o.id&&e.moderatingSubreddits[o.id])},comment:Pe.n,contentGateInfo:function(e,t){var n=t.subredditName;return Object(re.e)(e,n)},currentUserShowNSFW:re.L,fullyLoaded:Pe.u,headComment:Pe.x,isLoggedIn:re.B,isTooltipOpen:function(e,t){return!!Object(Le.a)(e)},language:re.H,origin:Me.c,post:Pe.D,subredditOrProfile:Ne.J,userHovercardIsOpen:function(e,t){return Object(Le.b)(Object(_e.b)({itemId:t.postId,tooltipType:Yi.c.StickyPost}))(e)},userPrefs:re.Y,showAccountCompletenessInFeed:Ee.e})},function(e,t){return{setCommentFocus:function(t){return e(X.K({commentListNodeId:t}))},dispatchUnpause:function(){return e($.N({postId:t.postId}))},onHideTooltip:function(){return e(Object(Q.f)())},onToggleTooltip:function(t){return e(Object(Q.e)({tooltipId:t}))},openLoginModal:function(){return e(Object(Z.a)())},openRegisterModal:function(){return e(Object(Z.b)())}}}),mr=function(e){function t(e){i()(this,t);var n=c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.didRenderLoading=!1,n.needsUpdatedMeasurements=!0,n.scrollY=null,n.recheckScrollTimer=-1,n.postPaused=!0,n.setPostScrollItemRef=function(e){n.postScrollItemRef=e,setTimeout(n.handleScroll)},n.handleScroll=O()(function(){if(n.scrollContainerEl){n.needsUpdatedMeasurements&&n.updateMeasurements();var e=n.didScrollPastPost,t=n.scrollContainerEl,o=n.scrollPostThreshold,i=n.props,r=i.userHovercardIsOpen,s=i.isOverlay,d=i.isTooltipOpen,c=i.onHideTooltip,a=i.onToggleTooltip,l=i.post,m=i.postId;clearTimeout(n.recheckScrollTimer),n.recheckScrollTimer=-1;var p=t===window?t.scrollY:t?t.scrollTop:0,u=null!==n.scrollY&&Math.abs(p-n.scrollY)>dr,g=l&&l.media&&l.media.type===we.l.EMBED?l.media.provider:null,h=l&&l.media&&we.c.has(l.media.type)&&(!g||!we.o.has(g));n.scrollY=p,!e&&void 0!==o&&p>=o&&(n.didScrollPastPost=!0),e&&void 0!==o&&p<o&&(n.didScrollPastPost=!1,r&&V.a.write(function(){a(Object(_e.b)({itemId:m,tooltipType:Yi.c.StickyPost}))})),h&&n.postScrollItemRef&&(n.postPaused||!u&&!n.didScrollPastPost?n.postPaused&&!n.didScrollPastPost&&(u?n.recheckScrollTimer=setTimeout(n.handleScroll,4*W.E):(n.postPaused=!1,V.a.write(n.postScrollItemRef.focusContent))):(n.postPaused=!0,V.a.write(n.postScrollItemRef.pauseContent))),s&&d&&c()}},W.E),n.sendEventWithName=function(e){return function(){return n.props.sendEvent(Object(xt.b)(n.props.postId,e))}},n.updateWindowHeight=function(){n.needsUpdatedMeasurements=!0,n.handleScroll()},n.updateCommentSortRef=function(e){n.commentSortRef=e,n.needsUpdatedMeasurements=!0},n.updateCommentFormRef=function(e){n.commentFormRef=e,n.needsUpdatedMeasurements=!0},n.didScrollPastPost=e.shouldScrollToComments&&!!e.post&&!!e.post.numComments,n}return l()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.commentId,n=e.setCommentFocus;t&&n(t)}},{key:"componentDidMount",value:function(){var e=this,t=this.commentFormRef,n=this.commentSortRef,o=this.props,i=o.isLoggedIn,r=o.isOverlay,s=o.post,d=o.shouldScrollToComments;r?(this.scrollContainerEl=document.getElementById(ve.c),d&&(t||n)&&s&&s.numComments&&this.scrollToComments(),V.a.write(function(){e.scrollContainerEl&&e.scrollContainerEl.focus()})):this.scrollContainerEl=window,this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),V.a.read(function(){e.props.isOverlay||Object(J.c)(J.b.CommentsPage,i)})}},{key:"componentWillReceiveProps",value:function(e){e.postId!==this.props.postId&&(this.didRenderLoading=!1),e.commentId&&e.commentId!==this.props.commentId&&this.props.setCommentFocus(e.commentId)}},{key:"componentWillUpdate",value:function(e){this.removeListeners()}},{key:"componentDidUpdate",value:function(e){var t=this;this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),e.postId!==this.props.postId&&(this.props.post&&this.props.post.numComments?V.a.read(this.handleScroll):V.a.write(function(){Object(G.c)(t.scrollContainerEl,0),V.a.read(t.handleScroll)}),this.props.isOverlay&&V.a.write(function(){t.scrollContainerEl&&t.scrollContainerEl.focus()}))}},{key:"componentWillUnmount",value:function(){this.removeListeners(),this.needsUpdatedMeasurements=!1,this.scrollContainerEl=void 0}},{key:"updateMeasurements",value:function(){this.needsUpdatedMeasurements=!1,this.windowHeight=window.innerHeight,this.commentFormRef?this.scrollPostThreshold=this.commentFormRef.offsetTop:this.commentSortRef?this.scrollPostThreshold=this.commentSortRef.offsetTop:this.scrollPostThreshold=200}},{key:"addListeners",value:function(){this.props.isOverlay&&window.addEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.addEventListener("scroll",this.handleScroll)}},{key:"removeListeners",value:function(){this.props.isOverlay&&window.removeEventListener("resize",this.updateWindowHeight),this.scrollContainerEl&&this.scrollContainerEl.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToComments",value:function(){var e=this;V.a.read(function(){var t=document.getElementById(ve.c);if(t){var n=void 0,o=void 0;e.commentFormRef?(n=e.commentFormRef.offsetTop-80,o=e.commentFormRef.offsetParent):e.commentSortRef?(n=e.commentSortRef.offsetTop-80,o=e.commentSortRef.offsetParent):n=0,o&&(n+=o.offsetTop),V.a.write(function(){Object(G.c)(t,n),e.needsUpdatedMeasurements=!0,setTimeout(function(){return V.a.read(e.handleScroll)})})}})}},{key:"shouldSendScreenview",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.commentsPageKey;return z.c.has(o)&&(t||!n||this.listLongEnoughForScreenView())}},{key:"listLongEnoughForScreenView",value:function(){return!!this.commentSortRef&&this.commentSortRef.getBoundingClientRect().bottom>window.innerHeight}},{key:"checkAndSendScreenview",value:function(){var e=this;V.a.read(function(){var t=e.props,n=t.commentId,o=t.commentsPageKey,i=t.postId,r=t.sendEvent;if(e.shouldSendScreenview()){var s=z.c.end(o);r(Object(Xi.b)(o,i,n,K.TimerType.InApp,s))}})}},{key:"isCommentPermalink",value:function(){return void 0!==this.props.commentId}},{key:"render",value:function(){var e=this.props,t=e.apiPending,n=e.closeLocation,o=e.commentsPageKey,i=e.contentGateInfo,r=e.currentUserShowNSFW,s=e.isOverlay,d=e.post,c=e.postId,a=e.subredditOrProfile,l=e.subredditName,m=e.showAccountCompletenessInFeed,u=this.isCommentPermalink();if(!d)return t?p()(Ro,{}):p()(Lo,{});var g=void 0,h=void 0,f=void 0;return i?i.privateSubreddit?(g=ue.a.PrivateSubreddit,f=i.subredditDescription):i.goldSubreddit?g=ue.a.GoldSubreddit:i.subredditBanned&&(g=ue.a.SubredditBanned,h=i.subredditBanMessage):d.isNSFW&&!r&&(g=ue.a.Nsfw),g&&l?p()(ue.b,{banMessage:h,subredditDescription:f,subredditName:l,contentGateType:g}):p()(br,{closeLocation:n,commentsPageKey:o,isOverlay:s,post:d,subredditOrProfile:a},void 0,p()("div",{},"PostContentWrapper",m?p()(Re.a,{}):p()(ge.a,{isOverlay:s,location:Ce.h.CommentsPage}),p()(ur,{isCommentPermalink:u,isExclusivePost:!0,isOverlay:s,postId:c,redditStyle:s,scrollerItemRef:this.setPostScrollItemRef}),p()(pe,{listingName:l||"",isOverlay:s,placement:W.d.ABOVE_THE_FOLD,isPostNSFW:d.isNSFW})),this.renderCommentPanes())}},{key:"renderCommentPanes",value:function(){var e=this.props,t=e.apiError,n=e.apiPending,o=e.canCommentAsModerator,i=e.commentId,r=e.commentsPageKey,s=e.fullyLoaded,d=e.headComment,c=e.isLoggedIn,a=e.isOverlay,l=e.language,m=e.location,u=e.openLoginModal,g=e.openRegisterModal,h=e.origin,f=e.post,b=e.postId,v=e.sort,x=e.subredditName,O=e.userPrefs;if(!f)return null;var C=this.isCommentPermalink(),j=[],y=f.isLocked&&!o,I=!C&&!f.isArchived,w=x?"comment.threadLocked.title":"comment.threadLocked.simpleTitle",k=W.s;if(v?k=v:f.suggestedSort?k=f.suggestedSort:O&&O.defaultCommentSort&&(k=O.defaultCommentSort),y)j.push(p()(Ui,{color:fe.a.locked,renderIcon:function(){return p()(ar,{})},subtitle:Object(P.a)(l,"comment.threadLocked.subtitle"),title:Object(P.a)(l,w,{subredditName:x})},"commentThreadBanner"));else if(f.isArchived)j.push(p()(Ui,{color:fe.a.locked,renderIcon:function(){return p()(cr,{})},subtitle:Object(P.a)(l,"comment.threadArchived.subtitle"),title:Object(P.a)(l,"comment.threadArchived.title")},"commentThreadBanner"));else if(I)if(c){var S=Object(Y.a)(T.a.replyToPost,b);j.push(p()(Ge,{autofocus:!1,isTopLevelComment:!0,depth:0,draftKey:S,draftType:T.a.replyToPost,editorElementRef:this.updateCommentFormRef,parentCommentId:"replyToPost",submitAction:function(e,t){return X.Ga(l,b,r,S,e,t)},submitButtonText:Object(P.a)(l,"comment.comment")},"form"+S))}else j.push(p()($e,{language:l,location:m,openLoginModal:u,openRegisterModal:g,origin:h},"loggedOutCommentForm"));return j.push(p()(Oi,{commentId:i,elementRef:this.updateCommentSortRef,isOverlay:a,postId:b,sort:k,suggestedSort:f.suggestedSort,trackClick:this.sendEventWithName},"commentSort")),n?(this.didRenderLoading=!0,j.push(p()(Go,{isLoading:n},"commentsPlaceholder"))):t&&!d?j.push(p()(Eo,{language:l,postId:b,commentId:i,sort:k,apiError:t})):(j.push(p()(gr,{redditStyle:!0,renderedInOverlay:a},"commentsWrapper",C&&d&&null!==d.parentId&&p()(rr,{},void 0,p()(sr,{isOverlay:a,to:Object(F.b)(d.permalink+"?context=8&depth=9")},void 0,p()(ir,{})," ",p()(or,{},void 0,Object(P.a)(l,"comment.showParentComments")))),p()(Xo,{postId:b,commentId:i,commentsPageKey:r,renderedInOverlay:a}))),t&&d?j.push(p()(Eo,{language:l,postId:b,commentId:i,sort:k,apiError:t},"commentsErrorState")):s||j.push(p()(Go,{isLoading:!0},"commentsPlaceholder"))),p()(je.a.Provider,{value:this.sendEventWithName},void 0,j)}}]),t}(y.a.Component),pr=lr(Object(Et.b)(mr)),ur=S()(qi.a).withConfig({componentId:"s2ad8i3-6"})(["",""],function(e){return e.isOverlay?"background: "+Object(Te.c)(e).body+";":"background: "+Object(Se.g)(Object(Te.c)(e).body,Object(Te.c)(e).backgroundImage,Object(Te.c)(e).backgroundImagePosition)+";\n      border-radius: 4px 4px 0 0;"}),gr=S.a.div.withConfig({componentId:"s2ad8i3-7"})(["/* TODO: remove once issue around transparent comments backgroundis fixed */box-sizing: border-box;padding-right: 16px;margin: 16px;margin-bottom: 0px;margin-left: 10px;padding-bottom: 16px;// set overlay background to 80% opacity\n",""],function(e){return e.renderedInOverlay?"background: "+Object(C.j)(.2,Object(Te.c)(e).body)+";":"background: "+Object(Te.c)(e).body+";"}),hr=S.a.div.withConfig({componentId:"s2ad8i3-8"})(["background: ",";border: 1px solid ",";border-radius: 4px;word-break: break-word;"],function(e){return Object(Te.c)(e).body},function(e){return Object(Te.c)(e).line}),fr=S()(Ai).withConfig({componentId:"s2ad8i3-9"})(["margin-top: 1px;max-height: initial;position: relative;"]),br=function(e){var t=e.children,n=e.commentsPageKey,o=e.isOverlay,i=e.post,r=e.subredditOrProfile;return o?p()(tr,{content:t,sidebar:r&&p()(Ai,{commentsPageKey:n,isOverlay:!0,post:i,subredditName:r.name,subredditId:r.id})}):p()(he.a,{subredditId:r?r.id:void 0},void 0,p()(nr.d,{maxWidth:be.m,content:p()(hr,{redditStyle:!0},void 0,t),disableFullscreen:!0,navBar:r&&y.a.Children.toArray([p()(Vi.a,{disableFullscreen:!0,headerText:r.name,maxWidth:be.m,prefixedHeaderText:r.displayText,subredditOrProfile:r,url:r.url}),"user"!==r.type&&p()(Ji.a,{disableFullscreen:!0,homeUrl:r.url,maxWidth:be.m,subredditId:r.id})]),sidebar:r&&p()(fr,{commentsPageKey:n,post:i,subredditName:r.name,subredditId:r.id})}))};t.default=function(e){var t=e.location.state,n=v()(t,xe.a.IsOverlay,!1),o=v()(t,xe.a.CloseLocation,null),i=v()(t,xe.a.ScrollOnLoad,!1);i&&Object(Qi.c)(xe.a.ScrollOnLoad);var r=e.match.params,s=r.partialCommentId,d=r.partialPostId,c=r.subredditName,a=Object(ke.b)(d),l=s&&Object(Ie.b)(s),m=e.location.search,u=f()([].concat(g()(Object(U.a)(m)))),h=Oe.l in u?u[Oe.l]:"",b=W.Nb.has(h)?h:void 0,x=u.instanceId,O={};b&&(O.sort=b,O.hasSortParam=!0),u.context&&(O.context=parseInt(u.context,10)),u.depth&&(O.depth=parseInt(u.depth,10));var C=Object(q.a)(a,l,O),j=e.location;return p()(pr,{location:j,closeLocation:o,commentId:l,commentsPageKey:C,isOverlay:n,postId:a,instanceId:x,shouldScrollToComments:i,sort:b,subredditName:c})}}}]);
//# sourceMappingURL=CommentsPage.c82fd720269f97e1c7b7.js.map

}
/*
     FILE ARCHIVED ON 00:05:00 Oct 01, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:44:27 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.109
  exclusion.robots.policy: 0.091
  cdx.remote: 0.151
  esindex: 0.015
  LoadShardBlock: 507.32 (6)
  PetaboxLoader3.datanode: 338.521 (8)
  PetaboxLoader3.resolve: 262.9 (4)
  load_resource: 333.818 (2)
*/