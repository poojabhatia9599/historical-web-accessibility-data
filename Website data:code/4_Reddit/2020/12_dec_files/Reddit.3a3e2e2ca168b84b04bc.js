var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["Reddit"],{"./assets/fonts/BentonSans/font.less":function(e,t,n){},"./assets/fonts/VCR/font.less":function(e,t,n){},"./node_modules/@r/google-tag-manager/compiled.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.trigger=t.getLocation=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n("./node_modules/@r/google-tag-manager/node_modules/uuid/index.js"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./node_modules/@r/frames/compiled.js"));var a="gtm-"+(0,o.v4)(),i=!1,c=[],d=function(){var e=document.getElementById(a);return e&&e.contentWindow?e:null},l=t.getLocation=function(){return{href:location.href,hostname:location.hostname,origin:location.origin,pathname:location.pathname||"/",search:location.search.replace(/^\?/,""),hash:location.hash.replace(/^#/,"")}},u=t.trigger=function(e,t){var n=d();n&&i?(t&&r.postMessage(n.contentWindow,"data.gtm",t),r.postMessage(n.contentWindow,"event.gtm",{event:e})):function(e,t){c.push({eventName:e,payload:t})}(e,t)},m=function(){if(d()&&i){var e=c.slice();c=[],e.forEach((function(e){var t=e.eventName,n=e.payload;return u(t,n)}))}};t.setup=function(e){var t=e.containerId,n=e.jailUrl,o=e.payload;if(t)if(n){r.listen("gtm"),r.receiveMessageOnce("loaded.gtm",(function(){i=!0,r.stopListening("gtm")}));var c=document.createElement("iframe");c.style.display="none",c.id=a,c.name=JSON.stringify(s({referrer:document.referrer},l(),o)),c.src=n+"?id="+t,c.onload=m,document.body.appendChild(c)}else console.warn("GTM#setup: No `jailUrl` specified, skipping.");else console.warn("GTM#setup: No `containerId` specified, skipping.")}},"./node_modules/@r/google-tag-manager/node_modules/uuid/index.js":function(e,t,n){var s=n("./node_modules/@r/google-tag-manager/node_modules/uuid/v1.js"),o=n("./node_modules/@r/google-tag-manager/node_modules/uuid/v4.js"),r=o;r.v1=s,r.v4=o,e.exports=r},"./node_modules/@r/google-tag-manager/node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],s=0;s<256;++s)n[s]=(s+256).toString(16).substr(1);e.exports=function(e,t){var s=t||0,o=n;return o[e[s++]]+o[e[s++]]+o[e[s++]]+o[e[s++]]+"-"+o[e[s++]]+o[e[s++]]+"-"+o[e[s++]]+o[e[s++]]+"-"+o[e[s++]]+o[e[s++]]+"-"+o[e[s++]]+o[e[s++]]+o[e[s++]]+o[e[s++]]+o[e[s++]]+o[e[s++]]}},"./node_modules/@r/google-tag-manager/node_modules/uuid/lib/rng-browser.js":function(e,t,n){(function(t){var n,s=t.crypto||t.msCrypto;if(s&&s.getRandomValues){var o=new Uint8Array(16);n=function(){return s.getRandomValues(o),o}}if(!n){var r=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}e.exports=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@r/google-tag-manager/node_modules/uuid/v1.js":function(e,t,n){var s=n("./node_modules/@r/google-tag-manager/node_modules/uuid/lib/rng-browser.js"),o=n("./node_modules/@r/google-tag-manager/node_modules/uuid/lib/bytesToUuid.js"),r=s(),a=[1|r[0],r[1],r[2],r[3],r[4],r[5]],i=16383&(r[6]<<8|r[7]),c=0,d=0;e.exports=function(e,t,n){var s=t&&n||0,r=t||[],l=void 0!==(e=e||{}).clockseq?e.clockseq:i,u=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:d+1,p=u-c+(m-d)/1e4;if(p<0&&void 0===e.clockseq&&(l=l+1&16383),(p<0||u>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=u,d=m,i=l;var b=(1e4*(268435455&(u+=122192928e5))+m)%4294967296;r[s++]=b>>>24&255,r[s++]=b>>>16&255,r[s++]=b>>>8&255,r[s++]=255&b;var h=u/4294967296*1e4&268435455;r[s++]=h>>>8&255,r[s++]=255&h,r[s++]=h>>>24&15|16,r[s++]=h>>>16&255,r[s++]=l>>>8|128,r[s++]=255&l;for(var g=e.node||a,f=0;f<6;++f)r[s+f]=g[f];return t||o(r)}},"./node_modules/@r/google-tag-manager/node_modules/uuid/v4.js":function(e,t,n){var s=n("./node_modules/@r/google-tag-manager/node_modules/uuid/lib/rng-browser.js"),o=n("./node_modules/@r/google-tag-manager/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var i=0;i<16;++i)t[r+i]=a[i];return t||o(a)}},"./node_modules/brcast/dist/brcast.es.js":function(e,t,n){"use strict";t.a=function(e){var t={},n=1,s=e;return{getState:function(){return s},setState:function(e){s=e;for(var n=Object.keys(t),o=0,r=n.length;o<r;o++)t[n[o]]&&t[n[o]](e)},subscribe:function(e){if("function"!=typeof e)throw new Error("listener must be a function.");var s=n;return t[s]=e,n+=1,s},unsubscribe:function(e){t[e]=void 0}}}},"./node_modules/react-router-dom/esm/react-router-dom.js":function(e,t,n){"use strict";function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return u}));var o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./node_modules/react-router/esm/react-router.js"),i=n("./node_modules/history/esm/history.js");n("./node_modules/react-router-dom/node_modules/prop-types/index.js");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,s,o={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}var l=n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js");r.a.Component;r.a.Component;var u=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.handleClick=function(e,t){try{this.props.onClick&&this.props.onClick(e)}catch(n){throw e.preventDefault(),n}e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,s=(t.replace,t.to),o=d(t,["innerRef","replace","to"]);return r.a.createElement(a.g.Consumer,null,(function(t){t||Object(l.default)(!1);var a="string"==typeof s?Object(i.c)(s,null,null,t.location):s,d=a?t.history.createHref(a):"";return r.a.createElement("a",c({},o,{onClick:function(n){return e.handleClick(n,t.history)},href:d,ref:n}))}))},t}(r.a.Component)},"./node_modules/react-router-dom/node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var s=n("./node_modules/react-router-dom/node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,a){if(a!==s){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},"./node_modules/react-router-dom/node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/react-router-dom/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-router-dom/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/chat/helpers/dom.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const s=e=>t=>{if(t.preventDefault(),e&&"function"==typeof e)return e(t)},o=e=>t=>{if(t.preventDefault(),t.stopPropagation(),e&&"function"==typeof e)return e(t)}},"./src/graphql/operations/GetNearbySubreddits.json":function(e){e.exports=JSON.parse('{"id":"26ddd553d11e"}')},"./src/graphql/operations/TopSubreddits.json":function(e){e.exports=JSON.parse('{"id":"bc611d08f6ef"}')},"./src/lib/browser/isIncognito.ts":function(e,t,n){"use strict";var s=n("./src/lib/constants/index.ts");const o=120*s.bb;t.a=async()=>{let e=await(async()=>await new Promise(e=>{const t=window.RequestFileSystem||window.webkitRequestFileSystem;t?t(0,100,()=>e(!1),()=>e(!0)):e(void 0)}))();return e||(e=await(async()=>{if("storage"in navigator&&"estimate"in navigator.storage){const{quota:e}=await navigator.storage.estimate();return!e||e<=o}})()),e}},"./src/lib/doubleclickForPublishers/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return h}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),r=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/fastdom/index.ts");const i=new Map,c=(e,t)=>{const n=[s.a.dfpSlotPrefix];return t!==o.Fb.PROFILE&&(Object(r.a)(e)?n.push("frontpage"):n.push("r.".concat(e))),t===o.Fb.INDEX?n.push(o.Fb.LISTING):t&&n.push(t),n.join("/")},d=(e,t)=>{e.setTargeting("keywords",t.keywords);for(const n in t.properties)e.setTargeting(n,t.properties[n])},l=(e,t)=>{p(e);const{id:n,slot:s,sizes:o}=t,r=window.googletag=window.googletag||{};return r.cmd=r.cmd||[],new Promise(c=>{r.cmd.push(()=>{a.a.write(()=>{const a=r.defineSlot(s,o,n);if(!a)return c();a.addService(r.pubads()),i.set(e,a),a.setCollapseEmptyDiv(!0),d(a,t),r.display(n),c()})})})},u=(e,t)=>{const n=i.get(e);if(!n)return;const s=window.googletag=window.googletag||{};s.cmd=s.cmd||[],s.cmd.push(()=>{Object.keys(t).forEach(e=>n.setTargeting(e,t[e]))})},m=(e,t)=>{const n=i.get(e);if(!n)return;d(n,t);const s=window.googletag=window.googletag||{};s.cmd=s.cmd||[],window.aax&&window.aax.cmd.push(()=>{window.aax.getAbpStatus&&window.aax.getAbpStatus()&&s.cmd.push(()=>{s.pubads().refresh([n])})}),window.apstag.fetchBids({slots:[{slotID:t.id,slotName:[t.slot,t.id].join("/"),sizes:t.sizes}],timeout:2e3},()=>{s.cmd.push(()=>{window.apstag.setDisplayBids(),s.pubads().refresh([n])})})},p=e=>{const t=i.get(e);if(!t)return;const n=window.googletag=window.googletag||{};n.cmd=n.cmd||[],n.cmd.push(()=>{a.a.write(()=>{n.destroySlots([t]),i.delete(e)})})},b=e=>{const t=()=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=document.getElementsByTagName("script")[0];n&&n.parentNode&&n.parentNode.insertBefore(t,n)};if(document.head&&(()=>{const{relList:e}=document.createElement("link");if(!e||!e.supports)return!1;try{return e.supports("preload")}catch(t){return!1}})()){const n=document.createElement("link");n.href=e,n.rel="preload",n.as="script",n.onload=t,document.head.insertBefore(n,document.head.firstChild)}else t()},h=e=>{const t=window.googletag=window.googletag||{};t.cmd=t.cmd||[],b("//web.archive.org/web/20201201014008/https://www.googletagservices.com/tag/js/gpt.js"),t.cmd.push(()=>{t.pubads().addEventListener("slotRequested",e.onRequest),t.pubads().addEventListener("impressionViewable",t=>e.onAdView(t,!1)),t.pubads().disableInitialLoad(),t.enableServices()}),window.apstag||(window.apstag={_Q:[]},window.apstag.init=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.apstag._Q.push(["i",t])},window.apstag.fetchBids=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.apstag._Q.push(["f",t])},b("//web.archive.org/web/20201201014008/https://c.amazon-adsystem.com/aax2/apstag.js"),window.apstag.init({pubID:"3379",adServer:"googletag",bidTimeout:2e3,params:{aps_privacy:e.limitDataProcessing?"1YY":"1--"}})),window.aax||(window.aax={pubId:"AAX763KC6",ver:1.2,initTime:(new Date).getTime(),hst:location.hostname,deliverExchangeDemand:()=>{},cmd:[()=>window.aax.addEventListener("impressionViewable",t=>e.onAdView(t,!0))],execute:[()=>window.aax.limitDataProcessing(e.limitDataProcessing)]},b("//web.archive.org/web/20201201014008/https://c.aaxads.com/aax.js?pub=".concat(window.aax.pubId,"&hst=").concat(window.aax.hst,"&ver=").concat(window.aax.ver)))}},"./src/lib/isSimpleClick/index.ts":function(e,t,n){"use strict";t.a=e=>{if(e&&e.target&&(e=>{let t=e;for(;t&&t!==window.document.body;){if("A"===t.nodeName)return!0;t=t.parentElement}return!1})(e.target)){if(e.ctrlKey)return!1;if(e.altKey)return!1;if(e.metaKey)return!1;if(e.shiftKey)return!1}return!0}},"./src/lib/serviceWorker/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const s="/sw.js";async function o(e){if("undefined"!=typeof window&&"serviceWorker"in navigator)return navigator.serviceWorker.register(s,e)}const r=(e,t)=>{navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:e,payload:t})}},"./src/reddit/actions/alpha.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.search.js");var s=n("./src/config.ts"),o=n("./src/lib/makeApiRequest/index.ts"),r=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");var i=n("./src/reddit/helpers/redesignOptoutCookie/index.ts"),c=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/models/Toast/index.ts"),l=n("./src/lib/constants/index.ts"),u=n("./src/lib/makeRequest/index.ts");async function m(e,t){return await Object(u.b)({method:l.eb.POST,endpoint:"/timings/optoutrequest",data:{appName:e.statsAppName,successful:t},type:"json"})}const p=e=>async(t,n,s)=>{let{apiContext:l}=s;(await function(e){return Object(o.a)(Object(r.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/leave_redesign_beta"),method:"post",type:"json"})}(l())).ok?(Object(i.b)(),await m(l(),!0),e&&window.location.reload()):(m(l(),!1),t(Object(c.e)({kind:d.b.Error,text:"Sorry, something went wrong. Try Opting out again."})))},b=()=>async(e,t,n)=>{let{apiContext:c}=n;Object(i.a)(),function(e){Object(o.a)(Object(r.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/join_redesign_beta"),method:"post",type:"json"}).then(()=>{const{pathname:e,search:t}=window.location,n="".concat(s.a.redditUrl).concat(e).concat(t);window.location.replace(n)})}(c())}},"./src/reddit/actions/economics/me/thunkedActions.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeRequest/index.ts"),r=n("./src/config.ts"),a=n("./src/reddit/endpoints/governance/requester.ts");var i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/economics/me/constants.ts");const d=Object(i.a)(c.a),l=Object(i.a)(c.b),u=Object(i.a)(c.c),m=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=e&&e.includeMemberships||!1,c=e&&e.forceFetch||!1,l=n();if(!l.economics.me.fetched||i&&!l.economics.me.data.specialMemberships||c){const e=await function(e,t){return Object(a.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/users/me").concat(t?"?fields=specialMemberships":"")})}(o(),i);if(e.ok){const n=e.body;i&&!n.specialMemberships&&(n.specialMemberships={}),t(d(n))}}},p=()=>async(e,t)=>{const n=t(),r=n.economics.me.data;if(!r)throw new Error("me data required for copy to be fetched");if(!n.economics.pointsCopy.fetched){e(l());const t="https://".concat(r.pointsDocsBaseUrl,"v1.json?web"),n=await Object(o.b)({endpoint:t,method:s.eb.GET});n.ok&&n.body&&e(u(n.body))}}},"./src/reddit/actions/economics/paymentSystems/actionCreators.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/economics/paymentSystems/constants.ts");const r=Object(s.a)(o.a),a=Object(s.a)(o.e),i=Object(s.a)(o.b),c=Object(s.a)(o.c),d=Object(s.a)(o.d)},"./src/reddit/actions/economics/subredditPremium/thunkedActions.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return E})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return w})),n.d(t,"f",(function(){return k}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/lodash/forOwn.js"),o=n.n(s),r=n("./src/reddit/actions/governance/errorToast.ts"),a=n("./src/reddit/endpoints/economics/emojis.ts"),i=n("./src/reddit/endpoints/economics/specialMembership.ts"),c=n("./src/reddit/endpoints/economics/subredditPremium.ts"),d=n("./src/reddit/endpoints/governance/badges.ts"),l=n("./src/config.ts"),u=n("./src/reddit/endpoints/governance/requester.ts");function m(e,t,n){return Object(u.a)(e,{method:"get",endpoint:"".concat(l.a.metaUrl,"/products/").concat(t,"?owners=").concat(n)+"&types=emotes_pack,giphy"})}var p=n("./src/reddit/models/Badge/index.ts"),b=n("./src/reddit/models/Badge/managementPage.ts"),h=n("./src/reddit/models/Product/index.ts"),g=n("./src/reddit/reducers/economics/subredditPremium/index.ts"),f=n("./src/reddit/selectors/economics.ts"),v=n("./src/reddit/selectors/products.ts"),O=n("./src/reddit/actions/economics/me/thunkedActions.ts"),y=n("./src/reddit/actions/economics/subredditPremium/actionCreators.ts");function C(e){return!!e&&"removeBadge"===e.type}function x(e){if(!C(e))return e}const P=()=>async(e,t,n)=>{let{apiContext:s}=n;if(!t().user.account)return;await e(Object(O.b)({includeMemberships:!0}));const o=t().economics.me.data.specialMemberships||{},r=Object.keys(o);if(r.length){const t=await Object(i.e)(s(),r);t.ok&&e(Object(y.g)(t.body))}},E=(e,t)=>async(n,s,o)=>{let{apiContext:r}=o;const a=s().user.account,i=s().economics.subredditPremium[e],d=!i||i.status!==g.a.Fetched||t;if(a&&d){const t=await Object(c.a)(r(),e,a.id);n(Object(y.i)(t))}},j=e=>async(t,n,s)=>{let{apiContext:o}=s;const a=n(),i=a.user.account,c=Object(f.f)(a,e.subredditId),l=Object.keys(c).map(e=>c[e]).filter(Boolean);if(i&&e.badge){let n,s;n=e.placement===p.a.First?c[b.a.Loyalty]:e.placement===p.a.Second?c[b.a.Achievement]:c[b.a.Cosmetic],t(Object(y.a)(Object.assign(Object.assign({},e),{badge:x(e.badge),currentAppliedBadges:l,userId:i.id}))),C(e.badge)&&n?s=await Object(d.a)(o(),e.subredditId,n.id,!1):C(e.badge)||(s=await Object(d.a)(o(),e.subredditId,e.badge.id)),s&&!s.ok&&(t(Object(y.a)(Object.assign(Object.assign({},e),{badge:n,currentAppliedBadges:l,userId:i.id}))),Object(r.a)(t,s.error))}},S=(e,t)=>async(n,s,o)=>{let{apiContext:r}=o;await n(E(e,!0));const a=s().economics.subredditPremium[e];if(a&&a.status===g.a.Fetched){const s=a.data.userOwnedBadges.find(e=>e.type===t.id);s&&(n(j({badge:s,subredditId:e,placement:s.placement})),n(Object(y.d)(b.c.MyBadges)))}},_=e=>async(t,n,s)=>{let{apiContext:i}=s;const c=n().user.account,d=!n().economics.emotes[e],l=!n().economics.gifs[e];if(c&&(d||l)){const[n,s]=await Promise.all([Object(a.b)(i(),e),m(i(),e,c.id)]);if(!s.ok)return void Object(r.a)(t,s.error);const d={emotes:[],emoteCollections:n.ok?n.body:{},giphy:[]};o()(s.body,e=>{e.type===h.a.EmotesPack?d.emotes.push(e):e.type===h.a.Giphy&&d.giphy.push(e)}),t(Object(y.e)({subredditId:e,products:d}))}},w=(e,t,n)=>async(s,o,r)=>{let{apiContext:a}=r;if(await s(E(e,!0)),n&&t){const n=o(),r=Object(f.f)(n,e),a=Object(v.a)(n,t);if(!r[Object(b.d)(a.placement)]&&a){const t=Object(f.m)(n,{subredditId:e,badge:a});t&&await s(j({badge:t,subredditId:e}))}s(Object(y.c)({subredditId:e,initialView:b.c.MyBadges}))}},k=e=>async(t,n,s)=>{let{apiContext:o}=s;const{wallet:r}=await Object(i.c)(o(),e);t(Object(y.f)({wallet:r})),await t(E(e.subredditId,!0))}},"./src/reddit/actions/emailCollection/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var s=n("./node_modules/lodash/once.js"),o=n.n(s),r=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/notificationBanner.ts"),i=n("./src/reddit/actions/preferences.ts"),c=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),d=n("./src/reddit/components/Settings/modalIds.ts"),l=n("./src/reddit/helpers/localStorage/index.ts"),u=n("./src/reddit/selectors/emailCollection.ts");const m=o()(l.c),p=()=>async(e,t)=>{const n=t();m(),Object(u.a)(n)&&(await e(Object(i.z)()),Object(u.a)(t())&&e(Object(a.d)({notificationBannerId:c.a.EmailCollectionBannerId})))},b=()=>async(e,t)=>{const n=t();Object(u.a)(n)&&(Object(l.b)(),e(Object(a.c)({notificationBannerId:c.a.EmailCollectionBannerId})))},h=()=>async(e,t)=>{e(Object(r.g)(d.g))}},"./src/reddit/actions/emailVerification.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/models/EmailSettings/index.ts"),l=n("./src/reddit/models/Toast/index.ts");const u=e=>async(t,n,o)=>{let{apiContext:r}=o;switch(e){case d.a.Success:t(Object(c.e)({kind:l.b.SuccessCommunity,text:s.fbt._("Email verification complete",null,{hk:"vp6R2"})}));break;case d.a.AlreadyVerified:t(Object(c.e)({kind:l.b.SuccessCommunity,text:s.fbt._("Your email address has already been verified.",null,{hk:"7ro41"})}));break;case d.a.WrongUser:return void t(Object(c.e)({kind:l.b.Error,text:s.fbt._("The email verification link you've followed is for a different user account. Please log out and click the email verification link again to verify your email.",null,{hk:"1NrK5a"})}));default:t(Object(c.e)({kind:l.b.Error,text:s.fbt._("Something went wrong.",null,{hk:"JbBLl"})}))}},m=e=>async(t,n,s)=>{let{apiContext:c}=s;const l=await((e,t)=>Object(r.a)(Object(a.a)(e,[i.a]),{method:o.eb.POST,endpoint:"".concat(e.apiUrl,"/api/v1/verify_email/").concat(t),data:{}}))(c(),e);if(l.ok&&l.body&&l.body.success)return d.a.Success;switch(l.body.reason){case d.a.AlreadyVerified:return d.a.AlreadyVerified;case d.a.WrongUser:return d.a.WrongUser;default:return d.a.Error}}},"./src/reddit/actions/notifications/loader.ts":function(e,t,n){"use strict";var s=n("./src/lib/loadWithRetries/index.ts");t.a=()=>Object(s.a)(()=>n.e("PushNotifications").then(n.bind(null,"./src/reddit/actions/notifications/index.ts")))},"./src/reddit/actions/notifications/preferences.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return C}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/toaster.ts"),a=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var l=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/notificationPrefs.ts"),m=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/actions/notifications/constants.ts");const b=Object(o.a)(p.c),h=Object(o.a)(p.b),g=Object(o.a)(p.a),f=()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!Object(m.i)(o))return;const r=Object(u.b)(o),l=Object(u.a)(o);if(r||l)return;e(b());const p=await(e=>Object(c.a)(e,{endpoint:Object(d.a)("".concat(a.a.gatewayUrl,"/redditmobile/1/push/preferences")),method:i.eb.GET}))(s());if(p.ok){const t=(e=>({broadcastFollower:!!e.broadcast_follower,broadcastRecommendation:!!e.broadcast_recommendation,chatMessages:!!e.chat_message,chatRequests:!!e.chat_request,commentReplies:!!e.comment_reply,communityRecommendations:!!e.subreddit_recommendation,liveEvent:!!e.live_event,newPinnedPost:!!e.new_pinned_post,postFlairAdded:!!e.post_flair_added,postReplies:!!e.post_reply,privateMessages:!!e.private_message,threadReplies:!!e.thread_replies,topLevelComment:!!e.top_level_comment,trendingPosts:!!e.lifecycle_post_suggestions,upvotedComments:!!e.upvote_comment,upvotedPosts:!!e.upvote_post,userFlairAdded:!!e.user_flair_added,usernameMentions:!!e.username_mention,userNewFollowers:!!e.user_new_follower}))(p.body);e(h({preferences:t}))}else e(g(p.error))},v=Object(o.a)(p.f),O=Object(o.a)(p.e),y=Object(o.a)(p.d),C=e=>async(t,n,o)=>{let{apiContext:p}=o;const b=n();if(!Object(m.i)(b))return;if(Object(u.e)(b))return;const h=Object(u.d)(b);t(v({preferences:e}));const g=await((e,t)=>Object(c.a)(e,{endpoint:Object(d.a)("".concat(a.a.gatewayUrl,"/redditmobile/1/push/preferences")),method:i.eb.POST,data:{preferences:JSON.stringify({broadcast_follower:t.broadcastFollower,broadcast_recommendation:t.broadcastRecommendation,chat_message:t.chatMessages,chat_request:t.chatRequests,post_flair_added:t.postFlairAdded,comment_reply:t.commentReplies,lifecycle_post_suggestions:t.trendingPosts,live_event:t.liveEvent,new_pinned_post:t.newPinnedPost,post_reply:t.postReplies,private_message:t.privateMessages,subreddit_recommendation:t.communityRecommendations,thread_replies:t.threadReplies,top_level_comment:t.topLevelComment,username_mention:t.usernameMentions,upvote_comment:t.upvotedComments,upvote_post:t.upvotedPosts,user_new_follower:t.userNewFollowers,user_flair_added:t.userFlairAdded})}}))(p(),e);g.ok?(t(O()),t(Object(r.e)({kind:l.b.SuccessCommunity,text:s.fbt._("Changes saved",null,{hk:"UBoVR"})}))):t(y({error:g.error,preferences:h}))}},"./src/reddit/actions/notifications/state.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/notifications/constants.ts"),o=n("./src/reddit/actions/notifications/utils.ts");const r={isEnabled:!1,isSubscriptionActive:!1,permission:s.a.Default},a={denied:s.a.Denied,granted:s.a.Granted};const i=new class{constructor(){this.isInitializing=!1,this.isReady=!1,this.isSubscriptionActive=!1,this.permission=s.a.Default,this.listeners=new Set,this.initialize=async e=>{if(this.isReady||this.isInitializing)return;await Object(o.a)(e)===s.c.NotificationsSupported&&(this.isInitializing=!0,await this.subscribeToPermissionsChange(),await this.updateIsSubscriptionEnabled(),this.isInitializing=!1,this.isReady=!0,this.notifyAll())},this.updatePermission=()=>{this.permission=a[Notification.permission]||s.a.Default},this.updateIsSubscriptionEnabled=async()=>{const e=await window.navigator.serviceWorker.getRegistrations();for(const t of e){if(await t.pushManager.getSubscription())return void(this.isSubscriptionActive=!0)}},this.recalculate=async()=>{this.isReady&&(this.updatePermission(),await this.updateIsSubscriptionEnabled(),this.notifyAll())},this.getCurrentState=()=>{return{isEnabled:this.isSubscriptionActive&&this.permission===s.a.Granted,isSubscriptionActive:this.isSubscriptionActive,permission:this.permission}},this.subscribe=e=>{this.listeners.has(e)||this.listeners.add(e),this.isReady&&e(this.getCurrentState())},this.unsubscribe=e=>{this.listeners.delete(e)}}async subscribeToPermissionsChange(){if(!window.navigator.permissions||!window.navigator.permissions.query)return;const e=await window.navigator.permissions.query({name:"notifications"});this.updatePermission(),e.onchange=()=>{this.updatePermission(),this.notifyAll()}}notifyAll(){this.isReady&&this.listeners.forEach(e=>{e(this.getCurrentState())})}},c=i.subscribe,d=i.unsubscribe,l=i.initialize,u=i.recalculate},"./src/reddit/actions/notifications/utils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./src/lib/notifications/constants.ts"),o=n("./src/lib/notifications/featureFlags.ts"),r=n("./src/reddit/featureFlags/index.ts");const a=e=>r.d.pushNotificationsBrowserSupported(e)?Object(o.a)():s.c.BrowserUnsupported},"./src/reddit/actions/pages/meta/communityPointsLearnMorePage.ts":function(e,t,n){"use strict";var s=n("./src/reddit/actions/economics/me/thunkedActions.ts"),o=n("./src/reddit/actions/users.ts"),r=n("./src/reddit/selectors/user.ts");t.a=()=>async(e,t)=>{Object(r.J)(t())||await e(Object(o.r)()),await e(Object(s.b)()).then(()=>{if(t().economics.me.data)return e(Object(s.a)())})}},"./src/reddit/actions/pages/meta/specialMembershipPaywallPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/reddit/actions/economics/helpers/async.ts"),r=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/reddit/actions/users.ts"),i=n("./src/reddit/selectors/subreddit.ts"),c=n("./src/reddit/selectors/user.ts");t.a=()=>async(e,t)=>{const n=t().platform.currentPage;if(n&&n.routeMatch&&n.routeMatch.match){const d=(n.routeMatch.match.params||{}).subredditName;if(d){const n=[],l=t();Object(c.J)(l)||n.push(e(Object(a.r)()));const u=Object(s.a)(d,null);n.push(e(Object(r.i)(u,d,{}))),await Promise.all(n);const m=Object(i.G)(t(),d);await e(Object(o.a)({subredditId:m,skip:["badges","tips","wallets"]}))}}}},"./src/reddit/actions/pages/notificationsInbox.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/pageTitle.ts"),o=n("./src/lib/makeActionCreator/index.ts"),r=n("./src/reddit/actions/inboxNotifications/constants.ts"),a=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),l=n("./src/reddit/constants/headers.ts");const u=Object(o.a)(r.c),m=Object(o.a)(r.b),p=Object(o.a)(r.a),b=()=>async(e,t,n)=>{let{apiContext:s}=n;const o=await(e=>Object(c.a)(Object(d.a)(e,[l.a]),{method:i.eb.GET,endpoint:"".concat(a.a.oauthUrl,"/message/inbox_notifications.json")}))(s());o.ok||p({error:o.error});const r=o&&o.body,u=h(r);e(m(u))},h=e=>{const t=e&&e.data;return(t&&t.children).map(g)},g=e=>{const{data:t}=e;return{author:t.author,bodyHtml:t.body_html,context:t.context,created:t.created,createdUtc:t.created_utc,dest:t.dest,id:t.id,linkTitle:t.link_title,name:t.name,new:t.new,numComments:t.num_comments,parentId:t.parent_id,score:t.score,subreddit:t.subreddit,subredditNamePrefixed:t.subreddit_name_prefixed}};var f=n("./src/reddit/actions/modal.ts"),v=n("./src/reddit/actions/platform.ts"),O=n("./src/reddit/actions/users.ts"),y=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),C=n("./src/reddit/routes/notificationsInbox/index.ts"),x=n("./src/reddit/selectors/user.ts");const P=()=>async(e,t)=>{S(t(),e),e(E()),e(j()),await e(_())},E=()=>Object(f.k)({actionSource:f.a.NotificationsInbox,redirectUrl:C.b}),j=()=>v.l({title:Object(s.e)()}),S=(e,t)=>{if(!Object(x.J)(e)||!Object(x.G)(e))return Object(y.a)(t,e)},_=()=>async e=>{e(u()),await Promise.all([e(b()),e(Object(O.r)())])}},"./src/reddit/actions/pages/settings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=n("./node_modules/react-router-redux/es/index.js"),r=n("./src/lib/constants/index.ts"),a=n("./src/lib/extractQueryParams/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/pageTitle.ts"),d=n("./src/reddit/actions/chat/userSettings.ts"),l=n("./src/reddit/endpoints/economics/paymentSystems.ts"),u=n("./src/reddit/actions/economics/paymentSystems/actionCreators.ts");var m=n("./src/reddit/actions/economics/subredditPremium/thunkedActions.ts"),p=n("./src/reddit/actions/externalAccount.ts"),b=n("./src/reddit/actions/gold/powerups.ts"),h=n("./src/reddit/actions/notifications/preferences.ts"),g=n("./src/reddit/actions/platform.ts"),f=n("./src/reddit/actions/preferences.ts"),v=n("./src/reddit/actions/profile/index.ts"),O=n("./src/reddit/actions/subredditSettings.ts"),y=n("./src/reddit/actions/toaster.ts"),C=n("./src/reddit/actions/users.ts"),x=n("./src/reddit/constants/parameters.ts"),P=n("./src/reddit/helpers/externalAccount/index.tsx"),E=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),j=n("./src/reddit/reducers/economics/paymentSystems/index.ts"),S=n("./src/reddit/selectors/externalAccount.ts"),_=n("./src/reddit/selectors/user.ts");const w=e=>async(t,n)=>{await t(Object(C.r)());const w=[t(Object(f.z)(!0)),t(Object(m.a)())];n().economics.paymentSystems.status===j.a.NotFetched&&w.push(t((()=>async(e,t,n)=>{let{apiContext:s}=n;e(Object(u.d)());const o=await Object(l.d)(s());o.ok?e(Object(u.c)(o.body)):e(Object(u.b)({error:o.error}))})())),await Promise.all(w);{const e=n();if(!Object(_.J)(e))return Object(E.a)(t,e)}const{page:k=r.Sb.Account}=e.params;if(k===r.Sb.Gold)return void t(Object(o.c)("/settings/premium"));const I=[];k===r.Sb.Profile&&(I.push(t(Object(v.a)())),I.push(t(Object(O.g)()))),k===r.Sb.Account&&I.push(t(Object(p.o)())),k===r.Sb.Notifications&&I.push(t(Object(h.a)())),k!==r.Sb.Privacy&&k!==r.Sb.Messaging||I.push(t(Object(d.b)())),k===r.Sb.Premium&&(I.push(t(Object(v.a)())),I.push(t(Object(b.g)(!0)))),await Promise.all(I);{const e=n(),r=e.platform.currentPage,{url:c}=r,d=Object(a.a)(c).get(x.d);if(d&&(t(Object(o.c)(Object(i.a)(c,[x.d]))),Object(S.a)(e))){const e=s.fbt._("Connected accounts",null,{hk:"bdpfW"});t(Object(y.e)({text:e})),Object(P.b)(d)}}t(Object(g.l)({title:Object(c.h)()}))}},"./src/reddit/actions/pages/subredditCreation.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n("./src/lib/pageTitle.ts"),o=n("./src/reddit/actions/platform.ts"),r=n("./src/reddit/actions/tags/index.ts"),a=n("./src/reddit/actions/users.ts"),i=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),c=n("./src/reddit/selectors/user.ts");const d=()=>async(e,t)=>{e(o.l({title:Object(s.j)()})),await e(Object(a.r)());const n=t();Object(c.J)(n)?await e(Object(r.f)()):Object(i.a)(e,n)}},"./src/reddit/actions/pages/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/lib/pageTitle.ts"),o=n("./src/reddit/actions/category/index.ts"),r=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/platform.ts"),i=n("./src/reddit/actions/subreddit/topSubreddits.ts"),c=n("./src/reddit/actions/users.ts"),d=n("./src/reddit/constants/listings.ts"),l=n("./src/reddit/constants/subredditLeaderboard.ts"),u=n("./src/reddit/helpers/categoryPickerWidget/index.ts"),m=n("./src/reddit/models/GoodContent/index.ts"),p=n("./src/reddit/selectors/category.ts"),b=n("./src/reddit/selectors/subredditLeaderboard.ts"),h=n("./src/reddit/selectors/user.ts");const g=(e,t)=>t&&e===l.m,f=e=>async(t,n)=>{t(Object(r.k)({actionSource:r.a.SubredditLeaderboard,redirectUrl:d.c[d.b.SubredditLeaderboard]})),t(a.l({title:Object(s.k)()}));const o=e.params&&e.params.categoryName,i=o&&Object(u.b)(o);await t(v(i))},v=e=>async(t,n)=>{await t(Object(o.a)());const s=n(),r=Object(h.K)(s);if(Object(b.a)(s,e))return;const a=e&&Object(p.f)(s,{categoryName:e}),d=e===l.j?l.i:a&&a.id||l.e,u=((e,t)=>({categoryId:e,filter:m.a,isOnlyModIncluded:t}))(d,g(e,r)),f=Object(b.d)(d,e);await Promise.all([t(Object(i.a)(u,f)),t(Object(c.r)())])}},"./src/reddit/actions/publicAccessNetwork/userSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),r=n("./src/reddit/constants/localStorage.ts"),a=n("./src/reddit/helpers/localStorage/index.ts");const i=Object(s.a)(o.C),c=e=>async t=>{await t(i(e)),t(u())},d=()=>async e=>{const t=l();t&&e(i(t))},l=()=>{return Object(a.p)(r.E)||void 0},u=()=>async(e,t)=>{const n=t().publicAccessNetwork.userSettings;Object(a.db)(r.E,n)}},"./src/reddit/actions/shortcuts/close.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var s=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/reddit/actions/comment/index.ts"),r=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/constants/shortcuts.ts"),c=n("./src/reddit/helpers/trackers/lightbox.ts"),d=n("./src/reddit/helpers/trackers/shortcuts.ts"),l=n("./src/reddit/selectors/gild.ts"),u=n("./src/reddit/selectors/goldPurchaseModals.ts"),m=n("./src/reddit/actions/shortcuts/utils.ts");const p=[u.s,u.n,e=>!!Object(l.d)(e)],b=(e,t)=>async(n,l,u)=>{let{apiContext:b}=u;const h=l();for(const e of p)if(e(h))return;const g=document.activeElement,f=h.shortcuts.activeCommentId,v=Object(m.c)(h);if(g&&"true"===g.contentEditable&&f&&v)n(o.O({parentCommentId:f,commentsPageKey:v})),Object(m.a)(f);else if(h.activeModalId)Object(m.b)(i.b),n(Object(r.i)(h.activeModalId));else if(h.toaster[0])Object(m.b)(i.b),n(Object(a.f)(h.toaster[0].id));else if(h.shortcuts.namespace===i.d.Lightbox&&h.platform.currentPage){const e=h.platform.currentPage.locationState.closeLocation;e&&(Object(m.b)(i.b),n(Object(s.b)(e)))}const{activePostId:O}=h.shortcuts;e(t&&O?c.b(O,"close",!0):d.a)}},"./src/reddit/actions/snoovatar.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var s=n("./src/telemetry/index.ts"),o=n("./src/reddit/actions/login.ts"),r=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/users.ts"),i=n("./src/reddit/constants/modals.ts"),c=n("./src/reddit/selectors/telemetry.ts");var d=n("./src/reddit/selectors/user.ts");const l=()=>async e=>{e(Object(a.r)({forceFetch:!0})),await e(Object(r.g)(i.a.SNOOVATAR_MODAL))},u=e=>async(t,n)=>{const a=n();Object(s.a)((e=>t=>Object.assign({source:e,action:"click",noun:"edit_snoovatar"},c.defaults(t)))(e)(a)),Object(d.J)(a)?await t(Object(r.h)(i.a.SNOOVATAR_MODAL)):await t(Object(o.h)())}},"./src/reddit/actions/subreddit/topSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/subreddit/constants.ts"),r=n("./src/reddit/constants/subredditLeaderboard.ts"),a=n("./src/reddit/endpoints/subreddit/local.ts"),i=n("./src/reddit/endpoints/subreddit/topSubreddits.ts"),c=n("./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts");const d=Object(s.a)(o.k),l=Object(s.a)(o.j),u=Object(s.a)(o.i),m=Object(s.a)(o.a),p=Object(s.a)(o.b),b=Object(s.a)(o.c),h=(e,t)=>async(n,s,o)=>{let{gqlContext:h}=o;n(d());const g=t===r.i?async function(){const t=await Object(a.a)(h(),e);if(!t.ok){const e=t.error;return n(u({error:e})),null}const s=t.body,o=s&&s.data&&s.data.nearbySubreddits;return Object(c.a)(o)}:async function(){const t=await Object(i.a)(h(),e);if(!t.ok){const e=t.error;return void n(u({error:e}))}const s=t.body,o=s&&s.data&&s.data.subredditLeaderboard;return Object(c.b)(o)},f=await g();if(!f)return;const{pageInfo:v,rankings:O,subreddits:y}=f;n(m({subreddits:y})),n(p({categoryRankingsKey:t,rankings:O})),n(b({categoryRankingsKey:t,pageInfo:v})),n(l())}},"./src/reddit/components/AccountManagerModal/IFrame/index.m.less":function(e,t,n){e.exports={IFrame:"_25r3t_lrPF3M6zD2YkWvZU",iFrame:"_25r3t_lrPF3M6zD2YkWvZU",CloseButton:"_1ryinm9ofYAx_k9dpdCbpq",closeButton:"_1ryinm9ofYAx_k9dpdCbpq",Close:"_14dkERGUnSwisNWFcFX-0T",close:"_14dkERGUnSwisNWFcFX-0T"}},"./src/reddit/components/AccountManagerModal/index.m.less":function(e,t,n){e.exports={Overlay:"_1UtFUrE2ijAe5ba5uPgcfQ",overlay:"_1UtFUrE2ijAe5ba5uPgcfQ",IframeContainer:"_34uo64r1j-TcpBGXAQcZJ1",iframeContainer:"_34uo64r1j-TcpBGXAQcZJ1",small:"FBb4FZ4ng7CvLYrT6LBdp",ssoConfirmPassword:"_3CQoZKhSqrJrbOGJxp03DS",mResponsive:"_2CwLGmlfoqlHFJcOwm0RS-",linkActionSSOFail:"_1ALB_4jSDt6vPeELvg9lKL",linkActionSsoFail:"_1ALB_4jSDt6vPeELvg9lKL",mGoogleOneTap:"_15Lh8Q9iPGbXdxumHm8cT9",mHiddenOverlay:"_233XfOVq91N_ugGQDBb_OT"}},"./src/reddit/components/AlertBanner/Wrapper.m.less":function(e,t,n){e.exports={Wrapper:"GfthJQJvWCHdUoMi6YjYa",wrapper:"GfthJQJvWCHdUoMi6YjYa"}},"./src/reddit/components/AlertBanner/heights.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const s=(e,t)=>({[e.showDeprecated]:!(!t.browserInfo||!t.browserInfo.isDeprecated),[e.showFPR]:!!t.showFPR,[e.showSuspended]:!!t.showSuspended}),o=(e,t)=>({[e.showEmailCollectionBanner]:!!t.showEmailCollectionBanner})},"./src/reddit/components/AlertBanner/index.m.less":function(e,t,n){e.exports={underlineButton:"_1uQwMnfXrOfzkL_CFxH6fd",underlineLink:"vOGtEDdh1mVbkqinhg3Ov",wrapper:"_3el1HrJryfAxBUzu4HsIhE",deprecated:"_2s1xq3Ji1Oj7oZtdSqWznV",fpr:"_36j6vvbAY0wIrxbyXuNQhn",suspended:"_1ivoPEQV9lryC0mH-f_uGY",closeButton:"_1oAzKCYwbVOQ-AbuRZfMg2",closeIcon:"_6aklZuhHMm1XJcsi8dEeP"}},"./src/reddit/components/AppRouter/index.m.less":function(e,t,n){e.exports={header:"cx1ohrUAq6ARaXTX2u8YN",showDeprecated:"_378Md-M6pOqwzEiV3lAwYk",showFPR:"_2P-zXcOfggYIWnL3EfXUHP",showFpr:"_2P-zXcOfggYIWnL3EfXUHP",showSuspended:"_3o7sV2ySJ76-f1ktwzclmi",inline:"_2aHCVoJEFfwy05xpKqUif2",overlayContentWrapper:"_2DJXORCrmcNpPTSq0LqL6i",mIsCommentsLightbox:"_26pbaCw90eAC80WRqUfICJ",mIsLargeCommentsLightbox:"_2zCdbqYzIDmabv-Dk_ILKk",overlayWrapper:"_2mIbM_6nl-2OnOGEbEMRXa",main:"_1nxEQl5D2Bx2jxDILRHemb",mShowingPaddedPinnedDescriptions:"_3x1dyL19KnZ4kI6i9TlRp4",pinnedSubscriptions:"zoWOQnp55WuhEugRSwfw1",withUpsell:"_1kFzDy0hQVq-CvguZsCcmV",lightboxHeaderWrapper:"_3obgdFz00GvpqpuX8QCsNK",bottomAdContainer:"_2SL_DAWw1V6pxZysgrdeBe",sidebarFooter:"_2AJ0ZwpZtFJ10GdcU0CUew",sidebarFooterWithAd:"_1ht98h5gXjzYhFyRZgB0Pv",bottomSpacer:"_14-8KVF3BKuTNsLNWcOG2X",showEmailCollectionBanner:"_25N7Qd1z8aRQYtQhjEFyTC",overlayScrollContainer:"_29IbETWb5VVDcfk_-GumWz",mediaIsFullscreen:"_34Bl1Of1839ZWJXR8IY0Ym",popupContainer:"_13Vg6OZEIy5AcJ_DOw6jK0"}},"./src/reddit/components/AppRouter/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return km}));n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=n("./node_modules/lodash/isEqual.js"),r=n.n(o),a=n("./node_modules/lodash/omit.js"),i=n.n(a),c=n("./node_modules/lodash/throttle.js"),d=n.n(c),l=n("./node_modules/react/index.js"),u=n.n(l),m=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/react-router/esm/react-router.js"),b=n("./node_modules/react-router-redux/es/index.js"),h=n("./node_modules/reselect/es/index.js"),g=n("./src/lib/classNames/index.ts"),f=n("./src/lib/constants/index.ts"),v=n("./src/lib/CSSVariableProvider/withTheme.tsx"),O=n("./src/lib/DeprecatedBrowserProvider/index.tsx"),y=n("./src/lib/fastdom/index.ts"),C=n("./src/lib/FocusTrap/index.ts"),x=n("./src/lib/isEqualWithoutKey/index.ts"),P=n("./src/lib/isSimpleClick/index.ts"),E=n("./src/reddit/actions/header.ts"),j=n("./src/reddit/actions/survey/index.ts"),S=n("./src/reddit/components/EmailCollection/Banner/Loader.ts"),_=n("./node_modules/@researchgate/react-intersection-observer/lib/es/index.js"),w=n("./node_modules/polished/dist/polished.es.js"),k=n("./node_modules/react-motion/lib/react-motion.js"),I=n("./src/lib/lessComponent.tsx"),M=(n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./src/config.ts")),N=n("./src/lib/addQueryParams/index.ts"),T=n("./src/reddit/actions/modal.ts"),R=n("./src/reddit/actions/preferences.ts"),A=n("./src/lib/makeActionCreator/index.ts"),L=n("./src/reddit/actions/sso/constants.ts");const F=Object(A.a)(L.a),D=Object(A.a)(L.b);var G=n("./src/reddit/actions/toaster.ts"),U=n("./src/reddit/components/TrackingHelper/index.tsx"),B=n("./src/reddit/constants/accountManager.ts"),H=n("./src/reddit/constants/history.ts"),q=n("./src/reddit/constants/listings.ts"),W=n("./src/reddit/constants/modals.ts"),V=n("./src/reddit/constants/parameters.ts");const Q=()=>M.a.redditUrl;var z=n("./src/reddit/helpers/history/index.ts"),K=n("./src/reddit/selectors/telemetry.ts");const J=[],Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return t=>Object.assign(Object.assign({},K.defaults(t)),{action:"click",noun:"exit",onboarding:{processNotes:"exited",numberSubredditsSelected:e.length,subredditsSelected:e},source:"onboarding"})},X=()=>e=>Object.assign(Object.assign({},K.defaults(e)),{action:"dismiss",noun:"create_account_screen_dropdown",source:"onboarding"}),Z=()=>e=>Object.assign(Object.assign({},K.defaults(e)),{action:"view",noun:"create_account_screen_dropdown",source:"onboarding"}),$=e=>t=>Object.assign(Object.assign({},K.defaults(t)),{action:"dismiss",noun:e,source:"onboarding"});var ee=n("./src/reddit/icons/svgs/Close/index.tsx"),te=n("./src/reddit/models/Sso/index.ts"),ne=n("./src/reddit/models/Toast/index.ts"),se=n("./src/reddit/selectors/accountManager.ts"),oe=n("./src/reddit/selectors/experiments/frontpageSignup.ts"),re=n("./src/reddit/selectors/user.ts"),ae=n("./src/reddit/components/AccountManagerModal/IFrame/index.m.less"),ie=n.n(ae);const ce=I.a.iframe("IFrame",ie.a),de=I.a.button("CloseButton",ie.a),le=I.a.wrapped(ee.a,"Close",ie.a),ue=Object(h.c)({accountManagerSrc:se.c,actionSource:se.a,frontpageSignupVariant:oe.a,isLoggedIn:re.J,redirectUrl:se.b}),me=Object(m.b)(ue,(e,t)=>({oniFrameLoaded:(t,n)=>{e((e,s)=>{t.contentWindow.postMessage({events:Object.assign(Object.assign({},Object(K.defaults)(s())),{actionSource:n}),type:"eventData"},Q())})},onTwoFactorChanged:()=>e(Object(R.z)(!1)),onSSOLinkSuccess:(t,n,s)=>{e(F({linkedIdentity:n})),e(Object(T.g)(s)),e(Object(G.e)(Object(G.d)(t,ne.b.SuccessCommunity)))},onSSOUnlinkSuccess:(t,n,s)=>{e(D({linkedIdentity:n})),e(Object(T.g)(s)),e(Object(G.e)(Object(G.d)(t,ne.b.SuccessCommunity)))},showToast:(t,n)=>{e(Object(G.e)(Object(G.d)(t,n)))}})),pe=e=>{let{data:t,origin:n}=e;return t&&t.success&&(t.type===B.a.ChangePassword||t.type===B.a.Close||t.type===B.a.CreateAccount||t.type===B.a.GoogleOneTapDisplayed||t.type===B.a.GoogleOneTapFlowFailed||t.type===B.a.GoogleOneTapSkipped||t.type===B.a.Login||t.type===B.a.PreferenceStatus||t.type===B.a.Register||t.type===B.a.Resize||t.type===B.a.ShowStep||t.type===B.a.SSOLinkFail||t.type===B.a.SSOLinkSuccess||t.type===B.a.SSOUnlinkFail||t.type===B.a.SSOUnlinkSuccess||t.type===B.a.Subscribe||t.type===B.a.TwoFactorChanged)&&n===M.a.accountManagerOrigin},be={"select-account":"link_account","confirm-otp":"link_account_otp","confirm-password":"link_account_password"};class he extends u.a.Component{constructor(){super(...arguments),this.iframeRef=u.a.createRef(),this.isAccountCreated=!1,this.trackResizing=!0,this.currentStep=null,this.state={iframeStyles:{}},this.focusFirstVisibleIframeInput=()=>{try{if(!this.iframeRef.current)return;const e=this.iframeRef.current.contentWindow?this.iframeRef.current.contentWindow.document:this.iframeRef.current.contentDocument;if(!e)return;const t=e.querySelector('input:not([type="hidden"])');t&&t.focus()}catch(e){}},this.handleLinkSSOSuccess=e=>{const t=e===te.a.Apple?W.a.LINK_APPLE_SSO:W.a.LINK_GOOGLE_SSO;this.props.onSSOLinkSuccess(s.fbt._("Account connected",null,{hk:"2X2Y2n"}),e,t)},this.handleUnlinkSSOSuccess=e=>{const t=e===te.a.Apple?W.a.UNLINK_APPLE_SSO:W.a.UNLINK_GOOGLE_SSO;this.props.onSSOUnlinkSuccess(s.fbt._("Account disconnected",null,{hk:"mUOBy"}),e,t)},this.setIframeStyles=e=>{this.setState(t=>({iframeStyles:Object.assign(Object.assign({},t.iframeStyles),e)}))},this.onMessage=e=>{const{data:t}=e;if(this.iframeRef.current&&e.source===this.iframeRef.current.contentWindow&&pe(e))if(t.type===B.a.CreateAccount)this.isAccountCreated=!0;else if(t.type===B.a.Close)this.closedByUser();else if(t.type===B.a.Subscribe)this.onSubscribe(t.subscriptions||t.subredditIds);else if(t.type===B.a.Login)this.onLogIn();else if(t.type===B.a.ChangePassword)this.onChangePassword();else if(t.type===B.a.Resize){if(t.payload&&this.trackResizing){const e=t.payload;e.height&&e.width&&this.setIframeStyles(e)}}else if(t.type===B.a.TwoFactorChanged)this.props.onTwoFactorChanged();else if(t.type===B.a.SSOLinkFail)this.props.onSSOLinkActionFail&&this.props.onSSOLinkActionFail();else if(t.type===B.a.SSOLinkSuccess){const e=t.payload&&t.payload.issuerId;this.handleLinkSSOSuccess(e)}else if(t.type===B.a.SSOUnlinkFail)this.props.onSSOLinkActionFail&&this.props.onSSOLinkActionFail();else if(t.type===B.a.SSOUnlinkSuccess){const e=t.payload&&t.payload.issuerId;this.handleUnlinkSSOSuccess(e)}else t.type===B.a.GoogleOneTapDisplayed?this.props.isLoggedIn||(this.setIframeStyles({visibility:"visible"}),this.onGoogleOneTapUIViewed()):t.type===B.a.GoogleOneTapFlowFailed?this.props.isLoggedIn||this.onGoogleOneTapFlowFailed(t.message):t.type===B.a.GoogleOneTapSkipped?this.props.isLoggedIn||(this.props.onGoogleOneTapSkipped&&this.props.onGoogleOneTapSkipped(t.reason),this.close()):t.type===B.a.ShowStep?this.onShowStep(t.step):t.type===B.a.PreferenceStatus?this.onEmailDigestsStatus(t.successfullySet):this.onSignUp(t.numberSubredditsSelected,t.subredditIds)},this.onSubscribe=e=>{this.props.onSubscriptionsChanged&&this.props.onSubscriptionsChanged(e||[])},this.onLogIn=()=>{this.props.redirectUrl?this.redirectTo(this.props.redirectUrl):(Object(z.a)(H.a.JustLoggedIn,!0),window.location.reload(!0))},this.onChangePassword=()=>{this.props.redirectUrl?this.redirectTo(this.props.redirectUrl):window.location.reload(!0)},this.onSignUp=(e,t)=>{let n="";if(this.props.redirectUrl)n=this.props.redirectUrl;else if("/"!==window.location.pathname)n=window.location.href;else{const s=0;n=(e||t&&t.length||0)>s?q.c[q.b.Home]:q.c[q.b.Popular]}this.redirectTo(n)},this.onShowStep=e=>{this.currentStep=e,e===B.b.Subscribe&&(this.trackResizing=!1,this.setIframeStyles({height:void 0,width:void 0})),this.props.onShowScreen&&this.props.onShowScreen(e)},this.onGoogleOneTapFlowFailed=e=>{this.close(),this.props.showToast(e||s.fbt._("Something went wrong. Please try again later",null,{hk:"3TdJZE"}),ne.b.Error)},this.onEmailDigestsStatus=e=>{e?this.props.showToast(s.fbt._("Changes saved",null,{hk:"6bifV"}),ne.b.SuccessCommunity):this.props.showToast(s.fbt._("Something went wrong. Please try again later",null,{hk:"1M3Z2N"}),ne.b.Error)},this.onGoogleOneTapUIViewed=()=>{this.props.onGoogleOneTapUIViewed&&this.props.onGoogleOneTapUIViewed()},this.redirectTo=e=>{window.location.replace(Object(N.a)(e,{[V.o]:"true"}))},this.closedByUser=()=>{if(this.currentStep){const e=be[this.currentStep];e&&this.props.sendEvent($(e))}this.close()},this.close=()=>{this.props.onClose&&this.props.onClose();try{sessionStorage.removeItem("data"),sessionStorage.removeItem("initialData")}catch(e){}this.isAccountCreated&&this.onSignUp()},this.isLoaded=!1,this.onIFrameLoad=e=>{this.currentStep=null,this.isLoaded?(this.trackResizing=!1,this.setIframeStyles({height:void 0,width:void 0}),this.props.onChange&&this.props.onChange()):this.isLoaded=!0}}componentDidMount(){this.iframeRef.current&&(this.iframeRef.current.onload=()=>{this.props.oniFrameLoaded(this.iframeRef.current,this.props.actionSource),this.focusFirstVisibleIframeInput()},this.props.exposeIFrameElement&&this.props.exposeIFrameElement(this.iframeRef.current)),window.addEventListener("message",this.onMessage)}componentDidUpdate(e){this.props.path!==e.path&&e.path===B.c.GoogleOneTap&&this.iframeRef.current&&this.setIframeStyles({height:void 0,visibility:void 0,width:void 0})}componentWillUnmount(){window.removeEventListener("message",this.onMessage)}render(){const{accountManagerSrc:e,className:t,showCloseButton:n}=this.props,{iframeStyles:s}=this.state;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ce,{className:t,innerRef:this.iframeRef,src:e,style:s,onLoad:this.onIFrameLoad}),n&&u.a.createElement(de,{onClick:this.closedByUser},u.a.createElement(le,null)))}}var ge,fe=me(Object(U.c)(he)),ve=n("./src/reddit/icons/svgs/ChevronDown/index.tsx"),Oe=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),ye=n("./src/reddit/components/Carousel/index.m.less"),Ce=n.n(ye);!function(e){e.Fade="fade",e.Slide="slide"}(ge||(ge={}));class xe extends u.a.Component{constructor(e){var t;super(e),t=this,this.timeoutNumber=null,this.handleNextPage=()=>{this.props.animationType===ge.Fade?this.handleNextFadePage():this.handleNextSlidePage(),this.setPageInterval()},this.handleNextFadePage=()=>{this.setState((e,t)=>Object.assign(Object.assign({},e),{pageNumber:(e.pageNumber+1)%t.items.length}))},this.handleNextSlidePage=()=>{this.setState((e,t)=>{const n=10*t.items.length;return Object.assign(Object.assign({},e),{pageNumber:(e.pageNumber+1)%n,items:e.pageNumber===n-1?t.items:e.pageNumber===e.items.length-1?e.items.concat(t.items):e.items})})},this.clearPageInterval=()=>{this.timeoutNumber&&window.clearTimeout(this.timeoutNumber)},this.setPageInterval=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.clearPageInterval(),t.timeoutNumber=window.setTimeout(t.handleNextPage,t.props.itemTime+e)},this.handleItemClick=()=>{this.clearPageInterval(),this.handleNextPage()},this.renderItemExtra=e=>{let{img:t,style:n}=e;return u.a.createElement("img",{key:t,src:"".concat(M.a.assetPath,"/").concat(t),style:n})},this.renderItem=(e,t)=>{const{animationType:n,itemWidth:s,shouldHandleMouseClicks:o}=this.props,{pageNumber:r}=this.state,a=n===ge.Fade?{opacity:t===r?1:0}:{marginLeft:0===t?-s*r:void 0};return u.a.createElement("div",{className:Object(g.a)(Ce.a.item,Ce.a[n]),key:"item-".concat(t),style:Object.assign(Object.assign({},a),{backgroundImage:'url("'.concat(M.a.assetPath,"/").concat(e.img,'")'),width:s}),onClick:o?this.handleItemClick:void 0},e.extra&&e.extra.map(this.renderItemExtra))},this.renderIndicator=(e,t)=>u.a.createElement("div",{className:Object(g.a)(Ce.a.indicator,{[Ce.a.indicatorSelected]:this.state.pageNumber%this.props.items.length===t}),key:t}),this.state={items:e.items,pageNumber:0}}componentDidMount(){this.setPageInterval(this.props.delay)}componentWillUnmount(){this.clearPageInterval()}render(){const{className:e,shouldShowIndicators:t,items:n}=this.props;return u.a.createElement("div",{className:Object(g.a)(e,Ce.a.container)},u.a.createElement("article",{className:Ce.a.items},this.state.items.map(this.renderItem)),t&&u.a.createElement("footer",{className:Ce.a.indicators},n.map(this.renderIndicator)))}}var Pe=n("./src/reddit/components/FrontpageSignup/Upsell/Images/index.m.less"),Ee=n.n(Pe);const je=I.a.div("Container",Ee.a),Se=I.a.wrapped(xe,"Carousel",Ee.a),_e=I.a.div("Phone",Ee.a),we=I.a.img("Frame",Ee.a),ke="".concat(M.a.assetPath,"/img/frontpage-signup/android-frame.png"),Ie="".concat(M.a.assetPath,"/img/frontpage-signup/iphone-frame.png"),Me=[{img:"img/frontpage-signup/android-1.png"},{img:"img/frontpage-signup/android-2.png"},{img:"img/frontpage-signup/android-3.png"},{img:"img/frontpage-signup/android-4.png"}],Ne=[{img:"img/frontpage-signup/iphone-1.png"},{img:"img/frontpage-signup/iphone-2.png"},{img:"img/frontpage-signup/iphone-3.png"},{img:"img/frontpage-signup/iphone-4.png"}];var Te=e=>{const{className:t}=e;return u.a.createElement(je,{className:t},u.a.createElement(_e,{className:Ee.a.android},u.a.createElement(Se,{animationType:ge.Fade,className:Ee.a.android,delay:2500,items:Me,itemTime:5e3,itemWidth:240}),u.a.createElement(we,{src:ke})),u.a.createElement(_e,{className:Ee.a.iphone},u.a.createElement(Se,{animationType:ge.Fade,className:Ee.a.iphone,items:Ne,itemTime:5e3,itemWidth:232}),u.a.createElement(we,{src:Ie})))},Re=n("./src/reddit/components/FrontpageSignup/Upsell/Links/index.m.less"),Ae=n.n(Re);const Le=I.a.div("Container",Ae.a),Fe=I.a.span("Disclaimer",Ae.a),De=I.a.a("Link",Ae.a);var Ge=e=>u.a.createElement(Le,{className:e.className},u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://about.reddit.com"},s.fbt._("about",null,{hk:"4n6gdA"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.redditinc.com/advertising"},s.fbt._("advertise",null,{hk:"3M40BX"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/http://www.redditblog.com/"},s.fbt._("blog",null,{hk:"iEUEu"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://about.reddit.com/careers/"},s.fbt._("careers",null,{hk:"1nRiZW"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.reddithelp.com"},s.fbt._("help",null,{hk:"3CJ8k2"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://about.reddit.com/press/"},s.fbt._("press",null,{hk:"x8wb0"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.reddit.com/mobile/download"},s.fbt._("The Reddit App",null,{hk:"1N9ljJ"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.reddit.com/coins"},s.fbt._("Reddit coins",null,{hk:"4EwVXk"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://redditgifts.com/"},s.fbt._("Reddit gifts",null,{hk:"1XCLXF"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.reddit.com/premium"},s.fbt._("Reddit premium",null,{hk:"1v1E7F"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.redditinc.com/policies/user-agreement"},s.fbt._("User agreement",null,{hk:"18j1Xy"})),u.a.createElement(De,{href:"https://web.archive.org/web/20201201014008/https://www.reddit.com/help/healthycommunities/"},s.fbt._("Mod policy",null,{hk:"18VnG9"})),u.a.createElement(Fe,null,s.fbt._("© 2019 Reddit, Inc. All rights reserved",null,{hk:"1AMxtg"}))),Ue=n("./src/reddit/components/FrontpageSignup/Upsell/index.m.less"),Be=n.n(Ue);const He={stiffness:300,damping:40,precision:1},qe=I.a.div("Container",Be.a),We=I.a.wrapped(fe,"IFrame",Be.a),Ve=I.a.wrapped(Te,"Images",Be.a),Qe=I.a.wrapped(Ge,"Links",Be.a),ze=I.a.div("MainContent",Be.a),Ke=I.a.div("MainContentColumn",Be.a),Je=I.a.button("NotReady",Be.a),Ye=I.a.span("NotReadyText",Be.a),Xe=I.a.wrapped(ve.a,"NotReadyIcon",Be.a),Ze=Object(v.a)(e=>{const{className:t,containerRef:n,frontpageSignupVariant:o,onCloseClick:r,onVisibilityChange:a}=e,i=Object(Oe.a)(e).bodyText;return u.a.createElement(_.a,{root:"SignupUpsellContainer",threshold:.01,rootMargin:"0px 0px 0px 0px",onChange:a},u.a.createElement(qe,{className:t,innerRef:n},u.a.createElement(ze,null,u.a.createElement(Ke,null,u.a.createElement(Ve,null,"Images Placeholder")),u.a.createElement(Ke,null,u.a.createElement(We,{className:Object(g.a)({[Be.a.fields]:Object(oe.b)(o)}),path:B.c.Register,uiMode:B.d.Embed}))),u.a.createElement(Je,{onClick:r,style:{"--frontpagesignup-upsell-text-hover-color":Object(w.j)(.8,i)}},u.a.createElement(Ye,null,s.fbt._("Not ready to sign up yet?",null,{hk:"5RIgO"})),u.a.createElement(Xe,null)),u.a.createElement(Qe,null)))});class $e extends u.a.Component{componentDidUpdate(e){this.props.scrollTo!==e.scrollTo&&window.scrollTo({top:this.props.scrollTo})}render(){return null}}class et extends u.a.Component{constructor(){super(...arguments),this.containerRef=u.a.createRef(),this.state={isClosed:!1},this.closeUpsell=()=>{"safari"in window?this.hideUpsell():(this.setState({isClosed:!0}),this.props.sendEvent(Y()))},this.hideUpsell=()=>{this.containerRef.current&&(this.containerRef.current.style.marginTop="-".concat(this.containerRef.current.offsetHeight,"px"),this.props.onClose())},this.handleUpsellVisibilityChange=e=>{this.state.isClosed||e.isIntersecting||this.hideUpsell()},this.renderScroller=e=>{let{scrollTo:t}=e;return u.a.createElement($e,{scrollTo:t})}}render(){const{className:e,frontpageSignupVariant:t}=this.props,{isClosed:n}=this.state,s=n&&this.containerRef.current?this.containerRef.current.offsetHeight:0;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ze,{className:e,containerRef:this.containerRef,frontpageSignupVariant:t,onCloseClick:this.closeUpsell,onVisibilityChange:this.handleUpsellVisibilityChange}),u.a.createElement(k.Motion,{defaultStyle:{scrollTo:0},onRest:this.hideUpsell,style:{scrollTo:Object(k.spring)(s,He)}},this.renderScroller))}}var tt=Object(U.c)(et),nt=n("./node_modules/js-cookie/src/js.cookie.js"),st=n.n(nt),ot=n("./src/lib/localStorageAvailable/index.ts"),rt=n("./src/higherOrderComponents/makeAsync.tsx"),at=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("BadgePurchaseModal").then(n.bind(null,"./src/reddit/components/Badges/PurchaseModal/index.tsx")).then(e=>e.default)}),it=n("./src/reddit/components/BannedUserList/AddBannedUserModal/index.tsx"),ct=n("./src/higherOrderComponents/asModal/index.tsx"),dt=n("./src/reddit/controls/Button/index.tsx"),lt=n("./src/reddit/selectors/activeModalId.ts"),ut=n("./src/reddit/components/DownToChatBanner/DownToChatPendingModal/index.m.less"),mt=n.n(ut);const{fbt:pt}=n("./node_modules/fbt/lib/FbtPublic.js"),bt=I.a.button("CloseButton",mt.a),ht=I.a.wrapped(ee.a,"Close",mt.a),gt=I.a.div("Container",mt.a),ft=I.a.p("Description",mt.a),vt=I.a.div("Footer",mt.a),Ot=I.a.h3("Heading",mt.a),yt=I.a.img("SnooImage",mt.a),Ct=I.a.div("Wrapper",mt.a),xt=Object(h.c)({activeModalId:lt.a});class Pt extends u.a.Component{constructor(){super(...arguments),this.onCloseButtonClick=()=>{const{modalToggled:e,activeModalId:t}=this.props;t&&e(t)}}render(){return u.a.createElement(Ct,null,u.a.createElement(gt,null,u.a.createElement(Ot,null,pt._("Ok, looking for people now...",null,{hk:"2fr3Y9"})),u.a.createElement(ft,null,pt._("You’ll be redirected to your chat room shortly.",null,{hk:"4tpnrt"})),u.a.createElement(yt,{src:"".concat(M.a.assetPath,"/img/magnifying-glass-snoo.png")})),u.a.createElement(vt,null,u.a.createElement(dt.i,{onClick:this.onCloseButtonClick},pt._("Sounds good",null,{hk:"1OMLn5"}))),u.a.createElement(bt,{onClick:this.onCloseButtonClick},u.a.createElement(ht,null)))}}var Et=Object(m.b)(xt,e=>({modalToggled:t=>e(Object(T.i)(t))}))(Object(ct.a)(Object(U.c)(Pt))),jt=n("./src/lib/loadWithRetries/index.ts");const St=()=>null;var _t=Object(rt.a)({ErrorComponent:St,getComponent:()=>Object(jt.a)(()=>n.e("ManageChatRoomsModal").then(n.bind(null,"./src/reddit/components/ManageChatRoomsModal/_ManageChatRoomsModal.tsx"))).then(e=>e.default),LoadingComponent:St}),wt=n("./src/reddit/components/MutedUserList/MuteUserModal/index.tsx");var kt=Object(rt.a)({getComponent:()=>Object(jt.a)(()=>n.e("NotificationsPrePromptLoader").then(n.bind(null,"./src/reddit/components/NotificationsPrePrompt/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null});const It=()=>null;var Mt=Object(rt.a)({ErrorComponent:It,getComponent:()=>Object(jt.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("ModerationPages")]).then(n.bind(null,"./src/reddit/components/RemovalReasons/AddRemovalReasonModal/_AddRemovalReasonModal.tsx"))).then(e=>e.default),LoadingComponent:It}),Nt=n("./src/reddit/actions/structuredStyles/index.ts"),Tt=n("./src/reddit/components/ModalStyledComponents/index.tsx"),Rt=n("./src/reddit/controls/TextButton/index.tsx"),At=n("./src/reddit/layout/twoCol/ExpandLeft/index.tsx");const{fbt:Lt}=n("./node_modules/fbt/lib/FbtPublic.js"),Ft=Object(m.b)(null,(e,t)=>{let{subredditId:n}=t;return{closeModal:()=>{e(Object(T.i)(W.a.BLADE_NIGHTMODE)),e(Object(Nt.f)())},openBlade:()=>{e(Object(Nt.e)(n))}}});var Dt=Object(ct.a)(Ft(e=>u.a.createElement(Tt.d,null,u.a.createElement(Tt.h,null,u.a.createElement(At.a,null,u.a.createElement(Tt.p,null,Lt._("Turning off Night Mode",null,{hk:"2XW7Rk"})),u.a.createElement(Rt.a,{onClick:e.closeModal},u.a.createElement(Tt.b,null)))),u.a.createElement(Tt.k,null,u.a.createElement(Tt.n,null,Lt._("In order to continue styling your community, Night Mode must be turned off.",null,{hk:"2qLSfr"}))),u.a.createElement(Tt.f,null,u.a.createElement(Tt.a,{onClick:e.closeModal,"data-redditstyle":!0},Lt._("Cancel",null,{hk:"2TSLl5"})),u.a.createElement(Tt.q,{onClick:e.openBlade,"data-redditstyle":!0},Lt._("Continue",null,{hk:"413jMZ"})))))),Gt=n("./src/reddit/actions/authorFlair.ts"),Ut=n("./src/reddit/actions/userFlair.ts"),Bt=n("./src/reddit/components/FlairPickerTitle/index.tsx"),Ht=n("./src/reddit/components/FlairPickerWrapper/index.tsx"),qt=n("./src/reddit/components/FlairPreview/index.tsx"),Wt=n("./src/reddit/components/FlairSearch/index.tsx"),Vt=n("./src/reddit/components/PostFlairPicker/helpers.ts"),Qt=n("./src/reddit/controls/CheckboxWithLabel/index.tsx"),zt=n("./src/reddit/layout/row/Inline/index.tsx"),Kt=n("./src/reddit/models/Flair/index.ts"),Jt=n("./src/reddit/models/User/index.ts"),Yt=n("./src/reddit/selectors/authorFlair.ts"),Xt=n("./src/reddit/selectors/moderatorPermissions.ts"),Zt=n("./src/reddit/selectors/userFlair.ts"),$t=n("./src/reddit/components/UserFlairPicker/index.m.less"),en=n.n($t);const tn=e=>e.inContextAuthor&&e.currentUser&&Object(Jt.e)(e.currentUser)===e.inContextAuthor.username,nn=e=>e.authorFlair||tn(e)&&e.userFlairData.applied||null,sn=I.a.wrapped(zt.a,"Section",en.a),on=I.a.div("CheckboxText",en.a);class rn extends u.a.Component{constructor(e){super(e),this.getTrackingNoun=(e,t)=>this.props.isMod?e:t,this.track=e=>this.props.sendEvent(t=>({source:"user_flair_picker",action:"click",noun:e,subreddit:Object(K.subredditById)(t,this.props.subredditId)})),this.setSelectedFlair=e=>this.setState({previewFlair:e}),this.onApply=()=>{const{props:e,state:t}=this,n=t.previewFlair?t.previewFlair.templateId:void 0;e.activeFlairChanged(t.previewFlair,n,t.showFlair,e.inContextAuthor),e.closeModal(),this.track(this.getTrackingNoun("flairadd_mod","flairadd_user"))},this.onClear=()=>this.setSelectedFlair(null),this.onToggleShowFlair=()=>{this.setState({showFlair:!this.state.showFlair})},this.state={previewFlair:nn(e),showFlair:e.userFlairData.displaySettings.isUserEnabled}}canSave(){const{userFlairData:e}=this.props,{previewFlair:t}=this.state,{templates:n,permissions:s}=e,{isUserEnabled:o}=e.displaySettings,r=this.state.showFlair!==o,a=nn(this.props);if(!s.canUserChange)return r;const{canSave:i,reason:c}=Object(Vt.b)(n,t,a);return!(i||c!==Vt.a.NoChanges||!r)||i}render(){const{props:e,state:t}=this,{userFlairData:n,subredditId:o}=e,r=n.permissions.canUserChange,a=n.permissions.canUserChange,{templates:i,templateIds:c}=n,d=this.canSave(),l=tn(e);return u.a.createElement(Ht.a,null,u.a.createElement(Bt.a,{onClosePressed:e.closeModal,title:s.fbt._("Select your community flair",null,{hk:"199vaD"})}),u.a.createElement(qt.a,{flair:t.previewFlair,flairTemplateType:Kt.d.UserFlair,placeholderText:s.fbt._("u/username",null,{hk:"2EDH9"})}),a&&u.a.createElement(Wt.a,{flair:t.previewFlair,flairTemplateType:Kt.d.UserFlair,subredditId:o,templates:i,templateIds:c,onChange:this.setSelectedFlair}),l&&u.a.createElement(sn,null,u.a.createElement(Qt.a,{isSelected:t.showFlair,onClick:this.onToggleShowFlair,text:u.a.createElement(on,null,s.fbt._("Show my user flair on this community",null,{hk:"x9nc9"}))})),u.a.createElement("div",{className:en.a.buttonsRow},u.a.createElement(dt.i,{disabled:!d,onClick:this.onApply},s.fbt._("Apply",null,{hk:"ZvO9n"})),r&&u.a.createElement(dt.l,{className:en.a.clearButton,onClick:this.onClear},s.fbt._("Clear Flair",null,{hk:"23i2at"}))))}}const an=Object(m.b)(()=>Object(h.c)({authorFlair:Yt.b,currentUser:re.i,inContextAuthor:Yt.c,isMod:(e,t)=>!!Object(Xt.j)(e,t),userFlairData:Zt.c}),(e,t)=>({activeFlairChanged:(n,s,o,r)=>e(Object(Ut.o)(n,s,o,r.username,t.subredditId)),closeModal:()=>e(Object(Gt.b)({username:null,subredditId:null}))}))(rn);var cn=Object(ct.a)(Object(U.c)(an)),dn=n("./src/reddit/selectors/notificationPrefs.ts"),ln=n("./src/reddit/selectors/platform.ts"),un=n("./src/reddit/selectors/removalReasons.ts"),mn=n("./src/reddit/selectors/subredditModeration.ts"),pn=n("./src/reddit/constants/cookie.ts"),bn=n("./src/reddit/featureFlags/index.ts"),hn=n("./src/reddit/helpers/localStorage/index.ts"),gn=n("./src/reddit/helpers/toggleBodyScroll/index.ts");const fn=Object(h.c)({activeModalId:lt.a,anyModalIsOpen:e=>!!e.activeModalId,authorContext:Yt.c,badgePurchaseModalIsOpen:Object(lt.b)(W.a.BADGE_PURCHASE),banContext:mn.f,banModalIsOpen:Object(lt.b)(W.a.BAN_USER),bladeNightmodeModalIsOpen:Object(lt.b)(W.a.BLADE_NIGHTMODE),chatroomSettingsModalIsOpen:Object(lt.b)(W.a.SUBREDDIT_CHAT_SETTINGS),currentBadgePurchase:e=>e.products.currentlyPurchasing,editChatroomModalIsOpen:Object(lt.b)(W.a.EDIT_SUBREDDIT_CHAT),deleteChatroomModalIsOpen:Object(lt.b)(W.a.DELETE_SUBREDDIT_CHAT),downToChatPendingModalIsOpen:Object(lt.b)(W.a.DOWN_TO_CHAT_PENDING_MODAL),introModalFeatureEnabled:e=>bn.d.introModal(e),isOverlayOpen:ln.i,manageChatroomModalIsOpen:Object(lt.b)(W.a.MANAGE_SUBREDDIT_CHAT),moderatorPermissions:e=>{const t=Object(ln.d)(e);if(t)return e.moderatingSubreddits[t]},muteContext:mn.C,muteModalIsOpen:Object(lt.b)(W.a.MUTE_USER),notificationsPrePromptIsOpen:dn.c,removalReasonContext:un.b,removalReasonModalIsOpen:Object(lt.b)(W.a.ADD_REMOVAL_REASON),subredditId:ln.d,userFlairModalIsOpen:Object(lt.b)(W.a.USER_FLAIR_MODAL_ID),userHasSeenRedesignModal:re.w,userInRedesignBeta:re.D,userIsLoggedIn:re.J,userIsMod:re.K,userIsNew:re.M});class vn extends u.a.Component{constructor(e){super(e),this.state={domReady:!1}}conditionalModalCheck(){if(!Object(ot.a)())return;{const e=st.a.get(pn.a);e&&st.a.remove(pn.a,{domain:M.a.cookieDomain});const t=Object(hn.t)(W.a.ALPHA_CONSUMER);t&&Object(hn.K)(W.a.ALPHA_CONSUMER),(e||t)&&Object(hn.gb)(W.a.REDESIGN_MODAL,!0)}const{userHasSeenRedesignModal:e,markRedesignModalAsClosed:t}=this.props,n=Object(hn.t)(W.a.REDESIGN_MODAL);!e&&n?t():e&&!n&&Object(hn.gb)(W.a.REDESIGN_MODAL,!0)}componentDidMount(){this.conditionalModalCheck(),this.setState({domReady:!0})}componentDidUpdate(){this.conditionalModalCheck(),W.b.includes(this.props.activeModalId||"")||(this.props.anyModalIsOpen?setTimeout(()=>Object(gn.a)(),500):setTimeout(()=>Object(gn.b)(),500))}render(){const{authorContext:e,badgePurchaseModalIsOpen:t,banContext:n,banModalIsOpen:s,bladeNightmodeModalIsOpen:o,chatroomSettingsModalIsOpen:r,currentBadgePurchase:a,editChatroomModalIsOpen:i,deleteChatroomModalIsOpen:c,downToChatPendingModalIsOpen:d,manageChatroomModalIsOpen:m,muteContext:p,muteModalIsOpen:b,notificationsPrePromptIsOpen:h,removalReasonContext:g,removalReasonModalIsOpen:f,sendEvent:v,subredditId:O,toggleBanModal:y,toggleMuteModal:C,toggleRemovalReasonsModal:x,userFlairModalIsOpen:P}=this.props,E=(e,t,n)=>s=>()=>v(o=>({source:e,action:"click",noun:s,comment:n&&Object(K.comment)(o,n),post:n&&Object(K.post)(o,n),screen:Object(K.screen)(o),subreddit:Object(K.subredditById)(o,t)}));return u.a.createElement(l.Fragment,null,s&&n&&u.a.createElement(it.a,{contextId:n.contextId,subredditId:n.subredditId,toggleModal:y,trackAddEvent:E("banned",n.subredditId,n.contextId)("add_in_context"),trackEventWithName:E("banned",n.subredditId,n.contextId),username:n.username}),b&&p&&u.a.createElement(wt.a,{contextId:p.contextId,subredditId:p.subredditId,toggleModal:C,trackAddEvent:E("muted",p.subredditId,p.contextId)("add_in_context"),username:p.username}),(m||c||i||r)&&O&&u.a.createElement(_t,{subredditId:O,withOverlay:!0}),f&&g&&u.a.createElement(Mt,{itemIds:g.itemIds,subredditId:g.subredditId,toggleModal:x,trackClick:E("removal_reasons",g.subredditId,1===g.itemIds.length?g.itemIds[0]:void 0)}),o&&O&&u.a.createElement(Dt,{subredditId:O}),P&&e&&e.subredditId&&u.a.createElement(cn,{subredditId:e.subredditId}),t&&a&&u.a.createElement(at,{withOverlay:!0,productId:a}),h&&u.a.createElement(kt,null),d&&u.a.createElement(Et,{withOverlay:!0}))}}var On=Object(m.b)(fn,e=>({markRedesignModalAsClosed:()=>e(Object(T.j)()),toggleBanModal:()=>e(Object(T.i)(W.a.BAN_USER)),toggleBladeNightmodeModal:()=>e(Object(T.i)(W.a.BLADE_NIGHTMODE)),toggleMuteModal:()=>e(Object(T.i)(W.a.MUTE_USER)),toggleRemovalReasonsModal:()=>e(Object(T.i)(W.a.ADD_REMOVAL_REASON))}))(Object(U.c)(vn)),yn=n("./src/reddit/components/GlobalModalContainer/registry.ts"),Cn=n("./src/reddit/constants/experiments.ts"),xn=n("./src/reddit/contexts/PageLayer/index.tsx"),Pn=n("./src/reddit/helpers/featureThrottling/store/index.ts"),En=n("./src/reddit/selectors/responsiveSettings.ts"),jn=n("./src/reddit/components/AccountManagerModal/index.m.less"),Sn=n.n(jn);const _n=I.a.div("Overlay",Sn.a),wn=I.a.div("IframeContainer",Sn.a),kn={},In=Object(xn.t)(),Mn=Object(h.c)({frontpageSignupVariant:oe.a,isResponsiveSettingsEnabled:En.a}),Nn={[B.c.ChangePassword]:W.a.CHANGE_PASSWORD_MODAL_ID,[B.c.Index]:W.a.LOGIN_MODAL_ID,[B.c.Register]:W.a.REGISTER_MODAL_ID,[B.c.EnableTwoFactor]:W.a.ENABLE_TWO_FACTOR,[B.c.DisableTwoFactor]:W.a.DISABLE_TWO_FACTOR,[B.c.TwoFactorBackupCodes]:W.a.TWO_FACTOR_BACKUP_CODES,[B.c.LinkAppleSSO]:W.a.LINK_APPLE_SSO,[B.c.UnlinkAppleSSO]:W.a.UNLINK_APPLE_SSO,[B.c.LinkGoogleSSO]:W.a.LINK_GOOGLE_SSO,[B.c.UnlinkGoogleSSO]:W.a.UNLINK_GOOGLE_SSO,[B.c.GoogleOneTap]:W.a.GOOGLE_ONE_TAP_MODAL_ID};class Tn extends u.a.Component{constructor(){super(...arguments),this.subscriptions=[],this.state={containerSize:null,isSSOLinkActionFailedModal:!1,removeGoogleOneTapStyles:!1,removeHiddenOverlay:!1},this.closeModal=()=>{this.props.closeModal(this.props.path),this.props.path===B.c.Register&&Object(oe.f)(this.props.frontpageSignupVariant)&&Pn.a.throttleFeature(Cn.W),this.props.sendEvent(Y(this.subscriptions))},this.resizeContainer=e=>{this.setState({containerSize:e})},this.restoreContainerSize=()=>{this.setState({containerSize:null})},this.updateSubscriptions=e=>{this.subscriptions=e},this.handleSSOLinkActionFail=()=>{this.setState({isSSOLinkActionFailedModal:!0})},this.restoreIFrameStyles=()=>{this.setState({removeGoogleOneTapStyles:!0,removeHiddenOverlay:!0})},this.onGoogleOneTapSkipped=e=>{"user_cancel"===e&&this.props.sendEvent(X())},this.onGoogleOneTapUIViewed=()=>{this.props.sendEvent(Z())},this.onShowScreen=e=>{const{path:t}=this.props,n=t===B.c.Index||t===B.c.Register,s=t===B.c.GoogleOneTap;e===B.b.SelectAccount?n?this.resizeContainer({height:474,width:416}):s&&this.setState({removeHiddenOverlay:!0}):e===B.b.Subscribe?(n&&this.restoreContainerSize(),this.restoreIFrameStyles()):e===B.b.Email||e===B.b.UsernameAndPassword?n&&this.restoreContainerSize():e!==B.b.EmailOptIn&&e!==B.b.GoogleUI||this.setState({removeHiddenOverlay:!1})}}render(){const{frontpageSignupVariant:e,isResponsiveSettingsEnabled:t,pageLayer:n,path:s}=this.props,{containerSize:o,isSSOLinkActionFailedModal:r,removeGoogleOneTapStyles:a,removeHiddenOverlay:i}=this.state,c=Object(oe.c)(e)||Object(oe.d)(e),d=s===B.c.LinkAppleSSO||s===B.c.LinkGoogleSSO||s===B.c.UnlinkAppleSSO||s===B.c.UnlinkGoogleSSO,l=s===B.c.GoogleOneTap,m=Object(g.a)({[Sn.a.small]:c,[Sn.a.ssoConfirmPassword]:d,[Sn.a.linkActionSSOFail]:r,[Sn.a.mResponsive]:t,[Sn.a.mGoogleOneTap]:l&&!a}),p=Object(g.a)({[Sn.a.mGoogleOneTap]:l&&!a,[Sn.a.mHiddenOverlay]:l&&!i}),b=!c&&!r&&!t;return u.a.createElement(_n,{className:p},u.a.createElement(wn,{className:m,style:o||kn},u.a.createElement(fe,{onChange:this.restoreContainerSize,onClose:this.closeModal,onGoogleOneTapSkipped:this.onGoogleOneTapSkipped,onGoogleOneTapUIViewed:this.onGoogleOneTapUIViewed,onShowScreen:this.onShowScreen,onSSOLinkActionFail:this.handleSSOLinkActionFail,onSubscriptionsChanged:this.updateSubscriptions,pageLayer:n,path:s,showCloseButton:b})))}}const Rn=In(Object(m.b)(Mn,(e,t)=>({closeModal:t=>{e(Object(T.g)(Nn[t]))}}))(Object(U.c)(Tn)));Object(yn.b)(W.a.CHANGE_PASSWORD_MODAL_ID,e=>u.a.createElement(Rn,{path:B.c.ChangePassword})),Object(yn.b)(W.a.LOGIN_MODAL_ID,e=>u.a.createElement(Rn,{path:B.c.Index})),Object(yn.b)(W.a.ENABLE_TWO_FACTOR,e=>u.a.createElement(Rn,{path:B.c.EnableTwoFactor})),Object(yn.b)(W.a.DISABLE_TWO_FACTOR,e=>u.a.createElement(Rn,{path:B.c.DisableTwoFactor})),Object(yn.b)(W.a.TWO_FACTOR_BACKUP_CODES,e=>u.a.createElement(Rn,{path:B.c.TwoFactorBackupCodes})),Object(yn.b)(W.a.REGISTER_MODAL_ID,e=>u.a.createElement(Rn,{path:B.c.Register})),Object(yn.b)(W.a.LINK_APPLE_SSO,e=>u.a.createElement(Rn,{path:B.c.LinkAppleSSO})),Object(yn.b)(W.a.LINK_GOOGLE_SSO,e=>u.a.createElement(Rn,{path:B.c.LinkGoogleSSO})),Object(yn.b)(W.a.UNLINK_APPLE_SSO,e=>u.a.createElement(Rn,{path:B.c.UnlinkAppleSSO})),Object(yn.b)(W.a.UNLINK_GOOGLE_SSO,e=>u.a.createElement(Rn,{path:B.c.UnlinkGoogleSSO})),Object(yn.b)(W.a.GOOGLE_ONE_TAP_MODAL_ID,e=>u.a.createElement(Rn,{path:B.c.GoogleOneTap}));const An=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("BadgePickerModal").then(n.bind(null,"./src/reddit/components/Badges/PickerModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.BADGE_PICKER,e=>u.a.createElement(An,{withOverlay:!0}));var Ln=n("./src/reddit/components/CoinPurchaseModal/async.tsx");const Fn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("ContributorRequestPendingModal").then(n.bind(null,"./src/reddit/components/ContributorRequestFlow/PendingModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.CONTRIBUTOR_REQUEST_PENDING,e=>u.a.createElement(Fn,{withOverlay:!0}));const Dn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("ContributorRequestRequestModal").then(n.bind(null,"./src/reddit/components/ContributorRequestFlow/RequestModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.CONTRIBUTOR_REQUEST,e=>u.a.createElement(Dn,{withOverlay:!0}));const Gn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("CrowdControlModal~ProfileModeration~Settings~SubredditCreation"),n.e("CrowdControlModal")]).then(n.bind(null,"./src/reddit/components/CrowdControlModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.CROWD_CONTROL,e=>u.a.createElement(Gn,{onOverlayClick:e,withOverlay:!0}));const Un=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Object(jt.a)(()=>n.e("EconPowerupsMarketingModal").then(n.bind(null,"./src/reddit/components/Econ/PowerupsMarketingModal/index.tsx"))).then(e=>e.default)});Object(yn.b)(W.a.ECON_POWERUPS_MARKETING,e=>u.a.createElement(Un,{onOverlayClick:e,withOverlay:!0}));n("./node_modules/core-js/modules/web.dom.iterable.js");var Bn=n("./src/reddit/helpers/loadThirdPartyScript.ts");const Hn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Object(jt.a)(()=>Promise.all([Promise.all([n.e("vendors~CoinPurchaseModal~EconPowerupsPurchaseModal~PennyPurchaseModal~PremiumPurchaseModal~UpdateCardModal"),n.e("CoinPurchaseModal~EconPowerupsPurchaseModal~PennyPurchaseModal"),n.e("EconPowerupsPurchaseModal")]).then(n.bind(null,"./src/reddit/components/Econ/PowerupsPurchaseModal/index.tsx")),Object(Bn.d)()])).then(e=>e[0].default)});Object(yn.b)(W.a.ECON_POWERUPS_PURCHASE,e=>u.a.createElement(Hn,{onOverlayClick:e,withOverlay:!0}));n("./src/reddit/components/Econ/TopAwardersModal/async.tsx");const qn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("vendors~EconHelperActions~SubredditPremiumBadgeManagement~reddit-components-Econ-Prediction"),n.e("SubredditPremiumBadgeManagement")]).then(n.bind(null,"./src/reddit/components/Economics/SubredditPremium/Badges/ManagementModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT,e=>u.a.createElement(qn,{ignoreDefaultFocus:!0,withOverlay:!0}));const Wn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("SubredditPremiumUploadModal")]).then(n.bind(null,"./src/reddit/components/Economics/SubredditPremium/UploadModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.SUBREDDIT_PREMIUM_UPLOAD_MODAL,e=>u.a.createElement(Wn,{ignoreDefaultFocus:!0,withOverlay:!0}));const Vn=Object(rt.a)({getComponent:()=>Object(jt.a)(()=>Promise.all([n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("FramedGild~GildModal"),n.e("GildModal")]).then(n.bind(null,"./src/reddit/components/GildModal/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),Qn=e=>()=>{e()};Object(yn.b)(W.a.GOLD_GILD_MODAL,e=>u.a.createElement(Vn,{onOverlayClick:Qn(e),withOverlay:!0}));var zn=n("./src/reddit/components/Gold/GildAnimationOverlay/index.tsx"),Kn=n("./src/reddit/components/Gold/GildAnimationOverlay/index.m.less"),Jn=n.n(Kn);const Yn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>{return document.createElement("img").src=zn.SPARKLE_ASSET_PATH,document.createElement("img").src=zn.STARBURST_ASSET_PATH,Promise.resolve().then(n.bind(null,"./src/reddit/components/Gold/GildAnimationOverlay/index.tsx")).then(e=>e.default)}});Object(yn.b)(W.a.GOLD_GILD_ANIMATION_OVERLAY,e=>u.a.createElement(Yn,{withOverlay:!0,className:Jn.a.modalBody,overlayClassName:Jn.a.modalOverlay}));const Xn=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("GoldTargetedOfferModal").then(n.bind(null,"./src/reddit/components/Gold/TargetedOfferModal/index.tsx")).then(e=>e.default)}),Zn=e=>()=>{e()};Object(yn.b)(W.a.GOLD_TARGETED_OFFER_MODAL,e=>u.a.createElement(Xn,{onOverlayClick:Zn(e),withOverlay:!0}));const $n=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("HarbergerTaxManageModal")]).then(n.bind(null,"./src/reddit/components/Governance/HarbergerTax/BannerManageModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.HARBERGER_TAX_BANNER_MANAGE,e=>u.a.createElement($n,{ignoreDefaultFocus:!0,withOverlay:!0}));const es=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("HarbergerTaxPurchaseModal").then(n.bind(null,"./src/reddit/components/Governance/HarbergerTax/BannerPurchaseModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.HARBERGER_TAX_BANNER_PURCHASE,e=>u.a.createElement(es,{ignoreDefaultFocus:!0,withOverlay:!0}));const ts=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("CryptoHarbergerTaxManageModal")]).then(n.bind(null,"./src/reddit/components/Governance/HarbergerTaxWithCrypto/BannerManageModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.HARBERGER_TAX_CRYPTO_BANNER_MANAGE,e=>u.a.createElement(ts,{ignoreDefaultFocus:!0,withOverlay:!0}));const ns=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("CryptoHarbergerTaxPurchaseModal").then(n.bind(null,"./src/reddit/components/Governance/HarbergerTaxWithCrypto/BannerPurchaseModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE,e=>u.a.createElement(ns,{ignoreDefaultFocus:!0,withOverlay:!0}));const ss=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("vendors~GovernanceReleaseNotesModal"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("GovernanceReleaseNotesModal")]).then(n.bind(null,"./src/reddit/components/Governance/ReleaseNotesModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.GOVERNANCE_RELEASE_NOTES,e=>u.a.createElement(ss,{withOverlay:!0}));n("./src/reddit/components/Governance/TransactionModals/ConvertToCoinsModal/async.tsx");const os=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([n.e("vendors~GovernanceTransferPointsModal~reddit-components-Governance-TransactionModals-ClaimPointsModa~b2d0d5d1"),n.e("GovernanceTransferPointsModal")]).then(n.bind(null,"./src/reddit/components/Governance/TransferPointsModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.TRANSFER_POINTS,e=>u.a.createElement(os,{ignoreDefaultFocus:!0,withOverlay:!0}));const rs=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("GovernanceWalletRegistration").then(n.bind(null,"./src/reddit/components/Governance/WalletRegistration/Modal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.WALLET_REGISTRATION_MODAL,e=>u.a.createElement(rs,{ignoreDefaultFocus:!0,withOverlay:!0}));const as=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("ModToMemberShareModal").then(n.bind(null,"./src/reddit/components/ModToMemberShareModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.MOD_TO_MEMBER_SHARE,e=>u.a.createElement(as,{onOverlayClick:e,withOverlay:!0}));const is=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("MultiredditAddSubredditModal").then(n.bind(null,"./src/reddit/components/MultiredditAddSubredditModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.MULTIREDDIT_ADD_SUBREDDIT,e=>u.a.createElement(is,{onOverlayClick:e,withOverlay:!0}));const cs=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("MultiredditCreateModal").then(n.bind(null,"./src/reddit/components/MultiredditCreateModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.MULTIREDDIT_CREATE,e=>u.a.createElement(cs,{onOverlayClick:e,withOverlay:!0})),Object(yn.b)(W.a.MULTIREDDIT_DUPLICATE,e=>u.a.createElement(cs,{isDuplicateModal:!0,onOverlayClick:e,withOverlay:!0}));const ds=Object(rt.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>n.e("MultiredditEditModal").then(n.bind(null,"./src/reddit/components/MultiredditEditModal/index.tsx")).then(e=>e.default)});Object(yn.b)(W.a.MULTIREDDIT_EDIT,e=>u.a.createElement(ds,{onOverlayClick:e,withOverlay:!0}));const ls=()=>null,us=Object(rt.a)({ErrorComponent:ls,getComponent:()=>Object(jt.a)(()=>n.e("GlobalModalContainer").then(n.bind(null,"./src/reddit/components/ProfilePinnedPosts/PinnedPostsLimitReachedModal/_PinnedPostsLimitReachedModal.tsx"))).then(e=>e.default),LoadingComponent:ls});Object(yn.b)(W.a.PINNED_POSTS_LIMIT_REACHED,e=>u.a.createElement(us,null));var ms=n("./src/reddit/components/ShortcutIndexModal/index.m.less"),ps=n.n(ms);const{fbt:bs}=n("./node_modules/fbt/lib/FbtPublic.js"),hs=I.a.h2("ColumnLabel",ps.a),gs=I.a.wrapped(zt.a,"ColumnWrapper",ps.a),fs=I.a.div("Column",ps.a),vs=I.a.div("Description",ps.a),Os=I.a.div("Key",ps.a),ys=I.a.wrapped(Tt.k,"ModalMain",ps.a),Cs=I.a.wrapped(Tt.d,"ModalBody",ps.a),xs=I.a.wrapped(dt.i,"PrimaryButton",ps.a),Ps=I.a.wrapped(Rt.a,"TextButton",ps.a),Es=Object(m.b)(null,e=>({closeModal:()=>e(Object(T.i)(W.a.KEYBOARD_SHORTCUTS))})),js=I.a.wrapped(Object(ct.a)(Es(e=>u.a.createElement(Cs,{onClick:e=>e.stopPropagation()},u.a.createElement(Tt.h,null,u.a.createElement(At.a,null,u.a.createElement(Tt.p,null,bs._("Keyboard Shortcuts",null,{hk:"zoWU1"})),u.a.createElement(Ps,{onClick:e.closeModal},u.a.createElement(Tt.b,null)))),u.a.createElement(ys,null,u.a.createElement(gs,null,u.a.createElement(fs,null,u.a.createElement(zt.a,null,u.a.createElement(hs,null,bs._("Navigation",null,{hk:"3zSWEe"}))),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Show shortcuts",null,{hk:"4hXvrI"})),u.a.createElement(Os,null,"Shift + ?")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Next post or comment",null,{hk:"1m8s9z"})),u.a.createElement(Os,null,"J")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Previous post or comment",null,{hk:"2wzeoq"})),u.a.createElement(Os,null,"K")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Next post in lightbox",null,{hk:"1ALR5k"})),u.a.createElement(Os,null,"N")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Previous post in lightbox",null,{hk:"2bLo98"})),u.a.createElement(Os,null,"P")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Open post",null,{hk:"2wD7mh"})),u.a.createElement(Os,null,"Enter")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Open/close expando",null,{hk:"1yDst0"})),u.a.createElement(Os,null,"X")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Go to post link",null,{hk:"c0TNr"})),u.a.createElement(Os,null,"L"))),u.a.createElement(fs,null,u.a.createElement(zt.a,null,u.a.createElement(hs,null,bs._("Action",null,{hk:"3QI6pT"}))),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Upvote",null,{hk:"5i9NP"})),u.a.createElement(Os,null,"A")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Downvote",null,{hk:"1ef3YP"})),u.a.createElement(Os,null,"Z")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("New post",null,{hk:"4dtNWf"})),u.a.createElement(Os,null,"C")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Reply to comment",null,{hk:"G8AbT"})),u.a.createElement(Os,null,"R")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Submit comment/post",null,{hk:"13agk7"})),u.a.createElement(Os,null,"Ctrl + Enter")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Save",null,{hk:"3Dtwo5"})),u.a.createElement(Os,null,"S")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Hide",null,{hk:"2Dn9GF"})),u.a.createElement(Os,null,"H")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Open navigation",null,{hk:"QdGe2"})),u.a.createElement(Os,null,"Q")),u.a.createElement(zt.a,null,u.a.createElement(vs,null,bs._("Collapse/expand comment",null,{hk:"1FxIUN"})),u.a.createElement(Os,null,"Enter"))))),u.a.createElement(Tt.f,null,u.a.createElement(xs,{"data-redditstyle":!0,onClick:()=>{e.closeModal()}},bs._("Close",null,{hk:"4gbyAA"})))))),"ConnectedModal",ps.a);Object(yn.b)(W.a.KEYBOARD_SHORTCUTS,e=>u.a.createElement(js,{onOverlayClick:e,withOverlay:!0}));const Ss=Object(rt.a)({getComponent:()=>Object(jt.a)(()=>n.e("SnoovatarModal").then(n.bind(null,"./src/reddit/components/SnoovatarModal/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),_s=e=>()=>{e()};Object(yn.b)(W.a.SNOOVATAR_MODAL,e=>u.a.createElement(Ss,{onOverlayClick:_s(e),withOverlay:!0}));const{fbt:ws}=n("./node_modules/fbt/lib/FbtPublic.js"),ks=Object(h.c)({allowNavigationCallback:ln.a}),Is=Object(m.b)(ks,e=>({closeModal:()=>e(Object(T.i)(W.a.BLADE_UNSAVED_CHANGES)),closeBlade:()=>e(Object(Nt.a)())}));class Ms extends u.a.Component{constructor(){super(...arguments),this.onDiscardClick=async()=>{this.props.closeBlade(),this.props.allowNavigationCallback&&this.props.allowNavigationCallback(!0)},this.onCancelClick=()=>{this.props.closeModal(),this.props.allowNavigationCallback&&this.props.allowNavigationCallback(!1)}}render(){return u.a.createElement(Tt.d,null,u.a.createElement(Tt.h,null,u.a.createElement(At.a,null,u.a.createElement(Tt.p,null,ws._("Discard unsaved changes before leaving?",null,{hk:"4qVGC7"})),u.a.createElement(Rt.a,{onClick:this.onCancelClick},u.a.createElement(Tt.b,null)))),u.a.createElement(Tt.k,null,u.a.createElement(Tt.o,null,ws._("You have made some changes to your community, do you wish to leave this menu without saving?",null,{hk:"28O7Pm"}))),u.a.createElement(Tt.f,null,u.a.createElement(Tt.a,{onClick:this.onCancelClick,"data-redditstyle":!0},ws._("Cancel",null,{hk:"2TSLl5"})),u.a.createElement(Tt.q,{onClick:this.onDiscardClick,"data-redditstyle":!0},ws._("Discard",null,{hk:"1SiwLl"}))))}}const Ns=Object(ct.a)(Is(Ms));Object(yn.b)(W.a.BLADE_UNSAVED_CHANGES,e=>u.a.createElement(Ns,{withOverlay:!0}));const Ts=Object(h.c)({activeModalId:lt.a}),Rs=Object(m.b)(Ts,e=>({toggleModal:t=>e(Object(T.i)(t))})),As=500,Ls=()=>{};class Fs extends u.a.Component{constructor(){super(...arguments),this.toggleModal=()=>{this.props.activeModalId&&this.props.toggleModal(this.props.activeModalId)}}componentDidUpdate(){W.b.includes(this.props.activeModalId||"")||(this.props.activeModalId?setTimeout(()=>Object(gn.a)(),As):setTimeout(()=>Object(gn.b)(),As))}componentWillUnmount(){Object(gn.b)()}render(){const{activeModalId:e}=this.props;return Object(yn.a)(e)(e?this.toggleModal:Ls)}}var Ds,Gs=Rs(Fs),Us=(n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/react-router-dom/esm/react-router-dom.js")),Bs=n("./src/reddit/actions/page.ts"),Hs=n("./src/reddit/actions/shortcuts/utils.ts"),qs=n("./src/reddit/icons/svgs/Dropdown/index.tsx"),Ws=n("./src/reddit/icons/svgs/Pinmenu/index.tsx"),Vs=n("./src/reddit/selectors/header.ts"),Qs=n("./src/reddit/selectors/userPrefs.ts"),zs=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx")),Ks=n("./src/reddit/components/SEOTitle/index.tsx"),Js=n("./src/reddit/components/SubredditIcon/index.tsx"),Ys=n("./src/reddit/components/UserIcon/index.tsx"),Xs=n("./src/reddit/components/UserIcon/CurrentUserIcon.tsx"),Zs=n("./src/reddit/icons/svgs/All/index.tsx"),$s=n("./src/reddit/icons/svgs/Browse/index.tsx"),eo=n("./src/reddit/icons/svgs/Coin/index.tsx"),to=n("./src/reddit/icons/svgs/Envelope/index.tsx"),no=n("./src/reddit/icons/svgs/FormattingOrderedList/index.tsx"),so=n("./src/reddit/icons/svgs/Home/index.tsx"),oo=n("./src/reddit/icons/svgs/Moderate/index.tsx"),ro=n("./src/reddit/icons/svgs/Multireddit/index.tsx"),ao=n("./src/reddit/icons/svgs/Notify/index.tsx"),io=n("./src/reddit/icons/svgs/Popular/index.tsx"),co=n("./src/reddit/icons/svgs/Post/index.tsx"),lo=n("./src/reddit/icons/svgs/Premium/index.tsx"),uo=n("./src/reddit/icons/svgs/PublicAccessNetwork/index.tsx"),mo=n("./src/reddit/components/HeaderSubredditSelector/index.m.less"),po=n.n(mo);!function(e){e.Acknowledgements="Acknowledgements",e.All="All",e.Appeal="Appeal",e.Category="Category",e.Coins="Coins",e.Community="Community",e.CommunitySearch="CommunitySearch",e.CreateCommunity="CreateCommunity",e.CreatePost="CreatePost",e.DailyCharts="DailyCharts",e.Employee="Employee",e.GlobalSearch="GlobalSearch",e.Geotagging="Geotagging",e.Home="Home",e.Inbox="Inbox",e.ModListing="ModListing",e.ModMail="ModMail",e.ModQueue="ModQueue",e.Multi="Multi",e.NotificationsInbox="NotificationsInbox",e.Popular="Popular",e.Premium="Premium",e.PublicAccessNetwork="PublicAccessNetwork",e.Report="Report",e.Settings="Settings",e.SubredditCreation="SubredditCreation",e.Topic="Topic",e.Unknown="Unknown",e.UserDataRequest="UserDataRequest",e.UserProfile="UserProfile",e.UserProfileName="UserProfileName",e.ViewDraft="ViewDraft"}(Ds||(Ds={}));const bo=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,s]=t&&-1!==e.indexOf("/")?e.split("/"):[,e];return u.a.createElement(u.a.Fragment,null,n&&"".concat(n,"/"),s&&u.a.createElement(Ks.b,{type:Ks.a.HeaderSelector},s))};var ho=n("./src/lib/objectSelector/index.ts"),go=n("./src/reddit/constants/wiki.ts"),fo=n("./src/reddit/selectors/experiments/publicAccessNetwork.ts"),vo=n("./src/reddit/selectors/subreddit.ts"),Oo=n("./src/reddit/selectors/topic.ts");var yo=Object(ho.a)((e,t)=>{let{pageLayer:n}=t;const s=!!e.user.account,o=Object(xn.U)(n);switch(o){case"index":case"listing":return s?{type:Ds.Home}:{type:Ds.Popular};case"modListing":return{type:Ds.ModListing};case"modQueuePages":return{type:Ds.ModQueue};case"postCreation":return{type:Ds.CreatePost};case"postDraft":return{type:Ds.ViewDraft};case"subredditCreation":return{type:Ds.SubredditCreation};case"coins":return{type:Ds.Coins};case"premium":return{type:Ds.Premium};case"acknowledgements":return{type:Ds.Acknowledgements};case"appeal":return{type:Ds.Appeal};case"report":return{type:Ds.Report};case"userDataRequest":return{type:Ds.UserDataRequest};case"subredditLeaderboard":return{type:Ds.DailyCharts};case"geotagging":return{type:Ds.Geotagging};case"notificationsInbox":return{type:Ds.NotificationsInbox};case"topic":{const t=Object(xn.s)(n),s=t&&Object(Oo.e)(e,t);if(s)return{type:Ds.Topic,model:s}}}const r=e.user.account;if(r)switch(o){case"inboxPages":return{type:Ds.Inbox,model:r};case"settings":return{type:Ds.Settings,model:r}}const a=Object(xn.O)(e,{pageLayer:n});if("all"===a)return{type:Ds.All};if("popular"===a)return{type:Ds.Popular};const i=Object(xn.q)(e,{pageLayer:n});if(i)return"searchResults"===o?{type:Ds.CommunitySearch,model:i}:{type:Ds.Community,model:i};const c=Object(xn.d)(e,{pageLayer:n});if(c)return{type:Ds.Multi,model:c};const d=Object(xn.j)(e,{pageLayer:n});if(d)return{type:Ds.UserProfile,model:d};const l=Object(xn.h)(n);if(l)return{type:Ds.UserProfileName,name:"u/".concat(l)};if(o&&"searchResults"===o)return{type:Ds.GlobalSearch};if("subredditWiki"===o){const t=Object(xn.n)(e,{pageLayer:n})||go.e,s=Object(vo.B)(e,{subredditName:t});if(s)return{type:Ds.Community,model:s}}return"rpan"===o&&Object(fo.a)(e)?{type:Ds.PublicAccessNetwork}:{type:Ds.Unknown}}),Co=(n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./src/reddit/components/HeaderSubredditSelector/GenericListItem/index.m.less")),xo=n.n(Co);function Po(){return(Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function Eo(e){const t=e.icon,n=e.text,s={id:e.id,role:"menuitem",children:u.a.createElement(u.a.Fragment,null,u.a.createElement(t,{className:xo.a.icon}),u.a.createElement(n,{className:xo.a.text})),className:Object(g.a)(xo.a.item,e.className,{[xo.a.mFocused]:!!e.isFocused,[xo.a.buttonContainer]:!e.to}),tabIndex:-1,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick};return s["aria-label"]=e.to||e.label,e.to?e.externalLink?u.a.createElement("a",Po({},s,{href:e.to,target:"_blank"})):u.a.createElement(Us.a,Po({},s,{to:e.to})):u.a.createElement("button",s)}var jo=n("./src/reddit/helpers/overlay/index.ts"),So=n("./src/reddit/routes/modListing/index.ts"),_o=n("./src/reddit/selectors/experiments/inboxRedesign.ts"),wo=n("./src/reddit/selectors/multireddit.ts"),ko=n("./src/reddit/icons/svgs/Plus/index.tsx"),Io=n("./src/lib/LinkedListMap/index.ts");const Mo=Object(h.c)({account:e=>e.user.account,favoriteMultireddits:e=>e.subscriptions.favoriteMultiOrder.map(t=>Object(wo.e)(e,t)).filter(Boolean),favoriteProfiles:e=>e.subscriptions.favoriteProfileOrder.map(t=>e.profiles.models[t]).filter(Boolean),favoriteSubreddits:e=>e.subscriptions.favoriteSubredditOrder.map(t=>e.subreddits.models[t]).filter(Boolean),moderatingSubreddits:e=>(e.subreddits.moderated.order||[]).map(t=>e.subreddits.models[t]).filter(Boolean),moderatingSubredditsPending:e=>e.subreddits.moderated.api.pending||!e.subreddits.moderated.api.fetched,multis:e=>e.subscriptions.multiredditOrder.map(t=>Object(wo.e)(e,t)).filter(Boolean),multisPending:e=>e.multireddits.api.forUser.pending||!e.multireddits.api.forUser.fetched,profiles:e=>e.subscriptions.profileOrder.map(t=>e.profiles.models[t]).filter(Boolean),isUserEnrolledInOldModmail:vo.p,subscriptions:e=>e.subscriptions.subredditOrder.map(t=>e.subreddits.models[t]).filter(Boolean),subscriptionsPending:e=>e.subscriptions.api.pending||!e.subscriptions.api.fetched,trendingSubreddits:e=>e.subreddits.trending.map(t=>e.subreddits.models[t]).filter(Boolean)});var No;!function(e){e[e.Header=0]="Header",e[e.Subreddit=1]="Subreddit",e[e.SubredditAutocomplete=2]="SubredditAutocomplete",e[e.Profile=3]="Profile",e[e.Multi=4]="Multi",e[e.GenericClickable=5]="GenericClickable",e[e.GenericLink=6]="GenericLink",e[e.LoadingState=7]="LoadingState",e[e.Category=8]="Category",e[e.Action=9]="Action"}(No||(No={}));const To=[e=>({id:Ds.Employee,type:No.GenericLink,model:{url:"/user/reddit/m/employee_subbies/new",displayText:"Employee Communities",icon(e){let{className:t}=e;return u.a.createElement(so.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},"Employee Communities")}},telemetryNoun:"employee"})],Ro=[e=>({id:Ds.All,type:No.GenericLink,model:{url:"/r/all/",displayText:s.fbt._("All",null,{hk:"2M8nEy"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(Zs.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("All",null,{hk:"2M8nEy"}))}},telemetryNoun:"all"}),e=>({id:Ds.DailyCharts,type:No.GenericLink,model:{url:"/subreddits/leaderboard/",displayText:s.fbt._("Top Communities",null,{hk:"1KzP9v"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(no.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Top Communities",null,{hk:"1KzP9v"}))}},telemetryNoun:"daily_charts"})],Ao=[e=>({id:"reddit-feeds",type:No.Header,model:{displayText:s.fbt._("Reddit Feeds",null,{hk:"3C1mtF"}).toString()}}),(e,t)=>({id:Ds.Home,type:No.GenericLink,model:{url:"/",displayText:s.fbt._("Home",null,{hk:"2u56yo"}).toString(),icon(e){let{className:n}=e;return u.a.createElement(so.a,{className:Object(g.a)(n,po.a.itemIcon),isBadged:t&&t.isBadged})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Home",null,{hk:"2u56yo"}))}},telemetryNoun:"home"}),e=>({id:Ds.Popular,type:No.GenericLink,model:{url:"/r/popular/",displayText:s.fbt._("Popular",null,{hk:"1op8tD"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(io.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Popular",null,{hk:"1op8tD"}))}},telemetryNoun:"popular"}),...Ro],Lo=[e=>({id:"reddit-feeds",type:No.Header,model:{displayText:s.fbt._("Reddit Feeds",null,{hk:"3C1mtF"}).toString()}}),()=>({id:Ds.Home,type:No.GenericLink,model:{url:"/",displayText:s.fbt._("Popular",null,{hk:"1op8tD"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(io.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Popular",null,{hk:"1op8tD"}))}},telemetryNoun:"popular"}),...Ro],Fo=[e=>({id:"reddit-other",type:No.Header,model:{displayText:s.fbt._("Other",null,{hk:"1etY05"}).toString()}}),e=>({id:Ds.Settings,type:No.GenericLink,model:{url:"/settings",displayText:s.fbt._("User Settings",null,{hk:"36WFGd"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(Xs.a,{className:t})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("User Settings",null,{hk:"36WFGd"}))}},telemetryNoun:"settings"}),e=>({id:Ds.Inbox,type:No.GenericLink,model:{url:"/message/inbox/",displayText:s.fbt._("Messages",null,{hk:"43DUrY"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(Xs.a,{className:t})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Messages",null,{hk:"43DUrY"}))}},telemetryNoun:"mail"}),e=>({id:Ds.CreatePost,type:No.GenericLink,model:{url:"/submit",displayText:s.fbt._("Create Post",null,{hk:"dGck6"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(co.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Create Post",null,{hk:"dGck6"}))}},telemetryNoun:"create_post"})],Do=[e=>({id:Ds.Coins,type:No.GenericLink,model:{url:"/coins",displayText:s.fbt._("Coins",null,{hk:"ZFvDU"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(eo.a,{className:Object(g.a)(t,po.a.itemCoin)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Coins",null,{hk:"ZFvDU"}))}},telemetryNoun:"coins"}),e=>({id:Ds.Premium,type:No.GenericLink,model:{url:"/premium",displayText:s.fbt._("Premium",null,{hk:"3i2C4T"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(lo.a,{className:Object(g.a)(t,po.a.itemPremium)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Premium",null,{hk:"3i2C4T"}))}},telemetryNoun:"premium"})],Go=[e=>({id:Ds.ModQueue,type:No.GenericLink,model:{url:"/r/mod/about/modqueue",displayText:s.fbt._("Mod Queue",null,{hk:"12pTAg"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(oo.a,{className:Object(g.a)(t,po.a.itemModQueue)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Mod Queue",null,{hk:"12pTAg"}))}},telemetryNoun:"mod_queue"}),(e,t)=>{const n=!!(null==t?void 0:t.isUserEnrolledInOldModmail),o=n?"/message/moderator":"https://web.archive.org/web/20201201014008/https://mod.reddit.com/mail/all",r=n?"modmail":"modmail_beta";return{id:Ds.ModMail,type:No.GenericLink,model:{url:o,displayText:s.fbt._("Modmail",null,{hk:"1BtYh4"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(to.a,{className:Object(g.a)(t,po.a.itemModQueue)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Modmail",null,{hk:"2QQ3dU"}))}},telemetryNoun:r}}];function Uo(e,t){t.subscriptions.length&&(e.push({id:"header-subscriptions",type:No.Header,model:{displayText:s.fbt._("my communities",null,{hk:"2cRte1"}).toString()}}),t.subscriptions.forEach(t=>e.push({id:"sub"+t.id,type:No.Subreddit,model:t,telemetryNoun:"community"}))),t.profiles.length&&(e.push({id:"header-profiles",type:No.Header,model:{displayText:s.fbt._("profiles",null,{hk:"bmbRq"}).toString()}}),t.profiles.forEach(t=>e.push({id:"pro"+t.id,type:No.Profile,model:t,telemetryNoun:"profile"})))}var Bo=n("./src/reddit/components/HeaderSubredditSelector/ListHeader/index.m.less"),Ho=n.n(Bo);function qo(e){return u.a.createElement("div",{className:Object(g.a)(Ho.a.header,e.className),role:"heading"},e.children)}var Wo=n("./src/reddit/actions/subscription/index.ts"),Vo=n("./src/reddit/helpers/trackers/customFeeds.ts"),Qo=n("./src/reddit/icons/svgs/Favorite/index.tsx"),zo=n("./src/reddit/components/HeaderSubredditSelector/ListItem/index.m.less"),Ko=n.n(zo);function Jo(){return(Jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const Yo=Object(h.c)({currentUser:re.i,hideNSFWPref:re.B,isLoggedIn:re.J}),Xo=Object(m.b)(Yo,(e,t)=>({toggleFavorite:n=>{switch(n.stopPropagation(),n.preventDefault(),t.type){case No.Subreddit:e(Object(Wo.c)({id:t.model.id,type:"subreddit"}));break;case No.Profile:e(Object(Wo.c)({id:t.model.id,type:"profile"}));break;case No.Multi:e(Object(Wo.a)(t.model.url)),t.model.isFavorited?t.sendEvent(Object(Vo.f)(t.model.url)):t.sendEvent(Object(Vo.c)(t.model.url))}}}));var Zo=Object(U.c)(Xo((function(e){const t={className:Object(g.a)(Ko.a.item,e.className,{[Ko.a.mFocused]:!!e.isFocused}),id:e.id,role:"menuitem",tabIndex:-1,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick};switch(e.type){case No.Subreddit:return u.a.createElement(Us.a,Jo({},t,{"aria-label":e.model.displayText,to:e.model.url}),u.a.createElement(Js.b,{className:Ko.a.icon,shouldHideNsfwIcon:e.hideNSFWPref,subredditOrProfile:e.model}),u.a.createElement("span",{className:Ko.a.text},e.model.displayText),e.isLoggedIn&&u.a.createElement("div",{onClick:e.toggleFavorite},u.a.createElement(Qo.a,{className:Object(g.a)(Ko.a.favorite,{[Ko.a.mFavorite]:!!e.isFavorite})})));case No.SubredditAutocomplete:return u.a.createElement(Us.a,Jo({},t,{"aria-label":e.model.name,to:"/r/".concat(e.model.name,"/")}),u.a.createElement(Js.b,{className:Ko.a.icon,primaryColor:e.model.primaryColor,iconUrl:e.model.communityIcon||e.model.icon}),u.a.createElement("span",{className:Ko.a.text},e.model.name));case No.Multi:return u.a.createElement(Us.a,Jo({},t,{"aria-label":e.model.displayText,to:e.model.url}),u.a.createElement("img",{src:e.model.icon,className:Ko.a.customFeedIcon}),u.a.createElement("span",{className:Ko.a.text},e.model.displayText),e.isLoggedIn&&u.a.createElement("div",{onClick:e.toggleFavorite},u.a.createElement(Qo.a,{className:Object(g.a)(Ko.a.favorite,{[Ko.a.mFavorite]:!!e.isFavorite})})));case No.Profile:return u.a.createElement(Us.a,Jo({},t,{"aria-label":e.model.displayText,to:e.model.url}),u.a.createElement(Ys.a,{className:Ko.a.icon,iconUrl:e.model.icon.url,isNSFW:e.model.isNSFW,userName:e.model.name}),u.a.createElement("span",{className:Ko.a.text},e.model.displayText),e.isLoggedIn&&u.a.createElement("div",{onClick:e.toggleFavorite},u.a.createElement(Qo.a,{className:Object(g.a)(Ko.a.favorite,{[Ko.a.mFavorite]:!!e.isFavorite})})))}}))),$o=n("./src/reddit/components/HeaderSubredditSelector/LoadingListSection/index.m.less"),er=n.n($o);function tr(e){return u.a.createElement("div",{className:e.className},u.a.createElement("div",{className:er.a.header}),u.a.createElement("div",{className:er.a.item}),u.a.createElement("div",{className:er.a.item}),u.a.createElement("div",{className:er.a.item}),u.a.createElement("div",{className:er.a.item}))}var nr=n("./src/higherOrderComponents/addOverlayEvents.tsx"),sr=n("./src/reddit/actions/multireddit/index.ts"),or=n("./src/reddit/actions/subreddit.ts"),rr=n("./src/reddit/constants/keycodes.ts"),ar=n("./src/reddit/helpers/correlationIdTracker.ts"),ir=n("./src/reddit/components/HeaderSubredditSelector/SubredditList/index.m.less"),cr=n.n(ir);function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function lr(e){return e.id===Ds.ModMail||e.id===Ds.CreateCommunity}function ur(e){const t=new Io.a("id");return e.forEach(e=>{(function(e){return e.type!==No.Header&&e.type!==No.LoadingState})(e)&&t.push({id:e.id})}),t}const mr=Object(h.c)({favoriteMultireddits:e=>new Set(e.subscriptions.favoriteMultiOrder),favoriteProfiles:e=>new Set(e.subscriptions.favoriteProfileOrder),favoriteSubreddits:e=>new Set(e.subscriptions.favoriteSubredditOrder),unfilteredListBuilder:e=>t=>{const n=Mo(e),o=new Io.a("id");if(n.account){const r=n.account;if(Ao.forEach(e=>o.push(e(r))),r.isEmployee&&To.forEach(e=>o.push(e(r))),Object(_o.a)(e)&&o.push({id:Ds.NotificationsInbox,type:No.GenericLink,model:{url:"/notifications",displayText:s.fbt._("Notifications",null,{hk:"2xenVO"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(ao.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Notifications",null,{hk:"2xenVO"}))}},telemetryNoun:"inbox"}),Object(fo.a)(e)&&o.push({id:Ds.PublicAccessNetwork,type:No.GenericClickable,model:{onClick:()=>{t(Object(jo.a)(q.c[q.b.Rpan]))},displayText:s.fbt._("Reddit Public Access Network",null,{hk:"3p4s8f"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(uo.b,{className:Object(g.a)(t,po.a.itemPublicAccessNetwork)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Reddit Public Access Network",null,{hk:"3p4s8f"}))}},telemetryNoun:"rpan"}),(n.favoriteSubreddits.length||n.favoriteProfiles.length||n.favoriteMultireddits.length)&&(o.push({id:"header-favorites",type:No.Header,model:{displayText:s.fbt._("favorites",null,{hk:"4Gg0k2"}).toString()}}),n.favoriteSubreddits.forEach(e=>o.push({id:"fav"+e.id,type:No.Subreddit,model:e,telemetryNoun:"community_favorite"})),n.favoriteProfiles.forEach(e=>o.push({id:"fav"+e.id,type:No.Profile,model:e,telemetryNoun:"community_favorite"})),n.favoriteMultireddits.forEach(e=>o.push({id:"fav"+e.url,type:No.Multi,model:e,telemetryNoun:"custom_feed"}))),n.multisPending?o.push({id:"multis-pending",type:No.LoadingState,model:{displayText:""}}):n.multis.length>0&&(o.push({id:"header-multis",type:No.Header,model:{displayText:s.fbt._("Custom feeds",null,{hk:"3K02MA"}).toString(),button(e){let{className:n,sendClickEvent:s}=e;return u.a.createElement("button",{onClick:()=>{t(Object(T.h)(W.a.MULTIREDDIT_CREATE)),s()},className:Object(g.a)(n,po.a.multiPlusButton)},u.a.createElement(ko.a,{className:po.a.multiPlusIcon}))},buttonTelemetryNoun:"create_new_custom_feed"}}),n.multis.forEach(e=>o.push({id:e.url,type:No.Multi,model:e,telemetryNoun:"custom_feed"}))),n.moderatingSubredditsPending?o.push({id:"moderatingSubreddits-pending",type:No.LoadingState,model:{displayText:""}}):n.moderatingSubreddits.length&&(o.push({id:"header-moderating",type:No.Header,model:{displayText:s.fbt._("moderating subreddits",null,{hk:"2z4AZS"}).toString()}}),o.push({id:Ds.ModListing,type:No.GenericLink,model:{url:So.a,displayText:"r/Mod",icon(e){let{className:t}=e;return u.a.createElement(oo.a,{className:Object(g.a)(t,po.a.itemModQueue)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},"r/Mod")}},telemetryNoun:"r_mod"}),n.moderatingSubreddits.forEach(e=>o.push({id:"mod"+e.id,type:No.Subreddit,model:e,telemetryNoun:"community_moderate"}))),n.subscriptionsPending?o.push({id:"subscriptions-pending",type:No.LoadingState,model:{displayText:""}}):Uo(o,n),Fo.forEach(e=>o.push(e(r))),Object(re.gb)(e)&&o.push({id:Ds.CreateCommunity,type:No.GenericLink,model:{url:"/subreddits/create",displayText:s.fbt._("Create Community",null,{hk:"41sjx"}).toString(),icon(e){let{className:t}=e;return u.a.createElement(co.a,{className:Object(g.a)(t,po.a.itemIcon)})},text(e){let{className:t}=e;return u.a.createElement("span",{className:t},s.fbt._("Create Community",null,{hk:"41sjx"}))}},telemetryNoun:"create_community"}),Do.forEach(e=>o.push(e(r))),r.isMod){const{isUserEnrolledInOldModmail:e}=n;Go.forEach(t=>o.push(t(r,{isUserEnrolledInOldModmail:e})))}}else n.subscriptions.length||Object(re.J)(e)?Ao.forEach(e=>o.push(e(null))):Lo.forEach(e=>o.push(e(null))),o.push({id:"reddit-other",type:No.Header,model:{displayText:s.fbt._("Other",null,{hk:"1etY05"}).toString()}}),Do.forEach(e=>o.push(e(null))),Uo(o,n);return o}}),pr=e=>({onHomeClicked:()=>e(Object(Bs.x)()),onGotoUrl:t=>e(Object(b.b)(t)),onSubredditsRequested:()=>{e(Object(Wo.e)()),e(Object(or.q)()),e(Object(sr.g)())},onActionDispatched:t=>e(t)}),br=(e,t,n)=>Object.assign(Object.assign(Object.assign(Object.assign({},e),t),n),{unfilteredList:e.unfilteredListBuilder(t.onActionDispatched)});class hr extends u.a.Component{constructor(e){super(e),this.onChange=e=>{const t=e.currentTarget.value,n=this.getList(t,this.props),s=ur(n),o=s.first();this.setState({focusOrder:s,renderableList:n,currentInputText:e.currentTarget.value,focusedItemId:o?o.id:void 0})},this.onChangeFocusedListItemId=e=>this.setState({focusedItemId:e}),this.onKeyDown=e=>{if(e.key===rr.b.Escape&&this.props.onClose&&this.props.onClose(!0),e.key===rr.b.Tab&&this.props.onClose&&this.props.onClose(),e.key===rr.b.Enter){const e=this.state.focusOrder.first(),t=this.state.focusedItemId||(e?e.id:null);if(t){const e=this.state.renderableList.get(t);e&&e.type!==No.Header&&e.type!==No.LoadingState&&(this.fireTelemetryForListItem(e),e.type===No.GenericClickable?e.model.onClick():lr(e)?window.open(e.model.url,"_blank"):this.props.onGotoUrl(e.model.url),this.props.onClose&&this.props.onClose(!0))}}e.key===rr.b.ArrowDown&&(e.preventDefault(),this.setState(e=>{const t=this.findNextFocusableItem(),n=t?e.renderableList.get(t):void 0,s=n?n.model.displayText:e.currentInputText;if(t){const e=document.getElementById("focus-".concat(t));e&&e.scrollIntoView({block:"nearest"})}return{currentInputText:s,focusedItemId:t}})),e.key===rr.b.ArrowUp&&(e.preventDefault(),this.setState(e=>{const t=this.findPrevFocusableItem(),n=t?e.renderableList.get(t):void 0,s=n?n.model.displayText:e.currentInputText;if(t){const e=document.getElementById("focus-".concat(t));e&&e.scrollIntoView({block:"nearest"})}return{currentInputText:s,focusedItemId:t}}))},this.fireTelemetryForListItem=e=>{let t;switch(e.id){case Ds.Coins:case Ds.Premium:Object(ar.d)(ar.a.GoldPayment,!0),t=Object(ar.c)(ar.a.GoldPayment)}switch(e.type){case No.Category:case No.GenericLink:case No.GenericClickable:case No.Multi:case No.Profile:case No.Subreddit:this.props.sendEvent(n=>Object.assign(Object.assign(Object.assign({},Object(K.defaults)(n)),t?{correlationId:t}:null),{customFeed:e.type===No.Multi?Object(K.customFeedByPath)(n,e.model.url):null,source:"community_nav",action:"click",noun:e.telemetryNoun}));break;case No.Header:{const{buttonTelemetryNoun:t}=e.model;t&&this.props.sendEvent(e=>Object.assign(Object.assign({},Object(K.defaults)(e)),{source:"community_nav",action:"click",noun:t}));break}}},this.state={currentInputText:"",focusedItemId:null,focusOrder:ur(e.unfilteredList),renderableList:e.unfilteredList},this.inputRef=u.a.createRef()}componentDidMount(){"complete"===document.readyState?this.props.onSubredditsRequested():window.addEventListener("load",this.props.onSubredditsRequested),this.props.canAutofocus&&setTimeout(()=>!!this.inputRef.current&&this.inputRef.current.focus())}UNSAFE_componentWillReceiveProps(e){const t=this.state.currentInputText,n=this.getList(t,e),s=ur(n);this.setState({focusOrder:s,renderableList:n})}getList(e,t){if(e){const n=new Io.a("id"),s=new RegExp(e,"ig");t.unfilteredList.forEach(e=>{switch(e.type){case No.Category:case No.GenericLink:case No.Multi:case No.Profile:case No.Subreddit:e.model.displayText.match(s)&&n.push(e);break;case No.Header:{const t=n.last();t&&t.type===No.Header&&n.pop(),n.push(e);break}case No.LoadingState:}});const o=n.last();return o&&o.type===No.Header&&n.pop(),n}return t.unfilteredList}findNextFocusableItem(){const e=this.state.focusOrder.first();if(this.state.focusedItemId){const t=this.state.focusOrder.getNode(this.state.focusedItemId);if(t)return t.next?t.next.value.id:t.value.id;if(e)return e.id}else if(e)return e.id}findPrevFocusableItem(){const e=this.state.focusOrder.last();if(this.state.focusedItemId){const t=this.state.focusOrder.getNode(this.state.focusedItemId);if(t)return t.prev?t.prev.value.id:t.value.id;if(e)return e.id}else if(e)return e.id}render(){const e=this.state.renderableList.toArray(),t=this.state.focusedItemId?this.state.renderableList.get(this.state.focusedItemId):null;return u.a.createElement("div",{role:"menu",className:this.props.className},u.a.createElement("div",{"aria-live":"assertive","aria-label":t&&t.model.displayText?"".concat(t.model.displayText," ").concat(s.fbt._("selected",null,{hk:"QqrSS"})):""}),u.a.createElement("input",{autoFocus:this.props.canAutofocus,"aria-label":s.fbt._("Start typing to filter your communities or use up and down to select.",null,{hk:"1AB1YU"}),className:cr.a.filter,id:"header-subreddit-filter",placeholder:s.fbt._("Filter",null,{hk:"oqdpz"}),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:this.inputRef}),e.map((e,t)=>{const n={id:"focus-".concat(e.id),isFocused:this.state.focusedItemId===e.id,key:"subreddit-list-key-".concat(e.id),onFocus:()=>this.onChangeFocusedListItemId(e.id),onMouseEnter:()=>this.onChangeFocusedListItemId(e.id),onMouseLeave:()=>this.onChangeFocusedListItemId(void 0),onClick:()=>{this.fireTelemetryForListItem(e),this.props.onClose&&this.props.onClose(!0),e.id===Ds.Home&&this.props.onHomeClicked(),e.type===No.GenericClickable&&e.model.onClick()}};switch(e.type){case No.GenericClickable:return u.a.createElement(Eo,dr({},n,{className:cr.a.item,label:e.model.displayText,icon:e.model.icon,text:e.model.text}));case No.Category:case No.GenericLink:return u.a.createElement(Eo,dr({},n,{externalLink:lr(e),className:cr.a.item,to:e.model.url,icon:e.model.icon,text:e.model.text}));case No.Header:{const n=e.model.button;return u.a.createElement(qo,{className:cr.a.listHeader,key:"subreddit-list-key-nomodel".concat(t)},e.model.displayText,n&&u.a.createElement(n,{className:cr.a.headerButton,sendClickEvent:()=>this.fireTelemetryForListItem(e)}))}case No.LoadingState:return u.a.createElement(tr,{className:cr.a.listHeader,key:"subreddit-list-key-nomodel".concat(t)});case No.Multi:return u.a.createElement(Zo,dr({},n,{className:cr.a.item,isFavorite:e.model.isFavorited,model:e.model,type:No.Multi}));case No.Profile:return u.a.createElement(Zo,dr({},n,{className:cr.a.item,isFavorite:this.props.favoriteProfiles.has(e.model.id),model:e.model,type:No.Profile}));case No.Subreddit:return u.a.createElement(Zo,dr({},n,{className:cr.a.item,isFavorite:this.props.favoriteSubreddits.has(e.model.id),model:e.model,type:No.Subreddit}))}}))}}const gr=Object(m.b)(mr,pr,br)(Object(U.c)(hr)),fr=Object(m.b)(mr,pr,br)(Object(U.c)(Object(nr.b)(hr))),vr=Object(xn.t)({isCommentsPage:xn.w,pageLayer:e=>e}),Or=Object(h.c)({currentPage:yo,hideNSFWPref:re.B,isDropdownOpen:Vs.a,isLoggedIn:re.J,isOverlayOpen:ln.i,isPinnedSubscriptionsMenuDisabled:Qs.a,isSubscriptionsPinned:Qs.b});class yr extends u.a.Component{constructor(e){super(e),this.state={preventFocus:!1},this.handleKeyboardShortcut=e=>{if("q"===e.key&&!this.props.isSubscriptionsPinned){if(document.activeElement&&("input"===document.activeElement.tagName.toLowerCase()||"textarea"===document.activeElement.tagName.toLowerCase()||"true"===document.activeElement.getAttribute("contenteditable")))return;this.props.openDropdown()}},this.enablePreventFocus=()=>this.setState({preventFocus:!0}),this.disablePreventFocus=()=>setTimeout(()=>this.setState({preventFocus:!1})),this.close=e=>{this.enablePreventFocus(),this.props.closeDropdown(),this.disablePreventFocus(),e&&Object(Hs.d)()},this.onButtonFocus=()=>{this.props.isSubscriptionsPinned||this.state.preventFocus||this.props.openDropdown(),this.state.preventFocus&&this.disablePreventFocus()},this.toggleDropdown=e=>{this.props.isSubscriptionsPinned||(this.props.sendEvent(e=>Object.assign(Object.assign({},Object(K.defaults)(e)),{source:"nav",action:"click",noun:this.props.isDropdownOpen?"close_community_nav":"open_community_nav"})),this.props.isDropdownOpen&&this.enablePreventFocus(),this.props.toggleDropdown(),this.props.isDropdownOpen||this.disablePreventFocus())}}componentDidMount(){document.addEventListener("keyup",this.handleKeyboardShortcut)}componentWillUnmount(){document.removeEventListener("keyup",this.handleKeyboardShortcut)}shouldComponentUpdate(e,t){return this.state.preventFocus!==t.preventFocus||(!(!this.props.isDropdownOpen&&!e.isDropdownOpen)||(e.currentPage!==this.props.currentPage||e.isSubscriptionsPinned!==this.props.isSubscriptionsPinned))}stopPropagation(e){e.nativeEvent.stopImmediatePropagation()}render(){const{currentPage:e,className:t,hideNSFWPref:n,isCommentsPage:o,isLoggedIn:r,isOverlayOpen:a}=this.props,i=this.props.isDropdownOpen&&!this.props.isSubscriptionsPinned,c=a||!r&&o;return u.a.createElement("div",{"aria-label":s.fbt._("Start typing to filter your communities or use up and down to select.",null,{hk:"2PXR4j"}),className:Object(g.a)(po.a.container,t,{[po.a.mOpen]:i,[po.a.mNotPinned]:!this.props.isSubscriptionsPinned,[po.a.mPinned]:this.props.isSubscriptionsPinned}),onClickCapture:this.stopPropagation,role:"navigation"},u.a.createElement("button",{className:po.a.selector,onMouseDown:this.props.isSubscriptionsPinned?this.props.onLocationClick:this.toggleDropdown,onFocus:this.onButtonFocus,tabIndex:this.state.preventFocus||this.props.isSubscriptionsPinned?-1:0},u.a.createElement("span",{className:po.a.containerText},function(e){switch(e.type){case Ds.Acknowledgements:return bo(s.fbt._("Acknowledgements",null,{hk:"32JBVF"}).toString());case Ds.All:return bo(s.fbt._("All",null,{hk:"2gaHOy"}).toString());case Ds.Appeal:return bo(s.fbt._("Appeal",null,{hk:"2dMFkN"}).toString());case Ds.Coins:return bo(s.fbt._("Coins",null,{hk:"3ZpUbG"}).toString());case Ds.Community:return bo(e.model.displayText,!0);case Ds.CommunitySearch:return bo(s.fbt._("Subreddit Results",null,{hk:"19qRVH"}).toString());case Ds.CreateCommunity:return bo(s.fbt._("Create Community",null,{hk:"2UKjpW"}).toString());case Ds.CreatePost:return bo(s.fbt._("Create Post",null,{hk:"30V40V"}).toString());case Ds.DailyCharts:return bo(s.fbt._("Top Communities",null,{hk:"1sWIEu"}).toString());case Ds.GlobalSearch:return bo(s.fbt._("Search Results",null,{hk:"scJwR"}).toString());case Ds.Geotagging:return bo(s.fbt._("Help Out",null,{hk:"1RN9v2"}).toString());case Ds.Home:return bo(s.fbt._("Home",null,{hk:"amHQd"}).toString());case Ds.Inbox:return bo(s.fbt._("Messages",null,{hk:"25MBSp"}).toString());case Ds.ModListing:return bo("r/Mod");case Ds.ModMail:return bo(s.fbt._("Modmail",null,{hk:"of9AC"}).toString());case Ds.ModQueue:return bo(s.fbt._("Mod Queue",null,{hk:"3hdHhb"}).toString());case Ds.Multi:return bo(e.model.displayText,!0);case Ds.NotificationsInbox:return bo(s.fbt._("Notifications",null,{hk:"FiFRe"}).toString());case Ds.Popular:return bo(s.fbt._("Popular",null,{hk:"1rTNHl"}).toString());case Ds.Premium:return bo(s.fbt._("Premium",null,{hk:"x0xKv"}).toString());case Ds.PublicAccessNetwork:return bo(s.fbt._("Reddit Public Access Network",null,{hk:"3agn8V"}).toString());case Ds.Report:return bo(s.fbt._("Report",null,{hk:"4oVcnd"}).toString());case Ds.Settings:return bo(s.fbt._("User Settings",null,{hk:"hcLHW"}).toString());case Ds.SubredditCreation:return bo(s.fbt._("Create Community",null,{hk:"2UKjpW"}).toString());case Ds.Topic:return bo(e.model);case Ds.Unknown:return bo("");case Ds.UserDataRequest:return bo(s.fbt._("Request your Reddit data",null,{hk:"3LqHku"}).toString());case Ds.UserProfile:return bo(e.model.displayText,!0);case Ds.UserProfileName:return bo(e.name,!0);case Ds.ViewDraft:return bo(s.fbt._("View Draft",null,{hk:"3k2k9a"}).toString())}}(e)),function(e,t){switch(e.type){case Ds.Acknowledgements:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.All:return u.a.createElement(Zs.a,{className:po.a.defaultIcon});case Ds.Appeal:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.Coins:return u.a.createElement(eo.a,{className:po.a.coinIcon});case Ds.Community:case Ds.CommunitySearch:{const n=Object(zs.a)({shouldHideNsfwIcon:t,subredditOrProfile:e.model});return u.a.createElement(Js.b,{className:po.a.subredditIcon,iconUrl:n.url,primaryColor:n.color})}case Ds.CreateCommunity:case Ds.CreatePost:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.DailyCharts:return u.a.createElement(no.a,{className:po.a.defaultIcon});case Ds.GlobalSearch:return u.a.createElement($s.a,{className:po.a.defaultIcon});case Ds.Home:return u.a.createElement(so.a,{className:po.a.defaultIcon});case Ds.Inbox:case Ds.Settings:return u.a.createElement(Xs.a,{className:po.a.userIcon});case Ds.ModListing:return u.a.createElement(oo.a,{className:po.a.modQueueIcon});case Ds.SubredditCreation:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.ModMail:return u.a.createElement(to.a,{className:po.a.modQueueIcon});case Ds.ModQueue:return u.a.createElement(oo.a,{className:po.a.modQueueIcon});case Ds.Multi:return u.a.createElement("img",{src:e.model.icon,className:po.a.customFeedIcon});case Ds.NotificationsInbox:return u.a.createElement(ao.a,{className:po.a.defaultIcon});case Ds.Popular:return u.a.createElement(io.a,{className:po.a.defaultIcon});case Ds.Premium:return u.a.createElement(lo.a,{className:po.a.premiumIcon});case Ds.PublicAccessNetwork:return u.a.createElement(uo.b,{className:po.a.publicAccessNetworkIcon});case Ds.Report:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.Unknown:return u.a.createElement("div",{className:po.a.unknownIcon});case Ds.UserDataRequest:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.UserProfile:{const n=Object(zs.a)({shouldHideNsfwIcon:t,subredditOrProfile:e.model});return u.a.createElement(Ys.a,{className:po.a.userIcon,iconUrl:n.url,isNSFW:e.model.isNSFW,userName:e.model.name})}case Ds.UserProfileName:return u.a.createElement("div",{className:po.a.defaultIcon});case Ds.ViewDraft:return u.a.createElement(co.a,{className:po.a.defaultIcon});case Ds.Geotagging:case Ds.Topic:return u.a.createElement(ro.a,{className:po.a.defaultIcon})}}(e,n),!this.props.isSubscriptionsPinned&&u.a.createElement(qs.b,{className:po.a.caretDown})),i&&!this.props.isPinnedSubscriptionsMenuDisabled&&u.a.createElement(Ws.a,{className:Object(g.a)(po.a.pin,{[po.a.disabled]:c}),onClick:c?void 0:this.props.onPinSubscriptions}),i&&u.a.createElement(fr,{canAutofocus:!0,className:po.a.listContainer,onClose:this.close}))}}var Cr=vr(Object(m.b)(Or,(e,t)=>({closeDropdown:()=>e(Object(E.f)()),onLocationRefresh:(n,s)=>e(Object(Bs.F)(n,t.pageLayer,s)),onPinSubscriptions:()=>{e(Object(E.i)()),e(Object(E.f)())},openDropdown:()=>e(Object(E.g)()),toggleDropdown:()=>e(Object(E.h)())}),(e,t,n)=>Object.assign(Object.assign(Object.assign(Object.assign({},e),t),n),{onLocationClick:n=>t.onLocationRefresh(n,e.isOverlayOpen)}))(Object(U.c)(yr))),xr=n("./src/reddit/components/JumpToContent/index.tsx"),Pr=n("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),Er=n("./node_modules/history/esm/history.js"),jr=n("./node_modules/lodash/debounce.js"),Sr=n.n(jr),_r=n("./node_modules/uuid/v4.js"),wr=n.n(_r),kr=n("./src/lib/makeSearchKey/index.ts"),Ir=n("./src/reddit/actions/post.ts"),Mr=n("./src/reddit/actions/search.ts"),Nr=n("./src/reddit/actions/search/trending.ts"),Tr=n("./src/reddit/actions/tooltip.ts"),Rr=n("./src/higherOrderComponents/asTooltip.tsx"),Ar=n("./src/reddit/components/InfoTextTooltip/index.tsx"),Lr=n("./src/lib/search/index.ts"),Fr=n("./src/reddit/models/Search/index.ts");var Dr=(e,t,n,s,o,r)=>{let a,i;if(""!==s.searchQuery){if(s.isTypeaheadSuggestion)a="/".concat(s.isProfile?s.searchQuery.replace("u/","user/"):s.searchQuery);else{if(i="".concat(V.p,"=").concat(Object(Lr.b)(s.rawQuery||s.searchQuery)),a="/search/",s.section!==Fr.c.trending&&s.section!==Fr.c.recent||o&&o.source&&(i+="&source=".concat(o.source)),e&&r?(a="/r/".concat(e.name).concat(a),i="".concat(i,"&").concat(V.s,"=1")):!e&&s.subredditOrProfileRestrictedName&&(a="/".concat(s.subredditOrProfileRestrictedName).concat(a),i="".concat(i,"&").concat(V.s,"=1")),t){const e=t.url.split("/")[2];a="/user/".concat(e,"/m/").concat(t.name).concat(a),i="".concat(i,"&").concat(V.s,"=1&").concat(V.j,"=1")}o&&o.category&&(i="".concat(i,"&").concat(V.b,"=").concat(o.category))}return{url:a,qs:i}}},Gr=n("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),Ur=n("./src/reddit/icons/svgs/Clear/index.tsx"),Br=n("./src/reddit/icons/svgs/Search/index.tsx"),Hr=n("./src/reddit/components/SearchDropdown/index.m.less"),qr=n.n(Hr);const Wr=Object(m.b)(()=>Object(h.c)({currentPage:ln.b})),Vr=Object(xn.t)(),Qr=Object(Rr.a)(Ar.b);class zr extends u.a.Component{constructor(){super(...arguments),this.onRecentSearchItemClick=()=>{const{props:e}=this;e.recentSearch.isTypeaheadSuggestion?e.onClearSearchQuery():e.onUpdateSearchQuery(e.recentSearch.searchQuery),e.onSendSearchClickRecentEvent(e.recentSearch.searchQuery,e.recentSearch,e.indexOfItem)},this.generateFullSearchQuery=e=>e.subredditOrProfileRestrictedName?"".concat(e.subredditOrProfileRestrictedName," ").concat(e.searchQuery):e.searchQuery}render(){const{props:e}=this,{activeTooltipId:t,className:n,currentPage:o,focusedItem:r,onRemoveRecentSearch:a,pageLayer:i,recentSearch:c,toggleTooltip:d}=e,l=Dr(null,null,null,c,{source:kr.a.Recent}),m=l&&l.url,p=l&&l.qs,b=this.generateFullSearchQuery(c);let h;r&&(h=this.generateFullSearchQuery(r));const f=o?Object(K.getPageTypeFromCurrentPage)(o):i?Object(K.getPageTypeFromCurrentPage)(i):void 0;return u.a.createElement(Us.a,{"aria-label":c.searchQuery,className:Object(g.a)(qr.a.listItem,Ko.a.item,n,{[qr.a.mFocused]:!(!r||r.section!==Fr.c.recent||h!==b)}),onClick:this.onRecentSearchItemClick,key:b,role:"link",tabIndex:-1,to:{pathname:m||"",state:{[H.a.SearchOriginPage]:f},search:p}},c.displayInfo&&c.isTypeaheadSuggestion?c.displayInfo.iconUrl?u.a.createElement("div",{className:qr.a.subredditIcon,style:{backgroundImage:"url('".concat(c.displayInfo.iconUrl,"')")}}):u.a.createElement(Gr.a,{className:qr.a.planetIcon}):u.a.createElement(Br.a,{className:Object(g.a)(qr.a.listItemIcon,Ko.a.icon)}),u.a.createElement("span",{className:Ko.a.text},b),u.a.createElement("div",{onMouseEnter:()=>d(b),onMouseLeave:()=>d(null),id:b},u.a.createElement(Ur.a,{className:Object(g.a)(qr.a.listItemIcon,qr.a.mHoverable,Ko.a.icon),onClick:e=>{e.stopPropagation(),e.preventDefault(),a(c)}}),u.a.createElement(Qr,{className:qr.a.fixedTextTooltip,isOpen:t===b,text:s.fbt._("Remove",null,{hk:"2P57BY"}),tooltipId:b,targetPosition:["center","top"],tooltipPosition:["center","bottom"]})))}}var Kr=Vr(Wr(zr)),Jr=n("./src/reddit/components/ClassicPost/Thumbnail.tsx"),Yr=n("./src/reddit/components/PostTitle/index.tsx"),Xr=n("./src/reddit/components/TrendingSearches/TrendingItemViewability.tsx"),Zr=n("./src/reddit/constants/adEvents.ts"),$r=n("./src/reddit/controls/Search/RelatedSubredditMetaData.tsx"),ea=n("./src/reddit/helpers/canRenderThumbnail.ts"),ta=n("./src/reddit/helpers/trackers/discoveryUnit.ts"),na=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const sa=Object(m.b)(()=>Object(h.c)({currentPage:ln.b}),e=>({trackTrendingSearchClick:t=>e((e,n)=>ta.E(n(),t,ta.a.SEARCH_DROPDOWN))}));class oa extends u.a.Component{constructor(){super(...arguments),this.transformTrendingToRecentSearch=()=>{const e=this.props.trendingItem,{post:t,subredditInfo:n,subredditOccurrences:s}=e;return na(e,["post","subredditInfo","subredditOccurrences"])},this.onTrendingItemClick=()=>{const{props:e}=this;e.onUpdateSearchQuery(e.trendingItem.searchQuery);const t=this.transformTrendingToRecentSearch();if(e.onSetRecentSearch(t),Object(ar.d)(ar.a.SearchResults),e.trackTrendingSearchClick(e.trendingItem),this.isSponsored()){const{post:e}=this.props.trendingItem;e&&this.props.fireAdPixelsOfType(e,Zr.a.Click)}},this.isSponsored=()=>{const{trendingItem:e}=this.props;return!(!e.post||!e.post.isSponsored)}}render(){const{className:e,currentPage:t,focusedItem:n,id:o,pageLayer:r,trendingItem:a}=this.props,i=this.isSponsored(),c=Dr(null,null,null,a,{source:i?kr.a.PromotedTrend:kr.a.Trending}),d=c&&c.url,l=c&&c.qs,m=t?Object(K.getPageTypeFromCurrentPage)(t):r?Object(K.getPageTypeFromCurrentPage)(r):void 0,p=u.a.createElement(Us.a,{id:o,"aria-label":a.searchQuery,className:Object(g.a)(qr.a.listItem,qr.a.mTrending,Ko.a.item,Ko.a.trending,e,{[qr.a.mFocused]:!(!n||n.section!==Fr.c.trending||a.searchQuery!==n.searchQuery)}),onClick:this.onTrendingItemClick,key:"trending-".concat(a.searchQuery),role:"link",tabIndex:-1,to:{pathname:d||"",state:{[H.a.SearchOriginPage]:m},search:l}},u.a.createElement("div",{className:Ko.a.trendingContent},i&&u.a.createElement("div",{className:Ko.a.promoted},s.fbt._("promoted",null,{hk:"2l4e7d"})),u.a.createElement("div",null,u.a.createElement(io.a,{className:Object(g.a)(qr.a.listItemIcon,qr.a.mTrending,Ko.a.icon,Ko.a.trending)}),u.a.createElement("span",null,u.a.createElement(Yr.a,{className:Object(g.a)(qr.a.listItemText,qr.a.mTrending,Ko.a.text,Ko.a.trending),redditStyle:!0,size:Yr.b.Small},a.searchQuery)),a.post&&u.a.createElement("div",{className:qr.a.postTitle},a.post.title)),a.subredditInfo&&u.a.createElement($r.a,{className:Object(g.a)(Ko.a.relatedSubredditMetaData,qr.a.listItemSubtext,{[qr.a.mNoPostTitle]:!a.post}),iconUrl:a.subredditInfo.icon||void 0,suffix:s.fbt._("{subreddit name} and more",[s.fbt._param("subreddit name",a.subredditInfo.displayText)],{hk:"3WFpek"})})),a.post&&Object(ea.a)(a.post)&&u.a.createElement(Jr.a,{post:a.post,removeLink:!0,usePreview:i}));return i?u.a.createElement(Xr.a,{post:a.post},p):p}}var ra=Object(xn.t)()(sa(oa)),aa=n("./src/reddit/components/Flair/index.tsx");class ia extends u.a.Component{constructor(){super(...arguments),this.onTypeaheadSuggestionClick=()=>{const{props:e}=this;e.onSetRecentSearch(e.item),e.onSendSearchClickTypeaheadEvent(e.item.searchQuery,e.item,e.indexOfItem,e.subredditSuggestions),e.onClearSearchQuery()}}render(){const{props:e}=this,{className:t,focusedItem:n,item:o}=e;return u.a.createElement(Us.a,{"aria-label":o.searchQuery,className:Object(g.a)(qr.a.listItem,qr.a.mTypeahead,Ko.a.item,t,{[qr.a.mFocused]:!(!n||n.searchQuery!==o.searchQuery)}),onClick:this.onTypeaheadSuggestionClick,key:o.searchQuery,role:"link",tabIndex:-1,to:"/".concat(o.isProfile?o.searchQuery.replace("u/","user/"):o.searchQuery)},o.displayInfo&&o.displayInfo.iconUrl?u.a.createElement("div",{className:qr.a.subredditIcon,style:{backgroundImage:"url('".concat(o.displayInfo.iconUrl,"')")}}):u.a.createElement(Gr.a,{className:qr.a.planetIcon}),u.a.createElement("div",null,o.displayInfo&&o.displayInfo.subredditOrProfileName&&u.a.createElement("div",{className:Object(g.a)(qr.a.listItemText,qr.a.mTypeahead,Ko.a.text)},o.displayInfo.subredditOrProfileName),u.a.createElement("div",null,o.displayInfo&&null!=o.displayInfo.subscribers&&u.a.createElement("div",{className:Object(g.a)(qr.a.listItemSubtext,Ko.a.subText)},s.fbt._({"*":"{members count} members",_1:"1 member"},[s.fbt._plural(o.displayInfo.subscribers,"members count")],{hk:"1uMCes"})),o.displayInfo&&o.displayInfo.isNSFW&&u.a.createElement(aa.b,{flair:{type:Kt.f.Nsfw,text:"nsfw"}}))))}}var ca=n("./src/reddit/constants/zIndex.ts"),da=n("./src/reddit/controls/Dropdown/index.tsx");const{fbt:la}=n("./node_modules/fbt/lib/FbtPublic.js"),ua="SearchDropdown",ma="SearchDropdownContent",pa=5,ba=Object(Rr.a)(da.a);function ha(e){const t=Object(m.c)(),{isFixed:n=!0,isOverlay:s=!0}=e,[o,r]=Object(l.useState)(null),a=function(e){const[t,n]=Object(l.useState)(null),s=Object(l.useCallback)(()=>{e&&n(e.offsetWidth)},[e]);return Object(l.useLayoutEffect)(s,[s]),Object(l.useEffect)(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[s]),t}(e.container),i=e.trendingItems.slice(0,pa),[c,d]=Object(l.useState)(new Array(pa).fill(!1)),p=()=>{const e=new Array(i.length).fill(!1);return i.forEach((t,n)=>{if(t.id){const s=document.getElementById("".concat(ua,"-").concat(t.id)),o=document.getElementById(ma);if(s&&o){const t=s.getBoundingClientRect(),r=o.getBoundingClientRect();t.top<r.bottom&&t.bottom>r.top&&(e[n]=!0)}}}),e};Object(l.useLayoutEffect)(()=>{if(!e.isTrendingPending&&e.isOpen&&document.getElementById(ma)){const e=p();d(e),i.forEach((n,s)=>{e[s]&&t((e,t)=>ta.F(t(),n,ta.a.SEARCH_DROPDOWN))})}},[e.isTrendingPending,e.isOpen,t]);const b={width:a?"".concat(a,"px"):"inherit",marginTop:"7px",overflow:"scroll"};e.isFixed&&(b.zIndex=ca.h);const h=0===e.typeaheadSuggestions.length&&!e.isTypeaheadPending,{typeaheadSuggestions:f}=e,v=Object(l.useMemo)(()=>f.filter(e=>e.isSubreddit),f);return u.a.createElement(ba,{className:Object(g.a)(qr.a.dropdown,po.a.listContainer),id:ma,isFixed:n,isOpen:e.isOpen,isOverlay:s,tooltipId:ua,noFocus:!0,renderContentsHidden:!0,style:b,onDropdownMounted:()=>{if(!e.isTrendingPending&&i.length>0){const e=p();d(e),i.forEach((n,s)=>{e[s]&&t((e,t)=>ta.F(t(),n,ta.a.SEARCH_DROPDOWN))})}},onScroll:()=>{const e=p();i.forEach((n,s)=>{c[s]||!e[s]||n.post&&n.post.isSponsored||t((e,t)=>ta.F(t(),n,ta.a.SEARCH_DROPDOWN))}),d(e)}},e.typeaheadSuggestions.map((t,n)=>u.a.createElement(ia,{focusedItem:e.typeaheadSuggestions[e.focusedItemIndex],indexOfItem:n,subredditSuggestions:v,item:t,key:t.id,onClearSearchQuery:e.onClearSearchQuery,onSendSearchClickTypeaheadEvent:e.onSendSearchClickTypeaheadEvent,onSetRecentSearch:e.onSetRecentSearch,fireAdPixelsOfType:e.fireAdPixelsOfType})),h&&e.recentSearches.map((t,n)=>u.a.createElement(Kr,{activeTooltipId:o,focusedItem:e.itemList[e.focusedItemIndex],indexOfItem:n,key:t.id,onClearSearchQuery:e.onClearSearchQuery,onRemoveRecentSearch:e.onRemoveRecentSearch,onSendSearchClickRecentEvent:e.onSendSearchClickRecentEvent,onSetRecentSearch:e.onSetRecentSearch,onUpdateSearchQuery:e.onUpdateSearchQuery,recentSearch:t,toggleTooltip:r})),h&&!e.isInUISimplificationI18NExperiment&&e.isInTrendingExperiment&&!e.isTrendingPending&&e.trendingItems&&u.a.createElement("div",{className:Object(g.a)(Ko.a.title,qr.a.listItemTitle,{[qr.a.mWithBorder]:!!e.recentSearches.length})},la._("Trending today",null,{hk:"3nAMpY"})),(e.isTypeaheadPending||!e.isInUISimplificationI18NExperiment&&e.isTrendingPending)&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Object(g.a)(qr.a.loadingItem,er.a.item)}),u.a.createElement("div",{className:Object(g.a)(qr.a.loadingItem,er.a.item)}),u.a.createElement("div",{className:Object(g.a)(qr.a.loadingItem,er.a.item)}),u.a.createElement("div",{className:Object(g.a)(qr.a.loadingItem,er.a.item)}),u.a.createElement("div",{className:Object(g.a)(qr.a.loadingItem,er.a.item)})),h&&!e.isInUISimplificationI18NExperiment&&e.isInTrendingExperiment&&i.map(t=>u.a.createElement(ra,{id:"".concat(ua,"-").concat(t.id),key:t.id,focusedItem:e.itemList[e.focusedItemIndex],fireAdPixelsOfType:e.fireAdPixelsOfType,onSetRecentSearch:e.onSetRecentSearch,onUpdateSearchQuery:e.onUpdateSearchQuery,trendingItem:t})))}var ga=n("./src/reddit/contexts/ApiContext.tsx"),fa=n("./src/lib/makeApiRequest/index.ts"),va=n("./src/lib/omitHeaders/index.ts"),Oa=n("./src/reddit/constants/headers.ts");const ya=(e,t)=>Object(fa.a)(Object(va.a)(e,[Oa.a]),{endpoint:"".concat(e.apiUrl,"/api/subreddit_autocomplete_v2.json"),method:f.eb.GET,data:{query:t}});var Ca=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),xa=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts");const Pa=e=>{const t=[],n={};return e.forEach(e=>{const s=e.data,o=e.kind;o===f.Cb.Subreddit?(t.push(s.name),n[s.name]=Object(xa.a)(s)):o===f.Cb.Account&&(t.push(s.subreddit.name),n[s.subreddit.name]=Object(Ca.a)(s.subreddit,s.name))}),{data:n,order:t}};var Ea=n("./src/reddit/helpers/isArrayEqual.ts"),ja=n("./src/reddit/helpers/trackers/searchResults.ts"),Sa=n("./src/reddit/selectors/experiments/trending.ts"),_a=n("./src/reddit/helpers/chooseVariant/index.ts");const wa=e=>Object(re.G)(e)||Cn.Wc.Treatment1===Object(_a.c)(e,{experimentEligibilitySelector:_a.a,experimentName:Cn.Tc});var ka=n("./src/reddit/selectors/experiments/uiSimplification.ts"),Ia=n("./src/reddit/selectors/searchResults.ts"),Ma=n("./src/reddit/selectors/tooltip.ts"),Na=n("./src/reddit/selectors/trending.ts"),Ta=n("./src/reddit/controls/Search/index.m.less"),Ra=n.n(Ta);const Aa=Object(xn.t)({searchQuery:xn.V,pageLayer:e=>e}),La=(e,t,n,s)=>e(e=>Object.assign(Object.assign({},Object(ja.c)(e)),{source:"search",action:"click",noun:t,actionInfo:K.actionInfo(e),search:Object.assign(Object.assign({},K.search(e,n,!0,s||void 0)),{structureType:K.structureType(e,s),queryId:Object(ar.c)(ar.a.SearchResults)})})),Fa=Object(m.b)(()=>Object(h.c)({currentPage:ln.b,currentSubredditName:ln.e,currentUser:re.i,dropdownIsOpen:Object(Ma.b)(ua),typeaheadIdsByQuery:Ia.c,isInTrendingExperiment:Sa.a,isInTypeaheadExperiment:wa,isInUISimplificationI18NExperiment:ka.a,isLoggedIn:re.J,isSubredditSearchAllowed:(e,t)=>{let{pageLayer:n}=t;return Object(xn.L)(n)},multireddit:xn.d,routeName:ln.r,subreddit:xn.q,trendingItems:Na.a,typeaheadSuggestions:Ia.i}),(e,t)=>({fetchTrendingItems:()=>e(Object(Nr.b)()),fireAdPixelsOfType:(t,n)=>e(Object(Ir.t)(t,n)),onChange:t=>e(Object(Mr.j)({searchQuery:t})),onClearSearchQuery:()=>e(Object(Mr.j)({searchQuery:""})),onGoToUrl:t=>e(Object(b.b)(t)),onSearch:(t,n,s,o)=>{e(Object(b.b)(Object(Er.c)({pathname:t,search:n,state:{fromPage:s,[H.a.SearchOriginPage]:o}})))},onToggleDropdown:()=>e(Object(Tr.h)({tooltipId:ua})),onTypeaheadSuggestionsSuccess:t=>{e(Object(Mr.i)(t))}}),(e,t,n)=>Object.assign(Object.assign(Object.assign(Object.assign({},e),t),n),{onSearch:(s,o)=>{s.preventDefault();const{currentUser:r=null}=e,a=Dr(e.subreddit,e.multireddit,r,o,n.searchOptions,e.isSubredditSearchAllowed);if(!a)return;const i=a.url,c=a.qs,d={routeName:e.routeName,subredditName:e.currentSubredditName},l=e.currentPage?K.getPageTypeFromCurrentPage(e.currentPage):n.pageLayer?K.getPageTypeFromCurrentPage(n.pageLayer):void 0;t.onSearch(i,c,d,l)},onFocusSearchBar:()=>{Object(ar.c)(ar.a.SearchResults)||Object(ar.d)(ar.a.SearchResults);const e=n.searchOptions||Object(kr.c)({q:n.searchQuery});La(n.sendEvent,K.OriginElement.SearchBar,e,n.pageLayer?n.pageLayer:void 0)}}));class Da extends u.a.Component{constructor(e){super(e),this.container=null,this.makeTypeaheadApiRequest=async()=>{this.setState({isTypeaheadPending:!0});const e=await ya(this.props.apiContext(),this.state.searchQuery);if(e.ok){if(e.body&&e.body.data&&e.body.data.children){const t=Pa(e.body.data.children);t&&t.data&&t.order&&this.props.onTypeaheadSuggestionsSuccess({typeaheadSuggestions:t.data,order:t.order,searchQuery:this.state.searchQuery})}this.setState({isTypeaheadPending:!1,fetchedTrending:!0})}else this.setState({isTypeaheadPending:!1})},this.makeTrendingApiRequest=async()=>{this.props.trendingItems.length||this.state.isTrendingPending||(this.setState({isTrendingPending:!0}),await this.props.fetchTrendingItems(),this.setState({isTrendingPending:!1}))},this.setContainerRef=e=>{this.container=e},this.close=()=>{this.props.dropdownIsOpen&&this.props.onToggleDropdown()},this.onRemoveRecentSearch=e=>{this.props.currentUser&&0!==this.state.recentSearches.length&&(Object(hn.L)(e,this.props.currentUser.id),this.setState({recentSearches:this.state.recentSearches.filter(t=>t.searchQuery!==e.searchQuery),focusedItemIndex:-1}))},this.onUpdateSearchQuery=e=>{this.setState({searchQuery:e})},this.onSetRecentSearch=e=>{this.props.isLoggedIn&&this.props.currentUser&&this.setState({recentSearches:Object(hn.nb)(Object.assign(Object.assign({},e),{section:Fr.c.recent}),this.props.currentUser.id)})},this.onChange=e=>{const t=e.currentTarget.value,n={searchQuery:t};if(this.setState(n),this.props.onChange(t),this.props.isInTypeaheadExperiment){if(!(!this.props.typeaheadIdsByQuery||!this.props.typeaheadIdsByQuery[t])||!t)return;this.onFetchTypeaheadSuggestions()}},this.onFetchTypeaheadSuggestions=Sr()(()=>{this.makeTypeaheadApiRequest()},250),this.onSearch=async e=>{if(this.close(),this.state.searchQuery){let t=Object.assign({},Fr.a);if(this.state.selectedItem&&this.state.selectedItem.searchQuery===this.state.searchQuery)(t=this.state.selectedItem).id||(t.id=wr()()),t.section===Fr.c.recent?this.onSendSearchClickRecentEvent(this.state.searchQuery,t,this.state.focusedItemIndex):t.section===Fr.c.typeahead?this.onSendSearchClickTypeaheadEvent(this.state.searchQuery,t,this.state.focusedItemIndex,this.state.itemList.filter(e=>e.isSubreddit)):this.onSendDropdownClickEvent(this.state.searchQuery,this.state.searchQuery,K.StructureType.Search,K.SearchDropdownNouns.Recent);else{const e=this.props.subreddit&&this.props.subreddit.icon?this.props.subreddit.icon.url:"",n=this.props.subreddit?this.props.subreddit.displayText:void 0,s=!!this.props.subreddit&&this.props.subreddit.isNSFW,o=Fr.b.text;t={id:wr()(),searchQuery:this.state.searchQuery,type:o,section:Fr.c.recent,subredditOrProfileRestrictedName:n,displayInfo:{iconUrl:e,isNSFW:s}}}this.onSetRecentSearch(t),this.close(),this.props.onSearch(e,t)}},this.onClearSearchQuery=()=>{this.setState({focusedItemIndex:-1,selectedItem:null,searchQuery:""}),this.props.onClearSearchQuery()},this.onSendDropdownClickEvent=(e,t,n,s)=>{const o={displayQuery:e,rawQuery:t,structureType:n,searchQuery:this.props.searchQuery};this.props.sendEvent(Object(ja.s)(s,o))},this.onSendSearchClickRecentEvent=(e,t,n)=>{this.props.sendEvent(Object(ja.u)(e,t,n))},this.onSendSearchClickTypeaheadEvent=(e,t,n,s)=>{this.props.sendEvent(Object(ja.w)(e,t,n,s))},this.onSendDropdownViewEvent=(e,t,n,s)=>{const o={displayQuery:n,rawQuery:s||n,searchQuery:this.props.searchQuery,structureType:t};this.props.sendEvent(Object(ja.t)(e,o))},this.onKeyDown=e=>{if(e.key===rr.b.Escape&&this.close(),e.key===rr.b.Tab&&this.close(),e.key===rr.b.ArrowDown){if(e.preventDefault(),0===this.state.itemList.length||!this.props.dropdownIsOpen)return;if(this.state.focusedItemIndex>=this.state.itemList.length-1)return;const t=this.state.focusedItemIndex+1,n=this.state.itemList[t]||null,s=n?n.searchQuery:"";this.setState({focusedItemIndex:t,searchQuery:s,selectedItem:n})}if(e.key===rr.b.ArrowUp){if(e.preventDefault(),0===this.state.itemList.length||!this.props.dropdownIsOpen)return;if(-1===this.state.focusedItemIndex)return;const t=this.state.focusedItemIndex-1,n=this.state.itemList[t]||null,s=n?n.searchQuery:"";this.setState({focusedItemIndex:t,searchQuery:s,selectedItem:n})}},this.toggleDropdownAndGetTrending=()=>{if(!this.props.trendingItems.length&&this.props.isInTrendingExperiment&&this.makeTrendingApiRequest(),this.props.currentUser){const e=Object(hn.A)(this.props.currentUser.id);e.length>0&&(this.setState({recentSearches:this.props.isLoggedIn?e:[],itemList:[...e,...this.props.trendingItems]}),e.forEach(e=>{this.onSendDropdownViewEvent(K.SearchDropdownNouns.Recent,K.StructureType.Recent,e.searchQuery)}))}this.props.onToggleDropdown()},this.onFormSubmit=e=>{e.preventDefault(),this.onSearch(e);const t=this.props.searchOptions||Object(kr.c)({});t.q||(t.q=this.state.searchQuery),La(this.props.sendEvent,"full_search_button",t)},this.state={fetchedTrending:!1,focusedItemIndex:-1,itemList:[],isTrendingPending:!1,isTypeaheadPending:!1,recentSearches:[],searchQuery:this.props.searchQuery||"",selectedItem:null}}componentDidUpdate(e){const t=Object(Ea.a)(e.typeaheadSuggestions,this.props.typeaheadSuggestions),n=Object(Ea.a)(e.trendingItems,this.props.trendingItems);if(this.props.searchQuery!==e.searchQuery||!t||!n){const n=this.props.typeaheadSuggestions.length?this.props.typeaheadSuggestions:[...this.state.recentSearches,...this.props.trendingItems];this.setState(()=>{const t={itemList:n};return this.props.searchQuery!==e.searchQuery&&(t.searchQuery=this.props.searchQuery||""),t}),!t&&this.props.typeaheadSuggestions.length&&this.props.typeaheadSuggestions.forEach(e=>{this.onSendDropdownViewEvent(e.isProfile?K.SearchDropdownNouns.TypeaheadProfile:K.SearchDropdownNouns.TypeaheadSubreddit,K.StructureType.Search,e.searchQuery)})}}render(){const{props:e,state:t}=this;return u.a.createElement("div",{className:Object(g.a)(Ra.a.relativeWrapper,po.a.container,e.className,{"m-open":this.props.dropdownIsOpen}),id:ua,ref:this.setContainerRef},u.a.createElement("label",{className:Ra.a.iconContainer,htmlFor:"header-search-bar"},u.a.createElement(Br.a,{className:Ra.a.icon})),u.a.createElement("form",{action:"/search/",autoComplete:"off",method:"get",onSubmit:this.onFormSubmit,onFocus:e.onFocusSearchBar,role:"search"},u.a.createElement("input",{id:"header-search-bar",name:"q",className:Ra.a.input,onChange:this.onChange,onClick:this.toggleDropdownAndGetTrending,onKeyDown:this.onKeyDown,key:e.searchQuery,placeholder:s.fbt._("Search",null,{hk:"44xF6n"}),type:"search",value:this.state.searchQuery})),u.a.createElement(ha,{container:this.container,focusedItemIndex:t.focusedItemIndex,isFixed:e.isFixed,isInTrendingExperiment:e.isInTrendingExperiment,isInUISimplificationI18NExperiment:e.isInUISimplificationI18NExperiment,isOpen:e.dropdownIsOpen,isTrendingPending:t.isTrendingPending,isTypeaheadPending:t.isTypeaheadPending,itemList:t.itemList,onClearSearchQuery:this.onClearSearchQuery,onClose:this.close,onRemoveRecentSearch:this.onRemoveRecentSearch,onSendDropdownClickEvent:this.onSendDropdownClickEvent,onSendSearchClickRecentEvent:this.onSendSearchClickRecentEvent,onSendSearchClickTypeaheadEvent:this.onSendSearchClickTypeaheadEvent,onSetRecentSearch:this.onSetRecentSearch,onUpdateSearchQuery:this.onUpdateSearchQuery,recentSearches:t.recentSearches,trendingItems:e.trendingItems,typeaheadSuggestions:e.typeaheadSuggestions,fireAdPixelsOfType:e.fireAdPixelsOfType}))}}var Ga=Object(U.c)(Aa(Object(ga.b)(Fa(Da)))),Ua=n("./src/reddit/icons/svgs/Snoo/index.tsx"),Ba=n("./src/reddit/icons/svgs/Wordmark/index.tsx"),Ha=n("./src/reddit/components/Header/MwebResponsiveHeader/index.m.less"),qa=n.n(Ha);var Wa=e=>{const{className:t}=e;return u.a.createElement("div",{className:Object(g.a)(qa.a.Container,t)},u.a.createElement("a",{"aria-label":s.fbt._("Home",null,{hk:"1u0Rxp"}),className:qa.a.HomeLink,href:M.a.redditUrl},u.a.createElement(Ua.a,{className:qa.a.Snoo}),u.a.createElement(Ba.a,{className:qa.a.Wordmark,color:"inherit"})))},Va=n("./src/reddit/components/InfoTextTooltip/Hooked.tsx"),Qa=n("./src/reddit/hooks/useInfoTextTooltip.ts"),za=n("./src/reddit/hooks/useTracking.ts"),Ka=n("./src/reddit/components/Header/QuickLinks/index.m.less"),Ja=n.n(Ka),Ya=u.a.memo((function(e){const t=Object(za.a)(),n=Object(m.c)(),o=Object(l.useCallback)(()=>{t(e=>Object.assign(Object.assign({},Object(K.defaults)(e)),{source:"nav",action:"click",noun:"popular"}))},[t]),r=Object(l.useCallback)(()=>{t(e=>Object.assign(Object.assign({},Object(K.defaults)(e)),{source:"nav",action:"click",noun:"all"}))},[t]),a=Object(l.useCallback)(()=>{n(Object(jo.a)(q.c[q.b.Rpan])),t(e=>Object.assign(Object.assign({},Object(K.defaults)(e)),{source:"nav",action:"click",noun:"rpan"}))},[n,t]),i=Object(m.d)(re.J),c=Object(m.d)(fo.a),d=Object(Qa.a)(),p=Object(Qa.a)(),b=Object(Qa.a)();return u.a.createElement("div",{className:Object(g.a)(Ja.a.container,e.className)},u.a.createElement("div",{className:Ja.a.row},u.a.createElement(Us.a,{className:Ja.a.icon,innerRef:d.target.ref,to:i?q.c[q.b.Popular]:q.c[q.b.Home],onClick:o,onMouseEnter:d.show,onMouseLeave:d.hide},u.a.createElement(io.a,null)),u.a.createElement(Va.a,{arrowProps:d.arrowProps,popperProps:d.popperProps,visible:d.visible},s.fbt._("Popular",null,{hk:"1Kx4va"})),u.a.createElement(u.a.Fragment,null,u.a.createElement(Us.a,{className:Ja.a.icon,innerRef:p.target.ref,to:q.c[q.b.All],onClick:r,onMouseEnter:p.show,onMouseLeave:p.hide},u.a.createElement(Zs.a,null)),u.a.createElement(Va.a,{arrowProps:p.arrowProps,popperProps:p.popperProps,visible:p.visible},s.fbt._("All",null,{hk:"1Rk1yU"}))),c&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Us.a,{className:Ja.a.icon,innerRef:b.target.ref,to:q.c[q.b.Rpan],onClick:a,onMouseEnter:b.show,onMouseLeave:b.hide},u.a.createElement(uo.b,null)),u.a.createElement(Va.a,{arrowProps:b.arrowProps,popperProps:b.popperProps,visible:b.visible},s.fbt._("Reddit Public Access Network",null,{hk:"38uXOo"})))))})),Xa=n("./src/reddit/actions/login.ts"),Za=n("./src/reddit/helpers/trackers/authControls.ts"),$a=n("./node_modules/lodash/isEmpty.js"),ei=n.n($a),ti=n("./src/lib/matchRoute/index.ts"),ni=n("./src/chat/helpers/dom.ts"),si=n("./src/reddit/actions/changeUsername.ts"),oi=n("./src/reddit/actions/chat/toggle.ts"),ri=n("./src/reddit/actions/emailVerificationTooltip.ts"),ai=n("./src/reddit/actions/postCreation/general.ts"),ii=n("./src/reddit/actions/users.ts"),ci=n("./src/reddit/components/Settings/modalIds.ts"),di=n("./src/reddit/actions/appBadgeIndicators/index.ts"),li=n("./src/reddit/components/BlockNavigation/index.tsx"),ui=n("./src/reddit/components/ChangeUsernameModals/Loader.tsx"),mi=n("./src/reddit/components/ChangeUsernameTooltip/Loader.tsx");var pi=Object(rt.a)({getComponent:()=>Object(jt.a)(()=>n.e("EmailVerificationModals").then(n.bind(null,"./src/reddit/components/EmailVerificationModals/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),bi=n("./src/reddit/components/OverlayAwareTooltip/index.tsx"),hi=n("./src/reddit/helpers/trackers/emailVerification.ts"),gi=n("./src/reddit/components/EmailVerificationTooltip/index.m.less"),fi=n.n(gi);class vi extends u.a.Component{constructor(){super(...arguments),this.onChangeEmailModalOpen=()=>{this.props.sendEvent(Object(hi.e)(hi.a,"update")),this.props.toggleChangeEmailModal()},this.onCloseTooltip=()=>{this.props.sendEvent(Object(hi.c)(hi.a)),this.props.closeTooltip()},this.onResendEmailClick=()=>{this.props.sendEvent(Object(hi.e)(hi.a,"confirm")),this.props.resendEmail(),this.props.closeTooltip()}}componentDidMount(){vi.shouldSendViewEvent&&(vi.shouldSendViewEvent=!1,this.props.sendEvent(Object(hi.g)(hi.a)))}render(){return u.a.createElement("div",{className:fi.a.container},u.a.createElement("div",{className:fi.a.topLine}),u.a.createElement("button",{className:fi.a.closeWrapper,onClick:this.onCloseTooltip},u.a.createElement(ee.a,{className:fi.a.closeIcon})),u.a.createElement("h5",{className:fi.a.title},s.fbt._("Confirm your email:",null,{hk:"1RDs8b"})),u.a.createElement("p",{className:fi.a.subtitle},this.props.email),u.a.createElement("p",{className:fi.a.description},s.fbt._("Check your inbox email for Reddit's confirmation email. A current email address helps ensure you don't lose access to your account.",null,{hk:"2bhwUs"})),u.a.createElement("div",{className:fi.a.buttonWrapper},u.a.createElement(dt.l,{className:fi.a.commonBtn,"data-redditstyle":!0,onClick:this.onChangeEmailModalOpen},s.fbt._("Update email",null,{hk:"1Cxqkk"})),u.a.createElement(dt.i,{className:Object(g.a)(fi.a.commonBtn,fi.a.primaryBtn),"data-redditstyle":!0,onClick:this.onResendEmailClick},s.fbt._("Got it",null,{hk:"3IP9TO"}))))}}vi.shouldSendViewEvent=!0;const Oi=Object(bi.a)(vi,[nr.a.Click,nr.a.Keydown,nr.a.Resize]);var yi=Object(U.c)(Oi),Ci=n("./src/reddit/components/GoogleOneTapIFrame/index.m.less"),xi=n.n(Ci);const Pi=Object(h.c)({isLoggedIn:re.J});class Ei extends u.a.Component{render(){const{exposeIFrameElement:e,isLoggedIn:t}=this.props;return u.a.createElement(fe,{className:Object(g.a)(xi.a.IFrame,{[xi.a["m-hidden"]]:t}),exposeIFrameElement:e,path:B.c.GoogleOneTap})}}var ji=Object(m.b)(Pi)(Ei),Si=n("./src/reddit/actions/goldPurchaseModals/purchaseCatalog.ts"),_i=n("./src/reddit/helpers/trackers/goldPayment.ts");const wi="gold_top_nav",ki=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(Object.assign({},Object(_i.h)(e,t)),{correlationId:Object(ar.d)(ar.a.GoldPayment,!1),profile:K.profile(e),subreddit:K.subreddit(e)})},Ii=e=>t=>Object.assign({source:wi,action:"click",noun:e},ki(t)),Mi=e=>t=>Object.assign({source:wi,action:"click",noun:"coins_package"},ki(t,{packageId:e})),Ni=()=>e=>Object.assign({source:wi,action:"click",noun:"premium"},ki(e)),Ti=()=>e=>Object.assign({source:wi,action:"view",noun:"dropdown"},ki(e));var Ri=n("./src/reddit/components/CoinPurchaseDropdownHeader/index.m.less"),Ai=n.n(Ri),Li=n("./src/reddit/components/CoinPurchaseDropdownHeader/DefaultHeader/index.m.less"),Fi=n.n(Li);const{fbt:Di}=n("./node_modules/fbt/lib/FbtPublic.js");var Gi=e=>{const{className:t}=e;return u.a.createElement("div",{className:Object(g.a)(t,Fi.a.header)},u.a.createElement("span",{className:Fi.a.headerText},Di._("Give Gold, Silver, Platinum, and more with Coins",null,{hk:"3MfKV4"})),u.a.createElement(Us.a,{className:Fi.a.headerLink,to:"/coins"},Di._("What are Coins?",null,{hk:"DNBPx"})))},Ui=n("./src/reddit/components/CoinPurchaseDropdownHeader/SalesHeader/index.m.less"),Bi=n.n(Ui);var Hi=e=>{const{className:t,salesConfig:n}=e,{dropdownHeaderText:s,dropdownHeaderBackgroundAsset:o}=n;return u.a.createElement("div",{className:Object(g.a)(t,Bi.a.header)},o&&u.a.createElement("img",{className:Bi.a.saleHeaderImage,src:o}),u.a.createElement("span",{className:Bi.a.headerText},s))};const{fbt:qi}=n("./node_modules/fbt/lib/FbtPublic.js");var Wi=e=>{const{activeSaleConfig:t}=e;return t?u.a.createElement(Hi,{className:Ai.a.header,salesConfig:t}):u.a.createElement(Gi,{className:Ai.a.header})},Vi=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/opener/index.ts")),Qi=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),zi=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),Ki=n("./src/reddit/controls/LoadingIcon/index.tsx"),Ji=n("./src/reddit/models/Gold/Premium/index.ts"),Yi=n("./src/reddit/selectors/experiments/econAnnualPremium.ts"),Xi=n("./src/reddit/selectors/gold/purchaseCatalog.ts"),Zi=n("./src/reddit/selectors/gov.ts"),$i=n("./src/reddit/components/CompactCoinPurchaseList/ListItem/index.m.less"),ec=n.n($i);var tc=e=>{const{className:t,buttonClass:n,buttonSubtext:s,buttonSubtextCrossout:o,buttonText:r,onClick:a,primaryText:i,subtext:c,subtextCrossout:d}=e,l=n?dt.f:dt.i;return u.a.createElement("div",{className:Object(g.a)(t,ec.a.CompactCoinPurchaseListItem)},u.a.createElement("div",{className:ec.a.productSection},u.a.createElement("span",{className:ec.a.primaryText},i),u.a.createElement("span",{className:Object(g.a)(ec.a.subtext,{[ec.a.crossout]:d})},Array.isArray(c)?c.map((e,t)=>u.a.createElement("p",{key:t},e)):c)),u.a.createElement("div",{className:ec.a.priceSection},u.a.createElement(l,{className:Object(g.a)(ec.a.button,n),redditStyle:!0,onClick:a},r),u.a.createElement("span",{className:Object(g.a)(ec.a.buttonSubtext,{[ec.a.crossout]:o})},s)))},nc=n("./src/reddit/components/CompactCoinPurchaseList/index.m.less"),sc=n.n(nc);const oc=Object(h.c)({annualPremiumEnabled:Yi.a,coinPackages:Xi.b,communityPointsConversionEnabled:bn.d.spPointsCoinConversion,communityPointsName:(e,t)=>{const n=Object(xn.q)(e,t);return Object(Zi.p)(e,{subredditId:null==n?void 0:n.id})},isPremiumSubscriber:re.s,premiumPackages:Xi.f,purchaseCatalogError:Xi.g,purchaseCatalogPending:Xi.h}),rc=Object(m.b)(oc,e=>({onClickCoinPackage:(t,n)=>e(Object(Qi.b)({correlationId:n,packageId:t.mobileId})),onClickConvert:()=>e(Object(T.h)(W.a.CONVERT_TO_COINS)),onClickPremiumPackage:(t,n)=>n?e(Object(zi.d)({packageId:Ji.b,correlationId:t})):Object(Vi.d)("/premium",Vi.c.BLANK),requestPurchaseCatalog:t=>e(Object(Si.b)(t))}));class ac extends u.a.Component{constructor(e){super(e),this.handleClickBuyCoins=e=>{const{onClick:t,onClickCoinPackage:n,sendEvent:s}=this.props;t&&t(),s(Mi(e.mobileId)),n(e,this.correlationId)},this.handleClickBuyPremium=()=>{var e;const{annualPremiumEnabled:t,onClick:n,onClickPremiumPackage:s,pageLayer:o,sendEvent:r}=this.props;n&&n(),r(Ni());const a=!t||(null===(e=null==o?void 0:o.meta)||void 0===e?void 0:e.name)===f.Fb.PREMIUM;s(this.correlationId,a)},this.correlationId=Object(ar.d)(ar.a.GoldPayment,!1),e.coinPackages.length||e.purchaseCatalogPending||e.requestPurchaseCatalog(this.correlationId)}getListItemData(){const{annualPremiumEnabled:e,coinPackages:t,isPremiumSubscriber:n,premiumPackages:o,sorted:r}=this.props,a=t.map(e=>{const{baselineCoins:t,baselinePennies:n,coins:o,pennies:r,bonusPct:a}=e,i=o.toLocaleString(),c=s.fbt._("{number of coins} Coins",[s.fbt._param("number of coins",i)],{hk:"1bO7gz"}),d="$".concat(r/100);let l,u;if(o!==t){const e=t.toLocaleString();l=s.fbt._("{number of coins of non-sale package} coins",[s.fbt._param("number of coins of non-sale package",e)],{hk:"afkY9"})}return{buttonSubtext:u=r!==n?"$".concat(n/100):a?s.fbt._("{percent bonus}% Bonus",[s.fbt._param("percent bonus",a.toLocaleString())],{hk:"2zgjZ1"}):void 0,buttonText:d,coinPackage:e,primaryText:c,subtext:l}});r&&a.sort((e,t)=>{return(e.coinPackage?e.coinPackage.coins:0)-(t.coinPackage?t.coinPackage.coins:0)});const i=o.length?o[0]:void 0;if(n||!i)return a;const{pennies:c,periodicalCoins:d,signupBonusCoins:l}=i,u=l?l.toLocaleString():void 0,m="$".concat((c/100).toLocaleString()),p=d.toLocaleString(),b={buttonClass:e?sc.a.premiumButtonStyle:sc.a.goldButtonStyle,buttonSubtext:u?s.fbt._("{number of bonus coins} bonus coins",[s.fbt._param("number of bonus coins",u)],{hk:"YgHAT"}):void 0,buttonText:e?s.fbt._("Upgrade",null,{hk:"1tsWOd"}):s.fbt._("{premium price}/mo",[s.fbt._param("premium price",m)],{hk:"4Cwbsj"}),primaryText:s.fbt._("Premium",null,{hk:"45A9gK"}),subtext:[s.fbt._("{monthly coins} coins/mo",[s.fbt._param("monthly coins",p)],{hk:"2hVTon"}),s.fbt._("Ads free & more",null,{hk:"wO4Wc"})]};return a.concat(b)}render(){const{className:e,coinPackages:t,communityPointsConversionEnabled:n,communityPointsName:o,onClickConvert:r,purchaseCatalogError:a,purchaseCatalogPending:i}=this.props;return i?u.a.createElement("div",{className:e},u.a.createElement("div",{className:sc.a.loaderContainer},u.a.createElement(Ki.a,{sizePx:80}))):a||!t.length?u.a.createElement("div",{className:e},u.a.createElement("div",{className:sc.a.errorContainer},s.fbt._("Oops, something went wrong",null,{hk:"4EQRS8"}))):u.a.createElement("div",{className:e},this.getListItemData().map(e=>{const{buttonClass:t,buttonSubtext:n,buttonText:s,coinPackage:o,primaryText:r,subtext:a}=e,i=o&&o.coins!==o.baselineCoins,c=o&&o.pennies!==o.baselinePennies;return u.a.createElement(tc,{buttonClass:t,buttonSubtext:n,buttonSubtextCrossout:c,buttonText:s,key:r,onClick:o?()=>this.handleClickBuyCoins(o):this.handleClickBuyPremium,primaryText:r,subtext:a,subtextCrossout:i})}),n&&u.a.createElement(tc,{buttonText:s.fbt._("Convert",null,{hk:"zVTTU"}),onClick:r,primaryText:s.fbt._("Convert {community points name}",[s.fbt._param("community points name",o)],{hk:"e7BeU"}),subtext:s.fbt._("into Coins",null,{hk:"1XFIa6"})}))}}var ic=Object(xn.t)()(rc(Object(U.c)(ac))),cc=n("./src/reddit/components/CoinPurchaseDropdown/index.m.less"),dc=n.n(cc);const{fbt:lc}=n("./node_modules/fbt/lib/FbtPublic.js"),uc=Object(Rr.a)(da.a);class mc extends u.a.Component{constructor(){super(...arguments),this.timer=void 0,this.handleMouseEnter=()=>{this.timer&&clearTimeout(this.timer)},this.handleMouseLeave=()=>{const{onCloseTooltip:e}=this.props;this.timer=setTimeout(e,700)}}componentDidMount(){const{isOpen:e,sendEvent:t}=this.props;e&&t(Ti())}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.props.sendEvent(Ti())}render(){const{activeSaleConfig:e,className:t,isOpen:n,onCloseTooltip:s,tooltipId:o}=this.props;return u.a.createElement(uc,{className:Object(g.a)(t,dc.a.CoinPurchaseDropdown,{[dc.a.activeSale]:!!e}),isFixed:!0,isOpen:n,targetPosition:["center","bottom"],tooltipPosition:["right","top"],tooltipId:o},u.a.createElement(Wi,{activeSaleConfig:e}),u.a.createElement(ic,{className:dc.a.purchaseList,onClick:s,sorted:!0}))}}var pc=Object(U.c)(mc),bc=n("./src/reddit/components/PremiumPurchaseModal/Loader.tsx");var hc=n("./src/reddit/selectors/goldPurchaseModals.ts"),gc=n("./src/reddit/components/Header/GoldCoinsCta/index.m.less"),fc=n.n(gc);const vc="COIN_PURCHASE_DROPDOWN_ID",Oc=Object(h.c)({activeSaleConfig:Xi.a,activeTooltipId:Ma.a,coinPurchaseDropdownIsOpen:e=>Object(Ma.b)(vc)(e),premiumPurchaseModalIsOpen:hc.n});class yc extends u.a.Component{constructor(){super(...arguments),this.handleClick=e=>{const{activeTooltipId:t,coinPurchaseDropdownIsOpen:n,sendEvent:s,toggleTooltip:o}=this.props;n||(Object(ar.d)(ar.a.GoldPayment,!0),Object(Ln.a)(),Object(bc.b)(),s(Ii("get_coins_cta"))),o(t)}}componentDidMount(){const{activeSaleConfig:e,requestActiveSale:t}=this.props;e||t()}render(){const{activeSaleConfig:e,className:t,closeTooltip:n,coinPurchaseDropdownIsOpen:o,premiumPurchaseModalIsOpen:r}=this.props,a=e?e.ctaText?e.ctaText:s.fbt._("Coin Sale",null,{hk:"1VWZAa"}):s.fbt._("Get Coins",null,{hk:"4h3X7d"});return u.a.createElement("button",{className:Object(g.a)(t,fc.a.ctaContainer,{[fc.a.activeSale]:!!e}),id:vc,onClick:this.handleClick},u.a.createElement("div",{className:Object(g.a)(fc.a.ctaContent,{[fc.a.activeSale]:!!e})},u.a.createElement(eo.a,{className:Object(g.a)(fc.a.icon,{[fc.a.activeSale]:!!e})}),u.a.createElement("span",{className:fc.a.text},a)),u.a.createElement(pc,{activeSaleConfig:e,isOpen:o,onCloseTooltip:n,tooltipId:vc}),r&&u.a.createElement(bc.a,null))}}var Cc=Object(m.b)(Oc,(e,t)=>({closeTooltip:()=>e(Object(Tr.i)()),requestActiveSale:()=>e(Object(Si.a)()),toggleTooltip:t=>{e(t===vc?Object(Tr.i)():Object(Tr.f)({tooltipId:vc}))}}))(Object(U.c)(yc)),xc=n("./src/reddit/components/HeaderIconContainer/index.m.less"),Pc=n.n(xc);function Ec(){return(Ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var jc=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const Sc=I.a.button("Button",Pc.a),_c=I.a.div("Container",Pc.a);function wc(e){const{children:t,isOpen:n}=e,s=jc(e,["children","isOpen"]);return u.a.createElement(Sc,Ec({},s,{id:e.id,onClick:e.onClick}),u.a.createElement(_c,{className:Object(g.a)({[Pc.a.isOpen]:n})},t))}var kc=n("./src/reddit/components/BadgeCounter/index.tsx"),Ic=n("./src/reddit/icons/svgs/Chat/index.tsx"),Mc=n("./src/reddit/components/HeaderUserActions/index.m.less"),Nc=n.n(Mc);var Tc=e=>u.a.createElement(u.a.Fragment,null,u.a.createElement(kc.a,{isActive:!!e.hasUnreadMessages,unreadCount:e.badgeCount}),u.a.createElement(Ic.a,{className:Object(g.a)(Nc.a.chatIcon,{[Nc.a.isActive]:!!e.hasUnreadMessages})})),Rc=n("./src/reddit/components/HeaderUserActions/CustomizeFlyout/index.m.less"),Ac=n.n(Rc);const{fbt:Lc}=n("./node_modules/fbt/lib/FbtPublic.js");var Fc=e=>{const{onCloseFlyout:t}=e;return u.a.createElement("div",{className:Ac.a.container},u.a.createElement("p",{className:Ac.a.title},Lc._("New User Settings",null,{hk:"1Sziu9"})),u.a.createElement("h5",{className:Ac.a.subtitle},Lc._("Like customizing Reddit?",null,{hk:"38eFal"})),u.a.createElement("p",{className:Ac.a.description},Lc._("You can save how you sort and view your communities in user settings.",null,{hk:"XMkGT"})),u.a.createElement(dt.l,{className:Ac.a.dismissBtn,onClick:t},Lc._("Got it",null,{hk:"3IP9TO"})))};var Dc=e=>u.a.createElement(u.a.Fragment,null,u.a.createElement(kc.a,{isActive:!!e.unreadCount,unreadCount:e.unreadCount}),u.a.createElement(to.a,{className:Object(g.a)(Nc.a.envelopeIcon,{[Nc.a.isUnread]:!!e.unreadCount})}));var Gc=e=>u.a.createElement(u.a.Fragment,null,u.a.createElement(kc.a,{isActive:!!e.unreadCount,unreadCount:e.unreadCount}),u.a.createElement(ao.a,{className:Nc.a.notificationInboxIcon})),Uc=n("./src/lib/prettyPrintNumber/index.ts"),Bc=n("./src/reddit/actions/alpha.ts"),Hc=n("./src/reddit/actions/modMode.ts"),qc=n("./src/reddit/actions/profile/index.ts"),Wc=n("./src/reddit/actions/snoovatar.ts"),Vc=n("./src/reddit/constants/elementClassNames.ts"),Qc=n("./src/reddit/controls/ToggleSwitch/index.tsx"),zc=n("./src/reddit/helpers/makeHeaderUserDropdownItem/index.tsx"),Kc=n("./src/reddit/helpers/trackers/modTools.ts");const Jc=e=>({screen:K.screen(e),profile:K.profile(e),subreddit:K.subreddit(e)});var Yc=n("./src/reddit/icons/fonts/Coin/index.tsx"),Xc=n("./src/reddit/icons/fonts/Premium/index.tsx"),Zc=n("./src/reddit/icons/svgs/Help/index.tsx"),$c=n("./src/reddit/icons/svgs/KarmaGray/index.tsx"),ed=n("./src/reddit/icons/svgs/Logout/index.tsx"),td=n("./src/reddit/icons/svgs/ModMode/index.tsx"),nd=n("./src/reddit/icons/svgs/MyProfile/index.tsx"),sd=n("./src/reddit/icons/svgs/Night/index.tsx"),od=n("./src/reddit/icons/svgs/OutboundLink/index.tsx"),rd=n("./src/reddit/icons/svgs/Redditor/index.tsx"),ad=n("./src/reddit/icons/svgs/Settings/index.tsx"),id=n("./src/reddit/icons/svgs/Shirt/index.tsx"),cd=n("./src/reddit/icons/svgs/SnooNoEyes/index.tsx"),dd=n("./src/reddit/layout/row/InlineButton/index.tsx"),ld=n("./src/reddit/components/HeaderUserDropdown/index.m.less"),ud=n.n(ld);const md="undefined"!=typeof window&&"new.reddit.com"!==window.location.hostname,pd=I.a.wrapped(da.a,"Dropdown",ud.a),bd=Object(Rr.a)(pd),hd=e=>u.a.createElement(zc.a,{className:ud.a.button,"data-redditstyle":!0,onClick:e.onClick},e.children,u.a.createElement("div",{className:ud.a.buttonText},e.displayText),u.a.createElement(Qc.a,{className:ud.a.toggleSwitch,"data-redditstyle":!0,on:e.isEnabled})),gd=Object(m.b)(()=>Object(h.c)({isModModeEnabled:mn.t,isOpen:Object(Ma.b)("USER_DROPDOWN_ID"),nightmode:re.U,url:ln.s}),(e,t)=>({toggleNightmode:t=>e(Object(R.y)(t)),onOptIntoRedesign:()=>e(Object(Bc.a)()),onOptOutOfRedesign:()=>{"new.reddit.com"!==window.location.host?(st.a.get("rseor3")&&st.a.remove("rseor3",{domain:M.a.cookieDomain}),e(Object(Bc.b)(!0))):window.location.host="old.reddit.com"},openSnoovatar:()=>e(Object(Wc.b)("nav")),requestAwardKarma:()=>{t.user&&e(Object(qc.f)(Object(Jt.e)(t.user)))},dispatchOpenLoginModal:()=>e(Object(Xa.h)()),logoutUser:()=>{const{googleOneTapIFrame:n}=t;n&&n.contentWindow&&(console.log("postMessage: disableAutoSelect"),n.contentWindow.postMessage({type:"disableAutoSelect"},Q())),e(Object(ii.p)())},toggleModMode:()=>e(Object(Hc.b)())}));var fd=Object(xn.t)({pageLayer:e=>e})(gd(Object(U.c)(e=>{const{logoutUser:t,dispatchOpenLoginModal:n,isModModeEnabled:o,nightmode:r,requestAwardKarma:a,toggleModMode:i,user:c}=e,d=c&&c.id;Object(l.useEffect)(()=>{a()},[d]);const m=Object(zc.c)(ad.a,s.fbt._("User Settings",null,{hk:"46J4vT"})),p=Object(zc.c)(id.a,s.fbt._("Style your avatar",null,{hk:"45ozJb"}),{strokeBasedIcon:!0}),b=c&&c.snoovatarFullBodyAsset?p:Object(zc.c)(ko.a,s.fbt._("Create an Avatar",null,{hk:"2OnlFT"})),h=Object(zc.b)(Zc.a,s.fbt._("Help Center",null,{hk:"4sGjc0"})),f=Object(zc.b)(od.a,s.fbt._("Visit Old Reddit",null,{hk:"3Fo9ag"})),v=Object(zc.c)(ed.a,s.fbt._("Log In / Sign Up",null,{hk:"4xbfvS"})),O=Object(zc.c)(ed.a,s.fbt._("Log Out",null,{hk:"2SjIc8"})),y=Object(zc.c)(cd.a,s.fbt._("Opt In to New Reddit",null,{hk:"4jiTxA"})),C=(e=>{const t=e&&e.coins||0;return s.fbt._({"*":"{number of coins} coins",_1:"1 coin"},[s.fbt._plural(t,"number of coins")],{hk:"qmnnm"})})(c),x=Object(zc.c)(eo.a,s.fbt._("Reddit Coins",null,{hk:"3jj6Cb"}),{meta:C}),E=Object(zc.c)(lo.a,s.fbt._("Reddit Premium",null,{hk:"3FNqVS"}));return u.a.createElement("div",{className:Object(g.a)(ud.a.container,Vc.e)},u.a.createElement(dd.a,{"aria-expanded":e.isOpen,"aria-haspopup":!0,className:Object(g.a)(e.className,ud.a.inlineButton,{[ud.a.dropdownOpen]:e.isOpen}),id:"USER_DROPDOWN_ID",onClick:()=>{e.onClick(),e.sendEventWithName("user")}},u.a.createElement("span",{className:ud.a.accountDisplayText},(e=>e?u.a.createElement("span",{className:Object(g.a)(ud.a.accountWrapper,ud.a.isLoggedIn),id:"email-collection-tooltip-id"},e.accountIcon&&u.a.createElement(Xs.a,{className:ud.a.imgIcon}),u.a.createElement("span",{className:ud.a.accountDetails},u.a.createElement("span",{className:ud.a.username},e.displayText,e.isGold&&u.a.createElement(Xc.a,{className:ud.a.premiumFontIcon,title:s.fbt._("Reddit Premium",null,{hk:"4Dwpyn"})})),u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:ud.a.accountKarma},u.a.createElement($c.a,null),u.a.createElement("span",null,(e=>{const t=e.totalKarma||e.postKarma+e.commentKarma,n=Object(Uc.b)(t);return s.fbt._({"*":"{karma count} karma",_1:"1 karma"},[s.fbt._plural(t,"karma count",n)],{hk:"ndlXe"})})(e))),!!e.coins&&u.a.createElement("span",{className:ud.a.accountCoins},u.a.createElement(Yc.a,{className:ud.a.coinFontIcon}),u.a.createElement("span",null,(e=>Object(Uc.b)(e.coins||0,{displayFull:!1,roundDown:!0}))(e)))))):u.a.createElement("span",{className:Object(g.a)(ud.a.accountWrapper,ud.a.isLoggedOut)},u.a.createElement(rd.a,{className:ud.a.myProfileIcon})))(e.user),u.a.createElement(qs.b,{className:ud.a.dropdownTriangle})),u.a.createElement(Pr.a,null,s.fbt._("User account menu",null,{hk:"2TJXIP"}))),u.a.createElement(bd,{isFixed:!0,isOpen:e.isOpen,tooltipId:"USER_DROPDOWN_ID"},c&&u.a.createElement(l.Fragment,null,u.a.createElement("h3",{className:ud.a.sectionHeader,role:"heading"},s.fbt._("My Stuff",null,{hk:"47vhMb"})),(e=>{const t=s.fbt._("My Profile",null,{hk:"4AoYxT"}),n=Object(zc.c)(nd.a,t);return u.a.createElement(n,{href:e.url})})(c),u.a.createElement(b,{onClick:e.openSnoovatar}),u.a.createElement(m,{href:"/settings"})),u.a.createElement("h3",{className:ud.a.sectionHeader,role:"heading"},s.fbt._("View Options",null,{hk:"3bZPKB"})),c&&c.isMod&&u.a.createElement(hd,{displayText:s.fbt._("Mod Mode",null,{hk:"3Rb4sj"}),isEnabled:o,onClick:()=>{e.sendEvent(Object(Kc.h)(!o)),i()}},u.a.createElement(td.a,{className:ud.a.modModeIcon})),u.a.createElement(hd,{displayText:"Night Mode",isEnabled:r,onClick:()=>{e.sendEvent((e=>t=>Object.assign({source:"user_dropdown",action:"click",noun:e?"night_mode_off":"night_mode_on"},Jc(t)))(r)),e.toggleNightmode(!r)}},u.a.createElement(sd.a,{className:ud.a.nightIcon})),u.a.createElement("h3",{className:ud.a.sectionHeader,role:"heading"},s.fbt._("More Stuff",null,{hk:"4Gad8T"})),u.a.createElement(l.Fragment,null,u.a.createElement(x,{href:"/coins",onClick:()=>{Object(ar.d)(ar.a.GoldPayment,!0),e.sendEvent((()=>e=>Object.assign({source:"user_dropdown",action:"click",noun:"coins",correlationId:Object(ar.c)(ar.a.GoldPayment)},Jc(e)))())}}),u.a.createElement(E,{href:"/premium",onClick:()=>{Object(ar.d)(ar.a.GoldPayment,!0),e.sendEvent((()=>e=>Object.assign({source:"user_dropdown",action:"click",noun:"premium",correlationId:Object(ar.c)(ar.a.GoldPayment)},Jc(e)))())}})),u.a.createElement(h,{href:"https://web.archive.org/web/20201201014008/https://www.reddithelp.com"}),c&&u.a.createElement(f,{href:"https://web.archive.org/web/20201201014008/https://old.reddit.com"+e.url,onClick:()=>{e.sendEvent(e=>({source:"redesignbanner",action:"click",noun:"2xdropdown_visit_old",screen:K.screen(e),subreddit:K.subreddit(e)}))}}),!md&&c&&u.a.createElement(y,{href:"",onClick:()=>{e.sendEvent(e=>({source:"redesignbanner",action:"click",noun:"2xdropdown_opt_in",screen:K.screen(e),subreddit:K.subreddit(e)})),e.onOptIntoRedesign()}}),u.a.createElement("div",{className:ud.a.divider}),c?u.a.createElement(O,{href:"#",onClick:e=>{t(),e.preventDefault()}}):u.a.createElement(v,{href:"#",onClick:t=>{Object(P.a)(t)&&(t.preventDefault(),t.stopPropagation(),n(),e.sendEvent(Object(Za.b)()))}})))}))),vd=n("./src/reddit/components/InboxTooltip/index.tsx"),Od=n("./src/reddit/components/InboxTooltip/Loader.ts"),yd=n("./src/reddit/components/ModerationDropdown/index.tsx"),Cd=n("./src/reddit/helpers/trackers/navigation.ts"),xd=n("./src/reddit/routes/index.ts"),Pd=n("./src/reddit/selectors/appBadges.ts");var Ed=n("./src/reddit/selectors/experiments/googleOneTap.ts"),jd=n("./src/reddit/selectors/experiments/inboxAppBadgingGql.ts"),Sd=n("./src/reddit/selectors/sso.ts"),_d=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const wd="change-username-tooltip-id",kd="email-verification-tooltip-id",Id=u.a.memo((function(e){var{moderationDropdownOpen:t}=e,n=_d(e,["moderationDropdownOpen"]);const o=Object(Qa.a)();return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:Nc.a.iconWrapper,onMouseEnter:o.show,onMouseLeave:o.hide,ref:o.target.ref},u.a.createElement(wc,{"aria-expanded":t,"aria-haspopup":!0,"aria-label":s.fbt._("Moderation",null,{hk:"1qCuzM"}),id:yd.a,onClick:n.onOpenModerationDropdown,isOpen:t},u.a.createElement(oo.a,{className:Object(g.a)(Nc.a.moderateIcon,{[Nc.a.isLit]:n.isModerateIconLit})})),u.a.createElement(Va.a,{arrowProps:o.arrowProps,popperProps:o.popperProps,visible:o.visible},s.fbt._("Moderation",null,{hk:"4uQPyx"}))),u.a.createElement(yd.b,{className:Nc.a.moderationDropdown,isOpen:t,unreadNotifications:n.unreadNotifications,sendEventWithName:n.sendEventWithName,showLegacyModmailIcon:n.showLegacyModmailIcon}))})),Md=u.a.memo((function(e){const t=Object(Qa.a)();return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:Nc.a.iconWrapper,onMouseEnter:t.show,onMouseLeave:t.hide,ref:t.target.ref},u.a.createElement("a",{className:Nc.a.link,href:"".concat(M.a.redditUrl,"/chat"),onClick:Object(ni.a)(e.onClickChat)},u.a.createElement(Tc,{badgeCount:e.badgeCount,hasUnreadMessages:e.hasUnreadMessages}))),u.a.createElement(Va.a,{arrowProps:t.arrowProps,popperProps:t.popperProps,visible:t.visible},s.fbt._("Chat",null,{hk:"4nXRWH"})))})),Nd=u.a.memo((function(e){let{onClickMail:t,unreadNotifications:n}=e;const o=Object(Qa.a)();return u.a.createElement("span",{className:Nc.a.iconWrapper,onMouseEnter:o.show,onMouseLeave:o.hide,ref:o.target.ref},u.a.createElement("a",{className:Nc.a.link,href:n&&n.hasUnreadMail?"/message/unread":"/message/inbox",onClick:t},u.a.createElement(Dc,{unreadCount:n&&n.inboxCount||0})),u.a.createElement(Va.a,{arrowProps:o.arrowProps,popperProps:o.popperProps,visible:o.visible},s.fbt._("Messages",null,{hk:"Txokh"})))})),Td=u.a.memo((function(e){const t=Object(Qa.a)();return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:Nc.a.iconWrapper,onMouseEnter:t.show,onMouseLeave:t.hide,ref:t.target.ref},u.a.createElement(wc,{"aria-expanded":e.inboxDropdownOpen,"aria-haspopup":!0,"aria-label":s.fbt._("Open notifications inbox",null,{hk:"1b2BKn"}),id:vd.DROPDOWN_ID,onClick:e.onOpenInboxDropdown,isOpen:e.inboxDropdownOpen},u.a.createElement(Gc,{unreadCount:e.unreadCount})),u.a.createElement(Va.a,{arrowProps:t.arrowProps,popperProps:t.popperProps,visible:t.visible},s.fbt._("Notification Inbox",null,{hk:"4ty6J0"}))),u.a.createElement(Od.a,{isOpen:e.inboxDropdownOpen,notifications:["one","two","three","four","five"],notificationsCount:5}))})),Rd=u.a.memo((function(e){const t=Object(Qa.a)();return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:Nc.a.iconWrapper,onMouseEnter:t.show,onMouseLeave:t.hide,ref:t.target.ref},u.a.createElement("button",{className:Nc.a.link,"aria-label":s.fbt._("Create Post",null,{hk:"4wbXc8"}),onClick:e.onClickCreatePost},u.a.createElement(co.a,{className:Nc.a.postIcon}))),u.a.createElement(Va.a,{arrowProps:t.arrowProps,popperProps:t.popperProps,visible:t.visible},s.fbt._("Create Post",null,{hk:"1TvNGq"})))})),Ad=Object(xn.t)({pageLayer:e=>e}),Ld=Object(h.c)({activeDropdownId:Ma.a,appBadges:Pd.a,chatDirectMessagesCount:Pd.d,email:re.l,hasUnreadChatMessages:Pd.e,inboxBadgeCount:Pd.f,isChangeUsernameTooltipShowing:e=>e.isChangeUsernameTooltipShowing,isCustomizeFlyoutShowing:e=>e.user.isCustomizeFlyoutShowing,isEmailVerificationTooltipShowing:e=>e.isEmailVerificationTooltipShowing,isGoogleOneTapEnabled:Ed.c,isInboxAppBadgingGqlEnabled:jd.a,isInboxRedesignActive:_o.a,isModerator:Xt.h,isNameEditable:re.L,isResponsiveSettingsEnabled:En.a,shouldOpenEmailVerificationTooltip:(e,t)=>{let{pageLayer:n}=t;return Object(xn.K)(n)&&!!Object(re.l)(e)&&!Object(re.z)(e)&&Object(re.J)(e)&&!Object(re.H)(e)},shouldShowChangeUsernameModals:Sd.d,shouldShowLegacyModmailIcon:vo.p,unreadNotifications:re.jb}),Fd=Object(m.b)(Ld,(e,t)=>({closeChangeUsernameTooltip:()=>e(Object(si.d)()),closeEmailVerificationTooltip:()=>e(Object(ri.b)()),fetchAppBadges:()=>e(Object(di.b)()),onChatClick:()=>e(Object(oi.e)()),onDismissCustomizeFlyout:()=>e(Object(R.t)()),onOpenInboxDropdown:()=>{e(Object(Tr.h)({tooltipId:vd.DROPDOWN_ID}))},onOpenModerationDropdown:()=>{e(Object(Tr.h)({tooltipId:yd.a})),e(Object(or.q)())},onOpenUserDropdown:()=>e(Object(Tr.h)({tooltipId:"USER_DROPDOWN_ID"})),openChangeUsernameModal:()=>{e(Object(T.h)(ci.b))},openKeepUsernameModal:()=>{e(Object(T.h)(ci.f))},toggleChangeEmailModal:()=>{e(Object(ri.b)()),e(Object(T.i)(ci.a))},resendEmail:()=>e(Object(ii.v)(hi.a)),requestCreatePost:()=>{t.pageLayer&&e(ai.o(t.pageLayer))},startChangeUsernameFlow:t=>{const n=Object(b.b)(t);e(Object(si.f)(n))}}));class Dd extends u.a.Component{constructor(){super(...arguments),this.state={googleOneTapIFrame:null},this.sendEventWithName=e=>this.props.sendEvent(Object(Cd.b)(e)),this.onClickMail=()=>this.sendEventWithName("mail"),this.onClickCreatePost=()=>{this.sendEventWithName("create_post"),this.props.requestCreatePost()},this.onClickChat=()=>{this.sendEventWithName("chat"),this.props.onChatClick()},this.onOpenInboxDropdown=()=>{this.props.onOpenInboxDropdown()},this.onOpenModerationDropdown=()=>{this.props.onOpenModerationDropdown(),this.sendEventWithName("mod_entry")},this.confirmNavigate=e=>{const t=Object(ti.a)(e.pathname,xd.a),n=t&&t.route&&t.route.meta&&t.route.meta.name;return!n||n!==f.Fb.POST_CREATION&&n!==f.Fb.PROFILE_OVERVIEW||(this.props.startChangeUsernameFlow(e.pathname),!1)},this.exposeIFrameElement=e=>{this.setState({googleOneTapIFrame:e})}}componentDidMount(){this.props.isInboxAppBadgingGqlEnabled&&ei()(this.props.appBadges)&&this.props.fetchAppBadges()}render(){const{activeDropdownId:e,chatDirectMessagesCount:t,className:n,closeChangeUsernameTooltip:s,closeEmailVerificationTooltip:o,email:r,hasUnreadChatMessages:a,inboxBadgeCount:i,isChangeUsernameTooltipShowing:c,isCustomizeFlyoutShowing:d,isEmailVerificationTooltipShowing:m,isGoogleOneTapEnabled:p,isInboxRedesignActive:b,isModerator:h,isNameEditable:f,isResponsiveSettingsEnabled:v,onDismissCustomizeFlyout:O,onOpenUserDropdown:y,openChangeUsernameModal:C,openKeepUsernameModal:x,resendEmail:P,shouldOpenEmailVerificationTooltip:E,shouldShowChangeUsernameModals:j,shouldShowLegacyModmailIcon:S,toggleChangeEmailModal:_,unreadNotifications:w,user:k}=this.props,{googleOneTapIFrame:I}=this.state,M=!(!w||!w.hasUnreadModmail&&!w.hasUnreadOldModmail),N=k&&Object(Jt.e)(k)||"",T=Object(g.a)({[Nc.a["m-responsive"]]:v});return u.a.createElement(zt.a,{id:kd,ref:e=>this.container=e,className:n},u.a.createElement(zt.a,{className:Nc.a.headerLinks,id:wd},h&&u.a.createElement(Id,{isModerateIconLit:M,moderationDropdownOpen:e===yd.a,onOpenModerationDropdown:this.onOpenModerationDropdown,sendEventWithName:this.sendEventWithName,showLegacyModmailIcon:!!S,unreadNotifications:w}),k&&u.a.createElement(l.Fragment,null,u.a.createElement(Md,{onClickChat:this.onClickChat,badgeCount:t,hasUnreadMessages:a}),b?u.a.createElement(Td,{inboxDropdownOpen:e===vd.DROPDOWN_ID,onOpenInboxDropdown:this.onOpenInboxDropdown,unreadCount:i}):u.a.createElement(Nd,{onClickMail:this.onClickMail,unreadNotifications:w}),u.a.createElement(Rd,{onClickCreatePost:this.onClickCreatePost}),u.a.createElement("span",{className:Nc.a.iconWrapper},u.a.createElement(Cc,null)))),u.a.createElement(fd,{className:Nc.a.headerUserDropdown,googleOneTapIFrame:I,onClick:y,user:k,sendEventWithName:this.sendEventWithName}),p&&u.a.createElement(ji,{exposeIFrameElement:this.exposeIFrameElement}),d&&u.a.createElement(Fc,{onCloseFlyout:O}),u.a.createElement(yi,{closeTooltip:o,email:r,isOpen:E&&m,resendEmail:P,toggleChangeEmailModal:_,tooltipId:kd}),u.a.createElement(pi,{email:r,shouldOpenTooltip:E}),f&&!v&&u.a.createElement(l.Fragment,null,u.a.createElement(mi.a,{closeTooltip:s,isOpen:c&&!j,openChangeUsernameModal:C,openKeepUsernameModal:x,tooltipId:wd,username:N}),j&&u.a.createElement(ui.a,{isResponsiveSettingsEnabled:v,overlayClassName:T,username:N,withOverlay:!0}),u.a.createElement(li.a,{confirmNavigate:this.confirmNavigate})))}}var Gd=Object(U.c)(Ad(Fd(Dd))),Ud=n("./src/reddit/selectors/meta.ts"),Bd=n("./src/reddit/components/Header/User/index.m.less"),Hd=n.n(Bd);const{fbt:qd}=n("./node_modules/fbt/lib/FbtPublic.js"),Wd=Object(h.c)({account:e=>e.user.account,origin:Ud.l}),Vd=u.a.memo(e=>u.a.createElement("div",{className:Object(g.a)(e.className,Hd.a.row)},!e.account&&function(e){const t=e.pageLayer,n=M.a.accountManagerOrigin,s=t?t.url:"/",o=t&&t.meta&&t.meta.name===f.Fb.EXPLORE?encodeURIComponent(e.origin):encodeURIComponent(e.origin+s);return u.a.createElement("div",{className:Hd.a.loggedOutRow},u.a.createElement(dt.m,{redditStyle:!0,className:Object(g.a)(Hd.a.login,Hd.a.button),href:"".concat(n,"/login/?dest=").concat(o),onClick:t=>{Object(P.a)(t)&&(t.stopPropagation(),t.preventDefault(),e.onOpenLoginModal(),e.sendEvent(Object(Za.a)("nav")))}},qd._("Log In",null,{hk:"4Cxw0g"})),u.a.createElement(dt.j,{redditStyle:!0,className:Object(g.a)(Hd.a.separator,Hd.a.register,Hd.a.button),href:"".concat(n,"/register/?dest=").concat(o),onClick:t=>{Object(P.a)(t)&&(t.stopPropagation(),t.preventDefault(),e.onOpenRegisterModal(),e.sendEvent(Object(Za.c)("nav")))}},qd._("Sign Up",null,{hk:"2WZPuJ"})))}(e),u.a.createElement(Gd,{className:Object(g.a)({[Hd.a.loggedOut]:!e.account}),user:e.account})));var Qd=Object(xn.t)()(Object(m.b)(Wd,e=>({onOpenLoginModal:()=>{e(Object(T.k)({actionSource:T.a.HeaderLogin})),e(Object(Xa.h)())},onOpenRegisterModal:()=>{e(Object(T.k)({actionSource:T.a.HeaderSignup})),e(Object(Xa.i)())}}))(Object(U.c)(Vd))),zd=n("./src/reddit/components/Header/index.m.less"),Kd=n.n(zd);function Jd(){return(Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const Yd=I.a.header("HeaderDynamicStyles",Kd.a),Xd=Object(h.c)({isLoggedIn:re.J,isNightmode:re.U,isResponsiveSettingsEnabled:En.a,isBladeOpen:e=>!!e.structuredStyles.isEditing}),Zd=Object(xn.t)({categoryName:xn.b,pageLayer:e=>e}),$d=e=>u.a.createElement("div",{className:Kd.a.left},u.a.createElement(Pr.a,null,s.fbt._("Press J to jump to the feed. Press question mark to learn the rest of the keyboard shortcuts",null,{hk:"ToBNc"})),u.a.createElement(xr.b,null),u.a.createElement(Us.a,{"aria-label":s.fbt._("Home",null,{hk:"3PmGmU"}),className:Kd.a.centeredRow,to:"/",onClick:e.onReloadFrontpage},u.a.createElement(Ua.a,{className:Kd.a.snoo}),u.a.createElement(Ba.a,{className:Kd.a.wordmark})),e.children),el=e=>u.a.createElement("div",{className:Kd.a.right},e.children,u.a.createElement(Qd,null)),tl=e=>u.a.createElement("div",{className:Kd.a.layout},u.a.createElement($d,Jd({},e,{onReloadFrontpage:e.onReloadFrontpage}),u.a.createElement(Cr,null),u.a.createElement(Ga,{className:Kd.a.search})),u.a.createElement(el,null,u.a.createElement(Ya,{className:Kd.a.quickLinks}))),nl=e=>u.a.createElement("div",{className:Kd.a.layout},u.a.createElement($d,Jd({},e,{onReloadFrontpage:e.onReloadFrontpage}),u.a.createElement("div",{className:Kd.a.searchContainer},u.a.createElement(Ga,{className:Kd.a.search}))),u.a.createElement(el,null));var sl=Zd(Object(m.b)(Xd,e=>({onReloadFrontpage:()=>e(Object(Bs.x)(!0))}))((function(e){let t;return t=e.isLoggedIn?tl:nl,u.a.createElement(Yd,{"data-redditstyle":!0,className:Object(g.a)(Kd.a.container,e.className,{[Kd.a.bladeIsOpen]:e.isBladeOpen})},u.a.createElement(t,{categoryName:e.categoryName,onReloadFrontpage:e.onReloadFrontpage}),e.isResponsiveSettingsEnabled&&u.a.createElement(Wa,{className:Kd.a.MwebResponsiveHeader}))}))),ol=n("./src/reddit/components/LightboxHeader/index.tsx"),rl=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),al=n("./src/reddit/components/PinnedSubscriptions/index.m.less"),il=n.n(al);const{fbt:cl}=n("./node_modules/fbt/lib/FbtPublic.js");const dl=Object(m.b)(null,e=>({onUnpinSubscriptions:()=>e(Object(E.j)())}));var ll=I.a.wrapped(dl((function(e){return u.a.createElement("div",{"data-redditstyle":!0,className:e.className},u.a.createElement("div",{className:il.a.title},u.a.createElement(qo,{className:il.a.listHeader},cl._("My Communities",null,{hk:"1CmPOc"})),u.a.createElement("div",{className:il.a.unpin,onClick:e.onUnpinSubscriptions},u.a.createElement(ee.a,{className:il.a.icon}))),u.a.createElement(gr,null))})),"Component",il.a),ul=n("./src/reddit/components/Survey/index.tsx"),ml=n("./src/reddit/components/ThemeProvider/index.tsx");const pl=e=>t=>({source:"toast",action:"view",noun:e}),bl=e=>t=>({source:"toast",action:"click",noun:e,actionInfo:Object.assign(Object.assign({},K.actionInfo(t)),{reason:"primary"})}),hl=e=>t=>({source:"toast",action:"click",noun:e,actionInfo:Object.assign(Object.assign({},K.actionInfo(t)),{reason:"secondary"})});var gl=n("./src/reddit/icons/svgs/Lock/index.tsx"),fl=n("./src/reddit/icons/svgs/Remove/index.tsx"),vl=n("./src/reddit/icons/svgs/SnooFacepalm/index.tsx"),Ol=n("./src/reddit/icons/svgs/SnooHappy/index.tsx"),yl=n("./src/reddit/icons/svgs/Unlock/index.tsx"),Cl=n("./src/reddit/selectors/structuredStyles.ts"),xl=n("./src/reddit/constants/colors.ts"),Pl=n("./src/reddit/components/Toaster/PlainBread.m.less"),El=n.n(Pl);function jl(){return(jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var Sl=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const _l=e=>{const t=xl.a;switch(e.kind){case ne.b.Error:case ne.b.AuthError:case ne.b.SuccessEndBroadcast:return t.warning;case ne.b.SuccessCommunity:return t.op;case ne.b.SuccessCommunityGreen:case ne.b.SuccessMod:case ne.b.SuccessUnlockComment:return t.approved;case ne.b.SuccessLockComment:return t.reported;case ne.b.EuCookiePolicy:case ne.b.UappBanner:case ne.b.Undo:default:return t.op}};class wl extends u.a.Component{componentDidMount(){this.props.sendEvent&&this.props.sendEvent()}render(){const e=this.props,{kind:t,sendEvent:n}=e,s=Sl(e,["kind","sendEvent"]);return u.a.createElement("div",s)}}const kl=I.a.wrapped(wl,"PlainBread",El.a);var Il=e=>u.a.createElement(kl,jl({},e,{style:Object.assign(Object.assign({},e.style||{}),{"--Toaster-indicatorColor":_l(e)})})),Ml=n("./src/reddit/components/Toaster/StyledComponents.m.less"),Nl=n.n(Ml);const Tl=I.a.span("Text",Nl.a);var Rl=n("./src/reddit/components/Toaster/index.m.less"),Al=n.n(Rl);const{fbt:Ll}=n("./node_modules/fbt/lib/FbtPublic.js"),Fl=I.a.wrapped(vl.a,"AuthErrorToastIcon",Al.a),Dl=I.a.wrapped(dt.i,"AuthErrorToastPrimaryButton",Al.a);class Gl extends u.a.Component{constructor(){super(...arguments),this.handleSubmit=e=>{e.preventDefault(),window.location.reload(!0)}}render(){const{props:e}=this;return u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement(Il,{key:e.key,kind:e.toast.kind,style:Object.assign(Object.assign({},e.style),{transform:"\n              translateY(".concat(e.style.y,"px)\n              scale(").concat(e.style.x,", ").concat(e.style.x,")\n            ")})},u.a.createElement(Fl,null),u.a.createElement(Tl,null,Ll._("Something went wrong loading this page. Try again?",null,{hk:"3k6ebn"})),u.a.createElement(Dl,{type:"submit"},Ll._("Reload Page",null,{hk:"3Hrcyc"}))))}}var Ul=Gl,Bl=n("./src/lib/constants/euCookiePolicy.ts"),Hl=n("./src/lib/permanentCookieOptions.ts"),ql=n("./src/reddit/controls/Link/index.tsx"),Wl=n("./src/reddit/components/Toaster/EuCookiePolicyToast.m.less"),Vl=n.n(Wl);const{fbt:Ql}=n("./node_modules/fbt/lib/FbtPublic.js"),zl=I.a.div("Icon",Vl.a),Kl=()=>u.a.createElement(zl,{style:{backgroundImage:"url(".concat(M.a.assetPath,"/img/snoo-upvote.png)")}}),Jl=I.a.wrapped(dt.i,"PrimaryButton",Vl.a),Yl=I.a.wrapped(Il,"Bread",Vl.a);class Xl extends u.a.Component{constructor(){super(...arguments),this.handleSubmit=e=>{e.preventDefault(),st.a.set(pn.b,Bl.c.toString(),Object(Hl.a)(10)),this.props.onClose()}}render(){const{props:e}=this;return u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement(Yl,{key:e.key,kind:e.toast.kind,style:Object.assign(Object.assign({},e.style),{transform:"\n              translateY(".concat(e.style.y,"px)\n              scale(").concat(e.style.x,", ").concat(e.style.x,")\n            ")})},u.a.createElement(Kl,null),u.a.createElement(Tl,null,Ql._("Cookies help us deliver our Services. By using our Services or clicking I agree, you agree to our use of cookies.",null,{hk:"31CdDx"})," ",u.a.createElement(ql.a,{href:"https://web.archive.org/web/20201201014008/https://redditinc.com/policies/cookies",target:"_blank"},Ql._("Learn More",null,{hk:"MNKD5"})),"."),u.a.createElement(Jl,{type:"submit"},Ql._("I Agree",null,{hk:"33M4qf"}))))}}var Zl,$l=Xl;!function(e){e.LoggedOutMaxSubscriptions="max_subscriptions"}(Zl||(Zl={}));var eu=n("./src/reddit/controls/Typography/index.tsx"),tu=n("./src/reddit/components/Toaster/MilestoneToast.m.less"),nu=n.n(tu);function su(){return(su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const ou=I.a.div("Container",nu.a),ru=I.a.img("SideImage",nu.a),au=I.a.div("Main",nu.a),iu=I.a.div("SubTitle",nu.a),cu=eu.a,du=I.a.wrapped(dt.j,"PrimaryLinkButton",nu.a),lu=I.a.wrapped(ee.a,"CloseIcon",nu.a);class uu extends u.a.Component{constructor(){super(...arguments),this.onSignup=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClose(),this.props.onSignup(),this.props.sendEvent(bl(this.props.name))}}componentDidMount(){this.props.sendEvent(pl(this.props.name))}render(){const{content:e,key:t,sideImage:n,style:o,subTitle:r,title:a}=this.props;return u.a.createElement(ou,{key:t,style:Object.assign(Object.assign({},o),{transform:"\n            translateY(".concat(o.y,"px)\n            scale(").concat(o.x,", ").concat(o.x,")\n          ")})},u.a.createElement(lu,{onClick:this.props.onClose}),u.a.createElement(ru,{srcSet:n}),u.a.createElement(au,null,u.a.createElement(iu,null,r),u.a.createElement(eu.b,null,a),u.a.createElement(cu,null,e),u.a.createElement(du,{"data-redditstyle":!0,href:"/register",onClick:this.onSignup},s.fbt._("Sign Up",null,{hk:"2iMVSI"}))))}}const mu=Object(m.b)(null,e=>({onSignup:()=>e(Object(Xa.i)())}))(Object(U.c)(uu)),pu="".concat(bu("subscribe-cap.png")," 1x,\n  ").concat(bu("subscribe-cap@2x.png")," 2x,");function bu(e){return"".concat(M.a.assetPath,"/img/banner/").concat(e)}var hu=n("./node_modules/@reddit/onetrust-integration/dist/esm/index.js");const gu=3,fu=e=>"".concat(e,":").concat(152721e4);var vu=n("./src/reddit/components/Toaster/UappBannerToast.m.less"),Ou=n.n(vu);const{fbt:yu}=n("./node_modules/fbt/lib/FbtPublic.js"),Cu=I.a.div("Icon",Ou.a),xu=()=>u.a.createElement(Cu,{style:{backgroundImage:"url(".concat(M.a.assetPath,"/img/snoo-upvote.png)")}}),Pu=I.a.wrapped(dt.i,"PrimaryButton",Ou.a),Eu=I.a.wrapped(Il,"Bread",Ou.a);class ju extends u.a.Component{constructor(){super(...arguments),this.handleSubmit=e=>{e.preventDefault(),Object(hu.b)(pn.i,fu(gu),Object(Hl.a)(10)),this.props.onClose()}}render(){const{props:e}=this;return u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement(Eu,{key:e.key,kind:e.toast.kind,style:Object.assign(Object.assign({},e.style),{transform:"\n              translateY(".concat(e.style.y,"px)\n              scale(").concat(e.style.x,", ").concat(e.style.x,")\n            ")})},u.a.createElement(xu,null),u.a.createElement(Tl,null,yu._("Reddit is updating its {=User Agreement} and {=Privacy Policy} .",[yu._param("=User Agreement",u.a.createElement(ql.a,{href:"https://web.archive.org/web/20201201014008/https://www.redditinc.com/policies/user-agreement",target:"_blank"},yu._("User Agreement",null,{hk:"XS57W"}))),yu._param("=Privacy Policy",u.a.createElement(ql.a,{href:"https://web.archive.org/web/20201201014008/https://www.reddit.com/help/privacypolicy",target:"_blank"},yu._("Privacy Policy",null,{hk:"4j7vx4"})))],{hk:"TxCpk"})," "),u.a.createElement(Pu,{type:"submit"},yu._("Got it",null,{hk:"2WpndK"}))))}}var Su=ju;function _u(){return(_u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const wu=[],ku={stiffness:200,damping:24,precision:.01},Iu={opacity:.5,x:.5,y:50},Mu={opacity:Object(k.spring)(0),x:Object(k.spring)(.6),y:Object(k.spring)(80,ku)},Nu=I.a.wrapped(vl.a,"SnooFacepalm",Al.a),Tu=I.a.wrapped(Ol.a,"SnooHappy",Al.a),Ru=I.a.wrapped(Js.b,"SubredditIcon",Al.a),Au=I.a.img("CustomIcon",Al.a),Lu=I.a.div("Container",Al.a),Fu=I.a.wrapped(ee.a,"Close",Al.a),Du=I.a.wrapped(gl.a,"LockIcon",Al.a),Gu=I.a.wrapped(yl.a,"UnlockIcon",Al.a),Uu=I.a.wrapped(fl.a,"RemoveIcon",Al.a),Bu=e=>u.a.createElement(u.a.Fragment,null,u.a.createElement(Fu,_u({className:"CloseIcon"},e))),Hu=I.a.wrapped(Il,"Bread",Al.a),qu=Object(h.c)({subredditIcon:Cl.c,toastSlices:e=>e.toaster}),Wu=Object(m.b)(qu,e=>({dismissToast:t=>()=>e(Object(G.f)(t)),onButtonClick:(t,n)=>()=>{e(t),e(Object(G.f)(n))}}));class Vu extends u.a.Component{constructor(){super(...arguments),this.getStyles=e=>Qu(e,this.props.toastSlices),this.getWillEnterStyles=()=>Iu,this.getWillLeaveStyles=()=>Mu}render(){return this.props.toastSlices.length?u.a.createElement(k.TransitionMotion,{defaultStyles:wu,styles:this.getStyles,willLeave:this.getWillLeaveStyles,willEnter:this.getWillEnterStyles},e=>u.a.createElement(Lu,null,e.map(e=>{const t=e.data,n=Object.assign(Object.assign({},e.style),{transform:"\n                  translateY(".concat(e.style.y,"px)\n                  scale(").concat(e.style.x,", ").concat(e.style.x,")\n                ")});if(t.kind===ne.b.Custom&&void 0!==t.customToastType){const s=Ku[t.customToastType];return u.a.createElement(s,{key:e.key,toast:t,style:n,onClose:this.props.dismissToast(t.id)})}if(t.kind===ne.b.UappBanner)return u.a.createElement(Su,{key:e.key,toast:t,style:n,onClose:this.props.dismissToast(t.id)});if(t.kind===ne.b.EuCookiePolicy)return u.a.createElement($l,{key:e.key,toast:t,style:n,onClose:this.props.dismissToast(t.id)});if(t.kind===ne.b.AuthError)return u.a.createElement(Ul,{key:e.key,toast:t,style:n,onClose:this.props.dismissToast(t.id)});const s=t.kind===ne.b.Modal?dt.i:dt.o,o=t.kind===ne.b.Modal?dt.l:dt.o;return u.a.createElement(Hu,{className:t.kind===ne.b.Modal?Al.a.mModal:void 0,key:e.key,kind:t.kind,sendEvent:t.name?()=>this.props.sendEvent(pl(t.name)):void 0,style:n},u.a.createElement("div",{className:Al.a.ContentWrapper},zu(t,this.props.subredditIcon),t.kind===ne.b.SuccessLockComment&&u.a.createElement(Du,null),t.kind===ne.b.SuccessUnlockComment&&u.a.createElement(Gu,null),u.a.createElement(Tl,null,t.text)),u.a.createElement("div",{className:Al.a.ButtonsWrapper},t.buttonText&&t.buttonAction&&u.a.createElement(s,{onClick:()=>{this.props.onButtonClick(t.buttonAction,t.id)(),t.name&&this.props.sendEvent(bl(t.name))}},t.buttonText),t.secondButtonText&&t.secondButtonAction&&u.a.createElement(o,{onClick:()=>{this.props.onButtonClick(t.secondButtonAction,t.id)(),t.name&&this.props.sendEvent(hl(t.name))}},t.secondButtonText)),u.a.createElement(Bu,{onClick:this.props.dismissToast(t.id)}))}))):null}}const Qu=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=arguments.length>1?arguments[1]:void 0;return e.map(e=>({data:e,key:e.id||(new Date).toString(),style:{opacity:Object(k.spring)(1),x:Object(k.spring)(1,ku),y:Object(k.spring)(0,ku)}}))},zu=(e,t)=>{if(e.customIconAsset)return u.a.createElement(Au,{src:e.customIconAsset});switch(e.kind){case ne.b.Error:return u.a.createElement(Nu,null);case ne.b.SuccessEndBroadcast:return u.a.createElement(Uu,null);case ne.b.SuccessAward:case ne.b.SuccessCommunity:case ne.b.SuccessCommunityGreen:return u.a.createElement(Tu,null);case ne.b.SuccessMod:return u.a.createElement(Ru,{primaryColor:t.color,iconUrl:t.url})}},Ku={[ne.a.subscribeCap]:e=>u.a.createElement(mu,su({name:Zl.LoggedOutMaxSubscriptions,sideImage:pu,title:s.fbt._("Oops! You need to Sign Up to join more communities",null,{hk:"21CE4w"}),subTitle:null,content:s.fbt._("Sign up to save your communities and secure your account",null,{hk:"45W3vB"})},e))};var Ju=Wu(Object(U.c)(Vu)),Yu=n("./src/reddit/featureFlags/profileCollections.ts");const Xu=()=>e=>({source:"banner",noun:"update_old_browser",action:"view",banner:{id:"update_old_browser"}}),Zu=()=>e=>({source:"banner",noun:"old_browser_r2",action:"click",banner:{id:"update_old_browser"}});var $u=n("./src/reddit/components/AlertBanner/Wrapper.m.less"),em=n.n($u);var tm=I.a.div("Wrapper",em.a),nm=n("./src/reddit/components/AlertBanner/index.m.less"),sm=n.n(nm);const{fbt:om}=n("./node_modules/fbt/lib/FbtPublic.js"),rm=()=>u.a.createElement(tm,{className:Object(g.a)(sm.a.wrapper,sm.a.suspended)},u.a.createElement("span",null,om._("Your account has been suspended.",null,{hk:"36oqxa"})," "),u.a.createElement("a",{className:sm.a.underlineLink,href:"https://web.archive.org/web/20201201014008/https://www.reddithelp.com/hc/en-us/articles/360043504111"},om._("Learn more",null,{hk:"1OTc8q"}))),am=()=>u.a.createElement(tm,{className:Object(g.a)(sm.a.wrapper,sm.a.fpr)},u.a.createElement("span",null,om._("Uh oh! We have suspended your account due to suspicious activity. Not to worry. You can continue using Reddit by resetting your password.",null,{hk:"4CbjOV"})," "),u.a.createElement("a",{className:sm.a.underlineLink,href:"https://web.archive.org/web/20201201014008/https://www.reddithelp.com/hc/en-us/articles/360043504111"},om._("Learn more",null,{hk:"1OTc8q"}))),im=e=>{let{updateLink:t,onClickOldReddit:n}=e;return u.a.createElement(tm,{className:Object(g.a)(sm.a.wrapper,sm.a.deprecated)},u.a.createElement("span",null,om._("Looks like you're using new Reddit on an old browser. The site may not work properly if you don't {update your browser} !",[om._param("update your browser",u.a.createElement(cm,{link:t},om._("update your browser",null,{hk:"2TB4hp"})))],{hk:"gC2GV"})," "),u.a.createElement("span",null,om._("If you do not update your browser, we suggest you visit {old reddit} .",[om._param("old reddit",u.a.createElement("a",{className:sm.a.underlineLink,href:M.a.oldRedditUrl,onClick:n},om._("old reddit",null,{hk:"Sv1DJ"})))],{hk:"4qKEir"})))},cm=e=>{let{children:t,link:n}=e;return null!==n?u.a.createElement("a",{className:sm.a.underlineLink,href:n},t):u.a.createElement("span",null,t)};class dm extends u.a.PureComponent{constructor(e){super(e),this.onClickOldReddit=()=>{this.props.sendEvent(Zu())},this.state={isMounted:!1}}componentDidMount(){this.props.browserInfo&&this.props.browserInfo.isDeprecated&&this.props.sendEvent(Xu())}render(){const{browserInfo:e,showFPR:t,showSuspended:n}=this.props;return e&&e.isDeprecated?u.a.createElement(im,{updateLink:e.updateLink,onClickOldReddit:this.onClickOldReddit}):t?u.a.createElement(am,null):n?u.a.createElement(rm,null):null}}var lm=Object(U.c)(dm),um=n("./src/reddit/components/AlertBanner/heights.ts"),mm=n("./src/reddit/components/PopupPortal/index.tsx"),pm=n("./src/reddit/constants/componentSizes.ts"),bm=n("./src/reddit/constants/elementIds.ts"),hm=n("./src/reddit/constants/posts.ts"),gm=n("./src/reddit/contexts/InsideOverlay.tsx"),fm=n("./src/reddit/helpers/isListingFocused/index.tsx"),vm=n("./src/reddit/helpers/postCollection.ts"),Om=n("./src/reddit/models/Theme/index.ts"),ym=n("./src/reddit/selectors/experiments/survey.ts"),Cm=n("./src/reddit/selectors/notificationBanner.ts"),xm=n("./src/reddit/selectors/posts.ts"),Pm=n("./src/reddit/components/AppRouter/index.m.less"),Em=n.n(Pm);function jm(){return(jm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var Sm=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const _m=e=>{var{className:t,shouldDisplayPinnedSubscriptions:n}=e,s=Sm(e,["className","shouldDisplayPinnedSubscriptions"]);return u.a.createElement("div",jm({className:Object(g.a)(Em.a.main,{[Em.a.mShowingPaddedPinnedDescriptions]:n},t)},s))},wm=Object(v.a)(e=>{var{className:t,overlayScrollContainerEl:n,theme:s}=e,o=Sm(e,["className","overlayScrollContainerEl","theme"]);const r=Object(Oe.a)(Object.assign({theme:s},o));return u.a.createElement("div",jm({className:Object(g.a)(Em.a.overlayContentWrapper,t),style:{"--comments-overlay-background":Object(Om.g)(r.canvas,r.canvasImgUrl,r.canvasImgPosition),"--comments-overlay-offset":"".concat(Object(gn.c)(n),"px")}},o))}),km=e=>{var{className:t,divRef:n}=e,s=Sm(e,["className","divRef"]);return u.a.createElement("div",jm({className:Object(g.a)(Em.a.lightboxHeaderWrapper,t)},s,{ref:n}))},Im=Object(Cm.a)(rl.a.EmailCollectionBannerId),Mm=Object(m.b)(()=>Object(h.c)({currentPage:ln.b,frontpageSignupVariant:e=>{const{currentPage:t}=e.platform;return Object(oe.a)(e,{pageLayer:t})},hasInvalidSession:re.u,isLoggedIn:re.J,isNpsSurveyEnabled:ym.b,isSubscriptionsPinned:Qs.b,isSuspended:re.O,isFPR:re.H,posts:xm.R,profileCollectionsEnabled:Yu.a,showEmailCollectionBanner:e=>!Object(xn.J)(Object(ln.b)(e))&&Im(e)}),e=>({onClickOutsideOverlay:t=>e(Object(b.b)(t)),onUnpinSubscriptions:()=>e(Object(E.j)()),onPostDismissTrigger:()=>e(Object(j.a)())})),Nm=(e,t)=>!(!e.state||!e.state[H.a.IsOverlay]||t===e);class Tm extends u.a.Component{constructor(e){super(e),this.previousHistory=this.props.history,this.previousLocation=this.props.location,this.previousPage=this.props.currentPage,this.isNarrowScreen=!1,this.isWideScreen=!1,this.didCountSurveyTrigger=!1,this.resizeHandler=d()(()=>{const e=window.innerWidth;this.props.isSubscriptionsPinned&&e<pm.l&&this.props.onUnpinSubscriptions()},f.G),this.hideSignupUpsell=()=>{this.setState({isSignupUpsellHidden:!0})},this.getIsPostCollection=()=>{const{currentPage:e,posts:t,profileCollectionsEnabled:n}=this.props;if(Object(xn.w)(e)){const s=e&&e.urlParams&&e.urlParams.partialPostId,o="".concat(f.Cb.Post,"_").concat(s),r=t&&s&&t[o],a=r&&r.belongsTo.type===hm.a.PROFILE;return!(!r||!Object(vm.a)(r)||a&&!n)}return!1},this.state={isSignupUpsellDisplayed:Object(oe.c)(e.frontpageSignupVariant),isSignupUpsellHidden:!1}}componentDidMount(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler)}UNSAFE_componentWillUpdate(e){const{isNpsSurveyEnabled:t,location:n}=this.props,s=n.state&&n.state[H.a.IsOverlay],o=Object(x.a)(this.previousLocation,e.location);t&&s&&o&&!this.didCountSurveyTrigger&&(this.props.onPostDismissTrigger(),this.didCountSurveyTrigger=!0);const r=Object(x.a)(this.previousLocation,this.props.location),a=s?this.previousPage:this.props.currentPage;if(a){const{meta:t,urlParams:n}=a,s=t&&(t.name===f.Fb.INDEX||t.name===f.Fb.SUBREDDIT&&n.subredditName===q.b.Popular),o=Object(oe.c)(this.props.frontpageSignupVariant),r=Object(oe.c)(e.frontpageSignupVariant);s||o||!r?o&&!r&&this.setState({isSignupUpsellDisplayed:!1}):this.setState({isSignupUpsellDisplayed:!0,isSignupUpsellHidden:!1})}"POP"===e.history.action||s||o||r||(this.previousHistory=this.props.history,this.previousLocation=this.props.location,this.previousPage=this.props.currentPage);const i=Nm(e.location,this.previousLocation);y.a.write(()=>{document.body.style.overflow=i?"hidden":""})}componentDidUpdate(){this.didCountSurveyTrigger=!1}render(){const{currentPage:e,frontpageSignupVariant:t,hasInvalidSession:n,isFPR:o,isLoggedIn:r,isSubscriptionsPinned:a,isSuspended:c,location:d,onClickOutsideOverlay:m,routes:p,showEmailCollectionBanner:b}=this.props,{isSignupUpsellDisplayed:h,isSignupUpsellHidden:g}=this.state,v=this.context,O=Nm(d,this.previousLocation);d.state&&d.state[H.a.IsOverlay]&&!O?d.state[H.a.IsOverlay]=!1:d.state&&(this.previousLocation===d||d.state[H.a.CloseLocation]&&this.previousLocation.state&&this.previousLocation.state[H.a.CloseLocation]&&this.previousLocation.state[H.a.CloseLocation]===d.state[H.a.CloseLocation]?d.state[H.a.CloseLocation]=Object.assign(Object.assign({},this.previousLocation),{state:i()(this.previousLocation.state,H.a.CloseLocation)}):d.state[H.a.CloseLocation]=this.previousLocation);const y=Object(x.a)(this.previousLocation,d),C=O||y?this.previousLocation:d,P=O||y?this.previousPage:e,E=!(!(P&&P.meta&&P.meta.name===f.Fb.SEARCH_RESULTS&&P&&P.queryParams)||P.queryParams[V.s]),j=!(!P||!P.meta||P.meta.name!==f.Fb.MODERATION_PAGES),_=Object(xn.w)(P),w=this.getIsPostCollection(),k=h&&!g;return n?s.fbt._("Sorry, we have failed you. Try refreshing!",null,{hk:"3qsDla"}):u.a.createElement(u.a.Fragment,null,u.a.createElement(xn.a.Provider,{value:P},u.a.createElement(xr.c,{isOverlayOpen:O},u.a.createElement(ml.a,{forceRedditTheme:E},h&&u.a.createElement(tt,{frontpageSignupVariant:t,onClose:this.hideSignupUpsell}),u.a.createElement(Rm,{browserInfo:v,isFPR:o,isInline:k,isSuspended:c})),u.a.createElement(gm.a.Provider,{value:!1},u.a.createElement(ml.a,{forceRedditTheme:E||j,isCommentsPage:_},u.a.createElement(Am,{frontpageSignupVariant:t,isCommentsPage:_,isInline:k,isLoggedIn:r,isSubscriptionsPinned:a,location:C,overlayIsOpen:O,page:P,routes:p,showEmailCollectionBanner:b,browserInfo:v,showFPR:o,showSuspended:c}))))),u.a.createElement(xn.a.Provider,{value:e},O&&u.a.createElement(gm.a.Provider,{value:!0},u.a.createElement(ml.a,{isOverlay:!0},u.a.createElement(Lm,{isPostCollection:w,location:d,onClickOutsideOverlay:m,page:e,routes:p,showEmailCollectionBanner:b,browserInfo:v,showFPR:o,showSuspended:c}))),u.a.createElement(ml.a,null,u.a.createElement(l.Fragment,null,u.a.createElement("div",{id:mm.a,className:Em.a.popupContainer}),u.a.createElement(Ju,null),u.a.createElement(ul.a,null),b&&u.a.createElement(S.a,null),u.a.createElement(On,null),u.a.createElement(Gs,null)))))}}Tm.contextType=O.a;const Rm=Object(U.c)(e=>{const{browserInfo:t,isFPR:n,isInline:s,isSuspended:o}=e,r={browserInfo:t,showFPR:n,showSuspended:o};return u.a.createElement(l.Fragment,null,u.a.createElement(lm,r),u.a.createElement(sl,{className:Object(g.a)(Em.a.header,Object(um.b)(Em.a,r),{[Em.a.inline]:s})}))}),Am=Object(U.c)(class extends u.a.Component{shouldComponentUpdate(e,t){return!this.locationsEqual(this.props.location,e.location)||!this.pagesEqual(this.props.page,e.page)||this.props.isSubscriptionsPinned!==e.isSubscriptionsPinned||this.props.showEmailCollectionBanner!==e.showEmailCollectionBanner||this.props.isInline!==e.isInline}locationsEqual(e,t){const n=i()(e,"key"),s=i()(t,"key");return r()(n,s)}pagesEqual(e,t){if(e&&t){const n=i()(e,["key","locationState"]),s=i()(t,["key","locationState"]);return r()(n,s)}return!1}render(){const{frontpageSignupVariant:e,location:t,routes:n,overlayIsOpen:s,isCommentsPage:o,isInline:r,isLoggedIn:a,isSubscriptionsPinned:i,showEmailCollectionBanner:c}=this.props,d=i&&!(!a&&!s&&o);return u.a.createElement(_m,{"aria-hidden":s,className:Object(g.a)(Object(um.b)(Em.a,this.props),{[Em.a.withUpsell]:!!e,[Em.a.inline]:r}),shouldDisplayPinnedSubscriptions:d},d&&u.a.createElement(ll,{className:Object(g.a)(Em.a.pinnedSubscriptions,Object(um.b)(Em.a,this.props)),"data-redditstyle":!0}),u.a.createElement(p.f,{location:t},n),c&&u.a.createElement("div",{className:Object(g.a)(Em.a.bottomSpacer,Object(um.a)(Em.a,this.props))}))}});class Lm extends u.a.Component{constructor(e){super(e),this.mouseDownInWrapper=!1,this.listingFocusSubscriptionId=0,this.handleWebkitFullscreenChange=e=>{this.setState({mediaIsFullscreen:null!==document.webkitFullscreenElement})},this.lightboxHeaderRefFn=e=>this.lightboxHeaderEl=e,this.overlayRefFn=e=>{this.setState({overlayScrollContainerEl:e})},this.onOverlayMouseUp=e=>{if(this.mouseDownInWrapper&&Object(P.a)(e)&&0===e.button&&e.target===this.state.overlayScrollContainerEl){const{location:e,onClickOutsideOverlay:t}=this.props;t(e.state[H.a.CloseLocation])}},this.onOverlayMouseDown=e=>{this.mouseDownInWrapper=e.target===this.state.overlayScrollContainerEl&&e.clientX<=window.innerWidth-17},this.state={overlayScrollContainerEl:null,mediaIsFullscreen:!1}}componentDidMount(){document.addEventListener("webkitfullscreenchange",this.handleWebkitFullscreenChange),this.lightboxHeaderEl&&(this.lightboxHeaderEl.focus(),this.listingFocusSubscriptionId=fm.a.subscribe(e=>{e.isListingFocused&&this.lightboxHeaderEl.querySelector(C.a).focus()}))}componentWillUnmount(){document.removeEventListener("webkitfullscreenchange",this.handleWebkitFullscreenChange),this.listingFocusSubscriptionId&&fm.a.unsubscribe(this.listingFocusSubscriptionId)}render(){const{isPostCollection:e,page:t,routes:n}=this.props,{overlayScrollContainerEl:s}=this.state,o=!(!t||!t.meta||t.meta.name===f.Fb.SUBREDDIT_CREATION||t.meta.name===f.Fb.PUBLIC_ACCESS_NETWORK),r=e;return u.a.createElement(wm,{className:Object(g.a)(Object(um.b)(Em.a,this.props),{[Em.a.mIsCommentsLightbox]:o,[Em.a.mIsLargeCommentsLightbox]:r}),overlayScrollContainerEl:s},u.a.createElement("div",{className:Object(g.a)(Em.a.overlayWrapper,Object(um.b)(Em.a,this.props))},u.a.createElement("div",{className:Object(g.a)(Em.a.overlayScrollContainer,{[Em.a.mediaIsFullscreen]:this.state.mediaIsFullscreen}),id:bm.d,ref:this.overlayRefFn,onMouseDown:this.onOverlayMouseDown,onMouseUp:this.onOverlayMouseUp},o&&u.a.createElement(km,{divRef:this.lightboxHeaderRefFn,className:Object(g.a)(Object(um.b)(Em.a,this.props),{[Em.a.mIsLargeCommentsLightbox]:r}),tabIndex:-1},u.a.createElement(ol.a,{page:t})),u.a.createElement(p.f,null,n),u.a.createElement("div",{className:Object(g.a)(Em.a.bottomSpacer,Object(um.a)(Em.a,this.props))}))))}}t.b=Mm(Object(U.c)(Tm))},"./src/reddit/components/BadgeCounter/index.m.less":function(e,t,n){e.exports={badgeCounter:"_1-nIsCaWhGBFN-L4ZHnbGp",isHighlighted:"_2fUisaQtUa1Fxx6-R5fDhH"}},"./src/reddit/components/BadgeCounter/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/lib/classNames/index.ts"),a=n("./src/lib/prettyPrintNumber/index.ts"),i=n("./src/reddit/components/BadgeCounter/index.m.less"),c=n.n(i);t.a=e=>{let{className:t,isActive:n,unreadCount:s}=e;return n?o.a.createElement("span",{className:Object(r.a)(t,c.a.badgeCounter,{[c.a.isHighlighted]:n&&s<=0})},s>0&&Object(a.b)(s)):null}},"./src/reddit/components/BannedUserList/AddBannedUserModal/index.tsx":function(e,t,n){"use strict";var s=n("./src/higherOrderComponents/makeAsync.tsx"),o=n("./src/lib/loadWithRetries/index.ts");const r=()=>null;t.a=Object(s.a)({ErrorComponent:r,getComponent:()=>Object(o.a)(()=>n.e("BannedUserModal").then(n.bind(null,"./src/reddit/components/BannedUserList/AddBannedUserModal/_AddBannedUserModal.tsx"))).then(e=>e.default),LoadingComponent:r})},"./src/reddit/components/BlankPost/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BlankPost",(function(){return u}));var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./node_modules/reselect/es/index.js"),a=n("./src/reddit/components/AdViewability/index.tsx"),i=n("./src/reddit/connectors/PostViewable/index.ts"),c=n("./src/reddit/selectors/posts.ts"),d=n("./src/lib/classNames/index.ts");const l=Object(i.a)(()=>Object(r.c)({post:c.O})),u=e=>{let{className:t,post:n,onPostViewable:s}=e;return n.isSponsored?o.a.createElement(a.a,{post:n,trackDisplay:!0},o.a.createElement("div",{className:Object(d.a)(t,"Blank ".concat(n.id))})):null};t.default=l(u)},"./src/reddit/components/BlockNavigation/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/react-router/esm/react-router.js"),i=n("./src/reddit/actions/modal.ts");const c="non-empty-string-to-block-navigation";class d extends o.a.Component{constructor(){super(...arguments),this.onBeforeUnload=e=>{if(this.props.enabled)return e.preventDefault(),e.returnValue="",""},this.message=(e,t)=>{return!0===(this.props.confirmNavigate||this.defaultConfirmNavigate)(e,t)||c},this.defaultConfirmNavigate=(e,t)=>{const{ignoreCurrentLocation:n=!0,location:s,showModal:o,dialogId:r}=this.props;return!(!n||e.pathname!==s.pathname)||(r&&o(),!1)}}componentDidMount(){this.props.blockOnBeforeUnload&&window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.props.blockOnBeforeUnload&&window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){const{enabled:e=!0}=this.props;return o.a.createElement(a.b,{message:this.message,when:e})}}t.a=Object(r.b)(null,(e,t)=>({showModal:()=>e(Object(i.h)(t.dialogId))}))(Object(a.i)(d))},"./src/reddit/components/Carousel/index.m.less":function(e,t,n){e.exports={container:"_1FR0eEUi22u9saLEyWWJGS",indicators:"_3YoS4yX_XBXWbj-eYFW6MS",indicator:"_1mwHqJp51wXFI7rjTonkz5",indicatorSelected:"_2ol4vy2ml1IZ6lfT2n775g",items:"_26qHHOV6EkP4whoc4ySt3l",item:"_2gs-hGAB6w3q4Gc8mSyG5Z",fade:"uAUBkt8dAygLJNIsiAmad",slide:"_4S2XTVURHpoKNNEuKzJbH"}},"./src/reddit/components/ChangeUsernameModals/Loader.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js");const o=Object(s.a)({resolved:{},chunkName:()=>"ChangeUsernameModals",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("ChangeUsernameModals").then(n.bind(null,"./src/reddit/components/ChangeUsernameModals/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/ChangeUsernameModals/index.tsx"}},{ssr:!1});t.a=o},"./src/reddit/components/ChangeUsernameTooltip/Loader.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js");const o=Object(s.a)({resolved:{},chunkName:()=>"ChangeUsernameTooltip",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("ChangeUsernameTooltip").then(n.bind(null,"./src/reddit/components/ChangeUsernameTooltip/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/ChangeUsernameTooltip/index.tsx"}},{ssr:!1});t.a=o},"./src/reddit/components/ClassicPost/Thumbnail.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/lib/classNames/index.ts"),a=n("./src/reddit/components/Thumbnail/index.tsx"),i=n("./src/reddit/components/ClassicPost/index.m.less"),c=n.n(i);t.a=e=>{let{className:t,classNameInnerThumbnail:n,crosspost:s,forceShowNSFW:i,isMeta:d,post:l,redditStyle:u,removeLink:m,templatePlaceholderImage:p,thumbnailContainerClassName:b,url:h,usePreview:g}=e;return o.a.createElement("div",{className:Object(r.a)(c.a.thumbnailContainer,t)},o.a.createElement(a.a,{className:Object(r.a)(c.a.thumbnail,n),containerClassName:b,crosspost:s,forceShowNSFW:i,isMeta:d,post:l,redditStyle:u,removeLink:m,templatePlaceholderImage:p,url:m?void 0:h,usePreview:g}))}},"./src/reddit/components/ClassicPost/index.m.less":function(e,t,n){e.exports={adLinkWrapper:"_2c-0jMA2BuDIlKjWFiOUOt",classicThumbnail:"nL7Q54U2LLg9rkVdSxxLe",content:"_1Y6dfr4zLlrygH-FLmr8x-",crosspostMediaWrapper:"_1qc1-Anfrhr6APGcBKFk8M",expandoContainer:"_3r40yytzBnldjGGOrs2mCw",flatlist:"ssgs3QQidkqeycI33hlBa",flatlistContainer:"_36kpXQ-z7Hr61j8878uRkP",flatlistSeparator:"_1wDt70OnYnqsrm0XIsNn8v",horizontalVotes:"_3ytybPoFoY12sGn375PMy1",leftExpando:"_35zWJjb5RJMIMkexZ2Prus",mainBody:"_2XDITKxlj4y3M99thqyCsO",rightExpando:"_2Ddj1d6vOe9NlJqkdothNe",spacer:"iRkLLvxarfGu_2c7HxhW0",titleWithPoll:"_2FcpdQwjwRwk7X_NiZub8x",thumbnail:"_2e9Lv1I3dOmICVO9fg3uTG",thumbnailContainer:"_38EcSQ9jzVrdtzkXO1cydX",eventMeta:"rmPDRyja27ULjwD3rW14H",chain:"sfueWOUNVDpNGfP_Ow2yN",postContainer:"D3IyhBGwXo9jPwz-Ka0Ve",promotedMainBody:"_1LAkIKOirJP5Hor0NamqyY",mFirst:"_23tSz_ar8phNRBBW1afkYr"}},"./src/reddit/components/CoinPurchaseDropdown/index.m.less":function(e,t,n){e.exports={CoinPurchaseDropdown:"_3MLZbmCsSK5yh_UYD3717s",coinPurchaseDropdown:"_3MLZbmCsSK5yh_UYD3717s",activeSale:"_2MCszvETQ_Z6kv8AZ0mhCe",purchaseList:"_310fLrnWkOCPEaTfEufxkJ"}},"./src/reddit/components/CoinPurchaseDropdownHeader/DefaultHeader/index.m.less":function(e,t,n){e.exports={header:"_2lgyQv1Xe7SzrqkbUeaEFL",headerText:"_1CH25li1ODdO2KEOCMjWEj",headerLink:"_1lmsw-IaCDAsy3RT_4s5s9"}},"./src/reddit/components/CoinPurchaseDropdownHeader/SalesHeader/index.m.less":function(e,t,n){e.exports={header:"_1mxOXTqB-MrirvDiecjz4Z",headerText:"_1eNKe31O3AOBXQgWsPIL4P",saleHeaderImage:"_1Vf1tHvNme79A6GR8te6F-"}},"./src/reddit/components/CoinPurchaseDropdownHeader/index.m.less":function(e,t,n){e.exports={header:"_2HB5cXf0bpHe1piH74nOIQ"}},"./src/reddit/components/CoinPurchaseModal/async.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/higherOrderComponents/makeAsync.tsx"),a=n("./src/lib/loadWithRetries/index.ts"),i=n("./src/reddit/helpers/loadThirdPartyScript.ts"),c=n("./src/reddit/components/GlobalModalContainer/registry.ts"),d=n("./src/reddit/constants/modals.ts");const l=()=>Object(a.a)(()=>Promise.all([Promise.all([n.e("vendors~CoinPurchaseModal~EconPowerupsPurchaseModal~PennyPurchaseModal~PremiumPurchaseModal~UpdateCardModal"),n.e("CoinPurchaseModal~EconPowerupsPurchaseModal~PennyPurchaseModal"),n.e("CoinPurchaseModal")]).then(n.bind(null,"./src/reddit/components/CoinPurchaseModal/index.tsx")),Object(i.d)()])).then(e=>e[0].default),u=Object(r.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:l});Object(c.b)(d.a.ECON_COIN_PURCHASE,e=>o.a.createElement(u,{onOverlayClick:e,withOverlay:!0}))},"./src/reddit/components/CompactCoinPurchaseList/ListItem/index.m.less":function(e,t,n){e.exports={CompactCoinPurchaseListItem:"_3lHAZGc0ML7wczmPcwezOF",compactCoinPurchaseListItem:"_3lHAZGc0ML7wczmPcwezOF",productSection:"_2VkRnsOobI-4VlOs4ID5Vy",primaryText:"_4cdfLigUWzeeVcPzzbe78",buttonSubtext:"_2Mm_ve0iAKMLDXgbbvVmSD",subtext:"_1K7tfdKlu_H-Eljz3TrNc8",priceSection:"_49wuP84YuCbFBmZg2KI5s",button:"_2s6F0RDk744nqzZtEK_6Og",crossout:"_3LPal_LVAaPThYFSl8Vav3"}},"./src/reddit/components/CompactCoinPurchaseList/index.m.less":function(e,t,n){e.exports={errorContainer:"_3dCfx1TJ9381ixSTRcnyT-",loaderContainer:"xqaZPpbD8_8ATMQOxTIB_",goldButtonStyle:"_3I7QwUDTGi8K8aDgchhSWO",premiumButtonStyle:"_3271lFh79mcpLNBH_vvl7r"}},"./src/reddit/components/DownToChatBanner/DownToChatPendingModal/index.m.less":function(e,t,n){e.exports={Wrapper:"O258FYaW9n8M2K5BGX4v_",wrapper:"O258FYaW9n8M2K5BGX4v_",backgroundAnimation:"_3wgpIyg-y7kAJzTXM19iIz",Container:"WWLVFaNE0_QzzlHV-5_2A",container:"WWLVFaNE0_QzzlHV-5_2A",Heading:"_2mCl3hzhnrbUnRSV0Hlgvv",heading:"_2mCl3hzhnrbUnRSV0Hlgvv",Description:"_3cd3ufhq0Jp8vxXTPbHKEa",description:"_3cd3ufhq0Jp8vxXTPbHKEa",SnooImage:"_1cU9WVsnegf986qVbdoocd",snooImage:"_1cU9WVsnegf986qVbdoocd",Footer:"_31ILosdTcnxgP48mu3YbxG",footer:"_31ILosdTcnxgP48mu3YbxG"}},"./src/reddit/components/Econ/TopAwardersModal/async.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./src/reddit/components/GlobalModalContainer/registry.ts"),i=n("./src/reddit/constants/modals.ts");const c=Object(s.a)({resolved:{},chunkName:()=>"EconTopAwardersModal",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki~reddit-components-ProfileIdCard"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki"),n.e("EconTopAwardersModal")]).then(n.bind(null,"./src/reddit/components/Econ/TopAwardersModal/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/Econ/TopAwardersModal/index.tsx"}},{ssr:!1});Object(a.b)(i.a.ECON_TOP_AWARDERS,e=>r.a.createElement(c,{onOverlayClick:e,withOverlay:!0}))},"./src/reddit/components/EmailCollection/Banner/Loader.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js");const o=Object(s.a)({resolved:{},chunkName:()=>"EmailCollectionBanner",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("EmailCollectionBanner").then(n.bind(null,"./src/reddit/components/EmailCollection/Banner/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/EmailCollection/Banner/index.tsx"}});t.a=o},"./src/reddit/components/EmailVerificationTooltip/index.m.less":function(e,t,n){e.exports={closeIcon:"_2lPBwpVCWIEI428aTPAwZx",closeWrapper:"_1_Rq-E5LCS_6JTARElGK12",container:"_2IHh1GBfUxJVQQX0dJvAry",topLine:"_1l7oRxdMdQQ7NG2BqRCukJ",title:"_3tEYeY-LfC8l7tb0sWeImJ",subtitle:"_42_eHTHzRRdWB7Fg8R_QS",description:"_33SFF8h93OHkDyAJ59D1nc",buttonWrapper:"_9wv2Od0X3vE5kIG9M0Ic",commonBtn:"_193xt0mDvkWqbClnP3Aj6T",primaryBtn:"BwIqd_kQSoiSr3qEDtdp_"}},"./src/reddit/components/FrontpageSignup/Upsell/Images/index.m.less":function(e,t,n){e.exports={Container:"_1DtVp1OCzoJt6rVu4kqyST",container:"_1DtVp1OCzoJt6rVu4kqyST",Phone:"_20m5B-2NHmUmXVUYC1gymo",phone:"_20m5B-2NHmUmXVUYC1gymo",android:"_2jgq6Cm4n7c3NNl8VpFltS",iphone:"_2ocrsCliWP9UUmx5ZL374w",Carousel:"_1gqdyMEgD0pz6QBvVhgU7i",carousel:"_1gqdyMEgD0pz6QBvVhgU7i",Frame:"_3P_iHJEXRll3mWyuqNik3I",frame:"_3P_iHJEXRll3mWyuqNik3I"}},"./src/reddit/components/FrontpageSignup/Upsell/Links/index.m.less":function(e,t,n){e.exports={Container:"_23C-3j-0TrSZn_NJT8fcwU",container:"_23C-3j-0TrSZn_NJT8fcwU",Disclaimer:"_19_2-KUNWYbunHVuHaoY-a",disclaimer:"_19_2-KUNWYbunHVuHaoY-a",Link:"EzRsHBU9A06NEXZnsJyWI",link:"EzRsHBU9A06NEXZnsJyWI"}},"./src/reddit/components/FrontpageSignup/Upsell/index.m.less":function(e,t,n){e.exports={Container:"_1uKZh7b1kZ-bLvlZ02RLL6",container:"_1uKZh7b1kZ-bLvlZ02RLL6",MainContent:"_1xH0LEH3NeL-Kz1FAMx9Vz",mainContent:"_1xH0LEH3NeL-Kz1FAMx9Vz",MainContentColumn:"_3UaPvIbppFSklSTg2aTFLl",mainContentColumn:"_3UaPvIbppFSklSTg2aTFLl",Images:"_19dEFhHhbDgVJWuOq0KZlf",images:"_19dEFhHhbDgVJWuOq0KZlf",IFrame:"_2e0gx7j1Bc2qfAjI-3Tbio",iFrame:"_2e0gx7j1Bc2qfAjI-3Tbio",fields:"g5DNTyz0K4p8Qe1KemhqM",NotReady:"W6BMDJ-zjJbsEwxbpvU5r",notReady:"W6BMDJ-zjJbsEwxbpvU5r",NotReadyText:"_1igwWwaemysS2mmPW8WZ2s",notReadyText:"_1igwWwaemysS2mmPW8WZ2s",NotReadyIcon:"_3PeYnzFZio-HxxDaqnOAE_",notReadyIcon:"_3PeYnzFZio-HxxDaqnOAE_",Links:"_1etyEGrcHpnkE1UMtQIjpV",links:"_1etyEGrcHpnkE1UMtQIjpV",Carousel:"_3OBSZQIgZx2ksSzBQmYOeO",carousel:"_3OBSZQIgZx2ksSzBQmYOeO"}},"./src/reddit/components/GlobalModalContainer/registry.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const s={},o=()=>null;function r(e,t){if(e in s)throw new Error("Modal with id ".concat(e," already registered!"));s[e]=t}function a(e){return e&&e in s?s[e]:o}},"./src/reddit/components/Gold/GildAnimationOverlay/index.m.less":function(e,t,n){e.exports={modalOverlay:"_3b88NBdFAQ04N7cULqQvPh",fadeOut:"_3ktYxYLY8M4ue26GyBBjpt",modalBody:"_2W0vYckM4OsrrANQqi_sir",gildAnimationContainer:"_3xD0e6RJGug4SSLnVIPeh2",awardScaleIn:"_231us7lszsy_R3tzl2GqL1",awardScaleOut:"eC2A2qBG6f2mU9XPlMMcZ",animationComponent:"_2KBRcm-P0k4_mVHu1UroF6",starburst:"_3xKR2QByGO_30UN1TJJ9qF",awardAsset:"Ju8wOr8Uag5VUdjYF6E_m",sparkle:"_28LAx64oVvQTCvxl2mvkX4"}},"./src/reddit/components/Gold/GildAnimationOverlay/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"SPARKLE_ASSET_PATH",(function(){return f})),n.d(t,"STARBURST_ASSET_PATH",(function(){return v}));var s=n("./src/config.ts"),o=n("./node_modules/fbt/lib/FbtPublic.js"),r=n("./node_modules/react/index.js"),a=n.n(r),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/es/index.js"),d=n("./src/higherOrderComponents/asModal/index.tsx"),l=n("./src/lib/classNames/index.ts"),u=n("./src/reddit/actions/modal.ts"),m=n("./src/reddit/constants/modals.ts"),p=n("./src/reddit/selectors/gold/awardIcon.ts"),b=n("./src/reddit/selectors/gold/giveAwards.ts"),h=n("./src/reddit/components/Gold/GildAnimationOverlay/index.m.less"),g=n.n(h);const f="".concat(s.a.assetPath,"/img/gold/animated-sparkle-256.png"),v="".concat(s.a.assetPath,"/img/gold/animated-starburst-256.png"),O=Object(c.c)({award:b.b,awardIcon:p.d}),y=Object(i.b)(O,e=>({onClose:()=>e(Object(u.g)(m.a.GOLD_GILD_ANIMATION_OVERLAY))}));t.default=Object(d.a)(y(e=>{const{award:t,awardIcon:n,onClose:s}=e;setTimeout(s,1700);const r=o.fbt._("Animation of {award name} image",[o.fbt._param("award name",t.name)],{hk:"222osK"});return a.a.createElement("div",{className:g.a.gildAnimationContainer},a.a.createElement("div",{className:Object(l.a)(g.a.animationComponent,g.a.starburst),style:{backgroundImage:"url(".concat(v,")")}}),a.a.createElement("img",{alt:r,className:Object(l.a)(g.a.animationComponent,g.a.awardAsset),src:n}),a.a.createElement("div",{className:Object(l.a)(g.a.animationComponent,g.a.sparkle),style:{backgroundImage:"url(".concat(f,")")}}))}))},"./src/reddit/components/GoogleOneTapIFrame/index.m.less":function(e,t,n){e.exports={IFrame:"V6V7iCbDSFo5LexMzDv4B",iFrame:"V6V7iCbDSFo5LexMzDv4B","m-hidden":"_1F0LLqsimObYeEF5Q2a-Nn",mHidden:"_1F0LLqsimObYeEF5Q2a-Nn"}},"./src/reddit/components/Governance/TransactionModals/ConvertToCoinsModal/async.tsx":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./src/reddit/components/GlobalModalContainer/registry.ts"),i=n("./src/reddit/constants/modals.ts");const c=Object(s.a)({resolved:{},chunkName:()=>"reddit-components-Governance-TransactionModals-ConvertToCoinsModal",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~CollectionCommentsPage~CommentsPage~RpanListingUnit~Subreddit~SubredditWiki~reddit-component~1ffa6388"),n.e("vendors~CommunityPointsLearnMore~Settings~reddit-components-Governance-TransactionModals-ClaimPoints~e74e7afb"),n.e("vendors~CryptoLibEthers~reddit-components-Governance-TransactionModals-ClaimPointsModal~reddit-compo~89877e6b"),n.e("vendors~reddit-components-Governance-TransactionModals-ClaimPointsModal~reddit-components-Governance~231ed33d"),n.e("vendors~GovernanceTransferPointsModal~reddit-components-Governance-TransactionModals-ClaimPointsModa~b2d0d5d1"),n.e("reddit-components-Governance-TransactionModals-ClaimPointsModal~reddit-components-Governance-Transac~bbc9464a"),n.e("reddit-components-Governance-TransactionModals-ConvertToCoinsModal")]).then(n.bind(null,"./src/reddit/components/Governance/TransactionModals/ConvertToCoinsModal/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/Governance/TransactionModals/ConvertToCoinsModal/index.tsx"}},{ssr:!1});Object(a.b)(i.a.CONVERT_TO_COINS,e=>r.a.createElement(c,null))},"./src/reddit/components/Header/GoldCoinsCta/index.m.less":function(e,t,n){e.exports={ctaContainer:"_1t5i5bNwZeJ7FuUXZ9rM-p",ctaContent:"jEUbSHJJx8vISKpWirlfx",activeSale:"_24moloPNpotQ_Incvvxwtt",text:"_2Q7wEg_pr4EKVIc6XvJibh",icon:"_1F-AgkBVxGxQsEfI3oVkVa"}},"./src/reddit/components/Header/MwebResponsiveHeader/index.m.less":function(e,t,n){e.exports={Container:"_1oBkxkI9Ae3Qs71WqfDicM",container:"_1oBkxkI9Ae3Qs71WqfDicM",HomeLink:"_3zEcZZkpP9hBtkGINx6zWf",homeLink:"_3zEcZZkpP9hBtkGINx6zWf",Snoo:"_1ZrnhKss6v3Ggw08tDbTXH",snoo:"_1ZrnhKss6v3Ggw08tDbTXH",Wordmark:"_1rivc6IIexuAqsRVeptXuq",wordmark:"_1rivc6IIexuAqsRVeptXuq"}},"./src/reddit/components/Header/QuickLinks/index.m.less":function(e,t,n){e.exports={container:"x0hiXHicn7r3BG9m1FJH4",row:"_1vXXD2qKLnHetdKvisFzBD",icon:"_3dZnYgFFpifT-M_Vs2FAq6"}},"./src/reddit/components/Header/Sparse.m.less":function(e,t,n){e.exports={Logo:"_27RfkQ1Fuxjg5UzNJqCtC-",logo:"_27RfkQ1Fuxjg5UzNJqCtC-",Wordmark:"_1j_hHS0lKR-ok52j1iYlId",wordmark:"_1j_hHS0lKR-ok52j1iYlId",HomeExternalLink:"XGVEYXuPeFqHqAf2DqHaM",homeExternalLink:"XGVEYXuPeFqHqAf2DqHaM",SparseContainer:"_1GdKQyDUWvhTFBDr0FsAkj",sparseContainer:"_1GdKQyDUWvhTFBDr0FsAkj"}},"./src/reddit/components/Header/Sparse.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/reddit/constants/elementIds.ts"),a=n("./src/reddit/icons/svgs/Snoo/index.tsx"),i=n("./src/reddit/icons/svgs/Wordmark/index.tsx"),c=n("./src/reddit/layout/row/Inline/index.tsx"),d=n("./src/reddit/components/Header/Sparse.m.less"),l=n.n(d),u=n("./src/lib/lessComponent.tsx");const m=u.a.wrapped(a.a,"Logo",l.a),p=u.a.wrapped(i.a,"Wordmark",l.a),b=u.a.div("SparseContainer",l.a),h=u.a.a("HomeExternalLink",l.a);function g(e){return o.a.createElement(b,{id:r.c},o.a.createElement(h,{href:e.logoHref||"/",onClick:e.logoOnClick},o.a.createElement(c.a,null,o.a.createElement(m,null),o.a.createElement(p,null))))}},"./src/reddit/components/Header/User/index.m.less":function(e,t,n){e.exports={button:"_3Wg53T10KuuPmyWOMWsY2F",icon:"_234aKY_LemFWuSTYVoshHn",link:"_2qcLS5et_OlJluP0WWDdsJ",loggedOut:"U3FRqDA_Qhr4icbaNXSuf",loggedOutRow:"_1JBkpB_FOZMZ7IPr3FyNfH",oldRedditLink:"_31lJpVPojF0SAR5usRZ36h",row:"_19oWd7e3z7-ztUGzdIoCR7",separator:"Z_HUY3BUsGOBOtdmH94ZS",visitOldReddit:"_3Z5rfDuvQDBNfBgpXdnt_b"}},"./src/reddit/components/Header/index.m.less":function(e,t,n){e.exports={centeredRow:"_30BbATRhFv3V83DHNDjJAO",container:"_2GyPfdsi-MbQFyHRECo9GO",compactLayout:"Y4MkVr6trrdypfZVUkpIA",layout:"_2vkeRJojnV7cb9pMlPHy7d",searchContainer:"_1iqnOY2Y57wmetu8MAjiId",explore:"_17gDYx5g5X6q--Lcmc9IvO",search:"_2dlTXDaX9JuL0bekTwhV18",snoo:"_1O4jTk-dZ-VIxsCuYB6OR8",wordmark:"_1bWuGs_1sq4Pqy099x_yy-",left:"_3dnbqz69WJTFCss8wl7Wlk",quickLinks:"_23q1waDr4n_2fR5A7zcZzb",right:"_2u8LqkbMtzd0lpblMFbJq5",HeaderDynamicStyles:"_1tvdSTbdxaK-BnUbzUIqIY",headerDynamicStyles:"_1tvdSTbdxaK-BnUbzUIqIY",bladeIsOpen:"_1z0T-r2uyIYQr2tLUWs4M2",MwebResponsiveHeader:"_2egmn5KNYpLrH0zPS0gihA",mwebResponsiveHeader:"_2egmn5KNYpLrH0zPS0gihA"}},"./src/reddit/components/HeaderIconContainer/index.m.less":function(e,t,n){e.exports={Button:"PH-V9ggsF2mi5JTDmDqdR",button:"PH-V9ggsF2mi5JTDmDqdR",Container:"FOioVk_DUTmZIKKa82Mm1",container:"FOioVk_DUTmZIKKa82Mm1",isOpen:"_2DgzqfpTotjWrh91uFswuC"}},"./src/reddit/components/HeaderSubredditSelector/GenericListItem/index.m.less":function(e,t,n){e.exports={item:"_26MVepkxZHzpNv1cuAA4JA",mFocused:"_7Xbismt11Yj8tq6BaRWFr",buttonContainer:"oiDWziAp_Bua6rb7oQKXs",icon:"cq0sTeCPC4GI78UNPdClD",text:"_1nBP1OfpQDgTmzRFqaVult"}},"./src/reddit/components/HeaderSubredditSelector/ListHeader/index.m.less":function(e,t,n){e.exports={header:"_1Ok0AiXwAeYl2SsUBaxgPC"}},"./src/reddit/components/HeaderSubredditSelector/ListItem/index.m.less":function(e,t,n){e.exports={item:"XEkFoehJNxIH9Wlr5Ilzd",mFocused:"_3Av66iQf7_N4Z-XZxsek76",itemWrapper:"_17q-ew4FcK6U0ZiybWkIGG",icon:"_3HTtcITrR-crvsRovLrijl",text:"_2aqH0n-kSzFY7HZZ5GL-Jb",trending:"_2H51id1RX9dGNrtrAIOMGK",subText:"_2Efd4uMAp4YawdvL9Zhdhv",title:"_1JNAu7U5gWAkRoykwfUWhY",favorite:"t2A0mgkgGzc8cAahJsR7a",mFavorite:"_2cEhEGN_WTLlwspw_bpqTr",multi:"_3Hhjob0kyyqVjBXut8STgU",customFeedIcon:"ENGeNwSHzwN-SV2KTH2s7",trendingContent:"BNJ5Y52EyQmTHFZJwjoXJ",relatedSubredditMetaData:"_3P_WRCH8aFjwOFA7B1RlBL",promoted:"bpYVdL9hAnIqOnrKi8PVS"}},"./src/reddit/components/HeaderSubredditSelector/LoadingListSection/index.m.less":function(e,t,n){e.exports={header:"_3n88GuUHAnxPu6a--3e0sz",item:"_1TJuQGHgWvq2fnkVcPN7d0"}},"./src/reddit/components/HeaderSubredditSelector/SubredditList/index.m.less":function(e,t,n){e.exports={filter:"_37tmRmxaFMjRRrvwcY2JmY",item:"_2MgAHlPDdKvXiG-Qbz5cbC",listHeader:"_2XRPX11qL4-HxWPuHAzOW5",headerButton:"_1ee4j8lY-1iIi8GkJdJ5RD"}},"./src/reddit/components/HeaderSubredditSelector/index.m.less":function(e,t,n){e.exports={caretDown:"_3CG2U_hX3HI-ibl5v2RCq1",container:"_3jiriKeNer8y0-1r6oWIFM",mOpen:"_24x5wRDxU1y38uXQXvLE4m",mNotPinned:"_3rS8YTDjcT7fs0k9W4rxDG",mPinned:"_3NgME2HFZvM-tgAE3s5hXS",containerText:"_1GieMuLljOrqnVpRAwz7VP",defaultIcon:"eZQ5o2PrhR59wkAtPbxMU",icon:"_1jKtP65jnxLmoGCSqxAgkZ",userIcon:"E6V2eHU4CpJuLWzneTk0Z",itemIcon:"_139PgjqaVJ8tq4kF4QznMX",customFeedIcon:"_1r2uMQFZw5Hg53NkK6rsKv",itemModQueue:"_1VemFsujoJ-6RR82VRSPeM",listContainer:"TMMvbwyeh9yuHKmQWHrE3",coinIcon:"JisrPypso_3RK4iDgDdke",itemCoin:"_334CPGEglbIA_2CwQAn43P",itemPremium:"yeM4RoZW6FtJxVPe3Z84C",premiumIcon:"_2ulegyMhoTE_WCFyBC-IBx",itemPublicAccessNetwork:"_16Lm-ZR49L-1nxQV124cD-",publicAccessNetworkIcon:"_3jFEC4X3IL9Zr-pzUzyCp7",modQueueIcon:"_2L4XuYlbElLC5REx1XpdG_",multiPlusButton:"_3mvXSuBIpYAdAsBJSB-1G5",multiPlusIcon:"_2T11xMsmkdwP6G_mY6eUBW",pin:"_2FVCfsIPxXtl6S-c69sXO4",disabled:"_371yhrlWAj7dxOsk1PWqG4",selector:"h-jI8r2f9ozTNqu_2TBeY",subredditIcon:"_3fvJBCH6c6P0NvMwoqK9MJ",unknownIcon:"_1hCoGzhwFdfF2vGbt8IjSy"}},"./src/reddit/components/HeaderUserActions/CustomizeFlyout/index.m.less":function(e,t,n){e.exports={container:"nSJCQrnLY07CzwT8tTsNO",title:"csebgIdGwT3fBJ8kUT2aQ",subtitle:"rsZg2IAMPbcDGNPnNIBy_",description:"_3m-DocsNGlVUjAtAm7ZZLi",dismissBtn:"_3tJL-r-lrTcB_GkrrlZxEN"}},"./src/reddit/components/HeaderUserActions/index.m.less":function(e,t,n){e.exports={iconWrapper:"_2zZ-KGHbWWqrwGlHWXR90y",chatIcon:"ra_3TRn5G7dbrfbhx8kYi",isActive:"_3aintJ344BVk82tG06NQea",postIcon:"_1aj2BqXAeeo2bHwArcJ5AT",moderateIcon:"_14ugEJZOmgrUDXYeFSSv9w",isLit:"_3ge8uSGq8pAK2qqs45Vzde",link:"_1x6pySZ2CoUnAfsFhGe7J1",headerLinks:"_20HfCAFz3ot1MW1o29ZoGZ",headerUserDropdown:"_1pA8z73SZ1olP5KMKFN4_Z",moderationDropdown:"_1luaIaEVRAlXWIwqbCOj2a",envelopeIcon:"_1V77mEI1g_5ZlCh_c2-Yab",isUnread:"_2Wgcbg0LNUiJf4L2fVQJ7O",notificationInboxIcon:"_2mR_VyuaB50nsX1FR6XERF"}},"./src/reddit/components/HeaderUserDropdown/index.m.less":function(e,t,n){e.exports={accountCoins:"_2pXW42IYsGP59qZnjAnkAx",accountDisplayText:"DFKWwVItcycZV1bKUOyay",accountKarma:"Rz5N3cHNgTGZsIQJqBfgk",accountDetails:"_1pHyKCBktIf_9WFW9jjM3P",accountWrapper:"_3KfbpxpA8Esu_3UHTmIvfw",isLoggedOut:"_22SL37yETIW414yUiZj27w",isLoggedIn:"_2OFo5eaD2V6ZcJsYBuYned",button:"_1zZ3VDhRC38fXLLvVCHOwK",buttonText:"_3m4MQxMy4WfgIkMhHh-UAg",coinFontIcon:"LyE1zRbUJlGravH4LHRfD",dropdownTriangle:"_50RxI-5rW1xzwoC42vhzM",imgIcon:"-z42jjKOFdAdFhdJ8mmI4",myProfileIcon:"VIlSggfRUkuuHTKa_h8jp",modModeIcon:"_2Az3JCV8DZZ1S6CU8cR-bl",nightIcon:"gRVZlDl2ZHFThtPLjYYzD",inlineButton:"_18X7KoiaLuKbuLqg4zE8BH",dropdownOpen:"_3F3oKTToidUQ0CbMS1cccX",premiumFontIcon:"pztXT07fzqRz6IEE6thRV",Dropdown:"_1HSQGYlfPWzs40LP4_oFi5",dropdown:"_1HSQGYlfPWzs40LP4_oFi5",username:"_2BMnTatQ5gjKGK5OWROgaG",divider:"_7cxLZzQcuE-aYbch5G9oN",sectionHeader:"_18Q1kN_hFY6M09dHaoehBF"}},"./src/reddit/components/InboxTooltip/Loader.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js");const o=Object(s.a)({resolved:{},chunkName:()=>"InboxTooltip",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(null,"./src/reddit/components/InboxTooltip/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/InboxTooltip/index.tsx"}});t.a=o},"./src/reddit/components/InboxTooltip/index.m.less":function(e,t,n){e.exports={carot:"_389RY3FytRs4F82-BLVEiq",StyledDropdown:"_3fRnnkCBwqAZG6nmxhTKHr",styledDropdown:"_3fRnnkCBwqAZG6nmxhTKHr",tooltipContainer:"_3oNU8Gzy2V3jDPhFfeEFbD",topNav:"F0hrtz76LlopbY9X0wtDo",topNavTitle:"wdFbe8PT7DInxaiHo2Me1",notificationList:"_2MId4QR3fPm4RPlrSTZg_E",notificationResizeWrapper:"_3PWmWL3sMw23-xBHydcnPf",BottomBar:"_3EfmUSKcfdZaP5HMIpLVGG",bottomBar:"_3EfmUSKcfdZaP5HMIpLVGG",bottomLink:"X1WC7m4hrFQNzINreBRsv",Gear:"_3KogLgBmag36_tCz2x_A4v",gear:"_3KogLgBmag36_tCz2x_A4v",MarkAsRead:"y24rxfGSKrlV1jVQxeu3I",markAsRead:"y24rxfGSKrlV1jVQxeu3I"}},"./src/reddit/components/InboxTooltip/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DROPDOWN_ID",(function(){return S}));var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./node_modules/fbt/lib/FbtPublic.js"),a=n("./src/higherOrderComponents/asTooltip.tsx"),i=n("./src/lib/lessComponent.tsx"),c=n("./src/reddit/components/ResizeSensor/index.tsx"),d=n("./src/reddit/controls/Dropdown/index.tsx"),l=n("./src/reddit/controls/InternalLink/index.tsx"),u=n("./src/reddit/icons/svgs/MarkAsRead/index.tsx"),m=n("./src/reddit/icons/svgs/Settings/index.tsx"),p=n("./src/reddit/components/InboxTooltip/index.m.less"),b=n.n(p);const h={},g=3,f=i.a.wrapped(d.a,"StyledDropdown",b.a),v=i.a.div("BottomBar",b.a),O=i.a.wrapped(m.a,"Gear",b.a),y=i.a.wrapped(u.a,"MarkAsRead",b.a),C=e=>o.a.createElement("nav",{className:b.a.topNav},o.a.createElement("span",{className:b.a.topNavTitle},r.fbt._("Notifications",null,{hk:"1sYFjx"})),o.a.createElement("span",null,o.a.createElement("button",{className:b.a.navLink},o.a.createElement(y,null)),o.a.createElement(l.a,{className:b.a.navLink,to:"/settings/account"},o.a.createElement(O,null))));class x extends o.a.Component{constructor(){super(...arguments),this.ref=o.a.createRef(),this.handleResize=()=>{const e=this.ref&&this.ref.current&&this.ref.current.clientHeight||0;e!==this.props.notificationHeight&&this.props.setNotificationHeight(e,this.props.index)}}componentDidMount(){if(this.props.index+1<=g){const e=this.ref&&this.ref.current&&this.ref.current.clientHeight||0;this.props.setNotificationHeight(e,this.props.index)}}render(){const{index:e,notification:t}=this.props,n=e+1<=g;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:this.ref,className:b.a.notificationResizeWrapper},t,!!n&&o.a.createElement(c.a,{onResize:this.handleResize})))}}const P=e=>{const[t,n]=o.a.useState(h),s=o.a.useRef(null),r=(e,t)=>{n(n=>Object.assign(Object.assign({},n),{[t]:e}))};return o.a.createElement("div",{className:b.a.notificationList,ref:s,style:{maxHeight:(()=>{let e=0;for(const n in t)e+=t[n];return 0===e?"none":e})()}},e.notifications.map((e,n)=>o.a.createElement(x,{index:n,key:n,notification:e,notificationHeight:t[n],setNotificationHeight:r})))},E=Object(a.a)(f),j=e=>o.a.createElement(E,{isFixed:!0,isOpen:e.isOpen,tooltipId:S,tooltipPosition:["right","top"]},o.a.createElement("div",{className:b.a.tooltipContainer},o.a.createElement(C,null),o.a.createElement(P,{notifications:e.notifications}),o.a.createElement(v,null,o.a.createElement(l.a,{className:b.a.bottomLink,to:"/notifications"},r.fbt._("See All",null,{hk:"3L3tFc"}))))),S="Header--Inbox";t.default=e=>{let{isOpen:t,notifications:n,notificationsCount:r}=e;return Object(s.useEffect)(()=>{},[r]),o.a.createElement(j,{isOpen:t,notifications:n})}},"./src/reddit/components/LightboxHeader/index.m.less":function(e,t,n){e.exports={container:"K4Eem3pMbRbAYioOfqN5E",isCollection:"_1_ihtgX_FgdbtB-rbz84r6",postDetails:"-DOLBAFWXMQX1Q3ErGO8I",mediaIcon:"_33YMDoIltkTaZemWTS7Yki",galleryIcon:"_16ZfB-TEDZe7GTSTpIP-RR",postTitle:"P9Qd6oTCWgLr3ackKg0I5",postTitleLink:"_1iZHnGYX-Wc90AM6BQQemg",membershipPaywallTitle:"SHwEfOV-Wq0AnI-uha8Ci",horizontalVotes:"_15Igkrvvp7jIfVHt0eKzFd",actions:"_25ONQRwoX20oeRXFl_FZXt",close:"c_rRg_d32D6ZO5sV8DmMM",closeText:"C9XkFfcvNxFrFRVdKxc8x",closeIcon:"_3hSPveXgjl1l-8ltRYGAIh"}},"./src/reddit/components/LightboxHeader/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/classNames/index.ts"),d=n("./src/lib/constants/index.ts"),l=n("./src/reddit/actions/post.ts"),u=n("./src/reddit/actions/shortcuts/close.ts"),m=n("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),p=n("./src/reddit/components/FlairWrapper/index.tsx"),b=n("./src/reddit/components/PostTitle/index.tsx"),h=n("./src/reddit/components/TrackingHelper/index.tsx"),g=n("./src/reddit/constants/colors.ts"),f=n("./src/reddit/controls/Button/index.tsx"),v=n("./src/reddit/helpers/postCollection.ts"),O=n("./src/reddit/hooks/useButtons2020.ts"),y=n("./src/reddit/icons/fonts/Expandos/Media/Video/index.tsx"),C=n("./src/reddit/icons/fonts/Gif/index.tsx"),x=n("./src/reddit/icons/fonts/Link/index.tsx"),P=n("./src/reddit/icons/fonts/Photos/index.tsx"),E=n("./src/reddit/icons/fonts/Text/index.tsx"),j=n("./src/reddit/icons/svgs/Close/index.tsx"),S=n("./src/reddit/icons/svgs/Gallery/index.tsx"),_=n("./src/reddit/models/Media/index.ts"),w=n("./src/reddit/models/Vote/index.ts"),k=n("./src/reddit/selectors/experiments/categories.ts"),I=n("./src/reddit/selectors/experiments/postActionBarAnimation.ts"),M=n("./src/reddit/selectors/platform.ts"),N=n("./src/reddit/selectors/user.ts"),T=n("./src/reddit/components/LightboxHeader/index.m.less"),R=n.n(T);const A=Object(i.c)({isInCategoriesExperiment:k.a,post:M.n,isScoreDiscounted:(e,t)=>{let{page:n,post:s}=t;var o;if(!n&&!s)return!1;const r=e.platform.lastPage,a=e.platform.currentPage,i=(null===(o=null==a?void 0:a.meta)||void 0===o?void 0:o.name)===d.Fb.COMMENTS,c=!Object(N.I)(e)&&i&&!r;if(c&&!Object(I.b)(e))return!1;const l=n&&Object(M.n)(e,{page:n})||s,u=Object(I.d)(e,{isActionBarAnimationEnabled:!0,postId:l&&l.id,isForceSelected:c});return!!u&&u>0}}),L=Object(a.b)(A,(e,t)=>{let{sendEvent:n}=t;return{close:()=>{e(Object(u.a)(n,!0))},toggleVote:(t,n)=>e(n===w.a.upvoted?Object(l.S)(t):Object(l.q)(t))}},(e,t,n)=>Object.assign(Object.assign(Object.assign(Object.assign({},e),t),n),{onVoteClick:s=>{const o=e.post||n.post;o&&t.toggleVote(o.id,s)}}));class F extends r.a.Component{constructor(){super(...arguments),this.closeLightbox=e=>{e.preventDefault(),e.stopPropagation(),this.props.close()}}render(){const{className:e,onCloseClick:t,onVoteClick:n,page:a,post:i,isScoreDiscounted:l}=this.props,u=G[i&&i.media?i.media.type:_.o.EMBED],h=!i&&a&&a.meta&&a.meta.name===d.Fb.META_MEMBERSHIP_PAYWALL_PAGE;return r.a.createElement("div",{className:Object(c.a)(R.a.container,e,{[R.a.isCollection]:i&&Object(v.a)(i)})},r.a.createElement("div",{className:R.a.postDetails},i&&r.a.createElement(o.Fragment,null,l?void 0:r.a.createElement(m.a,{className:R.a.horizontalVotes,compact:!1,light:!0,model:i,onVoteClick:n,redditStyle:!0}),r.a.createElement(u,{className:R.a.mediaIcon}),r.a.createElement(b.c,{className:R.a.postTitle,post:i,size:b.b.Small,hideSourceLink:!0,isCommentsPage:!0,isOverlay:!0,nowrap:!0,titleColor:g.a.lightboxHeaderText,titleLinkClassName:R.a.postTitleLink,showCategoryTag:!0}),r.a.createElement(p.a,{post:i,nowrap:!0,sendEvent:this.props.sendEvent,showCategoryTag:this.props.isInCategoriesExperiment})),h&&a&&a.urlParams.subredditName&&r.a.createElement("div",{className:R.a.membershipPaywallTitle},s.fbt._("{communityName} Special Membership",[s.fbt._param("communityName","r/".concat(a.urlParams.subredditName))],{hk:"4vP4VY"}))),r.a.createElement("div",{className:R.a.actions},r.a.createElement(D,{onClick:t||this.closeLightbox})))}}const D=r.a.memo(e=>{return Object(O.a)()?r.a.createElement(f.q,{size:f.c.XS,onClick:e.onClick,priority:f.b.Plain,Icon:j.a,text:s.fbt._("Close",null,{hk:"4gbyAA"}),title:s.fbt._("Close",null,{hk:"4gbyAA"}),"aria-label":s.fbt._("Close",null,{hk:"4gbyAA"}),"data-redditstyle":!0}):r.a.createElement(f.o,{className:R.a.close,onClick:e.onClick,title:s.fbt._("Close",null,{hk:"4gbyAA"}),"aria-label":s.fbt._("Close",null,{hk:"4gbyAA"})},r.a.createElement(j.a,{className:R.a.closeIcon}),r.a.createElement("span",{className:R.a.closeText},s.fbt._("Close",null,{hk:"4gbyAA"})))}),G={[_.o.GIFVIDEO]:C.a,[_.o.IMAGE]:P.a,[_.o.TEXT]:E.a,[_.o.RTJSON]:E.a,[_.o.VIDEO]:y.a,[_.o.EMBED]:x.a,[_.o.LIVEVIDEO]:y.a,[_.o.GALLERY]:e=>r.a.createElement("i",{className:Object(c.a)(R.a.galleryIcon,e.className)},r.a.createElement(S.a,null))};t.a=Object(h.c)(L(F))},"./src/reddit/components/ModerationDropdown/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./src/higherOrderComponents/makeAsync.tsx"),o=n("./src/lib/loadWithRetries/index.ts");const r="Header--Moderation",a=()=>null;t.b=Object(s.a)({ErrorComponent:a,getComponent:()=>Object(o.a)(()=>n.e("ModerationDropdowns").then(n.bind(null,"./src/reddit/components/ModerationDropdown/_ModerationDropdown.tsx"))).then(e=>e.default),LoadingComponent:a})},"./src/reddit/components/MutedUserList/MuteUserModal/index.tsx":function(e,t,n){"use strict";var s=n("./src/higherOrderComponents/makeAsync.tsx"),o=n("./src/lib/loadWithRetries/index.ts");const r=()=>null;t.a=Object(s.a)({ErrorComponent:r,getComponent:()=>Object(o.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("ModerationPages")]).then(n.bind(null,"./src/reddit/components/MutedUserList/MuteUserModal/_MuteUserModal.tsx"))).then(e=>e.default),LoadingComponent:r})},"./src/reddit/components/PinnedSubscriptions/index.m.less":function(e,t,n){e.exports={title:"FRrbwuHy8Zmlubp3nowLZ",listHeader:"_3hELZctjzdizaWjW1al9DZ",unpin:"_2oY_N7NWiAv9m_mFIRdwVX",icon:"_3B-ny-D97ZKwdUyXAaWF19",Component:"_20fGT0XJD3MvX9yBsVeKMn",component:"_20fGT0XJD3MvX9yBsVeKMn"}},"./src/reddit/components/PremiumPurchaseModal/Loader.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/higherOrderComponents/makeAsync.tsx"),o=n("./src/lib/loadWithRetries/index.ts"),r=n("./src/reddit/helpers/loadThirdPartyScript.ts");const a=()=>Object(o.a)(()=>Promise.all([Promise.all([n.e("vendors~CoinPurchaseModal~EconPowerupsPurchaseModal~PennyPurchaseModal~PremiumPurchaseModal~UpdateCardModal"),n.e("PremiumPurchaseModal")]).then(n.bind(null,"./src/reddit/components/PremiumPurchaseModal/index.tsx")),Object(r.d)()])).then(e=>e[0].default),i=Object(s.a)({getComponent:a,ErrorComponent:()=>null,LoadingComponent:()=>null});t.a=i},"./src/reddit/components/Root/AdminPanelLoader.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./node_modules/react-redux/es/index.js"),i=n("./src/reddit/selectors/runTimeEnvVars.ts"),c=n("./src/reddit/selectors/user.ts");const d=Object(s.a)({resolved:{},chunkName:()=>"AdminPanel",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~AdminPanel"),n.e("AdminPanel")]).then(n.bind(null,"./src/reddit/components/AdminPanel/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/AdminPanel/index.tsx"}});function l(){return Object(a.d)(e=>Object(i.b)(e)||Object(c.G)(e))?r.a.createElement(d,null):null}},"./src/reddit/components/Root/index.m.less":function(e,t,n){e.exports={container:"_1VP69d9lk-Wk9zokOaylL"}},"./src/reddit/components/Root/redesignFont.less":function(e,t,n){},"./src/reddit/components/SearchDropdown/index.m.less":function(e,t,n){e.exports={listItemIcon:"fcDVF0HYfR8ZcZgQVT0oo",mTrending:"cuK0QQebBI_tpWwN_YN9M",listItemTitle:"_3HPgggOIyY0x9kiADxwwaj",mWithBorder:"_2Uets9AVOC4pygPHGHCAAM",listItem:"_20OHBqoDD71_8fv7tuG6u6",mHoverable:"_1IJwm0Qscr8yPuyii8YsSS",mFocused:"_1NDuQGNA_7Cuo411jRXLVg",mTypeahead:"_3NseKdP3_1HONmKk_kK3_l",listItemText:"_17mZueOafzj0Dlja0Wc9os",listItemSubtext:"_1CCbYggNpm1_k3lDTmKgSW",mNoPostTitle:"_3etfe7dx7ViSNcYo4Q--LD",loadingItem:"_3wwag2ZgVLfNKLCuEuXF7h",dropdown:"_1HnfZtTmYelxTj6QL6aaXS",fixedTextTooltip:"_1U-nknzRP43RdLab5D4_lK",planetIcon:"_2Tfe4NhLJlRQkuO1yhzqR2",subredditIcon:"_3uBNO7SvsRGN4W794WAO_p",subredditIconStyles:"_26nS8Ogzm0pqOjlwfGRgJR",postTitle:"YeMwUP22Up8CVxmgTayyQ"}},"./src/reddit/components/ShortcutIndexModal/index.m.less":function(e,t,n){e.exports={ColumnLabel:"_3RwBfA8Nrz_fZLCoxbAAmA",columnLabel:"_3RwBfA8Nrz_fZLCoxbAAmA",ColumnWrapper:"_2fnA79IIdtL-mNZYnvBalc",columnWrapper:"_2fnA79IIdtL-mNZYnvBalc",Column:"_3O97w7RY6RBkLbc3u-Mg4u",column:"_3O97w7RY6RBkLbc3u-Mg4u",Description:"_2rgXACgxMtUDCuKcGDK6tL",description:"_2rgXACgxMtUDCuKcGDK6tL",Key:"_3Ren-BGfEFUtj5MNFV9jGZ",key:"_3Ren-BGfEFUtj5MNFV9jGZ",ModalMain:"_3SVP64qu6nV3rRil6Mkvmk",modalMain:"_3SVP64qu6nV3rRil6Mkvmk",ModalBody:"_3MZjFI9WV4spd-w0yXdEAG",modalBody:"_3MZjFI9WV4spd-w0yXdEAG",PrimaryButton:"_2eEY2Q9pfXNNh2P9nh8cn4",primaryButton:"_2eEY2Q9pfXNNh2P9nh8cn4",TextButton:"_1RrzHtukV58ONGeHXBNR7t",textButton:"_1RrzHtukV58ONGeHXBNR7t",ConnectedModal:"_1qRgDlLw5wytfgHvP96-gS",connectedModal:"_1qRgDlLw5wytfgHvP96-gS"}},"./src/reddit/components/ShortcutWrapper/Loader.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js");const o=Object(s.a)({resolved:{},chunkName:()=>"ShortcutWrapper",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~ShortcutWrapper"),n.e("ShortcutWrapper")]).then(n.bind(null,"./src/reddit/components/ShortcutWrapper/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/ShortcutWrapper/index.tsx"}},{ssr:!1});t.a=o},"./src/reddit/components/ShortcutWrapper/ShortcutContainer.m.less":function(e,t,n){e.exports={shortcutDiv:"hciOr5UGrnYrZxB11tX9s"}},"./src/reddit/components/Survey/hooks.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return E}));var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=n("./node_modules/lodash/isEqual.js"),r=n.n(o),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),c=n("./src/reddit/actions/preferences.ts"),d=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/helpers/survey/index.ts"),u=n("./src/reddit/selectors/telemetry.ts");const m=(e,t)=>{const n=u.experiment(e,t);return n?{experiment_name:n.name,experiment_variant:n.variant,experiment_version:n.version}:{}},p=e=>{switch(e){case l.a.CES:return"ces";case l.a.CSAT:return"csat";case l.a.NPS:return"nps"}},b=(e,t)=>n=>Object.assign(Object.assign({source:"survey",action:t,noun:"intro"},u.defaults(n)),{survey:m(n,e)}),h=e=>{let{action:t,experimentName:n,question:s,score:o,type:r}=e;return e=>Object.assign(Object.assign({source:"survey",action:t,noun:"rating"},u.defaults(e)),{survey:Object.assign({type:p(r),min:r===l.a.NPS?0:1,max:r===l.a.NPS?10:7,question:s,score:o},m(e,n))})},g=e=>{let{action:t,experimentName:n,question:s,text:o,type:r}=e;return e=>Object.assign(Object.assign({source:"survey",action:t,noun:"freeform_text"},u.defaults(e)),{survey:Object.assign({question:s,type:p(r),text:o},m(e,n))})};var f=n("./src/reddit/hooks/useTracking.ts"),v=n("./src/reddit/models/Toast/index.ts"),O=n("./src/reddit/selectors/experiments/index.ts"),y=n("./src/reddit/selectors/user.ts");const C=()=>{const e=Object(i.c)(),[t,n]=Object(a.useState)(null),s=Object(f.a)(),o=Object(i.d)(y.g),d=Object(i.d)(y.pb),u=Object(i.d)(O.a,r.a),m=Object(a.useMemo)(()=>{const e=Object(l.f)(),t={};for(const n of e)t[n]=u[n];return t},[u]),p=Object(a.useCallback)(e=>{const s=Object(l.e)({actionType:e,surveyExperimentVariants:m,samplingId:o||d});if(!s||s===t)return;const r=m[s.experiment_name];(null==r?void 0:r.variant)&&s.variants[r.variant]&&setTimeout(()=>n(s),1e3*s.variants[r.variant].delay)},[t,m,o,d]);return Object(a.useEffect)(()=>{const e=Object(l.c)(),t=e.subscribe(p);return()=>e.unsubscribe(t)},[p]),Object(a.useEffect)(()=>{if(!t)return;const n=Date.now();Object(l.g)(t,n),e(Object(c.H)({surveyLastSeenTime:n},!1)),s(b(t.experiment_name,"display"))},[t,e,s]),t},x=e=>{let{activeStepNum:t,activeSurvey:n,isFollowUp:s,textResponse:o,setTextResponse:r,setIsSurveyDismissed:i}=e;(e=>{let{isFollowUp:t,textResponse:n}=e;const s=Object(a.useCallback)(e=>{if(t&&n.length)return e.preventDefault(),e.returnValue="sure?","sure?"},[t,n]);Object(a.useEffect)(()=>(window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)),[s])})({isFollowUp:s,textResponse:o});const[c,d]=Object(a.useState)(!1),l=Object(f.a)(),u=n.experiment_name,m=n.steps[t],p=null==m?void 0:m.type,v=null==m?void 0:m.question,O=Object(a.useCallback)(()=>{t>=0?d(!0):(i(!0),l(b(n.experiment_name,"dismiss")))},[t,n,l,i]),y=Object(a.useCallback)(()=>{r(""),i(!0),l(s?g({experimentName:u,action:"dismiss",type:p,question:v}):h({experimentName:u,action:"dismiss",type:p,question:v}))},[u,s,v,l,i,r,p]);return{isLeavingModalShowing:c,onClose:O,onLeaveCancel:Object(a.useCallback)(()=>d(!1),[]),onLeaveConfirm:y}},P=e=>{let{activeSurvey:t,selectedNumber:n,setIsSurveyDismissed:s,setSelectedNumber:o,setTextResponse:r,textResponse:i}=e;const[c,d]=Object(a.useState)(-1),[u,m]=Object(a.useState)(0),[p,v]=Object(a.useState)(!1),O=Object(f.a)(),y=Object(a.useCallback)(()=>{const e=t.experiment_name,a=t.steps[c],f=null==a?void 0:a.type,y=null==a?void 0:a.question,C=null==a?void 0:a.follow_up_question,x=t.steps[c+1],P=null==x?void 0:x.type,E=null==x?void 0:x.question;if(m(u+1),-1===c)return O(b(e,"agree")),d(0),void O(h({experimentName:e,action:"display",type:P,question:E}));O(p?g({experimentName:e,action:"submit",type:f,text:i,question:C}):h({experimentName:e,action:"submit",question:y,type:f,score:n&&n+(f===l.a.NPS?0:1)})),o(void 0),r(""),p||!C?(v(!1),c+1>=t.steps.length?s(!0):(d(c+1),O(h({experimentName:e,action:"display",type:P,question:E})))):(v(!0),O(g({experimentName:e,action:"display",type:f,question:C})))},[c,t,p,i,n,O,s,o,r,u]);return{activeStepNum:c,isFollowUp:p,onStepComplete:y,uiStep:u}},E=(e,t,n)=>{const o=Object(i.c)();Object(a.useEffect)(()=>{e&&!t&&n>1&&setTimeout(()=>{o(Object(d.e)({text:s.fbt._("Thanks for your feedback!",null,{hk:"11jNYw"}),kind:v.b.SuccessCommunityGreen}))},500)},[o,e,t,n])}},"./src/reddit/components/Survey/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./src/reddit/components/Survey/hooks.ts");const i=Object(s.a)({resolved:{},chunkName:()=>"SurveyAsync",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("SurveyAsync").then(n.bind(null,"./src/reddit/components/Survey/Async.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/components/Survey/Async.tsx"}});function c(){const e=Object(a.d)();return e?r.a.createElement(i,{activeSurvey:e}):null}},"./src/reddit/components/ThemeProvider/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var s=n("./node_modules/icepick/icepick.js"),o=n("./node_modules/react/index.js"),r=n.n(o),a=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/objectSelector/index.ts"),d=n("./src/reddit/contexts/PageLayer/index.tsx"),l=n("./src/reddit/contexts/PageLayer/selectors.ts"),u=n("./src/reddit/models/StructuredStyles/index.ts"),m=n("./src/reddit/models/Theme/index.ts"),p=n("./src/reddit/selectors/structuredStyles.ts"),b=n("./src/reddit/selectors/subreddit.ts"),h=n("./src/reddit/selectors/user.ts"),g=n("./src/lib/CSSVariableProvider/index.tsx"),f=n("./src/lib/isAdHocMultireddit/index.ts");const v=(e,t)=>t.forceRedditTheme?void 0:void 0!==t.subredditName?t.subredditName:Object(l.o)(e,t);class O extends r.a.Component{render(){const{children:e,isRootOrUniqueClassName:t,theme:n}=this.props;return r.a.createElement(g.e,{theme:n,isRootOrUniqueClassName:t},e)}}const y=Object(a.b)(()=>Object(i.a)(e=>e.themes.current,e=>!!Object(p.j)(e),e=>{if(Object(p.j)(e))return e.structuredStyles.draft},(e,t)=>{if(Object(p.j)(e))return Object(p.g)(e,t)},v,Object(c.a)((e,t)=>{if(Object(p.j)(e)||Object(h.ib)(e))return;const n=v(e,t);if(!n)return;const s=Object(b.G)(e,n);if(!s)return;if(Object(h.hb)(e,{subredditId:s}))return;const o=e.structuredStyles.models[s];return o||void 0}),(e,t)=>{const n=v(e,t);if(!n)return;const s=Object(b.y)(e,{subredditName:n});return s?s.emojisCustomSize:void 0},(e,t)=>{if(t.forceDayMode)return!1;return Object(h.rb)(e).nightmode},(e,t)=>{if(!Object(h.rb)(e).hideNSFW)return!0;const n=v(e,t);if(n){const t=Object(b.B)(e,{subredditName:n});return!(!t||!t.isNSFW)}const s=Object(l.d)(e,t);return!!s&&s.isNSFW},(e,t)=>t.isOverlay,(e,t)=>t.isCommentsPage,(e,t,n,o,r,a,i,c,d,l,p)=>{const b=Object.assign(Object.assign({},i?{emojiWidth:i[0],emojiHeight:i[1]}:{}),{shouldShowNSFWContent:d,isCommentsPage:p,isOverlay:l}),h=r&&r.length&&!Object(f.a)(r)?"SubredditVars-r-".concat(r):g.c;if(t&&n&&o){const e=Object(u.h)(n,o);return{isRootOrUniqueClassName:h,theme:Object(m.i)(e,b)}}if(a){const e=Object(u.h)(a);let t;return{isRootOrUniqueClassName:h,theme:t=c?Object(m.h)(e,b):Object(m.i)(e,b)}}return{isRootOrUniqueClassName:h,theme:Object(s.merge)(e,{subredditContext:b})}}))(O);t.b=y;const C=Object(d.t)()(y)},"./src/reddit/components/Toaster/EuCookiePolicyToast.m.less":function(e,t,n){e.exports={Icon:"_2pPCvXlD2wzNO9taY3pzqw",icon:"_2pPCvXlD2wzNO9taY3pzqw",PrimaryButton:"_1tI68pPnLBjR1iHcL7vsee",primaryButton:"_1tI68pPnLBjR1iHcL7vsee",Bread:"_3RhWPJfjpsEoBw52x0fQp2",bread:"_3RhWPJfjpsEoBw52x0fQp2"}},"./src/reddit/components/Toaster/MilestoneToast.m.less":function(e,t,n){e.exports={Container:"_3Cb-J_TUgYhl23GF1E8ueS",container:"_3Cb-J_TUgYhl23GF1E8ueS",SideImage:"_3noiB6ClBZxqX-VfENVYha",sideImage:"_3noiB6ClBZxqX-VfENVYha",Main:"_2uE5iMLmEfZ_HNjn85c1NP",main:"_2uE5iMLmEfZ_HNjn85c1NP",SubTitle:"_2dvmXQB_w1cCQdCLjHGb0F",subTitle:"_2dvmXQB_w1cCQdCLjHGb0F",PrimaryLinkButton:"_2JcKYVeW6FIeewNVpxApr6",primaryLinkButton:"_2JcKYVeW6FIeewNVpxApr6",CloseIcon:"_1kI4teIozhxDil2omCIIs5",closeIcon:"_1kI4teIozhxDil2omCIIs5"}},"./src/reddit/components/Toaster/PlainBread.m.less":function(e,t,n){e.exports={PlainBread:"trdUvQxqQHHqQKOUBcgnr",plainBread:"trdUvQxqQHHqQKOUBcgnr"}},"./src/reddit/components/Toaster/StyledComponents.m.less":function(e,t,n){e.exports={Text:"_7JH6kQpO-bx66b9ajIZrz",text:"_7JH6kQpO-bx66b9ajIZrz"}},"./src/reddit/components/Toaster/UappBannerToast.m.less":function(e,t,n){e.exports={Icon:"NODQrxMsajJv0SMw0Glss",icon:"NODQrxMsajJv0SMw0Glss",PrimaryButton:"_-660JDG_NhSvu-lby-LYB",primaryButton:"_-660JDG_NhSvu-lby-LYB",Bread:"_3jUV8naze01hV-7EqsBdjm",bread:"_3jUV8naze01hV-7EqsBdjm"}},"./src/reddit/components/Toaster/index.m.less":function(e,t,n){e.exports={AuthErrorToastIcon:"_2Jt0Cjod2bIVz4VEgb6ZNn",authErrorToastIcon:"_2Jt0Cjod2bIVz4VEgb6ZNn",AuthErrorToastPrimaryButton:"_1BkkYahLrqvrnZoHHBH9pU",authErrorToastPrimaryButton:"_1BkkYahLrqvrnZoHHBH9pU",CustomIcon:"_3F4cPSBsBgzFOcnpe466x-",customIcon:"_3F4cPSBsBgzFOcnpe466x-",SnooFacepalm:"_33UT9FofKPRVp4gDnLAM-6",snooFacepalm:"_33UT9FofKPRVp4gDnLAM-6",SnooHappy:"_5OZRCtpmuaH0Is4CZ7GpZ",snooHappy:"_5OZRCtpmuaH0Is4CZ7GpZ",SubredditIcon:"_-43TYgcIz7mHcgQHam-CV",subredditIcon:"_-43TYgcIz7mHcgQHam-CV",UnlockIcon:"tClrg2w16xkW4hmCj8nTo",unlockIcon:"tClrg2w16xkW4hmCj8nTo",LockIcon:"ZI0D2mGVpaunJEvFji7pm",lockIcon:"ZI0D2mGVpaunJEvFji7pm",RemoveIcon:"vvMBwTMgHpgz4UTQ4H_nJ",removeIcon:"vvMBwTMgHpgz4UTQ4H_nJ",Container:"_3q-XSJ2vokDQrvdG6mR__k",container:"_3q-XSJ2vokDQrvdG6mR__k",Bread:"EjdBJNEwygtHMKiHd3Bnv",bread:"EjdBJNEwygtHMKiHd3Bnv",mModal:"_29WPjLJ0vRIyLIUC_lQ4a8",ButtonsWrapper:"_2-rGW3UtrT-pD45pofU3tx",buttonsWrapper:"_2-rGW3UtrT-pD45pofU3tx",ContentWrapper:"_21oJwLzDt5kLN6scufKBab",contentWrapper:"_21oJwLzDt5kLN6scufKBab"}},"./src/reddit/components/TrendingSearches/TrendingItemViewability.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/reddit/components/AdViewability/index.tsx"),a=n("./src/reddit/components/BlankPost/index.tsx"),i=n("./src/reddit/connectors/PostViewable/index.ts");const c=Object(i.a)(null);class d extends o.a.Component{render(){const{children:e,post:t,onPostViewable:n}=this.props;if(t)return t.isBlank?o.a.createElement(a.BlankPost,{post:t,onPostViewable:n}):o.a.createElement(r.a,{post:t,trackDisplay:!0},e)}}t.a=c(d)},"./src/reddit/components/UserFlairPicker/index.m.less":function(e,t,n){e.exports={buttonsRow:"_2jjk9b3mpveU6Vpam4kPBm",clearButton:"_2HCY4xCLt3RKVIgnkh0ZgW",Section:"_3dGLI85CRTmDAbSQrDiQZl",section:"_3dGLI85CRTmDAbSQrDiQZl",CheckboxText:"_2pIwiaNLf5jaTR1EK7Nx09",checkboxText:"_2pIwiaNLf5jaTR1EK7Nx09"}},"./src/reddit/components/UserIcon/CurrentUserIcon.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/selectors/user.ts"),c=n("./src/reddit/components/UserIcon/helpers.ts"),d=n("./src/reddit/components/UserIcon/SnoovatarHeadshot.tsx"),l=n("./src/reddit/components/UserIcon/UserIcon.tsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var m=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const p=Object(a.c)({currentUser:i.i,isNightMode:i.U,shouldHideNSFW:i.B}),b=Object(r.b)(p);t.a=b(e=>{const{currentUser:t}=e,n=m(e,["currentUser"]);return Object(c.a)(null==t?void 0:t.accountIcon)?o.a.createElement(d.a,{headshot:t.accountIcon,className:e.className}):o.a.createElement(l.a,u({},n,{iconUrl:t?t.accountIcon:void 0,isCurrentUser:!0,isNSFW:!!t&&t.isNSFW}))})},"./src/reddit/constants/accountManager.ts":function(e,t,n){"use strict";var s,o,r,a;n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.ChangePassword="/change_password/",e.Index="/login/",e.Register="/register/",e.EnableTwoFactor="/2fa/enable/",e.DisableTwoFactor="/2fa/disable/",e.TwoFactorBackupCodes="/2fa/backup-keys/",e.LinkAppleSSO="/account/sso/link/?provider=apple",e.UnlinkAppleSSO="/account/sso/unlink/?provider=apple",e.LinkGoogleSSO="/account/sso/link/?provider=google",e.UnlinkGoogleSSO="/account/sso/unlink/?provider=google",e.GoogleOneTap="/account/sso/one_tap/"}(s||(s={})),function(e){e.ChangePassword="changePassword",e.Close="close",e.CreateAccount="createAccount",e.GoogleOneTapDisplayed="googleOneTapDisplayed",e.GoogleOneTapFlowFailed="googleOneTapFlowFailed",e.GoogleOneTapSkipped="googleOneTapSkipped",e.Login="login",e.PreferenceStatus="preferenceStatus",e.Register="register",e.Resize="resize",e.ShowStep="showStep",e.SSOLinkFail="ssoLinkFail",e.SSOLinkSuccess="ssoLinkSuccess",e.SSOUnlinkFail="ssoUnlinkFail",e.SSOUnlinkSuccess="ssoUnlinkSuccess",e.Subscribe="subscribe",e.TwoFactorChanged="twoFactorChanged"}(o||(o={})),function(e){e.Embed="embed",e.Modal="modal"}(r||(r={})),function(e){e.SelectAccount="select-account",e.Email="email",e.EmailOptIn="email-opt-in",e.GoogleUI="google-ui",e.Subscribe="subscribe",e.UsernameAndPassword="username-and-password"}(a||(a={}))},"./src/reddit/constants/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"p",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"q",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"o",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return O}));const s="DEFAULT",o="",r="All Communities",a="top",i="MOD",c="moderating",d="LOCAL_COMMUNITIES",l="near-you",u="/subreddits/leaderboard/",m={id:o,name:o,path:"".concat(u)},p={id:d,name:l,path:"".concat(u).concat(l,"/")},b=[{name:"Sports",id:"c1015",path:"".concat(u,"sports/")},{name:"News",id:"c1009",path:"".concat(u,"news/")},{name:"Gaming",id:"c1019",path:"".concat(u,"gaming/")},{name:"Aww",id:"c1000",path:"".concat(u,"aww/")}],h={id:o,name:o,path:"".concat(u),image:"popcorn-snoo",tagline:"Trending communities are so hot right now",gradients:["#63D4C3","#3A8CEB"]},g={id:d,name:l,path:"".concat(u).concat(l,"/"),image:"magnifying-glass-snoo",tagline:"Local communities —\nSee what’s near you",gradients:["#63D4C3","#3A8CEB"]},f=[{name:"Sports",id:"c1015",path:"".concat(u,"sports/"),image:"basketball-snoo",tagline:"Sports communities are the real MVP",gradients:["#EF839E","#7795F8"]},{name:"News",id:"c1009",path:"".concat(u,"news/"),image:"newsie-snoo",tagline:"News communities to keep you informed",gradients:["#D72E33","#A82455"]},{name:"Gaming",id:"c1019",path:"".concat(u,"gaming/"),image:"esports-snoo",tagline:"Gaming communities taking it to the next level",gradients:["#F08C3A","#D72E33"]},{name:"Aww",id:"c1000",path:"".concat(u,"aww/"),image:"cat-snoo",tagline:"Aww communities —\nget in on this cuteness",gradients:["#F3B54F","#EC5428"]}],v=[{name:"Beauty",id:"c1023",path:"".concat(u,"beauty/"),image:"makeup-snoo",tagline:"Beauty communities make us all look good",gradients:["#63D4C3","#3A8CEB"]},{name:"Fashion",id:"c1002",path:"".concat(u,"fashion/"),image:"90s-nostalgia-snoo",tagline:"Fashion communities are always in style",gradients:["#EF839E","#7795F8"]},{name:"Food",id:"c1003",path:"".concat(u,"food/"),image:"cookbooks-snoo",tagline:"Food communities to make you go mmmm",gradients:["#D72E33","#A82455"]},{name:"Fitness",id:"c1006",path:"".concat(u,"health_and_fitness/"),image:"yoga-snoo",tagline:"Fitness communities that know how to work it",gradients:["#63D4C3","#3A8CEB"]},{name:"Outdoors",id:"c1010",path:"".concat(u,"outdoors/"),image:"telescope-snoo",tagline:"Outdoor communities —\nthey’re really out there",gradients:["#F08C3A","#D72E33"]},{name:"Relationships",id:"c1013",path:"".concat(u,"relationships/"),image:"childrensbooks-snoo",tagline:"Relationship communities understand all the feels",gradients:["#F08C3A","#D72E33"]}],O=["Sports","Gaming","News","TV","Aww","Memes","Pics & Gifs","Travel","Tech","Music"]},"./src/reddit/contexts/AdminEvents.ts":function(e,t,n){"use strict";var s=n("./node_modules/brcast/dist/brcast.es.js"),o=n("./node_modules/react/index.js"),r=n.n(o);t.a=r.a.createContext(Object(s.a)([]))},"./src/reddit/contexts/ThrottlingContext/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/reddit/constants/featureThrottling.ts"),a=n("./src/reddit/helpers/featureThrottling/store/index.ts");const i={isThrottled:!1,resetFeature:()=>{throw new Error("Component attempted to reset feature with no ThrottlingContext")},throttleFeature:()=>{throw new Error("Component attempted to throttle feature with no ThrottlingContext")}},c=Object.keys(r.a).reduce((e,t)=>(e[t]=Object(s.createContext)(i),e),{});class d extends o.a.Component{constructor(e){super(e),this.onThrottlingDataChange=(e,t)=>{if(t){const e=a.a.isFeatureThrottled(t);this.setState(n=>e===n[t].isThrottled?null:Object.assign(Object.assign({},n),{[t]:Object.assign(Object.assign({},n[t]),{isThrottled:e})}))}else this.setState(e=>{const t=Object.keys(r.a).reduce((t,n)=>(a.a.isFeatureThrottled(n)&&(t[n]=Object.assign(Object.assign({},e[n]),{isThrottled:!0})),t),{});return Object.keys(t).length>0?t:null})},this.renderContextProvider=(e,t)=>{const n=c[t];return o.a.createElement(n.Provider,{value:this.state[t]},e)},this.state=Object.keys(r.a).reduce((e,t)=>(e[t]={isThrottled:!1,resetFeature:a.a.resetFeature.bind(a.a,t),throttleFeature:a.a.throttleFeature.bind(a.a,t)},e),{})}componentDidMount(){a.a.subscribe(this.onThrottlingDataChange)}componentWilUnmount(){a.a.unsubscribe(this.onThrottlingDataChange)}render(){return Object.keys(c).reduce(this.renderContextProvider,this.props.children)}}},"./src/reddit/controls/CheckboxWithLabel/index.m.less":function(e,t,n){e.exports={checkbox:"_21CrWSXdmd-ue61gDl6zRs",checkboxSelected:"_1xT_z2uw_7yX0esEUZVFwf",sharedIconStyles:"_1NVucoiiTLKJiKzRTPVKaW",checkboxLabel:"_1H6-wE3jxCdsIeXW5AMjj8",labelContent:"-kceiAQn0jpWOpu7qZRjD"}},"./src/reddit/controls/CheckboxWithLabel/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/lib/classNames/index.ts"),a=n("./src/reddit/icons/svgs/Checkbox/index.tsx"),i=n("./src/reddit/icons/svgs/CheckboxSelected/index.tsx"),c=n("./src/reddit/controls/CheckboxWithLabel/index.m.less"),d=n.n(c);t.a=e=>o.a.createElement("button",{"aria-checked":e.isSelected,"aria-disabled":e.disabled,autoFocus:e.autoFocus,className:Object(r.a)(d.a.checkboxLabel,e.className),disabled:e.disabled,onClick:e.onClick,type:"button",role:"checkbox"},o.a.createElement("span",{tabIndex:-1,className:d.a.labelContent},e.isSelected?o.a.createElement(i.a,{className:d.a.checkboxSelected}):o.a.createElement(a.a,{className:d.a.checkbox}),e.text))},"./src/reddit/controls/InvisibleScreenReaderText/index.m.less":function(e,t,n){e.exports={invisibleText:"_1RIl585IYPW6cmNXwgRz0J"}},"./src/reddit/controls/InvisibleScreenReaderText/index.tsx":function(e,t,n){"use strict";var s=n("./src/lib/lessComponent.tsx"),o=n("./src/reddit/controls/InvisibleScreenReaderText/index.m.less"),r=n.n(o);t.a=s.a.span("invisibleText",r.a)},"./src/reddit/controls/Link/index.m.less":function(e,t,n){e.exports={link:"zrXDKcys3Vl7vt1f6ef4V"}},"./src/reddit/controls/Link/index.tsx":function(e,t,n){"use strict";var s=n("./src/lib/lessComponent.tsx"),o=n("./src/reddit/controls/Link/index.m.less"),r=n.n(o);t.a=s.a.a("link",r.a)},"./src/reddit/controls/Search/RelatedSubredditMetaData.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/classNames/index.ts"),c=n("./src/lib/objectSelector/index.ts"),d=n("./src/reddit/components/Hovercards/SubredditHovercard/index.tsx"),l=n("./src/reddit/components/SubredditIcon/index.tsx"),u=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/components/HeaderSubredditSelector/ListItem/index.m.less"),p=n.n(m),b=n("./src/reddit/controls/Search/index.m.less"),h=n.n(b);const g=Object(r.b)(()=>Object(a.c)({subredditsByName:Object(c.a)((e,t)=>{const n={};return t.subredditIcons&&t.subredditIcons.map(t=>{n[t.subredditName]=Object(u.B)(e,{subredditName:t.subredditName})}),n})}));t.a=g(e=>o.a.createElement("div",{className:Object(i.a)(p.a.subText,h.a.subText,e.className)},e.subredditIcons?e.subredditIcons.map(t=>o.a.createElement(d.a,{key:"".concat(t.subredditName,"-hoverCard"),subredditName:t.subredditName},o.a.createElement(l.b,{className:Object(i.a)(h.a.subredditIcon,h.a.isHeaderIcon,e.iconClassName),linkTo:"/r/".concat(t.subredditName,"/"),key:t.subredditName,iconUrl:t.url,subredditOrProfile:e.subredditsByName[t.subredditName]}))):o.a.createElement(l.b,{className:Object(i.a)(h.a.subredditIcon,e.iconClassName),key:e.iconUrl,iconUrl:e.iconUrl}),e.suffix&&o.a.createElement("span",null,e.suffix)))},"./src/reddit/controls/Search/index.m.less":function(e,t,n){e.exports={input:"_2xQx4j6lBnDGQ8QsRnJEJa",iconContainer:"_2QGKgHKTtOwKHI4B_LI0YM",icon:"_1hdDhVEGWEdVJcgy2XQ2Eq",relativeWrapper:"_1blFGqU8stoZgWSZ8MQNpf",subredditIcon:"_2me05I1oHEys1gUyyDWswt",isHeaderIcon:"_1biYoFBD4CLgOvrr_HinV4",hasIcons:"_1M-azLenSs2UgxeZ2rJX20",subText:"_2-DL_E9cFo1xsqU3Q8BXnJ"}},"./src/reddit/controls/ToggleSwitch/index.m.less":function(e,t,n){e.exports={toggleDisplay:"_2FKpII1jz0h6xCAw1kQAvS",toggleSwitch:"_2e2g485kpErHhJQUiyvvC2",is2020:"_2zIsUnTMNBBTNB6vw68Wdy",xs:"_1asGWL2_XadHoBuUlNArOq",s:"_1hku5xiXsbqzLmszstPyR3",m:"_10hZCcuqkss2sf5UbBMCSD",l:"_1fCdbQCDv6tiX242k80-LO",xl:"_2Jp5Pv4tgpAsTcnUzTsXgO",mActive:"_1L5kUnhRYhUJ4TkMbOTKkI",mDisabled:"_3clF3xRMqSWmoBQpXv8U5z"}},"./src/reddit/controls/ToggleSwitch/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/lib/classNames/index.ts"),a=n("./src/reddit/controls/Button/index.tsx"),i=n("./src/reddit/hooks/useButtons2020.ts"),c=n("./src/reddit/controls/ToggleSwitch/index.m.less"),d=n.n(c);t.a=o.a.memo(e=>{const t=Object(i.a)(),n=e.size||a.c.XS;return o.a.createElement("button",{"aria-checked":e.on,className:Object(r.a)(d.a.toggleSwitch,e.className,d.a[n],{[d.a.mActive]:e.on&&!e.disabled||e.forceOn&&e.on,[d.a.mDisabled]:e.disabled,[d.a.is2020]:t}),style:e.on&&!e.disabled&&e.activeColorOverride?{backgroundColor:e.activeColorOverride}:void 0,id:e.id,role:"switch",tabIndex:e.tabIndex,type:"button",onClick:()=>!e.disabled&&e.onToggle&&e.onToggle()},o.a.createElement("div",{className:Object(r.a)(d.a.toggleDisplay,t?d.a.is2020:"")}))})},"./src/reddit/controls/Typography/index.m.less":function(e,t,n){e.exports={heading1:"_37JeV292IJA7_x1qej_-2H",heading2:"p13k-tsMcatGBlVpJBZmw",heading3:"_1nHvvYpmn7q9eWDAGzKcce",heading4:"_1-rwUWsB5F8WmYI8F66dai",heading5:"_22RKdGqihAj6MFumW6DuRV",heading6:"_4xqrI_N1UdqsK9E1RSisG",body1:"_2HJOIn4SJm4z1NeCv_hNFu",body2:"_3ImIPX9rfoPmUrZ1R8KGqS",actionFont:"_3uShGanwyVFBaTiPMFzfAC",metadata:"_2nyJGeaFJbXTqTh9OGwxfu",metadata3:"_3BIqvjJkJKZfH4vtC11dGF"}},"./src/reddit/controls/Typography/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c}));var s=n("./src/lib/lessComponent.tsx"),o=n("./src/reddit/controls/Typography/index.m.less"),r=n.n(o);s.a.h1("heading1",r.a),s.a.h2("heading2",r.a),s.a.h3("heading3",r.a),s.a.h4("heading4",r.a);const a=s.a.h5("heading5",r.a),i=(s.a.h6("heading6",r.a),s.a.p("body1",r.a),s.a.p("body2",r.a)),c=(s.a.p("actionFont",r.a),s.a.p("metadata",r.a));s.a.p("metadata3",r.a)},"./src/reddit/endpoints/economics/emojis.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var s=n("./src/config.ts"),o=n("./src/reddit/endpoints/governance/requester.ts");const r=(e,t)=>Object(o.a)(e,{method:"post",endpoint:"".concat(s.a.metaUrl,"/orders"),data:{price:"0",currency:"usd",products:[{productId:t.productId,quantity:"1"}],subredditId:t.subredditId}}),a=(e,t)=>Object(o.a)(e,{method:"get",endpoint:"".concat(s.a.metaUrl,"/product-collections/").concat(t,"?types=emotes_pack")})},"./src/reddit/endpoints/economics/paymentSystems.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var s=n("./src/config.ts"),o=n("./src/reddit/endpoints/governance/requester.ts");function r(e){return Object(o.a)(e,{endpoint:"".concat(s.a.metaUrl,"/ps/me/stripe-connect-links"),method:"post"})}function a(e,t){return Object(o.a)(e,{endpoint:"".concat(s.a.metaUrl,"/ps/me"),method:"patch",data:{stripe:{authorization:Object.assign(Object.assign({},t),{scope:"read_write"})}}})}function i(e){return Object(o.a)(e,{endpoint:"".concat(s.a.metaUrl,"/ps/me"),method:"get"})}function c(e,t){return Object(o.a)(e,{endpoint:"".concat(s.a.metaUrl,"/ps/me/stripe-sources/").concat(t),method:"delete"})}function d(e,t){return Object(o.a)(e,{endpoint:"".concat(s.a.metaUrl,"/ps/me/braintree-sources/").concat(t),method:"delete"})}},"./src/reddit/endpoints/economics/specialMembership.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p}));var s=n("./src/config.ts"),o=n("./src/lib/omitHeaders/index.ts"),r=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/endpoints/governance/requester.ts"),i=n("./src/reddit/helpers/governanceErrorText/index.ts"),c=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts");function d(e,t){return Object(a.a)(e,{endpoint:"".concat(s.a.metaUrl,"/communities/").concat(t.subredditId,"/me"),method:"patch",data:{specialMemberships:{settings:{renew:!1}}}})}function l(e,t){return Object(a.a)(e,{endpoint:"".concat(s.a.metaUrl,"/ps/me/braintree-client-tokens"),method:"post",data:{username:t&&t.username}})}function u(e,t){return Object(a.a)(e,{endpoint:"".concat(s.a.metaUrl,"/orders"),method:"post",data:{currency:"usd",orderTarget:"special_membership",price:t.trial?"0":t.price,products:[{productId:t.productId,quantity:"1"}],providerArgs:{paymentNonce:t.nonce,savePaymentMethod:!0},providerName:"braintree",subredditId:t.subredditId,targetArgs:{renew:!0,receiverName:t.username}}})}function m(e,t){return Object(a.a)(Object(o.a)(e,[r.a]),{endpoint:"".concat(e.apiUrl,"/api/info?id=").concat(t.join(",")),method:"get"}).then(e=>{if(e.ok){const t=e.body.data.children.map(e=>{let{data:t}=e;return Object(c.a)(t)}).reduce((e,t)=>(e[t.id]=t,e),{});return Object.assign(Object.assign({},e),{body:t})}return e})}async function p(e,t){const n=await Object(a.a)(e,{endpoint:"".concat(s.a.metaUrl,"/orders"),method:"post",data:Object.assign(Object.assign({},t),{currency:"points",orderTarget:"special_membership",products:[{productId:"provisional_membership",quantity:"1"}],targetArgs:{renew:!1}})});if(!n.ok)throw new Error("Error fetching provisional membership: ".concat(Object(i.b)(n.error)));return n.body}},"./src/reddit/endpoints/economics/subredditPremium.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/lodash/merge.js"),o=n.n(s),r=n("./src/config.ts"),a=n("./src/reddit/endpoints/governance/badges.ts"),i=n("./src/reddit/endpoints/governance/community.ts"),c=n("./src/reddit/endpoints/governance/products/badges.ts"),d=n("./src/reddit/endpoints/governance/requester.ts");async function l(e,t,n){const s={subredditId:t,badges:{},errors:{},collections:{},products:{},subscription:void 0,userOwnedBadges:[]},l=function(e,t){return Object(d.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/product-collections/").concat(t,"?types=badge")})}(e,t),u=Object(i.a)(e,{subredditId:t}),m=Object(c.b)(e,t),p=Object(a.c)(e,t,n),[b,h,g,f]=await Promise.all([l,u,m,p]);if(b.ok?s.collections=b.body:s.errors.collections=b.error,h.ok){const e=h.body;s.subscription=e.specialMemberships,s.communityRaw=e}return g.ok?s.products=g.body:s.errors.products=g.error,f.ok?(o()(s.badges,f.body.badges),s.userOwnedBadges=f.body.userOwnedBadges):s.errors.userBadges=f.error,s}const u=(e,t)=>Object(d.a)(e,{endpoint:"".concat(r.a.metaUrl,"/products/").concat(t,"?types=badge,membership"),method:"delete"})},"./src/reddit/endpoints/governance/crypto.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"l",(function(){return g}));var s,o=n("./src/config.ts"),r=n("./src/reddit/endpoints/governance/requester.ts");function a(e){switch(e){case s.Ethereum:case s.EthTraderEthereum:return"Ethereum Main Network";case s.Rinkeby:case s.EthTraderRinkeby:return"Rinkeby Test Network"}return e+" Network"}function i(e){switch(e){case s.Ethereum:case s.EthTraderEthereum:return"https://meta-api.reddit.com/ethereum/ethereum";case s.Rinkeby:case s.EthTraderRinkeby:return"https://meta-api.reddit.com/ethereum/rinkeby"}throw new Error("No JSON RPC url for provider: ".concat(e))}function c(e){switch(e){case s.Ethereum:case s.EthTraderEthereum:return"homestead";case s.Rinkeby:case s.EthTraderRinkeby:return"rinkeby"}throw new Error("No ethereum network for provider: ".concat(e))}async function d(e,t,n){return Object(r.a)(e,{method:"post",endpoint:"".concat(o.a.metaUrl,"/crypto/").concat(t,"/challenges"),data:{challengeType:"registration-challenge-EIP712",address:n}})}async function l(e,t,n){return await Object(r.a)(e,{method:"post",endpoint:"".concat(o.a.metaUrl,"/crypto/").concat(t,"/registrations"),data:n})}async function u(e,t,n){return await Object(r.a)(e,{method:"delete",endpoint:"".concat(o.a.metaUrl,"/crypto/").concat(t,"/registrations/").concat(n)})}!function(e){e.Ethereum="ethereum:1",e.Rinkeby="ethereum:4",e.EthTraderEthereum="ethereum:1:ethtrader",e.EthTraderRinkeby="ethereum:4:ethtrader",e.Stellar="stellar"}(s||(s={}));const m=e=>({type:"convert-to-coins",subredditId:e}),p=e=>({type:"claim",subredditId:e}),b=e=>({type:"subscribe",subredditId:e}),h=(e,t,n,s)=>({type:"transfer",subredditId:e,recipient:t,recipientAddress:n,amount:s});async function g(e,t){return await Object(r.a)(e,{method:"put",endpoint:"".concat(o.a.metaUrl,"/crypto/ethereum/transaction-intent"),data:t})}},"./src/reddit/endpoints/subreddit/local.ts":function(e,t,n){"use strict";var s=n("./src/graphql/operations/GetNearbySubreddits.json"),o=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(o.a)(e,Object.assign(Object.assign({},s),{variables:t}))},"./src/reddit/endpoints/subreddit/topSubreddits.ts":function(e,t,n){"use strict";var s=n("./src/graphql/operations/TopSubreddits.json"),o=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(o.a)(e,Object.assign(Object.assign({},s),{variables:t}))},"./src/reddit/helpers/categoryPickerWidget/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./src/reddit/helpers/name/index.ts");const o=(e,t)=>t.map(t=>{const n=Object(s.g)(t.name),o=n.split(" & ").join("_and_");return Object.assign(Object.assign({},t),{name:n,path:t.path||"".concat(e).concat(o,"/")})}),r=e=>Object(s.g)(e).split("_and_").join(" & ")},"./src/reddit/helpers/externalAccount/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const s=()=>new BroadcastChannel("external_account"),o=e=>{const t=s();t.postMessage({type:"connected",provider:e}),t.close()}},"./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/isEmpty.js");var s=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),o=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]])}return n};const r=e=>{let{edges:t,pageInfo:n}=e;const r={},a=[];for(let i of t){const{node:e}=i,t=o(i,["node"]),n=Object(s.a)(e);r[n.id]=n,a.push(t)}return{pageInfo:n,rankings:a,subreddits:r}},a=e=>{let{edges:t}=e;const n={},r=[];for(let a of t){const{node:e}=a,t=o(a,["node"]),i=Object(s.a)(e);n[i.id]=Object.assign(Object.assign({},i),{bannerBackgroundImage:e&&e.styles&&e.styles.bannerBackgroundImage}),r.push(t)}return{rankings:r,subreddits:n}},i=e=>{let{edges:t,pageInfo:n}=e;const o={},r=[];let a=0;for(const{node:i}of t){const e=Object(s.a)(i);o[e.id]=Object.assign(Object.assign({},e),{bannerBackgroundImage:i&&i.styles&&i.styles.bannerBackgroundImage}),r.push({id:e.id,rank:a}),a+=1}return{rankings:r,subreddits:o,pageInfo:n}}},"./src/reddit/helpers/makeHeaderUserDropdownItem/index.m.less":function(e,t,n){e.exports={basicLink:"_1YWXCINvcuU7nk0ED-bta8",strokeBasedIcon:"B4DjK05AesOOJqD3vekf",metaContainer:"_1HGeWoy6faY2UWkCD7cYoW",outboundLink:"_1Jtes5zRWNpwobWM4O2Unx",button:"_2KotRmn9DgdA58Ikji2mnV",icon:"_2BQPq3iyS8t6kKtFmtkB30",isLit:"_3RofgwJEAbXD6OnLxEZ8Kg",body:"vzhy90YD0qH7ZDJi7xMGw"}},"./src/reddit/helpers/makeHeaderUserDropdownItem/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./node_modules/react-router-dom/esm/react-router-dom.js"),a=n("./src/lib/classNames/index.ts"),i=n("./src/lib/lessComponent.tsx"),c=n("./src/reddit/icons/svgs/OutboundLink/index.tsx"),d=n("./src/reddit/helpers/makeHeaderUserDropdownItem/index.m.less"),l=n.n(d);const u=i.a.button("button",l.a),m=e=>t=>o.a.createElement("div",{className:t.className},e);function p(e,t,n){return h(e,t,!0,Object.assign({},n))}function b(e,t,n){return h(e,t,!1,Object.assign({},n))}function h(e,t,n,s){const i=e,d="function"==typeof t?t:m(t),{meta:u,strokeBasedIcon:p}=s,b=(e,t)=>o.a.createElement(o.a.Fragment,null,o.a.createElement(i,{className:Object(a.a)(l.a.icon,{[l.a.isLit]:e,[l.a.strokeBasedIcon]:t})}),o.a.createElement(d,{className:l.a.body}),u&&o.a.createElement("div",{className:l.a.metaContainer},u));return n?e=>o.a.createElement("a",{"data-redditstyle":!0,className:Object(a.a)(e.className,l.a.basicLink),href:e.href,onClick:e.onClick,target:"_blank",rel:"noopener noreferrer"},b(e.isLit,p),o.a.createElement(c.a,{className:l.a.outboundLink})):e=>e.href?o.a.createElement(r.a,{"data-redditstyle":!0,className:Object(a.a)(e.className,l.a.basicLink),to:e.href,onClick:e.onClick},b(e.isLit,p)):o.a.createElement("button",{"data-redditstyle":!0,className:Object(a.a)(e.className,l.a.button),onClick:e.onClick},b(e.isLit,p))}},"./src/reddit/helpers/survey/config.json":function(e){e.exports=JSON.parse('{"survey_cooldown_days":182,"active_surveys":[{"experiment_name":"nps_survey_scroll_trigger","trigger_event":"feed_scroll_1_page","variants":{"enabled":{"survey_enabled":true,"trigger_threshold":2,"sample_factor":0.5}},"steps":[{"type":"NPS","question":"How likely are you to recommend Reddit to a friend?","follow_up_question":"What\'s your main reason for feeling that way?"}]},{"experiment_name":"d2x_nps_survey_dismiss_post_trigger","trigger_event":"dismiss_post","variants":{"enabled":{"survey_enabled":true,"trigger_threshold":3,"sample_factor":0.01}},"steps":[{"type":"NPS","question":"How likely are you to recommend Reddit to a friend?","follow_up_question":"What\'s your main reason for feeling that way?"}]},{"experiment_name":"survey_demo_nps_1","trigger_event":"feed_scroll_1_page","variants":{"enabled":{"survey_enabled":true,"trigger_threshold":1,"sample_factor":1}},"steps":[{"type":"NPS","question":"How likely are you to recommend Reddit to a friend?","follow_up_question":"What is the primary reason for your score?"}]},{"experiment_name":"survey_demo_combined_1","trigger_event":"feed_scroll_1_page","variants":{"enabled":{"survey_enabled":true,"trigger_threshold":1,"sample_factor":1}},"steps":[{"type":"CES","question":"How easy was it to create a post?","follow_up_question":"What, if anything, would make it easier to create a post?"},{"type":"CSAT","question":"How satisfied are you with your experience on Reddit today?","follow_up_question":null},{"type":"NPS","question":"How likely are you to recommend Reddit to a friend?","follow_up_question":"What is the primary reason for your score?"}]},{"experiment_name":"d2x_layer_survey","trigger_event":"layer_feed_scroll_1_page","variants":{"enabled":{"survey_enabled":true,"trigger_threshold":1,"sample_factor":0.5}},"steps":[{"type":"CSAT","question":"How would you rate your overall satisfaction with r/Layer?","follow_up_question":"What is the primary reason for your score on r/Layer?"},{"type":"CSAT","question":"How would you rate your overall satisfaction with collaborating on art in r/Layer?","follow_up_question":"What was the primary reason for your score on collaborating on art in r/Layer?"},{"type":"CSAT","question":"How would you rate your overall satisfaction with the r/Layer community?","follow_up_question":"What is the primary reason for your score on the r/Layer community?"}]},{"experiment_name":"web_video_quality_survey","trigger_event":"videos_watched","variants":{"enabled":{"survey_enabled":true,"trigger_threshold":8,"sample_factor":1}},"steps":[{"type":"CSAT","question":"How would you rate your overall satisfaction with watching videos on Reddit?","follow_up_question":"What is the primary reason for your score on watching videos on Reddit?"},{"type":"CSAT","question":"How would you rate your satisfaction with how well Reddit video plays?","follow_up_question":"What is the primary reason for your score on how well Reddit video plays?"},{"type":"CSAT","question":"How would you rate your satisfaction with the content you\'ve seen in Reddit videos?","follow_up_question":"What is the primary reason for your score on the content you\'ve seen in Reddit videos?"}]}]}')},"./src/reddit/helpers/survey/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return g}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/brcast/dist/brcast.es.js"),o=n("./node_modules/lodash/once.js"),r=n.n(o),a=(n("./node_modules/core-js/modules/es6.regexp.split.js"),function(e,t,n){return t=t||1,(n=n||0)+(9301*(e="number"==typeof e?e:e.split("").reduce((e,t)=>t.charCodeAt(0)+e,0))+49297)%233280/233280*(t-n)}),i=n("./src/reddit/actions/survey/constants.ts"),c=n("./src/reddit/helpers/localStorage/index.ts");const d=n("./src/reddit/helpers/survey/config.json"),l=r()(()=>Object(s.a)());var u;!function(e){e.CES="CES",e.CSAT="CSAT",e.NPS="NPS"}(u||(u={}));const m={[i.a]:"layer_feed_scroll_1_page",[i.c]:"feed_scroll_1_page",[i.b]:"dismiss_post",[i.d]:"videos_watched"},p=e=>{let{actionType:t,surveyExperimentVariants:n,samplingId:s}=e;var o;const r=Object(c.B)(),i=Object(c.C)(),l=864e5*d.survey_cooldown_days;if(!i||!i[t]||r&&Date.now()-r<=l)return null;const u=[],{active_surveys:m}=d;for(let c=0;c<m.length;c++){const{experiment_name:e,trigger_event:r,variants:d}=m[c],l=null===(o=n[e])||void 0===o?void 0:o.variant,p=l&&d[l];r!==t||!i[r]||!p||!p.survey_enabled||i[r]<p.trigger_threshold||a(s+e)>p.sample_factor||u.push(m[c])}return u.length?u[Math.floor(Math.random()*u.length)]:null},b=(e,t)=>{const{trigger_event:n}=e;Object(c.pb)(t),Object(c.O)(n)},h=()=>d.active_surveys.map(e=>e.experiment_name),g=e=>e.steps.reduce((e,t)=>e+1+(t.follow_up_question?1:0),0)},"./src/reddit/helpers/trackers/ads.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/selectors/telemetry.ts");const r=()=>e=>Object.assign(Object.assign({source:"dfp",action:"request",noun:"ad"},o.defaults(e)),{subreddit:o.subreddit(e)}),a=()=>e=>Object.assign(Object.assign({source:"dfp",action:"define",noun:"ad"},o.defaults(e)),{subreddit:o.subreddit(e)}),i=(e,t)=>n=>{const r=t?e.dfpDetails.slot.getSlotId().getDomId():e.slot.getSlotId().getDomId(),a=-1!==r.indexOf(s.c.ABOVE_THE_FOLD)?s.c.ABOVE_THE_FOLD:s.c.BELOW_THE_FOLD,i=document.querySelector("#"+r);let c,d;if(i&&(c=s.f.HOUSE_AD,-1!==i.innerHTML.indexOf("google_ads_iframe")&&(c=s.f.PROGRAMMATIC_AD),i.children&&i.children.length>0)){const e=i.children[0];d="".concat(e.offsetWidth,"x").concat(e.offsetHeight)}const l=t?"aax":void 0;return Object.assign(Object.assign({source:"post",action:"view",noun:"programmatic_ad"},o.defaults(n)),{subreddit:o.subreddit(n),programmatic:{adUnit:d?"DESKTOP ".concat(d," ").concat(a):"DESKTOP ".concat(a),count:1,partner:l,type:c}})},c=(e,t,n)=>r=>Object.assign(Object.assign({source:"post",action:"view",noun:"programmatic_ad"},o.defaults(r)),{subreddit:o.subreddit(r),programmatic:{adUnit:null!==e&&null!==t?"DESKTOP ".concat(e,"x").concat(t," ").concat(n):"DESKTOP ".concat(n),count:1,type:s.f.SWITCH_HOUSE_AD}})},"./src/reddit/helpers/trackers/authControls.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var s=n("./src/reddit/constants/tracking.ts"),o=n("./src/reddit/selectors/platform.ts"),r=n("./src/reddit/selectors/telemetry.ts");const a=e=>{const t=Object(o.o)(e);return{actionInfo:Object(r.actionInfo)(e),post:t&&Object(r.post)(e,t)||null,profile:Object(r.profile)(e),screen:Object(r.screen)(e),subreddit:Object(r.subreddit)(e)}},i=e=>t=>Object.assign({source:e,action:s.c.CLICK,noun:"login"},a(t)),c=e=>t=>Object.assign({source:e,action:s.c.CLICK,noun:"signup"},a(t)),d=()=>e=>Object.assign({source:"user_dropdown",action:s.c.CLICK,noun:"login_signup"},a(e))},"./src/reddit/helpers/trackers/customFeeds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u}));var s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>Object.assign(Object.assign({},Object(s.defaults)(t)),{customFeed:Object(s.customFeedByPath)(t,e),source:"custom_feeds"}),r=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"delete"}),a=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"follow"}),i=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"unfollow"}),c=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"duplicate"}),d=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"share"}),l=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"favorite",source:"community_nav"}),u=e=>t=>Object.assign(Object.assign({},o(e,t)),{action:"click",noun:"unfavorite",source:"community_nav"})},"./src/reddit/helpers/trackers/shortcuts.ts":function(e,t,n){"use strict";n.d(t,"s",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"o",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return f})),n.d(t,"q",(function(){return v})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"u",(function(){return C})),n.d(t,"t",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return S})),n.d(t,"c",(function(){return _}));var s=n("./src/reddit/selectors/telemetry.ts");const o=e=>()=>({source:"shortcuts",action:"submit",noun:e}),r=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,post:s.post(n,t)}),a=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,comment:s.comment(n,t)}),i=o("show_panel"),c=o("esc_close"),d=e=>r("enter_open_post",e),l=e=>a("enter_comment_collapse",e),u=e=>r("j_next",e),m=e=>a("j_next",e),p=e=>r("k_previous",e),b=e=>a("k_previous",e),h=e=>r("n_next",e),g=e=>r("p_previous",e),f=e=>r("s_save",e),v=e=>a("s_save",e),O=e=>r("h_hide",e),y=e=>r("x_expando",e),C=e=>r("a_upvote",e),x=e=>a("a_upvote",e),P=e=>r("z_downvote",e),E=e=>a("z_downvote",e),j=o("c_create_post"),S=e=>r("l_go_to_link",e),_=e=>a("r_comment",e);o("q_navigation")},"./src/reddit/helpers/wiki/makeWikiPath.ts":function(e,t,n){"use strict";var s=n("./src/reddit/constants/wiki.ts");t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/wiki";return e.subredditName&&(n="/r/".concat(e.subredditName,t?"/about/wiki":"/wiki"),e.wikiSubRoute&&(n+="/".concat(e.wikiSubRoute))),e.wikiPageName?n+="/".concat(e.wikiPageName.toLowerCase()):e.wikiSubRoute||(n+="/".concat(s.i)),n}},"./src/reddit/icons/fonts/Coin/index.m.less":function(e,t,n){e.exports={CoinIcon:"_12xlue8dQ1odPw1J81FIGQ",coinIcon:"_12xlue8dQ1odPw1J81FIGQ"}},"./src/reddit/icons/fonts/Coin/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/reddit/constants/colors.ts"),a=n("./src/reddit/icons/fonts/helpers.tsx"),i=n("./src/reddit/icons/fonts/Coin/index.m.less"),c=n.n(i);const d=n("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(a.b)("coin")," ").concat(e.className),style:{color:e.fillColor||r.a.gold}}),"CoinIcon",c.a);t.a=d},"./src/reddit/icons/fonts/Expandos/Media/Video/index.m.less":function(e,t,n){e.exports={TextMediaIcon:"_1YuQjV5ZXNDhhSOkCnE9he",textMediaIcon:"_1YuQjV5ZXNDhhSOkCnE9he"}},"./src/reddit/icons/fonts/Expandos/Media/Video/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),r=n("./src/reddit/icons/fonts/helpers.tsx"),a=n("./src/reddit/icons/fonts/Expandos/Media/Video/index.m.less"),i=n.n(a);const c=n("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:"".concat(Object(r.b)("expandoMediaVideo")," ").concat(e.className)}),"TextMediaIcon",i.a);t.a=c},"./src/reddit/icons/svgs/MarkAsRead/index.tsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s);t.a=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20"},o.a.createElement("path",{clipRule:"evenodd",d:"M14.03 9.53l-5 5a.748.748 0 01-1.06 0l-2-2a.75.75 0 111.06-1.061l1.47 1.47 4.47-4.47a.75.75 0 111.06 1.061m4.5-3.378l-8-5a.999.999 0 00-1.06 0l-8 5A.999.999 0 001 7v9c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V7a1 1 0 00-.47-.848",fillRule:"evenodd"}))},"./src/reddit/index.tsx":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js");var s=n("./node_modules/fbt/lib/FbtPublic.js"),o=(n("./src/polyfill.ts"),n("./src/lib/performanceTimings/index.tsx")),r=n("./node_modules/@r/google-tag-manager/compiled.js"),a=n("./src/config.ts"),i=n("./node_modules/history/esm/history.js"),c=n("./node_modules/js-cookie/src/js.cookie.js"),d=n.n(c),l=n("./node_modules/react/index.js"),u=n.n(l),m=n("./node_modules/react-router-redux/es/index.js"),p=n("./node_modules/redux-thunk/es/index.js"),b=n("./node_modules/request-idle-callback/index.js"),h=n("./src/lib/browser/isIncognito.ts"),g=n("./src/lib/constants/index.ts"),f=n("./src/lib/extractQueryParams/index.ts"),v=n("./src/lib/filterQueryParams/index.ts"),O=n("./src/lib/getParsedUserAgent/index.ts"),y=n("./src/lib/initializeClient/index.tsx"),C=n("./src/lib/matchRoute/index.ts"),x=n("./src/lib/performance.js"),P=n("./src/lib/reCaptchaEnterprise/index.ts"),E=n("./src/lib/safeJSONParse/index.ts"),j=n("./src/lib/serviceWorker/index.ts"),S=n("./src/reduxMiddleware/apiContext.ts"),_=n("./src/reduxMiddleware/gqlContext.ts"),w=n("./src/telemetry/index.ts"),k=n("./src/telemetry/models/Timer.ts"),I=n("./src/reddit/actions/apiRequestHeaders.ts"),M=n("./src/reddit/actions/chat/toggle.ts"),N=n("./src/reddit/actions/chat/unreadCount.ts"),T=n("./src/reddit/actions/emailCollection/index.ts"),R=n("./src/reddit/actions/emailVerification.ts"),A=n("./src/reddit/actions/googleOneTap/index.ts"),L=n("./src/reddit/actions/media.ts"),F=n("./src/reddit/actions/multireddit/index.ts"),D=n("./src/reddit/actions/notifications/loader.ts"),G=n("./src/reddit/actions/notifications/state.ts"),U=n("./src/reddit/actions/nps.ts"),B=n("./src/reddit/actions/platform.ts"),H=n("./src/reddit/actions/reCaptchaEnterprise.ts"),q=n("./src/reddit/actions/session.ts"),W=n("./src/reddit/actions/survey/index.ts"),V=n("./src/reddit/actions/theme.ts"),Q=n("./src/reddit/actions/toaster.ts"),z=n("./src/reddit/actions/users.ts"),K=n("./node_modules/react-redux/es/index.js"),J=n("./node_modules/react-router/esm/react-router.js"),Y=n("./node_modules/reselect/es/index.js"),X=(n("./src/reddit/components/Root/redesignFont.less"),n("./assets/fonts/BentonSans/font.less"),n("./assets/fonts/IBMPlexSans/font.less"),n("./assets/fonts/NotoMono/font.less"),n("./assets/fonts/NotoSans/font.less"),n("./assets/fonts/VCR/font.less"),n("./src/reddit/components/Root/index.m.less")),Z=n.n(X),$=n("./src/reddit/components/Root/AdminPanelLoader.tsx"),ee=n("./src/lib/doubleclickForPublishers/index.ts"),te=n("./src/reddit/components/TrackingHelper/index.tsx"),ne=n("./src/reddit/helpers/trackers/ads.ts"),se=n("./src/reddit/selectors/meta.ts");const oe=Object(Y.c)({region:se.m});class re extends u.a.Component{constructor(e){super(e),Object(ee.f)({limitDataProcessing:"CA"===this.props.region,onRequest:()=>this.props.sendEvent(Object(ne.b)()),onAdView:(e,t)=>{Math.random()<=a.a.telemetry.programmaticAdSampleRate&&this.props.sendEvent(Object(ne.c)(e,t))}})}shouldComponentUpdate(){return!1}render(){return null}}var ae=Object(K.b)(oe)(Object(te.c)(re)),ie=n("./src/lib/classNames/index.ts"),ce=n("./src/reddit/components/AppRouter/index.tsx"),de=n("./src/reddit/components/ShortcutWrapper/Loader.ts"),le=n("./src/reddit/constants/shortcuts.ts"),ue=n("./src/reddit/components/ShortcutWrapper/ShortcutContainer.m.less"),me=n.n(ue);var pe=e=>{let{children:t}=e;return u.a.createElement("div",{className:me.a.shortcutDiv,id:le.b,tabIndex:-1},u.a.Children.only(t))},be=n("./src/reddit/contexts/Buttons2020.ts"),he=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),ge=n("./src/reddit/components/Header/Sparse.tsx"),fe=n("./src/reddit/components/ThemeProvider/index.tsx"),ve=n("./src/reddit/contexts/InsideOverlay.tsx"),Oe=n("./src/reddit/controls/Button/index.tsx"),ye=n("./src/reddit/featureFlags/index.ts"),Ce=n("./src/reddit/icons/svgs/DizzySnoo/index.tsx"),xe=n("./src/reddit/pages/InternalServerError/index.m.less"),Pe=n.n(xe);const{fbt:Ee}=n("./node_modules/fbt/lib/FbtPublic.js"),je=Object(Y.c)({showError:ye.d.showVerboseErrors}),Se=Object(K.b)(je)(e=>u.a.createElement(ve.a.Provider,{value:!1},u.a.createElement(fe.b,{subredditName:""},u.a.createElement("div",null,u.a.createElement(ge.a,{logoHref:"#",logoOnClick:()=>window.location.reload(!0)}),u.a.createElement("div",{className:Pe.a.container},u.a.createElement("div",{className:Pe.a.mainContent},u.a.createElement(Ce.a,{className:Pe.a.dizzySnoo}),u.a.createElement("h3",{className:Pe.a.title},Ee._("Sorry, for some reason reddit can't be reached.",null,{hk:"2yRKWG"})),u.a.createElement("div",{className:Pe.a.subTitle},Ee._("Give us a few minutes to fix the problem. Sorry!",null,{hk:"1c7Mg0"})),u.a.createElement(Oe.i,{onClick:()=>window.location.reload(!0)},Ee._("Reload Page",null,{hk:"S79U1"})),e.showError&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Pe.a.subTitle},e.error.message),u.a.createElement("pre",null,u.a.createElement("code",null,e.error.stack)))),u.a.createElement("div",{className:Pe.a.topImageContainer},u.a.createElement("img",{className:Pe.a.image,src:"".concat(a.a.assetPath,"/img/error/star_pattern.png")})),u.a.createElement("div",{className:Pe.a.bottomImageContainer},u.a.createElement("img",{className:Pe.a.image,src:"".concat(a.a.assetPath,"/img/error/half_planet.png")})))))));var _e=n("./src/reddit/selectors/experiments/buttons2020.ts");function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const ke=Object(Y.c)({theme:e=>e.themes.current,isInButtons2020:_e.a}),Ie=Object(K.b)(ke,{})(e=>{let{children:t,isInButtons2020:n,theme:s}=e;const o=Object(he.a)({theme:s});return u.a.createElement(be.a.Provider,{value:n},u.a.createElement("div",{className:Object(ie.a)(Z.a.container,n?"isInButtons2020":"isNotInButtons2020"),style:{"--background":o.body,"--canvas":o.canvas}},t))});function Me(e){if(e.ok){const{RouterComponent:t,routes:n}=e;return u.a.createElement(te.a,null,u.a.createElement(Ie,null,u.a.createElement(ae,null),u.a.createElement($.a,null),u.a.createElement(de.a,null),u.a.createElement(pe,null,u.a.createElement(t,null,u.a.createElement(J.d,{component:Ne(n)})))))}return u.a.createElement(Se,{error:e.error})}const Ne=e=>t=>u.a.createElement(ce.b,we({routes:e},t));var Te=n("./src/reddit/constants/localStorage.ts"),Re=n("./src/reddit/selectors/user.ts"),Ae=n("./node_modules/lodash/throttle.js"),Le=n.n(Ae),Fe=n("./src/reddit/helpers/localStorage/index.ts");const De=1e3;class Ge extends u.a.Component{constructor(){super(...arguments),this.flush=Le()(()=>Object(Fe.db)(this.props.storageKey,this.props.value),De)}componentDidMount(){this.props.syncOnMount&&this.sync()}componentDidUpdate(){this.sync()}sync(){this.props.enabled&&this.flush()}render(){return null}}Ge.defaultProps={enabled:!0,syncOnMount:!0};const Ue=Object(Y.a)(Re.J,e=>({storageKey:Te.s,value:{},enabled:!e}));var Be=Object(K.b)(Ue)(Ge);var He=()=>u.a.createElement(u.a.Fragment,null,u.a.createElement(Be,null)),qe=n("./src/reddit/constants/headers.ts"),We=n("./src/reddit/constants/history.ts"),Ve=n("./src/reddit/constants/jsapiEvents.ts"),Qe=n("./src/reddit/constants/parameters.ts"),ze=n("./src/reddit/constants/screenWidths.ts"),Ke=n("./src/reddit/contexts/AdminEvents.ts"),Je=n("./src/reddit/contexts/ApiContext.tsx"),Ye=n("./src/reddit/contexts/ThrottlingContext/index.tsx"),Xe=n("./node_modules/brcast/dist/brcast.es.js"),Ze=n("./src/telemetry/helpers/sendEvent.ts"),$e=n("./src/reddit/selectors/runTimeEnvVars.ts");var et="undefined"!=typeof document?()=>{let e=!1;const t=Object(Xe.a)([]);return{broadcaster:t,middleware:n=>{const s=n.getState();return(Object($e.b)(s)||Object(Re.G)(s))&&(e=!0,Object(Ze.c)(t)),s=>o=>{const r=s(o),a=n.getState();if(!Object($e.b)(a)){const n=Object(Re.G)(a);e&&!n?(e=!1,Object(Ze.c)(void 0),t.setState([])):n&&!e&&(t.setState([]),Object(Ze.c)(t),e=!0)}return r}}}}:()=>({broadcaster:Object(Xe.a)([]),middleware:()=>e=>t=>e(t)}),tt=n("./node_modules/lodash/debounce.js"),nt=n.n(tt),st=n("./src/lib/domUtils/index.ts");const ot=30*g.fb;let rt=Date.now();const at=()=>{rt=Date.now()},it=!!Object(st.f)()&&{passive:!0};window.addEventListener("click",at,!1),window.addEventListener("wheel",nt()(at,250),it),window.addEventListener("mousemove",nt()(at,250),it),window.addEventListener("keydown",nt()(at,250),it);var ct=e=>{return document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&document.hasFocus&&Date.now()-rt>=ot?(e.dispatch(q.h()),at()):at()})),e=>t=>e(t)},dt=n("./node_modules/lodash/pick.js"),lt=n.n(dt),ut=n("./src/reddit/actions/header.ts"),mt=n("./src/reddit/actions/preferences.ts"),pt=n("./src/reddit/constants/preferences.ts"),bt=n("./src/reddit/helpers/cookies/index.ts");const ht=new Set([mt.f,mt.i,V.b,mt.c,mt.o,ut.d,ut.e,mt.r]);var gt=e=>t=>n=>{const s=t(n);if(ht.has(n.type)){const t=e.getState().user,n=lt()(t.prefs,["hamburgerTray","globalTheme","collapsedTraySections","nightmode","subscriptionsPinned",pt.b,pt.d,pt.e]);Object(bt.a)({prefs:n})}return s},ft=n("./src/lib/fastdom/index.ts"),vt=n("./src/reddit/actions/tabBadging.ts"),Ot=n("./src/reddit/selectors/appBadges.ts"),yt=n("./src/reddit/selectors/chat.ts"),Ct=n("./src/reddit/selectors/experiments/inboxAppBadgingGql.ts"),xt=n("./src/reddit/selectors/experiments/inboxRedesign.ts"),Pt=n("./src/server/helpers/seoMetadata.tsx");var Et="undefined"!=typeof document?e=>t=>n=>{const s=t(n);if(n.type===B.e){const t=e.getState(),s=Object(Re.I)(t),{meta:o}=n.payload;s?((e,t)=>{const n=Object(xt.a)(e),s=Object(Ct.a)(e);let o=0;if(n)o=Object(Ot.h)(e);else if(s)o=Object(Ot.i)(e);else{const t=Object(Re.E)(e)||0;o=Object(yt.a)(e)+t}Object(vt.c)(o,t)})(t,o.title):ft.a.write(()=>{document.title=o.title,Object(Pt.b)(t,document)})}return s}:()=>e=>t=>e(t),jt=n("./src/reddit/helpers/survey/index.ts");var St="undefined"!=typeof document?e=>e=>t=>((e=>!!Object.keys(jt.b).filter(t=>t===e).length)(t.type)&&(Object(Fe.F)(jt.b[t.type]),Object(jt.c)().setState(jt.b[t.type])),e(t)):()=>e=>t=>e(t);const _t=5*g.fb;var wt=e=>{const t=Le()(()=>{const t=e.getState().user.session,n=new Date(t.expires),s=new Date;n.getTime()-s.getTime()>.2*t.expiresIn*1e3||e.dispatch(q.g())},_t);let n,s;const o=()=>{const n=e.getState().user.session;if(!n||!s)return;const o=new Date(n.expires),r=s+Math.floor(.8*(o.getTime()-s));Date.now()>r&&t&&t()},r=e=>{s=Date.now();const o=new Date(e.expires).getTime()-s,r=.8+.1*Math.random(),a=Math.min(Math.floor(r*e.expiresIn*1e3),Math.floor(r*o));n=setTimeout(t,a)},a=e.getState();return a.user.session&&r(a.user.session),window.addEventListener("focus",o),window.addEventListener("touchend",o),document.body.addEventListener("mouseenter",o),e=>t=>(t.type!==q.a&&t.type!==q.b&&t.type!==q.c&&t.type!==q.e||r(t.payload),t.type===q.d&&(clearTimeout(n),n=null),e(t))},kt=n("./src/reddit/singleton/tracing/index.ts");var It=e=>e=>t=>{const n=()=>e(t);return kt.b.isEnabled?kt.b.recordLocalSpan(t.type,n):e(t)},Mt=n("./src/reddit/actions/frontpage.ts"),Nt=n("./src/reddit/actions/page.ts"),Tt=n("./src/reddit/actions/pages/profileComments.ts"),Rt=n("./src/reddit/actions/pages/profileOverview.ts"),At=n("./src/reddit/actions/pages/profilePosts.ts"),Lt=n("./src/reddit/actions/pages/search.ts"),Ft=n("./src/reddit/actions/pages/subreddit.ts"),Dt=n("./src/reddit/actions/search.ts"),Gt=n("./src/reddit/actions/subreddit.ts"),Ut=n("./src/reddit/actions/tracking.ts"),Bt=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),Ht=n("./src/reddit/helpers/history/index.ts"),qt=n("./src/reddit/helpers/trackers/commentList.ts"),Wt=n("./src/reddit/helpers/trackers/postList.ts"),Vt=n("./src/reddit/helpers/trackers/screenview.ts"),Qt=n("./src/reddit/selectors/platform.ts"),zt=n("./src/reddit/selectors/subreddit.ts"),Kt=n("./src/reddit/helpers/routeKey/index.ts");var Jt=e=>t=>n=>{const s=t=>{e.getState().tracking.viewportDataLoaded[t]||e.dispatch(Ut.c({routeKey:t}))};if(n.type===B.a){const s=e.getState(),o=(s.platform.currentPage.urlParams.subredditName||"").toLowerCase(),a=Object(zt.G)(s,o)||"",i=(s.subreddits.about[a]||{}).advertiserCategory;r.trigger("pageview",Object.assign(Object.assign({},lt()(n.payload.location,"pathname","search","hash")),{subreddit:o,advertiserCategory:i}));const c=s.platform.currentPage&&s.platform.currentPage.routeMatch;if(c){const e=Object(Kt.b)(c,s,Object(Bt.a)(s));if(e&&w.c.has(e)){const t=w.c.end(e);!Object(Qt.i)(s)&&Object(Ht.b)(We.a.IsOverlay)||Object(Vt.j)(c,s,k.TimerType.UserCancelled,t)}}const d=n.payload.routeMatch;if(!d)return t(n);const l=Object(Bt.a)(s,d),u=Object(Kt.b)(d,s,l);if(!u)return t(n);w.c.start(u)}const o=t(n);switch(n.type){case Nt.g:case Rt.b:case Rt.e:case At.e:case Tt.e:case Ft.c:{const{key:e,token:t}=n.payload;t||s(e);break}case Lt.c:{const{key:e,tokens:t}=n.payload;t.posts||s(e);break}case Mt.b:case Gt.i:case At.b:{const{key:t,postIds:o}=n.payload;s(t);const r=e.getState();if(o.length)break;if(void 0===r.listings.postOrder.endMarkers[t])break;Wt.j(r,t);break}case Tt.b:{const{key:t,commentIds:o}=n.payload;if(s(t),o.length)break;const r=e.getState();if(void 0===r.profileCommentsPage.endMarkers[t])break;qt.a(r,t);break}case Dt.c:{const{key:e}=n.payload;s(e);break}}return o},Yt=n("./src/reddit/helpers/featureThrottling/store/index.ts"),Xt=n("./src/reddit/helpers/frontpageCardPostCountExperiment.ts"),Zt=n("./src/reddit/selectors/telemetry.ts");const $t=e=>t=>Object.assign(Object.assign({},Zt.defaults(t)),{action:"leave",actionInfo:Zt.actionInfo(t,{reason:e}),noun:"app",source:"global"});let en=null;const tn=()=>{en&&window.clearTimeout(en),en=null};var nn=e=>{en=window.setTimeout(()=>{tn(),Object(w.a)((e=>t=>Object.assign(Object.assign({},Zt.defaults(t)),{action:"view",noun:"heartbeat",source:"global",timer:{type:k.TimerType.GoodVisit,millis:e}}))(3e4)(e()))},3e4),window.addEventListener("beforeunload",tn)},sn=n("./src/reddit/helpers/onBeforeRequestFactory/index.ts"),on=n("./node_modules/@reddit/onetrust-integration/dist/esm/index.js"),rn=n("./src/reddit/constants/experiments.ts"),an=n("./src/reddit/featureFlags/utils.ts"),cn=n("./src/reddit/helpers/chooseVariant/index.ts");const dn=Object(an.a)(()=>"undefined"!=typeof fetch,e=>!!Object(cn.c)(e,{experimentEligibilitySelector:cn.a,experimentName:rn.x}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var ln=n("./node_modules/crypto-js/sha256.js"),un=n.n(ln),mn=n("./node_modules/uuid/v4.js"),pn=n.n(mn),bn=n("./src/lib/addQueryParams/index.ts"),hn=n("./src/lib/constants/euCookiePolicy.ts");const gn=Object(an.e)(an.g,an.h,e=>!!Object(cn.c)(e,{experimentEligibilitySelector:Object(an.d)(Object(an.b)(...hn.b)),experimentName:"show_white_ops"}));var fn=n("./src/reddit/constants/cookie.ts"),vn=n("./src/lib/permanentCookieOptions.ts");const On=e=>{if(!e)return;const t=(d.a.get(fn.h)||"").split(",");if(!t.includes(e)){t.unshift(e);const n=t.slice(0,10).join(","),s=Object(vn.a)();Object(on.b)(fn.h,n,s)}};var yn=n("./src/lib/loadWithRetries/index.ts"),Cn=n("./src/reddit/layout/page/Listing/index.tsx"),xn=n("./src/reddit/models/Toast/index.ts"),Pn=n("./src/reddit/reducers/index.ts"),En=n("./src/reddit/routes/index.ts"),jn=n("./src/reddit/selectors/experiments/index.ts");var Sn=n("./src/reddit/selectors/experiments/googleOneTap.ts"),_n=n("./src/reddit/selectors/experiments/htmlResponseStreaming.ts");const wn={displayDelay:15,displayOnRoutes:[g.Fb.SUBREDDIT,g.Fb.COMMENTS],experimentName:rn.Db,experimentVariant:rn.Hb.On,isSEOOnly:!0,samplingRate:25,seed:Math.random()},kn=e=>{const{base_url:t}=Object(Zt.requestWithParams)(e),n=Object(Qt.b)(e),s=n&&n.urlParams.partialPostId,o=n&&n.urlParams.subredditName;return Object.assign(Object.assign(Object.assign({},t&&{rbl:t}),o&&{s:o}),s&&{p:s})},In=e=>{if((((e,t)=>{let{experimentName:n,experimentVariant:s}=e;return t.experimentOverrides[n]===s})(wn,e)||(e=>{let{samplingRate:t,seed:n}=e;return!!n&&0===Math.floor(n*t)})(wn))&&((e,t)=>{let{displayOnRoutes:n}=e;const s=t.platform.currentPage&&t.platform.currentPage.meta&&t.platform.currentPage.meta.name;return!!s&&n.includes(s)})(wn,e)&&((e,t)=>{let{isSEOOnly:n}=e;return!n||t.meta.isSessionSeo})(wn,e)&&((e,t)=>{let{experimentName:n,experimentVariant:s}=e;return Object(cn.c)(t,{experimentName:n,experimentEligibilitySelector:cn.a})===s})(wn,e))return{displayDelay:wn.displayDelay,externalVars:kn(e)}};var Mn=n("./src/reddit/singleton/EventSystem.ts"),Nn=n("./src/lib/initializeClient/installReducer.ts"),Tn=n("./src/reddit/reducers/features/categories/index.ts"),Rn=n("./src/lib/makeActionCreator/index.ts"),An=n("./src/lib/sentry/index.ts"),Ln=n("./src/reddit/actions/publicAccessNetwork/userSettings.ts"),Fn=n("./src/reddit/actions/global/constants.ts");Object(Nn.a)({features:{categories:Tn.a}});const Dn=Object(Rn.a)(Fn.a);Object(o.e)(o.b.EntryPointStart);const Gn=Object(S.a)({actionDispatchers:{reddaidReceived:z.s,loidReceived:z.q,sessionTrackerReceived:z.x},authHeaders:{[qe.a]:"desktop2x"},cookies:d.a,receivedActions:{reddaidReceived:z.d,loidReceived:z.b,sessionTrackerReceived:z.k,userAuthenticated:q.c,userLoggedOut:q.d,userReauthenticated:q.e,headersReceived:I.a},onBeforeRequestFactory:sn.a,statsAppName:g.l.Redesign}),Un=Object(_.a)(Gn.apiContext),Bn=et();let Hn;Object(y.a)({reducerMap:Pn.a,routes:En.a,apiContext:Gn.apiContext,gqlContext:Un.gqlContext,appFactory:(e,t)=>u.a.createElement(Ke.a.Provider,{value:Bn.broadcaster},u.a.createElement(Je.a.Provider,{value:{apiContext:Gn.apiContext,gqlContext:Un.gqlContext}},u.a.createElement(Ye.b,null,u.a.createElement(Me,{ok:!0,RouterComponent:e,routes:t}),u.a.createElement(He,null)))),appName:g.l.Redesign,history:Object(i.a)({getUserConfirmation(e,t){const n=Hn;if(!n)return;n.dispatch(Object(B.k)({allowNavigationCallback:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t(e),n.dispatch(Object(B.j)())}}))}}),customMiddleware:[p.a.withExtraArgument({routes:En.a,apiContext:Gn.apiContext,gqlContext:Un.gqlContext}),Bn.middleware,ct,Gn.middleware,Un.middleware,wt,gt,It,Jt,Et,St],modifyInitialData:e=>{let{initialData:t,browserHistory:n}=e;const s=t.platform.currentPage?t.platform.currentPage.key:"";if(s){const e=n.location.key;t.platform.currentPage&&(t.platform.currentPage.key=e);for(const n of["referrers","metas"])Object.keys(t.platform[n]).length&&(t.platform[n]={[e]:t.platform[n][s]})}return t},staticPages:{loading:u.a.createElement(Cn.a,{content:null,sidebar:null})},preRender:e=>{let{browserHistory:t,routes:n,store:s}=e;window.addEventListener("message",e=>{const t=a.a.mediaUrl;e.origin.indexOf(t)<0||"tweet-measured"!==e.data.action||!e.data.id36||s.dispatch(Object(L.j)({height:e.data.height||0,isDeleted:e.data.isDeleted||!1,postId:"t3_".concat(e.data.id36)}))}),window.addEventListener("beforeunload",()=>{const e=s.getState();Object(j.b)("sendV2Event",$t("tab_closed")(e))}),function(e){const t=String(e.split("/")[1]).toLowerCase();return"framedgild"===t||"framedmodal"===t}(t.location.pathname)||s.dispatch(Object(B.g)());const o=Object(Re.U)(s.getState());s.dispatch(Object(V.c)({nightmode:o}));const r=(e=>e.tracing.traceId)(s.getState());if(r&&(e=>Object(cn.c)(e,{experimentEligibilitySelector:cn.a,experimentName:rn.u})===rn.A.Enabled)(s.getState())){kt.b.enableTracing(!0);const e=kt.b.createTraceFromId(r);kt.b.setParent(e)}s.dispatch(Object(B.h)(n));t.listen((e,t)=>{const o=Object(C.a)(Object(i.e)(e),n);s.dispatch(Object(B.i)(e,t,o))});const c=s.getState(),{currentPage:d}=c.platform;if(d){const e=[];Object(Qt.j)(c)&&e.push(Qe.e),e.length>0&&s.dispatch(Object(m.c)(Object(v.a)(d.url,e)))}return Yt.a.initialize(),async function(e){if(!gn(e))return;const t=e.user.account?un()(e.user.account.id).toString():void 0,n=document.createElement("script");n.src=Object(bn.a)("https://web.archive.org/web/20201201014008/https://s.udkcrj.com/ag/386183/clear.js",{dt:"3861831591810830724000",pd:"acc",mo:0,et:0,ti:pn()(),ui:t,si:"d2x"}),document.head.appendChild(n)}(s.getState()),async function(e){dn(e)&&Object(on.a)({clientId:Object(an.g)(e)?"14003311-a669-490b-a682-56294eb02bf2-test":"14003311-a669-490b-a682-56294eb02bf2"})}(s.getState()),{localStorageData:Object(Fe.q)()}},postRender:e=>{let{browserHistory:t,routes:i,serverDocumentLength:c,store:d,localStorageData:l}=e;Hn=d;t.listen((e,t)=>{const n=d.getState(),{urlParams:s,queryParams:o}=n.platform.currentPage,r={action:t,location:e,urlParams:s,queryParams:o},a=s.subredditName,i=Object(zt.G)(n,a)||"";On(i),Mn.a.publish(Ve.c,r,document)});const u=d.getState(),m=(u.platform.currentPage.urlParams.subredditName||"").toLowerCase(),p=Object(zt.G)(u,m)||"",y=(u.subreddits.about[p]||{}).advertiserCategory;r.setup({jailUrl:"https://web.archive.org/web/20201201014008/https://www.redditmedia.com/gtm/jail",containerId:a.a.gtmContainerId,payload:{user:u.user.account?u.user.account.id:u.user.loid.loid}}),r.trigger("pageview",{subreddit:m,advertiserCategory:y}),d.dispatch((e=>async(t,n)=>{t(Object(Ln.a)());const s=n();s.user.loid.loid||s.meta.isBot||An.c.withScope(e=>{Object(An.a)(e,{serverLogging:!1}),An.c.captureMessage("User has no LOID set")});const{localStorageData:o}=e;o&&t(Dn(o))})({localStorageData:l})),Object(Sn.f)(u)&&Object(A.d)(u),d.dispatch(Object(A.c)()),window.addEventListener("load",()=>{const e=d.getState(),{currentPage:r}=e.platform,a=(r.urlParams.subredditName||"").toLowerCase(),i=Object(zt.G)(e,a)||"";if(On(i),r&&r.meta){const n=r.meta.name;if(Object(w.b)(g.l.Redesign,{page:n,type:"rum"}),Object(O.c)(e.meta.userAgent)&&window.innerWidth>ze.b){const t=Object(o.f)(c);x.a&&x.a.timing&&kt.b.isEnabled&&(kt.b.recordPerformanceTimings("".concat(n,"_time_to_first_byte"),x.a.timing.fetchStart,x.a.timing.responseStart),kt.b.recordPerformanceTimings("".concat(n,"_time_to_interactive"),x.a.timing.fetchStart,x.a.timing.domInteractive));const s=[];let r=!0;if(Object(Qt.h)(e)){const t=Object(Xt.a)(e);s.push(Object(Xt.c)(t))}const a=Object(_n.a)(e);a&&(s.push(a),r=!1);const i={isLoggedIn:Object(Re.J)(e),name:n,statsdPathsForExperiments:s};Object(o.g)(i,t,r)}const a=x.a.timing.domInteractive-x.a.timing.navigationStart;Object(Vt.j)(r.routeMatch,d.getState(),k.TimerType.Initial,a);const i=Object(f.a)(window.location.href);i&&i.get(Qe.a)&&history.replaceState(history.state,"",Object(v.a)(window.location.href,[Qe.a])),Object(E.a)(i.get(Qe.y))&&d.dispatch(Object(Q.e)({kind:xn.b.SuccessCommunity,text:s.fbt._("Email verification complete",null,{hk:"bqMP6"})})),i.get(Qe.z)&&(d.dispatch(Object(R.a)(i.get(Qe.z))),history.replaceState(history.state,"",Object(v.a)(window.location.href,[Qe.z])));let l=!1;if((Object(Ht.b)(We.a.JustLoggedIn)||i&&i.get(Qe.o)&&Object(E.a)(i.get(Qe.o)))&&(d.dispatch(Object(Q.e)({text:s.fbt._("Successfully logged in!",null,{hk:"2POUVB"})})),l=!0,Object(Ht.c)(We.a.JustLoggedIn),history.replaceState(history.state,"",Object(v.a)(window.location.href,[Qe.o]))),Object(Ht.b)(We.a.JustLoggedOut)&&(l=!0,Object(Ht.c)(We.a.JustLoggedOut)),Object(G.b)(e),!1!==Fe.G()){let n;Object(Sn.a)(e)&&(n=()=>{const{dispatch:e}=d;t.listen(()=>e(Object(A.b)())),e(Object(A.b)())}),Object(D.a)().then(e=>e.requestNotificationsPermissions).then(e=>d.dispatch(e(l,!1,n)))}if(n===g.Fb.MULTIREDDIT&&r.routeMatch){const{multiredditName:e,username:t}=r.routeMatch.match.params;d.dispatch(Object(F.h)({multiredditName:e,username:t}))}d.dispatch(Object(T.c)())}Object(Re.J)(d.getState())&&(Object(Ct.a)(d.getState())||d.dispatch(Object(N.d)()),d.dispatch(Object(M.d)())),Object(b.requestIdleCallback)(async()=>{d.dispatch(Object(U.d)()),await Object(h.a)()&&(e=>Object(w.a)(Object.assign(Object.assign({},Zt.defaults(e)),{source:"global",action:"view",noun:"empty"})))(d.getState());const e=async()=>{const e=d.getState(),t=In(e);t&&(await(async e=>{return(await Object(yn.a)(()=>n.e("UserZoomIntegration").then(n.bind(null,"./src/reddit/helpers/userzoom/index.ts")))).embedFrame(e)})(t),s&&s())},s=t.listen((t,n)=>{"POP"!==n&&e()});e()}),document.addEventListener("visibilitychange",()=>{if("visible"!==document.visibilityState&&(Fe.qb(Date.now()),Object(w.a)($t("tab_backgrounded")(d.getState()))),"visible"===document.visibilityState){const e=Fe.o(),t=Fe.v(),n=Fe.D();if(n&&e&&t){const s=Date.now()-n;Object(w.a)(((e,t)=>(n,s,o)=>Object.assign(Object.assign({},Zt.defaults(n)),{action:"refocus",actionInfo:{reason:Zt.actionInfo(n,{reason:e}).reason,pageType:t},noun:"ad",source:"post",post:Zt.post(n,o),adClick:{landingPageDuration:s}}))("tab_backgrounded",t)(d.getState(),s,e))}(n||e||t)&&(Fe.M(),Fe.P(),Fe.N())}}),Object(se.j)(d.getState())&&nn(d.getState),d.dispatch(Object(W.d)())}),window.history.scrollRestoration="manual",Mn.a.attachStore(d),d.dispatch(Object(H.b)(P.a.PageLoad))},raven:{tags:{project:g.l.Redesign}},ssr:!0,target:document.getElementById("2x-container"),timingsSampleRate:1,perfExperimentNameSelector:e=>Object(jn.d)(e.getState())})},"./src/reddit/models/EmailSettings/index.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),function(e){e.Success="SUCCESS",e.AlreadyVerified="EMAIL_ALREADY_VERIFIED",e.WrongUser="EMAIL_VERIFY_WRONG_USER",e.Error="EMAIL_VERIFY_ERROR"}(s||(s={}))},"./src/reddit/models/Gold/Premium/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d}));var s=n("./node_modules/fbt/lib/FbtPublic.js");const o={PREMIUM_1_MONTH:{priceInCoins:1800,monthsOfPremium:1},PREMIUM_3_MONTHS:{priceInCoins:5400,monthsOfPremium:3},PREMIUM_6_MONTHS:{priceInCoins:10800,monthsOfPremium:6},PREMIUM_12_MONTHS:{priceInCoins:21600,monthsOfPremium:12}},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(const s in o){const r=o[s];(r.priceInCoins<=e||t)&&n.push(r)}return n},a=e=>s.fbt._({"*":"{number of months} months {number of coins} Coins",_1:"1 month {number of coins} Coins"},[s.fbt._plural(e.monthsOfPremium,"number of months"),s.fbt._param("number of coins",e.priceInCoins.toLocaleString())],{hk:"2bar0C"}),i=[{prompt:()=>s.fbt._("What is a Reddit Premium Membership?",null,{hk:"3ibd7e"}),answer:()=>s.fbt._("Reddit Premium is our subscription membership program, and it directly supports Reddit and the communities that it hosts. It offers an entirely ads-free Reddit experience as well as other benefits, including monthly Coins and access to the exclusive r/lounge community.",null,{hk:"22tBeJ"})},{prompt:()=>s.fbt._("Why change the name to Premium? What happened to calling it Gold?",null,{hk:"buZNC"}),answer:()=>s.fbt._("The membership has a new name for a good reason. Many people confused the subscription Reddit Gold membership with a virtual good or coin. To make things easier to understand, we’ve renamed the membership to “Reddit Premium”, while the virtual good is called “Coins”. We have kept your favorite features and added more.",null,{hk:"2CCKCo"})},{prompt:()=>s.fbt._("What if I was subscribed to the old Gold Membership program?",null,{hk:"2Mv367"}),answer:()=>s.fbt._("Fine people everywhere with a Gold Membership are now members of Reddit Premium. It still offers the same great ads-free browsing experience and access to r/lounge, but now you will also receive Coins monthly so you can award exceptional contributions.",null,{hk:"IQrwR"})},{prompt:()=>s.fbt._("The Premium membership gives me Coins, what are those for?",null,{hk:"4FMg0V"}),answer:()=>s.fbt._("Coins are a virtual good, and you can use them to award exceptional posts or comments with a Silver, Gold, or Platinum Award. This is a way to show appreciation for an exceptional contribution to Reddit, and can also grant the recipient special bonus benefits. You can award someone by clicking on “Give Award” below a post or comment.",null,{hk:"46r7Aq"})},{prompt:()=>s.fbt._("Do I have to subscribe to Reddit Premium to get Coins?",null,{hk:"boE6i"}),answer:()=>s.fbt._("Monthly Coins are a great benefit for being a Premium member, but if you wish you can also buy individual quantities of Coins. Additionally, you will receive Coins if you are awarded Gold or Platinum.",null,{hk:"36zEKr"})}],c="com.reddit.premium_1";var d;!function(e){e.Monthly="monthly",e.Yearly="yearly"}(d||(d={}))},"./src/reddit/models/GoodContent/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s={isBlacklistedSubredditsExcluded:!0,isNsfwExcluded:!0,maxRating:"R"}},"./src/reddit/models/Sso/index.ts":function(e,t,n){"use strict";var s;n.d(t,"a",(function(){return s})),function(e){e.Apple="https://web.archive.org/web/20201201014008/https://appleid.apple.com",e.Google="https://web.archive.org/web/20201201014008/https://accounts.google.com"}(s||(s={}))},"./src/reddit/pages/InternalServerError/index.m.less":function(e,t,n){e.exports={dizzySnoo:"UaNg246yNIpwcq_Uhe6vC",container:"EXdERxzjUGqvBK511L1Eq",mainContent:"_3dyrEHC8cc6dIOTUPQmv1S",title:"_1PdcLVyQbMPVKRikIspqb_",subTitle:"_1YhiRkum1oGZUdm5i1mHFJ",image:"_1gTZDLeeF0VPQsS6Iz5boy",bottomImageContainer:"_3sveU8lpcXyGOpDXsXc9xg",imageContainer:"_2wX-WzezrtDmDaxm8BR4zz",topImageContainer:"_3zW_PbmBAhs9ARwV_Yl9BR"}},"./src/reddit/routes/acknowledgements/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a="/acknowledgements",i=Object(s.a)({resolved:{},chunkName:()=>"Acknowledgements",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("Acknowledgements").then(n.bind(null,"./src/reddit/pages/Acknowledgements/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Acknowledgements/index.tsx"}}),c={action:r.n,chunk:o.p.ACKNOWLEDGEMENTS,component:i,exact:!0,meta:{name:o.Fb.ACKNOWLEDGEMENTS},path:a};t.a=c},"./src/reddit/routes/appeal/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a=["/appeal","/appeals"],i=Object(s.a)({resolved:{},chunkName:()=>"Appeal",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("Appeal").then(n.bind(null,"./src/reddit/pages/AppealPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/AppealPage/index.tsx"}}),c={action:r.n,chunk:o.p.APPEAL,component:i,exact:!0,meta:{name:o.Fb.APPEAL},path:a};t.a=c},"./src/reddit/routes/coins/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a="/coins",i=Object(s.a)({resolved:{},chunkName:()=>"Coins",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("Coins").then(n.bind(null,"./src/reddit/pages/CoinsPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/CoinsPage/index.tsx"}}),c={action:r.p,chunk:o.p.COINS,component:i,exact:!0,meta:{name:o.Fb.COINS},path:a};t.a=c},"./src/reddit/routes/coinsMobile/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a="/coins/mobile",i=Object(s.a)({resolved:{},chunkName:()=>"CoinsMobile",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("CoinsMobile").then(n.bind(null,"./src/reddit/pages/CoinsMobilePage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/CoinsMobilePage/index.tsx"}}),c={action:r.o,chunk:o.p.COINS_MOBILE,component:i,exact:!0,meta:{name:o.Fb.COINS_MOBILE},path:a};t.a=c},"./src/reddit/routes/collectionCommentsPage/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),a=n("./src/reddit/featureFlags/profileCollections.ts");const i=Object(s.a)({resolved:{},chunkName:()=>"CollectionCommentsPage",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~RpanListingUnit~Subreddit~SubredditWiki~reddit-component~1ffa6388"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("CollectionCommentsPage")]).then(n.bind(null,"./src/reddit/pages/CollectionCommentsPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/CollectionCommentsPage/index.tsx"}}),c=["/:routePrefix(r)/:subredditName/collection/:collectionId/:partialPostId/:partialCommentId","/:routePrefix(r)/:subredditName/collection/:collectionId/:partialPostId","/:routePrefix(r)/:subredditName/collection/:collectionId"],d=["/:routePrefix(user)/:subredditName/collection/:collectionId/:partialPostId/:partialCommentId","/:routePrefix(user)/:subredditName/collection/:collectionId/:partialPostId","/:routePrefix(user)/:subredditName/collection/:collectionId"],l={action:r.e,chunk:o.p.COLLECTION_COMMENTS_PAGE,component:i,exact:!0,meta:{name:o.Fb.COLLECTION_COMMENTS},prefetches:[o.p.FRONTPAGE,o.p.COMMENTS_PAGE,o.p.SUBREDDIT]},u=Object.assign(Object.assign({},l),{path:c}),m=Object.assign(Object.assign({},l),{path:d,routePredicate:a.a}),p=[u,m];t.a=p},"./src/reddit/routes/commentsPage/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a=Object(s.a)({resolved:{},chunkName:()=>"CommentsPage",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~RpanListingUnit~Subreddit~SubredditWiki~reddit-component~1ffa6388"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("CommentsPage")]).then(n.bind(null,"./src/reddit/pages/CommentsPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/CommentsPage/index.tsx"}}),i=["/:routePrefix(r)/:subredditName/comments/:partialPostId/:urlSafePostTitle/:partialCommentId","/:routePrefix(r)/:subredditName/comments/:partialPostId/:urlSafePostTitle?","/comments/:partialPostId/:urlSafePostTitle/:partialCommentId","/comments/:partialPostId/:urlSafePostTitle?"],c=["/:routePrefix(r)/:subredditName/duplicates/:partialPostId/:urlSafePostTitle?","/:routePrefix(user)/:subredditName/duplicates/:partialPostId/:urlSafePostTitle?","/duplicates/:partialPostId/:urlSafePostTitle?"],d=["/:routePrefix(user)/:subredditName/comments/:partialPostId/:urlSafePostTitle/:partialCommentId","/:routePrefix(user)/:subredditName/comments/:partialPostId/:urlSafePostTitle?"],l=(e,t)=>({action:r.t,chunk:o.p.COMMENTS_PAGE,component:a,exact:!0,meta:{name:e},path:t,prefetches:[o.p.FRONTPAGE,o.p.SUBREDDIT]}),u=[l(o.Fb.COMMENTS,i),l(o.Fb.DUPLICATES,c),l(o.Fb.COMMENTS,d)];t.a=u},"./src/reddit/routes/framedGild/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a="/framedGild/:thingId",i=Object(s.a)({resolved:{},chunkName:()=>"FramedGild",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("FramedGild~GildModal"),n.e("FramedGild")]).then(n.bind(null,"./src/reddit/pages/FramedGildPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/FramedGildPage/index.tsx"}}),c={action:r.u,chunk:o.p.FRAMED_GILD,component:i,exact:!0,meta:{name:o.Fb.FRAMED_GILD},path:a};t.a=c},"./src/reddit/routes/framedModal/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a="/framedModal/:type",i=Object(s.a)({resolved:{},chunkName:()=>"FramedModal",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("FramedModal").then(n.bind(null,"./src/reddit/pages/FramedModalPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/FramedModalPage/index.tsx"}}),c={action:r.v,chunk:o.p.FRAMED_MODAL,component:i,exact:!0,meta:{name:o.Fb.FRAMED_MODAL},path:a};t.a=c},"./src/reddit/routes/frontpage/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/page.ts");const c=Object.keys(a.P).map(e=>a.P[e]).join("|"),d="/",l="/:sort(".concat(c,")?"),u=Object(r.a)({resolved:{},chunkName:()=>"Frontpage",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Frontpage"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("Frontpage~ModListing~Multireddit~ProfilePosts~Subreddit"),n.e("Frontpage~SubredditWiki"),n.e("Frontpage~FrontpageSidebar"),n.e("Frontpage~ModListing"),n.e("Frontpage")]).then(n.bind(null,"./src/reddit/pages/Frontpage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Frontpage/index.tsx"}}),m={action:i.y,chunk:a.p.FRONTPAGE,component:u,exact:!0,prefetches:[a.p.COMMENTS_PAGE,a.p.SUBREDDIT]},p=Object.assign(Object.assign({},m),{path:d,meta:{name:a.Fb.INDEX}}),b=Object.assign(Object.assign({},m),{path:l,meta:{name:a.Fb.LISTING}}),h=[p,b];t.a=h},"./src/reddit/routes/geotagging/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/topic.ts"),a=n("./src/reddit/selectors/topic.ts");const i="/label/subreddits",c=Object(s.a)({resolved:{},chunkName:()=>"Geotagging",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("Geotagging~Topic"),n.e("Geotagging")]).then(n.bind(null,"./src/reddit/pages/Geotagging/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Geotagging/index.tsx"}}),d={action:e=>async(e,t,n)=>{let s,{gqlContext:o}=n;{const e=t();if(Object(a.c)(e,{topicSlug:"coronavirus"}))return}try{s=await Object(r.g)(o(),"coronavirus",{includeIdentity:!0,includePosts:!1,includeRelationships:!1})}catch(c){return void e(Object(r.i)())}if(!s)return;const i=t();e(Object(r.j)(Object.assign(Object.assign({},s),{key:"tagging",meta:i.meta})))},chunk:o.p.GEOTAGGING,component:c,exact:!0,meta:{name:o.Fb.GEOTAGGING},path:i,prefetches:[]};t.a=d},"./src/reddit/routes/inbox/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/page.ts");const c=Object(r.a)({resolved:{},chunkName:()=>"InboxPages",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("InboxPages").then(n.bind(null,"./src/reddit/pages/RedditEmbed/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/RedditEmbed/index.tsx"}}),d=Object.keys(a.L).map(e=>a.L[e]).join("|"),l=["/message/:pageName(".concat(d,")"),"/message/messages/:messageId"],u={action:i.A,chunk:a.p.INBOX_PAGES,component:c,exact:!0,meta:{name:a.Fb.INBOX_PAGES},path:l};t.a=u},"./src/reddit/routes/index.ts":function(e,t,n){"use strict";var s=n("./src/reddit/routes/collectionCommentsPage/index.ts"),o=n("./src/reddit/routes/acknowledgements/index.ts"),r=n("./src/reddit/routes/appeal/index.ts"),a=n("./src/reddit/routes/coins/index.ts"),i=n("./src/reddit/routes/coinsMobile/index.ts"),c=n("./src/reddit/routes/commentsPage/index.ts"),d=(n("./node_modules/@loadable/component/dist/loadable.esm.js"),n("./src/lib/constants/index.ts"));n("./src/reddit/actions/page.ts");var l=[],u=n("./node_modules/react-router-redux/es/index.js"),m=n("./src/reddit/actions/preferences.ts"),p=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),b=n("./src/reddit/helpers/trackers/emailVerification.ts"),h=n("./src/reddit/models/EmailSettings/index.ts"),g=n("./src/reddit/selectors/user.ts"),f=n("./src/telemetry/index.ts"),v=n("./src/reddit/actions/emailVerification.ts");var O={action:e=>async(t,n)=>{await t(m.z());const s=n(),o=e.params.verificationToken,r=e.queryParams&&e.queryParams.source;if(r&&Object(f.a)(Object(b.b)(r)(s)),!Object(g.J)(s))return Object(p.a)(t,s);const a=await t(Object(v.b)(o));a===h.a.Success&&Object(f.a)(Object(b.d)()(s)),t(Object(u.c)("/?verifiedEmail=".concat(a)))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.EMAIL_VERIFICATION},path:"/verification/:verificationToken"},y=n("./src/lib/addQueryParams/index.ts");var C={action:e=>async(t,n,s)=>{let{apiContext:o}=s;const{queryParams:r}=e;await t(Object(u.c)(Object(y.a)("/",r)))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.EXPLORE},path:["/explore","/explore/:categoryName"],prefetches:[d.p.COMMENTS_PAGE,d.p.FRONTPAGE]},x=n("./src/reddit/routes/framedGild/index.ts"),P=n("./src/reddit/routes/framedModal/index.ts"),E=n("./src/reddit/routes/frontpage/index.ts"),j=n("./src/reddit/routes/geotagging/index.ts"),S=n("./src/reddit/routes/inbox/index.ts"),_=n("./src/reddit/routes/meta/index.ts"),w=n("./src/reddit/routes/moderationPages/index.ts"),k=n("./src/reddit/routes/modListing/index.ts"),I=n("./src/reddit/routes/modQueue/index.ts"),M=n("./src/reddit/routes/multireddit/index.ts"),N=n("./src/reddit/routes/notificationsInbox/index.ts"),T=n("./src/reddit/routes/postCreation/constants.ts");const R=["/original","/original/:categoryName/:sort([a-z]+)?"].map(e=>({path:e,action:()=>async e=>{await e(Object(u.c)("/"))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.ORIGINAL_CONTENT_REDIRECT}}));var A=[{path:"/original/submit",action:()=>async e=>{await e(Object(u.c)(T.b))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.ORIGINAL_CONTENT_REDIRECT}},...R],L=n("./src/reddit/routes/postCreation/index.ts"),F=n("./src/reddit/routes/postDraft/index.ts"),D=n("./src/reddit/routes/premium/index.ts"),G=n("./src/reddit/routes/profileComments/index.ts"),U=n("./src/reddit/endpoints/me/index.ts");var B={action:e=>async(t,n,s)=>{let{apiContext:o}=s;const{rest:r}=e.params,{queryParams:a}=e,i=await Object(U.a)(o());if(!(i.ok&&i.body&&i.body.account)){const e=n();return void Object(p.a)(t,e)}const c=i.body.account.displayText,d=r?"/user/".concat(c,"/").concat((e=>e.endsWith("/")?e:"".concat(e,"/"))(r)):"/user/".concat(c,"/"),l=Object(y.a)(d,a);await t(Object(u.c)(l))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.PROFILE_ME},path:["/user/me","/user/me/:rest(.*)"]},H=n("./src/reddit/routes/profileModSettings/index.ts"),q=n("./src/reddit/routes/profileOverview/index.ts"),W=n("./src/reddit/routes/profilePosts/index.ts"),V=n("./src/reddit/routes/profilePrivate/index.ts");var Q={action:e=>async t=>{const{profileName:n,rest:s}=e.params,{queryParams:o}=e,r=s?"/user/".concat(n,"/").concat((e=>e.endsWith("/")?e:"".concat(e,"/"))(s)):"/user/".concat(n,"/"),a=Object(y.a)(r,o);await t(Object(u.c)(a))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.PROFILE_REDIRECT},path:["/r/u_:profileName","/r/u_:profileName/:rest(.*)","/u/:profileName","/u/:profileName/:rest(.*)"]},z=n("./src/reddit/routes/profileSnoobuilder/index.ts");var K={action:e=>async t=>{const{profileName:n,rest:s}=e.params,{queryParams:o}=e,r=s?"/user/".concat(n,"/posts/").concat(s):"/user/".concat(n,"/posts"),a=Object(y.a)(r,o);t(Object(u.c)(a))},chunk:d.p.EMPTY,exact:!0,meta:{name:d.Fb.PROFILE_REDIRECT},path:["/user/:profileName/submitted","/user/:profileName/submitted/:rest(.*)"]},J=n("./src/reddit/routes/publicAccessNetwork/index.ts"),Y=n("./src/reddit/routes/report/index.ts"),X=n("./src/reddit/routes/searchResults/index.ts"),Z=n("./src/reddit/routes/settings/index.ts");var $=[{action:e=>async t=>{const{page:n}=e.params,s=n&&"blocked"===n?"/settings/privacy":"/settings/";await t(Object(u.c)(s))},chunk:d.p.EMPTY,meta:{name:d.Fb.SETTINGS_REDIRECT},path:"/prefs/:page(deactivate|blocked)?"},{action:()=>async e=>{await e(Object(u.c)("/settings/profile"))},chunk:d.p.EMPTY,meta:{name:d.Fb.SETTINGS_REDIRECT},path:["/user/:username/about/edit","/user/:username/about/edit/privacy"]}],ee=n("./src/reddit/routes/subreddit/index.ts"),te=n("./src/reddit/routes/subredditCreation/index.ts"),ne=n("./src/reddit/routes/subredditLeaderboard/index.ts"),se=n("./src/reddit/routes/subredditWiki/index.ts"),oe=n("./src/reddit/routes/topic/index.ts");const re=[o.a,r.a,a.a,i.a,B,Q,K,...s.a,...c.a,O,...E.a,j.a,D.a,x.a,P.a,L.a,F.a,...A,C,..._.a,M.a,I.a,k.c,N.a,S.a,G.a,H.a,q.a,W.a,z.a,V.a,J.a,...Z.a,...$,X.a,...se.a,oe.a,ee.a,te.a,ne.a,w.a,Y.a,...l];t.a=re},"./src/reddit/routes/meta/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/meta/communityPointsLearnMorePage.ts"),a=n("./src/reddit/actions/pages/meta/specialMembershipPaywallPage.ts");const i={action:r.a,chunk:o.p.META_COMMUNITY_POINTS_LEARN_MORE_PAGE,component:Object(s.a)({resolved:{},chunkName:()=>"CommunityPointsLearnMore",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~CommunityPointsLearnMore~Settings~reddit-components-Governance-TransactionModals-ClaimPoints~e74e7afb"),n.e("CommunityPointsLearnMore")]).then(n.bind(null,"./src/reddit/pages/meta/CommunityPointsLearnMorePage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/meta/CommunityPointsLearnMorePage/index.tsx"}}),exact:!0,meta:{name:o.Fb.META_COMMUNITY_POINTS_LEARN_MORE_PAGE},path:["/community-points/","/vault/","/web/community-points/"]},c={action:a.a,chunk:o.p.META_MEMBERSHIP_PAYWALL_PAGE,component:Object(s.a)({resolved:{},chunkName:()=>"MembershipPaywallPage",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~ChatMessageInput~FlairEdit~MembershipPaywallPage~PostCreation~RichTextEditor"),n.e("vendors~MembershipPaywallPage"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("ChatMessageInput~MembershipPaywallPage~RichTextEditor"),n.e("MembershipPaywallPage")]).then(n.bind(null,"./src/reddit/pages/meta/MembershipPaywallPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/meta/MembershipPaywallPage/index.tsx"}}),exact:!0,meta:{name:o.Fb.META_MEMBERSHIP_PAYWALL_PAGE},path:["/web/special-membership/:subredditName","/web/membership/:subredditName"]};t.a=[i,c]},"./src/reddit/routes/modQueue/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts");const i=Object(r.a)({resolved:{},chunkName:()=>"ModQueuePages",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("ModQueuePages~reddit-components-ModHub-Content-ModQueue"),n.e("ChatPost~ModQueuePages"),n.e("ModQueue~ModQueuePages"),n.e("ModQueuePages")]).then(n.bind(null,"./src/reddit/pages/ModQueuePages/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ModQueuePages/index.tsx"}}),c=Object.keys(a.lb).map(e=>a.lb[e]).join("|"),d="/r/mod/about/:pageName(".concat(c,")?"),l={action:e=>async(t,s,o)=>{const r=await Promise.all([n.e("ModQueue~ModQueuePages"),n.e("ModQueue")]).then(n.bind(null,"./src/reddit/actions/pages/modQueue/index.ts")).then(e=>e.modQueuePageRequested);await r(e)(t,s,o)},chunk:a.p.MODQUEUE_PAGES,component:i,exact:!0,meta:{name:a.Fb.MODQUEUE_PAGES},path:d};t.a=l},"./src/reddit/routes/moderationPages/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g}));var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./node_modules/react-router/esm/react-router.js"),i=n("./src/lib/constants/index.ts");const c=Object.keys(i.Ub).map(e=>i.Ub[e]).join("|"),d=[i.Ub.Awards],l=d.join("|"),u=e=>"/".concat(e,"/about/scheduledposts"),m=e=>"/".concat(e,"/about/eventposts"),p=Object(r.a)({resolved:{},chunkName:()=>"ModerationPages",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("ModerationPages")]).then(n.bind(null,"./src/reddit/pages/ModHub/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ModHub/index.tsx"}}),b=["/r/:subredditName/about/:pageName(wiki)/:wikiSubRoute(revisions|wikibanned|wikicontributors)","/r/:subredditName/about/:pageName(wiki)/:wikiSubRoute(edit|create|settings|revisions)/:wikiPageName+","/r/:subredditName/about/:pageName(wiki)/:wikiPageName*"],h=["/r/:subredditName/about","/r/:subredditName/about/:pageName(".concat(c,")"),"/user/:profileName/about/:pageName(".concat(l,")"),...b],g=e=>!!Object(a.h)(e,{path:"/r/:subredditName/about"}),f={action:e=>async(t,s,o)=>{const r=await Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("ModerationPages")]).then(n.bind(null,"./src/reddit/actions/pages/moderationPages/index.ts")).then(e=>e.moderationPageRequested);await r(e)(t,s,o)},chunk:i.p.MODERATION_PAGES,component:p,exact:!0,meta:{name:i.Fb.MODERATION_PAGES},path:h,prefetches:[i.p.SUBREDDIT]};t.a=f},"./src/reddit/routes/multireddit/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/page.ts");const c=Object(r.a)({resolved:{},chunkName:()=>"Multireddit",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~Multireddit"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("Frontpage~ModListing~Multireddit~ProfilePosts~Subreddit"),n.e("Multireddit~reddit-components-AdHocMultiredditSidebar"),n.e("Multireddit")]).then(n.bind(null,"./src/reddit/pages/Multireddit/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Multireddit/index.tsx"}}),d="/me/m/:multiredditName",l=Object.keys(a.P).map(e=>"".concat(d,"/:sort(").concat(a.P[e],")?")),u="/user/:username/m/:multiredditName",m=Object.keys(a.P).map(e=>"".concat(u,"/:sort(").concat(a.P[e],")?")),p=[d,u,...l,...m],b={action:i.C,chunk:a.p.MULTIREDDIT,component:c,exact:!0,meta:{name:a.Fb.MULTIREDDIT},path:p,prefetches:[a.p.SUBREDDIT]};t.a=b},"./src/reddit/routes/notificationsInbox/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/notificationsInbox.ts");const a="/notifications/",i=Object(s.a)({resolved:{},chunkName:()=>"NotificationsInbox",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("NotificationsInbox").then(n.bind(null,"./src/reddit/pages/NotificationsInbox/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/NotificationsInbox/index.tsx"}}),c={action:r.a,chunk:o.p.NOTIFICATIONS_INBOX,component:i,exact:!0,meta:{name:o.Fb.NOTIFICATIONS_INBOX},path:a,prefetches:[o.p.FRONTPAGE]};t.a=c},"./src/reddit/routes/postDraft/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/postDraft.ts");const a="/user/:profileName/draft/:draftId",i=Object(s.a)({resolved:{},chunkName:()=>"PostDraft",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("PostDraft")]).then(n.bind(null,"./src/reddit/pages/PostDraft/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/PostDraft/index.tsx"}}),c={action:r.b,chunk:o.p.POST_DRAFT,component:i,exact:!0,meta:{name:o.Fb.POST_DRAFT},path:a,prefetches:[o.p.POST_DRAFT]};t.a=c},"./src/reddit/routes/premium/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a="/premium",i=Object(s.a)({resolved:{},chunkName:()=>"Premium",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("Premium").then(n.bind(null,"./src/reddit/pages/Premium/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Premium/index.tsx"}}),c={action:r.D,chunk:o.p.PREMIUM,component:i,exact:!0,meta:{name:o.Fb.PREMIUM},path:a};t.a=c},"./src/reddit/routes/profileComments/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/profileComments.ts");const a="/user/:profileName/comments",i=Object(s.a)({resolved:{},chunkName:()=>"ProfileComments",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("ProfileComments")]).then(n.bind(null,"./src/reddit/pages/ProfileComments/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ProfileComments/index.tsx"}}),c={action:r.h,chunk:o.p.PROFILE_COMMENTS,component:i,exact:!0,meta:{name:o.Fb.PROFILE_COMMENTS},path:a,prefetches:[o.p.COMMENTS_PAGE]};t.a=c},"./src/reddit/routes/profileModSettings/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/profileModSettings.ts");const a="/user/:profileName/about/edit/moderation",i=Object(s.a)({resolved:{},chunkName:()=>"ProfileModeration",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("CrowdControlModal~ProfileModeration~Settings~SubredditCreation"),n.e("ProfileModeration")]).then(n.bind(null,"./src/reddit/pages/ProfileModSettings/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ProfileModSettings/index.tsx"}}),c={action:r.b,chunk:o.p.PROFILE_MODERATION,component:i,exact:!0,meta:{name:o.Fb.PROFILE_MODERATION},path:a};t.a=c},"./src/reddit/routes/profileOverview/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/profileOverview.ts");const a="/user/:profileName",i=Object(s.a)({resolved:{},chunkName:()=>"ProfileOverview",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("ProfileOverview")]).then(n.bind(null,"./src/reddit/pages/ProfileOverview/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ProfileOverview/index.tsx"}}),c={action:r.g,chunk:o.p.PROFILE_OVERVIEW,component:i,exact:!0,meta:{name:o.Fb.PROFILE_OVERVIEW},path:a,prefetches:[o.p.COMMENTS_PAGE]};t.a=c},"./src/reddit/routes/profilePosts/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/profilePosts.ts");const a="/user/:profileName/posts",i=Object(s.a)({resolved:{},chunkName:()=>"ProfilePosts",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~ProfilePosts"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("Frontpage~ModListing~Multireddit~ProfilePosts~Subreddit"),n.e("ProfilePosts~ProfileSnoobuilder"),n.e("ProfilePosts")]).then(n.bind(null,"./src/reddit/pages/ProfilePosts/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ProfilePosts/index.tsx"}}),c={action:r.h,chunk:o.p.PROFILE_POSTS,component:i,exact:!0,meta:{name:o.Fb.PROFILE_POSTS},path:a,prefetches:[o.p.COMMENTS_PAGE]};t.a=c},"./src/reddit/routes/profilePrivate/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts"),i=n("./src/reddit/models/Profile/index.ts");const c=Object(r.a)({resolved:{},chunkName:()=>"ProfilePrivate",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("ProfilePrivate")]).then(n.bind(null,"./src/reddit/pages/ProfilePrivate/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ProfilePrivate/index.tsx"}}),d=Object.keys(i.a).map(e=>i.a[e]).join("|"),l=["/user/:profileName/:listingType(".concat(d,")"),"/user/:profileName/gilded/:listingType(".concat(i.a.GivenGildings,")")],u={action:e=>async(t,s,o)=>{const r=await Promise.all([n.e("vendors~CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~ProfileComments~ProfileOve~c31aad94"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("ProfilePrivate")]).then(n.bind(null,"./src/reddit/actions/pages/profilePrivate/index.ts")).then(e=>e.profilePrivateRequested);await r(e)(t,s,o)},chunk:a.p.PROFILE_PRIVATE,component:c,exact:!0,meta:{name:a.Fb.PROFILE_PRIVATE},path:l,prefetches:[a.p.COMMENTS_PAGE]};t.a=u},"./src/reddit/routes/profileSnoobuilder/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/featureFlags/index.ts");const a=Object(s.a)({resolved:{},chunkName:()=>"ProfileSnoobuilder",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ProfilePosts~ProfileSnoobuilder"),n.e("ProfileSnoobuilder")]).then(n.bind(null,"./src/reddit/pages/ProfileSnoobuilder/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ProfileSnoobuilder/index.tsx"}}),i="/user/:profileName/snoo",c={path:i,action:e=>async(t,s,o)=>{const r=await Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ProfilePosts~ProfileSnoobuilder"),n.e("ProfileSnoobuilder")]).then(n.bind(null,"./src/reddit/actions/pages/profileSnoobuilder.ts")).then(e=>e.profileSnoobuilderRequested);await r(e)(t,s,o)},chunk:o.p.PROFILE_SNOOBUILDER,component:a,exact:!0,meta:{name:o.Fb.PROFILE_SNOOBUILDER},routePredicate:r.d.snoovatar30};t.a=c},"./src/reddit/routes/publicAccessNetwork/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/page.ts");const a=Object(s.a)({resolved:{},chunkName:()=>"PublicAccessNetwork",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~LiveVideoPlayer~PublicAccessNetwork~RpanListingUnit"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("LiveVideoPlayer~PublicAccessNetwork~RpanListingUnit"),n.e("LiveVideoPlayer~PublicAccessNetwork"),n.e("PublicAccessNetwork")]).then(n.bind(null,"./src/reddit/pages/PublicAccessNetwork/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/PublicAccessNetwork/index.tsx"}}),i={action:r.E,chunk:o.p.PUBLIC_ACCESS_NETWORK,component:a,exact:!0,meta:{name:o.Fb.PUBLIC_ACCESS_NETWORK},path:["/rpan/r/:subredditName/:partialPostId?","/rpan/:partialPostId?"],prefetches:[o.p.PUBLIC_ACCESS_NETWORK]};t.a=i},"./src/reddit/routes/report/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts");const r="/report",a=Object(s.a)({resolved:{},chunkName:()=>"ReportPage",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("ReportFlow~ReportPage"),n.e("ReportPage")]).then(n.bind(null,"./src/reddit/pages/ReportPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/ReportPage/index.tsx"}}),i={action:e=>async(t,s,o)=>{const r=await n.e("Report").then(n.bind(null,"./src/reddit/actions/pages/report/index.ts")).then(e=>e.reportPageRequested);await r(e)(t,s,o)},chunk:o.p.REPORT_PAGE,component:a,exact:!0,meta:{name:o.Fb.REPORT},path:r};t.a=i},"./src/reddit/routes/searchResults/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/search.ts");const a=["/search","/r/:subredditName/search","/me/m/:multiredditName/search","/user/:username/m/:multiredditName/search"],i=Object(s.a)({resolved:{},chunkName:()=>"SearchResults",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~SearchResults"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~Prof~d6dc9580"),n.e("CollectionCommentsPage~CommentsPage~GovernanceReleaseNotesModal~InFeedChaining~ModerationPages~Profi~dfd687ea"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("ModerationPages~PostDraft~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit~SearchResul~972c7c49"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("SearchResults")]).then(n.bind(null,"./src/reddit/pages/SearchResults/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/SearchResults/index.tsx"}}),c={action:r.e,chunk:o.p.SEARCH_RESULTS,component:i,exact:!0,meta:{name:o.Fb.SEARCH_RESULTS},path:a,prefetches:[o.p.FRONTPAGE,o.p.SUBREDDIT,o.p.COMMENTS_PAGE]};t.a=c},"./src/reddit/routes/settings/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/page.ts"),c=n("./src/reddit/actions/pages/settings.ts");const d=Object.keys(a.Sb).map(e=>a.Sb[e]).join("|"),l=[{action:c.a,component:Object(r.a)({resolved:{},chunkName:()=>"Settings",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~CryptoHarbergerTaxManageModal~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~~f8934a85"),n.e("vendors~CommunityPointsLearnMore~Settings~reddit-components-Governance-TransactionModals-ClaimPoints~e74e7afb"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki~reddit-components-ProfileIdCard"),n.e("CrowdControlModal~ProfileModeration~Settings~SubredditCreation"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki"),n.e("Settings")]).then(n.bind(null,"./src/reddit/pages/Settings/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Settings/index.tsx"}}),chunk:a.p.SETTINGS,exact:!0,meta:{name:a.Fb.SETTINGS},path:"/settings/:page(".concat(d,")?")},{action:i.H,component:Object(r.a)({resolved:{},chunkName:()=>"UserDataRequestPage",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("UserDataRequestPage").then(n.bind(null,"./src/reddit/pages/UserDataRequestPage/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/UserDataRequestPage/index.tsx"}}),chunk:a.p.USER_DATA_REQUEST,exact:!0,meta:{name:a.Fb.USER_DATA_REQUEST},path:"/settings/data-request"}];t.a=l},"./src/reddit/routes/subreddit/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/core-js/modules/web.dom.iterable.js"),o=n.n(s),r=n("./node_modules/@loadable/component/dist/loadable.esm.js"),a=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/pages/subreddit.ts");const c=Object(r.a)({resolved:{},chunkName:()=>"Subreddit",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~RpanListingUnit~Subreddit~SubredditWiki~reddit-component~1ffa6388"),n.e("vendors~Subreddit~SubredditWiki"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("Frontpage~ModListing~Multireddit~ProfilePosts~Subreddit"),n.e("Subreddit")]).then(n.bind(null,"./src/reddit/pages/Subreddit/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Subreddit/index.tsx"}}),d=Object.keys(a.P).map(e=>"/r/:subredditName/:sort(".concat(a.P[e],")?")),l=["/r/:subredditName",...d],u={action:i.l,chunk:a.p.SUBREDDIT,component:c,exact:!0,meta:{name:a.Fb.SUBREDDIT},path:l,prefetches:[a.p.COMMENTS_PAGE,a.p.FRONTPAGE]};t.a=u},"./src/reddit/routes/subredditCreation/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/subredditCreation.ts");const a="/subreddits/create",i=Object(s.a)({resolved:{},chunkName:()=>"SubredditCreation",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("CrowdControlModal~ProfileModeration~Settings~SubredditCreation"),n.e("SubredditCreation~SubredditInlineEditing"),n.e("SubredditCreation")]).then(n.bind(null,"./src/reddit/pages/SubredditCreation/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/SubredditCreation/index.tsx"}}),c={action:r.a,component:i,chunk:o.p.SUBREDDIT_CREATION,exact:!0,meta:{name:o.Fb.SUBREDDIT_CREATION},path:a};t.a=c},"./src/reddit/routes/subredditLeaderboard/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/subredditLeaderboard.ts");const a=["/subreddits/leaderboard","/subreddits/leaderboard/:categoryName/"],i=Object(s.a)({resolved:{},chunkName:()=>"SubredditLeaderboard",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("SubredditLeaderboard").then(n.bind(null,"./src/reddit/pages/SubredditLeaderboard/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/SubredditLeaderboard/index.tsx"}}),c={action:r.b,chunk:o.p.SUBREDDIT_LEADERBOARD,component:i,exact:!0,meta:{name:o.Fb.SUBREDDIT_LEADERBOARD},path:a,prefetches:[o.p.FRONTPAGE]};t.a=c},"./src/reddit/routes/subredditWiki/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./node_modules/react-router-redux/es/index.js"),r=n("./src/lib/constants/index.ts"),a=n("./src/reddit/routes/subredditWiki/normalizeWikiUrl.ts");const i=Object(s.a)({resolved:{},chunkName:()=>"SubredditWiki",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~RpanListingUnit~Subreddit~SubredditWiki~reddit-component~1ffa6388"),n.e("vendors~Subreddit~SubredditWiki"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki~reddit-components-ProfileIdCard"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki"),n.e("SubredditWiki~reddit-components-Wiki-ModHubWikiManagement"),n.e("Frontpage~SubredditWiki"),n.e("SubredditWiki")]).then(n.bind(null,"./src/reddit/pages/SubredditWiki/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/SubredditWiki/index.tsx"}}),c=["/r/:subredditName/wiki/:wikiSubRoute(revisions)","/r/:subredditName/wiki/:wikiSubRoute(edit|create|revisions)/:wikiPageName+","/r/:subredditName/wiki/:wikiPageName+","/wiki/:wikiPageName+"],d=["/wiki/","/r/:subredditName/wiki/","/r/:subredditName/w/:wikiPageName*","/w/:wikiPageName*","/r/:subredditName/wiki/:wikiSubRoute(settings)/:wikiPageName+"],l=e=>async t=>{await t(Object(o.c)(Object(a.a)(e.url,e.params)))},u={action:l,chunk:r.p.EMPTY,exact:!0,meta:{name:r.Fb.SUBREDDIT_WIKI},path:d},m={action:e=>async(t,s,o)=>{const r=await Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~MembershipPaywallPage~ModerationPa~e7ce6754"),n.e("vendors~CollectionCommentsPage~CommentsPage~RpanListingUnit~Subreddit~SubredditWiki~reddit-component~1ffa6388"),n.e("vendors~Subreddit~SubredditWiki"),n.e("CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceReleaseNotesModal~InFeedChaining~~a66c4d66"),n.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~FramedGild~GildModal~GovernanceRelease~05e09478"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki~reddit-components-ProfileIdCard"),n.e("AuthorHovercard~EconTopAwardersModal~Settings~SubredditWiki"),n.e("SubredditWiki~reddit-components-Wiki-ModHubWikiManagement"),n.e("Frontpage~SubredditWiki"),n.e("SubredditWiki")]).then(n.bind(null,"./src/reddit/actions/pages/subredditWiki/index.ts")).then(e=>e.subredditWikiPageRequested);await r(e)(t,s,o)},chunk:r.p.SUBREDDIT_WIKI,component:i,exact:!0,meta:{name:r.Fb.SUBREDDIT_WIKI},path:c,prefetches:[r.p.SUBREDDIT]};t.a=[u,m]},"./src/reddit/routes/subredditWiki/normalizeWikiUrl.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");var s=n("./node_modules/node-libs-browser/node_modules/url/url.js"),o=n.n(s),r=n("./src/reddit/constants/wiki.ts"),a=n("./src/reddit/helpers/wiki/makeWikiPath.ts"),i=n("./src/reddit/routes/moderationPages/index.ts");t.a=(e,t)=>{const n=t.wikiSubRoute===r.m.Settings,s=Object(a.a)(t,Object(i.c)(e)||n),c=o.a.parse(e);return(c.pathname||"").replace(/\/$/,"")!==s?(c.pathname=s,o.a.format(c)):e}},"./src/reddit/routes/topic/index.ts":function(e,t,n){"use strict";var s=n("./node_modules/@loadable/component/dist/loadable.esm.js"),o=n("./src/lib/constants/index.ts"),r=n("./src/reddit/actions/pages/topic.ts");const a=Object(s.a)({resolved:{},chunkName:()=>"Topic",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e("CollectionCommentsPage~CommentsPage~Frontpage~MembershipPaywallPage~ModListing~ModQueuePages~Moderat~83e43315"),n.e("CollectionCommentsPage~CommentsPage~Frontpage~ModListing~ModQueuePages~Multireddit~ProfileOverview~P~edc6d07c"),n.e("Frontpage~ModListing~Multireddit~ProfileComments~ProfilePosts~ProfilePrivate~SearchResults~Subreddit~Topic"),n.e("Geotagging~Topic"),n.e("Topic")]).then(n.bind(null,"./src/reddit/pages/Topic/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"./src/reddit/pages/Topic/index.tsx"}}),i=["/t/:topicSlug"],c={path:i,action:r.k,chunk:o.p.TOPIC,component:a,exact:!0,meta:{name:o.Fb.TOPIC},prefetches:[o.p.COMMENTS_PAGE,o.p.FRONTPAGE]};t.a=c},"./src/reddit/selectors/accountManager.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return f}));var s=n("./src/config.ts"),o=n("./node_modules/reselect/es/index.js"),r=n("./src/lib/addQueryParams/index.ts"),a=n("./src/reddit/constants/accountManager.ts"),i=n("./src/reddit/constants/experiments.ts"),c=n("./src/reddit/selectors/experiments/buttons2020.ts"),d=n("./src/reddit/selectors/experiments/frontpageSignup.ts"),l=n("./src/reddit/selectors/experiments/googleOneTap.ts"),u=n("./src/reddit/helpers/chooseVariant/index.ts"),m=n("./src/reddit/selectors/user.ts");const p=Object(o.a)(m.I,m.J,(e,t)=>!e&&!t);var b=n("./src/reddit/selectors/responsiveSettings.ts");const h=e=>e.accountManagerModalData.actionSource,g=e=>e.accountManagerModalData.redirectUrl,f=Object(o.a)((e,t)=>t.path,(e,t)=>t.uiMode,h,d.a,b.a,l.b,e=>Object(u.c)(e,{experimentEligibilitySelector:p,experimentName:i.Jc}),c.a,(e,t,n,o,c,d,l,u)=>{let m="".concat(s.a.accountManagerOrigin).concat(e);return u&&(m=Object(r.a)(m,{["experiment_".concat(i.o)]:"enabled"})),l&&(m=Object(r.a)(m,{["experiment_".concat(i.Jc)]:l})),e===a.c.GoogleOneTap?Object(r.a)(m,{[i.N]:d}):(o&&(m=Object(r.a)(m,{[i.W]:o,uiMode:t})),c&&(m=Object(r.a)(m,{mweb_responsive_settings:"treatment"})),e===a.c.Index||e===a.c.ChangePassword?m:m=Object(r.a)(m,{actionSource:n}))})},"./src/reddit/selectors/experiments/buttons2020.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts");const r=e=>s.r.Enabled===Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:s.o})},"./src/reddit/selectors/experiments/econAnnualPremium.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts");const r=e=>{const t=Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:s.gb});return!!t&&!Object(s.gd)(t)}},"./src/reddit/selectors/experiments/trending.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),r=n("./src/reddit/selectors/user.ts");const a=e=>Object(r.G)(e)||!(s.Vc.Holdout===Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:s.Sc}))},"./src/reddit/selectors/experiments/uiSimplification.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/featureFlags/utils.ts"),r=n("./src/reddit/helpers/chooseVariant/index.ts");const a=["AU","CA","GB","US"],i=new Set([s.Ib.AllItems,s.Ib.TrendingSearch]),c=e=>{const t=Object(r.c)(e,{experimentEligibilitySelector:Object(o.d)(Object(o.b)(...a)),experimentName:s.Jb});return i.has(t)},d=e=>s.Ib.AllItems===Object(r.c)(e,{experimentEligibilitySelector:Object(o.d)(Object(o.b)(...a)),experimentName:s.Jb})},"./src/reddit/selectors/gov.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"s",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return v})),n.d(t,"o",(function(){return O})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return C})),n.d(t,"t",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"f",(function(){return E})),n.d(t,"r",(function(){return j})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return _}));var s=n("./src/reddit/contexts/PageLayer/index.tsx"),o=n("./src/reddit/endpoints/governance/crypto.ts");const r=[],a={},i={filled:"img/communityPoints/default_filled.png",grey:"img/communityPoints/default_grey.png"},c=(e,t)=>{let{subredditId:n}=t;const s=x(e,{subredditId:n});return s&&s.extra&&s.extra.contracts&&s.extra.contracts.harberger?s.extra.contracts.harberger:{address:void 0,decimals:void 0,image:void 0,taxRate:.01,token:void 0}},d=(e,t)=>{const n=y(e,t);if(n)return n.mainHeader},l=(e,t)=>{const n=y(e,t);return n&&n.mainHeader?n.mainHeader.price:"0"},u=(e,t)=>{const n=y(e,t);return n&&n.mainHeader?{owner:n.mainHeader.owner,ownerId:n.mainHeader.ownerId}:a},m=(e,t)=>t&&t.subredditId?(e.user.wallets[t.subredditId]||{}).latest:void 0,p=(e,t)=>{const n=m(e,t),s=n&&n.publicAddress;if(!s)throw new Error("No wallet address found");return s},b=(e,t)=>{const n=m(e,t);return n&&n.amount||"0"},h=(e,t)=>{return(e.users.publicWallets[t.userId]||{})[t.subredditId]},g=(e,t)=>{const n=Object(s.m)(e,t);return n&&e.subreddits.gov.releaseNotes[n]||r},f=(e,t)=>t&&t.subredditId&&(e.subreddits.gov.meta[t.subredditId]||{}).name||"Subreddit Points",v=(e,t)=>t&&t.subredditId&&(e.subreddits.gov.meta[t.subredditId]||{}).images||i,O=(e,t)=>{const n=j(e,t);return n&&n.decimals?"1"+"0".repeat(n.decimals):"1"},y=(e,t)=>t.subredditId?e.subreddits.gov.assets[t.subredditId]:void 0,C=(e,t)=>t&&t.subredditId?e.subreddits.gov.meta[t.subredditId]:void 0,x=(e,t)=>{const n=C(e,t);return n&&n.walletProvider},P=(e,t)=>{const n=x(e,t),s=C(e,t);return n&&n.provider||s&&s.provider},E=(e,t)=>{const n=P(e,t);return n===o.a.Ethereum||n===o.a.Rinkeby||n===o.a.EthTraderEthereum||n===o.a.EthTraderRinkeby},j=(e,t)=>{const n=x(e,t),s=P(e,t);if(n&&!n.inTransition&&s===o.a.Stellar)return{address:n.extra&&n.extra.issuerAddress||"",decimals:n.extra&&n.extra.decimals||7,symbol:n.extra&&n.extra.token||"PHOTON"};const r=n&&n.extra&&n.extra.contracts,a=r&&r.unlocked;return a&&{address:a.address,symbol:a.token||"",decimals:a.decimals||18,image:a.image}},S=(e,t)=>{let{subredditId:n}=t;const s=x(e,{subredditId:n});return s&&s.extra&&s.extra.contracts&&s.extra.contracts.subscriptions?s.extra.contracts.subscriptions:{address:void 0}},_=(e,t)=>{const n=C(e,t);return!!n&&!!n.walletProvider&&!n.walletProvider.inTransition}},"./src/reddit/selectors/notificationPrefs.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i}));const s=e=>e.user.notificationPrefs.api.getPreferences.loaded,o=e=>e.user.notificationPrefs.api.getPreferences.pending,r=e=>e.user.notificationPrefs.api.setPreferences.pending,a=e=>e.user.notificationPrefs.preferences,i=e=>e.user.notificationPrefs.isNotificationPromptVisible},"./src/reddit/selectors/products.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./src/reddit/models/Product/index.ts");const o=(e,t)=>{const n=e.products.models[t];if(n&&n.type===s.a.Badge)return n},r=(e,t)=>{let{productId:n}=t;const s=e.products.models[n];if(s){const t=s.subredditId,o=Object.keys(e.user.ownedBadges[t]||{}),r=e.badges.models,a=Date.now();let i=!1;return o.forEach(e=>{const t=r[e];t&&t.type===n&&t.endsAt>a&&(i=!0)}),i}return!1}},"./src/reddit/selectors/removalReasons.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const s=(e,t)=>{let{subredditId:n}=t;if(e.removalReasons.reasonOrder[n]){return e.removalReasons.reasonOrder[n].map(t=>e.removalReasons.models[t])}return[]},o=e=>e.removalReasons.removedItemIds&&e.removalReasons.removedItemIds.itemIds.length?e.removalReasons.removedItemIds:null,r=e=>e.removalReasons.api.pending},"./src/reddit/selectors/sso.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m}));var s=n("./node_modules/reselect/es/index.js"),o=n("./src/reddit/components/Settings/modalIds.ts"),r=n("./src/reddit/models/Sso/index.ts"),a=n("./src/reddit/selectors/activeModalId.ts"),i=n("./src/reddit/selectors/user.ts");const c=Object(s.a)(i.ob,e=>!(!e||!e.length)),d=Object(s.a)(c,i.y,(e,t)=>e&&!t),l=Object(s.a)(i.ob,e=>e&&e.find(e=>e===r.a.Apple)),u=Object(s.a)(i.ob,e=>e&&e.find(e=>e===r.a.Google)),m=Object(s.a)(a.a,e=>!!e&&[o.b,o.d,o.e,o.f].includes(e))},"./src/reddit/selectors/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return c}));var s=n("./src/reddit/constants/subredditLeaderboard.ts"),o=n("./src/reddit/selectors/category.ts");const r=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasPreviousPage,a=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasNextPage,i=(e,t)=>t===s.m?s.l:t===s.j?s.i:e||s.b,c=(e,t)=>{const n=e.subreddits.rankings,s=t&&Object(o.f)(e,{categoryName:t}),r=n[i(s&&s.id||null,t)];return!(!r||!r.length)}},"./src/reddit/selectors/trending.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s=e=>e.trending.models}},[["./src/reddit/index.tsx","runtime~Reddit","vendors~PostCreation~Reddit~StandalonePostPage~reddit-components-ClassicPost~reddit-components-Compa~16c34322","vendors~Governance~Reddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-compone~c822ce19","vendors~InFeedChaining~PostCreation~Reddit~StandalonePostPage~SubredditPremiumBadgeHovercardTooltip","vendors~Chat~Governance~Reddit","vendors~Governance~Reddit","AuthorHovercard~Governance~InFeedChaining~Reddit~SubredditHovercard~reddit-components-ClassicPost~re~2f1a95cc","Governance~Reddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-components-Larg~9453fc9d","Chat~Governance~Reddit","Governance~ModListing~Reddit","Governance~InFeedChaining~Reddit","Governance~Reddit~removalReasonActions",0,"Governance~Reddit~reddit-components-MediumPost","Governance~Reddit","ModListing~Reddit","Reddit~reddit-components-MediumPost"]]]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/Reddit.3a3e2e2ca168b84b04bc.js.map

}
/*
     FILE ARCHIVED ON 01:40:08 Dec 01, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:50:58 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.085
  exclusion.robots.policy: 0.074
  cdx.remote: 0.15
  esindex: 0.014
  LoadShardBlock: 118.922 (6)
  PetaboxLoader3.datanode: 179.143 (8)
  load_resource: 251.254 (2)
  PetaboxLoader3.resolve: 146.951 (2)
*/