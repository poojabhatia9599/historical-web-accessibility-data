var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListing~ModQueu~900871b8"],{"./src/lib/intersectionObserver/index.ts":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));i("./node_modules/core-js/modules/web.dom.iterable.js");let s;const o=new Map,a=new Map;"undefined"!=typeof window&&(i("./node_modules/intersection-observer/intersection-observer.js"),s=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target,i=e.intersectionRatio>0;if(i!==!!a.get(t)){a.set(t,i);const s=o.get(t);if(s){s(e,i&&!!a.get(t))}}})},{threshold:[.001]}));const n=(e,t)=>{try{o.set(e,t),s&&s.observe(e)}catch(i){0}},r=e=>{try{o.delete(e),s&&s.unobserve(e)}catch(t){0}}},"./src/lib/onFocusAndVisibilityChange/index.ts":function(e,t,i){"use strict";var s,o=i("./node_modules/brcast/dist/brcast.es.js"),a=i("./node_modules/lodash/findKey.js"),n=i.n(a);!function(e){e.Hidden="hidden",e.Visible="visible"}(s||(s={}));const r={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};let d=!1;const l=Object(o.a)({documentInFocus:!0});!function(){if(!d){const e=n()(r,(e,t)=>void 0!==document[t]);e&&document.addEventListener(r[e],()=>{l.setState({documentInFocus:document.visibilityState!==s.Hidden})}),d=!0}}(),t.a={subscribe:e=>{return l.subscribe(e)},unsubscribe:e=>{l.unsubscribe(e)}}},"./src/reddit/components/Media/RichTextContainer/index.m.less":function(e,t,i){e.exports={richTextContainer:"Chtkt3BCZQruf0LtmFg2c",richTextContainerTitleOnly:"_2XNPI46MXRfDdsSoDqaksI",richTextContainerFull:"_3xX726aBn29LDbsDtzr_6E",placeholder:"_1aLU7RPNLdvfcbaNdcN11x",placeholderParagraph:"Owi9iYzjyVpDq_0YbCdJY",cleanupVariant:"_3lWzS77ngxpYib6BG4v9TE"}},"./src/reddit/components/Media/index.m.less":function(e,t,i){e.exports={hiddenLink:"_3dhFVFchWAAFXfLFTa94n9",displayNone:"_1Q2mF3u7v9hBVu_4bkC7R4",tweetPlaceholder:"_2IH8Z3uOFGn-TNLufw92zH",tweetEmbedBox:"_3G3xLNIwS59eiRVMICfR7x",isInvisible:"_1kw4-YNb840sdETnjL3_D3",tweetDeleted:"_2PLbyT4mrdGJGH5LY9Eotl"}},"./src/reddit/components/Media/index.tsx":function(e,t,i){"use strict";i("./node_modules/core-js/modules/web.dom.iterable.js");var s=i("./node_modules/lodash/debounce.js"),o=i.n(s),a=i("./node_modules/react/index.js"),n=i.n(a),r=i("./src/lib/classNames/index.ts"),d=i("./src/lib/CSSVariableProvider/withTheme.tsx"),l=i("./src/lib/env/index.ts"),c=i("./src/lib/intersectionObserver/index.ts"),p=i("./src/lib/isUrl/index.ts"),h=i("./src/lib/onFocusAndVisibilityChange/index.ts"),u=i("./src/lib/permalinkToOverlayLocation/index.ts"),m=i("./src/lib/raven/index.ts"),b=i("./src/reddit/components/HTML5StreamPlayer/index.tsx"),g=i("./src/reddit/components/Media/EmbedBox/index.tsx"),f=i("./src/reddit/components/Media/ImageBox/index.tsx"),x=i("./src/reddit/components/Media/MediaContainer/index.tsx"),w=(i("./node_modules/core-js/modules/es6.symbol.js"),i("./src/reddit/constants/componentSizes.ts")),v=i("./src/reddit/models/Media/index.ts"),C=i("./node_modules/react-redux/es/index.js"),E=i("./src/reddit/actions/post.ts"),y=i("./src/reddit/helpers/styles/mixins/loading.ts"),O=i("./src/reddit/components/Media/RichTextContainer/index.m.less"),S=i.n(O);class N extends n.a.Component{componentDidMount(){this.loadRichTextContentIfNeeded()}loadRichTextContentIfNeeded(){this.props.canLoadContent&&this.props.isExpando&&this.props.onLoadRichTextContentIfNeeded(this.props.postId)}render(){const e=Object(y.a)({isLoading:!0});return n.a.createElement("div",{className:S.a.placeholder},[1,2,3].map(t=>n.a.createElement("div",{key:t,className:S.a.placeholderParagraph},n.a.createElement("div",{className:e}),n.a.createElement("div",{className:e}),n.a.createElement("div",{className:e}))))}}var I=Object(C.b)(null,e=>({onLoadRichTextContentIfNeeded:t=>e(Object(E.s)(t))}))(N);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}var M=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};var L=e=>{var{canLoadContent:t,children:i,className:s,isCleanupVariant:o,isCommentsPage:a,isMediumHeight:d,isRichTextTruncated:l,isExpando:c,isTitleOnly:p,postId:h,showFull:u}=e,m=M(e,["canLoadContent","children","className","isCleanupVariant","isCommentsPage","isMediumHeight","isRichTextTruncated","isExpando","isTitleOnly","postId","showFull"]);const b={[S.a.richTextContainerFull]:u,[S.a.richTextContainerTitleOnly]:p&&!u,[S.a.richTextContainer]:!u&&!p,[S.a.cleanupVariant]:o},g={};u||(g.maxHeight="".concat(p?v.l:d?v.k:v.j,"px")),a&&(g.maxWidth="".concat(w.e,"px"));const f=l&&u;return n.a.createElement("div",j({className:Object(r.a)(b,s),style:g},m),i,f&&n.a.createElement(I,{canLoadContent:!!t,isExpando:c,postId:h}))},T=i("./src/reddit/components/Media/VideoBox/index.tsx"),P=i("./src/reddit/components/PlayButton/index.tsx"),W=i("./src/reddit/helpers/styles/postBackgroundColor.ts"),F=i("./src/reddit/helpers/styles/smartTextColor.ts"),V=i("./src/reddit/components/RawHTMLDisplay/index.tsx");function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}var B=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};var D=Object(d.a)(e=>{var{flairStyleTemplate:t}=e,i=B(e,["flairStyleTemplate"]);return n.a.createElement(V.a,R({style:{color:Object(F.a)(Object(W.a)(Object.assign({flairStyleTemplate:t},i)))}},i))}),H=i("./src/reddit/components/RichTextJson/index.tsx"),k=i("./src/reddit/constants/screenWidths.ts"),_=i("./src/reddit/helpers/canPreviewSelfText/index.ts"),A=i("./src/reddit/helpers/getRichTextContent.ts"),G=i("./src/reddit/helpers/postHasSelfText/index.ts"),U=(i("./node_modules/core-js/modules/es6.regexp.replace.js"),i("./src/lib/redditId/index.ts"));function J(e,t,i){return e.replace('href="https://web.archive.org/web/20191001041103/https://www.reddit.com/poll/'.concat(Object(U.c)(t)),'class="'.concat(i,'" href="https://web.archive.org/web/20191001041103/https://www.reddit.com/poll/').concat(Object(U.c)(t)))}function z(e,t){const i=function e(t,i){let s=!1;let o=[];try{for(const a of t)if("link"===a.e&&a.u&&a.u.includes("https://web.archive.org/web/20191001041103/https://www.reddit.com/poll/".concat(i)))s=!0;else if(a.c&&"string"!=typeof a.c){const t=e(a.c,i);t.found?(s=!0,("par"!==a.e||t.updated.length)&&o.push(Object.assign({},a,{c:t.updated}))):o.push(a)}else o.push(a)}catch(a){s=!1,o=[]}return{found:s,updated:s?o:t}}(e.document,Object(U.c)(t));return i.found?{document:i.updated}:e}var Y=i("./src/reddit/i18n/utils.ts"),X=i("./src/reddit/selectors/experiments/postCleanup.ts");const q=(e,t,i,s)=>{const o=e/t,a=i/s;return Math.abs(o-a)<.03},Q=(e,t)=>{for(let i=0;i<t.length;i++){const s=t[i];if(s.width>=e)return s}},Z=(e,t,i)=>{for(let s=0;s<i.length;s++){const o=i[s];if(o.width>=v.e/2&&q(e,t,o.height,o.width))return o}},K=e=>{for(let t=0;t<e.length;t++){const i=e[t];if(i.height>=v.e||i.width>=v.f)return i}};var $=i("./src/reddit/components/Media/index.m.less"),ee=i.n($);function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}const ie=1200,se=350,oe=100,ae=300,ne="https://web.archive.org/web/20191001041103/https://www.redditmedia.com",re=75,de="player.js",le=w.s+w.r,ce=e=>e.isVisible?e.children:n.a.createElement("div",{className:ee.a.displayNone},e.children),pe=new Set([v.n.EMBED,v.n.GIFVIDEO,v.n.VIDEO]),he=e=>!!e.media&&pe.has(e.media.type),ue=new Set([v.n.EMBED,v.n.GIFVIDEO,v.n.IMAGE,v.n.VIDEO]),me=e=>{let{post:t,postCleanupVariant:i,goldPostRefactorVariant:s}=e;return!!t.media&&ue.has(t.media.type)||!!i&&Object(X.a)(t)||!!s&&Object(X.a)(t)};class be extends n.a.Component{constructor(e){super(e),this.pauseContent=()=>{this.shouldFocusContentDebouncer(!1)},this.stopContent=()=>{const{media:e}=this.props.post;if(e&&v.d.has(e.type)){if(this.iframe){const t=e.type===v.n.EMBED?e.provider:null;this.pauseEmbed(this.iframe,t)}this.setState(e=>e.shouldStop?null:{shouldStop:!0})}},this.handleVisibilityChange=e=>{const{shouldPause:t}=this.state,{autoplayPref:i}=this.props;this.iframe&&(t||!i&&e.documentInFocus||this.toggleEmbedAutoplay(this.iframe,!e.documentInFocus)),this.setState({forcePause:!e.documentInFocus})},this.focusContent=()=>{this.shouldFocusContentDebouncer(!0)},this.loadContent=()=>{this.setState(e=>e.canLoadContent?null:{canLoadContent:!0})},this.unmountContent=()=>{},this.contentIsHeavyToMount=()=>{const{media:e}=this.props.post;return!!e&&v.d.has(e.type)},this.shouldFocusContentDebouncer=o()(e=>{const{media:t}=this.props.post,{autoplayPref:i}=this.props;if(t&&v.d.has(t.type)){if(this.iframe){const s=t.type===v.n.EMBED?t.provider:null;s&&!v.q.has(s)?!i&&e||this.toggleEmbedAutoplay(this.iframe,!e):e||this.pauseEmbed(this.iframe,s)}e?this.setState(e=>e.shouldPause||!e.canLoadContent?{canLoadContent:!0,shouldPause:!1,shouldStop:!1}:null):this.setState(e=>e.shouldPause?null:{shouldPause:!0})}},250,{leading:!0}),this.toggleEmbedAutoplay=(e,t)=>{if(e.contentWindow){const i=t?v.g.Pause:v.g.Play;e.contentWindow.postMessage({context:de,method:i},ne),e.contentWindow.postMessage({context:de,method:v.g.Mute},ne)}},this.pauseEmbed=(e,t)=>{e.contentWindow&&(t===v.t.YouTube?e.contentWindow.postMessage(JSON.stringify({event:"command",func:v.x.Pause}),ne):e.contentWindow.postMessage({context:de,method:v.g.Pause},ne))},this.onIframeLoaded=()=>{const{media:e}=this.props.post,{autoplayPref:t}=this.props,i=e&&e.type===v.n.EMBED?e.provider:null;if(this.iframe&&i&&!v.q.has(i)){const{shouldPause:e}=this.state;(t||e)&&this.toggleEmbedAutoplay(this.iframe,e)}},this.onImageBoxClick=e=>{this.props.isListing||!this.shouldBlur()||this.state.isRevealed||(this.setState({isRevealed:!0}),e.preventDefault(),e.stopPropagation())},this.storeChildRef=e=>{this.iframe=e,this.iframe&&this.props.post.media&&"embed"===this.props.post.media.type&&this.props.post.media.provider===v.t.Twitter&&c.a(this.iframe,(e,t)=>{this.iframe&&this.iframe.contentWindow&&this.props.post.media&&"embed"===this.props.post.media.type&&!this.props.post.media.height&&t&&this.iframe.contentWindow.postMessage("twitter-measure-requested",ne)})},this.updateDimensions=()=>{this.setState({viewportHeight:window.innerHeight,viewportWidth:window.innerWidth})},this.isSpoiler=()=>this.props.post.isSpoiler||!(!this.props.crosspost||!this.props.crosspost.isSpoiler),this.isNSFW=()=>this.props.post.isNSFW||!(!this.props.crosspost||!this.props.crosspost.isNSFW),this.state={canLoadContent:e.shouldLoad||!1,forcePause:!1,isRevealed:!1,shouldPause:void 0===e.shouldPause||e.shouldPause,shouldStop:void 0===e.shouldStop||e.shouldStop,viewportHeight:v.e,viewportWidth:v.f}}componentWillMount(){"undefined"!=typeof window&&(this.updateDimensions(),window.addEventListener("resize",this.updateDimensions))}componentDidMount(){he(this.props.post)&&(this.visibilityChangeSubscriptionId=h.a.subscribe(e=>{this.handleVisibilityChange(e)})),this.props.scrollerItemRef&&me(this.props)&&this.props.scrollerItemRef(this,this.state.canLoadContent)}componentWillUnmount(){this.visibilityChangeSubscriptionId&&h.a.unsubscribe(this.visibilityChangeSubscriptionId),this.props.scrollerItemRef&&me(this.props)&&this.props.scrollerItemRef(void 0),window.removeEventListener("resize",this.updateDimensions),this.iframe&&this.props.post.media&&"embed"===this.props.post.media.type&&this.props.post.media.provider===v.t.Twitter&&c.b(this.iframe)}componentWillReceiveProps(e){!this.state.canLoadContent&&e.shouldLoad&&this.setState({canLoadContent:!0}),void 0!==e.shouldPause&&e.shouldPause!==this.props.shouldPause&&this.shouldFocusContentDebouncer(!e.shouldPause)}getVideoExpandoMaxDimensions(){let e,t=Math.max(v.i,this.state.viewportHeight),i=Math.min(ie,16*t/9);i===ie&&(t=9*ie/16),e=this.state.viewportWidth>=k.c?this.state.viewportWidth<w.m?this.state.viewportWidth-le-2*re:this.state.viewportWidth-le-w.f-2*re:this.state.viewportWidth-2*re;const s=this.state.viewportHeight-2*re;if(i>e){t*=e/i,i=e}else if(t>s){const e=s/t;t=s,i*=e}return{maxVideoHeight:t,maxVideoWidth:i}}getVideoMaxDimensions(e,t){let i=v.i,s=v.m;return e.isExpando?this.getVideoExpandoMaxDimensions():(e.isPromotedTrend&&(i=v.r,s=v.s),{maxVideoHeight:i,maxVideoWidth:s})}getMediaInfo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;const{availableWidth:i,goldPostRefactorVariant:s,post:o}=e,a=o.media&&o.media.obfuscated||"";let n=o.media&&!Object(v.E)(o.media)?o.media.content:"",[r,d]=!o.media||Object(v.C)(o.media)||Object(v.D)(o.media)?[0,0]:[o.media.height,o.media.width];if(i&&o.media&&(o.media.type===v.n.IMAGE||o.media.type===v.n.GIFVIDEO)){const e=Q(i,o.media.resolutions);e&&(n=e.url,d=e.width,r=e.height)}else if(i&&o.preview&&(e.postCleanupVariant||s)&&Object(X.a)(o))n=o.preview.url,d=o.preview.width,r=o.preview.height;else if(o&&o.media&&(!e.isListing||e.isExpando)&&(o.media.type===v.n.IMAGE||o.media.type===v.n.GIFVIDEO)){let e;(e=Object(f.b)(o.media.height,o.media.width)&&Object(f.c)(o.media.height)?Z(o.media.height,o.media.width,o.media.resolutions):K(o.media.resolutions))&&(n=e.url,d=e.width,r=e.height)}if(e.isExpando)if(d>t.viewportWidth){r*=t.viewportWidth/d,d=t.viewportWidth}else if(r>t.viewportHeight){const e=t.viewportHeight/r;r=t.viewportHeight,d*=e}const{maxVideoHeight:l,maxVideoWidth:c}=this.getVideoMaxDimensions(e,t);if(o.media&&o.media.type===v.n.VIDEO){const t=r/d;e.isExpando?(r=l,d=c):t>v.c?(r=l,d=Math.min(Math.max(l/t,v.p),c)):(r=Math.min(Math.max(c*t,v.o),l),d=c)}o.media&&o.media.type===v.n.EMBED&&e.isExpando&&o.media.provider!==v.t.Twitter&&(r=l,d=c);let p=!1;if(e.isMiniCard){const e=r/d;p=Math.abs(e-v.c)>.01}return{source:n,obfuscated:a,width:d,height:r,needsBackgroundBlur:p}}shouldBlur(){const{isExpando:e,isOverlay:t,theme:i}=this.props,s=this.isNSFW(),o=this.isSpoiler();return!(e||this.state.isRevealed||t)&&(s&&!i.subredditContext.shouldShowNSFWContent||o)}render(){const{className:e,crosspost:t,flairStyleTemplate:i,forceAspectRatio:s,goldPostRefactorVariant:o,isCommentsPage:a,isExpando:d,isListing:c,isNotCardView:h,isMediumHeight:w,isTitleOnly:C,post:E,postCleanupVariant:O,showCentered:S,showFull:N=!1}=this.props,{canLoadContent:I,forcePause:j,shouldPause:M,shouldStop:W,viewportWidth:F}=this.state,V=(!!O||!!o)&&Object(X.a)(E);if(!E.media&&!V)return null;const R=j||M,B=W,{source:k,obfuscated:U,height:q,width:Q,needsBackgroundBlur:Z}=this.getMediaInfo(this.props,this.state),K={showCentered:S,isListing:c,showFull:N,height:q,width:Q},$=Object.assign({},K,{className:e,forceAspectRatio:s,viewportWidth:F}),ie=this.shouldBlur(),ne=!(!E.isSponsored||!E.source);if(U&&ie)return n.a.createElement(x.a,te({},$,{blurSrc:U}),n.a.createElement(ce,{isVisible:I},n.a.createElement(f.a,te({},K,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isListing:c,isNSFW:this.isNSFW(),isSpoiler:this.isSpoiler(),isVideoThumbnail:!!E.media&&E.media.type===v.n.VIDEO,onClick:this.onImageBoxClick,postId:E.id,shouldBlur:ie,source:U,outboundUrl:ne&&E.source.outboundUrl||void 0,originalSource:k}))));if(V){const e=this.state.viewportHeight-2*re,i=this.state.viewportWidth-2*re,s=E.preview&&Object(p.a)(E.preview.url)?E.preview.url:k;return n.a.createElement(x.a,te({},$,{blurSrc:Z?s:void 0,isExpando:!!d}),n.a.createElement(ce,{isVisible:I},n.a.createElement(f.a,te({},K,{isCrosspost:!!t,isExpando:d,isListing:c,isNSFW:this.isNSFW(),isSpoiler:this.isSpoiler(),maxHeight:d?e:void 0,maxWidth:d?i:void 0,postId:E.id,shouldBlur:ie,source:s,outboundUrl:ne&&E.source.outboundUrl||void 0,originalSource:s}))))}if(!E.media)return null;switch(E.media.type){case v.n.RTJSON:const s=Object(A.a)(E,null);if(null===s)return;return N||Object(_.a)(E)?n.a.createElement(L,{canLoadContent:I,className:e,"data-click-id":"text",isCleanupVariant:!!o,isCommentsPage:a,isExpando:d,isMediumHeight:w,isRichTextTruncated:E.media.isRichtextPreview,isTitleOnly:C,postId:E.id,showFull:N},n.a.createElement(H.a,{flairStyleTemplate:i,content:E.isMeta?z(s,E.id):s,mediaMetadata:E.media.mediaMetadata,renderingObjectInfo:E,renderMediaAsLinks:c})):null;case v.n.TEXT:if(Object(G.a)(E)){const t="Text post should not include body content";return Object(m.c)(t,{extra:{info:{post:E,isListing:c,isCommentsPage:a}}}),Object(l.a)()&&console.log("".concat(E.id,": ").concat(t)),n.a.createElement(L,{postId:E.id,className:e,"data-click-id":"text",isCleanupVariant:!!o,isCommentsPage:a,showFull:N},n.a.createElement(D,{flairStyleTemplate:i,html:E.isMeta?J(E.media.content,E.id,ee.a.hiddenLink):E.media.content}))}return null;case v.n.EMBED:if(this.props.isMiniCard&&E.preview&&E.preview.url)return n.a.createElement(x.a,te({},$,{alwaysWrapMedia:!0}),n.a.createElement(ce,{isVisible:I},n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,te({},K,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:d,isListing:c,isNSFW:this.isNSFW(),isCrosspost:!!t,isSpoiler:this.isSpoiler(),postId:E.id,shouldBlur:ie,source:E.preview.url,originalSource:E.preview.url})),n.a.createElement(P.a,null))));if(v.h.has(E.media.provider)){if(E.media.provider===v.t.Twitter){const e=q||(E.media.isDeleted?oe:ae);return n.a.createElement(x.a,te({},$,{alwaysWrapMedia:!0,height:e,showFull:!0,width:se}),I&&n.a.createElement(n.a.Fragment,null,!q&&(E.media.isDeleted?n.a.createElement("p",{className:ee.a.tweetDeleted},Object(Y.c)("This Tweet has been deleted.")):n.a.createElement("div",{className:Object(r.a)(Object(y.a)({isLoading:!0}),ee.a.tweetPlaceholder)})),n.a.createElement(g.a,{childRef:this.storeChildRef,className:Object(r.a)(ee.a.tweetEmbedBox,{[ee.a.isInvisible]:!q}),height:e,isListing:c,isResponsive:!0,onLoad:this.onIframeLoaded,showCentered:S,showFull:!0,source:k,title:E.title,width:se})))}return n.a.createElement(x.a,te({},$,{alwaysWrapMedia:!0,height:d?q:v.i,width:d?Q:v.i*(16/9)}),I&&n.a.createElement(g.a,{childRef:this.storeChildRef,height:d?q:v.i,width:d?Q:void 0,isListing:c,isResponsive:!0,onLoad:this.onIframeLoaded,showCentered:S,showFull:N,source:k,title:E.title}))}return n.a.createElement(x.a,te({},$,{alwaysWrapMedia:!0}),I&&n.a.createElement(g.a,te({},K,{isResponsive:d||E.media.provider===v.t.IFrameEmbed,title:E.title,childRef:this.storeChildRef,onLoad:this.onIframeLoaded,source:k,fullWidth:E.media.provider===v.t.IFrameEmbed})));case v.n.GIFVIDEO:{let e=q,t=Q;return e>v.i&&(t=Q/q*(e=v.i)),n.a.createElement(x.a,te({},$,{blurSrc:Z?E.media.gifBackgroundImage:void 0}),n.a.createElement(ce,{isVisible:I},n.a.createElement(T.a,te({},K,{isNotCardView:h,height:d?void 0:e,width:d?void 0:t,postId:E.id,shouldLoad:!0,shouldPause:R,source:k,originalSource:E.media.content}))))}case v.n.VIDEO:{const e=E.media.posterUrl||E.preview&&E.preview.url;return this.props.isMiniCard&&e?n.a.createElement(x.a,te({},$,{alwaysWrapMedia:!0}),n.a.createElement(ce,{isVisible:I},n.a.createElement(n.a.Fragment,null,n.a.createElement(f.a,te({},K,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:d,isListing:c,isNSFW:this.isNSFW(),isCrosspost:!!t,isSpoiler:this.isSpoiler(),postId:E.id,shouldBlur:ie,source:e,originalSource:e})),n.a.createElement(P.a,null)))):n.a.createElement(x.a,te({},$,{alwaysWrapMedia:!0,isVideo:!0}),I&&n.a.createElement(b.b,{autoPlay:"boolean"==typeof M?!M:void 0,isExpando:d,postUrl:Object(u.a)(E.permalink),shouldLoad:!0,shouldPause:R,shouldStop:B,hlsSource:E.media.hlsUrl,mpegDashSource:E.media.dashUrl,isGif:E.media.isGif,scrubberThumbSource:E.media.scrubberThumbSource,postId:E.id,callToActionSource:E.source||void 0,callToActionText:E.callToAction,isListing:c,posterUrl:E.media.posterUrl}))}case v.n.IMAGE:const O=this.state.viewportHeight-2*re,j=this.state.viewportWidth-2*re;let W=k;return this.props.isMiniCard&&!this.props.isMiniCardHQPreviews&&(E.thumbnail&&Object(p.a)(E.thumbnail.url)?W=E.thumbnail.url:E.preview&&Object(p.a)(E.preview.url)&&(W=E.preview.url)),n.a.createElement(x.a,te({},$,{blurSrc:Z?W:void 0,isExpando:!!d}),n.a.createElement(ce,{isVisible:I},n.a.createElement(f.a,te({},K,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:d,isListing:c,isNSFW:this.isNSFW(),isCrosspost:!!t,isSpoiler:this.isSpoiler(),maxHeight:d?O:void 0,maxWidth:d?j:void 0,postId:E.id,shouldBlur:ie,source:W,outboundUrl:ne&&E.source.outboundUrl||void 0,originalSource:E.media.content}))));default:return null}}}t.a=Object(d.a)(be)},"./src/reddit/helpers/canPreviewSelfText/index.ts":function(e,t,i){"use strict";var s=i("./src/reddit/helpers/postHasSelfText/index.ts");t.a=e=>Object(s.a)(e)&&!e.isSpoiler&&!e.isNSFW},"./src/reddit/helpers/postHasSelfText/index.ts":function(e,t,i){"use strict";var s=i("./src/reddit/models/Media/index.ts"),o=i("./src/reddit/models/RichTextJson/index.ts");t.a=e=>{const t=e&&e.media;return!!t&&(t.type===s.n.TEXT&&!!t.content||t.type===s.n.RTJSON&&!Object(o.E)(t.richtextContent))}},"./src/reddit/selectors/experiments/postCleanup.ts":function(e,t,i){"use strict";i.d(t,"e",(function(){return h})),i.d(t,"d",(function(){return u})),i.d(t,"c",(function(){return m})),i.d(t,"b",(function(){return b})),i.d(t,"a",(function(){return g}));var s=i("./node_modules/reselect/es/index.js"),o=i("./src/lib/isUrl/index.ts"),a=i("./src/reddit/constants/experiments.ts"),n=i("./src/reddit/contexts/PageLayer/index.tsx"),r=i("./src/reddit/helpers/chooseVariant/index.ts"),d=i("./src/reddit/selectors/experiments/utils.ts"),l=i("./src/reddit/selectors/platform.ts"),c=i("./src/reddit/selectors/user.ts");const p=Object(s.a)(c.J,(e,t)=>{let{pageLayer:i}=t;return Object(n.B)(i)},n.r,l.i,(e,t)=>{let{pageLayer:i}=t;return Object(n.y)(i)},(e,t,i,s,o)=>!e&&(t||!!i||s&&o)),h=Object(s.a)((e,t)=>Object(r.b)(e,{experimentEligibilitySelector:e=>p(e,t),experimentName:a.A}),d.a),u=e=>e===a.ob.NewOutlineCommentLink2||e===a.ob.NewOutlineCommentLink3,m=e=>e===a.ob.NewOutlineCommentLink3||e===a.ob.NewOutlineCommentLink4||e===a.ob.NewOutlineCommentLink5,b=e=>e===a.ob.NewOutlineCommentLink4||e===a.ob.NewOutlineCommentLink5,g=e=>!(e.media||!e.source||!e.preview||!Object(o.a)(e.preview.url))}}]);
//# sourceMappingURL=CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListing~ModQueu~900871b8.d68cdc906c999e5451ba.js.map

}
/*
     FILE ARCHIVED ON 04:11:03 Oct 01, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:50:11 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.072
  exclusion.robots.policy: 0.061
  cdx.remote: 0.098
  esindex: 0.01
  LoadShardBlock: 119.198 (6)
  PetaboxLoader3.datanode: 125.686 (7)
  load_resource: 15.131
*/