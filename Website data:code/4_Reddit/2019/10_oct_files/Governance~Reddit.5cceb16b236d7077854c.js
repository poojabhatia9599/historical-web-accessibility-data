var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["Governance~Reddit"],{"./assets/fonts/NotoMono/font.less":function(e,t,n){},"./src/graphql/operations/AllUserMultireddits.json":function(e){e.exports=JSON.parse('{"id":"1a35c0b09a85"}')},"./src/graphql/operations/CommentToxicity.json":function(e){e.exports=JSON.parse('{"id":"445164f0825f"}')},"./src/graphql/operations/CommunityAwardsBlacklistStatus.json":function(e){e.exports=JSON.parse('{"id":"7af03aa4c24e"}')},"./src/graphql/operations/CreateCommunityAward.json":function(e){e.exports=JSON.parse('{"id":"38852e4f82b0"}')},"./src/graphql/operations/CreateGlobalAward.json":function(e){e.exports=JSON.parse('{"id":"d2c18361d105"}')},"./src/graphql/operations/CreateLayer.json":function(e){e.exports=JSON.parse('{"id":"eb0c351cea1c"}')},"./src/graphql/operations/CreateModAward.json":function(e){e.exports=JSON.parse('{"id":"a04c85b4e964"}')},"./src/graphql/operations/DeleteAward.json":function(e){e.exports=JSON.parse('{"id":"4d31f6356d57"}')},"./src/graphql/operations/DisableAward.json":function(e){e.exports=JSON.parse('{"id":"5e453976052b"}')},"./src/graphql/operations/ExperimentVariants.json":function(e){e.exports=JSON.parse('{"id":"295308431436"}')},"./src/graphql/operations/FocusVerticalSubredditRecommendations.json":function(e){e.exports=JSON.parse('{"id":"109ac89b9cf4"}')},"./src/graphql/operations/Frontpage.json":function(e){e.exports=JSON.parse('{"id":"fdc053f23102"}')},"./src/graphql/operations/ManageableAwards.json":function(e){e.exports=JSON.parse('{"id":"0fff71d35fd1"}')},"./src/graphql/operations/ModeratedSubreddits.json":function(e){e.exports=JSON.parse('{"id":"c1ada1ec294f"}')},"./src/graphql/operations/MultiredditListing.json":function(e){e.exports=JSON.parse('{"id":"be5c05b48c30"}')},"./src/graphql/operations/OtherDiscussions.json":function(e){e.exports=JSON.parse('{"id":"c2940191d076"}')},"./src/graphql/operations/RedditorMultireddits.json":function(e){e.exports=JSON.parse('{"id":"3d04e2bb92b5"}')},"./src/graphql/operations/RichTextPostContent.json":function(e){e.exports=JSON.parse('{"id":"fc24b7b690ad"}')},"./src/graphql/operations/SinglePost.json":function(e){e.exports=JSON.parse('{"id":"dc8cfad816c9"}')},"./src/graphql/operations/SubredditAbout.json":function(e){e.exports=JSON.parse('{"id":"eb6478e3243e"}')},"./src/graphql/operations/SubredditDifficulty.json":function(e){e.exports=JSON.parse('{"id":"e7a974f2d8de"}')},"./src/graphql/operations/SubredditPostFlairStyleTemplates.json":function(e){e.exports=JSON.parse('{"id":"9a87d9b91dc4"}')},"./src/graphql/operations/SubredditPosts.json":function(e){e.exports=JSON.parse('{"id":"0a6767b551c3"}')},"./src/graphql/operations/SubredditRecommendations.json":function(e){e.exports=JSON.parse('{"id":"9fed35c2168d"}')},"./src/graphql/operations/SubredditRules.json":function(e){e.exports=JSON.parse('{"id":"0df127946e72"}')},"./src/graphql/operations/SubredditStyles.json":function(e){e.exports=JSON.parse('{"id":"eaf3d40ded47"}')},"./src/graphql/operations/SubredditTopContent.json":function(e){e.exports=JSON.parse('{"id":"8b2a8ab5c300"}')},"./src/graphql/operations/SubredditTypeaheadSearch.json":function(e){e.exports=JSON.parse('{"id":"20edc5ee12df"}')},"./src/graphql/operations/TopSubreddits.json":function(e){e.exports=JSON.parse('{"id":"a5107d3d6fd4"}')},"./src/graphql/operations/UsableAwards.json":function(e){e.exports=JSON.parse('{"id":"3ddebb23c034"}')},"./src/lib/CSSVariableProvider/withTheme.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/CSSVariableProvider/index.tsx");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return t=>s.a.createElement(o.b.Consumer,null,n=>s.a.createElement(e,i({theme:n},t)))}},"./src/lib/FocusTrap/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=['input:not([type="hidden"]):not([disabled])',"select:not([disabled])","textarea:not([disabled])","a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])',"audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join();class s{constructor(e){this.active=!1,this.onKeyDown=e=>{if("Tab"===e.key||9===e.keyCode){const[t,n]=this.getTabbableNodes();if(!t||!n)return;e.shiftKey&&e.target===t?(e.preventDefault(),this.tryToFocusNode(n)):e.shiftKey||e.target!==n||(e.preventDefault(),this.tryToFocusNode(t))}},this.container=e}activate(){this.active||(this.active=!0,document.addEventListener("keydown",this.onKeyDown,!0))}deactivate(){this.active&&(document.removeEventListener("keydown",this.onKeyDown,!0),this.active=!1)}getTabbableNodes(){const e=this.container.querySelectorAll(r);return[e[0],e[e.length-1]]}tryToFocusNode(e){e!==document.activeElement&&e.focus&&e.focus()}}},"./src/lib/addAllowQuarantinedParam/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{allow_quarantined:!0})},"./src/lib/assertNever.ts":function(e,t,n){"use strict";function r(e){throw new Error("Unexpected object: ".concat(e))}n.d(t,"a",(function(){return r}))},"./src/lib/base64/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));window.atob;const r=window.btoa},"./src/lib/bigNumberUtils/percent.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/bignumber.js/bignumber.js");function s(e,t){const n=new r.BigNumber(e),s=new r.BigNumber(t),o=new r.BigNumber(n.dividedBy(s)),i=new r.BigNumber("100").multipliedBy(o);return new r.BigNumber(i).toNumber()}},"./src/lib/constants/specialMembership.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="https://web.archive.org/web/20191001041103/https://specialmembership.typeform.com/to/mWU7IC",s="custom"},"./src/lib/eventTools/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r,s=n("./src/lib/constants/index.ts");function o(e,t){const n=e*s.Ab,o=t*s.Ab,i=Date.now();return i<n?r.Future:i>=n&&i<=o?r.Live:r.Past}function i(e,t){return o(e,t)===r.Future}function c(e){return function(e,t){const n=e/t;return n>=0?Math.floor(n):Math.ceil(n)}(e*s.Ab-Date.now(),s.w)}function a(e){const t=e*s.Ab,n=new Date,r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}!function(e){e.Future="before",e.Live="now",e.Past="after"}(r||(r={}))},"./src/lib/filterQueryParams/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.search.js");var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/url/url.js"),i=n.n(o);t.a=(e,t)=>{const n=i.a.parse(e,!0);return n.search=void 0,n.query=Object.assign({},s()(n.query,t)),i.a.format(n)}},"./src/lib/forceHttps/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=function(e){return e.startsWith("http")?e.replace(/^http:\/\//i,"https://"):"https://".concat(e)}},"./src/lib/formatApiError/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/app/strings/index.ts"),s=n("./src/app/strings/sources/error.js");function o(e,t,n){return t?t.fields&&t.fields.length?t.fields.map(e=>e.msg).join(", "):t.type&&s.a[t.type]?Object(r.a)(e,"error.".concat(t.type)):401===n?Object(r.a)(e,"error.authentication"):Object(r.a)(e,"error.generic"):""}},"./src/lib/formatEmojiName/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const r=":",s=/^:[A-Za-z0-9_-]{1,24}:$/;function o(e){return s.test(e)?e:"".concat(r).concat(e).concat(r)}},"./src/lib/getParsedUserAgent/index.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/ua-parser-js/src/ua-parser.js"),s=n.n(r);const o=e=>"mobile"===u(e).device.type,i=e=>"mobile"!==u(e).device.type,c=e=>"Chrome"===u(e).browser.name,a=e=>"Firefox"===u(e).browser.name,d=e=>"Opera"===u(e).browser.name;function u(e){return new s.a(e).getResult()}},"./src/lib/getUrlQueryParams/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/extractQueryParams/index.ts");function s(){return Object(r.a)(window.location.href)}},"./src/lib/isAdHocMultireddit/index.ts":function(e,t,n){"use strict";const r=/^(all|mod)(\b|$)/;t.a=e=>{const t=e.toLowerCase();return!r.test(t)&&(t.indexOf("+")>-1&&-1===t.indexOf("-"))}},"./src/lib/isFakeSubreddit/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/page.ts");const s=[r.a,r.b,r.g,r.d.Frontpage,r.d.All,r.d.Mod,r.d.Friends,r.d.Popular,r.d.Topic].concat(["random","randnsfw","myrandom"]);t.a=e=>{const t=e.toLowerCase();return s.includes(t)||t.indexOf("+")>-1||t.indexOf("-")>-1}},"./src/lib/isPinnedAdminPost/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts");t.a=(e,t)=>e&&t===r.B.ADMIN},"./src/lib/listingSort/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/constants/index.ts");const s=e=>e===r.N.TOP||e===r.N.CONTROVERSIAL,o=e=>{let{timeSort:t}=e;return(t=s(e.sort)?t||r.Ob:void 0)===e.timeSort?e:Object.assign({},e,{timeSort:t})},i=e=>{const[t,n]=e.split("_");return o({sort:t,timeSort:n})},c=e=>{const{sort:t,timeSort:n}=o(e);return t+(n?"_".concat(n):"")}},"./src/lib/loginHref/index.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/history/index.js");t.a=(e,t,n)=>{const o=Object(s.createPath)(e),i=encodeURIComponent("".concat(t).concat(o));return"".concat(r.a.accountManagerOrigin).concat(n||"/login","?dest=").concat(i)}},"./src/lib/makeCollectionCommentsPageKey/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");t.a=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="collectionCommentsPage--[collection:'".concat(e,"']");return t&&(s+="--[post:'".concat(t,"']")),n&&(s+="--[rootComment:'".concat(n,"']")),r&&(r.sort&&r.hasSortParam&&(s+="--[sort:'".concat(r.sort,"']")),r.context&&(s+="--[context:".concat(r.context,"]")),r.depth&&(s+="--[depth:".concat(r.depth,"]"))),s}},"./src/lib/makeCommentPermalink/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/redditId/index.ts");t.a=(e,t)=>{let n=e;return"/"!==n.substr(-1)&&(n+="/"),n+=Object(r.c)(t)}},"./src/lib/makeCommentsPageKey/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="commentsPage--[post:'".concat(e,"']");return t&&(r+="--[rootComment:'".concat(t,"']")),n&&(n.sort&&n.hasSortParam&&(r+="--[sort:'".concat(n.sort,"']")),n.context&&(r+="--[context:".concat(n.context,"]")),n.depth&&(r+="--[depth:".concat(n.depth,"]"))),r}},"./src/lib/makeDraftKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/models/PostDraft/index.ts");function s(e,t){return"".concat(r.c[e],"_").concat(t)}},"./src/lib/makeExplorePageKey/index.ts":function(e,t,n){"use strict";function r(e){return"Explore--[categoryName:".concat(e.categoryName,"]")}n.d(t,"a",(function(){return r}))},"./src/lib/makeGqlRequest/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/lib/addQueryParams/index.ts")),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/constants/headers.ts"),a=n("./src/lib/env/index.ts"),d=n("./src/lib/logs/errors.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/makeRequest/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/customMiddleware/gqlContext.ts"),m=n("./src/reddit/singleton/tracing/index.ts");n.d(t,"a",(function(){return g}));const f=(e,t)=>{const n=Object.assign({},t,{headers:Object.assign({},t.headers||{},e.headers)}),r=Object(a.b)()?[b.a]:[b.a,c.c];n.headers=s()(n.headers,r);const i=m.a.getTracingHeaders();return n.headers=Object.assign({},n.headers,i),n.endpoint=(e=>Object(o.a)(e,{request_timestamp:Date.now().toString()}))(n.endpoint),n},O=(e,t,n)=>{const{errors:r}=n.body;r&&r.length&&Object(d.a)({context:e,endpoint:t.endpoint,error:r.map(e=>e.message).join("\n"),type:i.p.GQL})};function g(e,t,n){const r=n&&n.traceRequestName?n.traceRequestName:"gql_api_call";return m.a.recordRpcSpanAsync(r,async()=>{const r=Object(p.b)(e),s=Object.assign({},n?Object.assign({},n):{},{data:t,method:i.ab.POST,endpoint:r.apiUrl,type:"json"}),o=f(r,s);return r.onBeforeRequest(o),Object(l.b)(o).then(e=>(r.onResponse(e,{allowSetEmptyLoid:t.allowSetEmptyLoid}),!e.ok&&(Object(u.d)(r,s,e),e.status>=400)?Object.assign({},e,{error:{type:Object(u.e)(e.status)}}):e.body.errors?(O(r,Object.assign({},s,{operation:t.id||t.query}),e),Object.assign({},e,{ok:!1,error:{type:i.D.BAD_REQUEST,fields:e.body.errors.map(e=>({msg:e.message||""}))}})):Object.assign({},e,{error:null})))})}},"./src/lib/makeListingKey/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/isAdHocMultireddit/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts");const o=e=>e.includes("--[sort:");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e||"";return Object(s.a)(o)&&Object(r.a)(o)&&(o=o.split("+").sort().join("+")),t&&(o+="--[sort:'".concat(t,"']")),n.after&&(o+="--[after:'".concat(n.after,"']")),n.before&&(o+="--[before:'".concat(n.before,"']")),n.category&&(o+="--[category:'".concat(n.category,"']")),n.categoryId&&(o+="--[category:'".concat(n.categoryId,"']")),n.t&&(o+="--[t:'".concat(n.t,"']")),n.geo_filter&&(o+="--[geo_filter:'".concat(n.geo_filter,"']")),n.isOtherDiscussions&&(o+="--[onOtherDiscussions]"),n.subredditName&&(o+="--[subredditName:'".concat(n.subredditName,"']")),n.topicName&&(o+="--[topic:'".concat(n.topicName,"']")),o.toLowerCase()}},"./src/lib/makeOnboardingSubredditsKey/index.ts":function(e,t,n){"use strict";t.a=e=>{let t="onboarding";return e.city&&(t+="--[city:'".concat(e.city,"']")),e.country&&(t+="--[country:'".concat(e.country,"']")),e.region&&(t+="--[region:'".concat(e.region,"']")),t.toLowerCase()}},"./src/lib/makeOverviewConversationsItemKey/index.ts":function(e,t,n){"use strict";t.a=(e,t)=>{return"overviewConversations--[profile:'".concat(t,"']--[post:'").concat(e,"']")}},"./src/lib/makePostCreationPageKey/index.ts":function(e,t,n){"use strict";function r(e){let t="PostCreationPage";return e.subredditName&&(t+="--[subreddit:".concat(e.subredditName,"]")),e.profileName&&(t+="--[profile:".concat(e.profileName,"]")),e.collectionId&&(t+="--[collection:".concat(e.collectionId,"]")),t}n.d(t,"a",(function(){return r}))},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,n){"use strict";function r(e){let t="PostDraftPage";return e.draftId&&(t+="--[draftId:".concat(e.draftId,"]")),t}n.d(t,"a",(function(){return r}))},"./src/lib/makeSearchKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r,s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/constants/parameters.ts");!function(e){e.Trending="trending",e.PromotedTrend="promoted_trend"}(r||(r={}));const i=e=>{return c(e).join(",")},c=e=>{let t;return"string"==typeof e?t=decodeURIComponent(e).split(",").filter(s.Xb).sort():Array.isArray(e)&&(t=e.filter(s.Xb).sort()),t&&0!==t.length||(t=[s.Ib.Posts,s.Ib.Subreddits,s.Ib.Users]),t},a=new Set(["f","n","0"]),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();return!(0===t.length||"off"===t||a.has(t[0]))},u=e=>e?"1":"",l=e=>{const t=e.sort&&Object(s.Wb)(e.sort)?e.sort:s.yb,n=e.t&&s.Sb.has(e.t)?e.t:s.zb,r=c(e.type),i={ad:e.ad,q:e.q,sort:t,t:n,type:r};return void 0!==e.include_over_18&&(i.include_over_18=u(d(e.include_over_18))),void 0!==e.restrict_sr&&(i.restrict_sr=u(d(e.restrict_sr))),e.is_multi&&(i.is_multi=u(d(e.is_multi))),e.category&&(i.category=e.category),e[o.b]&&(i.category_name=e.category_name),e[o.r]&&(i.source=e.source),i};t.b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e||"!";return t&&(r="".concat(r,"--[user:").concat(t,"]")),n.include_over_18&&(r="".concat(r,"--[include_over_18:").concat(n.include_over_18,"]")),n.q&&(r="".concat(r,"--[q:").concat(n.q,"]")),n.restrict_sr&&(r="".concat(r,"--[restrict_sr:").concat(n.restrict_sr,"]")),n.sort&&(r="".concat(r,"--[sort:").concat(n.sort,"]")),n.t&&(r="".concat(r,"--[t:").concat(n.t,"]")),n.category&&(r="".concat(r,"--[c:").concat(n.category,"]")),n.type&&(r="".concat(r,"--[type:").concat(i(n.type),"]")),r.toLowerCase()}},"./src/lib/objectSelector/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r);t.a=function(e){let t=null;return(n,r)=>{const o=e(n,r);return s()(o,t)?t:(t=o,o)}}},"./src/lib/omitKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.symbol.js");var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function s(e,t){if(t in e){const n=t;e[n];return r(e,["symbol"==typeof n?n:n+""])}return e}},"./src/lib/opener/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"};t.b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.SELF,n=arguments.length>2?arguments[2]:void 0;if(t===r.BLANK){const r=window.open("",t,n);null!=r?(r.opener=null,r.location.href=e):window.location.href=e}else window.location.href=e}},"./src/lib/search/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/addQueryParams/index.ts");const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return decodeURIComponent(e).replace(/\+/g," ")},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return encodeURIComponent(e)},i=(e,t,n)=>{return Object(r.a)(e,n).replace(/(\?|&)(q=)([^&]*)/,(e,n,r)=>e?"".concat(n).concat(r).concat(t):e)}},"./src/lib/truncateText/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es7.string.trim-right.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");const r=/\s*[,-:;\u2013\u2014]\s*$/;function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e.length<=t||t<0)return e;if((e=e.trim().replace(/\s+/g," ")).length<=t)return e;t-=n.length;let s=e.lastIndexOf(" ",t);return s=s>0?s:t,e.slice(0,s).replace(r,"").trimRight()+n}},"./src/lib/uploadToS3/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeRequest/index.ts");const i=(e,t)=>{const n=new FormData;return t.fields.forEach(e=>{e.value&&n.append(e.name,e.value)}),n.append("file",e),n};t.a=async(e,t,c)=>{const a=(()=>Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~xml2js"),n.e("xml2js")]).then(n.t.bind(null,"./node_modules/xml2js/lib/xml2js.js",7))).then(e=>e.default))(),d=await Object(o.b)({data:i(e,t),endpoint:t.action,method:r.ab.POST,type:null,setup:c});if("string"!=typeof d.body)return d;try{(await a).parseString(d.body,(e,t)=>{d.body=t})}catch(u){d.body=u}return d}},"./src/reddit/actions/ads/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="AD_BRAND_SAFETY_STATUS_RECEIVED",s="FETCH_COMMENTS_PAGE_ADS_COMPLETED",o="FETCH_COMMENTS_PAGE_ADS_FAILED",i="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",c="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",a="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",d="REFRESH_SIDEBAR_PROMOTED_POST_FAILED",u="RESET_SIDEBAR_PROMOTED_POSTS"},"./src/reddit/actions/ads/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts");const c=async(e,t,n)=>{const r={count:t};return n&&(r.subreddit=n),Object(i.b)(e,{type:"json",endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/sidebar_ads"),method:o.ab.POST,data:r})};var a=n("./src/reddit/helpers/adCount/index.ts"),d=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),u=n("./src/reddit/selectors/brandSafety.ts"),l=n("./src/reddit/selectors/platform.ts"),b=n("./src/reddit/selectors/posts.ts"),p=n("./src/reddit/actions/ads/constants.ts");n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return I}));const m=Object(r.a)(p.a),f=e=>async(t,n)=>{const r=n();Object(u.c)(r)&&Object(u.d)(r)===e.isViewSafe||t(m(e))},O=Object(r.a)(p.d),g=Object(r.a)(p.e),j=Object(r.a)(p.f),y=Object(r.a)(p.g),_=(Object(r.a)(p.h),Object(r.a)(p.b)),h=(Object(r.a)(p.c),e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(a.b)(o,e),u=i.length;if(0===u)return;switch(e){case d.a.COMMENTS:case d.a.COMMENTS_OVERLAY:if(!Object(l.n)(o,{page:o.platform.currentPage}))return;break;case d.a.FRONTPAGE:case d.a.MULTIREDDIT:case d.a.SEARCH_RESULTS:case d.a.SUBREDDIT:{const e=o.listings.activeKey,t=Object(b.P)(o,{listingKey:e});if(!t||!t.length)return;break}default:return void 0}const p=Object(l.e)(o);let m;if((m=p?await c(s(),u,p):await c(s(),u)).body&&m.body.length){const e=m.body,n={};for(let t=0;t<e.length;t++)n[i[t]]=e[t];t(O(n))}else t(g(m.error))}),E=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await c(s(),1);o.body&&o.body.length?t(j({[e]:o.body[0]})):t(y(o.error))},I=e=>async(t,n,r)=>{let{apiContext:c}=r;const a=Object(l.e)(n()),d=await(async(e,t,n,r)=>{const c={count:t,subreddit:r,post_id:n};return Object(i.b)(e,{type:"json",endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/comments_page_ads"),method:o.ab.POST,data:c})})(c(),1,e,a);d.body&&d.body.length?t(_(d.body)):t(g(d.error))}},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/makeActionCreator/index.ts");const s="API_REQUEST_HEADERS__set";Object(r.a)(s)},"./src/reddit/actions/apiRequestState.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/models/ApiRequestState/index.ts");const o="API_REQUEST_STATE__STARTED",i="API_REQUEST_STATE__COMPLETED",c="API_REQUEST_STATE__FAILED",a="API_REQUEST_STATE__RELEASED";function d(e){return{type:o,payload:{apiRequestStatus:s.a.Pending,apiRequestId:e}}}function u(e){return{type:i,payload:{apiRequestStatus:s.a.Complete,apiRequestId:e}}}function l(e,t){return{type:c,payload:{apiRequestStatus:s.a.Failed,apiRequestId:e,apiError:t}}}const b=Object(r.a)(a)},"./src/reddit/actions/authorFlair.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",o=Object(r.a)(s)},"./src/reddit/actions/badge.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return T}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/governance/errorToast.ts"),o=n("./src/reddit/endpoints/governance/badges.ts");const i="BADGE__BADGE_MODAL_OPENED",c="BADGE__BADGE_APPLICATION_SUCCESS",a="BADGE__BADGE_APPLICATION_FAILURE",d="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",u="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",l="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",b="BADGE__USER_BADGES_FETCH_SUCCESS",p="BADGE__USER_BADGES_FETCH_FAILURE",m="BADGE__USER_BADGES_FETCH_PENDING",f=Object(r.a)(i),O=Object(r.a)(c),g=Object(r.a)(a),j=(Object(r.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(r.a)(d)),y=Object(r.a)(u),_=Object(r.a)(l),h=Object(r.a)(b),E=Object(r.a)(p),I=Object(r.a)(m),v=e=>{let{badgeIds:t,subredditId:n}=e;return async(e,r,i)=>{let{apiContext:c}=i;const a=r(),d=a.user.account;if(d){const r=(a.users.appliedBadges[d.id]||{})[n]||[],i=t.length?t[0]:r[0],u=!!t.length;e(O({badgeIds:t,subredditId:n,userId:d.id}));const l=await Object(o.a)(c(),n,i,u);l.ok||(e(g({badgeIds:t,subredditId:n,error:l.error,previousBadgeIds:r,userId:d.id})),Object(s.a)(e,l.error))}}},S=e=>{let{subredditId:t,userIds:n}=e;return async(e,r,s)=>{let{apiContext:i}=s;e(_({subredditId:t}));const c=await Object(o.b)(i(),t,n);c.ok?e(j(Object.assign({},c.body,{subredditId:t}))):e(y({subredditId:t,error:c.error}))}},T=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;const i=n().user.account;if(i){e(I({subredditId:t}));const n=await Object(o.c)(s(),t,i.id);n.ok?e(h(Object.assign({},n.body,{subredditId:t}))):e(E({subredditId:t,error:n.error}))}}}},"./src/reddit/actions/bulkActions/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="BULKACTION_PENDING",s="BULKACTION_LOADED",o="BULKACTION_FAILED"},"./src/reddit/actions/category.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"k",(function(){return D}));var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/categories.tsx"),a=n("./src/reddit/endpoints/category/categoryList.ts"),d=n("./src/reddit/endpoints/category/subreddits.ts"),u=n("./src/reddit/helpers/localStorage/index.ts"),l=n("./src/reddit/selectors/category.ts");const b="CATEGORY__LIST_PENDING",p="CATEGORY__LIST_LOADED",m="CATEGORY__LIST_FAILED",f=Object(i.a)(b),O=Object(i.a)(p),g=Object(i.a)(m),j=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(l.k)(s),i=Object(l.j)(s);if(o||i)return;e(f());const c=await Object(a.a)(r());if(c.ok){const{categories:t,categoryIds:n}=Object(a.b)(c.body);e(O({categories:t,categoryIds:n}))}else e(g(c.error))},y="CATEGORY__SUBREDDITS_PENDING",_="CATEGORY__SUBREDDITS_LOADED",h="CATEGORY__SUBREDDITS_FAILED",E=Object(i.a)(y),I=Object(i.a)(_),v=Object(i.a)(h),S=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(l.p)(i,{id:e}),a=Object(l.o)(i,{id:e});if(c||a)return;n(E({categoryId:e}));const u=await Object(d.a)(o(),e,t);if(u.ok){const t=Object(d.b)(u.body);n(I(Object.assign({categoryId:e},t)))}else n(v({categoryId:e,error:u.error}))},T=e=>async(t,n,r)=>{let{apiContext:i}=r;await t(S(e));const a=n(),d=Object(l.n)(a,{id:e});if(!d)return;const{name:u}=d,b=Object(l.d)()(a,{categoryName:u});s()(b)||t(Object(o.b)(Object(c.e)(b)))},C="CATEGORY__RANK_SET",w=Object(i.a)(C),D=e=>async(t,n)=>{const r=Object(l.m)(n(),{id:e});t(w({categoryId:e,rank:r+1})),Object(u.G)(Object(l.h)(n()))}},"./src/reddit/actions/chat/constants.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.anybody="Everyone",e.account_age_30_days="Account age 30 days",e.nobody="Nobody"}(r||(r={}))},"./src/reddit/actions/chat/init.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n("./src/chat/reducers/subscribe.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeActionCreator/index.ts");let i;let c;const a="CHAT__INITED",d=Object(o.a)(a),u=async(e,t,o)=>c?{chatStore:c,firstInit:!1}:(c=await(async(e,t,r)=>{const o=Date.now(),i=await Object(s.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/initializer.ts"))).then(e=>e.default);return(await i(t(),o,r)).store})(0,t,o),await(async(e,t,o)=>{if(!i){const c=(await Object(s.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/reddit/actions/chat/proxy.ts"))).then(e=>e.default))(t,o),a=Object(r.b)(e,c);i=e.subscribe(a)}})(c,e,t),e(d()),{chatStore:c,firstInit:!0})},"./src/reddit/actions/chat/sendbirdProxy.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts");const o="SENDBIRD_PROXY__SET_CONFIG",i=Object(r.a)(o),c=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=await Object(s.h)(r());o.ok&&await e(i(o.body))}},"./src/reddit/actions/chat/subredditChannel.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return S})),n.d(t,"b",(function(){return C}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts"),o=n("./src/reddit/models/SubredditChannel/index.ts"),i=n("./src/reddit/selectors/chat.ts"),c=n("./src/reddit/selectors/user.ts");const a="SUBREDDIT_CHANNELS__REQUESTED",d="SUBREDDIT_CHANNELS__ADDED",u="SUBREDDIT_CHANNELS__FAILED",l="SUBREDDIT_CHANNEL__ADDED",b="SUBREDDIT_CHANNEL__SELECTED",p="SUBREDDIT_CHANNEL__EDITED",m="SUBREDDIT_CHANNEL__REMOVED",f=Object(r.a)(b),O=Object(r.a)(a),g=Object(r.a)(u),j=Object(r.a)(d),y=Object(r.a)(l),_=Object(r.a)("SUBREDDIT_CHANNEL__FAILED"),h=e=>async(t,n,r)=>{let{apiContext:c}=r;const{user:{account:a,session:d}}=n();if(!a||!d)return;t(O({subredditId:e}));const u=Object(i.d)(n(),{subredditId:e}),l=await Object(s.i)(c(),e,u);if(l.ok){const{rooms:n,subreddit_chat_enabled:r,user_subreddit_chat_enabled:s}=l.body,i=Object(o.d)(n);t(j({collection:i,subredditId:e,isSubredditWhitelisted:!!r,isUserSubredditChatEnabled:!!s}))}else if(l.error){const{error:n}=l;t(g({error:n,subredditId:e}))}},E=(e,t)=>async(n,r,i)=>{let{apiContext:c}=i;const{user:{account:a,session:d}}=r();if(!a||!d)return;const u=await Object(s.d)(c(),d,t);if(u.ok){const r=Object(o.e)(Object.assign({},u.body,t));return await n(y({channel:r,subredditId:e})),r}n(_(u.error))},I=(e,t)=>async(n,r,o)=>{let{apiContext:i}=o;const{channelSendbirdUrl:c}=e,{user:{session:a}}=r();if(!a)return;const d=await Object(s.f)(i(),c,a,t);d.ok?n(v({channel:e,editedSubredditChannelData:t})):n(_(d.error))},v=Object(r.a)(p),S=e=>async(t,n,r)=>{let{apiContext:o}=r;const{channelId:i,channelSendbirdUrl:a}=e,d=n();if(!Object(c.J)(d))return;const u=await Object(s.e)(o(),a);u.ok?t(T(i)):t(_(u.error))},T=Object(r.a)(m),C="SUBREDDIT_CHANNELS__ENABLED";Object(r.a)(C)},"./src/reddit/actions/chat/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts"),o=n("./src/reddit/selectors/user.ts");const i="CHAT_SUBREDDIT_SETTINGS__SET",c=Object(r.a)(i),a=Object(r.a)("CHAT_SUBREDDIT_SETTINGS__SET_FAILED"),d=async(e,t,n)=>{try{if(n)return await e(c(Object.assign({subredditId:t},n))),n}catch(r){a(r)}},u=e=>async(t,n,r)=>{let{apiContext:i}=r;try{const r=n();if(!Object(o.J)(r))return;const c=await Object(s.g)(i(),e);return d(t,e,c)}catch(c){a(c)}},l=(e,t)=>async(n,r,i)=>{let{apiContext:c}=i;try{const i=r();if(!Object(o.J)(i))return;const a=await Object(s.j)(c(),e,t);a.ok&&d(n,e,a.body)}catch(u){a(u)}}},"./src/reddit/actions/chat/toggle.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/chat/constants/container.ts"),i=n("./src/reddit/actions/chat/init.ts");const c=()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/container.ts"))).then(e=>e.sizeChanged),a=()=>async(e,t)=>Promise.all([Object(i.c)(e,t),c()]).then(e=>{let[{chatStore:t,firstInit:n},r]=e;t.getState().container.size!==o.a.EMBED||n?t.dispatch(r(o.a.EMBED)):t.dispatch(r(o.a.HIDDEN))}),d=(e,t)=>async(a,d)=>{const u=(await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUrl))())(e,t),[{chatStore:l,firstInit:b},p]=await Promise.all([Object(i.c)(a,d,u),c()]);l.getState().container.size!==o.a.EMBED&&l.dispatch(p(o.a.EMBED)),!b&&l.dispatch(Object(r.c)(u))},u=e=>async(t,r)=>{if(!i.b)return;const o=await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/theme.ts"))).then(e=>e.switchTheme))();i.b.dispatch(o(e))}},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return y}));var r,s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/chat/endpoints/sendbird/index.ts"),c=n("./src/reddit/selectors/chat.ts"),a=n("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(r||(r={}));const{SYNC:d,REQUEST_FAILED:u,REQUEST_PENDING:l,REQUEST_SUCCESS:b}=r,p=Object(o.a)(d),m=Object(o.a)(u),f=Object(o.a)(l),O=Object(o.a)(b);let g;const j=5*s.bb,y=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!Object(a.J)(s)||!Object(c.e)(s))return clearTimeout(g);g||e((()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),{session:o}=s.user;if(o&&Object(a.J)(s)&&Object(c.e)(s)){e(f());const t=await Object(i.i)(r(),o);t&&t.ok?e(O({basicChannelCount:t.body.unread_count||0,subredditChannelCount:t.body.subreddit_unread_count||0})):e(m({error:t.error}))}})()),g=setTimeout(()=>{e(y())},j)}},"./src/reddit/actions/chat/userSettings.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=n("./src/reddit/featureFlags/index.ts"),l=n("./src/reddit/helpers/trackers/chat.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/models/Toast/index.ts"),m=n("./src/telemetry/index.ts"),f=n("./src/reddit/actions/chat/constants.ts");n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return I}));const O=Object(r.a)("USER_SETTINGS__FETCH_PENDING"),g=Object(r.a)("USER_SETTINGS__FETCH_FAILURE"),j="USER_SETTINGS__UPDATE_SUCCESS",y=Object(r.a)(j),_=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!u.d.userInChatUserSettings(s))return;e(O());const l=await(e=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(o.a.sendbirdServiceUrl,"/").concat("api/v1","/chat/me/settings"),method:i.ab.GET}))(r());if(l.ok){const t=Object.assign({},l.body);e(y({invitePolicy:f.a[t.invite_policy]}))}else e(g(l.error))},h=Object(r.a)("USER_SETTINGS__SAVE_PENDING"),E=Object(r.a)("USER_SETTINGS__SAVE_FAILURE"),I=e=>async(t,n,r)=>{let{apiContext:O}=r;const g=n();if(!u.d.userInChatUserSettings(g))return;const{invitePolicy:j}=e,_=Object.keys(f.a).find(e=>f.a[e]===j);if(_){t(h());const e=await(async(e,t)=>Object(c.b)(Object(a.a)(t,[d.a]),{endpoint:"".concat(o.a.sendbirdServiceUrl,"/").concat("api/v1","/chat/me/settings"),method:i.ab.PUT,data:JSON.stringify({invite_policy:e})}))(_,O());if(Object(m.a)(Object(l.f)(_)(g)),e.ok){const e=f.a[_];t(y({invitePolicy:e})),t(Object(s.e)({kind:p.b.SuccessCommunity,text:Object(b.c)("Changes saved")}))}else t(E(e.error))}}},"./src/reddit/actions/claimgold.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/reddit/models/Toast/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");var l=async(e,t)=>{const{code:n}=t,r={api_type:"json",code:n,raw_json:1};return Object(c.b)(Object(a.a)(e,[d.a]),{method:i.ab.POST,endpoint:"".concat(e.apiUrl,"/api/claimgold"),data:r}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},b=n("./src/reddit/helpers/genericServerError/index.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/selectors/claimgold.ts"),f=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"h",(function(){return C}));const O="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",g="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",j=Object(r.a)(O),y=Object(r.a)(g),_=()=>async(e,t)=>{const n=t();Object(m.b)(n)?e(y()):e(j())},h="CLAIMGOLD_UPDATE_CODE",E=Object(r.a)(h),I="CLAIM_GOLD__TRIGGER_LOADER",v="CLAIM_GOLD__CLAIM_GOLD_PENDING",S="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",T="CLAIM_GOLD__CLAIM_GOLD_FAILED",C=()=>async(e,t,n)=>{let{apiContext:r}=n;const s={code:t().claimGold.code};e(P());try{const t=await l(r(),s);t.error?e(R(t)):e(N())}catch(o){e(R(o))}},w=Object(r.a)(I),D=Object(r.a)(v),P=()=>async(e,t)=>{e(D()),window.setTimeout(()=>{t().claimGold.api.pending&&e(w())},2e3)},x=Object(r.a)(T),R=e=>async(t,n)=>{const r=Object(f.S)(n());await t(x(Object.assign({},e,{error:e.error||Object(b.a)(r)})));const i=n().claimGold.api.error;i&&t(Object(s.e)({kind:o.b.Error,duration:s.a,text:i}))},A=Object(r.a)(S),N=()=>async(e,t)=>{e(A()),e(Object(s.e)({kind:o.b.SuccessCommunity,text:Object(p.c)("You have redeemed your gift code successfully")}))}},"./src/reddit/actions/comment.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeCommentsPageKey/index.ts"),i=n("./src/lib/makeDraftKey/index.ts"),c=n("./src/reddit/actions/economics/helpers/async.ts"),a=n("./src/reddit/actions/login.ts"),d=n("./src/reddit/actions/modal.ts"),u=n("./src/reddit/actions/postCreation/editorContent.ts"),l=n("./src/reddit/actions/shortcuts.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/actions/vote.ts"),m=n("./src/reddit/helpers/stewards.ts"),f=n("./src/reddit/constants/adEvents.ts"),O=n("./src/reddit/constants/modals.ts"),g=n("./src/lib/constants/index.ts"),j=n("./src/lib/makeApiRequest/index.ts"),y=n("./src/lib/omitHeaders/index.ts"),_=n("./src/reddit/constants/headers.ts"),h=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),E=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),I=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const v=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/save")),method:g.ab.POST,data:{id:t}}),S=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/unsave")),method:g.ab.POST,data:{id:t}}),T=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/lock")),method:g.ab.POST,data:{id:t}}),C=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/unlock")),method:g.ab.POST,data:{id:t}}),w=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:g.ab.POST,data:{id:t}}),D=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:g.ab.POST,data:{id:t}});var P=n("./src/graphql/operations/CommentToxicity.json"),x=n("./src/lib/makeGqlRequest/index.ts"),R=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),A=n("./src/reddit/helpers/genericServerError/index.ts"),N=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),k=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),L=n("./src/reddit/models/PostCreationForm/index.ts");const U=(e,t,n,r)=>{let s,o;if(r===L.h.MARKDOWN)s=n.text,o=null;else{s=null;let e=null;n.rteState&&(e=R.a.toRichTextJSON(n.rteState).document),o=JSON.stringify({document:e})}return Object(x.a)(e,Object.assign({},P,{variables:{subredditName:t,markdown:s,richText:o}})).then(e=>!e.ok||e.body.data.isValidComment)},M=async(e,t,n,r,s,o)=>{const i={api_type:"json",return_rtjson:!0,thing_id:n};if(o===L.h.MARKDOWN)i.text=r.text;else{i.text=null;let e=null;r.rteState&&(e=R.a.toRichTextJSON(r.rteState).document),i.richtext_json=JSON.stringify({document:e})}return Object(j.b)(Object(y.a)(e,[_.a]),{method:g.ab.POST,endpoint:Object(h.a)(Object(E.a)(Object(I.a)("".concat(e.apiUrl,"/api/comment.json")))),data:i}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(k.a)(e)}):Object.assign({},e,{body:{comment:Object(N.a)(e.body.json.data.things[0].data,s)}}):Object.assign({},e,{body:{comment:Object(N.a)(e.body,s)}}):Object.assign({},e,{error:e.error||Object(A.a)(t)}))};var F=n("./src/reddit/endpoints/post/index.tsx"),B=n("./src/reddit/endpoints/post/convert.ts"),G=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),q=n("./src/reddit/featureFlags/index.ts"),V=n("./src/reddit/helpers/commentList/index.ts"),H=n("./src/reddit/helpers/dom/index.ts"),K=n("./src/reddit/helpers/pixels.ts"),W=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/lodash/first.js")),Y=n.n(W),J=n("./node_modules/lodash/isArray.js"),z=n.n(J),Q=n("./src/reddit/helpers/isComment.ts"),X=n("./src/reddit/models/Comment/index.ts"),Z=n("./src/reddit/models/Flair/index.ts"),$=n("./src/reddit/models/Vote/index.ts");const ee=e=>{if(void 0!==e.author&&void 0!==e.author_fullname&&void 0!==e.attribs&&void 0!==e.created_utc&&void 0!==e.name&&void 0!==e.subreddit_id&&void 0!==e.body&&void 0!==e.context&&void 0!==e.link_id&&void 0!==e.score){const t=ne(e.attribs);return{allAwardings:[],author:e.author,authorId:e.author_fullname,body:e.body_html,bodyMD:e.body,created:e.created_utc,distinguishType:te(t),id:e.name,isAdmin:t===X.c.Admin,isOp:t===X.c.Submitter,isMod:t===X.c.Moderator,markdown:e.body,media:{type:"rtjson",richtextContent:e.rtjson||{document:[{c:[{e:"text",t:e.body}],e:"par"}]},rteMode:L.h.RICH_TEXT},parentId:e.parent_id&&Object(Q.a)(e.parent_id)?e.parent_id:null,permalink:e.context,postId:e.link_id,score:e.score,subredditId:e.subreddit_id,approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,collapsed:!1,collapsedReason:null,deletedBy:null,editedAt:null,ignoreReports:!1,isApproved:!1,isLocked:!1,isDeleted:!1,isRemoved:!1,isScoreHidden:!1,isSpam:!1,isStickied:!1,isSaved:!1,modReports:[],modReportsDismissed:[],numReports:0,postAuthor:null,postTitle:null,sendReplies:!0,userReports:[],userReportsDismissed:[],voteState:$.a.notVoted}}},te=e=>{switch(e){case X.c.Admin:return g.B.ADMIN;case X.c.Moderator:return g.B.MODERATOR;case X.c.Alumni:return g.B.ALUMNI_ADMIN;default:return""}},ne=e=>Y()((e||[]).filter(e=>z()(e)&&e.length>=2).sort(e=>e[0]).map(e=>e[1]))||X.c.None;var re=e=>{const t=[];z()(e)||(e=[e]);for(const n of e){const e=ee(n);e&&t.push(e)}return t};var se=n("./src/telemetry/index.ts"),oe=n("./src/reddit/selectors/telemetry.ts");var ie=n("./src/reddit/helpers/trackers/commentsPage.ts"),ce=n("./src/lib/env/index.ts");const ae=new Map,de=e=>e,ue={backoffTime:2e3,connectionAttempts:0,jitterAmount:3e3,maximumRetries:9},le=(e,t)=>{const n=de(t),r=ae.get(n);r&&r.socket&&(r.isClosePlanned=!0,r.socket.close())},be=(e,t,n,r)=>{const s=de(t),o=ae.get(s);if(o&&(o.socket.readyState===WebSocket.CONNECTING||o.socket.readyState===WebSocket.OPEN))return;const i={socket:new WebSocket(e),retries:n,uniqueId:t,url:e,isClosePlanned:!1};ae.set(s,i),i.socket.addEventListener("open",()=>{i.retries=Object.assign({},ue)}),i.socket.addEventListener("message",fe.bind(null,r)),i.socket.addEventListener("close",pe.bind(null,s,r)),i.socket.addEventListener("error",Oe.bind(null,s)),window&&window.addEventListener("beforeunload",le.bind(null,e,t))},pe=(e,t,n)=>{const r=ae.get(e);r&&(r.isClosePlanned?ae.delete(e):me(e,t))},me=(e,t)=>{const n=ae.get(e);if(!n)return;const{retries:{backoffTime:r,connectionAttempts:s,jitterAmount:o,maximumRetries:i},socket:c,uniqueId:a,url:d}=n;if(ae.delete(e),s<i&&c.readyState!==WebSocket.OPEN){const e=r*Math.pow(2,s),i=Math.random()*o-o/2,c=Math.round(e+i),u=Object.assign({},n.retries,{connectionAttempts:s+1});setTimeout(()=>{be(d,a,u,t)},c),ce.a&&console.debug("Connection reset, retrying in ".concat(c,"ms"))}},fe=(e,t)=>{if(t&&t.data)try{e(JSON.parse(t.data))}catch(t){ce.a&&console.error(t)}},Oe=(e,t)=>{const n=ae.get(e);n&&n.isClosePlanned&&n.socket&&n.socket.readyState===WebSocket.CLOSED?ae.delete(e):ce.a&&console.error(t)};var ge=n("./src/reddit/i18n/utils.ts"),je=n("./src/reddit/models/Post/index.ts"),ye=n("./src/reddit/models/PostDraft/index.ts"),_e=n("./src/reddit/models/RichTextJson/index.ts"),he=n("./src/reddit/models/RichTextJson/nodeMakers.ts"),Ee=n("./src/reddit/models/Toast/index.ts"),Ie=n("./src/reddit/selectors/comments.ts"),ve=n("./src/reddit/selectors/platform.ts"),Se=n("./src/reddit/selectors/posts.ts"),Te=n("./src/reddit/selectors/user.ts");n.d(t,"D",(function(){return Ce})),n.d(t,"kb",(function(){return De})),n.d(t,"m",(function(){return Pe})),n.d(t,"S",(function(){return xe})),n.d(t,"ib",(function(){return Re})),n.d(t,"M",(function(){return ke})),n.d(t,"R",(function(){return Le})),n.d(t,"ab",(function(){return Ue})),n.d(t,"w",(function(){return Me})),n.d(t,"v",(function(){return Fe})),n.d(t,"u",(function(){return Be})),n.d(t,"bb",(function(){return He})),n.d(t,"s",(function(){return Ke})),n.d(t,"t",(function(){return We})),n.d(t,"Y",(function(){return ze})),n.d(t,"Z",(function(){return Qe})),n.d(t,"tb",(function(){return Xe})),n.d(t,"U",(function(){return Ze})),n.d(t,"i",(function(){return $e})),n.d(t,"h",(function(){return et})),n.d(t,"d",(function(){return tt})),n.d(t,"e",(function(){return nt})),n.d(t,"c",(function(){return rt})),n.d(t,"b",(function(){return st})),n.d(t,"j",(function(){return ot})),n.d(t,"O",(function(){return it})),n.d(t,"N",(function(){return ct})),n.d(t,"X",(function(){return lt})),n.d(t,"pb",(function(){return bt})),n.d(t,"L",(function(){return mt})),n.d(t,"I",(function(){return ft})),n.d(t,"eb",(function(){return Ot})),n.d(t,"rb",(function(){return gt})),n.d(t,"T",(function(){return jt})),n.d(t,"F",(function(){return yt})),n.d(t,"H",(function(){return _t})),n.d(t,"G",(function(){return ht})),n.d(t,"E",(function(){return Et})),n.d(t,"ob",(function(){return vt})),n.d(t,"mb",(function(){return St})),n.d(t,"sb",(function(){return wt})),n.d(t,"vb",(function(){return Dt})),n.d(t,"nb",(function(){return Pt})),n.d(t,"ub",(function(){return xt})),n.d(t,"lb",(function(){return Rt})),n.d(t,"o",(function(){return At})),n.d(t,"n",(function(){return Nt})),n.d(t,"k",(function(){return kt})),n.d(t,"f",(function(){return Lt})),n.d(t,"l",(function(){return Ut})),n.d(t,"P",(function(){return Ft})),n.d(t,"r",(function(){return qt})),n.d(t,"Q",(function(){return Vt})),n.d(t,"qb",(function(){return Ht})),n.d(t,"cb",(function(){return Kt})),n.d(t,"db",(function(){return Wt})),n.d(t,"hb",(function(){return Yt})),n.d(t,"p",(function(){return Jt})),n.d(t,"J",(function(){return Qt})),n.d(t,"q",(function(){return Xt})),n.d(t,"B",(function(){return Zt})),n.d(t,"A",(function(){return $t})),n.d(t,"C",(function(){return en})),n.d(t,"g",(function(){return tn})),n.d(t,"W",(function(){return rn})),n.d(t,"V",(function(){return an})),n.d(t,"gb",(function(){return dn})),n.d(t,"y",(function(){return un})),n.d(t,"x",(function(){return ln})),n.d(t,"z",(function(){return bn})),n.d(t,"fb",(function(){return On})),n.d(t,"jb",(function(){return gn})),n.d(t,"a",(function(){return jn})),n.d(t,"K",(function(){return yn}));const Ce="COMMENT__STICKIED_COMMENT_SUCCESS",we={},De=Object(s.a)(Ce),Pe="COMMENT__MUTATED",xe=Object(s.a)(Pe),Re=e=>async(t,n,r)=>{let{apiContext:s}=r;if(!Object(Te.J)(n()))return t(Object(a.b)()),void t(Object(d.k)({actionSource:d.a.Save,redirectUrl:Object(Ie.m)(n(),{commentId:e})}));const o=n().comments.models[e];if(!o)return;const i=o.isSaved?S:v;if(t(xe({[e]:{isSaved:!o.isSaved}})),(await i(s(),e)).ok){const n=o.isSaved?Object(ge.c)("Comment unsaved successfully"):Object(ge.c)("Comment saved successfully"),r=Object(ge.c)("Undo");t(Object(b.e)({text:n,kind:Ee.b.Undo,buttonText:r,buttonAction:Re(e)}))}else t(xe({[e]:{isSaved:o.isSaved}}))},Ae=e=>"viewing-comment-".concat(e),Ne=r.a.telemetry.commentConsumedThreshold,ke=e=>async(t,n)=>{const s=n();if(!Object(Ie.n)(s,{commentId:e})||Math.random()>r.a.telemetry.commentSampleRate)return;(e=>{let{state:t,commentId:n}=e;Object(se.a)(Object.assign({source:"comment",action:"view",noun:"comment"},oe.defaults(t),{profile:oe.profile(t),post:oe.post(t,n),media:oe.media(t,n),subreddit:oe.subreddit(t),comment:oe.comment(t,n)}))})({state:s,commentId:e}),se.c.start(Ae(e));const o=setTimeout(()=>(e=>{let{state:t,commentId:n}=e;return Object(se.a)(Object.assign({source:"comment",action:"consume",noun:"comment"},oe.defaults(t),{profile:oe.profile(t),post:oe.post(t,n),media:oe.media(t,n),subreddit:oe.subreddit(t),comment:oe.comment(t,n)}))})({state:s,commentId:e}),Ne);we[e]=o},Le=(e,t)=>async(n,r)=>{const s=r(),o=Ae(e);if(Object(Ie.n)(s,{commentId:e})&&se.c.has(o)){const n=se.c.end(o);!t&&n<Ne&&(clearTimeout(we[e]),delete we[e])}},Ue=e=>async(t,n,r)=>{let{apiContext:s}=r;if(!Object(Te.J)(n()))return void t(Object(d.i)(O.a.LOGIN_MODAL_ID));const o=n().comments.models[e];if(!o)return;const i=o.isLocked?C:T;t(xe({[e]:{isLocked:!o.isLocked}})),(await i(s(),e)).ok||t(xe({[e]:{isLocked:o.isLocked}}))},Me="COMMENT__MORECOMMENTS_PENDING",Fe="COMMENT__MORECOMMENTS_LOADED",Be="COMMENT__MORECOMMENTS_FAILED",Ge=Object(s.a)(Me),qe=Object(s.a)(Fe),Ve=Object(s.a)(Be),He=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const a=s(),d=a.moreComments.models[t],u=a.platform.currentPage,l=u&&u.routeMatch,b=l&&l.match,{partialPostId:p}=b?b.params:null;if(!p)return;const m=Object(je.l)(p);n(Ge({moreCommentsId:d.id}));const f=await((e,t,n)=>Object(j.b)(e,{data:n,endpoint:Object(I.a)(Object(E.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/morecomments/").concat(t))),method:g.ab.POST,type:"json"}))(i(),m,{token:d.token});if(f.ok){const t=f.body,r=Object(V.a)(t,m,a);n(qe(Object.assign({key:e,moreCommentsItem:d,shouldCollapse:r},t)));const s=a.posts.models[m];s&&"subreddit"===s.belongsTo.type&&t.comments&&await n(Object(c.a)({commentIds:Object.keys(f.body.comments),postIds:[s.id],skip:["communityDetails"],subredditId:s.belongsTo.id}))}else n(Ve(Object.assign({moreCommentsItem:d},f.error)))},Ke="COMMENT__LIVECOMMENTS__NEWCOMMENT",We="COMMENT__LIVECOMMENTS__UPDATECOMMENT",Ye=Object(s.a)(Ke),Je=Object(s.a)(We),ze=(e,t,n,r)=>async(s,o)=>{(e=>{const{cb:t,url:n,uniqueId:r}=e;be(n,r,Object.assign({},ue),t)})({uniqueId:n,url:t,cb:t=>{switch(t.payload&&t.type){case"new_comment":re(t.payload).forEach(n=>{const i=o(),c=t.payload.name,a=Object(Ie.n)(i,{commentId:c});if(n){const o=((e,t,n)=>{const r={[t]:{}},{author:s,author_flair_background_color:o,author_flair_richtext:i,author_flair_template_id:c,author_flair_text:a,author_flair_text_color:d,author_flair_type:u}=n;if(s&&u){if(u===Z.f.Richtext){if(!o||!i)return;return{[t]:{[s]:{type:u,backgroundColor:o,cssClass:void 0,richtext:i,templateId:c,textColor:d}}}}if(u===Z.f.Text){if(!a)return r;return{[t]:{[s]:{type:u,backgroundColor:o,cssClass:void 0,text:a,templateId:c,textColor:d}}}}}})(0,r,t.payload),c=t.payload.total_comment_count;if(void 0===a){const t=Object(Ie.w)(i,{commentsPageKey:e});s(Ye({authorFlair:o,comment:n,commentsPageKey:e,headCommentId:t,numComments:c}))}else s(Je({authorFlair:o,comment:n,commentsPageKey:e,numComments:c}))}})}}})},Qe=(e,t)=>async()=>{le(0,t)},Xe=Object(p.b)(V.b,$.a.upvoted),Ze=Object(p.b)(V.b,$.a.downvoted),$e="COMMENT__FOCUSED_TOGGLED",et="COMMENT__FOCUSED_SET",tt="COMMENT__COLLAPSED_TOGGLED",nt="COMMENT__COLLAPSED_UNSET",rt="COMMENTS__HIDDEN_TOGGLED",st="COMMENTS__HIDDEN_SET",ot="COMMENT_FORM_FOCUS_CHANGED",it=Object(s.a)($e),ct=Object(s.a)(et),at=Object(s.a)(tt),dt=Object(s.a)(nt),ut=(Object(s.a)(st),Object(s.a)(rt),Object(s.a)(ot)),lt=e=>{let{hasFocus:t,draftKey:n}=e;return async(e,r)=>{!r().comments.drafts[n]||e(ut({hasFocus:t,draftKey:n}))}},bt=e=>{let{commentId:t,commentsPageKey:n,scrollToAndRemeasure:r}=e;return async(e,s)=>{const o=s(),i=Object(X.f)(t),c=Object(Ie.o)(o,{commentLink:i,commentsPageKey:n}).depth,a=!o.comments.collapsed[n][t];e(at({commentId:t,commentsPageKey:n})),a&&0===c&&r(t,!0),Object(l.r)()}},pt=e=>{let{commentId:t,commentsPageKey:n}=e;return async(e,r)=>{e(dt({commentId:t,commentsPageKey:n}))}},mt=e=>{let{commentLink:t,commentsPageKey:n,lineDepth:r,scrollToAndRemeasure:s}=e;return async(e,o)=>{const i=o(),c=Object(V.e)(n,t,r,i);e(at({commentId:c,commentsPageKey:n})),0===r&&s(c,!0),Object(l.r)()}},ft=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.comments.models[e],c=o.user.account?o.user.account.displayText:null;i&&c&&(t(xe({[e]:{isApproved:!0,approvedBy:c,bannedBy:null,isRemoved:!1,isSpam:!1,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0,wasPreviouslyRemovedBySteward:Object(m.a)(i)}})),(await((e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/approve")),method:g.ab.POST,data:{id:t}}))(s(),e)).ok||t(xe({[e]:{isApproved:i.isApproved,approvedBy:null,bannedBy:i.bannedBy,isRemoved:i.isRemoved,isSpam:i.isSpam,modNote:i.modNote,modReasonBy:i.modReasonBy,modRemovalReason:i.modRemovalReason,numReports:i.numReports||null,wasPreviouslyRemovedBySteward:i.wasPreviouslyRemovedBySteward}})),Object(l.r)())},Ot=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.comments.models[e],a=i.user.account?i.user.account.displayText:null;c&&a&&(n(xe({[e]:{approvedBy:null,bannedBy:a,isApproved:!1,isRemoved:!t,isSpam:t,wasPreviouslyRemovedBySteward:Object(m.a)(c)}})),(await((e,t,n)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/remove")),method:g.ab.POST,data:{id:t,spam:n}}))(o(),e,t)).ok||n(xe({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam,wasPreviouslyRemovedBySteward:c.wasPreviouslyRemovedBySteward}})),Object(l.r)())},gt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().comments.models[e];if(!o)return;const i=o.ignoreReports?D:w;t(xe({[e]:{ignoreReports:!o.ignoreReports}})),(await i(s(),e)).ok||t(xe({[e]:{ignoreReports:o.ignoreReports}}))},jt=(e,t,n)=>async(r,s,i)=>{let{apiContext:c}=i;const a=s(),d=a.comments.models[e];if(!d)return;const u=d.postId,l=a.postStickiedComments.data[u],b=g.g[t];r(xe({[e]:{distinguishType:t,isAdmin:t===g.B.ADMIN,isMod:t===g.B.MODERATOR,isStickied:!!n}})),n&&l&&l!==e&&r(xe({[l]:{isStickied:!1}})),(await((e,t,n,r)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:g.ab.POST,data:{id:t,sticky:r}}))(c(),e,b,n||null)).ok?n&&r(De({id:e,postId:u,commentsPageKey:Object(o.a)(u,null,Object.assign({sort:g.q.CONFIDENCE},a.platform.currentPage.queryParams))})):(r(xe({[e]:{distinguishType:d.distinguishType,isAdmin:d.isAdmin,isMod:d.isMod,isStickied:d.isStickied}})),r(xe({[l]:{isStickied:a.comments.models[l].isStickied}})))},yt="COMMENT__SUBMIT_COMMENT_PENDING",_t="COMMENT__SUBMIT_REPLY_TO_POST_SUCCESS",ht="COMMENT__SUBMIT_REPLY_TO_COMMENT_SUCCESS",Et="COMMENT__SUBMIT_COMMENT_FAILURE",It=Object(s.a)(yt),vt=Object(s.a)(_t),St=Object(s.a)(ht),Tt=Object(s.a)(Et),Ct=(e,t,n,r)=>{const s=r.ok&&r.body,o=s&&s.comment&&s.comment.id;ie.f(e,n,t,o)},wt="Toxicity_Warning__Modal",Dt=(e,t,n,r,s,o,i)=>async(c,a,u)=>{let{gqlContext:l}=u;const b=a(),p=Object(ve.f)(b);let m="";if(p&&(m=p.name),q.d.enableToxicityWarning(b)){if(!(await U(l(),m,s,o)))return void c(Object(d.i)(wt))}c(Pt(e,t,n,r,s,o,i))},Pt=(e,t,n,r,s,o,i,c)=>async(a,u,b)=>{let{apiContext:p}=b;a(Object(d.g)(wt));const m=u(),O=m.comments.submit.pending[r];if(!m.user.account||O)return;a(It({draftKey:r,draft:s}));const g=m.user.account.displayText,j=s.commentMode;let y;if((y=c?await Object(G.f)(p(),t,s,g):await M(p(),e,t,s,g,j)).ok){a(vt(Object.assign({},y.body,{headCommentId:Object(Ie.w)(m,{commentsPageKey:n}),commentsPageKey:n,draftKey:r})));const e=Object(Se.K)(u(),{postId:t});Object(K.a)(e.events,f.a.CommentSubmitted)}else a(Tt({draftKey:r,error:y.error}));Ct(u(),n,o,y),i||Object(l.r)()},xt=e=>async(t,n,r)=>{let{gqlContext:s}=r;const{language:o,parentCommentId:i,commentsPageKey:c,parentCommentDepth:a,draftKey:u,formData:l,editorMode:b}=e,p=n(),m=Object(ve.f)(p);let f="";if(m&&(f=m.name),q.d.enableToxicityWarning(p)){if(!(await U(s(),f,l,b)))return void t(Object(d.i)(wt))}t(Rt({commentsPageKey:c,draftKey:u,language:o,parentCommentDepth:a,parentCommentId:i,formData:l,editorMode:b}))},Rt=e=>async(t,n,r)=>{let{apiContext:s}=r;const{language:o,parentCommentId:i,commentsPageKey:c,parentCommentDepth:a,draftKey:u,formData:b,editorMode:p}=e;t(Object(d.g)(wt));const m=n(),f=m.comments.submit.pending[u];if(!m.user.account||f)return;t(It({draftKey:u,draft:b}));const O=m.user.account.displayText,g=b.commentMode,j=await M(s(),o,i,b,O,g);j.ok?t(St(Object.assign({},j.body,{parentCommentId:i,commentsPageKey:c,draftKey:u,depth:a+1}))):t(Tt({draftKey:u,error:j.error})),Ct(n(),c,p,j),Object(l.r)()},At="COMMENT__COMMENT_REPLY_FORM_OPENED",Nt="COMMENT__COMMENT_REPLY_FORM_CANCELLED",kt="COMMENT__COMMENT_FORM_MUTATED",Lt="COMMENT__COMMENT_DRAFT_CLEARED",Ut="COMMENT__COMMENT_FORM_SWITCHED_MODE",Mt=Object(s.a)(At),Ft=Object(s.a)(Nt),Bt=Object(s.a)(kt),Gt=(Object(s.a)(Lt),Object(s.a)(Ut)),qt="INITIALIZE_COMMENT_EDITOR_MODE",Vt=(Object(s.a)(qt),(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;const c=e===L.h.RICH_TEXT;if(!t||"object"==typeof t&&Object(_e.E)(t))r(Gt({editorMode:e,draftKey:n,content:c?_e.i:""})),r(Object(u.c)(e));else{r(Object(u.b)(n));const s=await Object(B.a)(i(),e,c?t:JSON.stringify(t));if(s.ok){const t=s.body.output;r(Object(u.a)(n)),r(Gt({editorMode:e,draftKey:n,content:t})),r(Object(u.c)(e))}else r(Object(u.a)(n)),r(Object(b.e)({duration:b.a,kind:Ee.b.Error,text:Object(ge.c)("Something went wrong")}))}}),Ht=e=>{let{parentCommentId:t,commentsPageKey:n}=e;return async(e,r)=>{const s=r(),o=Object(i.a)(ye.c.replyToComment,t);if(!Object(Te.J)(r()))return e(Object(a.b)()),void e(Object(d.k)({actionSource:d.a.Reply,redirectUrl:Object(Ie.m)(r(),{commentId:t})}));if(s.comments.replyFormOpen[n]&&s.comments.replyFormOpen[n][t])return void e(Ft({parentCommentId:t,commentsPageKey:n}));let c="",u=null;const l=s.user.prefs.commentMode,b=Object(H.d)();if(b){const e=b.filter(e=>!!e&&10!==e.charCodeAt(0));if(l===L.h.MARKDOWN)c=e.map(e=>"> ".concat(e,"\n")).join("");else{const t=e.map(e=>he.s(e,null)).map(e=>he.l([e])),n=he.s("",null),r=he.l([n]);u={document:[he.c(t),r]}}}const p=s.comments.drafts[o];let m;m=b?{commentMode:l,draftType:ye.c.replyToComment,rtJson:u,text:"".concat(c,"\n")}:p||{commentMode:l,draftType:ye.c.replyToComment,rtJson:u,text:""},e(Mt({parentCommentId:t,commentsPageKey:n,draftKey:o,formData:m}))}},Kt=e=>async(t,n)=>{t(pt(e)),t(rn(e))},Wt=e=>{let{parentCommentId:t,commentsPageKey:n}=e;return async(e,r)=>{e(Ft({parentCommentId:t,commentsPageKey:n})),e(Ht({parentCommentId:t,commentsPageKey:n})),e(pt({commentId:t,commentsPageKey:n}))}},Yt=(e,t)=>n=>n(Bt({draftKey:e,formData:t})),Jt="COMMENT__DISABLE_AUTOFOCUS",zt=Object(s.a)(Jt),Qt=e=>t=>t(zt({draftKey:e})),Xt="COMMENT__EDIT_COMMENT_ENABLED",Zt="COMMENT__REQUEST_EDIT_PENDING",$t="COMMENT__REQUEST_EDIT_FAILURE",en="COMMENT__REQUEST_EDIT_SUCCESS",tn="COMMENT__COMMENT_EDIT_FORM_CANCELLED",nn=Object(s.a)(Xt),rn=e=>{let{commentId:t,commentMode:n,commentsPageKey:r,draftKey:s,text:o}=e;return async(e,i)=>{const c=i();c.user.account&&(ie.c(c),e(nn({commentId:t,commentsPageKey:r,draftKey:s,formData:{text:o,commentMode:n,rteState:null,draftType:ye.c.edit,hasFocus:!0}})))}},sn=Object(s.a)(Zt),on=Object(s.a)($t),cn=Object(s.a)(en),an=Object(s.a)(tn),dn=e=>{let{language:t,id:n,commentsPageKey:r,depth:s,draftKey:o,formData:i}=e;return async(e,s,c)=>{let{apiContext:a}=c;const d=s();if(!d.user.account)return;e(sn({draftKey:o})),ie.d(d);const u=d.user.account.displayText||"",l=i.commentMode,b=await(async(e,t,n,r,s,o,i)=>{const c={api_type:"json",return_rtjson:!0,thing_id:n};if(i===L.h.MARKDOWN)c.text=s.text;else{c.text=null;let e=null;s.rteState&&(e=R.a.toRichTextJSON(s.rteState).document),c.richtext_json=JSON.stringify({document:e})}return Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)(Object(I.a)(Object(E.a)("".concat(e.apiUrl,"/api/editusertext")))),method:g.ab.POST,data:c}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(k.a)(e)}):Object.assign({},e,{body:{comment:Object(N.a)(e.body.json.data.things[0].data,o)}}):Object.assign({},e,{body:{comment:Object(N.a)(e.body,o)}}):Object.assign({},e,{error:e.error||Object(A.a)(t)}))})(a(),t,n,0,i,u,l);if(b.ok){const t=b.body;e(cn({commentId:n,commentsPageKey:r,draftKey:o})),e(xe({[n]:Object.assign({},t.comment)}))}else e(on({draftKey:o,error:b.error}))}},un="COMMENT__REQUEST_DELETE_PENDING",ln="COMMENT__REQUEST_DELETE_FAILURE",bn="COMMENT__REQUEST_DELETE_SUCCESS",pn=Object(s.a)(un),mn=Object(s.a)(ln),fn=Object(s.a)(bn),On=(e,t,n,r)=>async(r,s,o)=>{let{apiContext:i}=o;const c=s();if(!c.user.account)return;r(pn({id:t})),ie.a(t,c);const a=await((e,t,n)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/del")),method:g.ab.POST,data:{id:t}}).then(e=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(k.a)(e)}):Object.assign({},e,{body:{}}):Object.assign({},e,{error:e.error||Object(A.a)(n)})))(i(),t,e);a.ok?r(fn({id:t,postId:n})):r(mn({id:t,error:a.error}))},gn=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=!n().comments.models[e].sendReplies;t(xe({[e]:{sendReplies:o}})),(await Object(F.p)(s(),e,o)).ok||t(xe({[e]:{sendReplies:!o}}))},jn="COMMENT__CHANGE_HIGHLIGHT_FILTER",yn=Object(s.a)(jn)},"./src/reddit/actions/commentList.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/helpers/trackers/commentList.ts");const o="COMMENTLIST__MARKED_END",i="COMMENTLIST__UNMARKED_END",c=Object(r.a)(o),a=Object(r.a)(i),d=(e,t)=>async(n,r)=>{const o=r();e in o.profileCommentsPage.fetchedTokens?e in o.profileCommentsPage.commentIds?n(a({listingKey:e})):s.a(o,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/commentsListTruncated/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="COMMENTS_LIST__EXPANDED"},"./src/reddit/actions/communityFlairs/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i}));const r="TOP_COMMUNITY_FLAIR__FETCH_FAILURE",s="TOP_COMMUNITY_FLAIR__FETCH_PENDING",o="TOP_COMMUNITY_FLAIR__FETCH_SUCCESS",i="COMMUNITY_FLAIR__ADD_FLAIRS"},"./src/reddit/actions/contentGate.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return E}));var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts"),a=n("./src/reddit/endpoints/user/preferences.ts"),d=n("./src/reddit/selectors/user.ts");const u="CONTENTGATE__VISITED_GOLD_SUBREDDIT",l="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",b="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",p="CONTENTGATE__SET_OVER_18_PREF",m="CONTENTGATE__VISITED_BANNED_SUBREDDIT",f="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",O=Object(i.a)(p),g=Object(i.a)(m),j=Object(i.a)(f),y=Object(i.a)(u),_=Object(i.a)(l),h=Object(i.a)(b),E=()=>async(e,t,n)=>{let{apiContext:s}=n;const i=t();if(Object(d.J)(i)&&i.platform.currentPage)await Object(a.f)(s());else{const e=new Date;e.setFullYear(e.getFullYear()+2),o.a.set(c.g,"1",{expires:e,domain:r.a.cookieDomain})}e(O({over18:!0}))}},"./src/reddit/actions/dashboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts");const s="DASHBOARD__COMPONENT_SELECTED",o="DASHBOARD__SUBREDDIT_SELECTED",i="DASHBOARD__SUBREDDIT_LOADED",c=Object(r.a)(s),a=Object(r.a)(o),d=Object(r.a)(i)},"./src/reddit/actions/discoveryUnit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/category.ts"),c=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/lib/addQueryParams/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/lib/stringInterpolate/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const f=e=>{const t=[],n={};return e.data.children.forEach(e=>{const r=Object(p.a)(e.data);t.push(r.id),n[r.id]=r}),{postIds:t,posts:n}};var O=n("./src/reddit/models/DiscoveryUnit/index.ts"),g=n("./src/reddit/selectors/category.ts"),j=n("./src/reddit/selectors/discoveryUnit.ts"),y=n("./src/reddit/selectors/listings.ts"),_=n("./src/reddit/selectors/posts.ts");n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return x})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return U})),n.d(t,"g",(function(){return M})),n.d(t,"k",(function(){return F}));var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const E="DISCOVERY_UNIT__LIST_PENDING",I="DISCOVERY_UNIT__LIST_LOADED",v="DISCOVERY_UNIT__LIST_FAILED",S=Object(s.a)(E),T=Object(s.a)(I),C=Object(s.a)(v),w=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(j.i)(s),i=Object(j.h)(s);if(o||i)return;e(S());const c=await(e=>Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_70",enabled:!0,layout:"large",surface:"search",unit_name:"search_posts",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_71",enabled:!0,layout:"large",surface:"search",unit_name:"search_subreddits",unit_type:"community_category",url:"/api/subreddits_in_category.json"},{id:"xd_72",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"community_banner_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_83",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"best_of_community",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_88",enabled:!0,layout:"large",surface:"front_page",title:"Similar communities to %{subredditName}",unit_name:"chaining_similar_subreddits_posts",unit_type:"listing"},{id:"xd_89",enabled:!0,layout:"large",surface:"front_page",title:"Mildy similar posts",unit_name:"chaining_similar_posts",unit_type:"listing"},{id:"xd_91",enabled:!0,layout:"large",surface:"comments",title:"Posts in subreddit %{subredditName}",unit_name:"posts_in_subreddit_vertical",unit_type:"listing"},{id:"xd_92",enabled:!0,layout:"large",surface:"comments",title:"Posts in recommended home",unit_name:"posts_in_rec_home",unit_type:"listing"},{id:"xd_93",enabled:!0,layout:"large",surface:"popular",title:"Trending posts",unit_name:"trending_posts",unit_type:"listing"},{id:"xd_94",enabled:!0,layout:"large",surface:"popular",title:"Top popular for the month",unit_name:"top_month_posts",unit_type:"listing"},{id:"xd_95",enabled:!0,layout:"large",surface:"popular",title:"Geopopular posts",unit_name:"geopopular_posts",unit_type:"listing"},{id:"xd_96",enabled:!0,layout:"small",surface:"subreddit_listing",unit_name:"top_week_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_97",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"top_week_posts_large",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"}]}}}}))(r());if(c.ok){const{discoveryUnits:t}=(e=>{return{discoveryUnits:e.global.discovery_config_v1.discovery_units.reduce((e,t)=>{const n={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[n.id]=n,e},{})}})(c.body);e(T({discoveryUnits:t}))}else e(C({error:c.error}))},D="DISCOVERY_UNIT__UNIT_DATA_PENDING",P="DISCOVERY_UNIT__UNIT_DATA_LOADED",x="DISCOVERY_UNIT__UNIT_DATA_FAILED",R=Object(s.a)(D),A=Object(s.a)(P),N=Object(s.a)(x),k=(e,t)=>async(n,s,i)=>{let{apiContext:c}=i;const a=s(),l=Object(o.a)(e,r.N.HOT,{category:t}),p=Object(y.h)(a,{listingKey:l}),O=!!a.listings.listingOrder.fetchedTokens[l];if(p||O)return;n(R({key:l}));const g=await((e,t)=>Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:Object(m.a)("".concat(e.apiUrl,"/api/posts_in_category.json?category=").concat(t)),method:r.ab.GET}))(c(),t);if(g.ok){const{postIds:e,posts:t}=f(g.body),r=e.length>0?e.length-1:0;n(A({key:l,meta:a.meta,postIds:e,posts:t,token:e[r]}))}else n(N({key:l,error:g.error}))},L=(e,t,n)=>async(s,i,c)=>{let{apiContext:p}=c;const g=i(),y=((e,t)=>Object(o.a)(e.unitName,r.N.HOT,Object.assign({},e.parameters,t)))(e,t),_=Object(j.g)(g,{listingKey:y,shouldLoadMore:n});if(!_)return;const{fetchedToken:E}=_;if(s(R({fetchedToken:E,key:y})),!e.url)return void s(A({fetchedToken:"",key:y,meta:g.meta,token:""}));const{category:I}=t,v=h(t,["category"]),S=Object.assign({},v,{after:E,category_id:I}),T=await((e,t,n)=>{let s=t.url;return t.parameters&&(s=Object(a.a)(Object(l.a)(s,t.parameters),t.parameters)),n&&(s=Object(a.a)(Object(l.a)(s,n),n)),Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:Object(m.a)("".concat(e.apiUrl).concat(s)),method:r.ab.GET})})(p(),e,S);if(T.ok)switch(e.unitName){case O.h:case O.k:case O.i:case O.l:case O.n:case O.o:{const{postIds:e,posts:t}=f(T.body);s(A({fetchedToken:E,key:y,meta:g.meta,postIds:e,posts:t,token:e[e.length-1]}));break}}else s(N({key:y,error:T.error}))},U=e=>async(t,n,s)=>{let{apiContext:i}=s;const a=Object(o.a)(e,r.N.HOT);Object(_.D)(n(),{listingKey:a}).length>0||await t(Object(c.i)(a,e,{},!0))},M=(e,t,n,r)=>async(s,o,c)=>{let a,{apiContext:d}=c;if(await s(i.h()),!n&&!(a=Object(g.i)(o(),{categoryName:t})))return;const u=n||a&&a.id;await Promise.all([s(L(e,{category:u},r)),s(i.i(u))])},F=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;await Promise.all([r(U(t)),r(L(e,{subredditName:t},n))])}},"./src/reddit/actions/economics/ftue/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="ECONOMICS__FTUE__TIPPING_HIGHLIGHT_VIEWED",s="ECONOMICS__FTUE__TOP_TIPPERS_VIEWED"},"./src/reddit/actions/economics/helpers/async.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>async t=>{const r=await(()=>Promise.all([n.e("vendors~EconHelperActions~Reddit"),n.e("EconHelperActions")]).then(n.bind(null,"./src/reddit/actions/economics/helpers/index.ts")).then(e=>e.fetchAll))();await t(r(e))}},"./src/reddit/actions/economics/paymentSystems/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));const r="ECONOMICS__PAYMENT_SYSTEM__CARD_DELETE_SUCCESS",s="ECONOMICS__PAYMENT_SYSTEM__PAYPAL_DELETE_SUCCESS",o="ECONOMICS__PAYMENT_SYSTEM__INFO_FAILURE",i="ECONOMICS__PAYMENT_SYSTEM__INFO_FETCHED",c="ECONOMICS__PAYMENT_SYSTEM__INFO_PENDING"},"./src/reddit/actions/economics/subredditPremium/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p}));const r="ECONOMICS__SUBREDDIT_PREMIUM__ALL_SUBREDDIT_SUBSCRIPTIONS_SUCCESS",s="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_APPLIED",o="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_BADGE_TYPE_CHANGED",i="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_MODAL_OPENED",c="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_VIEW_CHANGED",a="ECONOMICS__SUBREDDIT_PREMIUM__EDITOR_PRODUCTS_FETCH_SUCCESS",d="ECONOMICS__SUBREDDIT_PREMIUM__GIFT_MEMBERSHIP_MODAL_OPENED",u="ECONOMICS__SUBREDDIT_PREMIUM__PURCHASE_MODAL_OPENED",l="ECONOMICS__SUBREDDIT_PREMIUM__SUBREDDIT_INFO_SUCCESS",b="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_CANCEL_SUCCESS",p="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_DATA_SUCCESS"},"./src/reddit/actions/economics/support/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="ECONOMICS__SUPPORT__SUPPORT_MODAL_OPENED",s="ECONOMICS__SUPPORT__TOTAL_SUPPORT_INCREASED"},"./src/reddit/actions/economics/tips/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="ECONOMICS__TIPS__TIP_DETAILS_SUCCESS"},"./src/reddit/actions/emailCollection/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/lodash/once.js"),s=n.n(r),o=n("./src/reddit/actions/modal.ts"),i=n("./src/reddit/actions/notificationBanner.ts"),c=n("./src/reddit/actions/preferences.ts"),a=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),d=n("./src/reddit/components/Settings/modalIds.ts"),u=n("./src/reddit/constants/experiments.ts"),l=n("./src/reddit/helpers/localStorage/index.ts"),b=n("./src/reddit/selectors/experiments/emailCollection.ts");const p=s()(l.c),m=()=>async(e,t)=>{const n=t();p();let r=Object(b.a)(n);if(r&&(await e(Object(c.x)()),r=Object(b.a)(t())))switch(r){case u.H.Modal:e(Object(o.h)(d.d));break;case u.H.Banner:case u.H.Footer1:case u.H.Footer2:e(Object(i.d)({notificationBannerId:a.a.EmailCollectionBannerId}));break;default:return}},f=()=>async(e,t)=>{const n=t(),r=Object(b.a)(n);if(r)switch(Object(l.b)(),r){case u.H.Modal:e(Object(o.g)(d.d));break;case u.H.Banner:case u.H.Footer1:case u.H.Footer2:e(Object(i.c)({notificationBannerId:a.a.EmailCollectionBannerId}));break;default:return}},O=()=>async(e,t)=>{e(Object(b.d)(Object(b.a)(t()))?f():Object(o.g)(d.d))}},"./src/reddit/actions/emailVerificationTooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="EMAIL_VERIFICATION_TOOLTIP_TOGGLED",o=Object(r.a)(s)},"./src/reddit/actions/embedAndImage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="EMBEDS__UNLOADABLE",o="EMBEDS__LOADABLE",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/emoji.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),d=n("./src/reddit/constants/headers.ts");const u=async(e,t)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emojis/all"),method:o.ab.GET,type:"json"}).then(e=>(e.ok&&(e.body=(e=>{let t;const n=s()(e,(e,n)=>("snoomojis"!==n&&(t=n),s()(e,(t,n)=>{e[n]={name:n,userFlairAllowed:t.user_flair_allowed,postFlairAllowed:t.post_flair_allowed,modFlairOnly:t.mod_flair_only,url:t.url}})));return{[t]:{emojis:n[t],snoomojis:n.snoomojis}}})(e.body)),e));var l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/actions/imageUploads.ts"),p=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/helpers/getGenericUploadError.ts"),f=n("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),O=n("./src/reddit/helpers/media/index.ts"),g=n("./src/reddit/i18n/utils.ts"),j=n("./src/reddit/models/Emoji/index.ts"),y=n("./src/reddit/models/Image/index.tsx"),_=n("./src/reddit/models/Toast/index.ts"),h=n("./src/reddit/selectors/emojis.ts"),E=n("./src/reddit/selectors/subreddit.ts");n.d(t,"i",(function(){return I})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return P})),n.d(t,"f",(function(){return x})),n.d(t,"a",(function(){return k})),n.d(t,"q",(function(){return M})),n.d(t,"p",(function(){return B})),n.d(t,"l",(function(){return G})),n.d(t,"m",(function(){return q})),n.d(t,"j",(function(){return V})),n.d(t,"k",(function(){return H})),n.d(t,"b",(function(){return K})),n.d(t,"n",(function(){return Y})),n.d(t,"e",(function(){return J})),n.d(t,"o",(function(){return Q}));const I="STRUCTURED_STYLES__NEW_EMOJI_ADDED",v=Object(l.a)(I),S="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",T="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",C=Object(l.a)(S),w=Object(l.a)(T),D="GET_ALL_EMOJIS_PENDING",P="GET_ALL_EMOJIS_LOADED",x="GET_ALL_EMOJIS_FAILED",R=Object(l.a)(D),A=Object(l.a)(P),N=Object(l.a)(x),k="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",L=Object(l.a)(k),U=e=>({text:"Failed to save emoji",buttonText:"Retry",buttonAction:B(e)}),M=e=>{let{imageData:t,subredditId:n}=e;return async(e,r,s)=>{const u=r(),l=Object(E.S)(u,{subredditId:n}).name;e(Object(b.k)(t));const p=t.file,m=await Object(O.g)(p),f=await(async(e,t,n,r)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji_asset_upload_s3.json"),method:o.ab.POST,data:{filepath:n,mimetype:r}}))(s.apiContext(),l,p.name,m);let g=!1;if(f.ok){const n=await(async(e,t,n)=>Object(a.a)(n,t))(s.apiContext(),f.body.s3UploadLease,p);if(n.ok){if(!r().imageUploads[t.id])return Object(y.d)(t),!1;const s=decodeURIComponent(n.body.PostResponse.Location),o=f.body.websocketUrl,i=Object(y.n)(t,s,o);e(Object(b.j)(i)),g=!0}else{const r=Object(y.k)(t,n.error);e(Object(b.i)(r))}}else{const n=Object(y.k)(t,f.error);e(Object(b.i)(n))}return g}},F=(e,t)=>async(n,r,s)=>{const{imageData:a,subredditId:u,emojiName:l,settings:m}=e,O=Object(f.a)(a.url),g=r(),j=Object(E.S)(g,{subredditId:u}).name,_=await(async(e,t,n,r,s)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji.json"),method:o.ab.POST,data:{s3_key:n,name:r,mod_flair_only:s.modFlairOnly,post_flair_allowed:s.postFlairAllowed,user_flair_allowed:s.userFlairAllowed}}))(s.apiContext(),j,O,l,m);if(!_.ok){const r=Object(y.k)(a,_.error);n(Object(b.i)(r)),n(Object(p.e)(U(e))),t&&t.close()}return _.ok},B=e=>async(t,n,r)=>{const{imageData:s,subredditId:o,emojiName:i,settings:c}=e;if(t(Object(b.k)(s)),!s.websocketUrl)return t(Object(p.e)({text:"Could not upload emoji"}));let a;const d=new WebSocket(s.websocketUrl);return d.onopen=async()=>{a=await F(e,d)(t,n,r)},d.onmessage=n=>{const r=JSON.parse(n.data);if("success"===r.type){a=!0;const e=r.payload.emoji_url,n=Object(y.o)(s,e);t(Object(b.l)(n));const d=Object(j.e)(i,n.url,o,c);t(v(d)),t(G(o))}else{const n=Object(m.a)(i),r=Object(y.k)(s,n);t(Object(b.i)(r)),t(Object(p.e)(U(e)))}d.close()},d.onerror=n=>{a=!1;const r=Object(m.a)(i),o=Object(y.k)(s,r);t(Object(b.i)(o)),t(Object(p.e)(U(e))),d.close()},a},G=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(Object(h.a)(o,e))return;const i=Object(E.S)(o,{subredditId:e}).name;t(R(e));const c=await u(s(),i);if(c.ok){const n=c.body;t(A({subredditId:e,data:n}))}else t(N({subredditId:e,error:c.error}))},q=e=>async(t,n,r)=>{let{apiContext:s}=r;n().emojis[e]||await t(G(e))},V=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:t}).name,b=await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(n,"/emoji/").concat(t),method:o.ab.DELETE,type:"json"}))(a(),e,l);if(b.ok){n(C({emojiName:e,subredditId:t})),n(p.e({kind:_.b.SuccessCommunityGreen,text:Object(g.c)("Emoji successfully deleted")}))}else n(w(b.error)),n(p.e({kind:_.b.Error,text:Object(g.c)("Something went wrong")}))},H=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:e}).name;if((await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_emojis_in_sr.json"),method:o.ab.POST,data:{subreddit:t,enable:n}}))(a(),l,t)).ok){n(L({subredditId:e,emojisEnabled:t}))}else n(p.e({kind:_.b.Error,text:Object(g.c)("Try again later")}))},K="EMOJI_CUSTOM_SIZE_UPDATED",W=Object(l.a)(K),Y=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:e}).name;(await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji_custom_size"),method:o.ab.POST,data:n}))(a(),l,t)).ok?n(W({subredditId:e,emojiCustomSize:t})):n(p.e({kind:_.b.Error,text:Object(g.c)("Try again later")}))},J="EMOJI_PERMISSIONS_UPDATED",z=Object(l.a)(J),Q=(e,t,n,r)=>async(s,a,u)=>{let{apiContext:l}=u;const b=a(),m=Object(E.S)(b,{subredditId:r}).name;(await(async(e,t,n,r)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(n,"/emoji_permissions.json"),method:o.ab.POST,data:{name:t,post_flair_allowed:r.postFlairAllowed,user_flair_allowed:r.userFlairAllowed,mod_flair_only:r.modFlairOnly}}))(l(),e,m,n)).ok?(s(z({emojiName:e,isSnoomoji:t,settings:n,subredditId:r})),s(p.e({kind:_.b.SuccessCommunityGreen,text:Object(g.c)("Emoji permissions updated")}))):s(p.e({kind:_.b.Error,text:Object(g.c)("Try again later")}))}},"./src/reddit/actions/events.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/toaster.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=(e,t,n,r,o)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/event_post_time.json"),method:s.ab.POST,data:{id:t,event_start:n,event_end:r,event_tz:o}});var l=(e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/start_event_post.json"),method:s.ab.POST,data:{id:t}}),b=n("./src/reddit/models/Toast/index.ts"),p=n("./src/reddit/selectors/posts.ts");n.d(t,"START_EVENT_NOW_SUCCESS",(function(){return m})),n.d(t,"startEventNowSuccess",(function(){return f})),n.d(t,"startEventNowRequested",(function(){return O})),n.d(t,"EDIT_EVENT_TIME_SUCCESS",(function(){return g})),n.d(t,"editEventTimeSuccess",(function(){return j})),n.d(t,"editEventTimeRequested",(function(){return y}));const m="START_EVENT_NOW_SUCCESS",f=Object(o.a)(m),O=e=>async(t,n,s)=>{let{apiContext:o}=s;const c=await l(o(),e),a=n();if(c.ok){t(f({postId:e}));const s=n(),o=Object(p.K)(s,{postId:e}),c=o&&o.title||"";t(Object(i.e)({kind:b.b.SuccessMod,text:Object(r.a)(s.user.language,"events.eventStartedSuccessfully",{title:c})}))}else t(Object(i.e)({kind:b.b.Error,text:Object(r.a)(a.user.language,"error.type.generic")}))},g="EDIT_EVENT_TIME_SUCCESS",j=Object(o.a)(g),y=(e,t)=>async(n,o,c)=>{let{apiContext:a}=c;const d=await u(a(),e,t.startDate,t.endDate,t.timezoneName),l=o();if(d.ok){const t=d.body,c=14400,a=Math.round(t.event_start/s.Ab);let u=t.event_end;const l={eventStart:a,eventEnd:u=u&&Math.round(u/s.Ab)||a+c,eventIsLive:t.event_is_live};n(j({postId:e,eventInfo:l}));const m=o(),f=Object(p.K)(m,{postId:e}),O=f&&f.title||"";n(Object(i.e)({kind:b.b.SuccessMod,text:Object(r.a)(m.user.language,"events.eventTimeUpdatedSuccessfully",{title:O})}))}else n(Object(i.e)({kind:b.b.Error,text:Object(r.a)(l.user.language,"error.type.generic")}))}},"./src/reddit/actions/experiments.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");n("./src/reddit/endpoints/user/index.ts");const s="EXPERIMENTS__REQUEST_LOADED",o=(Object(r.a)("EXPERIMENTS__REQUEST_PENDING"),Object(r.a)("EXPERIMENTS__REQUEST_FAILED"),Object(r.a)(s),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),i=Object(r.a)(o)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return h}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/reddit/actions/structuredStyles/index.ts"),i=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/i18n/utils.ts"),a=n("./src/reddit/models/StructuredStyles/index.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/subreddit.ts");const l="STRUCTURED_STYLES__EXPORT_THEME_PENDING",b="STRUCTURED_STYLES__EXPORT_THEME_LOADED",p="STRUCTURED_STYLES__EXPORT_THEME_FAILED",m=Object(r.a)(l),f=Object(r.a)(b),O=Object(r.a)(p),g=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),j=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),y=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),_=e=>async(t,r)=>{t(m());const o=r(),a=Object(u.S)(o,{subredditId:e}).name,l=o.structuredStyles.models[e],b=await Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~ExportTheme~ImportTheme"),n.e("ExportTheme")]).then(n.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))).then(e=>e.default),p=await b(l,a);p.ok?(t(f()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(c.c)("Theme successfully exported")}))):(t(O(p.error)),t(Object(i.e)({kind:d.b.Error,text:Object(c.c)("Sorry, theme failed to export")})))},h=e=>async(t,r)=>{t(g());const u=await Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~ExportTheme~ImportTheme"),n.e("ImportTheme")]).then(n.bind(null,"./src/reddit/helpers/importTheme/index.ts"))).then(e=>e.default),l=await u(e);l.ok?(t(j()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(c.c)("Theme successfully imported")})),0!==Object.keys(l.attributes).length&&t(Object(o.d)(Object(a.i)(l.attributes)))):(t(y(l.error)),t(Object(i.e)({kind:d.b.Error,text:Object(c.c)("Sorry, theme failed to import")})))}},"./src/reddit/actions/externalAccount.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/addQueryParams/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/constants/parameters.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const b=e=>{return e.reduce((e,t)=>(e[t.provider]=t,e),{})};var p=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/models/Toast/index.ts"),f=n("./src/reddit/models/User/index.ts"),O=n("./src/reddit/selectors/externalAccount.ts"),g=n("./src/reddit/selectors/platform.ts"),j=n("./src/reddit/selectors/subreddit.ts"),y=n("./src/reddit/selectors/user.ts");n.d(t,"l",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return E})),n.d(t,"i",(function(){return I})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return S})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return A})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return L})),n.d(t,"n",(function(){return B})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return q})),n.d(t,"d",(function(){return V})),n.d(t,"m",(function(){return Y}));const _="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",h="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",E="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",I="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",v="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",S="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",T=Object(r.a)(_),C=Object(r.a)(h),w=Object(r.a)(E),D=Object(r.a)(I),P=Object(r.a)(v),x=Object(r.a)(S),R=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(y.i)(o),p=e||i&&Object(f.f)(i);if(!p)return;if(Object(O.d)(o,{username:p}))return;t(T(p));const m=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/user/").concat(t,".json")),method:c.ab.GET}))(s(),p);if(m.ok){const e=b(m.body);t(C({username:p,accountsData:e}))}else t(w(m.error))},A=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(g.e)(s);if(!o)return;const i=s.externalAccount.api.subreddit.fetched[o],p=s.externalAccount.api.subreddit.pending[o];if(i||p)return;const m=Object(j.y)(s,{subredditName:o});if(!(m&&m.hasExternalAccount))return;e(D(o));const f=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/subreddit/").concat(t,".json")),method:c.ab.GET}))(r(),o);if(f.ok){const t=b(f.body);e(P({subredditName:o,accountsData:t}))}else e(x(f.error))},N="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",k="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",L="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",U=Object(r.a)(N),M=Object(r.a)(k),F=Object(r.a)(L),B=e=>async(t,n,r)=>{let{apiContext:s}=r;t(U({provider:e}));const o=Object(y.i)(n()),i=Object(f.f)(o),b=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/disconnect.json")),method:c.ab.POST}))(s(),e);b.ok?t(M({provider:e,username:i})):t(F({provider:e,error:b.error}))},G="OAUTH_FLOW_URL_PENDING",q="OAUTH_FLOW_URL_SUCCESS",V="OAUTH_FLOW_URL_FAILED",H=Object(r.a)(G),K=Object(r.a)(q),W=Object(r.a)(V),Y=e=>async(t,n,r)=>{let{apiContext:b}=r;t(H({provider:e}));const f=Object(s.a)(window.location.href,{[i.c]:e}),O=await((e,t,n)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/connect.json")),method:c.ab.POST,data:{redirect_url:n}}))(b(),e,f);if(O.ok){const{redirect_url:n}=O.body;t(K({provider:e})),window.location.href=n}else t(W({provider:e,error:O.error})),t(Object(o.e)({kind:m.b.Error,text:Object(p.c)("Something went wrong. Just don't panic.")}))}},"./src/reddit/actions/flairManagement/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="FLAIR_PREVIEW_EXAMPLE_POST_CREATED",s="FLAIR_PREVIEW_EXAMPLE_POST_DELETED"},"./src/reddit/actions/focusedVerticals/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return d}));const r="FOCUSED_VERTICAL_LOADED",s="FOCUSED_VERTICAL_PENDING",o="FOCUSED_VERTICAL_FAILED",i="SHOW_VARIANT",c="HIDE_VARIANT",a="POSTS_LOADED",d=345},"./src/reddit/actions/focusedVerticals/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/focusedVerticals/constants.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/FocusVerticalSubredditRecommendations.json"),c=n("./src/reddit/featureFlags/index.ts"),a=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),l=n("./src/reddit/selectors/focusedVerticalSuggestion.ts");n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));const b=Object(r.a)(s.c),p=Object(r.a)(s.b),m=Object(r.a)(s.d),f=Object(r.a)(s.f),O=Object(r.a)(s.g),g=Object(r.a)(s.e),j=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t(),O=Object(l.j)(s),g=Object(l.g)(s),j=Object(l.k)(s),y=c.d.focusedVerticalsExperiment(s),_=s.user.temporaryGQL.isLoggedIn;if(O||g&&!j||!y||!_)return;e(m());let h=!1;try{const t=await(e=>Object(o.a)(e,Object.assign({},i)))(r());if(t.ok&&t.body){const{data:n}=t.body,r=n.focusVerticalSubredditRecommendations,s={},o={};let i={};r.recommendations.forEach(e=>{s[e.id]=Object(u.a)(e),i=Object.assign({},i,Object(d.a)(e)),e.topContent.posts.forEach(e=>o[e.id]=Object(a.d)(e))});const c={};r.interactedSubreddits.forEach(e=>{c[e.id]=Object(u.a)(e)}),e(b({subreddits:Object.assign({},s,c),subredditAboutInfo:i,data:r})),e(f(o)),h=!0}}catch(E){h=!1}h||e(p({error:{type:"Focused vertical experiment GQL API failed or caught by try and catch"}}))},y=()=>async(e,t,n)=>e(j())},"./src/reddit/actions/frontpage.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"d",(function(){return C}));var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/getParsedUserAgent/index.ts"),i=n("./src/reddit/constants/parameters.ts"),c=n("./src/reddit/endpoints/page/frontpage.ts"),a=n("./src/reddit/endpoints/page/subredditPage.ts"),d=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),u=n("./src/lib/makeActionCreator/index.ts"),l=n("./src/lib/makeListingKey/index.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/reddit/constants/page.ts"),m=n("./src/reddit/constants/postLayout.ts"),f=n("./src/reddit/contexts/PageLayer/index.tsx"),O=n("./src/reddit/helpers/filterListingResponse/index.ts"),g=n("./src/reddit/selectors/frontpage.ts"),j=n("./src/reddit/selectors/monthsToMinutes.ts"),y=n("./src/reddit/selectors/user.ts"),_=n("./src/reddit/featureFlags/index.ts");const h="FRONTPAGE__MORE_POSTS_PENDING",E="FRONTPAGE__MORE_POSTS_LOADED",I="FRONTPAGE__MORE_POSTS_FAILED",v=Object(u.a)(h),S=Object(u.a)(E),T=Object(u.a)(I),C=e=>async(t,n,r)=>{let{apiContext:u,gqlContext:h}=r;const E=n(),I=Object(g.a)(E),{sort:C=I}=e,w=E.platform.currentPage?E.platform.currentPage.queryParams:{},D=Object(l.a)(p.b,C,w),P=E.listings.postOrder.loadMore[D],x=w[i.t]?w[i.t].toUpperCase():"",R=x in b.Nb&&b.Nb[x];if(P){const e=E.listings.postOrder.api.pending[D],n=E.listings.postOrder.fetchedTokens,r=!(!n[D]||!n[D][P.token]);if(!e&&!r){t(v({key:D,fetchedToken:P.token}));const e=!!E.platform.currentPage&&!!E.platform.currentPage.queryParams.useMockData,n=Object.assign({after:P.token,dist:P.dist},s()(w,i.j),{isMobile:Object(o.e)(E.meta.userAgent),sort:C,t:Object(d.a)(C,R),layout:m.e[Object(f.P)(E,{})],useMockData:e}),r=Object(j.e)(E),l=Object(j.g)(E),b=r&&l;if(!b){const e=E.platform.lastPage,t=e&&e.url;t&&(n.clickUrl=t)}const p=b?()=>Object(a.a)(u(),r,n):()=>_.d.useGraphQLInFrontpagePaginated(E)?Object(c.b)(h(),Object(c.d)(E,Object.assign({},n,{limit:m.a})),Object(y.Q)(E)):Object(c.a)(u(),n),g=await p(),I=Object.assign({},g.body,Object(O.a)(E,D,g.body));g.ok?t(S(Object.assign({key:D,fetchedToken:P.token,meta:E.meta},I))):t(T(Object.assign({key:D,error:g.error,fetchedToken:P.token},I)))}}}},"./src/reddit/actions/global.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/raven/index.ts"),o=n("./src/reddit/actions/monthsToMinutes.ts"),i=n("./src/reddit/actions/publicAccessNetwork/userSettings.ts"),c=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/lib/localStorageAvailable/index.ts")),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/constants/modals.ts"),u=n("./src/reddit/constants/spezModal.ts"),l=n("./src/reddit/featureFlags/index.ts"),b=n("./src/reddit/selectors/activeModalId.ts"),p=n("./src/reddit/selectors/runTimeEnvVars.ts");const m=async(e,t)=>{const n=t();if(l.d.spezModal(n)&&Object(c.a)()&&!Object(b.a)(n))try{const t=Date.now(),r=localStorage.getItem(u.f);if((r?parseInt(r,10):0)>(Object(p.c)(n)?0:u.d))return;localStorage.setItem(u.f,t.toString()),localStorage.getItem(u.f)&&e(Object(a.h)(d.a.SPEZ_MODAL))}catch(r){}};var f=n("./src/reddit/helpers/monthsToMinutes/index.ts"),O=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));const g="LOCAL_STORAGE_LOADED",j=Object(r.a)(g),y=e=>async(t,n)=>{let r=n();Object(O.J)(r)?Object(f.b)():t(Object(o.h)()),t(Object(i.a)()),(r=n()).user.loid.loid||r.meta.isBot||Object(s.c)("User has no LOID set");const{localStorageData:c}=e;c&&t(j(c)),t(m)}},"./src/reddit/actions/gold/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return P})),n.d(t,"f",(function(){return A}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/i18n/utils.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/models/Gold/Award.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/activeModalId.ts"),l=n("./src/reddit/selectors/communityAwards.ts"),b=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/endpoints/gold/communityAwards.ts"),m=n("./src/reddit/constants/gold.ts"),f=n("./src/reddit/actions/gold/constants.ts");const O=(e,t,n,r,s,i,c,a)=>async(d,u,l)=>{let{gqlContext:b}=l;d(y());try{if((await Object(p.a)(b(),e,t,n,r,s,i,c,a)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(h(e))}}catch(m){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(h(e))}},g=(e,t,n,r,s,i,c,a)=>async(d,u,l)=>{let{gqlContext:b}=l;d(y());try{if((await Object(p.c)(b(),e,t,n,r,s,i,c,a)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(h(e))}}catch(m){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(h(e))}},j=(e,t,n,r,s,i,c,a,d,u)=>async(l,b,m)=>{let{gqlContext:f}=m;l(y());try{if((await Object(p.b)(f(),e,t,n,r,c,a,s,i,d,u)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await l(h(e))}}catch(O){const e=Object(o.c)("There was an error creating the award. Please try again.");await l(h(e))}},y=Object(s.a)(f.e),_=Object(s.a)(f.d),h=e=>async(t,n)=>{await t(_(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))},E=Object(s.a)(f.f),I=e=>{let{award:t,subredditId:n}=e;return async(e,s)=>{const o=s();e(E({award:t,subredditId:n})),Object(u.a)(o)===m.a&&e(Object(i.i)(m.a));const a=Object(b.S)(o);e(Object(c.e)({kind:d.b.SuccessCommunity,text:Object(r.a)(a,"communityAwards.creationModal.successfullyCreated")}))}},v=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i=n(),c=!!i.awards.manageable.order[e];if(!Object(l.c)(i,{subredditId:e})&&!c){t(S({subredditId:e}));try{const[n,r]=await Promise.all([Object(p.i)(s(),e),Object(p.f)(s(),e)]);if(!n.ok){const e=Object(o.c)("There was an error loading awards list. Please try again.");return void(await t(w(e)))}if(r.ok&&!r.body.data.subreddit.isAwardCreationAllowed)return void(await t(D({subredditId:e,disabled:!0})));const i=n.body;await t(T({awards:i.data.subreddit.manageableAwards,subredditId:e}))}catch(a){const e=Object(o.c)("There was an error loading awards list. Please try again.");t(w(e))}}},S=Object(s.a)(f.C),T=Object(s.a)(f.B),C=Object(s.a)(f.A),w=e=>async(t,n)=>{await t(C(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))},D=Object(s.a)(f.a),P=e=>async(t,n,r)=>{let{gqlContext:s}=r;if(!!!n().awards.usable.order[e]){t(x({subredditId:e}));try{const n=await Object(p.j)(s(),e);if(n.ok){const r=n.body;return void(await t(R({awards:r.data.subreddit.usableAwards,subredditId:e})))}}catch(o){}await t(R({awards:a.f,subredditId:e}))}},x=Object(s.a)(f.K),R=Object(s.a)(f.J),A=(Object(s.a)(f.I),Object(s.a)(f.h),Object(s.a)(f.i),Object(s.a)(f.g),(e,t)=>async(n,s,o)=>{let{gqlContext:i}=o;n(N());const a=Object(b.S)(s());try{if((await Object(p.h)(i(),t)).error){const e=Object(r.a)(a,"communityAwards.errors.awardDisableError");await n(U(e))}else{await n(k({awardId:t,subredditId:e}));const o=Object(l.a)(s(),t);if(!o)return;const i=Object(r.a)(a,"communityAwards.disableModal.successfullyDisabled",{awardName:o.name});n(Object(c.e)({kind:d.b.SuccessCommunity,duration:c.a,text:i}))}}catch(u){const e=Object(r.a)(a,"communityAwards.errors.awardDisableError");await n(U(e))}}),N=Object(s.a)(f.k),k=Object(s.a)(f.l),L=Object(s.a)(f.j),U=e=>async(t,n)=>{await t(L(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))}},"./src/reddit/actions/gold/constants.ts":function(e,t,n){"use strict";n.d(t,"F",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"E",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"D",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"C",(function(){return g})),n.d(t,"B",(function(){return j})),n.d(t,"A",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"K",(function(){return h})),n.d(t,"J",(function(){return E})),n.d(t,"I",(function(){return I})),n.d(t,"u",(function(){return v})),n.d(t,"y",(function(){return S})),n.d(t,"t",(function(){return T})),n.d(t,"v",(function(){return C})),n.d(t,"x",(function(){return w})),n.d(t,"w",(function(){return D})),n.d(t,"z",(function(){return P})),n.d(t,"p",(function(){return x})),n.d(t,"o",(function(){return R})),n.d(t,"s",(function(){return A})),n.d(t,"r",(function(){return N})),n.d(t,"n",(function(){return k})),n.d(t,"q",(function(){return L})),n.d(t,"m",(function(){return U})),n.d(t,"H",(function(){return M})),n.d(t,"G",(function(){return F}));const r="GIVE_PREMIUM__OPEN_GIVE_PREMIUM_MODAL",s="GIVE_PREMIUM__CLOSE_GIVE_PREMIUM_MODAL",o="GILD__OPEN_GILD_MODAL",i="GILD__CLOSE_GILD_MODAL",c="GILD__OPEN_FRAMED_GILD",a="COMMUNITY_AWARDS__CREATE_AWARD_PENDING",d="COMMUNITY_AWARDS__CREATE_AWARD_SUCCESSFUL",u="COMMUNITY_AWARDS__CREATE_AWARD_FAILED",l="COMMUNITY_AWARDS__DELETE_AWARD_PENDING",b="COMMUNITY_AWARDS__DELETE_AWARD_SUCCESSFUL",p="COMMUNITY_AWARDS__DELETE_AWARD_FAILED",m="COMMUNITY_AWARDS__DISABLE_AWARD_PENDING",f="COMMUNITY_AWARDS__DISABLE_AWARD_SUCCESSFUL",O="COMMUNITY_AWARDS__DISABLE_AWARD_FAILED",g="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_PENDING",j="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_LOADED",y="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_FAILED",_="COMUNITY_AWARDS__BLACKLIST_STATUS_LOADED",h="COMMUNITY_AWARDS__USABLE_AWARDS_PENDING",E="COMMUNITY_AWARDS__USABLE_AWARDS_LOADED",I="COMMUNITY_AWARDS__USABLE_AWARDS_FAILED",v="GIVE_PREMIUM__GIVE_PREMIUM_PENDING",S="GIVE_PREMIUM__GIVE_PREMIUM_SUCCESSFUL",T="GIVE_PREMIUM__GIVE_PREMIUM_FAILED",C="GIVE_PREMIUM__SELECT_PACKAGE",w="GIVE_PREMIUM__SET_IS_ANONYMOUS",D="GIVE_PREMIUM__SET_INCLUDE_MESSAGE",P="GIVE_PREMIUM__UPDATE_MESSAGE",x="GILD__SET_IS_ANONYMOUS",R="GILD__SET_INCLUDE_MESSAGE",A="GILD__UPDATE_MESSAGE",N="GILD__TRIGGER_LOADER",k="GILD__GILD_PENDING",L="GILD__GILD_SUCCESSFUL",U="GILD__GILD_FAILED",M="GIVE_AWARD__SELECT_AWARD",F="AWARDS__REPORT_AWARD"},"./src/reddit/actions/gold/modals.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return h}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/messageIframeParent/index.ts"),o=n("./src/reddit/helpers/isPost.ts"),i=n("./src/reddit/selectors/gild.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/actions/gold/communityAwards.ts"),d=n("./src/reddit/selectors/posts.ts"),u=n("./src/reddit/selectors/subreddit.ts"),l=n("./src/telemetry/index.ts"),b=n("./src/reddit/actions/gold/constants.ts");const p=Object(r.a)(b.F),m=Object(r.a)(b.c),f=()=>async(e,t)=>{const r=t();e(m()),Object(c.b)(c.a.GiftPremiumFlow);const{clickCloseModalEvent:s}=await n.e("givePremiumTrackers").then(n.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"));Object(l.a)(s()(r))},O=Object(r.a)(b.E),g=e=>async(t,n)=>{const r=n();t(O(e));const s=Object(u.L)(r,{thingId:e});if(s)Object(a.h)(s.id);else if(Object(o.a)(e)){const t=Object(d.K)(r,{postId:e});if(!t)return;Object(a.h)(t.belongsTo.id)}else;},j=Object(r.a)(b.b),y=Object(r.a)(b.D),_=()=>async(e,t)=>{const r=t(),o=Object(i.d)(r);if(Object(i.g)(r)){const e="close.gild";Object(s.a)({type:e})}e(j());const{clickCloseGildModalEvent:a}=await n.e("gildTrackers").then(n.bind(null,"./src/reddit/helpers/trackers/gild.ts"));Object(l.a)(a(o)(r)),Object(c.b)(c.a.GildingFlow)},h=()=>async()=>{Object(s.a)({type:"login.gild"})}},"./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"i",(function(){return T}));var r=n("./src/app/strings/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/formatApiError/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/goldPurchaseModals/payment.ts"),a=n("./src/reddit/endpoints/gold/purchase.ts"),d=n("./src/reddit/helpers/correlationIdTracker.ts"),u=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),l=n("./src/reddit/models/Gold/Award.ts"),b=n("./src/reddit/models/Gold/Coins/index.ts"),p=n("./src/reddit/selectors/goldPurchaseModals.ts"),m=n("./src/reddit/selectors/user.ts");const f="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL",O="COIN_PURCHASE_MODAL__CLOSE_COIN_PURCHASE_MODAL",g=Object(i.a)(f),j=Object(i.a)(O),y="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL_TO_GILD",_=Object(i.a)(y),h=(e,t,n)=>async r=>{r(_({thingId:n}));const s=Object(b.b)(e,t),o=Object(d.c)(d.a.GoldPayment);r(C({coinPackage:s,correlationId:o}))},E=(e,t)=>async(n,s,i)=>{let{apiContext:u}=i;const l=s(),b=t.coins,f=t.pennies,O=Object(d.c)(d.a.GoldPayment),g=Object(m.S)(l);let j,y;n(Object(c.stripeTokenPending)());const _=Object(p.v)(l);if(_||(j=await n(Object(c.validateAndCreateStripeToken)(e)),y=Object(p.r)(l),j))try{const e=await Object(a.g)({coins:b,context:u(),correlationId:O,language:g,pennies:f,rememberCard:y,savedCardId:_||void 0,token:j});if(e.error){const t=Object(o.a)(g,e.error,e.status);return void n(Object(c.stripeApiError)(t))}return void n(Object(c.paymentCompleted)({coins:e.body.coins?e.body.coins:0,confirmed:!1}))}catch(h){const e=Object(o.a)(g,h);n(Object(c.stripeApiError)(e))}else n(Object(c.stripeApiError)(Object(r.a)(g,"error.type.genericCardValidation")))},I=(e,t)=>async(s,i,b)=>{let{apiContext:f}=b;const O=i(),g=t.coins,y=t.pennies,_=Object(d.c)(d.a.GoldPayment),h=Object(m.S)(O);let E,I;s(Object(c.stripeTokenPending)());const v=Object(p.v)(O);if(v||(E=await s(Object(c.validateAndCreateStripeToken)(e)),I=Object(p.r)(O),E))try{const{gildModalThingId:e,isAnonymous:t,includeMessage:i,message:d,selectedAward:b}=O.gild;if(!e||!b.id)return void s(Object(c.stripeApiError)(Object(r.a)(h,"gold.errors.unknowngild")));const p=b.id,m={gildType:p,includeMessage:i,isAnonymous:t,message:d},S=await Object(a.f)({coins:g,context:f(),correlationId:_,gildParams:m,language:h,pennies:y,rememberCard:I,savedCardId:v||void 0,thingId:e,token:E});if(S.error){const e=Object(o.a)(h,S.error,S.status);return void s(Object(c.stripeApiError)(e))}{const{gildSuccessful:t}=await n.e("gildActions").then(n.bind(null,"./src/reddit/actions/gold/gild.ts"));s(j()),s(Object(c.paymentCompleted)({confirmed:!1}));const{all_awardings:r,coins:o}=S.body;return void s(t({awardId:p,awardings:r&&r.length?Object(u.a)(r).map(e=>({award:Object(l.b)(e),total:e.count})):[],coins:o,id:e}))}}catch(S){const e=Object(o.a)(h,S);s(Object(c.stripeApiError)(e))}else s(Object(c.stripeApiError)(Object(r.a)(h,"error.type.genericCardValidation")))},v="COIN_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",S=Object(i.a)(v),T=e=>{let{coinPackage:t,correlationId:n}=e;return async(e,r,i)=>{let{apiContext:d}=i;e(g({coinPackage:t}));const u=r(),l=s.a.paypal.buttons["coins".concat(t.coins)]||s.a.paypal.buttons.coins500,b=Object(m.S)(u);try{const t=await Object(a.d)(d(),b,l,n);if(t.error){const n=Object(o.a)(b,t.error,t.status);e(Object(c.paypalApiError)(n))}else e(S(t))}catch(p){const t=Object(o.a)(b,p);e(Object(c.paypalApiError)(t))}}},C=e=>{let{coinPackage:t,correlationId:n}=e;return async(e,i,d)=>{let{apiContext:u}=d;e(g({coinPackage:t}));const l=i(),b=s.a.paypal.buttons["coinsGild".concat(t.coins)]||s.a.paypal.buttons.coinsGild500,p=Object(m.S)(l),{gildModalThingId:f,isAnonymous:O,message:j,selectedAward:y}=l.gild,_=y.id;if(f&&_)try{const t=await Object(a.c)(u(),p,b,f,_,j,O,n);if(t.error){const n=Object(o.a)(p,t.error,t.status);e(Object(c.paypalApiError)(n))}else e(S(t))}catch(h){const t=Object(o.a)(p,h);e(Object(c.paypalApiError)(t))}else e(Object(c.paypalApiError)(Object(r.a)(p,"gold.errors.unknowngild")))}}},"./src/reddit/actions/goldPurchaseModals/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _}));const r="GOLD_PAYMENT__CARD_NAME_EMPTY",s="GOLD_PAYMENT__CARD_NAME_INPUT",o="GOLD_PAYMENT__DELETE_SAVED_CARD",i="GOLD_PAYMENT__FETCHED_STRIPE_INFO",c="GOLD_PAYMENT__PAYMENT_COMPLETED",a="GOLD_PAYMENT__PAYPAL_API_ERROR",d="GOLD_PAYMENT__SAVED_CARDS_PENDING",u="GOLD_PAYMENT__SELECT_PAYMENT_METHOD",l="GOLD_PAYMENT__SELECT_SAVED_CARD",b="GOLD_PAYMENT__STRIPE_API_ERROR",p="GOLD_PAYMENT__STRIPE_ELEMENT_CHANGE",m="GOLD_PAYMENT__CARD_ERROR",f="GOLD_PAYMENT__STRIPE_TOKEN_PENDING",O="GOLD_PAYMENT__TOGGLE_REMEMBER_CARD",g="UPDATE_CARD_MODAL__CLOSE_UPDATE_CARD_MODAL",j="UPDATE_CARD_MODAL__UPDATE_CARD_FAILED",y="UPDATE_CARD_MODAL__UPDATE_CARD_PENDING",_="UPDATE_CARD_MODAL__UPDATE_CARD_SUCCESSFUL"},"./src/reddit/actions/goldPurchaseModals/payment.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"selectPaymentMethod",(function(){return u})),n.d(t,"paymentCompleted",(function(){return l})),n.d(t,"cardNameInput",(function(){return b})),n.d(t,"cardNameEmpty",(function(){return p})),n.d(t,"cardElementChange",(function(){return m})),n.d(t,"stripeTokenPending",(function(){return f})),n.d(t,"stripeTokenError",(function(){return O})),n.d(t,"stripeApiError",(function(){return g})),n.d(t,"paypalApiError",(function(){return j})),n.d(t,"validateAndCreateStripeToken",(function(){return y})),n.d(t,"toggleRememberCard",(function(){return _})),n.d(t,"selectSavedCard",(function(){return h})),n.d(t,"_deleteSavedCard",(function(){return E})),n.d(t,"deleteSavedCard",(function(){return I})),n.d(t,"loadSavedCards",(function(){return T}));var r=n("./src/lib/raven/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/endpoints/gold/purchase.ts"),i=n("./src/reddit/actions/goldPurchaseModals/constants.ts"),c=n("./src/app/strings/index.ts"),a=n("./src/reddit/selectors/goldPurchaseModals.ts"),d=n("./src/reddit/selectors/user.ts");const u=Object(s.a)(i.i),l=Object(s.a)(i.f),b=Object(s.a)(i.b),p=Object(s.a)(i.a),m=Object(s.a)(i.l),f=Object(s.a)(i.n),O=Object(s.a)(i.m),g=Object(s.a)(i.k),j=Object(s.a)(i.g),y=e=>async(t,n)=>{const r=n(),s=Object(a.j)(r),{token:o,error:i}=await e.createToken({name:s});if(s.trim()){if(!i&&o)return o;t(O(i||void 0))}else{const e=Object(d.S)(r),n=Object(c.a)(e,"gold.checkoutForm.yourCardsNameFieldIsIncomplete");t(p({message:n}))}},_=Object(s.a)(i.o),h=Object(s.a)(i.j),E=Object(s.a)(i.d),I=e=>async(t,n,s)=>{let{apiContext:i}=s;t(E(e));try{const t=await Object(o.a)(i(),e);if(t.error)throw new Error(t.error.type)}catch(c){Object(r.b)(c)}},v=Object(s.a)(i.h),S=Object(s.a)(i.e),T=()=>async(e,t,n)=>{let{apiContext:s}=n;e(v());const i=t(),c=Object(d.S)(i);try{const t=await Object(o.b)(s(),c);if(t.error)throw new Error(t.error.type);const n=t.body.map(e=>({brand:e.brand,cardId:e.card_id,expirationMonth:e.exp_month,expirationYear:e.exp_year,last4:e.last4}));e(S(n)),n[0]&&e(h(n[0].cardId))}catch(a){Object(r.b)(a),e(S([]))}}},"./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return y}));var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/formatApiError/index.ts"),a=n("./src/reddit/actions/goldPurchaseModals/payment.ts"),d=n("./src/reddit/endpoints/gold/purchase.ts"),u=n("./src/reddit/helpers/correlationIdTracker.ts"),l=n("./src/reddit/selectors/user.ts");const b="PREMIUM_PURCHASE_MODAL__OPEN_PREMIUM_PURCHASE_MODAL",p="PREMIUM_PURCHASE_MODAL__CLOSE_PREMIUM_PURCHASE_MODAL",m=Object(s.a)(b),f=Object(s.a)(p),O=e=>async(t,n,r)=>{let{apiContext:s}=r;const b=n(),p=i.kb,m=Object(u.c)(u.a.GoldPayment),f=Object(l.S)(b);t(Object(a.stripeTokenPending)());const O=await t(Object(a.validateAndCreateStripeToken)(e));if(O)try{const e=await Object(d.h)({context:s(),correlationId:m,language:f,pennies:p,token:O});if(e.error){const n=Object(c.a)(f,e.error);t(Object(a.stripeApiError)(n))}else t(Object(a.paymentCompleted)({confirmed:!1}))}catch(g){const e=Object(c.a)(f,g);t(Object(a.stripeApiError)(e))}else t(Object(a.stripeApiError)(Object(o.a)(f,"error.type.genericCardValidation")))},g="PREMIUM_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",j=Object(s.a)(g),y=e=>async(t,n,s)=>{let{apiContext:o}=s;t(m());const i=n(),u=Object(l.S)(i),b=r.a.paypal.buttons.premium;try{const n=await Object(d.e)(o(),u,b,e);if(n.error){const e=Object(c.a)(u,n.error);t(Object(a.paypalApiError)(e))}else t(j(n))}catch(p){const e=Object(c.a)(u,p);t(Object(a.paypalApiError)(e))}}},"./src/reddit/actions/governance/communityDetails.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/governance/community.ts"),o=n("./src/reddit/actions/governance/constants.ts");const i=Object(r.a)(o.a),c=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:o}=r;const c=await Object(s.a)(o(),{subredditId:t});c.ok&&e(i(Object.assign({subredditId:t},c.body)))}}},"./src/reddit/actions/governance/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return h})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return S}));const r="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",s="GOVERNANCE__NEW_SUBREDDIT_SUGGESTED",o="GOVERNANCE__NEW_TOP_MOD_SUGGESTED",i="GOVERNANCE__OPT_OUT_IN_PENDING",c="GOVERNANCE__OPT_OUT_MODAL_OPENED",a="GOVERNANCE__PROPOSAL_CREATION_FAILURE",d="GOVERNANCE__PROPOSAL_CREATION_PENDING",u="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",l="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",b="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",p="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",m="GOVERNANCE__PUBLIC_WALLET_INFO_FAILURE",f="GOVERNANCE__PUBLIC_WALLET_INFO_PENDING",O="GOVERNANCE__PUBLIC_WALLET_INFO_SUCCESS",g="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",j="GOVERNANCE__RELEASE_NOTES_SUCCESS",y="GOVERNANCE__TRANSFER_FAILURE",_="GOVERNANCE__TRANSFER_MODAL_OPENED",h="GOVERNANCE__TRANSFER_PENDING",E="GOVERNANCE__TRANSFER_SUCCESS",I="GOVERNANCE__WALLETS_FETCH_FAILURE",v="GOVERNANCE__WALLETS_FETCH_PENDING",S="GOVERNANCE__WALLETS_FETCH_SUCCESS"},"./src/reddit/actions/governance/errorToast.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/reddit/actions/toaster.ts"),s=n("./src/reddit/helpers/governanceErrorText/index.ts"),o=n("./src/reddit/models/Toast/index.ts");function i(e,t){e(Object(r.e)({duration:5e3,kind:o.b.Error,text:Object(s.a)(t)}))}},"./src/reddit/actions/governance/publicWalletsFetched.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/governance/wallet.ts"),o=n("./src/reddit/actions/governance/constants.ts");const i=Object(r.a)(o.m),c=Object(r.a)(o.n),a=Object(r.a)(o.l);t.a=e=>async(t,n,r)=>{let{apiContext:o}=r;t(i({subredditId:e.subredditId}));const d=await Object(s.b)(o(),e);d.ok?t(c(Object.assign({subredditId:e.subredditId},d.body))):t(a({error:d.error}))}},"./src/reddit/actions/grantUserFlair/constants.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));const r="SUBREDDIT__FLAIRED_USERS_PENDING",s="SUBREDDIT__FLAIRED_USERS_LOADED",o="SUBREDDIT__FLAIRED_USERS_FAILED",i="SUBREDDIT__FLAIRED_USERS_SEARCH_PENDING",c="SUBREDDIT__FLAIRED_USERS_SEARCH_LOADED",a="SUBREDDIT__FLAIRED_USERS_SEARCH_FAILED",d="SUBREDDIT__FLAIRED_USERS_OWNFLAIR_CHANGED",u="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_ADDED",l="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_CHANGED",b="SUBREDDIT__FLAIRED_USERS_DELETE_PENDING",p="SUBREDDIT__FLAIRED_USERS_DELETE_COMPLETED",m="SUBREDDIT__FLAIRED_USERS_DELETE_FAILED"},"./src/reddit/actions/harbergerTax/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="HARBERGER_TAX__BANNER_MANAGE_MODAL_OPENED",s="HARBERGER_TAX__BANNER_PURCHASE_MODAL_OPENED",o="HARBERGER_TAX__BANNER_PURCHASE_FAILURE",i="HARBERGER_TAX__BANNER_PURCHASE_PENDING",c="HARBERGER_TAX__BANNER_PURCHASE_SUCCESS",a="HARBERGER_TAX__BANNER_UPDATE_FAILURE",d="HARBERGER_TAX__BANNER_UPDATE_PENDING",u="HARBERGER_TAX__BANNER_UPDATE_SUCCESS"},"./src/reddit/actions/header.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts");const s="HEADER__SUBSCRIPTIONS_PINNED",o="HEADER__SUBSCRIPTIONS_UNPINNED",i=Object(r.a)(s),c=Object(r.a)(o),a="HEADER__DROPDOWN_CLOSED",d="HEADER__DROPDOWN_OPENED",u="HEADER__DROPDOWN_TOGGLED",l=Object(r.a)(a),b=Object(r.a)(d),p=Object(r.a)(u)},"./src/reddit/actions/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"m",(function(){return E}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/raven/index.ts"),o=n("./src/lib/uploadToS3/index.ts"),i=n("./src/reddit/helpers/getGenericUploadError.ts"),c=n("./src/reddit/models/Image/index.tsx"),a=n("./src/reddit/selectors/imageUploads.ts");const d="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",u="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",l="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",b="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",p="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",m=Object(r.a)(d),f=Object(r.a)(u),O=Object(r.a)(l),g=Object(r.a)(b),j=Object(r.a)(p),y=async(e,t,n,r)=>{if(!t.ok)throw Object(c.k)(n,t.error);let s,i=t.body;"s3UploadLease"in i&&(i=i.s3UploadLease,s=t.body.websocketUrl);const a=await Object(o.a)(n.file,i);if(a.ok){if(!e.imageUploads[n.id])return void Object(c.d)(n);const t=decodeURIComponent(a.body.PostResponse.Location);return Object(c.n)(n,t,s,r)}throw Object(c.k)(n,a.error)};function _(e){return e.split("/").pop()}const h=(e,t)=>new Promise((n,r)=>{const o=Object(a.b)(e,t);if(!o.length)return n(null);const i=o[0].websocketUrl;if(!i)return r(new Error("ImageUploads: No websocket URL found"));const c={};for(let e=0;e<o.length;e++){const t=o[e],n=_(t.url);c[n]=t}const d=o.length,u=new WebSocket(i);u.onopen=e=>{u.onerror=null,n({websocket:u,imagesByKey:c,imageCount:d})},u.onerror=e=>{u.close();const t=new Error("ImageUploads: Failed to connect to websocket");Object(s.b)(t),r()}}),E=e=>(t,n,r)=>{let{apiContext:o}=r;return new Promise((n,r)=>{const{websocket:o}=e;let{imageCount:a,imagesByKey:d}=e;function u(){for(const e in d){const n=d[e],r=Object(c.o)(n,n.url);t(O(r))}n(),o.close()}d=Object.assign({},d);let l=setTimeout(u,6e4);o.onmessage=e=>{clearTimeout(l);const r=JSON.parse(e.data);if(r&&"success"===r.type){const e=r.payload.url,n=_(e),s=d[n];if(!s)return;a-=1,delete s[n];const o=Object(c.o)(s,e);t(O(o))}else{const e=_(r.payload.image_key),n=d[e];if(!n)return;a-=1,delete n[e];const s=Object(i.a)(r.payload.image_key),o=Object(c.k)(n,s);t(g(o))}a?l=setTimeout(u,6e4):(o.close(),n())},o.onerror=e=>{clearTimeout(l);const n=Object(i.a)("websocket");for(const r in d){const e=d[r],s=Object(c.k)(e,n);t(g(s))}o.close();const a=new Error("ImageUploads: WebSocket connection failed before all messages received");Object(s.b)(a),r()}})}},"./src/reddit/actions/inContextModeration.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="INCONTEXT__BANNED",o="INCONTEXT__MUTED",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return w}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/telemetry/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/reddit/actions/discoveryUnit.ts"),a=n("./src/reddit/actions/subreddit/similarSubreddit.ts"),d=n("./src/reddit/actions/subreddit/subredditPosts.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/inFeedChaining.ts"),b=n("./src/reddit/constants/page.ts"),p=n("./src/reddit/endpoints/subreddit/similar.ts"),m=n("./src/reddit/helpers/localStorage/index.ts"),f=n("./src/reddit/helpers/trackers/discoveryUnit.ts"),O=n("./src/reddit/i18n/utils.ts"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/selectors/inFeedChaining.ts"),y=n("./src/reddit/selectors/posts.ts"),_=n("./src/reddit/selectors/subreddit.ts");const h="FEED_CHAINING__CHAIN_LOADED",E=Object(o.a)(h),I=e=>{const t=Date.now()-e,n=Object(m.s)();return Object.keys(n).filter(e=>n[e].when>=t).map(e=>n[e])},v=e=>{let{listingName:t,listingKey:n,postId:o}=e;return async(e,u)=>{if(!o)return;if(!(t===b.h||t===b.c))return;0===I(s.cb).length&&Object(m.U)(!1);let O=u();if(Object(j.d)(O,{listingKey:n,postId:o})||Object(j.a)(O).length>=l.a||Object(m.A)()||I(s.w).length>=l.a)return;const g=Object(y.y)(O,{listingKey:n,postId:o});if(g&&g.isSponsored)return;await e(Object(c.h)()),O=u();const h=Object(j.b)(O,{listingName:t});if(!h)return;const v=Object(y.V)(O,{postId:o});if(!v||Object(j.e)(O,{subredditId:v.id})||(e=>{return I(s.w).some(t=>t.subredditId===e)})(v.id))return;const S={subredditIds:[v.id],count:l.b,variant:p.a.Factorization};await e(Object(a.b)(S));const T=Object(a.a)(S);O=u();const C=Object(_.x)(O,{key:T});0!==C.length?(await Promise.all(C.map(t=>e((e=>async(t,n)=>{const r=s.Nb.DAY.toUpperCase(),o=Object(i.a)(e,s.N.TOP,{t:r});Object(y.D)(n(),{listingKey:o}).length>0||await t(Object(d.a)({range:r,sort:s.H.TOP,subredditName:e}))})(t.name)))),O=u(),Object(j.f)(O,{postId:o}).length<l.c?Object(r.a)(Object(f.b)(h,"other",v)(O)):(Object(m.a)(o,v.id),Object(r.a)(Object(f.c)(h,v)(O)),e(E({listingKey:n,postId:o})))):Object(r.a)(Object(f.b)(h,"no_chaining",v)(O))}},S="FEED_CHAINING__CHAIN_TOGGLED",T=(Object(o.a)(S),"FEED_CHAINING__CHAINING_TOGGLED"),C=Object(o.a)(T),w=()=>async e=>{Object(m.U)(!0),e(C({isDismissed:!0})),e(Object(u.e)(Object(u.d)(Object(O.c)("You'll see this less often."),g.b.Undo,Object(O.c)("Undo"),async()=>{Object(m.U)(!1),e(C({isDismissed:!1}))})))}},"./src/reddit/actions/jsApi.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="JSAPI__CONSUMER_SUBSCRIBED",o=Object(r.a)(s)},"./src/reddit/actions/layers.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/CreateLayer.json");var c=n("./src/reddit/endpoints/post/create.ts"),a=n("./src/reddit/i18n/utils.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/layers.ts");n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"l",(function(){return I}));const l="SUBREDDIT__CREATE_LAYER",b=Object(r.a)(l),p="SUBREDDIT__SAVE_LAYER_DRAFT",m=Object(r.a)(p),f="SUBREDDIT__OPEN_LAYER_DRAFT",O=Object(r.a)(f),g="SUBREDDIT__DELETE_LAYER_DRAFT",j=Object(r.a)(g),y="SUBREDDIT__LAYER_SUBMIT_SUCCEEDED",_=Object(r.a)(y),h="SUBREDDIT__LAYER_SUBMIT_FAILED",E=Object(r.a)(h),I=e=>async(t,n,r)=>{let{gqlContext:l}=r;const b=new WebSocket(e),p=Object(u.a)(n()),m=()=>{t(E());const e=Object(s.d)(Object(a.c)("Layer upload Error"),d.b.Error);t(Object(s.e)(e)),b.close()};b.onmessage=async e=>{const n=JSON.parse(e.data),r="success"===n.type?n.payload.redirect:"",u=Object(c.d)(r);if(u&&p){if((await((e,t,n)=>Object(o.a)(e,Object.assign({},i,{variables:{postId:t,box:n}})))(l(),u,p)).ok){t(_());const e=Object(s.d)(Object(a.c)("Layer has been successfully created"),d.b.SuccessCommunityGreen);return t(Object(s.e)(e)),void b.close()}m()}else m()},b.onerror=m}},"./src/reddit/actions/leaderboard/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="LEADERBOARD__DATE_RANGE_CHANGED",s="LEADERBOARD__DATE_RANGE_FETCH_FAILURE",o="LEADERBOARD__DATE_RANGE_FETCH_PENDING",i="LEADERBOARD__DATE_RANGE_FETCH_SUCCESS"},"./src/reddit/actions/login.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var r=n("./src/reddit/actions/modal.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/reddit/constants/modals.ts"),i=n("./src/reddit/constants/postLayout.ts");const c=e=>async(t,n)=>{t(Object(r.i)(e?o.a.LOGIN_MODAL_ID:o.a.REGISTER_MODAL_ID)),!n().user.prefs.layout&&t(Object(s.u)(i.d.Card))},a=()=>async(e,t)=>{e(c(!0))},d=()=>async e=>{e(c(!1))}},"./src/reddit/actions/media.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),d=n("./src/reddit/models/Media/index.ts"),u=n("./src/reddit/selectors/ads.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/actions/video.ts");n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return _}));const p="MEDIA__SET_MUTE",m=Object(r.a)(p),f="MEDIA__SET_VOLUME",O=Object(r.a)(f),g=(e,t)=>async(n,r)=>{if(n(m(e)),e||!t)return;const s=r(),o=Object(l.K)(s,{postId:t}),i=Object(u.a)(s,t);o.isSponsored&&i&&n(Object(b.F)(t))},j="MEDIA__EMBED_HEIGHT_MEASURED",y=Object(r.a)(j),_=e=>{let{height:t,isDeleted:n,postId:r}=e;return async(e,u,l)=>{let{apiContext:b}=l;const p=u(),{media:m}=p.posts.models[r];e(y({height:t,isDeleted:n,postId:r})),null!==m&&m.type===d.n.EMBED&&m.provider===d.t.Twitter&&m.height!==t&&await((e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/set_twitter")),method:s.ab.POST,data:{height:n,link:t}}))(b(),r.substr(3),t)}}},"./src/reddit/actions/meta.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="META__GEO_CHANGED",o=Object(r.a)(s),i="META__META_RECEIVED";Object(r.a)(i)},"./src/reddit/actions/modMode.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts");const a="MOD_MODE_TOGGLED",d=Object(i.a)(a),u=e=>async(t,n,r)=>{let i,{apiContext:a}=r;if(void 0!==e)i=e;else{i="false"===s.a.get(c.c)}s.a.set(c.c,i,{domain:o.a.cookieDomain});(document.cookie.match(/mod_mode_enabled=/g)||[]).length>1&&s.a.set(c.c,"",{expires:0,path:"/"});t(d({enabled:i}))}},"./src/reddit/actions/modQueue/constants.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"w",(function(){return f})),n.d(t,"v",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"t",(function(){return j})),n.d(t,"s",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S}));const r="MODQUEUE_PENDING",s="MODQUEUE_LOADED",o="MODQUEUE_FAILED",i="EDITED_PENDING",c="EDITED_LOADED",a="EDITED_FAILED",d="REPORTS_PENDING",u="REPORTS_LOADED",l="REPORTS_FAILED",b="SPAM_PENDING",p="SPAM_LOADED",m="SPAM_FAILED",f="UNMODERATED_PENDING",O="UNMODERATED_LOADED",g="UNMODERATED_FAILED",j="UNDOACTION_PENDING",y="UNDOACTION_LOADED",_="UNDOACTION_FAILED",h="MORE_MODERATED_SUBREDDITS_LOADED",E="ALL_MODERATED_COMMUNITIES_LOADED",I="ADD_SELECTED_ITEMS",v="BULK_SELECT_ITEMS",S="BULK_UNSELECT_ITEMS"},"./src/reddit/actions/modal.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"k",(function(){return y}));var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./src/reddit/actions/media.ts"),n("./src/reddit/constants/modals.ts")),o=n("./src/reddit/endpoints/user/index.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/activeModalId.ts"),a=n("./src/reddit/selectors/user.ts");const d="MODAL_TOGGLED",u=Object(r.a)(d),l="CLOSE_ALL_MODALS",b=Object(r.a)(l),p="REDESIGN_MODAL_CLOSED",m=(Object(r.a)(p),e=>async(t,n,r)=>{Object(c.b)(e)(n())&&t(u(e))}),f=e=>async(t,n,r)=>{Object(c.b)(e)(n())||t(u(e))},O=()=>async(e,t,n)=>{Object(i.S)(s.a.REDESIGN_MODAL,!0),Object(a.J)(t())&&Object(o.d)(n.apiContext())},g="SET_ACCOUNT_MANAGER_MODAL_DATA";var j;!function(e){e.Explore="explore",e.HeaderLogin="header_login",e.HeaderSignup="header_signup",e.Hide="hide",e.IdCard="id_card",e.Post="post",e.PromoBanner="promo",e.Reply="reply",e.Report="report",e.SubredditLeaderboard="subreddit_leaderboard",e.Save="save",e.Subscribe="subscribe",e.Vote="vote"}(j||(j={}));const y=Object(r.a)(g)},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/profile/index.ts"),o=n("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),i=n("./src/reddit/models/User/index.ts"),c=n("./src/reddit/selectors/user.ts");const a="MOD_PERMS__REQUEST_LOADED",d=Object(r.a)("MOD_PERMS__REQUEST_PENDING"),u=Object(r.a)(a),l=Object(r.a)("MOD_PERMS__REQUEST_FAILED"),b=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user.account)return;if(s.isModeratorWithPostPerms)return;e(d());const i=await Object(o.a)(r());i.ok?e(u(i.body)):e(l(i.error))},p=()=>async(e,t)=>{const n=Object(c.i)(t());if(n){const t=Object(i.f)(n);await e(Object(s.b)(t))}}},"./src/reddit/actions/moderationLog/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="SUBREDDIT__MODERATION_LOG_LOADED",s="SUBREDDIT__ALL_MODERATORS_LOADED"},"./src/reddit/actions/monthsToMinutes.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return y}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/localStorage.ts"),o=n("./src/reddit/helpers/localStorage/index.ts"),i=n("./src/reddit/models/MonthsToMinutes/index.ts"),c=n("./src/reddit/selectors/monthsToMinutes.ts");const a="M2M_SUBSCRIPTIONS_NAMES_LOADED",d=(Object(r.a)(a),"M2M_APPLY_LOGGED_OUT_VOTE"),u=Object(r.a)(d),l="M2M_LOADED_FROM_LOCAL_STORAGE",b=Object(r.a)(l),p="M2M_EXPAND_ACCOUNT_COMPLETENESS",m=(Object(r.a)(p),"M2M_COLLAPSE_ACCOUNT_COMPLETENESS"),f=Object(r.a)(m),O="M2M_INIT_FROM_EMPTY_LOCAL_STORAGE",g=Object(r.a)(O),j=e=>({accountCompleteness:{collapsed:!1,step:i.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:{}},postsCount:0,subreddits:e.subreddits,subscriptions:[],tooltip:{},views:e.views,votes:{comments:{},posts:{}}}),y=()=>async(e,t)=>{const n=t();try{const t=Object(o.n)(s.t);if(!t)return void e(g());const{loggedOutV4:r,loggedOutV5:a}=t;let d=null;if(a?d=a:r&&(d=(e=>({accountCompleteness:{collapsed:!1,step:i.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:e.homeFeed.votes},postsCount:0,subreddits:e.subreddits,subscriptions:e.subscriptions,tooltip:{},views:e.views,votes:{comments:e.votes.comments,posts:e.votes.posts}}))(r)),!d)return void e(g());Object(c.w)(n)||(d=j(d)),e(b(d))}catch(r){e(g())}}},"./src/reddit/actions/monthsToMinutes/accountCompleteness.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="M2M_SET_STEP",o=Object(r.a)(s)},"./src/reddit/actions/monthsToMinutes/homeFeed.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"i",(function(){return h}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/discoveryUnit.ts"),o=n("./src/reddit/endpoints/category/subreddits.ts"),i=n("./src/reddit/endpoints/subreddit/similar.ts"),c=n("./src/reddit/models/MonthsToMinutes/index.ts"),a=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),d=n("./src/reddit/selectors/monthsToMinutes.ts"),u=n("./src/reddit/selectors/subreddit.ts");const l="M2M_SUBREDDIT_VOTED",b=Object(r.a)(l),p="M2M_SIMILAR_SUBREDDITS_LOADED",m=Object(r.a)(p),f=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(i.b)(s(),e);if(o.error)throw new Error(o.error.type);return o.body},O=()=>async(e,t)=>{const n=t();if(!Object(d.o)(n))return;if(Object(d.c)(n)!==c.a.Initial)return;const r=Object(d.F)(n);if(r.length>=c.c)return;const s=r.map(e=>Object(u.H)(n,e)).filter(Boolean),l=c.c-s.length;try{const t=await e(f({count:l,subredditIds:s,variant:i.a.Factorization}));let r;if(Object(a.c)(n))r=Object(o.b)(t);else{const n=await e(f({count:l,subredditIds:s,variant:i.a.CustomModRelevant})),c=Object(i.c)([t,n],l);r=Object(o.b)(c)}r.subredditIds.length>0&&e(m(r))}catch(b){}},g=()=>async(e,t)=>{const n=t();if(Object(d.n)(n))return;const r=Object(d.A)(n);if(0===r.length)return;const o=r.filter(Boolean).join("+");await e(Object(s.j)(o))},j="M2M_CLOSE_HOME_FEED_TOP_BANNER",y=Object(r.a)(j),_="M2M_VIEW_HOME_FEED_TOP_BANNER",h=Object(r.a)(_)},"./src/reddit/actions/monthsToMinutes/initHomeFeed.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),i=n("./src/reddit/actions/page.ts"),c=n("./src/reddit/actions/subscription/index.ts"),a=n("./src/reddit/constants/posts.ts"),d=n("./src/reddit/helpers/monthsToMinutes/index.ts"),u=n("./src/reddit/models/MonthsToMinutes/index.ts"),l=n("./src/reddit/selectors/monthsToMinutes.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/subscriptions.ts");const m="M2M_SET_HOME_FEED",f=Object(s.a)(m),O=()=>async(e,t)=>{let n=t();if(!Object(l.n)(n)){const r=Object(p.b)(n),s=Object(l.A)(n);if(r.length<u.c)for(const t of s){const r={name:t,type:a.a.SUBREDDIT};Object(b.cb)(n,{identifier:r})||await e(Object(c.d)([r],!0))}e(f(s)),n=t(),Object(d.d)(n)}},g=e=>{let{shouldPrepareData:t=!0}=e;return async e=>{t&&e(O()),e(Object(o.b)(u.a.HomeVisited)),e(Object(i.y)()),e(Object(r.b)("/"))}}},"./src/reddit/actions/monthsToMinutes/post.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),i=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),c=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),a=n("./src/reddit/actions/pages/subreddit.ts"),d=n("./src/reddit/models/MonthsToMinutes/index.ts"),u=n("./src/reddit/models/Subreddit/index.ts"),l=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),b=n("./src/reddit/selectors/monthsToMinutes.ts"),p=n("./src/reddit/selectors/posts.ts");const m="M2M_POST_VIEWED",f=Object(s.a)(m),O=e=>async(t,n)=>{let s=n();if(!Object(b.w)(s))return;const m=Object(p.V)(s,{postId:e});if(m&&t(f({postId:e,subredditName:m.name})),Object(b.p)(s)){await t(Object(i.g)()),s=n();const e=Object(l.f)(s);if(e&&m&&!Object(u.c)(m))if(Object(b.l)(s)){t(Object(o.b)(d.a.BannerVisible)),await t(Object(c.c)()),s=n();const e=Object(b.e)(s);e&&await t(Object(a.h)(e,{sort:r.N.HOT}))}else Object(l.e)(e)&&await t(Object(a.h)(m.name,{sort:r.N.TOP}))}}},"./src/reddit/actions/monthsToMinutes/reset.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/page.ts"),o=n("./src/reddit/helpers/monthsToMinutes/index.ts"),i=n("./src/reddit/selectors/monthsToMinutes.ts");const c="M2M_RESET",a=Object(r.a)(c),d=()=>async(e,t)=>{const n=Object(i.n)(t());e(a()),Object(o.a)(),n&&e(Object(s.y)())}},"./src/reddit/actions/multireddit/constants.ts":function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"r",(function(){return s})),n.d(t,"s",(function(){return o})),n.d(t,"t",(function(){return i})),n.d(t,"u",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return v})),n.d(t,"z",(function(){return S})),n.d(t,"y",(function(){return T})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return D})),n.d(t,"d",(function(){return P}));const r="MULTIREDDIT__MORE_POSTS_FAILED",s="MULTIREDDIT__MORE_POSTS_LOADED",o="MULTIREDDIT__MORE_POSTS_PENDING",i="MULTIREDDIT__MY_MULTIREDDITS_PENDING",c="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",a="MULTIREDDIT__CREATE_FAILURE",d="MULTIREDDIT__CREATE_PENDING",u="MULTIREDDIT__CREATE_SUCCESS",l="MULTIREDDIT__DELETE_PENDING",b="MULTIREDDIT__DELETE_SUCCESS",p="MULTIREDDIT__DELETE_FAILURE",m="MULTIREDDIT__DUPLICATE_PENDING",f="MULTIREDDIT__DUPLICATE_SUCCESS",O="MULTIREDDIT__DUPLICATE_FAILURE",g="MULTIREDDIT__EDIT_FAILURE",j="MULTIREDDIT__EDIT_PENDING",y="MULTIREDDIT__EDIT_SUCCESS",_="MULTIREDDIT__ADD_SUBREDDIT_FAILURE",h="MULTIREDDIT__ADD_SUBREDDIT_PENDING",E="MULTIREDDIT__ADD_SUBREDDIT_SUCCESS",I="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_PENDING",v="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_SUCCESS",S="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_FAILURE",T=10,C="MULTIREDDIT__REMOVE_SUBREDDIT_FAILURE",w="MULTIREDDIT__REMOVE_SUBREDDIT_PENDING",D="MULTIREDDIT__REMOVE_SUBREDDIT_SUCCESS";var P;!function(e){e.InvalidSrQuarantine="INVALID_SR_QUARANTINE",e.TooManySubreddits="MULTI_TOO_MANY_SUBREDDITS"}(P||(P={}))},"./src/reddit/actions/multireddit/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/linkMatchers/customLinks.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/modal.ts"),l=n("./src/reddit/actions/page.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/constants/parameters.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=n("./src/graphql/operations/AllUserMultireddits.json"),y=n("./src/lib/makeGqlRequest/index.ts"),_=(e,t)=>Object(y.a)(e,Object.assign({},j,{variables:t})),h=e=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/mine.json")),data:{expand_srs:1},method:i.ab.GET}),E=n("./src/reddit/endpoints/page/multiredditListing.ts"),I=n("./src/graphql/operations/SubredditRecommendations.json"),v=n("./src/reddit/featureFlags/index.ts"),S=n("./src/reddit/helpers/filterListingResponse/index.ts"),T=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),C=n("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),w=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),D=(n("./node_modules/core-js/modules/es6.regexp.split.js"),e=>{let t=e.over_18||!1;if(!t)for(const i of e.subreddits)if(i.data.over_18){t=!0;break}let n=e.quarantine||!1;if(!n)for(const i of e.subreddits){const e=(i.data.audience_target||"").split(",");if(i.data.quarantine||e.indexOf("unsafe")>-1){n=!0;break}}const r=e.subreddits.map(e=>{const t=e.data,{name:n,display_name:r}=t;return{id:n,displayName:r.toLowerCase()}}).sort((e,t)=>e.displayName.localeCompare(t.displayName)),s=r.filter(e=>!e.displayName.startsWith(i.Pb)).map(e=>e.id),o=r.filter(e=>e.displayName.startsWith(i.Pb)).map(e=>e.id);return{created:e.created_utc,description:e.description_md,descriptionHtml:e.description_html,descriptionRtJson:null,displayText:e.display_name,followerCount:e.num_subscribers,icon:e.icon_url,isFavorited:!!e.is_favorited,isFollowed:!1,isNSFW:t,isQuarantined:n,name:e.name,ownerId:e.owner_id,profileIds:o,subredditCount:e.subreddits.length,subredditIds:s,url:e.path.toLowerCase(),visibility:e.visibility}}),P=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),x=n("./src/reddit/i18n/utils.ts"),R=n("./src/reddit/models/Multireddit/index.ts"),A=n("./src/reddit/models/Toast/index.ts"),N=n("./src/reddit/selectors/multireddit.ts"),k=n("./src/reddit/selectors/platform.ts"),L=n("./src/reddit/selectors/subreddit.ts"),U=n("./src/reddit/selectors/user.ts"),M=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),F=n("./src/reddit/actions/multireddit/constants.ts");n.d(t,"f",(function(){return V})),n.d(t,"g",(function(){return W})),n.d(t,"b",(function(){return Q})),n.d(t,"d",(function(){return te})),n.d(t,"a",(function(){return oe})),n.d(t,"i",(function(){return de})),n.d(t,"c",(function(){return pe})),n.d(t,"e",(function(){return ge})),n.d(t,"h",(function(){return he}));const B=Object(a.a)(F.q),G=Object(a.a)(F.r),q=Object(a.a)(F.s),V=e=>async(t,n,r)=>{const{gqlContext:s}=r,{sort:o=i.N.HOT,multiredditName:c,username:a}=e,u=n(),l=u.platform.currentPage,b=l?l.queryParams:{},p=Object(N.d)(u,{multiredditName:c,username:a}),m=Object(d.a)(p.url,o,b),f=u.listings.postOrder.loadMore[m];if(!f)return;const O=u.listings.postOrder.api.pending[m],g=u.listings.postOrder.fetchedTokens,j=g[m]&&g[m][f.token]||!1;if(O||j)return;t(q({key:m,fetchedToken:f.token}));const y=p.url.replace(/\/$/,""),_=b.t?b.t.toUpperCase():void 0,h={after:f.token,includeIdentity:!1,includeSources:!1,path:y,range:_,sort:o.toUpperCase()},I=await Object(E.a)(s(),h),{data:v}=I.body,T=Object(C.a)(v);I.ok&&v&&v.multireddit?t(G(Object.assign({fetchedToken:f.token,key:m,meta:u.meta},T,Object(S.a)(u,m,T),{multiredditsModelsState:u.multireddits.models}))):t(B(Object.assign({error:{type:i.D.NOT_FOUND_ERROR},fetchedToken:f.token,key:m},I.body,Object(S.a)(u,m,T))))},H=Object(a.a)(F.t),K=Object(a.a)(F.u),W=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,s)=>{let{apiContext:o,gqlContext:i}=s;const c=r(),a=Object(U.i)(c);if(a&&!(!e&&Object(N.h)(c)||Object(N.i)(c)))if(n(H()),v.d.customFeeds(c)){const e=await _(i(),{includeSources:t});if(e.ok){const t=e.body.data.identity.allMultireddits.edges.map(e=>e.node),r=Object(T.b)(t);n(K(Object.assign({},r,{multiredditsModelsState:c.multireddits.models})))}}else{const e=await h(o());if(e.ok){const{id:t}=a,r=e.body.reduce((e,t)=>{let{data:n}=t;return n.subreddits.reduce((e,t)=>{let{data:n}=t;const r=Object(P.a)(n);return e[r.id]=r,e},e)},{}),s=[],o=e.body.reduce((e,t)=>{let{data:n}=t;const r=D(n),o=r.url.toLowerCase();return s.push(o),e[o]=r,e},{});n(K({multireddits:o,multiredditsByUser:{[t]:s},multiredditsModelsState:c.multireddits.models,profiles:{},subreddits:r}))}}}},Y=Object(a.a)(F.e),J=Object(a.a)(F.f),z=Object(a.a)(F.g),Q=e=>{let{description:t,displayName:n,shouldNavigate:r}=e;return async(e,s,c)=>{let{apiContext:a}=c;const d=s(),l=Object(U.i)(d);if(!l)return;e(J());const p=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi")),data:{model:JSON.stringify({description_md:n,display_name:t,visibility:"private",subreddits:[]})},method:i.ab.POST}))(a(),n,t);if(p.ok){const{id:t}=l;if(await e(z({multireddit:D(p.body.data),multiredditsModelsState:d.multireddits.models,userId:t})),r){e(Object(u.f)());const t=v.d.customFeeds(d)?p.body.data.path.toLowerCase():"/me/m/".concat(p.body.data.name);await e(Object(o.b)(t))}e(Object(b.e)({text:Object(x.c)("Custom feed created!")}))}else e(Y(p.error))}},X=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),c=Object(U.i)(o),a=Object(k.i)(o)?Object(k.m)(o):Object(k.b)(o),u=a&&a.routeMatch&&a.routeMatch.match;if(!u)return;const b=u.params,m=b.sort||i.N.HOT,{multiredditName:f,username:O}=b;if(!f)return;const g=Object(R.h)((O||c&&c.displayText||"").toLowerCase(),f.toLowerCase()),{queryParams:j}=u,y=Object(d.a)(g,m,j),_=p.t in j&&j[p.t].toUpperCase()||"",h=i.Nb[_]||!1,E=Object(U.i)(o);(O||E&&E.displayText)&&await e(Object(l.C)(y,(O||E.displayText).toLowerCase(),f.toLowerCase(),Object.assign({},s()(j,p.j),s()(j,p.i),{sort:m,t:Object(M.a)(m,h)})))},Z=Object(a.a)(F.k),$=Object(a.a)(F.l),ee=Object(a.a)(F.m),te=e=>{let{description:t,displayName:n,fromName:r,fromUsername:s}=e;return async(e,c,a)=>{let{apiContext:d}=a;const l=c(),p=Object(U.i)(l);if(!p||!p.displayText)return;const j=Object(R.h)((s||p.displayText).toLowerCase(),r.toLowerCase());e($());const y=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/copy")),data:{description_md:t.description,display_name:t.displayName,expand_srs:!0,from:t.from},method:i.ab.POST}))(d(),{from:j,displayName:n,description:t});if(y.ok){const t=D(y.body.data);e(Object(u.f)()),e(ee({multireddit:t,multiredditsModelsState:l.multireddits.models,userId:p.id})),e(Object(b.e)({text:Object(x.c)("Custom feed duplicated!"),buttonText:Object(x.c)("Go there"),buttonAction:Object(o.b)(t.url)}))}else e(Z(y.error)),e(Object(b.e)({text:Object(x.c)("Something went wrong duplicating ".concat(Object(x.b)("multiName",r)))}))}},ne=Object(a.a)(F.b),re=Object(a.a)(F.c),se=Object(a.a)(F.a),oe=e=>{let{communityInfo:t,identifier:n,multiredditNames:r}=e;return async(e,s,o)=>{let{apiContext:a}=o;const d=s(),l=Object(U.i)(d);if(!l||d.multireddits.api.addSubreddit.pending)return;e(ne({name:n.name}));const{displayText:p}=l;if(!p)return;const j=r.map(e=>"/user/".concat(p.toLowerCase(),"/m/").concat(e.toLowerCase())).join(","),y="".concat("profile"===n.type?i.Pb:"").concat(n.name),_=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/bulk_add/r/").concat(t)),data:{paths:n},method:i.ab.PUT}))(a(),y,j);if(_.ok){const s=Object(L.M)(d,{identifier:n})||t&&t.id||"",o=r.map(e=>Object(R.h)(p,e));e(Object(u.f)()),e(Object(b.e)({text:Object(x.c)("Successfully added ".concat(Object(x.b)("prefix","subreddit"===n.type?c.c.subreddit:c.c.profile)).concat(Object(x.b)("communityname",n.name)," to ").concat(Object(x.b)("numcommunities",r.length)," custom ").concat(Object(x.a)("feeds",["feed","feeds"],r.length),"!"))})),await e(re({communityInfo:t,id:s,multipaths:o,type:n.type})),1===r.length&&await e(X())}else{e(se(_.error));let t=Object(x.c)("Sorry, something went wrong adding ".concat(Object(x.b)("subredditName",n.name),"."));_.body&&(_.body.reason===F.d.TooManySubreddits?t=Object(x.c)("Maximum communities reached"):_.body.reason===F.d.InvalidSrQuarantine&&(t=Object(x.c)("".concat(Object(x.b)("prefix","subreddit"===n.type?c.c.subreddit:c.c.profile)).concat(Object(x.b)("communityname",n.name)," is invalid because it is quarantined")))),e(Object(b.e)({text:t,kind:A.b.Error}))}}},ie=Object(a.a)(F.w),ce=Object(a.a)(F.x),ae=Object(a.a)(F.v),de=e=>{let{id:t,multiredditName:n,name:r,type:s}=e;return async(e,o,c)=>{let{apiContext:a}=c;const d=o(),l=Object(U.i)(d);if(!l||!l.displayText||d.multireddits.api.removeSubreddit.pending)return;e(ie({id:t}));const{displayText:p}=l,j=Object(R.h)(p,n),y="".concat("profile"===s?i.Pb:"").concat(r),_=await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi").concat(n,"r/").concat(t)),method:i.ab.DELETE}))(a(),y,j);_.ok?(e(Object(u.f)()),e(ce({id:t,multipath:j,type:s})),e(Object(b.e)({text:Object(x.c)("".concat(Object(x.b)("subredditname",r)," removed from your custom feed!")),buttonText:Object(x.c)("undo"),buttonAction:oe({identifier:{name:r,type:s},multiredditNames:[n]})})),e(X())):(e(ae(_.error)),e(Object(b.e)({text:Object(x.c)("Sorry, something went wrong removing ".concat(Object(x.b)("subredditName",r),"."))})))}},ue=Object(a.a)(F.h),le=Object(a.a)(F.i),be=Object(a.a)(F.j),pe=e=>async(t,n,r)=>{let{apiContext:s}=r;const c=n();if(!Object(U.i)(c))return;t(le());const a=await((e,t)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi").concat(t)),method:i.ab.DELETE}))(s(),e);a.ok?(await t(be(e)),t(Object(u.f)()),await t(Object(o.b)("/")),t(Object(b.e)({text:Object(x.c)("Custom feed deleted!")}))):t(ue(a.error))},me=Object(a.a)(F.n),fe=Object(a.a)(F.o),Oe=Object(a.a)(F.p),ge=e=>{let{description:t,displayText:n,multipath:r,visibility:s}=e;return async(e,o,c)=>{let{apiContext:a}=c;const d=o();if(!Object(U.J)(d))return;e(fe());const l=await(e=>{let{context:t,description:n,displayText:r,multipath:s,visibility:o}=e;return Object(m.b)(Object(f.a)(t,[O.a]),{endpoint:Object(g.a)("".concat(t.apiUrl,"/api/multi").concat(s)),data:{model:JSON.stringify({description_md:n,display_name:r,visibility:o}),expand_srs:!0},method:i.ab.PUT})})({context:a(),description:t,displayText:n,multipath:r,visibility:s});l.ok?(await e(Oe(D(l.body.data))),e(Object(u.f)()),e(Object(b.e)({text:Object(x.c)("Custom feed updated!")}))):(e(me(l.error)),e(Object(b.e)({kind:A.b.Error,text:Object(x.c)("Something went wrong")})))}},je=Object(a.a)(F.z),ye=Object(a.a)(F.A),_e=Object(a.a)(F.B),he=e=>{let{multiredditName:t,username:n,toExcludeNames:r}=e;return async(e,s,o)=>{let{gqlContext:i}=o;const c=s(),a=Object(U.i)(c);if(!(n||a&&a.displayText))return;const d=Object(R.h)(n||a.displayText,t),u=c.multireddits.models[d];if(!u||!u.subredditIds)return;e(ye());const l=r&&r.reduce((e,t)=>{const n=Object(L.H)(c,t)||Object(L.I)(c,t);return n?[...e,n]:e},[]),b=await((e,t)=>Object(y.a)(e,Object.assign({},I,{variables:t})))(i(),{count:F.y,subredditIds:u.subredditIds,toExclude:l});if(b.ok){const{data:t}=b.body;e(_e({multipath:d,subreddits:Object(w.b)(t)}))}else e(je(b.error))}}},"./src/reddit/actions/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="NOTIFICATION_BANNER_SET",o="NOTIFICATION_BANNER_DISMISSED",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/notifications/constants.ts":function(e,t,n){"use strict";n.d(t,"n",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"s",(function(){return i})),n.d(t,"o",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"r",(function(){return u})),n.d(t,"q",(function(){return l})),n.d(t,"p",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"m",(function(){return _})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return E}));var r=n("./src/lib/makeActionCreator/index.ts");const s="NOTIFICATIONS__SHOW_PRE_PROMPT",o="NOTIFICATIONS__HIDE_PRE_PROMPT",i=Object(r.a)(s),c=Object(r.a)(o),a="NOTIFICATIONS__PERMISSION_GRANTED",d="NOTIFICATIONS__PERMISSION_DENIED",u=Object(r.a)("NOTIFICATIONS__PERMISSION_PENDING"),l=Object(r.a)(a),b=Object(r.a)(d),p="notification-preprompt-closed",m="1";var f,O;!function(e){e[e.NotificationsSupported=0]="NotificationsSupported",e[e.BrowserUnsupported=1]="BrowserUnsupported",e[e.LocalStorageUnavailable=2]="LocalStorageUnavailable",e[e.NotAllRequiredAPIsSupported=3]="NotAllRequiredAPIsSupported"}(f||(f={})),function(e){e.Granted="granted",e.Denied="denied",e.Closed="closed",e.Default="default"}(O||(O={}));const g="PUSH__GET_PREFERENCES_PENDING",j="PUSH__GET_PREFERENCES_LOADED",y="PUSH__GET_PREFERENCES_FAILED",_="PUSH__SET_PREFERENCES_PENDING",h="PUSH__SET_PREFERENCES_LOADED",E="PUSH__SET_PREFERENCES_FAILED"},"./src/reddit/actions/nps.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");var d=n("./node_modules/@r/frames/compiled.js"),u=n("./node_modules/lodash/debounce.js"),l=n.n(u),b=function(e){document.body.appendChild(function(e){let t;const n=l()((function(){t&&t.contentWindow&&d.postMessage(t.contentWindow,"resize.asknicely")}),500);return function(){return t=function(){const t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),d.listen("embedjail"),d.receiveMessage(t.contentWindow,"open.embedjail",(function(e){var r;r=e.detail,t.style.width=r.dimensions.width,t.style.height=r.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",n)})),d.receiveMessage(t.contentWindow,"close.embedjail",(function(e){t.parentElement.removeChild(t),d.stopListening("asknicely"),window.removeEventListener("resize",n),t=void 0})),window.addEventListener("message",(function(e){"https://web.archive.org/web/20191001041103/https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&d.postMessage(t.contentWindow,e.data+".asknicely")})),t}}(e)())};n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return _}));const p="NPS__URL_PENDING",m="NPS__URL_LOADED",f="NPS__URL_FAILED",O=Object(r.a)(p),g=Object(r.a)(m),j=Object(r.a)(f);let y=!1;const _=()=>async(e,t,n)=>{const r=t();if(r.nps.pending)return;if(y)return;e(O());const d=r.platform.currentPage&&r.platform.currentPage.queryParams.feature||"",u=!!r.user.account,l=await((e,t,n)=>Object(i.b)(Object(c.a)(e,[a.a]),{data:{feature:t,app_name:"web2x"},endpoint:"".concat(n?s.a.oauthUrl:s.a.apiUrl,"/api/jail/asknicely").concat(n?"":".json"),method:o.ab.GET}))(n.apiContext(),d,u);if(l.ok){const t=l.body;t.dest?(e(g(t)),b(t.dest),y=!0):e(j())}else e(j())}},"./src/reddit/actions/oldSiteRules.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));const a="OLD_SITE_RULES_LOADED",d=Object(r.a)(a),u=()=>async(e,t,n)=>{let{apiContext:r}=n;const a=await(e=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/site_rules.json"),method:s.ab.GET}))(r());if(a.ok){const{site_rules:t}=a.body;e(d({oldSiteRules:t}))}}},"./src/reddit/actions/originalContent.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/makeListingKey/index.ts"),a=n("./src/reddit/constants/originalContent.ts"),d=n("./src/reddit/constants/page.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/lib/makeApiRequest/index.ts"),b=n("./src/lib/omitHeaders/index.ts"),p=n("./src/reddit/constants/headers.ts"),m=n("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),f=n("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),O=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");function g(e){return e.data.children.reduce((e,t)=>{let{data:n}=t;if(e.users[n.name.toLowerCase()]=Object(m.a)(n),n.subreddit){const t=Object(O.a)(n.subreddit,n.name);t&&(e.profiles[t.id]=t,e.profilesAboutInfo[t.id]=Object(f.a)(n))}return e},{profiles:{},profilesAboutInfo:{},users:{}})}var j=(e,t)=>Object(l.b)(Object(b.a)(e,[p.a]),{data:t,endpoint:"".concat(e.apiUrl,"/api/oc_top_creators.json"),method:o.ab.GET}),y=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts");function _(e){return e.data.children.reduce((e,t)=>{let{data:n}=t;const r=Object(y.a)(n);return e.posts[r.id]=r,e},{posts:{}})}var h=(e,t)=>Object(l.b)(Object(b.a)(e,[p.a]),{data:t,endpoint:"".concat(e.apiUrl,"/original/").concat(t.category,"/top.json"),method:o.ab.GET}),E=(e,t)=>Object(l.b)(Object(b.a)(e,[p.a]),{data:t,endpoint:"".concat(e.apiUrl,"/api/oc_top_subreddits.json"),method:o.ab.GET}),I=n("./src/reddit/endpoints/page/originalContentPage.ts"),v=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=n("./src/reddit/models/OcSubreddits/index.ts");function T(e){return{discoverable:e.discoverable,name:e.name,displayText:e.display_text,submittable:e.submittable}}var C=n("./src/reddit/selectors/originalContent.ts");n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"q",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return U})),n.d(t,"p",(function(){return G})),n.d(t,"l",(function(){return q})),n.d(t,"k",(function(){return V})),n.d(t,"j",(function(){return H})),n.d(t,"s",(function(){return J})),n.d(t,"o",(function(){return z})),n.d(t,"n",(function(){return Q})),n.d(t,"m",(function(){return X})),n.d(t,"t",(function(){return te})),n.d(t,"i",(function(){return ne})),n.d(t,"h",(function(){return re})),n.d(t,"g",(function(){return se})),n.d(t,"r",(function(){return ae}));const w="OC_MORE_POSTS_PENDING",D="OC_MORE_POSTS_LOADED",P="OC_MORE_POSTS_FAILED",x=Object(i.a)(w),R=Object(i.a)(D),A=Object(i.a)(P),N=e=>async(t,n,r)=>{let{apiContext:i}=r;const l=n(),b=l.platform.currentPage,{sort:p=o.O,category:m=a.b}=e,f=b?b.queryParams:{},O=Object.assign({},f,{category:m}),g=Object(c.a)(d.g,p,O),j=l.listings.postOrder.loadMore[g],y=f[u.t]?f[u.t].toUpperCase():"",_=y in o.Nb&&o.Nb[y];if(!j)return;const h=l.listings.postOrder.api.pending[g],E=l.listings.postOrder.fetchedTokens,S=E[g]&&E[g][j.token]||!1;if(h||S)return;t(x({key:g,fetchedToken:j.token}));const T=await Object(I.a)(i(),Object.assign({after:j.token,category:m,dist:j.dist,sort:p,t:Object(v.a)(p,_)},s()(f,u.j))),C=l.listings.postOrder.ids[g],w=Object.assign({},T.body,{postIds:(T.body.postIds||[]).filter(e=>!C||!C.includes(e))});T.ok?t(R(Object.assign({key:g,fetchedToken:j.token,meta:l.meta},w))):t(A(Object.assign({key:g,error:T.error,fetchedToken:j.token},w)))},k="OC_CATEGORIES_PENDING",L="OC_CATEGORIES_LOADED",U="OC_CATEGORIES_FAILED",M=Object(i.a)(k),F=Object(i.a)(L),B=Object(i.a)(U),G=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(Object(C.d)(s))return;if(Object(C.c)(s).length>0)return;e(M());const i=await(e=>Object(l.b)(Object(b.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/oc_categories.json"),method:o.ab.GET}))(r());if(i.ok){const t=i.body.map(T);e(F(t))}else e(B(i.error))},q="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_PENDING",V="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_LOADED",H="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_FAILED",K=Object(i.a)(q),W=Object(i.a)(V),Y=Object(i.a)(H),J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b;return async(t,n,r)=>{let{apiContext:s}=r;t(K({category:e}));const o=await E(s(),{category:e,count:a.e});if(o.ok){const{subreddits:n,subredditsAboutInfo:r}=Object(S.c)(o.body.data.children.map(e=>{let{data:t}=e;return t}));t(W({category:e,subreddits:n,subredditsAboutInfo:r}))}else t(Y({category:e,error:o.error}))}},z="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_PENDING",Q="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_LOADED",X="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_FAILED",Z=Object(i.a)(z),$=Object(i.a)(Q),ee=Object(i.a)(X),te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b;return async(t,n,r)=>{let{apiContext:s}=r;t(Z({category:e}));const o=await j(s(),{category:e});if(o.ok){const{profiles:n,profilesAboutInfo:r,users:s}=g(o.body);t($({category:e,profiles:n,profilesAboutInfo:r,users:s}))}else t(ee({category:e,error:o.error}))}},ne="PAGE__ORIGINAL_CONTENT_BEST_POSTS_PENDING",re="PAGE__ORIGINAL_CONTENT_BEST_POSTS_LOADED",se="PAGE__ORIGINAL_CONTENT_BEST_POSTS_FAILED",oe=Object(i.a)(ne),ie=Object(i.a)(re),ce=Object(i.a)(se),ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b;return async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{meta:c}=i,d=Object(C.a)(i,{categoryName:e});if(Object(C.b)(i,{categoryName:e})||d.length)return;t(oe({category:e}));const u=await h(s(),{category:e,limit:a.a,sort:o.N.TOP,t:o.Nb.WEEK});if(u.ok){const{posts:n}=_(u.body);t(ie({category:e,meta:c,posts:n}))}else t(ce({category:e,error:u.error}))}}},"./src/reddit/actions/otherDiscussions/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/constants/index.ts");const s=e=>e.includes("/".concat(r.wb.DUPLICATES,"/")),o=e=>e.replace("/comments/","/duplicates/"),i="OTHER_DISCUSSIONS_POSTS_FAILED",c="OTHER_DISCUSSIONS_POSTS_LOADED",a="OTHER_DISCUSSIONS_POSTS_PENDING"},"./src/reddit/actions/page.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/app/strings/index.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/getParsedUserAgent/index.ts"),d=n("./src/reddit/actions/category.ts"),u=n("./src/reddit/actions/discoveryUnit.ts"),l=n("./src/reddit/actions/focusedVerticals/index.ts"),b=n("./src/reddit/actions/monthsToMinutes/post.ts"),p=n("./src/reddit/actions/multireddit/index.ts"),m=n("./src/lib/makeActionCreator/index.ts"),f=n("./src/lib/makeListingKey/index.ts"),O=n("./src/reddit/actions/otherDiscussions/constants.ts"),g=n("./src/lib/makeGqlRequest/index.ts"),j=n("./src/graphql/operations/OtherDiscussions.json"),y=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),_=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),h=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),E=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),I=n("./src/reddit/models/Post/index.ts");const v=Object(m.a)(O.a),S=Object(m.a)(O.b),T=Object(m.a)(O.c),C=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;const i=r(),c=Object(f.a)(e,null,{isOtherDiscussions:!0}),a=i.listings.postOrder.ids[c],d=!!i.listings.postOrder.api.error[c];if(a&&!d)return;n(T({key:c}));const u=await((e,t)=>Object(g.a)(e,Object.assign({},j,{variables:t})))(o(),t);if(!u.ok)return void n(v(u.error));const l=u.body,b=l&&l.data&&l.data.post;if(!b)return void n(S({count:0,key:c,meta:i.meta,postFlair:{},postId:e,postIds:[],posts:{},profiles:{},subreddits:{}}));const{otherDiscussions:p,otherDiscussionsCount:m}=b,{postFlair:O,postIds:C,posts:w,profiles:D,subreddits:P}=(e=>{const t={postFlair:{},postIds:[],posts:{},profiles:{},subreddits:{}},n=e=>{const n=Object(_.d)(e);t.posts[n.id]=n;const{crosspostRoot:r}=e;if(r&&r.type===I.a.Post&&r.postInfo){const e=Object(_.d)(r.postInfo);t.posts[e.id]=e}switch(e.__typename){case I.f.ProfilePost:t.profiles[e.profile.id]||(t.profiles[e.profile.id]=Object(h.a)(e.profile));break;case I.f.SubredditPost:t.subreddits[e.subreddit.id]||(t.subreddits[e.subreddit.id]=Object(E.a)(e.subreddit)),t.postFlair[e.subreddit.id]||(t.postFlair[e.subreddit.id]=Object(y.a)(e.subreddit))}return n.id};for(const{node:r}of e.edges){const e=n(r);e&&t.postIds.push(e)}return t})(p),x={count:m,key:c,meta:i.meta,postFlair:O,postId:e,postIds:C,posts:w,profiles:D,subreddits:P};n(S(x))};var w=n("./src/reddit/actions/pages/subreddit.ts"),D=n("./src/reddit/actions/railsWidgets.ts"),P=n("./src/reddit/actions/shortcuts.ts"),x=n("./src/reddit/actions/subredditSettings.ts"),R=n("./src/reddit/constants/thumbnails.ts"),A=n("./src/reddit/endpoints/governance/posts.ts"),N=n("./src/reddit/endpoints/page/commentsPage.ts"),k=n("./src/reddit/endpoints/page/frontpage.ts"),L=n("./src/reddit/endpoints/page/multiredditListing.ts"),U=n("./src/reddit/endpoints/page/subredditPage.ts"),M=n("./src/lib/constants/index.ts"),F=n("./src/lib/makeDraftKey/index.ts"),B=n("./src/lib/opener/index.ts"),G=n("./src/reddit/models/Gold/Coins/index.ts"),q=n("./src/reddit/models/PostDraft/index.ts"),V=n("./src/reddit/actions/dashboard.ts"),H=n("./src/reddit/actions/economics/helpers/async.ts"),K=n("./src/reddit/actions/externalAccount.ts"),W=n("./src/reddit/actions/gold/modals.ts"),Y=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),J=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),z=n("./src/lib/localStorageAvailable/index.ts"),Q=n("./src/config.ts"),X=n("./src/lib/omitHeaders/index.ts"),Z=n("./src/reddit/constants/headers.ts"),$=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),ee=n("./src/reddit/endpoints/governance/requester.ts");const te=Q.a.releaseNotesSubredditMap||{t5_kzsl3:"rn_funkygoose",t5_37jgj:"rn_ethtrader",t5_2t9ha:"rn_stellar",t5_3oeyf:"rn_fortnitebr"};var ne=n("./src/reddit/actions/governance/constants.ts");const re=Object(m.a)(ne.o),se=Object(m.a)(ne.p),oe=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;if(!te[t])return;if(!Object(z.a)())return;if(!n().user.account)return;const o=(e=>"RELEASE_NOTES-".concat(e))(t),i=localStorage.getItem(o);let c={};try{i&&(c=JSON.parse(i))}catch(u){return void localStorage.removeItem(o)}const a=Object.keys(c).reduce((e,t)=>c[t]>e?c[t]:e,0);if(Date.now()-M.w<a)return;const d=await function(e,t){const n=te[t.subredditId];return n?Object(ee.a)(Object(X.a)(e,[Z.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/new.json?limit=10&rtj=debug"),method:"get"}).then(e=>e.ok?Object.assign({},e,{body:{releaseNotes:e.body.data.children.map(e=>Object($.a)(e.data))}}):e):Promise.resolve({ok:!1,error:{},status:404})}(s(),{subredditId:t});if(d.ok){e(se(Object.assign({subredditId:t},d.body)));const n=d.body.releaseNotes.map(e=>e.id);n.filter(e=>!c[e]).length&&e(re());const r=n.reduce((e,t)=>(e[t]=Date.now(),e),{});localStorage.setItem(o,JSON.stringify(r))}}};var ie=n("./src/reddit/actions/login.ts"),ce=n("./src/reddit/actions/moderatingSubreddits.ts"),ae=(n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),n("./node_modules/history/index.js"),n("./src/reddit/actions/platform.ts")),de=n("./src/reddit/endpoints/me/index.ts"),ue=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),le=n("./src/reddit/actions/pages/appeal/constants.ts");const be=Object(m.a)(le.b),pe=Object(m.a)(le.a);var me=n("./src/reddit/actions/post.ts"),fe=n("./src/reddit/actions/profile/index.ts"),Oe=n("./src/reddit/actions/redditEmbed.ts"),ge=n("./src/reddit/actions/subreddit.ts"),je=n("./src/reddit/actions/toaster.ts"),ye=n("./src/reddit/actions/users.ts"),_e=n("./src/reddit/constants/adEvents.ts"),he=n("./src/reddit/constants/graphql.ts"),Ee=n("./src/reddit/constants/listings.ts"),Ie=n("./src/reddit/constants/page.ts"),ve=n("./src/reddit/constants/parameters.ts"),Se=n("./src/reddit/constants/postLayout.ts"),Te=n("./src/reddit/constants/posts.ts"),Ce=n("./src/reddit/contexts/PageLayer/index.tsx"),we=n("./src/reddit/helpers/commentList/index.ts"),De=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),Pe=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),xe=n("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),Re=n("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),Ae=n("./src/reddit/helpers/pixels.ts"),Ne=n("./src/reddit/models/Comment/index.ts"),ke=n("./src/reddit/models/Multireddit/index.ts"),Le=n("./src/reddit/models/Subreddit/index.ts"),Ue=n("./src/reddit/models/Toast/index.ts"),Me=n("./src/reddit/models/User/index.ts"),Fe=n("./src/reddit/selectors/category.ts"),Be=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),Ge=n("./src/reddit/selectors/experiments/exploreV2.ts"),qe=n("./src/reddit/selectors/experiments/frontpageSignup.ts"),Ve=n("./src/reddit/selectors/experiments/postSeo.ts"),He=n("./src/reddit/selectors/frontpage.ts"),Ke=n("./src/reddit/selectors/goldPurchaseModals.ts"),We=n("./src/reddit/selectors/inlineSubredditEditing.ts"),Ye=n("./src/reddit/selectors/monthsToMinutes.ts"),Je=n("./src/reddit/selectors/multireddit.ts"),ze=n("./src/reddit/selectors/platform.ts"),Qe=n("./src/reddit/selectors/posts.ts"),Xe=n("./src/reddit/selectors/runTimeEnvVars.ts"),Ze=n("./src/reddit/selectors/subreddit.ts"),$e=n("./src/reddit/selectors/user.ts"),et=n("./src/lib/makeCommentsPageKey/index.ts"),tt=n("./src/lib/matchRoute/index.ts"),nt=n("./src/reddit/actions/ads/index.ts"),rt=n("./src/reddit/featureFlags/index.ts"),st=n("./src/reddit/helpers/canonicalUrls.ts"),ot=n("./src/reddit/helpers/chooseVariant/index.ts"),it=n("./src/lib/raven/index.ts"),ct=(n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/get.js")),at=n.n(ct),dt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ut={path:"",extraKeys:["id"],disableExtra:!1,replaceMissedObject:!1};var lt;!function(e){e.NotEqual="ne",e.Missed="m",e.Length="l"}(lt||(lt={}));const bt=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,pt=(e,t,n)=>{let{disableExtra:r,extraKeys:s}=n;return r||!bt(t)?e:s.reduce((e,n)=>"".concat(e).concat(t[n]?",".concat(n,"=").concat(t[n]):""),e)},mt=(e,t,n)=>n?"".concat(e,"[").concat(t,"]"):"".concat((e&&"".concat(e,"."))+t),ft=e=>bt(e)?"[Object]":e,Ot=e=>{const{o1:t,o2:n,path:r,diffs:s=[],replaceMissedObject:o}=e,i=dt(e,["o1","o2","path","diffs","replaceMissedObject"]);if(Array.isArray(t)&&Array.isArray(n))return t.length!==n.length?[...s,{k:lt.Length,p:r,o1:t,o2:n}]:t.reduce((s,o,c)=>[...s,...Ot(Object.assign({},e,{o1:t[c],o2:n[c],path:mt(r,pt(c,t[c]||n[c],i),!0)}))],s);if(bt(t)&&bt(n)){let i=s;const c=[];for(const s in t)c.push(s),i=i.concat(n.hasOwnProperty(s)?Ot(Object.assign({},e,{o1:t[s],o2:n[s],path:mt(r,s)})):{k:lt.Missed,p:mt(r,s),o1:o?ft(t[s]):t[s]});for(const e in n)c.includes(e)||i.push({k:lt.Missed,p:mt(r,e),o2:o?ft(n[e]):n[e]});return i}return t!==n?[...s,{k:lt.NotEqual,p:r,o1:t,o2:n}]:s},gt=e=>e[0]instanceof RegExp,jt=(e,t)=>{let[n,r]=e;return n.test(t.p)&&r(t.o1,t.o2)},yt=(e,t,n)=>{const r=e.shift();if(!r||!jt(r,t))return!1;for(const[s,o]of e){const e=s.exec(t.p);if(!e||!o(at()(n.expected,e[0]),at()(n.actual,e[0])))return!1}return!0},_t=e=>{if(Array.isArray(e))return e.reduce((e,t)=>e+_t(t),e.length);if(!bt(e))return 0;const t=Object.keys(e);return t.reduce((t,n)=>t+_t(e[n]),t.length)},ht=/^(account|posts|preferences|profiles|subreddits)\.(?:(t\d{1}_[a-zA-Z0-9]+)\.)?.*$/;var Et,It=(e,t)=>Ot(Object.assign({},ut,{o1:e,o2:t})),vt=n("./src/telemetry/index.ts"),St=n("./src/lib/base64/index.ts"),Tt=n("./src/lib/makeRequest/index.ts");!function(e){e.NumberOfDiffs="numberOfDiffs",e.DetailedDiffs="detailedDiffs"}(Et||(Et={}));const Ct=e=>{switch(e){case Et.NumberOfDiffs:return M.t.NUMBER_OF_DIFFS;case Et.DetailedDiffs:return M.t.DETAILED_DIFFS}};function wt(e,t){return Object(Tt.b)({method:M.ab.POST,endpoint:"/counters/".concat(Ct(t.type)),data:{value:Object(St.a)(JSON.stringify(Object.assign({appName:e},t.data)))},type:"json"})}var Dt=async function(e){let{fetchFn:t,context:n,variables:r,normalizer:s,dataToCompare:o,responseName:i,responseTypeName:c,diffSettings:a,beforeCompare:d}=e;try{const e=Date.now(),u=await t(n,r);if(u.ok){const t=s(u.body.data),n=Date.now()-e;d&&d(o.response,t);const r=It(o.response,t),l=a&&a.rules?((e,t,n)=>e.filter(e=>{for(const r of t)if(gt(r)){if(jt(r,e))return!1}else if(n&&yt(r,e,n))return!1;return!0}))(r,a.rules,{expected:o.response,actual:t}):r,b=l.length;return((e,t,n,r,s,o)=>{const i=t?"".concat(e,"_").concat(t):e;Object(vt.b)(M.l.Redesign,{type:"gql",responseName:i,duration:o}),wt(M.l.Redesign,{type:Et.NumberOfDiffs,data:{responseName:i,numberOfDiffs:n,totalDiffs:r}}),wt(M.l.Redesign,{type:Et.DetailedDiffs,data:Object.assign({responseName:e},s)})})(i,c,b,_t(o.response),(e=>{const t={account:0,posts:0,preferences:0,profiles:0,subreddits:0},n={posts:new Set,profiles:new Set,subreddits:new Set};for(const r of e){const e=r.p.match(ht);if(!e)continue;const s=e[1],o=e[2];switch(s){case"preferences":case"account":t[s]++;break;default:n[s]&&o&&(t[s]++,n[s].add(o))}}for(const r in n)t[r]/=n[r].size||1;return t})(l),n),l.length&&Object(it.c)("Compare responses: ".concat(i),{extra:Object.assign({diff:l,numberOfDiffs:b},o.start&&{responsesDist:e-o.start}),settings:{serverLogging:!1}}),Object.assign({},u,{body:t})}return Object(it.c)("Gql error in ".concat(i),{extra:{error:u.error},settings:{serverLogging:!1}}),u}catch(u){Object(it.b)(u)}},Pt=n("./src/reddit/helpers/timeApiRoute/index.ts"),xt=(n("./src/reddit/models/MonthsToMinutes/index.ts"),n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts")),Rt=n("./src/reddit/actions/seo/linksModule.ts"),At=n("./src/reddit/actions/subreddit/subredditPosts.ts"),Nt=n("./src/reddit/helpers/graphql/helpers.ts"),kt=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),Lt=n("./src/reddit/selectors/experiments/railsWidgets.ts"),Ut=n("./src/reddit/selectors/seo/linksModule.ts");n.d(t,"n",(function(){return Mt})),n.d(t,"j",(function(){return Ft})),n.d(t,"I",(function(){return Bt})),n.d(t,"h",(function(){return Gt})),n.d(t,"g",(function(){return qt})),n.d(t,"f",(function(){return Vt})),n.d(t,"E",(function(){return Yt})),n.d(t,"z",(function(){return Zt})),n.d(t,"d",(function(){return $t})),n.d(t,"b",(function(){return en})),n.d(t,"a",(function(){return tn})),n.d(t,"t",(function(){return rn})),n.d(t,"s",(function(){return sn})),n.d(t,"u",(function(){return on})),n.d(t,"r",(function(){return cn})),n.d(t,"c",(function(){return an})),n.d(t,"A",(function(){return un})),n.d(t,"B",(function(){return ln})),n.d(t,"o",(function(){return bn})),n.d(t,"H",(function(){return pn})),n.d(t,"i",(function(){return mn})),n.d(t,"y",(function(){return On})),n.d(t,"m",(function(){return gn})),n.d(t,"l",(function(){return jn})),n.d(t,"k",(function(){return yn})),n.d(t,"C",(function(){return In})),n.d(t,"D",(function(){return vn})),n.d(t,"e",(function(){return Sn})),n.d(t,"v",(function(){return Cn})),n.d(t,"q",(function(){return wn})),n.d(t,"p",(function(){return Dn})),n.d(t,"F",(function(){return Pn})),n.d(t,"G",(function(){return xn})),n.d(t,"w",(function(){return Rn})),n.d(t,"x",(function(){return An}));const Mt=25,Ft=100,Bt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return async(n,r,s)=>{let{routes:i}=s;const c=r();Object(tt.a)(e,i,c)?n(Object(o.b)(e)):t?Object(B.b)(e,"_blank"):window.location.assign(e)}},Gt="PAGE__FRONTPAGE_PENDING",qt="PAGE__FRONTPAGE_LOADED",Vt="PAGE__FRONTPAGE_FAILED",Ht=Object(m.a)(Gt),Kt=Object(m.a)(qt),Wt=Object(m.a)(Vt),Yt=(e,t)=>{const n=e.user.language;return Object(i.a)(n,"title.".concat(t))},Jt=[/^posts\.[a-z_0-9]+/,(e,t)=>t&&Object(I.g)(t.author)],zt=(e,t)=>async(n,r,s)=>{const o=r();if(o.listings.postOrder.api.pending[e])return;const c=Se.e[Object(Ce.P)(o,{})];t.isMobile=Object(a.e)(o.meta.userAgent),t.recentPostIds=o.posts.recent,t.layout=c,t.useMockData=!!o.platform.currentPage&&(!!o.platform.currentPage.queryParams.useMockData&&Object(Xe.b)(o)),n(Ht({key:e}));const u=Object(Ye.e)(o),l=Object(Ye.g)(o,{expEventOverride:!1}),b=u&&l;if(b)0;else{const e=o.platform.currentPage,n=e&&e.url;n&&(t.clickUrl=n)}const p=b?()=>Object(U.a)(s.apiContext(),u,t):()=>Object(k.b)(s.gqlContext(),Object(k.d)(o,t),Object($e.Q)(o)),m=b?"multireddit":"index",f=Date.now(),O=await Object(Pt.a)(m,p);n(Object(ae.m)(O.status));const g="error-".concat(e);if(O.ok){const i=O.body;n(Kt(Object.assign({key:e,meta:o.meta},i)));const c=[ce.c()(n,r,s)];(Object(Ge.a)(o)||!l&&Object(Be.g)(o))&&c.push(n(d.h())),!l&&Object(Lt.e)(o)&&await n(Object(D.a)()),await Promise.all(c),n(je.f(g)),n(Object(nt.b)(xt.a.FRONTPAGE)),!b&&rt.d.enableShadowMode(o)&&Dt(Object.assign({},((e,t)=>{const n=[M.N.CONTROVERSIAL,M.N.TOP].includes(e)&&!t?M.Ob:t;return{responseName:"home_feed",responseTypeName:"".concat(e).concat(n?"_"+n:"")}})(t.sort,t.t),{fetchFn:k.c,normalizer:xe.a,variables:Object(k.d)(o,t),context:s.gqlContext(),dataToCompare:{response:i,start:f},beforeCompare:Nn,diffSettings:{rules:[[/.*/,(e,t)=>void 0===e&&[!1,null,void 0].includes(t)],[/^features$/,Nt.f],[/^posts\..+\.eventsOnRender$/,Nt.f],[/^posts\..+\.isRoadblock$/,Nt.f],[/^posts\..+\.postCategories$/,Nt.f],[/^account\.geopopular$/,Nt.f],[/^account\.inChat$/,Nt.f],[/^account\.showTwitter$/,Nt.f],[/^posts\..*\.media\.videoPreview$/,Nt.f],[/^posts\..+\.score$/,Nt.g],[/^subreddits\..+\.subscribers$/,Nt.g],[/^posts\..+\.upvoteRatio$/,Nt.f],[/^subreddits\..+\.primaryColor$/,Nt.d],[/^posts\..+\.flair\[\d{1,2}\]\.backgroundColor$/,Nt.d],[/^account.showRecentPosts$/,(e,t)=>!!e===t],[/^posts\..+\.media\.resolutions\[\d+\]\.url$/,(e,t)=>Object(Nt.b)(e,t,["height"])],[/^posts\..+\.media\.posterUrl$/,(e,t)=>Object(Nt.b)(e,t,["height"])],[/^posts\..+\.preview\.url$/,(e,t)=>Object(Nt.b)(e,t,["format"])],[/^posts\..+\.thumbnail\.url$/,(e,t)=>t===R.a.NSFW],[/^trendingSubredditIds\[\d+\]$/,Nt.f],[/^subreddits\..+\.wls$/,e=>null==e],[/^subreddits\..+\.whitelistStatus$/,(e,t)=>("no_ads"===e||"null_value"===e)&&void 0===t],[/^posts\..+\.media\.obfuscated$/,Nt.c],[/^posts\..+\.source\.outboundUrl$/,(e,t)=>""===e&&void 0===t||Object(Nt.e)(e,t,["app_name","token"])],[/^posts\..+\.source\.outboundUrl(Created|Expiration)$/,(e,t)=>Math.abs(t-e)<1e4],[/^posts\..*\.numComments/,(e,t)=>Math.abs(t-e)<=10],[/^postFlair\..*\.displaySettings\.position/,(e,t)=>""===e&&null===t],[/^subreddits\..*\.freeFormReports$/,e=>null==e],[/^posts\..*\.sendReplies$/,(e,t)=>void 0===t],[/^posts\..+\.flair\[\d+\]\.templateId$/,(e,t)=>null===e&&void 0===t],[/^postInstances\[\d+\]$/,Nt.f],[/^account\.hasAndroidSubscription$/,(e,t)=>!1===e&&void 0===t],[/^account\.hasIOSSubscription$/,(e,t)=>!1===e&&void 0===t],[/^posts\..+\.media\.content$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.media\.markdownContent$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.crosspostParentId$/,(e,t)=>null===e&&void 0===t],[/^posts\..+\.crosspostRootId$/,(e,t)=>null===e&&void 0===t],[/^account\.accountIcon$/,(e,t)=>null===e&&void 0===t],[/^account\.email$/,(e,t)=>null===e&&void 0===t],[/^subreddits\..+\.communityIcon$/,(e,t)=>""===e&&void 0===t],[[/^posts\..*\.sendReplies$/,(e,t)=>!1===t],Jt],[/^posts\..*\.domainOverride$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.callToAction$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.contentCategories$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.modReports$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.previewComments$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.userReports$/,(e,t)=>void 0===e&&t&&0===t.length]]}}))}else n(Wt(Object.assign({error:O.error,key:e},O.body))),n(je.e({id:g,kind:Ue.b.Error,text:Object(i.a)(o.user.language,"listings.toast.error"),buttonText:Object(i.a)(o.user.language,"listings.toast.retryButton"),buttonAction:zt(e,t)}))},Qt=(e,t)=>async(n,r)=>{const i=r();if(!1===i.user.temporaryGQL.isLoggedIn){if(Object(Ge.a)(i))return void n(Object(o.b)(Object(c.a)(Ee.c[Ie.d.Explore],e.queryParams)))}const a=Object(He.a)(i),{sort:d=a}=e.params,u=Object(f.a)(Ie.b,d,e.queryParams),l=i.listings.postOrder.ids[u],b=i.listings.postOrder.api.error[u],p=i.listings.postOrder.api.pending[u],m=ve.t in e.queryParams&&e.queryParams[ve.t].toUpperCase()||"",O=m in M.Nb&&M.Nb[m];if(p||l&&!b&&!t)return void(l&&(n(ae.l({title:Yt(r(),"frontpage")})),i.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(nt.b)(xt.a.FRONTPAGE))})));await n(zt(u,Object.assign({},s()(e.queryParams,ve.j),s()(e.queryParams,ve.i),{sort:d,t:Object(Pe.a)(d,O)}))),n(ae.l({title:Yt(r(),"frontpage")})),Object(ot.b)(i,{experimentEligibilitySelector:ot.a,experimentName:"redesign_aa"});const g=Object(qe.a)(i,{});Object(qe.e)(g)&&n(Object(ie.b)())},Xt=()=>async(e,t)=>{const n=t();if(!Object(Ut.a)(n))return e(Object(Rt.b)())},Zt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;await Promise.all([n(Object(l.a)()),n(Qt(e,t)),n(Xt())])},$t="PAGE__COMMENTSPAGE_PENDING",en="PAGE__COMMENTSPAGE_LOADED",tn="PAGE__COMMENTSPAGE_FAILED",nn=Object(m.a)($t),rn=Object(m.a)(en),sn=Object(m.a)(tn),on=e=>async(t,n)=>{const{partialPostId:r,partialCommentId:s}=e.params,{subredditName:o}=e.params||"",c=r?Object(I.l)(r):"",a=s&&Object(Ne.e)(s),{path:u,queryParams:l}=e,p=Object(O.d)(u);p&&t(C(c,{postId:c}));const m=n(),{instanceId:g}=l,{hasSortParam:j,sortToUse:y}=Object(De.a)(m,c),_=["context","depth","limit",ve.e].reduce((e,t)=>{const n=parseInt(l[t]);return isNaN(n)||(e[t]=n),e},{subredditName:o,hasSortParam:j,instanceId:g,include_categories:!0});j&&(_.sort=y),_.onOtherDiscussions=p,t(me.l(c)),await t(cn(c,a,_,y));const h=n().posts.models[c];if(h){const r=((e,t)=>{const n=Object(Qe.V)(e,{postId:t});return n?Object(i.a)(e.user.language,"title.commentsPage",{postTitle:e.posts.models[t].title,subreddit:n.name}):""})(n(),c),s=Object(Ze.N)(n(),{identifier:h.belongsTo});if(h.belongsTo.type!==Te.a.SUBREDDIT||h.isSponsored)h.belongsTo.type===Te.a.PROFILE&&await t(fe.d(s.name));else{!!Object(Ze.R)(m,{subredditId:h.belongsTo.id})||await t(ge.o(s.name))}{const e=Object(kt.f)(m);if(!Object(ze.i)(m)&&!Object(Le.c)(s)&&Object(Ve.b)(m)){const e=Object(f.a)(o,M.N.TOP,{t:M.Nb.WEEK}),r=Object(Qe.D)(n(),{listingKey:e});r&&0!==r.length||t(Object(At.a)({sort:M.H.TOP,subredditName:s.name,range:M.Nb.WEEK.toUpperCase(),adContext:{layout:he.a.Card,reddaid:m.user.reddaid,sourcePostId:c}}))}if(e&&!Object(Le.c)(s)){const n=Object(Ye.e)(m);n&&!Object(Ye.n)(m)?t(Object(w.h)(n,{sort:M.N.HOT})):Object(kt.e)(e)&&t(Object(w.h)(s.name,{sort:M.N.TOP}))}t(Object(K.p)())}t(ae.l({title:r}));const a=n().posts.instances[c]?e.queryParams.instanceId:h.postId;t(Object(P.c)(a));{const e=Object(Fe.g)(n(),{subredditName:s.name});await Promise.all(e.map(e=>t(d.k(e))))}}else t(ae.l({title:Yt(n(),"frontpage")}));const{routePrefix:E}=e.params;Te.b[E]===Te.a.PROFILE?Object(st.d)(n(),t,e):Object(st.b)(n(),t,e),Object(Ye.w)(n())&&await t(Object(b.b)(c))},cn=(e,t,n,r)=>async(s,o,i)=>{const c=o(),a=Object(et.a)(e,t,n),{subredditName:d}=n,l=c.commentsPage.keyToHeadCommentId.hasOwnProperty(a),b=c.commentsPage.api.fullyLoaded[a],p=c.commentsPage.api.error[a],m=c.commentsPage.api.pending[a],f=!c.user.temporaryGQL.isLoggedIn,O=r===M.q.CHAT,g=!!c.platform.lastPage;if((m||l&&!p)&&!(O&&g)){if(l&&!c.sidebarPromotedPosts.firstFetch){const t=Object(ze.i)(c)?xt.a.COMMENTS_OVERLAY:xt.a.COMMENTS;window.addEventListener("load",()=>{s(Object(nt.b)(t)),Math.random()<=.01&&s(Object(nt.a)(e))})}if(b||s(un(e,t,n)),d&&(rt.d.spPoints(o())||rt.d.spSupport(o())||rt.d.spLoadtest(o()))){const e=Object(Ze.H)(o(),d);e&&window.addEventListener("load",()=>{s(oe({subredditId:e}))})}return}s(u.h());const j=c.user.prefs.commentMode;s(nn({key:a,postId:e,commentMode:j}));const y=Object.assign({},n,O?{sort:M.q.LIVE,depth:3}:f?{sort:n.sort,depth:2}:{sort:n.sort});{const t=Object(Qe.K)(o(),{postId:e});t&&t.numComments&&t.numComments>Ft&&(y.truncate=Mt)}let _,h=await Object(Pt.a)("comments",()=>Object(N.a)(i.apiContext(),e,t,y));if(s(Object(ae.m)(h.status)),h.ok){const t=Object.keys(h.body.posts).filter(e=>!!h.body.posts[e].isMeta),n=h.body.posts[e];if(t.length){const e=await Object(A.a)(i.apiContext(),n.belongsTo.id,t);e.ok&&(_=e.body)}const r=Object(we.a)(h.body,e,c);s(rn(Object.assign({key:a,postId:e,meta:c.meta,governance:_,shouldCollapse:r},h.body)))}{const r=Object(Qe.K)(o(),{postId:e});r&&h.body.comments&&Object.keys(h.body.comments).length<r.numComments?s(un(e,t,n)):h.ok&&s(dn({key:a}));const i=Object(ze.i)(c)?xt.a.COMMENTS_OVERLAY:xt.a.COMMENTS;s(Object(nt.b)(i)),Math.random()<=.01&&s(Object(nt.a)(e))}if(h.ok){await ce.c()(s,o,i),s(je.f(a));const t=Object(Qe.K)(o(),{postId:e});Object(Ae.a)(t.events,_e.a.CommentsView),t&&"subreddit"===t.belongsTo.type&&h.body.comments&&await s(Object(H.a)({commentIds:Object.keys(h.body.comments),postIds:[t.id],subredditId:t.belongsTo.id}))}else d&&(s(Object(w.j)({key:a})),h=await Object(Pt.a)("subreddit",()=>Object(U.a)(i.apiContext(),d,{})),s(Object(ae.m)(h.status))),s(Object(w.e)(h,d)),s(sn(Object.assign({error:h.error,key:a},h.body)))},an="PAGE__COMMENTSPAGE_LOADED_FULL",dn=Object(m.a)(an),un=(e,t,n)=>async(r,s,o)=>{const i=Object(et.a)(e,t,n),c=s(),a=await Object(N.a)(o.apiContext(),e,t,n);if(r(Object(ae.m)(a.status)),a.ok){const t=Object(we.a)(a.body,e,c);r(rn(Object.assign({key:i,postId:e,meta:c.meta,shouldCollapse:t},a.body))),r(dn({key:i}));const n=s().posts.models[e],o=n&&Object(Qe.V)(s(),{postId:n.id});n&&"subreddit"===n.belongsTo.type&&o&&Object(We.a)(c,{subredditId:o.id})&&r(Object(x.I)(o.name,o.id)),n&&"subreddit"===n.belongsTo.type&&a.body.comments&&await r(Object(H.a)({commentIds:Object.keys(a.body.comments),postIds:[n.id],subredditId:n.belongsTo.id}))}else r(sn(Object.assign({error:a.error,key:i},a.body)))},ln=e=>async(t,n,r)=>{await t(Object(Oe.c)(e,!0))},bn=()=>async(e,t,n)=>{await e((()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=await Object(de.a)(r());if(o.ok&&o.body)if(o.body.account)if(s.user.account&&s.user.account.isFPR){const e="https://web.archive.org/web/20191001041103/https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/my-account-was-suspended-or-locked";window.location.href=e}else e(be(o.body));else Object(ue.a)(e,s);else e(pe(o.error))})())},pn=(e,t,n)=>async(r,s,i)=>{let{routes:c}=i;const a=s(),d=(t||a.platform.currentPage).routeMatch.match,u=Object(tt.a)(d.url,c);if(!u)return;const l=e.metaKey||e.ctrlKey||1===e.button;if(u.route&&u.route.meta&&(u.route.meta.name===M.wb.INDEX||u.route.meta.name===M.wb.MULTIREDDIT||u.route.meta.name===M.wb.SUBREDDIT))l?window.open(d.url):n?r(Object(o.b)(d.url)):await r(u.route.action(d,!0));else if(u.match&&u.match.params&&u.match.params.subredditName){const{subredditName:e}=u.match.params,t="/r/".concat(e,"/");if(l)window.open(t);else if(n)r(Object(o.b)(t));else{const n=Object(f.a)(e,M.N.HOT);await r(Object(o.b)(t)),r(Object(w.i)(n,e,{}))}}},mn="PAGE__FRONTPAGE_RELOADED",fn=Object(m.a)(mn),On=e=>async(t,n,r)=>{const s=n(),o=s.platform.currentPage.routeMatch.match;Object(Ke.q)(s)||Object(Ke.d)(s)||(e||t(fn()),await t(Zt(o,!0)))},gn="PAGE__MULTIREDDIT_FEED_PENDING",jn="PAGE__MULTIREDDIT_FEED_LOADED",yn="PAGE__MULTIREDDIT_FEED_FAILED",_n=Object(m.a)(gn),hn=Object(m.a)(jn),En=Object(m.a)(yn),In=(e,t,n,r,s)=>async(o,c,a)=>{const{gqlContext:d}=a,u=c();if(u.listings.postOrder.api.pending[e])return;o(_n({key:e})),r.layout=Se.e[Object(Ce.P)(u,{})];const l={path:Object(ke.h)(t,n).replace(/\/$/,""),includeIdentity:!0,includeSources:!0,sort:r.sort?r.sort.toUpperCase():void 0,range:r.t?r.t.toUpperCase():void 0},b=await Object(Pt.a)("multireddit",()=>Object(L.a)(d(),l)),{data:m}=b.body,f="error-".concat(e);if(b.ok&&m){const r=Object(Re.a)(m);if(!m.multireddit)return s&&o(je.f(f)),void o(En(Object.assign({},r,{error:{type:M.D.NOT_FOUND_ERROR},key:e})));o(hn(Object.assign({key:e,meta:u.meta},r,{account:r.account||Object($e.i)(u),multiredditsModelsState:u.multireddits.models}))),s&&o(je.f(f)),o(Object(p.h)({multiredditName:n,username:t})),window.addEventListener("load",()=>{o(Object(nt.b)(xt.a.MULTIREDDIT))})}else s&&o(je.e({id:f,kind:Ue.b.Error,text:Object(i.a)(u.user.language,"listings.toast.error"),buttonText:Object(i.a)(u.user.language,"listings.toast.retryButton"),buttonAction:In(e,t,n,r,s)}))},vn=(e,t)=>async(n,r)=>{const{multiredditName:i}=e.params;let{username:a}=e.params;if(!a){let t=r();if(t.user.session&&t.user.session.unsafeLoggedOut)return void n(Object(o.c)("/"));!t.user.account&&t.user.session&&await n(ye.x()),t=r();const{account:s}=t.user;if(!s)return void n(Object(o.c)("/"));if(rt.d.customFeeds(t)){a=Object(Me.f)(s);let t="/user/".concat(a,"/m/").concat(i);const{sort:r}=e.params;return t+=r?"/".concat(r):"",void n(Object(o.c)(Object(c.a)(t,e.queryParams)))}}const{sort:d=M.N.HOT}=e.params,u={multiredditName:i,username:a},l=r();a||(a=l.user.account?Object(Me.f)(l.user.account):"");const b=Object(ke.h)(a,i),p=Object(f.a)(b,d,e.queryParams),m=l.listings.postOrder.ids[p],O=l.listings.postOrder.api.error[p],g=l.listings.postOrder.api.pending[p],j=ve.t in e.queryParams&&e.queryParams[ve.t].toUpperCase()||"",y=j in M.Nb&&M.Nb[j];if(g||m&&!O&&!t)return void(m&&(n(ae.l({title:Object(Je.f)(r(),u)})),l.sidebarPromotedPosts.firstFetch||n(Object(nt.b)(xt.a.MULTIREDDIT))));await n(In(p,a,i,Object.assign({},s()(e.queryParams,ve.j),s()(e.queryParams,ve.i),{sort:d,t:Object(Pe.a)(d,y)}),!0));const _=r();Object(Je.d)(_,u)&&n(ae.l({title:Object(Je.f)(r(),u)})),Object(st.c)(_,n,e)},Sn="PAGE__DASHBOARD_PENDING",Tn=Object(m.a)(Sn),Cn=e=>async(t,n,r)=>{const o=n(),i=M.N.HOT,{subredditName:c,section:a,component:d}=e.params,u=Object(F.a)(q.c.replyToComment,"example-comment");t(Tn({draftKey:u})),a&&d&&t(V.d("".concat(a,"/").concat(d)));const l=c&&o.dashboard.subredditLoaded[c];if(c&&!l){t(V.f(c));const n=Object(f.a)(c,i,e.queryParams),r=ve.t in e.queryParams&&e.queryParams[ve.t].toUpperCase()||"",o=r in M.Nb&&M.Nb[r];await t(Object(w.i)(n,c,Object.assign({},s()(e.queryParams,ve.j),s()(e.queryParams,ve.i),{sort:i,t:Object(Pe.a)(i,o)}),!0)),t(V.e(c))}else{const n=Object(f.a)(Ie.b,i,{}),r=ve.t in e.queryParams&&e.queryParams[ve.t].toUpperCase()||"",o=r in M.Nb&&M.Nb[r];await t(zt(n,Object.assign({},s()(e.queryParams,ve.j),s()(e.queryParams,ve.i),{sort:i,t:Object(Pe.a)(i,o)})))}},wn=e=>async(t,r)=>{const s=r();t(ae.l({title:Yt(s,"coins")})),Object($e.J)(s)||await t(ye.x());const i=r(),c=e.queryParams;if(c.thanks){const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{c.gild&&t(Y.e({thingId:"THING_ID_PLACEHOLDER"})),t(Y.g({coinPackage:G.a.coins500})),t(e({confirmed:!1}))},1e3)}else if(c.qty){if(!Object($e.J)(i)||!rt.d.canProxyGild(i))return void t(Object(o.c)("/coins"));const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.selectPaymentMethod);setTimeout(()=>{const n=parseInt(c.qty),r=Object(G.c)(n);t(Y.g({coinPackage:r})),t(e(M.sb))},500)}},Dn=e=>async(e,t)=>{const n=t();e(ae.l({title:Yt(n,"coins")}))},Pn=e=>async(t,r)=>{const s=r();if(t(ae.l({title:Yt(s,"premium")})),e.queryParams.thanks){const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{t(J.e()),t(e({confirmed:!1}))},1e3)}Object($e.J)(s)||await t(ye.x())},xn=e=>async(e,t)=>{const n=t();e(ae.l({title:Yt(n,"publicAccessNetwork")})),Object($e.J)(n)||await e(ye.x())},Rn=e=>async(t,n)=>{const r=n(),s=e.params.thingId;t(Object(W.c)(s)),Object($e.J)(r)||await t(ye.x());const o=n();if(!Object($e.J)(o))return t(Object(W.f)())},An=e=>async(e,t)=>{const n=t();Object($e.J)(n)||await e(ye.x());const r=t();if(!Object($e.J)(r))throw new Error("Failed to login")},Nn=(e,t)=>{const n={};for(const r in e.postInstances)for(const s of e.postInstances[r]){const o=e.postIds.indexOf(s),i=t.postIds[o];e.posts[s]&&t.posts[i]&&e.posts[s].postId===t.posts[i].postId&&(n[i]={postId:r,gwAdPostId:s,index:o})}for(const r in n){const e=n[r];if(t.postInstances[e.postId]){const n=t.postInstances[e.postId].indexOf(r);-1!==n&&(t.postInstances[e.postId][n]=e.gwAdPostId)}t.posts[e.gwAdPostId]=t.posts[r],delete t.posts[r],t.postIds[e.index]=e.gwAdPostId}}},"./src/reddit/actions/pages/appeal/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="APPEAL_PAGE_LOADED",s="APPEAL_PAGE_FAILED"},"./src/reddit/actions/pages/collectionCommentsPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeCollectionCommentsPageKey/index.ts"),i=n("./src/lib/truncateText/index.ts"),c=n("./src/reddit/actions/ads/index.ts"),a=n("./src/reddit/actions/economics/helpers/async.ts"),d=n("./src/reddit/actions/moderatingSubreddits.ts"),u=n("./src/reddit/actions/page.ts"),l=n("./src/reddit/actions/pages/shared.ts"),b=n("./src/reddit/actions/pages/subreddit.ts"),p=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/post.ts"),f=n("./src/reddit/actions/profile/index.ts"),O=n("./src/reddit/actions/shortcuts.ts"),g=n("./src/reddit/actions/subreddit.ts"),j=n("./src/reddit/actions/toaster.ts"),y=n("./src/reddit/constants/adEvents.ts"),_=n("./src/reddit/constants/parameters.ts"),h=n("./src/reddit/constants/postCollection.ts"),E=n("./src/reddit/constants/posts.ts"),I=n("./src/reddit/endpoints/governance/posts.ts"),v=n("./src/config.ts"),S=n("./src/lib/constants/index.ts"),T=n("./src/lib/makeApiRequest/index.ts"),C=n("./src/reddit/models/RichTextJson/addRTJParam.ts");function w(e,t,n){const r="".concat(v.a.gatewayUrl,"/desktopapi/v1/collection_postcomments");return n?Object(C.a)("".concat(r,"/").concat(e,"/").concat(t,"/").concat(n)):t?Object(C.a)("".concat(r,"/").concat(e,"/").concat(t)):Object(C.a)("".concat(r,"/").concat(e))}var D=(e,t,n,r,s)=>Object(T.b)(e,{data:s,endpoint:w(t,n,r),method:S.ab.GET}),P=n("./src/reddit/endpoints/page/subredditPage.ts"),x=n("./src/reddit/helpers/canonicalUrls.ts"),R=n("./src/reddit/helpers/commentList/index.ts"),A=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),N=n("./src/reddit/helpers/pixels.ts"),k=n("./src/reddit/helpers/timeApiRoute/index.ts"),L=n("./src/reddit/models/Comment/index.ts"),U=n("./src/reddit/models/Post/index.ts"),M=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),F=n("./src/reddit/selectors/platform.ts"),B=n("./src/reddit/selectors/postCollection.ts"),G=n("./src/reddit/selectors/posts.ts"),q=n("./src/reddit/selectors/subreddit.ts");n.d(t,"d",(function(){return V})),n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return K})),n.d(t,"e",(function(){return z})),n.d(t,"c",(function(){return Q}));const V="PAGE__COLLECTIONCOMMENTSPAGE_PENDING",H="PAGE__COLLECTIONCOMMENTSPAGE_LOADED",K="PAGE__COLLECTIONCOMMENTSPAGE_FAILED",W=Object(s.a)(V),Y=Object(s.a)(H),J=Object(s.a)(K),z=e=>async(t,n)=>{const{collectionId:s,partialPostId:o,partialCommentId:c,subredditName:a="",routePrefix:d}=e.params,u=o?Object(U.l)(o):"",b=c&&Object(L.e)(c),{queryParams:j}=e,y=n(),{instanceId:I}=j,v={id:s,type:E.b[d]},S=E.b[d]===E.a.PROFILE,{hasSortParam:T,sortToUse:C}=Object(A.a)(y,u),w=["context","depth","limit",_.e].reduce((e,t)=>{const n=parseInt(j[t]);return isNaN(n)||(e[t]=n),e},{subredditName:a,hasSortParam:T,instanceId:I});T&&(w.sort=C),t(m.l(u)),await Promise.all([S?t(f.d(a)):Promise.resolve(),t($(s,u,b,w))]);const D=((e,t)=>{const n=Object(B.q)(e,{collectionId:t.id});if(!n)return"";const s=Object(q.N)(e,{identifier:t}),o=Object(r.a)(e.user.language,"title.commentsPage",{postTitle:n.title,subreddit:s.name});return Object(i.a)(o,h.c," …")})(n(),v)||Object(l.b)(n(),"frontpage");t(p.l({title:D}));const P=n().posts.models[u];if(P){const r=Object(q.N)(n(),{identifier:P.belongsTo});if(!P.isSponsored)if(P.belongsTo.type===E.a.SUBREDDIT){!!Object(q.R)(y,{subredditId:P.belongsTo.id})||await t(g.o(r.name))}else await t(f.d(r.name));const s=n().posts.instances[u]?e.queryParams.instanceId:P.postId;t(Object(O.c)(s))}S?Object(x.d)(n(),t,e):Object(x.e)(n(),t,e)},Q="PAGE__COLLECTIONCOMMENTSPAGE_LOADED_FULL",X=Object(s.a)(Q),Z=(e,t,n,r)=>async(s,i,c)=>{const a=Object(o.a)(e,t,n,r),d=i();t=t||Object(B.p)(d,{collectionId:e});const u=await D(c.apiContext(),e,t,n,r);if(s(Object(p.m)(u.status)),u.ok){if(!(t=t||u.body.collections[e].primaryPostId))return;const n=Object(R.a)(u.body,t,d);s(Y(Object.assign({key:a,collectionId:e,meta:d.meta,postId:t,shouldCollapse:n},u.body)));const r=d.user.prefs.commentMode;s(X({commentMode:r,key:a,postId:t}))}else s(J(Object.assign({error:u.error,key:a},u.body)))},$=(e,t,n,r,s)=>async(i,l,m)=>{const f=Object(o.a)(e,t,n,r),O=l();t=t||Object(B.p)(O,{collectionId:e});const{subredditName:g}=r,_=O.commentsPage.keyToHeadCommentId.hasOwnProperty(f),h=O.commentsPage.api.fullyLoaded[f],E=O.commentsPage.api.error[f];if(O.commentsPage.api.pending[f]||_&&!E){if(_&&!O.sidebarPromotedPosts.firstFetch){const e=Object(F.i)(O)?M.a.COMMENTS_OVERLAY:M.a.COMMENTS;window.addEventListener("load",()=>{i(Object(c.b)(e))})}return void(h||s||i(Z(e,t,n,r)))}const v=O.user.prefs.commentMode;i(W({key:f,collectionId:e,commentMode:v,postId:t}));const S=Object.assign({},r);{const e=t&&Object(G.K)(l(),{postId:t});e&&e.numComments&&e.numComments>u.j&&(S.truncate=u.n)}let T,C=await Object(k.a)("comments",()=>D(m.apiContext(),e,t,n,S));if(i(Object(p.m)(C.status)),C.ok&&(t=t||C.body.collections[e].primaryPostId)){const e=Object.keys(C.body.posts).filter(e=>!!C.body.posts[e].isMeta),n=Object(G.K)(l(),{postId:t});if(e.length){const t=await Object(I.a)(m.apiContext(),n.belongsTo.id,e);t.ok&&(T=t.body)}}if(!s){const s=t?Object(G.K)(l(),{postId:t}):null;s&&C.body.comments&&Object.keys(C.body.comments).length<s.numComments?i(Z(e,t,n,r)):C.ok&&i(X({commentMode:v,key:f,postId:t}));const o=Object(F.i)(O)?M.a.COMMENTS_OVERLAY:M.a.COMMENTS;i(Object(c.b)(o))}if(C.ok){if(!t)return;const e=Object(R.a)(C.body,t,O);i(Object(u.t)(Object.assign({commentMode:v,key:f,postId:t,meta:O.meta,governance:T,shouldCollapse:e},C.body))),await d.c()(i,l,m),i(j.f(f));const n=Object(G.K)(l(),{postId:t});Object(N.a)(n.events,y.a.CommentsView),!s&&n&&"subreddit"===n.belongsTo.type&&C.body.comments&&await i(Object(a.a)({commentIds:Object.keys(C.body.comments),postIds:[n.id],subredditId:n.belongsTo.id}))}else g&&(i(Object(b.j)({key:f})),C=await Object(k.a)("subreddit",()=>Object(P.a)(m.apiContext(),g,{})),i(Object(p.m)(C.status))),i(Object(b.e)(C,g)),i(J(Object.assign({error:C.error,key:f},C.body)))}},"./src/reddit/actions/pages/explore.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return k}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/makeExplorePageKey/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/category.ts"),u=n("./src/reddit/actions/discoveryUnit.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/pages/subreddit.ts"),p=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/toaster.ts"),f=n("./src/reddit/constants/explore.ts"),O=n("./src/reddit/constants/listings.ts"),g=n("./src/reddit/helpers/timeApiRoute/index.ts"),j=n("./src/reddit/models/Toast/index.ts"),y=n("./src/reddit/selectors/category.ts"),_=n("./src/reddit/selectors/discoveryUnit.ts"),h=n("./src/reddit/selectors/experiments/exploreV2.ts"),E=n("./src/reddit/selectors/listings.ts"),I=n("./src/reddit/selectors/posts.ts"),v=n("./src/reddit/selectors/user.ts");const S=e=>Object(s.a)(e.user.language,"title.frontpage"),T="PAGE__EXPLORE_PAGE_PENDING",C="PAGE__EXPLORE_PAGE_LOADED",w="PAGE__EXPLORE_PAGE_FAILED",D=Object(i.a)(T),P=Object(i.a)(C),x=Object(i.a)(w),R=(e,t,n)=>async(r,o,i)=>{const c=o(),a=Object(_.a)(c);if(!a){r(x({key:e,error:{}}));const n=Object(v.S)(c);return void r(m.e({id:"error-".concat(e),kind:j.b.Error,text:Object(s.a)(n,"listings.toast.error"),buttonText:Object(s.a)(n,"listings.toast.retryButton"),buttonAction:N(e,t)}))}const d=Object(E.j)(c,{listingKey:e}),l=d?d.token:void 0;if(d){if(!n)return;{const t=Object(E.h)(c,{listingKey:e}),n=Object(E.i)(c,{listingKey:e,token:d.token});if(t||n)return}}else{const t=Object(E.h)(c,{listingKey:e}),n=Object(E.f)(c,{listingKey:e});if(t||n)return}r(D({key:e}));const b=Object(y.f)(c,{}),p=l?b.findIndex(e=>e.id===l)+1:0,O=b.slice(p,p+f.a);await Promise.all(O.map(e=>r(u.g(a,e.name))));const g=Math.min(p+f.a-1,b.length-1);r(P({fetchedToken:l,ids:O.map(e=>{let{id:t}=e;return t}),key:e,token:b[g].id}))},A=(e,t,n,r)=>async(o,i,c)=>{let a=i();const l=Object(_.d)(a),b=Object(y.i)(a,{categoryName:n});if(!l||!b){o(x({key:e,error:{}}));const n=Object(v.S)(a);return void o(m.e({id:"error-".concat(e),kind:j.b.Error,text:Object(s.a)(n,"listings.toast.error"),buttonText:Object(s.a)(n,"listings.toast.retryButton"),buttonAction:N(e,t)}))}const p=Object(E.j)(a,{listingKey:e}),O=p?p.token:void 0,g=Object(E.h)(a,{listingKey:e});if(p){if(!r)return;{const t=Object(E.i)(a,{listingKey:e,token:p.token});if(g||t)return}}else{const t=Object(E.f)(a,{listingKey:e});if(g||t)return}o(D({key:e})),await o(d.i(b.id)),a=i();const h=Object(y.e)(a,{categoryName:n}),I=O?h.findIndex(e=>e.id===O)+1:0,S=h.slice(I,I+f.b);await Promise.all(S.map(e=>o(u.k(l,e.name)))),o(P({fetchedToken:O,ids:S.map(e=>{let{id:t}=e;return t}),key:e,token:h[Math.min(I+f.b-1,h.length-1)].id}))},N=(e,t,n)=>async(r,s,o)=>{await Promise.all([r(u.h()),r(d.h())]);const i=t.categoryName?()=>r(A(e,t,t.categoryName,n)):()=>r(R(e,t,n));await Object(g.a)("explore",i),t.categoryName?await r(A(e,t,t.categoryName,n)):await r(R(e,t,n))},k=e=>async(t,n,s)=>{const i=n();if(!Object(h.a)(i))return void t(Object(r.b)("/"));const d=Object(c.a)(e.params);if(Object(E.h)(i,{listingKey:d}))return;const u=Object(a.a)(O.b.Popular,o.N.HOT);0===Object(I.D)(i,{listingKey:u}).length&&await t(Object(b.i)(u,O.b.Popular,{},!0)),Object(v.J)(n())?t(Object(r.b)("/")):(t(Object(l.k)({actionSource:l.a.Explore,redirectUrl:"/"})),await t(N(d,e.params)),t(p.l({title:S(n())})))}},"./src/reddit/actions/pages/modListing/constants.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return m}));const r="PAGE__MOD_LISTING_PAGE_PENDING",s="PAGE__MOD_LISTING_PAGE_LOADED",o="PAGE__MOD_LISTING_PAGE_FAILED",i="MOD_LISTING_MORE_POSTS_PENDING",c="MOD_LISTING_MORE_POSTS_LOADED",a="MOD_LISTING_MORE_POSTS_FAILED",d="MOD_LISTING_HIDE_SUBREDDIT_SUCCESS",u="MOD_LISTING_HIDE_SUBREDDIT_PENDING",l="MOD_LISTING_HIDE_SUBREDDIT_FAILED",b="MOD_LISTING_UNHIDE_SUBREDDIT_SUCCESS",p="MOD_LISTING_UNHIDE_SUBREDDIT_PENDING",m="MOD_LISTING_UNHIDE_SUBREDDIT_FAILED"},"./src/reddit/actions/pages/modListing/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/platform.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/page.ts"),b=n("./src/reddit/constants/parameters.ts"),p=n("./src/config.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=n("./src/reddit/helpers/name/index.ts"),y=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),_=(e,t)=>Object(m.b)(e,{data:t,endpoint:Object(g.a)(Object(y.a)("".concat(p.a.gatewayUrl,"/desktopapi/v1/mod"))),method:i.ab.GET});const h=(e,t,n,r)=>Object(m.b)(Object(f.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/filter/user/").concat(t,"/f/mod/").concat(Object(j.b)(n)),method:r?i.ab.PUT:i.ab.DELETE,data:{model:JSON.stringify({name:Object(j.g)(n)})}}),E=(e,t,n)=>h(e,t,n,!0),I=(e,t,n)=>h(e,t,n,!1);var v=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),T=n("./src/reddit/helpers/timeApiRoute/index.ts"),C=n("./src/reddit/i18n/utils.ts"),w=n("./src/reddit/models/Toast/index.ts"),D=n("./src/reddit/routes/modListing/index.ts"),P=n("./src/reddit/selectors/user.ts"),x=n("./src/reddit/actions/pages/modListing/constants.ts");n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return B})),n.d(t,"a",(function(){return z})),n.d(t,"d",(function(){return Q}));const R=Object(c.a)(x.f),A=Object(c.a)(x.e),N=Object(c.a)(x.d),k=(e,t)=>async(n,r,s)=>{const i=r(),c=i.listings.postOrder.api.pending[e],a=Object(P.S)(i);if(c)return;n(R({key:e}));const d=await Object(T.a)("modListing",()=>_(s.apiContext(),t)),l="error-".concat(e);d.ok?(n(A(Object.assign({key:e,meta:i.meta},d.body))),n(u.f(l))):(n(N(Object.assign({error:d.error,key:e},d.body))),401===d.status?Object(S.a)(n,i):n(u.e({id:l,kind:w.b.Error,text:Object(o.a)(a,"listings.toast.error"),buttonText:Object(o.a)(a,"listings.toast.retryButton"),buttonAction:k(e,t)})))},L=(e,t)=>async(n,r)=>{const{sort:o=i.O}=e.params,c=Object(D.d)(e.path),u=c?l.f:l.e,p=Object(a.a)(u,o,e.queryParams),m=r(),f=m.listings.postOrder.ids[p],O=m.listings.postOrder.api.error[p];if(m.listings.postOrder.api.pending[p]||f&&!O&&!t)return void(f&&n(d.l({title:Object(C.c)("Subreddits you moderate")})));const g=G(e.queryParams);await n(k(p,Object.assign({},s()(e.queryParams,b.j),s()(e.queryParams,b.i),{filtered:!!c||void 0,moderated_srs:!0,sort:o,t:Object(v.a)(o,g)}))),n(d.l({title:Object(C.c)("Subreddits you moderate")}))},U=Object(c.a)(x.i),M=Object(c.a)(x.h),F=Object(c.a)(x.g),B=e=>async(t,n,r)=>{let{apiContext:o}=r;const c=n(),d=c.platform.currentPage;if(!d)return;const{sort:u=i.O}=e,p=d.queryParams,m=Object(D.d)(d.url),f=m?l.f:l.e,O=Object(a.a)(f,u,p),g=c.listings.postOrder.loadMore[O];if(!g)return;const j=c.listings.postOrder.api.pending[O],y=c.listings.postOrder.fetchedTokens,h=!(!y[O]||!y[O][g.token]);if(j||h)return;const E=G(p);t(U({key:O,fetchedToken:g.token}));const I=await _(o(),Object.assign({after:g.token,dist:g.dist,filtered:!!m||void 0,sort:u,t:Object(v.a)(u,E)},s()(p,b.j))),S=c.listings.postOrder.ids[O],T=Object.assign({},I.body,{postIds:(I.body.postIds||[]).filter(e=>!S||!S.includes(e))});I.ok?t(M(Object.assign({key:O,fetchedToken:g.token,meta:c.meta},T))):t(F(Object.assign({key:O,error:I.error,fetchedToken:g.token},T)))};function G(e){const t=b.t in e&&e[b.t].toUpperCase()||"";return t in i.Nb&&i.Nb[t]}const q=Object(c.a)(x.c),V=Object(c.a)(x.b),H=Object(c.a)(x.a),K=Object(c.a)(x.l),W=Object(c.a)(x.k),Y=Object(c.a)(x.j),J=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(P.i)(i),[a,d,u,l]=t?[V,q,H,E]:[W,K,Y,I];if(!c||!c.displayText)return;const{currentPage:b}=i.platform;if(!b||!b.routeMatch)return;n(a(e));const p=await l(o(),c.displayText,e);p.ok?(await n(L(b.routeMatch.match,!0)),n(d(e))):n(u(p.body))},z=e=>J(e,!0),Q=e=>J(e,!1)},"./src/reddit/actions/pages/originalContent.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return P}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/app/strings/index.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/moderatingSubreddits.ts"),l=n("./src/reddit/actions/originalContent.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/constants/originalContent.ts"),f=n("./src/reddit/constants/page.ts"),O=n("./src/reddit/constants/parameters.ts"),g=n("./src/reddit/endpoints/page/originalContentPage.ts"),j=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),y=n("./src/reddit/helpers/timeApiRoute/index.ts"),_=n("./src/reddit/models/Toast/index.ts"),h=n("./src/reddit/selectors/experiments/removeOc.ts");const E=e=>Object(i.a)(e.user.language,"listings.originalContent.title"),I="PAGE__ORIGINAL_CONTENT_PAGE_PENDING",v="PAGE__ORIGINAL_CONTENT_PAGE_LOADED",S="PAGE__ORIGINAL_CONTENT_PAGE_FAILED",T=Object(a.a)(I),C=Object(a.a)(v),w=Object(a.a)(S),D=(e,t)=>async(n,r,s)=>{const o=r();if(o.listings.postOrder.api.pending[e])return;n(T({key:e}));const c=await Object(y.a)("originalContent",()=>Object(g.a)(s.apiContext(),t)),a="error-".concat(e);if(c.ok){n(C(Object.assign({key:e,meta:o.meta},c.body)));const i=[u.c()(n,r,s),n(l.s(t.category)),n(l.t(t.category)),n(l.p()),n(l.r(t.category))];await Promise.all(i),n(p.f(a))}else n(w(Object.assign({error:c.error,key:e},c.body))),n(p.e({id:a,kind:_.b.Error,text:Object(i.a)(o.user.language,"listings.toast.error"),buttonText:Object(i.a)(o.user.language,"listings.toast.retryButton"),buttonAction:D(e,t)}))},P=e=>async(t,n,r)=>{const{sort:i=c.N.HOT,categoryName:a=m.b}=e.params,u=Object.assign({},e.queryParams,{category:a}),l=n();if(Object(h.a)(l))return void t(Object(o.b)("/"));const p=Object(d.a)(f.g,i,u),g=l.listings.postOrder.ids[p],y=l.listings.postOrder.api.error[p],_=l.listings.postOrder.api.pending[p],I=O.t in e.queryParams&&e.queryParams[O.t].toUpperCase()||"",v=I in c.Nb&&c.Nb[I];if(_||g&&!y)return void(g&&t(b.l({title:E(n())})));await t(D(p,Object.assign({},s()(e.queryParams,O.j),s()(e.queryParams,O.i),{sort:i,t:Object(j.a)(i,v),category:a})));const S=n();t(b.l({title:E(S)}))}},"./src/reddit/actions/pages/postCreation.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makePostCreationPageKey/index.ts"),u=n("./src/reddit/actions/externalAccount.ts"),l=n("./src/reddit/actions/governance/communityDetails.ts"),b=n("./src/reddit/actions/originalContent.ts"),p=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/post.ts"),f=n("./src/reddit/actions/postCreation/general.ts"),O=n("./src/reddit/actions/profile/index.ts"),g=n("./src/reddit/actions/subreddit.ts"),j=n("./src/reddit/actions/subredditDifficulty/index.ts"),y=n("./src/reddit/actions/subredditDuplicates.ts"),_=n("./src/reddit/actions/subredditSettings.ts"),h=n("./src/config.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),v=n("./src/reddit/featureFlags/index.ts"),S=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),T=n("./src/reddit/helpers/timeApiRoute/index.ts"),C=n("./src/reddit/helpers/trackers/postComposer.ts"),w=n("./src/reddit/models/User/index.ts"),D=n("./src/reddit/routes/postCreation/constants.ts"),P=n("./src/reddit/selectors/experiments/removeOc.ts"),x=n("./src/reddit/selectors/experiments/subredditDifficulty.ts"),R=n("./src/reddit/selectors/postCollection.ts"),A=n("./src/reddit/selectors/postCreations.ts"),N=n("./src/reddit/selectors/posts.ts"),k=n("./src/reddit/selectors/profile.ts"),L=n("./src/reddit/selectors/subreddit.ts"),U=n("./src/reddit/selectors/user.ts");n.d(t,"c",(function(){return F})),n.d(t,"b",(function(){return B})),n.d(t,"a",(function(){return G})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return Y}));const M=e=>{const t=e.user.language,n=e.platform.currentPage;let r="Reddit";if(n&&n.urlParams.subredditName){const{subredditName:t}=n.urlParams,s=Object(L.B)(e,{subredditName:t});s&&(r=s.name)}return Object(s.a)(t,"title.submit",{subreddit:r})},F="POST_CREATION__PAGE_PENDING",B="POST_CREATION__PAGE_LOADED",G="POST_CREATION__PAGE_FAILED",q=Object(a.a)(F),V=Object(a.a)(B),H=Object(a.a)(G),K=()=>async(e,t)=>{const n=t(),r=Object(A.a)(n);r!==Object(A.bb)(n)&&e(Object(f.h)({submissionType:r}))},W=e=>async(t,n,r)=>{const{collectionId:s,profileName:i,subredditName:a}=e,p=Object(d.a)(e),m=n(),f=m.creations.api.page.pending[p],j=m.creations.api.page.fetched[p],y=m.creations.api.page.error[p];if(f)return;if(j&&!y)return void t(K());const S=[];t(q({key:p}));let C=a;if(!a&&i&&(C="u_".concat(i)),S.push(((e,t)=>Object(E.b)(e,{method:o.ab.GET,endpoint:Object(I.a)("".concat(h.a.gatewayUrl,"/desktopapi/v1/submitpage")),data:{subreddit:t.subredditName,collection_id:t.collectionId}}))(r.apiContext(),{subredditName:C,collectionId:s})),a){!!n().subredditSettings.requirementsBySubreddit[a]||Object(c.a)(a)||S.push(t(Object(_.C)(a)))}S.push(t(b.p())),i&&(S.push(t(O.d(i))),S.push(t(O.b(i))));const[D]=await Object(T.a)("postCreation",()=>Promise.all(S));if(D.ok){const e=D.body,{posts:r={}}=e;await t(V(Object.assign({key:p,meta:m.meta},e,{posts:r}))),t(K());const s=Object(U.i)(n());if(s&&s.hasUserProfile&&await t(O.d(Object(w.f)(s))),await t(u.o()),a&&!Object(c.a)(a)&&await t(g.o(a)),a&&v.d.spPoints(n())){const e=Object(L.H)(n(),a);e&&await t(Object(l.a)({subredditId:e}))}}else t(H({error:D.error,key:p}))},Y=e=>async(t,n)=>{const{subredditName:s,profileName:c}=e.params,a=e.queryParams,d=a.collection;if(Object(P.a)(n())&&e.url===D.a)return void t(Object(r.b)(D.c));let u;if(await t(W({collectionId:d,profileName:c,subredditName:s})),s){u=Object(L.B)(n(),{subredditName:s}),Object(x.b)(n())&&t(Object(j.a)(u.id))}else c&&(u=Object(k.j)(n(),{profileName:c}));if(a.source_id)await t(((e,t)=>async(n,r)=>{const{subredditName:s,profileName:o}=e,i=[];let c;s?c=Object(L.H)(r(),s):o&&(c=Object(U.Z)(r(),{userName:o})),c&&i.push(n(Object(y.b)(c,t))),i.push(n(Object(m.F)(t))),await Promise.all(i);const a=Object(N.e)(r(),{postId:t});n(Object(f.l)({postId:t,postTitle:a?a.title:""}))})(e.params,a.source_id));else if(d){const s=Object(R.q)(n(),{collectionId:d});u&&s&&s.subredditId===u.id||t(Object(r.c)(Object(i.a)(e.url,["collection"])))}const l=n();Object(U.J)(l)?(((e,t)=>{const n=e.platform.lastPage;t&&n&&n.meta&&n.meta.name===o.wb.POST_CREATION&&C.t(e)})(n(),s),t(p.l({title:M(n())}))):Object(S.a)(t,l)}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/makePostDraftPageKey/index.ts"),o=n("./src/reddit/actions/profile/index.ts"),i=n("./src/config.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),l=n("./src/reddit/endpoints/post/draft/helpers.ts"),b=n("./src/reddit/helpers/timeApiRoute/index.ts");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));const p="POST_DRAFT__PAGE_LOADED",m=(Object(r.a)("POST_DRAFT__PAGE_PENDING"),Object(r.a)(p)),f=Object(r.a)("POST_DRAFT__PAGE_FAILED"),O=e=>async(t,n,r)=>{const{draftId:p,profileName:O}=e,g=Object(s.a)(e),j=n(),y=j.creations.api.page.pending[g],_=j.creations.api.page.fetched[g],h=j.creations.api.page.error[g];if(y||_&&!h||!p)return;t(o.d(O));const E=await Object(b.a)("postDraft",()=>((e,t,n)=>Object(a.b)(e,{endpoint:Object(d.a)(Object(u.a)("".concat(i.a.gatewayUrl,"/desktopapi/v1/draftpreviewpage/").concat(n,"/").concat(t))),method:c.ab.GET}))(r.apiContext(),p,O));if(E.ok){const e=E.body;e.drafts[p].kind=Object(l.b)(e.drafts[p].kind),t(m(Object.assign({},e,{key:g})))}else t(f({error:E.error,key:g}))},g=e=>async(t,n,r)=>{await t(O(e.params))}},"./src/reddit/actions/pages/profileComments.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/externalAccount.ts"),u=n("./src/reddit/actions/moderatingSubreddits.ts"),l=n("./src/reddit/actions/pages/profileShared.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/profile/index.ts"),m=n("./src/reddit/actions/subreddit.ts"),f=n("./src/reddit/constants/parameters.ts"),O=n("./src/reddit/contexts/PageLayer/index.tsx"),g=n("./src/config.ts"),j=n("./src/lib/addAllowQuarantinedParam/index.ts"),y=n("./src/lib/constants/index.ts"),_=n("./src/lib/makeApiRequest/index.ts"),h=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const E=(e,t,n)=>Object(_.b)(e,{data:n,endpoint:Object(j.a)(Object(h.a)("".concat(g.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/comments"))),method:y.ab.GET});var I=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),v=n("./src/reddit/helpers/timeApiRoute/index.ts"),S=n("./src/reddit/selectors/profile.ts"),T=n("./src/reddit/selectors/profileComments.ts");n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return D})),n.d(t,"h",(function(){return A})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return L})),n.d(t,"g",(function(){return B}));const C="PAGE__PROFILE_COMMENTS_PENDING",w="PAGE__PROFILE_COMMENTS_LOADED",D="PAGE__PROFILE_COMMENTS_FAILED",P=Object(c.a)(C),x=Object(c.a)(w),R=Object(c.a)(D),A=e=>async(t,n,r)=>{const{queryParams:s,params:o}=e,{sort:c,t:O}=Object(l.b)(s),{profileName:g}=o,j=Object(a.a)("u_".concat(g),c,e.queryParams),{profileCommentsPage:y}=n(),_=y.commentIds[j],h=y.api.error[j],T=y.api.pending[j];if(await t(p.d(g)),T||_&&!h){if(_){const e=Object(S.q)(n(),{profileName:g});t(b.l({title:e}))}return}const C=Object.assign({},i()(e.queryParams,[...f.j,f.f]),{sort:c,t:Object(I.a)(c,O)});t(P({key:j}));const w=await Object(v.a)("profileComments",()=>E(r.apiContext(),g,C));if(!w.ok)return t(R({account:w.body.data?w.body.data.account:null,error:w.body.reason?{type:w.body.reason}:w.error,key:j})),void t(b.m(w.status));const D=w.body;t(x(Object.assign({key:j,meta:n().meta},D))),await Promise.all([t(Object(l.c)(g)),t(Object(m.r)()),t(Object(u.b)()),t(d.o(g))])},N="PROFILE_COMMENTS__MORE_ITEMS_PENDING",k="PROFILE_COMMENTS__MORE_ITEMS_LOADED",L="PROFILE_COMMENTS__MORE_ITEMS_FAILED",U=Object(c.a)(N),M=Object(c.a)(k),F=Object(c.a)(L),B=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:d,params:u}=c.routeMatch.match,{sort:b,t:p}=Object(l.b)(d),{profileName:m}=u,g=Object(a.a)("u_".concat(m),b,d),j=Object(T.d)(o,{listingKey:g});if(!j)return;const y=Object(T.b)(o,{listingKey:g}),_=Object(T.c)(o,{listingKey:g}),h=_&&_[j.token];if(y||h)return;e(U({key:g,fetchedToken:j.token}));const I=await E(r(),m,Object.assign({after:j.token,dist:j.dist,sort:b,t:p},i()(d,f.j),{layout:Object(O.P)(o,{}).toLowerCase()}));if(I.ok){const t=Object(T.f)(o,{listingKey:g}),n=Object.assign({},I.body,{commentIds:s()(I.body.commentIds,t)});e(M(Object.assign({fetchedToken:j.token,key:g,meta:o.meta},n)))}else e(F({account:I.body.data?I.body.data.account:null,error:I.error,fetchedToken:j.token,key:g}))}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/reddit/actions/profile/index.ts"),i=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),c=n("./src/reddit/models/User/index.ts"),a=n("./src/reddit/selectors/user.ts");const d="PAGE__PROFILE_MOD_SETTINGS_LOADED",u=Object(r.a)(d),l=e=>async(t,n)=>{const r=[t(s.x()),t(Object(o.d)(e.params.profileName))];await Promise.all(r);const d=Object(a.i)(n());d?(await t(Object(o.b)(Object(c.f)(d))),t(u())):Object(i.a)(t,n())}},"./src/reddit/actions/pages/profileOverview.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return U}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/reddit/actions/moderatingSubreddits.ts"),i=n("./src/reddit/actions/pages/profileShared.ts"),c=n("./src/reddit/actions/subreddit.ts"),a=n("./src/reddit/endpoints/page/profileOverviewPage.ts"),d=n("./src/lib/constants/index.ts"),u=n("./src/reddit/constants/postLayout.ts"),l=n("./src/reddit/constants/parameters.ts"),b=n("./src/reddit/contexts/PageLayer/index.tsx"),p=n("./src/reddit/selectors/listings.ts"),m=n("./src/reddit/selectors/profile.ts"),f=n("./src/reddit/selectors/profileOverviewChronoItems.ts"),O=n("./src/lib/makeActionCreator/index.ts"),g=n("./src/reddit/actions/externalAccount.ts"),j=n("./src/reddit/actions/pinnedPost.ts"),y=n("./src/reddit/actions/platform.ts"),_=n("./src/reddit/actions/profile/index.ts"),h=n("./src/reddit/actions/trophyCase.ts"),E=n("./src/reddit/featureFlags/index.ts"),I=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),v=n("./src/reddit/helpers/timeApiRoute/index.ts");const S="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_PENDING",T="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_LOADED",C="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_FAILED",w="PAGE__PROFILE_OVERVIEW_CHRONO_PENDING",D="PAGE__PROFILE_OVERVIEW_CHRONO_LOADED",P="PAGE__PROFILE_OVERVIEW_CHRONO_FAILED",x=Object(O.a)(S),R=Object(O.a)(T),A=Object(O.a)(C),N=Object(O.a)(w),k=Object(O.a)(D),L=Object(O.a)(P),U=e=>async(t,n,r)=>{const{queryParams:O,params:S}=e,{sort:T,t:C}=Object(i.a)(n(),O),{profileName:w}=S,D=u.e[Object(b.P)(n(),{})],P=w.toLowerCase(),U=Object.assign({},s()(e.queryParams,l.j),{sort:T,layout:D,t:C});if(await t(_.d(P)),D===u.e[u.g.Compact]){const r=Object(I.a)(P,d.hb,T,e.queryParams);if(n().profileOverviewPage.chrono.ids[r])return;await t(((e,t,n,r)=>async(r,s,o)=>{const i=s(),c=!!Object(f.f)(i,{listingKey:e}).length,d=!!Object(f.a)(i,{listingKey:e});if(!!Object(f.b)(i,{listingKey:e})||c&&!d)return;r(N({key:e}));const u=await Object(v.a)("profile",()=>Object(a.a)(o.apiContext(),t,n)),l=u.body,{pinned:b}=l;if(u.ok){r(k(Object.assign({key:e,meta:i.meta},l)));const n=Object(m.m)(i,t);r(Object(j.h)({profileId:n,pinned:b}))}else r(L({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),r(Object(y.m)(u.status))})(r,P,U))}else{const r=Object(I.a)(P,d.ib,T,e.queryParams);if(n().listings.postOrder.ids[r]&&!n().listings.postOrder.api.error[r])return;await t(((e,t,n,r)=>async(r,s,o)=>{const i=s(),c=!!i.listings.postOrder.ids[e],d=!!Object(p.c)(i,{listingKey:e});if(!!Object(p.d)(i,{listingKey:e})||c&&!d)return;r(x({key:e}));const u=await Object(v.a)("profile",()=>Object(a.b)(o.apiContext(),t,n)),l=u.body,{pinned:b,postIds:f}=l;if(u.ok){r(R(Object.assign({key:e,meta:i.meta,profileName:t},l,{postIds:f})));const n=Object(m.m)(i,t);r(Object(j.h)({profileId:n,pinned:b}))}else r(A({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),r(Object(y.m)(u.status))})(r,P,U))}await t(Object(c.r)()),await t(Object(o.b)());const F=n();if(!F.platform.currentPage)return;if(200!==F.platform.currentPage.status)return;const B=Object(m.m)(n(),P);await t(h.b(P,B)),t(y.l({title:M(n(),w)}));const G=[t(_.b(P)),t(g.o(w))];E.d.customFeeds(n())&&G.push(t(_.e(w))),await Promise.all(G)},M=(e,t)=>Object(m.q)(e,{profileName:t})},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/reddit/actions/externalAccount.ts"),a=n("./src/reddit/actions/moderatingSubreddits.ts"),d=n("./src/reddit/actions/pages/profileShared.ts"),u=n("./src/reddit/actions/pinnedPost.ts"),l=n("./src/reddit/actions/platform.ts"),b=n("./src/reddit/actions/profile/index.ts"),p=n("./src/reddit/actions/subreddit.ts"),m=n("./src/reddit/constants/parameters.ts"),f=n("./src/reddit/contexts/PageLayer/index.tsx"),O=n("./src/config.ts"),g=n("./src/lib/addAllowQuarantinedParam/index.ts"),j=n("./src/lib/constants/index.ts"),y=n("./src/lib/makeApiRequest/index.ts"),_=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const h=(e,t,n)=>Object(y.b)(e,{data:n,endpoint:Object(g.a)(Object(_.a)("".concat(O.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/posts"))),method:j.ab.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e);var E=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),I=n("./src/reddit/helpers/timeApiRoute/index.ts"),v=n("./src/reddit/selectors/listings.ts"),S=n("./src/reddit/selectors/profile.ts");n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"h",(function(){return R})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return F}));const T="PAGE__PROFILE_POSTS_PENDING",C="PAGE__PROFILE_POSTS_LOADED",w="PAGE__PROFILE_POSTS_FAILED",D=Object(o.a)(T),P=Object(o.a)(C),x=Object(o.a)(w),R=e=>async(t,n,r)=>{const{queryParams:o,params:O}=e,{sort:g,t:j}=Object(d.b)(o),{profileName:y}=O,_=Object(i.a)("u_".concat(y),g,o),T=n(),C=T.listings.postOrder.ids[_],w=Object(v.c)(T,{listingKey:_}),R=Object(v.d)(T,{listingKey:_});if(await t(b.d(y)),R||C&&!w){if(C){const e=Object(S.q)(n(),{profileName:y});t(l.l({title:e}))}return}const A=Object.assign({},s()(e.queryParams,[...m.j,...m.i,m.f]),{layout:Object(f.P)(T,{}).toLowerCase(),sort:g,t:Object(E.a)(g,j)});t(D({key:_}));const N=await Object(I.a)("profilePosts",()=>h(r.apiContext(),y,A));if(!N.ok)return t(x({account:N.body.data?N.body.data.account:null,error:N.body.reason?{type:N.body.reason}:N.error,key:_})),void t(l.m(N.status));const k=N.body;t(P(Object.assign({key:_,meta:n().meta},k)));const L=Object(S.m)(n(),y),{pinned:U}=k;t(Object(u.h)({profileId:L,pinned:U})),await Promise.all([t(Object(d.c)(y)),t(Object(p.r)()),t(Object(a.b)()),t(c.o(y))])},A="PROFILE_POSTS__MORE_POSTS_PENDING",N="PROFILE_POSTS__MORE_POSTS_LOADED",k="PROFILE_POSTS__MORE_POSTS_FAILED",L=Object(o.a)(A),U=Object(o.a)(N),M=Object(o.a)(k),F=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:a,params:u}=c.routeMatch.match,{sort:l,t:b}=Object(d.b)(a),{profileName:p}=u,O=Object(i.a)("u_".concat(p),l,a),g=Object(v.g)(o,{listingKey:O});if(!g)return;const j=Object(v.d)(o,{listingKey:O}),y=Object(v.e)(o,{listingKey:O,token:g.token});if(j||y)return;e(L({key:O,fetchedToken:g.token}));const _=Object.assign({after:g.token,dist:g.dist,sort:l,t:b},s()(a,m.j),{layout:Object(f.P)(o,{}).toLowerCase()}),E=await h(r(),p,_),I=o.listings.postOrder.ids[O],S=E.body.postIds||[],T=Object.assign({},E.body,{postIds:S.filter(e=>!I||!I.includes(e))});E.ok?(e(U(Object.assign({fetchedToken:g.token,key:O,meta:o.meta},T))),await e(Object(d.c)(p))):e(M({account:E.body.data?E.body.data.account:null,error:E.error,fetchedToken:g.token,key:O}))}},"./src/reddit/actions/pages/profilePrivate/constants.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l}));const r=25,s="PAGE__PROFILE_PRIVATE_PENDING",o="PAGE__PROFILE_PRIVATE_MIXED_LOADED",i="PAGE__PROFILE_PRIVATE_POSTS_LOADED",c="PAGE__PROFILE_PRIVATE_FAILED",a="MORE__PROFILE_PRIVATE_PENDING",d="MORE__PROFILE_PRIVATE_MIXED_LOADED",u="MORE__PROFILE_PRIVATE_POSTS_LOADED",l="MORE__PROFILE_PRIVATE_FAILED"},"./src/reddit/actions/pages/profileShared.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return g}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/defaults.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/reddit/actions/platform.ts"),a=n("./src/reddit/actions/profile/index.ts"),d=n("./src/reddit/actions/trophyCase.ts"),u=n("./src/reddit/selectors/profile.ts"),l=n("./src/lib/constants/index.ts"),b=n("./src/reddit/featureFlags/index.ts");const p={sort:l.qb,t:l.rb};function m(e){return s()(i()(e,["t","sort"]),p)}function f(e,t){return m(t)}const O=e=>async(t,n,r)=>{const s=[t(g(e)),t(j(e))];b.d.customFeeds(n())&&s.push(t(Object(a.e)(e))),await Promise.all(s)},g=e=>async(t,n,r)=>{const s=Object(u.m)(n(),e);await t(d.b(e,s))},j=e=>async(t,n,r)=>{const s=Object(u.q)(n(),{profileName:e});t(c.l({title:s})),await t(a.b(e))}},"./src/reddit/actions/pages/report/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));const r="REPORT_PAGE__FAILED",s="REPORT_PAGE__PENDING",o="REPORT_PAGE__LOADED",i="REPORT_PAGE_INITIAL_REASON__SET"},"./src/reddit/actions/pages/search.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return P}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/ads/index.ts"),u=n("./src/reddit/actions/category.ts"),l=n("./src/reddit/actions/discoveryUnit.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/search.ts"),m=n("./src/reddit/actions/toaster.ts"),f=n("./src/reddit/constants/parameters.ts"),O=n("./src/reddit/endpoints/page/search.ts"),g=n("./src/reddit/helpers/timeApiRoute/index.ts"),j=n("./src/reddit/models/DiscoveryUnit/index.ts"),y=n("./src/reddit/models/Toast/index.ts"),_=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts");const h=(e,t)=>{const n=e.user.language;return Object(o.a)(n,"title.".concat(t))},E="SEARCH__SEARCH_PENDING",I="SEARCH__SEARCH_RESULTS_RECEIVED",v="SEARCH__SEARCH_FAILED",S=Object(c.a)(E),T=Object(c.a)(I),C=Object(c.a)(v),w=(e,t)=>Object(o.a)(e.user.language,"search.title",{query:t||"None"}),D=(e,t,n,r)=>async(s,c,a)=>{let{apiContext:b}=a;const h=c(),E=t[f.b],I=t.category;(E||I)&&(await Promise.all([s(l.h()),s(u.h())]),I&&await Promise.all([s(u.i(I,10)),s(l.i(j.n,I))]));const{q:v}=t,w=!!v&&i.xb.some(e=>v.includes("".concat(e,":")));let P=t.type.indexOf(i.Ib.Posts)>-1||!(!n||!t.restrict_sr)||w;if(P){const t=h.listings.postOrder.ids[e],n=h.listings.postOrder.api.error[e];P=!(h.listings.postOrder.api.pending[e]||t&&!n)}let x=t.type.indexOf(i.Ib.Subreddits)>-1||t.type.indexOf(i.Ib.Users)>-1;if(x){const t=h.listings.listingOrder.identifiers[e],n=h.listings.listingOrder.api.error[e];x=!(h.listings.listingOrder.api.pending[e]||t&&!n)}if(!P&&!x)return void(h.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(d.b)(_.a.SEARCH_RESULTS))}));t.q&&s(Object(p.h)(t.q));const R="error-".concat(e),{type:A}=t;s(S({key:e,type:A}));const N=await Object(g.a)("searchResults",()=>Object(O.a)(b(),n,r,Object.assign({},t,{type:(t.type||[]).join(","),b:!w})));if(N.ok){const o={key:e,type:A,meta:h.meta,searchQuery:t.q,subredditName:n,username:r};s(T(Object.assign({categoryName:E},o,N.body))),s(m.f(R)),s(Object(d.b)(_.a.SEARCH_RESULTS))}else s(C(Object.assign({key:e,error:N.error,type:A},N.body))),s(m.e({id:R,kind:y.b.Error,text:Object(o.a)(h.user.language,"search.toast.error"),buttonText:Object(o.a)(h.user.language,"search.toast.retryButton"),buttonAction:D(e,t,n,r)}))},P=e=>async(t,n,r)=>{const o=Object(a.c)(s()(e.queryParams,f.p)),c=e.params.subredditName||e.params.multiredditName,{username:d}=e.params,u=Object(a.b)(c,d,o),l=n();await t(D(u,o,c,d));const p=n();let m=!1;const{type:O=[]}=o,g=O.indexOf(i.Ib.Posts)>-1,j=O.indexOf(i.Ib.Subreddits)>-1||O.indexOf(i.Ib.Users)>-1;g&&p.listings.postOrder.api.error[u]&&(m=!0),j&&p.listings.listingOrder.api.error[u]&&(m=!0),t(m?b.l({title:h(l,"frontpage")}):b.l({title:w(p,o.q)}))}},"./src/reddit/actions/pages/shared.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/app/strings/index.ts"),s=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),o=n("./src/reddit/helpers/routeKey/index.ts"),i=n("./src/reddit/helpers/trackers/screenview.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/Timer.ts");const d=(e,t)=>{const n=e.user.language;return Object(r.a)(n,"title.".concat(t))},u=()=>async(e,t)=>{const n=t(),{currentPage:r}=n.platform;if(!r)return;const d=r.routeMatch,u=Object(s.a)(n),l=Object(o.c)(d,n,u);l&&c.c.has(l)&&Object(i.g)(d,n,a.TimerType.InApp,c.c.end(l))}},"./src/reddit/actions/pages/subreddit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/lodash/some.js"),i=n.n(o),c=n("./src/app/strings/index.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/isAdHocMultireddit/index.ts"),u=n("./src/lib/isFakeSubreddit/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/lib/makeApiRequest/index.ts"),p=n("./src/lib/makeListingKey/index.ts"),m=n("./src/lib/makeSearchKey/index.ts"),f=n("./src/reddit/actions/ads/index.ts"),O=n("./src/reddit/actions/category.ts"),g=n("./node_modules/lodash/camelCase.js"),j=n.n(g),y=n("./node_modules/lodash/isEmpty.js"),_=n.n(y),h=n("./node_modules/lodash/omit.js"),E=n.n(h),I=n("./src/reddit/endpoints/flair/index.ts"),v=n("./src/reddit/helpers/flair.ts"),S=n("./src/reddit/models/Flair/index.ts"),T=n("./src/reddit/selectors/communityFlairs.ts"),C=n("./src/reddit/actions/communityFlairs/constants.ts");const w=Object(l.a)(C.c),D=Object(l.a)(C.d),P=Object(l.a)(C.b),x=Object(l.a)(C.a),R=e=>{const t={};for(const n in e){t[j()(n)]=e[n]}return t},A=(e,t)=>async(n,r)=>{const s=r(),o=Object(T.c)(s,t),i=Object(T.d)(s,t)||[],c=(e=>{const t={};return e.map(e=>{const n=Object(v.g)(e),r=j()(n),s=r&&t.hasOwnProperty(r);e.type!==S.f.Spoiler&&e.type!==S.f.Nsfw&&(s||(t[r]=Object.assign({},e,{id:r})))}),t})(e),a=E()(c,i);if(_()(a))return;const d=Object.keys(a),u=i?i.concat(d):d,l=o?Object.assign({},o,a):a;n(x({models:l,sortedKeys:u,subredditId:t}))};var N=n("./src/reddit/actions/contentGate.ts"),k=n("./src/reddit/actions/discoveryUnit.ts"),L=n("./src/reddit/actions/economics/helpers/async.ts"),U=n("./src/reddit/actions/externalAccount.ts"),M=n("./src/reddit/actions/moderatingSubreddits.ts"),F=n("./src/reddit/actions/pages/search.ts"),B=n("./src/reddit/actions/platform.ts"),G=n("./src/reddit/actions/railsWidgets.ts"),q=n("./src/reddit/actions/structuredStyles/index.ts"),V=n("./src/reddit/actions/subreddit.ts"),H=n("./src/reddit/actions/subredditSettings.ts"),K=n("./src/reddit/actions/toaster.ts"),W=n("./src/reddit/constants/page.ts"),Y=n("./src/reddit/constants/parameters.ts"),J=n("./src/reddit/constants/postLayout.ts"),z=n("./src/reddit/contexts/PageLayer/index.tsx"),Q=n("./src/reddit/endpoints/governance/posts.ts"),X=n("./src/reddit/endpoints/page/subredditPage.ts"),Z=n("./src/reddit/helpers/canonicalUrls.ts"),$=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),ee=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),te=n("./src/reddit/helpers/timeApiRoute/index.ts"),ne=n("./src/reddit/models/ModeratingSubreddits/index.ts"),re=n("./src/reddit/models/Post/index.ts"),se=n("./src/reddit/models/Toast/index.ts"),oe=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),ie=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),ce=n("./src/reddit/selectors/experiments/exploreV2.ts"),ae=n("./src/reddit/selectors/experiments/feedFilters.ts"),de=n("./src/reddit/selectors/experiments/pinnedPosts.ts"),ue=n("./src/reddit/selectors/experiments/railsWidgets.ts"),le=n("./src/reddit/selectors/experiments/topPosts.ts"),be=n("./src/reddit/selectors/inlineSubredditEditing.ts"),pe=n("./src/reddit/selectors/moderatorPermissions.ts"),me=n("./src/reddit/selectors/multireddit.ts"),fe=n("./src/reddit/selectors/posts.ts"),Oe=n("./src/reddit/selectors/subreddit.ts");n.d(t,"e",(function(){return ge})),n.d(t,"c",(function(){return je})),n.d(t,"b",(function(){return ye})),n.d(t,"a",(function(){return _e})),n.d(t,"j",(function(){return he})),n.d(t,"i",(function(){return ve})),n.d(t,"h",(function(){return Se})),n.d(t,"d",(function(){return Ce})),n.d(t,"f",(function(){return we})),n.d(t,"g",(function(){return De})),n.d(t,"k",(function(){return Pe}));const ge=(e,t)=>async n=>{if(!e.ok&&e.body){const r=e.body.data?e.body.data.account:void 0,s=e.body.data?e.body.data.features:void 0,o=t?t.toLowerCase():"";if(404===e.status)if(e.body.reason===b.a.NotFoundSubreddit)n(N.i({account:r,features:s,subredditName:o}));else if(e.body.reason===b.a.BannedSubreddit){const t=e.body.data?e.body.data.ban_message:void 0;n(N.h({banMessage:t,account:r,features:s,subredditName:o}))}if(403===e.status)if(e.body.reason===b.a.GoldSubreddit)n(N.j({account:r,features:s,subredditName:o}));else if(e.body.reason===b.a.PrivateSubreddit)n(N.k({account:r,features:s,subredditDescription:e.body.data.description,subredditName:o}));else if(e.body.reason===b.a.QuarantinedSubreddit){const t=!e.body.data||e.body.data.quarantine_requires_email_optin;n(N.l({account:r,features:s,subredditName:o,quarantineRequiresEmail:t,quarantineMessage:e.body.data.quarantineMessage,quarantineMessageHtml:e.body.data.quarantineMessageHtml}))}}},je="PAGE__SUBREDDIT_PENDING",ye="PAGE__SUBREDDIT_LOADED",_e="PAGE__SUBREDDIT_FAILED",he=Object(l.a)(je),Ee=Object(l.a)(ye),Ie=Object(l.a)(_e),ve=(e,t,n,r)=>async(s,o,d)=>{const l=o();if(l.listings.postOrder.api.pending[e])return;const b=t!==W.d.All&&t!==W.d.Popular||!l.posts.recent.length?n:Object.assign({},n,{recentPostIds:l.posts.recent});b.layout=J.e[Object(z.P)(l,{})],s(he({key:e}));const p=await Object(te.a)("subreddit",()=>Object(X.a)(d.apiContext(),t,b));s(B.m(p.status));const m="error-".concat(e),g=p.body,j=Object(u.a)(t)||i()(g.subreddits,e=>e.name.toLowerCase()===t.toLowerCase());if(p.ok&&j){let n,i;const c=g.postIds.filter(e=>!!g.posts[e].isMeta);if(c.length){const e=Object.keys(g.subreddits).reduce((e,n)=>{const r=g.subreddits[n];return r.name.toLowerCase()===t.toLowerCase()?r.id:e},null);if(e){const t=await Object(Q.a)(d.apiContext(),e,c);t.ok&&(n=t.body)}}const b=Object(de.c)(l,{listingKey:e,posts:g.posts,postIds:g.postIds});if(Object(de.b)(b)){const{posts:e}=g,t=g.postIds[0],n=g.postIds[1],r=e&&e[t],s=e&&e[n],o=Date.now()-a.Ub;if(r&&Object(re.j)(r)&&s&&Object(re.j)(s)&&s.created<o&&r.created>o){i=[n,t,...g&&g.postIds&&g.postIds.slice(2)]}}if(s(Ee(Object.assign({key:e,meta:l.meta,governance:n},g,{postIds:i||g.postIds}))),!Object(u.a)(t)){const e=Object(Oe.H)(o(),t);!!Object(Oe.R)(l,{subredditId:e})||await V.o(t)(s,o,d);const n=Object(ae.a)(l);if(Object(ae.d)(n)){const t=((e,t)=>{const n=[];for(const r in e){const s=e[r],o=s.belongsTo.id===t;s.flair.length&&o&&n.push(...s.flair)}return n})(g.posts,e),n=(e=>{const t=e&&e.data&&e.data.content&&e.data.content.widgets;if(t){const e=t.items;for(const t in e){const n=e[t];if("post-flair"===n.kind)return n}}})(g.structuredStyles),r=(n?(e=>{const t=[],{templates:n}=e;for(const r in n){const e=n[r];e&&t.push(e)}return t})(n):[]).concat(t);s(A(r,e))}}const p=[M.c()(s,o,d)];t===W.d.Popular&&((Object(ce.a)(l)||Object(ie.g)(l))&&p.push(s(O.h())),Object(ue.e)(l)&&p.push(s(Object(G.a)()))),await Promise.all(p),r&&s(K.f(m)),s(Object(f.b)(oe.a.SUBREDDIT)),s(Object(U.p)());const j=Object(Oe.H)(o(),t);if(j){const e=[s(Object(L.a)({subredditId:j,postIds:g.postIds}))];Object(be.a)(o(),{subredditId:j})&&e.push(s(Object(H.I)(t,j))),await Promise.all(e)}}else{if(403===p.status||404===p.status)return void s(ge(p,t));s(Ie(Object.assign({error:!p.ok&&p.error||{type:a.D.NOT_FOUND_ERROR},key:e},g))),r&&s(K.e({id:m,kind:se.b.Error,text:Object(c.a)(l.user.language,"listings.toast.error"),buttonText:Object(c.a)(l.user.language,"listings.toast.retryButton"),buttonAction:ve(e,t,n,r)}))}},Se=(e,t,n)=>async(r,s)=>{const o=s(),i=Object(p.a)(e,t.sort,t);Object(fe.D)(o,{listingKey:i}).length>0||await r(ve(i,e,t,n))},Te=(e,t)=>{if(Object(u.a)(t)){if(Object(d.a)(t)){return Object(me.a)(e,{listingName:t}).displayText}switch(t.toLowerCase()){case W.d.Popular:return"r/popular";case W.d.All:return"r/all"}}return Object(Oe.V)(e,{subredditName:t})},Ce=e=>{const t=e.f;if(t)return{[Y.n]:t,[Y.o]:"1",sort:a.Gb.New}},we=(e,t)=>{if(t){const t=Ce(e);return t&&Object(m.c)(t)}},De=(e,t,n,r)=>r?Object(m.b)(e,void 0,r):Object(p.a)(e,t,n),Pe=(e,t)=>async(n,r,o)=>{const{subredditName:i}=e.params,{styling:c}=e.queryParams,d=r(),u=Object($.a)(e.params),l=Object(ae.a)(d),b=Object(ae.d)(l),m=we(e.queryParams,b),O=De(i,u,e.queryParams,m),g=u,j=d.listings.postOrder.api.error[O],y=d.listings.postOrder.api.pending[O];let _=!!d.listings.postOrder.ids[O];const h=d.listings.postOrder.listingSort[O];h&&h.hasChanged&&(_=!1);let E=Object(Oe.H)(d,i);const S=(e,t)=>"true"===c&&((e,t)=>Object(pe.a)(ne.c.config)(e,{subredditId:t})||Object(pe.a)(ne.c.flair)(e,{subredditId:t}))(e,t),C=Y.t in e.queryParams&&e.queryParams[Y.t].toUpperCase()||"",x=C in a.Nb&&a.Nb[C];if(y||_&&!j&&!t){if(S(d,E)&&n(q.i(E)),_){const t=Te(r(),i);n(B.l({title:t})),Object(Z.e)(r(),n,e),window.addEventListener("load",()=>{n(Object(U.p)())}),d.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(f.b)(oe.a.SUBREDDIT))})}return}if(n(k.h()),m)await n(Object(F.d)(O,m,i));else{const t=Object.assign({},s()(e.queryParams,[...Y.j,...Y.i,Y.f]),{sort:g,t:Object(ee.a)(g,x)});await n(ve(O,i,t,!0))}const N=d.platform.currentPage,L=Object(le.d)(d,{pageLayer:N});if(Object(le.a)(L)||Object(le.b)(L)||Object(le.c)(L)){const e=Object(p.a)(i,a.N.TOP,{t:a.Nb.WEEK}),t={sort:a.N.TOP,t:a.Nb.WEEK};await n(ve(e,i,t,!1))}E=E||Object(Oe.H)(r(),i),b&&!Object(T.b)(d,E)&&n(((e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(w());const i=await Object(I.c)(o(),t);if(i.ok){const t=i.body.map(R).map(e=>Object(v.c)(e));n(A(t,e)),n(D())}else n(P())})(E,i)),S(r(),E)&&n(q.i(E)),Object(Z.e)(r(),n,e);const M=Te(r(),i);n(B.l({title:M}))}},"./src/reddit/actions/pages/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/actions/category.ts"),s=n("./src/reddit/actions/modal.ts"),o=n("./src/reddit/actions/platform.ts"),i=n("./src/reddit/actions/subreddit/topSubreddits.ts"),c=n("./src/reddit/actions/users.ts"),a=n("./src/reddit/constants/listings.ts"),d=n("./src/reddit/constants/subredditLeaderboard.ts"),u=n("./src/reddit/helpers/categoryPickerWidget/index.ts"),l=n("./src/reddit/i18n/utils.ts"),b=n("./src/reddit/selectors/category.ts"),p=n("./src/reddit/selectors/subredditLeaderboard.ts"),m=n("./src/reddit/selectors/user.ts");const f=(e,t)=>t&&e===d.g,O=e=>async(t,n)=>{t(Object(s.k)({actionSource:s.a.SubredditLeaderboard,redirectUrl:a.c[a.b.SubredditLeaderboard]})),t(o.l({title:Object(l.c)("Today’s Top Communities")}));const r=e.params&&e.params.categoryName,i=r&&Object(u.b)(r);await t(g(i))},g=e=>async(t,n)=>{await t(Object(r.h)());const s=n(),o=Object(m.K)(s);if(Object(p.a)(s,e))return;const a=e&&Object(b.i)(s,{categoryName:e}),u=a&&a.id||d.c,l=f(e,o),O=((e,t)=>({categoryId:e,isOnlyModIncluded:t}))(u,l),g=((e,t)=>t?d.f:e||d.a)(u,l);await Promise.all([t(Object(i.a)(O,g)),t(Object(c.x)())])}},"./src/reddit/actions/pages/subredditWiki/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="PAGE__SUBREDDIT_WIKI_PAGE_PENDING",s="PAGE__SUBREDDIT_WIKI_PAGE_LOADED",o="PAGE__SUBREDDIT_WIKI_PAGE_FAILED"},"./src/reddit/actions/pinnedPost.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"i",(function(){return A}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/constants/modals.ts"),d=n("./src/reddit/endpoints/post/index.tsx"),u=n("./src/reddit/models/Toast/index.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/profile.ts"),p=n("./src/reddit/selectors/user.ts");const m="PINNEDPOST__PINNED_POSTS_LOADED",f=Object(o.a)(m),O="PINNEDPOST__PIN_POST_SUCCESS",g="PINNEDPOST__UNPIN_POST_SUCCESS",j=Object(o.a)(O),y=Object(o.a)(g),_="PINNEDPOST__PIN_POST_PENDING",h="PINNEDPOST__UNPIN_POST_PENDING",E=Object(o.a)(_),I=Object(o.a)(h),v="PINNEDPOST__PIN_POST_FAILURE",S="PINNEDPOST__UNPIN_POST_FAILURE",T=Object(o.a)(v),C=Object(o.a)(S),w=(e,t)=>Object(c.e)({buttonAction:A(t,!0),buttonText:Object(r.a)(e,"posts.postPinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,"posts.postPinned")}),D=(e,t,n)=>Object(c.e)({buttonAction:A(t,!0),buttonText:Object(r.a)(e,"posts.postUnpinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,n?"posts.postUnpinnedReloadPage":"posts.postUnpinned")}),P=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPost")}),x=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPostRemovedPost")}),R=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotUnpinPost")}),A=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,o)=>{let{apiContext:c}=o;const u=r(),m=u.posts.models[e];if(!m)return;const f=!Object(l.s)(u,{postId:e}),O=Object(p.S)(u);if(f&&m.isRemoved)return n(x(O));const g=m.author,_=Object(b.m)(u,g),[h,v,S,A,N]=f?[E,j,T,w,P]:[I,y,C,D,R];if(f){if(Object(l.R)(u,{profileName:g}).length>=s.U)return void n(Object(i.i)(a.a.PINNED_POSTS_LIMIT_REACHED))}const k=Object(l.m)(u,e,g),L=!f&&k;n(h({postId:e,profileId:_})),(await Object(d.s)(c(),e,f,!0)).ok?(n(v({postId:e,profileId:_})),t||n(A(O,e,L))):(n(S({postId:e,profileId:_})),n(N(O)))}}},"./src/reddit/actions/platform.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/history/index.js");var r=n("./src/lib/areUrlsEqual/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/logs/errors.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/matchRoute/index.ts"),a=(n("./src/lib/addQueryParams/index.ts"),n("./src/reddit/actions/monthsToMinutes.ts")),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/constants/listings.ts"),l=n("./src/reddit/helpers/routeKey/index.ts"),b=n("./src/reddit/selectors/experiments/postSeo.ts");n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/helpers/chooseVariant/index.ts");new Set([s.wb.COMMENTS,s.wb.INDEX,s.wb.LISTING,s.wb.PROFILE_COMMENTS,s.wb.PROFILE_OVERVIEW,s.wb.PROFILE_POSTS,s.wb.SUBREDDIT]);var p=n("./src/reddit/selectors/monthsToMinutes.ts"),m=n("./src/reddit/selectors/platform.ts");n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return w})),n.d(t,"g",(function(){return D}));const f="PLATFORM__HISTORY_LOCATION_SET",O="PLATFORM__INITIAL_REFERRER_SET",g="PLATFORM__NAVIGATION_CONFIRMATION_REQUESTED",j="PLATFORM__NAVIGATION_CONFIRMATION_DISCARDED",y="PLATFORM__PAGE_META_SET",_="PLATFORM__PAGE_STATUS_SET",h=e=>async(t,n,r)=>{const{currentPage:s}=n().platform;if(!s)return;const o=Object(c.a)(s.url,e);o&&o.route.action(o.match)(t,n,r)},E=(e,t,n)=>async(o,i,c)=>{const f=i().platform.currentPage;(!n||n.route.chunk===s.o.SUBREDDIT&&u.a.has(n.match.params.subredditName.toLowerCase()))&&window.location.replace("https://web.archive.org/web/20191001041103/https://www.reddit.com".concat(e.pathname).concat(e.search));const O=n?Object(l.d)(n,i()).listingKey:null,{user:g}=i(),j=n&&n.match&&n.match.queryParams,y=j&&j["experiment_".concat(d.gb)];Object(b.f)(i()),e.pathname.split("/").some(e=>"comments"===e),Object(m.i)(i());o(I({action:t,listingKey:O,location:e,routeMatch:n,user:g}));const _=i();if(!Object(p.w)(_)||Object(p.p)(_)||Object(p.a)(_)||o(Object(a.j)()),(!f||!Object(r.a)(f.url,e))&&n){const{match:e}=n;await n.route.action(e)(o,i,c)}},I=Object(i.a)(f),v=(Object(i.a)(O),Object(i.a)(y)),S=Object(i.a)(_),T=e=>async(t,n,r)=>{const s=n(),{currentPage:o}=s.platform;if(!o)return;const{key:i}=o;await t(v({key:i,meta:e}))},C=Object(i.a)(g),w=Object(i.a)(j),D=()=>async(e,t,n)=>{if(window!==window.parent){Object(o.b)(n.apiContext(),{extra:{errorType:s.p.NOT_ALLOWED_ACCESS,value:"Page was unexpectedly loaded inside iframe"}});try{window.top.location.href=window.location.href}catch(r){}}}},"./src/reddit/actions/polls.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="POLLS__POLL_CREATION_UPDATED",o=Object(r.a)(s)},"./src/reddit/actions/post.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s),i=n("./src/app/strings/index.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/copyToClipboard/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/login.ts"),l=n("./src/reddit/actions/platform.ts"),b=n("./src/reddit/actions/reportFlow.ts"),p=n("./src/reddit/actions/video.ts"),m=n("./src/reddit/actions/vote.ts"),f=n("./src/reddit/constants/cookie.ts"),O=n("./src/reddit/constants/history.ts"),g=n("./src/reddit/constants/posts.ts"),j=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),y=n("./src/reddit/helpers/overlay/index.ts"),_=n("./src/reddit/helpers/stewards.ts"),h=n("./src/reddit/i18n/utils.ts"),E=n("./src/reddit/models/Media/index.ts"),I=n("./src/reddit/endpoints/post/index.tsx"),v=n("./src/lib/makeGqlRequest/index.ts"),S=n("./src/graphql/operations/SinglePost.json");var T=n("./src/graphql/operations/RichTextPostContent.json");var C=n("./src/lib/constants/index.ts"),w=n("./src/lib/makeListingKey/index.ts"),D=n("./node_modules/react-router-redux/es/index.js"),P=n("./src/reddit/actions/modal.ts"),x=n("./src/reddit/actions/toaster.ts"),R=n("./src/reddit/constants/adEvents.ts"),A=n("./src/reddit/constants/modals.ts"),N=n("./src/reddit/endpoints/page/commentsPage.ts"),k=n("./src/reddit/helpers/pixels.ts"),L=n("./src/reddit/helpers/trackers/post.ts"),U=n("./src/reddit/models/Flair/index.ts"),M=n("./src/reddit/models/Toast/index.ts"),F=n("./src/reddit/models/User/index.ts"),B=n("./src/reddit/models/Vote/index.ts"),G=n("./src/reddit/selectors/platform.ts"),q=n("./src/reddit/selectors/user.ts"),V=n("./src/reddit/constants/viewabilityEvents.ts"),H=n("./src/reddit/selectors/posts.ts"),K=n("./src/telemetry/index.ts");n.d(t,"c",(function(){return W})),n.d(t,"d",(function(){return Y})),n.d(t,"g",(function(){return J})),n.d(t,"f",(function(){return z})),n.d(t,"q",(function(){return Q})),n.d(t,"k",(function(){return Z})),n.d(t,"G",(function(){return ee})),n.d(t,"M",(function(){return te})),n.d(t,"I",(function(){return ne})),n.d(t,"P",(function(){return se})),n.d(t,"p",(function(){return oe})),n.d(t,"C",(function(){return ce})),n.d(t,"D",(function(){return ae})),n.d(t,"a",(function(){return de})),n.d(t,"b",(function(){return ue})),n.d(t,"E",(function(){return pe})),n.d(t,"m",(function(){return me})),n.d(t,"H",(function(){return fe})),n.d(t,"B",(function(){return Oe})),n.d(t,"v",(function(){return ge})),n.d(t,"L",(function(){return je})),n.d(t,"y",(function(){return ye})),n.d(t,"x",(function(){return _e})),n.d(t,"o",(function(){return he})),n.d(t,"N",(function(){return Ee})),n.d(t,"O",(function(){return Ie})),n.d(t,"u",(function(){return Se})),n.d(t,"h",(function(){return Te})),n.d(t,"n",(function(){return we})),n.d(t,"l",(function(){return De})),n.d(t,"J",(function(){return Pe})),n.d(t,"A",(function(){return xe})),n.d(t,"F",(function(){return Re})),n.d(t,"t",(function(){return Ae})),n.d(t,"z",(function(){return Ne})),n.d(t,"i",(function(){return ke})),n.d(t,"s",(function(){return Ue})),n.d(t,"K",(function(){return Me})),n.d(t,"e",(function(){return Fe})),n.d(t,"w",(function(){return Be})),n.d(t,"j",(function(){return Ge})),n.d(t,"r",(function(){return Ve}));const W="POST__EXPANDED_TOGGLED",Y="POST__FOCUS_CHANGED",J="POSTS__MUTATED",z="POSTS_LOADED",Q=Object(d.a)(W),X=(Object(d.a)(Y),Object(d.a)(z)),Z="POST__STICKY_POST_SUCCESS",$=Object(d.a)(Z),ee=Object(d.a)(J),te=(e,t,n,r)=>async(s,o,c)=>{let{apiContext:a}=c;const d=o().posts.models[e];if(!d)return;if(!Object(q.J)(o()))return s(Object(P.k)({actionSource:P.a.Hide,redirectUrl:d.permalink})),void s(Object(u.b)());s(ee({[e]:{hidden:t}}));const l=o(),b=Object(q.S)(l);let p;if((p=t?await Object(I.g)(a(),e):await Object(I.t)(a(),e)).ok){if(r){const r=t?Object(i.a)(b,"posts.hiddenSuccess"):Object(i.a)(b,"posts.unhiddenSuccess"),o=Object(x.d)(r,M.b.Undo,Object(i.a)(b,"posts.hiddenUndo"),te(e,!t,n,!1));s(Object(x.e)(o))}}else if(s(ee({[e]:{hidden:!t}})),r){const e=Object(x.d)(Object(i.a)(b,"error.generic"),M.b.Error);s(Object(x.e)(e))}},ne=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;if(!Object(q.J)(n()))return t(Object(u.b)()),void t(Object(P.k)({actionSource:P.a.Save,redirectUrl:o.permalink}));const c=o.saved?I.x:I.o;if(t(ee({[e]:{saved:!o.saved}})),(await c(s(),e)).ok){const r=Object(q.S)(n()),s=o.saved?Object(i.a)(r,"posts.unsavedSuccess"):Object(i.a)(r,"posts.savedSuccess"),c=Object(x.d)(s,M.b.Undo,Object(i.a)(r,"posts.savedUndo"),ne(e));t(Object(x.e)(c))}else t(ee({[e]:{saved:o.saved}}))},re=(e,t)=>t().posts.models[e],se=Object(m.b)(re,B.a.upvoted),oe=Object(m.b)(re,B.a.downvoted),ie=e=>"viewing-".concat(e),ce=e=>async(t,n)=>{const r=n();L.g(r,e),K.c.start(ie(e))},ae=(e,t)=>async(n,s)=>{const o=s(),i=ie(e);if(K.c.has(i)){const n=K.c.end("viewing-".concat(e));!t&&n>r.a.telemetry.postConsumedThreshold&&L.a(o,e,n)}},de="AD__IMPRESSION",ue="AD__VIEWABLE_IMPRESSION",le=Object(d.a)(de),be=Object(d.a)(ue),pe=(e,t)=>async(n,r)=>{if(!e.isSponsored)return;const s=e.media&&"video"===e.media.type;if(s&&t===V.a.VideoViewable)n(Object(p.B)(e.id));else{if(!s||t!==V.a.VideoFullyViewable)return t===V.a.Impression?(n((e=>async t=>{e.isSponsored&&(Object(k.a)(e.events,R.a.Impression),t(le({postId:e.id})))})(e)),void L.f(r(),e.id)):void n((e=>async t=>{e.isSponsored&&(Object(k.a)(e.events,R.a.ViewableImpression),t(be({postId:e.id})))})(e));n(Object(p.A)(e.id))}},me=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.posts.models[e],c=o.user.account?o.user.account.displayText:null;i&&(t(ee({[e]:{approvedBy:c,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null,wasPreviouslyRemovedBySteward:Object(_.a)(i)}})),(await Object(I.b)(s(),e)).ok||t(ee({[e]:{approvedBy:null,bannedBy:i.bannedBy,isApproved:i.isApproved,isRemoved:i.isRemoved,isSpam:i.isSpam,modNote:i.modNote,numReports:i.numReports||null,modRemovalReason:i.modRemovalReason,modReasonBy:i.modReasonBy,wasPreviouslyRemovedBySteward:i.wasPreviouslyRemovedBySteward}})))},fe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.posts.models[e],a=i.user.account?i.user.account.displayText:null;c&&a&&(n(ee({[e]:{approvedBy:null,bannedBy:a,isApproved:!1,isRemoved:!t,isSpam:t,wasPreviouslyRemovedBySteward:Object(_.a)(c)}})),(await Object(I.l)(o(),e,t)).ok||n(ee({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam,wasPreviouslyRemovedBySteward:c.wasPreviouslyRemovedBySteward}})))},Oe=(e,t,n)=>async(r,s,o)=>{let{apiContext:c}=o;const a=s(),d=a.posts.models[e],u=Object(q.S)(a);if(d)if(r(ee({[e]:{hidden:!0}})),(await Object(I.c)(c(),e)).ok){const e=Object(x.d)(Object(i.a)(u,"posts.deleteSuccess"),M.b.SuccessMod);if(n)r(Object(D.b)(t.state[O.a.CloseLocation]));else{const e=Object(G.f)(a);e&&r(Object(D.b)(e.url))}r(Object(x.e)(e))}else{r(ee({[e]:{hidden:!1}}));const t=Object(x.d)(Object(i.a)(u,"error.generic"),M.b.Error);r(Object(x.e)(t))}},ge=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isLocked?I.v:I.i;t(ee({[e]:{isLocked:!o.isLocked}})),(await i(s(),e)).ok||t(ee({[e]:{isLocked:o.isLocked}}))},je=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isSpoiler?I.y:I.r,c=o.isSpoiler?o.flair.filter(e=>e.type!==U.f.Spoiler):[...o.flair,{text:"spoiler",type:U.f.Spoiler}];t(ee({[e]:{isSpoiler:!o.isSpoiler,flair:c}})),(await i(s(),e)).ok||t(ee({[e]:{isSpoiler:o.isSpoiler,flair:o.flair}}))},ye=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(H.K)(n(),{postId:e});o&&(t(ee({[e]:{isOriginalContent:!o.isOriginalContent}})),(await Object(I.k)(s(),e,!o.isOriginalContent)).ok||t(ee({[e]:{isOriginalContent:o.isOriginalContent}})))},_e=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isNSFW?I.w:I.j,c=o.isNSFW?o.flair.filter(e=>e.type!==U.f.Nsfw):[...o.flair,{text:"nsfw",type:U.f.Nsfw}];t(ee({[e]:{isNSFW:!o.isNSFW,flair:c}})),(await i(s(),e)).ok?await t(xe(e)):t(ee({[e]:{isNSFW:o.isNSFW,flair:o.flair}}))},he=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().posts.models[e];if(!i)return;const c=C.g[t];n(ee({[e]:{distinguishType:t}})),(await Object(I.d)(o(),e,c)).ok||n(ee({[e]:{distinguishType:i.distinguishType}}))},Ee=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.ignoreReports?I.u:I.h;t(ee({[e]:{ignoreReports:!o.ignoreReports}})),(await i(s(),e)).ok||t(ee({[e]:{ignoreReports:o.ignoreReports}}))},Ie=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.posts.models[e];if(!i)return;const c=!i.isStickied;t(ee({[e]:{isStickied:c}}));const a=o.subredditStickyPosts.data[i.belongsTo.id];let d;if(c&&a&&a.length>=2&&(d=a[1],t(ee({[d]:{isStickied:!1}}))),(await Object(I.s)(s(),e,c,!1)).ok){const n=i.belongsTo.id,r=ve(e,c,o.subredditStickyPosts.data[i.belongsTo.id]),s=o.subreddits.models[n].name,a=Object(w.a)(s,C.O,{});t($({newStickiedPostList:r,subredditId:n,listingKey:a}))}else t(ee({[e]:{isStickied:i.isStickied}})),d&&t(ee({[d]:{isStickied:!0}}))},ve=(e,t,n)=>{const r=n?[...n]:[];return t?(r.length>=2&&r.splice(1,1,e),r):r.filter((function(t){return t!==e}))},Se=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().user.language;if(Object(a.a)(e)){const e=Object(x.d)(Object(i.a)(o,"posts.copyLinkSuccess"),M.b.SuccessCommunity);t(Object(x.e)(e))}else{const e=Object(x.d)(Object(i.a)(o,"error.generic"),M.b.Error);t(Object(x.e)(e))}},Te="PREFERENCES__RECENT_POSTS_UPDATED",Ce=Object(d.a)(Te),we=()=>async(e,t)=>{const n=t();if(!n.user.account)return;const s=Object(F.f)(n.user.account);o.a.remove("".concat(s).concat(f.h),{domain:r.a.cookieDomain}),e(Ce({postIds:[]}))},De=e=>async(t,n)=>{const s=n();if(!s.user.account||!s.user.account.showRecentPosts||s.posts.recent.indexOf(e)>-1)return;const i=Object(F.f)(s.user.account),c=s.posts.recent?s.posts.recent.slice(0):[];c.push(e),c.length>g.c&&c.shift(),o.a.set("".concat(i).concat(f.h),"".concat(c.join(",")),{domain:r.a.cookieDomain}),t(Ce({postIds:c}))},Pe=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=!n().posts.models[e].sendReplies;t(ee({[e]:{sendReplies:o}})),(await Object(I.p)(s(),e,o)).ok||t(ee({[e]:{sendReplies:!o}}))},xe=e=>async(t,n,r)=>{if(Object(H.K)(n(),{postId:e}))return;const s=await Object(N.a)(r.apiContext(),e,void 0,{limit:1,truncate:0});if(t(Object(l.m)(s.status)),s.ok){const e=s.body;t(X(e.posts))}},Re=e=>async(t,n)=>{await t(xe(e));const r=Object(H.K)(n(),{postId:e});r&&r.crosspostRootId&&await t(xe(r.crosspostRootId))},Ae=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(!Object(q.J)(o))return void t(Object(P.i)(A.a.LOGIN_MODAL_ID));const c=Object(H.K)(o,{postId:e});if(!c)return;const a=c.isFollowed;t(ee({[e]:{isFollowed:!a}}));const d=await Object(I.f)(s(),e,!c.isFollowed),u=Object(q.S)(o);d.ok?t(Object(x.e)({kind:M.b.SuccessMod,text:Object(i.a)(u,a?"posts.event.successfullyUnfollowed":"posts.event.successfullyFollowed")})):(t(ee({[e]:{isFollowed:a}})),t(Object(x.e)({kind:M.b.Error,text:Object(i.a)(u,"posts.event.followFailed")})))},Ne=e=>{let{postOrComment:t,queryParams:n,clickInfo:r}=e;return async(e,s)=>{const o=s(),i=r&&r.hasNewTabModifier;let a=t.permalink;n&&(a=Object(c.a)(a,n)),o.user.prefs.openPostInNewTab||i?window.open(a):e(Object(y.a)(a))}},ke="RICH_TEXT_POST_CONTENT_LOADED",Le=Object(d.a)(ke),Ue=e=>async(t,n,r)=>{const s=n(),o=Object(H.K)(s,{postId:e}),c=Object(q.S)(s);if(!(o&&o.media&&Object(E.C)(o.media)&&o.media.isRichtextPreview))return;const a=await((e,t)=>Object(v.a)(e,Object.assign({},T,{variables:t})))(r.gqlContext(),{postId:e});if(a.ok){const{data:n}=a.body,r=n.post&&n.post.content&&n.post.content.richtext;r&&t(Le({postId:e,richtextContent:JSON.parse(r)}))}else t(Object(x.e)({kind:M.b.Error,text:Object(i.a)(c,"error.genericPage")}))},Me=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;(await Object(I.q)(o(),e,t)).ok?n(ee({[t]:{contestMode:e}})):n(Object(x.e)({kind:M.b.Error,text:Object(h.c)("Something went wrong")}))},Fe="MOD_TO_MEMBER_SHARE_OPENED",Be=Object(d.a)(Fe),Ge="SINGLE_POST_LOADED",qe=Object(d.a)(Ge),Ve=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n(),c=Object(H.K)(o,{postId:e}),a=Object(q.S)(o);if(c)return void t(Object(b.j)(e,!1,!1,!0));const d=await((e,t)=>Object(v.a)(e,Object.assign({},S,{variables:t})))(s(),{postId:e});if(d.ok){const{data:n}=d.body;if(n.postInfoById){const r=Object(j.d)(n.postInfoById);t(qe(r)),t(Object(b.j)(e,!1,!1,!0))}}else t(Object(x.e)({kind:M.b.Error,text:Object(i.a)(a,"error.genericPage")}))}},"./src/reddit/actions/postCollection/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"t",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"s",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return h})),n.d(t,"o",(function(){return E}));const r="CREATE_COLLECTION_PENDING",s="CREATE_COLLECTION_SUCCESS",o="CREATE_COLLECTION_FAILED",i="GET_SUBREDDIT_COLLECTION_SUCCESS",c="REMOVE_POST_FROM_COLLECTION_SUCCESS",a="ADD_POST_TO_COLLECTION_SUCCESS",d="UPDATE_POST_WITH_COLLECTION_ID",u="DELETE_COLLECTION_SUCCESS",l="UPDATE_COLLECTION_PENDING",b="UPDATE_COLLECTION_SUCCESS",p="UPDATE_COLLECTION_FAILED",m="UPDATE_COLLECTION_DESCRIPTION_PENDING",f="UPDATE_COLLECTION_DESCRIPTION_SUCCESS",O="UPDATE_COLLECTION_DESCRIPTION_FAILED",g="REORDER_COLLECTION_PENDING",j="REORDER_COLLECTION_SUCCESS",y="REORDER_COLLECTION_FAILED",_="UPDATE_COLLECTION_LAYOUT_PENDING",h="UPDATE_COLLECTION_LAYOUT_SUCCESS",E="UPDATE_COLLECTION_LAYOUT_FAILED"},"./src/reddit/actions/postCreation/constants.ts":function(e,t,n){"use strict";n.d(t,"J",(function(){return r})),n.d(t,"K",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"A",(function(){return c})),n.d(t,"G",(function(){return a})),n.d(t,"H",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"F",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"P",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"y",(function(){return f})),n.d(t,"C",(function(){return O})),n.d(t,"t",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"r",(function(){return w})),n.d(t,"R",(function(){return D})),n.d(t,"Q",(function(){return P})),n.d(t,"S",(function(){return x})),n.d(t,"T",(function(){return R})),n.d(t,"U",(function(){return A})),n.d(t,"V",(function(){return N})),n.d(t,"W",(function(){return k})),n.d(t,"X",(function(){return L})),n.d(t,"Y",(function(){return U})),n.d(t,"s",(function(){return M})),n.d(t,"D",(function(){return F})),n.d(t,"x",(function(){return B})),n.d(t,"v",(function(){return G})),n.d(t,"w",(function(){return q})),n.d(t,"u",(function(){return V})),n.d(t,"z",(function(){return H})),n.d(t,"O",(function(){return K})),n.d(t,"p",(function(){return W})),n.d(t,"B",(function(){return Y})),n.d(t,"Z",(function(){return J})),n.d(t,"I",(function(){return z})),n.d(t,"a",(function(){return Q})),n.d(t,"E",(function(){return X})),n.d(t,"M",(function(){return Z})),n.d(t,"N",(function(){return $})),n.d(t,"L",(function(){return ee}));const r="SUBMIT_VALIDATION_FIELD_HAS_ERROR",s="SUBMIT_VALIDATION_FIELD_IS_VALID",o="POST_CREATION_EDIT_COMPLETE",i="POST_CREATION_EDIT_FAILED",c="POST_CREATION_PENDING_EDIT",a="POST_CREATION_START_EDITING_POST",d="POST_CREATION_STOP_EDITING_POST",u="EDITOR_CONTENT_KEY__NEW_DRAFT",l="STARTED_CONVERTING_EDITOR_CONTENT",b="FINISHED_CONVERTING_EDITOR_CONTENT",p="POST_CREATION__TOGGLE_EDITOR_MODE",m="POST_CREATION__ERRORS_NO_LONGER_VALID",f="POST_CREATION__OC_CATEGORY_SELECTED",O="POST_TITLE_FETCHED",g="INITIALIZE_EDITOR_MODE",j="POST_CREATION__CHANGE_FLAIR",y="POST_CREATION__CHANGE_EVENT_SCHEDULE",_="POST_CREATION__CHANGE_LINK_BODY",h="POST_CREATION__CHANGE_MARKDOWN_BODY",E="POST_CREATION__CHANGE_MEDIA_BODY",I="POST_CREATION__CHANGE_OC_CATEGORY",v="POST_CREATION__CHANGE_RECAPTCHA",S="POST_CREATION__CHANGE_RTE_STATE",T="POST_CREATION__CHANGE_SUBMISSION_TYPE",C="POST_CREATION__CHANGE_TITLE",w="POST_CREATION__GOV_TYPE_CHANGED",D="POST_CREATION__TOGGLE_IS_CHAT_POST",P="POST_CREATION__TOGGLE_IS_CHANGED",x="POST_CREATION__TOGGLE_IS_GOV",R="POST_CREATION__TOGGLE_IS_NSFW",A="POST_CREATION__TOGGLE_IS_OC",N="POST_CREATION__TOGGLE_IS_POLL",k="POST_CREATION__TOGGLE_IS_SPOILER",L="POST_CREATION__TOGGLE_POST_TO_TWITTER",U="POST_CREATION__TOGGLE_SEND_REPLIES",M="POST_CREATION__INITIALIZE_CROSSPOST_MODE",F="POST_CREATION__RESET_FORM",B="POST_CREATION__MODAL_TOGGLED",G="POST_CREATION__MEDIA_UPLOAD_PENDING",q="POST_CREATION__MEDIA_UPLOAD_SUCCEEDED",V="POST_CREATION__MEDIA_UPLOAD_FAILED",H="POST_CREATION__PENDING",K="POST_CREATION__SUCCEEDED",W="POST_CREATION__FAILED",Y="POST_CREATION__POLL_FAILED",J="POST_CREATION__VALIDATION_FAILED",z="POST_CREATION__SUBMIT_VALIDATION_FAILED",Q="POST_CREATION__CAPTCHA_REQUIRED",X="POST_CREATION__SET_SUBMIT_MODE",Z="POST_CREATION__SUBREDDIT_CHANGE_PENDING",$="POST_CREATION__SUBREDDIT_WILL_CHANGE",ee="POST_CREATION__SUBREDDIT_CHANGE_CANCELED"},"./src/reddit/actions/postCreation/editorContent.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/post/convert.ts"),c=n("./src/reddit/helpers/localStorage/index.ts"),a=n("./src/reddit/helpers/trackers/postComposer.ts"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/models/RichTextJson/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/actions/postCreation/constants.ts");const m=Object(s.a)(p.F),f=Object(s.a)(p.q),O=Object(s.a)(p.P),g=(e,t,n)=>async(s,c,g)=>{let{apiContext:y}=g;a.i(c(),t);const _=t===d.h.MARKDOWN,h=t===d.h.RICH_TEXT,E=Object(b.S)(c()),I=p.l;if(_&&Object(u.E)(n))return s(O({editorKey:e,editorMode:d.h.MARKDOWN,content:""})),void s(j(t));if(h&&!n)return s(O({editorKey:e,editorMode:d.h.RICH_TEXT,content:u.i})),void s(j(t));s(m(I));const v=await Object(i.a)(y(),t,_?JSON.stringify(n):n);v.ok?(s(f(I)),s(O({editorKey:e,editorMode:t,content:v.body.output})),s(j(t))):(s(f(I)),s(Object(o.e)({duration:o.a,kind:l.b.Error,text:Object(r.a)(E,"error.generic")})))},j=e=>async(t,n)=>{const s=Object(c.h)();if(s>=3)return;const i=n().user.prefs.useMarkdown?d.h.MARKDOWN:d.h.RICH_TEXT,a=Object(b.S)(n());if(e===i)return;const u=e===d.h.MARKDOWN?"postCreation.editorModeModeHintToast.makeMarkdownDefault":"postCreation.editorModeModeHintToast.makeRTEDefault";t(Object(o.e)({buttonAction:async()=>{window.open("/settings/feed")},buttonText:Object(r.a)(a,"postCreation.editorModeModeHintToast.button"),kind:l.b.SuccessCommunity,text:Object(r.a)(a,u)})),Object(c.K)(s+1)}},"./src/reddit/actions/postCreation/general.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return O})),n.d(t,"o",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return P})),n.d(t,"k",(function(){return x})),n.d(t,"u",(function(){return R})),n.d(t,"t",(function(){return A})),n.d(t,"v",(function(){return N})),n.d(t,"w",(function(){return k})),n.d(t,"x",(function(){return L})),n.d(t,"y",(function(){return U})),n.d(t,"A",(function(){return M})),n.d(t,"B",(function(){return F})),n.d(t,"l",(function(){return B})),n.d(t,"r",(function(){return G})),n.d(t,"q",(function(){return V})),n.d(t,"m",(function(){return H})),n.d(t,"z",(function(){return K})),n.d(t,"p",(function(){return W})),n.d(t,"n",(function(){return Y}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/isUrl/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/subreddit.ts"),a=n("./src/reddit/contexts/PageLayer/index.tsx"),d=n("./src/reddit/endpoints/post/index.tsx"),u=n("./src/reddit/models/PostCreationForm/index.ts"),l=n("./src/reddit/routes/postCreation/constants.ts"),b=n("./src/reddit/selectors/postCollection.ts"),p=n("./src/reddit/selectors/postCreations.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/actions/postCreation/constants.ts");const O=Object(o.a)(f.o),g=Object(o.a)(f.y),j=Object(o.a)(f.C),y=(Object(o.a)(f.t),e=>{switch(e){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),_=e=>async(t,n,r)=>{let{apiContext:s}=r;t(g(e)),Object(m.o)(n(),e).length>0||t(Object(c.p)(e))},h=Object(o.a)(f.b),E=Object(o.a)(f.c),I=Object(o.a)(f.d),v=Object(o.a)(f.e),S=Object(o.a)(f.f),T=Object(o.a)(f.g),C=Object(o.a)(f.h),w=Object(o.a)(f.i),D=Object(o.a)(f.j),P=Object(o.a)(f.k),x=Object(o.a)(f.r),R=Object(o.a)(f.R),A=Object(o.a)(f.Q),N=(Object(o.a)(f.S),Object(o.a)(f.T)),k=Object(o.a)(f.U),L=Object(o.a)(f.V),U=Object(o.a)(f.W),M=Object(o.a)(f.X),F=Object(o.a)(f.Y),B=Object(o.a)(f.s),G=e=>async(t,n,r)=>{let{apiContext:o}=r;t(I(e)),Object(s.a)(e)&&t((e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(d.e)(s(),e);o.ok&&o.body&&o.body.json&&o.body.json.data&&t(j(o.body.json.data))})(e))},q=Object(o.a)(f.D),V=(e,t)=>async(n,s)=>{n(q()),n(e?Object(r.b)(l.c):Object(r.b)(Object(p.T)(s(),{pageLayer:t})))},H=Object(o.a)(i.c),K=e=>async t=>{e?e===u.d?t(H(e)):t(i.i(e)):(t(H(e)),t(i.i(e)))},W=e=>async(t,n)=>{const r=n(),s=Object(a.H)(e),o=Object(p.z)(r);if(s&&o){Object(p.L)(r)!==u.c&&t(K(u.c))}else t(V(!1,e))},Y=e=>async(t,n)=>{const r=n();Object(b.m)(r,{subredditId:e})?t(i.i(u.a)):t(i.i(u.b))}},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return T}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/addQueryParams/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/pages/postCreation.ts"),u=n("./src/reddit/contexts/PageLayer/selectors.ts"),l=n("./src/reddit/helpers/name/index.ts"),b=n("./src/reddit/models/PostCreationForm/index.ts"),p=n("./src/reddit/routes/postCreation/index.ts"),m=n("./src/reddit/routes/postCreation/constants.ts"),f=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/postCreations.ts"),g=n("./src/reddit/selectors/subreddit.ts"),j=n("./src/reddit/actions/postCreation/constants.ts"),y=n("./src/reddit/actions/postCreation/general.ts");const _=Object(c.a)(j.M),h=Object(c.a)(j.N),E=Object(c.a)(j.L),I=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s,c=r();const{name:p,isProfile:m}=e,j=Object(f.f)(c),y=j&&!m&&Object(l.a)(j.name,p),h=c.creations.api.subreddit.change.pending;if(y||h)return;const E=Object(u.u)(t);if(!p)return void n(v(e,E));n(_(e));const I=m?{profileName:p}:{subredditName:p};if(await n(Object(d.d)(I)),m||!Object(O.v)(c))return n(v(e,E));const S=e.allowedPostTypes||Object(g.A)(r(),{subredditName:p});if(!S)return void n(v(e,E));let T;c=r();const C=Object(O.bb)(c),w=Object(O.v)(c);if(C===o.Eb.MEDIA&&w){const{mediaType:e,video:t}=Object(O.J)(c);if("image"!==e||S.images){if("video"===e&&!S.videos){const e=t&&t.duration||0;S.images?e>o.Y&&(T=b.p.VideoWillBeRemovedTooLongForGif):T=b.p.VideoWillBeRemovedMediaNotAllowed}}else T=b.p.ImageWillBeRemoved}n(T?Object(a.i)(T):v(Object.assign({},e,{allowedPostTypes:S}),E))},v=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(o,i)=>{const{name:c,isProfile:a}=e,d=i().platform.currentPage,u=d.queryParams,l=a?p.b:p.c;let b="";b=c?l(c):Object(p.d)(d.routeMatch.match.path)&&t!==u.draft?m.a:m.c,b=Object(s.a)(b,Object.assign({},u,{draft:t||u.draft})),(t||d.url.toLowerCase()!==b.toLowerCase())&&(o(h(e)),n&&o(Object(y.t)(!0)),o(Object(r.c)(b)))}},S=e=>async(t,n)=>{const o=n().platform.currentPage,i=o.queryParams,c=Object(s.a)(o.url,Object.assign({},i,{collection:e}));t(Object(r.c)(c))},T=()=>async(e,t)=>{const n=t().platform.currentPage,s=Object(i.a)(n.url,["collection"]);e(Object(r.c)(s))}},"./src/reddit/actions/postDraft.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/formatApiError/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/postCreation/general.ts"),c=n("./src/reddit/actions/postCreation/subredditChange.ts"),a=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/contexts/PageLayer/selectors.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/models/StructuredStyles/index.ts");var p=n("./src/reddit/constants/headers.ts"),m=n("./src/reddit/helpers/name/index.ts"),f=n("./src/reddit/models/PostDraft/index.ts"),O=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),g=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),j=n("./src/reddit/models/Subreddit/index.ts");const y=e=>{let t=e.drafts.reduce((e,t)=>{const n=(e=>{let t;return t="link"===e.kind?{kind:f.b.Link,body:e.body||void 0}:"markdown"===e.kind?{kind:f.b.Markdown,body:e.body||void 0}:{kind:f.b.RichText,body:e.body||void 0},Object.assign({subredditId:e.subreddit||void 0,contentCategory:e.content_category||void 0,created:e.created,flair:e.flair,id:e.id,isChatPost:!!e.discussion_type,isNSFW:!!e.nsfw,isOriginalContent:!!e.original_content,isSpoiler:!!e.spoiler,modified:e.modified||void 0,sendReplies:!!e.send_replies,isPublicLink:!!e.is_public_link,title:e.title||""},t)})(t);return e.postDraftIds.push(n.id),e.postDrafts[n.id]=n,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce((e,t)=>{if(t.subreddit_type===j.b.User){const n=Object(O.a)(t,Object(m.f)(t.display_name_prefixed));e.profiles[n.id]=n}else{const n=Object(g.a)(t);e.subreddits[n.id]=n}return e},t)};var _=n("./src/reddit/endpoints/post/draft/helpers.ts"),h=n("./src/reddit/models/PostCreationForm/index.ts"),E=n("./src/reddit/helpers/trackers/postComposer.ts"),I=n("./src/reddit/models/Toast/index.ts"),v=n("./src/reddit/models/User/index.ts"),S=n("./src/reddit/selectors/postCreations.ts"),T=n("./src/reddit/selectors/postDraft.ts"),C=n("./src/reddit/selectors/profile.ts"),w=n("./src/reddit/selectors/subreddit.ts"),D=n("./src/reddit/selectors/user.ts");n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return R})),n.d(t,"p",(function(){return L})),n.d(t,"j",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"i",(function(){return F})),n.d(t,"m",(function(){return B})),n.d(t,"k",(function(){return G})),n.d(t,"h",(function(){return q})),n.d(t,"n",(function(){return V})),n.d(t,"s",(function(){return Q})),n.d(t,"r",(function(){return X})),n.d(t,"g",(function(){return Z})),n.d(t,"q",(function(){return ee})),n.d(t,"c",(function(){return te})),n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return re})),n.d(t,"o",(function(){return ce}));const P="POST_DRAFT__LIST_PENDING",x="POST_DRAFT__LIST_LOADED",R="POST_DRAFT__LIST_FAILED",A=Object(o.a)(P),N=Object(o.a)(x),k=Object(o.a)(R),L=()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!Object(D.i)(o)||Object(T.b)(o))return;e(A());const i=await(e=>Object(u.b)(Object(l.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/drafts.json"),method:r.ab.GET}))(s());i.ok?e(N(y(i.body))):e(k(i.error))},U="POST_DRAFT__SAVE_DRAFT_PENDING",M="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",F="POST_DRAFT__SAVE_DRAFT_FAILED",B="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",G="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",q="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",V="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",H=Object(o.a)(U),K=Object(o.a)(M),W=Object(o.a)(F),Y=Object(o.a)(B),J=Object(o.a)(G),z=Object(o.a)(q),Q=Object(o.a)(V),X=e=>async(t,n,o)=>{let{apiContext:i}=o;const d=n(),b=Object(T.g)(d),m=Object(S.S)(d);if(b||m)return;const f=Object(T.h)(d,e);if(!f)return;t(H(f)),E.e(d,f);const O=await((e,t,n)=>Object(u.b)(Object(l.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/draft"),method:n?r.ab.PUT:r.ab.POST,data:Object(_.a)(t)}).then(e=>e.body.fields&&Object(h.u)(e.body.fields[0])?Object.assign({},e,{body:{},error:{type:r.D.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}):e))(i(),f,e);if(O.ok){const{id:n,draftsCount:r}=Object(_.c)(O.body);t(K({draftId:n,draftsCount:r})),e||t(Object(c.a)(f.destSubreddit,n,!1))}else{const e=O.error;e.type===r.D.BAD_CAPTCHA_ERROR?t(z()):e.type===r.D.VALIDATION_ERROR?t(Y(e)):e.type===r.D.SUBMIT_VALIDATION_ERROR?t(J(e)):t(W(e));const n=Object(D.S)(d);t(Object(a.e)({duration:a.a,kind:I.b.Error,text:Object(s.a)(n,e)}))}},Z="POST_DRAFT__LOAD_DRAFT",$=Object(o.a)(Z),ee=e=>async(t,n,r)=>{let{apiContext:s}=r;t($(e));let o=h.e;const i=n();if(e.subredditId){const t=Object(w.S)(i,{subredditId:e.subredditId}),n=Object(C.p)(i,{profileId:e.subredditId}),r=Object(D.i)(i);t?o={isProfile:!1,name:t.name}:n&&r&&(o={isProfile:!0,name:Object(v.f)(r)})}await t(Object(c.a)(o,e.id,!1));const a=Object(T.h)(n(),e.id);a&&E.h(n(),a)},te="POST_DELETE_DRAFT_SUCCEEDED",ne="POST_DELETE_DRAFT_FAILED",re="POST_DELETE_DRAFT_PENDING",se=Object(o.a)(te),oe=Object(o.a)(ne),ie=Object(o.a)(re),ce=(e,t)=>async(n,o,c)=>{let{apiContext:p}=c;const m=o();if(Object(T.a)(m,e))return;const f=Object(T.d)(m,{draftId:e});f&&E.f(m,f),n(ie({draftId:e}));const O=await(async(e,t)=>Object(u.b)(Object(l.a)(e,[b.f]),{endpoint:"".concat(e.apiUrl,"/api/v1/draft?draft_id=").concat(t),method:r.ab.DELETE}))(p(),e);if(O.ok){const{draftsCount:r}=Object(_.c)(O.body);n(se({draftId:e,draftsCount:r}));const s=Object(d.u)(t);e===s&&n(Object(i.q)(!0,t))}else{const t=O.error,r=Object(D.S)(o());n(oe({draftId:e,apiError:t})),n(Object(a.e)({duration:a.a,kind:I.b.Error,text:Object(s.a)(r,t)}))}}},"./src/reddit/actions/postFlair.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return R})),n.d(t,"l",(function(){return L})),n.d(t,"k",(function(){return U})),n.d(t,"j",(function(){return M})),n.d(t,"g",(function(){return F})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return G}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/post.ts"),i=n("./src/reddit/actions/postFlairStyleTemplate.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/endpoints/flair/index.ts"),d=n("./src/reddit/helpers/flair.ts"),u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/postFlair.ts"),p=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/selectors/user.ts");const f="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",O=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),g=Object(s.a)(f),j=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),y="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",_=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),h=Object(s.a)(y),E=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),I="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",v=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),S=Object(s.a)(I),T=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),C="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",w=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),D=Object(s.a)(C),P=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),x="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",R="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",A=Object(s.a)(x),N=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),k=Object(s.a)(R),L=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(p.S)(i,{subredditId:e}).name;n(O());const d=await Object(a.k)(o(),c,t);if(d.ok){n(g({subredditId:e,isEnabled:t}))}else n(j());return d.ok},U=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(p.S)(i,{subredditId:e}).name;n(_());const d=await Object(a.j)(o(),t,u.d.LinkFlair,c);if(d.ok){n(h({subredditId:e,canAssignOwn:t}))}else n(E());return d.ok},M=(e,t)=>async(n,s,o)=>{let{apiContext:d}=o;const b=s(),f=Object(p.S)(b,{subredditId:t}).name,O=Object(m.S)(b);n(v());const g=await Object(a.f)(d(),e,f,u.d.LinkFlair);let j=g.ok&&!(g.body&&!1===g.body.success);if(j){const r=g.body;if(n(S({subredditId:t,template:r})),r.id){const s=e.styleTemplate,o=b.structuredStyles.flairTemplate.models[r.id];s?j=await n(Object(i.d)(t,r.id,s)):o&&(j=await n(Object(i.c)(t,r.id)))}}if(j){const e=Object(c.d)(Object(r.a)(O,"structuredStyles.forms.flair.toast.flairSaved"),l.b.SuccessMod);n(Object(c.e)(e))}else{n(T());const s=Object(c.d)(Object(r.a)(O,"structuredStyles.forms.flair.toast.flairNotSaved"),l.b.Error,Object(r.a)(O,"structuredStyles.forms.flair.toast.retryButtonText"),M(e,t));n(Object(c.e)(s))}return j},F=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const d=s(),u=Object(p.S)(d,{subredditId:t}).name,b=Object(m.S)(d);if(n(w()),(await Object(a.b)(i(),e,u)).ok){n(D({subredditId:t,templateId:e}));const s=Object(c.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairDeleted"),l.b.SuccessMod);n(Object(c.e)(s))}else{n(P());const s=Object(c.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairNotDeleted"),l.b.Error,Object(r.a)(b,"structuredStyles.forms.flair.toast.retryButtonText"),F(e,t));n(Object(c.e)(s))}},B=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const d=s(),f=Object(b.e)(d,{subredditId:t}).templateIds,O=Object(p.S)(d,{subredditId:t}).name,g=Object(m.S)(d);if(n(A({subredditId:t,templateIds:e})),(await Object(a.e)(i(),O,u.d.LinkFlair,e)).ok){n(N());const e=Object(c.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderSuccess"),l.b.SuccessMod);n(Object(c.e)(e))}else{n(k({subredditId:t,templateIds:f}));const s=Object(c.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderFailure"),l.b.Error,Object(r.a)(g,"structuredStyles.forms.flair.toast.retryButtonText"),B(e,t));n(Object(c.e)(s))}},G=e=>{let{post:t,previewFlair:n,selectedTemplateId:r}=e;return async(e,s,i)=>{let{apiContext:c}=i;const u=t.flair.filter(e=>!Object(d.p)(e.type));if(n&&u.unshift(n),e(Object(o.G)({[t.id]:{flair:u}})),n){const e=Object(d.g)(n);Object(a.h)(c(),t.id,r,e)}else Object(a.h)(c(),t.id,"","")}}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./node_modules/lodash/isEqual.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/imageUploads.ts"),l=n("./src/reddit/helpers/media/index.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),f=n("./src/reddit/constants/headers.ts");var O=n("./src/reddit/helpers/trackers/blade.ts"),g=n("./src/reddit/models/Image/index.tsx"),j=n("./src/reddit/selectors/subreddit.ts"),y=n("./src/telemetry/index.ts");n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return C}));var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const h=e=>{let{subredditId:t,flairId:n,imageKey:r,imageData:s}=e;return async(e,o,i)=>{const c=o(),a=Object(j.S)(c,{subredditId:t});if(!a)return!1;e(Object(u.k)(s));const d=await(async(e,t,n,r,s,o)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_style_asset_upload_s3/").concat(n),method:b.ab.POST,data:{filepath:r,imagetype:s,mimetype:o}}))(i.apiContext(),a.name,n,s.file.name,r,await Object(l.g)(s.file));let O=!1;try{const t=await Object(u.g)(o(),d,s,g.a.FlairTemplates);t&&e(Object(u.j)(t)),O=!0}catch(y){if(y instanceof Error)throw y;e(Object(u.i)(y))}return O}},E="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",I=Object(d.a)(E),v=(e,t,n)=>async(r,o,c)=>{const{apiContext:d}=c;let l=o();const{pendingImages:E}=n;let v=_(n,["pendingImages"]);const S=Object(j.S)(l,{subredditId:e});if(!S)return!1;const T=l.structuredStyles.flairTemplate.models[t];if(T&&i()(T,v))return!0;if(E){const n=[];if(s()(E,(s,o)=>{s&&n.push(r(h({flairId:t,imageData:Object(g.m)(s),imageKey:o,subredditId:e})))}),!(await Promise.all(n)).every(e=>e))return!1;v=((e,t,n)=>{const r=Object.assign({},e);return s()(t,(e,t)=>{const s=e&&n.imageUploads[e.id];s&&s.kind===g.b.TempUploaded&&(r[t]=s.url)}),r})(v,E,o())}l=o();let C=null,w=null;const D=[];try{(C=await Object(u.f)(l,g.a.FlairTemplates))&&(w=Object(u.m)(C)(r,o,c),D.push(...a()(C.imagesByKey)))}catch(A){return!1}const P=await(async(e,t,n,r)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_styles/").concat(n),method:b.ab.PUT,data:r}))(d(),S.name,t,v),x=T?"edit_post_flair_template":"save_post_flair_template",R=Object(O.e)(l,x);if(P.ok){let e;if(w)try{await w,e=((e,t,n)=>{const r=Object.assign({},e);return t.forEach(e=>{const t=n.imageUploads[e.id];t&&t.kind===g.b.Uploaded&&(e.url===r.postBackgroundImage?r.postBackgroundImage=t.url:e.url===r.postPlaceholderImage&&(r.postPlaceholderImage=t.url))}),r})(v,D,o())}catch(A){e=null}else e=v;r(I({flairId:t,template:e||v}))}else C&&C.websocket.close();return Object(y.a)(Object.assign({},R,{actionInfo:Object.assign({},R.actionInfo,{success:P.ok})})),P.ok},S="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",T=Object(d.a)(S),C=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(j.S)(i,{subredditId:e});if(!c)return!1;const a=await(async(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_styles/").concat(n),method:b.ab.DELETE}))(o(),c.name,t),d=Object(O.e)(i,"delete_flair_template");return a.ok&&n(T({flairId:t})),Object(y.a)(Object.assign({},d,{actionInfo:Object.assign({},d.actionInfo,{success:a.ok})})),a.ok}},"./src/reddit/actions/postFlairStyleTemplates/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_PENDING",s="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_LOADED",o="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_FAILED"},"./src/reddit/actions/postList.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./src/reddit/actions/embedAndImage.ts"),n("./src/reddit/actions/video.ts"),n("./src/reddit/helpers/trackers/postList.ts"));n("./src/reddit/constants/postLayout.ts"),n("./src/reddit/selectors/platform.ts"),n("./src/reddit/selectors/posts.ts");n("./src/reddit/selectors/video.ts");n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));const o="POSTLIST__MARKED_END",i="POSTLIST__UNMARKED_END",c=Object(r.a)(o),a=Object(r.a)(i),d=(e,t)=>async(n,r)=>{const o=r();e in o.listings.postOrder.fetchedTokens?e in o.listings.postOrder.ids?n(a({listingKey:e})):s.j(o,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/preferences.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/Base64/base64.js"),s=n("./src/config.ts"),o=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(o),c=n("./node_modules/lodash/isEmpty.js"),a=n.n(c),d=n("./node_modules/lodash/omit.js"),u=n.n(d),l=n("./node_modules/lodash/pick.js"),b=n.n(l),p=n("./src/app/strings/index.ts"),m=n("./src/lib/constants/index.ts"),f=n("./src/lib/makeActionCreator/index.ts"),O=n("./src/reddit/actions/chat/toggle.ts"),g=n("./src/reddit/actions/users.ts"),j=n("./src/reddit/constants/cookie.ts"),y=n("./src/reddit/endpoints/user/preferences.ts"),_=n("./src/reddit/i18n/utils.ts"),h=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),v=n("./src/reddit/actions/toaster.ts"),S=n("./src/reddit/constants/preferences.ts"),T=n("./src/reddit/endpoints/subreddit/settings.ts"),C=n("./src/reddit/helpers/trackers/profileSettings.ts"),w=n("./src/reddit/models/Toast/index.ts"),D=n("./src/reddit/models/User/index.ts"),P=n("./src/reddit/selectors/structuredStyles.ts"),x=n("./src/reddit/selectors/subreddit.ts"),R=n("./src/reddit/selectors/user.ts");n.d(t,"b",(function(){return A})),n.d(t,"h",(function(){return N})),n.d(t,"g",(function(){return k})),n.d(t,"o",(function(){return L})),n.d(t,"e",(function(){return U})),n.d(t,"d",(function(){return M})),n.d(t,"l",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"n",(function(){return G})),n.d(t,"q",(function(){return q})),n.d(t,"s",(function(){return W})),n.d(t,"c",(function(){return X})),n.d(t,"u",(function(){return Z})),n.d(t,"v",(function(){return $})),n.d(t,"t",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"a",(function(){return se})),n.d(t,"p",(function(){return oe})),n.d(t,"C",(function(){return de})),n.d(t,"F",(function(){return ue})),n.d(t,"i",(function(){return le})),n.d(t,"k",(function(){return fe})),n.d(t,"j",(function(){return ge})),n.d(t,"x",(function(){return ye})),n.d(t,"A",(function(){return _e})),n.d(t,"r",(function(){return he})),n.d(t,"z",(function(){return Ee})),n.d(t,"y",(function(){return Ie})),n.d(t,"m",(function(){return ve})),n.d(t,"E",(function(){return Ce})),n.d(t,"H",(function(){return we})),n.d(t,"G",(function(){return De}));const A="PREFERENCES__AUTOPLAY_TOGGLED",N="PREFERENCES__NIGHTMODE_TOGGLED",k="PREFERENCES__LAYOUT_CHANGED",L="PREFERENCES__SUBREDDIT_LAYOUT_CHANGED",U="PREFERENCES__CUSTOMIZE_FLYOUT_SHOWN",M="PREFERENCES__CUSTOMIZE_FLYOUT_DISMISSED",F="PREFERENCES__PROFILE_LAYOUT_CHANGED",B="PREFERENCES__HAMBURGER_TRAY_TOGGLED",G="PREFERENCES__RPAN_DU_DISMISSED",q="PREFERENCES__TOP_CONTENT_DISMISSAL_PREF_SET",V=Object(f.a)(k),H=Object(f.a)(L),K=Object(f.a)(U),W=Object(f.a)(M),Y=Object(f.a)(G),J=Object(f.a)(q),z=(Object(f.a)(F),Object(f.a)(A)),Q=Object(f.a)(N),X=(Object(f.a)(B),"PREFERENCES__COLLAPSED_TRAY_TOGGLED"),Z=(Object(f.a)(X),e=>async(t,n,r)=>{let{apiContext:s}=r;t(V({layout:e})),t(Object(g.u)())}),$=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(R.ab)(i),{hasSeenCustomizeFlyout:a}=i.user.prefs;a||n(K()),t&&c?(n(H({subredditId:t,layout:e})),n(we(t,{layout:e},!1)),a||n(ue({hasSeenCustomizeFlyout:!0},!1))):(n(Z(e)),n(ue(a?{layout:e}:{layout:e,hasSeenCustomizeFlyout:!0},!1)))},ee=e=>async(t,n,r)=>{let{apiContext:s}=r;n().user.account&&await Object(y.d)(e,s())},te=e=>async(t,n,o)=>{let{apiContext:c}=o;const a=n();if(Object(P.j)(a)){const e=Object(R.S)(a);t(Object(v.e)({kind:w.b.Error,text:Object(p.a)(e,"structuredStyles.modal.nightmode.description")}))}else{if(a.user.account)await Object(y.e)(e,c());else{const t=i.a.get(j.k);if(t){const n=JSON.parse(Object(r.atob)(t));n.prefs.nightmode=e,i.a.set(j.k,btoa(JSON.stringify(n)),{domain:s.a.cookieDomain})}}t(Q({nightmode:e})),t(Object(O.c)(e)),i.a.remove(j.e,{domain:s.a.cookieDomain})}},ne=()=>async(e,t,n)=>{let{apiContext:o}=n;const c=t(),a=c.user.prefs.topContentTimesDismissed+1,d=Date.now();if(c.user.account)e(ue({topContentDismissalTime:d,topContentTimesDismissed:a},!1));else{const e=i.a.get(j.k);if(e){const t=JSON.parse(Object(r.atob)(e));t.prefs[S.d]=d,t.prefs[S.e]=a,i.a.set(j.k,btoa(JSON.stringify(t)),{domain:s.a.cookieDomain})}}e(J({topContentDismissalTime:d,topContentTimesDismissed:a})),e(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(_.c)("Got it! We will show you less of this")}))},re=()=>async(e,t,n)=>{let{apiContext:o}=n;const c=Date.now(),a=t(),d=Object(_.c)("Got it! We will show you less of this");if(a.user.account)e(ue({rpanDuDismissalTime:c},!1));else{const e=i.a.get(j.k);if(e){const t=JSON.parse(Object(r.atob)(e));t.prefs[S.b]=c,i.a.set(j.k,btoa(JSON.stringify(t)),{domain:s.a.cookieDomain})}}e(Object(v.e)({kind:w.b.SuccessCommunity,text:d})),e(Y(c))},se="SETTINGS__ACCOUNT_PREFS_UPDATE_SUCCESS",oe="SETTINGS__SUBREDDIT_PREFS_UPDATED",ie=Object(f.a)("SETTINGS__UPDATE_PENDING"),ce=Object(f.a)("SETTINGS__UPDATE_FAILURE"),ae=Object(f.a)(se),de=Object(f.a)(oe),ue=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return async(r,s,o)=>{let{apiContext:i}=o;r(ie());const c=u()(e,S.a),d=b()(e,S.a),l=[];a()(c)||l.push(Object(y.g)(c,i())),a()(d)||l.push(Object(y.b)(d,i())),(await Promise.all(l)).every(e=>e.ok)?(r(ae({preferences:e})),t&&r(Object(v.e)({kind:w.b.SuccessCommunity,text:n||Object(_.c)("Changes saved")}))):(r(ce()),t&&r(Object(v.e)({kind:w.b.Error,text:Object(_.c)("Changes failed to save")})))}},le="SETTINGS__SUCCESS",be=Object(f.a)("SETTINGS__PENDING"),pe=Object(f.a)("SETTINGS__FAILURE"),me=Object(f.a)(le),fe="SETTINGS__PROFILE_IMAGE_UPDATE_SUCCESS",Oe=Object(f.a)(fe),ge="SETTINGS__PROFILE_IMAGE_DELETE_SUCCESS",je=Object(f.a)(ge),ye=e=>async(t,n,r)=>{let{apiContext:o}=r;t(be());const i=await((e,t)=>Object(E.b)(e,{endpoint:Object(I.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/prefs")),method:m.ab.GET,data:{timestamp:t?Date.now():void 0}}))(o(),e);i.ok?t(me(i.body)):t(pe())},_e=e=>async(t,n,r)=>{let{apiContext:s}=r;if(n().user.account)await Object(y.a)(e,s());else{const e=i.a.get(j.f);if(e){const t=JSON.parse(decodeURIComponent(e));t.pref_quarantine_optin=!0,i.a.set(j.f,JSON.stringify(encodeURIComponent(t)),m.x)}else{const e=JSON.stringify({pref_quarantine_optin:!0});i.a.set(j.f,e,m.x)}}},he=e=>async(t,n,r)=>{let{apiContext:s}=r;n().user.account&&await Object(y.c)(e,s()),t(z({autoplayVideo:e}))},Ee=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(R.i)(r());if(!i||!i.profileId)return;const c=Object(R.S)(r()),a=Object(D.f)(i),d=m.Pb+a,u=await Object(h.g)(o(),d,t,e.file);if(u.ok){const e=decodeURIComponent(u.body.PostResponse.Location);n(Oe({imageUrl:e,key:t,subredditId:i.profileId,username:a})),(await Object(h.e)(o(),d,{[t]:e})).ok?(n(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(c,"settings.page.saveRequestSuccess")})),Object(C.g)(r(),t)):n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(c,"settings.page.saveRequestFailure")}))}else n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(c,"settings.profileForm.images.errors."+t)}))},Ie=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(R.i)(n());if(!o||!o.profileId)return;const i=Object(D.f)(o),c=m.Pb+i,a={profileIcon:"icon",profileBanner:"banner"}[e],d=Object(R.S)(n()),u=await Object(T.b)(s(),c,a);if(u.ok){const r=u.body[a+"_img"];t(je({imageUrl:r,key:e,subredditId:o.profileId,username:i})),t(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(d,"settings.page.saveRequestSuccess")})),Object(C.f)(n(),e)}else t(Object(v.e)({kind:w.b.Error,text:Object(p.a)(d,"settings.page.saveRequestFailure")}))},ve="SETTINGS__PROFILE_SETTINGS_UPDATE_SUCCESS",Se=Object(f.a)(ve),Te=Object(f.a)("SETTINGS__PROFILE_SETTINGS_UPDATE_FAILED"),Ce=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(R.i)(r());if(!i||!i.profileId)return!1;const c=[],a=r().subreddits.settings[i.profileId],d=Object.assign({},a,e);c.push(Object(T.f)(o(),i.profileId,d));const{showActiveCommunities:u,prevShowActiveCommunities:l}=t;u!==l&&c.push(Object(y.g)({showActiveCommunities:u},o()));const b=Object(R.S)(r());return(await Promise.all(c)).every(e=>e.ok)?(n(Se({settings:e,additional:t,subredditId:i.profileId})),Object(C.i)(r()),n(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(b,"settings.page.saveRequestSuccess")})),!0):(n(Te()),n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(b,"settings.page.saveRequestFailure")})),!1)},we=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,s,o)=>{let{apiContext:i}=o;const c=s(),a=Object(R.S)(c),d=c.user.prefs.subreddit[e];r(de({subredditId:e,prefs:t})),(await Object(y.h)(e,t,i())).ok?n&&r(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(a,"settings.page.saveRequestSuccess")})):(d&&r(de({subredditId:e,prefs:d})),n&&r(Object(v.e)({kind:w.b.Error,text:Object(p.a)(a,"settings.page.saveRequestFailure")})))}},De=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r();Object(x.S)(i,{subredditId:e})&&i.user.prefs.rememberCommunitySort&&n(we(e,{sort:t},!1))}},"./src/reddit/actions/product.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return E}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/governance/errorToast.ts"),o=n("./src/reddit/endpoints/governance/badges.ts"),i=n("./src/reddit/endpoints/governance/products/badges.ts");const c="PRODUCT__BADGE_PURCHASE_OPENED",a="PRODUCT__BADGE_PURCHASE_SUCCESS",d="PRODUCT__BADGE_PURCHASE_FAILURE",u="PRODUCT__BADGE_PURCHASE_PENDING",l="PRODUCT__FETCH_SUCCESS",b="PRODUCT__FETCH_FAILURE",p="PRODUCT__FETCH_PENDING",m=Object(r.a)(c),f=Object(r.a)(a),O=Object(r.a)(d),g=Object(r.a)(u),j=Object(r.a)(l),y=Object(r.a)(b),_=Object(r.a)(p),h=e=>{let{productId:t}=e;return async(e,n,r)=>{let{apiContext:c}=r;const a=n(),d=a.products.models[t],u=a.user.account,l=!!a.products.api.purchase.pending[t];if(d&&d.price&&!l){e(g({productId:t}));const n=await Object(i.b)(c(),{price:d.price,products:[{productId:t,quantity:"1"}],subredditId:d.subredditId});let r;if(n.ok&&u&&(r=await Object(o.c)(c(),d.subredditId,u.id)),n.ok){if(r&&r.ok){const{badges:t,userOwnedBadges:s}=r.body;e(f({product:d,badges:t,userOwnedBadges:s,wallet:n.body.wallet}))}}else e(O({productId:t,error:n.error})),Object(s.a)(e,n.error)}}},E=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;e(_({subredditId:t}));const o=await Object(i.a)(s(),t);o.ok?e(j({subredditId:t,products:o.body})):e(y({subredditId:t,error:o.error}))}}},"./src/reddit/actions/profile/constants.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return f}));const r="PROFILE__PROFILE_INFO_LOADED",s="PROFILE__PROFILE_INFO_FAILED",o="PROFILE__MODERATED_SUBREDDITS_PENDING",i="PROFILE__MODERATED_SUBREDDITS_LOADED",c="PROFILE__MODERATED_SUBREDDITS_FAILED",a="PROFILE__RECEIVED_MODERATED_SUBREDDITS_MODELS",d="PROFILE__RECEIVED_MODERATED_SUBREDDITS_SUBSCRIPTIONS",u="MORE__PROFILE_GQL_MODERATED_PENDING",l="MORE__PROFILE_GQL_MODERATED_LOADED",b="MORE__PROFILE_GQL_MODERATED_FAILED",p="PROFILE__MULTIREDDITS_PENDING",m="PROFILE__MULTIREDDITS_LOADED",f="PROFILE__MULTIREDDITS_FAILED"},"./src/reddit/actions/profile/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/actions/pages/profilePrivate/constants.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");var d=n("./src/graphql/operations/ModeratedSubreddits.json"),u=n("./src/lib/makeGqlRequest/index.ts");var l=n("./src/graphql/operations/RedditorMultireddits.json");var b=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),p=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts");var m=n("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),f=n("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),O=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var g=n("./src/reddit/models/User/index.ts"),j=n("./src/reddit/selectors/profile.ts"),y=n("./src/reddit/selectors/subscriptions.ts"),_=n("./src/reddit/selectors/user.ts"),h=n("./src/reddit/actions/profile/constants.ts");n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return k})),n.d(t,"e",(function(){return F}));const E=Object(r.a)(h.k),I=Object(r.a)(h.j),v=Object(r.a)(h.c),S=Object(r.a)(h.b),T=Object(r.a)(h.a),C=Object(r.a)(h.l),w=Object(r.a)(h.m),D=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=Object(_.i)(t());s&&s.profileId&&await e(P(Object(g.f)(s)))},P=e=>async(t,n,r)=>{let{apiContext:o}=r;const d=n();if(!!(Object(j.j)(d,{profileName:e})&&Object(j.h)(d,{profileName:e})&&Object(_.gb)(d,{userName:e})))return;const u=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about.json"),method:s.ab.GET,data:{gilding_detail:1,awarded_detail:1,raw_json:1}}))(o(),e);u.ok?t(E(function(e){const{data:t}=e;return Object.assign({about:Object(f.a)(t),banner:t.subreddit&&t.subreddit.banner_img&&{height:t.subreddit.banner_size&&t.subreddit.banner_size[1],url:t.subreddit.banner_img,width:t.subreddit.banner_size&&t.subreddit.banner_size[0]},user:Object(m.a)(t),features:t.features},t.subreddit?{profile:Object(O.a)(t.subreddit,t.name)}:null)}(u.body))):t(I(u.body))},x=e=>async(t,n,r)=>{let{apiContext:o}=r;const d={profileName:e};if(Object(j.a)(n(),d))return;if(Object(j.k)(n(),d))return;t(v(d));const u=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/moderated_subreddits.json"),method:s.ab.GET,data:{raw_json:1}}))(o(),e);if(u.ok){const r=function(e){return e?e.map(e=>({communityIcon:e.community_icon,displayText:e.sr_display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.icon_img?e.icon_img:"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18,isQuarantined:!!e.quarantine,name:"user"===e.subreddit_type?e.sr.slice(s.Pb.length):e.sr,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})):[]}(u.body.data);t(S({profileName:e,data:r}));const o={},i={};if(r.forEach(e=>{("user"===e.type?i:o)[e.id]=e}),t(C({subreddits:o,profiles:i})),!Object(y.g)(n())){const e=(e=>{const t=e.filter(e=>e.user_is_subscriber);return{subredditOrder:t.filter(e=>"user"!==e.subreddit_type).map(e=>e.name),profileOrder:t.filter(e=>"user"===e.subreddit_type).map(e=>e.name)}})(u.body.data||[]);t(w(e))}}else t(T(u.body))},R=Object(r.a)(h.f),A=Object(r.a)(h.e),N=Object(r.a)(h.d),k=e=>async(t,n,r)=>{const s=n(),i=e.toLowerCase(),{pageInfo:c}=s.profiles.moderated;if(!c[i]||!c[i].hasNextPage||!c[i].endCursor)return;t(R({profileName:i}));const a=await((e,t)=>Object(u.a)(e,Object.assign({},d,{variables:t})))(r.gqlContext(),{name:i,after:c[i].endCursor,first:o.h}),l=a.body.data;if(a.ok){const e=Object(p.b)(l.redditor.moderatedSubreddits);t(A(Object.assign({profileName:i},e)))}else t(N(a.error))},L=Object(r.a)(h.i),U=Object(r.a)(h.h),M=Object(r.a)(h.g),F=(e,t)=>async(n,r,i)=>{const c=r(),a=e.toLowerCase(),d={profileName:a};if(Object(j.b)(c,d))return;if(!t&&Object(j.l)(c,d))return;const{pageInfo:p}=c.profiles.multireddits;if(t&&(!p[a]||!p[a].hasNextPage||!p[a].endCursor))return;n(L(d));const m=await((e,t)=>Object(u.a)(e,Object.assign({},l,{variables:t})))(i.gqlContext(),{name:a,first:t?o.h:s.Bb,after:t?p[a].endCursor:void 0}),f=m.body.data;if(m.ok){const e=f.redditorInfoByName.multireddits.edges.map(e=>e.node),t=Object(b.b)(e);n(U(Object.assign({},d,t,{pageInfo:f.redditorInfoByName.multireddits.pageInfo,multiredditsModelsState:c.multireddits.models})))}else n(M(Object.assign({},d,{error:m.error})))}},"./src/reddit/actions/profileConversations.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/reddit/actions/pages/profileShared.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/constants/things.ts"),b=n("./src/config.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");var f=n("./src/reddit/helpers/makeProfileListingKey/index.ts");n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return D}));const O="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_PENDING",g="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_LOADED",j="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_FAILED",y="PROFILE__EXTRACOMMENTS_PENDING",_="PROFILE__EXTRACOMMENTS_LOADED",h="PROFILE__EXTRACOMMENTS_FAILED",E=Object(a.a)(O),I=Object(a.a)(g),v=Object(a.a)(j),S=Object(a.a)(_),T=Object(a.a)(y),C=Object(a.a)(h),w=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:a}=o.platform;if(!a||!a.routeMatch)return;const{queryParams:l,params:O}=a.routeMatch.match,{sort:g,t:j}=Object(d.a)(o,l),{profileName:y}=O,_=y.toLowerCase(),h=Object(f.a)(_,c.ib,g,l),S=o.listings.postOrder.loadMore[h];if(!S)return;const T=o.listings.postOrder.api.pending[h],{fetchedTokens:C}=o.listings.postOrder,w=!(!C[h]||!C[h][S.token]);if(T||w)return;e(E({key:h,fetchedToken:S.token}));const D=await((e,t,n)=>Object(p.b)(e,{data:n,endpoint:Object(m.a)("".concat(b.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/conversations")),method:c.ab.GET}))(r(),y,Object.assign({after:S.token,dist:S.dist,sort:g,t:j},i()(l,u.j)));if(D.ok){const t=o.listings.postOrder.ids[h],n=Object.assign({},D.body,{postIds:s()(D.body.postIds,t)});e(I(Object.assign({fetchedToken:S.token,key:h,meta:o.meta,profileName:y},n)))}else e(v({error:D.error,fetchedToken:S.token,key:h,account:D.body.data?D.body.data.account:null}))},D=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;if(s().profileOverviewPage.conversations.extraComments.api.pending[n])return;r(T({extraCommentsId:n}));let a=t;t.startsWith(l.b)&&(a=t.slice(l.b.length));const d=n.split("-")[1],u=await((e,t,n,r)=>Object(p.b)(e,{endpoint:Object(m.a)("".concat(b.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/morecomments/").concat(n)),method:c.ab.GET,type:"json",data:{after:r,limit:14}}))(i(),e,a,d);u.ok?r(S(Object.assign({profileName:e,extraCommentsId:n},u.body))):r(C(u.body))}},"./src/reddit/actions/profileOverviewChrono.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return _}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),d=n("./src/reddit/selectors/profileOverviewChronoItems.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/reddit/constants/parameters.ts"),b=n("./src/reddit/actions/pages/profileShared.ts"),p=n("./src/reddit/endpoints/page/profileOverviewPage.ts");const m="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_PENDING",f="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_LOADED",O="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_FAILED",g=Object(c.a)(m),j=Object(c.a)(f),y=Object(c.a)(O),_=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:m,params:f}=c.routeMatch.match,{sort:O,t:_}=Object(b.a)(o,m),{profileName:h}=f,E=Object(a.a)(h,u.hb,O,m),I=Object(d.d)(o,{listingKey:E});if(!I)return;const v=Object(d.b)(o,{listingKey:E}),S=Object(d.c)(o,{listingKey:E}),T=S&&S[I.token];if(v||T)return;e(g({key:E,fetchedToken:I.token}));const C=await Object(p.a)(r(),h,Object.assign({after:I.token,dist:I.dist,sort:O,t:_},i()(m,l.j)));if(C.ok){const t=Object(d.f)(o,{listingKey:E}),n=Object.assign({},C.body,{overviewIds:s()(C.body.overviewIds,t)});e(j(Object.assign({fetchedToken:I.token,key:E,meta:o.meta},n)))}else e(y({error:C.error,fetchedToken:I.token,key:E,account:C.body.data?C.body.data.account:null}))}},"./src/reddit/actions/publicAccessNetwork/constants.ts":function(e,t,n){"use strict";n.d(t,"A",(function(){return s})),n.d(t,"R",(function(){return o})),n.d(t,"Q",(function(){return i})),n.d(t,"s",(function(){return c})),n.d(t,"B",(function(){return a})),n.d(t,"C",(function(){return d})),n.d(t,"u",(function(){return u})),n.d(t,"F",(function(){return l})),n.d(t,"E",(function(){return b})),n.d(t,"G",(function(){return p})),n.d(t,"v",(function(){return m})),n.d(t,"D",(function(){return f})),n.d(t,"z",(function(){return O})),n.d(t,"x",(function(){return g})),n.d(t,"y",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"t",(function(){return _})),n.d(t,"w",(function(){return h})),n.d(t,"K",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"m",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return P})),n.d(t,"c",(function(){return x})),n.d(t,"N",(function(){return R})),n.d(t,"L",(function(){return A})),n.d(t,"M",(function(){return N})),n.d(t,"j",(function(){return k})),n.d(t,"l",(function(){return L})),n.d(t,"q",(function(){return U})),n.d(t,"r",(function(){return M})),n.d(t,"S",(function(){return F})),n.d(t,"P",(function(){return B})),n.d(t,"O",(function(){return G})),n.d(t,"a",(function(){return q})),n.d(t,"k",(function(){return V})),n.d(t,"J",(function(){return H})),n.d(t,"I",(function(){return K})),n.d(t,"H",(function(){return W})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return J}));var r=n("./src/config.ts");const s="RPAN__REMOVE_STREAM_FROM_HISTORY",o="RPAN__VISIT_STREAM",i=-1,c="RPAN__RECEIVE_CONFIG",a="RPAN__REQUEST_CONFIG",d="RPAN__REQUEST_CONFIG_FAILED",u="RPAN__RECEIVE_STREAM_MODEL",l="RPAN__REQUEST_STREAM_MODEL",b="RPAN__REQUEST_STREAM_FAILED",p="RPAN__REQUEST_STREAM_MODEL_BATCH",m="RPAN__RECEIVE_STREAM_MODEL_BATCH",f="RPAN__REQUEST_STREAM_BATCH_FAILED",O="RPAN__RECEIVE_VOTE",g="RPAN__RECEIVE_THEATER_SETTINGS",j="RPAN__RECEIVE_USER_SETTINGS",y="RPAN__BATCH_OP",_="RPAN__RECEIVE_DISCOVERY_UNIT_THUMBNAILS",h="RPAN__RECEIVE_STREAM_PREVIEWS",E="RPAN__SEND_HEARTBEAT",I=0,v=9999,S=1e3,T=60*S,C=30,w=6,D=5,P=5,x=57,R=5*S,A=60*S,N=60*T,k=3*S,L=2*S,U=S,M=400,F=S,B="https://web.archive.org/web/20191001041103/https://watch.redd.it/",G=".m3u8",q=30*S,V="".concat(r.a.assetPath,"/img/trending-placeholder.png"),H="pan",K=1,W=3,Y=4,J=10*S},"./src/reddit/actions/publicAccessNetwork/userSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/constants/localStorage.ts"),i=n("./src/reddit/helpers/localStorage/index.ts");const c=Object(r.a)(s.y),a=e=>async t=>{await t(c(e)),t(l())},d=()=>async e=>{const t=u();t&&e(c(t))},u=()=>{return Object(i.n)(o.A)||void 0},l=()=>async(e,t)=>{const n=t().publicAccessNetwork.userSettings;Object(i.Q)(o.A,n)}},"./src/reddit/actions/railsWidgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/lib/makeOnboardingSubredditsKey/index.ts"),i=n("./src/reddit/actions/discoveryUnit.ts"),c=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/reddit/actions/pages/subredditLeaderboard.ts"),d=n("./src/reddit/actions/search/trending.ts"),u=n("./src/reddit/actions/subreddit/onboarding.ts"),l=n("./src/reddit/constants/categories.tsx"),b=n("./src/reddit/constants/listings.ts"),p=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),m=n("./src/reddit/selectors/experiments/railsWidgets.ts"),f=n("./src/reddit/selectors/meta.ts"),O=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/subreddit.ts");const j=()=>async(e,t)=>{let n=t();const j=Object(m.e)(n);if(j)if(await Promise.all([e(Object(i.h)()),e(Object(a.b)())]),Object(m.b)(j)){const t=Object(s.a)(b.b.Popular,r.N.TOP);if(Object(O.D)(n,{listingKey:t}).length>0)return;await e(Object(c.i)(t,b.b.Popular,{sort:r.N.TOP}))}else if(Object(m.c)(j))await e(Object(d.b)());else if(Object(m.a)(j)){if(!Object(p.d)(n))return;const i={city:Object(f.a)(n),country:Object(f.b)(n),region:Object(f.h)(n)};await e(Object(u.a)(i)),n=t();const a=Object(o.a)(i),d=Object(g.q)(n,{key:a}),b=Object(l.d)(d),m=Object(s.a)(b,r.N.HOT);if(Object(O.D)(n,{listingKey:m}).length>0)return;await e(Object(c.i)(m,b,{sort:r.N.HOT}))}}},"./src/reddit/actions/recommendations.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/makeActionCreator/index.ts");n("./src/config.ts"),n("./src/lib/constants/index.ts"),n("./src/lib/makeApiRequest/index.ts"),n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),n("./src/reddit/models/RichTextJson/addRTJParam.ts");n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const s="RECOMMENDED_POSTS_FAILED",o="RECOMMENDED_POSTS_LOADED";Object(r.a)(o),Object(r.a)(s)},"./src/reddit/actions/redditEmbed.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/me/index.ts"),o=n("./src/reddit/helpers/pageActionLoginRedirect.ts");const i="REDDIT_EMBED_LOADED",c="REDDIT_EMBED_FAILED",a=Object(r.a)("REDDIT_EMBED_PENDING"),d=Object(r.a)(i),u=Object(r.a)(c),l=(e,t)=>async(e,n,r)=>{let{apiContext:i}=r;const c=n();e(a());const l=await Object(s.a)(i());l.ok&&l.body?!t||l.body.account?e(d(l.body)):Object(o.a)(e,c):e(u(l.error))}},"./src/reddit/actions/removalReasons/constants.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"m",(function(){return h})),n.d(t,"t",(function(){return E}));const r="REMOVALREASONS__LOAD_PENDING",s="REMOVALREASONS__LOAD_SUCCESS",o="REMOVALREASONS__LOAD_FAILED",i="REMOVALREASONS__ADD_PENDING",c="REMOVALREASONS__ADD_SUCCESS",a="REMOVALREASONS__ADD_FAILED",d="REMOVALREASONS__EDIT_PENDING",u="REMOVALREASONS__EDIT_SUCCESS",l="REMOVALREASONS__EDIT_FAILED",b="REMOVALREASONS__DELETE_PENDING",p="REMOVALREASONS__DELETE_SUCCESS",m="REMOVALREASONS__DELETE_FAILED",f="REMOVALREASONS__SUBMIT_PENDING",O="REMOVALREASONS__SUBMIT_SUCCESS",g="REMOVALREASONS__SUBMIT_FAILED",j="REMOVALREASONS__MESSAGE_PENDING",y="REMOVALREASONS__MESSAGE_PRIVATE_SUCCESS",_="REMOVALREASONS__MESSAGE_PUBLIC_SUCCESS",h="REMOVALREASONS__MESSAGE_FAILED",E="REMOVALREASONS__REMOVEDITEMS_SELECTED"},"./src/reddit/actions/reportFlow.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return x})),n.d(t,"g",(function(){return R})),n.d(t,"i",(function(){return k}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/login.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/reportRules.ts"),a=n("./src/reddit/actions/subreddit.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/actions/users.ts"),l=n("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),b=n("./src/reddit/endpoints/post/index.tsx"),p=n("./src/reddit/helpers/isComment.ts"),m=n("./src/reddit/helpers/isPost.ts"),f=n("./src/reddit/models/Post/index.ts"),O=n("./src/reddit/models/Toast/index.ts"),g=n("./src/reddit/selectors/posts.ts"),j=n("./src/reddit/selectors/user.ts");const y="LAYER_REPORT_PREFIX_",_="REPORT__PENDING",h="REPORT__LOADED",E="REPORT__FAILED",I=Object(s.a)(_),v=Object(s.a)(h),S=Object(s.a)(E),T=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=e.id,a=s(),u=a.reportFlow.api.pending[c],l=a.reportFlow.userIsMod;if(u)return;n(I({id:c}));const p=await Object(b.m)(i(),e),m="error-report-".concat(c);if(p.ok)n(v({id:c})),n(d.f(m)),!t.isAbuseOfReportButton&&l&&n(k());else{n(S({id:c}));const s=p.error&&p.error.fields&&p.error.fields.length?p.error.fields[0].msg:"";n(d.e({id:m,kind:O.b.Error,text:s||Object(r.a)(a.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(a.user.language,"reportFlow.reportRequest.retry"),buttonAction:T(e,t)}))}},C="REPORT_FLOW__TARGET_SET",w="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",D=Object(s.a)(C),P=Object(s.a)(w),x=(e,t,n,r)=>async(s,d,l)=>{let{apiContext:b}=l;const O=d(),_=Object(p.a)(e),h=Object(m.a)(e);if(!h&&!_)return;const E=_?O.comments.models[e]:O.posts.models[e];if(!E)return;if(!Object(j.J)(d()))return s(Object(o.b)()),void s(Object(i.k)({actionSource:i.a.Report,redirectUrl:E.permalink}));s(Object(u.F)(E.author));const I=Object(g.V)(O,{postId:_?O.comments.models[e].postId:O.posts.models[e].id}),v=n||h&&Object(f.h)(E)||_&&L(E,O);v||O.reportRules.sitewideRules&&O.reportRules.sitewideRules.length||s(Object(c.d)()),!v||O.reportRules.liveStreamingRules&&O.reportRules.liveStreamingRules.length||s(Object(c.c)()),I&&s(Object(a.o)(I.name,I.type)),s(D(r?y+e:e)),s(P(!!t)),I&&s(N(I.name))},R="REPORT_FLOW__USER_IS_MOD_SET",A=Object(s.a)(R),N=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(l.a)(s());t(A(o.ok&&!!o.body[e]))},k=()=>async(e,t,n)=>{let{apiContext:r}=n;e(D(null))},L=(e,t)=>{const n=e.postId,r=n&&t.posts.models[n];return!!r&&Object(f.h)(r)}},"./src/reddit/actions/reportPageRules/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="REPORT_PAGE_RULES__LOADED"},"./src/reddit/actions/reportRules.ts":function(e,t,n){"use strict";var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f}));const d="SITEWIDE_RULES_LOADED",u="LIVESTREAMING_RULES_LOADED",l=Object(s.a)(d),b=Object(s.a)(u),p=Object(r.e)("reportFlow.sectionHeaders.spamAndAbuse"),m=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user||!s.user.language)return;const d=await(e=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/sitewide_rules.json"),method:o.ab.GET}))(r());if(d.ok){const t=d.body,n=O(t.sitewide_rules,s.user.language);e(l(n))}},f=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user||!s.user.language)return;const d=await(e=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/livestream_rules.json"),method:o.ab.GET}))(r());if(d.ok){const t=d.body,n=O(t.livestream_rules,s.user.language);e(b(n))}},O=(e,t)=>{let n=[];if(e&&e.length>2){const r={reasonTextToShow:p(t),nextStepReasons:[e[0],e[1]]};n.push(r),n=n.concat(e.slice(2))}return n}},"./src/reddit/actions/search.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/actions/pages/subreddit.ts"),b=n("./src/reddit/endpoints/page/search.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),f=n("./src/reddit/constants/headers.ts");var O=async(e,t)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/related_queries_v1.json?query=").concat(t),method:i.ab.GET}),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/selectors/experiments/feedFilters.ts"),y=n("./src/reddit/selectors/searchResults.ts");n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"h",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"e",(function(){return R})),n.d(t,"i",(function(){return A}));const _="SEARCH__MORE_RESULTS_PENDING",h="SEARCH__MORE_RESULTS_RECEIVED",E="SEARCH__MORE_RESULTS_FAILED",I="SEARCH__RELATED_QUERIES_RECEIVED",v="SEARCH__UPDATE_SEARCH_QUERY",S=Object(c.a)(v),T=Object(c.a)(_),C=Object(c.a)(h),w=Object(c.a)(E),D=Object(c.a)(I),P=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(y.g)(o,e);if(i&&i.length>0)return;const c=await O(s(),e);if(c.ok){const n=(e=>({relatedQueries:e.body.related_queries}))(c);t(D({query:e,relatedQueries:n.relatedQueries}))}},x=e=>async(t,n,r)=>{let{apiContext:c}=r;const p=n(),{queryParams:m}=p.platform.currentPage,f=Object(j.a)(p),O=Object(j.d)(f),y=Object(l.d)(m),_=p.platform.currentPage.urlParams.subredditName||p.platform.currentPage.urlParams.multiredditName,{username:h}=p.platform.currentPage.urlParams,E=y&&O?y:s()(m,u.p),I=Object(a.c)(E),v=Object.assign({},I,{sort:I.category?i.Gb.Relevance:I.sort,t:I.category?i.Nb.DAY:I.t}),S=Object(a.b)(_,h,v);let D;if(e.indexOf(i.Ib.Posts)>-1){const e=p.listings.postOrder.loadMore[S];if(!e)return;const t=p.listings.postOrder.api.pending[S],n=p.listings.postOrder.fetchedTokens,r=n[S]&&n[S][e.token];if(t||r)return;D=e.token}else{if(!(e.indexOf(i.Ib.Subreddits)>-1||e.indexOf(i.Ib.Users)>-1))throw new Error("Should not attempt to fetch more results without a search type");{const e=p.listings.listingOrder.loadMore[S];if(!e)return;const t=p.listings.listingOrder.api.pending[S],n=p.listings.listingOrder.fetchedTokens,r=n[S]&&n[S][e.token];if(t||r)return;D=e.token}}const P="error-".concat(S);t(T({fetchedToken:D,key:S,type:e}));const R=await Object(b.a)(c(),_,h,Object.assign({},v,{after:D,type:(I.type||[]).join(","),b:!0}));R.ok?(t(C(Object.assign({key:S,fetchedToken:D,meta:p.meta,subredditOrMultiName:_,type:e},R.body))),t(d.f(P))):(t(w(Object.assign({key:S,error:R.error,fetchedToken:D,meta:p.meta,type:e},R.body))),t(d.e({id:P,kind:g.b.Error,text:Object(o.a)(p.user.language,"search.toast.moreResultsError"),buttonText:Object(o.a)(p.user.language,"search.toast.retryButton"),buttonAction:x(e)})))},R="SEARCH__TYPEAHEAD_SUCCESS",A=Object(c.a)(R)},"./src/reddit/actions/search/trending.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/getUrlQueryParams/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),b=n("./src/reddit/models/Search/index.ts");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));const p="PAGE__TRENDING_SEARCHES_LOADED",m=Object(r.a)(p),f=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=await(e=>{const t={withAds:1,ad:Object(c.a)().get("ad")};return Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/trending_searches_v1.json"),method:i.ab.GET,data:t})})(r());if(s.ok){const t=(e=>{const t=[];if(e.body&&e.body.trending_searches){const n=e.body.trending_searches.length;for(let r=0;r<n;r++){const n=e.body.trending_searches[r],s=n.results.data.children.length>0?n.results.data.children[0].data:null,i={id:o()(),post:s?Object(l.a)(s):null,rawQuery:n.query_string,searchQuery:n.display_string,section:b.c.trending,isWhitelisted:n.is_subreddit_whitelisted,subredditInfo:s?{icon:s.sr_detail.community_icon||s.sr_detail.icon_img,displayText:s.sr_detail.display_name_prefixed}:null,subredditOccurrences:n.subreddit_occurences-1,type:b.b.text};t.push(i)}}return t})(s);return e(m({items:t})),t}return null}},"./src/reddit/actions/seo/linksModule.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/lib/loadWithRetries/index.ts");var i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./node_modules/url/url.js"),a=n.n(c),d=n("./src/config.ts");const u=e=>e.seo.crawler;var l=n("./src/reddit/selectors/telemetry.ts"),b=n("./src/telemetry/index.ts"),p=n("./src/telemetry/models/Event.ts");const m=(e,t,n)=>{Object(b.a)(Object.assign({},Object(l.defaults)(e),{source:p.d.Experiment,action:p.c.Expose,noun:"canonical_url",experiment:t,crawler:u(e),request:Object(l.requestWithParams)(e),seo:{internalLinkUrl:a.a.resolve(d.a.redditUrl,n)}}))};var f=n("./src/reddit/selectors/seo/linksModule.ts");n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return _}));const O="FRONTPAGE_LINKS__REQUEST_LOADED",g=Object(r.a)("FRONTPAGE_LINKS__REQUEST_PENDING"),j=Object(r.a)("FRONTPAGE_LINKS__REQUEST_FAILED"),y=Object(r.a)(O),_=()=>async(e,t)=>{const r=t();if(Object(i.b)(r,{experimentEligibilitySelector:i.a,experimentName:s.U})!==s.V.On)return;e(g());const c=await(async()=>(await Object(o.a)(()=>n.e("FrontpageLinks").then(n.t.bind(null,"./src/reddit/endpoints/goodContent/frontpageLinks.json",3)))).default)();if(c){if(e(y(c)),"Googlebot Desktop"===(e=>{const t=u(e);return t&&t.name||null})(r)){const e=Object(f.b)(t());e&&((e,t,n)=>{const r={id:-1,name:t};for(const o of n)for(const t of o.links)m(e,Object.assign({},r,{isOverride:!1,variant:t.visible?s.W.LinkedUrl:s.m.Control1}),t.url)})(r,s.T,e)}}else e(j())}},"./src/reddit/actions/shortcuts.ts":function(e,t,n){"use strict";var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/comment.ts"),i=n("./src/reddit/actions/emailCollection/index.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),d=n("./src/reddit/actions/post.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),b=n("./src/reddit/components/Settings/modalIds.ts"),p=n("./src/reddit/constants/elementIds.ts"),m=n("./src/reddit/constants/modals.ts"),f=n("./src/reddit/constants/postLayout.ts"),O=n("./src/reddit/constants/shortcuts.ts"),g=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),j=n("./src/reddit/helpers/overlay/index.ts"),y=n("./src/reddit/helpers/routeKey/index.ts"),_=n("./src/reddit/helpers/trackers/lightbox.ts"),h=n("./src/reddit/selectors/telemetry.ts");const E=e=>()=>({source:"shortcuts",action:"submit",noun:e}),I=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,post:h.post(n,t)}),v=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,comment:h.comment(n,t)}),S=E("show_panel"),T=E("esc_close"),C=E("c_create_post");E("q_navigation");var w=n("./src/reddit/selectors/activeModalId.ts"),D=n("./src/reddit/selectors/experiments/emailCollection.ts"),P=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),x=n("./src/reddit/selectors/gild.ts"),R=n("./src/reddit/selectors/goldPurchaseModals.ts"),A=n("./src/reddit/selectors/listings.ts"),N=n("./src/reddit/selectors/platform.ts");n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"l",(function(){return F})),n.d(t,"k",(function(){return B})),n.d(t,"p",(function(){return G})),n.d(t,"j",(function(){return q})),n.d(t,"o",(function(){return V})),n.d(t,"t",(function(){return H})),n.d(t,"f",(function(){return K})),n.d(t,"s",(function(){return W})),n.d(t,"h",(function(){return Y})),n.d(t,"g",(function(){return J})),n.d(t,"e",(function(){return z})),n.d(t,"m",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return Z})),n.d(t,"n",(function(){return $})),n.d(t,"d",(function(){return te})),n.d(t,"r",(function(){return ie}));const k="SHORTCUTS__ACTIVE_COMMENT_SET",L="SHORTCUTS__ACTIVE_POST_SET",U=Object(s.a)(k),M=Object(s.a)(L),F=e=>async(t,n,r)=>{let{apiContext:s}=r;t(Object(c.i)(m.a.KEYBOARD_SHORTCUTS)),e(S)},B=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.shortcuts.activePostId,a=i.listings.activeKey,d=i.listings.postOrder.ids[a];if(!c||d.indexOf(c)<0){const e=d[0];return n(M(e)),void se(e)}let u,l=c;do{if(!(u=Object(A.b)(i,{postId:l}))||!u.nextPost)return;l=u.nextPost.id}while(i.posts.models[l].hidden);i.shortcuts.namespace===O.d.Lightbox?(ne(n,u.nextPost),e(t?_.b(c,"next_post",!0):(e=>I("n_next",e))(l))):(n(M(l)),se(l),e((e=>I("j_next",e))(l)))},G=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId,c=o.listings.activeKey,a=o.listings.postOrder.ids[c];if(!i||a.indexOf(i)<0)return t(M(a[0])),void se(a[0]);if(0===a.indexOf(i))return;let d,u=i;do{if(!(d=Object(A.b)(o,{postId:u}))||!d.prevPost)return;u=d.prevPost.id}while(o.posts.models[u].hidden);o.shortcuts.namespace===O.d.Lightbox?(ne(t,d.prevPost),e((e=>I("p_previous",e))(u))):(t(M(u)),se(u),e((e=>I("k_previous",e))(u)))},q=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=re(o);if(!i)return;let c;const a=o.shortcuts.activeCommentId;if(a){const e=o.comments.collapsed[i],t=o.commentsPage.keyToCommentThreadLinkSets[i];if(e[c=a])do{if(!t[c].next)return;c=t[c].next.id}while(l.b(c));else c=t[c].next.id}else{const e=o.commentsPage.keyToHeadCommentId[i];if(!e)return;c=e}t(U(c)),se(c),e((e=>v("j_next",e))(c))},V=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=re(o);if(!i)return;let c;const a=o.shortcuts.activeCommentId;if(a&&a!==o.commentsPage.keyToHeadCommentId[i]){const e=o.commentsPage.keyToCommentThreadLinkSets[i];for(c=e[a].prev.id;l.b(c);)c=e[c].prev.id}else{const e=o.commentsPage.keyToHeadCommentId[i];if(!e||a===e)return;c=e}t(U(c)),se(c),e((e=>v("k_previous",e))(c))},H=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.tb(c)),e((e=>v("a_upvote",e))(c))):a&&(t(d.P(a)),e((e=>I("a_upvote",e))(a))))},K=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.U(c)),e((e=>v("z_downvote",e))(c))):a&&(t(d.p(a)),e((e=>I("z_downvote",e))(a))))},W=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.ib(c)),e((e=>v("s_save",e))(c))):a&&(t(d.I(a)),e((e=>I("s_save",e))(a))))},Y=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId;i&&!o.posts.models[i].isSponsored&&(t(d.M(i,!o.posts.models[i].hidden,o.shortcuts.namespace===O.d.Lightbox,!0)),t(B(e)),e((e=>I("h_hide",e))(i)))},J=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId,c=f.b[o.user.prefs.layout];if(i&&(c===f.g.Compact||c===f.g.Classic)){const n=o.posts.models[i].crosspostRootId;(o.posts.models[i].media||n&&o.posts.models[n]&&o.posts.models[n].media)&&(t(d.q({postId:i})),e((e=>I("x_expando",e))(i)))}},z=e=>async(t,n,s)=>{let{apiContext:i}=s;const c=n(),a=c.shortcuts.activeCommentId,d=re(c);if(d&&a){if(c.comments.models[a])t(o.pb({commentId:a,commentsPageKey:d,scrollToAndRemeasure:()=>null}));else if(c.continueThreads.models[a]){const e=c.continueThreads.models[a].parentId,n=c.comments.models[e].permalink;t(Object(r.b)(n))}else t(V(e)),t(o.bb(d,a));e((e=>v("enter_comment_collapse",e))(a))}},Q=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.listings.activeKey,c=o.listings.postOrder.ids[i],a=o.shortcuts.activePostId;!c||!a||c.indexOf(a)<0||(t(Object(j.a)(o.posts.models[a].permalink)),e((e=>I("enter_open_post",e))(a)))},X=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),c=re(i),{activeCommentId:a}=i.shortcuts;a&&c&&c!==i.listings.activeKey&&(t(o.qb({commentsPageKey:c,parentCommentId:a})),e((e=>v("r_comment",e))(a)))},Z=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n();if(!i.user.account)return;const c=Object(N.f)(i),a=c?c.url:"/";t(Object(r.b)("".concat(a,"submit"))),e(C)},$=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),{activePostId:i}=o.shortcuts;if(i){const t=o.posts.models[i];if(t.source){const n=t.source.url,r=window.open(n,"_blank");r&&r.focus(),e((e=>I("l_go_to_link",e))(i))}}},ee=[R.d,R.q,e=>!!Object(x.d)(e)],te=(e,t,n)=>async(s,d,l)=>{let{apiContext:p}=l;const m=d();for(const e of ee)if(e(m))return;const f=document.activeElement,g=m.shortcuts.activeCommentId,j=re(m);if(f&&"true"===f.contentEditable&&g&&j)s(o.P({parentCommentId:g,commentsPageKey:j})),se(g);else if(m.activeModalId)oe(O.b),Object(w.b)(b.d)&&Object(D.d)(Object(D.a)(m))?s(Object(i.a)()):s(Object(c.i)(m.activeModalId));else if(m.toaster[0])oe(O.b),s(Object(u.f)(m.toaster[0].id));else if(m.shortcuts.namespace===O.d.Lightbox&&m.platform.currentPage){const e=Object(P.f)(m);if(n&&Object(P.d)(e))oe(O.b),s(Object(a.b)({shouldPrepareData:!1}));else{const e=m.platform.currentPage.locationState.closeLocation;e&&(oe(O.b),s(Object(r.b)(e)))}}const{activePostId:y}=m.shortcuts;e(t&&y?_.b(y,"close",!0):T)},ne=(e,t)=>{oe(O.b),e(M(t.id)),document.body.style.overflow="",se(t.id),document.body.style.overflow="hidden",e(Object(j.a)(t.permalink));const n=document.getElementById(p.d);n&&n.scrollTo(0,0)},re=e=>{const t=e.platform.currentPage;if(!t||!t.routeMatch)return;const n=t.routeMatch,r=Object(g.a)(e);return Object(y.c)(n,e,r)},se=e=>{const t=document.getElementById(e);t&&t.focus()},oe=e=>{const t=document.getElementById(e),n=window.scrollX,r=window.scrollY;t&&(t.focus(),window.scrollTo(n,r))},ie=()=>{oe(O.b)}},"./src/reddit/actions/structuredStyles/constants.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return O}));const r="STRUCTURED_STYLES__STYLES_RESET_PENDING",s="STRUCTURED_STYLES__STYLES_RESET_LOADED",o="STRUCTURED_STYLES__STYLES_RESET_FAILED",i="SUBREDDIT__STYLES_PENDING",c="SUBREDDIT__STYLES_LOADED",a="SUBREDDIT__STYLES_FAILED",d="STRUCTURED_STYLES__DRAFT_REPLACED",u="STRUCTURED_STYLES__DRAFT_UPDATED",l="STRUCTURED_STYLES__EDITING_STOPPED",b="STRUCTURED_STYLES__EDITING_STARTED",p="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",m="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",f="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",O="STRUCTURED_STYLES__STYLES_UPDATED_LOADED"},"./src/reddit/actions/structuredStyles/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/filterQueryParams/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/apiRequestState.ts"),l=n("./src/reddit/actions/imageUploads.ts"),b=n("./src/reddit/actions/modal.ts"),p=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),m=e=>Object.assign({},e.postBackgroundColor&&{postBackgroundColor:e.postBackgroundColor},e.postBackgroundImage&&{postBackgroundImage:e.postBackgroundImage},e.postPlaceholderImage&&{postPlaceholderImage:e.postPlaceholderImage},e.postTitleColor&&{postTitleColor:e.postTitleColor}),f=n("./src/reddit/selectors/postFlair.ts"),O=n("./src/reddit/selectors/subreddit.ts"),g=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const j=Object(d.a)(g.c),y=Object(d.a)(g.b),_=Object(d.a)(g.a);var h=n("./src/reddit/actions/widgets/index.ts"),E=n("./src/reddit/constants/modals.ts"),I=n("./src/reddit/helpers/getGenericUploadError.ts"),v=n("./src/reddit/helpers/media/index.ts"),S=n("./src/reddit/models/Image/index.tsx"),T=n("./src/reddit/models/StructuredStyles/index.ts"),C=n("./src/reddit/selectors/activeModalId.ts"),w=n("./src/reddit/selectors/platform.ts"),D=n("./src/reddit/selectors/structuredStyles.ts"),P=n("./src/reddit/selectors/user.ts"),x=n("./src/reddit/helpers/trackers/blade.ts"),R=n("./src/telemetry/index.ts"),A=n("./src/reddit/actions/structuredStyles/constants.ts");n.d(t,"l",(function(){return N})),n.d(t,"k",(function(){return U})),n.d(t,"j",(function(){return G})),n.d(t,"e",(function(){return V})),n.d(t,"d",(function(){return K})),n.d(t,"g",(function(){return Y})),n.d(t,"c",(function(){return z})),n.d(t,"f",(function(){return X})),n.d(t,"b",(function(){return Z})),n.d(t,"m",(function(){return $})),n.d(t,"a",(function(){return ee})),n.d(t,"h",(function(){return te})),n.d(t,"i",(function(){return ne}));const N=Object(d.a)(A.m),k={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},L=e=>{const t=Object.assign({},e);return Object.keys(e).forEach(n=>{k[n]&&!e[n]&&k[n].forEach(e=>t[e]=null)}),t},U=(e,t,n,r)=>async(s,o,i)=>{const{apiContext:c}=i,a=o(),d=L(t),b=a.structuredStyles.models[e];let m;for(const e in d)if(d[e]!==b[e]){m=!0;break}if(!m)return;s(Object(u.h)(r));const f=Object(x.i)(n)(a);let g=null,j=null;try{(g=await Object(l.f)(o(),S.a.StructuredStyles))&&(j=Object(l.m)(g)(s,o,i))}catch(E){const e=Object(I.a)("webSocket");return void s(Object(u.f)(r,e))}const y=Object(O.S)(a,{subredditId:e}).name,_=await p.e(c(),y,d),h={};if(_.ok){if(j)try{await j}catch(E){}const n=Object(D.g)(o(),{apiRequestId:r});for(const e in n)if(e in t){const t=Object(D.h)(o(),{name:e});t&&Object(S.j)(t)&&(h[e]=n[e])}Object.keys(h).length&&s(H(h)),s(Object(u.e)(r)),s(N({subredditId:e,styles:Object.assign({},d,h)}))}else g&&g.websocket.close(),s(Object(u.f)(r,_.error));Object(R.a)(Object.assign({},f,{actionInfo:Object.assign({},f.actionInfo,{success:_.ok})}))},M=Object(d.a)(A.l),F=Object(d.a)(A.k),B=Object(d.a)(A.j),G=e=>async(t,n,r)=>{let{apiContext:s}=r;t(M({subredditId:e}));const o=Object(O.S)(n(),{subredditId:e}).name,i=await p.f(s(),o);if(i.ok){const r=n().structuredStyles.models[e],s=r?r.mobileKeyColor:null;t(F({subredditId:e,styles:{mobileKeyColor:s}}))}else t(B(Object.assign({subredditId:e},i.error)))},q=Object(d.a)(A.d),V=e=>async(t,n,r)=>{const s=n(),o=s.structuredStyles.models[e]||{},i=Object(P.U)(s);t(q({isNightmodeOn:i,styles:o,subredditId:e})),ie(e,!1)(t,n,r),(e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n(),i=Object(O.S)(o,{subredditId:e});if(!i)return;const c=Object(f.e)(o,{subredditId:e}),a=c&&c.templateIds;if(!a||!a.length)return;t(j({subredditId:e}));const d=await Object(p.a)(s(),i.name,a);if(d.ok){const n={};if(d.body){const{data:e}=d.body;if(e&&e.subreddit)for(const t of e.subreddit.postFlairStyleTemplates)n[t.id]=m(t)}t(y({subredditId:e,templates:n}))}else t(_({subredditId:e,error:d.error}))})(e)(t,n,r),Object(h.g)(e,!1)(t,n,r)},H=Object(d.a)(A.c),K=e=>async(t,n,r)=>{const s=L(e),o=n();for(const e in s)if(Object(T.k)(e))if(s[e]){if("string"!=typeof s[e]){const o=s[e],i=await Object(S.e)(o);Y(e,i)(t,n,r),s[e]=""}}else{const n=Object(D.h)(o,{name:e});n&&t(Object(l.h)(n))}t(H(s))},W=Object(d.a)(A.f),Y=(e,t,n)=>async(r,s,o)=>{const i=s(),c=n||i.structuredStyles.isEditing,a=Object(O.S)(i,{subredditId:c}).name;r(W({imageKey:e,uploadId:t.id})),r(Object(l.k)(t));const d=await p.d(o.apiContext(),a,t.file.name,e,await Object(v.g)(t.file));try{const n=await Object(l.g)(s(),d,t,S.a.StructuredStyles);if(n){const t=n.url;r(Object(l.j)(n)),r(H({[e]:t}))}}catch(u){if(u instanceof Error)throw u;r(Object(l.i)(u))}},J=Object(d.a)(A.b),z=(e,t,n)=>async(r,o,c)=>{const a=o(),d=a.structuredStyles.models[e]||{},u=a.structuredStyles.draft,l=Object(x.h)(t)(a);if(n){const t=i()(d,n),o=s()(u,n),c=Object.assign({},o,t);r(J({subredditId:e,styles:c}))}else{r(J({subredditId:e,styles:d}))}Object(R.a)(l)},Q=Object(d.a)(A.e),X=()=>async(e,t,n)=>{const r=t(),s=Object(P.V)(r),o=!!Object(w.a)(r);if(e(Q({nightmodeTempUpdated:s})),o)return;const{url:i}=r.platform.currentPage;i&&e(Object(c.c)(Object(a.a)(i,["styling","route"])))},Z=Object(d.a)(A.a),$=Object(d.a)(A.n),ee=()=>async e=>e(X()),te=e=>async(t,n)=>{const r=n(),s=Object(D.j)(r);!Object(C.b)(E.a.BLADE_UNSAVED_CHANGES)(r)&&s&&(Object(D.a)(r,{subredditId:e})?t(Object(b.i)(E.a.BLADE_UNSAVED_CHANGES)):t(ee()))},ne=e=>async(t,n)=>{const r=n();Object(D.j)(r)||t(Object(P.U)(r)?Object(b.i)(E.a.BLADE_NIGHTMODE):V(e))},re=Object(d.a)(A.i),se=Object(d.a)(A.h),oe=Object(d.a)(A.g),ie=(e,t)=>async(n,r,s)=>{let{gqlContext:o,apiContext:i}=s;n(re({subredditId:e}));const c=Object(O.S)(r(),{subredditId:e});if(!c)return;if(!t){const r=await p.c(i(),c.name,t);if(r.ok){const t=r.body,s=t.data?t.data.style:{};n(se({subredditId:e,styles:s}))}else n(oe(Object.assign({subredditId:e},r.error)));return}const a=await p.b(o(),c.name);if(a.ok){let t={};if(a.body){const{data:e}=a.body;e&&e.subreddit&&e.subreddit.styles&&(t=(e=>{const t={menuPosition:e.menuPosition?e.menuPosition.toLowerCase():void 0,bannerCommunityNameFormat:e.bannerCommunityNameFormat?e.bannerCommunityNameFormat.toLowerCase():void 0,bannerShowCommunityIcon:e.bannerShowCommunityIcon?e.bannerShowCommunityIcon.toLowerCase():void 0,bannerHeight:e.bannerHeight?e.bannerHeight.toLowerCase():void 0,postVoteIcons:e.postVoteIcons?e.postVoteIcons.toLowerCase():void 0,submenuBackgroundStyle:e.submenuBackgroundStyle?e.submenuBackgroundStyle.toLowerCase():void 0,backgroundImagePosition:e.backgroundImagePosition?e.backgroundImagePosition.toLowerCase():void 0,bannerBackgroundImagePosition:e.bannerBackgroundImagePosition?e.bannerBackgroundImagePosition.toLowerCase():void 0,bannerPositionedImagePosition:e.bannerPositionedImagePosition?e.bannerPositionedImagePosition.toLowerCase():void 0,postBackgroundImagePosition:e.postBackgroundImagePosition?e.postBackgroundImagePosition.toLowerCase():void 0,postPlaceholderImagePosition:e.postPlaceholderImagePosition?e.postPlaceholderImagePosition.toLowerCase():void 0,menuBackgroundOpacity:e.menuBackgroundOpacity||void 0,backgroundImage:e.backgroundImage||void 0,bannerBackgroundImage:e.bannerBackgroundImage||void 0,bannerPositionedImage:e.bannerPositionedImage||void 0,communityIcon:e.icon||void 0,menuBackgroundImage:e.menuBackgroundImage||void 0,postBackgroundImage:e.postBackgroundImage||void 0,postDownvoteIconActive:e.postDownvoteIconActive||void 0,postDownvoteIconInactive:e.postDownvoteIconInactive||void 0,postPlaceholderImage:e.postPlaceholderImage||void 0,postUpvoteIconActive:e.postUpvoteIconActive||void 0,postUpvoteIconInactive:e.postUpvoteIconInactive||void 0,bannerBackgroundColor:e.bannerBackgroundColor||void 0,bannerOverlayColor:e.bannerOverlayColor||void 0,menuBackgroundColor:e.menuBackgroundColor||void 0,menuLinkColorActive:e.menuLinkColorActive||void 0,menuLinkColorInactive:e.menuLinkColorInactive||void 0,menuLinkColorHover:e.menuLinkColorHover||void 0,submenuBackgroundColor:e.submenuBackgroundColor||void 0,primaryColor:e.primaryColor||void 0,highlightColor:e.highlightColor||void 0,postTitleColor:e.postTitleColor||void 0,backgroundColor:e.backgroundColor||void 0,postBackgroundColor:e.postBackgroundColor||void 0,postDownvoteCountColor:e.postDownvoteCountColor||void 0,postUpvoteCountColor:e.postUpvoteCountColor||void 0,mobileKeyColor:e.mobileKeyColor||void 0,mobileBannerImage:e.mobileBannerImage||void 0,sidebarWidgetHeaderColor:e.sidebarWidgetHeaderColor||void 0,sidebarWidgetBackgroundColor:e.sidebarWidgetBackgroundColor||void 0,secondaryBannerPositionedImage:e.secondaryBannerPositionedImage||void 0};return Object.keys(t).forEach(e=>{void 0===t[e]&&delete t[e]}),t})(e.subreddit.styles))}n(se({subredditId:e,styles:t}))}else n(oe(Object.assign({subredditId:e},a.error)))}},"./src/reddit/actions/subreddit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/listingSort/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/economics/helpers/async.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/oldSiteRules.ts"),p=n("./src/reddit/actions/preferences.ts"),m=n("./src/reddit/actions/subredditRules/constants.ts"),f=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/constants/modals.ts"),g=n("./src/reddit/constants/originalContent.ts"),j=n("./src/reddit/constants/parameters.ts"),y=n("./src/reddit/constants/postLayout.ts"),_=n("./src/reddit/contexts/PageLayer/index.tsx"),h=n("./src/reddit/endpoints/governance/posts.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/lib/omitHeaders/index.ts"),v=n("./src/reddit/constants/headers.ts"),S=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var T=n("./src/reddit/endpoints/modQueue/index.ts"),C=n("./src/reddit/endpoints/page/subredditPage.ts"),w=n("./src/graphql/operations/SubredditAbout.json"),D=n("./src/lib/makeGqlRequest/index.ts"),P=n("./src/reddit/endpoints/subreddit/rules.ts"),x=n("./src/reddit/endpoints/user/preferences.ts"),R=n("./src/reddit/helpers/filterListingResponse/index.ts"),A=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),N=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),k=n("./src/reddit/i18n/utils.ts"),L=n("./src/reddit/models/OcSubreddits/index.ts"),U=n("./src/reddit/models/Subreddit/index.ts"),M=n("./src/reddit/models/Toast/index.ts"),F=n("./src/reddit/models/User/index.ts"),B=n("./src/reddit/selectors/listings.ts"),G=n("./src/reddit/selectors/oldSiteRules.ts"),q=n("./src/reddit/selectors/profile.ts"),V=n("./src/reddit/selectors/subreddit.ts"),H=n("./src/reddit/selectors/user.ts");n.d(t,"j",(function(){return K})),n.d(t,"i",(function(){return W})),n.d(t,"h",(function(){return Y})),n.d(t,"d",(function(){return J})),n.d(t,"u",(function(){return z})),n.d(t,"t",(function(){return Q})),n.d(t,"s",(function(){return X})),n.d(t,"q",(function(){return Z})),n.d(t,"o",(function(){return ne})),n.d(t,"v",(function(){return oe})),n.d(t,"g",(function(){return ie})),n.d(t,"f",(function(){return ce})),n.d(t,"e",(function(){return ae})),n.d(t,"r",(function(){return be})),n.d(t,"l",(function(){return pe})),n.d(t,"m",(function(){return me})),n.d(t,"k",(function(){return fe})),n.d(t,"p",(function(){return ye})),n.d(t,"b",(function(){return _e})),n.d(t,"c",(function(){return he})),n.d(t,"a",(function(){return Ee})),n.d(t,"w",(function(){return Te})),n.d(t,"n",(function(){return Ce}));const K="SUBREDDIT__MORE_POSTS_PENDING",W="SUBREDDIT__MORE_POSTS_LOADED",Y="SUBREDDIT__MORE_POSTS_FAILED",J="SUBREDDIT__META_FILTER_TOGGLED",z=Object(a.a)(K),Q=Object(a.a)(W),X=Object(a.a)(Y),Z=Object(a.a)(J),$=Object(a.a)(m.b),ee=Object(a.a)(m.c),te=Object(a.a)(m.a),ne=(e,t)=>async(n,r)=>{t===U.b.User?n(re(e)):n(se(e)),0===Object(G.a)(r()).length&&n(Object(b.b)())},re=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(q.m)(n(),e),i=await Object(P.c)(s(),e);if(i.ok){const e=i.body;t($({rules:e,subredditId:o}))}},se=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i=Object(V.H)(n(),e),c=Object(H.S)(n());t(ee());const a=await Object(P.b)(s(),e);if(a.ok){const e=a.body;t($({rules:e,subredditId:i}))}else{t(te());const n="error-block-".concat(e);t(f.e({id:n,kind:M.b.Error,text:Object(o.a)(c,"error.tryAgainLater")}))}},oe=e=>async(t,n,r)=>{let{apiContext:o}=r;const{subredditName:i}=e;let a=e.t;const l=Object(A.a)(e),b=n(),p=b.platform.currentPage?b.platform.currentPage.queryParams:{},m=Object(d.a)(i,l,Object.assign({t:a},p)),f=b.listings.postOrder.loadMore[m],O=b.listings.postOrder.listingSort[m];let g=l;if(O&&!g){const e=Object(c.d)(O.sort);g=e.sort,a=e.timeSort}const E=b.listings.postOrder.api.pending[m],{fetchedTokens:I}=b.listings.postOrder,v=!(!I[m]||!I[m][f.token]);if(E||v)return;t(z({key:m,fetchedToken:f.token}));const S=Object.assign({after:f.token,dist:f.dist,layout:y.e[Object(_.P)(b,{})],sort:g,t:a},s()(p,[...j.j,j.f])),T=await Object(C.a)(o(),i,S),w=Object.assign({},T.body,Object(R.a)(b,m,T.body));if(T.ok){let e;const r=w.postIds.filter(e=>!!w.posts[e].isMeta),s=Object(V.H)(n(),i);if(r.length){const t=await Object(h.a)(o(),s,r);t.ok&&(e=t.body)}t(Q(Object.assign({fetchedToken:f.token,key:m,meta:b.meta,governance:e},w))),await t(Object(u.a)({subredditId:s,postIds:w.postIds,skip:["communityDetails"]}))}else t(X(Object.assign({error:T.error,fetchedToken:f.token,key:m},w)))},ie="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",ce="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",ae="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",de=Object(a.a)(ie),ue=Object(a.a)(ce),le=Object(a.a)(ae),be=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user.account||s.subreddits.moderated.api.fetched)return;e(de());const o=await Object(T.b)(r(),i.eb.Modqueue,{moderated:!0,moderated_limit:50});o.ok?e(ue(o.body)):e(le({error:o.error}))},pe="POST_CREATION__OC_SUBREDDITS_REQUESTED",me="POST_CREATION__OC_SUBREDDITS_SUCCEEDED",fe="POST_CREATION__OC_SUBREDDITS_FAILED",Oe=Object(a.a)(pe),ge=Object(a.a)(me),je=Object(a.a)(fe),ye=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),c=Object(d.a)(g.d,"",{category:e}),a=Object(B.j)(o,{listingKey:c}),u=a?a.token:void 0;if(a){const e=Object(B.h)(o,{listingKey:c}),t=Object(B.i)(o,{listingKey:c,token:a.token});if(e||t)return}t(Oe({key:c,fetchedToken:u}));const l=await((e,t)=>Object(E.b)(Object(I.a)(e,[v.a]),{data:t,endpoint:"".concat(e.apiUrl,"/api/oc_category_subreddits.json"),method:i.ab.GET}))(s(),{after:u,category:e});if(l.ok){const{subreddits:e,subredditsAboutInfo:n}=Object(L.c)(l.body.data.children.map(e=>{let{data:t}=e;return t})),r=Object.keys(e);t(ge({key:c,fetchedToken:u,subreddits:e,subredditsAboutInfo:n,token:r[r.length-1]}))}else t(je({key:c,error:l.error}))},_e="SUBREDDIT__ABOUT_PENDING",he="SUBREDDIT__ABOUT_SUCCEEDED",Ee="SUBREDDIT__ABOUT_FAILED",Ie=Object(a.a)(_e),ve=Object(a.a)(he),Se=Object(a.a)(Ee),Te=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n();if(Object(V.y)(o,{subredditName:e})||o.subreddits.api.about.error[e.toLowerCase()]||o.subreddits.api.about.pending[e.toLowerCase()])return;t(Ie({subredditName:e}));const i=await((e,t)=>Object(D.a)(e,Object.assign({},w,{variables:{subredditName:t}})))(s(),e);if(i.ok){const n=Object(N.a)(i.body.data.subreddit);t(ve({subredditName:e,data:n}))}else t(Se({subredditName:e,error:i.error}))},Ce=(e,t,n)=>async(r,s,o)=>{let{apiContext:c}=o;const a=Object(V.H)(s(),e.substring(2)),d=Object(H.i)(s());if(d){const s=Object(F.f)(d),o=t+"\n\n   *To approve this user*, visit [the approved users page for "+e+"](https://www.reddit.com/"+e+"/about/contributors?user="+s+') and click "ADD USER".\n    Approving this user gives them permission to '+n+". You can change these community restrictions from the [community settings](/"+e+"/about/edit) page.\n\n   To get more information about this user, visit the profile page of [u/"+s+"](/u/"+s+") or reply to this message to start a conversation.",u={to:"/".concat(e),subject:Object(k.c)("I would like to join ".concat(Object(k.b)("displayName",e))),text:o};if((await((e,t)=>Object(E.b)(Object(I.a)(e,[v.a]),{endpoint:Object(S.a)("".concat(e.apiUrl,"/api/compose")),method:i.ab.POST,data:t}))(c(),u)).ok){const e=new Date,t={isContributorRequestTimestamp:e.setDate(e.getDate())};r(Object(p.C)({subredditId:a,prefs:t})),Object(x.h)(a,t,c()),r(Object(l.i)(O.a.CONTRIBUTOR_REQUEST_PENDING))}}}},"./src/reddit/actions/subreddit/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"q",(function(){return y}));const r="SUBREDDIT__ADD_TOP_SUBREDDIT_MODELS",s="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS",o="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS_PAGE_INFO",i="SUBREDDIT__POSTS_LOADED",c="SUBREDDIT__POSTS_SET_FAILED",a="SUBREDDIT__RANKINGS_PENDING",d="SUBREDDIT__RANKINGS_LOADED",u="SUBREDDIT__RANKINGS_FAILED",l="SUBREDDIT__SIMILAR_SUBREDDITS_PENDING",b="SUBREDDIT__SIMILAR_SUBREDDITS_LOADED",p="SUBREDDIT__SIMILAR_SUBREDDITS_FAILED",m="SUBREDDIT__ONBOARDING_SUBREDDITS_PENDING",f="SUBREDDIT__ONBOARDING_SUBREDDITS_LOADED",O="SUBREDDIT__ONBOARDING_SUBREDDITS_FAILED",g="SUBREDDIT__EDIT_REQUESTED",j="SUBREDDIT__EDIT_FAILED",y="SUBREDDIT__EDIT_SUCCESS"},"./src/reddit/actions/subreddit/onboarding.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/makeOnboardingSubredditsKey/index.ts"),o=n("./src/reddit/actions/subreddit/constants.ts"),i=n("./src/reddit/endpoints/category/subreddits.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/selectors/subreddit.ts");n.d(t,"a",(function(){return f}));const b=Object(r.a)(o.f),p=Object(r.a)(o.e),m=Object(r.a)(o.d),f=e=>async(t,n,r)=>{let{apiContext:o}=r;const f=n(),O=Object(s.a)(e),g=Object(l.r)(f,{key:O}),j=Object(l.p)(f,{key:O});if(g||j.length>0)return;t(b({key:O}));const y=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{data:{city:t.city||void 0,country:t.country||void 0,region:t.region||void 0},endpoint:"".concat(e.apiUrl,"/api/subreddit_onboarding.json"),method:c.ab.GET}))(o(),e);if(y.ok){const e=Object(i.b)(y.body);t(p(Object.assign({key:O},e)))}else{const e=y.error;t(m({key:O,error:e}))}}},"./src/reddit/actions/subreddit/similarSubreddit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return b}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subreddit/constants.ts"),o=n("./src/reddit/endpoints/category/subreddits.ts"),i=n("./src/reddit/endpoints/subreddit/similar.ts"),c=n("./src/reddit/selectors/subreddit.ts");const a=e=>{let t=e.subredditIds.join(",");return e.count&&(t+="--[count:'".concat(e.count,"']")),e.variant&&(t+="--[variant:'".concat(e.variant,"']")),t.toLowerCase()},d=Object(r.a)(s.n),u=Object(r.a)(s.m),l=Object(r.a)(s.l),b=e=>async(t,n,r)=>{let{apiContext:s}=r;const b=n(),p=a(e),m=Object(c.w)(b,{key:p}),f=Object(c.v)(b,{key:p});if(m||f.length>0)return;t(d({key:p}));const O=await Object(i.b)(s(),e);if(O.ok){const e=Object(o.b)(O.body);t(u(Object.assign({key:p},e)))}else{const e=O.error;t(l({key:p,error:e}))}}},"./src/reddit/actions/subreddit/subredditPosts.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/subreddit/constants.ts"),c=n("./src/graphql/operations/SubredditPosts.json"),a=n("./src/lib/makeGqlRequest/index.ts");var d=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts");n.d(t,"a",(function(){return b}));const u=Object(s.a)(i.h),l=Object(s.a)(i.g),b=e=>async(t,n,s)=>{let{gqlContext:i}=s;try{const s=n(),l=s.posts&&s.posts.models,b=(await((e,t)=>Object(a.a)(e,Object.assign({},c,{variables:t})))(i(),e)).body,{posts:p}=b&&b.data&&b.data.subreddit,m=((e,t)=>{const{edges:n}=e,r=n.filter(e=>(e=>!e.node.crosspostRoot)(e)&&((e,t)=>!t.hasOwnProperty(e.node.id))(e,t));return Object.assign({},e,{edges:r})})(p,l);if(!m.edges.length)return;const f=(e=>{let{edges:t}=e;const n=[];for(const{node:r}of t)n.push(Object(d.d)(r));return n})(m),{range:O,sort:g,subredditName:j}=e,y=Object(o.a)(j,r.N[g],{t:O}),_=(e=>e.reduce((e,t)=>(e[t.id]=t,e),{}))(f),h=f.map(e=>e.id),E={dist:p.dist,key:y,meta:s.meta,postIds:h,posts:_};t(u(E))}catch(b){l(b)}}},"./src/reddit/actions/subreddit/topSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subreddit/constants.ts"),o=n("./src/reddit/endpoints/subreddit/topSubreddits.ts"),i=n("./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts");const c=Object(r.a)(s.k),a=Object(r.a)(s.j),d=Object(r.a)(s.i),u=Object(r.a)(s.a),l=Object(r.a)(s.b),b=Object(r.a)(s.c),p=(e,t)=>async(n,r,s)=>{let{gqlContext:p}=s;n(c());const m=await Object(o.a)(p(),e);if(m.ok){const e=m.body,r=e&&e.data&&e.data.subredditLeaderboard,{pageInfo:s,rankings:o,subreddits:c}=Object(i.a)(r);n(u({subreddits:c})),n(l({categoryRankingsKey:t,rankings:o})),n(b({categoryRankingsKey:t,pageInfo:s})),n(a())}else{const e=m.error;n(d({error:e}))}}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/graphql/operations/SubredditTypeaheadSearch.json"),o=n("./src/lib/makeGqlRequest/index.ts"),i=(e,t)=>Object(o.a)(e,Object.assign({},s,{variables:t})),c=n("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts"),a=e=>{let{allowedPostTypes:t,id:n,isCrosspostDestination:r,isNsfw:s,name:o,styles:i,subscribersCount:a}=e;return{allowedPostTypes:Object(c.a)(t),communityIcon:i&&i.icon||"",icon:i&&i.legacyIcon&&i.legacyIcon.url||"",id:n,isCrosspostDestination:r,isNsfw:s,name:o,primaryColor:i&&i.primaryColor||"",subscribers:a}},d=n("./src/reddit/helpers/name/index.ts"),u=n("./src/reddit/selectors/subredditAutocomplete.ts");n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return g}));const l="SUBREDDIT_AUTOCOMPLETE__PENDING",b="SUBREDDIT_AUTOCOMPLETE__LOADED",p="SUBREDDIT_AUTOCOMPLETE__FAILED",m=Object(r.a)(l),f=Object(r.a)(b),O=Object(r.a)(p),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,s)=>{let{gqlContext:o}=s;const c=Object(d.f)(e);if(!c)return;const l=r(),b=l.subredditAutocomplete;if(b.api.pending[c]||b.models[c])return;if(Object(u.c)(l,{substring:c}))return;n(m({key:c}));const p=await i(o(),{query:c,includeNsfw:t});if(p.ok){const e=p.body.data.subredditTypeahead.subreddits.edges.map(e=>a(e.node));n(f(Object.assign({key:c},{key:c,subreddits:e})))}else n(O({key:c,error:p.error}))}}},"./src/reddit/actions/subredditCreation.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const u=e=>({public_description:e.publicDescription,name:e.name,type:e.type,over_18:e.over18,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,existing_tags:e.existingTags.join(","),new_tags:e.newTags.join(",")});var l=n("./src/reddit/helpers/trackers/subredditCreation.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/telemetry/index.ts");n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E}));const m="SUBREDDIT__CREATE_PENDING",f="SUBREDDIT__CREATE_SUCCEEDED",O="SUBREDDIT__CREATE_FAILED",g="SUBREDDIT__CREATE_CLEARED",j=Object(s.a)(m),y=Object(s.a)(f),_=Object(s.a)(O),h=Object(s.a)(g),E=e=>async(t,n,s)=>{let{apiContext:m}=s;const f=n(),{name:O,type:g}=e;if(Object(b.k)(f))return;t(j({subredditName:O}));const h=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/v1/subreddit/create_subreddit")),method:o.ab.POST,data:u(t)}))(m(),e);if(h.ok){const n=h.body,s=n.fullname;Object(p.a)(Object(l.c)(g,e,s)(f)),t(y({subredditName:O})),window.location.href="".concat(r.a.redditUrl).concat(n.path,"new")}else h.error&&Object(p.a)(Object(l.d)(h.error.type)(f)),t(_({subredditName:O,error:h.error}))}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subscription/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/selectors/subreddit.ts");n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return f}));const u="SUBREDDIT_CROSSPOSTABLE__PENDING",l="SUBREDDIT_CROSSPOSTABLE__LOADED",b="SUBREDDIT_CROSSPOSTABLE__FAILED",p=(Object(r.a)(u),Object(r.a)(l)),m=Object(r.a)(b),f=()=>async(e,t,n)=>{let{apiContext:r}=n;await e(s.e());const{api:u,ids:l}=t().subreddits.crosspostable;if(u.pending||Object.keys(l).length)return;const b=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{data:t,endpoint:"".concat(e.apiUrl,"/api/crosspostable_subreddits.json"),method:o.ab.GET}))(r(),{sr_detail:!1});if(b.ok){const n=t(),r=b.body&&b.body.length?b.body.map(e=>Object(d.H)(n,e)).filter(e=>!!e).reduce((e,t)=>(e[t]=!0,e),{}):{};e(p({subredditIds:r}))}else e(m({error:b.error}))}},"./src/reddit/actions/subredditDifficulty/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="SUBREDDIT__DIFFICULTY_LOADED",s="SUBREDDIT__DIFFICULTY_FAILED"},"./src/reddit/actions/subredditDifficulty/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subredditDifficulty/constants.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/graphql/operations/SubredditDifficulty.json"),c=n("./src/lib/makeGqlRequest/index.ts");var a=n("./src/reddit/i18n/utils.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/subredditDifficulty.ts");n.d(t,"a",(function(){return p}));const l=Object(r.a)(s.b),b=Object(r.a)(s.a),p=e=>async(t,n,r)=>{let{gqlContext:s}=r;if(Object(u.a)(n(),{subredditId:e}))return;const p=await((e,t)=>Object(c.a)(e,Object.assign({},i,{variables:t})))(s(),{ids:[e]});if(p.ok){const n=p.body.data;n?t(l({subredditId:e,subreddits:n.subreddits})):(t(b(e)),t(o.e({id:"error-block-subredditDifficulty",kind:d.b.Error,text:Object(a.c)("Something went wrong")})))}else t(b(e)),t(o.e({id:"error-block-subredditDifficulty",kind:d.b.Error,text:Object(a.c)("Something went wrong")}))}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/config.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/Post/index.ts");var a=n("./src/reddit/models/Duplicates/index.ts"),d=n("./src/reddit/models/Subreddit/index.ts"),u=n("./src/reddit/selectors/profile.ts"),l=n("./src/reddit/selectors/subreddit.ts");n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));const b="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",p=(Object(r.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(r.a)(b)),m=(e,t)=>async(n,r,b)=>{let{apiContext:m}=b;const f=Object(l.S)(r(),{subredditId:e})||Object(u.p)(r(),{profileId:e});if(!f)return;const O={crossposts_only:!0,sort:"new",sr:Object(d.c)(f)?s.Pb+f.name:f.name},g=await((e,t,n)=>Object(i.b)(e,{data:n,endpoint:"".concat(o.a.gatewayUrl,"/desktopapi/v1/duplicates/").concat(Object(c.m)(t)),method:s.ab.GET}))(m(),t,O);if(g.ok){const r=g.body;n(p({distinguishKey:Object(a.a)(t,O),postIds:r.postIds,posts:r.posts,profiles:r.profiles,subreddits:r.subreddits,subredditId:e}))}}},"./src/reddit/actions/subredditModeration.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/get.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/app/strings/index.ts"),c=n("./src/reddit/actions/apiRequestState.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/subreddit.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/modals.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),f=n("./src/reddit/constants/headers.ts");const O=(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/contributors"),method:b.ab.GET,data:n});var g=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const j=(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/v1/").concat(t,"/banned")),method:b.ab.GET,data:n}),y=(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators"),method:b.ab.GET,data:Object.assign({},n,{count:10})}),_=(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_invited"),method:b.ab.GET,data:Object.assign({},n,{count:50})}),h=(e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/muted"),method:b.ab.GET,data:n});var E=n("./src/reddit/helpers/normalizeUsername/index.tsx"),I=n("./src/reddit/i18n/utils.ts"),v=n("./src/reddit/models/ModeratingSubreddits/index.ts"),S=n("./src/reddit/models/SubredditModeration/index.ts"),T=n("./src/reddit/models/Toast/index.ts"),C=n("./src/reddit/models/User/index.ts"),w=n("./src/reddit/selectors/activeModalId.ts"),D=n("./src/reddit/selectors/subreddit.ts"),P=n("./src/reddit/selectors/user.ts");n.d(t,"J",(function(){return x})),n.d(t,"H",(function(){return R})),n.d(t,"G",(function(){return A})),n.d(t,"ib",(function(){return U})),n.d(t,"M",(function(){return M})),n.d(t,"L",(function(){return F})),n.d(t,"K",(function(){return B})),n.d(t,"jb",(function(){return H})),n.d(t,"I",(function(){return K})),n.d(t,"N",(function(){return W})),n.d(t,"ob",(function(){return z})),n.d(t,"hb",(function(){return Q})),n.d(t,"e",(function(){return X})),n.d(t,"d",(function(){return Z})),n.d(t,"c",(function(){return $})),n.d(t,"V",(function(){return re})),n.d(t,"h",(function(){return se})),n.d(t,"g",(function(){return oe})),n.d(t,"f",(function(){return ie})),n.d(t,"W",(function(){return ue})),n.d(t,"b",(function(){return le})),n.d(t,"i",(function(){return be})),n.d(t,"U",(function(){return fe})),n.d(t,"mb",(function(){return Oe})),n.d(t,"m",(function(){return ge})),n.d(t,"l",(function(){return je})),n.d(t,"k",(function(){return ye})),n.d(t,"Z",(function(){return Ie})),n.d(t,"p",(function(){return ve})),n.d(t,"o",(function(){return Se})),n.d(t,"n",(function(){return Te})),n.d(t,"ab",(function(){return Pe})),n.d(t,"j",(function(){return xe})),n.d(t,"q",(function(){return Re})),n.d(t,"Y",(function(){return ke})),n.d(t,"nb",(function(){return Le})),n.d(t,"C",(function(){return Ue})),n.d(t,"B",(function(){return Me})),n.d(t,"A",(function(){return Fe})),n.d(t,"t",(function(){return Ve})),n.d(t,"s",(function(){return He})),n.d(t,"r",(function(){return Ke})),n.d(t,"fb",(function(){return ze})),n.d(t,"db",(function(){return Qe})),n.d(t,"x",(function(){return Xe})),n.d(t,"w",(function(){return Ze})),n.d(t,"v",(function(){return $e})),n.d(t,"eb",(function(){return rt})),n.d(t,"a",(function(){return st})),n.d(t,"T",(function(){return at})),n.d(t,"Q",(function(){return dt})),n.d(t,"R",(function(){return pt})),n.d(t,"lb",(function(){return ft})),n.d(t,"u",(function(){return Ot})),n.d(t,"cb",(function(){return _t})),n.d(t,"F",(function(){return ht})),n.d(t,"E",(function(){return Et})),n.d(t,"D",(function(){return It})),n.d(t,"gb",(function(){return Ct})),n.d(t,"y",(function(){return wt})),n.d(t,"O",(function(){return Pt})),n.d(t,"S",(function(){return Rt})),n.d(t,"z",(function(){return At})),n.d(t,"bb",(function(){return kt})),n.d(t,"P",(function(){return Lt})),n.d(t,"kb",(function(){return Bt})),n.d(t,"X",(function(){return Gt}));const x="SUBREDDIT__MUTEDUSERS_PENDING",R="SUBREDDIT__MUTEDUSERS_LOADED",A="SUBREDDIT__MUTEDUSERS_FAILED",N=Object(o.a)(x),k=Object(o.a)(R),L=Object(o.a)(A),U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(S.d)(e,c),d=i.muted.fetchedTokens[a];if(i.muted.api.pending[a]||d)return;n(N({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await h(o(),u,t);l.ok?n(k(Object.assign({},l.body,{fetchedToken:c}))):n(L({subredditId:e,fetchedToken:c}))}},M="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",F="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",B="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",G=Object(o.a)(M),q=Object(o.a)(F),V=Object(o.a)(B),H=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(G());const a=await h(o(),i,c);a.ok?n(q(a.body)):n(V(a.error))},K="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",W="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",Y=Object(o.a)(K),J=Object(o.a)(W),z=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.ab.POST,data:{api_type:"json",id:n,type:"muted"}}))(c(),d,t);if(l.ok)n(J({subredditId:e,userId:t}));else{const e=s()(l,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Q=(e,t,n)=>async(r,o,c)=>{let{apiContext:a}=c;const d=o(),l=d.subreddits.models[e].url,O=d.subreddits.models[e].name;t=Object(E.a)(t);const g=await((e,t,n,r)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.ab.POST,data:{api_type:"json",name:n,note:r,type:"muted"}}))(a(),l,t,n);if(g.ok){const e={username:t};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully muted a user")}));const n=await h(a(),O,e);n.ok&&r(Y(n.body))}else{const e=s()(g,"body.json.errors[0][1]",Object(i.a)(d.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},X="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",Z="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",$="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",ee=Object(o.a)(X),te=Object(o.a)(Z),ne=Object(o.a)($),re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(S.d)(e,c),d=i.approvedSubmitters.fetchedTokens[a];if(i.approvedSubmitters.api.pending[a]||d)return;n(ee({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await O(o(),u,t);l.ok?n(te(Object.assign({},l.body,{fetchedToken:c}))):n(ne({subredditId:e,fetchedToken:c}))}},se="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",oe="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",ie="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",ce=Object(o.a)(se),ae=Object(o.a)(oe),de=Object(o.a)(ie),ue=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(ce());const a=await O(o(),i,c);a.ok?n(ae(a.body)):n(de(a.error))},le="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",be="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",pe=Object(o.a)(le),me=Object(o.a)(be),fe=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=a.subreddits.models[e].name;t=Object(E.a)(t);const g=await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.ab.POST,data:{api_type:"json",name:n,type:"contributor"}}))(c(),d,t);if(g.ok){const e={username:t};n(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully added an approved submitter")}));const r=await O(c(),l,e);r.ok&&n(pe(r.body))}else{const e=s()(g,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Oe=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.ab.POST,data:{api_type:"json",id:n,type:"contributor"}}))(c(),d,t);if(l.ok)n(me({subredditId:e,userId:t}));else{const e=s()(l,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},ge="SUBREDDIT__BANNEDUSERS_PENDING",je="SUBREDDIT__BANNEDUSERS_LOADED",ye="SUBREDDIT__BANNEDUSERS_FAILED",_e=Object(o.a)(ge),he=Object(o.a)(je),Ee=Object(o.a)(ye),Ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(S.d)(e,c),d=i.banned.fetchedTokens[a];if(i.banned.api.pending[a]||d)return;n(_e({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await j(o(),u,t);l.ok?n(he(Object.assign({},l.body,{fetchedToken:c}))):n(Ee({subredditId:e,fetchedToken:c}))}},ve="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",Se="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",Te="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",Ce=Object(o.a)(ve),we=Object(o.a)(Se),De=Object(o.a)(Te),Pe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(Ce());const a=await j(o(),i,c);a.ok?n(we(a.body)):n(De(a.error))},xe="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",Re="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",Ae=Object(o.a)(xe),Ne=Object(o.a)(Re),ke=(e,t,n)=>async(r,o,a)=>{let{apiContext:d}=a;const l=o(),O=l.subreddits.models[e].url,g=l.subreddits.models[e].name;t.username=Object(E.a)(t.username),r(Object(c.h)(n));const y=await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.ab.POST,data:{api_type:"json",ban_reason:n.reason,ban_message:n.banMessage,duration:n.duration,name:n.username,note:n.modNote,ban_context:n.contextId,type:"banned"}}))(d(),O,t);if(y.ok){r(Object(c.e)(n));const e={username:t.username};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully banned a user")}));const s=await j(d(),g,e);s.ok&&r(Ae(s.body))}else{r(Object(c.f)(n,y.error));const e=s()(y,"body.json.errors[0][1]",Object(i.a)(l.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Le=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.ab.POST,data:{api_type:"json",id:n,type:"banned"}}))(c(),d,t);if(l.ok)n(Ne({subredditId:e,userId:t}));else{const e=s()(l,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Ue="SUBREDDIT__MODERATORS_PENDING",Me="SUBREDDIT__MODERATORS_LOADED",Fe="SUBREDDIT__MODERATORS_FAILED",Be=Object(o.a)(Ue),Ge=Object(o.a)(Me),qe=Object(o.a)(Fe),Ve="SUBREDDIT__EDITABLEMODERATORS_PENDING",He="SUBREDDIT__EDITABLEMODERATORS_LOADED",Ke="SUBREDDIT__EDITABLEMODERATORS_FAILED",We=Object(o.a)(Ve),Ye=Object(o.a)(He),Je=Object(o.a)(Ke),ze=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(D.S)(i,{subredditId:e}).name,a=t&&t.after?t.after:"",d=t&&t.before?t.before:"",u=Object(S.d)(e,a,d),l=i.moderators.userOrder.data[u],b=i.moderators.userOrder.api.error[u];if(i.moderators.userOrder.api.pending[u]||l&&!b)return;n(Be({subredditId:e,key:u}));const p=await y(o(),c,t);if(p.ok){const t={key:u,response:p.body,subredditId:e};n(Ge(t))}else{const t={error:p.error,subredditId:e,key:u};n(qe(t))}},Qe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(D.S)(i,{subredditId:e}).name,a=t&&t.afterEditable?t.afterEditable:"",d=t&&t.beforeEditable?t.beforeEditable:"",u=Object(S.d)(e,a,d),l=i.moderators.editableUserOrder.data[u],O=i.moderators.editableUserOrder.api.error[u];if(i.moderators.editableUserOrder.api.pending[u]||l&&!O)return;n(We({subredditId:e,key:u}));const g=Object.assign({},t,{after:a,before:d}),j=await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_editable"),method:b.ab.GET,data:Object.assign({},n,{count:10})}))(o(),c,g);if(j.ok){const t={key:u,response:j.body,subredditId:e};n(Ye(t))}else{const t={key:u,error:j.error,subredditId:e};n(Je(t))}},Xe="SUBREDDIT__INVITEDMODERATORS_PENDING",Ze="SUBREDDIT__INVITEDMODERATORS_LOADED",$e="SUBREDDIT__INVITEDMODERATORS_FAILED",et=Object(o.a)(Xe),tt=Object(o.a)(Ze),nt=Object(o.a)($e),rt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(D.S)(o,{subredditId:e}).name;if(o.moderators.invitedModerators.api.pending)return;t(et());const c=await _(s(),i);if(c.ok){const e=c.body;t(tt(e))}else t(nt(c.error))},st="SUBREDDIT__ADDMODERATOR__SUCCESS",ot=Object(o.a)("SUBREDDIT__ADDMODERATOR_PENDING"),it=Object(o.a)(st),ct=Object(o.a)("SUBREDDIT__ADDMODERATOR__FAILED"),at=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;const c=s(),a=Object(D.S)(c,{subredditId:e}),d=a.name,l=a.url;t=Object(E.a)(t),r(ot());const O=Object(v.d)(n),g=await((e,t,n,r)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.ab.POST,data:{name:n,type:"moderator_invite",permissions:r,api_type:"json"}}))(i(),l,t,O);if(g.ok){const n=await _(i(),d,{username:t});if(g.ok){const t=n.body,s=t.moderatorIds[0];c.moderators.invitedModerators.models[e][s]?r(Object(u.e)({kind:T.b.SuccessCommunity,text:Object(I.c)("That user is already invited")})):(r(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully added a moderator")})),r(it(t)))}}else{const e=g.body.json&&g.body.json.errors;e&&e[0]&&e[0][1]&&r(Object(u.e)({kind:T.b.Error,text:e[0][1],duration:3e3})),r(ct())}},dt="SUBREDDIT__REMOVEMODERATOR__SUCCESS",ut=Object(o.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),lt=Object(o.a)(dt),bt=Object(o.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),pt="SUBREDDIT__RESIGNMODERATOR__SUCCESS",mt=Object(o.a)(pt),ft=(e,t,n,r)=>async(s,o,i)=>{let{apiContext:c}=i;const a=o(),d=a.subreddits.models[e].name,u=Object(S.d)(e,n,r);if(s(ut()),(await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:b.ab.POST,data:{id:n,type:"moderator",r:t,api_type:"json"}}))(c(),d,t)).ok){s(lt({subredditId:e,userId:t,key:u}));const n=Object(P.i)(a);n&&n.id===t&&s(mt({subredditId:e,userId:t}))}else s(bt())},Ot="SUBREDDIT__EDITMODERATOR__SUCCESS",gt=Object(o.a)("SUBREDDIT__EDITMODERATOR_PENDING"),jt=Object(o.a)(Ot),yt=Object(o.a)("SUBREDDIT__EDITMODERATOR__FAILED"),_t=(e,t,n,r)=>async(s,o,i)=>{let{apiContext:c}=i;const a=o().subreddits.models[e].url;s(gt());const d=Object(v.d)(n);if((await((e,t,n,r)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/setpermissions"),method:b.ab.POST,data:{name:n,type:"moderator",permissions:r,api_type:"json"}}))(c(),a,t,d)).ok){s(jt({permissions:n,subredditId:e,userId:r}))}else s(yt())},ht="SUBREDDIT_MODERATORS_SEARCH_PENDING",Et="SUBREDDIT_MODERATORS_SEARCH_LOADED",It="SUBREDDIT_MODERATORS_SEARCH_FAILED",vt=Object(o.a)(ht),St=Object(o.a)(Et),Tt=Object(o.a)(It),Ct=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(vt());const a=await y(o(),i,c);a.ok?n(St(a.body)):n(Tt(a.error))},wt="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",Dt=Object(o.a)(wt),Pt="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",xt=Object(o.a)(Pt),Rt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.user.account;if(!i)return;const c=o.subreddits.models[e],a=c.url,d=c.name;if((await((e,t)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/accept_moderator_invite"),method:b.ab.POST,data:{api_type:"json"}}))(s(),a)).ok){t(Dt({subredditId:e})),t(Qe(e)),t(rt(e)),t(ze(e));const n={username:Object(C.f)(i)},r=await y(s(),d,n);if(r.ok){const n=r.body.moderators[i.id];n&&t(xt({[e]:n.modPermissions}))}}},At="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",Nt=Object(o.a)(At),kt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().subreddits.models[e].name;(await((e,t)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/decline_mod_invite"),method:b.ab.POST,data:{api_type:"json"}}))(s(),o)).ok&&t(Nt({subredditId:e}))},Lt="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",Ut=Object(o.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),Mt=Object(o.a)(Lt),Ft=Object(o.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),Bt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(D.S)(i,{subredditId:e}).name;n(Ut()),(await((e,t,n)=>Object(p.b)(Object(m.a)(e,[f.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:b.ab.POST,data:{id:n,type:"moderator_invite",r:t,api_type:"json"}}))(o(),c,t)).ok?n(Mt({subredditId:e,userId:t})):n(Ft())},Gt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(e&&!Object(w.b)(l.a.BAN_USER)(o)&&!o.subreddits.rules[e]){const n=Object(D.S)(o,{subredditId:e});await t(Object(d.o)(n.name))}t(Object(a.i)(l.a.BAN_USER))}},"./src/reddit/actions/subredditRules/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return d}));const r="SUBREDDIT__RULES_LOADED",s="SUBREDDIT__RULES_PENDING",o="SUBREDDIT__RULES_FAILED",i="SUBREDDIT__RULE_ADDED",c="SUBREDDIT__RULE_EDITED",a="SUBREDDIT__RULE_REMOVED",d="SUBREDDIT__RULES_REORDERED"},"./src/reddit/actions/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"D",(function(){return D})),n.d(t,"C",(function(){return P})),n.d(t,"P",(function(){return x})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return U})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return G})),n.d(t,"b",(function(){return V})),n.d(t,"o",(function(){return K})),n.d(t,"B",(function(){return Y})),n.d(t,"n",(function(){return J})),n.d(t,"A",(function(){return Q})),n.d(t,"l",(function(){return X})),n.d(t,"H",(function(){return $})),n.d(t,"x",(function(){return ee})),n.d(t,"M",(function(){return te})),n.d(t,"w",(function(){return ne})),n.d(t,"L",(function(){return re})),n.d(t,"v",(function(){return se})),n.d(t,"K",(function(){return oe})),n.d(t,"u",(function(){return ie})),n.d(t,"J",(function(){return ce})),n.d(t,"s",(function(){return ae})),n.d(t,"O",(function(){return de})),n.d(t,"r",(function(){return ue})),n.d(t,"N",(function(){return le})),n.d(t,"m",(function(){return be})),n.d(t,"z",(function(){return pe})),n.d(t,"t",(function(){return me})),n.d(t,"G",(function(){return fe})),n.d(t,"q",(function(){return Oe})),n.d(t,"p",(function(){return je})),n.d(t,"E",(function(){return _e})),n.d(t,"F",(function(){return he})),n.d(t,"h",(function(){return Ee})),n.d(t,"I",(function(){return ve})),n.d(t,"y",(function(){return Se})),n.d(t,"j",(function(){return Te})),n.d(t,"k",(function(){return Ce})),n.d(t,"i",(function(){return we})),n.d(t,"Q",(function(){return Re}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/invert.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/lodash/xor.js"),a=n.n(c),d=n("./src/app/strings/index.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/endpoints/subreddit/settings.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/telemetry/index.ts"),f=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),g=n("./src/reddit/helpers/trackers/submitValidation.ts"),j=n("./src/reddit/models/PostRequirements/index.ts"),y=n("./src/reddit/models/Toast/index.ts"),_=n("./src/reddit/models/User/index.ts"),h=n("./src/reddit/selectors/submitValidation.ts"),E=n("./src/reddit/selectors/subreddit.ts"),I=n("./src/reddit/selectors/user.ts"),v=n("./src/reddit/selectors/widgets.ts");const S="SUBREDDIT_SETTINGS_POST_REQUIREMENTS_LOADED",T=Object(l.a)(S),C="SUBREDDIT_SETTINGS__POST_REQUIREMENTS_BY_SUBREDDIT_LOADED",w=Object(l.a)(C),D=e=>async(t,n,r)=>{let{apiContext:s}=r;t(H());const o=await Object(b.d)(s(),e);o&&o.ok&&t(T(o.body))},P=e=>async(t,n,r)=>{let{apiContext:s}=r;t(H());const o=await Object(b.d)(s(),e);o&&o.ok&&t(w({[e.toLowerCase()]:o.body}))},x=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),{formState:i,initialData:c}=o.subredditSettings.postRequirements;if(c){t(L()),g.i(o);const n=R(i);if(null===n){const n=Object(j.a)(i),r=Object(j.c)(n,c),o=await Object(b.h)(s(),e,r);200===o.status?(t(T(n)),t(Object(f.e)({kind:y.b.SuccessCommunity,text:"Submission rules updated successfully"}))):t(q(o.body.explanation))}else t(B(n));t(M())}},R=e=>{const{linkDomain:t,titleLength:n,postLength:r,reposts:s}=e,{blacklist:o=[]}=t,i=[];if(o.filter(N).length&&i.push({formSection:"linkDomain",formField:"blacklist",error:"Blacklisted domains cannot include reddit hosted content."}),n.isToggled){const{min:e,max:t}=n;e&&e>300&&i.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than 300."}),e&&t&&e>t&&i.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than or equal to maximum"}),t&&(t<2||t>300)&&i.push({formSection:"titleLength",formField:"max",error:"Maximum must be between 2 and 300."})}if(r.isToggled){const{min:e,max:t}=r;e&&e>4e4&&i.push({formSection:"postLength",formField:"min",error:"Minimum must be less than 40,000."}),e&&t&&e>t&&i.push({formSection:"postLength",formField:"min",error:"Minimum must be less than maximum"}),t&&(t<2||t>4e4)&&i.push({formSection:"postLength",formField:"max",error:"Maximum must be between 2 and 40,000."})}return s.isToggled&&s.days&&s.days>90&&i.push({formSection:"reposts",formField:"days",error:"Repost limit must 90 or less"}),i.length?i:null},A=/i\.redd\.it|v.redd.it/,N=e=>A.test(e),k="POST_REQUIREMENTS_UPDATE_STARTED",L=Object(l.a)(k),U="POST_REQUIREMENTS_UPDATE_FINISHED",M=Object(l.a)(U),F="POST_REQUIREMENTS_FORM_VALIDATION_FAILED",B=Object(l.a)(F),G="POST_REQUIREMENTS_UPDATE_FAILED",q=Object(l.a)(G),V="POST_REQUIREMENTS_FETCH_STARTED",H=Object(l.a)(V),K="POST_REQUIREMENTS_BODY_REQUIREMENT",W=Object(l.a)(K),Y=e=>async(t,n,r)=>{let{apiContext:s}=r;g.d(n(),e),t(W(e))},J="POST_REQUIREMENTS_LINK_LIST_REQUIREMENT",z=Object(l.a)(J),Q=e=>async(t,n,r)=>{let{apiContext:s}=r;g.a(n(),e),t(z(e))},X="POST_REQUIREMENTS_TOGGLE_SECTION",Z=Object(l.a)(X),$=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(h.b)(o)[e].isToggled;t(Z(e)),g.f(o,e,i)},ee="UPDATE_TITLE_STRINGS",te=Object(l.a)(ee),ne="UPDATE_TITLE_REGEX",re=Object(l.a)(ne),se="UPDATE_TITLE_MIN_LENGTH",oe=Object(l.a)(se),ie="UPDATE_TITLE_MAX_LENGTH",ce=Object(l.a)(ie),ae="UPDATE_POST_MIN_LENGTH",de=Object(l.a)(ae),ue="UPDATE_POST_MAX_LENGTH",le=Object(l.a)(ue),be="UPDATE_LINK_DOMAINS",pe=Object(l.a)(be),me="UPDATE_REPOST_DAYS",fe=Object(l.a)(me),Oe="POST_REQUIREMENTS_POST_GUIDELINES_REQUIREMENT",ge=Object(l.a)(Oe),je="POST_REQUIREMENTS_POST_GUIDELINES_GUIDELINE",ye=Object(l.a)(je),_e=e=>async(t,n,r)=>{let{apiContext:s}=r;t(ge(e))},he=e=>async(t,n,r)=>{let{apiContext:s}=r;t(ye(e))},Ee="SUBREDDIT_SETTINGS_LOADED",Ie=Object(l.a)(Ee),ve=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;if(!t||!Object(E.U)(r(),t)){const t=await Object(b.c)(o(),e);t&&t.ok&&n(Ie(t.body))}},Se=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=Object(I.i)(t());s&&await e(ve(u.Pb+Object(_.f)(s)))},Te="SUBREDDIT_SETTINGS_UPDATE_REQUESTED",Ce="SUBREDDIT_SETTINGS_UPDATE_SUCCESS",we="SUBREDDIT_SETTINGS_UPDATE_FAILURE",De=Object(l.a)(Te),Pe=Object(l.a)(Ce),xe=Object(l.a)(we),Re=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,c,u)=>{let{apiContext:l}=u;o(De());const g=c(),j=i()(Object(E.U)(g,t),...Object.keys(n)),_=await Object(b.g)(l(),t,n),h=Object(I.S)(g);if(_.ok){const i=Object(b.e)(_.body,s()(b.a));o(Pe({settings:Object.assign({},i,{subredditId:t}),idCardWidgetId:Object(v.c)(g,{subredditId:t})}));const c={};r&&0===a()(Object.keys(n),Object.keys(j)).length&&(c.buttonText=Object(p.c)("Undo"),c.buttonAction=e(t,j,r)),o(Object(f.e)(Object.assign({kind:y.b.SuccessCommunity,text:Object(d.a)(h,"subredditCreation.updateCommunitySuccess")},c)))}else o(xe()),o(Object(f.e)({kind:y.b.Error,text:Object(d.a)(h,"error.tryAgainLater"),buttonText:Object(p.c)("Retry"),buttonAction:e(t,n)})),r&&Object(m.a)(Object(O.c)(g,"BE returned an error:"))}}},"./src/reddit/actions/subscription/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));const r="SUBSCRIPTION__FETCH_DATA_PENDING",s="SUBSCRIPTION__FETCH_DATA_SUCCESS",o="SUBSCRIPTION__FETCH_DATA_FAILURE",i="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",c="SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED",a="SUBSCRIPTION__ORDER_LOADED",d="SUBSCRIPTION__SUBREDDIT_FAVORITE_TOGGLED",u="SUBSCRIPTION__MULTI_FAVORITE_TOGGLED",l="SUBSCRIPTION__MULTI_FOLLOW_TOGGLED"},"./src/reddit/actions/subscription/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/app/strings/index.ts"),i=n("./src/lib/linkMatchers/customLinks.ts"),c=n("./src/reddit/actions/login.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),u=n("./src/reddit/actions/monthsToMinutes/reset.ts"),l=n("./src/reddit/actions/subscription/constants.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/constants/posts.ts"),m=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts");var g=n("./src/config.ts"),j=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var y=n("./src/reddit/helpers/monthsToMinutes/index.ts"),_=n("./src/reddit/i18n/utils.ts"),h=n("./src/reddit/models/MonthsToMinutes/index.ts"),E=n("./src/reddit/models/Toast/index.ts"),I=n("./src/reddit/selectors/monthsToMinutes.ts"),v=n("./src/reddit/selectors/profile.ts"),S=n("./src/reddit/selectors/subreddit.ts"),T=n("./src/reddit/selectors/subscriptions.ts"),C=n("./node_modules/reselect/es/index.js");const w=Object(C.a)(e=>e.toaster,(e,t)=>t,(e,t)=>e.find(e=>e.customToastType===t));var D=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return q}));const P=Object(_.c)("Sorry, failed to update favorites."),x=Object(s.a)(l.c),R=Object(s.a)(l.b),A=Object(s.a)(l.a),N=Object(s.a)(l.h),k=(Object(s.a)(l.i),Object(s.a)(l.g),()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!o.user.account||o.subscriptions.api.fetched)return;e(R());const i=await(e=>Object(m.b)(e,{endpoint:"".concat(g.a.gatewayUrl,"/desktopapi/v1/subscriptions"),method:r.ab.GET}))(s());i.ok?e(x(i.body)):e(A({error:i.error}))}),L=(e,t,n)=>async(s,l,g)=>{let{apiContext:C}=g;const P=Object(D.S)(l()),x=e.map(e=>e.type===p.a.SUBREDDIT?{id:Object(S.H)(l(),e.name),name:e.name,type:e.type}:{id:Object(v.m)(l(),e.name),name:"".concat(r.Pb).concat(e.name),type:e.type}),R=Object(I.w)(l())&&Object(I.n)(l());if(Object(D.J)(l()))if(s(N({identifiers:x,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:R,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:t,widgetId:n})),(await((e,t)=>{let{subredditIds:n,subredditNames:s,subscribe:o}=t;return Object(m.b)(Object(f.a)(e,[O.a]),{method:r.ab.POST,endpoint:Object(j.a)("".concat(e.apiUrl,"/api/subscribe")),data:{action:o?"sub":"unsub",sr:n&&n.join(",")||void 0,sr_name:s&&s.join(",")||void 0,api_type:"json"}})})(C(),{subredditNames:x.map(e=>{let{name:t}=e;return t}),subscribe:t})).ok){if(t){const n=1===e.length?"".concat("subreddit"===e[0].type?i.c.subreddit:i.c.profile).concat(e[0].name):"".concat(e.length," ").concat(Object(_.a)("communities",["community","communities"],e.length));s(Object(b.e)({text:1===e.length&&"profile"===e[0].type?Object(_.c)("Sucсessfully ".concat(t?"followed":"unfollowed"," ").concat(Object(_.b)("communityname",n))):Object(_.c)("Sucсessfully ".concat(t?"joined":"left"," ").concat(Object(_.b)("communityname",n)))}))}}else s(N({identifiers:x,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:R,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:!t,widgetId:n})),s(Object(b.e)(Object(b.d)(Object(o.a)(P,"profile.somethingWentWrongTryAgain"),E.b.Error)));else if(Object(I.w)(l())&&!e.some(e=>e.type===p.a.PROFILE)){let r=Object(T.c)(l());if(t&&r>=h.b)return void(w(l(),E.a.subscribeCap)||s(Object(b.e)({text:"",duration:-1,kind:E.b.Custom,customToastType:E.a.subscribeCap})));s(N({identifiers:x,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:R,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:t,widgetId:n}));const o=l();0===(r=Object(T.c)(o))?s(Object(u.b)()):Object(I.p)(o)?await s(Object(d.g)()):Object(I.n)(o)&&Object(y.d)(o)}else s(Object(a.k)({actionSource:a.a.Subscribe})),s(Object(c.b)())},U=Object(s.a)(l.f),M=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n(),c=Object(S.N)(i,{identifier:e});if(!c)throw new Error("actions.subscription -- No subreddit or profile found with id ".concat(e.id));const a=e.type===p.a.SUBREDDIT?c.name:"u_".concat(c.name),d=i.subscriptions.favoriteSubredditOrder||[],u=i.subscriptions.favoriteProfileOrder||[],l=d.indexOf(e.id),g=u.indexOf(e.id),j=-1===l&&-1===g,y=i.subreddits.models,_=i.profiles.models;t(U({makeFavorite:j,identifier:e,subredditModels:y,profileModels:_}));const h={type:e.type,name:c.name},I=()=>Object(S.cb)(n(),{identifier:h});(I()||(await t(L([h],!0)),I()))&&((await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/favorite"),data:{make_favorite:n?"true":"false",sr_name:t,api_type:"json"}}))(o(),a,j)).ok||(t(U({makeFavorite:!j,identifier:e,subredditModels:y,profileModels:_})),t(Object(b.e)({text:P,kind:E.b.Error}))))},F=Object(s.a)(l.d),B=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n().multireddits.models,c=()=>{t(Object(b.e)({text:P,kind:E.b.Error}))},a=i[e];if(!a)return void c();const d=!a.isFavorited;t(F({makeFavorite:d,multiredditPath:e,multiredditsModelsState:i})),(await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/multi/favorite"),data:{make_favorite:n?"true":"false",multipath:t,api_type:"json"}}))(o(),e,d)).ok||(t(F({makeFavorite:!d,multiredditPath:e,multiredditsModelsState:i})),c())},G=Object(s.a)(l.e),q=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n(),c=i.multireddits.models;if(!Object(D.J)(i))return;const a=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t(Object(b.e)({text:Object(_.c)("Sorry, failed to ".concat(Object(_.b)("followAction",e?Object(_.c)("follow"):Object(_.c)("unfollow")))),kind:E.b.Error}))},d=c[e];if(!d)return void a();const u=!d.isFollowed;t(G({follow:u,multiredditPath:e,multiredditsModelsState:c})),(await((e,t,n)=>Object(m.b)(Object(f.a)(e,[O.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/multi/subscribe"),data:{action:n?"sub":"unsub",path:t,api_type:"json"},type:"json"}))(o(),e,u)).ok||(t(G({follow:!u,multiredditPath:e,multiredditsModelsState:c})),a(u))}},"./src/reddit/actions/tags/constants.ts":function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"p",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"x",(function(){return j})),n.d(t,"t",(function(){return y})),n.d(t,"w",(function(){return _})),n.d(t,"s",(function(){return h})),n.d(t,"v",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return T}));const r="TAGS__REQUESTED",s="TAGS__AVAILABLE_LOADED",o="TAGS__LOADED",i="TAGS__FAILURE",c="TAGS__RELEVANCE_LOADED",a="TAGS__CREATE_REQUESTED",d="TAGS__CREATE_SUCCESS",u="TAGS__CREATE_FAILURE",l="TAGS__DELETE_REQUESTED",b="TAGS__DELETE_SUCCESS",p="TAGS__DELETE_FAILURE",m="TAGS__UPDATE_STATE_REQUESTED",f="TAGS__UPDATE_STATE_SUCCESS",O="TAGS__UPDATE_STATE_FAILURE",g="TAGS__OPTION_SELECTED",j="TAGS__SUGGESTED_OPTION_SELECTED",y="TAGS__OPTION_DESELECTED",_="TAGS__SUGGESTED_OPTION_DESELECTED",h="TAGS__INPUT_CHANGED",E="TAGS__SUGGESTED_INPUT_CHANGED",I="GLOBAL__TAGS__LOADED",v="CREATION__TAGS_INPUT_CHANGED",S="CREATION__TAGS_OPTION_SELECTED",T="CREATION__TAGS_OPTION_DESELECTED"},"./src/reddit/actions/theme.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="THEME_CHANGED",o=(Object(r.a)(s),"BOOTUP_THEME"),i=Object(r.a)(o)},"./src/reddit/actions/toaster.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return m}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/models/Toast/index.ts");const o=5e3,i=s.b.SuccessCommunity,c="TOAST__DISPLAYED",a="TOAST__DISMISSED",d=Object(r.a)(c),u=Object(r.a)(a),l=e=>async(t,n)=>{const r=b(e);t(d(r)),r.duration>0&&window.setTimeout(()=>t(u(r.id)),r.duration)},b=e=>Object.assign({},e,{duration:e.duration||p(e.kind),id:e.id||Date.now().toString(),kind:e.kind||i}),p=e=>{switch(e){case s.b.Error:return-1;case s.b.Undo:return 1e4;case s.b.SuccessCommunity:case s.b.SuccessMod:default:return o}},m=(e,t,n,r,s,o)=>({text:e,kind:t,buttonText:n,buttonAction:r,secondButtonText:s,secondButtonAction:o})},"./src/reddit/actions/tooltip.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts");const s="TOOLTIP__DROPDOWN_TOGGLED",o="TOOLTIP__DROPDOWN_SET",i="TOOLTIP__DROPDOWN_UNSET",c="TOOLTIP__DROPDOWN_SET_IF_NONE",a="TOOLTIP__DROPDOWN_UNSET_IF_ACTIVE",d=Object(r.a)(o),u=Object(r.a)(s),l=Object(r.a)(i),b=Object(r.a)(c),p=Object(r.a)(a)},"./src/reddit/actions/tracking.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="TRACKING__VIEWPORT_DATA_LOADED",o="TRACKING__VIEWPORT_DATA_UNLOADED",i=Object(r.a)(s);Object(r.a)(o)},"./src/reddit/actions/trafficStats/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));const r="SUBREDDIT__TRAFFIC_STATS_LOADED",s="SUBREDDIT__TRAFFIC_STATS_PENDING",o="SUBREDDIT__TRAFFIC_STATS_FAILED"},"./src/reddit/actions/trophyCase.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/lodash/pickBy.js")),o=n.n(s),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/redditId/index.ts"),u=n("./src/reddit/constants/headers.ts");var l=(e,t)=>Object(c.b)(Object(a.a)(e,[u.a]),{method:i.ab.GET,endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/trophies.json")}).then(e=>{const t=e.body&&e.body.data&&e.body.data.trophies;if(e.ok&&t){const n=o()(t.map(b),"id"),r=Object.keys(n);return Object.assign({},e,{body:{trophies:n,trophyIds:r}})}return e});const b=e=>({awardId:e.data.award_id,description:e.data.description||"",icon:e.data.icon_40||"",id:Object(d.b)(e.data.id,e.kind),name:e.data.name,url:e.data.url||""});n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));const p="TROPHYCASE__FETCH_SUCCESS",m=Object(r.a)(p),f=Object(r.a)("TROPHYCASE__FETCH_FAILED"),O=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=await l(o(),e);i.ok?n(m(Object.assign({profileId:t,profileName:e},i.body))):n(f({profileId:t,error:i.error}))}},"./src/reddit/actions/upload.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"l",(function(){return _})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return D})),n.d(t,"i",(function(){return P}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/get.js"),s=n.n(r),o=n("./node_modules/uuid/v4.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),d=n("./src/reddit/models/Upload/index.ts");const u="UPLOAD_PENDING",l="UPLOAD_UPLOADING",b="UPLOAD_METADATA_CHANGED",p="UPLOAD_PROGRESS",m="UPLOAD_SUCCESS",f="UPLOAD_FAILED",O="UPLOAD_CANCELED",g="UPLOAD_REMOVED",j=Object(c.a)(u),y=Object(c.a)(l),_=Object(c.a)(b),h=Object(c.a)(p),E=Object(c.a)(m),I=Object(c.a)(f),v=Object(c.a)(O),S=Object(c.a)(g),T=new Map,C=(e,t)=>{const n=T.get(e)||[];n.push(t),T.set(e,n)},w=(e,t)=>{const n=T.get(e);n&&n.forEach(n=>n(e,t)),T.delete(e)},D=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async(o,c,u)=>{let{apiContext:l}=u;const b=t;if(c().uploads[b]&&Object(d.d)(c().uploads[b]))return;const p=i()(),m=()=>{const e=c().uploads[b];return!e||e.id!==p||e.status===d.a.CANCELED};o(j({key:b,id:p,file:e}));const{uploadLease:f,websocketUrl:O,error:g}=await n(c().uploads[b]);if(m())return;if(g||!f)return void o(I({key:b,error:g}));let _;C(p,()=>{_&&_.abort()}),o(y({key:b}));const v=await Object(a.a)(e,f,e=>(_=e,r&&e.on("progress",e=>{if(!m()&&"upload"===e.direction){const t={percent:e.percent,total:e.total,uploaded:e.loaded};o(h({key:b,progress:t}))}}),e));if(_=null,!m())if(v.ok){const e=decodeURIComponent(v.body.PostResponse.Location);o(E({key:b,url:e,websocketUrl:O}))}else{const e=s()(v,"body.Error.Message.0"),t=Object.assign({type:"ERROR"},e?{fields:[{field:"0",msg:e}]}:{});o(I({key:b,error:t}))}}},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(n,r)=>{const s=r().uploads[e];s&&(w(s.id,t),n(t?S({key:e}):v({key:e})))}}},"./src/reddit/actions/userBlocks.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return E}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/accounts/index.ts"),c=n("./src/reddit/models/Toast/index.ts"),a=n("./src/reddit/selectors/user.ts");const d="USER_BLOCK__PENDING",u="USER_BLOCK__LOADED",l="USER_BLOCK__FAILED",b=Object(s.a)(d),p=Object(s.a)(u),m=Object(s.a)(l),f=e=>async(t,n,s)=>{let{apiContext:a}=s;const d=n();if(d.blockUser.api.pending[e])return;t(b({username:e}));const u=await Object(i.a)(a(),e),l="error-block-".concat(e);if(u.ok)u.body.name&&t(p(u.body)),t(o.f(l)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}));else{const n={type:u.error?u.error.type:"Unknown error",username:e};t(m(n)),t(o.e({id:l,kind:c.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(d.user.language,"reportFlow.blockUser.retry"),buttonAction:f(e)}))}},O="USER_UNBLOCK__PENDING",g="USER_UNBLOCK__SUCCESS",j="USER_UNBLOCK__FAILED",y=Object(s.a)(O),_=Object(s.a)(g),h=Object(s.a)(j),E=e=>async(t,n,s)=>{let{apiContext:d}=s;const u=n(),l=Object(a.i)(u),b=l?l.id:void 0;b&&(t(y({name:e})),(await Object(i.b)(d(),b,e)).ok?(t(_({name:e})),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(u.user.language,"settings.page.saveRequestSuccess")}))):(t(o.e({kind:c.b.Error,text:Object(r.a)(u.user.language,"error.tryAgainLater")})),t(h({name:e}))))}},"./src/reddit/actions/userFlair.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return I})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return x})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return L})),n.d(t,"e",(function(){return B})),n.d(t,"o",(function(){return H})),n.d(t,"n",(function(){return K})),n.d(t,"m",(function(){return W})),n.d(t,"l",(function(){return Y})),n.d(t,"j",(function(){return J})),n.d(t,"k",(function(){return z})),n.d(t,"p",(function(){return Q}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),c=n("./src/reddit/actions/authorFlair.ts"),a=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/endpoints/flair/index.ts"),u=n("./src/reddit/helpers/flair.ts"),l=n("./src/reddit/models/Flair/index.ts"),b=n("./src/reddit/models/Toast/index.ts"),p=n("./src/reddit/models/User/index.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/selectors/userFlair.ts");const g="USER_FLAIR_DATA__MUTATED",j="AUTHOR_FLAIR_DATA__MUTATED",y="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",_=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),h=Object(s.a)(y),E=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),I="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",v=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),S=Object(s.a)(I),T=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),C="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",w=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),D=Object(s.a)(C),P=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),x="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",R=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),A=Object(s.a)(x),N=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),k="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",L="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",U=Object(s.a)(k),M=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),F=Object(s.a)(L),B="USERFLAIR_FETCH_SUCCESS",G=Object(s.a)(B),q=Object(s.a)(g),V=Object(s.a)(j),H=(e,t,n,r,s)=>async(o,i,c)=>{let{apiContext:a}=c;const l=i(),b=l.user.account,f=b?Object(p.f)(b):void 0,g=Object(O.c)(l,{subredditId:s}),j=Object.assign({},g.displaySettings,{isUserEnabled:n}),y={userName:r,subredditId:s,applied:e,displaySettings:j};o(r===f?q(y):V(y));const _=Object(m.S)(l,{subredditId:s}),h=t&&e?Object(u.g)(e):void 0;Object(d.g)(a(),r,_.name,t,h),Object(d.i)(a(),n,_.name)},K=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(m.S)(i,{subredditId:e}).name;n(_());const a=await Object(d.l)(o(),c,t);if(a.ok){n(h({subredditId:e,isEnabled:t}))}else n(E());return a.ok},W=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(m.S)(i,{subredditId:e}).name;n(v());const a=await Object(d.j)(o(),t,l.d.UserFlair,c);if(a.ok){n(S({subredditId:e,canAssignOwn:t}))}else n(T());return a.ok},Y=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(m.S)(c,{subredditId:t}).name,p=Object(f.S)(c);n(w());const O=await Object(d.f)(i(),e,u,l.d.UserFlair),g=O.ok&&!(O.body&&!1===O.body.success);if(g){const e={subredditId:t,template:O.body};n(D(e));const s=Object(a.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairSaved"),b.b.SuccessMod);n(Object(a.e)(s))}else{n(P());const s=Object(a.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairNotSaved"),b.b.Error,Object(r.a)(p,"structuredStyles.forms.flair.toast.retryButtonText"),Y(e,t));n(Object(a.e)(s))}return g},J=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(m.S)(c,{subredditId:t}).name,l=Object(f.S)(c);if(n(R()),(await Object(d.b)(i(),e,u)).ok){n(A({subredditId:t,templateId:e}));const s=Object(a.d)(Object(r.a)(l,"structuredStyles.forms.flair.toast.flairDeleted"),b.b.SuccessMod);n(Object(a.e)(s))}else{n(N());const s=Object(a.d)(Object(r.a)(l,"structuredStyles.forms.flair.toast.flairNotDeleted"),b.b.Error,Object(r.a)(l,"structuredStyles.forms.flair.toast.retryButtonText"),J(e,t));n(Object(a.e)(s))}},z=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(m.S)(c,{subredditId:t}).name,p=Object(O.c)(c,{subredditId:t}).templateIds,g=Object(f.S)(c);if(n(U({subredditId:t,templateIds:e})),(await Object(d.e)(i(),u,l.d.UserFlair,e)).ok){n(M());const e=Object(a.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderSuccess"),b.b.SuccessMod);n(Object(a.e)(e))}else{n(F({subredditId:t,templateIds:p}));const s=Object(a.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderFailure"),b.b.Error,Object(r.a)(g,"structuredStyles.forms.flair.toast.retryButtonText"),z(e,t));n(Object(a.e)(s))}},Q=(e,t)=>async(n,s,o)=>{let{apiContext:u}=o;const l=s(),p=l.userFlair;if(p&&p[e]&&p[e].displaySettings.isEnabled&&i()(p[e].templateIds)){const s=Object(m.S)(l,{subredditId:e}).name,o=await Object(d.d)(u(),s);if(o.ok)n(G(o.body)),n(Object(c.b)({username:t,subredditId:e}));else{const e=Object(f.S)(l),t=Object(a.d)(Object(r.a)(e,"error.type.generic"),b.b.Error);n(Object(a.e)(t))}}else n(Object(c.b)({username:t,subredditId:e}))}},"./src/reddit/actions/userWhitelist.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return h}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/accounts/index.ts"),c=n("./src/reddit/models/Toast/index.ts");const a="USER_WHITELIST__PENDING",d="USER_WHITELIST__SUCCESS",u="USER_WHITELIST__FAILED",l=Object(s.a)(a),b=Object(s.a)(d),p=Object(s.a)(u),m=e=>async(t,n,s)=>{let{apiContext:a}=s;t(l());const d=await Object(i.d)(a(),e),u=n();d.ok?d.body.name&&(t(b(d.body)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(u.user.language,"settings.page.saveRequestSuccess")}))):(t(p()),t(o.e({kind:c.b.Error,text:Object(r.a)(u.user.language,"error.tryAgainLater")})))},f="USER_UNWHITELIST__PENDING",O="USER_UNWHITELIST__SUCCESS",g="USER_UNWHITELIST__FAILED",j=Object(s.a)(f),y=Object(s.a)(O),_=Object(s.a)(g),h=e=>async(t,n,s)=>{let{apiContext:a}=s;const d=n();t(j({name:e})),(await Object(i.c)(a(),e)).ok?(t(y({name:e})),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}))):(t(_({name:e})),t(o.e({kind:c.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater")})))}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(a||(a={}));const d="USERNAME_AVAILABLE__AVAILABLE",u="USERNAME_AVAILABLE__FAILURE",l="USERNAME_AVAILABLE__PENDING",b="USERNAME_AVAILABLE__UNAVAILABLE",p=Object(r.a)(d),m=Object(r.a)(u),f=Object(r.a)(l),O=Object(r.a)(b),g=e=>{let{username:t}=e;return async(e,n,r)=>{let{apiContext:d}=r;const u=n().users.nameAvailable;if(!u[t]||u[t]===a.Error){e(f({username:t}));const n=await((e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{method:s.ab.GET,endpoint:"".concat(e.apiUrl,"/api/username_available.json?user=").concat(t.username),type:"json"}))(d(),{username:t});n.ok?n.body?e(p({username:t})):e(O({username:t})):e(m({username:t}))}}}},"./src/reddit/actions/users.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/emailVerificationTooltip.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/notificationBanner.ts"),d=n("./src/reddit/actions/session.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),b=n("./src/reddit/components/Settings/modalIds.ts"),p=n("./src/reddit/endpoints/user/index.ts"),m=n("./src/reddit/i18n/utils.ts"),f=n("./src/lib/makeApiRequest/index.ts"),O=n("./src/lib/omitHeaders/index.ts"),g=n("./src/reddit/constants/headers.ts");var j=n("./src/config.ts"),y=n("./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts"),_=n("./src/lib/makeRequest/index.ts");var h=n("./src/reddit/constants/history.ts"),E=n("./node_modules/js-cookie/src/js.cookie.js"),I=n.n(E),v=n("./src/lib/constants/cookie.ts");const S=e=>{I.a.remove(e,{domain:j.a.cookieDomain})};var T=n("./src/reddit/helpers/history/index.ts"),C=n("./src/reddit/helpers/localStorage/index.ts"),w=n("./src/reddit/helpers/monthsToMinutes/index.ts"),D=async e=>{let t;try{t=await Object(f.b)(e,{endpoint:"/logoutproxy",method:s.ab.POST})}finally{[v.c,v.g,v.d,v.h,v.i].forEach(S),Object(w.b)(),Object(C.B)(null),await async function(e,t){return await Object(_.b)({method:s.ab.POST,endpoint:"/timings/logoutrequest",data:{appName:e.statsAppName,successful:t},type:"json"})}(e,t&&t.ok),Object(T.a)(h.a.JustLoggedOut,!0),window.location.reload()}},P=n("./src/reddit/helpers/redesignOptoutCookie/index.ts"),x=n("./src/reddit/helpers/trackers/emailCollection.ts"),R=n("./src/reddit/helpers/trackers/emailVerification.ts"),A=n("./src/reddit/models/Toast/index.ts"),N=n("./src/reddit/models/User/index.ts"),k=n("./src/reddit/selectors/activeModalId.ts"),L=n("./src/reddit/selectors/experiments/emailCollection.ts"),U=n("./src/reddit/selectors/notificationBanner.ts"),M=n("./src/reddit/selectors/user.ts"),F=n("./src/telemetry/index.ts");n.d(t,"d",(function(){return G})),n.d(t,"w",(function(){return q})),n.d(t,"i",(function(){return V})),n.d(t,"h",(function(){return H})),n.d(t,"g",(function(){return K})),n.d(t,"p",(function(){return W})),n.d(t,"f",(function(){return Y})),n.d(t,"F",(function(){return X})),n.d(t,"e",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"v",(function(){return te})),n.d(t,"E",(function(){return ne})),n.d(t,"y",(function(){return re})),n.d(t,"b",(function(){return se})),n.d(t,"a",(function(){return oe})),n.d(t,"t",(function(){return ie})),n.d(t,"c",(function(){return ce})),n.d(t,"u",(function(){return de})),n.d(t,"A",(function(){return ue})),n.d(t,"k",(function(){return le})),n.d(t,"l",(function(){return be})),n.d(t,"j",(function(){return pe})),n.d(t,"C",(function(){return je})),n.d(t,"r",(function(){return _e})),n.d(t,"s",(function(){return he})),n.d(t,"q",(function(){return Ee})),n.d(t,"z",(function(){return Ce})),n.d(t,"B",(function(){return we})),n.d(t,"n",(function(){return De})),n.d(t,"o",(function(){return Pe})),n.d(t,"m",(function(){return xe})),n.d(t,"D",(function(){return ke}));var B=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const G="USER__LOID_RECEIVED",q=Object(o.a)(G),V="USER__REQUEST_PENDING",H="USER__REQUEST_LOADED",K="USER__REQUEST_FAILED",W="USER__SESSION_TRACKER_RECEIVED",Y="USER__REDDAID_RECEIVED",J=Object(o.a)(V),z=Object(o.a)(H),Q=Object(o.a)(K),X=e=>async(t,n,r)=>{let{apiContext:o}=r;if(n().users.models[e.toLowerCase()]||e===s.z)return;t(J({username:e}));const i=await Object(p.b)(o(),e);if(i.ok){const n={data:i.body};n.username=e,t(z(n))}else{const n=i.error;n.username=e,t(Q(n))}},Z="USER__MYSELF_LOADED",$=Object(o.a)(Z),ee=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t();if(o.user.account||!o.user.session||o.user.session.unsafeLoggedOut)return;const i=await(e=>Object(f.b)(e,{endpoint:"".concat(j.a.gatewayUrl,"/desktopapi/v1/me"),method:s.ab.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}))(r());i.ok&&e($(i.body))},te=()=>async(e,t,n)=>{let{apiContext:r}=n;Object(P.a)(),D(r())},ne=Object(o.a)(W),re=Object(o.a)(Y),se="USER__FTU_UX_VIEWED",oe="USER__FEATURES_VIEWED_HISTORY_LOADED",ie=Object(o.a)(se),ce=(Object(o.a)(oe),"USER__LAYOUT_SWITCH_VIEWED"),ae=Object(o.a)(ce),de=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();s.user.account&&!s.user.account.seenLayoutSwitch&&(e(ae()),Object(p.c)(r()))},ue=e=>async(t,n,r)=>{let{apiContext:o}=r;const i=await((e,t)=>Object(f.b)(Object(O.a)(e,[g.a]),{method:s.ab.POST,endpoint:"".concat(e.apiUrl,"/api/deactivate_user"),data:{user:t.username,passwd:t.password,confirm:t.checkbox,deactivate_message:t.feedback}}))(o(),e);i.ok&&i.body&&i.body.success?D(o()):t(Object(u.e)({kind:A.b.Error,text:"Something went wrong deactivating your account. Try again later."}))},le="USER__RESET_PASSWORD_PENDING",be="USER__RESET_PASSWORD_SUCCESS",pe="USER__RESET_PASSWORD_FAILURE",me=Object(o.a)(le),fe=Object(o.a)(be),Oe=Object(o.a)(pe),ge={otp:"",tfaActiveForm:"none"},je=e=>async(t,n,o)=>{let{apiContext:i}=o;const a=n(),l=Object(M.S)(a);if(Object(M.F)(a,"resetPassword"))return;t(me());const p=await((e,t)=>Object(f.b)(Object(O.a)(e,[g.a]),{method:s.ab.POST,endpoint:"".concat(e.apiUrl,"/api/update_password"),data:t}))(i(),e);if(p.ok&&p.body&&p.body.success){const o=Object(M.i)(a);if(!o)return void t(ye());const p=Object(N.f)(o),m=await((e,t)=>Object(f.b)(e,{endpoint:"/loginproxy",method:s.ab.POST,data:t}))(i(),Object.assign({},ge,{password:e.newpass,username:p}));m.ok?(t(Object(d.h)(m.body)),t(Object(u.e)({duration:u.a,kind:A.b.SuccessCommunityGreen,text:Object(r.a)(l,"settings.accountForm.resetPasswordModal.success")})),t(fe()),Object(k.b)(b.c)(n())&&t(Object(c.i)(b.c))):t(ye())}else{const e=Object(y.b)(p,"Something went wrong resetting your password. Try again later.");t(Oe()),t(Object(u.e)({duration:u.a,kind:A.b.Error,text:Object(m.c)(e)}))}},ye=()=>(e,t,n)=>{let{apiContext:s}=n;const o=Object(M.S)(t());e(Object(u.e)({duration:u.a,kind:A.b.Error,text:Object(r.a)(o,"settings.accountForm.resetPasswordModal.errors.failedLogin")})),D(s())},_e="USER__UPDATE_EMAIL_PENDING",he="USER__UPDATE_EMAIL_SUCCESS",Ee="USER__UPDATE_EMAIL_FAILURE",Ie=Object(o.a)(_e),ve=Object(o.a)(he),Se=Object(o.a)(Ee),Te=(e,t)=>{t.isEmailVerificationTooltipShowing&&e(Object(i.b)())},Ce=e=>async(t,n,r)=>{let{apiContext:o}=r;const i=B(e,[]);if(Object(M.F)(n(),"changeEmail"))return;t(Ie());const c=await((e,t)=>{let{newEmail:n,password:r}=t;return Object(f.b)(Object(O.a)(e,[g.a]),{method:s.ab.POST,endpoint:"".concat(e.apiUrl,"/api/update_email"),data:Object.assign({},r&&{curpass:r},{email:n})})})(o(),i),d=n();if(c.ok&&c.body&&c.body.success){Object(U.a)(l.a.EmailCollectionBannerId)(d)&&t(Object(a.c)(l.a.EmailCollectionBannerId)),Object(L.a)(d)&&Object(F.a)(Object(x.c)(d));const e=Object(M.H)(d);e||await t(we()),t(ve(i.newEmail)),e&&t(Ae()),Te(t,d)}else{const e=Object(y.b)(c,"Something went wrong updating your email. Try again later.");t(Se(e))}},we=e=>async(t,n,o)=>{let{apiContext:i}=o;const a=await((e,t)=>Object(f.b)(Object(O.a)(e,[g.a]),Object.assign({method:s.ab.GET,endpoint:"".concat(e.apiUrl,"/api/send_verification_email")},t.source&&{data:t})))(i(),{source:e}),d=n();if(a.ok&&a.body&&a.body.success){e&&(Object(F.a)(Object(R.f)(e)(d)),Te(t,d));const n=Object(k.a)(d),r=n===b.d||n===b.e?b.e:b.b;t(Object(c.i)(r))}else{const e=Object(M.S)(d);t(Object(u.e)({duration:u.a,kind:A.b.Error,text:Object(r.a)(e,"emailVerification.banner.error")}))}},De="USER__SEND_RESET_EMAIL_PENDING",Pe="USER__SEND_RESET_EMAIL_SUCCESS",xe="USER__SEND_RESET_EMAIL_FAILURE",Re=Object(o.a)(De),Ae=Object(o.a)(Pe),Ne=Object(o.a)(xe),ke=e=>async(t,n,r)=>{let{apiContext:o}=r;if(Object(M.F)(n(),"sendResetEmail"))return;t(Re());const i=await((e,t)=>Object(f.b)(Object(O.a)(e,[g.a]),{method:s.ab.POST,endpoint:"".concat(e.apiUrl,"/api/password"),data:{email:t.curEmail,name:t.name}}))(o(),e);if(!i.ok||!i.body||!i.body.success){const e=Object(y.b)(i,"Something went wrong sending the reset email. Please try again.");return t(Ne()),void t(Object(u.e)({duration:u.a,kind:A.b.Error,text:Object(m.c)(e)}))}t(Ae())}},"./src/reddit/actions/video.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"q",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return j})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return _})),n.d(t,"s",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return P})),n.d(t,"y",(function(){return x})),n.d(t,"B",(function(){return F})),n.d(t,"A",(function(){return B})),n.d(t,"N",(function(){return G})),n.d(t,"F",(function(){return q})),n.d(t,"O",(function(){return V})),n.d(t,"P",(function(){return H})),n.d(t,"C",(function(){return W})),n.d(t,"D",(function(){return J})),n.d(t,"H",(function(){return X})),n.d(t,"L",(function(){return Z})),n.d(t,"z",(function(){return $})),n.d(t,"M",(function(){return te})),n.d(t,"K",(function(){return se})),n.d(t,"J",(function(){return oe})),n.d(t,"w",(function(){return ie})),n.d(t,"I",(function(){return ce})),n.d(t,"v",(function(){return ae})),n.d(t,"E",(function(){return de})),n.d(t,"G",(function(){return ue})),n.d(t,"x",(function(){return le}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/adEvents.ts"),o=n("./src/reddit/constants/video.ts"),i=n("./src/reddit/helpers/pixels.ts"),c=n("./src/reddit/helpers/trackers/postList.ts"),a=n("./src/reddit/selectors/platform.ts"),d=n("./src/reddit/selectors/posts.ts");n("./src/reddit/selectors/video.ts");const u="VIDEO__CONSUMED",l="VIDEO__SET_FULLSCREEN",b="VIDEO__EXIT_FULLSCREEN",p="VIDEO__LOADABLE",m="VIDEO__LOADING",f="VIDEO__PAUSED",O="VIDEO__PLAYABLE",g="VIDEO__METADATA_RECEIVED",j="VIDEO__STARTED",y="VIDEO__UNLOADABLE",_="VIDEO__UNPAUSED",h="VIDEO__TIME_UPDATED",E="VIDEO__BUFFERING",I="VIDEO__PLAYING",v="VIDEO__CONTINUOUS_VIEW_STARTED_AT",S="AD__VIDEO_VIEWABLE",T="AD__VIDEO_FULLY_VIEWABLE",C="AD__VIDEO_STARTED",w="AD__VIDEO_PLAYED_WITH_SOUND",D="AD__VIDEO_WATCHED_PERCENT",P="AD__VIDEO_WATCHED_SECONDS",x=Object(r.a)(v),R=Object(r.a)(S),A=Object(r.a)(T),N=Object(r.a)(C),k=Object(r.a)(w),L=Object(r.a)("AD__VIDEO_PLAYED_EXPANDED"),U=Object(r.a)(D),M=Object(r.a)(P),F=e=>async(t,n)=>{const r=Object(d.K)(n(),{postId:e});r.isSponsored&&(Object(i.a)(r.events,s.a.VideoViewableImpression),t(R({postId:e})))},B=e=>async(t,n)=>{const r=Object(d.K)(n(),{postId:e});r.isSponsored&&(Object(i.a)(r.events,s.a.VideoFullyViewableImpression),t(A({postId:e})))},G=e=>async(t,n)=>{const r=Object(d.K)(n(),{postId:e});r.isSponsored&&(Object(i.a)(r.events,s.a.VideoStarted),t(N({postId:e})))},q=e=>async(t,n)=>{const r=Object(d.K)(n(),{postId:e});r.isSponsored&&(Object(i.a)(r.events,s.a.VideoPlayedWithSound),Object(i.a)(r.events,s.a.VideoViewableImpression),Object(i.a)(r.events,s.a.VideoFullyViewableImpression),t(k({postId:e})),t(R({postId:e})),t(A({postId:e})))},V=(e,t)=>async(n,r)=>{const c=Object(d.K)(r(),{postId:t});if(!c.isSponsored)return;const a=e===o.b?s.a.VideoWatched25:e===o.c?s.a.VideoWatched50:e===o.d?s.a.VideoWatched75:e===o.e?s.a.VideoWatched95:s.a.VideoWatched100;Object(i.a)(c.events,a),n(U({postId:t,percentage:e}))},H=(e,t)=>async(n,r)=>{const c=Object(d.K)(r(),{postId:t});if(!c.isSponsored)return;const a=e===o.g?s.a.VideoWatchedSeconds3:e===o.h?s.a.VideoWatchedSeconds5:s.a.VideoWatchedSeconds10;Object(i.a)(c.events,a),n(M({postId:t,seconds:e}))},K=Object(r.a)(u),W=Object(r.a)(p),Y=Object(r.a)(m),J=Object(r.a)(f),z=Object(r.a)(O),Q=Object(r.a)(l),X=Object(r.a)(g),Z=Object(r.a)(h),$=Object(r.a)(b),ee=Object(r.a)(j),te=Object(r.a)(y),ne=Object(r.a)(_),re=Object(r.a)(E),se=Object(r.a)(I),oe=e=>async(t,n)=>{const r=Object(d.K)(n(),{postId:e});t(Q({postId:e})),r.isSponsored&&((e,t,n)=>{Object(i.a)(e.events,s.a.VideoPlayedExpanded),Object(i.a)(e.events,s.a.VideoViewableImpression),Object(i.a)(e.events,s.a.VideoFullyViewableImpression),n(L({postId:t})),n(R({postId:t})),n(A({postId:t}))})(r,e,t)},ie=(e,t)=>async(n,r)=>{const s=r();s.posts.video.autoPlayed[e]&&Object(a.k)(s)&&(c.d(s,e),void 0!==t&&n(re({postId:e,isBuffering:t})))},ce=e=>async(t,n)=>{const r=n();r.posts.video.autoPlayed[e]&&Object(a.k)(r)&&c.h(r,e)},ae=(e,t)=>async(n,r)=>{n(Y({postId:e,time:t}));const s=r();Object(a.k)(s)&&c.f(s,e)},de=(e,t)=>async(n,r)=>{n(z({postId:e,time:t}));const s=r();Object(a.k)(s)&&c.a(s,e)},ue=e=>async(t,n)=>{const r=n(),s=r.posts.video.autoPlayed[e],o=r.posts.video.started[e];t(ee({postId:e})),t(ne({postId:e})),!o&&s&&Object(a.k)(r)&&c.c(r,e)},le=e=>async(t,n)=>{const r=n(),s=r.posts.video.autoPlayed[e],o=r.posts.video.consumed[e];t(K({postId:e})),s&&Object(a.k)(r)&&!o&&c.b(r,e)}},"./src/reddit/actions/vote.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/login.ts"),o=n("./src/reddit/actions/modal.ts"),i=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),c=n("./src/reddit/constants/adEvents.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/reddit/constants/headers.ts"),b=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var p=n("./src/reddit/featureFlags/index.ts"),m=n("./src/reddit/helpers/favoriteCreators/index.ts"),f=n("./src/reddit/helpers/isComment.ts"),O=n("./src/reddit/helpers/isPost.ts"),g=n("./src/reddit/helpers/pixels.ts"),j=n("./src/reddit/models/Vote/index.ts"),y=n("./src/reddit/selectors/comments.ts"),_=n("./src/reddit/selectors/monthsToMinutes.ts"),h=n("./src/reddit/selectors/posts.ts"),E=n("./src/reddit/selectors/telemetry.ts"),I=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return T}));const v="VOTE__VOTE_CAST",S=Object(r.a)(v),T=(e,t)=>n=>async(r,v,T)=>{let{apiContext:C}=T;if(!Object(I.J)(v())&&!Object(_.w)(v()))return r(Object(o.k)({actionSource:o.a.Vote})),void r(Object(s.b)());const w=e(n,v),D=j.b(w,t),P=Object(O.a)(n)?w.postId:n;if(r(S({id:P,isInstance:!1,vote:t})),(v().posts.instances[P]||[]).forEach(e=>{r(S({id:e,isInstance:!0,vote:t}))}),D)if(Object(O.a)(n)){const e=Object(h.K)(v(),{postId:n}),r=t>0?c.a.Upvote:c.a.Downvote;Object(g.a)(e.events,r)}else if(Object(f.a)(n)){const e=Object(y.n)(v(),{commentId:n});if(e){const n=Object(h.K)(v(),{postId:e.postId}),r=t>0?c.a.CommentUpvote:c.a.CommentDownvote;Object(g.a)(n.events,r)}}const x=v();if(Object(O.a)(n)&&D===j.a.upvoted&&p.d.spFavoriteCreators(x)){const e=Object(h.K)(x,{postId:n});Object(m.a)(e.belongsTo.id,e.authorId)}if(Object(I.J)(x)){(await((e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)("".concat(e.apiUrl,"/api/vote")),method:a.ab.POST,data:{id:t,dir:n,api_type:"json"}}))(C(),P,D)).ok||r(S({id:P,isInstance:!1,vote:t}))}else if(Object(_.w)(x)){const e=Object(E.subredditByPostOrCommentId)(x,n);e&&e.name&&r(Object(i.h)({id:n,subredditName:e.name})),await r(Object(i.g)())}}},"./src/reddit/actions/widgets/constants.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));const r="WIDGETS__WIDGET_CREATED",s="WIDGETS__WIDGET_UPDATED",o="WIDGET_DELETED",i="WIDGETS_SORTED",c="WIDGETS__STARTED_EDITING_WIDGET",a="WIDGETS__LOADED",d="SUBREDDIT__WIDGETS_PENDING",u="SUBREDDIT__WIDGETS_LOADED",l="SUBREDDIT__WIDGETS_FAILED"},"./src/reddit/actions/widgets/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/app/strings/index.ts"),o=n("./src/reddit/actions/apiRequestState.ts"),i=n("./src/reddit/actions/imageUploads.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/reddit/constants/headers.ts");const b=async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widgets"),method:a.ab.GET,type:"json",data:{progressive_images:n}});var p=n("./src/reddit/helpers/getGenericUploadError.ts"),m=n("./src/reddit/helpers/media/index.ts"),f=n("./src/lib/assertNever.ts"),O=n("./src/reddit/selectors/subreddit.ts"),g=n("./src/reddit/models/Image/index.tsx"),j=n("./src/reddit/models/Toast/index.ts"),y=n("./src/reddit/models/Widgets/index.ts"),_=n("./src/reddit/selectors/user.ts"),h=n("./src/reddit/actions/widgets/constants.ts");n.d(t,"c",(function(){return I})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"h",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return U}));const E=Object(r.a)(h.g),I=(e,t,n)=>async(r,b,m)=>{const{apiContext:f}=m;r(Object(o.h)(n));const h=b(),I=Object(O.S)(h,{subredditId:e}).name,v=Object(_.S)(h),S=Object(y.l)(t);let T=null;try{T=await Object(i.f)(h,g.a.Widgets)}catch(w){const e=Object(p.a)("webSocket");return void r(Object(o.f)(n,e))}const C=await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget"),method:a.ab.POST,type:"json",data:n}))(f(),I,S);if(C.ok){const a=C.body,d=a.id;if("calendar"===t.kind&&r(Object(c.e)({kind:j.b.SuccessMod,text:Object(s.a)(v,"structuredStyles.widgets.calendar.toastText.created")})),T)try{await Object(i.m)(T)(r,b,m)}catch(w){}r(E({subredditId:e,widget:a,widgetId:d})),r(Object(o.e)(n))}else T&&T.websocket.close(),r(Object(o.f)(n,C.error))},v=Object(r.a)(h.i),S=(e,t,n)=>async(r,b,m)=>{const{apiContext:h}=m;r(Object(o.h)(n));const E=t.id,I=b(),S=Object(O.S)(I,{subredditId:e}).name,T=Object(_.S)(I),C=Object(y.l)(t);let w=null,D=null;try{(w=await Object(i.f)(I,g.a.Widgets))&&(D=Object(i.m)(w)(r,b,m))}catch(x){const e=Object(p.a)("webSocket");return void r(Object(o.f)(n,e))}const P=await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:a.ab.PUT,type:"json",data:n}))(h(),S,C);if(P.ok){const i=function(e,t,n){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign({},e,t);case"community-list":{const r={};for(const t of e.data)r[t.name]=t;return Object.assign({},t,{data:t.data.map(e=>{if(!("subscribers"in r[e])){const t={subredditName:e},r=Object(O.B)(n,t),s=Object(O.y)(n,t);return{name:r.name,subscribers:r?r.subscribers:void 0,iconUrl:r?r.communityIcon:void 0,isNSFW:r?r.isNSFW:void 0,isSubscribed:s?s.userIsSubscriber:void 0}}return r[e]})})}case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(f.a)(e)}}(t,P.body,I);if(r(v({subredditId:e,widgetId:E,widget:i})),D)try{await D}catch(x){}"calendar"===t.kind&&r(Object(c.e)({kind:j.b.SuccessMod,text:Object(s.a)(T,"structuredStyles.widgets.calendar.toastText.updated")})),r(Object(o.e)(n))}else w&&w.websocket.close(),r(Object(o.f)(n,P.error))},T=Object(r.a)(h.h),C=(e,t,n)=>async(r,s,i)=>{let{apiContext:c}=i;r(Object(o.h)(n));const b=t.id,p=Object(O.S)(s(),{subredditId:e}).name,m=await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:a.ab.DELETE,type:"json"}))(c(),p,t);m.ok?(r(Object(o.e)(n)),r(T({subredditId:e,widgetId:b}))):r(Object(o.f)(n,m.error))},w=Object(r.a)(h.f),D=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(O.S)(r(),{subredditId:e}).name;(await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_order/sidebar"),method:a.ab.PATCH,type:"json",data:n}))(o(),i,t)).ok&&n(w({subredditId:e,widgetIds:t}))},P=e=>{let{imageData:t}=e;return async(e,n,r)=>{const s=n(),o=s.structuredStyles.isEditing,c=Object(O.S)(s,{subredditId:o}).name;e(Object(i.k)(t));const b=await(async(e,t,n,r)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_image_upload_s3"),method:a.ab.POST,data:{filepath:n,mimetype:r}}))(r.apiContext(),c,t.file.name,await Object(m.g)(t.file));let p=!1;try{const r=await Object(i.g)(n(),b,t,g.a.Widgets);r&&(e(Object(i.j)(r)),p=!0)}catch(f){if(f instanceof Error)throw f;e(Object(i.i)(f))}return p}},x=Object(r.a)(h.d),R=Object(r.a)(h.e),A=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;n(Object(o.h)(t));const c=Object(O.S)(r(),{subredditId:e}).name,a=await b(i(),c);if(a.ok){const r=a.body;n(R({subredditId:e,widgets:r})),n(Object(o.e)(t))}else n(Object(o.f)(t,a.error))},N=Object(r.a)(h.c),k=Object(r.a)(h.b),L=Object(r.a)(h.a),U=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(N({subredditId:e}));const i=Object(O.S)(r(),{subredditId:e}).name,c=await b(o(),i,t);if(c.ok){const t=c.body;n(k({subredditId:e,widgets:t}))}else n(L({subredditId:e,error:c.error}))}},"./src/reddit/actions/wiki/wikiBannedContributors/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d}));const r="WIKI_BANNED_CONTRIBUTORS_PENDING",s="WIKI_BANNED_CONTRIBUTORS_LOADED",o="WIKI_BANNED_CONTRIBUTORS_FAILED",i="MORE_WIKI_BANNED_CONTRIBUTORS_LOADED",c="WIKI_BANNED_CONTRIBUTOR_ADDED",a="WIKI_BANNED_CONTRIBUTOR_REMOVED",d="WIKI_BANNED_CONTRIBUTOR_SEARCH_LOADED"},"./src/reddit/actions/wiki/wikiContributors/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d}));const r="WIKI_CONTRIBUTORS_PENDING",s="WIKI_CONTRIBUTORS_LOADED",o="WIKI_CONTRIBUTORS_FAILED",i="MORE_WIKI_CONTRIBUTORS_LOADED",c="WIKI_CONTRIBUTOR_ADDED",a="WIKI_CONTRIBUTOR_REMOVED",d="WIKI_CONTRIBUTOR_SEARCH_LOADED"},"./src/reddit/actions/wiki/wikiDiff/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="WIKI_DIFF_PENDING",s="WIKI_DIFF_LOADED",o="WIKI_DIFF_FAILED"},"./src/reddit/actions/wiki/wikiEditing/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="WIKI_PAGE_SAVE_SUCCESS"},"./src/reddit/actions/wiki/wikiPageSettings/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const r="PAGE__SUBREDDIT_WIKI_PAGE_SETTINGS_LOADED",s="SUBREDDIT_WIKI_PAGE_SETTINGS_UPDATED",o="SUBREDDIT_WIKI_PAGE_CONTRIBUTOR_REOVED",i="SUBREDDIT_WIKI_PAGE_MORE_CONTRIBUTORS_LOADED"},"./src/reddit/actions/wiki/wikiRevisions/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c}));const r="WIKI_REVISIONS_PENDING",s="WIKI_REVISIONS_LOADED",o="WIKI_REVISIONS_FAILED",i="WIKI_PAGE_REVERT_SUCCESS",c="WIKI_REVISION_TOGGLE_VISIBILITY"},"./src/reddit/components/Comments/helpers/hiddenComments.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));let r={};function s(e){return e in r}function o(e){r[e]=!0}function i(){r={}}},"./src/reddit/components/ContentGate/index.m.less":function(e,t,n){e.exports={ButtonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",buttonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",Container:"_32zGs4bO3IunZfS9bSJY0_",container:"_32zGs4bO3IunZfS9bSJY0_",Description:"_3VTI5BOpJO70xoBKSqz3O9",description:"_3VTI5BOpJO70xoBKSqz3O9",PrivateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",privateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",PrivateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",privateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",PrivateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",privateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",QuarantinedLink:"_3JwZzVwm7pRvW6x6TPO9tT",quarantinedLink:"_3JwZzVwm7pRvW6x6TPO9tT",LinkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",linkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",LinkButton:"_1_UhYZsTnAQbBONlhaTTMS",linkButton:"_1_UhYZsTnAQbBONlhaTTMS",SecondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",secondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",SecondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",secondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",StyledHtmlContainer:"_2mTy_9u-ju-KPwXX5kRVqn",styledHtmlContainer:"_2mTy_9u-ju-KPwXX5kRVqn",GoHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",goHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",Image:"_1jefpljVGT-eHObg40F8Dm",image:"_1jefpljVGT-eHObg40F8Dm",ImagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",imagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",LeftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",leftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",LeftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",leftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",SecondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",secondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",SecondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",secondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",Title:"_2XKLlvmuqdor3RvVbYZfgz",title:"_2XKLlvmuqdor3RvVbYZfgz",PageBody:"bDDEX4BSkswHAG_45VkFB",pageBody:"bDDEX4BSkswHAG_45VkFB",QuarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n",quarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n"}},"./src/reddit/components/ContentGate/index.tsx":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-router/es/index.js"),a=n("./node_modules/reselect/es/index.js"),d=n("./src/app/strings/index.ts"),u=n("./src/lib/loginHref/index.ts"),l=n("./src/reddit/actions/contentGate.ts"),b=n("./src/reddit/actions/preferences.ts"),p=n("./src/reddit/components/CreateCommunityButton/index.tsx"),m=n("./src/lib/lessComponent.tsx"),f=n("./src/reddit/i18n/components.tsx"),O=n("./src/reddit/components/Footer/index.m.less"),g=n.n(O);const j=m.a.div("FooterContainer",g.a),y=m.a.div("UserAgreement",g.a),_=m.a.a("UserAgreementLink",g.a),h=m.a.a("PrivacyLink",g.a),E=Object(a.c)({language:e=>e.user.language});var I=Object(i.b)(E)(e=>{const{language:t}=e;return o.a.createElement(j,null,o.a.createElement(y,null,o.a.createElement(f.c,null,"Use of this site constitutes acceptance of our "),o.a.createElement(_,{href:"".concat(r.a.redditUrl,"/help/useragreement")},o.a.createElement(f.c,null,"User Agreement")),o.a.createElement(f.c,null," and  "),o.a.createElement(h,{href:"".concat(r.a.redditUrl,"/help/privacypolicy")},o.a.createElement(f.c,null,"Privacy Policy")),Object(d.a)(t,"footer.legalbottom.part3",{year:(new Date).getFullYear()})))}),v=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),S=(n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./src/reddit/components/StyledHtml/index.m.less")),T=n.n(S);const C=e=>e.replace(new RegExp('href="/u',"gi"),'target="_blank" href="'.concat(r.a.redditUrl,"/u")).replace(new RegExp('href="/r',"gi"),'target="_blank" href="'.concat(r.a.redditUrl,"/r"));function w(e){let{html:t}=e;return o.a.createElement("div",{className:T.a.StyledHtml,dangerouslySetInnerHTML:{__html:C(t)}})}var D=n("./src/reddit/controls/Button/index.tsx"),P=e=>e.replace(/\[(.+?)\]\((.+?)\)/g,"<a href='$2'>$1</a>"),x=n("./src/reddit/selectors/meta.ts"),R=n("./src/reddit/selectors/user.ts"),A=n("./src/reddit/components/ContentGate/index.m.less"),N=n.n(A);n.d(t,"a",(function(){return re}));const k=m.a.div("ButtonsContainer",N.a),L=m.a.div("Container",N.a),U=m.a.div("Description",N.a),M=m.a.div("PrivateSubredditDetails",N.a),F=m.a.div("PrivateSubredditDescription",N.a),B=m.a.h3("PrivateSubredditName",N.a),G=m.a.a("QuarantinedLink",N.a),q=m.a.wrapped(D.h,"LinkRouterButton",N.a),V=m.a.wrapped(D.g,"LinkButton",N.a),H=m.a.wrapped(D.k,"SecondaryLinkRouterButton",N.a),K=m.a.wrapped(D.j,"SecondaryLinkButton",N.a),W=m.a.div("StyledHtmlContainer",N.a),Y=m.a.wrapped(q,"GoHomeLinkButton",N.a),J=m.a.img("Image",N.a),z=m.a.img("ImagePlaceholder",N.a),Q=m.a.wrapped(q,"LeftLinkRouterButton",N.a),X=m.a.wrapped(V,"LeftLinkButton",N.a),Z=m.a.wrapped(K,"SecondaryLeftLinkButton",N.a),$=m.a.wrapped(H,"SecondaryLeftLinkRouterButton",N.a),ee=m.a.h3("Title",N.a),te=m.a.div("PageBody",N.a),ne=m.a.div("QuarantineMessageWrapper",N.a);var re;!function(e){e.CustomFeedDoesNotExist="CustomFeedDoesNotExist",e.GoldSubreddit="GoldSubreddit",e.Nsfw="Nsfw",e.NsfwCustomFeed="NsfwCustomFeed",e.PrivateSubreddit="PrivateSubreddit",e.ProfileDoesNotExist="ProfileDoesNotExist",e.QuarantinedSubreddit="QuarantinedSubreddit",e.SubredditBanned="SubredditBanned",e.SubredditDoesNotExist="SubredditDoesNotExist"}(re||(re={}));const se=Object(a.c)({language:R.S,origin:x.g,user:R.i}),oe=Object(i.b)(se,(e,t)=>{let{subredditName:n}=t;return{continueToQuarantinedSubreddit:async()=>{await e(b.A(n)),window.location.reload()},setCookieAndRedirect:async()=>{await e(l.g()),window.location.reload()}}}),ie=e=>{const{banMessage:t,contentGateType:n,continueToQuarantinedSubreddit:s,language:i,location:c,origin:a,profileName:l,quarantineRequiresEmail:b,quarantineMessage:m,quarantineMessageHtml:O,setCookieAndRedirect:g,subredditDescription:j,subredditName:y,user:_}=e;switch(n){case re.GoldSubreddit:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/gold/premium-crest.png")}),o.a.createElement(ee,null,Object(d.a)(i,"contentGate.goldSubreddit.titlePremium",{subredditName:y})),o.a.createElement(U,null,o.a.createElement(f.c,null,"The moderators in this community have set it to Reddit Premium members only. You must upgrade to a Reddit Premium membership to continue.")),o.a.createElement(k,null,_?o.a.createElement(Z,{href:"".concat(r.a.redditUrl,"/premium")},o.a.createElement(f.c,null,"Get Premium")):o.a.createElement(X,{href:Object(u.a)(c,a)},o.a.createElement(f.c,null,"Sign Up")),_?o.a.createElement(q,{to:"/"},o.a.createElement(f.c,null,"Go Home")):o.a.createElement(K,{href:Object(u.a)(c,a)},o.a.createElement(f.c,null,"Log In"))));case re.Nsfw:case re.NsfwCustomFeed:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/nsfw.png")}),o.a.createElement(ee,null,n===re.Nsfw?Object(d.a)(i,"contentGate.over18.title"):o.a.createElement(f.c,null,"You must be 18+ to view this Custom Feed")),o.a.createElement(U,null,o.a.createElement(f.c,null,"You must be at least eighteen years old to view this content. Are you over eighteen and willing to see adult content?")),o.a.createElement(k,null,o.a.createElement(Q,{to:"/"},o.a.createElement(f.c,null,"No")),o.a.createElement(K,{onClick:g},o.a.createElement(f.c,null,"Yes"))));case re.PrivateSubreddit:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/private.png")}),o.a.createElement(ee,null,Object(d.a)(i,"contentGate.privateSubreddit.title",{subredditName:y})),j&&j.length&&o.a.createElement(M,null,o.a.createElement(B,null,"r/",y),o.a.createElement(F,null,o.a.createElement("div",null,j))),o.a.createElement(U,null,o.a.createElement(f.c,null,"The moderators in this community have set it to private. You must be a moderator or approved user to visit.")),o.a.createElement(k,null,_?o.a.createElement(Z,{href:"".concat(r.a.redditUrl,"/message/compose?to=/r/").concat(y)},o.a.createElement(f.c,null,"Message Mods")):o.a.createElement(Z,{href:Object(u.a)(c,a)},o.a.createElement(f.c,null,"Sign Up")),o.a.createElement(q,{to:"/"},_?Object(d.a)(i,"contentGate.privateSubreddit.goHome"):Object(d.a)(i,"contentGate.privateSubreddit.exploreReddit"))));case re.QuarantinedSubreddit:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/quarantined.png")}),o.a.createElement(ee,null,o.a.createElement(f.c,null,"Are you sure you want to view this community?")),o.a.createElement(U,null,o.a.createElement(f.c,null,"This community is"),o.a.createElement(G,{href:"https://web.archive.org/web/20191001041103/https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits"},o.a.createElement(f.c,null,"quarantined")),o.a.createElement(ne,null,O?o.a.createElement(v.a,{html:O}):m||Object(d.a)(i,"contentGate.quarantinedSubreddit.description")),o.a.createElement(f.c,null,"Are you certain you want to continue?")),o.a.createElement(k,null,((e,t,n,s)=>{return!(e&&e.hasVerifiedEmail)&&s?o.a.createElement(k,null,o.a.createElement($,{to:"/"},o.a.createElement(f.c,null,"No Thank You")),o.a.createElement(V,{href:"".concat(r.a.redditUrl,"/prefs/update")},o.a.createElement(f.c,null,"Verify Email"))):o.a.createElement(k,null,o.a.createElement(Q,{to:"/"},o.a.createElement(f.c,null,"No Thank You")),o.a.createElement(K,{onClick:n},o.a.createElement(f.c,null,"Continue")))})(_,0,s,b)));case re.SubredditBanned:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/banned.png")}),o.a.createElement(ee,null,Object(d.a)(i,"contentGate.subredditBanned.title",{subredditName:y})),((e,t)=>e?o.a.createElement(W,null,o.a.createElement(w,{html:P(e)})):o.a.createElement(U,null,o.a.createElement(f.c,null,"This community has been banned for violating the Reddit rules.")))(t),o.a.createElement(k,null,o.a.createElement(q,{to:"/"},o.a.createElement(f.c,null,"Explore Reddit"))));case re.SubredditDoesNotExist:return o.a.createElement("div",null,o.a.createElement(z,null),o.a.createElement(ee,null,Object(d.a)(i,"contentGate.subredditDoesNotExist.title",{subredditName:y})),o.a.createElement(k,null,_&&o.a.createElement(p.a,{eventSource:"content_gate"}),o.a.createElement(Y,{to:"/"},o.a.createElement(f.c,null,"Go Home"))));case re.ProfileDoesNotExist:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/snoomoji/snoo_thoughtful.png")}),o.a.createElement(ee,null,o.a.createElement(f.c,null,"Sorry, ",o.a.createElement(f.b,{name:"profile-name"},"u/".concat(l))," is either deleted, banned, or doesn't exist.")),o.a.createElement(k,null,o.a.createElement(Y,{to:"/"},o.a.createElement(f.c,null,"Go Home"))));case re.CustomFeedDoesNotExist:return o.a.createElement("div",null,o.a.createElement(J,{src:"".concat(r.a.assetPath,"/img/snoomoji/snoo_thoughtful.png")}),o.a.createElement(ee,null,o.a.createElement(f.c,null,"Sorry, this custom feed is private or does not exist.")),o.a.createElement(k,null,o.a.createElement(Y,{to:"/"},o.a.createElement(f.c,null,"Go Home"))))}};t.b=oe(Object(c.f)(e=>o.a.createElement(L,null,o.a.createElement("div",null,o.a.createElement(te,null,ie(e))),o.a.createElement(I,null))))},"./src/reddit/components/CreateCommunityButton/index.m.less":function(e,t,n){e.exports={SecondaryButton:"_3U-J6NPoBHbyibarrb7T3F",secondaryButton:"_3U-J6NPoBHbyibarrb7T3F",StyledTooltip:"FIYolDqalszTnjjNfThfT",styledTooltip:"FIYolDqalszTnjjNfThfT"}},"./src/reddit/components/CreateCommunityButton/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/reddit/actions/tooltip.ts"),a=n("./src/reddit/components/InfoTextTooltip/index.tsx"),d=n("./src/reddit/components/TrackingHelper/index.tsx"),u=n("./src/reddit/controls/Button/index.tsx"),l=n("./src/reddit/helpers/overlay/index.ts"),b=n("./src/reddit/helpers/trackers/subredditCreation.ts"),p=n("./src/reddit/i18n/components.tsx"),m=n("./src/reddit/i18n/utils.ts"),f=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/components/CreateCommunityButton/index.m.less"),g=n.n(O),j=n("./src/lib/lessComponent.tsx");const y="create-community-button",_=j.a.wrapped(u.i,"SecondaryButton",g.a),h=j.a.wrapped(a.c,"StyledTooltip",g.a),E=Object(i.c)({userDoesNotHaveEnoughExpToCreateCommunity:e=>!Object(f.cb)(e),userIsSuspended:f.O});t.a=Object(o.b)(E,(e,t)=>{let{eventSource:n}=t;return{openCommunityCreation:t=>{t(Object(b.b)(n)),e(Object(l.a)("/subreddits/create"))},onShowTooltip:()=>e(Object(c.f)({tooltipId:y})),onHideTooltip:()=>e(Object(c.i)())}})(Object(d.b)(e=>{let{className:t,eventSource:n,onShowTooltip:r,onHideTooltip:o,openCommunityCreation:i,sendEvent:c,userDoesNotHaveEnoughExpToCreateCommunity:a,userIsSuspended:d}=e;return s.a.createElement(_,{className:t,disabled:d||a,onClick:()=>i(c),onMouseEnter:r,onMouseLeave:o,id:y},s.a.createElement(p.c,null,"Create Community"),a?s.a.createElement(h,{caretOnTop:!0,tooltipId:y,text:Object(m.c)("To prevent spam, accounts must be at least 30 days old and have enough positive karma to create communities.")}):d?s.a.createElement(h,{caretOnTop:!0,tooltipId:y,text:Object(m.c)("Accounts banned from the site can not create communities until the ban is lifted.")}):null)}))},"./src/reddit/components/Footer/index.m.less":function(e,t,n){e.exports={FooterContainer:"_3qDK09Tb3ktpZiYXSfeMzE",footerContainer:"_3qDK09Tb3ktpZiYXSfeMzE",UserAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",userAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",UserAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",userAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",PrivacyLink:"_2mk2nvnRu7inPdJY2i-H79",privacyLink:"_2mk2nvnRu7inPdJY2i-H79"}},"./src/reddit/components/InfoTextTooltip/index.m.less":function(e,t,n){e.exports={Text:"HQ2VJViRjokXpRbJzPvvc",text:"HQ2VJViRjokXpRbJzPvvc",BottomText:"_3uK2I0hi3JFTKnMUFHD2Pd",bottomText:"_3uK2I0hi3JFTKnMUFHD2Pd","fade-in":"_1tIZttmhLdrIGrB-6VvZcT",fadeIn:"_1tIZttmhLdrIGrB-6VvZcT"}},"./src/reddit/components/InfoTextTooltip/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/higherOrderComponents/addOverlayEvents.tsx"),a=n("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=n("./src/reddit/selectors/tooltip.ts"),u=n("./src/reddit/components/InfoTextTooltip/index.m.less"),l=n.n(u),b=n("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const m=b.a.div("Text",l.a),f=b.a.div("BottomText",l.a),O=e=>s.a.createElement(m,{className:e.className,style:e.style},e.text,e.children),g=e=>{const t=e.overflow?e.overflow.left:0;return s.a.createElement(f,{className:e.className,style:Object.assign({},e.style,{"--infoTextTooltip-overflow-left":"".concat(t,"px")})},e.text,e.children)},j=Object(i.c)({isOpen:(e,t)=>{let{tooltipId:n}=t;return Object(d.b)(n)(e)}}),y=Object(a.a)(g,[c.a.Click,c.a.Keydown]),_=Object(a.a)(O,[c.a.Click,c.a.Keydown]),h=Object(o.b)(j);t.c=h(e=>{const{caretOnTop:t}=e;return t?s.a.createElement(y,p({},e,{targetPosition:["center","bottom"],tooltipPosition:["center","top"]})):s.a.createElement(_,p({},e,{targetPosition:["center","top"],tooltipPosition:["center","bottom"]}))})},"./src/reddit/components/NotificationBanners/bannerIds.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.EmailCollectionBannerId="email-collection-banner-id"}(r||(r={}))},"./src/reddit/components/OverlayAwareTooltip/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/higherOrderComponents/asTooltip.tsx"),i=n("./src/reddit/constants/elementIds.ts"),c=n("./src/reddit/contexts/InsideOverlay.tsx");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){const n=Object(o.a)(e,t);class r extends s.a.PureComponent{constructor(){super(...arguments),this.state={container:null}}componentDidMount(){if(this.props.isOverlay){const e=document.getElementById(i.d);this.setState({container:e})}}render(){return s.a.createElement(n,a({},this.props,{container:this.state.container,excludeContainerPosition:this.props.isOverlay}))}}return Object(c.b)(r)}},"./src/reddit/components/RawHTMLDisplay/index.m.less":function(e,t,n){e.exports={StyledRawHTMLDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH",styledRawHtmlDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH"}},"./src/reddit/components/RawHTMLDisplay/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/polished/dist/polished.es.js"),s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),c=n("./src/lib/CSSVariableProvider/withTheme.tsx"),a=n("./src/lib/lessComponent.tsx"),d=n("./src/reddit/actions/page.ts"),u=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),l=n("./src/reddit/components/RawHTMLDisplay/index.m.less"),b=n.n(l);const p=Object(i.b)(null,e=>({onNavigate:t=>e(Object(d.I)(t))})),m=a.a.wrapped(e=>o.a.createElement("div",{className:e.className,dangerouslySetInnerHTML:{__html:e.html},onClick:t=>{((e,t,n)=>{if(!e.ctrlKey&&!e.metaKey&&1!==e.button&&"A"===e.target.tagName){e.preventDefault(),t(e.target.getAttribute("href"))}e.target.classList&&e.target.classList.contains("md-spoiler-text")&&(e.target.dataset.revealed=!0),n&&n(e)})(t,e.onNavigate,e.onClick)},style:Object.assign({},e.style,{"--RawHTMLDisplay-tr-even":Object(r.j)(Object(u.a)(e).body,.8),"--RawHTMLDisplay-tr-odd":Object(r.j)(Object(u.a)(e).line,.8)})}),"StyledRawHTMLDisplay",b.a);t.a=p(Object(c.a)(m))},"./src/reddit/components/RichTextEditor/RTEState/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return O}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./node_modules/uuid/v4.js"),i=n.n(o),c=n("./src/reddit/components/RichTextEditor/styleAndBlockTypes.ts"),a=n("./src/reddit/models/RichTextJson/index.ts");let d;const u=e=>d=e,l=()=>{if(!d)throw new Error("DraftHelpers must be initialized!");return d},b=()=>i()().slice(-6),p=/\S/,m=e=>e&&e.document&&Array.isArray(e.document);class f{static hasContent(e){if(e.isBound){return e.editorState.getCurrentContent().getBlockMap().some(e=>!!e&&(Object(c.t)(e.getType())||Object(c.v)(e.getType())||p.test(e.getText())))}return!Object(a.E)(e.initialRTJSON)}static getTextLength(e){return e.isBound?e.editorState.getCurrentContent().getPlainText().length:0}static getRawText(e){if(e.isBound)return e.editorState.getCurrentContent().getPlainText()}static isContentEqual(e,t){if(e.isBound&&t.isBound){return e.editorState.getCurrentContent()===t.editorState.getCurrentContent()}return!e.isBound&&!t.isBound&&s()(e.initialRTJSON,t.initialRTJSON)}static toRichTextJSON(e,t){if(e.isBound){const n=e.editorState.getCurrentContent();return{document:l().draftToRTFJson(n,t)}}return e.initialRTJSON}static getPendingThumbnailUploads(e,t){if(e.isBound){const{editorState:n}=e;return l().getPendingThumbnailUploads(n.getCurrentContent(),t)}}static getMediaCount(e){if(e.isBound){const{editorState:t}=e;return l().getMediaCount(t.getCurrentContent())}return{gifvideo:0,image:0,video:0,total:0}}static isAllMediaUploaded(e,t){if(e.isBound){const n=e.editorState.getCurrentContent();return l().isAllMediaUploaded(n,t)}return!0}}f.createInitial=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.i,t=arguments.length>1?arguments[1]:void 0;return m(e)?{isBound:!1,editorKey:b(),initialRTJSON:e,mediaMetadataMap:t}:(console.warn("invalid RTJSON",e),f.createInitial())};const O=f},"./src/reddit/components/RichTextEditor/styleAndBlockTypes.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"r",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"s",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"v",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"u",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"o",(function(){return h})),n.d(t,"t",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return S}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/app/strings/index.ts");const r={BOLD:"BOLD",ITALIC:"ITALIC",SPOILER:"SPOILER",STRIKETHROUGH:"STRIKETHROUGH",SUBSCRIPT:"SUBSCRIPT",SUPERSCRIPT:"SUPERSCRIPT",UNDERLINE:"UNDERLINE",MONOSPACE:"MONOSPACE",HIGHLIGHT:"HIGHLIGHT"},s={H1:"header-one",H2:"header-two",H3:"header-three",H4:"header-four",H5:"header-five",H6:"header-six"},o=new Set(["header-one","header-two","header-three","header-four","header-five","header-six"]),i=e=>o.has(e),c="unstyled",a={"header-one":1,"header-two":2,"header-three":3,"header-four":4,"header-five":5,"header-six":6},d={1:"header-one",2:"header-two",3:"header-two",4:"header-two",5:"header-two",6:"header-two"},u={ORDERED:"ordered-list-item",UNORDERED:"unordered-list-item"},l=e=>"ordered-list-item"===e||"unordered-list-item"===e,b="blockquote",p=e=>e===b,m="code-block",f=e=>e===m,O="table-cell",g=e=>e===O,j="media-caption",y=e=>e===j,_="atomic",h=e=>e===_,E=e=>h(e)||y(e),I=Object.assign({CODE_BLOCK:m,BLOCK_QUOTE:b,ATOMIC_BLOCK:_,ORDERED_LIST:u.ORDERED,TABLE_CELL:O,UNORDERED_LIST:u.UNORDERED,UNSTYLED:c,MEDIA_CAPTION:j},s),v=[c,b,O,u.ORDERED,u.UNORDERED],S=[c,b,u.ORDERED,u.UNORDERED]},"./src/reddit/components/Settings/modalIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));const r="change_email_modal_id",s="check_email_modal_id",o="reset_password_modal_id",i="set_email_modal_id",c="verify_email_modal_id"},"./src/reddit/components/StyledHtml/index.m.less":function(e,t,n){e.exports={StyledHtml:"_2kNpDKDSFECvTvu0mF6ZHD",styledHtml:"_2kNpDKDSFECvTvu0mF6ZHD"}},"./src/reddit/components/TrackingHelper/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/prop-types/index.js"),s=n.n(r),o=n("./node_modules/react/index.js"),i=n.n(o),c=n("./src/reddit/selectors/telemetry.ts"),a=n("./src/telemetry/index.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class u extends i.a.Component{getChildContext(){return{sendEvent:e=>{{const t=this.context.store.getState(),n=e(t);Object(a.a)(Object.assign({},c.defaults(t),n))}}}}render(){return this.props.children?i.a.Children.only(this.props.children):null}}function l(e){var t;return(t=class extends i.a.Component{render(){return i.a.createElement(e,d({},this.props,{sendEvent:this.context.sendEvent}))}}).contextTypes={sendEvent:s.a.func},t}u.contextTypes={store:s.a.object.isRequired},u.childContextTypes={sendEvent:s.a.func.isRequired}},"./src/reddit/constants/adEvents.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Impression=1]="Impression",e[e.Click=2]="Click",e[e.CommentsView=3]="CommentsView",e[e.Upvote=4]="Upvote",e[e.Downvote=5]="Downvote",e[e.CommentSubmitted=6]="CommentSubmitted",e[e.ViewableImpression=7]="ViewableImpression",e[e.CommentUpvote=8]="CommentUpvote",e[e.CommentDownvote=9]="CommentDownvote",e[e.VideoViewableImpression=100]="VideoViewableImpression",e[e.VideoFullyViewableImpression=101]="VideoFullyViewableImpression",e[e.VideoPlayedWithSound=102]="VideoPlayedWithSound",e[e.VideoPlayedExpanded=103]="VideoPlayedExpanded",e[e.VideoWatched25=104]="VideoWatched25",e[e.VideoWatched50=105]="VideoWatched50",e[e.VideoWatched75=106]="VideoWatched75",e[e.VideoWatched95=107]="VideoWatched95",e[e.VideoWatched100=108]="VideoWatched100",e[e.VideoStarted=109]="VideoStarted",e[e.VideoWatchedSeconds3=110]="VideoWatchedSeconds3",e[e.VideoWatchedSeconds5=111]="VideoWatchedSeconds5",e[e.VideoWatchedSeconds10=112]="VideoWatchedSeconds10"}(r||(r={}))},"./src/reddit/constants/blade.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return f}));var r,s,o=n("./src/config.ts");!function(e){e.NameAndIcon="nameAndIcon",e.Banner="banner",e.Global="global"}(r||(r={})),function(e){e.Appearance="community_appearance",e.Main="community_mod_tools",e.MenuLinks="menu_links",e.PostFlairManagement="postflairmanagement",e.Structure="community_structure",e.UserFlairManagement="userflairmanagement",e.Widgets="community_widgets"}(s||(s={}));const i={global:"theme",nameAndIcon:"name_icon",banner:"banner",menu:"menu",post:"posts",exportImport:"export_import",menuLinks:"menu_links",widgets:"widgets",addWidget:"add_widget",editWidget:"edit_widget",newWidget:"new_widget",reorderWidgets:"reorder_widgets",main:"main",css:"css",idCard:"id_card"},c={global:s.Appearance,nameAndIcon:s.Appearance,banner:s.Appearance,menu:s.Appearance,post:s.Appearance,exportImport:s.Appearance,menuLinks:s.Appearance,widgets:s.Appearance,addWidget:s.Widgets,editWidget:s.Widgets,newWidget:s.Widgets,reorderWidgets:s.Widgets,main:s.Main,css:s.Appearance,idCard:"id_card"},a={button:"button_widget",calendar:"calendar_widget",custom:"custom_widget",image:"image_widget","id-card":"id_card",moderators:"moderators_widget","community-list":"community_list_widget","subreddit-rules":"rules_widget",textarea:"text_widget","post-flair":"post_flair_widget"};var d;!function(e){e.Add="add",e.AssignOwnOff="assign_own_off",e.AssignOwnOn="assign_own_on",e.Edit="edit",e.EnableOff="enable_off",e.EnableOn="enable_on",e.Remove="remove",e.Reorder="reorder"}(d||(d={}));const u={primaryColor:s.Appearance,highlightColor:s.Appearance,backgroundColor:s.Appearance,postTitleColor:s.Appearance,postBackgroundColor:s.Appearance,postDownvoteCountColor:s.Appearance,postUpvoteCountColor:s.Appearance,bannerBackgroundColor:s.Appearance,bannerOverlayColor:s.Appearance,menuBackgroundColor:s.Appearance,menuLinkColorActive:s.Appearance,menuLinkColorInactive:s.Appearance,menuLinkColorHover:s.Appearance,mobileKeyColor:s.Appearance,sidebarWidgetBackgroundColor:s.Widgets,sidebarWidgetHeaderColor:s.Widgets,submenuBackgroundColor:s.Appearance,buttonWidgetButtonColor:s.Widgets,buttonWidgetTextColor:s.Widgets,buttonWidgetFillColor:s.Widgets,buttonWidgetHoverButtonColor:s.Widgets,buttonWidgetHoverTextColor:s.Widgets,buttonWidgetHoverFillColor:s.Widgets},l={primaryColor:i.global,highlightColor:i.global,backgroundColor:i.global,postTitleColor:i.post,postBackgroundColor:i.post,postDownvoteCountColor:i.post,postUpvoteCountColor:i.post,bannerBackgroundColor:i.banner,bannerOverlayColor:i.banner,menuBackgroundColor:i.menu,menuLinkColorActive:i.menu,menuLinkColorInactive:i.menu,menuLinkColorHover:i.menu,mobileKeyColor:void 0,sidebarWidgetBackgroundColor:i.widgets,sidebarWidgetHeaderColor:i.widgets,submenuBackgroundColor:i.menu,buttonWidgetButtonColor:i.widgets,buttonWidgetTextColor:i.widgets,buttonWidgetFillColor:i.widgets,buttonWidgetHoverButtonColor:i.widgets,buttonWidgetHoverTextColor:i.widgets,buttonWidgetHoverFillColor:i.widgets},b={main:"structuredStyles.forms.main.title",global:"structuredStyles.forms.global.title",banner:"structuredStyles.forms.banner.title",menu:"structuredStyles.forms.menu.title",nameAndIcon:"structuredStyles.forms.nameAndIcon.title",post:"structuredStyles.forms.post.title",exportImport:"structuredStyles.forms.themes.title",widgets:"structuredStyles.forms.widgetManager.title",addWidget:"structuredStyles.forms.addWidget.title",newWidget:"structuredStyles.forms.newWidget.title",editWidget:"structuredStyles.forms.editWidget.title",menuLinks:"structuredStyles.forms.menuLinks.title",css:"",reorderWidgets:"",idCard:""},p={button:"structuredStyles.widgets.button.label","subreddit-rules":"structuredStyles.widgets.subreddit-rules.label",textarea:"structuredStyles.widgets.textarea.label",image:"structuredStyles.widgets.image.label","community-list":"structuredStyles.widgets.community-list.label",calendar:"structuredStyles.widgets.calendar.label",custom:"structuredStyles.widgets.custom.label","id-card":"structuredStyles.widgets.id-card.label","post-flair":"structuredStyles.widgets.post-flair.label"},m=e=>"".concat(o.a.redditHelpUrl.modHelpCenter,"hc/en-us/articles/").concat(e),f={exportImport:m("360008722771-Customize-Appearance-overview"),global:m("360008551632-Color-theme"),nameAndIcon:m("360008805651-Name-icon"),banner:m("360010112892-Banner"),menu:m("360010387851-Menu"),post:m("360010192832-Posts"),menuLinks:m("360010442571-Menu-Links"),widgets:m("360010364372-Sidebar-Widgets")}},"./src/reddit/constants/categories.tsx":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r,s=n("./src/reddit/helpers/name/index.ts");!function(e){e.Advice="advice",e.Animals="animals",e.Art="art",e.DIY="dIY",e.Electronics="electronics",e.Entertainment="entertainment",e.Fashion="fashion",e.Food="food",e.Funny="funny",e.Gaming="gaming",e.Health="health",e.Memes="memes",e.Music="music",e.News="news",e.Outdoors="outdoors",e.Photography="photography",e.PicsAndGifs="picsAndGifs",e.Relationships="relationships",e.Science="science",e.Sports="sports",e.Tv="tv",e.Tech="tech",e.Travel="travel",e.VideoGames="videoGames",e.Videos="videos",e.Vroom="vroom",e.Writing="writing"}(r||(r={}));const o=e=>{let t="";for(let n=0;n<e.length;n++)t+=e[n],n<e.length-1&&(t+="+");return t},i=e=>"/r/".concat(o(e),"/"),c=["#FAAF2A","#96DE50","#F9862D","#2EA1EA","#297ACA","#4DCF65","#96DE50","#F9862D","#FAAF2A","#297ACA","#2EA1EA","#2EA1EA","#37D2BB","#4DCF65","#297ACB","#96DE50","#F9862D","#FAAF2A","#297ACA","#2EA1EA","#297ACA","#37D2BB","#96DE50","#37D2BB","#4DCF65","#37D2BB","#F9862D"],a="event",d="geopopular",u=/\s/g,l=/&/g,b=/_and_/g,p=/_/g,m=e=>e?Object(s.f)(e).replace(u,"_").replace(l,"and"):"",f=e=>e?Object(s.f)(e).replace(b," & ").replace(p," "):""},"./src/reddit/constants/chat.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a}));const r={public:"room_public",private:"room_private"},s=140,o=30,i=10,c=500;var a;!function(e){e.SubredditChatNotifcationFtux="chat_subreddit_notification_ftux"}(a||(a={}))},"./src/reddit/constants/comments.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Comment="comment",e.MoreComments="moreComments",e.ContinueThread="continueThread"}(r||(r={}))},"./src/reddit/constants/cookie.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p}));const r="USER",s="alphaModal",o="over18",i="mod_mode_enabled",c="m2m_v5",a="recent_srs",d="_recentclicks2",u="eu_cookie_v2",l="uapp_cookie",b="nightmode",p="_options"},"./src/reddit/constants/elementIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));const r="bladeContainer",s="header",o="overlayScrollContainer",i="collectionPostListScrollContainer"},"./src/reddit/constants/experiments.ts":function(e,t,n){"use strict";n.d(t,"Pb",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"D",(function(){return o})),n.d(t,"xb",(function(){return i})),n.d(t,"yb",(function(){return c})),n.d(t,"Ob",(function(){return a})),n.d(t,"Hb",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"Fb",(function(){return b})),n.d(t,"P",(function(){return p})),n.d(t,"jb",(function(){return m})),n.d(t,"ab",(function(){return f})),n.d(t,"bb",(function(){return O})),n.d(t,"gb",(function(){return g})),n.d(t,"F",(function(){return j})),n.d(t,"hb",(function(){return y})),n.d(t,"ib",(function(){return _})),n.d(t,"z",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"q",(function(){return I})),n.d(t,"E",(function(){return v})),n.d(t,"Mb",(function(){return S})),n.d(t,"Nb",(function(){return T})),n.d(t,"A",(function(){return C})),n.d(t,"O",(function(){return w})),n.d(t,"v",(function(){return D})),n.d(t,"U",(function(){return P})),n.d(t,"T",(function(){return x})),n.d(t,"kb",(function(){return R})),n.d(t,"lb",(function(){return A})),n.d(t,"mb",(function(){return N})),n.d(t,"Ab",(function(){return k})),n.d(t,"K",(function(){return L})),n.d(t,"J",(function(){return U})),n.d(t,"t",(function(){return M})),n.d(t,"I",(function(){return F})),n.d(t,"h",(function(){return B})),n.d(t,"db",(function(){return G})),n.d(t,"f",(function(){return q})),n.d(t,"y",(function(){return V})),n.d(t,"x",(function(){return H})),n.d(t,"w",(function(){return K})),n.d(t,"fb",(function(){return W})),n.d(t,"Gb",(function(){return Y})),n.d(t,"p",(function(){return J})),n.d(t,"zb",(function(){return z})),n.d(t,"u",(function(){return Q})),n.d(t,"B",(function(){return X})),n.d(t,"g",(function(){return Z})),n.d(t,"m",(function(){return $})),n.d(t,"Ub",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"Sb",(function(){return ne})),n.d(t,"i",(function(){return re})),n.d(t,"Rb",(function(){return se})),n.d(t,"C",(function(){return ie})),n.d(t,"Bb",(function(){return ce})),n.d(t,"Db",(function(){return ae})),n.d(t,"S",(function(){return de})),n.d(t,"Ib",(function(){return ue})),n.d(t,"Lb",(function(){return le})),n.d(t,"k",(function(){return be})),n.d(t,"Jb",(function(){return pe})),n.d(t,"ub",(function(){return me})),n.d(t,"rb",(function(){return fe})),n.d(t,"Eb",(function(){return Oe})),n.d(t,"sb",(function(){return je})),n.d(t,"cb",(function(){return ye})),n.d(t,"tb",(function(){return _e})),n.d(t,"X",(function(){return Ee})),n.d(t,"s",(function(){return Se})),n.d(t,"H",(function(){return Te})),n.d(t,"ob",(function(){return we})),n.d(t,"Q",(function(){return De})),n.d(t,"V",(function(){return Pe})),n.d(t,"W",(function(){return xe})),n.d(t,"vb",(function(){return Re})),n.d(t,"wb",(function(){return Ae})),n.d(t,"M",(function(){return ke})),n.d(t,"j",(function(){return Ue})),n.d(t,"L",(function(){return Me})),n.d(t,"o",(function(){return Fe})),n.d(t,"eb",(function(){return Be})),n.d(t,"l",(function(){return Ge})),n.d(t,"Qb",(function(){return qe})),n.d(t,"qb",(function(){return Ve})),n.d(t,"nb",(function(){return He})),n.d(t,"pb",(function(){return Ke})),n.d(t,"Kb",(function(){return We})),n.d(t,"r",(function(){return Ye})),n.d(t,"N",(function(){return Je})),n.d(t,"Cb",(function(){return ze})),n.d(t,"n",(function(){return Qe})),n.d(t,"a",(function(){return Xe})),n.d(t,"G",(function(){return Ze})),n.d(t,"Tb",(function(){return $e})),n.d(t,"Y",(function(){return et})),n.d(t,"Z",(function(){return tt}));n("./node_modules/core-js/modules/web.dom.iterable.js");const r="typeahead_redesign",s="categories_entrypoint_redesign",o="dn_perms_current_pre_prompt",i="rails_search_results_follow_button",c="redesign_explore_logged_out_v2",a="trends_all_platforms",d="subreddit_top_content",u="chat_posts_rollout_web",l="chat_posts_holdout",b="sequence_redesign",p="guest_survey_1",m="desktop_seo_post_v2_truncate",f="mux_sampling_a",O="mux_sampling_b",g="desktop_seo_post_v2_comment_depth",j="email_permissions",y="desktop_seo_post_v2_declutter",_="desktop_seo_post_v2_id_card",h="desktop_m2m_home_redirect",E="collapse_pinned_comments",I="d2x_shell_render_mitigation",v="email_collection_v1",S="top_subreddits_test",T="top_subreddits_test_mods_only",C="desktop_post_cleanup_frontpage_v2",w="gold_desktop_post_refactor",D="desktop_general_cleanup",P="home_page_link_module",x="home_page_links",R="rpan_entry_point",A="rpan_web_discovery_unit",N="public_awarding",k="remove_oc",L="focused_vertical_suggestion_v2",U="focused_vertical_suggestion_test",M="desktop_cat_nav_placement_frontpage",F="desktop_guest_exp_filters",B="custom_post_creation_prompt",G="other_discussions",q="community_creation_topics",V="desktop_guest_exp_top_posts",H="desktop_guest_exp_post_height",K="desktop_guest_exp_pinned_posts",W="post_composer_in_feed",Y="desktop_posting_difficulty",J="d2x_graphql_home_feed_paginated",z="redesign_subreddit_search_fix",Q="desktop_frontpage_signup_v1",X="desktop_rails_widgets_frontpage",Z="create_polls_painted_door";var $;!function(e){e.Control1="control_1",e.Control2="control_2"}($||($={}));const ee=e=>e===$.Control1||e===$.Control2;var te,ne,re,se,oe,ie,ce,ae,de,ue,le,be,pe,me,fe,Oe,ge,je,ye,_e,he,Ee,Ie,ve,Se,Te,Ce,we,De,Pe,xe,Re,Ae,Ne,ke,Le,Ue,Me,Fe,Be,Ge,qe,Ve,He,Ke,We,Ye,Je,ze,Qe;!function(e){e.New="new",e.NewSwappedAwardIcon="new_swapped_award_icon"}(te||(te={})),function(e){e.Treatment1="treatment_1"}(ne||(ne={})),function(e){e.Treatment1="treatment_1"}(re||(re={})),function(e){e.Holdout="holdout",e.AdHoldout="ad_holdout"}(se||(se={})),function(e){e.TestTreatment1="toast",e.TestTreatment2="popup",e.TestTreatment3="knoxses"}(oe||(oe={})),function(e){e.SystemDialogue="system_dialogue",e.DarkSystemDialogue="dark_system_dialogue",e.PrePrompt="pre_prompt",e.DarkPrePrompt="dark_pre_prompt"}(ie||(ie={})),function(e){e.Treatment1="treatment_1"}(ce||(ce={})),function(e){e.ExploreOld="explore_old",e.ExploreStandardSearchPost="explore_standard_search_post",e.ExploreStandardSearchCommunity="explore_standard_search_community",e.ExploreTrendingSearchCommunity="explore_trending_search_community",e.ExploreTrendingDUCommunity="explore_trending_du_community",e.ExploreTrendingDUCommunityPopular="explore_trending_du_community_pop"}(ae||(ae={})),function(e){e.On="on"}(de||(de={})),function(e){e.Active="active"}(ue||(ue={})),function(e){e.ShowTopContent="show_top_content"}(le||(le={})),function(e){e.Rollout="enabled",e.Holdout="holdout"}(be||(be={})),function(e){e.Treatment1="treatment1"}(pe||(pe={})),function(e){e.Truncate="truncate",e.SmallBanner="small_banner",e.Both="both"}(me||(me={})),function(e){e.Max1="max_1",e.Max2="max_2"}(fe||(fe={})),function(e){e.Treatment="treatment"}(Oe||(Oe={})),function(e){e.Treatment1="treatment_1",e.Treatment2="treatment_2"}(ge||(ge={})),function(e){e.NoActions="no_actions",e.NoAds="no_ads",e.NoWidgets="no_widgets",e.Combined="combined"}(je||(je={})),function(e){e.On="on"}(ye||(ye={})),function(e){e.IdCard="id_card",e.RailSwap="rail_swap"}(_e||(_e={})),function(e){e.Narrow="narrow",e.NarrowCard="narrow_card"}(he||(he={})),function(e){e.ListingCapped="listing_capped",e.ListingInfinite="listing_infinite",e.RightRail="right_rail",e.ListingInfiniteLightbox="listing_infinite_lightbox",e.RightRailLightbox="right_rail_lightbox"}(Ee||(Ee={})),function(e){e.Lightbox="lightbox"}(Ie||(Ie={})),function(e){e.Enabled="enabled"}(ve||(ve={})),function(e){e.ShellRendered="shell_rendered"}(Se||(Se={})),function(e){e.Tooltip="tooltip",e.Banner="banner",e.Footer1="footer_1",e.Footer2="footer_2",e.Modal="modal"}(Te||(Te={})),function(e){e.Variant1="variant_1"}(Ce||(Ce={})),function(e){e.NewOutlineCommentLink1="new_outline_comment_link_1",e.NewOutlineCommentLink2="new_outline_comment_link_2",e.NewOutlineCommentLink3="new_outline_comment_link_3",e.NewOutlineCommentLink4="new_outline_comment_link_4",e.NewOutlineCommentLink5="new_outline_comment_link_5"}(we||(we={})),function(e){e.TopBanner="top_banner",e.SortView="sort_view",e.All="all"}(De||(De={})),function(e){e.On="on"}(Pe||(Pe={})),function(e){e.LinkedUrl="linked_url"}(xe||(xe={})),function(e){e.Enabled="enabled"}(Re||(Re={})),function(e){e.Enabled="enabled"}(Ae||(Ae={})),function(e){e.Treatment1="treatment_1"}(Ne||(Ne={})),function(e){e.PostsFromDifferentCommunities="posts_from_different_communities",e.CommunityDescWithPosts="community_desc_with_posts"}(ke||(ke={})),function(e){e.PostsFromDifferentCommunities="posts_from_different_communities",e.CommunityDescWithPosts="community_desc_with_posts"}(Le||(Le={})),function(e){e.Left="left",e.LeftBlue="left_blue",e.Top="top",e.TopBlue="top_blue"}(Ue||(Ue={})),function(e){e.FlairSidebar="flair_sidebar",e.FlairTop="flair_top",e.Sorts="sorts",e.TopBanner="top_banner"}(Me||(Me={})),function(e){e.Treatment="treatment"}(Fe||(Fe={})),function(e){e.Show="show"}(Be||(Be={})),function(e){e.TopicsAndDescriptionRequired="all_required",e.NoneRequired="none_required"}(Ge||(Ge={})),function(e){e.NoCommunityWidgets="no_community_widgets",e.NoRulesModerators="no_rules_moderators",e.RelatedPostsDu="related_posts_du"}(qe||(qe={})),function(e){e.MediumHeight="medium_height",e.OnlyTitles="only_titles"}(Ve||(Ve={})),function(e){e.Compact="compact",e.CompactTimeDelay="compact_time_delay"}(He||(He={})),function(e){e.ShowComposer="show_composer"}(Ke||(Ke={})),function(e){e.Treatment1="sub_diff_warning",e.Treatment2="sub_diff_recs"}(We||(We={})),function(e){e.GqlHomeFeedPaginated="gql_home_feed_paginated"}(Ye||(Ye={})),function(e){e.CurrentThrottled="current_throttled",e.CurrentUnthrottled="current_unthrottled",e.CurrentUnthrottledCopy="current_unthrottled_copy",e.NewPageUnthrottledCopy="new_page_unthrottled_copy",e.NewPageUnthrottledCopyFields="new_page_unthrottled_copy_fields",e.NewPopUnthrottledCopy="new_pop_unthrottled_copy"}(Je||(Je={})),function(e){e.TopMonth="top_month",e.Trending="trending",e.Geo="geo"}(ze||(ze={})),function(e){e.Treatment="treatment"}(Qe||(Qe={}));const Xe={[Z]:[Qe.Treatment],[X]:[ze.TopMonth,ze.Trending,ze.Geo],[Q]:[Je.CurrentThrottled,Je.CurrentUnthrottled,Je.CurrentUnthrottledCopy,Je.NewPageUnthrottledCopy,Je.NewPageUnthrottledCopyFields,Je.NewPopUnthrottledCopy],[z]:[ue.Active],[J]:[Ye.GqlHomeFeedPaginated],[W]:[Ke.ShowComposer],[H]:[Ve.OnlyTitles,Ve.MediumHeight],[K]:[He.Compact,He.CompactTimeDelay],[V]:[qe.NoCommunityWidgets,qe.NoRulesModerators,qe.RelatedPostsDu],[G]:[Be.Show],[q]:[Ge.TopicsAndDescriptionRequired,Ge.NoneRequired],[B]:[Fe.Treatment],[F]:[Me.FlairSidebar,Me.FlairTop,Me.Sorts,Me.TopBanner],[M]:[Ue.Top,Ue.Left,Ue.TopBlue,Ue.LeftBlue],[R]:[Re.Enabled],[A]:[Re.Enabled],[N]:[Ne.Treatment1],[L]:[ke.PostsFromDifferentCommunities,ke.CommunityDescWithPosts],[U]:[Le.PostsFromDifferentCommunities,Le.CommunityDescWithPosts],[x]:[xe.LinkedUrl],[P]:[Pe.On],[k]:[Oe.Treatment],[D]:[De.TopBanner,De.SortView,De.All],[w]:[te.New,te.NewSwappedAwardIcon],[C]:[we.NewOutlineCommentLink1,we.NewOutlineCommentLink2,we.NewOutlineCommentLink3,we.NewOutlineCommentLink4,we.NewOutlineCommentLink5],[S]:[Ce.Variant1],[T]:[Ce.Variant1],[v]:[Te.Tooltip,Te.Banner,Te.Footer1,Te.Footer2,Te.Modal],[E]:[ve.Enabled],desktop_seo_post_v2_lightbox:[Ie.Lightbox],[h]:[Ee.ListingCapped,Ee.ListingInfinite,Ee.RightRail,Ee.ListingInfiniteLightbox,Ee.RightRailLightbox],desktop_seo_post_v2_narrow:[he.Narrow,he.NarrowCard],[_]:[_e.IdCard,_e.RailSwap],[y]:[je.NoActions,je.NoAds,je.NoWidgets,je.Combined],[j]:[ge.Treatment1,ge.Treatment2],[g]:[fe.Max1,fe.Max2],[m]:[me.Truncate,me.SmallBanner,me.Both],[p]:[de.On],[o]:[ie.SystemDialogue,ie.DarkSystemDialogue,ie.PrePrompt,ie.DarkPrePrompt],[a]:[se.Holdout,se.AdHoldout],[r]:[ne.Treatment1],[s]:[re.Treatment1],[i]:[ce.Treatment1],[c]:[ae.ExploreOld,ae.ExploreStandardSearchPost,ae.ExploreStandardSearchCommunity,ae.ExploreTrendingSearchCommunity,ae.ExploreTrendingDUCommunity,ae.ExploreTrendingDUCommunityPopular],[d]:[le.ShowTopContent],[u]:[be.Rollout],[l]:[be.Holdout],[b]:[pe.Treatment1],[f]:[ye.On],[O]:[ye.On],[Y]:[We.Treatment1,We.Treatment2]},Ze=new Set([M,F,Q,c,p,v,j,h,L,X]),$e=e=>e.reduce((e,t,n)=>(e[t]=n+1,e),{}),et=($e(["NFL","Gaming","Memes","Funny","Sports","Wholesome","Video Games","Pics & Gifs","Mindblowing","Videos","News","Cringe","Schadenfreude","Science","Relationships","Learning","Photography","Vroom","Tech","Crypto","TV","Aww","Popcorn","Parenting","Discussion","Food","Beauty","Outdoors","Fashion","Books & Writing","Art & Design","Nostalgia","Music","Travel","Health & Fitness"]),$e(["NFL","Discussion","Relationships","Sports","Gaming","News","Beauty","Health & Fitness","Learning","Parenting","Tech","Crypto","Science","Video Games","TV","Popcorn","Vroom","Food","Outdoors","Fashion","Books & Writing","Art & Design","Nostalgia","Music","Travel","Photography","Funny","Wholesome","Memes","Aww","Pics & Gifs","Mindblowing","Videos","Cringe","Schadenfreude"])),tt=$e(["Video Games","Memes","Sports","Wholesome","Pics & Gifs","Mindblowing","Videos","News","Science","Relationships","Finance & Business","Learning","Photography","Vroom","Tech","Crypto","TV","Aww","Parenting","Discussion","Gaming","Food","Beauty","Outdoors","Fashion","Books & Writing","Art & Design","Music","Travel","Health & Fitness"])},"./src/reddit/constants/explore.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=3,s=3},"./src/reddit/constants/featureThrottling.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/models/FeatureThrottling/index.ts");n.d(t,"a",(function(){return o}));const o={[r.u]:(e=>({times:e,type:s.b.TimesPerSession}))(1)}},"./src/reddit/constants/flair.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return b}));var r=n("./src/reddit/constants/colors.ts"),s=n("./src/reddit/models/Flair/index.ts");const o=64,i=10,c=10,a=100,d=c*(a+1),u={backgroundColor:r.a.defaultFlair,id:"",modOnly:!1,textColor:s.e.Dark,textEditable:!1,richtext:[],text:"",type:s.f.Richtext},l="t3_flairPreviewExamplePost",b=350},"./src/reddit/constants/gold.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u}));const r="ModerationPage--Modal--AddAward",s="ModerationPage--Modal--DeleteAwardConfirmation",o=20,i=4,c=1e4,a=.2,d=.1,u=.1},"./src/reddit/constants/graphql.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Card="CARD",e.Classic="CLASSIC",e.Compact="COMPACT"}(r||(r={}))},"./src/reddit/constants/history.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.IsOverlay="isOverlay",e.ScrollOnLoad="scrollOnLoad",e.CloseLocation="closeLocation",e.JustLoggedIn="JustLoggedIn",e.JustLoggedOut="JustLoggedOut"}(r||(r={}))},"./src/reddit/constants/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o}));const r=3,s=5,o=10},"./src/reddit/constants/listings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/i18n/utils.ts");const r=new Set(["friends","random"]);var s;!function(e){e.All="all",e.Explore="explore",e.Home="home",e.Original="original",e.Rpan="rpan",e.Popular="popular",e.SubredditCreation="subredditCreation",e.SubredditLeaderboard="subredditLeaderboard",e.Topic="topic",e.Layer="layer"}(s||(s={}));const o={[s.Home]:"/",[s.Popular]:"/r/popular/",[s.All]:"/r/all/",[s.Original]:"/original/",[s.Explore]:"/explore/",[s.Rpan]:"/rpan/",[s.SubredditCreation]:"/subreddits/create",[s.SubredditLeaderboard]:"/subreddits/leaderboard/",[s.Topic]:"/t/",[s.Layer]:"/r/layer/"}},"./src/reddit/constants/modals.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_REMOVAL_REASON="add_removal_reason",e.ALPHA_CONSUMER="alpha_consumer",e.BADGE_PICKER="badge_picker",e.BADGE_PURCHASE="badge_purchase",e.BAN_USER="ban_user",e.BLADE_NIGHTMODE="blade_nightmode",e.BLADE_UNSAVED_CHANGES="blade_unsaved_changes",e.CONFIRM_CLOSE_COIN_MODAL_ID="confirm_close_coin_modal_id",e.CONFIRM_CLOSE_PREMIUM_MODAL_ID="confirm_close_premium_modal_id",e.CONTRIBUTOR_REQUEST="contributor_request",e.CONTRIBUTOR_REQUEST_PENDING="contributor_request_pending",e.CREATE_SUBREDDIT_CHAT="create_subreddit_chat",e.DELETE_SUBREDDIT_CHAT="delete_subreddit_chat",e.ECONOMY_SUPPORT_MODAL="economy_support_modal",e.EDIT_SUBREDDIT_CHAT="edit_subreddit_chat",e.GOLD_INTRODUCTION="gold_introduction",e.GOLD_MODAL_CLICK_TEST="gold_modal_click_test",e.GOVERNANCE_OPT_OUT="governance_opt_out",e.GOVERNANCE_RELEASE_NOTES="governance_release_notes",e.HARBERGER_TAX_BANNER_MANAGE="harberger_tax_banner_manage",e.HARBERGER_TAX_BANNER_PURCHASE="harberger_tax_banner_purchase",e.KEYBOARD_SHORTCUTS="keyboard_shortcuts",e.LOGIN_MODAL_ID="account_manager_login",e.MANAGE_SUBREDDIT_CHAT="manage_subreddit_chat",e.MOD_TO_MEMBER_SHARE="mod_to_member_share",e.MULTIREDDIT_ADD_SUBREDDIT="multireddit_add_subreddit",e.MULTIREDDIT_CREATE="multireddit_create",e.MULTIREDDIT_DUPLICATE="multireddit_duplicate",e.MULTIREDDIT_EDIT="multireddit_edit",e.MUTE_USER="mute_user",e.PINNED_POSTS_LIMIT_REACHED="pinned_posts_limit_reached",e.REDESIGN_MODAL="redesign_modal",e.REGISTER_MODAL_ID="account_manager_register",e.SPEZ_MODAL="spez_modal",e.SUBREDDIT_CHAT_SETTINGS="subreddit_chat_settings",e.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT="subreddit_premium_badge_management",e.SUBREDDIT_PREMIUM_GIFT_MODAL="subreddit_premium_gift",e.SUBREDDIT_PREMIUM_PURCHASE_MODAL="subreddit_premium_purchase",e.TRANSFER_POINTS="community_points_transfer",e.USER_FLAIR_MODAL_ID="user_flair_modal",e.PAINTER_MODAL="painter_modal"}(r||(r={}))},"./src/reddit/constants/originalContent.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c}));const r="all",s="none",o="(oc-subreddits)",i=8,c=3},"./src/reddit/constants/page.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l}));const r="(frontpage)",s="(original)",o="(modListing)",i="(modListingFiltered)",c="(explore)";var a;!function(e){e.Frontpage="frontpage",e.All="all",e.Mod="mod",e.Friends="friends",e.Popular="popular",e.Explore="explore",e.PostDetail="postDetail",e.Topic="topic",e.OtherDiscussions="otherDiscussions"}(a||(a={}));const d=a.Frontpage,u=a.Popular;var l;!function(e){e[e.Top=0]="Top",e[e.Posts=1]="Posts",e[e.Listings=2]="Listings"}(l||(l={}))},"./src/reddit/constants/parameters.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"t",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return y})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return h})),n.d(t,"y",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"p",(function(){return C}));const r="category",s="category_name",o="draft",i="include_over_18",c="is_multi",a="moderator",d="action",u="newUser",l="q",b="connected_account",p="restrict_sr",m="sort",f="t",O="geo_filter",g="verified",j="verifiedEmail",y="source",_="v",h="v2",E="show_source",I="steward_only",v="feature",S=["ad","adHash","clickUrl",f,v],T=["after","before"],C=["ad","include_over_18","q","restrict_sr","sort","t","type",v,c,r,s,y]},"./src/reddit/constants/postCollection.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));const r=160,s=120,o=50},"./src/reddit/constants/preferences.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c}));const r="rpanDuDismissalTime",s="showRpanDu",o="topContentDismissalTime",i="topContentTimesDismissed",c=["openPostInNewTab","rememberCommunitySort","sort","stylesEnabled","useMarkdown","layout","rememberCommunityLayout","hasSeenCustomizeFlyout",r,s,o,i]},"./src/reddit/constants/shortcuts.ts":function(e,t,n){"use strict";var r,s;n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(r||(r={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(s||(s={}));const o="SHORTCUT_FOCUSABLE_DIV",i=[9,13,32]},"./src/reddit/constants/spezModal.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));const r="spezmodal",s=15692976e5,o=1569384e6,i="https://web.archive.org/web/20191001041103/https://www.usa.gov/register-to-vote",c="https://web.archive.org/web/20191001041103/https://out.reddit.com/t3_d0jy34?url=https%3A%2F%2Fwww.usa.gov%2Fregister-to-vote&token=AQAA7CWNXTo30aiSOjHV2gAgr4pleLxES4SoxFPkO0-ihMCYQYSC&app_name=web2x",a=1569531372e3},"./src/reddit/constants/stewards.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="CommunityStewards"},"./src/reddit/constants/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l}));const r="DEFAULT",s="",o="All Communities",i="MOD",c="moderating",a="/subreddits/leaderboard/",d={id:s,name:s},u=[{name:"Sports",id:"c1015",path:"".concat(a,"sports/")},{name:"News",id:"c1009",path:"".concat(a,"news/")},{name:"Gaming",id:"c1005",path:"".concat(a,"gaming/")},{name:"Aww",id:"c1000",path:"".concat(a,"aww/")}],l=["Sports","Gaming","News","TV","Aww","Memes","Pics & Gifs","Travel","Tech","Music"]},"./src/reddit/constants/things.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="t1_",s="t3_"},"./src/reddit/constants/thumbnails.ts":function(e,t,n){"use strict";var r;!function(e){e.NSFW="nsfw",e.SELF="self",e.IMAGE="image",e.DEFAULT="default",e.SPOILER="spoiler"}(r||(r={})),t.a=r},"./src/reddit/constants/tracking.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r={CLICK:"click",CLOSE:"close",COMPLETE:"complete",DISABLE:"disable",DRAG:"drag",ENABLE:"enable",REJECT:"reject",START:"start",STOP:"stop",VIEW:"view"},s={POST:"post",SCREEN:"screen"},o="media-element",i={allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowDiscovery:"allow_discovery",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",keyColor:"key_color",language:"lang",contentOptions:"link_type",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",suggestedCommentSort:"suggested_comment_sort",title:"title",subredditId:"subreddit_id",subredditType:"type",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"}},"./src/reddit/constants/video.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return m}));const r=250,s=500,o=25,i=50,c=75,a=95,d=100,u=[o,i,c,a,d],l=3,b=5,p=10,m=[l,b,p]},"./src/reddit/constants/viewabilityEvents.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Viewable=1]="Viewable",e[e.VideoViewable=2]="VideoViewable",e[e.VideoFullyViewable=3]="VideoFullyViewable",e[e.Impression=4]="Impression"}(r||(r={}))},"./src/reddit/constants/wiki.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m}));var r;n("./node_modules/core-js/modules/web.dom.iterable.js");!function(e){e.Create="create",e.Edit="edit",e.Revisions="revisions",e.Settings="settings"}(r||(r={}));const s="index",o="pages",i="config/automoderator",c="reddit.com",a=["config/description","config/sidebar","config/stylesheet","config/submit_text"],d="fromWikiEditButton",u=256,l=128,b=new Set(["edit","revisions","settings","discussions","revisions","pages","create"]),p=new Set(["reddit","config","special"]),m=3},"./src/reddit/contexts/InsideOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const i=s.a.createContext(!1);function c(e){return class extends s.a.Component{render(){return s.a.createElement(i.Consumer,null,t=>s.a.createElement(e,o({},this.props,{isOverlay:t})))}}}},"./src/reddit/contexts/PageLayer/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"v",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/reddit/contexts/PageLayer/selectors.ts");n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.b})),n.d(t,"d",(function(){return o.c})),n.d(t,"e",(function(){return o.d})),n.d(t,"f",(function(){return o.e})),n.d(t,"g",(function(){return o.f})),n.d(t,"h",(function(){return o.g})),n.d(t,"i",(function(){return o.h})),n.d(t,"j",(function(){return o.i})),n.d(t,"k",(function(){return o.j})),n.d(t,"l",(function(){return o.k})),n.d(t,"m",(function(){return o.l})),n.d(t,"n",(function(){return o.m})),n.d(t,"o",(function(){return o.n})),n.d(t,"p",(function(){return o.o})),n.d(t,"q",(function(){return o.p})),n.d(t,"r",(function(){return o.q})),n.d(t,"s",(function(){return o.r})),n.d(t,"t",(function(){return o.s})),n.d(t,"u",(function(){return o.t})),n.d(t,"w",(function(){return o.u})),n.d(t,"x",(function(){return o.v})),n.d(t,"y",(function(){return o.w})),n.d(t,"z",(function(){return o.x})),n.d(t,"A",(function(){return o.y})),n.d(t,"B",(function(){return o.z})),n.d(t,"C",(function(){return o.A})),n.d(t,"D",(function(){return o.B})),n.d(t,"E",(function(){return o.C})),n.d(t,"F",(function(){return o.D})),n.d(t,"G",(function(){return o.E})),n.d(t,"H",(function(){return o.F})),n.d(t,"I",(function(){return o.G})),n.d(t,"J",(function(){return o.H})),n.d(t,"K",(function(){return o.I})),n.d(t,"L",(function(){return o.J})),n.d(t,"M",(function(){return o.K})),n.d(t,"N",(function(){return o.L})),n.d(t,"O",(function(){return o.M})),n.d(t,"P",(function(){return o.N})),n.d(t,"Q",(function(){return o.O})),n.d(t,"R",(function(){return o.P})),n.d(t,"S",(function(){return o.Q})),n.d(t,"T",(function(){return o.R})),n.d(t,"U",(function(){return o.S})),n.d(t,"V",(function(){return o.T})),n.d(t,"W",(function(){return o.U})),n.d(t,"X",(function(){return o.V})),n.d(t,"Y",(function(){return o.W}));const i=s.a.createContext(null),c=(e,t)=>void 0!==t?Object.keys(t).reduce((n,r)=>(n[r]=t[r](e),n),{}):{pageLayer:e};function a(e){return t=>(class extends s.a.Component{constructor(){super(...arguments),this.renderChildren=n=>{const r=Object.assign({},this.props,c(n,e));return s.a.createElement(t,r)}}render(){return s.a.createElement(i.Consumer,null,this.renderChildren)}})}},"./src/reddit/contexts/PageLayer/selectors.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/objectSelector/index.ts"),d=n("./src/lib/search/index.ts"),u=n("./src/reddit/constants/categories.tsx"),l=n("./src/reddit/constants/page.ts"),b=n("./src/reddit/constants/parameters.ts"),p=n("./src/reddit/constants/postLayout.ts"),m=n("./src/reddit/constants/posts.ts");const f={access:!0,config:!0,flair:!0,mail:!0,posts:!0,wiki:!0,chatConfig:!0,chatOperator:!0,all:!0};var O=n("./src/reddit/helpers/flair.ts"),g=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/listingSort/index.ts")),j=n("./src/lib/makeListingKey/index.ts"),y=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),_=n("./src/reddit/selectors/frontpage.ts");var h=(e,t)=>{const{routeMatch:n,urlParams:r,queryParams:s}=t;if(!n)return;const o=(e=>{const{routeMatch:t,urlParams:n,queryParams:r}=e;if(!t)return;let s="";switch(t.route.meta.name){case i.wb.PROFILE_COMMENTS:case i.wb.PROFILE_POSTS:s=r.sort;break;default:s=n.sort}return s||void 0})(t);switch(n.route.meta.name){case i.wb.INDEX:case i.wb.LISTING:return o||Object(_.a)(e);case i.wb.SUBREDDIT:{const t=r,{subredditName:n}=t,o=Object(y.a)(t),c=Object(j.a)(n,o,s),a=e.listings.postOrder.listingSort[c];if(a){const{sort:e}=Object(g.d)(a.sort);return e}return i.O}default:return o||i.O}},E=n("./src/reddit/models/Flair/index.ts"),I=n("./src/reddit/models/Image/index.tsx"),v=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),S=n("./src/reddit/selectors/monthsToMinutes.ts"),T=n("./src/reddit/selectors/multireddit.ts"),C=n("./src/reddit/selectors/postCollection.ts"),w=n("./src/reddit/selectors/postDraft.ts"),D=n("./src/reddit/selectors/profile.ts"),P=n("./src/reddit/selectors/subreddit.ts"),x=n("./src/reddit/selectors/subredditModeration.ts"),R=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return A})),n.d(t,"z",(function(){return N})),n.d(t,"C",(function(){return k})),n.d(t,"G",(function(){return L})),n.d(t,"M",(function(){return U})),n.d(t,"O",(function(){return M})),n.d(t,"y",(function(){return F})),n.d(t,"E",(function(){return B})),n.d(t,"B",(function(){return G})),n.d(t,"U",(function(){return q})),n.d(t,"w",(function(){return V})),n.d(t,"v",(function(){return H})),n.d(t,"A",(function(){return K})),n.d(t,"L",(function(){return W})),n.d(t,"F",(function(){return J})),n.d(t,"J",(function(){return Q})),n.d(t,"H",(function(){return X})),n.d(t,"K",(function(){return Z})),n.d(t,"x",(function(){return $})),n.d(t,"c",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"t",(function(){return ne})),n.d(t,"d",(function(){return re})),n.d(t,"n",(function(){return se})),n.d(t,"q",(function(){return oe})),n.d(t,"m",(function(){return ie})),n.d(t,"o",(function(){return ce})),n.d(t,"p",(function(){return ae})),n.d(t,"I",(function(){return de})),n.d(t,"h",(function(){return ue})),n.d(t,"i",(function(){return le})),n.d(t,"j",(function(){return be})),n.d(t,"k",(function(){return pe})),n.d(t,"D",(function(){return me})),n.d(t,"g",(function(){return fe})),n.d(t,"Q",(function(){return Oe})),n.d(t,"S",(function(){return ge})),n.d(t,"V",(function(){return je})),n.d(t,"W",(function(){return ye})),n.d(t,"N",(function(){return _e})),n.d(t,"P",(function(){return he})),n.d(t,"r",(function(){return Ee})),n.d(t,"R",(function(){return Ie})),n.d(t,"s",(function(){return ve})),n.d(t,"b",(function(){return Se})),n.d(t,"u",(function(){return Te})),n.d(t,"T",(function(){return Ce})),n.d(t,"f",(function(){return we})),n.d(t,"l",(function(){return De}));const A=e=>e?e.url:"",N=e=>!!(e&&e.routeMatch&&i.o.FRONTPAGE.includes(e.routeMatch.route.chunk)),k=e=>!(!e||!e.routeMatch||e.routeMatch.route.chunk!==i.o.ORIGINAL_CONTENT),L=e=>e&&e.routeMatch&&[i.o.FRONTPAGE,i.o.MULTIREDDIT,i.o.SUBREDDIT].includes(e.routeMatch.route.chunk),U=e=>e&&e.routeMatch&&e.routeMatch.route.chunk===i.o.TOPIC,M=(e,t)=>{let{pageLayer:n}=t;if(!n||!L(n)||!n.routeMatch)return null;const{match:r}=n.routeMatch,s=r.params.subredditName;if(!s)return null;const o=Object(P.B)(e,{subredditName:s});return o?o.name:s},F=(e,t)=>{let{pageLayer:n}=t;const r=M(e,{pageLayer:n});return!!r&&Object(c.a)(r)},B=(e,t)=>{let{pageLayer:n}=t;const r=M(e,{pageLayer:n}),s=N(n),o=Object(R.J)(e);return r===l.h||!o&&s&&!Object(S.g)(e)},G=(e,t)=>{let{pageLayer:n}=t;const r=M(e,{pageLayer:n});return!(r&&!Object(c.a)(r))},q=e=>{if(!e||!e.routeMatch)return;const{route:t}=e.routeMatch;return t.meta.name},V=e=>!(!e||!e.meta||e.meta.name!==i.wb.COMMENTS),H=e=>!!(e&&e.meta&&e.meta.name===i.wb.COMMENTS&&e.urlParams.partialCommentId),K=e=>!(!e||!e.meta||e.meta.name!==i.wb.SEARCH_RESULTS||e.urlParams.subredditName),W=e=>!!(e&&e.meta&&e.meta.name===i.wb.SEARCH_RESULTS&&e.urlParams.subredditName),Y=e=>!(!e||!e.meta||e.meta.name!==i.wb.COMMENTS||m.b[e.urlParams.routePrefix]!==m.a.PROFILE),J=e=>!(!e||!e.meta||e.meta.name!==i.wb.POST_CREATION),z=e=>!(!e||!e.meta||e.meta.name!==i.wb.POST_DRAFT),Q=e=>!!(e&&e.meta&&i.nb.has(e.meta.name)),X=e=>!!(e&&e.meta&&i.lb.has(e.meta.name)),Z=e=>!!(e&&e.meta&&i.Fb.has(e.meta.name)),$=e=>!(!e||!e.meta||e.meta.name!==i.wb.EXPLORE),ee=e=>{const t=e&&e.urlParams;if(!t)return;const{multiredditName:n,username:r}=t;return{multiredditName:n,username:r}},te=e=>{const t=e&&e.urlParams;return t?t.categoryName:void 0},ne=e=>{const t=e&&e.urlParams;return t?Object(u.f)(t.topicName):void 0},re=(e,t)=>{let{pageLayer:n}=t;const r=ee(n);if(!r)return null;const{multiredditName:s,username:o}=r;return s?Object(T.d)(e,{multiredditName:s,username:o}):null},se=(e,t)=>{let{pageLayer:n}=t;if(z(n)){const t=Te(n);return Object(w.e)(e,{draftId:t})}const r=n&&n.urlParams;return r?r.subredditName:void 0},oe=(e,t)=>{let{pageLayer:n}=t;if(n&&n.urlParams&&m.b[n.urlParams.routePrefix]===m.a.PROFILE)return null;const r=se(e,{pageLayer:n});return r?Object(P.B)(e,{subredditName:r}):null},ie=(e,t)=>{let{pageLayer:n}=t;const r=se(e,{pageLayer:n});return r?Object(P.H)(e,r):null},ce=(e,t)=>oe(e,t)||be(e,t),ae=(e,t)=>{let{pageLayer:n}=t;const r=((e,t)=>{let{pageLayer:n}=t;const r=ie(e,{pageLayer:n});return r?e.postFlair[r]:null})(e,{pageLayer:n});return r?r.displaySettings.position:E.b.Right},de=e=>!!(e&&e.routeMatch&&i.ob.has(e.routeMatch.route.meta.name))||Y(e)||(e=>!(!e||!e.meta||e.meta.name!==i.wb.COLLECTION_COMMENTS||m.b[e.urlParams.routePrefix]!==m.a.PROFILE))(e),ue=e=>{const t=e&&e.urlParams;return t?t.profileName:void 0},le=e=>{if(e&&e.routeMatch&&q(e)===i.wb.PROFILE_PRIVATE)return e.routeMatch.match.params.listingType},be=(e,t)=>{let{pageLayer:n}=t;const r=Y(n)?se(e,{pageLayer:n}):ue(n);return r?Object(D.j)(e,{profileName:r}):null},pe=(e,t)=>{let{pageLayer:n}=t;const r=Y(n)?se(e,{pageLayer:n}):ue(n);return r?Object(R.gb)(e,{userName:r}):null},me=(e,t)=>{let{pageLayer:n}=t;const r=be(e,{pageLayer:n}),s=Object(R.i)(e),o=s&&(s.username?s.username:s.displayText);return!(!o||!r||o!==r.name)},fe=(e,t)=>{let{pageLayer:n}=t;if(me(e,{pageLayer:n}))return f},Oe=(e,t)=>{let{pageLayer:n}=t;if(!n)return;const{key:r}=n;return e.platform.referrers[r]},ge=e=>e?e.queryParams:{},je=e=>{const t=q(e);if(e&&t&&t===i.wb.SEARCH_RESULTS)return e.queryParams[b.b]?Object(d.a)(e.queryParams[b.b]):Object(d.a)(e.queryParams[b.n])},ye=e=>e?e.url:"",_e=(e,t)=>{let n,{pageLayer:r}=t;if(void 0!==(n=void 0===r?e.platform.currentPage:r)){const t=q(n);if(t===i.wb.POST_CREATION)return p.g.Large;if(t===i.wb.SUBREDDIT_WIKI)return p.g.Classic;if(t===i.wb.EXPLORE)return p.g.Classic;if(t===i.wb.TOPIC||Object(v.a)(e,{pageLayer:r})&&(N(r)||B(e,{pageLayer:r})))return p.g.Large;if(t===i.wb.PROFILE_SNOOBUILDER)return p.g.Classic;if(t===i.wb.SUBREDDIT&&e.user.prefs.rememberCommunityLayout){const t=((e,t)=>{let{pageLayer:n}=t;const r=ie(e,{pageLayer:n});if(r){const t=e.user.prefs.subreddit[r];if(t&&t.layout)return t.layout}return null})(e,{pageLayer:r});if(t)return p.b[t]}if(i.ob.has(t)){return he(e,{pageLayer:r})?t===i.wb.PROFILE_POSTS||t===i.wb.PROFILE_PRIVATE?p.g.Classic:p.g.Compact:t===i.wb.PROFILE_OVERVIEW?p.g.Large:p.g.Classic}}if(e.user.prefs.layout)return p.b[e.user.prefs.layout];{const t=Object(R.J)(e),r=!!n&&q(n)===i.wb.ORIGINAL_CONTENT;return!t||r?p.g.Large:p.g.Classic}},he=(e,t)=>{let{pageLayer:n}=t;return!!Object(x.s)(e)||!(!n||!n.meta)&&n.meta.name===i.wb.MODQUEUE_PAGES},Ee=(e,t)=>{let{pageLayer:n}=t;const r=ie(e,{pageLayer:n});if(!r)return!0;const s=e.subreddits.about[r];return!s||s.showMedia},Ie=Object(a.a)((e,t)=>{let{pageLayer:n,postId:r,flairStyleTemplateDraft:s}=t;const o=e.posts.models[r];if(!o)return;const c=o.flair.find(e=>Object(O.p)(e.type));if(!c||void 0===c.templateId)return;const a=ie(e,{pageLayer:n});if(!a||a!==o.belongsTo.id)return;if(!e.structuredStyles.models[a])return;const d=e.structuredStyles.flairTemplate,u=!!s;if(n&&n.meta&&n.meta.name===i.wb.MODERATION_PAGES&&!s)return;let l=s||d.models[c.templateId];if(!l)return;const b=!u&&Object(R.U)(e),p=n&&n.locationState&&n.locationState.isOverlay;if(b||p){if(!l.postPlaceholderImage)return;l={postPlaceholderImage:l.postPlaceholderImage}}return Object.keys(l).filter(e=>l[e]!==I.c).reduce((e,t)=>(e[t]=l[t],e),{})}),ve=e=>{if(!e)return i.Ob;const t=b.t in e.queryParams&&e.queryParams[b.t].toUpperCase();return"string"==typeof t&&t in i.Nb?i.Nb[t]:i.Ob},Se=(e,t)=>{let{pageLayer:n}=t;return n?h(e,n):void 0},Te=e=>{if(e)return z(e)?e.urlParams.draftId:e.queryParams.draft},Ce=e=>e&&e.queryParams||{},we=(e,t)=>{let{pageLayer:n}=t;const r=(e=>e?e.queryParams.collection:void 0)(n);return r?Object(C.q)(e,{collectionId:r}):void 0},De=Object(o.a)(se,e=>e.categories.models,e=>e.subreddits.models,e=>e.subreddits.byCategory,(e,t,n,r)=>{if(!e)return;const o=Object.keys(t).find(t=>{const o=r[t];if(s()(o))return!1;const i=o.map(e=>n[e].name);return!s()(i)&&Object(u.d)(i)===e});return o?t[o]:void 0})},"./src/reddit/controls/Button/index.m.less":function(e,t,n){e.exports={DangerButtonStyles:"_2TFttKq5FzfEJ75z_ZdIum",dangerButtonStyles:"_2TFttKq5FzfEJ75z_ZdIum",DangerButton:"_1K_eZyG6kthwPn55PD-EMM",dangerButton:"_1K_eZyG6kthwPn55PD-EMM",active:"_39a0Mt5b1i2joAqIaEHOWJ",ExtraSmallBaseButton:"_2v8rCfSRT4mr5y4pwEhX41",extraSmallBaseButton:"_2v8rCfSRT4mr5y4pwEhX41",PrimaryLinkButton:"wLV79_wV-ziNiWmf3Y7OV",primaryLinkButton:"wLV79_wV-ziNiWmf3Y7OV",PrimaryRouterLink:"_3UhcBirLMXHSbN5vYYBGSF",primaryRouterLink:"_3UhcBirLMXHSbN5vYYBGSF",PrimaryButton:"_2JBsHFobuapzGwpHQjrDlD",primaryButton:"_2JBsHFobuapzGwpHQjrDlD",SecondaryLinkButton:"_1HunhFR-0b-AYs0WG9mU_P",secondaryLinkButton:"_1HunhFR-0b-AYs0WG9mU_P",SecondaryRouterLink:"_2yhUdcPyG1k3qsmDb4y6u_",secondaryRouterLink:"_2yhUdcPyG1k3qsmDb4y6u_",SecondaryButton:"PiO8QDmoJoOL2sDjJAk4C",secondaryButton:"PiO8QDmoJoOL2sDjJAk4C",TertiaryButton:"_1McO-Omm_mC2bkTnVgD6NV",tertiaryButton:"_1McO-Omm_mC2bkTnVgD6NV",TertiaryLinkButton:"_9Yn-qhIEvQgFU6jnrKkSC",tertiaryLinkButton:"_9Yn-qhIEvQgFU6jnrKkSC",TertiaryRouterLink:"SuTcOCtRzb-pPZYaAZTjh",tertiaryRouterLink:"SuTcOCtRzb-pPZYaAZTjh",GoldButton:"_2GYoN_LmWsKeeYnfg8wF7N",goldButton:"_2GYoN_LmWsKeeYnfg8wF7N",PremiumButton:"_14IRbTHWqATJbFJ9PgPswU",premiumButton:"_14IRbTHWqATJbFJ9PgPswU",InlineTextButton:"_3kfXQpuyMJIMeWQCwjZKfw",inlineTextButton:"_3kfXQpuyMJIMeWQCwjZKfw",Button:"_2iuoyPiKHN3kfOoeIQalDT",button:"_2iuoyPiKHN3kfOoeIQalDT",redditStyle:"_2nelDm85zKKmuD94NequP0",ChatButton:"_13twe55MPRo1LqypxB-LJx",chatButton:"_13twe55MPRo1LqypxB-LJx"}},"./src/reddit/controls/Button/index.tsx":function(e,t,n){"use strict";n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return D}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/classNames/index.ts"),i=n("./src/reddit/controls/InternalLink/index.tsx"),c=n("./src/lib/lessComponent.tsx"),a=n("./src/reddit/controls/Button/index.m.less"),d=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const b=(e,t,n)=>Object(o.a)(e,{[d.a.redditStyle]:!(!t&&!n)});c.a.wrapped(e=>{const{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("button",u({className:b(t,n,r)},o))},"Button",d.a);const p=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement(i.a,u({className:b(t,n,r)},o))},m=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("a",u({className:b(t,n,r)},o))},f=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("button",u({className:b(t,n,r)},o))},O=c.a.wrapped(m,"PrimaryLinkButton",d.a),g=c.a.wrapped(p,"PrimaryRouterLink",d.a),j=c.a.wrapped(f,"PrimaryButton",d.a),y=c.a.wrapped(f,"DangerButton",d.a),_=c.a.wrapped(m,"SecondaryLinkButton",d.a),h=c.a.wrapped(p,"SecondaryRouterLink",d.a),E=c.a.wrapped(f,"SecondaryButton",d.a),I=c.a.wrapped(f,"TertiaryButton",d.a),v=c.a.wrapped(m,"TertiaryLinkButton",d.a),S=c.a.wrapped(p,"TertiaryRouterLink",d.a),T=c.a.wrapped(f,"GoldButton",d.a),C=c.a.wrapped(f,"PremiumButton",d.a),w=c.a.wrapped(f,"ChatButton",d.a),D=c.a.wrapped(f,"InlineTextButton",d.a)},"./src/reddit/controls/FormFields/index.m.less":function(e,t,n){e.exports={input:"_3CWuMoFPzdbJCxYJVmEw00",label:"J4DegnzzIY1-C2PFzYkrA",mHasValue:"t09kxBqaSw0Is_F5sUdQ1",inputWrapper:"_3TCLGRXxb1PXK-_sziBD2q",mIsInvalid:"_1pMjk4nL9CObVggXCSuELu",inputMovingLabelWrapper:"_2-meAmTwsZSCNYrpbEy7BX",mIsRedditStyle:"_3ONm7CsU4BtjX9jO5WYv2X",trash:"_2YUtyje1Y5rUty_3zgPOGM",trashContainer:"_2wjFyjW1rwWs4WFcSc7xNl",plus:"_3o11DwChSYlSiDT6FYqOIE",addValueButton:"_1Dm7EZTfDne90O5xANs501",multiInputWrapper:"_3CjWcr8XyX0xN32ADxPngu"}},"./src/reddit/controls/FormFields/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return y}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/classNames/index.ts"),i=n("./src/lib/lessComponent.tsx"),c=n("./src/reddit/icons/svgs/Plus/index.tsx"),a=n("./src/reddit/icons/svgs/Trash2/index.tsx"),d=n("./src/reddit/controls/FormFields/index.m.less"),u=n.n(d);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const p=i.a.input("input",u.a),m=e=>{"LABEL"===e.target.tagName&&(e.target.parentElement.firstElementChild.focus(),e.stopPropagation())},f=e=>{const{label:t,children:n,inputRef:r,className:i}=e,c=b(e,["label","children","inputRef","className"]),a=void 0!==e.value&&""!==e.value;return s.a.createElement("div",{className:Object(o.a)(u.a.inputWrapper,i,{[u.a.mIsInvalid]:e.isValid}),onClick:m},s.a.createElement(p,l({innerRef:r},c)),e.label&&s.a.createElement("label",{className:Object(o.a)(u.a.label,{[u.a.mHasValue]:a})},e.label),e.children)},O=e=>{const{label:t,children:n,inputRef:r,className:i,redditStyle:c}=e,a=b(e,["label","children","inputRef","className","redditStyle"]),d=void 0!==e.value&&""!==e.value;return s.a.createElement("div",{className:Object(o.a)(u.a.inputMovingLabelWrapper,i,{[u.a.mIsRedditStyle]:c}),onClick:m},s.a.createElement(p,l({innerRef:r},a)),e.label&&s.a.createElement("label",{className:Object(o.a)(u.a.label,{[u.a.mHasValue]:d})},e.label),e.children)},g=e=>s.a.createElement("div",{className:Object(o.a)(u.a.addValueButton,e.className),onClick:e.onClick},e.text," ",s.a.createElement(c.a,{className:u.a.plus}));var j;!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE"}(j||(j={}));class y extends s.a.Component{constructor(){super(...arguments),this.state={addingNewInputs:!1},this.addValue=()=>{const e=this.props.values.slice();this.props.buttonOnTop?e.unshift(""):e.push(""),this.props.onChange(e),this.props.onEvent&&this.props.onEvent({action:j.ADD})},this.updateValue=(e,t)=>{const n=this.props.values.slice();n[t]=e.target.value,this.props.onChange(n)},this.removeValue=e=>{const t=this.props.values.slice(),n=t[e];t.splice(e,1),this.props.onChange(t),this.props.onEvent&&this.props.onEvent({action:j.REMOVE,value:n,index:e})}}componentWillReceiveProps(e){e.values.length>this.props.values.length&&this.setState({addingNewInputs:!0})}componentDidUpdate(){this.focusedInput&&this.state.addingNewInputs&&(this.focusedInput.focus(),this.setState({addingNewInputs:!1}))}setInputRef(e,t){this.state.addingNewInputs&&(!this.props.buttonOnTop||this.props.buttonOnTop&&!t)&&(this.focusedInput=e)}renderFields(){const{values:e,disabled:t,label:n,placeholder:r}=this.props;return e.map((e,o)=>s.a.createElement(f,{inputRef:e=>this.setInputRef(e,o),disabled:t,type:"text",label:n,onChange:e=>this.updateValue(e,o),placeholder:r,value:e,style:{paddingRight:"36px"}},s.a.createElement("div",{className:u.a.trashContainer,onClick:()=>this.removeValue(o)},s.a.createElement(a.b,{className:u.a.trash}))))}render(){const{className:e,buttonOnTop:t,values:n,maxLength:r,addValueText:i,disabled:c}=this.props;this.focusedInput=null;const a=!(!!r&&n.length>=r)&&!c;return s.a.createElement("div",{className:Object(o.a)(u.a.multiInputWrapper,e)},t&&a&&s.a.createElement(g,{onClick:this.addValue,text:i}),this.renderFields(),!t&&a&&s.a.createElement(g,{onClick:this.addValue,text:i}))}}},"./src/reddit/controls/InternalLink/index.m.less":function(e,t,n){e.exports={disabledLink:"_1tQt2CUWT3M7NNSMoh_o_4"}},"./src/reddit/controls/InternalLink/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-router-dom/es/index.js"),i=n("./src/lib/classNames/index.ts"),c=n("./src/reddit/helpers/path/index.ts"),a=n("./src/reddit/controls/InternalLink/index.m.less"),d=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=e=>{var{children:t,className:n,disabled:r,replace:a,to:b}=e,p=l(e,["children","className","disabled","replace","to"]);return r?s.a.createElement("span",{className:Object(i.a)(d.a.disabledLink,n)},t):("string"==typeof b&&(b=Object(c.b)(b)),s.a.createElement(o.a,u({className:n,to:b},p),t))}},"./src/reddit/customMiddleware/gqlContext.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n("./src/config.ts");const s=e=>{let{apiUrl:t,onBeforeRequest:n,onResponse:r,statsAppName:s,headers:o}=e;return{apiUrl:t,onBeforeRequest:n,onResponse:r,statsAppName:s,headers:o()}},o={unsafeLoggedOut:!1,accessToken:""};t.a=e=>{let t=()=>o;return{gqlContext:()=>{const{headers:n,onBeforeRequest:s,onResponse:o,statsAppName:i}=e();return{apiUrl:r.a.gqlUrl,onBeforeRequest:s,onResponse:o,statsAppName:i,headers:()=>(e=>{const{unsafeLoggedOut:n,accessToken:r}=t();return n?Object.assign({},e,{Authorization:"Bearer ".concat(r)}):Object.assign({},e)})(n)}},middleware:e=>(t=()=>(e=>{if(!e.user.session)return o;const{unsafeLoggedOut:t,accessToken:n}=e.user.session;return{unsafeLoggedOut:!!t,accessToken:n}})(e.getState()),e=>t=>e(t))}}},"./src/reddit/endpoints/accounts/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts");const c=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/block_user"),method:r.ab.POST}),a=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:n,container:t,type:"enemy"},endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:r.ab.POST}),d=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/add_whitelisted?include_model"),method:r.ab.POST}),u=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/remove_whitelisted"),method:r.ab.POST})},"./src/reddit/endpoints/category/categoryList.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/categories.tsx"),c=n("./src/reddit/constants/headers.ts");const a=e=>{const t={},n=[];return e.forEach((e,r)=>{const s={attr:e.category_attr,color:e.category_color||i.a[r%i.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};n.push(s.id),t[s.id]=s}),{categories:t,categoryIds:n}};t.a=e=>Object(s.b)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/available_subreddit_categories.json?use_extended_categories=true"),method:r.ab.GET})},"./src/reddit/endpoints/category/subreddits.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=e=>{const t=[],n=[],r={},s={};return e.data.children.forEach(e=>{let{data:o}=e;const i=Object(c.a)(o);t.push(i.id),n.push(i.name),r[i.id]=i,s[i.id]={accountsActive:o.accounts_active,allOriginalContent:o.all_original_content,bannerBackgroundColor:o.banner_background_color,bannerBackgroundImage:o.banner_background_image,contentCategory:o.content_category,keyColor:o.key_color,originalContentTagEnabled:o.original_content_tag_enabled,publicDescription:o.public_description,subscribers:o.subscribers,userIsSubscriber:o.user_is_subscriber}}),{subredditIds:t,subredditNames:n,subreddits:r,subredditsAboutInfo:s}};t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/subreddits_in_category.json?category_id=").concat(t,"&limit=").concat(n)),method:r.ab.GET})}},"./src/reddit/endpoints/chat/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"a",(function(){return _})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return v}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");const a="api/v1",d="".concat(a,"/sendbird");var u;!function(e){e.PUBLIC="all"}(u||(u={}));const l=10,b=10;class p extends Error{constructor(e,t){super(e),this.response=t}}const m=async(e,t,n)=>{const d={};return n&&(d.public_mode=u.PUBLIC),Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/").concat(t,"/channels"),method:s.ab.GET,data:d})},f=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/create"),method:s.ab.POST,data:JSON.stringify({room:n.room,room_type:n.roomType,description:n.description,subreddit:n.subreddit,automute_account_age_threshold:n.minimumAcctAge,automute_on_join_duration:n.newMemberAge})}),O=async(e,t,n,d)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/").concat(t),method:s.ab.PUT,data:JSON.stringify({room:d.room,description:d.description,automute_account_age_threshold:d.minimumAcctAge,automute_on_join_duration:d.newMemberAge})}),g=async(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/").concat(t),method:s.ab.DELETE}),j=async e=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(d,"/config"),method:s.ab.GET});var y,_;function h(e){const t={bannedWords:e.profanity_filter&&e.profanity_filter.keywords,regexes:e.profanity_filter&&e.profanity_filter.regex_filters,rateLimit:e.user_messages_per_channel,domains:e.domain_filter&&e.domain_filter.domains&&e.domain_filter.domains.join(", "),useDefaultProfanityFilter:e.profanity_filter&&e.profanity_filter.should_check_global,domainFilterOption:void 0};if(!1===e.allow_links)t.domainFilterOption=_.BLOCK_ALL_DOMAINS;else{const{domain_filter:{type:n}={type:void 0}}=e;n===y.BLOCK_MODE?t.domainFilterOption=_.BLOCK_BANNED_DOMAINS:n===y.ALLOW_MODE?t.domainFilterOption=_.ALLOW_APPROVED_DOMAINS:t.domainFilterOption=_.ALLOW_ALL_DOMAINS}return t}function E(e){const t={};return e.rateLimit&&e.rateLimit>0&&(t.user_messages_per_channel=e.rateLimit,t.user_messages_per_channel_duration=b),void 0===e.bannedWords&&void 0===e.regexes&&void 0===e.useDefaultProfanityFilter||(t.profanity_filter={keywords:e.bannedWords,regex_filters:e.regexes,should_check_global:e.useDefaultProfanityFilter}),e.domainFilterOption===_.BLOCK_ALL_DOMAINS?(t.allow_links=!1,t.domain_filter={type:y.DISABLE}):e.domainFilterOption===_.ALLOW_ALL_DOMAINS?(t.allow_links=!0,t.domain_filter={type:y.DISABLE}):e.domainFilterOption===_.ALLOW_APPROVED_DOMAINS&&e.domains?(t.allow_links=!0,t.domain_filter={type:y.ALLOW_MODE,domains:e.domains.split(",")}):e.domainFilterOption===_.BLOCK_BANNED_DOMAINS&&e.domains&&(t.allow_links=!0,t.domain_filter={type:y.BLOCK_MODE,domains:e.domains.split(",")}),t}async function I(e,t){const n=await Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/chat/subreddit/").concat(t,"/settings"),method:s.ab.GET});if(n.ok&&n.body)return h(n.body)}async function v(e,t,n){const d=await Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/chat/subreddit/").concat(t,"/settings"),method:s.ab.PUT,data:JSON.stringify(E(n))});if(d.ok&&d.body)return Object.assign({},d,{body:h(d.body)});throw new p("Failed to update subreddit chat settings",d)}!function(e){e[e.BLOCK_MODE=2]="BLOCK_MODE",e[e.ALLOW_MODE=1]="ALLOW_MODE",e[e.DISABLE=0]="DISABLE"}(y||(y={})),function(e){e.ALLOW_ALL_DOMAINS="Allow all domains",e.ALLOW_APPROVED_DOMAINS="Allow links to approved domains",e.BLOCK_BANNED_DOMAINS="Block links to banned domains",e.BLOCK_ALL_DOMAINS="Block all domains"}(_||(_={}))},"./src/reddit/endpoints/economics/tips.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");function o(e,t){return Object(s.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:"".concat(r.a.metaUrl,"/tips-details/").concat(t.subredditId),method:"post",data:{contentIds:t.contentIds}})}},"./src/reddit/endpoints/flair/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return _}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n,r,a,d)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/selectflair"),method:s.ab.POST,data:{api_type:"json",flair_template_id:r,name:t,text:a,css_class:d}}),u=(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/selectflair"),method:s.ab.POST,data:{api_type:"json",flair_template_id:n,link:t,text:r}}),l=(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/setflairenabled"),method:s.ab.POST,data:{api_type:"json",flair_enabled:t}}),b=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair.json"),method:s.ab.POST,data:{subreddit:t,enabled:n}}),p=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_link_flair.json"),method:s.ab.POST,data:{subreddit:t,enabled:n}}),m=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair_self_assign.json"),method:s.ab.POST,data:{subreddit:r,flair_type:n,enabled:t}}),f=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/flairtemplate_v2"),method:s.ab.POST,data:{allowable_content:t.allowableContent,css_class:t.cssClass,flair_template_id:t.id,text:t.text,text_editable:t.textEditable,flair_type:r,text_color:t.textColor,background_color:t.backgroundColor,max_emojis:t.maxEmojis,mod_only:t.modOnly,r:n}}),O=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/deleteflairtemplate"),method:s.ab.POST,data:{flair_template_id:t,r:n}}),g=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_template_order/").concat(n),method:s.ab.PATCH,type:"json",data:r}),j=async(e,t)=>Object(o.b)(e,{endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/userFlair"),method:s.ab.GET,headers:{[c.a]:c.a}}),y=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/deleteflair"),method:s.ab.POST,data:{api_type:"json",name:t}}),_=async(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/top_flair_in_subreddit.json?subreddit=").concat(t)),method:s.ab.GET})},"./src/reddit/endpoints/gold/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"k",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"e",(function(){return w}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/DeleteAward.json"),c=n("./src/graphql/operations/DisableAward.json"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/uploadToS3/index.ts"),u=n("./src/graphql/operations/CommunityAwardsBlacklistStatus.json"),l=n("./src/graphql/operations/CreateCommunityAward.json"),b=n("./src/graphql/operations/CreateGlobalAward.json"),p=n("./src/graphql/operations/CreateModAward.json"),m=n("./src/graphql/operations/ManageableAwards.json"),f=n("./src/graphql/operations/UsableAwards.json"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const j=(e,t,n,o)=>{const i={subreddit:t,filepath:n,mimetype:o};return Object(s.b)(Object(a.a)(e,[O.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/v1/community_awards/award_asset_upload_s3"),data:i})},y=async(e,t)=>Object(d.a)(t,e),_=(e,t,n,r,s,i,c,a,d)=>Object(o.a)(e,Object.assign({},l,{variables:{coinPrice:c,iconHeight:i,iconWidth:s,iconUrl:r,name:n,subredditId:t,startsAt:a,endsAt:d}})),h=(e,t,n,r,s,i,c,a,d)=>Object(o.a)(e,Object.assign({},p,{variables:{iconHeight:i,iconWidth:s,iconUrl:r,monthsOfPremium:c,name:n,subredditId:t,startsAt:a,endsAt:d}})),E=(e,t,n,r,s,i,c,a,d,u,l)=>Object(o.a)(e,Object.assign({},b,{variables:{iconHeight:s,iconWidth:r,iconUrl:n,daysOfPremium:i,daysOfDripExtension:c,coinPrice:a,coinReward:d,name:t,startsAt:u,endsAt:l}})),I=(e,t)=>Object(o.a)(e,Object.assign({},u,{variables:{subredditId:t}})),v=(e,t)=>Object(o.a)(e,Object.assign({},m,{variables:{subredditId:t}})),S=(e,t)=>Object(o.a)(e,Object.assign({},f,{variables:{subredditId:t}})),T=(e,t)=>Object(o.a)(e,Object.assign({},i,{variables:{awardId:t}})),C=(e,t)=>Object(o.a)(e,Object.assign({},c,{variables:{awardId:t}})),w=async(e,t,n)=>{const o={api_type:"json",award_id:t,raw_json:1};return Object(s.b)(Object(a.a)(e,[O.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/report_award"),data:o}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(g.a)(e)}))}},"./src/reddit/endpoints/gold/purchase.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return y}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/genericServerError/index.ts"),a=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),d=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const u=(e,t)=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(d.a)(e)}):Object.assign({},e):Object.assign({},e,{error:e.error||Object(c.a)(t)}),l=async e=>{let{coins:t,context:n,correlationId:c,language:a,pennies:d,rememberCard:l,token:b,savedCardId:p}=e;const m={token:b?b.id:void 0,coins:t,pennies:d,remember_card:l,card_id:p,correlation_id:c};return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.ab.POST,endpoint:"".concat(n.apiUrl,"/api/v2/gold/stripe/buy_coins"),data:m}).then(e=>u(e,a))},b=async e=>{let{coins:t,context:n,correlationId:c,gildParams:d,language:l,pennies:b,rememberCard:p,thingId:m,token:f,savedCardId:O}=e;const{gildType:g,includeMessage:j,isAnonymous:y,message:_}=d,h={token:f?f.id:void 0,coins:t,pennies:b,thing_id:m,gild_type:g,message:j?_:"",is_anonymous:y,remember_card:p,card_id:O,correlation_id:c};return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.ab.POST,endpoint:"".concat(n.apiUrl,"/api/v2/gold/stripe/buy_coins_and_gild"),data:h}).then(e=>(e&&e.ok&&e.body&&e.body.all_awardings&&(e.body.allAwardings=Object(a.a)(e.body.all_awardings)),Object.assign({},e))).then(e=>u(e,l))},p=async e=>{let{context:t,correlationId:n,language:c,pennies:a,token:d}=e;const l={token:d.id,pennies:a,correlation_id:n};return Object(s.b)(Object(o.a)(t,[i.a]),{method:r.ab.POST,endpoint:"".concat(t.apiUrl,"/api/v2/gold/stripe/buy_premium_subscription"),data:l}).then(e=>u(e,c))},m=async(e,t,n,c)=>{const a={button_id:n,correlation_id:c};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/paypal/initiate_coins_payment"),data:a}).then(e=>u(e,t))},f=async(e,t,n,c)=>{const a={button_id:n,correlation_id:c};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/paypal/initiate_premium_payment"),data:a}).then(e=>u(e,t))},O=async(e,t,n,c,a,d,l,b)=>{const p={button_id:n,thing_id:c,gild_type:a,message:d,is_anonymous:l,correlation_id:b};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/paypal/initiate_coins_and_gild_payment"),data:p}).then(e=>u(e,t))},g=async(e,t,n)=>{const c={token:n.id};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/update_creditcard"),data:c}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(d.a)(e)}))},j=async(e,t)=>{const n={card_id:t};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/delete_creditcard"),data:n}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(d.a)(e)}))},y=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.GET,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/creditcards")}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(d.a)(e)}))},"./src/reddit/endpoints/governance/badges.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");async function o(e,t,n){const o=Object(s.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},method:"post",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t),data:{selected:!0,users:n}}),i=await o;if(i.ok){const e={},t={},n=i.body;return Object.keys(n).forEach(r=>{const s=n[r];t[r]=s,e[s.userId]||(e[s.userId]=[]),e[s.userId].push(s.id)}),Object.assign({},i,{body:{badges:t,usersAppliedBadges:e}})}return i}async function i(e,t,n){const o=await Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t,"?users=").concat(n)});if(o.ok){const e={},t=[],n=o.body;return Object.keys(n).forEach(r=>{const s=n[r];e[r]=s,t.push(s.id)}),Object.assign({},o,{body:{badges:e,userOwnedBadges:t}})}return o}function c(e,t,n){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Object(s.a)(e,{method:"patch",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t,"/").concat(n),data:{selected:o}})}},"./src/reddit/endpoints/governance/community.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/endpoints/governance/requester.ts");function i(e,t){return Object(o.a)(e,{endpoint:"".concat(r.a.metaUrl,"/communities/").concat(t.subredditId,"/me"),method:s.ab.GET})}},"./src/reddit/endpoints/governance/posts.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=(n("./src/reddit/models/Poll/index.ts"),n("./src/reddit/endpoints/governance/requester.ts"));function o(e,t,n){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/polls/").concat(t,"?postIds=").concat(n.join(","))})}},"./src/reddit/endpoints/governance/products/badges.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");function o(e,t){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/products/").concat(t,"?types=badge")})}function i(e,t){return Object(s.a)(e,{method:"post",endpoint:"".concat(r.a.metaUrl,"/orders"),data:t})}function c(e,t){return Object(s.a)(e,{method:"post",endpoint:"".concat(r.a.metaUrl,"/orders"),data:{currency:"usd",price:t.price,products:t.products,providerArgs:{paymentNonce:t.nonce},providerName:"braintree",subredditId:t.subredditId}})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/makeApiRequest/index.ts");function s(e,t){return Object(r.b)(e,Object.assign({},t,{type:"json"})).then(e=>{if(e.ok)return{body:e.body,ok:!0,status:e.status};return{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:Object.assign({},e.body,{code:e.status}),ok:!1,status:e.status}})}},"./src/reddit/endpoints/governance/wallet.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./src/config.ts"),s=(n("./src/lib/bigNumberUtils/percent.ts"),n("./src/lib/constants/index.ts")),o=n("./src/reddit/endpoints/governance/requester.ts");function i(e,t){return Object(o.a)(e,{endpoint:"".concat(r.a.metaUrl,"/wallets/").concat(t.subredditId,"/me"),method:s.ab.GET}).then(e=>{if(e.ok){const n=e.body,r={[t.subredditId]:n};return Object.assign({},e,{body:r})}return e})}function c(e,t){return Object(o.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:"".concat(r.a.metaUrl,"/wallets/").concat(t.subredditId),method:s.ab.POST,data:t.userIds}).then(e=>e.ok?Object.assign({},e,{body:{wallets:e.body}}):e)}},"./src/reddit/endpoints/me/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts");const i=e=>Object(o.b)(e,{endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/me"),method:s.ab.GET})},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n)=>Object(o.b)(e,{endpoint:Object(a.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/").concat(t)),method:s.ab.GET,data:Object.assign({moderated_limit:25},n)}),u=(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/modactions/").concat(t),method:s.ab.POST,type:"json",data:n})},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts");t.a=async e=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/subreddit_permissions"),method:r.ab.GET})},"./src/reddit/endpoints/moderator/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return j}));var r=n("./src/graphql/operations/SubredditPostFlairStyleTemplates.json"),s=n("./src/graphql/operations/SubredditStyles.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/uploadToS3/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/media/index.ts");const b=async(e,t,n)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.ab.GET,data:{progressive_images:n}}),p=async(e,t,n)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.ab.PATCH,data:n}),m=async(e,t)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.ab.DELETE}),f=async(e,t,n,r,s)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/style_asset_upload_s3/").concat(t),method:o.ab.POST,data:{filepath:n,imagetype:r,mimetype:s}}),O=async(e,t,n,r)=>{const s=await Object(l.g)(r),o=await f(e,t,r.name,n,s);if(!o.ok)return o;let i=o.body;return"s3UploadLease"in i&&(i=i.s3UploadLease),Object(d.a)(r,i)},g=(e,t)=>Object(c.a)(e,Object.assign({},s,{variables:{subredditName:t}})),j=(e,t,n)=>Object(c.a)(e,Object.assign({},r,{variables:{subredditName:t,templateIds:n}}))},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=(e,t,n,a)=>{const d=n?"".concat(r.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t,"/").concat(n):"".concat(r.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t);return Object(o.b)(e,{data:a,endpoint:Object(i.a)(Object(c.a)(d)),method:s.ab.GET,traceRequestName:"get_comments_page"})}},"./src/reddit/endpoints/page/frontpage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/config.ts"),s=n("./src/graphql/operations/Frontpage.json"),o=n("./src/lib/base64/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/makeGqlRequest/index.ts"),d=n("./src/lib/performanceTimings/index.tsx"),u=n("./src/reddit/constants/graphql.ts"),l=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),b=n("./src/reddit/constants/postLayout.ts");function p(e){return e?b.c[e]:b.f}var m=n("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),f=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),O=n("./src/reddit/selectors/platform.ts"),g=n("./src/reddit/selectors/user.ts");n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return h}));var j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const y=(e,t)=>Object(a.a)(e,Object.assign({},s,{variables:t})),_=(e,t)=>{const{after:n,isMobile:r,layout:s,limit:i,sort:c,t:a}=t,d=Object(g.Q)(e),l=Object(O.q)(e),b={recentPostIds:e.posts.recent,includeIdentity:d&&!e.user.account,includeFeatured:!0,adContext:{layout:s?s.toUpperCase():u.a.Card,reddaid:e.user.reddaid}};return c&&(b.sort=c.toUpperCase()),a&&(b.range=a.toUpperCase()),r?b.pageSize=p(s):i&&(b.pageSize=i),l&&l.ad&&(b.forceAds={ad:l.ad}),n&&(b.after=Object(o.a)(n)),b},h=async(e,t,n)=>{const r=Date.now(),s=await y(e,t),o=Date.now();if(!s.ok)return s;const c=Date.now(),a=Object(m.a)(s.body.data),u=Date.now(),l=[{duration:o-r,logKeyType:d.a.gqlFetchTiming},{duration:u-c,logKeyType:d.a.gqlNormalizationTiming}];return Object(d.g)(i.o.FRONTPAGE,n,l),Object.assign({},s,{body:a})};t.a=(e,t)=>{let s={};if(t){const{isMobile:e,recentPostIds:n}=t,r=j(t,["isMobile","recentPostIds"]);s=Object.assign({},r,e?{limit:p(t.layout)}:{},n?{recentPostIds:n.join(",")}:{})}return t&&t.useMockData?(()=>new Promise(async e=>{const t=await n.e("MockData").then(n.bind(null,"./src/reddit/endpoints/page/mocks/frontpage.ts")).then(e=>e.default);setTimeout(()=>e(t()),2e3)}))():Object(c.b)(e,{endpoint:Object(l.a)(Object(f.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/frontpage"))),method:i.ab.GET,data:Object.assign({},s),traceRequestName:"get_frontpage"})}},"./src/reddit/endpoints/page/multiredditListing.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/MultiredditListing.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/page/originalContentPage.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=(e,t)=>Object(o.b)(e,{data:t,endpoint:Object(i.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/original"))),method:s.ab.GET})},"./src/reddit/endpoints/page/profileOverviewPage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/config.ts"),s=n("./src/lib/addAllowQuarantinedParam/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const a=(e,t,n)=>Object(i.b)(e,{data:n,endpoint:Object(s.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/conversations"))),method:o.ab.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e),d=(e,t,n)=>Object(i.b)(e,{data:n,endpoint:Object(s.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/overview"))),method:o.ab.GET}).then(e=>"pinned"in e.body?e:"overviewIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.overviewIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e)},"./src/reddit/endpoints/page/search.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/search/index.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t)=>{let n=t?Object.assign({},e,{type:e.restrict_sr?"link":e.type}):e;(n=n.type?n:Object.assign({},n,{type:"link,sr,user"})).q=Object(i.a)(e.q);const r=Object(c.c)(c.a.SearchResults);return r&&(n.search_correlation_id=r),n};t.a=(e,t,n,i)=>Object(o.b)(e,{data:d(i||{},t),endpoint:Object(a.a)(n?"".concat(r.a.gatewayUrl,"/desktopapi/v1/multireddits/").concat(n,"/").concat(t,"/search"):t?"".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/search"):"".concat(r.a.gatewayUrl,"/desktopapi/v1/search")),method:s.ab.GET})},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const d=e=>{var{recentPostIds:t}=e,n=a(e,["recentPostIds"]);return t&&t.length?Object.assign({},n,{recentPostIds:t.join(",")}):n};t.a=(e,t,n)=>Object(o.b)(e,{endpoint:Object(i.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t))),method:s.ab.GET,data:n&&d(n)||{},traceRequestName:"get_subreddit_page"})},"./src/reddit/endpoints/post/convert.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),a=n("./src/reddit/models/PostCreationForm/index.ts");t.a=(e,t,n)=>{const d={output_mode:"markdown"===t?t:"rtjson"};return t===a.h.MARKDOWN?d.richtext_json=n:d.markdown_text=n,Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/convert_rte_body_format")),method:r.ab.POST,data:d})}},"./src/reddit/endpoints/post/create.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return y}));var r=n("./node_modules/url/url.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/constants/originalContent.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=n("./src/reddit/helpers/flair.ts"),l=n("./src/reddit/helpers/name/index.ts"),b=n("./src/reddit/models/Post/index.ts"),p=n("./src/reddit/models/PostCreationForm/index.ts"),m=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const f=e=>{switch(e.kind){case p.o.CROSSPOST:return p.o.CROSSPOST;case p.o.LINK:return p.o.LINK;case p.o.MEDIA:return e.makeGif?p.o.VIDEO_GIF:e.mediaType;default:return"self"}},O=e=>{const t=Object(l.f)(e.destSubreddit.name);return Object.assign({api_type:"json"},e.destSubreddit.isProfile?{sr:"u_".concat(t),submit_type:"profile"}:{sr:t,submit_type:"subreddit"},{draft_id:e.draftId||void 0,title:e.title,discussion_type:e.isChatPost?b.b.Chat:void 0,spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,post_category:e.ocCategory===a.c?void 0:e.ocCategory,post_to_twitter:e.postToTwitter,kind:f(e),sendreplies:e.sendReplies},e.gRecaptchaResponse?{"g-recaptcha-response":e.gRecaptchaResponse}:{},{resubmit:e.resubmit},(e=>{switch(e.kind){case p.o.RICH_TEXT:return{richtext_json:JSON.stringify({document:e.document})};case p.o.MARKDOWN:return{text:e.markdown};case p.o.LINK:case p.o.MEDIA:return{url:e.url};case p.o.CROSSPOST:return{crosspost_fullname:e.sourcePostId}}})(e),e.kind===p.o.MEDIA&&"video"===e.mediaType?{video_poster_url:e.videoThumbnailUrl}:{},e.kind===p.o.MEDIA&&e.makeGif?{make_gif:"on"}:{},e.flair?{flair_id:e.flair.templateId,flair_text:Object(u.g)(e.flair)}:{},e.validate_on_submit?{validate_on_submit:e.validate_on_submit}:{},e.eventSchedule&&{event_start:e.eventSchedule.startDate,event_end:e.eventSchedule.endDate,event_tz:e.eventSchedule.timezoneName,unlist:e.eventSchedule.submitTime===p.i.AtEventTime},e.collectionId&&{collection_id:e.collectionId})},g=e=>{if(e.some(e=>e[0]===s.D.BAD_CAPTCHA_ERROR))return s.D.BAD_CAPTCHA_ERROR;for(const t of e)switch(t[0]){case s.D.USER_REQUIRED_ERROR:case s.D.VALIDATION_ERROR:return t[0];case s.D.NO_TEXT:case s.D.NO_URL:return s.D.VALIDATION_ERROR;default:continue}return s.D.VALIDATION_ERROR},j=e=>{const t=/comments\/(\w+)\/.*$/.exec(e),n=t&&t[1];return n?"".concat(s.ub.Post,"_").concat(n):""},y=async(e,t)=>{if(e.body.fields&&Object(p.u)(e.body.fields[0]))return Object.assign({},e,{body:{},error:{type:s.D.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}});if(!e.ok)return e;if(e.body.json.errors&&Array.isArray(e.body.json.errors)&&e.body.json.errors.length)return Object.assign({},e,{ok:!1,error:{type:g(e.body.json.errors),fields:e.body.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))}});const n=e.body.json.data;let o=n.url;o||t.kind!==p.o.MEDIA||(o=await((e,t)=>new Promise(n=>{const r=new WebSocket(e),s=e=>{r.close(),clearTimeout(o),n(e)},o=setTimeout(()=>{s("")},t);r.onmessage=e=>{const t=JSON.parse(e.data),n="success"===t.type?t.payload.redirect:"";s(n)},r.onerror=e=>{s("")}}))(n.websocket_url,3e4));const i=n.id||j(o),c=Object(r.parse)(o).path,a=n.drafts_count;return Object.assign({},e,{body:{id:i,path:c,draftsCount:a}})};t.a=(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(m.a)(Object(d.a)("".concat(e.apiUrl,"/api/submit?resubmit=true"))),method:s.ab.POST,data:O(t)}).then(async e=>await y(e,t))},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var r=n("./src/reddit/constants/originalContent.ts"),s=n("./src/reddit/helpers/flair.ts"),o=n("./src/reddit/models/PostDraft/index.ts");const i=e=>({id:e.json.data.id,draftsCount:e.json.data.drafts_count}),c=e=>{switch(e.kind){case o.b.Link:return"link";case o.b.Markdown:return"markdown";case o.b.RichText:return"richtext";default:return"self"}},a=e=>{switch(e){case"link":return o.b.Link;case"markdown":return o.b.Markdown;case"richtext":return o.b.RichText;default:return"self"}},d=e=>e.title.substring(0,300),u=e=>{switch(e.kind){case o.b.Link:case o.b.Markdown:return e.body;case o.b.RichText:return JSON.stringify({document:e.body})}},l=e=>Object.assign({id:e.draftId||void 0},(e=>e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{})(e),{kind:c(e),title:d(e),body:u(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,content_category:e.ocCategory===r.c?void 0:e.ocCategory||void 0},(e=>e?{flair_id:e.templateId||null,flair_text:Object(s.g)(e)||null,flair_text_color:e.textColor||null,flair_background_color:e.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null})(e.flair),{send_replies:e.sendReplies,is_public_link:e.isPublicLink})},"./src/reddit/endpoints/post/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var a=n("./src/reddit/helpers/reportPage/index.ts");n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"t",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"v",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"w",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"l",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"x",(function(){return v})),n.d(t,"r",(function(){return S})),n.d(t,"y",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"u",(function(){return w})),n.d(t,"s",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return A})),n.d(t,"q",(function(){return k}));const d=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/approve")),method:r.ab.POST,data:{id:t}}),u=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:r.ab.POST,data:{id:t}}),l=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/fetch_title")),method:r.ab.POST,data:{url:t,api_type:"json"}}),b=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/follow_post")),method:r.ab.POST,data:{follow:n,fullname:t}}),p=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/hide")),method:r.ab.POST,data:{id:t}}),m=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unhide")),method:r.ab.POST,data:{id:t}}),f=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/lock")),method:r.ab.POST,data:{id:t}}),O=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unlock")),method:r.ab.POST,data:{id:t}}),g=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/set_original_content")),method:r.ab.POST,data:{fullname:t,should_set_oc:n}}),j=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/marknsfw")),method:r.ab.POST,data:{id:t}}),y=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unmarknsfw")),method:r.ab.POST,data:{id:t}}),_=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/sendreplies"),method:r.ab.POST,data:{id:t,state:n}}),h=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/remove")),method:r.ab.POST,data:{id:t,spam:n}}),E=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/del")),method:r.ab.POST,data:{id:t}}),I=(e,t)=>((e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/save")),method:r.ab.POST,data:{id:t}}))(e,t),v=(e,t)=>((e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unsave")),method:r.ab.POST,data:{id:t}}))(e,t),S=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/spoiler")),method:r.ab.POST,data:{id:t}}),T=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unspoiler")),method:r.ab.POST,data:{id:t}}),C=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:r.ab.POST,data:{id:t}}),w=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:r.ab.POST,data:{id:t}}),D=(e,t,n,c)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/set_subreddit_sticky"),method:r.ab.POST,data:{id:t,state:n,to_profile:c}});var P;!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint"}(P||(P={}));const x=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/report")),data:R(t)}),R=e=>{const t=Object.assign({thing_id:e.id,api_type:"json"},e.timestamp&&{live_stream_relative_report_time_sec:e.timestamp.toString()}),{reportFlowPayload:n}=e;switch(n.customText&&(t.custom_text=n.customText),n.kind){case P.Other:return Object.assign({},t,{reason:"other",other_reason:n.rule});case P.Rule:return Object.assign({},t,{reason:n.rule,rule_reason:n.rule});case P.SiteRule:default:return Object.assign({},t,{reason:"site_reason_selected",site_reason:n.rule})}},A=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/report")),data:N(t)}),N=e=>{const t=Object(a.b)(e);return Object.assign({},t,{api_type:"json",from_help_desk:!0})},k=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.ab.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/set_contest_mode/")),data:{api_type:"json",id:n,state:t}})},"./src/reddit/endpoints/publicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return h}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/crypto-js/sha256.js"),s=n.n(r),o=n("./node_modules/lodash/omit.js"),i=n.n(o),c=n("./src/config.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/constants/headers.ts"),u=n("./src/lib/makeRequest/index.ts"),l=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),b=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),p=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/models/PostCreationForm/index.ts"),f=n("./src/reddit/models/Vote/index.ts");const O=async e=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/rpan_config_v1"),method:a.ab.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v),g=async(e,t)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t),method:a.ab.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v),j=async(e,t,n)=>{const r=t||Math.random().toString(),o=parseInt(s()(r).toString(),16)%1e3;return Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/seed/").concat(o).concat(n?"?subreddit=pan2":""),method:a.ab.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v)},y=async(e,t,n)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/vote/").concat(S(n)),method:a.ab.POST,headers:i()(e.headers,[d.c,d.b])}).then(v),_=async(e,t)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/heartbeat"),method:a.ab.POST,headers:i()(e.headers(),[d.c,d.b])}).then(v),h=async(e,t,n,r)=>{const s=n.rteState;if(!s)return Promise.reject(new Error("Editor state is undefined"));const o=l.a.getRawText(s);return o?E(e,t,o).then(e=>e.ok&&e.body&&e.body.data?Object.assign({},e,{body:{parentId:t,comment:Object.assign({},Object(b.a)(e.body.data,r),{media:I(s)})},error:void 0}):e):Promise.reject(new Error("Cannot send empty message"))},E=async(e,t,n)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/comment"),method:a.ab.POST,headers:i()(e.headers,[d.c,d.b]),data:{text:n},type:"json"}).then(v),I=e=>({type:"rtjson",richtextContent:{document:l.a.toRichTextJSON(e).document},rteMode:m.h.RICH_TEXT}),v=e=>{if(e.ok)return Object.assign({},e,{error:void 0});{const t={type:404===e.status?a.D.NOT_FOUND_ERROR:a.D.SERVER_ERROR};return 429===e.status&&(t.fields=[{field:"",msg:Object(p.c)("Try again later")}]),Object.assign({},e,{error:t})}},S=e=>e===f.a.upvoted?"up":e===f.a.downvoted?"down":"unset"},"./src/reddit/endpoints/subreddit/rules.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./node_modules/lodash/mapKeys.js"),i=n.n(o),c=n("./src/graphql/operations/SubredditRules.json"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/makeGqlRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/graphql/helpers.ts"),m=n("./src/reddit/models/Rule/index.ts");n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return I}));const f=e=>{let{rules:t}=e;return{rules:t.map(e=>Object.assign({},i()(e,(e,t)=>s()(t)),{kind:"link"===e.kind?"post":e.kind}))}},O=(e,t)=>Object(u.a)(e,Object.assign({},c,{variables:{subredditName:t}})).then(e=>(e.ok&&e.body&&(e.body=(e=>{return{rules:(e.data.subreddit&&e.data.subreddit.rules||[]).map(e=>({kind:m.b[e.kind],description:e.content.markdown,descriptionHtml:e.content.markdown,descriptionRichText:e.content.richtext,shortName:e.name,violationReason:e.violationReason||"",createdUtc:Object(p.j)(e.createdAt,p.a.Millis),priority:e.priority}))}})(e.body)),e)),g=(e,t)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about/rules.json"),method:a.ab.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=f(e.body)),e)),j=e=>e.ok?(e.body=Object(m.g)(JSON.parse(e.body.json.data.rules)),e):e.body,y=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/add_subreddit_rule"),method:a.ab.POST,data:{r:t,short_name:n.rule,kind:n.kind===m.a.post?"link":n.kind,violation_reason:n.reason,description:n.description,api_type:"json",raw_json:1}}).then(e=>j(e)),_=async(e,t,n,r)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/update_subreddit_rule"),method:a.ab.POST,data:{r:t,short_name:n.rule,kind:n.kind===m.a.post?"link":n.kind,violation_reason:n.reason,description:n.description,old_short_name:r,api_type:"json",raw_json:1}}).then(e=>j(e)),h=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/remove_subreddit_rule"),method:a.ab.POST,data:{r:t,short_name:n,api_type:"json",raw_json:1}}).then(e=>j(e)),E=e=>e.map(e=>encodeURIComponent(e)).join(),I=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/reorder_subreddit_rules"),method:a.ab.POST,data:{r:t,new_rule_order:E(n),api_type:"json",raw_json:1}}).then(e=>j(e))},"./src/reddit/endpoints/subreddit/settings.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return g}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=n("./src/reddit/constants/headers.ts");const a=(e,t)=>Object(s.b)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/submit_validations"),method:r.ab.GET}),d=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/submit_validations"),method:r.ab.PATCH,type:"json",data:n}),u=(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/delete_sr_").concat(n),data:{raw_json:1}}),l=(e,t)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.ab.GET,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/about/edit.json"),data:{raw_json:1}}).then(e=>e.ok?Object.assign({},e,{body:Object.assign({},m(e.body.data))}):e),b=(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.ab.PATCH,endpoint:Object(i.a)("".concat(e.apiUrl,"/api/v1/subreddit/update_settings")),type:"json",data:Object.assign({},f(n,g),{sr:t})}),p=(e,t,n)=>{const i=Object.assign({},O(n),{sr:t});return Object(s.b)(Object(o.a)(e,[c.a]),{method:r.ab.POST,endpoint:"".concat(e.apiUrl,"/api/site_admin"),data:i})},m=e=>({allowDiscovery:e.allow_discovery,allowImages:e.allow_images,allowPostCrossposts:e.allow_post_crossposts,collapseDeletedComments:e.collapse_deleted_comments,commentScoreHideMins:e.comment_score_hide_mins,contentOptions:e.content_options,contentVisible:e.default_set,crowdControlMode:e.crowd_control_mode,description:e.description,disableContributorRequests:e.disable_contributor_requests,domain:e.domain,excludeBannedModqueue:e.exclude_banned_modqueue,headerHoverText:e.header_hover_text,hideAds:e.hide_ads,keyColor:e.key_color,language:e.language,over18:e.over_18,publicDescription:e.public_description,publicTraffic:e.public_traffic,restrictCommenting:e.restrict_commenting,restrictPosting:e.restrict_posting,showMedia:e.show_media,showMediaPreview:e.show_media_preview,spamComments:e.spam_comments,spamLinks:e.spam_links,spamSelfposts:e.spam_selfposts,spoilersEnabled:e.spoilers_enabled,submitLinkLabel:e.submit_link_label,submitText:e.submit_text,submitTextLabel:e.submit_text_label,subredditId:e.subreddit_id,subredditType:e.subreddit_type,suggestedCommentSort:e.suggested_comment_sort,title:e.title,wikiEditAge:e.wiki_edit_age,wikiEditKarma:e.wiki_edit_karma,wikimode:e.wikimode}),f=(e,t)=>{const n={};for(const r in e)n[t[r]]=e[r];return n},O=e=>({allow_post_crossposts:e.allowPostCrossposts,allow_images:e.allowImages,allow_discovery:e.allowDiscovery,allow_top:e.contentVisible,api_type:"json",collapse_deleted_comments:e.collapseDeletedComments,comment_score_hide_mins:e.commentScoreHideMins,crowd_control_mode:e.crowdControlMode,disable_contributor_requests:e.disableContributorRequests,description:e.description,domain:e.domain,exclude_banned_modqueue:e.excludeBannedModqueue,"header-title":e.headerHoverText,hide_ads:e.hideAds,key_color:e.keyColor,lang:e.language,link_type:e.contentOptions,over_18:e.over18,public_description:e.publicDescription,public_traffic:e.publicTraffic,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,show_media:e.showMedia,show_media_preview:e.showMediaPreview,spam_comments:e.spamComments,spam_links:e.spamLinks,spam_selfposts:e.spamSelfposts,spoilers_enabled:e.spoilersEnabled,sr:e.subredditId,submit_link_label:e.submitLinkLabel,submit_text:e.submitText,submit_text_label:e.submitTextLabel,suggested_comment_sort:e.suggestedCommentSort,title:e.title,type:e.subredditType,wiki_edit_age:e.wikiEditAge,wiki_edit_karma:e.wikiEditKarma,wikimode:e.wikimode}),g={allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowDiscovery:"allow_discovery",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",keyColor:"key_color",language:"lang",contentOptions:"link_type",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",suggestedCommentSort:"suggested_comment_sort",title:"title",subredditType:"type",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"}},"./src/reddit/endpoints/subreddit/similar.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/MonthsToMinutes/index.ts");!function(e){e.Factorization="factorization",e.CustomModRelevant="custom_mod_relevant"}(r||(r={}));const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.c;const n=new Set,r=e.map(e=>e.data.children).map(e=>e.reduce((e,t)=>{const r=t.data.name;return n.has(r)||(e.push(t),n.add(r)),e},[])),s=Math.max(...r.map(e=>e.length)),o=[];for(let i=0;i<s;i++)r.forEach(e=>{const t=e[i];t&&o.push(t)});return{data:{children:o.slice(0,t)}}};t.b=(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{data:{sr_fullnames:t.subredditIds.join(","),limit:t.count,variant:t.variant},endpoint:"".concat(e.apiUrl,"/api/similar_subreddits.json"),method:s.ab.GET})},"./src/reddit/endpoints/subreddit/topSubreddits.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/TopSubreddits.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/user/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./src/config.ts"),s=n("./src/graphql/operations/ExperimentVariants.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const l=(e,t)=>Object(i.b)(e,{endpoint:Object(u.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/about")),method:o.ab.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}),b=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_layout_switch"),method:o.ab.POST}),p=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_modal"),method:o.ab.POST}),m=e=>Object(c.a)(e,s,{traceRequestName:"get_experiments"})},"./src/reddit/endpoints/user/preferences.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts");n("./node_modules/core-js/modules/web.dom.iterable.js");const c={acceptPrivateMessages:"accept_pms",allowClickTracking:"allow_clicktracking",collapseReadMessages:"collapse_read_messages",defaultCommentSort:"default_comment_sort",emailDigests:"email_digests",emailUnreadMessages:"email_messages",emailUnsubscribe:"email_unsubscribe_all",geopopular:"geopopular",hasSeenCustomizeFlyout:"has_seen_customize_flyout",hideAds:"hide_ads",hideFromRobots:"hide_from_robots",hideNSFW:"no_profanity",highlightComments:"highlight_new_comments",ignoreSuggestedSort:"ignore_suggested_sort",inBeta:"beta",labelNSFW:"label_nsfw",markMessagesRead:"mark_messages_read",nightmode:"nightmode",over18:"over_18",showMessagesInInbox:"threaded_messages",showNotifications:"live_orangereds",showUsernameMentionNotifications:"monitor_mentions",privateFeeds:"private_feeds",autoplayVideo:"video_autoplay",rpanDuDismissalTime:"rpan_du_dismissal_time",showActiveCommunities:"top_karma_subreddits",showRpanDu:n("./src/reddit/constants/preferences.ts").c,showTwitter:"show_twitter",stylesEnabled:"styles_enabled",openPostInNewTab:"open_post_in_new_tab",rememberCommunitySort:"remember_community_sort",useMarkdown:"use_markdown",sort:"sort",layout:"layout",rememberCommunityLayout:"remember_community_layout",topContentDismissalTime:"top_content_dismissal_time",topContentTimesDismissed:"top_content_times_dismissed"};var a=e=>{const t={};return Object.keys(e).map(n=>{t[c[n]]=e[n]}),t};const d={isContributorRequestTimestamp:"is_contributor_request_timestamp",sort:"sort",stylesEnabled:"styles_enabled",layout:"layout"};var u=e=>{const t={};return Object.keys(e).map(n=>{t[d[n]]=e[n]}),t},l=n("./src/reddit/constants/headers.ts");n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return y}));const b=e=>Object(o.b)(Object(i.a)(e,[l.a]),{method:s.ab.PATCH,endpoint:"".concat(e.apiUrl,"/api/v1/me/prefs"),type:"json",data:{over_18:"true"}}),p=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.ab.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{video_autoplay:e}}),m=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.ab.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{nightmode:e}}),f=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.ab.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{geopopular:e}}),O=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.ab.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:a(e)}),g=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.ab.POST,endpoint:"".concat(t.apiUrl,"/api/quarantine_optin"),data:{sr_name:e,api_type:"json",accept:!0}}),j=(e,t)=>Object(o.b)(t,{method:s.ab.POST,endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"account",preferences:a(e)}}),y=(e,t,n)=>Object(o.b)(n,{method:s.ab.POST,endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"subreddit",subreddit_id:e,preferences:u(t)}})},"./src/reddit/featureFlags/communityTopics.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/User/index.ts"),s=n("./src/reddit/selectors/user.ts");const o=()=>!0,i=()=>!0,c=new Set(["0perspective","coachzzz","flash_55","mikapp"]),a=e=>{if(!e.user.account)return!1;const t=Object(r.f)(e.user.account).toLowerCase();return Object(s.G)(e)&&c.has(t)}},"./src/reddit/featureFlags/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/lodash/isNil.js"),s=n.n(r),o=n("./node_modules/lodash/mapValues.js"),i=n.n(o),c=n("./src/lib/getParsedUserAgent/index.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/helpers/chooseVariant/index.ts");var l=n("./src/reddit/featureFlags/utils.ts"),b=n("./src/reddit/featureFlags/communityTopics.ts"),p=n("./src/reddit/featureFlags/layers.ts"),m=n("./src/reddit/selectors/platform.ts");const f=new Set(["redesign","legaladvice","askwomen","exmormon","bestoflegaladvice","relationships","makeupaddiction","rupaulsdragrace","politicalhumor","amitheasshole","christianity","askwomenadvice","mariners","analog","futurology","writingprompts","blackpeopletwitter","ffxiv","dogswithjobs","gaming","science","politics","games"]),O=new Set(["kyletesting","uzitest","testingtesting127","kpkrunal","paleo","sansawinsthethrone","minneapolis","twincities","wizardsunite","pixar","projectrunway","makeup101","vintagefashion","disneyworld","ennnnnnnnnnnnbbbbbby","itzy","justnotalk","eceprofessionals","youngadults","phoenixsc","ttc30","freefolknews","fromis","blancpain","durangowildlands","thebakery","rslash_yt","pdx1","skylandersroh","lifeafter","traandwagon","smg4","bittboy","epicgamespc","pepperlovers","whatssnoo"]);var g=n("./src/reddit/featureFlags/stewardReports.ts"),j=n("./src/reddit/featureFlags/subredditPoints.ts");const y=new Set(["askaliberal","asktransgender","askwomen","bisexual","blackladies","exchristian","exmormon","gendercynical","girlgamers","neoliberal","nothowgirlswork","progresspics","subredditdrama","teenagers","thegirlsurvivalguide","thequickbrowncorgi","traaaaaaannnnnnnnnns","transpositive","trollxchromosomes","twoxchromosomes"]);n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return w}));const _={introModal:Object(l.e)(l.h),markdownMode:l.h,modQueue:Object(l.f)(l.h,l.i),spBadges:j.b,spCommunityTipJar:j.c,spEmotes:j.d,spFavoriteCreators:j.e,spGiphy:j.f,spGovPolls:j.g,spHarberger:j.h,spLeaderboard:j.i,spLoadtest:j.j,spPoints:j.k,spPolls:j.l,spPremium:j.m,spPremiumSubscriptions:j.n,spPremiumUpsells:j.o,spPublicPoints:j.p,spSpinoffs:j.q,spSupport:j.r,spTopTippers:j.s,communityTopics:b.b,adminCommunityTopics:b.a,communityTopicsInCreation:b.c,events:Object(l.f)(Object(l.c)("event_posts"),l.h),collections:Object(l.f)(Object(l.c)("collections"),l.h),rteVideoPoster:l.h,userSeenSubredditChatFtux:a.bb,userInChat:a.B,userInSubredditChat:a.E,userInChatUserSettings:a.C,devAndStagingWatermark:l.h,fpsMeter:l.l,rabbitHole:l.l,measureScrollFPS:l.i,showVerboseErrors:Object(l.f)(l.h,l.i),stewardReports:g.b,uappBanner:l.l,canProxyGild:Object(l.f)(Object(l.c)("can_proxy_gild"),l.h),experiments:Object(l.a)(l.j,Object(l.e)(l.g)),enableGraphQl:l.j,importExportThemes:l.i,flairRestrictions:l.m,spezModal:Object(l.f)(l.h,Object(l.a)(l.n,Object(l.b)("US"))),superbOwl:l.k,enableShadowMode:Object(l.d)(0),pushNotificationsBrowserSupported:e=>{const t=navigator.userAgent,n=Object(c.a)(t).browser.version;if(!n)return!1;let r;try{r=n.split(/[^\d]/)[0]}catch(s){return!1}return!!(Object(c.b)(t)&&parseInt(r)>=50&&Object(c.c)(t))||(!!(Object(c.d)(t)&&parseInt(r)>52&&Object(c.c)(t))||!!(Object(c.f)(t)&&parseInt(r)>=27&&Object(c.c)(t)))},enableCrowdControlMode:e=>{const t=Object(m.e)(e);return!!t&&f.has(t.toLowerCase())},enableToxicityWarning:e=>{const t=Object(m.e)(e);return!!t&&y.has(t.toLowerCase())},customFeeds:l.m,snoovatar30:l.h,isEmailPermissionRequired:Object(l.c)("is_email_permission_required"),focusedVerticalsExperiment:l.m,subredditInlineEditing:l.m,modToMemberShare:e=>{const t=Object(m.e)(e);return!!t&&O.has(t.toLowerCase())},layersEmbed:p.b,layersEmbedQuickLink:p.c,useGraphQLInFrontpagePaginated:e=>{return Object(u.b)(e,{experimentEligibilitySelector:u.a,experimentName:d.p})===d.r.GqlHomeFeedPaginated},__requiredDoNotRemove:l.l},h=i()(_,(e,t)=>n=>{const r=n.featureFlags.overrides[t];return s()(r)?e(n):r}),E=Object.keys(_),I=e=>e.filter(e=>"__requiredDoNotRemove"!==e),v=/^feature_(.*)$/i,S=e=>{const t=e.match(v);if(null!==t)return t[1]},T="FEATURES__FEATURE_SET",C="FEATURES__FEATURE_TOGGLED",w=e=>{let{featureName:t}=e;return(e,n)=>{const r=(0,h[t])(n());e((e=>{let{featureName:t,currentValue:n}=e;return{type:C,payload:{featureName:t,currentValue:n}}})({featureName:t,currentValue:r}))}}},"./src/reddit/featureFlags/layers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts");const s=new Set(["layer","isslayerstest"]);const o=e=>{const t=Object(r.e)(e);return!!t&&a(t.toLowerCase())},i=e=>o(e)&&!1,c=e=>o(e)&&!0,a=e=>s.has(e.toLowerCase()),d=()=>!1},"./src/reddit/featureFlags/profileCollections.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/User/index.ts");const s=new Set(["0perspective","almondparfitt","almondparfitt","avocadoast","chtorrr","coachzzz","crowd__pleaser","dadintech","flash_55","igabeup","kalluraya","kp-krunal","kpkrunal","lakelly000","sodypop","vlkoti","wokata","wting"]),o=e=>{if(!e.user.account)return!1;const t=Object(r.f)(e.user.account).toLowerCase();return s.has(t)}},"./src/reddit/featureFlags/stewardReports.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts"),s=n("./src/reddit/featureFlags/utils.ts");const o=new Set(["beautyguruchatter","dodgers","fantasy","natureismetal","nomansskythegame","nyc","parenting","rarepuppers","seattlewa","stardewvalley","stewards_testing"]),i=Object(s.c)("steward_ui"),c=(e,t)=>{let{subredditName:n}=t;return!!n&&o.has(n.toLowerCase())&&i(e)},a=e=>{const t=Object(r.e)(e);return!!t&&c(e,{subredditName:t})}},"./src/reddit/featureFlags/subredditPoints.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return R})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return N})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return L})),n.d(t,"p",(function(){return U})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return F})),n.d(t,"s",(function(){return B}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts");const s=new Set(["daonuts","ethtrader","karma_chameleon","pointsrtesty"]),o=new Set(["funkygoose"]),i=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),c=new Set(["funkygoose"]),a=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),d=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar"]),u=new Set(["daonuts","ethtrader","funkygoose","stellar"]),l=new Set(["daonuts","ethtrader","funkygoose","stellar"]),b=new Set([]),p=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar"]),m=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar"]),f=new Set(["funkygoose","badgesroyaletest","fortnitebr"]),O=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),g=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),j=new Set(["daonuts","ethtrader","funkygoose","mountainbiking","stellar"]),y=new Set(["funkygoose"]),_=new Set(["badgesroyaletest","fortnitebr","funkygoose","shittymorph"]),h=new Set(["funkygoose"]),E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const n=Object(r.e)(e);if(n){for(const e of t)if(!e.has(n.toLowerCase()))return!1;return!0}return!1}},I=E(p,s),v=E(_,o),S=E(i),T=E(_,c),C=E(a),w=E(p,m,d),D=E(p,u),P=E(p,l),x=E(b),R=E(p),A=E(p,m),N=E(_,f),k=E(_,O),L=E(_,g),U=E(p,j),M=E(p,y),F=E(_),B=E(_,h)},"./src/reddit/featureFlags/utils.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/crypto-js/sha256.js"),s=n.n(r),o=n("./src/reddit/constants/spezModal.ts");var i=n("./src/reddit/selectors/runTimeEnvVars.ts"),c=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"k",(function(){return E}));const a=e=>t=>!e(t),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>t(e))},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.every(t=>t(e))},l=e=>t=>((e,t)=>{let{user:n}=e;const r=n&&n.features;return!(!r||!r[t])})(t,e),b=e=>t=>((e,t)=>{let{user:n}=e;if(0===t)return!1;const r=n&&n.loid.loid;return!!r&&parseInt(s()(r).toString(),16)%1e3<10*t})(t,e),p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>t===e.meta.country)},m=(e,t)=>n=>{const r=n.meta.pageloadServerTime;return r>e&&r<t},f=e=>!0,O=e=>!1,g=e=>!1,j=c.G,y=d(g,i.c),_=e=>!!e.user.session,h=m(o.d,o.e),E=m(15492132e5,15492561e5)},"./src/reddit/helpers/adCount/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),o=n("./src/reddit/selectors/platform.ts");const i=(e,t,n)=>[e,t,n].join("/"),c=(e,t)=>{switch(t){case s.a.SUBREDDIT:case s.a.COMMENTS_OVERLAY:case s.a.COMMENTS:{const t=Object(o.i)(e);return[i(r.c.ABOVE_THE_FOLD,t,0),i(r.c.BELOW_THE_FOLD,t,1)]}case s.a.FRONTPAGE:return[i(r.c.ABOVE_THE_FOLD,!1,0),i(r.c.BELOW_THE_FOLD,!1,1)];case s.a.MULTIREDDIT:case s.a.SEARCH_RESULTS:return[i(r.c.BELOW_THE_FOLD,!1,0)];default:return[i(r.c.ABOVE_THE_FOLD,!1,0),i(r.c.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/addRedesignIdentifier/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/config.ts"),s=n("./node_modules/url/url.js"),o=n.n(s),i=n("./src/lib/addQueryParams/index.ts");function c(e){const{protocol:t,host:n}=o.a.parse(e),s="".concat(t,"//").concat(n)===r.a.oauthUrl?r.a.telemetry.appName.redesignR2:r.a.telemetry.appName.redesign,c={redditWebClient:s,app:"".concat(s,"-").concat("client","-").concat("production")};return Object(i.a)(e,c)}},"./src/reddit/helpers/canonicalUrls.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return _}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./node_modules/url/url.js"),o=n.n(s),i=n("./src/lib/addQueryParams/index.ts"),c=n("./src/lib/isAdHocMultireddit/index.ts"),a=n("./src/lib/isFakeSubreddit/index.ts"),d=n("./src/reddit/actions/otherDiscussions/constants.ts"),u=n("./src/reddit/models/Comment/index.ts"),l=n("./src/reddit/models/Post/index.ts"),b=(n("./src/reddit/selectors/meta.ts"),n("./src/reddit/selectors/multireddit.ts")),p=n("./src/reddit/selectors/subreddit.ts");const m=(e,t,n,s)=>{const o=Object(i.a)(n,s),c=e.platform&&e.platform.currentPage&&e.platform.currentPage.locationState||void 0;t(Object(r.c)(o,c))},f=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{multiredditName:i,username:c}=r,a=Object(b.g)(e,{multiredditName:i,username:c});if(!a)return;const d=o===a,u=o.endsWith("/");if(d&&u)return;const l=u?o:"".concat(o,"/"),p=d?l:"".concat(a).concat(l.substr(a.length));m(e,t,p,s)},O=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{subredditName:i}=r;if(i){const n="/user/".concat(i,"/"),r=o.endsWith("/"),c=Object(p.a)(e,{profileName:i});if(!c)return;const a=n===c;if(a&&r)return;const d=r?o:"".concat(o,"/"),u=a?d:d.replace(n,c);m(e,t,u,s)}},g=(e,t)=>{let n;if(Object(a.a)(t)&&Object(c.a)(t)){const{subredditIds:r}=Object(b.a)(e,{listingName:t});if(!r)return;const s=Object(p.Z)(e,{subredditIds:r}).map(e=>e.name).sort().join("+");n="/r/".concat(s,"/")}return n},j=(e,t,n)=>{const{params:r,queryParams:s,url:i}=n,{partialCommentId:c,partialPostId:a}=r,b=c?Object(u.e)(c):"",p=a?Object(l.l)(a):"";if(b){const n=e.comments.models[b];if(!n)return;const r=o.a.parse(n.permalink).pathname;r&&r!==i&&m(e,t,r,s)}else if(p){const r=e.posts.models[p];if(!r)return;const c=o.a.parse(r.permalink).pathname,a=Object(d.d)(n.path),u=c&&a?Object(d.e)(c):c;c&&c!==i&&!a?m(e,t,c,s):u&&u!==Object(d.e)(i)&&a&&m(e,t,u,s)}},y=e=>e.replace(/\/$/,""),_=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{subredditName:i}=r;if(i){const n="/r/".concat(i,"/"),r=o.endsWith("/");let d=o;if(Object(a.a)(i)&&Object(c.a)(i)){const t=g(e,i);t&&(d=d.replace(y(n),y(t)))}else{const t=Object(p.c)(e,{subredditName:i});if(!t)return;const s=(Object(a.a)(i)?n.toLowerCase():n)===t;if(s&&r)return;const c=r?o:"".concat(o,"/");d=s?c:c.replace(y(n),y(t))}m(e,t,d,s)}}},"./src/reddit/helpers/categoryPickerWidget/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/reddit/helpers/name/index.ts");const s=(e,t)=>t.map(t=>{const n=Object(r.f)(t.name),s=n.split(" & ").join("_and_");return Object.assign({},t,{name:n,path:t.path||"".concat(e).concat(s,"/")})}),o=e=>Object(r.f)(e).split("_and_").join(" & ")},"./src/reddit/helpers/chooseVariant/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/env/index.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/featureThrottling/store/index.ts"),c=n("./src/reddit/selectors/telemetry.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./src/telemetry/index.ts"),u=n("./src/telemetry/models/Event.ts");const l=Object(r.a)(e=>e.user.experiments.models,(e,t)=>t.experimentName,(e,t)=>e.find(e=>{let{name:n}=e;return n.toLowerCase()===t.toLowerCase()})),b=(e,t)=>{let{experimentName:n}=t;const r=Object(a.i)(e),i=!!r&&r.isEmployee;return Object(s.a)()||i||o.G.has(n.toLowerCase())?e.user.experiments.overrides[n.toLowerCase()]:void 0},p=()=>!0,m=(e,t,n)=>{Object(d.a)(Object.assign({source:u.d.Experiment,action:u.c.Expose,noun:"user_id",actionInfo:void 0,app:c.app(),experiment:t,referrer:void 0,session:void 0,user:e},n))},f={},O=[o.c,o.d],g=Object(r.a)(l,b,e=>c.user(e),(e,t)=>t.expEventOverride,(e,t)=>t.customPayloadMaker&&t.customPayloadMaker(e),(e,t)=>{if(!t.experimentEligibilitySelector(e))return!1;if(t.isThrottled&&i.a.isFeatureThrottled(t.experimentName))return!1;if(t.throttledVariants){const n=((e,t)=>{const n=l(e,t),r=b(e,t);return void 0!==r?r:n&&n.name||void 0})(e,t),r=n&&t.throttledVariants[n];if(r&&i.a.isFeatureThrottled(r))return!1}return!0},(e,t)=>t.experimentName,(function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;if(!o)return;if(!e)return t&&!1!==r&&f[i]!==t&&!O.includes(i)&&(m(n,{id:-1,isOverride:!0,name:i,variant:t,version:"-1"},s),f[i]=t),t;const c=e.name,{id:a}=e,d=void 0!==t,u=d?t:e.variant;if(u){const t=-1===a,o=f[c]===u;t||o||!1===r||O.includes(i)||(m(n,Object.assign({},e,{isOverride:d,variant:u}),s),f[c]=u)}return d?t:u})),j=(e,t)=>{const n=c.user(e),r=l(e,t),s=b(e,t),o=void 0!==s;if(r){const e=o?s:r.variant;e&&m(n,Object.assign({},r,{isOverride:o,variant:e}),{})}}},"./src/reddit/helpers/commentList/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/constants/comments.ts"),s=n("./src/reddit/selectors/comments.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts");n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));const c=(e,t)=>t().comments.models[e],a=e=>{switch(e.commentLink.type){case r.a.Comment:return e.commentsDict[e.commentLink.id];case r.a.MoreComments:return e.moreCommentsDict[e.commentLink.id];case r.a.ContinueThread:return e.continueThreadDict[e.commentLink.id]}},d=(e,t)=>e.type===r.a.MoreComments?t[e.id].numComments:1,u=(e,t,n,r)=>{let o=Object(s.o)(r,{commentLink:t,commentsPageKey:e}),i=t;for(;o&&o.depth>n&&o.prev&&(i=o.prev,(o=Object(s.o)(r,{commentLink:i,commentsPageKey:e}))&&!(o.depth<=n)););return i.id},l=(e,t,n)=>{const{commentLists:r,comments:s}=e,{head:c}=r[t];if(c)return Object.keys(s).filter(e=>{const t=s[e];return!(!t.isStickied||!((e,t)=>{const n=Object(i.b)(e,{experimentEligibilitySelector:i.a,experimentName:o.e,expEventOverride:t});return!!(Object(o.Ub)(n)?void 0:n)})(n))||(e=>!1!==e.collapsed)(t)})}},"./src/reddit/helpers/correlationIdTracker.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return d}));var r,s=n("./node_modules/uuid/v4.js"),o=n.n(s);!function(e){e.AwardCreationFlow="AwardCreationFlow",e.AwardDeletionFlow="AwardDeletionFlow",e.Explore="Explore",e.GildingFlow="GildingFlow",e.GiftPremiumFlow="GiftPremiumFlow",e.GoldPayment="GoldPayment",e.PostComposer="PostComposer",e.PremiumSettings="PremiumSettings",e.SearchResults="SearchResults"}(r||(r={}));const i={},c=e=>i[e],a=e=>i[e]=o()(),d=e=>i[e]=void 0},"./src/reddit/helpers/dom/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return f}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/lodash/map.js"),s=n.n(r),o=n("./src/lib/FocusTrap/index.ts");const i=e=>"INPUT"===e.tagName.toUpperCase()||"TEXTAREA"===e.tagName.toUpperCase()||"DIV"===e.tagName.toUpperCase()&&e.isContentEditable,c=e=>{let t=e;do{if(i(t))return!0}while(t=t.parentElement);return!1},a=()=>{const e=document.getSelection();return!!e&&(e.rangeCount>0&&e.getRangeAt(0).toString().length>0)},d=()=>a()?(()=>{const e=document.getSelection();if(!e)return[];const t=e.getRangeAt(0).cloneContents().childNodes;return s()(t,e=>e.textContent||"")})():null,u=(e,t)=>{const n=document.createRange();return n.selectNode(t),e.compareBoundaryPoints(Range.END_TO_START,n)<0&&e.compareBoundaryPoints(Range.START_TO_END,n)>0},l=e=>{const t=window.getSelection();if(1!==t.rangeCount)return;const n=t.getRangeAt(0);if(!u(n,e))return;const{startContainer:r,startOffset:s,endContainer:o,endOffset:i}=n,c=document.createRange();c.selectNode(e);let a=!0;if(-1===c.compareBoundaryPoints(Range.START_TO_START,n)&&(c.setStart(r,s),a=!1),1===c.compareBoundaryPoints(Range.END_TO_END,n)&&(c.setEnd(o,i),a=!1),a)return[e];const d=document.createElement("div");return d.appendChild(c.cloneContents()),[...d.childNodes]},b=(e,t,n)=>{let r=e;for(;r&&(!n||!n(r));){if(r&&t(r))return r;r=r.parentElement}},p=e=>e&&e.parentElement&&b(e.parentElement,e=>"static"!==window.getComputedStyle(e).getPropertyValue("position")),m=e=>{if(!e||e.hidden)return!0;if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility)return!0}return!!e.parentElement&&m(e.parentElement)},f=e=>{e.querySelectorAll(o.a).forEach(e=>{e.tabIndex=-1})}},"./src/reddit/helpers/economics/sortBadges.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(e,t){if(e.placement&&!t.placement)return-1;if(t.placement&&!e.placement)return 1;if(e.position&&!t.position)return-1;if(t.position&&!e.position)return 1;let n=0;return e.placement&&t.placement&&(n=e.placement.localeCompare(t.placement)),0===n&&e.position&&t.position&&(n=e.position-t.position),0===n&&(n=e.title.localeCompare(t.title)),n}function s(e){return[...e].sort(r)}},"./src/reddit/helpers/favoriteCreators/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/constants/index.ts"),n("./src/config.ts"),n("./src/reddit/endpoints/governance/requester.ts");n("./src/reddit/endpoints/economics/tips.ts");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));const r={creators:{},lastFetch:0,posts:[],tippablePosts:{}},s=e=>"favorite-creators-".concat(e),o=e=>{try{const t=localStorage.getItem(s(e));if(t)return Object.assign({},r,JSON.parse(t))}catch(t){}return r},i=(e,t)=>{try{return localStorage.setItem(s(e),JSON.stringify(t)),!0}catch(n){}return!1},c=e=>{const t=o(e).creators;return Object.keys(t).sort((e,n)=>t[e]-t[n]).slice(0,100)},a=(e,t)=>{const n=o(e);if(Object.keys(n.creators).length>=200&&!n.creators[t]){const t=c(e),r=t[t.length-1];delete n.creators[r]}return n.creators[t]=(n.creators[t]||0)+1,i(e,n)},d=(e,t)=>{const n=o(e);return delete n.creators[t],i(e,n)}},"./src/reddit/helpers/featureThrottling/store/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/uuid/v4.js"),s=n.n(r),o=n("./src/reddit/constants/featureThrottling.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./node_modules/lodash/uniq.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/reddit/models/FeatureThrottling/index.ts");const l=[],b=(e,t,n)=>{switch(e.type){case u.b.TimesPerPeriod:{const n=Date.now()-e.period;return t.filter(e=>e.when>=n).length<e.times}case u.b.TimesPerSession:return t.filter(e=>e.sessionId===n).length<e.times;case u.b.TimesTotal:return t.length<e.times;case u.b.NthSession:return a()([...t.map(e=>e.sessionId),n]).length%e.nth==0;case u.b.Combined:return(e.op===u.a.And?Array.prototype.every:Array.prototype.some).call(e.configs,e=>b(e,t,n));default:return!1}},p=Object(d.a)((e,t)=>t.name,(e,t)=>t.sessionId,(e,t)=>o.a[t.name],(e,t)=>e[t.name]||l,(e,t,n,r)=>{if(!n)return!1;try{return b(n,r,t)}catch(s){return!1}}),m=(e,t)=>!p(e,t);const f=new class{constructor(){this.isReady=!1,this.listeners=new Set,this.sessionId="",this.throttlingData={},this.subscribe=e=>{this.listeners.has(e)||(this.listeners.add(e),this.isReady&&e(this.throttlingData))},this.unsubscribe=e=>{this.listeners.delete(e)},this.persistToLSAndNotify=e=>{Object(i.L)(this.throttlingData),this.notifyAll(e)},this.isFeatureThrottled=e=>!!this.isReady&&m(this.throttlingData,{name:e,sessionId:this.sessionId}),this.throttleFeature=e=>{o.a[e]&&!this.isFeatureThrottled(e)&&(this.throttlingData=Object.assign({},this.throttlingData,{[e]:[...this.throttlingData[e]||[],{sessionId:this.sessionId,when:Date.now()}]}),this.persistToLSAndNotify(e))},this.resetFeature=e=>{o.a[e]&&(this.throttlingData=Object.assign({},this.throttlingData,{[e]:[]}),this.persistToLSAndNotify(e))}}initialize(){const e=Object(i.j)();if(!e)return;const t=Object.keys(o.a);let n=!1;Object.keys(e).forEach(r=>{t.includes(r)||(delete e[r],n=!0)}),n&&Object(i.L)(e),this.throttlingData=e,this.sessionId=s()(),this.isReady=!0,this.notifyAll()}notifyAll(e){this.isReady&&this.listeners.forEach(t=>{t(this.throttlingData,e)})}};t.a=f},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/findLastIndex.js"),s=n.n(r),o=n("./src/reddit/selectors/telemetry.ts"),i=n("./src/telemetry/index.ts"),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=(e,t,n)=>{var{postIds:r,posts:a}=n,d=c(n,["postIds","posts"]);const u=e.listings.postOrder.ids[t],l=(r||[]).filter(e=>!u||!u.includes(e)),b=u.map(t=>e.posts.models[t]),p=b.length-(s()(b,e=>e.isSponsored)+1),m=l.map(e=>a[e]);let f;const O=[];for(let s=0;s<m.length;s++){const n=m[s];n.isSponsored&&(null==f&&p+s>=3||s-f>=3)?(f=s,O.push(n.id)):n.isSponsored?n.isSponsored&&Object(i.a)(Object.assign({source:"feed",action:"remove",noun:"ad"},o.defaults(e),{listing:o.listing(e,t)})):O.push(n.id)}return Object.assign({},d,{posts:a,postIds:O})}},"./src/reddit/helpers/flair.ts":function(e,t,n){"use strict";n.d(t,"p",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"r",(function(){return P})),n.d(t,"k",(function(){return x})),n.d(t,"m",(function(){return R})),n.d(t,"j",(function(){return A})),n.d(t,"e",(function(){return N}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./src/lib/addQueryParams/index.ts"),i=n("./src/lib/formatEmojiName/index.ts"),c=n("./src/reddit/constants/colors.ts"),a=n("./src/reddit/constants/flair.ts"),d=n("./src/reddit/i18n/utils.ts"),u=n("./src/reddit/models/Flair/index.ts");const l=e=>e===u.f.Text||e===u.f.Richtext||e===u.f.Image||e===u.f.Meta,b=e=>e.e===u.c.Emoji?Object(i.b)(e.a):e.t,p=e=>e.type===u.f.Richtext?e.richtext.map(b).join(""):e.text||"",m=e=>p(e).length,f=(e,t)=>p(e)===p(t),O=e=>!e.allowableContent||e.allowableContent===u.a.Emoji||e.allowableContent===u.a.All,g=e=>!e.allowableContent||e.allowableContent===u.a.Text||e.allowableContent===u.a.All,j=e=>!!e.find(e=>e.e===u.c.Text),y=e=>e.type===u.f.Richtext?j(e.richtext):!!e.text,_=e=>e.type===u.f.Richtext?e.richtext.reduce((e,t)=>t.e===u.c.Emoji?e+1:e,0):0,h=e=>({e:u.c.Text,t:e}),E=(e,t)=>({e:u.c.Emoji,a:e,u:t}),I=function(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.type===u.f.Richtext?{backgroundColor:e.backgroundColor,cssClass:e.cssClass,richtext:e.richtext,templateId:e.id,textColor:e.textColor,type:e.type}:{backgroundColor:e.backgroundColor,cssClass:e.cssClass,templateId:e.id,text:e.text,textColor:e.textColor,type:e.type},n&&(t=w({flair:t,template:e})),t},v=()=>{return{backgroundColor:c.a.defaultFlair,text:"",textColor:u.e.Dark,type:u.f.Text}},S=e=>{let{maxEmojis:t}=e;if("string"==typeof t){const e=parseInt(t,10);return Number.isInteger(e)?e:a.d}return"number"==typeof t?t:a.d},T=(e,t)=>{if(t>=e.length)return e;let n=e,r=-1,s=0,o=-1;for(let i=0;i<e.length;i++)if(e[i].e===u.c.Emoji)if(++s===t)o=i;else if(s>t){r=o+1;break}if(r>=0){n=e.slice(0,r);let t="";for(let n=r;n<e.length;n++)t+=b(e[n]);n.push(h(t))}return n},C=(e,t)=>{const n=e.type===u.f.Richtext?e.richtext:[],r=p(e);return Object.assign({},t,{type:e.type,richtext:n,text:r})},w=e=>{const{flair:t,template:n,ignoreTextAllowance:r=!1}=e,s=!!r||g(n);let o=t;if(t.type===u.f.Richtext){let e=t.richtext;e=O(n)?T(e,S(n)):T(e,0),!s&&j(e)&&(e=e.filter(e=>e.e!==u.c.Text)),e!==t.richtext&&(o=Object.assign({},t,{richtext:e}))}else t.text&&!s&&(o=Object.assign({},t,{text:""}));return o},D=()=>!0,P=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;const{emojis:r,snoomojis:o}=t,c=e.type===u.f.Richtext?e.richtext:[h(e.text)],a=[];return c.forEach(e=>{if(e.e===u.c.Text){e.t.split(/(:[-\w]+:)/).forEach(e=>{if(!e)return;if(i.a.test(e)){const t=e,s=t.slice(1,-1),i=r[s]||o[s];if(i&&n(i)){const e=E(t,i.url);return void a.push(e)}}const t=a[a.length-1];t&&t.e===u.c.Text?t.t+=e:a.push(h(e))})}else a.push(e)}),s()(a,c)?e:Object.assign({},e,{type:u.f.Richtext,richtext:a})},x=e=>{const t=S(e),n=Object(d.a)("emojiCount",["emoji","emojis"],t);return e.allowableContent===u.a.Emoji?Object(d.c)("Allows up to ".concat(Object(d.b)("emojiCount",t)," ").concat(n," only")):e.allowableContent===u.a.Text?Object(d.c)("Allows text only"):Object(d.c)("Allows text and up to ".concat(Object(d.b)("emojiCount",t)," ").concat(n))},R=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=m(e),s=g(t),o=O(t);if(0===r&&!n.allowBlank)return s&&o?Object(d.c)("Error: text or emoji is required"):o?Object(d.c)("Error: emoji is required"):Object(d.c)("Error: text is required");if(r>a.g&&!n.allowOverflow)return Object(d.c)("Error: character limit exceeded");const i=S(t),c=_(e);return!s&&y(e)?Object(d.c)("Error: Only emojis allowed"):!o&&c>0?Object(d.c)("Error: Emojis aren't allowed"):c>i?Object(d.c)("Error: Exceeds ".concat(Object(d.b)("maxEmojiCount",i)," emoji limit")):void 0},A=e=>'flair_name:"'.concat(p(e),'"'),N=(e,t)=>Object(o.a)(e,{f:t})},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/app/strings/index.ts");const o=Object(s.e)("error.type.generic");t.a=e=>({type:r.D.SERVER_ERROR,fields:[{field:"",msg:o(e)}]})},"./src/reddit/helpers/getCommentsPageSort/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/extractQueryParams/index.ts"),o=n("./node_modules/lodash/fromPairs.js"),i=n.n(o),c=n("./src/reddit/constants/parameters.ts"),a=n("./src/reddit/selectors/experiments/chatPost.ts"),d=n("./src/reddit/selectors/user.ts");t.a=(e,t)=>{const{user:n}=e,o=t&&e.posts.models[t],u=o&&o.suggestedSort?o.suggestedSort:"",l=!!n&&Object(d.A)(e);let b,p=r.r,m=!1;n&&n.prefs&&(b=n.prefs.defaultCommentSort),l?p=b:u?p=u:b&&(p=b);const f=(e=>{const t=e.platform.currentPage&&e.platform.currentPage.url;return t&&i()([...Object(s.a)(t)])||new Set([])})(e),O=c.q in f?f[c.q]:"";return(r.Rb.has(O)?O:p)===O&&(p=O),O&&(m=!0),Object(a.b)(e,{postId:t})&&(p=r.q.CHAT,m=!1),{hasSortParam:m,sortToUse:p}}},"./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r={INVALID_EMAIL:"You entered an invalid email. Please try again.",RATELIMITED:"You are doing that too much. Please try later.",WRONG_PASSWORD:"You entered an incorrect password. Please try again."},s=(e,t)=>-1!==e.indexOf(t);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong. Please try again.";const n=e&&e.body&&e.body.jquery&&e.body.jquery[14]&&e.body.jquery[14][3]&&e.body.jquery[14][3][0];return"string"!=typeof n?t:s(n,"the following emails are invalid")?r.INVALID_EMAIL:s(n,"wrong password")?r.WRONG_PASSWORD:s(n,"you are doing that too much")?r.RATELIMITED:t}},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/constants/index.ts");function s(e){return{type:r.D.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getPostFromRouteMatch/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/reddit/models/Post/index.ts"),s=n("./src/lib/constants/index.ts");t.a=(e,t)=>{if(!t){const{currentPage:n}=e.platform;if(!n)return null;t=n.routeMatch}const{name:n}=t.route.meta;if(n===s.wb.COMMENTS||n===s.wb.DUPLICATES){const{partialPostId:n}=t.match.params,s=Object(r.l)(n);return e.posts.models[s]}return null}},"./src/reddit/helpers/getRichTextContent.ts":function(e,t,n){"use strict";var r=n("./src/lib/env/index.ts"),s=n("./src/lib/raven/index.ts"),o=n("./src/reddit/helpers/isComment.ts"),i=(n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./src/reddit/models/RichTextJson/nodeMakers.ts"));n.d(t,"b",(function(){return u}));const c={document:"[Unable to render content]".split("\n").map(e=>Object(i.l)([Object(i.s)(e,null)]))};const a=(e,t)=>{const n=Object(o.a)(t.id),i="getRichTextContent: ".concat(e," (in ").concat(n?"comment":"post",")");Object(s.c)(i,{extra:{info:{id:t.id,permalink:t.permalink,media:t.media}},tags:{rtjson:"getting_content"}}),Object(r.b)()||console.log("".concat(t.id,": ").concat(i))},d=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=void 0===t?c:t,s=e.media;if(!s)return n&&a("Media object is missing",e),r;if("rtjson"!==s.type)return n&&a("Media object type is not rtjson",e),r;const o=s.richtextContent;return o?Array.isArray(o.document)?o:(n&&a("Invalid richtextContent document",e),r):(n&&a("Missing richtextContent property",e),r)},u=e=>!!d(e,null,!1);t.a=d},"./src/reddit/helpers/getS3KeyFromUrl/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),s=n.n(r);t.a=e=>{const{pathname:t=""}=s.a.parse(e);return t.startsWith("/")?t.slice(1):t}},"./src/reddit/helpers/getSubredditErrorProps/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/components/ContentGate/index.tsx");t.a=(e,t,n)=>{let s,o,i,c,a,d;return e?e.quarantinedSubreddit?(o=r.a.QuarantinedSubreddit,c=e.quarantineMessage,a=e.quarantineMessageHtml,d=e.quarantineRequiresEmail):e.privateSubreddit?(o=r.a.PrivateSubreddit,i=e.subredditDescription):e.goldSubreddit?o=r.a.GoldSubreddit:e.subredditBanned?(o=r.a.SubredditBanned,s=e.subredditBanMessage):e.subredditDoesNotExist&&(o=r.a.SubredditDoesNotExist):t&&(o=r.a.Nsfw),o&&n?{banMessage:s,contentGateType:o,subredditDescription:i,subredditName:n,quarantineMessage:c,quarantineMessageHtml:a,quarantineRequiresEmail:d}:void 0}},"./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx":function(e,t,n){"use strict";var r=n("./src/reddit/models/StructuredStyles/index.ts");const s={};t.a=e=>e.subredditOrProfile?{url:e.subredditOrProfile.communityIcon||e.subredditOrProfile.icon.url,color:Object(r.h)(e.subredditOrProfile)}:s},"./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts");t.a=e=>{const{sort:t,subredditName:n}=e,o=!n||Object(s.a)(n)?r.O:void 0;return t||o}},"./src/reddit/helpers/getSubredditUrl/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/isFakeSubreddit/index.ts");t.a=e=>e&&!Object(r.a)(e.name)?e.url:""},"./src/reddit/helpers/getTimeSortForListing/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/listingSort/index.ts");t.a=(e,t)=>{if(e)return Object(s.a)(e)?t||r.Ob:void 0}},"./src/reddit/helpers/governanceErrorText/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");function r(e){return e[0].toUpperCase()+e.slice(1)}function s(e){return"extra"in e?"string"==typeof e.extra?e.extra:Object.keys(e.extra).map(t=>e.extra[t]).map(r).join(" "):"Something wen't wrong. Please try again later."}},"./src/reddit/helpers/graphql/helpers.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/reddit/models/Gold/Award.ts");const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(n){return t}},o=e=>{switch(e){case"UP":return 1;case"DOWN":return-1;default:return 0}},i=e=>e.reduce((e,t)=>{let{award:n,total:s}=t;if(void 0!==n.icon){const t=Object(r.c)(n,s);e.push(t)}return e},[]);var c;!function(e){e[e.Seconds=3]="Seconds",e[e.Millis=0]="Millis"}(c||(c={}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Seconds;if(!e)return 0;let n=Date.parse(e);return Number.isNaN(n)&&(n=Date.parse(e.replace("+0000","Z"))),Number.isNaN(n)||n<=0?0:n-n%Math.pow(10,t)},d=e=>{const t={},n=e.split("?")[1];if(!n)return t;const r=n.split("&");for(const s of r){const[e,n]=s.split("=");t[e]=n}return t},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("string"!=typeof e||"string"!=typeof t||e.split("?")[0]!==t.split("?")[0])return!1;const r=["auto","crop",...n],s=d(e),o=d(t),i=new Set([...Object.keys(s),...Object.keys(o)]),c=[...i].filter(e=>!r.includes(e));return c.every(e=>{switch(e){case"s":return s[e]&&o[e];case"blur":const t=parseInt(s[e]),n=parseInt(o[e]);return!isNaN(t)&&!isNaN(n)&&Math.abs(t-n)<=10;default:return s[e]===o[e]}})},l=(e,t)=>e===t||u(e,t),b=()=>!0,p=(e,t)=>e&&e.toUpperCase()===t,m=(e,t)=>Math.abs(e-t)<Math.max(20,.1*e),f=window.URL,O=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{const r=new f(e),s=new f(t);for(const e of n)r.searchParams.delete(e),s.searchParams.delete(e);return r.searchParams.sort(),s.searchParams.sort(),r.toString()===s.toString()}catch(r){return!1}}},"./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Subreddit/index.ts");const s={[r.a.Image]:"images",[r.a.Link]:"links",[r.a.Spoiler]:"spoilers",[r.a.Text]:"text",[r.a.Video]:"videos"};t.a=e=>{return Object.assign({},{images:!1,links:!1,spoilers:!1,text:!1,videos:!1},e.reduce((e,t)=>(e[s[t]]=!0,e),{}))}},"./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n("./src/reddit/models/Flair/index.ts"),s=n("./src/reddit/helpers/graphql/helpers.ts");const o=e=>{switch(e){case r.h.Dark:return r.e.Dark;case r.h.Light:return r.e.Light}},i=(e,t,n,o,i)=>{const c=[];return i===r.f.Richtext?(c.push(Object.assign({type:i,richtext:Object(s.k)(o,[])||[]},e)),t&&c.push(Object.assign({type:r.f.Text,text:t},e))):c.push(Object.assign({type:i,text:n},e)),c},c=e=>{const{text:t,richtext:n}=e,{id:r,textColor:s,type:c,text:a,backgroundColor:d,cssClass:u}=e.template,l=Object.assign({backgroundColor:d||"",cssClass:u},r&&{templateId:r},s&&{textColor:o(s)});return i(l,a||"",t,n,c)},a=e=>{const{text:t,richtext:n,cssClass:r}=e,{id:s,textColor:c,type:a,text:d,backgroundColor:u,cssClass:l,richtext:b}=e.template,p=Object.assign({backgroundColor:u||"",cssClass:r||l},s&&{templateId:s},c&&{textColor:o(c)});return i(p,d||"",t||"",n||b,a)}},"./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Post/index.ts"),s=n("./src/reddit/models/Live/index.ts"),o=(e,t)=>t?{announcementUrl:t.url,buttonCta:t.callToAction,description:t.description||"",icon:s.a[t.icon]&&t.icon.toLowerCase(),id:t.id,isAnnouncement:!0,numTimesDismissable:t.maxDismissCount,title:t.title,viewerCount:0}:e?{announcementUrl:"",buttonCta:"",description:e.description||"",icon:"",id:e.id,isAnnouncement:!1,numTimesDismissable:0,title:e.title,viewerCount:e.viewerCount}:null,i=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),c=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts");t.a=e=>{let{trendingSubreddits:t=[],identity:n,home:s,featuredAnnouncement:b,featuredLiveEvent:p,recentPosts:m=[]}=e;const f=[],O=[],g={postIds:[],postInstances:{},posts:{},postFlair:{},profiles:{},subreddits:{}},j=e=>{if(g.posts[e.id])return e.id;const t=Object(c.d)(e);g.posts[t.id]=t;const{crosspostRoot:n}=e;n&&n.type===r.a.Post&&n.postInfo&&j(n.postInfo);let s=t.id;switch(e.__typename){case r.f.ProfilePost:g.profiles[e.profile.id]||(g.profiles[e.profile.id]=Object(d.a)(e.profile));break;case r.f.SubredditPost:g.subreddits[e.subreddit.id]||(g.subreddits[e.subreddit.id]=Object(u.a)(e.subreddit)),g.postFlair[e.subreddit.id]||(g.postFlair[e.subreddit.id]=Object(i.a)(e.subreddit));break;case r.f.AdPost:const n=Object(c.b)(e);if(!n){s=null;break}s=n,g.posts[n]=Object.assign({},t,{id:n,permalink:"".concat(t.permalink,"?instanceId=").concat(n)}),g.posts[t.id]||(g.posts[t.id]=Object.assign({},t,{events:[]})),g.postInstances[e.id]||(g.postInstances[e.id]=[]),g.postInstances[e.id].push(n)}return s};for(const r of t){const e=Object(u.a)(r);g.subreddits[e.id]=e,f.push(e.id)}for(const{node:r}of s.posts.edges){const e=j(r);e&&g.postIds.push(e)}for(const r of m){if(!r)continue;const e=j(r);e&&O.push(e)}const y=g.postIds.length-1,_=y>=0?g.postIds[y]:"",h=s.posts.dist;return Object.assign({},g,{account:n&&Object(l.a)(n)||null,featuredLiveThread:o(p,b)||{},preferences:n&&n.preferences&&Object(a.a)(n.preferences,n.interactions)||null},0!==f.length&&{trendingSubredditIds:f},0!==O.length&&{recentPostIds:O},{token:_},null!==h&&{dist:h})}},"./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/helpers.ts");const s=(e,t)=>!!e&&(e.verdict==="MOD_".concat(t.toUpperCase())||e.verdict==="ADMIN_".concat(t.toUpperCase())),o=e=>e&&e.length?e.map(e=>[e.reason||"",e.author&&e.author.name||""]):null,i=e=>e&&e.length?e.map(e=>[e.reason||"",e.count||0]):null;t.a=e=>{let{moderationInfo:t}=e;if(!t)return;const n=(e=>e&&e.verdictBy&&e.verdictBy.name||null)(t),c=(e=>e&&Object(r.j)(e.verdictAt)||null)(t),a=s(t,"spammed"),d=s(t,"approved"),u=s(t,"removed"),{approvedBy:l=null,approvedAtUTC:b=null,bannedBy:p=null,bannedAtUTC:m=null}=d?{approvedBy:n,approvedAtUTC:c}:{bannedBy:n,bannedAtUTC:c};return Object.assign({isSpam:a,isApproved:d,isRemoved:u,ignoreReports:t.isReportingIgnored,numReports:t.reportCount||null,modNote:t.modNote,approvedBy:l,approvedAtUTC:b,bannedBy:p,bannedAtUTC:m},u&&{modReasonBy:n},{modReports:o(t.modReports)||[],userReports:i(t.userReports)||[],modReportsDismissed:o(t.dismissedModReports)||[],userReportsDismissed:i(t.dismissedUserReports)||[]})}},"./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./node_modules/lodash/merge.js"),i=n.n(o),c=n("./src/lib/env/index.ts"),a=n("./src/lib/raven/index.ts"),d=n("./src/reddit/helpers/graphql/helpers.ts"),u=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),b=n("./src/reddit/models/GqlTopLevelField.ts"),p=n("./src/reddit/models/Multireddit/index.ts");function m(e){const t={multireddits:{},multiredditsByUser:{},subreddits:{},profiles:{}};if(!e)return t;const{path:n}=e,r=n.toLowerCase(),s=r.endsWith("/")?r:r+"/",o={created:0,description:e.descriptionContent?e.descriptionContent.markdown:"",descriptionHtml:null,descriptionRtJson:e.descriptionContent?JSON.parse(e.descriptionContent.richtext):null,displayText:e.displayName,followerCount:e.followerCount,name:e.name,icon:e.icon,isFavorited:e.isFavorited,isFollowed:e.isFollowed,isNSFW:e.isNsfw||!1,isQuarantined:e.isQuarantined||!1,subredditCount:e.subredditCount,ownerId:e.ownerInfo.id,url:s,visibility:e.visibility&&e.visibility.toLowerCase()||p.e.Private};if(o.created=Object(d.j)(e.createdAt)/1e3,e.sources){o.subredditIds=[],o.profileIds=[];for(const{node:n}of e.sources.edges){if(n.__typename===b.a.Subreddit)o.subredditIds.push(n.id),t.subreddits[n.id]=t.subreddits[n.id]||Object(l.a)(n);else if(n.__typename===b.a.Profile)o.profileIds.push(n.id),t.profiles[n.id]=t.profiles[n.id]||Object(u.a)(n);else{const e='Unexpected Multireddit.sources node with type "'.concat(n.__typename,'"');Object(c.b)()?Object(a.c)(e):console.error(e)}n.isNSFW&&(o.isNSFW=!0),n.isQuarantined&&(o.isQuarantined=!0)}}return t.multireddits[s]=o,t.multiredditsByUser[e.ownerInfo.id]=[s],t}function f(e){const t={},n={},r={},o={},c=e.map(m);for(const a of c)s()(a.multiredditsByUser,(e,t)=>{n[t]=[...n[t]||[],...e]}),i()(t,a.multireddits),i()(r,a.profiles),i()(o,a.subreddits);return{multireddits:t,multiredditsByUser:n,profiles:r,subreddits:o}}t.a=m},"./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),s=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),o=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),i=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),c=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),u=n("./src/reddit/models/Post/index.ts");t.a=e=>{const t={account:null,dist:0,features:null,multireddits:{},multiredditsByUser:{},pageInfo:null,postFlair:{},postIds:[],postInstances:{},posts:{},preferences:null,profiles:{},subreddits:{},token:void 0};if(!e)return t;const{identity:n,multireddit:l}=e;if(n&&(t.account=Object(d.a)(n)||null,t.preferences=Object(c.a)(n.preferences,n.interactions)||null),!l)return t;const{posts:b}=l;if(b){t.pageInfo=b.pageInfo;for(const{node:e}of b.edges){const n=e;t.postIds.push(n.id);const{post:s,crosspost:c}=n&&Object(i.a)(n);t.posts[s.id]=s,c&&(t.posts[c.id]=c),n.__typename!==u.f.DeletedProfilePost&&n.__typename!==u.f.DeletedSubredditPost&&(n.authorFlair&&(t.postFlair[s.belongsTo.id]||(t.postFlair[s.belongsTo.id]={}),t.postFlair[s.belongsTo.id][s.author]=Object(r.a)(n.authorFlair)[0]),n.__typename===u.f.SubredditPost&&(t.subreddits[n.subreddit.id]||(t.subreddits[n.subreddit.id]=Object(a.a)(n.subreddit)),t.postFlair[n.subreddit.id]||(t.postFlair[n.subreddit.id]=Object(o.a)(n.subreddit))))}}else t.pageInfo={endCursor:null,hasNextPage:!1,hasPreviousPage:!1,startCursor:null};t.postIds.length&&(t.dist=t.postIds.length),t.pageInfo.hasNextPage&&(t.token=t.pageInfo.endCursor||"");const{multireddits:p,multiredditsByUser:m,profiles:f,subreddits:O}=Object(s.a)(l);return Object.assign({},t,{multireddits:p,multiredditsByUser:m,profiles:Object.assign({},t.profiles,f),subreddits:Object.assign({},t.subreddits,O)})}},"./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Flair/index.ts");function s(e){switch(e){case r.g.LEFT:return r.b.Left;case r.g.RIGHT:return r.b.Right;default:return null}}function o(e){let{isEnabled:t=!1,position:n}=e;return{isEnabled:t,position:s(n)}}t.a=e=>{let{postFlairSettings:t}=e;return Object.assign({},t&&{displaySettings:t&&o(t)})}},"./src/reddit/helpers/graphql/normalizePostFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/raven/index.ts"),o=n("./src/reddit/constants/adEvents.ts"),i=n("./src/reddit/constants/thumbnails.ts"),c=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts");const d=/i\.redd\.it|v\.redd\.it|i\.reddituploads\.com/;var u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Media/index.ts");const b=e=>{switch(e){case"IMPRESSION":return o.a.Impression;case"CLICK":return o.a.Click;case"COMMENTS_VIEW":return o.a.CommentsView;case"UPVOTE":return o.a.Upvote;case"DOWNVOTE":return o.a.Downvote;case"COMMENT_SUBMITTED":return o.a.CommentSubmitted;case"VIEWABLE_IMPRESSION":return o.a.ViewableImpression;case"COMMENT_UPVOTE":return o.a.CommentUpvote;case"COMMENT_DOWNVOTE":return o.a.CommentDownvote}};var p=n("./src/reddit/models/Post/index.ts"),m=n("./src/reddit/models/PostCreationForm/index.ts"),f=n("./src/reddit/models/RichTextJson/index.ts"),O=n("./src/reddit/models/User/index.ts"),g=n("./src/reddit/helpers/graphql/helpers.ts");n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return B}));var j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const y={document:[]},_=e=>e.__typename===p.f.DeletedProfilePost||e.__typename===p.f.DeletedSubredditPost,h=[p.e.Embed,p.e.Image,p.e.Video,p.e.Gifvideo],E=e=>{const t=e.thumbnail?Object.assign({url:e.thumbnail.url},e.thumbnail.dimensions):{url:i.a.DEFAULT,width:null,height:null};return e.__typename===p.f.AdPost&&e.authorOnlyInfo&&t.url?t:e.__typename!==p.f.SubredditPost||e.subreddit.isThumbnailsEnabled?t:e.isSelfPost?Object.assign({},t,{url:i.a.SELF}):e.media&&e.media.typeHint&&h.includes(e.media.typeHint)?Object.assign({},t,{url:i.a.IMAGE}):Object.assign({},t,{url:i.a.DEFAULT})},I=e=>{switch(e.__typename){case p.f.SubredditPost:return{id:e.subreddit.id,type:"subreddit"};default:return{id:e.profile.id,type:"profile"}}},v=e=>{var{flair:t,isNsfw:n,isSpoiler:r}=e,s=j(e,["flair","isNsfw","isSpoiler"]);const o=[];t&&o.push(...Object(c.b)(t)),r&&o.push({text:"spoiler",type:u.f.Spoiler}),n&&o.push({text:"nsfw",type:u.f.Nsfw});let i=!1;return s.__typename===p.f.ProfilePost?i=s.profile.isQuarantined:s.__typename===p.f.SubredditPost&&(i=s.subreddit.isQuarantined),i&&o.push({text:"quarantined",type:u.f.Quarantined}),o},S=e=>e.map(e=>{let{type:t,url:n}=e;return{url:n||"",type:b(t)}}),T=e=>{var{domain:t,url:n}=e,r=j(e,["domain","url"]);if(r.__typename===p.f.AdPost||!r.isSelfPost&&!(e=>d.test(e))(t||"")){const e=r.outboundLink&&r.outboundLink.expiresAt&&Object(g.j)(r.outboundLink.expiresAt);return Object.assign({displayText:t||"",url:n||""},r.outboundLink&&{outboundUrl:r.outboundLink.url||void 0,outboundUrlCreated:e&&e-36e5||void 0,outboundUrlExpiration:e||void 0})}return null},C={small:108,medium:216,large:320,xlarge:640,xxlarge:960,xxxlarge:1080},w=(e,t)=>{const n=e&&(t?e.animated:e.still);if(!n)return[];const r=e&&e.still&&e.still.source?e.still.source.dimensions.width:0;return Object.keys(C).reduce((e,s)=>{const o=n[t?"".concat(t,"_").concat(s):s];if(!o||C[s]>r)return e;const i=Object.assign({url:o.url},o.dimensions);return i?[...e,i]:e},[])},D=e=>{const{media:t,isSelfPost:n}=e;if(n)return e.content&&e.content.richtext?l.n.RTJSON:l.n.TEXT;switch(t&&t.typeHint){case p.e.Image:return l.n.IMAGE;case p.e.Gifvideo:return l.n.GIFVIDEO;case p.e.Video:return l.n.VIDEO;case p.e.Embed:return l.n.EMBED;default:return null}},P=e=>e.authorOnlyInfo&&e.authorOnlyInfo.contentMode===p.d.Markdown?m.h.MARKDOWN:m.h.RICH_TEXT,x=e=>Math.min(e.height,e.width),R=(e,t)=>{const{media:n,content:r}=e,s=(e=>e.isSpoiler||e.isNsfw)(e)?n&&n.obfuscatedStill&&n.obfuscatedStill.source&&n.obfuscatedStill.source.url:null;switch(t){case l.n.VIDEO:{const e=400,r=w(n),o=n&&n.still&&n.still.source&&Object.assign({url:n.still.source.url},n.still.source.dimensions);let i;if(r.length){i=r.reduce((e,t)=>e.width>t.width?e:t);const t=r.reduce((t,n)=>x(n)>e&&o&&x(n)<x(o)?[...t,n]:t,[]);t.length&&(i=t.reduce((e,t)=>x(e)<x(t)?e:t))}else i=o;return{type:t,obfuscated:s,hlsUrl:n&&n.streaming&&n.streaming.hlsUrl||"",dashUrl:n&&n.streaming&&n.streaming.dashUrl||"",isGif:!!n&&!!n.streaming&&n.streaming.isGif,scrubberThumbSource:n&&n.streaming&&n.streaming.scrubberMediaUrl||"",width:n&&n.streaming?n.streaming.dimensions.width:0,height:n&&n.streaming?n.streaming.dimensions.height:0,posterUrl:i&&i.url||void 0}}case l.n.TEXT:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",content:"",rteMode:P(e)};case l.n.RTJSON:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",richtextContent:Object(g.k)(r.richtext,y),content:"",rteMode:P(e),mediaMetadata:F(e)};case l.n.IMAGE:{const r=n&&n.animated&&n.animated.gif_source?"gif":null;let o="";return"i.redd.it"===e.domain&&e.url?o=e.url:n&&n.still&&n.still.source&&(o=n.still.source.url),{type:t,obfuscated:s,resolutions:w(n,r),width:n&&n.still&&n.still.source?n.still.source.dimensions.width:0,height:n&&n.still&&n.still.source?n.still.source.dimensions.height:0,content:o}}case l.n.EMBED:return{type:t,obfuscated:s,width:n&&n.video&&n.video.dimensions&&n.video.dimensions.width||0,height:n&&n.video&&n.video.dimensions&&n.video.dimensions.height||0,provider:n&&n.video&&n.video.attribution&&n.video.attribution.providerName||"",content:n&&n.video&&n.video.embedUrl?n.video.embedUrl:""};case l.n.GIFVIDEO:return{type:t,obfuscated:s,resolutions:w(n,"mp4"),width:n&&n.still&&n.still.source?n.still.source.dimensions.width:0,height:n&&n.still&&n.still.source?n.still.source.dimensions.height:0,gifBackgroundImage:n&&n.still&&n.still.source?n.still.source.url:"",content:n&&n.animated&&n.animated.mp4_source?n.animated.mp4_source.url:""};default:return null}},A={events:[],isBlank:!1,isSponsored:!1},N=/\.gif\?(.*$)/,k=e=>{const t=e.adEvents.find(e=>b(e.type)===o.a.Impression),n=t&&t.url&&t.url.match(N);return n&&n[1]?"t3_".concat(n[1]):null},L=e=>e?e.toLowerCase():null,U=e=>{let{isLive:t,startsAt:n,endsAt:r}=e;return{eventIsLive:t,eventStart:Date.parse(n),eventEnd:Date.parse(r)}};t.a=e=>{const t={post:B(e)},{crosspostRoot:n}=e;return n&&n.type===p.a.Post&&n.postInfo&&(t.crosspost=B(n.postInfo)),t};const M=e=>e&&e.__typename!==O.d.DeletedRedditor?"name"in e&&e.name||"":r.z,F=e=>e.content&&e.content.richtextMedia&&e.content.richtextMedia.length?e.content.richtextMedia.reduce((e,t)=>{switch(t.__typename){case p.c.ImageAsset:"image/gif"===t.mimetype?e[t.id]={e:f.r,id:t.id,s:{gif:t.url,x:t.height,y:t.width}}:e[t.id]={e:f.s,id:t.id,s:{u:t.url,x:t.height,y:t.width}};break;case p.c.VideoAsset:e[t.id]={dashUrl:t.dashUrl,e:f.t,hlsUrl:t.hlsUrl,id:t.id,x:t.height,y:t.width}}return e},{}):null,B=e=>{const{awardings:t,commentCount:n,createdAt:o,crosspostCount:i,crosspostRoot:c,discussionType:d,domain:u,id:l,isArchived:b,isContestMode:m,isHidden:f,isLocked:O,isNsfw:j,isOriginalContent:y,isSaved:_,isSpoiler:h,isStickied:C,liveCommentsWebsocket:w,permalink:P,score:x,suggestedCommentSort:N,title:k,upvoteRatio:F,viewCount:B,voteState:G}=e,q=c&&(c.type===p.a.Post?c.postInfo&&c.postInfo.id:c.comment&&c.comment.id);c&&!q&&Object(s.c)("Lack of post or comment in crosspostRoot",{extra:{postId:l},settings:{serverLogging:!1}});const V=t?Object(g.h)(t):void 0,H=(e=>e.__typename===p.f.SubredditPost&&e.subreddit&&e.subreddit.originalContentCategories&&0!==e.subreddit.originalContentCategories.length?e.subreddit.originalContentCategories:null)(e)||void 0,K=Object.assign({allAwardings:V,author:r.z,authorId:"",approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,belongsTo:{id:"",type:"subreddit"},contentCategories:H,contestMode:m,created:Object(g.j)(o),crosspostParentId:q,crosspostRootId:q,discussionType:d,distinguishType:null,domain:u||"",events:[],flair:v(e),hidden:f,id:l,ignoreReports:!1,isApproved:!1,isArchived:b,isBlank:!1,isCrosspostable:!1,isLocked:O,isMediaOnly:!1,isMeta:!1,isNSFW:j,isOriginalContent:y,isPinned:!1,isRemoved:!1,isScoreHidden:null===x,isSpam:!1,isSpoiler:h,isSponsored:!1,isStickied:C,liveCommentsWebsocket:w,media:null,modReports:[],numComments:n||0,numCrossposts:i||0,numReports:null,permalink:"https://web.archive.org/web/20191001041103/https://www.reddit.com".concat(P),postCategories:null,postId:l,previewComments:[],saved:_,score:null!==x&&x>0?x:0,sendReplies:!1,source:T(e),suggestedSort:N&&r.q[N]||null,thumbnail:{height:null,url:"",width:null},title:k||"",upvoteRatio:F,userReports:[],viewCount:B||0,voteState:G?Object(g.i)(G):0},e.__typename===p.f.AdPost?(e=>{const{adEvents:t,callToAction:n,domain:r,isBlank:s}=e;return{callToAction:n,domainOverride:r,events:S(t),isBlank:s,isSponsored:!0}})(e):A,Object(a.a)(e));if(e.__typename===p.f.DeletedProfilePost||e.__typename===p.f.DeletedSubredditPost)return K;const{authorInfo:W,authorOnlyInfo:Y,distinguishedAs:J,isCrosspostable:z,isMediaOnly:Q,isPollIncluded:X,media:Z,postEventInfo:$}=e,ee=(e=>e&&e.still&&e.still.source?Object.assign({url:e.still.source.url},e.still.source.dimensions):void 0)(Z);return Object.assign({},K,{author:W&&M(W)||r.z,authorId:W&&W.id||"",belongsTo:I(e),distinguishType:L(J),isCrosspostable:z,isMediaOnly:Q,isMeta:X,media:R(e,D(e)),thumbnail:E(e)},ee&&{preview:ee},Y&&{sendReplies:Y.isReceivingPostReplies},$&&{eventInfo:U($)})}},"./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/User/index.ts");t.a=(e,t)=>({allowClickTracking:e.isClickTrackingEnabled,autoplayVideo:!e.isVideoAutoplayDisabled,defaultCommentSort:e.defaultCommentSort&&s.c[e.defaultCommentSort]?r.q[e.defaultCommentSort]:r.q.CONFIDENCE,geopopular:e.geopopular,hideNSFW:e.isNsfwMediaBlocked,ignoreSuggestedSort:e.isSuggestedSortIgnored,labelNSFW:e.isNsfwLabelShown,markMessagesRead:e.isMessageAutoReadEnabled,nightmode:e.isNightModeEnabled,over18:e.isNsfwContentShown,account:{openPostInNewTab:e.isNewTabOpenedForPostView,rpanDuDismissalTime:e.rpanDuDismissedAt,sort:e.globalCommunityPostFeedSort.range?"".concat(e.globalCommunityPostFeedSort.sort.toLowerCase(),"_").concat(e.globalCommunityPostFeedSort.range.toLowerCase()):e.globalCommunityPostFeedSort.sort.toLowerCase(),showRpanDu:e.isRpanDuShown,stylesEnabled:e.isCommunityStylingEnabled,rememberCommunitySort:e.isCommunityPostFeedSortingPreserved,useMarkdown:e.isMarkdownDefaultEditorMode,rememberCommunityLayout:e.isCommunityLayoutPreserved,layout:e.postFeedLayout.toLowerCase(),hasSeenCustomizeFlyout:t&&t.isDefaultPostLayoutAware}})},"./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),s=n("./src/reddit/models/Subreddit/index.ts"),o=n("./src/reddit/models/User/index.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>{let{pageInfo:t,edges:n}=e;const s={moderatedSubredditIds:[],pageInfo:t,subreddits:{}};for(const{node:o}of n){const e=Object(r.a)(o);s.subreddits[e.id]=e,s.moderatedSubredditIds.push(e.id)}return s};t.a=e=>{let{name:t,path:n,redditorInfo:r,styles:c,wls:a,id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p}=e;const{height:m,icon:f,width:O}=c&&c.legacyIcon&&{height:c.legacyIcon.dimensions.height,icon:c.legacyIcon.url,width:c.legacyIcon.dimensions.width}||{height:null,icon:c&&c.icon||"",width:null},g=c&&c.legacyPrimaryColor,j=r&&r.__typename===o.d.AvailableRedditor&&r.prefixedName||"";return Object.assign({url:n,displayText:j,icon:{url:f,width:O,height:m},communityIcon:f,type:s.b.User,name:t.substr(2)},g&&{primaryColor:g},a&&{whitelistStatus:a.toLowerCase(),wls:i.a[a]},{id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p})}},"./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/helpers.ts"),s=n("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts");t.a=e=>{const t=Object(s.a)(e.allowedPostTypes),n=e.moderation?e.moderation.coins:void 0;return{[e.id]:{accountsActive:e.activeCount,allOriginalContent:!1,allowedPostTypes:t,coins:n,created:Object(r.j)(e.createdAt),disableContributorRequests:!1,emojisEnabled:!0,isCrosspostableSubreddit:e.isCrosspostDestination,originalContentTagEnabled:!0,publicDescription:e.publicDescription.markdown,restrictCommenting:!1,restrictPosting:!0,showMedia:!0,submitLinkLabel:e.submitLinkLabel,submitTextLabel:e.submitTextLabel,subscribers:e.subscribersCount,userIsContributor:e.isContributor,userIsSubscriber:e.isSubscribed,usingNewModmail:!0}}}},"./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),o=n("./src/reddit/models/GqlTopLevelField.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>e.subredditRecommendations.recommendations.map(d).reduce((e,t)=>(e[t.id]=t,e),{}),a=e=>{const t={posts:{},subredditTopContent:{}},n=[],{__typename:i}=e;if(i!==o.a.Subreddit)return null;const{id:c,isSubscribed:a,name:d,topContent:u}=e,{posts:l,range:b}=u;return l.forEach(e=>{const{post:r,crosspost:o}=Object(s.a)(e),i=r.id;if(t.posts[i]=r,n.push(i),o){const e=o.id;t.posts[e]=o}}),t.subredditTopContent[d.toLowerCase()]={id:c,isSubscribed:a,name:d,postIds:n,range:r.Nb[b]},t},d=e=>{const{path:t,prefixedName:n,type:r,styles:s,wls:o,id:c,isQuarantined:a,isNSFW:d,name:u,subscribers:l,title:b,isFreeFormReportingAllowed:p}=e,{height:m,icon:f,width:O}=s&&s.legacyIcon&&{height:s.legacyIcon.dimensions.height,icon:s.legacyIcon.url,width:s.legacyIcon.dimensions.width}||{height:null,icon:s&&s.icon||"",width:null},g=s&&s.primaryColor,j=s&&s.icon;return Object.assign({url:t,displayText:n,icon:{url:f,width:O,height:m}},j&&{communityIcon:j},{type:r.toLowerCase(),primaryColor:g||""},o&&{whitelistStatus:o.toLowerCase(),wls:i.a[o]},{freeFormReports:p,id:c,isQuarantined:a,isNSFW:d,name:u,subscribers:l,title:b})};t.a=d},"./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const o=e=>{let{edges:t,pageInfo:n}=e;const o={},i=[];for(let c of t){const{node:e}=c,t=s(c,["node"]),n=Object(r.a)(e);o[n.id]=n,i.push(t)}return{pageInfo:n,rankings:i,subreddits:o}},i=e=>{let{edges:t}=e;const n={},o=[];for(let i of t){const{node:e}=i,t=s(i,["node"]),c=Object(r.a)(e);n[c.id]=Object.assign({},c,{bannerBackgroundImage:e&&e.styles&&e.styles.bannerBackgroundImage}),o.push(t)}return{rankings:o,subreddits:n}}},"./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/models/User/index.ts"),s=n("./src/reddit/helpers/graphql/helpers.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const i=e=>e&&e.expiresAt&&Object(s.j)(e.expiresAt,s.a.Seconds)/1e3||null,c=e=>e&&e.unreadCount?e.unreadCount:0,a=/^u\//,d=e=>e.replace(a,"/user/"),u=e=>e.__typename===r.d.DeletedRedditor?null:"name"in e&&e.name||null;t.a=e=>{var{redditor:t,inbox:n,premium:a,preferences:u,coins:l}=e,b=o(e,["redditor","inbox","premium","preferences","coins"]);let p={commentKarma:0,hasUserProfile:!1,id:t.id,isGold:!1,postKarma:0,url:""};if(t.__typename===r.d.AvailableRedditor){const{karma:e,profile:n}=t,r=n&&n.styles&&n.styles.legacyIcon&&n.styles.legacyIcon.url;p=Object.assign({},p,r&&{accountIcon:r},{commentKarma:e?e.fromComments:0,displayText:t.name,hasExternalAccount:t.isLinkedToExternalAccount,hasUserProfile:!!n,isGold:!!t.isGilded,postKarma:e?e.fromPosts:0,profileId:n&&n.id||void 0,url:t.prefixedName&&d(t.prefixedName)||void 0})}const{interactions:m,modMail:f}=b;return Object.assign({},p,{coins:l,created:Object(s.j)(b.createdAt,s.a.Seconds)/1e3,goldExpiration:i(a),hasUnreadMail:c(n)>0,hasUnreadModmail:!!f&&f.isUnread,hasUnreadOldModmail:!!f&&f.isUnread,hasVerifiedEmail:!!b.isEmailVerified,inboxCount:c(n),inRedesignBeta:u.isInRedesignBeta,isEmployee:!!b.isEmployee,isFPR:!!b.isForcePasswordReset,isMod:!!b.isModerator,isSuspended:b.isSuspended,nightmode:u.isNightModeEnabled,seenLayoutSwitch:!!m&&m.isLayoutSwitchAware,seenPremiumAdblockModal:!!m&&m.isAdblockModalAware,seenRedesignModal:!!m&&m.isRedesignModalAware,seenSubredditChatFtux:!!m&&m.isSubredditChatAware,showRecentPosts:u.isRecentPostsShown,showTrending:u.isTrendingSubredditsShown},a&&a.subscription&&{hasAndroidSubscription:a.subscription.isAndroidAvailable,hasGoldSubscription:a.subscription.isGoldAvailable,hasIOSSubscription:a.subscription.isIOSAvailable,hasPaypalSubscription:a.subscription.isPaypalAvailable,hasStripeSubscription:a.subscription.isStripeAvailable})}},"./src/reddit/helpers/history/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/lodash/omit.js"),s=n.n(r);const o=(e,t)=>{const n=history.state?history.state.state:{},r=Object.assign({},history.state,{state:Object.assign({},n,{[e]:t})});history.replaceState(r,window.document.title)},i=e=>{const t=Object.assign({},history.state,{state:Object.assign({},s()(history.state.state,e))});history.replaceState(t,window.document.title)},c=e=>history&&history.state&&history.state.state&&history.state.state[e]},"./src/reddit/helpers/isComment.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/things.ts");t.a=function(e){return!!e&&e.substring(0,3)===r.a}},"./src/reddit/helpers/isPost.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/things.ts");t.a=function(e){return!!e&&e.substring(0,3)===r.b}},"./src/reddit/helpers/makeProfileListingKey/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts");const o=(e,t)=>"".concat(r.Pb).concat(e.toLowerCase(),"--private--").concat(t);t.a=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="".concat(r.Pb).concat(e,"--").concat(t);return Object(s.a)(i,n,o)}},"./src/reddit/helpers/media/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"n",(function(){return y})),n.d(t,"e",(function(){return _}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/Media/index.ts");function o(e){return new Promise((t,n)=>{try{const r=new FileReader;r.onloadend=e=>{try{const n=e.target.result,r=new Uint8Array(n).subarray(0,4);let s="";for(let e=0;e<r.length;e++)s+=r[e].toString(16);const o=function(e){switch(e){case"89504e47":return"image/png";case"47494638":return"image/gif";default:return"ffd8ff"===e.slice(0,6)?"image/jpeg":null}}(s);t(o)}catch(r){n(r)}},r.readAsArrayBuffer(e)}catch(r){n(r)}})}const i=e=>e.startsWith("video/"),c=e=>e.startsWith("image/"),a=e=>"image/gif"===e,d=e=>{if(e)return i(e)?"video":c(e)?"image":void 0},u=e=>r.a.has(e)||r.b.has(e),l=e=>window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(e):null;function b(e,t){try{return new File([e],t,{type:e.type,lastModified:Date.now()})}catch(n){const r=new Blob([e],{type:e.type});return Object.assign(r,{name:t,lastModified:Date.now()}),r}}function p(e){const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return new Blob([r],{type:n})}const m=(e,t,n)=>{e.addEventListener(t,r=>(e.removeEventListener(t,n),n(r)))},f=(e,t)=>new Promise((n,r)=>{const s=()=>{e.readyState>=2&&n(e)};m(e,"error",()=>{r(new Error("Invalid video source"))}),["loadedmetadata","loadeddata","suspend"].forEach(t=>m(e,t,s)),e.src=t,s()}),O=(e,t)=>new Promise(n=>{m(e,"seeked",()=>n(e)),e.currentTime=t});async function g(e,t,n){let r=e.currentTime;for(;null!==r;){await O(e,r),t.height=e.videoHeight,t.width=e.videoWidth;const s=t.getContext("2d");s&&s.drawImage(e,0,0),r=n({dataUrl:t.toDataURL(),time:e.currentTime})}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createElement("video");let r;if(await f(n,e),t){n.currentTime=0;const e=document.createElement("canvas");await g(n,e,e=>(r=e,null))}return{width:n.videoWidth,height:n.videoHeight,duration:n.duration,firstFrame:r}}const y=(e,t,n)=>{if("fastly"===e){let e;return(e=t.startsWith("US-")||"North-America"===t?"NA":t.startsWith("EU-")?"EU":t.startsWith("Asia-")||"Asia"===t?"AS":"APAC"===t?"OC":t.startsWith("SA-")?"SA":"South-Africa"===t?"AF":"UNKNOWN")+"-"+n}},_=(e,t,n)=>{if(e.media&&(e.media.type===s.n.IMAGE||e.media.type===s.n.GIFVIDEO)){const r=e.media.resolutions;for(let e=0;e<r.length;e++){const s=r[e];if(s.width>=t||s.height>=n)return s}}if(e.thumbnail&&!e.isNSFW&&!e.isSpoiler){const r=e.thumbnail,s=r&&r.width||0,o=r&&r.height||0;if(s>=t||o>=n)return e.thumbnail}return null}},"./src/reddit/helpers/monthsToMinutes/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/reddit/constants/cookie.ts"),c=n("./src/reddit/constants/localStorage.ts"),a=n("./src/reddit/selectors/monthsToMinutes.ts");const d=()=>s.a.get(i.d),u=e=>{const t=(e=>e.join(","))(Object(a.h)(e)),n=new Date;n.setFullYear(n.getFullYear()+2),s.a.set(i.d,t,{expires:n,domain:o.a.cookieDomain})},l=()=>{s.a.remove(i.d,{domain:o.a.cookieDomain})},b=()=>{localStorage.removeItem(c.t),l()}},"./src/reddit/helpers/name/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/lodash/capitalize.js");const r=/^(r|u)?\//i,s=/^r\//i,o=/^u\//i,i=e=>e.replace(r,""),c=e=>i(e.toLowerCase().trim()),a=e=>"r/".concat(i(e)),d=e=>"u/".concat(i(e)),u=e=>r.test(e),l=e=>s.test(e),b=e=>o.test(e),p=(e,t)=>!((e,t)=>u(e)&&u(t)&&e[0].toLowerCase()!==t[0].toLowerCase())(e,t)&&c(e)===c(t)},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=e=>{const t=/^((\/u\/)|(u\/))/;return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(t,""):e}},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),s=n.n(r),o=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(o),c=n("./src/config.ts"),a=n("./src/lib/addQueryParams/index.ts"),d=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./src/reddit/selectors/subreddit.ts"));const u=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),l=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments|submitpage)(/|$)"),b=new RegExp("^/desktopapi/v1/(subreddits|postcomments|collection_postcomments)/?$"),p=(new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),new RegExp("^/desktopapi/v1/frontpage/?$"));var m=(e,t)=>{const n=new Set;e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(n.add("identity"),n.add("prefs"),n.add("prefsAccount")),(e=>!u.test(e.pathname||""))(t)&&n.add("identity")),!e.live.isFrontpageLoaded&&(e=>p.test(e.pathname||""))(t)&&n.add("featuredLiveThread");const r=t.pathname||"";if(l.test(r)||b.test(r)){const t=e.platform.currentPage&&e.platform.currentPage.urlParams.subredditName||"",r=Object(d.H)(e,t);r&&e.structuredStyles.models[r]||n.add("structuredStyles"),e.user.prefs.subreddit[r]||n.add("prefsSubreddit")}return[...n].join(",")};t.a=e=>t=>{const n=s.a.parse(t.endpoint,!0),{host:r,protocol:o}=n;if("".concat(o,"//").concat(r)===c.a.gatewayUrl){const r={},s=i.a.get("over18")||"";r.allow_over18=s,r.include=m(e.getState(),n),t.endpoint=Object(a.a)(t.endpoint,r)}}},"./src/reddit/helpers/overlay/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/history/index.js"),s=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/reddit/helpers/path/index.ts");const i=e=>{if("string"==typeof e)return Object(r.createLocation)(Object(o.b)(e),{isOverlay:!0});{const t=Object(r.createLocation)(e);return t.state=Object.assign({},t.state||{},{isOverlay:!0}),t}},c=e=>Object(s.b)(i(e))},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,n){"use strict";n("./node_modules/history/index.js"),n("./src/reddit/actions/platform.ts");var r=n("./src/config.ts");t.a=(e,t)=>{const n=t.platform.currentPage&&t.platform.currentPage.url;let s="".concat(r.a.accountManagerOrigin,"/login/");const o=window.location.origin;n&&(s+="?dest=".concat(encodeURIComponent("".concat(o).concat(n)))),window.location.href=s}},"./src/reddit/helpers/path/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/path-browserify/index.js"),s=n.n(r);const o=(e,t)=>s.a.join(s.a.sep,e||"",t),i=e=>e.replace(/^.*\/\/[^\/]+/,"")},"./src/reddit/helpers/pixels.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=new(n("./src/lib/LRUCache/index.ts").a)(1e3),s=e=>{if(!r.get(e)){return(new Image).src=e,r.set(e,!0),!0}return!1},o=(e,t)=>e.filter(e=>e.type===t).map(e=>e.url).every(s)},"./src/reddit/helpers/postCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>!!e.collectionIds&&e.collectionIds.length>=1},"./src/reddit/helpers/postEvent.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&!!e.eventInfo},"./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts");t.a=e=>Object.assign({accountIcon:e.icon_img,awardedLastMonth:e.awarded_last_month?Object(s.b)(e.awarded_last_month):null,commentKarma:e.comment_karma,created:e.created,displayName:e.name,displayNamePrefixed:e.subreddit&&e.subreddit.display_name_prefixed,displayText:e.name,hasUserProfile:!!e.subreddit,hideFromRobots:!!e.hide_from_robots,id:"".concat(r.ub.Account,"_").concat(e.id),isEmployee:e.is_employee,isFollowing:e.has_subscribed,isGold:e.is_gold,isAdmin:e.is_admin,isMod:e.is_mod,isNSFW:!(!e.subreddit||!e.subreddit.over_18),prefShowSnoovatar:e.pref_show_snoovatar,prefShowTwitter:e.pref_show_twitter,postKarma:e.link_karma,url:"/user/".concat(e.name,"/"),username:e.name},e.subreddit?{profileId:e.subreddit.name}:null)},"./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),t.a=e=>e.map(e=>({awardType:e.award_type,coinPrice:e.coin_price,coinReward:e.coin_reward,count:e.count,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,iconUrl:e.icon_url,resizedIcons:e.resized_icons,id:e.id,isEnabled:e.is_enabled,name:e.name,subredditCoinReward:e.subreddit_coin_reward}));const r=e=>{const{top_award:t,total_count:n}=e;return{topAward:t&&(e=>{const{icon_url:t,resized_icons:n}=e;let r,s;for(const{url:o,width:i}of n||[])32===i&&(r={url:o}),128===i&&(s={url:o});return{awardType:e.award_type.toUpperCase(),coinPrice:e.coin_price,coinReward:e.coin_reward,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,id:e.id,isEnabled:e.is_enabled,name:e.name,icon:{url:t},icon32:r,icon128:s,subredditCoinReward:e.subreddit_coin_reward}})(t),totalCount:n}}},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/isComment.ts"),o=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),i=n("./src/reddit/models/Vote/index.ts"),c=e=>!0===e?i.a.upvoted:!1===e?i.a.downvoted:i.a.notVoted,a=n("./src/reddit/models/Comment/index.ts");t.a=(e,t)=>{const n={approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,created:e.created_utc,deletedBy:u(e),distinguishType:e.distinguished||"",editedAt:null,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isApproved:e.approved,isDeleted:e.author===r.z,isLocked:e.locked,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,subredditId:e.subreddit_id,markdown:e.body,media:{mediaMetadata:e.media_metadata,type:"rtjson",richtextContent:d(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(s.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,stewardReports:e.steward_reports,stewardReportsDismissed:e.steward_reports_dismissed,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:c(e.likes)};return e.all_awardings&&(n.allAwardings=Object(o.a)(e.all_awardings)),e.awarders&&(n.awarders=e.awarders),n};const d=e=>"string"==typeof e?JSON.parse(e):e,u=e=>e.author!==r.z?null:e.body===r.A?a.a.User:e.body===r.vb?a.a.Moderator:null},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/models/Media/index.ts"),i=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/Vote/index.ts");const a=e=>{const t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:s.f.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:s.f.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:s.f.Spoiler}),e.over_18&&t.push({text:"nsfw",type:s.f.Nsfw}),t},d=e=>e?e.map(e=>({categoryId:e.category_id,categoryName:e.category_name})):[],u=e=>{const t=e.preview&&e.preview.enabled;let n=!1,r=null,s={},c={};const a=e.over_18||e.spoiler;if(e.preview&&(n=!!(c=e.preview.images[0].variants).mp4,s=e.preview.images[0].source,a&&(r=c.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:o.n.TEXT,markdownContent:e.selftext,obfuscated:r,rteMode:e.rte_mode||i.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:o.n.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){const t=e.media.reddit_video;return{hlsUrl:t.hls_url,dashUrl:t.dash_url,isGif:t.is_gif,scrubberThumbSource:t.scrubber_media_url,obfuscated:r,posterUrl:t.url,width:t.width,height:t.height,type:o.n.VIDEO}}if(e.secure_media&&e.secure_media.oembed){return{content:e.secure_media_embed.media_domain_url,type:o.n.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:r,provider:e.secure_media.oembed.provider_name}}if(t&&n)return{content:c.mp4.source.url,type:o.n.GIFVIDEO,width:c.mp4.source.width,height:c.mp4.source.height,gifBackgroundImage:s.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:r,resolutions:c.mp4.resolutions};if(t){const t=c.gif?c.gif.resolutions:e.preview.images[0].resolutions;return{content:s.url,type:o.n.IMAGE,width:s.width,height:s.height,obfuscated:r,resolutions:t}}return null},l=e=>{const t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){const n=e.outbound_link;t.outboundUrl=n.url,t.outboundUrlExpiration=n.expiration,t.outboundUrlCreated=n.created}return t}return null};t.a=e=>{return{allAwardings:e.all_awardings?Object(r.a)(e.all_awardings):[],awarders:e.awarders,author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,contestMode:e.contest_mode,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,discussionType:e.discussion_type||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:a(e),hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isFollowed:e.is_followed||!1,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,liveCommentsWebsocket:e.liveCommentsWebsocket||e.websocket_url,media:u(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numDuplicates:e.num_duplicates,numReports:e.num_reports||0,permalink:"https://web.archive.org/web/20191001041103/https://www.reddit.com".concat(e.permalink),postCategories:d(e.post_categories),preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,saved:e.saved,score:e.score,stewardReports:e.steward_reports,isScoreHidden:!!e.hide_score,sendReplies:e.send_replies,source:l(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(c.d)(e.likes)}}},"./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts":function(e,t,n){"use strict";t.a=e=>({commentKarma:e.comment_karma,hasExternalAccount:e.has_external_account,postKarma:e.link_karma,prefShowTwitter:e.pref_show_twitter,publicDescription:e.subreddit?e.subreddit.public_description:"",userIsSubscriber:e.subreddit&&e.subreddit.user_is_subscriber||!1})},"./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=(e,t)=>{const n=Object(r.a)(e),{wls:o}=n,i=s(n,["wls"]);return Object.assign({},i,{name:t})}},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts");const s=e=>{for(const t of e)switch(t[0]){case r.D.NO_STRIPE_SUBSCRIPTION:case r.D.USER_DOESNT_EXIST:case r.D.USER_REQUIRED_ERROR:case r.D.VALIDATION_ERROR:return t[0];case r.D.NO_USER:case r.D.NO_TEXT:case r.D.NO_URL:return r.D.VALIDATION_ERROR;case r.D.CREDIT_CARD_FAILURE:case r.D.CREDIT_CARD_FAILURE_GENERIC:return r.D.CREDIT_CARD_FAILURE;default:continue}return r.D.VALIDATION_ERROR};t.a=e=>({type:s(e.body.json.errors),fields:e.body.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))})},"./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts":function(e,t,n){"use strict";t.a=e=>({allowContractors:e.allow_contractors,communityIcon:e.community_icon,displayText:e.display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.community_icon||e.icon_img||"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18||e.over18,isQuarantined:!!e.quarantine,name:e.display_name,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})},"./src/reddit/helpers/redesignOptoutCookie/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s);const i="redesign_optout";function c(){const e=new Date;return e.setFullYear(e.getFullYear()+3),e}function a(){o.a.get(i)||o.a.set(i,"true",{domain:r.a.cookieDomain,expires:c()})}function d(){o.a.get(i)&&o.a.remove(i,{domain:r.a.cookieDomain})}},"./src/reddit/helpers/reportPage/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.constructor.js");var r=n("./src/reddit/models/RulesSequence/index.ts");const s="(?:old\\.reddit\\.".concat("(?:com|local)","|new\\.reddit\\.").concat("(?:com|local)","|reddit\\.").concat("(?:com|local)","|www\\.reddit\\.").concat("(?:com|local)",")"),o="(?:".concat("(?:r)","|").concat("(?:user|u)",")"),i="(?:https?://)",c="^".concat(i).concat(s,"/").concat(o,"/").concat("(?:[^/]+)","/comments/").concat("(?:\\w+)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/.*)?"),a="^".concat(i).concat(s,"/").concat(o,"/").concat("(?:[^/]+)","/comments/").concat("(\\w+)","(?:/.*)?"),d="^".concat(i).concat(s,"/message/messages/").concat("(\\w+)","(?:/.*)?"),u="^".concat(i,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/)?$"),l="^".concat(i,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","/").concat("(\\w+)","(?:/)?$"),b="(?:".concat(a,"|").concat(c,"|").concat(d,"|").concat(u,"|").concat(l,")"),p="(?:(?:".concat(i,"?").concat(s,"/)?").concat("(?:user|u)","/)?").concat("([\\w-]+)","(?:/)?"),m="(?:(?:".concat(i,"?").concat(s,"/)?").concat("(?:r)","/)?").concat("([\\w-]+)","(?:/)?"),f=e=>{const t=new RegExp(c),n=new RegExp(a),r=new RegExp(d),s=new RegExp(u),o=new RegExp(l);let i,b,f;if(e.thingUrl){const c=e.thingUrl.trim();if(t.test(c)){const e=t.exec(c);e&&e.length>1&&(i="t1_"+e[1])}else if(n.test(c)){const e=n.exec(c);e&&e.length>1&&(i="t3_"+e[1])}else if(r.test(c)){const e=r.exec(c);e&&e.length>1&&(i="t4_"+e[1])}else if(o.test(c)){const e=o.exec(c);e&&e.length>2&&(b=e[1],f=e[2])}else if(s.test(c)){const e=s.exec(c);e&&e.length>1&&(b=e[1])}}const O=new RegExp(p),g=new RegExp(m),j=[];let y;if(e.subredditName){const t=e.subredditName.trim();if(g.test(t)){const e=g.exec(t);e&&e.length>1&&(y=e[1])}}if(e.usernames&&e.usernames.length)for(let c=0;c<e.usernames.length;c++){const t=e.usernames[c].trim();if(O.test(t)){const e=O.exec(t);e&&e.length>1&&j.push(e[1])}}const{reason:_}=e;return{reason:"site_reason_selected",site_reason:_.reasonText,additional_info:e.additionalInfo?e.additionalInfo.join(","):void 0,custom_text:e.customText,modmail_conv_id:b,modmail_msg_id:f,sr_name:y,thing_id:i,usernames:j.length?j.join(","):void 0}},O=(e,t)=>{const n=new r.a;return g(n,e,t,0),n},g=(e,t,n,r)=>{for(let s=0;s<t.length;s++){const o=t[s];e.update(s,r);const i=e.getSequence().length;if(o.reasonAsParam===n)return;if(o.nextStepReasons&&o.nextStepReasons.length&&(g(e,o.nextStepReasons,n,r+1),e.getSequence().length>i))return;e.cut(r-1)}}},"./src/reddit/helpers/routeKey/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return L}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeCommentsPageKey/index.ts"),c=n("./src/lib/makeExplorePageKey/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/lib/makePostCreationPageKey/index.ts"),u=n("./src/lib/makeSearchKey/index.ts"),l=n("./src/reddit/constants/postLayout.ts"),b=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),p=n("./src/reddit/constants/categories.tsx"),m=n("./src/reddit/constants/listings.ts"),f=n("./src/reddit/constants/originalContent.ts"),O=n("./src/reddit/constants/page.ts"),g=n("./src/reddit/constants/parameters.ts"),j=n("./src/reddit/constants/wiki.ts"),y=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),_=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),h=n("./src/reddit/models/Comment/index.ts"),E=n("./src/reddit/models/Multireddit/index.ts"),I=n("./src/reddit/models/Post/index.ts"),v=n("./src/reddit/models/User/index.ts"),S=n("./src/reddit/routes/modListing/index.ts"),T=n("./src/reddit/selectors/experiments/feedFilters.ts"),C=n("./src/reddit/selectors/frontpage.ts");const w=(e,t,n)=>{const{route:r}=e,{name:s}=r.meta;if(!s||!o.M.has(s)&&s!==o.wb.COINS&&s!==o.wb.COMMENTS&&s!==o.wb.POST_CREATION&&s!==o.wb.PREMIUM&&s!==o.wb.PUBLIC_ACCESS_NETWORK&&s!==o.wb.SEARCH_RESULTS&&s!==o.wb.EXPLORE&&s!==o.wb.SETTINGS&&s!==o.wb.SUBREDDIT_WIKI||!n&&(s===o.wb.COMMENTS||s===o.wb.DUPLICATES))return null;switch(s){case o.wb.POST_CREATION:return Object(d.a)(e.match.params);case o.wb.INDEX:case o.wb.LISTING:case o.wb.SUBREDDIT:case o.wb.ORIGINAL_CONTENT:case o.wb.TOPIC:return P(e,t).listingKey;case o.wb.PROFILE_COMMENTS:case o.wb.PROFILE_POSTS:case o.wb.PROFILE_OVERVIEW:case o.wb.PROFILE_PRIVATE:return x(e,t);case o.wb.MULTIREDDIT:return R(e,t);case o.wb.COMMENTS:return N(e,t,n);case o.wb.SEARCH_RESULTS:return A(e);case o.wb.SUBREDDIT_WIKI:return U(e);case o.wb.COINS:case o.wb.PREMIUM:case o.wb.PUBLIC_ACCESS_NETWORK:return s;case o.wb.SETTINGS:return k(e);case o.wb.EXPLORE:return L(e);default:return null}},D={listingKey:null},P=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(!o.M.has(s)&&s!==o.wb.POST_CREATION&&s!==o.wb.SUBREDDIT_WIKI)return D;const{queryParams:i}=r;switch(s){case o.wb.INDEX:case o.wb.LISTING:{const e=Object(C.a)(t),n=r.params,s=n.sort?n.sort:e;return{listingKey:Object(a.a)(O.b,s,i),sort:s}}case o.wb.PROFILE_COMMENTS:case o.wb.PROFILE_POSTS:{const{profileName:e}=r.params,{sort:t}=i;return{listingKey:Object(a.a)("u_".concat(e),t,i),sort:t}}case o.wb.POST_CREATION:case o.wb.SUBREDDIT:{const e=r.params,{subredditName:n}=e,s=i.f,o=Object(_.a)(e),c=Object(T.a)(t),d=Object(T.d)(c);if(s&&d){const e={[g.n]:s,[g.o]:"1"},t=Object(u.c)(e);return{listingKey:Object(u.b)(n,void 0,t),sort:o}}return{listingKey:Object(a.a)(n,o,i),sort:o}}case o.wb.TOPIC:{const e=r.params,t=e.sort||o.O,n=Object(p.f)(e.topicName);return{listingKey:Object(a.a)(m.b.Topic,t,Object.assign({},e,{topicName:n})),sort:t}}case o.wb.ORIGINAL_CONTENT:{const{categoryName:e=f.b,sort:t=o.N.HOT}=r.params;return{listingKey:Object(a.a)(O.g,t,Object.assign({},i,{category:e})),sort:t}}case o.wb.MOD_LISTING:{const e=r.params,{sort:t=o.O}=e,n=Object(S.d)(r.path)?O.f:O.e;return{listingKey:Object(a.a)(n,t,i),sort:t}}case o.wb.MULTIREDDIT:return{listingKey:R(e,t)};case o.wb.SEARCH_RESULTS:return{listingKey:w(e,t,null)};default:return D}},x=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(!o.M.has(s)&&s!==o.wb.POST_CREATION)return null;const{params:i,queryParams:c}=r,{profileName:d}=i,{sort:u=o.qb}=c;switch(s){case o.wb.PROFILE_OVERVIEW:const e=(t.user.prefs&&t.user.prefs.profileLayout?t.user.prefs.profileLayout:l.g.Large)===l.g.Compact?o.hb:o.ib;return Object(b.a)((d||"").toLowerCase(),e,u,c);case o.wb.PROFILE_COMMENTS:case o.wb.PROFILE_POSTS:return Object(a.a)("u_".concat(d),u,c);case o.wb.PROFILE_PRIVATE:const{listingType:n}=i;return Object(b.b)(d.toLowerCase(),n);default:return null}},R=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(s!==o.wb.MULTIREDDIT)return null;const{params:i,queryParams:c}=r,{multiredditName:d,sort:u=o.N.HOT}=i;let{username:l}=i;l||(l=t.user.account?Object(v.f)(t.user.account):"me");const b=Object(E.h)(l,d);return Object(a.a)(b,u,c)},A=e=>{const{route:t,match:n}=e,{name:r}=t.meta;if(r!==o.wb.SEARCH_RESULTS)return null;const{subredditName:i}=n.params,{username:c}=n.params,a=Object(u.c)(s()(n.queryParams,g.p));return Object(u.b)(i,c,a)},N=(e,t,n)=>{const{route:r,match:s}=e,{name:c}=r.meta;if(!c||c!==o.wb.COMMENTS)return null;const{partialCommentId:a,partialPostId:d}=s.params,u=Object(I.l)(d),l=a&&Object(h.e)(a),{hasSortParam:b,sortToUse:p}=Object(y.a)(t,u);return Object(i.a)(u,l,{sort:p,hasSortParam:b})},k=e=>"SettingsPage-"+e.match.params.page,L=e=>{const{route:t,match:n}=e,{name:r}=t.meta;if(!r||r!==o.wb.EXPLORE)return null;const{categoryName:s}=n.queryParams;return Object(c.a)({categoryName:s})},U=e=>{const{route:t,match:n}=e;if(t.meta.name!==o.wb.SUBREDDIT_WIKI)return;const{subredditName:r=j.e,wikiPageName:s,wikiSubRoute:i}=n.params;return["Wiki",r,i,s].join("--")}},"./src/reddit/helpers/stewards.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/constants/stewards.ts");const o=new Set([r.eb.Modqueue,r.eb.Reports,r.eb.Spam]),i=e=>e.bannedBy===s.a,c=e=>o.has(e)},"./src/reddit/helpers/tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r);const o=e=>s()(e).sort((t,n)=>{const r=e[t.tag.id].tag.text.toLowerCase(),s=e[n.tag.id].tag.text.toLowerCase();return r<s?-1:r>s?1:0}),i=e=>!e.id&&!!e.action},"./src/reddit/helpers/timeApiRoute/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/lib/constants/index.ts"),s=n("./src/telemetry/index.ts");async function o(e,t){const n=s.c.start();try{const o=await t();return Object(s.b)(r.l.Redesign,{page:e,type:"route",duration:s.c.end(n)}),o}finally{s.c.cancel(n)}}},"./src/reddit/helpers/trackers/blade.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"k",(function(){return g}));var r=n("./src/reddit/constants/blade.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>n=>Object.assign({},s.defaults(n),{source:r.d.Appearance,action:"click",noun:e,actionInfo:s.actionInfo(n,{paneName:t}),subreddit:s.subreddit(n)}),i=e=>o("save_style",e),c=e=>o("cancel_style",e),a=e=>t=>({source:r.d.Structure,action:"click",noun:e,screen:s.screen(t),subreddit:s.subreddit(t)}),d=e=>t=>({source:r.d.Appearance,action:"click",noun:e,screen:s.screen(t),subreddit:s.subreddit(t)}),u=(e,t)=>n=>({source:"colorpicker",action:"click",noun:e,actionInfo:s.actionInfo(n,{paneName:r.g[t]}),screen:s.screen(n),subreddit:s.subreddit(n)}),l=e=>t=>({source:r.h[e],action:"click",noun:"colorpicker",actionInfo:s.actionInfo(t,{paneName:r.g[e]}),screen:s.screen(t),subreddit:s.subreddit(t)}),b=e=>({screen:s.screen(e),subreddit:s.subreddit(e)}),p=()=>e=>Object.assign({source:r.d.Appearance,action:"view",noun:"blade"},b(e)),m=e=>t=>Object.assign({source:r.a[e],action:"click",noun:r.b[e]},b(t)),f=()=>e=>Object.assign({source:r.d.Appearance,action:"click",noun:"back"},b(e)),O=(e,t)=>Object.assign({},s.defaults(e),(e=>t=>Object.assign({source:r.d.PostFlairManagement,action:"click",noun:e},b(t)))(t)(e)),g=e=>t=>({source:r.d.MenuLinks,action:"click",noun:e?"wiki_link_on":"wiki_link_off",screen:s.screen(t),subreddit:s.subreddit(t),userSubreddit:s.userSubreddit(t)})},"./src/reddit/helpers/trackers/chat.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return y}));var r=n("./src/reddit/constants/chat.ts"),s=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/telemetry/models/Event.ts");const i=e=>({screen:Object(s.screen)(e),subreddit:Object(s.subreddit)(e)}),c=()=>e=>Object.assign({source:o.b.ChatSidebarWidget,action:"view",noun:"chat_rooms",chat:Object(s.numberChannels)(e)},i(e)),a=e=>t=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"view_room",chat:Object(s.channel)(t,e)},i(t)),d=e=>t=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"join_room",chat:Object(s.channel)(t,e)},i(t)),u=()=>e=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"view_all_rooms",chat:Object(s.numberChannels)(e)},i(e)),l=e=>t=>Object.assign({source:o.b.ChatSidebarModal,action:"click",noun:"view_room",chat:Object(s.channel)(t,e)},i(t)),b=e=>t=>Object.assign({source:o.b.ChatSidebarModal,action:"click",noun:"join_room",chat:Object(s.channel)(t,e)},i(t)),p=()=>e=>Object.assign({source:o.b.ChatSetup,action:"view",noun:"create_chat_room"},i(e)),m=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"create_chat_room",chat:{id:n,type:r.f[s]}},i(t))},f=()=>e=>Object.assign({source:o.b.ChatSetup,action:"view",noun:"edit_chat_room"},i(e)),O=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"edit_chat_room",chat:{id:n,type:r.f[s]}},i(t))},g=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"delete_chat_room",chat:{id:n,type:r.f[s]}},i(t))},j=()=>e=>Object.assign({source:o.b.Nav,action:"view",noun:"orangered_06"},i(e)),y=e=>t=>Object.assign({source:"settings_privacy",action:"save",noun:"receive_chat_invites",setting:{value:e,oldValue:e},actionInfo:Object(s.actionInfo)(t,{settingValue:e})},Object(s.defaults)(t))},"./src/reddit/helpers/trackers/coins.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p}));var r=n("./src/reddit/selectors/telemetry.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s);let i;const c=()=>i,a=()=>i=o()(),d=()=>i=void 0,u="coins_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_coins",correlationId:c()},r.defaults(e)),b=e=>t=>Object.assign({source:u,action:"click",noun:"coins_".concat(e),correlationId:c()},r.defaults(t)),p=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:c()},r.defaults(e))},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/telemetry/index.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"commentlist",noun:"bottom"},s.defaults(e),{listing:s.listing(e,t),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/commentsPage.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f}));var r=n("./src/reddit/models/PostDraft/index.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/comments.ts"),c=n("./src/reddit/selectors/platform.ts"),a=n("./src/reddit/selectors/telemetry.ts");const d=e=>{const t=Object(c.o)(e);return Object.assign({source:"comment_composer",action:o.d.CLICK},Object(a.defaults)(e),{screen:Object(a.screen)(e),subreddit:Object(a.subreddit)(e),post:t?Object(a.post)(e,t):null,profile:Object(a.profile)(e)})},u=(e,t,n,r)=>{const o={commentId:r,commentsPageKey:n},c=r&&Object(i.j)(e,o)||0;return Object(s.a)(Object.assign({noun:"comment"},d(e),{comment:r?Object(a.comment)(e,r):null,listing:Object(a.listing)(e,void 0,{depth:c}),commentComposer:{editorMode:t}}))},l=e=>Object(s.a)(Object.assign({noun:"cancel"},d(e))),b=(e,t)=>{t===r.c.replyToPost&&Object(s.a)(Object.assign({noun:"input"},d(e)))},p=(e,t)=>Object(s.a)(Object.assign({source:"comment",noun:"delete",action:"click"},Object(a.defaults)(t),{screen:Object(a.screen)(t),subreddit:Object(a.subreddit)(t),post:Object(a.post)(t,e)})),m=e=>Object(s.a)(Object.assign({noun:"edit"},d(e))),f=e=>Object(s.a)(Object.assign({noun:"save_edit"},d(e)))},"./src/reddit/helpers/trackers/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"K",(function(){return v})),n.d(t,"L",(function(){return S})),n.d(t,"A",(function(){return T})),n.d(t,"B",(function(){return C})),n.d(t,"E",(function(){return w})),n.d(t,"F",(function(){return D})),n.d(t,"h",(function(){return P})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return R})),n.d(t,"J",(function(){return A})),n.d(t,"u",(function(){return N})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return L})),n.d(t,"z",(function(){return U})),n.d(t,"C",(function(){return M})),n.d(t,"D",(function(){return F})),n.d(t,"M",(function(){return B})),n.d(t,"s",(function(){return G})),n.d(t,"t",(function(){return q})),n.d(t,"G",(function(){return V})),n.d(t,"H",(function(){return H})),n.d(t,"I",(function(){return K})),n.d(t,"c",(function(){return W})),n.d(t,"b",(function(){return Y})),n.d(t,"a",(function(){return J})),n.d(t,"e",(function(){return z})),n.d(t,"d",(function(){return Q})),n.d(t,"r",(function(){return $})),n.d(t,"l",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"m",(function(){return se})),n.d(t,"o",(function(){return oe})),n.d(t,"p",(function(){return ie})),n.d(t,"n",(function(){return ce})),n.d(t,"i",(function(){return ae}));var r,s=n("./src/lib/stringInterpolate/index.ts"),o=n("./src/reddit/constants/categories.tsx"),i=n("./src/reddit/constants/tracking.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/models/DiscoveryUnit/index.ts"),d=n("./src/reddit/models/Widgets/index.ts"),u=n("./src/reddit/selectors/focusedVerticalSuggestion.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/telemetry.ts"),p=n("./src/reddit/selectors/widgets.ts"),m=n("./src/telemetry/index.ts");!function(e){e.HEADER_SUBREDDIT="header_subreddit",e.ITEM_POST="item_post",e.ITEM_POST_SUBREDDIT="item_post_subreddit",e.ITEM_SUBREDDIT="item_subreddit",e.ITEM_SUBREDDIT_HIDE="item_subreddit_hide",e.ITEM_SUBREDDIT_SUBSCRIBE="item_subreddit_subscribe",e.ITEM_SUBREDDIT_UNSUBSCRIBE="item_subreddit_unsubscribe"}(r||(r={}));const f="discovery_unit",O=(e,t,n)=>Object.assign({},b.defaults(e),{source:f,screen:b.screen(e),discoveryUnit:{id:t.id,type:t.unitType,title:t.title&&n?Object(s.a)(t.title,{subredditName:n.name}):t.title,name:t.unitName}}),g=(e,t,n)=>Object.assign({},O(e,t,n),{source:"global",action:"view",noun:"discovery_unit"}),j=(e,t)=>Object.assign({},b.defaults(e),{correlationId:Object(c.c)(c.a.SearchResults),screen:b.screen(e),noun:"search_result_discovery_unit",post:t?b.post(e,t):null,discoveryUnit:{name:a.s,id:"xd_72",type:"listing"}}),y=(e,t)=>{Object(m.a)(_(t)(e))},_=(e,t)=>n=>g(n,e,t),h=(e,t,n,r)=>"unitName"in t?O(e,t,r):((e,t,n)=>Object.assign({},b.defaults(e),{source:"search",screen:b.screen(e),search:n?Object.assign({},b.search(e,n),{structureType:b.StructureType.Trending}):null,discoveryUnit:{id:t.name,type:"listing",title:t.layout.title,name:t.name}}))(e,t,n),E=(e,t,n,s,o)=>Object.assign({},h(e,t,s,o),{action:"view",noun:r.ITEM_POST,post:b.post(e,n)}),I=e=>{let{post:t,rawQuery:n,searchQuery:r}=e;return{displayQuery:decodeURIComponent(r),rawQuery:n?decodeURIComponent(n):void 0,structureType:t&&t.isSponsored?b.StructureType.PromotedTrend:b.StructureType.Trending}},v=(e,t)=>{const n=t.post?t.post.id:void 0;Object(m.a)(Object.assign({},j(e,n),{metaSearch:I(t),source:"search",action:"click"}))},S=(e,t)=>{const n=t.post?t.post.id:void 0;Object(m.a)(Object.assign({},j(e,n),{metaSearch:I(t),source:"search",action:"view"}))},T=(e,t,n,r)=>{Object(m.a)(E(e,t,n,r))},C=(e,t,n,r)=>s=>E(s,e,t,n,r),w=(e,t,n,s)=>{const o=h(e,t,s);Object(m.a)(Object.assign({},o,Object(p.b)(e,n),{action:"view",noun:r.ITEM_SUBREDDIT}))},D=(e,t,n)=>{Object(m.a)(Object.assign({},O(e,t),{source:f,action:i.d.CLICK,noun:"title_category",subreddit:{categoryName:Object(o.g)(n)}}))},P=(e,t)=>{Object(m.a)(Object.assign({},O(e,t),{source:f,action:i.d.CLICK,noun:"show_less_often"}))},x=(e,t,n,r)=>{Object(m.a)(R(t,n,r)(e))},R=(e,t,n,s)=>o=>{const c=h(o,e,n,s);return Object.assign({},c,{source:f,action:i.d.CLICK,noun:r.ITEM_POST,post:b.post(o,t)})},A=()=>e=>t=>({source:"search",action:i.d.CLICK,noun:r.ITEM_POST,post:b.post(t,e),search:{structureType:b.StructureType.Trending}}),N=(e,t)=>n=>s=>Object.assign({},e?O(s,e,t):{},{source:f,action:i.d.CLICK,noun:r.ITEM_POST,post:b.post(s,n)}),k=(e,t,n,r)=>{Object(m.a)(L(t,n,r)(e))},L=(e,t,n,r)=>s=>{const o=Object(l.b)(s,{postId:t}),c=o?Object(p.b)(s,o):void 0,a=h(s,e,n,r);return Object.assign({},a,c,{source:f,action:i.d.CLICK,noun:"item_post_subreddit",post:b.post(s,t)})},U=(e,t,n)=>r=>s=>{const o=Object(l.b)(s,{postId:t}),c=o?Object(p.b)(s,o):void 0,a=h(s,e,void 0,n);return Object.assign({},a,c,{source:f,action:i.d.CLICK,noun:r?"item_post_subreddit_unsubscribe":"item_post_subreddit_subscribe",post:b.post(s,t)})},M=(e,t,n)=>{Object(m.a)(Object.assign({},O(e,t),Object(p.b)(e,n),{source:f,action:i.d.CLICK,noun:r.ITEM_SUBREDDIT}))},F=(e,t)=>n=>r=>Object.assign({},O(r,e),Object(p.b)(r,t),{source:f,action:i.d.CLICK,noun:n?"item_subreddit_unsubscribe":"item_subreddit_subscribe"}),B=(e,t,n)=>{const r=h(e,t);Object(m.a)(Object.assign({},r,Object(p.b)(e,n),{source:"search",action:i.d.CLICK,noun:"search_result_discovery_unit_subreddit"}))},G=(e,t,n)=>{const r=h(e,t);Object(m.a)(Object.assign({},r,Object(p.b)(e,n),{source:f,action:i.d.CLICK,noun:"footer_subreddit"}))},q=(e,t)=>n=>{const r=t?Object(d.k)(t):void 0,s=r?Object(p.b)(n,r):void 0;return Object.assign({},O(n,e,t),s,{source:f,action:i.d.CLICK,noun:"footer_subreddit"})},V=(e,t,n)=>{Object(m.a)(Object.assign({},O(e,t),Object(p.b)(e,n),{source:f,action:i.d.CLICK,noun:"title_subreddit"}))},H=(e,t)=>n=>{const r=Object(d.k)(t);return Object.assign({},O(n,e,t),Object(p.b)(n,r),{source:f,action:i.d.CLICK,noun:"title_subreddit"})},K=(e,t)=>n=>r=>Object.assign({},O(r,e),Object(p.b)(r,t),{source:f,action:i.d.CLICK,noun:n?"title_subreddit_unsubscribe":"title_subreddit_subscribe"}),W=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"status",actionInfo:b.actionInfo(n,{success:!0}),noun:"loading"}),Y=(e,t,n)=>r=>Object.assign({},O(r,e,n),{action:"status",actionInfo:b.actionInfo(r,{reason:t,success:!1}),noun:"loading"}),J=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"click",noun:"close"}),z=(e,t,n)=>r=>Object.assign({},h(r,e,t,n),{action:"click",noun:"scroll"}),Q=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"click",noun:"overflow_menu"}),X=e=>({id:"xd_focus_verticals",unitType:a.f.Listing,experiment:"",title:e,unitName:"focused_vertical_suggestion",enabled:!1,layout:a.d.Large,surface:a.e.Frontpage,url:"gql.reddit.com"}),Z=(e,t)=>b.actionInfo(e,{position:Object(u.e)(e,{listingKey:t})}),$=(e,t,n)=>{const r=X(e);return e=>Object.assign({},g(e,r),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)})},ee=(e,t,n)=>{const r=X(e);return e=>Object.assign({},E(e,r,n),{actionInfo:Z(e,t)})},te=(e,t,n)=>{const s=X(e);return e=>Object.assign({},O(e,s),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)||null,source:f,action:i.d.VIEW,noun:r.ITEM_SUBREDDIT})},ne=(e,t,n)=>{const s=X(e);return e=>Object.assign({},O(e,s),{actionInfo:Z(e,t),post:b.post(e,n)||null,source:f,action:i.d.CLICK,noun:r.ITEM_POST})},re=(e,t,n,s)=>{const o=X(e);return e=>Object.assign({},O(e,o),{actionInfo:Z(e,t),subreddit:b.subredditById(e,s)||null,post:b.post(e,n)||null,source:f,action:i.d.CLICK,noun:r.ITEM_POST_SUBREDDIT})},se=(e,t,n)=>{const s=X(e);return e=>Object.assign({},O(e,s),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)||null,source:f,action:i.d.CLICK,noun:r.ITEM_SUBREDDIT})},oe=(e,t,n,s)=>{const o=X(e);return e=>Object.assign({},O(e,o),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)||null,post:s?b.post(e,s):null,source:f,action:i.d.CLICK,noun:r.ITEM_SUBREDDIT_SUBSCRIBE})},ie=(e,t,n,s)=>{const o=X(e);return e=>Object.assign({},O(e,o),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)||null,post:s?b.post(e,s):null,source:f,action:i.d.CLICK,noun:r.ITEM_SUBREDDIT_UNSUBSCRIBE})},ce=(e,t,n)=>{const s=X(e);return e=>Object.assign({},O(e,s),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)||null,source:f,action:i.d.CLICK,noun:r.ITEM_SUBREDDIT_HIDE})},ae=(e,t,n)=>{const s=X(e);return e=>Object.assign({},O(e,s),{actionInfo:Z(e,t),subreddit:b.subredditById(e,n)||null,source:f,action:i.d.CLICK,noun:r.HEADER_SUBREDDIT})}},"./src/reddit/helpers/trackers/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/reddit/selectors/experiments/emailCollection.ts"),o=n("./src/reddit/selectors/telemetry.ts");const i=e=>t=>({source:e,action:r.d.VIEW,actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"email_collection"}),c=e=>t=>({source:e,action:r.d.CLICK,actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"add_email_collection"}),a=e=>t=>({source:e,action:"close",actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"email_collection"}),d=e=>Object.assign({},o.defaults(e),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(e,{settingValue:Object(s.a)(e)}),noun:"save_email_collection"}),u=e=>t=>Object.assign({},o.defaults(t),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(t,{reason:e?"1":"0",settingValue:Object(s.a)(t)}),noun:"email_digest_check"}),l=e=>Object.assign({},o.defaults(e),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(e,{settingValue:Object(s.a)(e)}),noun:"email_settings_link"})},"./src/reddit/helpers/trackers/emailVerification.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var r=n("./src/reddit/selectors/telemetry.ts");const s="tooltip",o=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"view",noun:"verification",source:e}),i=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"close",noun:"verification",source:e}),c=(e,t)=>n=>Object.assign({},Object(r.defaults)(n),{action:"click",noun:"verification_".concat(t),source:e}),a=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"send",noun:"verification_email_".concat(e),source:"email"}),d=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"click",noun:"verification_email_".concat(e),source:"email"}),u=()=>e=>Object.assign({},Object(r.defaults)(e),{action:"confirm",noun:"verification_email",source:"email"})},"./src/reddit/helpers/trackers/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r,s=n("./src/reddit/constants/tracking.ts"),o=n("./src/reddit/selectors/telemetry.ts");!function(e){e.SubredditInlineTooltip="subreddit_inline_tooltip",e.EditSubredditIcon="edit_subreddit_icon",e.EditSubredditDescription="edit_subreddit_description",e.SaveDescription="save_description",e.Error="error"}(r||(r={}));const i=e=>({subreddit:o.subreddit(e),userSubreddit:o.userSubreddit(e)}),c=e=>Object.assign({source:"subreddit_tooltip",noun:r.SubredditInlineTooltip,action:s.d.VIEW},i(e)),a=e=>Object.assign({source:"id_card",noun:r.EditSubredditIcon,action:s.d.CLICK},i(e)),d=e=>Object.assign({source:"id_card",noun:r.EditSubredditDescription,action:s.d.CLICK},i(e)),u=(e,t)=>n=>Object.assign({source:"id_card",noun:r.SaveDescription,action:s.d.CLICK,setting:{value:String(e),oldValue:String(t)}},i(n)),l=(e,t)=>Object.assign({source:"id_card",noun:r.Error,action:s.d.VIEW},i(e),o.defaults(e),{actionInfo:o.actionInfo(e,{reason:t})})},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/selectors/platform.ts"),i=n("./src/reddit/selectors/telemetry.ts");const c=e=>({profile:i.profile(e),screen:i.screen(e),subreddit:i.subreddit(e)}),a=(e,t,n)=>r=>Object.assign({source:Object(o.i)(r)||n?"post_lightbox":"post_detail",action:"click",noun:t},c(r),{post:i.post(r,e)}),d=(e,t)=>n=>{const r=i.currentPost(n);return r?a(r.id,e,t)(n):Object.assign({source:Object(o.i)(n)||t?"post_lightbox":"post_detail",action:"click",noun:e},c(n))},u=(e,t)=>n=>Object(s.a)(Object.assign({},a(e,t)(n),i.defaults(n))),l=e=>t=>Object.assign({source:"id_card",action:r.d.CLICK,noun:e},c(t),{post:i.currentPost(t),userSubreddit:i.userSubreddit(t)})},"./src/reddit/helpers/trackers/modTools.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"l",(function(){return O}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/telemetry.ts");const s=new Set(["approve","ignore_reports","remove","restore_reports","spam"]),o=e=>({screen:Object(r.screen)(e),profile:Object(r.profile)(e),subreddit:Object(r.subreddit)(e),userSubreddit:Object(r.userSubreddit)(e)}),i=e=>t=>Object.assign({source:"nav",action:"click",noun:e?"mod_mode_on":"mod_mode_off"},o(t)),c=(e,t)=>n=>Object.assign({source:"post_mod_action_menu",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t)},o(n)),a=(e,t)=>n=>Object.assign({source:"comment",action:"click",noun:e,modAction:s.has(e)?Object(r.modActionSelector)(n,t):void 0,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),d=(e,t)=>n=>Object.assign({source:"comment_overflow_menu",action:"click",noun:e,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),u=(e,t)=>n=>Object.assign({source:"mod_distinguish_menu",action:"click",noun:e,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),l=(e,t)=>n=>Object.assign({source:"comment_mod_action_menu",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),b=(e,t)=>n=>Object.assign({source:"comment_report_menu",action:"click",noun:e,comment:Object(r.comment)(n,t),post:Object(r.post)(n,t)},o(n)),p=(e,t)=>n=>Object.assign({source:"post_report_menu",action:"click",noun:e,post:Object(r.post)(n,t)},o(n)),m=(e,t)=>n=>({source:"post",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),subreddit:Object(r.subredditByPostOrCommentId)(n,t)}),f=(e,t)=>n=>({source:"comment",action:"click",noun:e,comment:Object(r.comment)(n,t),modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),subreddit:Object(r.subredditByPostOrCommentId)(n,t)}),O=(e,t)=>n=>Object.assign({source:e,action:"click",noun:"steward_reports_only",actionInfo:Object(r.actionInfo)(n,{settingValue:t?"on":"off"})},o(n))},"./src/reddit/helpers/trackers/post.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return j}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/trackers/modTools.ts"),o=n("./src/reddit/models/Post/index.ts"),i=n("./src/telemetry/index.ts"),c=n("./src/reddit/selectors/telemetry.ts");const a=e=>e&&e.meta&&e.meta.name&&e.meta.name===r.wb.DUPLICATES,d=(e,t)=>{const{currentPage:n}=e.platform,r=a(n)?"other_discussions":"post";return Object(i.a)(Object.assign({source:r,action:"view",noun:"post"},c.defaults(e),{post:c.post(e,t),profile:c.profile(e),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)}))},u=(e,t)=>Object(i.a)(Object.assign({source:"post",action:"view",noun:"ad"},c.defaults(e),{post:c.post(e,t),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)})),l=(e,t,n)=>Object(i.a)(Object.assign({source:"post",action:"consume",noun:"post"},c.defaults(e),{post:c.post(e,t,n),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)})),b=(e,t,n,r)=>({noun:r,post:c.post(e,t),source:n}),p=(e,t,n,r)=>{const{currentPage:s}=e.platform;if(a(s)){const n=Object(o.l)(s&&s.urlParams.partialPostId||"");return{noun:"post",post:c.post(e,n),source:"other_discussions",targetPost:c.post(e,t)}}return b(e,t,n,r)},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return r=>{const{currentPage:o}=r.platform,i=a(o)?p(r,e,n,t):b(r,e,n,t);return Object.assign({},i,c.defaults(r),{action:"click",media:c.media(r,e),modAction:s.a.has(i.noun)?c.modActionSelector(r,e):void 0,subreddit:c.subreddit(r)||c.subredditByPostOrCommentId(r,e)})}},f=(e,t)=>n=>Object(i.a)(Object.assign({source:"post",action:"click",noun:t},c.defaults(n),{post:c.post(n,e),media:c.media(n,e),screen:c.screen(n),session:c.session(n),subreddit:c.subreddit(n)})),O=(e,t)=>({post:c.post(e,t),profile:c.profile(e)}),g=e=>t=>Object.assign({action:"pin",noun:"post",source:"profile"},O(t,e),c.defaults(t)),j=e=>t=>Object.assign({action:"unpin",noun:"post",source:"profile"},O(t,e),c.defaults(t))},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"t",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"o",(function(){return h})),n.d(t,"w",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"q",(function(){return S})),n.d(t,"p",(function(){return T})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"v",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"m",(function(){return x})),n.d(t,"y",(function(){return R})),n.d(t,"z",(function(){return A})),n.d(t,"A",(function(){return N})),n.d(t,"x",(function(){return k})),n.d(t,"j",(function(){return U})),n.d(t,"h",(function(){return M})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"b",(function(){return G})),n.d(t,"r",(function(){return q})),n.d(t,"g",(function(){return V})),n.d(t,"u",(function(){return H}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/reddit/helpers/correlationIdTracker.ts"),o=n("./src/reddit/helpers/media/index.ts"),i=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/PostDraft/index.ts"),a=n("./src/reddit/selectors/postDraft.ts"),d=n("./src/reddit/selectors/telemetry.ts"),u=n("./src/reddit/selectors/user.ts"),l=n("./src/telemetry/index.ts"),b=n("./src/telemetry/models/PostComposer.ts"),p=n("./src/telemetry/models/PostDraft.ts");const m={imageOnly:"image",linkOnly:"link",media:"media",poll:"self",post:"self",crosspost:"crosspost"},f=e=>Object.assign({source:"post_composer",action:r.d.CLICK},d.defaults(e),{screen:d.screen(e),correlationId:Object(s.c)(s.a.PostComposer)}),O=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===i.h.MARKDOWN?"markdown":"rte"},g=e=>{Object(l.a)(Object.assign({noun:"cancel"},f(e)))},j=e=>{Object(l.a)(Object.assign({noun:"discard"},f(e)))},y=e=>{Object(l.a)(Object.assign({noun:"subreddit_choice",subreddit:d.subreddit(e)},f(e),{actionInfo:d.chatPostActionInfo(e)}))},_=e=>{Object(l.a)(Object.assign({noun:"subreddit_selector"},f(e)))},h=(e,t)=>{Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:m[t]}},f(e)))},E=(e,t,n)=>{"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},f(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:n?"on":"off"}},f(e)))},I=(e,t,n)=>{Object(l.a)(Object.assign({noun:"post",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},O(e,t)),post:n?d.post(e,n):null},f(e)))},v=(e,t)=>{const n=t===i.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:n},f(e)))},S=(e,t)=>{Object(l.a)(Object.assign({noun:"save",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},O(e,t))},f(e)))},T=(e,t)=>{const n=e.uploads[t];n.error&&Object(l.a)(Object.assign({},f(e),{noun:"media",action:r.d.REJECT,actionInfo:Object.assign({},d.actionInfo(e),{reason:JSON.stringify(n.error)})}))},C=(e,t)=>{t.forEach(t=>{const n=Object(o.f)(t.type);n&&Object(l.a)(Object.assign({},f(e),{action:r.d.DRAG,noun:n}))})},w=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),{noun:"input",postComposer:{inputType:n},action:t,actionInfo:d.chatPostActionInfo(e)}))},D=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),{noun:n,action:Object(b.getToggleAction)(t),actionInfo:d.chatPostActionInfo(e)}))},P=e=>{Object(l.a)(Object.assign({},f(e),{noun:"hide_oc_description",action:r.d.CLICK}))},x=(e,t)=>{Object(l.a)(Object.assign({},f(e),{action:r.d.CLICK,noun:"share_profile_post_to_category",subreddit:{categoryName:t}}))},R=e=>{Object(l.a)(Object.assign({},f(e),{action:r.d.CLICK,noun:"recommend_oc_community"}))},A=(e,t)=>{Object(l.a)(Object.assign({},f(e),{action:r.d.CLICK,noun:"recommended_oc_category",subreddit:{categoryName:t}}))},N=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),{action:r.d.CLICK,noun:"recommended_oc_subreddit",subreddit:{id:n.id,name:n.name,categoryName:t}}))},k=e=>{Object(l.a)(Object.assign({},f(e),{noun:"recommend_oc_community",action:r.d.CLOSE}))},L=(e,t)=>{if(t){const n=d.subredditById(e,t);if(n)return{subreddit:n};const r=d.profileById(e,t);if(r)return{profile:r}}},U=(e,t)=>{const{draftId:n,destSubreddit:r}=t,s=Object(u.i)(e),o=Object(a.d)(e,{draftId:n}),i={authorId:s?s.id:void 0,createdTimestamp:o?o.created:void 0,id:n||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:i.type=p.DraftType.Link,i.urlLength=t.body.length;break;case c.b.Markdown:i.type=p.DraftType.Self,i.bodyTextLength=t.body.length;break;case c.b.RichText:i.type=p.DraftType.RichText,t.documentStats&&(i.bodyTextLength=t.documentStats.textLength,i.numberRteImages=t.documentStats.rteImagesCount,i.numberRteVideos=t.documentStats.rteVideosCount);break;case c.b.Image:i.type=p.DraftType.Image;break;case c.b.Video:i.type=p.DraftType.Video}return Object.assign({postDraft:i},L(e,r.id))},M=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_load"},f(e),U(e,t)))},F=(e,t)=>{Object(l.a)(Object.assign({noun:t.draftId?"draft_update":"draft_create"},f(e),U(e,t)))},B=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_delete"},f(e),((e,t)=>{const n=Object(u.i)(e),r={authorId:n?n.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:r.type=p.DraftType.Link,r.urlLength=(t.body||"").length;break;case c.b.Markdown:r.type=p.DraftType.Self,r.bodyTextLength=(t.body||"").length;break;case c.b.RichText:r.type=p.DraftType.RichText}return Object.assign({postDraft:r},L(e,t.subredditId))})(e,t)))},G=e=>{Object(l.a)(Object.assign({},f(e),{noun:"social_connect_link",action:r.d.CLICK}))},q=(e,t)=>{Object(l.a)(Object.assign({},f(e),{noun:"twitter_share_checkbox",action:Object(b.getToggleAction)(t)}))},V=(e,t,n)=>{Object(l.a)(Object.assign({},f(e),U(e,t),{noun:"draft_share",action:n?r.d.ENABLE:r.d.DISABLE}))},H=(e,t,n,r)=>{Object(l.a)(Object.assign({},f(e),{noun:"suggested_subreddit",subreddit:{id:n,name:r,postDifficultyRating:t}}))}},"./src/reddit/helpers/trackers/postList.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return f}));var r=n("./src/telemetry/index.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>Object.assign({},s.defaults(e),{media:s.media(e,t),post:s.post(e,t),profile:s.profile(e),subreddit:s.subreddit(e)}),i=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay_initial_load"}))},c=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"complete",noun:"autoplay_initial_load"}))},a=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_initial_load"}))},d=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_network_load"}))},u=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"consume",noun:"autoplay"}))},l=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay"}))},b=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_buffering"}))},p=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay"}))},m=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay_buffering"}))},f=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"postlist",noun:"bottom"},s.defaults(e),{listing:s.listing(e,t),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/premium.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("./src/reddit/selectors/telemetry.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s);let i;const c=()=>i,a=()=>i=o()(),d=()=>i=void 0,u="premium_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:c()},r.defaults(e)),b=()=>e=>Object.assign({source:u,action:"click",noun:"price",correlationId:c()},r.defaults(e)),p=()=>e=>Object.assign({source:u,action:"click",noun:"redeem_code",correlationId:c()},r.defaults(e)),m=()=>e=>Object.assign({source:u,action:"click",noun:"manage",correlationId:c()},r.defaults(e))},"./src/reddit/helpers/trackers/profileSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return E}));var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/PostComposer.ts");const d=e=>Object.assign({source:"profile_settings"},Object(i.defaults)(e)),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(i.currentProfileModelSelector)(e);if(n)return s()(n,["id","name","type",...t])},l=e=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_connect_link",action:o.d.CLICK}))},b=e=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_disconnect_link",action:o.d.CLICK}))},p=(e,t)=>{Object(c.a)(Object.assign({},d(e),{noun:"display_twitter_checkbox",action:Object(a.getToggleAction)(t)}))},m=(e,t)=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_account",action:o.d.CLICK,profile:{id:t.id,name:t.username}}))},f=e=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["display_name","about","avatar_url","cover_url","nsfw","content_visible","communities_visible"]),action:o.d.VIEW,noun:"settings_page"}))},O={profileIcon:"avatar",profileBanner:"cover"},g=(e,t)=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["avatar_url","cover_url"]),action:"upload",noun:O[t]}))},j=(e,t)=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,[]),action:"remove",noun:O[t]}))},y=e=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["display_name","about","nsfw","content_visible","communities_visible"]),action:"click",noun:"save_settings"}))},_=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"content_visible"}),h=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"nsfw"}),E=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"active_in_communities"})},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"m",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"h",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return x})),n.d(t,"a",(function(){return A})),n.d(t,"i",(function(){return N})),n.d(t,"n",(function(){return M})),n.d(t,"p",(function(){return F})),n.d(t,"c",(function(){return B})),n.d(t,"o",(function(){return V}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makePostDraftPageKey/index.ts"),o=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),i=n("./src/reddit/helpers/routeKey/index.ts"),c=n("./src/reddit/helpers/trackers/postComposer.ts"),a=n("./src/reddit/helpers/trackers/profileSettings.ts"),d=n("./src/reddit/models/Comment/index.ts"),u=n("./src/reddit/models/Post/index.ts"),l=n("./src/reddit/selectors/profile.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/constants/categories.tsx"),m=n("./src/reddit/helpers/correlationIdTracker.ts"),f=n("./src/reddit/helpers/trackers/coins.ts"),O=n("./src/reddit/helpers/trackers/premium.ts"),g=n("./src/reddit/helpers/trackers/searchResults.ts"),j=n("./src/reddit/selectors/experiments/searchFix.ts"),y=n("./src/reddit/selectors/postDraft.ts"),_=n("./src/reddit/selectors/telemetry.ts"),h=n("./src/telemetry/index.ts");const E=(e,t,n,c)=>{const{route:l}=e,{name:b}=l.meta;if(b)switch(b){case r.wb.COMMENTS:{const{partialCommentId:r,partialPostId:s}=e.match.params,a=Object(u.l)(s),l=Object(i.a)(e,t,t.posts.models[a]);if(!l)return;const b=r&&Object(d.e)(r),{sortToUse:p}=Object(o.a)(t,a);Object(h.a)(w(l,a,b,n,c,p)(t));break}case r.wb.INDEX:case r.wb.LISTING:case r.wb.MULTIREDDIT:case r.wb.SUBREDDIT:case r.wb.ORIGINAL_CONTENT:{const s=Object(i.d)(e,t);if(!s.listingKey)return;const{params:o,queryParams:a}=e.match,{sort:d=(s.sort?s.sort:r.N.HOT)}=o,u=a.t;Object(h.a)(I(s.listingKey,d,n,c,u)(t));break}case r.wb.TOPIC:{const s=Object(i.d)(e,t);if(!s.listingKey)return;const{params:o}=e.match,a=s.sort?s.sort:r.N.HOT,{sort:d=a,topicName:u}=o;Object(h.a)(q(s.listingKey,u,d,n,c)(t));break}case r.wb.PROFILE_OVERVIEW:{const s=Object(i.e)(e,t);if(!s)return;const{params:o,queryParams:a}=e.match,{sort:d=r.qb}=o,u=a.t;Object(h.a)(v(s,d,n,c,u)(t));break}case r.wb.PROFILE_POSTS:{const s=Object(i.e)(e,t);if(!s)return;const{queryParams:o}=e.match,{sort:a=r.qb,t:d=r.Ob}=o;Object(h.a)(S(s,a,n,c,d)(t));break}case r.wb.PROFILE_COMMENTS:{const s=Object(i.e)(e,t);if(!s)return;const{queryParams:o}=e.match,{sort:a=r.qb,t:d=r.Ob}=o;Object(h.a)(T(s,a,n,c,d)(t));break}case r.wb.SETTINGS:e.match.params.page===r.Jb.Profile?Object(a.j)(t):Object(h.a)(L(n,c)(t));break;case r.wb.POST_CREATION:break;case r.wb.POST_DRAFT:{const{draftId:r}=e.match.params,o=Object(s.a)(e.match.params);if(!o)return;R(t,o,r,n,c);break}case r.wb.SUBREDDIT_WIKI:Object(h.a)(G(n,c)(t));break;case r.wb.COINS:Object(h.a)(A(n,c)(t));break;case r.wb.PREMIUM:Object(h.a)(N(n,c)(t));break;case r.wb.APPEAL:Object(h.a)(k(n,c)(t));break;case r.wb.EXPLORE:{const r=Object(i.b)(e);if(!r)return;Object(h.a)(U(r,n,c)(t));break}}},I=(e,t,n,r,s,o)=>i=>{const{api:c}=i.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(i),{actionInfo:_.actionInfo(i,{success:a}),customFeed:_.customFeed(i),listing:_.listing(i,e,{sort:t,sortTime:s}),screen:_.screen(i),subreddit:_.subreddit(i),timer:_.timer(n,r),userSubreddit:_.userSubreddit(i),adblock:_.adblock(i),postFlair:{title:o}})},v=(e,t,n,r,s)=>o=>{const i=_.listing(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},_.defaults(o),{actionInfo:_.actionInfo(o,{success:a}),profile:_.profile(o),screen:_.screen(o),subreddit:_.subreddit(o),timer:_.timer(n,r),userSubreddit:_.userSubreddit(o),adblock:_.adblock(o)})},S=(e,t,n,r,s)=>o=>{const i=_.listing(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},_.defaults(o),{actionInfo:_.actionInfo(o,{success:a}),profile:_.profile(o),screen:_.screen(o),subreddit:_.subreddit(o),timer:_.timer(n,r),userSubreddit:_.userSubreddit(o),adblock:_.adblock(o)})},T=(e,t,n,r,s)=>o=>{const i=_.profileComments(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.profileCommentsPage,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},_.defaults(o),{actionInfo:_.actionInfo(o,{success:a}),profile:_.profile(o),screen:_.screen(o),subreddit:_.subreddit(o),timer:_.timer(n,r),userSubreddit:_.userSubreddit(o),adblock:_.adblock(o)})},C=e=>(t,n)=>r=>{const s=!r.profilePrivatePage.api.error[e]&&!r.profilePrivatePage.api.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(r),{actionInfo:_.actionInfo(r,{success:s}),profile:_.profile(r),screen:_.screen(r),subreddit:_.subreddit(r),timer:_.timer(n,t),userSubreddit:_.userSubreddit(r),adblock:_.adblock(r)})},w=(e,t,n,r,s,o)=>i=>{const{api:c}=i.commentsPage,a=!c.error[e]&&!c.pending[e],d=Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(i),{actionInfo:_.actionInfo(i,{success:a}),post:_.post(i,t),profile:_.profile(i),screen:_.screen(i),subreddit:_.subreddit(i),timer:_.timer(r,s),userSubreddit:_.userSubreddit(i),adblock:_.adblock(i),postEvent:_.postEventI13nSelector(i,{postId:t}),postCollection:_.postCollectionI13nSelector(i,{postId:t}),listing:_.listing(i,void 0,{sort:o})});return n&&(d.comment=_.comment(i,n)),d},D=(e,t,n)=>r=>{const s=r.creations.api.page.fetched[e],o=r.platform.currentPage?r.platform.currentPage.queryParams.source_id:void 0;return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(r),{actionInfo:_.actionInfo(r,{success:s}),post:o?_.post(r,o):void 0,screen:_.screen(r),subreddit:_.subreddit(r),timer:_.timer(t,n),userSubreddit:_.userSubreddit(r),adblock:_.adblock(r)})},P=(e,t,n)=>{Object(h.a)(Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e),{actionInfo:_.actionInfo(e,{success:t}),screen:_.screen(e),subreddit:_.subredditById(e,Object(b.H)(e,n)),userSubreddit:_.userSubreddit(e),adblock:_.adblock(e)}))},x=(e,t,n,r)=>{Object(h.a)(Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e),{profile:_.profileById(e,Object(l.m)(e,r)),screen:_.screen(e),subreddit:_.subredditById(e,Object(b.H)(e,n)),userSubreddit:_.userSubreddit(e),adblock:_.adblock(e)}))},R=(e,t,n,r,s)=>{const o=e.creations.api.page.pending[t],i=!e.creations.api.page.error[t]&&!o&&!!n,a=Object(y.h)(e,n);Object(h.a)(Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e),{actionInfo:_.actionInfo(e,{success:i}),screen:_.screen(e),subreddit:_.subreddit(e),timer:_.timer(r,s),userSubreddit:_.userSubreddit(e),adblock:_.adblock(e)},a?Object(c.j)(e,a):{}))},A=(e,t)=>n=>Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:f.e()},_.defaults(n),{timer:_.timer(e,t),adblock:_.adblock(n)}),N=(e,t)=>n=>Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:O.f()},_.defaults(n),{timer:_.timer(e,t),adblock:_.adblock(n)}),k=(e,t)=>n=>Object.assign({source:"appeal",action:"view",noun:"page"},_.defaults(n),{timer:_.timer(e,t)}),L=(e,t)=>n=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(n),{actionInfo:_.actionInfo(n),timer:_.timer(e,t)}),U=(e,t,n)=>r=>{const{api:s}=r.listings.listingOrder,o=!s.error[e]&&!s.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(r),{actionInfo:_.actionInfo(r,{success:o}),screen:_.screen(r),timer:_.timer(t,n),userSubreddit:_.userSubreddit(r),adblock:_.adblock(r)})},M=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e)),F=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e)),B=()=>e=>Object.assign({action:"view",source:"global",noun:"screen"},_.defaults(e),{actionInfo:_.actionInfo(e)}),G=(e,t)=>n=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(n),{customFeed:_.customFeed(n),subreddit:_.subreddit(n),timer:_.timer(e,t),userSubreddit:_.userSubreddit(n),adblock:_.adblock(n)}),q=(e,t,n,r,s,o)=>i=>Object.assign({},I(e,n,r,s,o)(i),{subreddit:{categoryName:Object(p.g)(t)}}),V=(e,t,n,s,o)=>i=>{let c=!0;if(t.type.indexOf(r.Ib.Posts)>-1){const{api:t}=i.listings.listingOrder;c=c&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(r.Ib.Subreddits)>-1||t.type.indexOf(r.Ib.Users)>-1){const{api:t}=i.listings.postOrder;c=c&&!t.error[e]&&!t.pending[e]}const a=Object(j.c)(i),d=o&&Object(j.b)(a);return Object.assign({},g.b(i,t),{source:"global",action:"view",noun:"screen",actionInfo:_.actionInfo(i,{success:c}),timer:_.timer(n,s),search:Object.assign({},_.search(i,t),d&&{originElement:o})},d&&{correlationId:Object(m.c)(m.a.SearchResults)})}},"./src/reddit/helpers/trackers/searchResults.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"n",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return I}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/correlationIdTracker.ts"),o=n("./src/reddit/selectors/experiments/searchFix.ts"),i=n("./src/reddit/selectors/telemetry.ts");const c="search",a="search_results_best",d=(e,t)=>{const n=i.subreddit(e);return{screen:i.screen(e),subreddit:n&&t&&t.restrict_sr?n:null}},u=(e,t)=>n=>{const r=t;return r.structureType="related",Object.assign({action:e,correlationId:Object(s.c)(s.a.SearchResults),noun:"related_search",source:c,search:i.search(n,r)},d(n))},l=(e,t,n,r)=>s=>Object.assign({},d(s,n),{source:c,action:"click",noun:t,actionInfo:i.actionInfo(s,r?{pageType:"search_results_best",position:0}:void 0),discoveryUnit:r?i.discoveryUnit(r):null,search:i.search(s,n),post:i.post(s,e),media:i.media(s,e)}),b=(e,t,n)=>s=>{let o=!0;if(t.type.indexOf(r.Ib.Posts)>-1){const{api:t}=s.listings.listingOrder;o=o&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(r.Ib.Subreddits)>-1||t.type.indexOf(r.Ib.Users)>-1){const{api:t}=s.listings.postOrder;o=o&&!t.error[e]&&!t.pending[e]}return Object.assign({},d(s,t),{source:c,action:"view",noun:"search_results_post",actionInfo:i.actionInfo(s,{success:o,pageType:"search_results_best",position:0}),discoveryUnit:i.discoveryUnit(n),search:i.search(s,t)})},p=(e,t)=>n=>({action:"view",actionInfo:i.actionInfo(n),metaSearch:i.metaSearch(t),noun:e,screen:i.screen(n),search:i.smartSearch(n,t),source:c}),m=(e,t)=>n=>({action:"click",actionInfo:i.actionInfo(n),noun:e,metaSearch:i.metaSearch(t),screen:i.screen(n),search:i.smartSearch(n,t),source:c}),f=(e,t,n)=>r=>({action:t,actionInfo:i.actionInfo(r),noun:e,screen:i.screen(r),search:i.search(r,n),source:a});var O;!function(e){e.TopResults="tab_top_results",e.Posts="tab_posts",e.CommunitiesAndUsers="tab_communities"}(O||(O={}));const g=(e,t)=>n=>Object.assign({},d(n,t),{source:c,action:"click",noun:e,correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:i.search(n,t)}),j=(e,t)=>n=>Object.assign({},d(n,t),{source:c,action:"click",noun:e,correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:i.search(n,t)}),y=(e,t)=>n=>({action:"click",correlationId:Object(s.c)(s.a.SearchResults),noun:e?r.Hb.ToSubreddit:r.Hb.ToGlobal,search:i.search(n,t),source:c}),_=(e,t,n,r)=>a=>{const u=Object(o.c)(a),l=r&&Object(o.b)(u);return Object.assign({},d(a,n),{source:c,action:"click",noun:"search_result_post",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(a,{relativePosition:i.getRelativePostOrder(a,t,e)}),search:Object.assign({},i.search(a,n),l&&{originElement:r}),post:i.post(a,t)})},h=(e,t)=>n=>{const r=Object(o.c)(n),a=t&&Object(o.b)(r);return Object.assign({},d(n,e),{source:c,action:"click",noun:"search_result_subreddit",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:Object.assign({},i.search(n,e),a&&{originElement:t}),subreddit:i.subreddit(n)})},E=(e,t,n,r)=>a=>{const u=Object(o.c)(a),l=r&&Object(o.b)(u);return Object.assign({},d(a,n),{source:c,action:"view",noun:"search_results_post",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(a,{relativePosition:i.getRelativePostOrder(a,t,e),position:i.getAbsoluteOrder(a,t,e)}),search:Object.assign({},i.search(a,n),l&&{originElement:r}),post:i.post(a,t)})},I=(e,t,n)=>r=>{const a=Object(o.c)(r),u=n&&Object(o.b)(a);return Object.assign({},d(r),{source:c,action:"click",noun:"search_result_".concat(e),correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(r),search:Object.assign({},i.search(r,t),u&&{originElement:n}),[e]:i[e](r)})}},"./src/reddit/helpers/trackers/submitValidation.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return E}));var r=n("./src/reddit/controls/FormFields/index.tsx"),s=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/telemetry/index.ts");const i=e=>Object.assign({source:"submit_validation"},s.defaults(e),{profile:s.profile(e),subreddit:s.subreddit(e)}),c={titleRegEx:"title_regex",titleStrings:"title_required_word",titleLength:"title_length",reposts:"repost_frequency",flair:"post_flair"},a=(e,t,n)=>{Object(o.a)(Object.assign({},i(e),{action:n?"deselect":"select",noun:c[t]}))},d=(e,t)=>t.action===r.d.ADD?u(e):t.action===r.d.REMOVE&&t.value&&void 0!==t.index?l(e,t.value,t.index):void 0,u=e=>{Object(o.a)(Object.assign({},i(e),{action:"add",noun:"title_required_word"}))},l=(e,t,n)=>{Object(o.a)(Object.assign({},i(e),{action:"remove",noun:"title_required_word",actionInfo:s.actionInfo(e,{settingValue:t,position:n})}))},b=(e,t)=>{Object(o.a)(Object.assign({},i(e),{action:"change",noun:"title_min",actionInfo:s.actionInfo(e,{settingValue:t})}))},p=(e,t)=>{Object(o.a)(Object.assign({},i(e),{action:"change",noun:"title_max",actionInfo:s.actionInfo(e,{settingValue:t})}))},m={none:"optional",required:"required",notAllowed:"not_allowed"},f=(e,t)=>{const n=m[t];Object(o.a)(Object.assign({},i(e),{action:"toggle",noun:"post_body",actionInfo:s.actionInfo(e,{settingValue:n})}))},O=(e,t)=>{Object(o.a)(Object.assign({},i(e),{action:"toggle",noun:"domain",actionInfo:s.actionInfo(e,{settingValue:"none"===t?"no_filtering":t})}))},g=(e,t,n)=>{if(t.action===r.d.ADD){return j(e,"whitelist"===n?"add_whitelist":"add_blacklist")}if(t.action===r.d.REMOVE&&t.value&&void 0!==t.index){const r="whitelist"===n?"remove_whitelist":"remove_blacklist";return y(e,t.value,t.index,r)}},j=(e,t)=>{Object(o.a)(Object.assign({},i(e),{action:t,noun:"domain"}))},y=(e,t,n,r)=>{Object(o.a)(Object.assign({},i(e),{action:r,noun:"domain",actionInfo:s.actionInfo(e,{settingValue:t,position:n})}))},_=(e,t)=>{Object(o.a)(Object.assign({},i(e),{action:"change",noun:"repost_days",actionInfo:s.actionInfo(e,{settingValue:t})}))},h=e=>{Object(o.a)(Object.assign({},i(e),{action:"click",noun:"save"}))},E=e=>{Object(o.a)(Object.assign({source:"global",noun:"screen",action:"view"},s.defaults(e),{profile:s.profile(e),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/subredditCreation.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("./src/reddit/selectors/telemetry.ts");const s=e=>t=>Object.assign({source:e,noun:"create_community_button",action:"click"},r.defaults(t),{actionInfo:r.actionInfo(t,{settingValue:t.user.account&&t.user.account.isMod?"existing_mod":"new_mod"})}),o=(e,t,n)=>s=>Object.assign({source:"community_form",noun:"save_community_button",action:"click"},r.defaults(s),{actionInfo:r.actionInfo(s,{settingValue:e}),subreddit:{id:n,name:t.name,publicDescription:t.publicDescription,nsfw:t.over18,accessType:t.type,topicTagContents:t.allTags}}),i=()=>e=>Object.assign({source:"community_form",noun:"cancel",action:"click"},r.defaults(e),{actionInfo:r.actionInfo(e)}),c=e=>t=>Object.assign({source:"community_form",noun:"error_message",action:"view"},r.defaults(t),{actionInfo:r.actionInfo(t,{reason:e})})},"./src/reddit/i18n/components.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r);function o(e){return s.a.createElement(s.a.Fragment,null,e.children)}function i(e){return s.a.createElement(s.a.Fragment,null,e.children)}function c(e){return s.a.createElement(s.a.Fragment,null,1===e.count?e.singular:e.plural)}},"./src/reddit/icons/svgs/Plus/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),s=n.n(r);t.a=e=>s.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20",version:"1.1"},s.a.createElement("g",{stroke:"none"},s.a.createElement("g",{transform:"translate(-34.000000, -136.000000)",fill:"inherit"},s.a.createElement("path",{d:"M45.2,147.2 L48.8,147.2 C49.46272,147.2 50,146.66272 50,146 C50,145.33728 49.46272,144.8 48.8,144.8 L45.2,144.8 L45.2,141.2 C45.2,140.53728 44.66272,140 44,140 C43.33728,140 42.8,140.53728 42.8,141.2 L42.8,144.8 L39.2,144.8 C38.53728,144.8 38,145.33728 38,146 C38,146.66272 38.53728,147.2 39.2,147.2 L42.8,147.2 L42.8,150.8 C42.8,151.46272 43.33728,152 44,152 C44.66272,152 45.2,151.46272 45.2,150.8 L45.2,147.2 Z"}))))},"./src/reddit/icons/svgs/Trash2/index.m.less":function(e,t,n){e.exports={icon:"_1Fa4RPHlhrfUZuNaXK2-eP"}},"./src/reddit/icons/svgs/Trash2/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/classNames/index.ts"),i=n("./src/reddit/icons/svgs/Trash2/index.m.less"),c=n.n(i);const a=e=>s.a.createElement("svg",{className:Object(o.a)(c.a.icon,e.className),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},s.a.createElement("path",{d:"M16.5,2H12.71l-.85-.85A.5.5,0,0,0,11.5,1h-3a.5.5,0,0,0-.35.15L7.29,2H3.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h13a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,16.5,2Z"}),s.a.createElement("path",{d:"M16.5,5H3.5a.5.5,0,0,0-.5.5v12A1.5,1.5,0,0,0,4.5,19h11A1.5,1.5,0,0,0,17,17.5V5.5A.5.5,0,0,0,16.5,5ZM6.75,15.5a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Z"}));t.b=a},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,s=n("./node_modules/uuid/v4.js"),o=n.n(s);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(r||(r={}));const i=()=>o()()},"./src/reddit/models/Badge/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return d}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/config.ts");function o(e){return"userId"in e}function i(e){return!(!e.extra||!e.extra.membership)&&!!e.extra.membership.included}function c(e,t,n){const r=n.media[0],s=Object.keys(r);let o={width:1/0,height:1/0,url:""};if(s.forEach(n=>{const s=r[n],[i,c]=n.split("x").map(e=>parseInt(e));(i<o.width&&i>=e||c<o.height&&c>=t)&&(o={height:c,width:i,url:s})}),!o.url&&s.length){const e=Object.keys(r)[0],t=r[e],[n,s]=e.split("x").map(e=>parseInt(e));o={height:s,width:n,url:t}}return o.url}function a(e){return e.startsWith("https")?e:"".concat(s.a.assetPath,"/").concat(e)}function d(e,t,n){const r=c(e,t,n),s=c(2*e,2*t,n);return{url:a(r),url2x:a(s)}}!function(e){e.First="p1",e.Second="p2"}(r||(r={}))},"./src/reddit/models/Badge/managementPage.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c}));var r,s,o=n("./src/reddit/models/Badge/index.ts");!function(e){e.Loyalty="loyalty",e.Achievement="achievement",e.Cosmetic="cosmetic"}(r||(r={})),function(e){e.Gallery="gallery",e.MyBadges="my-badges"}(s||(s={}));const i={[r.Loyalty]:o.a.First,[r.Achievement]:o.a.Second,[r.Cosmetic]:void 0},c=e=>e===o.a.First?r.Loyalty:e===o.a.Second?r.Achievement:r.Cosmetic},"./src/reddit/models/Comment/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r,s,o=n("./src/reddit/constants/comments.ts"),i=n("./src/reddit/constants/things.ts"),c=n("./src/lib/constants/index.ts");!function(e){e.User="user",e.Moderator="moderator"}(r||(r={})),function(e){e.None="",e.Friend="F",e.Submitter="S",e.Moderator="M",e.Admin="A",e.Alumni="special",e.Cake="cake"}(s||(s={}));const a=e=>"".concat(i.a).concat(e&&e.toLowerCase()),d=e=>({id:e,type:o.a.Comment}),u=e=>e.author===c.z;var l;!function(e){e.DeletedComment="DeletedComment",e.Comment="Comment"}(l||(l={}))},"./src/reddit/models/DiscoveryUnit/index.ts":function(e,t,n){"use strict";var r,s,o,i;n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"t",(function(){return h})),n.d(t,"p",(function(){return E})),n.d(t,"g",(function(){return I})),function(e){e.Community="community",e.CommunityCategory="community_category",e.FavoriteSubreddits="favorite_subreddits",e.Listing="listing",e.RecentlyVisitedSubreddits="recently_visited_subreddits",e.SubredditListing="subreddit_listing"}(r||(r={})),function(e){e.Comments="comments",e.Communities="communities",e.Explore="explore",e.Frontpage="front_page",e.Popular="popular",e.SubredditListing="subreddit_listing"}(s||(s={})),function(e){e.Large="large",e.Small="small"}(o||(o={})),function(e){e.Wide="wide",e.Description="description",e.ActionButton="action_button",e.SeeMore="see_more",e.HideItems="hide_items",e.HideUnit="hide_unit",e.ShowLess="show_less",e.PostShowSubredditHeader="post_show_subreddit_header",e.UnitShowSubredditHeader="unit_show_subreddit_header",e.PreviewMode="preview_mode"}(i||(i={}));const c="posts_in_category_rails_hero",a="posts_in_subreddit_hero",d="posts_in_category_rails_small",u="posts_in_subreddit_small",l="community_banner_posts",b="search_posts",p="search_subreddits",m="trending_on_popular",f="best_of_community",O="chaining_similar_subreddits_posts",g="posts_in_subreddit_vertical",j="posts_in_rec_home",y="top_week_posts",_="top_week_posts_large",h="trending_posts",E="top_month_posts",I="geopopular_posts"},"./src/reddit/models/Duplicates/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(e,t){return"".concat(e,"-sort[").concat(t.sort,"]-crossposts_only[").concat(t.crossposts_only,"]")}},"./src/reddit/models/Emoji/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c}));const r=24,s=64e3,o=128,i=128,c=(e,t,n,r)=>Object.assign({name:e,url:t,subredditId:n},r)},"./src/reddit/models/ExternalAccount/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Twitter="twitter"}(r||(r={}))},"./src/reddit/models/FeatureThrottling/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e[e.TimesPerSession=0]="TimesPerSession",e[e.TimesTotal=1]="TimesTotal",e[e.TimesPerPeriod=2]="TimesPerPeriod",e[e.NthSession=3]="NthSession",e[e.Combined=4]="Combined"}(r||(r={})),function(e){e.And="and",e.Or="or"}(s||(s={}))},"./src/reddit/models/Flair/index.ts":function(e,t,n){"use strict";var r,s,o,i,c,a,d,u;n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),function(e){e.Text="text",e.Emoji="emoji"}(r||(r={})),function(e){e.Image="image",e.Meta="meta",e.Nsfw="nsfw",e.Oc="oc",e.Richtext="richtext",e.Spoiler="spoiler",e.Text="text",e.Quarantined="quarantined"}(s||(s={})),function(e){e.Dark="dark",e.Light="light"}(o||(o={})),function(e){e.Text="text",e.Emoji="emoji",e.All="all"}(i||(i={})),function(e){e.UserFlair="USER_FLAIR",e.LinkFlair="LINK_FLAIR"}(c||(c={})),function(e){e.Left="left",e.Right="right"}(a||(a={})),function(e){e.Dark="DARK",e.Light="LIGHT"}(d||(d={})),function(e){e.RIGHT="RIGHT",e.LEFT="LEFT"}(u||(u={}))},"./src/reddit/models/FocusedVerticals/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.CommunityDescWithPosts="community_desc_with_posts",e.DifferentCommunitiesDesc="different_communities_description_ga",e.PostsFromDifferentCommunities="posts_from_different_communities_v2",e.PostsFromOneCommunity="posts_from_one_community"}(r||(r={}))},"./src/reddit/models/Gold/Award.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return O}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r,s=n("./src/config.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};!function(e){e.Global="GLOBAL",e.Moderator="MODERATOR",e.Community="COMMUNITY"}(r||(r={}));const i={awardType:r.Global,coinPrice:100,coinReward:0,description:"",daysOfDripExtension:0,icon:{url:"".concat(s.a.assetPath,"/img/gold/badges/award-silver-medium.png?v=2")},id:"gid_1",isEnabled:!0,name:"Silver",daysOfPremium:0},c={awardType:r.Global,coinPrice:500,coinReward:100,description:"",daysOfDripExtension:0,icon:{url:"".concat(s.a.assetPath,"/img/gold/badges/award-gold-medium.png?v=2")},id:"gid_2",isEnabled:!0,name:"Gold",daysOfPremium:7},a={awardType:r.Global,coinPrice:1800,coinReward:0,description:"",daysOfDripExtension:31,icon:{url:"".concat(s.a.assetPath,"/img/gold/badges/award-platinum-medium.png?v=2")},id:"gid_3",isEnabled:!0,name:"Platinum",daysOfPremium:31},d=[i,c,a];d.reduce((e,t)=>(e[t.id]=t,e),{});var u;!function(e){e.Global="global",e.Community="community",e.Moderator="moderator"}(u||(u={}));const l={500:8,1e3:4,2e3:1,5e3:1,1e4:1,4e4:1},b=e=>{const t=e.reduce((e,t)=>t.awardType!==r.Community?e:(e[t.coinPrice]=(e[t.coinPrice]||0)+1,e),{}),n=e.map(e=>({price:e.coinPrice,filled:!0,award:e}));return Object.keys(l).forEach(e=>{const r=t[e]||0,s=Math.max(l[e]-r,0);s>0&&n.push({filled:!1,price:parseInt(e),quantity:s})}),n},p=e=>{const t=e.reduce((e,t)=>t.awardType!==r.Community?e:(e[t.coinPrice]=(e[t.coinPrice]||0)+1,e),{});return Object.keys(l).reduce((e,n)=>{const r=t[n]||0;return l[n]-r>0?[...e,parseInt(n)]:e},[])};function m(e){return e.sort((e,t)=>e.awardType===r.Moderator&&t.awardType!==r.Moderator?-1:t.awardType===r.Moderator&&e.awardType!==r.Moderator?1:t.coinPrice-e.coinPrice)}function f(e){const{count:t,iconUrl:n,resizedIcons:r}=e,s=o(e,["count","iconUrl","resizedIcons"]);let i,c;for(const{url:o,width:a}of r||[])32===a&&(i={url:o}),128===a&&(c={url:o});return Object.assign({},s,{icon:{url:n},icon32:i,icon128:c,awardType:s.awardType.toUpperCase()})}function O(e,t){const{awardType:n,icon:r,icon32:s,icon128:i}=e,c=o(e,["awardType","icon","icon32","icon128"]),a=[];return s&&a.push({height:32,url:s.url,width:32}),i&&a.push({height:128,url:i.url,width:128}),Object.assign({awardType:n.toLowerCase(),count:t,iconUrl:r.url,resizedIcons:a},c)}},"./src/reddit/models/Gold/Coins/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/config.ts");const s={coins500:{coins:500,pennies:199,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-500.png")},coins1100:{coins:1100,pennies:399,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-1100.png")},coins1800:{coins:1800,pennies:599,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-1800.png")},coins7200:{coins:7200,pennies:1999,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-7200.png")},coins40000:{coins:4e4,pennies:9999,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-40000.png")},coinsVariable:{coins:1/0,pennies:1/0,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-40000.png")}},o=(e,t)=>{for(const n in s){if("coins500"===n)continue;const r=s[n];if(t-r.coins<=e)return r}return s.coins40000},i=e=>{const t=s.coins40000;if(e<=t.coins)return o(0,e);const n=t.pennies/t.coins,r=s.coinsVariable;return r.coins=e,r.pennies=Math.ceil(n*e),r}},"./src/reddit/models/GqlTopLevelField.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Comment="Comment",e.Multireddit="Multireddit",e.PostInfo="PostInfo",e.Profile="Profile",e.RedditorInfo="RedditorInfo",e.Subreddit="Subreddit"}(r||(r={}))},"./src/reddit/models/Live/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e.Ama="ama",e.Announcement="announcement",e.Document="document",e.Moderation="moderation",e.Snoo="snoo"}(r||(r={})),function(e){e.Ama="AMA",e.Announcement="ANNOUNCEMENT",e.Document="DOCUMENT",e.Moderation="MODERATION",e.Snoo="SNOO"}(s||(s={}))},"./src/reddit/models/Media/index.ts":function(e,t,n){"use strict";n.d(t,"t",(function(){return r})),n.d(t,"D",(function(){return i})),n.d(t,"E",(function(){return c})),n.d(t,"B",(function(){return a})),n.d(t,"C",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"w",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return j})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"q",(function(){return C})),n.d(t,"v",(function(){return w})),n.d(t,"u",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"x",(function(){return R})),n.d(t,"A",(function(){return A})),n.d(t,"y",(function(){return N})),n.d(t,"z",(function(){return k}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/url/url.js"),o=n.n(s);!function(e){e.YouTube="YouTube",e.Vimeo="Vimeo",e.BandCamp="BandCamp",e.Gfycat="Gfycat",e.GfycatOld="gfycat",e.Giphy="Giphy",e.Imgur="Imgur",e.SoundCloud="SoundCloud",e.Spotify="Spotify",e.Streamable="Streamable",e.Twitch="Twitch.tv",e.Twitter="Twitter",e.IFrameEmbed="iframe embed"}(r||(r={}));const i=e=>"text"===e.type,c=e=>"video"===e.type,a=e=>"image"===e.type,d=e=>"rtjson"===e.type,u={TEXT:"text",VIDEO:"video",IMAGE:"image",EMBED:"embed",GIFVIDEO:"gifvideo",RTJSON:"rtjson"},l=new Set([u.TEXT,u.IMAGE,u.RTJSON]),b=512,p=250,m=60,f=0,O=608,g=.5625,j=869,y=273,_=486,h=700,E=822,I=363,v=645,S=new Set([r.Gfycat,r.GfycatOld,r.Giphy,r.SoundCloud,r.Spotify,r.Twitter,r.Vimeo,r.YouTube]),T=new Set([r.BandCamp,r.Gfycat,r.GfycatOld,r.Giphy,r.Imgur,r.SoundCloud,r.Spotify,r.Streamable,r.Twitch,r.Twitter,r.YouTube,r.Vimeo]),C=new Set([r.SoundCloud,r.Spotify,r.Streamable,r.Twitter,r.Vimeo,r.YouTube]),w=new Set([r.Gfycat,r.GfycatOld,r.Imgur]),D=["gif","jpeg","jpg","png","tiff"],P=new Set([u.VIDEO,u.GIFVIDEO,u.EMBED]);var x,R;!function(e){e.Mute="mute",e.Pause="pause",e.Play="play"}(x||(x={})),function(e){e.Pause="pauseVideo",e.Play="playVideo",e.Mute="mute"}(R||(R={}));const A=e=>e.source?e.source.url:e.media&&e.media.type!==u.VIDEO&&e.media.content?e.media.content:"",N=e=>{const t=o.a.parse(e);if(t&&t.pathname)return t.pathname.split("/")[1]},k=e=>{if(!c(e))return;const t=e;let n;if(t.hlsUrl)n=t.hlsUrl;else{if(!t.dashUrl)return;n=t.dashUrl}return N(n)}},"./src/reddit/models/ModQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var r=n("./src/reddit/helpers/isPost.ts"),s=n("./src/reddit/models/Flair/index.ts");const o=1;var i;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(i||(i={}));const c={},a={ignore_reports:i.UnignoreReports,lock:i.Unlock,mark_nsfw:i.UnmarkNSFW,remove:i.Approve,spam:i.Approve,spoiler:i.Unspoiler,unignore_reports:i.IgnoreReports,unlock:i.Lock,unmark_nsfw:i.MarkNSFW,unspoiler:i.Spoiler},d=(e,t,n,o,a)=>{switch(t){case"approve":{const e={};return n.forEach(t=>{e[t]={approvedBy:o,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}}),e}case"flair":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n].flair.filter(e=>e.type===s.f.Nsfw||e.type===s.f.Spoiler);a&&a.flair&&r.push(a.flair),t[n]={flair:r}}}),t}case"ignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!0}}),e}case"lock":{const e={};return n.forEach(t=>{e[t]={isLocked:!0}}),e}case"mark_nsfw":{const t={},o={text:"nsfw",type:s.f.Nsfw};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],s=r.isNSFW?r.flair:r.flair?[...r.flair,o]:{[n]:o};t[n]={isNSFW:!0,flair:s}}}),t}case"remove":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:o}}),e}case"spam":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:o}}),e}case"spoiler":{const t={},o={text:"spoiler",type:s.f.Spoiler};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],s=r.isSpoiler?r.flair:r.flair?[...r.flair,o]:{[n]:o};t[n]={isSpoiler:!0,flair:s}}}),t}case"unignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!1}}),e}case"unlock":{const e={};return n.forEach(t=>{e[t]={isLocked:!1}}),e}case"unmark_nsfw":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],o=r.flair?r.flair.filter(e=>e.type!==s.f.Nsfw):null;t[n]={isNSFW:!1,flair:o}}}),t}case"unspoiler":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],o=r.flair?r.flair.filter(e=>e.type!==s.f.Spoiler):null;t[n]={isSpoiler:!1,flair:o}}}),t}case i.RemovalReason:{const e={};return n.forEach(t=>{e[t]={modNote:a&&a.modNote,modReasonBy:o,modRemovalReason:a&&a.removalReason}}),e}default:return c}}},"./src/reddit/models/ModeratingSubreddits/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/snakeCase.js"),o=n.n(s);!function(e){e.access="access",e.config="config",e.flair="flair",e.mail="mail",e.posts="posts",e.wiki="wiki",e.chatConfig="chatConfig",e.chatOperator="chatOperator",e.all="all"}(r||(r={}));const i=Object.freeze({all:!0,access:!0,chatConfig:!0,chatOperator:!0,config:!0,flair:!0,mail:!0,posts:!0,wiki:!0}),c=i,a=e=>{return Object.keys(e).map(t=>(e[t]?"+":"-")+o()(t)).join(",")}},"./src/reddit/models/MonthsToMinutes/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return d}));const r=9,s=10,o=2;var i,c,a,d;!function(e){e.Home="home_active",e.SubscribeFeed="subscribe_feed",e.SubscribeIdCard="subscribe_id",e.SubscribeReminder="subscribe_reminder",e.Vote="vote",e.VoteReminder="vote_reminder",e.VoteSuccess="vote_success"}(i||(i={})),function(e){e[e.Welcome=0]="Welcome",e[e.Subscribe=1]="Subscribe",e[e.Vote=2]="Vote",e[e.Signup=3]="Signup"}(c||(c={})),function(e){e.Subscribe="Subscribe",e.Vote="Vote"}(a||(a={})),function(e){e.Initial="initial",e.BannerVisible="bannerVisible",e.HomeVisited="homeVisited"}(d||(d={}))},"./src/reddit/models/Multireddit/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l}));const r=50,s=500,o=2;var i,c;function a(e){return"string"==typeof e.url}!function(e){e.Hidden="hidden",e.Private="private",e.Public="public"}(i||(i={})),function(e){e.TooShort="tooshort",e.SameName="samename",e.Generic="generic"}(c||(c={}));const d=(e,t)=>"/user/".concat(e,"/m/").concat(t,"/").toLowerCase(),u=e=>/^\/user\/([^/]+)\//.exec(e)[1];function l(e){return!!e.subredditIds||!!e.profileIds}},"./src/reddit/models/OcSubreddits/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts");const s=6;function o(e){const t={subreddits:{},subredditsAboutInfo:{}};return e?e.reduce((e,t)=>(e.subreddits[t.name]=Object(r.a)(t),e.subredditsAboutInfo[t.name]={allOriginalContent:t.all_original_content,contentCategory:t.content_category,originalContentTagEnabled:t.original_content_tag_enabled,userIsSubscriber:t.user_is_subscriber},e),t):t}function i(e){return!!e&&(e.originalContentTagEnabled||!!e.contentCategory)}},"./src/reddit/models/Option/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=e=>!e.id,s=e=>!!e.id,o=(e,t)=>r(e)&&r(t)?e.displayText.toLowerCase().trim()===t.displayText.toLowerCase().trim():!(!s(e)||!s(t))&&e.id===t.id},"./src/reddit/models/Poll/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var r,s,o=n("./node_modules/bignumber.js/bignumber.js");!function(e){e.GovGeneric="governance:generic",e.ReplaceTopMod="governance:replace-top-mod",e.Spinoff="governance:spin-off"}(r||(r={})),function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower",e.ByLockedVotingPower="byLockedVotingPower"}(s||(s={}));const i={[r.ReplaceTopMod]:()=>[{text:"Yes"},{text:"No"}],[r.Spinoff]:e=>[{text:e?"Yes, I'd like to join r/".concat(e):"Yes, I'd like to join the new community"},{text:"No"}]};function c(e,t){const n=!!e.options.filter(e=>t.options[e.id].userSelected).length,r=new Date(e.endsAt).getTime()<Date.now();return n||r}function a(e,t){let n=e.options[0],r=new o.BigNumber(t.options[n.id].votes);for(const s of e.options){const e=new o.BigNumber(t.options[s.id].votes);e.isGreaterThan(r)&&(n=s,r=e)}return n}function d(e){switch(e.type){case r.GovGeneric:case r.ReplaceTopMod:case r.Spinoff:return!0;default:return!1}}},"./src/reddit/models/Post/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return _}));var r,s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/constants/things.ts"),i=n("./src/reddit/models/PublicAccessNetwork/index.ts"),c=n("./src/lib/constants/index.ts");!function(e){e.Chat="CHAT",e.Comment="COMMENT"}(r||(r={}));const a=e=>"".concat(o.b).concat(e&&e.toLowerCase()),d=e=>e.startsWith(o.b)?e.substr(o.b.length):e,u=e=>e===c.z;var l,b,p,m,f,O;!function(e){e.AdPost="AdPost",e.DeletedProfilePost="DeletedProfilePost",e.DeletedSubredditPost="DeletedSubredditPost",e.ProfilePost="ProfilePost",e.SubredditPost="SubredditPost"}(l||(l={})),function(e){e.MOD_APPROVED="MOD_APPROVED",e.MOD_REMOVED="MOD_REMOVED",e.MOD_SPAMMED="MOD_SPAMMED",e.ADMIN_REMOVED="ADMIN_REMOVED",e.ADMIN_APPROVED="ADMIN_APPROVED",e.ADMIN_SPAMMED="ADMIN_SPAMMED"}(b||(b={})),function(e){e.ImageAsset="ImageAsset",e.VideoAsset="VideoAsset"}(p||(p={})),function(e){e.Post="POST",e.Comment="COMMENT"}(m||(m={})),function(e){e.Embed="EMBED",e.Image="IMAGE",e.Video="VIDEO",e.Gifvideo="GIFVIDEO"}(f||(f={})),function(e){e.Richtext="RICHTEXT",e.Markdown="MARKDOWN"}(O||(O={}));const g=e=>e.belongsTo.type===s.a.PROFILE,j=e=>e.belongsTo.type===s.a.SUBREDDIT,y=e=>!!e.source&&Object(i.a)(e.source.url),_=e=>e.isStickied},"./src/reddit/models/PostCollection/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.TIMELINE="TIMELINE",e.GALLERY="GALLERY"}(r||(r={}))},"./src/reddit/models/PostCreationForm/index.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"q",(function(){return c})),n.d(t,"u",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"t",(function(){return v})),n.d(t,"i",(function(){return S}));var r=n("./src/reddit/models/Upload/index.ts");const s=Object(r.e)(r.b.POST_CREATION_MEDIA),o=Object(r.e)(r.b.POST_CREATION_VIDEO_POSTER),i={isProfile:!1,name:""};var c;!function(e){e[e.Post=0]="Post",e[e.Draft=1]="Draft"}(c||(c={}));const a=["title","body","link","flair"],d=e=>a.includes(e);var u,l,b,p,m,f,O;!function(e){e.MARKDOWN="markdown",e.RICH_TEXT="richtext"}(u||(u={})),function(e){e.POST_CREATION="POST_CREATION",e.POST_EDITING="POST_EDITING"}(l||(l={})),function(e){e.CLICK="click",e.TYPE="type"}(b||(b={})),function(e){e.TITLE="title",e.BODY="body",e.URL="url"}(p||(p={})),function(e){e.CROSSPOST="crosspost",e.LINK="link",e.RICH_TEXT="richText",e.MARKDOWN="markdown",e.MEDIA="media",e.VIDEO_GIF="videogif",e.SELF="self"}(m||(m={})),function(e){e.ImageWillBeRemoved="SrChangePrompt_ImageWillBeRemoved",e.VideoWillBeRemovedMediaNotAllowed="SrChangePrompt_VideoWillBeRemovedMediaNotAllowed",e.VideoWillBeRemovedTooLongForGif="SrChangePrompt_VideoWillBeRemovedTooLongForGif"}(f||(f={})),function(e){e.POST_OVERFLOW_MENU="postOverflowMenu",e.COLLECTION_INFO_POST="colletionInfoPost"}(O||(O={}));const g="POST_DRAFTS_MODAL_ID",j="COLLECTIONS_LIST_MODAL_ID",y="CREATE_COLLECTION_MODAL_ID",_="DISCARD_POST_ON_CREATE_POST_MODAL_ID",h="EVENT_SCHEDULE_PICKER_MODAL_ID",E=(e,t,n)=>"".concat(h,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]-pos[").concat(n,"]"),I=(e,t)=>"".concat(j,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]"),v=(e,t)=>"".concat(y,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]");var S;!function(e){e.Now="now",e.AtEventTime="atEventTime"}(S||(S={}))},"./src/reddit/models/PostDraft/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var r,s,o=n("./src/lib/constants/index.ts");!function(e){e[e.Image=0]="Image",e[e.Link=1]="Link",e[e.Markdown=2]="Markdown",e[e.RichText=3]="RichText",e[e.Video=4]="Video"}(r||(r={})),function(e){e[e.replyToPost=0]="replyToPost",e[e.replyToComment=1]="replyToComment",e[e.edit=2]="edit"}(s||(s={}));const i={[r.Image]:o.Eb.MEDIA,[r.Link]:o.Eb.LINK_ONLY,[r.Markdown]:o.Eb.POST,[r.RichText]:o.Eb.POST,[r.Video]:o.Eb.MEDIA}},"./src/reddit/models/PostRequirements/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r);const o=e=>"number"==typeof e&&e<2?null:e,i=e=>{const t={},{titleRegEx:n,titleStrings:r,titleLength:s,postLength:i,linkDomain:c,linkListPermission:a,postBodyRequirement:d,postingGuidelines:u,reposts:l,flair:b}=e;return r.isToggled?t.ruleTitleStrings=r.strings.filter(e=>!!e):t.ruleTitleStrings=[],n.isToggled?t.ruleTitleRegex=n.regex.filter(e=>!!e):t.ruleTitleRegex=[],s.isToggled?(t.ruleTitleTextMaxLength=s.max,t.ruleTitleTextMinLength=o(s.min)):(t.ruleTitleTextMaxLength=null,t.ruleTitleTextMinLength=null),i.isToggled?(t.ruleBodyTextMaxLength=i.max,t.ruleBodyTextMinLength=o(i.min)):(t.ruleBodyTextMaxLength=null,t.ruleBodyTextMinLength=null),t.ruleLinkListPermission=a,"none"!==a&&("whitelist"===a?t.ruleLinkWhitelist=c.whitelist.filter(e=>!!e):t.ruleLinkBlacklist=c.blacklist.filter(e=>!!e)),t.noopGuidelinesRequirement=u.requirement,"none"!==u.requirement&&(t.noopGuidelines=u.guidelines),l.isToggled?t.ruleLinkRepostAge=l.days:t.ruleLinkRepostAge=null,t.ruleBodyRequirement=d,t.ruleFlairRequired=b.isToggled,t},c=(e,t)=>{const n=Object.assign({},e);return n.isLoading=!1,n.titleStrings.isToggled=!!t.ruleTitleStrings.length,n.titleStrings.strings=t.ruleTitleStrings,n.titleRegEx.isToggled=!!t.ruleTitleRegex.length,n.titleRegEx.regex=t.ruleTitleRegex,n.titleLength.isToggled=null!==t.ruleTitleTextMinLength||null!==t.ruleTitleTextMaxLength,n.titleLength.min=t.ruleTitleTextMinLength,n.titleLength.max=t.ruleTitleTextMaxLength,n.postLength.isToggled=null!==t.ruleBodyTextMinLength||null!==t.ruleBodyTextMaxLength,n.postLength.min=t.ruleBodyTextMinLength,n.postLength.max=t.ruleBodyTextMaxLength,n.postingGuidelines.requirement=t.noopGuidelinesRequirement,n.postingGuidelines.guidelines=t.noopGuidelines,n.postBodyRequirement=t.ruleBodyRequirement,n.linkListPermission=t.ruleLinkListPermission,n.linkDomain.whitelist=t.ruleLinkWhitelist,n.linkDomain.blacklist=t.ruleLinkBlacklist,n.reposts.isToggled=null!==t.ruleLinkRepostAge,n.reposts.days=t.ruleLinkRepostAge,n.flair.isToggled=t.ruleFlairRequired,n},a=(e,t)=>{const n={};for(const r in e){const o=e[r];Array.isArray(o)?s()(o,t[r])||(n[r]=o):o!==t[r]&&(n[r]=o)}return n}},"./src/reddit/models/Profile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r;!function(e){e.Downvoted="downvoted",e.Hidden="hidden",e.Saved="saved",e.Upvoted="upvoted"}(r||(r={}))},"./src/reddit/models/Profile/mock.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=n("./src/reddit/models/Subreddit/index.ts");const o={t5_100:{id:"t5_100",isNSFW:!1,displayText:"u/cfb",name:"cfb",title:"CFB Title",type:s.b.User,url:"/user/cfb",subscribers:1,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}},t5_200:{id:"t5_200",isNSFW:!1,displayText:"u/test",name:"test",title:"Test User Title",type:s.b.User,url:"/user/test",subscribers:10,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}},t5_300:{id:"t5_200",isNSFW:!1,displayText:"u/shitty_watercolour",name:"shitty_watercolour",title:"Shitty_Watercolour Title",type:s.b.User,url:"/user/shitty_watercolour",subscribers:20,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}}}},"./src/reddit/models/PublicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return d}));var r,s=n("./src/reddit/actions/publicAccessNetwork/constants.ts");!function(e){e.NOT_STARTED="NOT_STARTED",e.PUBLISHED="PUBLISHED",e.IS_LIVE="IS_LIVE",e.DISCONNECTED="DISCONNECTED",e.KILLED="KILLED",e.PURGED="PURGED",e.ENDED="ENDED"}(r||(r={}));const o=e=>void 0!==e.stream,i=e=>void 0===e.stream,c=e=>!!e&&e.toLowerCase().startsWith(s.P)&&e.toLowerCase().endsWith(s.O),a=e=>!!e.post.media&&!!e.post.media.streaming&&e.post.media.streaming.hlsUrl||e.post.url||void 0,d=e=>o(e)?e.stream.stream_id:(e=>{if(!e||!c(e))return;const t=e.lastIndexOf("/");if(-1===t)return;const n=e.substring(0,t).lastIndexOf("/");return-1!==n?e.substring(n+1,t):void 0})(a(e))},"./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{emotes_as_images:!0})},"./src/reddit/models/RichTextJson/addRTJParam.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{rtj:"only"})},"./src/reddit/models/RichTextJson/index.ts":function(e,t,n){"use strict";var r;n.d(t,"j",(function(){return r})),n.d(t,"A",(function(){return s})),n.d(t,"w",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"o",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"v",(function(){return d})),n.d(t,"y",(function(){return u})),n.d(t,"B",(function(){return l})),n.d(t,"x",(function(){return b})),n.d(t,"u",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"q",(function(){return j})),n.d(t,"p",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return E})),n.d(t,"z",(function(){return I})),n.d(t,"h",(function(){return v})),n.d(t,"m",(function(){return S})),n.d(t,"s",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"r",(function(){return D})),n.d(t,"C",(function(){return P})),n.d(t,"t",(function(){return x})),n.d(t,"i",(function(){return R})),n.d(t,"E",(function(){return A})),n.d(t,"D",(function(){return N})),function(e){e[e.bold=1]="bold",e[e.italic=2]="italic",e[e.underline=4]="underline",e[e.strikethrough=8]="strikethrough",e[e.subscript=16]="subscript",e[e.superscript=32]="superscript",e[e.monospace=64]="monospace"}(r||(r={}));const s="text",o="raw",i="br",c="link",a="c/",d="p/",u="r/",l="u/",b="spoilertext",p="par",m="h",f="hr",O="blockquote",g="code",j="li",y="list",_="L",h="R",E="C",I="table",v="embed",S="img";var T;!function(e){e.Valid="valid",e.Unprocessed="unprocessed",e.Failed="failed",e.Invalid="invalid"}(T||(T={}));const C="Image",w="gif",D="AnimatedImage",P="video",x="RedditVideo",R={document:[]},A=e=>!e||!e.document||(e=>0===e.length||1===e.length&&(e=>"par"===e.e&&(!e.c||0===e.c.length))(e[0]))(e.document),N=(e,t)=>{const n=e&&e[t];if(n&&(!n.status||n.status===T.Valid))return n}},"./src/reddit/models/RichTextJson/nodeMakers.ts":function(e,t,n){"use strict";n.d(t,"s",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return a})),n.d(t,"t",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"q",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"u",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"a",(function(){return v}));var r=n("./src/reddit/models/RichTextJson/index.ts");const s=(e,t)=>Object.assign({e:r.A,t:e},t?{f:t}:null),o=e=>({e:r.w,t:e}),i=(e,t,n)=>Object.assign({e:r.o,t:e,u:t},n?{f:n}:null),c=e=>({e:r.x,c:[s(e,null)]}),a=(e,t)=>({e:r.y,t:e,l:t}),d=(e,t)=>({e:r.B,t:e,l:t}),u=e=>({e:r.u,c:e}),l=(e,t)=>({e:r.k,l:e,c:t}),b=e=>({e:r.b,c:e}),p=e=>({e:"code",c:e}),m=e=>({e:r.q,c:e}),f=(e,t)=>({e:r.p,c:e,o:t}),O=(e,t)=>Object.assign({c:e},t?{a:t}:{}),g=e=>({c:e}),j=(e,t)=>({e:r.z,h:e,c:t}),y=(e,t)=>({e:r.m,id:e,c:t}),_=(e,t)=>({e:r.a,id:e,c:t}),h=(e,t,n,s)=>Object.assign({e:r.C,id:e,c:t,gifify:s},n?{p:y(n)}:{}),E=(e,t)=>"image/gif"===t?{e:r.a,id:e}:{e:r.m,id:e},I=()=>({e:r.n}),v={e:r.u,c:[{e:r.A,t:""}]}},"./src/reddit/models/Rule/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u}));const r={all:"all",post:"post",comment:"comment"},s={all:"all",link:"post",comment:"comment"},o={LINK_AND_COMMENT:"all",LINK:"post",COMMENT:"comment"},i=15,c=100,a=100,d=500,u=e=>({rules:e.map(e=>({kind:s[e.kind],description:e.description,descriptionHtml:e.description_html,shortName:e.short_name,violationReason:e.violation_reason,createdUtc:e.created_utc,priority:e.priority}))})},"./src/reddit/models/RulesSequence/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this.sequence=[]}getSequence(){return this.sequence}update(e,t){const n=this.sequence.slice(0,t);n.push(e),this.sequence=n}cut(e){const t=this.sequence.slice(0,e+1);this.sequence=t}}},"./src/reddit/models/SearchDiscoveryUnit/index.ts":function(e,t,n){"use strict";var r,s,o;n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),function(e){e.Default="DEFAULT",e.Trending="TRENDING"}(r||(r={})),function(e){e.Communities="COMMUNITIES",e.Posts="POSTS",e.Queries="QUERIES"}(s||(s={})),function(e){e.Carousel="CAROUSEL",e.Hero="HERO",e.Row="ROW",e.Widget="WIDGET",e.PromotedTrendHero="PROMOTED_TREND_HERO"}(o||(o={}))},"./src/reddit/models/Subreddit/index.ts":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),function(e){e.Archived="archived",e.EmployeesOnly="employees_only",e.GoldOnly="gold_only",e.GoldRestricted="gold_restricted",e.Private="private",e.Public="public",e.Restricted="restricted",e.User="user"}(r||(r={}));const s=e=>e.type===r.User;var o;!function(e){e.Image="IMAGE",e.Link="LINK",e.Spoiler="SPOILER",e.Text="TEXT",e.Video="VIDEO"}(o||(o={}))},"./src/reddit/models/Subreddit/mock.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/reddit/models/Subreddit/index.ts"),o=n("./src/reddit/models/WhitelistStatus/index.ts");const i={t5_1:{id:"t5_1",displayText:"r/cfb",name:"cfb",title:"CFB Title",type:s.b.Public,url:"/r/cfb",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:14343103,wls:o.a.ALL_ADS,isNSFW:!1},t5_2:{id:"t5_2",displayText:"r/test",name:"test",title:"Test Title",type:s.b.Private,url:"/r/test",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:1,wls:void 0,isNSFW:!1},t5_3:{id:"t5_2",displayText:"r/test",name:"test",title:"Gold Title",type:s.b.GoldOnly,url:"/r/test",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:1,wls:void 0,isNSFW:!1}}},"./src/reddit/models/SubredditAutocomplete/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r,s=n("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),o=n("./src/reddit/models/User/index.ts");!function(e){e[e.OWN_PROFILE=0]="OWN_PROFILE",e[e.SUBSCRIBED_TO_SUBREDDIT=1]="SUBSCRIBED_TO_SUBREDDIT",e[e.OTHER_SUBREDDIT=2]="OTHER_SUBREDDIT",e[e.FAKE_ITEM=3]="FAKE_ITEM",e[e.MODERATED_SUBREDDIT=4]="MODERATED_SUBREDDIT"}(r||(r={}));const i=e=>{const{color:t,url:n}=Object(s.a)({subredditOrProfile:e});return{iconUrl:n,id:e.id,name:e.name,primaryColor:t,subscribers:e.subscribers,type:r.SUBSCRIBED_TO_SUBREDDIT}},c=(e,t)=>{const{color:n,url:r}=Object(s.a)({subredditOrProfile:e});return{iconUrl:r,id:e.id,name:e.name,primaryColor:n,subscribers:e.subscribers,type:t}},a=e=>({iconUrl:e.accountIcon,id:e.id,name:Object(o.f)(e),type:r.OWN_PROFILE})},"./src/reddit/models/SubredditChannel/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a}));var r,s,o=n("./src/chat/models/Channel/utils/removeSendbirdPrefix.ts");!function(e){e.Public="public",e.Private="private"}(r||(r={})),function(e){e.Joined="joined",e.Invited="invited",e.Unsorted="none"}(s||(s={}));const i={channelId:"",channelSendbirdUrl:"",subredditId:"",name:"",description:"",membersCount:0,type:r.Public,channelState:s.Unsorted,minimumAcctAge:0,newMemberAge:0,isModQueue:!1},c=e=>{const t={};return e.length&&e.forEach(e=>{const n=(e=>({channelId:Object(o.a)(e.url),channelSendbirdUrl:e.url,channelState:e.member_state,subredditId:e.subreddit.id,isModQueue:e.is_modqueue,name:e.name,type:e.type,description:e.description,membersCount:e.member_count,minimumAcctAge:e.automute_account_age_threshold||0,newMemberAge:e.automute_on_join_duration||0}))(e);t[n.channelId]=n}),t},a=e=>({channelId:Object(o.a)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:s.Joined,subredditId:e.subreddit_id,isModQueue:!1,name:e.room,type:e.roomType,description:e.description,membersCount:1,minimumAcctAge:e.automute_account_age_threshold,newMemberAge:e.automute_on_join_duration})},"./src/reddit/models/SubredditModeration/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i}));const r=999;var s;!function(e){e.Editable="editable",e.Invited="invited"}(s||(s={}));const o={searchTerm:null,userId:null,username:null},i=(e,t,n)=>"".concat(e,"-").concat(((e,t)=>t||e||"1")(n,t))},"./src/reddit/models/SubredditRestrictions/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u}));var r,s,o,i,c=n("./src/reddit/i18n/utils.ts");!function(e){e.Create="create",e.Draft="draft"}(r||(r={})),function(e){e.Comment="comment_composer",e.IdCard="id_card",e.PostSubmission="post_submission"}(s||(s={})),function(e){e.PostAndComment="post and comment",e.Post="post",e.Comment="comment",e.View="view"}(o||(o={})),function(e){e.Post="restrictPosting",e.Comment="restrictCommenting"}(i||(i={}));const a={[o.Post]:Object(c.c)("post"),[o.Comment]:Object(c.c)("comment"),[o.PostAndComment]:Object(c.c)("post and comment")},d={[r.Create]:Object(c.c)("create"),[r.Draft]:Object(c.c)("draft")},u=e=>Object(c.c)("Anyone can view this community, but only approved users can ".concat(Object(c.b)("restrictionType",a[e]||a[o.Post])))},"./src/reddit/models/Tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c}));const r=25,s=64;var o;!function(e){e.EVENT="EVENT",e.COLLECTION="COLLECTION",e.CLASSIFICATION="CLASSIFICATION",e.POST_CLASSIFICATION="POST_CLASSIFICATION",e.SUBREDDIT_CLASSIFICATION="SUBREDDIT_CLASSIFICATION",e.COMMENT_CLASSIFICATION="COMMENT_CLASSIFICATION"}(o||(o={}));const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.id,displayText:e.text,selected:t}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i(e.tag,t)}},"./src/reddit/models/Toast/index.ts":function(e,t,n){"use strict";var r,s,o;n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),function(e){e.AuthError="auth-error"}(r||(r={})),function(e){e[e.SuccessCommunity=0]="SuccessCommunity",e[e.SuccessCommunityGreen=1]="SuccessCommunityGreen",e[e.SuccessMod=2]="SuccessMod",e[e.Error=3]="Error",e[e.Undo=4]="Undo",e[e.EuCookiePolicy=5]="EuCookiePolicy",e[e.UappBanner=6]="UappBanner",e[e.AuthError=7]="AuthError",e[e.Custom=8]="Custom"}(s||(s={})),function(e){e[e.subscribeMilestone=0]="subscribeMilestone",e[e.subscribeCap=1]="subscribeCap",e[e.voteMilestone=2]="voteMilestone"}(o||(o={}))},"./src/reddit/models/Upload/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/reddit/helpers/getS3KeyFromUrl/index.ts");const s={POST_CREATION_MEDIA:"POST_CREATION_MEDIA",POST_CREATION_VIDEO_POSTER:"POST_CREATION_VIDEO_POSTER",RTE_MEDIA:"RTE_MEDIA"},o=(e,t)=>t?"".concat(e).concat("/").concat(t):e,i=e=>Object(r.a)(e).split("/").slice(-1)[0],c={PENDING:"PENDING",UPLOADING:"UPLOADING",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELED:"CANCELED"},a=e=>{let{status:t}=e;return t===c.PENDING||t===c.UPLOADING}},"./src/reddit/models/User/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),function(e){e.CommentForm="commentForm"}(r||(r={})),function(e){e.MarkdownModeNotification="markdownModeNotification"}(s||(s={}));const o={commentForm:{markdownModeNotification:!1}};var i;!function(e){e.Favorites="favorites",e.Multis="multis",e.Moderating="moderating",e.Subscriptions="subscriptions",e.Profiles="profiles"}(i||(i={}));const c={favorites:!1,multis:!1,moderating:!1,subscriptions:!1,profiles:!1},a=e=>{const t=e.username||e.displayText;if(!t)throw new Error("Invalid username!");return t},d=e=>{const t=1e3*e.created;if(t)return new Date(t).getTime()};var u,l;!function(e){e.AvailableRedditor="Redditor",e.DeletedRedditor="DeletedRedditor",e.UnavailableRedditor="UnavailableRedditor"}(u||(u={})),function(e){e.BLANK="BLANK",e.CONFIDENCE="CONFIDENCE",e.CONTROVERSIAL="CONTROVERSIAL",e.LIVE="LIVE",e.NEW="NEW",e.OLD="OLD",e.QA="QA",e.RANDOM="RANDOM",e.TOP="TOP"}(l||(l={}))},"./src/reddit/models/Vote/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),function(e){e[e.downvoted=-1]="downvoted",e[e.notVoted=0]="notVoted",e[e.upvoted=1]="upvoted"}(r||(r={}));const s=(e,t)=>e.voteState===t?r.notVoted:t,o=e=>{switch(e){case!0:return r.upvoted;case!1:return r.downvoted;default:return r.notVoted}},i=(e,t)=>{const n=e.voteState===t,r=n?0:t,s=n?e.score-t:e.score-e.voteState+t;return Object.assign({},e,{voteState:r,score:s})},c=e=>"UP"===e?r.upvoted:"DOWN"===e?r.downvoted:r.notVoted},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(r||(r={}))},"./src/reddit/models/WhitelistStatus/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"a",(function(){return r})),function(e){e[e.NO_ADS=0]="NO_ADS",e[e.HOUSE_ONLY=1]="HOUSE_ONLY",e[e.PROMO_ADULT_NSFW=3]="PROMO_ADULT_NSFW",e[e.PROMO_ALL=5]="PROMO_ALL",e[e.ALL_ADS=6]="ALL_ADS"}(r||(r={})),function(e){e.NO_ADS="NO_ADS",e.HOUSE_ONLY="HOUSE_ONLY",e.PROMO_SPECIFIED="PROMO_SPECIFIED",e.PROMO_ADULT_NSFW="PROMO_ADULT_NSFW",e.PROMO_ADULT="PROMO_ADULT",e.PROMO_ALL="PROMO_ALL",e.ALL_ADS="ALL_ADS"}(s||(s={}))},"./src/reddit/models/Widgets/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"m",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return f})),n.d(t,"p",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"t",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"n",(function(){return F})),n.d(t,"r",(function(){return B})),n.d(t,"q",(function(){return G})),n.d(t,"s",(function(){return q}));var r=n("./src/reddit/models/Subreddit/index.ts");const s=1,o=()=>({backgroundColor:null,headerColor:null}),i=()=>({id:null,kind:"textarea",shortName:"",text:"",textHtml:void 0,styles:o()}),c=e=>{return{id:e.id,kind:e.kind,text:e.text,shortName:e.shortName,styles:e.styles}},a=()=>({currentlyViewingCount:0,currentlyViewingText:"",description:"",id:null,kind:"id-card",shortName:"Community details",subscribersCount:0,subscribersText:"",styles:o()});var d;!function(e){e.Text="text",e.Image="image"}(d||(d={}));const u=32,l=288,b=e=>{return{id:e.id,kind:e.kind,shortName:e.shortName,description:e.description,buttons:e.buttons,styles:e.styles}},p=()=>({id:null,kind:"button",shortName:"",description:null,descriptionHtml:null,buttons:[],styles:o()}),m="#000000",f=()=>({kind:d.Text,text:"",url:"",color:m,hoverState:void 0}),O=e=>e.kind===d.Image?e.linkUrl:e.url,g={FULL:"full",COMPACT:"compact"},j=e=>{return{id:e.id,display:e.display,kind:e.kind,subreddit:e.subreddit,shortName:"Subreddit Rules",styles:e.styles}},y=()=>({id:null,kind:"subreddit-rules",display:"full",data:[],subreddit:"",shortName:"Subreddit Rules",styles:o()});var _;!function(e){e.Cloud="cloud",e.List="list"}(_||(_={}));const h=()=>({id:null,kind:"post-flair",display:_.List,order:[],shortName:"",styles:o(),templates:{}}),E=e=>{return{id:e.id,display:e.display,kind:e.kind,order:e.order,shortName:e.shortName,styles:e.styles}},I=(e,t)=>{const n={id:e.id,displayText:e.displayText,name:e.name,subscribers:e.subscribers,iconUrl:e.icon&&e.icon.url,isSubscribed:!1,type:"subreddit",primaryColor:e.primaryColor,isNSFW:e.isNSFW};return t&&t.publicDescription&&(n.description=t.publicDescription),t&&t.bannerBackgroundImage&&(n.bannerBackgroundImage=t.bannerBackgroundImage),t&&t.bannerBackgroundColor&&(n.bannerBackgroundColor=t.bannerBackgroundColor),n},v=e=>({id:e.id,name:e.name,subscribers:e.subscribers,iconUrl:e&&e.icon.url,type:"profile",isNSFW:e.isNSFW}),S=e=>Object(r.c)(e)?v(e):I(e),T=e=>({iconUrl:e.iconUrl,id:e.id,name:e.name,subscribers:e.subscribers,primaryColor:e.primaryColor,type:"subreddit",isNSFW:e.isNsfw||!1}),C=e=>{const t=e.data.map(e=>e.name),n=Object.assign({},e);return n.data=t,n},w=()=>({id:null,kind:"community-list",shortName:"",data:[],description:"",styles:o()}),D=()=>({id:null,kind:"calendar",shortName:"",configuration:{numEvents:10,showDate:!0,showTime:!0,showTitle:!0,showLocation:!0,showDescription:!0},configuredAtUTC:null,data:[],googleCalendarId:"",moderator:null,requiresSync:!0,synchronizedAtUTC:null,styles:o()}),P=e=>{return{id:e.id,kind:e.kind,shortName:e.shortName,googleCalendarId:e.googleCalendarId,moderator:e.moderator,requiresSync:e.requiresSync,configuredAtUTC:e.configuredAtUTC,configuration:Object.assign({},e.configuration,{numEvents:e.configuration.numEvents||10}),data:e.data,styles:e.styles}},x=e=>(e.data.forEach((function(e){void 0===e.linkUrl&&(e.linkUrl="")})),e),R=()=>({data:[],id:null,kind:"image",shortName:""}),A=()=>({id:null,kind:"custom",shortName:"",text:"",css:"",height:null,imageData:[]}),N=e=>({id:e.id,kind:e.kind,shortName:e.shortName,text:e.text,css:e.css,height:e.height,imageData:e.imageData}),k=e=>({id:e.id,kind:e.kind,styles:e.styles}),L=()=>({id:null,kind:"menu",data:[],showWiki:!1});function U(e){return"widgetId"in e}function M(e){switch(e.kind){case"subreddit-rules":return j(e);case"community-list":return C(e);case"image":return x(e);case"calendar":return P(e);case"textarea":return c(e);case"button":return b(e);case"custom":return N(e);case"moderators":return k(e);case"post-flair":return E(e);default:return e}}function F(e){switch(e){case"textarea":return i();case"button":return p();case"subreddit-rules":return y();case"image":return R();case"community-list":return w();case"calendar":return D();case"menu":return L();case"custom":return A();case"id-card":return a();case"post-flair":return h();default:throw new Error("Unknown widget type encountered")}}function B(e){return"structuredStyles.widgets.".concat(e,".label")}function G(e){return"structuredStyles.widgets.".concat(e,".description")}function q(e){switch(e.kind){case"textarea":case"button":case"image":case"subreddit-rules":case"community-list":case"calendar":case"custom":case"id-card":case"post-flair":return e.shortName;default:return e.kind}}var V;!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(V||(V={}))},"./src/reddit/reducers/comments/visitHighlightingFilter/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js");var r,s=n("./src/reddit/actions/comment.ts"),o=n("./src/reddit/actions/platform.ts");!function(e){e.First="First",e.Last="Last",e.None="None"}(r||(r={}));const i=r.Last;t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:return i;case s.a:return t.payload.sort;default:return e}}},"./src/reddit/reducers/economics/paymentSystems/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.symbol.js");var r,s=n("./src/reddit/actions/economics/paymentSystems/constants.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};!function(e){e[e.Failure=0]="Failure",e[e.Fetched=1]="Fetched",e[e.NotFetched=2]="NotFetched",e[e.Pending=3]="Pending"}(r||(r={}));const i={status:r.NotFetched};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a:if(e.status===r.Fetched&&e.data.stripe&&e.data.stripe.sources){const n=t.payload.cardId,r=e.data.stripe.sources,s=n,i=(r[s],o(r,["symbol"==typeof s?s:s+""]));return Object.assign({},e,{data:Object.assign({},e.data,{stripe:Object.assign({},e.data.stripe,{sources:i})})})}return e;case s.e:if(e.status===r.Fetched&&e.data.braintree&&e.data.braintree.sources){const n=t.payload.sourceId,r=e.data.braintree.sources,s=n,i=(r[s],o(r,["symbol"==typeof s?s:s+""]));return Object.assign({},e,{data:Object.assign({},e.data,{braintree:Object.assign({},e.data.braintree,{sources:i})})})}return e;case s.b:return{error:t.payload.error,status:r.Failure};case s.c:return{data:t.payload,status:r.Fetched};case s.d:return{status:r.Pending};default:return e}}},"./src/reddit/reducers/economics/subredditPremium/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/specialMembership.ts"),o=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),i=n("./src/reddit/helpers/economics/sortBadges.ts"),c=n("./src/reddit/models/Badge/index.ts"),a=n("./src/reddit/models/Badge/managementPage.ts");!function(e){e[e.NotFetched=0]="NotFetched",e[e.Fetched=1]="Fetched"}(r||(r={}));const d={};function u(e){return"userId"in e}function l(e,t,n,r){e.forEach(e=>{e.collections&&Object.keys(e.collections).forEach(s=>{let o;(o=e.placement?e.placement===c.a.First?r[a.a.Loyalty][s]:r[a.a.Achievement][s]:u(e)?r[a.a.Cosmetic][a.c.MyBadges][s]:r[a.a.Cosmetic][a.c.Gallery][s])&&(u(e)?n.has(e.id)&&o.unlocked.push(e):t.has(e.id)||o.locked.push(e))})})}function b(e){const t=(e,t)=>{const n=parseInt(e.price||"0"),r=parseInt(t.price||"0");return n===r?Object(i.b)(e,t):n-r};return e.locked.sort(t),e.unlocked.sort(t),e}function p(e,t){return Object.keys(e).map(t=>e[t]).filter(e=>!!e.locked.length||!!e.unlocked.length||e.id===s.a).map(b).sort((e,n)=>{const r=t[e.id],s=t[n.id];return Object(i.b)(r,s)})}function m(e){const t={[a.a.Loyalty]:{},[a.a.Achievement]:{},[a.a.Cosmetic]:{[a.c.Gallery]:{},[a.c.MyBadges]:{}}};Object.keys(e.collections).forEach(n=>{const r=e.collections[n],s={description:r.description,highlight:r.extra&&r.extra.style&&r.extra.style.color,id:r.id,locked:[],title:r.title,unlocked:[]};t[a.a.Loyalty][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Achievement][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Cosmetic][a.c.Gallery][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Cosmetic][a.c.MyBadges][n]=Object.assign({},s,{locked:[],unlocked:[]})});const n=new Set;e.userOwnedBadges.forEach(t=>{const r=e.badges[t];r&&n.add(r.type)});const r=new Set(e.userOwnedBadges);return l(Object.keys(e.badges).map(t=>e.badges[t]),n,r,t),l(Object.keys(e.products).map(t=>e.products[t]),n,r,t),{collections:{[a.a.Loyalty]:p(t[a.a.Loyalty],e.collections),[a.a.Achievement]:p(t[a.a.Achievement],e.collections),[a.a.Cosmetic]:{[a.c.Gallery]:p(t[a.a.Cosmetic][a.c.Gallery],e.collections),[a.c.MyBadges]:p(t[a.a.Cosmetic][a.c.MyBadges],e.collections)}},subscription:e.subscription,userOwnedBadges:e.userOwnedBadges.map(t=>e.badges[t]).filter(Boolean)}}t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:{const{subredditId:n}=t.payload,s=e[n];return s&&s.status===r.Fetched?Object.assign({},e,{[n]:Object.assign({},s,{data:Object.assign({},s.data),raw:Object.assign({},s.raw)})}):e}case o.j:{const{subredditId:n}=t.payload,s=e[n];return s&&s.status===r.Fetched?Object.assign({},e,{[n]:Object.assign({},s,{data:Object.assign({},s.data,{subscription:Object.assign({},s.data.subscription||{},{settings:{renew:!1}})}),raw:Object.assign({},s.raw,{subscription:Object.assign({},s.raw.subscription||{},{settings:{renew:!1}})})})}):e}case o.k:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:{raw:n,data:m(n),status:r.Fetched}})}default:return e}}},"./src/reddit/reducers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/redux/es/index.js"),s=n("./src/reddit/actions/modal.ts");const o={};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.e:if(!t.payload.actionSource&&!t.payload.redirectUrl)return o;return Object.assign({},e,t.payload);default:return e}},c=n("./src/reddit/actions/authorFlair.ts"),a=n("./src/reddit/actions/badge.ts"),d=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),u=n("./src/reddit/actions/economics/support/constants.ts"),l=n("./src/reddit/actions/governance/constants.ts"),b=n("./src/reddit/actions/harbergerTax/constants.ts"),p=n("./src/reddit/actions/layers.ts"),m=n("./src/reddit/actions/platform.ts"),f=n("./src/reddit/actions/postCreation/constants.ts"),O=n("./src/reddit/actions/product.ts"),g=n("./src/reddit/actions/reportFlow.ts"),j=n("./src/reddit/actions/structuredStyles/constants.ts"),y=n("./src/reddit/constants/modals.ts");var _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:{const n=t.payload;return e===n?null:n}case s.b:case f.x:case p.c:case p.d:case s.d:case m.a:case g.f:return null;case j.e:return e===y.a.BLADE_UNSAVED_CHANGES?null:e;case j.d:return e===y.a.BLADE_NIGHTMODE?null:e;case c.a:return e===y.a.USER_FLAIR_MODAL_ID?null:y.a.USER_FLAIR_MODAL_ID;case a.c:return y.a.BADGE_PICKER;case O.b:return y.a.BADGE_PURCHASE;case l.e:return y.a.GOVERNANCE_OPT_OUT;case l.r:return y.a.TRANSFER_POINTS;case l.o:return y.a.GOVERNANCE_RELEASE_NOTES;case b.c:return y.a.HARBERGER_TAX_BANNER_PURCHASE;case b.a:return y.a.HARBERGER_TAX_BANNER_MANAGE;case u.a:return y.a.ECONOMY_SUPPORT_MODAL;case d.g:return y.a.SUBREDDIT_PREMIUM_GIFT_MODAL;case d.h:return y.a.SUBREDDIT_PREMIUM_PURCHASE_MODAL;case d.d:return y.a.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT;case p.a:case p.e:return y.a.PAINTER_MODAL;default:return e}},h=n("./src/reddit/actions/post.ts"),E=n("./src/reddit/actions/video.ts");const I={};var v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adImpression=Date.now(),r}case h.b:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adViewableImpression=Date.now(),r}case E.d:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoViewable=Date.now(),r}case E.a:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoFullyViewable=Date.now(),r}case E.c:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoStarted=Date.now(),r}case E.b:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoPlayedWithSound=Date.now(),r}case E.q:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoPlayedExpanded=Date.now(),r}case E.e:{const{postId:n,percentage:r}=t.payload,s=Object.assign({},e);s[n]||(s[n]={});const o="adVideoWatchedPercent".concat(r);return s[n].adVideoWatchedPercent||(s[n][o]={}),s[n][o]=Date.now(),s}case E.f:{const{postId:n,seconds:r}=t.payload,s=Object.assign({},e);s[n]||(s[n]={});const o="adVideoWatchedSeconds".concat(r);return s[n].adVideoWatchedSeconds||(s[n][o]={}),s[n][o]=Date.now(),s}default:return e}},S=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/actions/apiRequestState.ts"));const T={};var C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.d:case S.a:case S.b:{const n=t.payload;return Object.assign({},e,{[n.apiRequestId]:n})}case S.c:{const n=t.payload;if(!(n in e))return e;if(1===Object.keys(e).length)return T;const r=Object.assign({},e);return delete r[n],r}default:return e}},w=n("./src/reddit/actions/subredditModeration.ts");var D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:case w.d:return null;case w.c:return t.payload;default:return e}},P=n("./src/reddit/models/SubredditModeration/index.ts");const x={};var R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(P.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.d:case w.c:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(P.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},A=Object(r.c)({error:D,pending:R});const N={};var k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(P.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}};const L={};var U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}},M=n("./node_modules/lodash/merge.js"),F=n.n(M);const B={};var G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.b:case w.d:{const{subredditId:n,approvedSubmitters:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.i:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:case w.g:return null;case w.f:return t.payload;default:return e}};var V=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:return!0;case w.g:case w.f:return!1;default:return e}},H=Object(r.c)({error:q,pending:V});var K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:return null;case w.g:{const e=t.payload.approvedSubmitterIds[0];return e?t.payload.approvedSubmitters[e]:null}default:return e}},W=Object(r.c)({api:H,result:K});const Y={};var J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{subredditId:n,approvedSubmitterIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.i:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.b:{const{subredditId:n,approvedSubmitterIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},z=Object(r.c)({api:A,fetchedTokens:k,loadMore:U,models:G,search:W,userOrder:J});var Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return t.payload;default:return e}},X=n("./node_modules/lodash/mergeWith.js"),Z=n.n(X),$=n("./src/reddit/actions/comment.ts"),ee=n("./src/reddit/actions/grantUserFlair/constants.ts"),te=n("./src/reddit/actions/modQueue/constants.ts"),ne=n("./src/reddit/actions/page.ts"),re=n("./src/reddit/actions/pages/profileComments.ts"),se=n("./src/reddit/actions/pages/profilePosts.ts"),oe=n("./src/reddit/actions/pages/profilePrivate/constants.ts"),ie=n("./src/reddit/actions/pages/search.ts"),ce=n("./src/reddit/actions/pages/subreddit.ts"),ae=n("./src/reddit/actions/profileConversations.ts"),de=n("./src/reddit/actions/subreddit.ts"),ue=n("./src/reddit/actions/userFlair.ts"),le=n("./src/reddit/models/User/index.ts");const be={};var pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.s:case $.t:{const n=t.payload,{authorFlair:r}=n;if(r){return Z()(Object.assign({},e),r,(e,t,n)=>{if("richtext"===n)return t})}return e}case oe.c:case oe.i:case oe.e:case oe.g:case ie.c:{const{authorFlair:n}=t.payload;if(n){return F()(Object.assign({},e),n)}return e}case $.v:case ce.b:case ne.b:case re.b:case re.e:case se.e:case se.b:case ae.e:case de.i:return me(e,t.payload);case te.i:case te.f:case te.m:case te.p:case te.v:return me(e,t.payload.response);case ue.i:{const{subredditId:n,userName:r,applied:s,displaySettings:{isUserEnabled:o}}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:o?s:null})})}case ee.h:case ee.b:{const{subredditId:n,userName:r,applied:s}=t.payload;return e[n]&&e[n][r]?Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:s})}):e}case ue.a:{const{subredditId:n,userName:r,applied:s,displaySettings:{isEnabled:o}}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:o?s:null})})}default:return e}};const me=(e,t)=>{let{account:n,authorFlair:r,userFlair:s}=t;const o=F()(Object.assign({},e),r);if(!s||!n)return o;const i=Object.keys(s)[0];if(!i)return o;const c=Object(le.f)(n),a=s[i]&&s[i].applied,d=s[i]&&s[i].displaySettings&&s[i].displaySettings.isUserEnabled;return c&&a&&d?F()(o,{[i]:{[c]:a}}):o};var fe=Object(r.c)({inContext:Q,models:pe}),Oe=n("./src/reddit/actions/gold/constants.ts");const ge={};var je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.a:{const{disabled:n,subredditId:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}};var ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.e:case Oe.f:return null;case Oe.d:return t.payload;default:return e}};var _e=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:case Oe.f:case Oe.d:return!1;case Oe.e:return!0;default:return e}},he=Object(r.c)({error:ye,pending:_e}),Ee=Object(r.c)({api:he});var Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.C:case Oe.B:return null;case Oe.A:return t.payload;default:return e}};const ve={};var Se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.C:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Oe.B:case Oe.A:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Te=Object(r.c)({error:Ie,pending:Se});const Ce={};var we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.B:{const{awards:n,subredditId:r}=t.payload,s=n.map(e=>e.id);return Object.assign({},e,{[r]:s})}case Oe.f:{const{award:n,subredditId:r}=t.payload;if(n&&n.id){if(!e[r])return Object.assign({},e,{[r]:[n.id]});if(-1===e[r].indexOf(n.id))return Object.assign({},e,{[r]:[n.id,...e[r]]})}return e}case Oe.i:{const{awardId:n,subredditId:r}=t.payload,s=Object.assign({},e);if(s[r]){const e=s[r].indexOf(n);if(-1!==e){const t=[...s[r]];return t.splice(e,1),s[r]=t,s}}return e}default:return e}},De=Object(r.c)({api:Te,order:we}),Pe=n("./src/reddit/models/Gold/Award.ts"),xe=n("./src/reddit/actions/discoveryUnit.ts"),Re=n("./src/reddit/actions/frontpage.ts"),Ae=n("./src/reddit/actions/multireddit/constants.ts"),Ne=n("./src/reddit/actions/originalContent.ts"),ke=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),Le=n("./src/reddit/actions/pages/modListing/constants.ts"),Ue=n("./src/reddit/actions/pages/originalContent.ts"),Me=n("./src/reddit/actions/pages/postCreation.ts"),Fe=n("./src/reddit/actions/pages/profileOverview.ts"),Be=n("./src/reddit/actions/profileOverviewChrono.ts"),Ge=n("./src/reddit/actions/recommendations.ts"),qe=n("./src/reddit/actions/search.ts");const Ve={};var He=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.B:case Oe.J:{const{awards:n}=t.payload,r=n.reduce((e,t)=>(e[t.id]=t,e),{});return F()(Object.assign({},e),r)}case Oe.f:{const{award:n}=t.payload;return n&&n.id?e[n.id]?F()(Object.assign({},e),{[n.id]:n}):Object.assign({},e,{[n.id]:n}):e}case Oe.l:{const{awardId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{isEnabled:!1})}):e}case ke.b:case $.v:case Me.b:case xe.e:case Re.b:case Le.e:case Le.h:case te.f:case te.m:case te.p:case te.v:case Ae.r:case Ne.e:case Ne.h:case Ue.b:case ne.b:case ne.g:case ne.l:case ie.c:case re.b:case re.e:case ae.b:case ae.e:case Fe.b:case Fe.e:case Be.b:case se.b:case se.e:case oe.c:case oe.e:case oe.i:case oe.g:case Ge.b:case qe.c:case de.i:case ce.b:{const n={},r=t.payload.posts||[],s=t.payload.comments||[];for(const e in r){const t=r[e].allAwardings||[];for(const e of t)n[e.id]=Object(Pe.b)(e)}for(const e in s){const t=s[e].allAwardings||[];for(const e of t)n[e.id]=Object(Pe.b)(e)}return Object.assign({},e,n)}default:return e}};var Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.K:case Oe.J:return null;case Oe.I:return t.payload;default:return e}};const We={};var Ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.K:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Oe.J:case Oe.I:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Je=Object(r.c)({error:Ke,pending:Ye});const ze={};var Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.J:{const{awards:n,subredditId:r}=t.payload,s=n.map(e=>e.id);return Object.assign({},e,{[r]:s})}default:return e}},Xe=Object(r.c)({api:Je,order:Qe}),Ze=Object(r.c)({blacklist:je,create:Ee,manageable:De,models:He,usable:Xe});const $e={};var et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:case a.f:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case a.d:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const tt={};var nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case a.f:case a.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},rt=Object(r.c)({error:et,pending:nt});const st={};var ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:case a.i:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case a.g:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const it={};var ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case a.i:case a.g:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},at=Object(r.c)({error:ot,pending:ct}),dt=Object(r.c)({subreddit:rt,user:at});const ut={};var lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case a.f:case a.i:case O.d:{const{badges:n}=t.payload;return Object.assign({},e,n)}case l.a:{const n=t.payload.campaigns&&t.payload.campaigns.giveaway,r=n&&n.lastUsers;if(!r)return e;const s=r.reduce((e,t)=>Object.assign({},e,t.badges||{}),{});return Object.assign({},e,s)}default:return e}},bt=Object(r.c)({api:dt,models:lt});var pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.m:case w.l:return null;case w.k:return t.payload;default:return e}};const mt={};var ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.m:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(P.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.l:case w.k:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(P.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},Ot=Object(r.c)({error:pt,pending:ft});const gt={};var jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(P.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}},yt=n("./src/reddit/actions/inContextModeration.ts");var _t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt.a:return t.payload;default:return e}};const ht={};var Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const It={};var vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.j:case w.l:{const{subredditId:n,bannedUsers:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:case w.o:return null;case w.n:return t.payload;default:return e}};var Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:return!0;case w.o:case w.n:return!1;default:return e}},Ct=Object(r.c)({error:St,pending:Tt});var wt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:case w.n:return null;case w.o:{const e=t.payload.bannedUserIds[0];return e?t.payload.bannedUsers[e]:null}default:return e}},Dt=Object(r.c)({api:Ct,result:wt});const Pt={};var xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{subredditId:n,bannedUserIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.q:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.j:{const{subredditId:n,bannedUserIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},Rt=Object(r.c)({api:Ot,fetchedTokens:jt,inContext:_t,loadMore:Et,models:vt,search:Dt,userOrder:xt}),At=n("./src/reddit/actions/userBlocks.ts");const Nt={};var kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At.f:case At.e:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:null})}case At.d:{const{userId:n,type:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Lt={};var Ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At.f:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case At.e:case At.d:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Mt=Object(r.c)({error:kt,pending:Ut}),Ft=Object(r.c)({api:Mt}),Bt=n("./src/reddit/actions/ads/constants.ts");const Gt={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1};var qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt.a:return e.isViewSafe===t.payload.isViewSafe&&e.hasBrandSafetyBeenAssessed?e:Object.assign({},e,{isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0});case ce.c:case ne.m:case ne.h:return e.hasBrandSafetyBeenAssessed?Object.assign({},e,{hasBrandSafetyBeenAssessed:!1}):e;default:return e}},Vt=n("./src/reddit/actions/category.ts");var Ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.b:case Vt.c:return null;case Vt.a:{const{error:e}=t.payload;return e||null}default:return e}};var Kt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.c:return!1;case Vt.b:return!0;default:return e}};var Wt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.c:return!0;case Vt.b:case Vt.a:return!1;default:return e}},Yt=Object(r.c)({error:Ht,loaded:Kt,pending:Wt});const Jt={};var zt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.g:case Vt.f:{const{categoryId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}case Vt.e:{const{categoryId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Qt={};var Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.g:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Vt.f:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Zt={};var $t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.g:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Vt.f:case Vt.e:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},en=Object(r.c)({error:zt,loaded:Xt,pending:$t}),tn=Object(r.c)({list:Yt,subreddits:en}),nn=n("./node_modules/lodash/isEmpty.js"),rn=n.n(nn);const sn=[];var on=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.b:{const{categoryIds:n}=t.payload;return rn()(n)?e:n}default:return e}};const cn={};var an=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.b:{const{categories:n}=t.payload;return rn()(n)?e:Object.assign({},e,n)}default:return e}},dn=n("./node_modules/lodash/forOwn.js"),un=n.n(dn),ln=n("./src/reddit/helpers/name/index.ts");const bn={};var pn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.b:{const{categories:n}=t.payload;if(rn()(n))return e;const r={};return un()(n,e=>{r[Object(ln.f)(e.name)]=e.id}),Object.assign({},e,r)}default:return e}},mn=n("./src/reddit/actions/global.ts"),fn=n("./src/reddit/constants/localStorage.ts");const On={};var gn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mn.a:return t.payload[fn.d]||e;case Vt.d:{const{categoryId:n,rank:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},jn=Object(r.c)({api:tn,ids:on,models:an,nameToId:pn,ranking:gn}),yn=n("./src/reddit/actions/chat/init.ts");var _n=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yn.a:return!0;default:return e}},hn=n("./src/reddit/actions/chat/sendbirdProxy.ts"),En=n("./src/reddit/actions/chat/subredditChannel.ts");var In=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En.b:case En.a:return!!t.payload.isUserSubredditChatEnabled;case hn.a:const{user_subreddit_chat_enabled:n}=t.payload;return n;default:return e}},vn=n("./src/chat/actions/promo/constants.ts");const Sn={displaySubredditChatFtux:!1};var Tn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.a:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case vn.b:{const n=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Cn=n("./src/reddit/actions/chat/subredditSettings.ts");const wn={subredditId:null,bannedWords:"",domains:"",rateLimit:-1,regexes:[]};var Dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cn.a:return Object.assign({},t.payload);default:return e}},Pn=n("./src/reddit/actions/chat/unreadCount.ts");const xn={apiError:null};var Rn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pn.a.REQUEST_FAILED:{const e=t.payload;return Object.assign({},xn,{apiError:e})}case Pn.a.REQUEST_SUCCESS:case Pn.a.REQUEST_PENDING:return xn;default:return e}};var An=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pn.a.REQUEST_PENDING:return!0;case Pn.a.REQUEST_FAILED:case Pn.a.REQUEST_SUCCESS:return!1;default:return e}},Nn=Object(r.c)({error:Rn,pending:An});const kn={basicChannelCount:0,subredditChannelCount:0};var Ln=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pn.a.SYNC:case Pn.a.REQUEST_SUCCESS:{const e=t.payload;return Object.assign({},e)}default:return e}},Un=Object(r.c)({api:Nn,count:Ln}),Mn=Object(r.c)({isInited:_n,isUserSubredditChatEnabled:In,subredditSettings:Dn,promos:Tn,unread:Un}),Fn=n("./src/reddit/actions/claimgold.ts");var Bn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case Fn.d:case Fn.e:case Fn.c:return null;default:return e}};var Gn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn.d:case Fn.c:case Fn.a:return!1;case Fn.b:return!0;default:return e}};var qn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn.b:case Fn.d:case Fn.c:case Fn.a:return!1;case Fn.f:return!0;default:return e}},Vn=Object(r.c)({error:Bn,pending:Gn,showLoader:qn});var Hn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn.g:return t.payload;case Fn.e:return"";default:return e}};var Kn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fn.e:return!0;case Fn.c:case Fn.d:return!1;default:return e}},Wn=Object(r.c)({api:Vn,code:Hn,showModal:Kn}),Yn=n("./node_modules/lodash/get.js"),Jn=n.n(Yn);const zn={};var Qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.d:{const{commentsPageKey:n,commentId:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!Jn()(e,[n,r],!1)})})}case $.e:{const{commentsPageKey:n,commentId:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!1})})}case $.v:case ke.b:case ne.b:{const{key:n,shouldCollapse:r}=t.payload;if(!r)return e;const s=r.reduce((e,t)=>Object.assign({},e,{[t]:!0}),{});return Object.assign({},e,{[n]:Object.assign({},e[n],s)})}default:return e}},Xn=n("./src/lib/makeDraftKey/index.ts"),Zn=n("./src/reddit/models/PostCreationForm/index.ts"),$n=n("./src/reddit/models/PostDraft/index.ts");const er={};var tr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.p:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{autofocusDisabled:!0})})}case $.j:{const{draftKey:n,hasFocus:r}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{hasFocus:r})}):e}case ne.e:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:{rteState:null,draftType:$n.c.replyToPost}})}case ke.b:case ke.c:case ne.d:{const{postId:n,commentMode:r}=t.payload,s=Object(Xn.a)($n.c.replyToPost,n);return Object.assign({},e,{[s]:{commentMode:r,draftType:$n.c.replyToPost,hasFocus:!1,rteState:null,text:""}})}case ne.b:{const{postId:n,preferences:r}=t.payload;if(!r||!r.account)return e;const s=Object(Xn.a)($n.c.replyToPost,n),o=r.account.useMarkdown?Zn.h.MARKDOWN:Zn.h.RICH_TEXT;return Object.assign({},e,{[s]:Object.assign({},e[s],{commentMode:o})})}case $.l:const{draftKey:n,content:r,editorMode:s}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{commentMode:s,rteState:null,text:s===Zn.h.MARKDOWN?r:"",rtJson:s===Zn.h.RICH_TEXT?r:null})}):e;case $.q:case $.o:{const{draftKey:n,formData:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},r,{hasFocus:!0})})}case $.k:{const{draftKey:n,formData:r}=t.payload;return null===e[n]?e:Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case $.f:{const{draftKey:n}=t.payload,r=e[n];return r&&r.draftType===$n.c.replyToPost?Object.assign({},e,{[n]:Object.assign({},r,{rteState:null,text:""})}):Object.assign({},e,{[n]:null})}case $.H:{const{draftKey:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{rteState:null,text:""})})}case $.G:case $.C:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:null})}case $.F:{const{draftKey:n,draft:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const nr={};var rr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.h:{const{commentListNodeId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case $.i:{const{commentListNodeId:n}=t.payload;return Object.assign({},e,{[n]:!e[n]})}default:return e}};const sr={};var or=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.c:{const{commentListNodeIds:n,commentsPageKey:r}=t.payload,s=n.reduce((t,n)=>(t[n]=!Jn()(e,[r,n],!1),t),{});return Object.assign({},e,{[r]:Object.assign({},e[r],s)})}case $.b:{const{commentListNodeIds:n,commentsPageKey:r}=t.payload,s=n.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r],s)})}case $.v:case ke.b:case ne.b:{const{key:n,shouldHide:r}=t.payload;if(!r)return e;const s=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n],s)})}default:return e}};const ir={};var cr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.q:{const{commentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}case $.g:case $.A:case $.C:{const{commentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!1})})}default:return e}},ar=(n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/isEqual.js")),dr=n.n(ar),ur=n("./node_modules/lodash/mapValues.js"),lr=n.n(ur),br=n("./node_modules/lodash/omit.js"),pr=n.n(br),mr=n("./src/reddit/actions/bulkActions/constants.ts"),fr=n("./src/reddit/actions/vote.ts"),Or=n("./src/reddit/helpers/isComment.ts"),gr=n("./src/reddit/models/Comment/index.ts");const jr=(e,t)=>{const n={};for(const r of t)n[r.award.id]=r.total;return Object.assign({},e,{awardCountsById:n})};var yr=n("./src/reddit/models/ModQueue/index.ts"),_r=n("./src/reddit/models/Vote/index.ts"),hr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Er={},Ir=e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t},vr=["next","prev","depth"],Sr=e=>pr()(e,vr),Tr=e=>{const{allAwardings:t}=e,n=hr(e,["allAwardings"]);if(!t)return e;const r={};for(const s of t)r[s.id]=s.count;return Object.assign({},n,{awardCountsById:r})};var Cr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.s:case $.t:case $.G:case $.H:{const{comment:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case $.v:case ke.b:case ne.b:case re.b:case re.e:case Fe.b:case Fe.e:case ae.b:case ae.e:case Be.b:case oe.i:case oe.g:case oe.c:case oe.e:{const n=Object.assign({},e),r=Ir([Sr,Tr]);for(const s in t.payload.comments){const o=e[s],i=t.payload.comments[s];o?dr()(o,i)||(i.postAuthor||(i.postAuthor=o.postAuthor),i.postTitle||(i.postTitle=o.postTitle),n[s]=r(i)):n[s]=r(i)}return n}case $.z:{const{id:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{isDeleted:!0,deletedBy:gr.a.User})})}case $.m:{const n=t.payload;return Z()(Object.assign({},e),n,(e,t)=>Object.assign({},e,t))}case fr.a:{const{id:n,vote:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object(_r.c)(s,r)}):e}case Oe.q:{const{awardings:n,id:r}=t.payload,s=e[r];return s?Object.assign({},e,{[r]:jr(s,n)}):e}case w.l:{const{comments:n}=t.payload;return Object.assign({},e,n)}case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:n}=t.payload,{comments:r}=n,s=Ir([Tr]);return Object.assign({},e,lr()(r,s))}case mr.b:case te.s:{const{operation:n,ids:r,username:s,options:o}=t.payload,i=r.filter(e=>Object(Or.a)(e)),c=Object(yr.d)(e,n,i,s,o);return Z()(Object.assign({},e),c,(e,t)=>Object.assign({},e,t))}case ie.c:{const{comments:n}=t.payload;return Object.assign({},e,n)}default:return e}};const wr={};var Dr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.o:{const{parentCommentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}case $.n:case $.G:{const{parentCommentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!1})})}default:return e}};const Pr={};var xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.n:case $.F:case $.B:case $.H:case $.G:case $.C:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:null})}case $.E:case $.A:{const{draftKey:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case $.x:{const{id:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case $.y:case $.z:{const{id:n}=t.payload;return Object.assign({},e,{[n]:null})}default:return e}};const Rr={};var Ar=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.F:case $.B:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case $.G:case $.H:case $.C:case $.E:case $.A:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}case $.y:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case $.z:case $.x:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Nr=Object(r.c)({error:xr,pending:Ar}),kr=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Lr=Object(r.c)({collapsed:Qn,drafts:tr,focused:rr,hidden:or,isEditing:cr,models:Cr,replyFormOpen:Dr,submit:Nr,visitHighlightFilter:kr.b}),Ur=n("./src/reddit/actions/commentsListTruncated/constants.ts");var Mr=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ur.a:return!1;default:return e}};const Fr=[];var Br=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt.b:return t.payload;case Bt.c:default:return e}};const Gr={};var qr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.d:case ke.b:case ne.d:case ne.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case ke.a:case ne.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const Vr={};var Hr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.c:case ne.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Kr={};var Wr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.d:case ne.d:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ke.b:case ke.a:case ne.b:case ne.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Yr=Object(r.c)({error:qr,fullyLoaded:Hr,pending:Wr}),Jr=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/lodash/uniqBy.js")),zr=n.n(Jr),Qr=n("./node_modules/lodash/values.js"),Xr=n.n(Qr);const Zr={};function $r(e,t){return Xr()(e).map(e=>{const n=e.isStickied?t&&t.created||Math.round(Date.now()/1e3):e.created;return{id:e.id,created:n,stickied:e.isStickied}})}function es(e){return zr()(e,"id").sort((e,t)=>e.created-t.created)}var ts=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.b:case $.v:case ke.b:{const{comments:n,key:r}=t.payload,s=e[r]?e[r]:[],o=$r(n,s.find(e=>e.stickied)),i=es([...s,...o]);return Object.assign({},e,{[r]:[...i]})}case $.s:case $.t:case $.H:case $.G:{const{comment:{id:n,created:r,isStickied:s},commentsPageKey:o}=t.payload;return Object.assign({},e,{[o]:[...es([...e[o]?e[o]:[],{id:n,created:r,stickied:s}])]})}default:return e}},ns=n("./src/reddit/helpers/commentList/index.ts");const rs={};function ss(e){const t=e;return lr()(t,e=>{let{depth:t,next:n,prev:r}=e;return{depth:t,next:n,prev:r}})}var os=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.v:{const{comments:n,commentLists:r,continueThreads:s,key:o,moreCommentsItem:i,moreComments:c}=t.payload,a=r[i.postId],d=e[o],u={},l=d[i.id];if(l&&l.prev){const{id:e}=l.prev;u[e]=Object.assign({},d[e],{next:a.head||l.next})}if(l&&l.next){const{id:e}=l.next;u[e]=Object.assign({},d[e],{prev:a.tail||l.prev})}if(a.head&&a.tail){const e=Object(ns.c)({commentLink:a.head,commentsDict:n,moreCommentsDict:c,continueThreadDict:s}),t=Object(ns.c)({commentLink:a.tail,commentsDict:n,moreCommentsDict:c,continueThreadDict:s});l&&(e.prev=l.prev,t.next=l.next)}return Object.assign({},e,{[o]:Object.assign({},e[o],ss(n),ss(s),ss(c),u)})}case ke.b:case ne.b:{const{comments:n,continueThreads:r,key:s,moreComments:o}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s],ss(n),ss(r),ss(o))})}case $.s:case $.H:{const{comment:n,commentsPageKey:r,headCommentId:s}=t.payload,o=e[r],i={};let c=null;return s&&(i[s]=Object.assign({},o[s],{prev:Object(gr.f)(n.id)}),c=Object(gr.f)(s)),Object.assign({},e,{[r]:Object.assign({},e[r],i,{[n.id]:{depth:0,next:c,prev:null}})})}case $.G:{const{comment:n,commentsPageKey:r,parentCommentId:s,depth:o}=t.payload,i=e[r],c={};let a=null;if(!i[s])return e;const d=i[s].next;return d&&(c[d.id]=Object.assign({},i[d.id],{prev:Object(gr.f)(n.id)}),a=d),c[s]=Object.assign({},i[s],{next:Object(gr.f)(n.id)}),Object.assign({},e,{[r]:Object.assign({},e[r],c,{[n.id]:{depth:o,next:a,prev:Object(gr.f)(s)}})})}default:return e}};const is={};var cs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:is,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.s:case $.t:case $.H:{const{comment:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:n.id})}case ke.b:case ne.b:{const{commentLists:n,key:r,postId:s}=t.payload;return Object.assign({},e,{[r]:n[s]&&n[s].head?n[s].head.id:null})}default:return e}};const as={};var ds=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.d:case ke.b:case ke.c:case ne.d:{const{key:n,postId:r}=t.payload;return Object.assign({},e,{[n]:r})}case $.H:{const{parentId:n,commentsPageKey:r}=t.payload;return e[r]?e:Object.assign({},e,{[r]:n})}default:return e}},us=Object(r.c)({api:Yr,keyToChatCommentLinks:ts,keyToCommentThreadLinkSets:os,keyToHeadCommentId:cs,keyToPostId:ds,ads:Br}),ls=n("./src/reddit/actions/communityFlairs/constants.ts");const bs={};var ps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ls.a:{const{models:n,sortedKeys:r,subredditId:s}=t.payload;return Object.assign({},e,{[s]:{sortedKeys:r,models:n}})}default:return e}},ms=n("./src/reddit/actions/contentGate.ts");const fs={};var Os=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ms.a:{const{subredditName:n}=t.payload;if(n){if(e[n]){const t={[n]:{goldSubreddit:!0}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{goldSubreddit:!0}})}return e}case ms.b:{const{subredditDescription:n,subredditName:r}=t.payload;if(r){if(e[r]){const t={[r]:{privateSubreddit:!0,subredditDescription:n}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[r]:{privateSubreddit:!0,subredditDescription:n}})}return e}case ms.c:{const{subredditName:n,quarantineRequiresEmail:r,quarantineMessage:s,quarantineMessageHtml:o}=t.payload;return n?Object.assign({},e,{[n]:Object.assign({},e[n],{quarantinedSubreddit:!0,quarantineRequiresEmail:r,quarantineMessage:s,quarantineMessageHtml:o})}):e}case ms.e:{const{subredditName:n,banMessage:r}=t.payload;if(n){if(e[n]){const t={[n]:{subredditBanned:!0,subredditBanMessage:r}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{subredditBanned:!0,subredditBanMessage:r}})}return e}case ms.f:{const{subredditName:n}=t.payload;if(n){if(e[n]){const t={[n]:{subredditDoesNotExist:!0}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{subredditDoesNotExist:!0}})}return e}default:return e}};const gs={};var js=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.v:case ke.b:case ne.b:return Object.assign({},e,t.payload.continueThreads);default:return e}},ys=Object(r.c)({models:js}),_s=n("./src/reddit/actions/postCollection/constants.ts");var hs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:case _s.d:case _s.c:case _s.s:case _s.r:return null;case _s.b:case _s.n:return t.payload;default:return e}};var Es=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _s.c:case _s.r:return!0;case _s.d:case _s.b:case _s.s:case _s.n:return!1;default:return e}},Is=Object(r.c)({error:hs,pending:Es}),vs=Object(r.c)({createOrUpdate:Is}),Ss=n("./src/reddit/actions/postDraft.ts");const Ts={};var Cs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.c:case Ss.b:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ss.a:{const{apiError:n,draftId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const ws={};var Ds=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ws,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.b:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ss.c:case Ss.a:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Ps=Object(r.c)({error:Cs,pending:Ds});var xs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.d:return t.payload;case Ss.f:case Ss.e:return null;default:return e}};var Rs=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.f:return!0;case Ss.e:case Ss.d:return!1;default:return e}},As=Object(r.c)({error:xs,pending:Rs});const Ns={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null};var ks=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.l:case Ss.j:return Ns;case Ss.i:{const e=t.payload;return Object.assign({},Ns,{apiError:e})}case Ss.m:{const e=t.payload;return Object.assign({},Ns,{validationError:e})}case Ss.k:{const e=t.payload;return Object.assign({},Ns,{submitValidationError:e})}case Ss.h:return Object.assign({},Ns,{needsCaptcha:!0});default:return e}};var Ls=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.j:return!0;case Ss.l:case Ss.i:case Ss.m:case Ss.k:case Ss.h:return!1;default:return e}},Us=Object(r.c)({error:ks,pending:Ls}),Ms=Object(r.c)({deleteDraft:Ps,listing:As,save:Us});const Fs={};var Bs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.F:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case f.q:{const n=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Gs=Object(r.c)({pending:Bs});var qs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.v:case f.w:case f.d:case f.e:case f.f:case f.j:case f.k:case f.o:case f.N:return null;case f.u:return t.payload;default:return e}};var Vs=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.v:return!0;case f.w:case f.u:return!1;default:return e}},Hs=Object(r.c)({error:qs,pending:Vs}),Ks=Object(r.c)({converting:Gs,mediaUpload:Hs});const Ws={};var Ys=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case Me.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Me.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Js={};var zs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Js,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Me.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Qs={};var Xs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Me.b:case Me.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Zs=Object(r.c)({error:Ys,fetched:zs,pending:Xs});const $s={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null};var eo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.O:case f.z:case f.c:case f.d:case f.e:case f.f:case f.j:case f.k:case f.o:case f.N:case f.D:return $s;case f.i:{const{isContentChanged:n}=t.payload;return n?$s:e}case f.p:{const e=t.payload;return Object.assign({},$s,{apiError:e})}case f.Z:{const e=t.payload;return Object.assign({},$s,{validationError:e})}case f.I:{const e=t.payload;return Object.assign({},$s,{submitValidationError:e})}case f.a:return Object.assign({},$s,{needsCaptcha:!0});case f.B:return Object.assign({},$s,{pollError:t.payload});default:return e}};var to=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.z:return!0;case f.O:case f.p:case f.Z:case f.I:case f.B:case f.a:return!1;default:return e}},no=Object(r.c)({error:eo,pending:to});var ro=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.A:case f.G:return null;case f.n:return t.payload;default:return e}};var so=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.A:return!0;case f.n:case f.m:return!1;default:return e}},oo=Object(r.c)({error:ro,pending:so}),io=Object(r.c)({submit:no,update:oo});var co=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.N:case f.L:case f.M:return null;default:return e}};var ao=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.M:return!0;case f.L:case f.N:return!1;default:return e}},uo=Object(r.c)({error:co,pending:ao}),lo=Object(r.c)({change:uo}),bo=Object(r.c)({collection:vs,draft:Ms,editor:Ks,page:Zs,post:io,subreddit:lo}),po=n("./src/reddit/actions/pages/postDraft.ts");const mo={};var fo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss.e:{const{postDrafts:e}=t.payload;return e||mo}case Ss.c:{const n=e,{draftId:r}=t.payload;return pr()(n,r)}case f.O:{const{draftId:n}=t.payload;return n?pr()(e,n):e}case po.a:{const{drafts:e}=t.payload;return e}default:return e}},Oo=n("./src/lib/constants/index.ts");n("./node_modules/core-js/modules/es6.regexp.match.js");const go=e=>{if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},jo=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams},yo=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params};var _o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.d:return t.payload||"";case f.D:return"";case m.a:{if(go(t)!==Oo.wb.POST_CREATION)return"";const n=jo(t);return n&&n.url?n.url||"":e}case Ss.g:{const e=t.payload;return e.kind===$n.b.Link&&e.body||""}default:return e}};n("./node_modules/core-js/modules/es6.regexp.replace.js");const ho=e=>e?e.replace(/\+/g," "):"";var Eo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.e:return t.payload||"";case f.D:case f.H:return"";case f.P:return t.payload.editorMode===Zn.h.MARKDOWN?t.payload.content||"":e;case m.a:{if(go(t)!==Oo.wb.POST_CREATION)return"";const n=jo(t);return n&&n.text?ho(n.text):e}case Ss.g:{const e=t.payload;return e.kind===$n.b.Markdown&&e.body||""}default:return e}},Io=n("./src/reddit/actions/upload.ts");var vo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.f:return t.payload||null;case f.D:return null;case m.a:return go(t)!==Oo.wb.POST_CREATION?null:e;case Ss.g:return null;case Io.a:case Io.f:{const{key:n}=t.payload;return n===Zn.m?null:e}default:return e}},So=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx");const To=So.a.createInitial;var Co=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:To(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.i:{const{rteState:e}=t.payload;return e}case f.D:return So.a.createInitial();case f.P:{const n=t.payload;return n.editorMode===Zn.h.RICH_TEXT&&n.editorKey===Zn.g.POST_CREATION?So.a.createInitial(n.content):e}case m.a:return go(t)!==Oo.wb.POST_CREATION?So.a.createInitial():e;case Ss.g:{const e=t.payload;return e.kind===$n.b.RichText?So.a.createInitial(e.body):So.a.createInitial()}default:return e}},wo=Object(r.c)({link:_o,markdown:Eo,media:vo,rte:Co});var Do=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.b:return t.payload||null;case f.D:case Ss.g:case f.N:return null;case m.a:return go(t)===Oo.wb.POST_CREATION?e:null;default:return e}};var Po=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.c:return t.payload||null;case f.D:return null;case m.a:return go(t)===Oo.wb.POST_CREATION?e:null;case Ss.g:return t.payload.flair||null;default:return e}};var xo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.r:return t.payload.type||null;case f.j:case f.D:case m.a:return null;default:return e}};var Ro=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.R:return t.payload||!1;case f.D:return!1;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case Ss.g:return t.payload.isChatPost||!1;default:return e}};var Ao=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.T:return t.payload||!1;case f.D:return!1;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case Ss.g:return t.payload.isNSFW||!1;default:return e}};var No=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.U:return t.payload||!1;case f.D:return!1;case f.N:{const{name:n}=t.payload;return!!n&&e}case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case Ss.g:return t.payload.isOriginalContent||!1;default:return e}};var ko=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.V:return t.payload||!1;case f.D:return!1;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;default:return e}};var Lo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.D:return!1;case Ss.n:return t.payload;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case Ss.g:return t.payload.isPublicLink;default:return e}};var Uo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.W:return t.payload||!1;case f.D:return!1;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case Ss.g:return t.payload.isSpoiler||!1;default:return e}};var Mo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.b:{const{subredditName:e}=t.payload;return e}case m.a:case f.j:case f.r:case f.D:case l.h:return"";default:return e}};var Fo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.c:{const{username:e}=t.payload;return e}case m.a:case f.j:case f.r:case f.D:case l.h:return"";default:return e}};var Bo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.M:case f.N:return t.payload;case f.L:case m.a:return null;default:return e}};var Go=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.g:return t.payload||null;case f.D:return null;case m.a:return go(t)===Oo.wb.POST_CREATION?e:null;case Ss.g:return t.payload.contentCategory||null;default:return e}},qo=n("./src/reddit/actions/polls.ts");var Vo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qo.a:return Object.assign({},t.payload);case l.h:case f.D:return null;default:return e}};var Ho=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case f.X:return r||!1;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case Ss.g:return!1;default:return e}};var Ko=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.h:return t.payload||"";case m.a:return go(t)!==Oo.wb.POST_CREATION?"":e;default:return e}};var Wo=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.D:return!0;case f.Y:return t.payload;case m.a:return go(t)!==Oo.wb.POST_CREATION||e;case Ss.g:return t.payload.sendReplies;default:return e}};const Yo=Oo.Eb.POST;var Jo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.D:case p.d:case p.c:return Yo;case f.s:return Oo.Eb.CROSSPOST;case p.a:return Oo.Eb.MEDIA;case f.j:return t.payload.submissionType||Yo;case m.a:{if(go(t)!==Oo.wb.POST_CREATION)return Yo;const n=jo(t);if(!n)return e;const{title:r="",url:s,text:o="",media:i=!1,selftext:c=!1}=n,a=r&&!o&&!c;return i?Oo.Eb.MEDIA:void 0!==s||a?Oo.Eb.LINK_ONLY:o||c?Oo.Eb.POST:e}case Ss.g:{const e=t.payload;return $n.a[e.kind]}default:return e}},zo=n("./src/reddit/models/Poll/index.ts");const Qo=e=>e?e.replace(/\+/g," "):"",Xo=e=>"Should ".concat(e||"username"," become the top moderator?"),Zo=e=>e?"Should we spin-off to r/".concat(e,"?"):"Should we spin-off to a new community?";var $o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.s:return t.payload.postTitle||"";case f.k:return t.payload||"";case f.C:{const{title:n}=t.payload;return e||(n||"")}case f.D:case p.d:case p.c:return"";case m.a:{if(go(t)!==Oo.wb.POST_CREATION)return"";const n=jo(t);return n&&n.title?Qo(n.title):e}case Ss.g:return t.payload.title;case f.r:{const{oldType:n,type:r}=t.payload;return r===zo.a.ReplaceTopMod?Xo(""):r===zo.a.Spinoff?Zo(""):n===zo.a.ReplaceTopMod||n===zo.a.Spinoff?"":e}case l.c:{const{username:e}=t.payload;return Xo(e)}case l.b:{const{subredditName:e}=t.payload;return Zo(e)}case f.j:{const{extra:n}=t.payload;return!n||n.govType!==zo.a.ReplaceTopMod&&n.govType!==zo.a.Spinoff?e:""}default:return e}},ei=Object(r.c)({body:wo,eventSchedule:Do,flair:Po,govType:xo,isChatPost:Ro,isNSFW:Ao,isOC:No,isPoll:ko,isPublicLink:Lo,isSpoiler:Uo,newSubreddit:Mo,newTopMod:Fo,nextSubreddit:Bo,ocCategory:Go,postToTwitter:Ho,polls:Vo,recaptcha:Ko,sendReplies:Wo,submissionType:Jo,title:$o});const ti={title:null,body:null,link:null,flair:null};var ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ti,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.c:case f.d:case f.e:return e[Oo.jb.BODY]?Object.assign({},e,{[Oo.jb.BODY]:null}):e;case f.i:{const{isContentChanged:n}=t.payload;return e[Oo.jb.BODY]&&n?Object.assign({},e,{[Oo.jb.BODY]:null}):e}case f.k:return e[Oo.jb.TITLE]?Object.assign({},e,{[Oo.jb.TITLE]:null}):e;case f.J:{const{field:n,msg:r}=t.payload;return Object.assign({},e,{[n]:r})}case f.K:{const n=t.payload;return Object.assign({},e,{[n]:null})}case f.o:{const n=t.payload;return n?Object.assign({},e,{[n]:null}):ti}case f.I:{const n=t.payload;if(n&&n.fields&&n.fields.length){const t=n.fields[0],{field:r,msg:s}=t;return Object.assign({},e,{[r]:s})}return e}case m.a:return go(t)!==Oo.wb.POST_CREATION?ti:e;default:return e}};var ri=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.b:case f.c:case f.d:case f.e:case f.f:case f.g:case f.k:case f.j:case f.T:case f.U:case f.W:case Ss.n:case f.Y:return!0;case f.i:{const{isContentChanged:n}=t.payload;return!!n||e}case f.O:return!1;case f.Q:return t.payload;case m.a:return go(t)===Oo.wb.POST_CREATION&&e;case f.D:case Ss.l:case Ss.g:return!1;default:return e}};var si=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.x:return e===t.payload?null:t.payload||null;case s.c:return t.payload?null:e;case m.a:return go(t)!==Oo.wb.POST_CREATION?null:e;default:return e}},oi=n("./src/reddit/routes/postCreation/index.ts");var ii=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case f.y:return r;case f.M:return"";case m.a:return go(t)===Oo.wb.POST_CREATION&&Object(oi.d)(t.payload.routeMatch.route.path)?e:null;default:return e}};const ci=Zn.q.Post;var ai=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.z:return Zn.q.Post;case f.E:return t.payload;case Ss.j:return Zn.q.Draft;case m.a:return go(t)!==Oo.wb.POST_CREATION?ci:e;default:return e}},di=Object(r.c)({fieldValidation:ni,isChanged:ri,modalId:si,ocCategory:ii,submitMode:ai});var ui=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.G:return t.payload.editorMode===Zn.h.MARKDOWN?t.payload.postContent||"":e;case f.H:return"";case f.P:return t.payload.editorMode===Zn.h.MARKDOWN?t.payload.content||"":e;default:return e}};const li=So.a.createInitial;var bi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.H:return So.a.createInitial();case f.G:{const n=t.payload;return n.editorMode===Zn.h.RICH_TEXT&&"object"==typeof n.postContent?So.a.createInitial(n.postContent,n.mediaMetadata):e}case f.P:{const n=t.payload;return n.editorMode===Zn.h.RICH_TEXT&&n.editorKey===Zn.g.POST_EDITING?So.a.createInitial(n.content):e}default:return e}},pi=Object(r.c)({markdown:ui,rte:bi});const mi=Zn.h.RICH_TEXT;var fi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.G:{const{editorMode:e}=t.payload;return e}case f.H:return mi;case f.P:{const{editorMode:e}=t.payload;return e}default:return e}};var Oi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.G:{const{postId:e}=t.payload;return e}case f.H:return null;default:return e}},gi=Object(r.c)({draft:pi,editorMode:fi,postId:Oi}),ji=Object(r.c)({api:bo,drafts:fo,formData:ei,formState:di,postEditing:gi}),yi=n("./src/reddit/actions/dashboard.ts");const _i={selectedComponent:null,subredditPending:!1,subredditLoaded:{}};var hi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yi.a:return Object.assign({},e,{selectedComponent:t.payload});case yi.c:{const n=t.payload,r=e.subredditLoaded[n];return Object.assign({},e,{subredditPending:!r,subredditLoaded:Object.assign({},e.subredditLoaded,{[n]:r||!1})})}case yi.b:{const n=t.payload;return Object.assign({},e,{subredditPending:!1,subredditLoaded:Object.assign({},e.subredditLoaded,{[n]:!0})})}default:return e}};var Ei=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.b:case xe.c:return null;case xe.a:{const{error:e}=t.payload;return e||null}default:return e}};var Ii=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.c:return!1;case xe.b:return!0;default:return e}};var vi=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.c:return!0;case xe.b:case xe.a:return!1;default:return e}},Si=Object(r.c)({error:Ei,loaded:Ii,pending:vi}),Ti=Object(r.c)({list:Si});const Ci={};var wi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.b:{const{discoveryUnits:n}=t.payload;return rn()(n)?e:Object.assign({},e,n)}default:return e}};const Di={};var Pi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.b:{const{discoveryUnits:n}=t.payload;if(rn()(n))return e;const r={};return un()(n,e=>{r[Object(ln.f)(e.unitName)]=e.id}),Object.assign({},e,r)}default:return e}},xi=Object(r.c)({api:Ti,models:wi,nameToId:Pi}),Ri=n("./src/reddit/models/Badge/managementPage.ts");const Ai={badgeType:Ri.a.Cosmetic,view:Ri.c.Gallery};var Ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:{const{badge:n,initialView:r}=t.payload;return n||r?Object.assign({},e,{badgeType:n?Object(Ri.d)(n.placement):e.badgeType,view:r}):e}case d.c:{const n=t.payload;return Object.assign({},e,{badgeType:n})}case d.e:{const n=t.payload;return Object.assign({},e,{view:n})}case s.b:return Ai;default:return e}};var ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:return{badge:t.payload.badge};case s.b:return null;case d.g:case d.h:return t.payload;default:return e}};var Li=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.a:return t.payload;case s.b:return null;default:return e}};const Ui={};var Mi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:{const{emotes:n,emoteCollections:r}=t.payload.products,s={};return n.forEach(e=>{const t=e.extra&&e.extra.assets,n=Object.keys(e.collections||{})[0]||e.title,o=r[n];s[n]||(s[n]={emotes:{},position:o?o.position:0,title:o?o.title:e.title}),t&&Object.keys(t).forEach(r=>{const o=t[r];s[n].emotes[r]={id:r,emoji:o.emoji,fullId:"emote|".concat(e.id,"|").concat(r),imageType:o.emoji.type,sticker:o.sticker}})}),Object.assign({},e,{[t.payload.subredditId]:Object.keys(s).map(e=>s[e]).sort((e,t)=>e.position-t.position)})}default:return e}},Fi=n("./src/reddit/actions/economics/ftue/constants.ts");const Bi={tippingHighlightViewed:null,topTippersViewed:null};var Gi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fi.a:return Object.assign({},e,{tippingHighlightViewed:!0});case Fi.b:return Object.assign({},e,{tippingHighlightViewed:!0,topTippersViewed:!0});default:return e}};const qi={};var Vi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:{const n=t.payload.products.giphy.length>0;return Object.assign({},e,{[t.payload.subredditId]:{hasGifProduct:n}})}default:return e}},Hi=n("./src/reddit/reducers/economics/paymentSystems/index.ts");const Ki={allSubscriptionsFetched:!1,data:{}};var Wi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a:{const n=t.payload;return{allSubscriptionsFetched:!0,data:Object.assign({},e.data,n)}}case d.j:{const{subredditId:n}=t.payload;return e.data[n]?Object.assign({},e,{data:Object.assign({},e.data,{[n]:Object.assign({},e.data[n],{settings:{renew:!1}})})}):e}default:return e}},Yi=n("./src/reddit/reducers/economics/subredditPremium/index.ts"),Ji=n("./src/reddit/actions/economics/tips/constants.ts"),zi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Qi={};var Xi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ji.a:{const{subredditId:n,tipData:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,r)})}case u.b:{const{accountId:n,accountUsername:r,anonymous:s,amount:o,contentId:i,subredditId:c}=t.payload,a=e[c]||{},d=a[i]||{},u=d.amounts||{usdr:{amount:"0",users:{}}},l=u.usdr,b=l.amount||"0",p=String(parseInt(b)+parseInt(o)),m=u.usdr.users||{},{anonymous:f={amount:"0",includesUser:!1,numUsers:0}}=m,O=zi(m,["anonymous"]),g=s?Object.assign({},O,{anonymous:{amount:String(parseInt(f.amount)+parseInt(o)),includesUser:!0,numUsers:f.includesUser?f.numUsers:f.numUsers+1}}):Object.assign({},m,{[n]:Object.assign({},m[n]||{},{amount:m[n]?String(parseInt(m[n].amount||"0")+parseInt(o)):o,username:r})});return Object.assign({},e,{[c]:Object.assign({},a,{[i]:Object.assign({},d,{amounts:Object.assign({},u,{usdr:Object.assign({},l,{amount:p,users:g})})})})})}default:return e}},Zi=Object(r.c)({currentBadgeManagementScreen:Ni,currentModalArgs:ki,currentPaymentTarget:Li,emotes:Mi,ftue:Gi,gifs:Vi,paymentSystems:Hi.b,specialMemberships:Wi,subredditPremium:Yi.b,tipDetails:Xi}),$i=n("./src/reddit/actions/emoji.ts"),ec=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const tc={};var nc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $i.h:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case $i.g:{const{subredditId:n}=t.payload,r=n;e[r];return ec(e,["symbol"==typeof r?r:r+""])}case $i.f:{const{subredditId:n}=t.payload,r=n;e[r];return ec(e,["symbol"==typeof r?r:r+""])}default:return e}},rc=Object(r.c)({pending:nc}),sc=Object(r.c)({list:rc}),oc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ic={};var cc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $i.f:case $i.c:return e;case $i.g:{const{data:e}=t.payload;return e}case $i.d:{const{emojiName:n,subredditId:r}=t.payload,s=e[r].emojis,o=n,i=(s[o],oc(s,["symbol"==typeof o?o:o+""]));return Object.assign({},e,{[r]:Object.assign({},e[r],{emojis:i})})}case $i.i:{const n=t.payload,r=e[n.subredditId].emojis,s={url:n.url,name:n.name,userFlairAllowed:n.userFlairAllowed,postFlairAllowed:n.postFlairAllowed,modFlairOnly:n.modFlairOnly},o=Object.assign({},r,{[n.name]:s});return Object.assign({},e,{[n.subredditId]:Object.assign({},e[n.subredditId],{emojis:o})})}case $i.e:{const{emojiName:n,isSnoomoji:r,settings:s,subredditId:o}=t.payload,i=r?"snoomojis":"emojis",c=e[o][i],a=Object.assign({},c,{[n]:Object.assign({},c[n],s)});return Object.assign({},e,{[o]:Object.assign({},e[o],{[i]:a})})}default:return e}},ac=Object(r.c)({api:sc,models:cc}),dc=n("./src/reddit/actions/externalAccount.ts");const uc={};var lc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.e:case dc.f:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:null})}case dc.d:{const{provider:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const bc={};var pc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.e:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!0})}case dc.f:case dc.d:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},mc=Object(r.c)({error:lc,pending:pc});const fc={};var Oc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.l:case dc.k:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:null})}case dc.j:{const{provider:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const gc={};var jc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.b:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!0})}case dc.c:case dc.a:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},yc=Object(r.c)({error:Oc,pending:jc});const _c={};var hc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.i:case dc.h:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:null})}case dc.g:{const{subredditName:n,apiError:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Ec={};var Ic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.h:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const vc={};var Sc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.i:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!0})}case dc.h:case dc.g:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Tc=Object(r.c)({error:hc,fetched:Ic,pending:Sc});const Cc={};var wc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.l:case dc.k:{const{username:n}=t.payload;return Object.assign({},e,{[n]:null})}case dc.j:{const{username:n,apiError:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Dc={};var Pc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.l:{const{username:n}=t.payload;return Object.assign({},e,{[n]:!0})}case dc.k:case dc.j:{const{username:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},xc=Object(r.c)({error:wc,pending:Pc}),Rc=Object(r.c)({connect:mc,disconnect:yc,user:xc,subreddit:Tc});const Ac={};var Nc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.h:{const{subredditName:n,accountsData:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const kc={};var Lc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dc.k:{const{username:n,accountsData:r}=t.payload;return Object.assign({},e,{[n]:r})}case dc.c:{const{username:n,provider:r}=t.payload,s=e[n];return s&&s[r]?Object.assign({},e,{[n]:pr()(s,r)}):e}default:return e}},Uc=Object(r.c)({api:Rc,user:Lc,subreddit:Nc}),Mc=n("./src/reddit/featureFlags/index.ts");const Fc=new Set(["0","disabled","false","off",""]);var Bc=e=>!Fc.has(e.toLowerCase());const Gc=Mc.a.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),qc=Mc.a.reduce((e,t)=>(e[t]=null,e),{});var Vc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const n=jo(t);if(void 0!==n){const t={};for(const e in n){const r=Object(Mc.g)(e);if(r){const s=Gc[r.toLowerCase()];if(s){const r=n[e],o="string"!=typeof r||Bc(r);t[s]=o}}}if(Object.keys(t).length>0)return Object.assign({},e,t)}return e}case Mc.b:{const{featureName:n,currentValue:r}=t.payload;return r===e[n]?e:Object.assign({},e,{[n]:r})}case Mc.c:{const{featureName:n,currentValue:r}=t.payload;return Object.assign({},e,{[n]:!r})}default:return e}},Hc=Object(r.c)({overrides:Vc});var Kc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.g:case ee.i:return null;case ee.f:return t.payload;default:return e}};var Wc=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.i:return!0;case ee.g:case ee.f:return!1;default:return e}},Yc=Object(r.c)({error:Kc,pending:Wc});const Jc={};var zc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.g:case ee.k:{const{subredditId:n,flairedUsers:r}=t.payload;return F()(Object.assign({},e),{[n]:r})}case ee.c:{const{subredditId:n,userName:r}=t.payload,s=pr()(e[n],r);return Object.assign({},e,{[n]:s})}case ee.a:case ee.b:case ee.h:const{subredditId:n,userName:r,applied:s}=t.payload;return s?Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:s})}):e;default:return e}};const Qc={};var Xc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.g:{const{key:n,pageInfo:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};var Zc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.l:case ee.k:return null;case ee.j:return t.payload;default:return e}};var $c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.l:return!0;case ee.k:case ee.j:return!1;default:return e}},ea=Object(r.c)({error:Zc,pending:$c});var ta=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.k:{const{searchResult:e}=t.payload;return e}case ee.c:{const{userName:n}=t.payload;return e===n?null:e}default:return e}},na=Object(r.c)({api:ea,result:ta});const ra={};var sa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.g:{const{key:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:r})}case ee.a:{const{key:n,userName:r}=t.payload;if(!n)return e;if(!e[n].includes(r)){const t=[...e[n],r];return Object.assign({},e,{[n]:t})}return e}case ee.c:{const{userName:n}=t.payload,r={};for(const t in e)r[t]=e[t].filter(e=>e!==n);return r}default:return e}},oa=Object(r.c)({api:Yc,models:zc,pageInfo:Xc,search:na,userOrder:sa}),ia=n("./src/reddit/actions/focusedVerticals/constants.ts");const ca={focusedVerticalGqlError:null};var aa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ia.d:case ia.c:return Object.assign({},e,{focusedVerticalGqlError:null});case ia.b:return Object.assign({},e,{focusedVerticalGqlError:t.payload});default:return e}};const da={focusedVerticalGqlPending:!1};var ua=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ia.d:return Object.assign({},e,{focusedVerticalGqlPending:!0});case ia.b:case ia.c:return Object.assign({},e,{focusedVerticalGqlPending:!1});default:return e}},la=Object(r.c)({error:aa,pending:ua}),ba=n("./src/reddit/models/FocusedVerticals/index.ts");const pa={isCommunityDescWithPostsDismissed:!0,isDifferentCommunitiesDescDismissed:!0,isPostsFromDifferentCommunitiesDismissed:!0,isPostsFromOneCommunityDismissed:!0};var ma=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ia.g:{const{variantName:n}=t.payload;if(!n)return e;switch(n){case ba.a.CommunityDescWithPosts:return Object.assign({},e,{isCommunityDescWithPostsDismissed:!1});case ba.a.DifferentCommunitiesDesc:return Object.assign({},e,{isDifferentCommunitiesDescDismissed:!1});case ba.a.PostsFromDifferentCommunities:return Object.assign({},e,{isPostsFromDifferentCommunitiesDismissed:!1});case ba.a.PostsFromOneCommunity:return Object.assign({},e,{isPostsFromOneCommunityDismissed:!1});default:return e}}case ia.e:{const{variantName:n}=t.payload;if(!n)return e;switch(n){case ba.a.CommunityDescWithPosts:return Object.assign({},e,{isCommunityDescWithPostsDismissed:!0});case ba.a.DifferentCommunitiesDesc:return Object.assign({},e,{isDifferentCommunitiesDescDismissed:!0});case ba.a.PostsFromDifferentCommunities:return Object.assign({},e,{isPostsFromDifferentCommunitiesDismissed:!0});case ba.a.PostsFromOneCommunity:return Object.assign({},e,{isPostsFromOneCommunityDismissed:!0});default:return e}}default:return e}};var fa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ia.c:{const{data:n}=t.payload;return n||e}default:return e}},Oa=Object(r.c)({api:la,components:ma,models:fa}),ga=n("./src/lib/makeActionCreator/index.ts");Object(ga.a)("FONTS_FONT_FILES_PARSED");const ja=[];var ya=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FONTS_FONT_FILES_PARSED":return t.payload.fonts;default:return e}};var _a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.m:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case Oe.b:case m.a:case Oe.E:case Oe.q:return null;default:return e}};var ha=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.b:case m.a:case Oe.q:case Oe.m:return!1;case Oe.n:return!0;default:return e}};var Ea=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.n:case Oe.b:case m.a:case Oe.q:case Oe.m:return!1;case Oe.r:return!0;default:return e}},Ia=Object(r.c)({error:_a,pending:ha,showLoader:Ea});var va=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.D:case Oe.E:return t.payload;case Oe.q:case m.a:case Oe.b:return null;default:return e}};var Sa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.o:return t.payload;case Oe.E:return!1;default:return e}};var Ta=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.p:return t.payload;case Oe.E:return!1;default:return e}};var Ca=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.D:return!0;default:return e}};var wa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.s:return t.payload;case Oe.E:return"";default:return e}};const Da=Pe.g;var Pa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.H:return t.payload;case Oe.E:return Da;default:return e}},xa=Object(r.c)({api:Ia,gildModalThingId:va,includeMessage:Sa,isAnonymous:Ta,isIframed:Ca,message:wa,selectedAward:Pa});var Ra=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.t:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case Oe.c:case m.a:case Oe.F:case Oe.y:return null;default:return e}};var Aa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.c:case m.a:case Oe.y:case Oe.t:return!1;case Oe.u:return!0;default:return e}},Na=Object(r.c)({error:Ra,pending:Aa});var ka=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.F:return t.payload;case m.a:case Oe.c:case Oe.y:return"";default:return e}},La=Object(r.c)({api:Na,givePremiumModalAccountName:ka}),Ua=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),Ma=n("./src/reddit/actions/goldPurchaseModals/constants.ts");var Fa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.b:return"selectPayment";case Ma.f:return"paymentCompleted";default:return e}};var Ba=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.a:case Oe.b:case Oe.q:return null;case Ua.c:return t.payload&&t.payload.thingId?t.payload.thingId:e;default:return e}};var Ga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.b:{const{coinPackage:e}=t.payload;return e}case Ma.f:case Ua.a:return null;default:return e}};var qa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.b:return!0;case Oe.E:case m.a:case Ua.a:return!1;default:return e}},Va=Object(r.c)({activePage:Fa,gildThingId:Ba,purchasePackage:Ga,showModal:qa}),Ha=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts");var Ka=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.b:{const{cardName:e}=t.payload;return e}case Ma.i:return t.payload!==Oo.sb?"":e;case Ua.a:case Ha.a:case Ma.c:case m.a:return"";default:return e}};var Wa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.l:{const{error:n,elementType:r}=t.payload;return"cardCvc"===r?n&&n.message||"":e}case Ma.i:return t.payload!==Oo.sb?"":e;case Ua.a:case Ha.a:case Ma.c:case m.a:return"";default:return e}};var Ya=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.l:{const{error:n,elementType:r}=t.payload;return"cardExpiry"===r?n&&n.message||"":e}case Ma.i:return t.payload!==Oo.sb?"":e;case Ua.a:case Ha.a:case Ma.c:case m.a:return"";default:return e}};var Ja=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.l:{const{error:n,elementType:r}=t.payload;return"cardNumber"===r?n&&n.message||"":e}case Ma.i:return t.payload!==Oo.sb?"":e;case Ua.a:case Ha.a:case Ma.c:case m.a:return"";default:return e}};var za=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.a:return t.payload.message||e;case Ma.b:return"";case Ma.i:return t.payload!==Oo.sb?"":e;case Ua.a:case Ha.a:case Ma.c:case m.a:return"";default:return e}};var Qa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.l:{const{error:n,elementType:r}=t.payload;return"postalCode"===r?n&&n.message||"":e}case Ma.i:return t.payload!==Oo.sb?"":e;case Ua.a:case Ha.a:case Ma.c:case m.a:return"";default:return e}},Xa=Object(r.c)({cardCvc:Wa,cardExpiry:Ya,cardNumber:Ja,nameOnCard:za,postalCode:Qa});const Za=Oo.tb;var $a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.b:case Ha.b:return Za;case Ma.i:return t.payload;default:return e}};var ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.g:return t.payload||e;case Ma.i:{const{method:n}=t.payload;return n===Oo.tb?null:e}case Ua.b:case Ha.b:case Oe.E:return null;default:return e}};var td=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.b:case Ha.b:return"";case Ua.d:case Ha.c:{const e=t.payload;return e.body&&e.body.passthrough?e.body.passthrough:""}default:return e}},nd=Object(r.c)({errorMessage:ed,passthrough:td});var rd=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.o:return!e;case Ma.i:return t.payload!==Oo.sb||e;case Ua.a:case Ha.a:case m.a:return!0;default:return e}};const sd=[];var od=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.e:return t.payload;case Ma.d:{const n=t.payload;return e.filter(e=>e.cardId!==n)}default:return e}};var id=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.h:return!0;case Ma.e:return!1;default:return e}};var cd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.a:case Ma.m:return t.payload.message||e;case Ma.k:return t.payload;case Ma.l:case Ma.b:case Ma.n:return null;case Ma.i:return t.payload===Oo.sb?null:e;default:return e}};var ad=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.a:case Ma.k:case Ma.m:return!1;case Ma.i:return t.payload!==Oo.sb&&e;case Ma.n:return!0;default:return e}},dd=Object(r.c)({errorMessage:cd,pending:ad});var ud=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.j:return t.payload;case Ma.d:return t.payload===e?null:e;default:return e}},ld=Object(r.c)({cardName:Ka,cardValidation:Xa,paymentMethod:$a,paypal:nd,rememberCard:rd,savedCards:od,savedCardsPending:id,stripeToken:dd,useSavedCard:ud});var bd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.b:return"selectPayment";case Ma.f:return"paymentCompleted";default:return e}};var pd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ha.b:return!0;case m.a:case Ha.a:return!1;default:return e}},md=Object(r.c)({activePage:bd,showModal:pd});var fd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ma.p:case Ma.r:return!1;case Ma.q:return!0;default:return e}},Od=Object(r.c)({pending:fd}),gd=Object(r.c)({coinPurchaseModal:Va,payment:ld,premiumPurchaseModal:md,updateCardModal:Od}),jd=n("./src/reddit/actions/header.ts"),yd=n("./src/reddit/actions/overlayEvents.ts");var _d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jd.a:return!1;case jd.b:return!0;case jd.c:return!e;case yd.b:return!1;default:return e}},hd=Object(r.c)({isSubscriptionsDropdownOpen:_d}),Ed=n("./src/reddit/actions/imageUploads.ts");const Id={};var vd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Id,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ed.d:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case Ed.c:case Ed.e:case Ed.b:{const n=t.payload;return e[n.id]?Object.assign({},e,{[n.id]:n}):e}case Ed.a:{const n=t.payload;if(!e[n.id])return e;const r=Object.assign({},e);return delete r[n.id],r}default:return e}},Sd=n("./src/reddit/actions/emailVerificationTooltip.ts");var Td=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sd.a:return!e;default:return e}},Cd=n("./src/reddit/actions/moderatingSubreddits.ts");var wd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cd.a:{if(e)return e;const n=t.payload;return Object.keys(n).some(e=>!0===n[e].posts)}case ce.b:case ke.b:case ne.b:case Me.b:{if(e)return e;const{payload:n}=t;return n.subredditPermissions&&n.subreddits?n.subredditPermissions.posts:e}case te.i:case te.f:case te.m:case te.p:case te.v:{if(e)return e;const{response:n}=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;let o=Object.keys(r).some(e=>!0===r[e].posts);if(!o){o=Object.keys(s).some(e=>!0===r[e].posts)}return o}default:return e}},Dd=n("./src/reddit/actions/jsApi.ts");const Pd=[];var xd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dd.a:{const n=t.payload;return-1===e.indexOf(n)&&(e=[...e,n]).sort(),e}default:return e}};var Rd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.f:return t.payload;case p.a:case p.d:case p.b:return null;default:return e}};var Ad=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return t.payload.background;default:return e}};var Nd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return t.payload.box;default:return e}};var kd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return Date.now();default:return e}},Ld=Object(r.c)({draft:Rd,editorBackground:Ad,layerBox:Nd,startTime:kd}),Ud=n("./src/reddit/actions/leaderboard/constants.ts"),Md=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Fd={};var Bd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ud.b:{const{key:n,data:r}=t.payload;return Object.assign({},e,{[n]:r})}case Ud.c:case Ud.d:{const{key:n}=t.payload,r=n;e[r];return Md(e,["symbol"==typeof r?r:r+""])}default:return e}},Gd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const qd={};var Vd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ud.b:case Ud.d:{const{key:n}=t.payload,r=n;e[r];return Gd(e,["symbol"==typeof r?r:r+""])}case Ud.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},Hd=Object(r.c)({error:Bd,pending:Vd});const Kd={};var Wd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ud.a:{const{dateRange:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Yd={};var Jd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ud.d:{const{key:n,data:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},zd=Object(r.c)({api:Hd,dateRangeSelection:Wd,models:Jd});var Qd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const{listingKey:n}=t.payload;return n||e}default:return e}},Xd=n("./src/reddit/actions/pages/explore.ts");const Zd={};var $d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.b:case qe.c:case ie.b:case ie.c:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Oo.Ib.Subreddits)&&-1===r.indexOf(Oo.Ib.Users)?e:Object.assign({},e,{[n]:null})}case qe.a:case ie.a:{const{key:n,error:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Subreddits)&&-1===s.indexOf(Oo.Ib.Users)?e:Object.assign({},e,{[n]:r})}case xe.f:case xe.e:case Xd.c:case Xd.b:case de.l:case de.m:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case xe.d:case Xd.a:case de.k:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const eu={};var tu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.b:case ie.b:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Oo.Ib.Subreddits)&&-1===r.indexOf(Oo.Ib.Users)?e:Object.assign({},e,{[n]:!0})}case qe.c:case qe.a:case ie.c:case ie.a:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Oo.Ib.Subreddits)&&-1===r.indexOf(Oo.Ib.Users)?e:Object.assign({},e,{[n]:!1})}case xe.f:case Xd.c:case de.l:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case xe.e:case xe.d:case Xd.b:case Xd.a:case de.m:case de.k:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},nu=Object(r.c)({error:$d,pending:tu});const ru={};var su=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.c:{const{fetchedToken:n,key:r,type:s}=t.payload;if(-1===s.indexOf(Oo.Ib.Subreddits)&&-1===s.indexOf(Oo.Ib.Users))return e;const o=e[r];return Object.assign({},e,{[r]:Object.assign({},o,{[n]:!0})})}case xe.e:case Xd.b:case de.m:{const{fetchedToken:n,key:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}default:return e}};const ou={};var iu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.c:{const{key:n,listingOrder:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Subreddits)&&-1===s.indexOf(Oo.Ib.Users)?e:Object.assign({},e,{[n]:e[n].concat(r)})}case ie.c:{const{key:n,listingOrder:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Subreddits)&&-1===s.indexOf(Oo.Ib.Users)?e:Object.assign({},e,{[n]:r})}default:return e}};const cu={};var au=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xd.b:{const{key:n,ids:r}=t.payload;return r&&0!==r.length?Object.assign({},e,{[n]:[...e[n]||[],...r]}):e}default:return e}},du=n("./src/lib/omitKey/index.ts");const uu={};var lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.c:case ie.c:{const{key:n,tokens:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Subreddits)&&-1===s.indexOf(Oo.Ib.Users)?e:r.listings?Object.assign({},e,{[n]:{token:r.listings}}):Object(du.a)(e,n)}case xe.e:case Xd.b:case de.m:{const{key:n,token:r}=t.payload;return Object.assign({},e,{[n]:{token:r}})}default:return e}},bu=Object(r.c)({api:nu,identifiers:iu,ids:au,fetchedTokens:su,loadMore:lu}),pu=n("./src/reddit/actions/otherDiscussions/constants.ts");const mu={};var fu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.c:case Ue.b:case ne.h:case ne.g:case ne.m:case ne.l:case ce.c:case ce.b:case Re.c:case Re.b:case Le.e:case Le.f:case Le.i:case Le.h:case Ae.s:case Ae.r:case Ne.f:case Ne.e:case pu.b:case pu.c:case se.f:case se.e:case se.c:case se.b:case ae.f:case ae.e:case Fe.f:case Fe.e:case de.j:case de.i:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case ie.b:case ie.c:case qe.b:case qe.c:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Oo.Ib.Posts)?e:Object.assign({},e,{[n]:null})}case ne.f:case ne.k:case ce.a:case Re.a:case Le.g:case Ae.q:case Ne.d:case pu.a:case de.h:case ae.d:case Fe.d:case se.d:case se.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case ie.a:case qe.a:{const{error:n,key:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Posts)?e:Object.assign({},e,{[r]:n})}default:return e}},Ou=n("./src/reddit/actions/subreddit/constants.ts");const gu={};var ju=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.c:case ne.h:case ne.m:case se.f:case Fe.f:case ce.c:case Re.c:case Le.f:case Le.i:case Ae.s:case Ne.f:case pu.c:case ae.f:case se.c:case de.j:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ie.b:case qe.b:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Oo.Ib.Posts)?e:Object.assign({},e,{[n]:!0})}case Ue.b:case ne.g:case ne.f:case ne.k:case ne.l:case Fe.d:case Fe.e:case se.d:case se.e:case ce.b:case ce.a:case Re.b:case Re.a:case Le.e:case Le.d:case Le.h:case Le.g:case Ae.r:case Ae.q:case Ne.e:case Ne.d:case ae.d:case ae.e:case se.a:case se.b:case Ou.h:case pu.b:case pu.a:case de.i:case de.h:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}case ie.c:case ie.a:case qe.c:case qe.a:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Oo.Ib.Posts)?e:Object.assign({},e,{[n]:!1})}default:return e}},yu=Object(r.c)({error:fu,pending:ju}),_u=n("./src/reddit/actions/postList.ts");const hu={};var Eu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _u.a:{const{listingKey:n,listingName:r}=t.payload;return Object.assign({},e,{[n]:r})}case _u.b:{const{listingKey:n}=t.payload;return n in e?pr()(e,[n]):e}default:return e}};const Iu={};var vu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:case ne.g:case ne.l:case ce.b:case se.e:case Ue.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case Re.b:case Le.h:case Ae.r:case Ne.e:case ae.e:case se.b:case de.i:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}case qe.c:{const{fetchedToken:n,key:r,type:s}=t.payload;if(s.indexOf(Oo.Ib.Posts)>-1){const t=e[r];return Object.assign({},e,{[r]:Object.assign({},t,{[n]:!0})})}return e}default:return e}};const Su={};var Tu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.h:case Le.f:case ne.m:case se.f:case ce.c:case Fe.f:case se.f:{const{key:n}=t.payload;return Object.assign({},e,{[n]:[]})}case xe.e:case Le.e:case Ue.b:case ne.g:case ne.l:case ce.b:case Ou.h:case pu.b:case Fe.e:case se.e:case Ge.b:{const{key:n,postIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case Re.b:case Le.h:case Ae.r:case Ne.e:case se.b:case ae.e:case de.i:{const{key:n,postIds:r}=t.payload;return Object.assign({},e,{[n]:e[n].concat(r)})}case ie.c:{const{key:n,postOrder:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Posts)?e:Object.assign({},e,{[n]:r})}case qe.c:{const{key:n,postOrder:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Posts)?e:Object.assign({},e,{[n]:e[n].concat(r)})}case h.k:{const{newStickiedPostList:n,listingKey:r}=t.payload;if(!e[r])return e;const s=[...e[r]].filter(e=>!n.includes(e));return s.unshift(...n),Object.assign({},e,{[r]:s})}default:return e}},Cu=n("./src/lib/makeListingKey/index.ts"),wu=n("./src/reddit/actions/preferences.ts");const Du={};var Pu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:{const{key:n,listingSort:r}=t.payload;return r&&!Object(Cu.b)(n)?Object.assign({},e,{[n]:{sort:r,hasChanged:!1}}):e}case wu.a:case wu.p:{const t={};return Object.keys(e).forEach(n=>{t[n]=Object.assign({},e[n],{hasChanged:!0})}),t}default:return e}};const xu={};var Ru=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:case ne.l:case ce.b:case Fe.e:case se.e:case Ue.b:case Re.b:case Le.e:case Le.h:case Ae.r:case Ne.e:case ae.e:case se.b:case de.i:{const{key:n,token:r,dist:s}=t.payload;return r?Object.assign({},e,{[n]:{token:r,dist:s}}):Object(du.a)(e,n)}case qe.c:case ie.c:{const{key:n,tokens:r,type:s}=t.payload;return-1===s.indexOf(Oo.Ib.Posts)?e:r.posts?Object.assign({},e,{[n]:{token:r.posts}}):Object(du.a)(e,n)}default:return e}},Au=Object(r.c)({api:yu,endMarkers:Eu,fetchedTokens:vu,ids:Tu,listingSort:Pu,loadMore:Ru}),Nu=Object(r.c)({activeKey:Qd,listingOrder:bu,postOrder:Au});var ku=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:return rn()(t.payload.featuredLiveThread)?e:t.payload.featuredLiveThread;default:return e}};var Lu=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:return!0;default:return e}},Uu=Object(r.c)({featured:ku,isFrontpageLoaded:Lu}),Mu=n("./src/reddit/actions/media.ts");var Fu=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mu.b:return t.payload;default:return e}};var Bu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mu.c:return t.payload;default:return e}},Gu=Object(r.c)({isMuted:Fu,volume:Bu}),qu=n("./src/reddit/actions/meta.ts");const Vu={city:"",country:"",crawler:void 0,domain:"",isBot:!1,isSessionSeo:!1,method:"",protocol:"",region:"",sessionReferrerDomain:"",userAgent:"",pageloadServerTime:0};var Hu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qu.b:return t.payload;case qu.a:return Object.assign({},e,t.payload);default:return e}};const Ku={};var Wu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ku,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case ke.b:case ne.b:case Me.b:{const{payload:n}=t;if(!n.subredditPermissions||!n.subreddits)return e;const r=Object.keys(n.subredditAboutInfo||{});if(1!==r.length)return e;const s=r[0];return Object.assign({},e,{[s]:n.subredditPermissions})}case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:n}=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;return Object.assign({},e,r,s)}case de.f:case Le.e:case te.k:{const n=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;return Object.assign({},e,r,s)}case w.R:{const{subredditId:n}=t.payload;return Object(du.a)(e,n)}case w.O:{const n=t.payload;return Object.assign({},e,n)}default:return e}},Yu=n("./src/reddit/actions/moderationLog/constants.ts");const Ju={};var zu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ju,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.b:{const{actionIds:n,key:r,subredditId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}default:return e}};const Qu={};var Xu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.b:{const{normalizedModerationLog:n,subredditId:r}=t.payload,s={};n.forEach(e=>{s[e.id]=e});const o={[r]:s};return F()(Object.assign({},e),o)}default:return e}},Zu=Object(r.c)({itemOrder:zu,models:Xu});var $u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.b:{const{endCursor:e}=t.payload;return e}default:return e}};const el={};var tl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.b:{const{hasNextPage:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const nl={};var rl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.b:{const{hasPreviousPage:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const sl=[];var ol=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.a:{const{normalizedModerators:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};var il=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yu.b:{const{startCursor:e}=t.payload;return e}default:return e}},cl=Object(r.c)({actions:Zu,endCursor:$u,hasNextPage:tl,hasPreviousPage:rl,moderators:ol,startCursor:il});const al={};var dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{response:n}=t.payload,r={[n.subredditId]:n.moderators};return F()(Object.assign({},e),r)}case w.u:{const{subredditId:n,userId:r,permissions:s}=t.payload,o=Object.assign({},e);return o[n][r].modPermissions=s,F()(Object.assign({},e),Object.assign({},o))}case w.Q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}case w.E:{const n=t.payload,{moderators:r,subredditId:s}=n,o=s in e?e[s]:{};return Object.assign({},e,{[s]:Object.assign({},o,r)})}default:return e}};const ul={};var ll=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.t:case w.s:{const{key:n,subredditId:r}=t.payload;return r?Object.assign({},e,{[n]:null}):e}case w.r:{const{error:n,key:r,subredditId:s}=t.payload;return s?Object.assign({},e,{[r]:n}):e}default:return e}};const bl={};var pl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.r:case w.s:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!1}):e}case w.t:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!0}):e}default:return e}},ml=Object(r.c)({error:ll,pending:pl});const fl={};var Ol=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{subredditId:n,response:r,key:s}=t.payload,{moderatorIds:o}=r;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[s]:o})})}case w.Q:{const{subredditId:n,userId:r,key:s}=t.payload,o=e[n][s].filter(e=>e!==r);return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[s]:o})})}default:return e}},gl=Object(r.c)({data:Ol,api:ml});var jl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.x:case w.w:return null;case w.v:return t.payload;default:return e}};var yl=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:case w.v:return!1;case w.x:return!0;default:return e}},_l=Object(r.c)({error:jl,pending:yl});const hl={};var El=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:{const{subredditId:n,moderators:r}=t.payload;return Object.assign({},e,{[n]:r})}case w.P:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}case w.a:{const n=t.payload,{subredditId:r,moderators:s}=n,o={[r]:s};return F()(Object.assign({},e),o)}default:return e}};const Il={};var vl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Il,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:{const{subredditId:n,moderatorIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case w.P:{const{subredditId:n,userId:r}=t.payload,s=e[n].filter(e=>e!==r);return Object.assign({},e,{[n]:s})}case w.a:{const n=t.payload,{subredditId:r,moderatorIds:s}=n,o=[...e[r]||[],...s];return Object.assign({},e,{[r]:o})}default:return e}},Sl=Object(r.c)({api:_l,models:El,userOrder:vl}),Tl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Cl={};var wl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{subredditId:n,response:r}=t.payload,{invitePending:s}=r,o={[n]:s};return F()(Object.assign({},e),o)}case w.y:case w.z:{const{subredditId:n}=t.payload,r=n;e[r];return Tl(e,["symbol"==typeof r?r:r+""])}default:return e}};const Dl={};var Pl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const xl={};var Rl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Al={};var Nl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:n}=t.payload,r={[n.subredditId]:n.moderators};return F()(Object.assign({},e),r)}case w.u:{const n=t.payload,{subredditId:r,userId:s,permissions:o}=n;if(e[r]&&e[r][s]){const t=Object.assign({},e);return t[r][s].modPermissions=o,t}return e}default:return e}};var kl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:case w.E:return null;case w.D:return t.payload;default:return e}};var Ll=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:return!0;case w.E:case w.D:return!1;default:return e}},Ul=Object(r.c)({error:kl,pending:Ll});var Ml=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:case w.D:case w.Q:return null;case w.E:{const e=t.payload.moderatorIds[0];return e?t.payload.moderators[e]:null}case w.u:{const{userId:n,permissions:r}=t.payload;return e&&e.id===n&&!dr()(e.modPermissions,r)?Object.assign({},e,{modPermissions:r}):e}default:return e}},Fl=Object(r.c)({api:Ul,result:Ml});const Bl={};var Gl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.C:case w.B:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:null}):e}case w.A:{const{error:n,subredditId:r,key:s}=t.payload;return r?Object.assign({},e,{[s]:n}):e}default:return e}};const ql={};var Vl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ql,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.A:case w.B:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!1}):e}case w.C:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!0}):e}default:return e}},Hl=Object(r.c)({error:Gl,pending:Vl});const Kl={};var Wl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:n,subredditId:r,key:s}=t.payload,{moderatorIds:o}=n;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[s]:o})})}case w.Q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e[n]);return Object.keys(e[n]).forEach(t=>{const o=e[n][t].filter(e=>e!==r);s[t]=o}),Object.assign({},e,{[n]:s})}default:return e}},Yl=Object(r.c)({data:Wl,api:Hl}),Jl=Object(r.c)({editableModerators:dl,editableUserOrder:gl,invitedModerators:Sl,invitePending:wl,loadMoreModerators:Rl,loadMoreEditableModerators:Pl,models:Nl,search:Fl,userOrder:Yl});var zl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.b:case Le.k:return null;case Le.a:case Le.j:return t.payload;default:return e}};var Ql=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.b:case Le.k:return!0;case Le.c:case Le.a:case Le.l:case Le.j:return!1;default:return e}},Xl=Object(r.c)({error:zl,pending:Ql});const Zl=[];var $l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:{const n=t.payload,{filteredSubreddits:r}=n;return r||e}case Le.j:{const n=t.payload;return[...e,n]}case Le.k:case Le.a:{const n=t.payload;return e.filter(e=>e!==n)}default:return e}},eb=Object(r.c)({api:Xl,names:$l}),tb=Object(r.c)({filteredSubreddits:eb}),nb=n("./src/reddit/actions/modMode.ts");var rb=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nb.a:return t.payload.enabled;default:return e}};var sb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mr.c:case mr.b:return null;case mr.a:return t.payload;default:return e}};var ob=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mr.c:return!0;case mr.b:case mr.a:case te.s:case te.r:return!1;default:return e}},ib=Object(r.c)({error:sb,pending:ob});const cb={};var ab=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.a:{const{ids:n}=t.payload,r={};return n.forEach(e=>r[e]=!0),Object.assign({},e,r)}case te.d:{const{ids:n}=t.payload;return pr()(e,n)}case te.c:{const{ids:e}=t.payload,n={};return e.forEach(e=>n[e]=!0),n}default:return e}};const db={};var ub=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:db,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mr.b:{const{operation:e,ids:n}=t.payload;return"approve"===e?db:{[yr.c[e]]:n}}default:return e}},lb=Object(r.c)({api:ib,selectedItems:ab,undoLastAction:ub});var bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:case te.f:return null;case te.e:return t.payload;default:return e}};var pb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:return!0;case te.f:case te.e:return!1;default:return e}},mb=Object(r.c)({error:bb,pending:pb});const fb={};var Ob=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.f:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const gb={};var jb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.f:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},yb=Object(r.c)({api:mb,itemOrder:Ob,loadMore:jb});var _b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:{const n=t.payload,{moderatingSubreddits:r}=n;return r?null:e}case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:e}=t.payload,{moderatedAfter:n}=e;return n}case te.k:{const e=t.payload,{moderatedAfter:n}=e;return n}default:return e}};const hb=[];var Eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:e}=t.payload,{listingOrder:n}=e;return n}case te.k:{const n=t.payload,{listingOrder:r}=n;return[...e,...r]}case Le.e:{const n=t.payload,{listingOrder:r}=n;return r||e}default:return e}};var Ib=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.b:return!0;default:return e}};var vb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.k:return!0;case te.b:return!1;default:return e}},Sb=Object(r.c)({after:_b,data:Eb,loaded:Ib,pending:vb});var Tb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.j:case te.i:return null;case te.h:return t.payload;default:return e}};var Cb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.j:return!0;case te.i:case te.h:return!1;default:return e}},wb=Object(r.c)({error:Tb,pending:Cb});const Db={};var Pb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Db,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.i:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const xb={};var Rb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.i:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Ab=Object(r.c)({api:wb,itemOrder:Pb,loadMore:Rb});var Nb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.n:case te.m:return null;case te.l:return t.payload;default:return e}};var kb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.n:return!0;case te.m:case te.l:return!1;default:return e}},Lb=Object(r.c)({error:Nb,pending:kb});const Ub={};var Mb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ub,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.m:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Fb={};var Bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.m:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Gb=Object(r.c)({api:Lb,itemOrder:Mb,loadMore:Bb});var qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.q:case te.p:return null;case te.o:return t.payload;default:return e}};var Vb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.q:return!0;case te.p:case te.o:return!1;default:return e}},Hb=Object(r.c)({error:qb,pending:Vb});const Kb={};var Wb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.p:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Yb={};var Jb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.p:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},zb=Object(r.c)({api:Hb,itemOrder:Wb,loadMore:Jb});var Qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.w:case te.v:return null;case te.u:return t.payload;default:return e}};var Xb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.w:return!0;case te.v:case te.u:return!1;default:return e}},Zb=Object(r.c)({error:Qb,pending:Xb});const $b={};var ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.v:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const tp={};var np=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.v:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},rp=Object(r.c)({api:Zb,itemOrder:ep,loadMore:np}),sp=Object(r.c)({bulkAction:lb,edited:yb,moderatedCommunitiesOrder:Sb,modqueue:Ab,reports:Gb,spam:zb,unmoderated:rp}),op=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ip={};var cp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ip,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.w:{const{moreCommentsId:n}=t.payload;return Object.assign({},e,{[n]:null})}case $.v:{const{moreCommentsItem:n}=t.payload;return Object.assign({},e,{[n.id]:null})}case $.u:{const n=t.payload,{moreCommentsItem:r}=n,s=op(n,["moreCommentsItem"]);return Object.assign({},e,{[r.id]:s||{}})}default:return e}};const ap={};var dp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.w:{const{moreCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case $.u:case $.v:{const{moreCommentsItem:n}=t.payload;return Object.assign({},e,{[n.id]:!1})}default:return e}},up=Object(r.c)({error:cp,pending:dp});const lp={};var bp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.v:case ke.b:case ne.b:return Object.assign({},e,t.payload.moreComments);default:return e}},pp=Object(r.c)({api:up,models:bp});var mp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.b:case Ae.c:return null;case Ae.a:return t.payload;default:return e}};var fp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.a:case Ae.c:return!0;case Ae.b:return!1;default:return e}};var Op=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.l:case Ae.a:case Ae.c:return null;case Ae.b:{const{name:e}=t.payload;return e}default:return e}},gp=Object(r.c)({error:mp,fetched:fp,pending:Op});var jp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.f:case Ae.g:return null;case Ae.e:return t.payload;default:return e}};var yp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.e:case Ae.g:return!0;case Ae.f:return!1;default:return e}};var _p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.e:case Ae.g:return!1;case Ae.f:return!0;default:return e}},hp=Object(r.c)({error:jp,fetched:yp,pending:_p});var Ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.i:case Ae.j:return null;case Ae.h:return t.payload;default:return e}};var Ip=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.h:case Ae.j:return!0;case Ae.i:return!1;default:return e}};var vp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.h:case Ae.j:return!1;case Ae.i:return!0;default:return e}},Sp=Object(r.c)({error:Ep,fetched:Ip,pending:vp});var Tp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.l:case Ae.m:return null;case Ae.k:return t.payload;default:return e}};var Cp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.k:case Ae.m:return!0;case Ae.l:return!1;default:return e}};var wp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.k:case Ae.m:return!1;case Ae.l:return!0;default:return e}},Dp=Object(r.c)({error:Tp,fetched:Cp,pending:wp});var Pp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.o:case Ae.p:return null;case Ae.n:return t.payload;default:return e}};var xp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.n:case Ae.p:return!0;case Ae.o:return!1;default:return e}};var Rp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.n:case Ae.p:return!1;case Ae.o:return!0;default:return e}},Ap=Object(r.c)({error:Pp,fetched:xp,pending:Rp});var Np=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.t:return!1;case Ae.u:return!0;default:return e}};var kp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.t:return!0;case Ae.u:return!1;default:return e}},Lp=Object(r.c)({fetched:Np,pending:kp});var Up=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.A:case Ae.B:return null;case Ae.z:return t.payload;default:return e}};var Mp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.A:case Ae.z:return!1;case Ae.B:return!0;default:return e}};var Fp=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.A:return!0;case Ae.B:case Ae.z:return!1;default:return e}},Bp=Object(r.c)({error:Up,fetched:Mp,pending:Fp});var Gp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.w:case Ae.x:return null;case Ae.v:return t.payload;default:return e}};var qp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.v:case Ae.x:return!0;case Ae.w:return!1;default:return e}};var Vp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.v:case Ae.x:return null;case Ae.w:const{id:n}=t.payload;return n;default:return e}},Hp=Object(r.c)({error:Gp,fetched:qp,pending:Vp}),Kp=Object(r.c)({addSubreddit:gp,create:hp,deleteMulti:Sp,duplicate:Dp,edit:Ap,forUser:Lp,recommendations:Bp,removeSubreddit:Hp}),Wp=n("./node_modules/lodash/union.js"),Yp=n.n(Wp);function Jp(e,t,n){let r,s,o=e.length-1,i=0;for(;i<=o;){const c=n(r=e[s=(i+o)/2|0],t);if(c<0){if((i=s+1)>o)return i}else{if(!(c>0))return s;if((o=s-1)<i)return o+1}}return(i+o)/2|0}var zp=n("./src/reddit/actions/profile/constants.ts");const Qp={};var Xp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.l:case Ae.r:case Ae.u:case zp.h:{const{multireddits:n,multiredditsByUser:r,multiredditsModelsState:s}=t.payload,o=Object.assign({},e),i=Object.assign({},n,s);for(const t in r){const n=r[t],s=e[t];o[t]=Yp()(s,n).sort((e,t)=>i[e].displayText.toLowerCase()>i[t].displayText.toLowerCase()?1:-1)}return dr()(e,o)?e:o}case Ae.g:case Ae.m:{const{userId:n,multireddit:r}=t.payload,s=e[n]?e[n].slice():[],o=Jp(s,r.url,(e,t)=>e>t?1:-1);return s.splice(o,0,r.url),Object.assign({},e,{[n]:s})}case Ae.j:{const n=t.payload;for(const t in e){const r=e[t];if(r.indexOf(n)>-1)return Object.assign({},e,{[t]:r.filter(e=>e!==n)})}return e}default:return e}},Zp=n("./src/reddit/actions/subscription/constants.ts"),$p=n("./src/reddit/models/Multireddit/index.ts");const em={};var tm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:em,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.l:case Ae.r:case Ae.u:case zp.h:{let n={};for(const r in t.payload.multireddits){const s=Object.assign({},t.payload.multireddits[r]),o=e[r];o&&!Object($p.g)(s)&&(s.subredditIds=o.subredditIds,s.profileIds=o.profileIds),r in e&&dr()(e[s.url],s)||(n=Object.assign({},n,{[r]:s}))}return rn()(n)?e:Object.assign({},e,n)}case Ae.g:case Ae.m:{const{multireddit:n}=t.payload;return Object.assign({},e,{[n.url]:n})}case Ae.j:{const n=t.payload,r=Object.assign({},e);return delete r[n],r}case Ae.p:{const n=t.payload;return Object.assign({},e,{[n.url]:n})}case Ae.x:{const{id:n,multipath:r,type:s}=t.payload,o=e[r],i="subreddit"===s?(o.subredditIds||[]).filter(e=>e!==n):o.subredditIds,c="profile"===s?(o.profileIds||[]).filter(e=>e!==n):o.profileIds;return Object.assign({},e,{[r]:Object.assign({},o,{profileIds:c,subredditIds:i})})}case Zp.d:{const{makeFavorite:n,multiredditPath:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFavorited:n})})}case Zp.e:{const{follow:n,multiredditPath:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFollowed:n,isFavorited:!1})})}case Ae.c:{const{id:n,multipaths:r,type:s}=t.payload,o=r.reduce((t,r)=>{const o=e[r],i="subreddit"===s?[...o.subredditIds||[],n]:o.subredditIds,c="profile"===s?[...o.profileIds||[],n]:o.profileIds;return Object.assign({},t,{[r]:Object.assign({},o,{subredditIds:i,profileIds:c})})},{});return Object.assign({},e,o)}default:return e}};const nm={};var rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.B:{const{multipath:n,subreddits:r}=t.payload;return Object.assign({},e,{[n]:Object.keys(r)})}default:return e}},sm=Object(r.c)({api:Kp,byUserId:Xp,models:tm,recommendations:rm});var om=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.J:case w.H:return null;case w.G:return t.payload;default:return e}};const im={};var cm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:im,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.J:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(P.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.H:case w.G:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(P.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},am=Object(r.c)({error:om,pending:cm});const dm={};var um=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(P.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}};var lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt.b:return t.payload;default:return e}};const bm={};var pm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const mm={};var fm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.I:case w.H:{const{subredditId:n,mutedUsers:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.N:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var Om=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:case w.L:return null;case w.K:return t.payload;default:return e}};var gm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:return!0;case w.L:case w.K:return!1;default:return e}},jm=Object(r.c)({error:Om,pending:gm});var ym=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:case w.K:return null;case w.L:{const e=t.payload.mutedUserIds[0];return e?t.payload.mutedUsers[e]:null}default:return e}},_m=Object(r.c)({api:jm,result:ym});const hm={};var Em=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{subredditId:n,mutedUserIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.N:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.I:{const{subredditId:n,mutedUserIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},Im=Object(r.c)({api:am,fetchedTokens:um,inContext:lm,loadMore:pm,models:fm,search:_m,userOrder:Em}),vm=n("./src/reddit/actions/notificationBanner.ts");var Sm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vm.b:return t.payload.notificationBannerId;case vm.a:return null;default:return e}},Tm=n("./src/reddit/actions/nps.ts");const Cm={pending:!1,success:!1,dest:void 0};var wm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tm.c:return Object.assign({},Cm,{pending:!0});case Tm.a:return Cm;case Tm.b:{const{dest:e}=t.payload;return Object.assign({},Cm,{success:!0,dest:e})}default:return e}},Dm=n("./src/reddit/actions/oldSiteRules.ts");const Pm=[];var xm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dm.a:return t.payload.oldSiteRules;default:return e}};const Rm={};var Am=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.i:case Ne.h:{const{category:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ne.g:{const{category:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Nm={};var km=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.i:{const{category:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ne.h:case Ne.g:{const{category:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Lm=Object(r.c)({error:Am,pending:km}),Um=Object(r.c)({api:Lm});var Mm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.c:case Ne.b:return null;case Ne.a:return t.payload;default:return e}};var Fm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.c:return!0;case Ne.b:case Ne.a:return!1;default:return e}},Bm=Object(r.c)({error:Mm,pending:Fm});const Gm={};var qm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.b:return 0===t.payload.length?Gm:t.payload.reduce((e,t)=>(e[t.name]=t,e),{});default:return e}},Vm=Object(r.c)({api:Bm,models:qm});const Hm={};var Km=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.l:case Ne.k:{const{category:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ne.j:{const{category:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Wm={};var Ym=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.l:{const{category:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ne.k:case Ne.j:{const{category:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Jm=Object(r.c)({error:Km,pending:Ym}),zm=Object(r.c)({api:Jm});const Qm={};var Xm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.o:case Ne.n:{const{category:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ne.m:{const{category:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Zm={};var $m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.l:{const{category:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ne.k:case Ne.j:{const{category:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ef=Object(r.c)({error:Xm,pending:$m}),tf=Object(r.c)({api:ef}),nf=Object(r.c)({bestPosts:Um,categories:Vm,topCommunities:zm,topCreators:tf}),rf=n("./node_modules/history/index.js"),sf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const of={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}},cf=(e,t)=>({key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}),af=(e,t,n,r)=>{const s=n.route,{action:o}=s,i=sf(s,["action"]);return{key:e,locationState:r.state,meta:n.route.meta,queryParams:n.match.queryParams,routeMatch:Object.assign({},n,{route:i}),status:200,url:t,urlParams:n.match.params}};var df=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const n=e.currentPage,r=t.payload,{routeMatch:s,location:o}=r,{key:i}=o,c=Object(rf.createPath)(o),a=s?af(i,c,s,o):cf(i,c);let{referrers:d}=e;if("PUSH"===r.action){const e=n&&n.url||"";d=Object.assign({},d,{[i]:e})}else if("REPLACE"===r.action&&n&&d[n.key]){const e=n.key,t=d[e],r=sf(d,["symbol"==typeof e?e:e+""]);d=Object.assign({},r,{[i]:t})}return Object.assign({},e,{referrers:d,currentPage:a,lastPage:n})}case m.e:{const n=t.payload,{key:r,meta:s}=n;return Object.assign({},e,{metas:Object.assign({},e.metas,{[r]:s})})}case m.f:{if(!e.currentPage)return e;const n=t.payload,r=Object.assign({},e.currentPage,{status:n});return Object.assign({},e,{currentPage:r})}case ke.b:case ne.b:return!e.currentPage||t.payload.postMeta,e;case m.b:return e;case m.d:{const{allowNavigationCallback:n}=t.payload;return Object.assign({},e,{allowNavigationCallback:n})}case m.c:return Object.assign({},e,{allowNavigationCallback:null});default:return e}},uf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const lf={};var bf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n}=t.payload.pollResults,r=n;e[r];return uf(e,["symbol"==typeof r?r:r+""])}case l.j:{const{pollId:n}=t.payload,r=n;e[r];return uf(e,["symbol"==typeof r?r:r+""])}case l.i:{const{pollId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const pf={};var mf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n}=t.payload.pollResults;return Object.assign({},e,{[n]:!1})}case l.i:{const{pollId:n}=t.payload;return Object.assign({},e,{[n]:!1})}case l.j:{const{pollId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},ff=Object(r.c)({error:bf,pending:mf}),Of=Object(r.c)({voting:ff});const gf={};var jf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:{const{poll:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case ne.g:case ce.b:case de.i:case Re.b:case ke.b:case ne.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t].poll;return e[r.id]=r,e},{});return Object.assign({},e,t)}return e}default:return e}};const yf={};var _f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[zo.b.ByLockedVotingPower]:n,pollId:r}=t.payload.pollResults;return n?Object.assign({},e,{[r]:n}):e}case ne.g:case ce.b:case de.i:case Re.b:case ke.b:case ne.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[zo.b.ByLockedVotingPower]:s,pollId:o}=r.pollResults;return s&&(e[o]=s),e},{});return Object.assign({},e,t)}return e}default:return e}};const hf={};var Ef=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[zo.b.ByVoters]:n,pollId:r}=t.payload.pollResults;return Object.assign({},e,{[r]:n})}case ne.g:case ce.b:case de.i:case Re.b:case ke.b:case ne.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[zo.b.ByVoters]:s,pollId:o}=r.pollResults;return e[o]=s,e},{});return Object.assign({},e,t)}return e}default:return e}};const If={};var vf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:If,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[zo.b.ByVotingPower]:n,pollId:r}=t.payload.pollResults;return Object.assign({},e,{[r]:n})}case ne.g:case ce.b:case de.i:case Re.b:case ke.b:case ne.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[zo.b.ByVotingPower]:s,pollId:o}=r.pollResults;return e[o]=s,e},{});return Object.assign({},e,t)}return e}default:return e}},Sf=Object(r.c)({byLockedVotingPower:_f,byVoters:Ef,byVotingPower:vf});const Tf={};var Cf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n,rewardPoints:r}=t.payload.pollResults;return r?Object.assign({},e,{[n]:r}):e}default:return e}},wf=Object(r.c)({api:Of,models:jf,results:Sf,rewards:Cf});const Df={reorderError:null,updateDescriptionError:null,updateLayoutError:null};var Pf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Df,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _s.i:case _s.j:return Object.assign({},e,{reorderError:null});case _s.h:return Object.assign({},e,{reorderError:t.payload});case _s.l:case _s.m:return Object.assign({},e,{updateDescriptionError:null});case _s.k:return Object.assign({},e,{updateDescriptionError:t.payload});case _s.p:case _s.q:return Object.assign({},e,{updateLayoutError:null});case _s.o:return Object.assign({},e,{updateLayoutError:t.payload});default:return e}};const xf={reorderPending:!1,updateDescriptionPending:!1,updateLayoutPending:!1};var Rf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _s.i:return Object.assign({},e,{reorderPending:!0});case _s.h:case _s.j:return Object.assign({},e,{reorderPending:!1});case _s.l:return Object.assign({},e,{updateDescriptionPending:!0});case _s.k:case _s.m:return Object.assign({},e,{updateDescriptionPending:!1});case _s.p:return Object.assign({},e,{updateLayoutPending:!0});case _s.o:case _s.q:return Object.assign({},e,{updateLayoutPending:!1});default:return e}},Af=Object(r.c)({error:Pf,pending:Rf}),Nf=n("./src/reddit/helpers/path/index.ts");const kf={},Lf=e=>{const{protocol:t,domain:n}=e;return e=>{const r=Object(Nf.b)(e.permalink);return Object.assign({},e,{permalink:"".concat(t,"://").concat(n).concat(r)})}};var Uf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case Le.e:case Le.h:case re.b:case re.e:case Fe.e:case Fe.b:case se.e:case se.b:case ce.b:case ne.g:case ne.l:case ce.b:case ke.b:case ne.b:case h.f:case Ue.b:case Ae.r:case Ne.e:case Ne.h:case Re.b:case ae.e:case Ge.b:case de.i:case qe.c:case Be.b:case ie.c:case _s.f:{const{collections:n,meta:r}=t.payload;if(!n)return e;let s=n;if(r){const e=Lf(r);s=lr()(n,e)}return Object.assign({},e,s)}case _s.d:{const{collection:n,meta:r}=t.payload;if(!n)return e;const s=n.id;let o=n;if(r){o=Lf(r)(n)}return Object.assign({},e,{[s]:o})}case _s.g:{const{collectionId:n,postId:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{postIds:s.postIds.filter(e=>e!==r)})}):e}case _s.a:{const{collectionId:n,postId:r}=t.payload,s=e[n];return s&&r?Object.assign({},e,{[n]:Object.assign({},s,{postIds:[...s.postIds,r]})}):e}case _s.e:{const{collectionId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}case _s.s:{const{collectionId:n,newTitle:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{title:r})}):e}case _s.j:{const{collectionId:n,postIds:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{postIds:[...r]})}):e}case _s.m:{const{collectionId:n,newDescription:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{description:r})}):e}case _s.q:{const{collectionId:n,newLayout:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{displayLayout:r})}):e}default:return e}};const Mf={};var Ff=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case _s.f:{const{collections:n}=t.payload;if(!n)return e;const r=Object.keys(n);if(!r.length)return e;const{subredditId:s}=n[r[0]];return Object.assign({},e,{[s]:r})}case _s.d:{const{collection:n}=t.payload,{subredditId:r}=n,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n.id]})}case _s.e:{const{collectionId:n,collection:r}=t.payload;if(!r)return e;const s=r&&e[r.subredditId];return s?Object.assign({},e,{[r.subredditId]:s.filter(e=>e!==n)}):e}default:return e}},Bf=Object(r.c)({models:Uf,subredditToIds:Ff,api:Af}),Gf=n("./src/reddit/actions/postFlair.ts"),qf=n("./src/reddit/models/Flair/index.ts");const Vf={},Hf={displaySettings:{isEnabled:!1,position:qf.b.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},Kf=(e,t)=>{if(!t)return e;const n=Object.keys(t);return 0===n.length?e:n.reduce((e,n)=>(e[n]=Object.assign({},Hf,e[n],t[n]),e),Object.assign({},e))};var Wf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case Re.b:case Le.e:case Le.h:case Ae.r:case Ne.e:case Ue.b:case pu.b:case ke.b:case ne.b:case ne.g:case ne.l:case ie.c:case ce.b:case re.b:case re.e:case oe.c:case oe.i:case oe.e:case oe.g:case ae.e:case Be.b:case Be.b:case Fe.b:case Fe.e:case se.b:case se.e:case Ge.b:case qe.c:case qe.c:case de.i:return Kf(e,t.payload.postFlair);case Gf.c:{const{subredditId:n,isEnabled:r}=t.payload,s=e[n].displaySettings,o=Object.assign({},s,{isEnabled:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{displaySettings:o})})}case Gf.a:{const{subredditId:n,canAssignOwn:r}=t.payload,s=e[n].permissions,o=Object.assign({},s,{canAssignOwn:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{permissions:o})})}case Gf.f:{const{subredditId:n,template:r}=t.payload,s=e[n],{templates:o,templateIds:i}=s,c=Object.assign({},o,{[r.id]:r}),a=[...i];return a.includes(r.id)||a.push(r.id),Object.assign({},e,{[n]:Object.assign({},s,{templates:c,templateIds:a})})}case Gf.b:{const{subredditId:n,templateId:r}=t.payload,s=e[n],{templates:o,templateIds:i}=s,c=pr()(o,r),a=i.filter(e=>e!==r);return Object.assign({},e,{[n]:Object.assign({},s,{templates:c,templateIds:a})})}case Gf.e:case Gf.d:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templateIds:n.templateIds})})}case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:n}=t.payload;return Kf(e,n.postFlair)}default:return e}};const Yf={};var Jf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.h:{const{category:n,posts:r}=t.payload;return e[n]?e:Object.assign({},e,{[n]:Object.keys(r)})}default:return e}},zf=n("./src/reddit/actions/inFeedChaining.ts");var Qf=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zf.a:return t.payload.isDismissed;default:return e}};const Xf={};var Zf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zf.c:{const{isDismissed:n,listingKey:r,postId:s}=t.payload;if(n)return Object.assign({},e,{[s]:r});const o=Object.assign({},e);return delete o[s],o}default:return e}};const $f={};var eO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zf.b:return Object.assign({},e,{[t.payload.postId]:t.payload.listingKey});default:return e}},tO=Object(r.c)({dismissed:Qf,dismissedIdToListingKey:Zf,idToListingKey:eO}),nO=n("./src/reddit/actions/embedAndImage.ts");const rO={};var sO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nO.b:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case nO.a:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e},oO=Object(r.c)({loadable:sO});const iO={};var cO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.c:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!e[n]})}default:return e}};var aO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.d:{const{postId:e}=t.payload;return e}default:return e}};const dO={};var uO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:case Le.h:case ne.g:case ce.b:case Ue.b:case Ne.e:case Ne.h:case Re.b:case ae.e:case Ge.b:case de.i:case qe.c:case ie.c:return Z()(Object.assign({},e),t.payload.postInstances,(e,t)=>{if(e)return e.concat(t)});default:return e}};const lO={};var bO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:{const{poll:n}=t.payload;return Object.assign({},e,{[n.postId]:n.id})}case ne.g:case ce.b:case de.i:case Re.b:case ke.b:case ne.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t];return e[t]=r.poll.id,e},{});return Object.assign({},e,t)}return e}default:return e}},pO=n("./src/reddit/actions/events.ts"),mO=n("./src/reddit/actions/flairManagement/constants.ts"),fO=n("./src/reddit/actions/monthsToMinutes.ts");n("./src/graphql/operations/SubredditTopContent.json"),n("./src/lib/makeGqlRequest/index.ts"),n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts");Object(ga.a)("SUBREDDIT_TOP_CONTENT__PENDING"),Object(ga.a)("SUBREDDIT_TOP_CONTENT__LOADED"),Object(ga.a)("SUBREDDIT_TOP_CONTENT__FAILED");var OO=n("./src/reddit/helpers/isPost.ts"),gO=n("./node_modules/lodash/pickBy.js"),jO=n.n(gO);function yO(e,t){const n=jO()(t,(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!e[n]||!dr()(e[n],t)}));return Object.keys(n).length>0?Object.assign({},e,n):e}var _O=n("./src/reddit/models/Media/index.ts"),hO=n("./src/reddit/models/Post/index.ts"),EO=n("./src/reddit/actions/subredditDuplicates.ts"),IO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const vO={},SO=e=>{const{protocol:t,domain:n}=e;return e=>{const r=Object(Nf.b)(e.permalink);return Object.assign({},e,{permalink:"".concat(t,"://").concat(n).concat(r)})}},TO=e=>t=>{const n=e[t.id];return n&&n.events&&(t.events=n.events,t.source=n.source),t},CO=e=>t=>{const n=e[t.id];return n&&n.isSponsored&&(t.isSponsored=n.isSponsored),t},wO=e=>t=>{const n=e[t.id];return n&&n.numDuplicates&&(t.numDuplicates=n.numDuplicates),t},DO=e=>t=>{const n=e[t.id];return t&&t.media&&n&&n.media&&Object(_O.C)(t.media)&&t.media.isRichtextPreview&&Object(_O.C)(n.media)&&!n.media.isRichtextPreview&&(t.media.richtextContent=n.media.richtextContent,t.media.isRichtextPreview=!1),t},PO=e=>{let t=e.source;return t&&t.outboundUrlCreated&&(t=Object.assign({},t,{outboundUrlReceived:Date.now()}),e.source=t),e},xO=e=>{const{allAwardings:t}=e,n=IO(e,["allAwardings"]);if(!t)return e;const r={};for(const s of t)r[s.id]=s.count;return Object.assign({},n,{awardCountsById:r})},RO=e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t},AO=(e,t)=>Object.assign({},e,{events:t.events,source:t.source}),NO=(e,t)=>{const n={},r=t.posts;return Object.keys(r).length?(Object.keys(r).map(t=>{const s=r[t],o=e[t];o&&(n[t]=o.voteState===_r.a.notVoted?Object(_r.c)(o,s):o)}),Object.assign({},e,n)):e};var kO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:if(go(t)===(Oo.wb.COMMENTS||Oo.wb.DUPLICATES)){const n=jo(t),r=yo(t);if(n&&n.instanceId&&r&&r.partialPostId){const t=n.instanceId,s=Object(hO.l)(r.partialPostId);if(e[s]&&e[t])return Object.assign({},e,{[s]:AO(e[s],e[t])})}}return e;case ke.b:case ne.b:{const n=SO(t.payload.meta);return Object.assign({},e,lr()(t.payload.posts,RO([n,PO,xO,TO(e),CO(e),wO(e)])))}case h.f:return yO(e,t.payload);case h.j:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case EO.a:return yO(e,t.payload.posts);case Me.b:case Le.e:case Le.h:case re.b:case re.e:case Fe.e:case Fe.b:case se.e:case se.b:case ce.b:case ne.g:case ne.l:case ce.b:case Ue.b:case pu.b:case Ae.r:case Ne.e:case Ne.h:case Re.b:case ae.e:case Ge.b:case Ou.h:case de.i:case Be.b:{const n=SO(t.payload.meta);return Object.assign({},e,lr()(t.payload.posts,RO([n,PO,xO,DO(e),wO(e)])))}case pu.b:{const n=SO(t.payload.meta),r=e[t.payload.postId];return Object.assign({},e,lr()(t.payload.posts,RO([n,PO,xO,DO(e),wO(e)])),{[t.payload.postId]:Object.assign({},r,{numDuplicates:t.payload.count})})}case xe.e:case qe.c:case ie.c:{const n=SO(t.payload.meta),r=lr()(t.payload.posts,RO([n,xO,PO]));return Z()(Object.assign({},e),r,(e,t)=>Object.assign({},t,e))}case h.g:{const n=t.payload;return Z()(Object.assign({},e),n,(e,t)=>Object.assign({},e,t))}case fr.a:{const{id:n,vote:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object(_r.c)(s,r)}):e}case $.s:case $.H:{const n=t.payload.comment.postId,r=e[n];if(r){const s=void 0!==t.payload.numComments?t.payload.numComments:r.numComments+1;return Object.assign({},e,{[n]:Object.assign({},r,{numComments:s})})}return e}case $.z:{const n=t.payload.postId,r=e[n];return r?Object.assign({},e,{[n]:Object.assign({},r,{numComments:r.numComments-1})}):e}case Oe.q:{const{id:n,awardings:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:jr(s,r)}):e}case w.l:{const{posts:n}=t.payload;return Object.assign({},e,n)}case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:n}=t.payload,{posts:r}=n;return Object.assign({},e,lr()(r,RO([xO])))}case mr.b:case te.s:{const{operation:n,ids:r,username:s,options:o}=t.payload,i=r.filter(e=>Object(OO.a)(e)),c=Object(yr.d)(e,n,i,s,o);return Z()(Object.assign({},e),c,(e,t)=>Object.assign({},e,t))}case fO.a:return NO(e,t.payload);case fO.e:{const n=t.payload;return NO(e,n.votes)}case _s.t:{const{postId:n,collectionId:r}=t.payload,s=e[n];if(s&&r){const t=s.collectionIds||[];return t.push(r),Object.assign({},e,{[n]:Object.assign({},s,{collectionIds:[...t]})})}return e}case _s.e:{const{collectionId:n,collection:r}=t.payload,s=r&&r.postIds||[],o={};return s.forEach(t=>{const r=e[t],s=r&&r.collectionIds;if(s){const e=s.filter(e=>e!==n);o[t]=Object.assign({},r,{collectionIds:e})}}),Object.assign({},e,o)}case _s.g:{const{collectionId:n,postId:r}=t.payload;if(!n||!r)return e;const s=e[r],o=s&&s.collectionIds;if(!o)return e;const i=o.filter(e=>e!==n);return Object.assign({},e,{[r]:Object.assign({},s,{collectionIds:i})})}case pO.START_EVENT_NOW_SUCCESS:{const{postId:n}=t.payload;if(!n)return e;const r=e[n];if(!r||!r.eventInfo)return e;const s=r.eventInfo;return Object.assign({},e,{[n]:Object.assign({},r,{eventInfo:Object.assign({},s,{eventIsLive:!0})})})}case pO.EDIT_EVENT_TIME_SUCCESS:{const{postId:n,eventInfo:r}=t.payload;if(!n||!r)return e;const s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{eventInfo:Object.assign({},r)})}):e}case oe.c:case oe.i:case oe.e:case oe.g:case"SUBREDDIT_TOP_CONTENT__LOADED":return Object.assign({},lr()(t.payload.posts,RO([xO])),e);case h.i:{const{postId:n,richtextContent:r}=t.payload,s=e[n];return s&&s.media&&Object(_O.C)(s.media)?Object.assign({},e,{[n]:Object.assign({},s,{media:Object.assign({},s.media,{richtextContent:r,isRichtextPreview:!1})})}):e}case mO.a:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case mO.b:{const n=t.payload;return Object(du.a)(e,n)}case Mu.a:{const{isDeleted:n,height:r,postId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s],{media:Object.assign({},e[s].media,{height:r,isDeleted:n})})})}default:return e}};var LO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.e:return t.payload;default:return e}};const UO=[];var MO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.h:{const{postIds:e}=t.payload;return e}case Ue.b:case ne.g:case ce.b:{const{recentPostIds:n}=t.payload;return n&&n.length?n:e}default:return e}};const FO={};var BO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.k:{const{auto:n,postId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const GO={};var qO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.g:{const{postId:n,isBuffering:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const VO={};var HO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.h:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const KO={};var WO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.i:{const{postId:n,time:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};var YO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.q:{const{postId:e}=t.payload;return e}case E.j:return null;default:return e}};const JO={};var zO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.t:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case E.k:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e};const QO={};var XO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.n:{const{postId:n,time:r}=t.payload,s=e[n]||{cached:!0,start:r};return r<s.start?e:Object.assign({},e,{[n]:Object.assign({},s,{playable:r})})}case E.l:{const{postId:n,time:r}=t.payload;return Object.assign({},e,{[n]:{cached:!1,start:r}})}default:return e}};const ZO={};var $O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.p:{const{postId:n,metadata:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const eg={};var tg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.u:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case E.m:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e};const ng={};var rg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ng,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.o:{const{postId:n,isPlaying:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const sg={};var og=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.r:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},ig=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/reddit/constants/video.ts"));const cg={};var ag=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.s:{const{postId:n,time:r}=t.payload;return e[n]&&parseInt(r.currentTime.toString(),10)-parseInt(e[n].currentTime.toString(),10)<ig.k?e:Object.assign({},e,{[n]:r})}default:return e}},dg=Object(r.c)({autoPlayed:BO,buffering:qO,consumed:HO,continuousViewStartedAt:WO,fullscreen:YO,loadable:zO,loadTimes:XO,metadata:$O,paused:tg,playing:rg,started:og,time:ag}),ug=Object(r.c)({bestOCPosts:Jf,chained:tO,embedAndImage:oO,expanded:cO,focus:aO,instances:uO,metaMap:bO,models:kO,modToMemberShare:LO,recent:MO,video:dg}),lg=n("./src/lib/reducers/addAuthentication/index.ts");const bg={};var pg=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:case ne.b:{const{postId:n,commentLists:r,comments:s}=t.payload,o=r[n]&&r[n].head;return o&&s[o.id]&&s[o.id].isStickied?Object.assign({},e,{[n]:o.id}):e}case $.D:{const{id:e,postId:n}=t.payload;return{[n]:e}}default:return e}}),bg),mg=Object(r.c)({data:pg});const fg={};var Og=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:case O.g:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case O.e:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const gg={};var jg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case O.g:case O.e:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},yg=Object(r.c)({error:Og,pending:jg});const _g={};var hg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.d:{const{product:n}=t.payload;return Object.assign({},e,{[n.id]:void 0})}case O.c:case b.d:case b.e:case b.g:case b.h:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case O.a:case b.b:case b.f:{const{productId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Eg={};var Ig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.c:case b.d:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case O.d:{const{product:n}=t.payload;return Object.assign({},e,{[n.id]:!1})}case O.a:case b.b:case b.e:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},vg=Object(r.c)({error:hg,pending:Ig}),Sg=Object(r.c)({fetch:yg,purchase:vg});var Tg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.b:return t.payload.productId;case s.b:return null;default:return e}};const Cg={};var wg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case O.g:{const{products:n}=t.payload;return Object.assign({},e,n)}default:return e}},Dg=Object(r.c)({api:Sg,currentlyPurchasing:Tg,models:wg});const Pg={};var xg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.f:case re.e:case re.c:case re.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case re.d:case re.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Rg={};var Ag=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.f:case re.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case re.e:case re.d:case re.b:case re.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Ng=Object(r.c)({error:xg,pending:Ag});const kg={};var Lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.e:{const{key:n,commentIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case re.b:{const{key:n,commentIds:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:s.concat(r)})}default:return e}},Ug=n("./src/reddit/actions/commentList.ts");const Mg={};var Fg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ug.a:{const{listingKey:n,listingName:r}=t.payload;return Object.assign({},e,{[n]:r})}case Ug.b:{const{listingKey:n}=t.payload;return n in e?pr()(e,n):e}default:return e}};const Bg={};var Gg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case re.b:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}default:return e}};const qg={};var Vg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.e:case re.b:{const{key:n,dist:r,token:s}=t.payload;return s?Object.assign({},e,{[n]:{dist:r,token:s}}):Object(du.a)(e,n)}default:return e}},Hg=Object(r.c)({api:Ng,endMarkers:Fg,fetchedTokens:Gg,commentIds:Lg,loadMore:Vg}),Kg=n("./src/reddit/actions/pages/profileModSettings.ts");var Wg=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kg.a:return!1;default:return e}},Yg=Object(r.c)({pending:Wg}),Jg=Object(r.c)({api:Yg});const zg={};var Qg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.c:case Fe.b:case Be.c:case Be.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Fe.a:case Be.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Xg={};var Zg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.c:case Be.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Fe.b:case Fe.a:case Be.b:case Be.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},$g=Object(r.c)({error:Qg,pending:Zg});const ej={};var tj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ej,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case Be.b:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}default:return e}};const nj={};var rj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Be.b:{const{key:n,overviewIds:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:[...s,...r]})}default:return e}};const sj={};var oj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Be.b:{const{key:n,dist:r,token:s}=t.payload;return s?Object.assign({},e,{[n]:{dist:r,token:s}}):Object(du.a)(e,n)}default:return e}},ij=Object(r.c)({api:$g,fetchedTokens:tj,ids:rj,loadMore:oj});const cj={};var aj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.f:case Fe.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Fe.d:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const dj={};var uj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.f:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Fe.e:case Fe.d:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},lj=Object(r.c)({error:aj,pending:uj});const bj={};var pj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.c:case ae.b:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:null})}case ae.a:{const{extraCommentsId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const mj={};var fj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.c:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ae.b:case ae.a:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Oj=Object(r.c)({error:pj,pending:fj});const gj={};var jj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.e:case ae.b:case ae.e:return Object.assign({},e,t.payload.extraComments);default:return e}},yj=Object(r.c)({api:Oj,models:jj}),_j=n("./src/lib/makeOverviewConversationsItemKey/index.ts"),hj=n("./src/reddit/constants/comments.ts");const Ej={};function Ij(e){const t=e;return lr()(t,e=>{let{depth:t,next:n,prev:r}=e;return{depth:t,next:n,prev:r}})}const vj=(e,t,n)=>{const r={};for(const s in t){const e=t[s],n=e.postId;r.hasOwnProperty(n)?r[n]=Object.assign({},r[n],{[s]:e}):r[n]={[s]:e}}for(const s in n){const e=n[s],t=e.postId;r.hasOwnProperty(t)?r[t]=Object.assign({},r[t],{[s]:e}):r[t]={[t]:e}}return r};var Sj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ej,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.e:case ae.e:{const{comments:n,extraComments:r,postIds:s,profileName:o}=t.payload,i=vj(s,n,r),c={};for(const e of s){c[Object(_j.a)(e,o)]=i.hasOwnProperty(e)?Ij(i[e]):{}}return Object.assign({},e,c)}case ae.b:{const{comments:n,commentLists:r,extraComments:s,extraCommentsId:o,postIds:i,profileName:c}=t.payload;if(0===i.length){const t=Object.keys(e).find(t=>void 0!==e[t][o]);if(!t)return e;const n=Object.assign({},e[t])[o].prev,r=n&&n.id||"";return Object.assign({},e,{[t]:Object.assign({},e[t],{[r]:Object.assign({},e[t][r],{next:null})})})}const a=i[0],d=Ij(vj(i,n,s)[a]),u=Object(_j.a)(a,c),l=Object.assign({},e[u]),b=l[o].prev,p=b&&b.id||"",m=r[a].head,f=m&&m.id||"",O={id:f,type:hj.a.Comment},g=Object.assign({},l,{[p]:Object.assign({},l[p],{next:O})},d,{[f]:Object.assign({},d[f],{prev:b})});return Object.assign({},e,{[u]:g})}default:return e}};const Tj={};var Cj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.e:case ae.e:{const{commentLists:n,postIds:r,profileName:s}=t.payload,o={};for(const e of r){o[Object(_j.a)(e,s)]=n[e]&&n[e].head?n[e].head.id:null}return Object.assign({},e,o)}default:return e}};const wj={};var Dj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.e:case ae.e:{const{postIds:n,profileName:r}=t.payload,s={};for(const e of n){s[Object(_j.a)(e,r)]=e}return Object.assign({},e,s)}default:return e}},Pj=Object(r.c)({api:lj,extraComments:yj,keyToCommentThreadLinkSets:Sj,keyToHeadCommentId:Cj,keyToPostId:Dj}),xj=Object(r.c)({chrono:ij,conversations:Pj});const Rj={};var Aj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rj,t=arguments.length>1?arguments[1]:void 0;return t.type,e};const Nj={};var kj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.a:case oe.d:{const{listingKey:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case oe.b:case oe.c:case oe.i:case oe.f:case oe.e:case oe.g:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:null})}default:return e}};const Lj={};var Uj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.b:case oe.f:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case oe.a:case oe.d:case oe.c:case oe.i:case oe.e:case oe.g:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Mj=Object(r.c)({error:kj,pending:Uj});const Fj={};var Bj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.c:case oe.i:case oe.e:case oe.g:{const{listingKey:n,itemIds:r}=t.payload;return Object.assign({},e,{[n]:[...e[n]||[],...r]})}default:return e}};const Gj={};var qj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.i:case oe.c:case oe.e:case oe.g:{const{pageInfo:n,listingKey:r}=t.payload;return n?Object.assign({},e,{[r]:n}):Gj}default:return e}},Vj=Object(r.c)({api:Mj,ids:Bj,pageInfo:qj}),Hj=n("./src/reddit/constants/posts.ts");const Kj={};var Wj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:case qe.c:return Object.assign({},e,t.payload.profileAboutInfo);case zp.k:{const n=t.payload;return n.profile?Object.assign({},e,{[n.profile.id]:n.about}):e}case Zp.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(e=>e.type===Hj.a.PROFILE);return s.length?s.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:r}),e),Object.assign({},e)):e}case Ne.n:{const{profilesAboutInfo:n}=t.payload;return n?0===Object.keys(n).length?e:Object.assign({},e,n):e}case wu.m:{const n=t.payload,r=e[n.subredditId];if(!r)return e;if(r.publicDescription===n.settings.publicDescription)return e;const s=Object.assign({},r,{publicDescription:n.settings.publicDescription});return Object.assign({},e,{[n.subredditId]:s})}default:return e}};const Yj={},Jj=(e,t)=>{if(!t)return e;const n=Object.keys(t);if(!n.length)return e;const r={};return n.forEach(n=>{const s=e[n],o=Object.assign({},t[n]);s&&dr()(s,o)||(r[n]=o)}),Object.keys(r).length?Object.assign({},e,r):e};var zj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re.b:case ke.b:case ne.b:case ne.g:case re.b:case re.e:case oe.c:case oe.i:case oe.e:case oe.g:case Fe.b:case Fe.e:case se.e:case Be.b:case Re.b:case Le.e:case Le.h:case Ae.u:case zp.h:case Ne.e:case Ne.n:case pu.b:case qe.c:case de.i:case zp.l:case ae.b:case ae.e:case ie.c:case Ue.b:case Me.b:case Ss.e:case po.a:case ce.b:case ne.l:case Ge.b:case Zp.c:return Jj(e,t.payload.profiles);case qe.e:{const{typeaheadSuggestions:n}=t.payload;return Object.keys(n).length?Jj(e,n.profiles):e}case te.i:case te.f:case te.m:case te.p:case te.v:case te.k:{const{response:n}=t.payload,r=n&&n.profiles;return Jj(e,r)}case zp.k:{const{profile:n}=t.payload;return n?Jj(e,{[n.id]:n}):e}case wu.m:{const n=t.payload,{title:r,over18:s}=n.settings,o=e[n.subredditId];return!o||o.title===r&&o.isNSFW===s?e:Object.assign({},e,{[n.subredditId]:Object.assign({},o,{id:n.subredditId,title:r,isNSFW:s})})}case wu.k:case wu.j:{const{imageUrl:n,key:r,subredditId:s}=t.payload;if("profileIcon"!==r)return e;const o=e[s];return o?Object.assign({},e,{[s]:Object.assign({},o,{icon:{height:null,url:n,width:null}})}):e}default:return e}};const Qj={};var Xj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.c:case zp.f:{const{profileName:n}=t.payload;return Object.assign({},e,{[(n||"").toLowerCase()]:!0})}case zp.a:case zp.b:case zp.d:case zp.e:{const{profileName:n}=t.payload;return Object.assign({},e,{[(n||"").toLowerCase()]:!1})}default:return e}},Zj=Object(r.c)({pending:Xj});const $j={};var ey=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.b:{const{profileName:n,data:r}=t.payload,s=r.map(e=>e.id);return Object.assign({},e,{[(n||"").toLowerCase()]:s})}case zp.e:case oe.c:case oe.i:case oe.e:case oe.g:{const{profileName:n,moderatedSubredditIds:r}=t.payload;return r?Object.assign({},e,{[n]:[...e[n]||[],...r]}):e}default:return e}};const ty={};var ny=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ty,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.e:{const{pageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}case oe.c:case oe.i:{const{moderatedPageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}},ry=Object(r.c)({api:Zj,models:ey,pageInfo:ny});const sy={};var oy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.i:{const{profileName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case zp.g:case zp.h:{const{profileName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},iy=Object(r.c)({pending:oy});const cy={};var ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.h:{const{pageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}},dy=Object(r.c)({api:iy,pageInfo:ay}),uy=n("./src/reddit/actions/pinnedPost.ts");const ly={};var by=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uy.a:{const{pinned:n,profileId:r}=t.payload;return Object.assign({},e,{[r]:n})}case uy.d:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n].slice(-Oo.U)})}case uy.g:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:s.filter(e=>e!==n)})}default:return e}}),ly);const py={};var my=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uy.a:{const{pinned:n,profileId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}}),py);const fy={};var Oy=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uy.c:case uy.f:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n]})}case uy.b:case uy.e:case uy.d:case uy.g:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:s.filter(e=>e!==n)})}default:return e}}),fy),gy=Object(r.c)({data:by,initialData:my,pending:Oy}),jy=n("./src/reddit/actions/trophyCase.ts");const yy={};var _y,hy,Ey=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jy.a:{const{profileId:n,trophyIds:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},Iy=Object(r.c)({about:Wj,models:zj,moderated:ry,multireddits:dy,pinnedPosts:gy,trophyCases:Ey});n("./src/lib/cache/index.ts");!function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(_y||(_y={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(hy||(hy={}));var vy,Sy,Ty;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(vy||(vy={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Sy||(Sy={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Ty||(Ty={}));!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(vy||(vy={}));Object(ga.a)("PROMO__SHOW_PROMO"),Object(ga.a)("PROMO__HIDE_PROMO");const Cy={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null};var wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROMO__SHOW_PROMO":{const{promoType:n}=t.payload;return Object.assign({},e,{[n]:!0})}case"PROMO__HIDE_PROMO":{const{promoType:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Dy=n("./src/reddit/actions/publicAccessNetwork/constants.ts");const Py={isError:!1,isPending:!1,values:{}};var xy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Py,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.s:return{isError:!1,isPending:!1,values:Object.assign({},t.payload)};case Dy.B:return Object.assign({},e,{isPending:!0});case Dy.C:return Object.assign({},e,{isError:!0,isPending:!1});default:return e}},Ry=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};var Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.D:return Object.assign({},e,{[Dy.b]:t.payload.error});case Dy.E:return Object.assign({},e,{[t.payload.streamId]:t.payload.error});case Dy.v:{const t=Dy.b;e[t];return Ry(e,["symbol"==typeof t?t:t+""])}case Dy.u:{const n=t.payload.model.post.id;e[n];return Ry(e,["symbol"==typeof n?n:n+""])}default:return e}};const Ny=(e,t,n,r)=>Object.assign({},e,{[t]:Object.assign({},e[t],{isPending:n},r&&{utcTimeStamp:r})});var ky=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.F:return Ny(e,t.payload,!0);case Dy.G:return Ny(e,Dy.b,!0);case Dy.u:return Ny(e,t.payload.model.post.id,!1,t.payload.utcTimeStamp);case Dy.v:return Ny(e,Dy.b,!1,t.payload.utcTimeStamp);case Dy.E:return Ny(e,t.payload.streamId,!1);case Dy.D:return Ny(e,Dy.b,!1);default:return e}},Ly=Object(r.c)({config:xy,error:Ay,pending:ky});const Uy={cursor:Dy.Q,visitOrder:[]};var My=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.R:{const n=t.payload,r=e.visitOrder.includes(n)?e.visitOrder:[...e.visitOrder,n],s=r.indexOf(n);return r===e.visitOrder&&s===e.cursor?e:Object.assign({},e,{visitOrder:r,cursor:s})}case g.d:return Fy(e,t.payload.id);case Dy.A:return Fy(e,t.payload);default:return e}};const Fy=(e,t)=>{const n=e.visitOrder.indexOf(t);if(-1===n)return e;const r=n>e.cursor?e.cursor:Math.max(e.cursor-1,0);return Object.assign({},e,{visitOrder:e.visitOrder.filter(e=>e!==t),cursor:r})},By={},Gy=(e,t)=>{const n=Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:Object.assign({},e[n],{rank:Dy.n})}),{});return t.reduce((e,t,n)=>Object.assign({},e,{[t.post.id]:Object.assign({},t,{rank:Dy.m-n})}),n)},qy=(e,t)=>{const n=t.post.id,r=e[n]?e[n].rank:Dy.n;return Object.assign({},e,{[t.post.id]:Object.assign({},t,{rank:r})})};var Vy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:By,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.u:return qy(e,t.payload.model);case Dy.v:return Gy(e,t.payload.models);case Dy.z:{const n=t.payload.streamId,r=t.payload.isUnsetting?-1:1,s=(t.payload.isUp?1:0)*r,o=(t.payload.isUp?0:1)*r;return Object.assign({},e,{[n]:Object.assign({},e[n],{downvotes:e[n].downvotes+o,upvotes:e[n].upvotes+s})})}default:return e}};const Hy={discoveryUnitThumbnails:{},streamPreviews:{}};var Ky=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.t:return Object.assign({},e,{discoveryUnitThumbnails:Object.assign({},t.payload.reduce((e,t)=>Object.assign({},e,{[t.postId]:t.imageUrl}),{}))});case Dy.w:return Object.assign({},e,{streamPreviews:Object.assign({},e.streamPreviews,t.payload.reduce((e,t)=>Object.assign({},e,{[t.postId]:t.imageUrl}),{}))});default:return e}};const Wy={reported:[]};var Yy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:return Object.assign({},e,{reported:[...e.reported,t.payload.id]});default:return e}};const Jy={isIntroFinished:!1,currentVideoTimestampSec:void 0};var zy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.x:return Object.assign({},e,t.payload);default:return e}};const Qy={isMuted:!0,reportedStreams:[],shouldShowOnboardingModal:!0};var Xy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dy.y:return Object.assign({},e,t.payload);case g.d:{const n=t.payload.id;return e.reportedStreams.includes(n)?e:Object.assign({},e,{reportedStreams:[...e.reportedStreams,n]})}default:return e}},Zy=Object(r.c)({api:Ly,history:My,models:Vy,preloads:Ky,reports:Yy,theaterSettings:zy,userSettings:Xy});const $y={};var e_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.b:return Object.assign({},e,t.payload);case Ge.a:default:return e}},t_=n("./src/reddit/actions/removalReasons/constants.ts");var n_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case t_.k:case t_.l:case t_.b:case t_.c:case t_.h:case t_.i:case t_.e:case t_.f:return null;case t_.j:case t_.a:case t_.g:case t_.d:return t.payload;default:return e}};var r_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case t_.k:case t_.b:case t_.h:case t_.e:return!0;case t_.l:case t_.j:case t_.c:case t_.a:case t_.i:case t_.g:case t_.f:case t_.d:return!1;default:return e}},s_=Object(r.c)({error:n_,pending:r_}),o_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const i_={};var c_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case t_.l:{const{response:n}=t.payload,{data:r}=n;return Object.assign({},e,r)}case t_.c:case t_.i:{const{reason:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case t_.f:{const{reasonId:n}=t.payload,r=n;e[r];return o_(e,["symbol"==typeof r?r:r+""])}default:return e}};const a_={};var d_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case t_.l:{const{subredditId:n,response:r}=t.payload,{order:s}=r;return Object.assign({},e,{[n]:s})}case t_.c:{const{subredditId:n,reason:r}=t.payload;return Object.assign({},e,{[n]:[...e[n],r.id]})}case t_.f:{const{subredditId:n,reasonId:r}=t.payload,s=[...e[n]].filter(e=>e!==r);return Object.assign({},e,{[n]:s})}default:return e}};var u_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case t_.t:{const{subredditId:e,itemIds:n}=t.payload;return{itemIds:n,subredditId:e}}default:return e}},l_=Object(r.c)({api:s_,models:c_,reasonOrder:d_,removedItemIds:u_});const b_={};var p_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.e:case g.d:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}};const m_={};var f_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.e:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.d:case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}};const O_={};var g_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.e:case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}},j_=Object(r.c)({error:p_,pending:f_,success:g_});var y_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.b:return t.payload;case s.c:return!t.payload&&e;case m.a:return!1;case g.f:return!!t.payload&&e;default:return e}};var __=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.f:return t.payload;case s.c:return t.payload?null:e;case m.a:return null;default:return e}};var h_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.g:return t.payload;case g.f:return!1;default:return e}},E_=Object(r.c)({api:j_,openedFromModalPage:y_,postOrCommentId:__,userIsMod:h_}),I_=n("./src/reddit/actions/pages/report/constants.ts");var v_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I_.a:return t.payload;default:return e}};var S_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I_.b:return t.payload;case I_.c:case I_.d:return!1;default:return e}};var T_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I_.d:return!0;case I_.c:case I_.b:return!1;default:return e}};var C_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I_.c:return!0;case I_.b:case I_.d:return!1;default:return e}},w_=Object(r.c)({error:S_,pending:T_,success:C_}),D_=n("./src/reddit/actions/reportPageRules/constants.ts");const P_=[];var x_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D_.a:return t.payload;default:return e}},R_=Object(r.c)({reportPageApi:w_,reportPageRules:x_,initialReason:v_}),A_=n("./src/reddit/actions/reportRules.ts");const N_={liveStreamingRules:[],sitewideRules:[]};var k_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A_.b:return Object.assign({},e,{sitewideRules:t.payload});case A_.a:return Object.assign({},e,{liveStreamingRules:t.payload});default:return e}};Object(ga.a)("REQUEST_HOST_SET");var L_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}};const U_="RUN_TIME_ENV_VARS__IS_STAGING",M_=(Object(ga.a)(U_),{staging:!1,startTimeInMillis:(new Date).getTime()});var F_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U_:return Object.assign({},e,{staging:!0});default:return e}};const B_={};var G_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.d:{const{relatedQueries:n,query:r}=t.payload;if(n){const t=r?r.toLowerCase():"";return Object.assign({},e,{[t]:n})}return e}default:return e}};var q_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:case qe.f:{const{searchQuery:e}=t.payload;return e||null}default:return e}};const V_={};var H_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.e:{const{order:n,searchQuery:r}=t.payload;return Object.assign({},e,{[r.toLowerCase()]:n})}default:return e}},K_=n("./src/reddit/models/Search/index.ts");const W_={};var Y_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.e:{const{typeaheadSuggestions:n}=t.payload,r={};return Object.keys(n).forEach(e=>{const t=n[e];return r[e]=Object(K_.d)(t)}),Object.assign({},e,r)}default:return e}},J_=Object(r.c)({idsByQuery:H_,models:Y_});const z_={};var Q_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:{const{viewTreatment:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}},X_=Object(r.c)({relatedQueries:G_,searchQuery:q_,typeahead:J_,viewTreatment:Q_}),Z_=n("./src/reddit/models/SearchDiscoveryUnit/index.ts");const $_={};var eh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:{const{categoryName:n,key:r,listingOrder:s,postOrder:o,posts:i,searchQuery:c,subreddits:a,viewTreatment:d}=t.payload,u={subredditIcons:[],displayText:null,subredditOccurrences:0,searchQuery:c};if(d===Z_.c.Trending||n){const e=[];if(s&&s.map(t=>{!e.includes(t.id)&&a[t.id]&&(e.push(t.id),u.subredditIcons.push({url:a[t.id].icon.url,subredditName:a[t.id].name}),u.displayText||(u.displayText=a[t.id].displayText))}),o)for(let t=0;t<o.length;t++){const n=i[o[t]],r=n&&n.belongsTo?n.belongsTo.id:void 0;r&&!e.includes(r)&&a[r]&&(e.push(r),u.subredditIcons.push({url:a[r].icon.url,subredditName:a[r].name}))}a&&(u.subredditOccurrences=Object.keys(a).length-1)}return Object.assign({},e,{[r]:u})}default:return e}};const th={};var nh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:th,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:{const{key:n,searchDiscoveryUnits:r}=t.payload;return r&&Object.keys(r).length?Object.assign({},e,{[n]:r}):e}default:return e}};const rh={};var sh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:{const{key:n,searchDiscoveryUnitOrder:r}=t.payload;return r?Object.assign({},e,{[n]:r}):rh}default:return e}},oh=Object(r.c)({headerContent:eh,models:nh,order:sh});Object(ga.a)("SEO__CRAWLER_RECEIVED");var ih=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEO__CRAWLER_RECEIVED":return t.payload;default:return e}},ch=n("./src/reddit/actions/seo/linksModule.ts");const ah={};var dh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ah,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ch.a:return Array.isArray(t.payload)&&0!==t.payload.length?Object.assign({},e,{frontpage:t.payload}):e;default:return e}},uh=Object(r.c)({crawler:ih,linksModule:dh}),lh=n("./src/reddit/actions/shortcuts.ts");var bh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lh.a:return t.payload;case m.a:return null;default:return e}};var ph=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lh.b:return t.payload||null;default:return e}},mh=n("./src/reddit/constants/history.ts"),fh=n("./src/reddit/constants/shortcuts.ts"),Oh=n("./src/reddit/helpers/history/index.ts");const gh=fh.d.Global,jh=e=>{switch(e.name){case"comments":case"duplicates":case"metaMembershipPaywallPage":return Object(Oh.b)(mh.a.IsOverlay)?fh.d.Lightbox:fh.d.CommentPage;case"rpan":case"subredditCreation":return Object(Oh.b)(mh.a.IsOverlay)?fh.d.Lightbox:gh;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return fh.d.Listing;case"modQueuePages":return fh.d.Modqueue;default:return gh}};var yh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:const n=t.payload;if(n.routeMatch){const e=n.routeMatch.route.meta;return jh(e)}return gh;default:return e}},_h=Object(r.c)({activeCommentId:bh,activePostId:ph,namespace:yh});var hh=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(e)return e;switch(t.type){case Bt.d:case Bt.e:return!0;default:return e}},Eh=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),Ih=Object(r.c)({firstFetch:hh,models:Eh.b}),vh=n("./src/reddit/models/StructuredStyles/index.ts");const Sh={};var Th=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.h:case j.b:case j.d:return t.payload.styles;case j.e:return Sh;case j.c:{const n=t.payload;return Object.assign({},e,n)}case j.k:{const e=t.payload;return Object(vh.g)(e.styles)}default:return e}},Ch=n("./src/reddit/actions/exportImportStyles.ts");var wh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ch.c:case Ch.b:return null;case Ch.a:return t.payload;default:return e}};var Dh=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ch.c:return!0;case Ch.b:case Ch.a:return!1;default:return e}},Ph=Object(r.c)({error:wh,pending:Dh}),xh=n("./src/reddit/actions/postFlairStyleTemplate.ts"),Rh=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const Ah={};var Nh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ah,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case ke.b:case ne.b:case ie.c:case qe.c:case Me.b:case po.a:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;const r=n.structuredStyles.data.flairTemplate;return Object.assign({},e,r)}case xh.b:{const{flairId:n,template:r}=t.payload;return Object.assign({},e,{[n]:r})}case xh.a:{const{flairId:n}=t.payload;return Object(du.a)(e,n)}case Gf.b:{const{templateId:n}=t.payload;return Object(du.a)(e,n)}case j.k:return Ah;case Rh.b:{const{templates:n}=t.payload;return Object.assign({},e,n)}default:return e}},kh=Object(r.c)({models:Nh});const Lh={};var Uh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.f:{const n=t.payload;return Object.assign({},e,{[n.imageKey]:n.uploadId})}case j.k:case j.e:return Lh;default:return e}};var Mh=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.n:case j.e:return!1;case j.a:return!0;default:return e}};n("./node_modules/core-js/modules/es6.regexp.search.js");var Fh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.d:return t.payload.subredditId;case j.e:return null;case m.a:return t.payload.location.search.indexOf("styling=true")>-1?e:null;case wu.f:return null;default:return e}};const Bh={};var Gh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case ke.b:case ne.b:case Me.b:case po.a:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;const r=Object.keys(n.subredditAboutInfo||{});if(1!==r.length)return e;const s=r[0],o=n.structuredStyles.data.style;return Object.assign({},e,{[s]:o})}case qe.c:case ie.c:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;if(!n.subredditName)return e;let r;if(un()(n.subreddits,(e,t)=>{if(e.name.toLowerCase()===n.subredditName.toLowerCase())return r=t,!1}),!r)return e;const s=n.structuredStyles.data.style;return Object.assign({},e,{[r]:s})}case j.m:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,n.styles)})}case j.h:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.styles})}case j.k:{const n=t.payload,r=Object(vh.g)(n.styles);return Object.assign({},e,{[n.subredditId]:r})}case zp.k:{const n=t.payload,{banner:r,profile:s}=n;if(!r||!s)return e;const o=e[s.id];return Object.assign({},e,{[s.id]:Object.assign({},o,{bannerBackgroundImage:r.url})})}case wu.k:{const n=t.payload;if("profileBanner"===n.key){return yO(e,{[n.subredditId]:{bannerBackgroundImage:n.imageUrl}})}return e}case wu.j:{const n=t.payload;if("profileBanner"===n.key){return yO(e,{[n.subredditId]:{bannerBackgroundImage:void 0}})}return e}default:return e}},qh=Object(r.c)({draft:Th,exportStyles:Ph,flairTemplate:kh,imagePreviews:Uh,isBladeEditorDirty:Mh,isEditing:Fh,models:Gh});Object(ga.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST");var Vh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}},Hh=n("./src/reddit/actions/subredditAutocomplete.ts");const Kh={};var Wh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hh.c:case Hh.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Hh.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Yh={};var Jh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hh.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Hh.b:case Hh.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},zh=Object(r.c)({error:Wh,pending:Jh});const Qh={};var Xh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hh.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:t.payload})}default:return e}},Zh=Object(r.c)({api:zh,models:Xh});const $h={};var eE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case En.a:case En.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}};const tE={};var nE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case En.a:case En.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}};const rE={};var sE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En.d:{const{subredditId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:!1})}case En.a:{const{subredditId:n,isSubredditWhitelisted:r}=t.payload;return Object.assign({},e,{[n]:r})}case En.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},oE=Object(r.c)({error:eE,pending:nE,whitelist:sE}),iE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const cE={};var aE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En.a:return Object.assign({},e,t.payload.collection);case En.e:{const{channel:n}=t.payload;return Object.assign({},e,{[n.channelId]:Object.assign({},n)})}case En.f:{const{channel:n,editedSubredditChannelData:r}=t.payload;return n.name=r.room,n.description=r.description,n.minimumAcctAge=n.minimumAcctAge,n.newMemberAge=n.newMemberAge,Object.assign({},e,{[n.channelId]:Object.assign({},n)})}case En.g:{const n=t.payload;e[n];return iE(e,["symbol"==typeof n?n:n+""])}default:return e}};var dE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En.h:return t.payload.channelId;case En.g:return e===t.payload?null:e;default:return e}},uE=Object(r.c)({api:oE,models:aE,selected:dE}),lE=n("./src/reddit/actions/subredditDifficulty/constants.ts");const bE={};var pE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lE.b:{const{subredditId:n,subreddits:r}=t.payload;return r.length?Object.assign({},e,{[n]:Object.assign({id:n},r[0])}):e}default:return e}},mE=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts");const fE={};var OE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:case ia.c:case ne.b:case ie.c:case ce.a:case ce.b:case Me.b:case po.a:case re.b:case re.e:case Fe.b:case Fe.a:case Fe.e:case Fe.d:case se.e:case ae.b:case ae.e:case qe.c:{const n=t.payload.subredditAboutInfo;if(!n)return e;const r=Object.keys(n);return 0===r.length?e:r.reduce((e,t)=>(n[t]&&(e[t]?e[t]=Object.assign({},e[t],n[t]):e[t]=n[t]),e),Object.assign({},e))}case $i.a:{const{subredditId:n,emojisEnabled:r}=t.payload,s=e[n],o=Object.assign({},s,{emojisEnabled:r});return Object.assign({},e,{[n]:o})}case Zp.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(e=>e.type===Hj.a.SUBREDDIT);return s.length?s.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:r}),e),Object.assign({},e)):e}case Vt.f:case mE.b:case Ne.k:case de.m:case Ou.e:case Ou.m:{const{subredditsAboutInfo:n}=t.payload;if(!n)return e;const r=Object.keys(n);return 0===r.length?e:r.reduce((e,t)=>(n[t]&&(e[t]=e[t]?Object.assign({},e[t],n[t]):n[t]),e),Object.assign({},e))}case $i.b:{const n=t.payload,{emojiCustomSize:r,subredditId:s}=n,o=e[s];if(!o)return e;const i=Object.assign({},o);if(r){const{width:e,height:t}=r;i.emojisCustomSize=[e,t]}else delete i.emojisCustomSize;return Object.assign({},e,{[s]:i})}case de.c:{const{data:n}=t.payload;return Object.assign({},e,n)}case Oe.q:{const{subredditId:n,subredditCoins:r}=t.payload;if(!n||!r)return e;const s=e[n];if(!s)return e;const o=Object.assign({},s,{coins:r});return Object.assign({},e,{[n]:o})}default:return e}};const gE={};var jE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.b:case de.c:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case de.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};var yE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.b:return!0;case de.c:case de.a:return!1;default:return e}},_E=Object(r.c)({error:jE,pending:yE}),hE=n("./src/reddit/actions/subredditCreation.ts");const EE={apiError:null};var IE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hE.b:{const{error:n}=t.payload;return Object.assign({},e,{apiError:n})}case hE.a:case hE.c:case hE.d:return EE;default:return e}};var vE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hE.d:{const{subredditName:e}=t.payload;return e||null}case hE.c:case hE.b:return null;default:return e}};var SE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hE.c:return!0;case hE.d:case hE.b:return!1;default:return e}},TE=Object(r.c)({error:IE,lastCreatedSubredditId:vE,pending:SE});var CE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.p:return!0;case Ou.q:case Ou.o:return!1;default:return e}},wE=Object(r.c)({pending:CE});const DE={};var PE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.d:case Ou.e:return Object.assign({},e,{[t.payload.key]:!1});case Ou.f:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},xE=Object(r.c)({pending:PE});var RE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.i:{const{error:e}=t.payload;return e||null}case Ou.k:case Ou.j:return null;default:return e}};var AE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.k:return!0;case Ou.j:case Ou.i:return!1;default:return e}},NE=Object(r.c)({error:RE,pending:AE}),kE=n("./src/reddit/actions/subredditRules/constants.ts");var LE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kE.c:return!0;case kE.a:case kE.b:return!1;default:return e}},UE=n("./src/reddit/actions/subredditSettings.ts");var ME=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UE.j:return!0;case UE.k:case UE.i:return!1;default:return e}},FE=Object(r.c)({pending:ME});const BE={};var GE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.l:case Ou.m:return Object.assign({},e,{[t.payload.key]:!1});case Ou.n:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},qE=Object(r.c)({pending:GE}),VE=n("./src/reddit/actions/pages/subredditWiki/constants.ts");const HE={};var KE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VE.c:case VE.b:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:null})}case VE.a:{const n=t.payload,{options:r,error:s}=n,{subredditName:o}=r;return Object.assign({},e,{[o.toLowerCase()]:s})}default:return e}};const WE={};var YE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VE.c:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:!0})}case VE.b:case VE.a:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:!1})}default:return e}},JE=Object(r.c)({error:KE,pending:YE});const zE={};var QE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBREDDIT_TOP_CONTENT__PENDING":case"SUBREDDIT_TOP_CONTENT__LOADED":{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case"SUBREDDIT_TOP_CONTENT__FAILED":{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};const XE={};var ZE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBREDDIT_TOP_CONTENT__PENDING":{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case"SUBREDDIT_TOP_CONTENT__LOADED":case"SUBREDDIT_TOP_CONTENT__FAILED":{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},$E=Object(r.c)({error:QE,pending:ZE}),eI=Object(r.c)({about:_E,create:TE,inlineEditing:wE,onboarding:xE,rankings:NE,rules:LE,settings:FE,similar:qE,topContent:$E,wiki:JE}),tI=n("./node_modules/lodash/isNil.js"),nI=n.n(tI);const rI={};var sI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.d:{const{subredditId:n,forceState:r}=t.payload;return Object.assign({},e,{[n]:nI()(r)?!e[n]:r})}default:return e}},oI=Object(r.c)({meta:sI});const iI={};var cI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.f:{const{categoryId:n,subredditIds:r}=t.payload;return rn()(r)?e:Object.assign({},e,{[n]:r})}default:return e}};const aI={};var dI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.c:{const{communityInfo:n,id:r,type:s}=t.payload;return n&&"subreddit"===s?Object.assign({},e,{[r]:n}):e}default:return e}},uI=n("./src/reddit/actions/subredditCrosspostable.ts");var lI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uI.a:{const{error:e}=t.payload;return e}case uI.c:case uI.b:return null;default:return e}};var bI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uI.c:return!0;case uI.b:case uI.a:return!1;default:return e}},pI=Object(r.c)({errors:lI,pending:bI});const mI={};var fI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uI.b:{const{subredditIds:n}=t.payload;return dr()(e,n)?e:n}default:return e}},OI=Object(r.c)({api:pI,ids:fI});const gI={};var jI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case EO.a:{const n=t.payload,{subredditId:r,distinguishKey:s,postIds:o}=n;if(!(r in e))return Object.assign({},e,{[r]:{[s]:o}});const i=e[r];return yO(i,{[s]:o})===i?e:Object.assign({},e,{[r]:Object.assign({},i,{[s]:o})})}default:return e}},yI=Object(r.c)({models:jI});const _I={};var hI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{assets:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}case b.e:case b.h:{const{subredditId:n,mainHeader:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{mainHeader:r})})}default:return e}};const EI={};var II=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{communityJar:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const vI={};var SI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:t.payload})}case d.k:{const{communityRaw:n,subredditId:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}};const TI={};var CI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,distribution:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const wI={};var DI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,meta:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const PI={};var xI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.p:{const{subredditId:n,releaseNotes:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},RI=Object(r.c)({assets:hI,communityJar:II,communityRaw:SI,distributions:CI,meta:DI,releaseNotes:xI}),AI=n("./node_modules/lodash/isEqualWith.js"),NI=n.n(AI),kI=n("./src/lib/forceHttps/index.ts"),LI=n("./src/reddit/models/Subreddit/index.ts"),UI=(e,t)=>({displayText:"r/".concat(e),name:e,id:t,icon:{height:null,url:"",width:null},subscribers:0,title:e,type:LI.b.Public,url:"/r/".concat(e,"/"),isNSFW:!1});const MI={},FI=(e,t)=>{const n=Object.keys(t);if(n.length){const r=Object.assign({},e);return n.forEach(n=>{const s=e[n],o=t[n],i=s?Object.assign({},s,o):Object.assign({},o);o.icon.url?i.icon.url=Object(kI.a)(o.icon.url):s&&s.icon.url?i.icon=s.icon:i.icon.url="",s&&s.allowChatPostCreation&&(i.allowChatPostCreation=!0),r[n]=i}),r}return e},BI=(e,t)=>{return!NI()(e,t,(e,t,n)=>{if("subscribers"===n)return!0})},GI=(e,t)=>{if(!t)return e;const n=Object.keys(t);if(!n.length)return e;const r={};for(let s=0;s<n.length;s++){const o=n[s],i=e[o],c=t[o];i&&!BI(i,c)||(r[o]=c)}return Object.keys(r).length?Object.assign({},e,r):e};var qI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.c:return FI(e,t.payload.subreddits||{});case Vt.f:case Re.b:case ia.c:case Le.e:case Le.h:case te.k:case Ae.r:case Ae.u:case zp.h:case Ne.e:case Ne.k:case Ue.b:case pu.b:case ke.b:case mE.b:case ne.b:case ne.g:case ne.l:case re.b:case re.e:case oe.c:case oe.i:case oe.e:case oe.g:case Fe.b:case Fe.e:case se.b:case se.e:case zp.e:case ie.c:case ce.b:case Me.b:case Ss.e:case po.a:case zp.l:case ae.b:case ae.e:case Be.b:case Ge.b:case qe.c:case de.f:case de.i:case de.m:case Ou.a:case Ou.e:case Ou.m:return GI(e,t.payload.subreddits||{});case te.f:case te.i:case te.m:case te.p:case te.v:{const{response:n}=t.payload,{subreddits:r}=n;return GI(e,r)}case qe.e:{const{typeaheadSuggestions:n}=t.payload;return GI(e,n.subreddits||{})}case fO.e:{const n=t.payload.subreddits,r={};return Object.keys(n).map(e=>{const t=n[e];r[e]=UI(t,e)}),Object.assign({},r,e)}case Ae.B:{const{subreddits:n}=t.payload;return Object.assign({},n,e)}case d.i:{const n=t.payload;return GI(e,n)}case j.m:{const n=t.payload,{subredditId:r,styles:s}=n;return"communityIcon"in s&&e[r]&&"string"==typeof s.communityIcon?Object.assign({},e,{[r]:Object.assign({},e[r],{communityIcon:s.communityIcon})}):e}default:return e}};var VI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.e:{const{error:e}=t.payload;return e}case de.g:case de.f:return null;default:return e}};var HI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.g:case de.f:return!0;case de.e:return!1;default:return e}};var KI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.g:return!0;case de.f:case de.e:return!1;default:return e}},WI=Object(r.c)({errors:VI,fetched:HI,pending:KI});var YI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.f:{const{subreddits:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}default:return e}},JI=Object(r.c)({api:WI,order:YI});const zI={};var QI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.e:{const{key:n,subredditIds:r}=t.payload;return 0===r.length?e:Object.assign({},e,{[n]:r})}default:return e}};const XI=[];var ZI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.m:{const{subreddits:n}=t.payload;if(!n)return e;const r=Object.keys(n);if(0===r.length)return e;const s=r.filter(t=>!e.includes(t));return 0===s.length?e:[...e,...s]}default:return e}};const $I={};var ev=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.g:{const{subredditId:n,products:r}=t.payload,s=Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:s})}default:return e}};const tv={};var nv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.b:{const{categoryRankingsKey:n}=t.payload,r=e[n],s=r&&r.length?[...r,...t.payload.rankings]:t.payload.rankings;return Object.assign({},e,{[n]:s})}default:return e}};const rv={};var sv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.c:{const{categoryRankingsKey:n,pageInfo:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const ov={};var iv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ov,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kE.b:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:n.rules}};return Object.assign({},e,s)}case kE.e:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:[...e[r].rules,...n.rules]}};return Object.assign({},e,s)}case kE.f:{const{rules:n,subredditId:r,oldName:s}=t.payload;n.rules.shortName!==s&&(e[r].rules=e[r].rules.filter(e=>e.shortName!==s));const o={[r]:{rules:[...n.rules,...e[r].rules]}};return o[r].rules.sort((e,t)=>e.priority-t.priority),Object.assign({},e,o)}case kE.g:case kE.d:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:n.rules}};return Object.assign({},e,s)}default:return e}};const cv={};var av=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UE.h:{const e=t.payload;return{[e.subredditId]:e}}case UE.k:{const n=t.payload.settings,r=e[n.subredditId]||{};return Object.assign({},e,{[n.subredditId]:Object.assign({},r,n)})}case wu.m:{const n=t.payload,r=e[n.subredditId]||{},s=Object.assign({},r,n.settings);return Object.assign({},e,{[n.subredditId]:s})}default:return e}};const dv={};var uv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ou.m:{const{key:n,subredditIds:r}=t.payload;return 0===r.length?e:Object.assign({},e,{[n]:r})}default:return e}},lv=n("./src/reddit/actions/wiki/wikiDiff/constants.ts");const bv={};var pv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lv.b:{const{key:n,htmlDiff:r}=t.payload;return Object.assign({},e,{[n]:{htmlDiff:r}})}case lv.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{pending:!0})})}case lv.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{pending:!1,error:r})})}default:return e}};const mv={};var fv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VE.b:const n=t.payload,{subredditWiki:r,options:s}=n,o=r&&r.directory;if(!o)return e;const{subredditName:i}=s;return Object.assign({},e,{[i.toLowerCase()]:o});default:return e}},Ov=n("./src/reddit/actions/wiki/wikiRevisions/constants.ts");const gv={};var jv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VE.b:{const{subredditWiki:n,pageKey:r}=t.payload,{page:s}=n;return r&&s?Object.assign({},e,{[r]:s}):e}case Ov.a:{const{pageKey:n,page:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},yv=n("./src/reddit/actions/wiki/wikiPageSettings/constants.ts");const _v={};var hv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yv.c:{const{settings:n,pageKey:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}case yv.d:{const{isVisible:n,editPermissions:r,pageKey:s}=t.payload,o=e[s];return o?Object.assign({},e,{[s]:Object.assign({},o,{isVisible:n,editPermissions:r})}):e}case yv.b:{const{editorsInfo:n,afterToken:r,pageKey:s}=t.payload,o=e[s];if(!o)return e;const i=[...o.editorsInfo,...n];return Object.assign({},e,{[s]:Object.assign({},o,{editorsInfo:i,afterToken:r})})}case yv.a:{const{username:n,pageKey:r}=t.payload,s=e[r];if(!s)return e;const o=s.editorsInfo.filter(e=>e.username!==n);return Object.assign({},e,{[r]:Object.assign({},s,{editorsInfo:o})})}default:return e}};const Ev={};var Iv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ov.b:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Ov.d:case Ov.c:{const{key:n}=t.payload;return Object(du.a)(e,n)}default:return e}};const vv={};var Sv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ov.d:case Ov.b:case Ov.c:{const{key:n}=t.payload,r=t.type===Ov.d;return Object.assign({},e,{[n]:r})}default:return e}},Tv=Object(r.c)({error:Iv,pending:Sv}),Cv=n("./src/reddit/actions/wiki/wikiEditing/constants.ts");const wv={};var Dv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ov.c:{const{key:n,options:r,pageInfo:s,revisionsIds:o}=t.payload,i=e[n],c=r.after&&i?[...i.ids,...o]:o;return Object.assign({},e,{[n]:{ids:c,pageInfo:s}})}case Ov.a:{const{page:{revision:n},pageRevisionsListingKey:r,recentRevisionsListingKey:s}=t.payload,o=e[r];return o&&n?Object.assign({},Object(du.a)(e,s),{[r]:Object.assign({},o,{ids:[n.id,...o.ids]})}):e}case Cv.a:{const{pageRevisionsListingKey:n,recentRevisionsListingKey:r}=t.payload,s=Object.assign({},e);return delete s[n],delete s[r],s}default:return e}};const Pv={};var xv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VE.b:{const{subredditWiki:{page:n}}=t.payload,r=n&&n.revision;return r&&!e[r.id]?Object.assign({},e,{[r.id]:r}):e}case Ov.c:{const{revisions:n}=t.payload;return Object.assign({},e,n)}case Ov.a:{const{page:n}=t.payload,r=n.revision;return r?Object.assign({},e,{[r.id]:r}):e}case Ov.e:{const{revisionId:n,isHidden:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{isHidden:r})}):e}default:return e}},Rv=Object(r.c)({api:Tv,listings:Dv,models:xv}),Av=n("./src/reddit/actions/wiki/wikiBannedContributors/constants.ts");const Nv={};var kv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Av.c:case Av.a:{const{subredditName:n,afterToken:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Lv={};var Uv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Av.b:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Av.d:case Av.c:{const{subredditName:n}=t.payload;return Object(du.a)(e,n)}default:return e}};const Mv={};var Fv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Av.d:case Av.c:case Av.b:{const{subredditName:n}=t.payload,r=t.type===Av.d;return Object.assign({},e,{[n]:r})}default:return e}},Bv=Object(r.c)({error:Uv,pending:Fv});const Gv={};var qv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Av.c:case Av.a:{const{subredditName:n,bannedContributors:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Av.e:{const{subredditName:n,bannedContributor:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Av.f:{const{subredditName:n,userId:r}=t.payload,s=Object(du.a)(e[n],r);return Object.assign({},e,{[n]:s})}default:return e}},Vv=n("./node_modules/lodash/uniq.js"),Hv=n.n(Vv);const Kv={};var Wv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Av.c:case Av.a:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:Hv()([...e[n]||[],...r])})}case Av.e:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:Hv()([...r,...e[n]||[]])})}case Av.f:{const{subredditName:n,userId:r}=t.payload;return Object.assign({},e,{[n]:(e[n]||[]).filter(e=>e!==r)})}default:return e}},Yv=Object(r.c)({afterToken:kv,api:Bv,models:qv,userOrder:Wv});const Jv={};var zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Av.g:{const{subredditName:n,bannedContributor:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},Qv=Object(r.c)({listing:Yv,search:zv}),Xv=n("./src/reddit/actions/wiki/wikiContributors/constants.ts");const Zv={};var $v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.c:case Xv.a:{const{subredditName:n,afterToken:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const eS={};var tS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.b:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Xv.d:case Xv.c:{const{subredditName:n}=t.payload;return Object(du.a)(e,n)}default:return e}};const nS={};var rS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.d:case Xv.c:case Xv.b:{const{subredditName:n}=t.payload,r=t.type===Xv.d;return Object.assign({},e,{[n]:r})}default:return e}},sS=Object(r.c)({error:tS,pending:rS});const oS={};var iS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.c:case Xv.a:{const{subredditName:n,contributors:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Xv.e:{const{subredditName:n,contributor:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Xv.f:{const{subredditName:n,userId:r}=t.payload,s=Object(du.a)(e[n],r);return Object.assign({},e,{newState:s})}default:return e}};const cS={};var aS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.c:case Xv.a:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:Hv()([...e[n]||[],...r])})}case Xv.e:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:[...r,...e[n]||[]]})}case Xv.f:{const{subredditName:n,userId:r}=t.payload;return Object.assign({},e,{[n]:(e[n]||[]).filter(e=>e!==r)})}default:return e}},dS=Object(r.c)({afterToken:$v,api:sS,models:iS,userOrder:aS});const uS={};var lS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.g:{const{subredditName:n,contributor:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},bS=Object(r.c)({listing:dS,search:lS}),pS=Object(r.c)({diff:pv,directory:fv,pages:jv,pageSettings:hv,revisions:Rv,wikiBannedContributors:Qv,wikiContributors:bS});const mS={};var fS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.k:{const{category:n,subreddits:r}=t.payload;return Object.assign({},e,{[n]:Object.keys(r)})}default:return e}};const OS={};var gS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBREDDIT_TOP_CONTENT__LOADED":{const{subredditTopContent:n}=t.payload;return Object.assign({},e,n)}default:return e}};const jS=[];var yS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.b:case ne.g:case ce.b:{const{trendingSubredditIds:n}=t.payload;return n&&n.length?n:e}default:return e}},_S=Object(r.c)({about:OE,api:eI,appliedFilters:oI,byCategory:cI,communityInfo:dI,crosspostable:OI,duplicates:yI,gov:RI,models:qI,moderated:JI,onboarding:QI,original:ZI,products:ev,rankings:nv,rankingsPageInfo:sv,rules:iv,settings:av,similar:uv,subredditWiki:pS,top:fS,topContent:gS,trending:yS}),hS=n("./node_modules/lodash/cloneDeep.js"),ES=n.n(hS);const IS={titleRegEx:{regex:null},titleStrings:{strings:null},titleLength:{min:null,max:null},postLength:{min:null,max:null},postingGuidelines:{guidelines:null},postBodyRequirement:{requirement:null},linkListPermission:{permission:null},linkDomain:{whitelist:null,blacklist:null},reposts:{days:null}};var vS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IS,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case UE.c:const t=ES()(e);return r.forEach(e=>{const{formSection:n,formField:r,error:s}=e;t[n][r]=s}),t;case UE.g:return IS;default:return e}},SS=n("./src/reddit/models/PostRequirements/index.ts");const TS={isLoading:!0,isSaving:!1,hasFormError:!1,serverError:null,titleStrings:{isToggled:!1,strings:[]},titleRegEx:{isToggled:!1,regex:[]},titleLength:{isToggled:!1,min:null,max:null},postLength:{isToggled:!1,min:null,max:null},postingGuidelines:{requirement:"none",guidelines:null},postBodyRequirement:"none",linkListPermission:"none",linkDomain:{whitelist:[],blacklist:[]},reposts:{isToggled:!1,days:null},flair:{isToggled:!1}};var CS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TS,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case UE.b:return Object.assign({},e,{isLoading:!0});case UE.l:const t=r;return Object.assign({},e,{[t]:Object.assign({},e[t],{isToggled:!e[t].isToggled})});case UE.x:const n=r.map(e=>e.substring(0,40));return Object.assign({},e,{titleStrings:Object.assign({},e.titleStrings,{strings:n})});case UE.w:const s=r.map(e=>e.substring(0,100));return Object.assign({},e,{titleRegEx:Object.assign({},e.titleRegEx,{regex:s})});case UE.v:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{min:""!==r?parseInt(r):""})});case UE.u:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{max:""!==r?parseInt(r):""})});case UE.s:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{min:""!==r?parseInt(r):""})});case UE.r:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{max:""!==r?parseInt(r):""})});case UE.m:const o=e.linkListPermission;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{[o]:r})});case UE.t:return Object.assign({},e,{reposts:Object.assign({},e.reposts,{days:""!==r?parseInt(r):""})});case UE.o:return Object.assign({},e,{postBodyRequirement:r});case UE.n:const i="none"!==r;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{isToggled:i}),linkListPermission:r});case UE.q:return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{requirement:r})});case UE.p:const c=r&&r.length>400?r.substring(0,400):r;return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{guidelines:c})});case UE.d:return Object(SS.b)(TS,r);case UE.c:return Object.assign({},e,{hasFormError:!0});case UE.e:return Object.assign({},e,{serverError:r});case UE.g:return Object.assign({},e,{hasFormError:!1,serverError:null,isSaving:!0});case UE.f:return Object.assign({},e,{isSaving:!1});default:return e}};var wS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case UE.d:return r;default:return e}},DS=Object(r.c)({formState:CS,formErrors:vS,initialData:wS});const PS={};var xS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PS,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case UE.a:return Object.assign({},e,r);default:return e}},RS=Object(r.c)({postRequirements:DS,requirementsBySubreddit:xS});const AS={};var NS=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:{const{postIds:n,posts:r}=t.payload,s=n.slice(0,2).reduce((e,t)=>{if(r[t].isStickied){const n=r[t].belongsTo.id;e[n]?e[n].push(t):e[n]=[t]}return e},{});return F()(Object.assign({},e),s)}case h.k:{const{newStickiedPostList:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}}),AS),kS=Object(r.c)({data:NS});const LS=[];var US=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.d:{const{makeFavorite:n,multiredditsModelsState:r,multiredditPath:s}=t.payload;if(n){const t=[...e],n=Jp(t,s,(e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1);return t.splice(n,0,s),t}return e.filter(e=>e!==s)}case Ae.u:{const{multireddits:e}=t.payload;return Xr()(e).filter(e=>e.isFavorited).sort((e,t)=>e.displayText.toLowerCase()>t.displayText.toLowerCase()?1:-1).map(e=>e.url)}case Zp.e:{const{follow:n,multiredditPath:r}=t.payload;return n?e:e.filter(e=>e!==r)}case Ae.j:{const n=t.payload;return e.filter(e=>e!==n)}default:return e}};var MS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.a:{const{error:e}=t.payload;return e}case Zp.b:case Zp.c:return null;default:return e}};var FS=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.b:case Zp.c:case fO.e:return!0;case Zp.a:return!1;default:return e}};var BS=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.b:return!0;case Zp.c:case Zp.a:return!1;default:return e}},GS=Object(r.c)({errors:MS,fetched:FS,pending:BS});const qS=[];var VS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.c:{const{profiles:e,favoriteProfileIds:n,favoriteSubredditIds:r}=t.payload;let s;return(s=n&&n.length?n:r?r.filter(t=>!!e[t]):[]).sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),s}case Zp.f:{const{makeFavorite:n,identifier:r,profileModels:s}=t.payload,{id:o,type:i}=r;if(i!==Hj.a.PROFILE)return e;const c=e?e.slice():[];if(n){const e=Jp(c,o,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);c.splice(e,0,o)}else{const e=c.indexOf(o);c.splice(e,1)}return c}case Zp.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(t=>t.type===Hj.a.PROFILE&&e.indexOf(t.id)>-1);return!s.length||r?e:s.reduce((e,t)=>{const n=e.indexOf(t.id);return e.splice(n,1),e},[...e])}default:return e}};const HS=[];var KS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zp.c:{const{subreddits:e,favoriteSubredditIds:n}=t.payload,r=n?n.filter(t=>!!e[t]):[];return r.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),r}case Zp.f:{const{makeFavorite:n,identifier:r,subredditModels:s}=t.payload,{id:o,type:i}=r;if(i!==Hj.a.SUBREDDIT)return e;const c=e?e.slice():[];if(n){const e=Jp(c,o,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);c.splice(e,0,o)}else{const e=c.indexOf(o);c.splice(e,1)}return c}case Zp.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(t=>t.type===Hj.a.SUBREDDIT&&e.indexOf(t.id)>-1);return!s.length||r?e:s.reduce((e,t)=>{const n=e.indexOf(t.id);return e.splice(n,1),e},[...e])}default:return e}};const WS=[],YS=e=>(t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1;var JS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.u:{const{multireddits:n}=t.payload,r=Xr()(n).map(e=>{let{url:t}=e;return t.toLowerCase()}).sort(YS(n));return dr()(e,r)?e:r}case ne.l:{const{account:n,multireddits:r,multiredditsByUser:s,multiredditsModelsState:o}=t.payload;if(!n)return e;const i=s[n.id];if(!i||!i.length)return e;const c=Object.assign({},o,r),a=Yp()(e,i).sort(YS(c));return dr()(e,a)?e:a}case Zp.e:{const{follow:n,multiredditPath:r,multiredditsModelsState:s}=t.payload;return n?[...e,r].sort(YS(s)):e.filter(e=>e!==r)}case Ae.j:{const n=t.payload;return e.filter(e=>e!==n)}case Ae.g:case Ae.m:{const{multireddit:n,multiredditsModelsState:r}=t.payload,s=Object.assign({},r,{[n.url]:n});return[...e,n.url].sort(YS(s))}default:return e}},zS=n("./node_modules/lodash/difference.js"),QS=n.n(zS);const XS=[];var ZS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.m:{const{profileOrder:n}=t.payload;return Hv()([...e,...n])}case Zp.c:{const{profiles:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}case Zp.h:{const{identifiers:n,profileModels:r,userIsSubscriber:s}=t.payload,o=n.filter(e=>e.type===Hj.a.PROFILE);if(!o.length)return e;const i=o.map(e=>e.id);return s?Hv()([...e,...i]).sort((e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1):QS()(e,i)}default:return e}};const $S=[];var eT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp.m:{const{subredditOrder:n}=t.payload;return Hv()([...e,...n])}case Zp.c:{const{subreddits:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}case Zp.h:{const{identifiers:n,subredditModels:r,userIsSubscriber:s}=t.payload,o=n.filter(e=>e.type===Hj.a.SUBREDDIT&&!!e.id);if(!o.length)return e;const i=o.map(e=>e.id);return s?Hv()([...e,...i]).sort((e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1):QS()(e,i)}case fO.e:return t.payload.subscriptions;default:return e}},tT=Object(r.c)({api:GS,favoriteMultiOrder:US,favoriteProfileOrder:VS,favoriteSubredditOrder:KS,multiredditOrder:JS,profileOrder:ZS,subredditOrder:eT}),nT=n("./src/reddit/actions/tags/constants.ts");const rT={pending:!1,error:!1};var sT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.g:return Object.assign({},e,{pending:!0});case nT.h:return{error:!1,pending:!1};case nT.f:return{error:!0,pending:!1};default:return e}};const oT={pending:!1,error:!1};var iT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.j:return Object.assign({},e,{pending:!0});case nT.k:return{error:!1,pending:!1};case nT.i:return{error:!0,pending:!1};default:return e}};const cT={pending:!1,error:!1};var aT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.o:return Object.assign({},e,{pending:!0});case nT.n:case nT.m:case nT.d:case nT.e:return{error:!1,pending:!1};case nT.l:return{error:!0,pending:!1};default:return e}};const dT={pending:!1,error:!1};var uT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.q:return Object.assign({},e,{pending:!0});case nT.r:return{error:!1,pending:!1};case nT.p:return{error:!0,pending:!1};default:return e}},lT=Object(r.c)({create:sT,deleteTag:iT,fetch:aT,update:uT});const bT={global:[],recommendedGlobal:[]};var pT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.m:case nT.d:case nT.e:{const{globalSubredditTags:e}=t.payload,n=Object.keys(e).sort((t,n)=>{const r=e[t].text.toLowerCase(),s=e[n].text.toLowerCase();return r<s?-1:r>s?1:0}),r=n.filter(t=>e[t].isRecommended);return{global:n,recommendedGlobal:r}}default:return e}},mT=n("./node_modules/lodash/uniqWith.js"),fT=n.n(mT),OT=n("./src/reddit/models/Option/index.ts");const gT={selectedOptions:[],tagInput:""};var jT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.c:{const{option:n}=t.payload;return Object.assign({},e,{selectedOptions:fT()([...e.selectedOptions||[],Object.assign({},n)],OT.a)})}case nT.b:{const{option:n}=t.payload,r=e.selectedOptions.findIndex(e=>Object(OT.a)(e,n));return e.selectedOptions.splice(r,1),Object.assign({},e,{selectedOptions:e.selectedOptions})}case nT.a:{const{input:n}=t.payload;return Object.assign({},e,{tagInput:n})}default:return e}},yT=n("./src/reddit/helpers/tags/index.ts");const _T={globalSubredditTags:{},subredditScopedTags:{},itemTags:{},suggestedItemTags:{},sortedItemTags:{}};var hT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nT.e:{const{globalSubredditTags:n,subredditScopedTags:r,subredditId:s}=t.payload;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,n),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[s]:Object.assign({},e.subredditScopedTags[s]||{},r[s]||{})})})}case nT.n:case nT.m:{const{globalSubredditTags:n,subredditScopedTags:r,itemTags:s,suggestedItemTags:o,subredditId:i}=t.payload;return{globalSubredditTags:Object.assign({},e.globalSubredditTags,n),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[i]:Object.assign({},e.subredditScopedTags[i]||{},r[i]||{})}),itemTags:Object.assign({},e.itemTags,{[i]:Object.assign({},s[i]||{})}),suggestedItemTags:Object.assign({},e.suggestedItemTags,{[i]:Object.assign({},o[i]||{})}),sortedItemTags:Object.assign({},e.sortedItemTags,{[i]:Object(yT.a)(s[i]||{})})}}case nT.k:{const{subredditId:n,tags:r}=t.payload,s=r.reduce((e,t)=>{let{tagId:n}=t;return delete e[n],e},Object.assign({},e.subredditScopedTags[n]||{}));return Object.assign({},e,{subredditScopedTags:Object.assign({},e.subredditScopedTags,{[n]:s})})}case nT.d:{const{globalSubredditTags:n}=t.payload;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,n)})}default:return e}},ET=n("./src/reddit/reducers/tags/selected/index.ts"),IT=Object(r.c)({api:lT,availableGlobalTagOrder:pT,models:hT,selected:ET.b,creation:jT}),vT=n("./src/reddit/actions/redditEmbed.ts"),ST=n("./src/reddit/actions/theme.ts"),TT=n("./src/reddit/actions/users.ts"),CT=n("./src/reddit/models/Theme/index.ts");const wT={current:CT.c,cached:{}};var DT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ST.a:{const{nightmode:e}=t.payload;return{current:e?CT.b:CT.c,cached:{}}}case ms.a:case ms.b:case ms.e:case ms.c:case ms.f:case Le.e:case Le.h:case Ue.b:case ke.a:case ne.a:case ke.b:case ne.b:case ke.d:case ne.d:case ne.g:case ce.b:case ne.l:case ne.k:case Re.b:case Ne.e:case vT.b:case de.i:case qe.c:case ie.c:case wu.i:case Me.b:case po.a:case TT.e:if(t.payload&&t.payload.preferences&&t.payload.preferences.nightmode){const{nightmode:e}=t.payload.preferences;return e?{current:CT.b,cached:{}}:{current:CT.c,cached:{}}}return e;case re.d:case re.e:case Fe.a:case Fe.b:case Fe.d:case Fe.e:case se.d:case se.e:{const{account:n}=t.payload;return n?n.nightmode?{current:CT.b,cached:{}}:{current:CT.c,cached:{}}:e}case te.h:case te.j:case te.i:case te.g:case te.f:case te.n:case te.m:case te.p:case te.q:case te.w:case te.v:if(t.payload&&t.payload.response&&t.payload.response.preferences&&t.payload.response.preferences.nightmode){const{nightmode:e}=t.payload.response.preferences;return e?{current:CT.b,cached:{}}:{current:CT.c,cached:{}}}return e;case wu.h:{if(!t.payload)return e;const{nightmode:n}=t.payload;return n?{current:CT.b,cached:{}}:{current:CT.c,cached:{}}}case j.d:return{current:CT.c,cached:{}};case j.e:return t.payload.nightmodeTempUpdated?{current:CT.b,cached:{}}:e;default:return e}},PT=n("./src/reddit/actions/toaster.ts");const xT=[];var RT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case PT.c:{const n=t.payload,r=[];let s=!1;for(const t of e){const e=t.id===n.id?n:t;r.push(e),s=s||e===n}return s||r.push(n),r}case PT.b:{const n=t.payload;return e.filter(e=>e.id!==n)}default:return e}},AT=n("./src/reddit/actions/tooltip.ts");var NT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case AT.c:{const{tooltipId:n}=t.payload;return e===n?null:n}case AT.a:{const{tooltipId:n}=t.payload;return e===n?e:n}case AT.b:{const{tooltipId:n}=t.payload;return null!==e?e:n||null}case AT.e:{const{tooltipId:n}=t.payload;return e===n?null:e}case AT.d:case m.a:case yd.b:case yd.c:case yd.a:return null;default:return e}},kT=n("./src/reddit/actions/tracking.ts");const LT={};var UT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kT.a:{const{routeKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case kT.b:{const{routeKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},MT=Object(r.c)({viewportDataLoaded:UT}),FT=n("./src/reddit/actions/trafficStats/constants.ts");var BT=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case FT.c:return!0;case FT.b:case FT.a:return!1;default:return e}};var GT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case FT.b:{const{trafficStats:e}=t.payload;return e}case FT.c:return null;default:return e}},qT=Object(r.c)({pending:BT,trafficStats:GT});var VT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.s:case l.t:return null;case l.q:{const{error:e}=t.payload;return e}default:return e}};var HT=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.s:return!0;case l.q:case l.t:return!1;default:return e}},KT=Object(r.c)({error:VT,pending:HT});var WT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return(t.payload?t.payload.contentId:null)||null;case s.b:case l.t:return null;default:return e}};var YT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return(t.payload?t.payload.recipient:"")||"";case l.t:return"";default:return e}},JT=Object(r.c)({api:KT,contentId:WT,initialRecipient:YT}),zT=Object(r.c)({communityPoints:JT}),QT=n("./src/reddit/actions/search/trending.ts");const XT=[];var ZT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case QT.a:{const{items:n}=t.payload;return n||e}default:return e}},$T=Object(r.c)({models:ZT});const eC={};var tC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jy.a:{const{trophies:n}=t.payload;return Object.assign({},e,n)}default:return e}},nC=n("./src/reddit/models/Upload/index.ts");const rC={};var sC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Io.d:{const{key:n,id:r,file:s}=t.payload,o=e[n],i=o&&o.file===s?Object.assign({},o.metadata):{};return Object.assign({},e,{[n]:{key:n,id:r,file:s,metadata:i,url:void 0,status:nC.a.PENDING}})}case Io.h:{const{key:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{status:nC.a.UPLOADING})})}case Io.c:{const{key:n,metadata:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{metadata:r})})}case Io.e:{const{key:n,progress:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{progress:r})})}case Io.g:{const{key:n,url:r,websocketUrl:s}=t.payload,o=e[n];return Object.assign({},e,{[n]:Object.assign({},o,{status:nC.a.SUCCESS,url:r,websocketUrl:s})})}case Io.b:{const{key:n,error:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{status:nC.a.FAILED,error:r})})}case Io.a:{const{key:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{status:nC.a.CANCELED})})}case Io.f:{const{key:n}=t.payload,r=e[n];return r.metadata.localUrl&&window.URL.revokeObjectURL(r.metadata.localUrl),pr()(e,n)}case p.d:case p.c:return rC;case f.D:return pr()(e,Zn.m);default:return e}};const oC={};var iC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,wallet:r}=t.payload;if(!r)return e;const s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{latest:r,byDate:Object.assign({},s.byDate||{},{[r.at]:r})})})}case l.w:{const n=t.payload,r=Object.assign({},e);return Object.keys(n).forEach(t=>{const s=n[t],o=e[t],i={latest:o?o.latest.at<=s.at?s:o.latest:s,byDate:Object.assign({},o?o.byDate:{},{[s.at]:s})};r[t]=i}),r}case O.d:{const{product:n,wallet:r}=t.payload,s=e[n.subredditId]||{};return Object.assign({},e,{[n.subredditId]:Object.assign({},s,{[r.at]:r,latest:r})})}case l.t:{const{subredditId:n,wallet:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{[r.at]:r,latest:r})})}default:return e}},cC=n("./src/reddit/actions/pages/appeal/constants.ts");const aC=(e,t)=>!t||dr()(e,t)?e:t;var dC=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cC.a:case cC.b:case I_.b:case I_.c:case ms.a:case ms.b:case ms.c:case ms.e:case ms.f:case Le.e:case Le.h:case Le.g:case Ae.q:case Ae.r:case Ne.d:case Ne.e:case Ue.a:case Ue.b:case ke.a:case ne.a:case ke.b:case ne.b:case ne.f:case ne.g:case ne.k:case ne.l:case ce.a:case re.b:case re.a:case re.e:case re.d:case oe.c:case oe.i:case Fe.e:case Fe.d:case Fe.b:case Fe.a:case se.e:case se.d:case ce.b:case ie.a:case ie.c:case Me.b:case po.a:case qe.a:case qe.c:case vT.a:case vT.b:case wu.i:case TT.e:return aC(e,t.payload.account);case TT.s:return e?Object.assign({},e,{email:t.payload}):e;case te.i:case te.f:case te.m:case te.p:case te.v:case te.h:case te.e:case te.l:case te.o:case te.u:{const{response:n}=t.payload;return n?aC(e,n.account):e}case TT.c:return e?Object.assign({},e,{seenLayoutSwitch:!0}):e;case s.d:return e?Object.assign({},e,{seenRedesignModal:!0}):e;case wu.k:case wu.j:{const n=t.payload;return e&&"profileIcon"===n.key?Object.assign({},e,{accountIcon:n.imageUrl}):e}case Oe.y:case Oe.q:{const{coins:n}=t.payload;return e?Object.assign({},e,{coins:n}):e}case Ma.f:{const{coins:n}=t.payload;return n&&e?Object.assign({},e,{coins:n}):e}default:return e}}),null);var uC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.r:case TT.s:return null;case TT.q:return t.payload;default:return e}};var lC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.r:return!0;case TT.s:case TT.q:return!1;default:return e}},bC=Object(r.c)({error:uC,pending:lC}),pC=Object(r.c)({api:bC});var mC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.k:return!0;case TT.l:case TT.j:return!1;default:return e}},fC=Object(r.c)({pending:mC}),OC=Object(r.c)({api:fC});var gC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.o:return!0;default:return e}};var jC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.n:return!0;case TT.o:case TT.m:return!1;default:return e}},yC=Object(r.c)({pending:jC,emailSent:gC}),_C=Object(r.c)({api:yC}),hC=Object(r.c)({changeEmail:pC,resetPassword:OC,sendResetEmail:_C}),EC=n("./src/reddit/models/WhitelistAndBlocked.ts");const IC={};var vC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At.f:return Object.assign({},e,{new:EC.a.pending});case At.d:return Object.assign({},e,{new:EC.a.error});case At.e:return Object.assign({},e,{new:EC.a.waitingForRequest});case At.b:{const n=t.payload.name;return Object.assign({},e,{[n]:EC.a.pending})}case At.a:{const n=t.payload.name;return Object.assign({},e,{[n]:EC.a.error})}case At.c:{const n=t.payload.name;return Object.assign({},e,{[n]:EC.a.waitingForRequest})}default:return e}};const SC=[];var TC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At.e:return[t.payload,...e];case At.c:{const n=t.payload.name;return e.filter(e=>e.name!==n)}case wu.i:return t.payload.blockedUsers;default:return e}},CC=Object(r.c)({api:vC,data:TC}),wC=n("./src/reddit/actions/chat/constants.ts"),DC=n("./src/reddit/actions/chat/userSettings.ts");const PC=wC.a.anybody;var xC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DC.a:if(t.payload){const{invitePolicy:e}=t.payload;return e}return e;default:return e}},RC=Object(r.c)({invitePolicy:xC});const AC=(e,t)=>void 0===t||e&&t===e.count?e:Object.assign({},e,{count:t});var NC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:{const{drafts:n}=t.payload;return e&&dr()(e,n)?e:Object.assign({},e,n)}case f.O:{const{response:{draftsCount:n}}=t.payload;return AC(e,n)}case Ss.e:{const{postDraftIds:n}=t.payload;return AC(e,n.length)}case Ss.c:case Ss.l:{const{draftsCount:n}=t.payload;return AC(e,n)}default:return e}};const kC={};var LC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mn.a:{const n=t.payload;return null===n.local_persisted_experiments_store||void 0===n.local_persisted_experiments_store?e:n.local_persisted_experiments_store}default:return e}},UC=n("./src/reddit/actions/experiments.ts");const MC=[];var FC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UC.a:return t.payload.experimentVariants.map(e=>{let{id:t,experimentName:n,name:r,version:s}=e;return{id:parseInt(t),name:n,variant:r||void 0,version:s}});default:return e}};const BC=/^experiment_(.*)$/i,GC=e=>{const t=e.match(BC);if(null!==t)return t[1]},qC={};var VC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:{const n=jo(t);if(!n)return e;const r={};for(const e in n){const t=GC(e);t&&(r[t.toLowerCase()]=n[e]||"")}return rn()(r)?e:Object.assign({},e,r)}case UC.b:{const{experimentName:n,override:r}=t.payload;return n?Object.assign({},e,{[n]:r||""}):e}default:return e}},HC=Object(r.c)({models:FC,localPersisted:LC,overrides:VC});function KC(e,t){return t?e&&dr()(e,t)?e:t:e}const WC={};var YC=Object(lg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ms.a:case ms.b:case ms.c:case ms.e:case ms.f:case Le.e:case Ue.a:case Ue.b:case ke.a:case ne.a:case ke.b:case ne.b:case ne.f:case ne.g:case ne.k:case ne.l:case ce.a:case zp.k:case re.e:case re.d:case Fe.e:case Fe.d:case Fe.b:case Fe.a:case se.e:case se.d:case ce.b:case ie.a:case ie.c:case Me.b:case vT.a:case vT.b:case wu.i:case TT.e:{const n=t.payload.features;return n?KC(e,n):e}case te.i:case te.f:case te.m:case te.p:case te.v:case te.h:case te.e:case te.l:case te.o:case te.u:{const{response:n}=t.payload;return n&&n.features?KC(e,n.features):e}default:return e}}),WC);var JC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.e:return!0;case wu.d:return!1;default:return e}};var zC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;return t.type,e},QC=n("./src/reddit/actions/monthsToMinutes/reset.ts");var XC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fO.e:return t.payload.accountCompleteness.collapsed;case fO.c:return!1;case fO.b:return!0;case QC.a:return!1;default:return e}},ZC=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),$C=n("./src/reddit/models/MonthsToMinutes/index.ts");const ew=$C.a.Initial;var tw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ew,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fO.e:{const{accountCompleteness:n}=t.payload;return e!==ew?e:n.step}case ZC.a:return t.payload||e;case QC.a:return ew;default:return e}},nw=Object(r.c)({collapsed:XC,step:tw});var rw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fO.e:case fO.d:return!0;default:return e}},sw=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts");const ow=[];var iw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ow,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sw.a:case fO.f:{const n=t.payload;return n.length?n:e}case Zp.h:{const{nameIdentifiers:n,shouldUpdateLoggedOutHomeFeed:r,userIsSubscriber:s}=t.payload;if(!r)return e;const o=n.map(e=>Object(ln.f)(e.name));return s?[...e,...o]:e.filter(e=>-1===o.indexOf(e))}case QC.a:return ow;default:return e}};const cw=[];var aw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.b:{const{subredditNames:e}=t.payload;return e||cw}case fO.e:return t.payload.homeFeed.similar;case QC.a:return cw;default:return e}};var dw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.a:return!0;case fO.e:return t.payload.homeFeed.topBanner.isClosed;case QC.a:return!1;default:return e}};var uw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.d:return e+1;case fO.e:return t.payload.homeFeed.topBanner.viewsCount;case QC.a:return 0;default:return e}},lw=Object(r.c)({isClosed:dw,viewsCount:uw}),bw=n("./src/reddit/actions/monthsToMinutes/post.ts");const pw=[];var mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bw.a:{const n=Object(ln.f)(t.payload.subredditName);return[n,...e.filter(e=>e!==n)]}case ne.b:{const{postId:n,posts:r,subreddits:s}=t.payload,o=r[n];if(!o)return e;const i=s[o.belongsTo.id];if(!i)return e;const c=Object(ln.f)(i.name);return[c,...e.filter(e=>e!==c)]}case fO.e:return Hv()([...t.payload.homeFeed.views,...e]);default:return e}};const fw={};var Ow=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mE.c:{const{id:n,subredditName:r}=t.payload,s=Object(ln.f)(r);return e[n]===s?e:Object.assign({},e,{[n]:s})}case fO.e:return t.payload.homeFeed.votes;case QC.a:return fw;default:return e}},gw=Object(r.c)({similar:aw,topBanner:lw,views:mw,votes:Ow});var jw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sw.a:case fO.f:return t.payload.length>=1||e;case ne.i:return!0;case Zp.h:{const{subscriptionsCount:n,userIsSubscriber:r}=t.payload;return!(1===n&&!r)&&e}case QC.a:return!1;default:return e}};var yw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ZC.a:{if(t.payload!==$C.a.BannerVisible)return e;const n=20;return Math.ceil(n*Math.random())+20}case fO.e:return t.payload.postsCount||0;default:return e}};const _w={[$C.e.Home]:{},[$C.e.SubscribeFeed]:{},[$C.e.SubscribeIdCard]:{},[$C.e.SubscribeReminder]:{},[$C.e.Vote]:{},[$C.e.VoteReminder]:{},[$C.e.VoteSuccess]:{}};var hw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fO.e:{const n=t.payload,{homeTooltipTime:r,subscribeTooltipTime:s,subscribeIdCardTooltipTime:o,voteTooltipTime:i}=n.tooltip;return e[$C.e.Home].time=r,e[$C.e.SubscribeFeed].time=s,e[$C.e.Vote].time=i,e[$C.e.SubscribeIdCard]={isDismissed:!0,time:o},Object.assign({},e)}case fr.a:{const{id:n}=t.payload;let r=Object.assign({},e[$C.e.VoteSuccess]);return r.isDismissed||r.postId||(r={isDismissed:!1,postId:n}),Object.assign({},e,{[$C.e.VoteSuccess]:r})}case ne.i:{const t=Object.assign({},e[$C.e.Home]);return t.isDismissed=!0,Object.assign({},e,{[$C.e.Home]:t})}case m.a:case wu.g:{const t=Object.assign({},e);return Object.keys(e).map(n=>{const r=Object.assign({},e[n]);(r.postId||r.time)&&(r.isDismissed=!0),t[n]=r}),t}case jd.d:return Object.assign({},e,{[$C.e.Home]:Object.assign({},e[$C.e.Home],{isDismissed:!0})});case QC.a:return _w;default:return e}};const Ew={beforeBanner:0,total:0};var Iw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ew,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.c:return Object.assign({},e,{total:e.total+1});case ZC.a:return t.payload!==$C.a.BannerVisible?e:Object.assign({},e,{beforeBanner:e.total});case fO.e:{const{beforeBanner:n,total:r}=t.payload.views.count;return{beforeBanner:n,total:r+e.total}}case QC.a:return Object.assign({},e,{beforeBanner:0});default:return e}};const vw=[];var Sw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.b:case bw.a:{const{postId:n}=t.payload;return e.includes(n)?e:[...e,n]}case fO.e:{const n=t.payload;return Hv()([...n.views.posts,...e])}case QC.a:return vw;default:return e}},Tw=Object(r.c)({count:Iw,posts:Sw}),Cw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ww={};var Dw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ww,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fr.a:{const{id:n,vote:r}=t.payload;if(!Object(Or.a)(n))return e;if(e[n]===r){const t=n;e[t];return Cw(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[n]:r})}case fO.e:return t.payload.votes.comments;case QC.a:return ww;default:return e}},Pw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const xw={};var Rw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fr.a:{const{id:n,isInstance:r,vote:s}=t.payload;if(!Object(OO.a)(n)||r)return e;if(e[n]===s){const t=n;e[t];return Pw(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[n]:s})}case fO.e:return t.payload.votes.posts;case QC.a:return xw;default:return e}},Aw=Object(r.c)({comments:Dw,posts:Rw}),Nw=Object(r.c)({accountCompleteness:nw,dataLoaded:rw,feedMultiName:iw,homeFeed:gw,isFrontpageHome:jw,postsCount:yw,tooltips:hw,views:Tw,votes:Aw});const kw={blob:"",loid:"",loidCreated:"",version:-1};var Lw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.d:return t.payload;default:return e}},Uw=n("./src/reddit/actions/notifications/constants.ts");var Mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.b:{const{error:e}=t.payload;return e||null}case Uw.d:case Uw.c:return null;default:return e}};var Fw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.d:return!1;case Uw.c:return!0;default:return e}};var Bw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.d:return!0;case Uw.c:case Uw.b:return!1;default:return e}},Gw=Object(r.c)({error:Mw,loaded:Fw,pending:Bw});var qw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.k:{const{error:e}=t.payload;return e||null}case Uw.m:case Uw.l:return null;default:return e}};var Vw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.m:return!1;case Uw.l:return!0;default:return e}};var Hw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.m:return!0;case Uw.l:case Uw.k:return!1;default:return e}},Kw=Object(r.c)({error:qw,loaded:Vw,pending:Hw}),Ww=Object(r.c)({getPreferences:Gw,setPreferences:Kw});var Yw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.n:return!0;case Uw.e:case Uw.g:case Uw.h:return!1;default:return e}};const Jw={chatMessages:!1,communityRecommendations:!1,trendingPosts:!1,unreadMessages:!1,upvotedComments:!1,upvotedPosts:!1};var zw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uw.c:case Uw.m:case Uw.k:{const{preferences:n}=t.payload;return rn()(n)?e:n}default:return e}},Qw=Object(r.c)({api:Ww,isPrePromptVisible:Yw,preferences:zw});const Xw={};var Zw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case a.i:{const{subredditId:n,userOwnedBadges:r}=t.payload,s=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n]||{},s)})}case O.d:{const{userOwnedBadges:n,product:r}=t.payload,s=n.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r.subredditId]:Object.assign({},e[r.subredditId]||{},s)})}default:return e}},$w=n("./src/reddit/reducers/user/prefs/index.ts");var eD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.f:return t.payload;default:return e}},tD=n("./src/reddit/actions/session.ts");var nD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tD.a:case tD.b:case tD.c:case tD.e:return t.payload;case tD.d:return null;default:return e}};var rD=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tD.f:return!0;default:return e}};var sD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.p:return t.payload;default:return e}};var oD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UC.a:{const e=t.payload;return e.identity&&e.identity.isEmployee}default:return e}};var iD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UC.a:return t.payload.isLoggedIn;default:return e}},cD=Object(r.c)({isEmployee:oD,isLoggedIn:iD});var aD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.q:{const{topContentDismissal:n}=t.payload;return e&&dr()(e,n)?e:Object.assign({},e,n)}default:return e}},dD=n("./src/reddit/actions/userWhitelist.ts");const uD={};var lD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dD.e:return Object.assign({},e,{new:EC.a.pending});case dD.d:return Object.assign({},e,{new:EC.a.error});case dD.f:return Object.assign({},e,{new:EC.a.waitingForRequest});case dD.b:{const n=t.payload.name;return Object.assign({},e,{[n]:EC.a.pending})}case dD.a:{const n=t.payload.name;return Object.assign({},e,{[n]:EC.a.error})}case dD.c:{const n=t.payload.name;return Object.assign({},e,{[n]:EC.a.waitingForRequest})}default:return e}};const bD=[];var pD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dD.f:return[t.payload,...e];case dD.c:{const n=t.payload.name;return e.filter(e=>e.name!==n)}case wu.i:return t.payload.whitelistedUsers;default:return e}},mD=Object(r.c)({api:lD,data:pD}),fD=Object(r.c)({account:dC,accountSettings:hC,blocked:CC,chatSettings:RC,drafts:NC,experiments:HC,features:YC,isCustomizeFlyoutShowing:JC,topContentDismissalPrefsSet:aD,language:zC,loggedOutData:Nw,loid:Lw,notificationPrefs:Qw,ownedBadges:Zw,prefs:$w.b,reddaid:eD,session:nD,sessionRefreshFailed:rD,sessionTracker:sD,temporaryGQL:cD,wallets:iC,whitelist:mD});const OD={};var gD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case Me.b:case po.a:case ke.b:case ne.b:case ue.e:return Object.assign({},e,t.payload.userFlair);case te.i:case te.f:case te.m:case te.p:case te.v:{const{response:n}=t.payload,{userFlair:r}=n,s=Object.assign({},e);return Object.keys(r).forEach(e=>{s[e]||(s[e]=r[e])}),s}case ue.i:{const{subredditId:n,applied:r,displaySettings:s}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{applied:r,displaySettings:s})})}case ee.h:{const{subredditId:n,applied:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{applied:r})})}case ue.d:{const{subredditId:n,isEnabled:r}=t.payload,s=e[n].displaySettings,o=Object.assign({},s,{isEnabled:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{displaySettings:o})})}case ue.b:{const{subredditId:n,canAssignOwn:r}=t.payload,s=e[n].permissions,o=Object.assign({},s,{canAssignOwn:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{permissions:o})})}case ue.h:{const n=t.payload,r=e[n.subredditId],s=e[n.subredditId].templates,o=e[n.subredditId].templateIds,i=Object.assign({},s,{[n.template.id]:n.template}),c=[...o];return c.includes(n.template.id)||c.push(n.template.id),Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templates:i,templateIds:c})})}case ue.c:{const n=t.payload,r=e[n.subredditId],s=e[n.subredditId].templates,o=e[n.subredditId].templateIds,i=pr()(s,n.templateId),c=o.filter(e=>e!==n.templateId);return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templates:Object.assign({},i),templateIds:c})})}case ue.g:case ue.f:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templateIds:n.templateIds})})}default:return e}};const jD={};var yD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.i:case TT.h:{const{username:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case TT.g:{const{username:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};var _D=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case TT.i:return!0;case TT.h:case TT.g:return!1;default:return e}},hD=Object(r.c)({error:yD,pending:_D});const ED={};var ID=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ED,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.f:{const{subredditId:n,usersAppliedBadges:r}=t.payload,s=Object.keys(r).reduce((t,s)=>{const o=r[s];return t[s]=Object.assign({},e[s]||{},{[n]:o}),t},{});return Object.assign({},e,s)}case a.b:{const{badgeIds:n,subredditId:r,userId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}case a.a:{const{previousBadgeIds:n,subredditId:r,userId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}case d.b:{const{badge:n,currentAppliedBadges:r,placement:s,subredditId:o,userId:i}=t.payload,c=r.filter(e=>e.placement!==s).concat(n).map(e=>e.id);return Object.assign({},e,{[i]:Object.assign({},e[i]||{},{[o]:c})})}case l.a:{const n=t.payload.campaigns&&t.payload.campaigns.giveaway,r=n&&n.lastUsers;if(!r)return e;const{subredditId:s}=t.payload,o=Object.assign({},e);return r.forEach(t=>{const n=t.userId,r=Object.keys(t.badges||{});o[n]=Object.assign({},e[n]||{},{[s]:r})}),o}default:return e}};const vD={},SD=(e,t)=>{const n=Object.keys(t);if(!n.length)return e;const r={};return n.forEach(n=>{const s=e[n],o=t[n];s&&dr()(s,o)||(r[n.toLowerCase()]=o)}),Object.keys(r).length?Object.assign({},e,r):e};var TD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.n:{const{users:n}=t.payload;return SD(e,n)}case TT.h:{const{data:n}=t.payload;return SD(e,n)}case zp.k:{const{user:n}=t.payload;return SD(e,{[n.username]:n})}case Oe.q:{const{gildee:n}=t.payload;if(!n)return e;const r=e[n.toLowerCase()];if(!r)return e;const s=r.awardedLastMonth,o=s?s.totalCount+1:1,i=s&&s.topAward;return i?SD(e,{[n.toLowerCase()]:Object.assign({},r,{awardedLastMonth:{totalCount:o,topAward:i}})}):e}case wu.k:case wu.j:{const{imageUrl:n,key:r,username:s}=t.payload;if("profileIcon"!==r)return e;const o=s.toLowerCase(),i=e[o];return i?SD(e,{[o]:Object.assign({},i,{accountIcon:n})}):e}default:return e}},CD=n("./src/reddit/actions/usernameAvailable.ts");const wD={};var DD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case CD.a:{const{username:n}=t.payload;return Object.assign({},e,{[n]:CD.b.Available})}case CD.c:{const{username:n}=t.payload;return Object.assign({},e,{[n]:CD.b.Error})}case CD.d:{const{username:n}=t.payload;return Object.assign({},e,{[n]:CD.b.Pending})}case CD.e:{const{username:n}=t.payload;return Object.assign({},e,{[n]:CD.b.Unavailable})}default:return e}};const PD={};var xD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.n:{const{subredditId:n,wallets:r}=t.payload,s=Object.keys(r).reduce((t,s)=>{const o=e[s]||{},i=Object.assign({},o,{[n]:r[s]});return Object.assign({},t,{[s]:i})},{});return Object.assign({},e,s)}default:return e}};const RD={};var AD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.n:{const{category:n,users:r}=t.payload;return Object.assign({},e,{[n]:Object.keys(r)})}default:return e}},ND=Object(r.c)({api:hD,appliedBadges:ID,models:TD,nameAvailable:DD,publicWallets:xD,topOCCreators:AD});const kD={};var LD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:case ne.b:case ce.b:case de.i:case ie.c:case Me.b:case po.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.idCardWidget,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}},UD=n("./src/reddit/actions/widgets/constants.ts");const MD={};var FD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:case ne.b:case ie.c:case de.i:case ce.b:case Me.b:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.items,s=n.data.content.widgets.layout.topbar.order.filter(e=>r[e]&&"menu"===r[e].kind);if(!s.length)return e;const o=Object.keys(t.payload.subredditAboutInfo||{});if(1!==o.length)return e;const i=o[0];return Object.assign({},e,{[i]:s[0]})}case UD.g:{const n=t.payload;return"menu"!==n.widget.kind?e:Object.assign({},e,{[n.subredditId]:n.widgetId})}case UD.h:{const n=t.payload;return e[n.subredditId]===n.widgetId?Object.assign({},e,{[n.subredditId]:null}):e}default:return e}},BD=n("./src/reddit/models/Widgets/index.ts");const GD={};var qD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:{const n=t.payload,r=n.structuredStyles&&n.structuredStyles.data&&n.structuredStyles.data.content;if(!r)return e;const s=r.widgets;return Object.assign({},e,s.items)}case UD.b:{const n=t.payload;return Object.assign({},e,n.widgets.items)}case j.k:{const t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=Object.assign({},t[e],{styles:Object(BD.o)()})}),t}case UD.e:{const n=t.payload;return Object.assign({},e,n.widgets.items)}case UD.i:case UD.g:{const n=t.payload;return Object.assign({},e,{[n.widget.id]:n.widget})}case UD.h:{const n=t.payload,r=Object.assign({},e);return delete r[n.widgetId],r}case ke.b:case ne.b:case ce.b:case de.i:case ie.c:case Me.b:case po.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets;return Object.assign({},e,r.items)}case Zp.h:{const{userIsSubscriber:n,nameIdentifiers:r,widgetId:s}=t.payload;if(!s||!e[s]||"community-list"!==e[s].kind)return Object.assign({},e);const o=n,i=e[s],c=i.data.map(e=>{const t=Object.assign({},e);return r.some(e=>e.name===t.name)&&(t.isSubscribed=o),t});return Object.assign({},e,{[s]:Object.assign({},i,{data:c})})}case UE.k:{const{settings:n,idCardWidgetId:r}=t.payload;return r&&e[r]&&"publicDescription"in n&&n.publicDescription!==e[r].description?Object.assign({},e,{[r]:Object.assign({},e[r],{description:n.publicDescription||""})}):e}default:return e}};const VD={};var HD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case ne.b:case de.i:case Me.b:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.moderatorWidget,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}};const KD={};var WD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.b:case Me.b:case po.a:{const n=t.payload,r=n.structuredStyles&&n.structuredStyles.data&&n.structuredStyles.data.content;if(!r)return e;const s=Object.keys(n.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0],i=r.widgets.layout.sidebar.order;return Object.assign({},e,{[o]:i})}case UD.e:case UD.b:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.widgets.layout.sidebar.order})}case UD.f:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.widgetIds})}case UD.g:{const n=t.payload;if("menu"===n.widget.kind)return e;if(!e[n.subredditId])return Object.assign({},e,{[n.subredditId]:[n.widgetId]});const r=e[n.subredditId].concat(n.widgetId);return Object.assign({},e,{[n.subredditId]:r})}case UD.h:{const n=t.payload;if(!e[n.subredditId])return e;const r=e[n.subredditId].filter(e=>e!==n.widgetId);return Object.assign({},e,{[n.subredditId]:r})}case ke.b:case ne.b:case ce.b:case ie.c:case de.i:case Me.b:case po.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.sidebar.order,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}},YD=Object(r.c)({idCardIds:LD,menuIds:FD,models:qD,moderatorIds:HD,sidebar:WD});t.a=Object(r.c)({accountManagerModalData:i,activeModalId:_,ads:v,apiRequestState:C,approvedSubmitters:z,authorFlair:fe,awards:Ze,badges:bt,banned:Rt,blockUser:Ft,brandSafety:qt,categories:jn,chat:Mn,claimGold:Wn,comments:Lr,commentsListTruncated:Mr,commentsPage:us,communityFlairs:ps,contentGate:Os,continueThreads:ys,creations:ji,dashboard:hi,discoveryUnits:xi,economics:Zi,emojis:ac,externalAccount:Uc,featureFlags:Hc,flairedUsers:oa,focusedVerticals:Oa,fontFiles:ya,gild:xa,goldPurchase:gd,header:hd,imageUploads:vd,isEmailVerificationTooltipShowing:Td,isModeratorWithPostPerms:wd,jsApi:xd,layers:Ld,leaderboard:zd,listings:Nu,live:Uu,mediaPlayback:Gu,meta:Hu,moderatingSubreddits:Wu,moderationLog:cl,moderators:Jl,modListingPage:tb,modModeEnabled:rb,modQueue:sp,moreComments:pp,multireddits:sm,muted:Im,notificationBannerId:Sm,nps:wm,oldSiteRules:xm,originalContent:nf,platform:df,postCollection:Bf,polls:wf,postFlair:Wf,posts:ug,postStickiedComments:mg,givePremium:La,products:Dg,profileCommentsPage:Hg,profilePrivatePage:Vj,profileModSettingsPage:Jg,profileOverviewPage:xj,profilePostsPage:Aj,profiles:Iy,promos:wy,publicAccessNetwork:Zy,recommendations:e_,removalReasons:l_,reportFlow:E_,reportPage:R_,reportRules:k_,requestHost:L_,runTimeEnvVars:F_,search:X_,searchDiscoveryUnits:oh,seo:uh,shortcuts:_h,sidebarPromotedPosts:Ih,structuredStyles:qh,stylesheets:Vh,subredditAutocomplete:Zh,subredditChannels:uE,subreddits:_S,subredditDifficulty:pE,subredditSettings:RS,subredditStickyPosts:kS,subscriptions:tT,tags:IT,themes:DT,toaster:RT,tooltipId:NT,tracking:MT,trafficStats:qT,transfers:zT,trending:$T,trophies:tC,uploads:sC,user:fD,userFlair:gD,users:ND,widgets:YD})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,s=n("./src/reddit/actions/ads/constants.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(r||(r={}));const o={};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.f:case s.d:{const n=t.payload;return Object.assign({},e,n)}case s.e:case s.f:return e;case s.h:return o;default:return e}}},"./src/reddit/reducers/tags/selected/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,s=n("./node_modules/lodash/uniqWith.js"),o=n.n(s),i=n("./node_modules/lodash/values.js"),c=n.n(i),a=n("./src/reddit/actions/tags/constants.ts"),d=n("./src/reddit/models/Option/index.ts"),u=n("./src/reddit/models/Tags/index.ts");!function(e){e.ADD="ADD",e.REMOVE="REMOVE"}(r||(r={}));const l={selectedOptions:{},selectedSuggestedOptions:{},deselectedOptions:{},deselectedSuggestedOptions:{},inputByItemId:{},suggestedInputByItemId:{}};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.m:{const{subredditId:n,itemTags:r,suggestedItemTags:s}=t.payload,i=o()([...(e.selectedOptions[n]||[]).map(e=>{if(!e.id){const t=c()(r[n]||{}).find(t=>e.displayText.toLowerCase().trim()===t.tag.text.toLowerCase().trim());if(t)return Object.assign({},Object(u.d)(t,!0),{action:null})}return e}),...c()(r[n]||{}).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null}))],d.a);return Object.assign({},e,{selectedOptions:Object.assign({},e.selectedOptions,{[n]:i.map(e=>Object.assign({},e,{action:e.id?null:e.action}))}),selectedSuggestedOptions:Object.assign({},e.selectedSuggestedOptions,{[n]:c()(s[n]||{}).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null}))}),deselectedOptions:Object.assign({},e.deselectedOptions,{[n]:[]})})}case a.x:case a.u:{const{subredditId:n,option:s}=t.payload,i=t.type===a.u?"selectedOptions":"selectedSuggestedOptions",c=t.type===a.u?"deselectedOptions":"deselectedSuggestedOptions",u=(e[c][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,s));let b=r.ADD;return l>-1&&(b=null,u.splice(l,1)),Object.assign({},e,{[i]:Object.assign({},e[i],{[n]:o()([...e[i][n]||[],Object.assign({},s,{action:b})],d.a)}),[c]:Object.assign({},e[c],{[n]:u})})}case a.w:case a.t:{const{subredditId:n,option:s}=t.payload,o=t.type===a.t?"selectedOptions":"selectedSuggestedOptions",i=t.type===a.t?"deselectedOptions":"deselectedSuggestedOptions",c=(e[i][n]||[]).slice(),u=(e[o][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,s));return l>-1&&(null===u[l].action&&c.push(Object.assign({},u[l],{action:r.REMOVE})),u.splice(l,1)),Object.assign({},e,{[o]:Object.assign({},e[o],{[n]:u}),[i]:Object.assign({},e[i],{[n]:c})})}case a.v:case a.s:{const{subredditId:n,input:r}=t.payload,s=t.type===a.s?"inputByItemId":"suggestedInputByItemId";return Object.assign({},e,{[s]:Object.assign({},e[s],{[n]:r})})}default:return e}}},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/isEqual.js"),o=n.n(s),i=n("./node_modules/lodash/merge.js"),c=n.n(i),a=n("./node_modules/lodash/pick.js"),d=n.n(a),u=n("./src/lib/constants/index.ts"),l=n("./src/reddit/actions/comment.ts"),b=n("./src/reddit/actions/contentGate.ts"),p=n("./src/reddit/actions/frontpage.ts"),m=n("./src/reddit/actions/header.ts"),f=n("./src/reddit/actions/modQueue/constants.ts"),O=n("./src/reddit/actions/originalContent.ts"),g=n("./src/reddit/actions/page.ts"),j=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),y=n("./src/reddit/actions/pages/modListing/constants.ts"),_=n("./src/reddit/actions/pages/originalContent.ts"),h=n("./src/reddit/actions/pages/postCreation.ts"),E=n("./src/reddit/actions/pages/postDraft.ts"),I=n("./src/reddit/actions/pages/profileComments.ts"),v=n("./src/reddit/actions/pages/profileOverview.ts"),S=n("./src/reddit/actions/pages/profilePosts.ts"),T=n("./src/reddit/actions/pages/search.ts"),C=n("./src/reddit/actions/pages/subreddit.ts"),w=n("./src/reddit/actions/postCreation/constants.ts"),D=n("./src/reddit/actions/postDraft.ts"),P=n("./src/reddit/actions/preferences.ts"),x=n("./src/reddit/actions/redditEmbed.ts"),R=n("./src/reddit/actions/search.ts"),A=n("./src/reddit/actions/structuredStyles/constants.ts"),N=n("./src/reddit/actions/subreddit.ts"),k=n("./src/reddit/actions/users.ts"),L=n("./src/reddit/constants/postLayout.ts"),U=n("./src/reddit/constants/preferences.ts"),M=n("./src/reddit/constants/theme.ts"),F=n("./src/reddit/models/PostCreationForm/index.ts"),B=n("./src/reddit/models/PostDraft/index.ts"),G=n("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(r||(r={}));const q=["acceptPrivateMessages","allowClickTracking","autoplayVideo","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","ignoreSuggestedSort","inBeta","labelNSFW","markMessagesRead","nightmode","over18","showMessagesInInbox","showNotifications","showTwitter","showUsernameMentionNotifications","showActiveCommunities",...U.a],V={acceptPrivateMessages:void 0,allowClickTracking:!1,autoplayVideo:!0,collapsedTraySections:G.a,commentMode:F.h.RICH_TEXT,layout:L.d.Card,rememberCommunityLayout:!1,defaultCommentSort:u.q.CONFIDENCE,editorMode:F.h.RICH_TEXT,featuresViewedHistory:G.b,geopopular:void 0,globalTheme:M.a,hamburgerTray:void 0,hasSeenCustomizeFlyout:!0,hideNSFW:!0,ignoreSuggestedSort:!1,labelNSFW:!0,markMessagesRead:!0,nightmode:!1,openPostInNewTab:!1,over18:!1,profileLayout:void 0,rpanDuDismissalTime:void 0,showActiveCommunities:!0,showRpanDu:!0,showTwitter:!1,sort:u.P.Hot,stylesEnabled:!0,subreddit:{},subscriptionsPinned:void 0,topContentDismissalTime:0,topContentTimesDismissed:0,rememberCommunitySort:!1,useMarkdown:!1},H={isContributorRequestTimestamp:0,stylesEnabled:!0,layout:void 0,sort:void 0},K=(e,t)=>{if(!t)return e;const n=d()(Object.assign({},t.account,t),q),r=t.subreddit,s=Object.assign({},e.subreddit);Object.keys(r||{}).forEach(e=>{s[e]=Object.assign({},H,r&&r[e])});const i=Object.assign({},e,n,{subreddit:s});if(i.useMarkdown!==e.useMarkdown){const e=i.useMarkdown?F.h.MARKDOWN:F.h.RICH_TEXT;i.editorMode=e,i.commentMode=e}return o()(i,e)?e:i},W=(e,t,n)=>K(e,{subreddit:{[t]:Object.assign({},H,e.subreddit[t],n)}});t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.l:case l.r:{const{editorMode:n}=t.payload;return Object.assign({},e,{commentMode:n})}case w.t:case w.P:{const{editorMode:n}=t.payload;return Object.assign({},e,{editorMode:n})}case m.d:return Object.assign({},e,{subscriptionsPinned:!0});case m.e:return Object.assign({},e,{subscriptionsPinned:!1});case D.g:{const{kind:n}=t.payload;return Object.assign({},e,{editorMode:n===B.b.Markdown?F.h.MARKDOWN:F.h.RICH_TEXT})}case P.g:{const{layout:n}=t.payload;return e.layout===n?e:Object.assign({},e,{layout:n})}case P.n:return void 0!==t.payload?Object.assign({},e,{rpanDuDismissalTime:t.payload}):e;case P.o:{const{layout:n,subredditId:r}=t.payload;return W(e,r,{layout:n})}case P.e:return Object.assign({},e,{hasSeenCustomizeFlyout:!0});case P.l:return e.profileLayout===t.payload.profileLayout?e:Object.assign({},e,{profileLayout:t.payload.profileLayout});case b.d:return Object.assign({},e,{over18:!0});case P.b:return void 0!==t.payload?Object.assign({},e,{autoplayVideo:t.payload.autoplayVideo}):e;case P.h:return void 0!==t.payload?Object.assign({},e,{nightmode:t.payload.nightmode}):e;case P.q:if(void 0!==t.payload){const{topContentDismissalTime:n,topContentTimesDismissed:r}=t.payload;return Object.assign({},e,{topContentDismissalTime:n,topContentTimesDismissed:r})}return e;case A.d:return t.payload.isNightmodeOn?Object.assign({},e,{nightmode:!1,nightmodeTempUpdated:!0}):e;case A.e:return t.payload.nightmodeTempUpdated?Object.assign({},e,{nightmode:!0,nightmodeTempUpdated:!1}):e;case P.f:return void 0!==t.payload?Object.assign({},e,{hamburgerTray:t.payload.set}):Object.assign({},e,{hamburgerTray:!e.hamburgerTray});case P.c:return void 0!==t.payload?Object.assign({},e,{collapsedTraySections:c()({},e.collapsedTraySections,t.payload)}):e;case k.a:case k.b:return Object.assign({},e,{featuresViewedHistory:c()({},e.featuresViewedHistory,t.payload)});case b.a:case b.b:case b.e:case b.c:case b.f:case y.e:case y.h:case _.b:case j.a:case g.a:case j.b:case g.b:case j.d:case g.d:case g.g:case C.b:case g.l:case g.k:case I.e:case v.e:case v.b:case S.e:case p.b:case O.e:case N.i:case R.c:case x.b:case h.b:case E.a:case P.i:case T.c:case P.a:case k.e:return t.payload&&t.payload.preferences?K(e,t.payload.preferences):e;case P.p:{const{subredditId:n,prefs:r}=t.payload;return W(e,n,r)}case I.d:case v.d:case v.a:case S.d:if(t.payload&&t.payload.account){const{nightmode:n}=t.payload.account;if(e.nightmode!==n)return Object.assign({},e,{nightmode:n})}return e;case f.h:case f.j:case f.i:case f.g:case f.f:case f.n:case f.m:case f.p:case f.q:case f.w:case f.v:return t.payload&&t.payload.response&&t.payload.response.preferences?K(e,t.payload.preferences):e;case P.m:{const n=t.payload,{showActiveCommunities:r}=n.additional;return e.showActiveCommunities!==r?Object.assign({},e,{showActiveCommunities:r}):e}default:return e}}},"./src/reddit/routes/modListing/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/flatten.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/pages/modListing/index.ts");const c="/r/mod",a="/me/f/mod",d=[c,a],u=e=>e.startsWith(a),l=s()(d.map(e=>Object.keys(o.N).map(t=>"".concat(e,"/:sort(").concat(o.N[t],")?")))).map(e=>({path:e,action:i.b,chunk:o.o.MOD_LISTING,exact:!0,meta:{name:o.wb.MOD_LISTING},pretfetches:[o.o.SUBREDDIT,o.o.COMMENTS_PAGE]}));t.c=l},"./src/reddit/routes/postCreation/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r="/submit",s="/r/:subredditName/submit",o="/user/:profileName/submit",i="/original/submit"},"./src/reddit/routes/postCreation/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/actions/pages/postCreation.ts"),o=n("./src/reddit/routes/postCreation/constants.ts");const i=[o.c,o.d,o.b,o.a],c=e=>o.d.replace(/:subredditName/,e),a=e=>o.b.replace(/:profileName/,e),d=e=>e.split("?")[0]===o.a,u=i.map(e=>({path:e,action:s.e,chunk:r.o.POST_CREATION,exact:!0,meta:{name:r.wb.POST_CREATION},prefetches:[r.o.COMMENTS_PAGE]}));t.a=u},"./src/reddit/selectors/activeModalId.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.activeModalId,s=e=>t=>t.activeModalId===e},"./src/reddit/selectors/ads.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r=e=>e.ads,s=(e,t)=>e.ads[t]},"./src/reddit/selectors/brandSafety.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts"),o=n("./src/reddit/contexts/PageLayer/selectors.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts"),c=n("./src/reddit/selectors/posts.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=new Set([r.N.NEW,r.N.RISING,r.N.CONTROVERSIAL]),u=e=>e.brandSafety.hasBrandSafetyBeenAssessed,l=(e,t)=>{let{postId:n}=t;const r=Object(c.K)(e,{postId:n}),s=Object(c.V)(e,{postId:n});return!(!r||!s)&&(s.wls===i.a.ALL_ADS&&!r.isNSFW)},b=e=>e.brandSafety.isViewSafe,p=e=>!e.brandSafety.isViewSafe,m=(e,t)=>{const{listingName:n,pageLayer:r}=t,c=Object(a.B)(e,{subredditName:n}),u=Object(o.b)(e,{pageLayer:r});return(!u||!d.has(u))&&(!(c||!Object(s.a)(n))||!!c&&c.wls===i.a.ALL_ADS)}},"./src/reddit/selectors/category.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return P})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return A})),n.d(t,"m",(function(){return N})),n.d(t,"t",(function(){return U}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pickBy.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/experiments.ts"),a=n("./src/reddit/helpers/name/index.ts"),d=n("./src/reddit/models/Widgets/index.ts"),u=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),l=n("./src/reddit/selectors/subreddit.ts");const b=[],p=e=>e.categories.api.list.loaded,m=e=>e.categories.api.list.pending,f=(e,t)=>{let{id:n}=t;return n?e.categories.api.subreddits.loaded[n]:void 0},O=(e,t)=>{let{id:n}=t;return n?e.categories.api.subreddits.pending[n]:void 0},g=(e,t)=>{let{id:n}=t;return n?e.categories.models[n]:void 0},j=e=>e.categories.nameToId,y=(e,t)=>{let{categoryName:n}=t;const r=e.categories.nameToId[Object(a.f)(n)];if(r)return g(e,{id:r})},_=new Set(["nba","nfl"]),h=Object(o.a)((e,t)=>t.categoriesOrder||c.Y,(e,t)=>t.excludedCategories||_,e=>e.categories.ids,e=>e.categories.models,(e,t,n,r)=>{const s={};let o=1e3;const i=[];for(const c of n){const n=r[c];t.has(Object(a.f)(n.name))||(e[n.name]||(s[n.name]=o++),i.push(n))}return i.sort((t,n)=>{return(e[t.name]||s[t.name])-(e[n.name]||s[n.name])})}),E=(e,t)=>{let{categoryName:n}=t;const r=y(e,{categoryName:n});return r&&e.subreddits.byCategory[r.id]||b},I=Object(o.a)((e,t)=>{let{id:n}=t;if(!n)return b;return e.subreddits.byCategory[n]||b},l.Y,e=>e.subreddits.about,(e,t,n)=>e.map(e=>Object(d.j)(t[e],n[e]))),v=()=>Object(i.a)(Object(o.a)(E,l.Y,l.z,(e,t,n)=>e.map(e=>Object(d.j)(t[e],n[e])))),S=Object(o.a)(E,l.Y,(e,t)=>0===e.length?b:e.map(e=>t[e])),T=()=>Object(i.a)(Object(o.a)(E,l.Y,(e,t)=>0===e.length?b:e.map(e=>{const n=t[e];return n?n.name:""}).filter(Boolean))),C=()=>Object(o.a)(T(),e=>e.join("+")),w=Object(o.a)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||b,e=>e.categories.models,(e,t)=>e.map(e=>t[e])),D=Object(i.a)(Object(o.a)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||b,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e]))),P=(e,t)=>{const n=t?e.posts.models[t]:null;return n&&n.postCategories?n.postCategories:null},x=Object(o.a)(e=>e.subreddits.byCategory,l.Y,(e,t)=>Object.keys(e).reduce((n,r)=>{const s=e[r];if(!s||0===s.length)return n;for(const e of s){const s=t[e];if(s){const e=Object(a.f)(s.name);n[e]||(n[e]=[]),n[e].push(Object(a.f)(r))}}return n},{})),R=Object(o.a)((e,t)=>t.subredditName,x,(e,t)=>t[Object(a.f)(e)]||b),A=e=>e.categories.ranking,N=(e,t)=>{let{id:n}=t;return n&&e.categories.ranking[n]||0},k=Object(o.a)(h,A,(e,t)=>{const n=s()(t,e=>e>=3);return 0===Object.keys(n).length?e:[...e].sort((e,t)=>{const r=n[e.id]||0;return(n[t.id]||0)-r})}),L=Object(o.a)(()=>Object(u.b)(),e=>{if(!e)return _;const t=new Set(_);return t.delete(e.name),t}),U=(e,t)=>{const n=L(e);return k(e,Object.assign({},t,{excludedCategories:n}))}},"./src/reddit/selectors/chat.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./src/reddit/models/ModeratingSubreddits/index.ts"),s=n("./src/reddit/selectors/moderatorPermissions.ts"),o=n("./src/reddit/selectors/platform.ts");const i=e=>e.chat.unread.count,c=e=>e.chat.promos,a=e=>!!e.chat.isUserSubredditChatEnabled,d=e=>!(e.chat.isInited||e.chat.unread.api.pending),u=(e,t)=>{const{chatConfig:n}=r.c;return Object(s.a)(n)(e,t)},l=e=>{const t=Object(o.d)(e);if(e.chat.subredditSettings.subredditId===t)return e.chat.subredditSettings}},"./src/reddit/selectors/claimgold.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.claimGold.code,s=e=>e.claimGold.showModal},"./src/reddit/selectors/comments.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"u",(function(){return b})),n.d(t,"w",(function(){return p})),n.d(t,"x",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"E",(function(){return j})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"t",(function(){return D})),n.d(t,"y",(function(){return P})),n.d(t,"G",(function(){return x})),n.d(t,"A",(function(){return R})),n.d(t,"B",(function(){return A})),n.d(t,"C",(function(){return N})),n.d(t,"s",(function(){return k})),n.d(t,"e",(function(){return L})),n.d(t,"v",(function(){return U})),n.d(t,"H",(function(){return M})),n.d(t,"f",(function(){return F})),n.d(t,"i",(function(){return B})),n.d(t,"D",(function(){return G})),n.d(t,"z",(function(){return q})),n.d(t,"F",(function(){return V})),n.d(t,"q",(function(){return H})),n.d(t,"I",(function(){return K}));var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/makeCommentPermalink/index.ts"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/comments.ts"),a=n("./src/reddit/selectors/posts.ts"),d=n("./src/reddit/selectors/subreddit.ts");const u=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.error[n]},l=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.pending[n]},b=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.fullyLoaded[n]},p=(e,t)=>e.commentsPage.keyToHeadCommentId[t.commentsPageKey],m=(e,t)=>{const n=p(e,t);if(n)return I(e,{commentId:n})},f=[],O=Object(i.a)((e,t)=>{const n=m(e,t),r=n&&n.id;if(!r)return f;const{commentsPageKey:s}=t,o=e.commentsPage.keyToCommentThreadLinkSets[s],i=[];let a={id:r,type:c.a.Comment};do{i.push(a),a=o[a.id].next}while(a);return i}),g=(e,t)=>p(e,t)?e.commentsPage.keyToChatCommentLinks[t.commentsPageKey]:[],j=(e,t)=>{let{commentsPageKey:n}=t;const r=e.commentsPage.keyToPostId[n];return r?e.posts.models[r]:null},y=(e,t)=>{let{commentId:n,commentLink:r,commentsPageKey:s}=t;const o=e.commentsPage.keyToCommentThreadLinkSets[s];return o?r?o[r.id]:n?o[n]:null:null},_=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.keyToCommentThreadLinkSets[n]},h=(e,t)=>{const n=t.commentsPageKey?y(e,t):null;return n?n.depth:null},E=(e,t)=>{let{commentLink:n}=t;const{id:r,type:s}=n;switch(s){case c.a.Comment:return e.comments.models[r];case c.a.MoreComments:return e.moreComments.models[r];case c.a.ContinueThread:return e.continueThreads.models[r];default:return null}},I=(e,t)=>{let{commentId:n}=t;return n?e.comments.models[n]:void 0},v=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.collapsed[r]&&e.comments.collapsed[r][n])},S=(e,t)=>{let{commentsPageKey:n}=t;return e.comments.collapsed[n]},T=e=>e.moreComments.models,C=e=>e.comments.models,w=(e,t)=>{let{commentId:n}=t;const r=I(e,{commentId:n});return r?Object(o.a)(Object(a.J)(e,r),n):""},D=(e,t)=>{let{commentId:n}=t;return!!(n&&e.comments.focused&&e.comments.focused[n])},P=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.isEditing[r]&&e.comments.isEditing[r][n])},x=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.replyFormOpen[r]&&e.comments.replyFormOpen[r][n])},R=(e,t)=>{let{moreCommentsId:n}=t;return e.moreComments.models[n]},A=(e,t)=>{let{moreCommentsId:n}=t;return!!e.moreComments.api.pending[n]},N=(e,t)=>{let{commentsPageKey:n}=t;const r=e.commentsPage.keyToPostId[n];if(r){const t=s()(e.moreComments.models).find(t=>t.postId===r&&0===t.depth&&!(void 0!==e.moreComments.api.pending[t.id]));if(t)return{moreCommentId:t.id,pending:!!e.moreComments.api.pending[t.id]}}return null},k=(e,t)=>{let{id:n}=t;return e.continueThreads.models[n]},L=(e,t)=>{let{commentId:n}=t;const r=n?e.comments.models[n]:void 0;if(!r)return null;const s=e.authorFlair.models[r.subredditId];return s?s[r.author]:null},U=(e,t)=>{let{draftKey:n}=t;return!!e.comments.submit.error[n]},M=(e,t)=>{let{draftKey:n}=t;const r=e.comments.submit.error[n];return r&&r.fields?r.fields.map(e=>e.msg):[]},F=(e,t)=>{let{draftKey:n}=t;const r=e.comments.drafts[n];return!!r&&r.autofocusDisabled},B=(e,t)=>{let{draftKey:n}=t;return e.comments.drafts[n]},G=(e,t)=>{let{commentId:n}=t;const r=n?e.comments.submit.error[n]:void 0;return r&&r.fields?r.fields.map(e=>e.msg):void 0},q=(e,t)=>{let{commentId:n}=t;return!!n&&e.comments.submit.pending[n]},V=(e,t)=>{let{commentId:n}=t;return!!n&&e.comments.models[n].sendReplies},H=e=>e.comments.visitHighlightFilter,K=(e,t)=>{const n=I(e,t);if(n)return Object(d.X)(e,n)}},"./src/reddit/selectors/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l}));var r=n("./src/lib/objectSelector/index.ts");const s=e=>e.awards.create.api.pending,o=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.awards.manageable.order[n];return r?r.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),i=(e,t)=>{let{subredditId:n}=t;return e.awards.manageable.api.pending[n]},c=(e,t)=>{let{subredditId:n}=t;return!!e.awards.blacklist[n]},a=(e,t)=>t.reduce((t,n)=>{const r=e.awards.models[n];return r&&t.push(r),t},[]),d=(e,t)=>e.awards.models[t],u=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.awards.usable.order[n];return r?r.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),l=(e,t)=>{let{subredditId:n}=t;return e.awards.usable.api.pending[n]}},"./src/reddit/selectors/communityFlairs.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/reselect/es/index.js");const s=(e,t)=>{const n=e.communityFlairs[t];return n&&n.sortedKeys},o=Object(r.a)(s,e=>e),i=(e,t)=>{const n=e.communityFlairs[t];return n&&n.models},c=Object(r.a)(i,e=>e),a=Object(r.a)((e,t)=>i(e,t),(e,t)=>s(e,t),(e,t)=>{if(t&&e)return t.map(t=>e[t])}),d=(e,t)=>e.communityFlairs.hasOwnProperty(t)},"./src/reddit/selectors/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"j",(function(){return S}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/DiscoveryUnit/index.ts"),a=n("./src/reddit/selectors/category.ts"),d=n("./src/reddit/selectors/experiments/exploreV2.ts"),u=n("./src/reddit/selectors/listings.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/subreddit.ts");const p=[],m=e=>e.discoveryUnits.api.list.loaded,f=e=>e.discoveryUnits.api.list.pending,O=(e,t)=>{let{unitName:n}=t;const r=e.discoveryUnits.nameToId[Object(i.f)(n)];return e.discoveryUnits.models[r]},g=()=>Object(o.a)((e,t)=>{let{listingKey:n}=t;const r=Object(l.M)(e);return Object(l.D)(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.isStickied&&!t.isSponsored})}),j=()=>Object(o.a)((e,t)=>{let n,{categoryName:o,id:i,unitName:c}=t;if(o&&!(n=Object(a.i)(e,{categoryName:o})))return p;const d=i||n&&n.id,u=Object(s.a)(c,r.N.HOT,{category:d});return g()(e,{listingKey:u})}),y=()=>Object(o.a)((e,t)=>{let{listingKey:n,unitName:o,subredditName:i}=t;if(!Object(b.B)(e,{subredditName:i}))return p;const c=n||Object(s.a)(o,r.N.HOT,{subredditName:i});return g()(e,{listingKey:c})}),_=e=>{if(Object(d.a)(e))return O(e,{unitName:c.i})},h=e=>{if(Object(d.a)(e))return O(e,{unitName:c.k})},E=(e,t)=>{let{listingKey:n,shouldLoadMore:r}=t;const s=Object(u.j)(e,{listingKey:n}),o=s?s.token:void 0,i=Object(u.h)(e,{listingKey:n});if(s){if(!r)return;{const t=Object(u.i)(e,{listingKey:n,token:s.token});if(i||t)return}}else{const t=Object(u.f)(e,{listingKey:n});if(i||t)return}return{fetchedToken:o}},I=e=>O(e,{unitName:c.c}),v=new Set(["sequence"]),S=e=>{const t=e.platform.currentPage;if(t){const{meta:e,urlParams:n}=t,r=e&&e.name||"",s=n&&n.subredditName||"",o="subreddit"===r,i=v.has(s.toLowerCase());return o&&i}return!1}},"./src/reddit/selectors/emojis.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return g}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/models/Flair/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=[],u=e=>e.emojis.models,l=Object(o.a)(u,(e,t)=>t.subredditId,(e,t)=>{const n=e[t];return n?[...s()(n.emojis),...s()(n.snoomojis)]:d}),b=Object(o.a)(l,c.f,(e,t)=>t.isFlairModOnly,(e,t)=>t.flairTemplateType,(e,t,n,r)=>e.filter(e=>!(e.modFlairOnly&&!t||e.modFlairOnly&&!n)&&(!(!e.userFlairAllowed&&r===i.d.UserFlair)&&!(!e.postFlairAllowed&&r===i.d.LinkFlair)))),p=Object(o.a)(u,(e,t)=>t.subredditId,(e,t)=>Object.keys(e[t].snoomojis)),m=(e,t)=>Object(a.y)(e,{subredditName:t}).emojisEnabled,f={emojis:{},snoomojis:{}},O=(e,t)=>{let{subredditId:n}=t;return u(e)[n]||f},g=(e,t)=>!!e.emojis.api.list.pending[t]},"./src/reddit/selectors/experiments/categoriesPlacement.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return S}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/once.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./node_modules/reselect/es/index.js"),a=n("./src/lib/constants/index.ts"),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/constants/page.ts"),l=n("./src/reddit/contexts/PageLayer/index.tsx"),b=n("./src/reddit/helpers/chooseVariant/index.ts"),p=n("./src/reddit/selectors/experiments/utils.ts"),m=n("./src/reddit/selectors/meta.ts"),f=n("./src/reddit/selectors/user.ts");const O=Object(c.a)(e=>Object(b.b)(e,{experimentEligibilitySelector:e=>!Object(f.I)(e),experimentName:d.t}),p.a),g=Object(c.a)(f.I,(e,t)=>Object(l.Q)(e,t),(e,t)=>{let{pageLayer:n}=t;return Object(l.B)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(l.O)(n)},(e,t,n,r)=>!e&&(n||r||t===u.h)),j=Object(c.a)((e,t)=>Object(b.b)(e,{experimentEligibilitySelector:e=>g(e,t),experimentName:d.t}),p.a),y=e=>e===d.j.Top||e===d.j.TopBlue,_=e=>e===d.j.Left||e===d.j.LeftBlue,h=e=>e===d.j.TopBlue||e===d.j.LeftBlue,E=new Set(i()(a.v).filter(e=>e!==a.v.Everywhere)),I=Object(c.a)(m.b,e=>!!e&&E.has(e)),v=[{endDate:+new Date(2019,7,9)-1,name:"Summer Fun",subredditNames:["BBQ","Coachella","EDM","Moviesinthemaking","Music","Shoestring","TravelHacks","aves","boxoffice","electricdaisycarnival","electronicmusic","entertainment","flicks","grilling","hiking","indieheads","listentothis","movies","solotravel","trailers"]},{endDate:+new Date(2019,8,16)-1,name:"Premier League",subredditNames:["avfc","chelseafc","coys","crystalpalace","everton","hammers","lcfc","liverpoolfc","mcfc","premierleague","reddevils","saintsfc","soccer"]},{endDate:+new Date(2020,0,1)-1,name:"NFL",subredditNames:[]}].sort((e,t)=>e.endDate-t.endDate),S=s()(()=>{const e=Date.now();return v.find(t=>e<t.endDate)})},"./src/reddit/selectors/experiments/chatPost.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return O}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/contexts/PageLayer/selectors.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/platform.ts"),d=n("./src/reddit/selectors/posts.ts");const u=e=>Object(a.g)(e)&&!(!e.platform.currentPage||!e.platform.currentPage.urlParams.commentId&&!e.platform.currentPage.urlParams.partialCommentId),l=e=>Object(o.b)(e,{experimentName:r.c,experimentEligibilitySelector:o.a})===r.k.Holdout,b=e=>Object(o.b)(e,{experimentName:r.d,experimentEligibilitySelector:o.a})===r.k.Rollout,p=(e,t)=>{let{postId:n}=t;const r=!!n&&Object(d.K)(e,{postId:n});return!!r&&r.discussionType===i.b.Chat},m=(e,t)=>{let{postId:n}=t;const r=p(e,{postId:n}),s=!!n&&!!Object(c.h)(e,{postId:n});return r&&!u(e)&&b(e)&&(!l(e)||s)},f=(e,t)=>{const n=t.subredditId||Object(s.m)(e,t),r=((e,t)=>{const n=!!t&&e.subreddits.models[t];return!(!n||!n.allowChatPostCreation)})(e,n),o=!!n&&Object(c.f)(e,{subredditId:n});return r&&b(e)&&(!l(e)||o)},O=(e,t,n)=>{if(t&&b(e)){if(n&&l(e)||u(e))return;Object(o.c)(e,{experimentName:r.c})}}},"./src/reddit/selectors/experiments/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/user.ts");const d=Object(r.a)(a.J,a.l,a.x,(e,t,n)=>e&&!t&&!n),u=Object(r.a)(e=>Object(o.b)(e,{experimentEligibilitySelector:d,experimentName:s.E}),c.a),l=e=>{if((()=>0===Object(i.i)())())return u(e)},b=e=>e===s.H.Tooltip,p=e=>e===s.H.Banner,m=e=>e===s.H.Footer1||e===s.H.Footer2,f=e=>e===s.H.Footer2,O=e=>e===s.H.Modal},"./src/reddit/selectors/experiments/exploreV2.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>e===r.Db.ExploreOld,i=e=>e===r.Db.ExploreStandardSearchCommunity||e===r.Db.ExploreTrendingDUCommunity||e===r.Db.ExploreTrendingDUCommunityPopular||e===r.Db.ExploreTrendingSearchCommunity,c=e=>e===r.Db.ExploreTrendingDUCommunity||e===r.Db.ExploreTrendingDUCommunityPopular,a=e=>e===r.Db.ExploreTrendingSearchCommunity,d=e=>e===r.Db.ExploreTrendingDUCommunityPopular,u=(e,t)=>{const n=Object(s.b)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:r.yb,expEventOverride:t?t.expEventOverride:void 0});return Object(r.Ub)(n)?void 0:n}},"./src/reddit/selectors/experiments/feedFilters.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>Object(s.b)(e,{experimentName:r.I,experimentEligibilitySelector:s.a}),i=e=>e===r.L.FlairSidebar||e===r.L.FlairTop,c=e=>e===r.L.FlairSidebar,a=e=>e===r.L.FlairTop,d=e=>e===r.L.Sorts||e===r.L.FlairTop||e===r.L.FlairSidebar,u=e=>e===r.L.TopBanner||e===r.L.Sorts||e===r.L.FlairTop||e===r.L.FlairSidebar},"./src/reddit/selectors/experiments/frontpageSignup.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/meta.ts"),d=n("./src/reddit/selectors/user.ts");const u=Object(r.a)(d.Q,(e,t)=>{let{pageLayer:n}=t;return!n||Object(o.B)(n)},a.c,(e,t,n)=>!e&&t&&!n),l=Object(r.a)((e,t)=>Object(i.b)(e,{experimentEligibilitySelector:e=>u(e,t),experimentName:s.u,throttledVariants:{[s.N.CurrentThrottled]:s.u}}),c.a),b=e=>e===s.N.CurrentThrottled,p=e=>e===s.N.CurrentThrottled||e===s.N.CurrentUnthrottled||e===s.N.CurrentUnthrottledCopy||e===s.N.NewPopUnthrottledCopy,m=e=>e===s.N.NewPopUnthrottledCopy,f=e=>e===s.N.NewPageUnthrottledCopy||e===s.N.NewPageUnthrottledCopyFields,O=e=>e===s.N.NewPageUnthrottledCopyFields},"./src/reddit/selectors/experiments/m2mHomeRedirect.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/experiments/utils.ts");const c=Object(r.a)(e=>Object(o.b)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:s.z}),i.a),a=Object(r.a)(c,e=>!!e),d=e=>e===s.X.ListingCapped||e===s.X.ListingInfinite||e===s.X.ListingInfiniteLightbox,u=e=>e===s.X.RightRail||e===s.X.RightRailLightbox,l=e=>e===s.X.ListingInfinite||e===s.X.ListingInfiniteLightbox,b=e=>e===s.X.ListingInfiniteLightbox||e===s.X.RightRailLightbox},"./src/reddit/selectors/experiments/pinnedPosts.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/selectors/posts.ts");const a=Object(r.a)(c.P,e=>e.some(i.j)),d=Object(r.a)(a,e=>e),u=(e,t)=>Object(o.b)(e,{experimentName:s.w,experimentEligibilitySelector:e=>{const{listingKey:n,postIds:r}=t;return n&&!r?d(e,{listingKey:n}):!!r&&((e,t)=>{const{postIds:n,posts:r}=t,s=n&&n.slice(0,2),o=s&&s.map(e=>r&&r[e]);return!(!o||!o.some(i.j))})(0,t)}}),l=e=>e===s.nb.Compact,b=e=>e===s.nb.CompactTimeDelay},"./src/reddit/selectors/experiments/postSeo.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/meta.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(i.i,e=>{return"reddit.com"!==e.split(".").splice(1).join(".")}),d=Object(r.a)(c.J,a,(e,t)=>!e&&t),u=e=>{const t=a(e);return Object(o.b)(e,{experimentName:s.jb,experimentEligibilitySelector:e=>!Object(c.J)(e)&&t})},l=e=>e===s.ub.Truncate,b=e=>e===s.ub.Both,p=e=>{const t=a(e);return Object(o.b)(e,{experimentName:s.gb,experimentEligibilitySelector:()=>t})},m=e=>{const t=a(e);return Object(o.b)(e,{experimentName:s.ib,experimentEligibilitySelector:()=>t})},f=e=>e===s.tb.IdCard,O=e=>e===s.tb.RailSwap},"./src/reddit/selectors/experiments/railsWidgets.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/user.ts");const d=Object(r.a)(a.Q,(e,t)=>Object(o.G)(e,t),(e,t)=>!e&&t),u=Object(r.a)(e=>Object(i.b)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:s.B}),c.a),l=Object(r.a)((e,t)=>Object(i.b)(e,{experimentEligibilitySelector:e=>d(e,t),experimentName:s.B}),c.a),b=e=>e===s.Cb.TopMonth,p=e=>e===s.Cb.Trending,m=e=>e===s.Cb.Geo},"./src/reddit/selectors/experiments/removeOc.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>Object(s.b)(e,{experimentEligibilitySelector:s.a,experimentName:r.Ab})===r.Eb.Treatment},"./src/reddit/selectors/experiments/searchFix.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return g}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/contexts/PageLayer/index.tsx"),c=n("./src/reddit/helpers/chooseVariant/index.ts"),a=n("./src/reddit/selectors/experiments/utils.ts");const d={},u=Object(r.a)(e=>Object(c.b)(e,{experimentEligibilitySelector:c.a,experimentName:o.zb}),a.a),l=e=>e===o.Ib.Active,b=e=>{let{pageLayer:t}=e;return t&&t.locationState||d},p=Object(r.a)((e,t)=>b(t),e=>e.fromPage&&e.fromPage.subredditName),m=Object(r.a)((e,t)=>b(t),e=>e.fromPage&&e.fromPage.routeName),f=e=>{let{pageLayer:t}=e;return t&&t.locationState&&t.locationState.searchSwitcherType},O=Object(r.a)(e=>u(e),m,(e,t)=>{let{pageLayer:n}=t;return Object(i.C)(n)},(e,t,n)=>l(e)&&n&&(t===s.wb.COMMENTS||t===s.wb.SUBREDDIT)),g=Object(r.a)(e=>u(e),(e,t)=>{let{pageLayer:n}=t;return Object(i.N)(n)},(e,t)=>l(e)&&t)},"./src/reddit/selectors/experiments/subredditDifficulty.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/experiments/utils.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(e=>Object(o.b)(e,{experimentEligibilitySelector:e=>Object(c.J)(e),experimentName:s.Gb}),i.a),d=e=>e===s.Kb.Treatment1},"./src/reddit/selectors/experiments/topPosts.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(c.J,(e,t)=>{let{pageLayer:n}=t;return Object(o.B)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(o.M)(n)},(e,t,n)=>!e&&!t&&n),d=Object(r.a)((e,t)=>Object(i.b)(e,{experimentName:s.y,experimentEligibilitySelector:e=>a(e,t)}),e=>e),u=e=>e===s.Qb.NoCommunityWidgets,l=e=>e===s.Qb.NoRulesModerators,b=e=>e===s.Qb.RelatedPostsDu},"./src/reddit/selectors/experiments/utils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/constants/experiments.ts");const s=e=>{if(!Object(r.Ub)(e))return e||void 0}},"./src/reddit/selectors/externalAccount.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n("./src/reddit/models/ExternalAccount/index.ts"),s=n("./src/reddit/models/User/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=(e,t)=>{let{username:n}=t;return!!e.externalAccount.api.user.pending[n]},c=(e,t)=>{let{username:n}=t;return e.externalAccount.user[n]},a=e=>{const t=Object(o.i)(e);if(!t)return;const n=Object(s.f)(t),r=c(e,{username:n});return r?r.twitter:void 0},d=e=>!!e.externalAccount.api.connect.pending[r.a.Twitter],u=(e,t)=>{let{profileName:n}=t;if(!n)return null;const i=c(e,{username:n});if(!i)return null;const a=i[r.a.Twitter];if(!a)return null;const d=Object(o.i)(e);if(!(d&&Object(s.f)(d).toLowerCase()===n.toLowerCase()))return a;const u=Object(o.gb)(e,{userName:n});return u?u.prefShowTwitter?a:null:a}},"./src/reddit/selectors/focusedVerticalSuggestion.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return E}));var r=n("./src/lib/env/index.ts"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/featureFlags/index.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/models/FocusedVerticals/index.ts"),a=n("./src/reddit/selectors/posts.ts");const d=e=>{const t=Object(r.b)()?s.K:s.J;return Object(i.b)(e,{experimentEligibilitySelector:e=>(e=>o.d.focusedVerticalsExperiment(e))(e),experimentName:t})||""},u=e=>{const t=d(e);return t===s.M.PostsFromDifferentCommunities||t===s.M.CommunityDescWithPosts},l=e=>{let t="";const n=e.focusedVerticals.models;if(n){const{interactedSubreddits:e}=n,r=e[0];t=r&&r.prefixedName||""}return t},b=e=>{let t="";const n=e.focusedVerticals.models;if(n){const{interactedSubreddits:e}=n,r=e[0];t=r&&r.id}return t},p=(e,t)=>{let{variantName:n}=t;const r=e.focusedVerticals.components;switch(n){case c.a.CommunityDescWithPosts:return r.isCommunityDescWithPostsDismissed;case c.a.DifferentCommunitiesDesc:return r.isDifferentCommunitiesDescDismissed;case c.a.PostsFromDifferentCommunities:return r.isPostsFromDifferentCommunitiesDismissed;case c.a.PostsFromOneCommunity:return r.isPostsFromOneCommunityDismissed;default:return!1}},m=(e,t)=>{let{numPosts:n}=t;const r=[],s=e.focusedVerticals.models;if(s){const e=s.recommendations,t=e&&e[0];if(t){const e=t.topContent,s=e&&e.posts||[],o=Math.min(s.length,n);for(let t=0;t<o;t++){const e=s[t];r.push(e.id)}}}return r},f=e=>{return m(e,{numPosts:2})},O=e=>{const t=e.focusedVerticals.models;if(t){const e=t.recommendations,n=e&&e[0];if(n)return{subredditId:n.id,subredditName:n.name}}return null},g=e=>{const t=e.focusedVerticals.models,n=[];if(t){const e=t.recommendations||[],r=Math.min(e.length,3);for(let t=0;t<r;t++){const r=e[t];r&&n.push({subredditId:r.id,subredditName:r.name})}}return n},j=e=>{const t=[],n=e.focusedVerticals.models;if(n){const e=n.recommendations;if(e){const n=Math.min(e.length,3);for(let r=0;r<n;r++){const n=e[r].topContent,s=(n&&n.posts||[])[0];s&&t.push(s.id)}}}return t},y=(e,t)=>{let{listingKey:n}=t,r=2;const s=e.listings.postOrder,o=s&&s.ids&&s.ids[n]||[],i=Math.min(o.length,3);let c=Number.POSITIVE_INFINITY;for(let d=0;d<i;d++){const t=o[d],n=Object(a.K)(e,{postId:t});if(n&&n.isSponsored){c=d;break}}return 0===c||c>2?r=2:1===c?r=3:2===c&&(r=4),r},_=e=>!!e.focusedVerticals.models,h=e=>{return e.focusedVerticals.api.pending.focusedVerticalGqlPending},E=e=>{return e.focusedVerticals.api.error.focusedVerticalGqlError}},"./src/reddit/selectors/frontpage.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/constants/index.ts");const s=e=>e.user&&e.user.session&&!e.user.session.unsafeLoggedOut?r.N.BEST:r.N.HOT},"./src/reddit/selectors/gild.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d}));const r=e=>e.gild.gildModalThingId,s=(e,t)=>e.gild.gildModalThingId===t,o=e=>e.gild.isAnonymous,i=e=>e.gild.isIframed,c=e=>e.gild.message,a=e=>e.gild.api.pending,d=e=>e.gild.api.error},"./src/reddit/selectors/goldPurchaseModals.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return a})),n.d(t,"u",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return p})),n.d(t,"r",(function(){return m})),n.d(t,"v",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return v}));const r=e=>e.goldPurchase.coinPurchaseModal.activePage,s=e=>e.goldPurchase.coinPurchaseModal.gildThingId||void 0,o=e=>e.goldPurchase.coinPurchaseModal.showModal,i=e=>e.goldPurchase.coinPurchaseModal.purchasePackage,c=e=>e.goldPurchase.premiumPurchaseModal.activePage,a=e=>e.goldPurchase.premiumPurchaseModal.showModal,d=e=>e.goldPurchase.updateCardModal.pending,u=e=>e.goldPurchase.payment.paymentMethod,l=e=>e.goldPurchase.payment.cardName,b=e=>e.goldPurchase.payment.savedCardsPending,p=e=>e.goldPurchase.payment.savedCards,m=e=>e.goldPurchase.payment.rememberCard,f=e=>e.goldPurchase.payment.useSavedCard,O=e=>e.goldPurchase.payment.cardValidation.cardCvc,g=e=>e.goldPurchase.payment.cardValidation.cardExpiry,j=e=>e.goldPurchase.payment.cardValidation.cardNumber,y=e=>e.goldPurchase.payment.cardValidation.nameOnCard,_=e=>e.goldPurchase.payment.cardValidation.postalCode,h=e=>e.goldPurchase.payment.stripeToken.errorMessage,E=e=>e.goldPurchase.payment.stripeToken.pending,I=e=>e.goldPurchase.payment.paypal.passthrough,v=e=>e.goldPurchase.payment.paypal.errorMessage},"./src/reddit/selectors/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/reddit/models/Image/index.tsx");const s=e=>e.imageUploads,o=(e,t)=>{const n=s(e),o=[];for(const s in n){const e=n[s];e.kind===r.b.TempUploaded&&e.context===t&&o.push(e)}return o}},"./src/reddit/selectors/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return _}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/subreddit/similarSubreddit.ts"),c=n("./src/reddit/constants/inFeedChaining.ts"),a=n("./src/reddit/endpoints/subreddit/similar.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/selectors/discoveryUnit.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/subreddit.ts");const p=[],m=(e,t)=>{const n=e.posts.chained.idToListingKey[t.postId];return t.listingKey===n},f=(e,t)=>{const n=e.posts.chained.dismissedIdToListingKey[t.postId];return(e=>e.posts.chained.dismissed)(e)||t.listingKey===n},O=Object(r.a)(e=>e.posts.chained.idToListingKey,e=>Object.keys(e).filter(t=>e[t])),g=(e,t)=>{let{subredditId:n}=t;return O(e).some(t=>{const r=Object(l.V)(e,{postId:t});return!!r&&r.id===n})},j=(e,t)=>{let{subredditName:n}=t;const r=s.Nb.DAY.toUpperCase(),i=Object(o.a)(n,s.N.TOP,{t:r}),c=Object(l.D)(e,{listingKey:i});if(0===c.length)return;const a=Object(l.K)(e,{postId:c[0]});return a&&!a.hidden?a:void 0},y=(e,t)=>{let{postId:n}=t;const r=((e,t)=>{let{postId:n}=t;const r=Object(l.K)(e,{postId:n});if(!r)return p;const s=Object(i.a)({subredditIds:[r.belongsTo.id],count:c.b,variant:a.a.Factorization});return Object(b.x)(e,{key:s})})(e,{postId:n}),s=[];for(const{name:o}of r){const t=j(e,{subredditName:o});t&&s.push(t.id)}return s},_=(e,t)=>{let{listingName:n}=t;const r=d.b;return Object(u.f)(e,{unitName:r})}},"./src/reddit/selectors/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/reddit/featureFlags/index.ts"),s=n("./src/reddit/selectors/moderatorPermissions.ts");const o=(e,t)=>{let{subredditId:n}=t;if(!r.d.subredditInlineEditing(e))return!1;const o=n?Object(s.i)(e,{subredditId:n}):null;return!!o&&(e=>!!e&&e.config)(o)},i=e=>e.subreddits.api.inlineEditing.pending},"./src/reddit/selectors/layers.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));const r=e=>e.layers.editorBackground,s=e=>e.layers.draft,o=e=>e.layers.layerBox,i=e=>e.layers.startTime},"./src/reddit/selectors/listings.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return m}));var r=n("./src/lib/objectSelector/index.ts");const s=(e,t)=>{let{listingKey:n}=t;return e.listings.postOrder.api.error[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.postOrder.api.pending[n]},i=(e,t)=>e.listings.postOrder.loadMore[t.listingKey],c=(e,t)=>{let{listingKey:n,token:r}=t;return e.listings.postOrder.fetchedTokens[n][r]},a=e=>e.listings.activeKey,d=Object(r.a)((e,t)=>{let{postId:n}=t;const r=a(e);if(!r)return;const s=e.listings.postOrder.ids[r];if(!s)return;const o=e.posts.models,i=u({listings:s,posts:o,postId:n,dir:"next"}),c=u({listings:s,posts:o,postId:n,dir:"prev"}),d=e.posts.models[c];return{nextPost:e.posts.models[i],prevPost:d}}),u=e=>{let{listings:t,posts:n,postId:r,dir:s}=e;const o=t.indexOf(r);if(o<0)return null;let i,c=o;do{i=t[c+="prev"===s?-1:1]}while(n[i]&&n[i].isBlank);return i},l=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},b=(e,t)=>{let{listingKey:n,token:r}=t;return e.listings.listingOrder.fetchedTokens[n][r]},p=(e,t)=>{let{listingKey:n}=t;return!!e.listings.listingOrder.fetchedTokens[n]},m=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]}},"./src/reddit/selectors/meta.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return p}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/getParsedUserAgent/index.ts");const o=e=>"".concat(e.meta.protocol,"://").concat(e.meta.domain),i=e=>e.meta.city,c=e=>e.meta.country,a=e=>e.meta.region,d=e=>e.meta.crawler,u=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.b)(e)),l=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.f)(e)),b=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.d)(e)),p=e=>e.meta&&e.meta.sessionReferrerDomain},"./src/reddit/selectors/moderatorPermissions.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return y}));var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/models/ModeratingSubreddits/index.ts"),c=n("./src/reddit/selectors/posts.ts");const a=e=>!!(e.user&&e.user.account&&e.user.account.isAdmin),d=e=>!!(e.user&&e.user.account&&e.user.account.isMod)||a(e),u=(e,t)=>{if(a(e))return i.b;const n=Object(c.K)(e,t);if(!n)return null;const r=n.belongsTo.id;return e.moderatingSubreddits[r]},l=(e,t)=>a(e)?i.b:e.moderatingSubreddits[t.subredditId],b=e=>(t,n)=>{if(a(t))return!0;const r=l(t,n);return!(!r||!r[e])},p=Object(o.a)((e=>t=>{const n=a(t),r=[];for(const s in t.moderatingSubreddits){const o=t.moderatingSubreddits[s];(n||o&&o[e])&&(t.subreddits.models[s]?r.push(t.subreddits.models[s]):t.profiles.models[s]&&r.push(t.profiles.models[s]))}return r})(i.c.posts)),m=e=>t=>{if(a(t))return!0;for(const n in t.moderatingSubreddits){const r=t.moderatingSubreddits[n];if(r&&r[e])return!0}return!1},f=b(i.c.flair),O=b(i.c.wiki),g=(m(i.c.flair),m(i.c.posts)),j=(e,t)=>{let{subredditId:n}=t;const r=e.moderatingSubreddits[n];return a(e)||!(!r||!s()(r).some(e=>e))},y=(e,t)=>{let{postId:n}=t;const r=u(e,{postId:n});return!!r&&r.posts}},"./src/reddit/selectors/monthsToMinutes.ts":function(e,t,n){"use strict";n.d(t,"w",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"p",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"t",(function(){return I})),n.d(t,"v",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"D",(function(){return R})),n.d(t,"C",(function(){return A})),n.d(t,"j",(function(){return N})),n.d(t,"E",(function(){return k})),n.d(t,"d",(function(){return L})),n.d(t,"g",(function(){return U})),n.d(t,"b",(function(){return M})),n.d(t,"o",(function(){return B})),n.d(t,"F",(function(){return H})),n.d(t,"A",(function(){return K})),n.d(t,"B",(function(){return Y})),n.d(t,"h",(function(){return J})),n.d(t,"i",(function(){return z})),n.d(t,"G",(function(){return Q})),n.d(t,"l",(function(){return X})),n.d(t,"z",(function(){return Z})),n.d(t,"y",(function(){return $})),n.d(t,"x",(function(){return ee})),n.d(t,"m",(function(){return te}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/uniq.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./node_modules/reselect/es/index.js"),a=n("./src/reddit/helpers/name/index.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/models/MonthsToMinutes/index.ts"),l=n("./src/reddit/models/Vote/index.ts"),b=n("./src/reddit/selectors/discoveryUnit.ts"),p=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/subscriptions.ts"),O=n("./src/reddit/selectors/user.ts");const g=e=>Object(p.c)(e),j=e=>e.user.loggedOutData.accountCompleteness.step,y=e=>j(e)===u.a.Initial,_=e=>j(e)===u.a.BannerVisible,h=e=>{return j(e)===u.a.HomeVisited},E=e=>e.user.loggedOutData.accountCompleteness.collapsed,I=e=>e.user.loggedOutData.postsCount,v=e=>e.user.loggedOutData.votes,S=e=>e.user.loggedOutData.views,T=e=>e.user.loggedOutData.homeFeed,C=e=>e.user.loggedOutData.homeFeed.topBanner.isClosed,w=e=>e.user.loggedOutData.homeFeed.topBanner.viewsCount,D=e=>e.user.loggedOutData.feedMultiName,P=e=>{const t=D(e);return t.length?t.join("+"):null},x=(Object(c.a)(e=>e.user.loggedOutData.votes.posts,e=>e.user.loggedOutData.votes.comments,(e,t)=>{return Object.keys(e).filter(t=>0!==e[t]).length+Object.keys(t).filter(e=>0!==t[e]).length}),e=>e&&!e.isDismissed&&e.postId),R=e=>{const t=e.user.loggedOutData.tooltips[u.e.SubscribeFeed];return!Object(f.c)(e)&&x(t)?t.postId:void 0},A=e=>{const t=e.user.loggedOutData.tooltips[u.e.SubscribeReminder];return!Object(f.c)(e)&&x(t)?t.postId:void 0},N=e=>{const t=e.user.loggedOutData.tooltips[u.e.Home];return g(e)&&!1===t.isDismissed&&!h(e)},k=e=>{const t=e.user.loggedOutData.tooltips;return{homeTooltipTime:t[u.e.Home].time,subscribeIdCardTooltipTime:t[u.e.SubscribeIdCard].time,subscribeTooltipTime:t[u.e.SubscribeFeed].time,voteTooltipTime:t[u.e.Vote].time}},L=(Object(c.a)(k,e=>{const t=i()(e).filter(e=>!!e);return t.sort(),t.length>0?t[0]:void 0}),e=>e.user.loggedOutData.dataLoaded),U=(e,t)=>{if(Object(O.J)(e))return!0;if(!g(e))return!1;if(!h(e))return!1;return D(e).length>0},M=e=>{return{collapsed:E(e),step:j(e)}},F=Object(c.a)(e=>e.user.loggedOutData.views.posts,e=>Object.keys(e).filter(t=>e[t]).length),B=e=>{return!!g(e)&&F(e)>=u.d},G=e=>T(e).views,q=Object(c.a)(v,e=>T(e).votes,(e,t)=>{return[...Object.keys(e.comments).filter(t=>e.comments[t]!==l.a.notVoted),...Object.keys(e.posts).filter(t=>e.posts[t]!==l.a.notVoted)].map(e=>t[e]).filter(Boolean)}),V=e=>T(e).similar,H=Object(c.a)(f.f,G,q,(e,t,n)=>{return s()([...e.filter(Boolean).map(e=>{let{name:t}=e;return t}),...n,...t].map(a.f))}),K=Object(c.a)(f.f,H,V,(e,t,n)=>{const r=s()([...t,...n].map(a.f)),o=e.length===u.b?u.b:u.c;return r.slice(0,o)}),W=Object(c.a)(G,f.f,q,V,(e,t,n,r)=>{const o=s()([...e,...t.filter(Boolean).map(e=>{let{name:t}=e;return t}),...n,...r].map(a.f)),i=t.length===u.b?u.b:u.c;return o.slice(0,i)}),Y=e=>{return K(e).reduce((t,n)=>{return t[Object(m.H)(e,n)]=n,t},{})},J=e=>h(e)?D(e):K(e),z=e=>{return J(e).map(t=>Object(m.B)(e,{subredditName:t})).filter(Boolean)},Q=e=>{return W(e).map(t=>Object(m.B)(e,{subredditName:t})).filter(Boolean)},X=e=>{const t=y(e),n=(e=>{const t=B(e),n=K(e);return t&&n.length>=u.c})(e);return t&&n},Z=Object(c.a)(p.c,X,_,(e,t,n)=>!!e&&(t||n)),$=Object(c.a)(Z,p.f,(e,t)=>e&&Object(p.b)(t)),ee=e=>{const t=Z(e)?d.j:d.m;return Object(b.f)(e,{unitName:t})},te=Object(c.a)(g,U,_,h,(e,t,n,r)=>e&&(t||n||r))},"./src/reddit/selectors/multireddit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"k",(function(){return S}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/lodash/sortBy.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/models/Multireddit/index.ts"),d=n("./src/reddit/models/User/index.ts"),u=n("./src/reddit/models/Widgets/index.ts"),l=n("./src/reddit/selectors/profile.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/user.ts");const m=[],f=Object(c.a)((e,t)=>{let{listingName:n}=t;const r=(e=>e.replace(/\++/g,"+").replace(/^\+/,"").replace(/\+$/,""))(n.toLowerCase()).split("+"),s=r.filter(e=>!e.startsWith(i.Pb)).map(t=>Object(b.H)(e,t)).filter(e=>void 0!==e),c=r.filter(e=>e.startsWith(i.Pb)).map(t=>Object(l.m)(e,t.slice(2))).filter(e=>void 0!==e),a=[...s.map(t=>e.subreddits.models[t].name),...c.map(t=>e.profiles.models[t].name)].join(", ");return{displayText:Object(o.c)(Object(p.S)(e),"multireddit.adHocDescription",a.length,{subreddits:a}),profileIds:c,subredditIds:s}}),O=e=>e.multireddits.api.forUser.fetched,g=e=>e.multireddits.api.forUser.pending,j=(e,t)=>{let{multiredditName:n,username:r}=t;if(!r){if(!e.user.account)return null;const{displayText:t}=e.user.account;r=t}const s=Object(a.h)(r,n);return e.multireddits.models[s]},y=Object(c.a)(e=>{const{account:t}=e.user;if(!t)return m;const{id:n}=t,r=e.multireddits.byUserId[n];return r?r.map(t=>e.multireddits.models[t]):m}),_=(e,t)=>{let{multiredditName:n,username:r}=t;if(r){const t=j(e,{multiredditName:n,username:r});return t?"/user/".concat(r,"/m/").concat(t.name):""}const{account:s}=e.user;if(!s)return"";const o=j(e,{multiredditName:n});return o?"/me/m/".concat(o.name):""},h=(e,t)=>{let{multiredditName:n,username:r}=t;if(!r){const{account:t}=e.user;if(!t)return"";r=Object(d.f)(t)}const s=Object(a.h)(r,n),i=e.multireddits.models[s];return i?Object(o.a)(e.user.language,"multireddit.title",{displayText:i.displayText,username:r}):""},E=(e,t)=>e.multireddits.models[t],I=Object(c.a)((e,t)=>{let{subredditIds:n,profileIds:r}=t;const o=[];let i=[...n&&n.reduce((t,n)=>{const r=Object(b.S)(e,{subredditId:n});return r?[...t,r]:(o.push(n),t)},[])||[],...r&&r.map(t=>Object(l.p)(e,{profileId:t}))||[]].map(t=>{const n=Object(u.k)(t);return n.isSubscribed=Object(b.cb)(e,{identifier:{type:n.type,name:n.name}}),n});if(o){const t=o.map(t=>e.subreddits.communityInfo[t]);i.push(...t),i=s()(i,e=>e.name.toLowerCase())}return i}),v=(e,t)=>{const n=Object(p.i)(e),r=Object(a.i)(t);return!!n&&(n.displayText||"").toLowerCase()===r.toLowerCase()},S=Object(c.a)((e,t)=>{let{multireddit:n}=t;return Object(a.f)(n)&&e.multireddits.recommendations[n.url]&&e.multireddits.recommendations[n.url].length?e.multireddits.recommendations[n.url].map(t=>Object(u.j)(e.subreddits.models[t])):[]})},"./src/reddit/selectors/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>t.notificationBannerId===e},"./src/reddit/selectors/oldSiteRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e.oldSiteRules},"./src/reddit/selectors/originalContent.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/app/strings/index.ts"),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/constants/originalContent.ts"),d=n("./src/reddit/selectors/profile.ts"),u=n("./src/reddit/selectors/user.ts");const l=[],b=Object(i.e)("postCreation.modifiers.originalContentCategories.none"),p=Object(i.e)("postCreation.modifiers.originalContentCategories.best"),m=e=>e.originalContent.categories.api.pending,f=e=>e.originalContent.categories.models,O=Object(o.a)(f,e=>s()(e).sort((e,t)=>e.name.localeCompare(t.name))),g=Object(o.a)(O,e=>e.filter(e=>e.submittable)),j=Object(o.a)(O,e=>e.filter(e=>e.discoverable)),y=Object(o.a)(j,e=>e.reduce((e,t)=>(e[t.name]=t,e),{})),_=Object(o.a)(u.S,j,(e,t)=>[{discoverable:!0,name:a.b,displayText:p(e),submittable:!1},...t]),h=Object(o.a)(u.S,g,(e,t)=>[{discoverable:!1,name:a.c,displayText:b(e),submittable:!0},...t]),E=(e,t)=>{let{categoryName:n}=t;return e.users.topOCCreators[n]||l},I=Object(c.a)((e,t)=>{let{userNames:n}=t;return n.map(t=>{return{user:Object(u.gb)(e,{userName:t}),profile:Object(d.j)(e,{profileName:t})}})}),v=(e,t)=>{let{categoryName:n}=t;return e.posts.bestOCPosts[n]||l},S=(e,t)=>{let{categoryName:n}=t;return e.originalContent.bestPosts.api.pending[n]}},"./src/reddit/selectors/platform.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"r",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"o",(function(){return v}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/Post/index.ts"),o=(n("./src/reddit/selectors/multireddit.ts"),n("./src/reddit/selectors/subreddit.ts"));const i=e=>e.platform.currentPage,c=e=>e.platform.lastPage,a=e=>{if(!e.platform.currentPage||!e.platform.currentPage.routeMatch)return null;const{route:t}=e.platform.currentPage.routeMatch;return t.meta.name},d=e=>e.platform.currentPage&&e.platform.currentPage.routeMatch&&e.platform.currentPage.routeMatch.route.chunk===r.o.FRONTPAGE,u=e=>e.platform.currentPage&&e.platform.currentPage.routeMatch&&[r.o.FRONTPAGE,r.o.MULTIREDDIT,r.o.SUBREDDIT].includes(e.platform.currentPage.routeMatch.route.chunk),l=e=>!!(e.platform.lastPage&&e.platform.lastPage.locationState&&e.platform.lastPage.locationState.isOverlay),b=e=>!!(e.platform.currentPage&&e.platform.currentPage.locationState&&e.platform.currentPage.locationState.isOverlay),p=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==r.wb.COMMENTS&&e.platform.currentPage.meta.name!==r.wb.DUPLICATES),m=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==r.wb.POST_CREATION),f=e=>!!(e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name===r.wb.COMMENTS&&e.platform.currentPage.urlParams&&e.platform.currentPage.urlParams.routePrefix&&"user"===e.platform.currentPage.urlParams.routePrefix),O=e=>e.platform&&e.platform.currentPage&&e.platform.currentPage.status,g=e=>e.platform&&e.platform.currentPage&&e.platform.currentPage.queryParams,j=e=>{const t=y(e);return t?Object(o.H)(e,t):null},y=e=>{const t=e.platform.currentPage&&e.platform.currentPage.urlParams;return t?t.subredditName:null},_=e=>{const t=y(e);return t?Object(o.B)(e,{subredditName:t}):null},h=(e,t)=>{let{page:n}=t;const r=n&&n.routeMatch;if(!r)return;const{partialPostId:o}=r.match.params;return e.posts.models[Object(s.l)(o)]},E=e=>e.platform.allowNavigationCallback,I=e=>e.platform.currentPage?e.platform.currentPage.url:"",v=e=>{const t=e.platform.currentPage;if(t&&t.routeMatch){const{params:e}=t.routeMatch.match;if(e&&e.partialPostId)return Object(s.l)(e.partialPostId)}return""}},"./src/reddit/selectors/postCollection.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return h})),n.d(t,"q",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"m",(function(){return w})),n.d(t,"v",(function(){return D})),n.d(t,"u",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"c",(function(){return R})),n.d(t,"l",(function(){return A})),n.d(t,"h",(function(){return N})),n.d(t,"j",(function(){return k})),n.d(t,"f",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"t",(function(){return F})),n.d(t,"e",(function(){return B}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/eventTools/index.ts"),o=n("./src/reddit/constants/postCollection.ts"),i=n("./src/reddit/featureFlags/profileCollections.ts"),c=n("./src/reddit/helpers/media/index.ts"),a=n("./src/reddit/models/Media/index.ts"),d=n("./src/reddit/models/PostCollection/index.ts"),u=n("./src/reddit/models/Subreddit/index.ts"),l=n("./src/reddit/selectors/moderatorPermissions.ts"),b=n("./src/reddit/selectors/posts.ts"),p=n("./src/reddit/selectors/structuredStyles.ts"),m=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/selectors/profile.ts");const g=[],j=(e,t)=>{let{postId:n}=t;const r=Object(b.K)(e,{postId:n});let o=!1;if(r&&r.eventInfo){const{eventStart:e,eventEnd:t,eventIsLive:n}=r.eventInfo;if(!n){o=Object(s.e)(e,t)===s.a.Future}}return o},y=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r||!r.id)return"";const s=Object(m.b)(e,r.subredditId);return s&&n?"".concat(s,"submit?collection=").concat(n):""},_=(e,t,n)=>{if(n&&!Object(i.a)(e))return!1;if(!(n?Object(f.M)(e,t):Object(l.f)(e,{subredditId:Object(m.H)(e,t)})))return!1;const r=n?Object(m.s)(e,t):Object(m.y)(e,{subredditName:t});return!(!r||!r.collectionsEnabled)},h=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r)return!1;const s=Object(m.S)(e,{subredditId:r.subredditId})||Object(O.p)(e,{profileId:r.subredditId});return _(e,s.name,s.type===u.b.User)},E=(e,t)=>{let{collectionId:n}=t;return e.postCollection.models[n]},I=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n],{collectionIds:s}=r,o=s?s[0]:null;return o&&e.postCollection.models[o]||null},v=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n],{collectionIds:s}=r;return!!(s?s[0]:null)},S=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});return r?r.primaryPostId:null},T=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r)return null;const s=r.postIds||[];return Object(b.N)(e,{postIds:s})},C=(e,t)=>{let{subredditId:n}=t;return e.postCollection.subredditToIds[n]},w=(e,t)=>{let{subredditId:n}=t;const r=C(e,{subredditId:n});return!(!r||!r.length)},D=Object(r.a)(C,e=>e.postCollection.models,(e,t)=>e?e.map(e=>t[e]).filter(Boolean):g),P=(e,t)=>{const n=C(e,t);return n?n.length:0},x=e=>e.creations.api.collection.createOrUpdate.pending,R=e=>e.creations.api.collection.createOrUpdate.error,A=e=>e.postCollection.api.pending.reorderPending,N=e=>e.postCollection.api.pending.updateDescriptionPending,k=e=>e.postCollection.api.pending.updateLayoutPending,L=e=>e&&e.displayLayout||d.a.TIMELINE,U=(e,t)=>{let{collectionId:n}=t;return L(e.postCollection.models[n])},M=(e,t)=>{let{postId:n}=t;return L(I(e,{postId:n}))},F=(e,t)=>{let{collectionId:n}=t;return!(!((e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r||!r.id)return;const s=r.subredditId,o=Object(p.l)(e,{subredditId:s});return o&&!!o.postPlaceholderImage})(e,{collectionId:n})&&!((e,t)=>{let{collectionId:n}=t;const r=T(e,{collectionId:n});if(!r||!Object.keys(r).length)return;let s=0;for(const o in r){const e=r[o];e&&e.thumbnail.width&&e.thumbnail.height&&(s+=1)}return s>=Object.keys(r).length-s})(e,{collectionId:n}))},B=(e,t)=>{let{postId:n}=t;const r=Object(b.K)(e,{postId:n});let s=null;return r&&(r.media&&r.media.type!==a.n.GIFVIDEO&&(s=Object(c.e)(r,2*o.b,2*o.a)||Object(c.e)(r,o.b,o.a)),!s&&r.thumbnail&&r.thumbnail.width&&r.thumbnail.height&&(s=r.thumbnail,(r.isNSFW||r.isSpoiler)&&(s=(e=>{if(!e||e.type===a.n.RTJSON||e.type===a.n.TEXT)return null;const t=e.obfuscated;return t?{url:t,width:e.width,height:e.height}:null})(r.media)))),s}},"./src/reddit/selectors/postCreations.ts":function(e,t,n){"use strict";n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return P})),n.d(t,"n",(function(){return A})),n.d(t,"B",(function(){return N})),n.d(t,"S",(function(){return k})),n.d(t,"db",(function(){return L})),n.d(t,"K",(function(){return U})),n.d(t,"M",(function(){return M})),n.d(t,"g",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"bb",(function(){return G})),n.d(t,"d",(function(){return q})),n.d(t,"a",(function(){return V})),n.d(t,"C",(function(){return H})),n.d(t,"R",(function(){return K})),n.d(t,"j",(function(){return W})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return J})),n.d(t,"k",(function(){return z})),n.d(t,"l",(function(){return Q})),n.d(t,"A",(function(){return X})),n.d(t,"D",(function(){return Z})),n.d(t,"G",(function(){return $})),n.d(t,"E",(function(){return ee})),n.d(t,"Q",(function(){return te})),n.d(t,"o",(function(){return ne})),n.d(t,"q",(function(){return re})),n.d(t,"m",(function(){return se})),n.d(t,"O",(function(){return oe})),n.d(t,"P",(function(){return ie})),n.d(t,"fb",(function(){return ce})),n.d(t,"Y",(function(){return ae})),n.d(t,"F",(function(){return de})),n.d(t,"z",(function(){return ue})),n.d(t,"cb",(function(){return le})),n.d(t,"eb",(function(){return be})),n.d(t,"W",(function(){return pe})),n.d(t,"Z",(function(){return me})),n.d(t,"H",(function(){return fe})),n.d(t,"I",(function(){return Oe})),n.d(t,"J",(function(){return ge})),n.d(t,"X",(function(){return je})),n.d(t,"N",(function(){return ye})),n.d(t,"y",(function(){return _e})),n.d(t,"x",(function(){return he})),n.d(t,"u",(function(){return Ee})),n.d(t,"v",(function(){return Ie})),n.d(t,"t",(function(){return ve})),n.d(t,"w",(function(){return Se})),n.d(t,"L",(function(){return Te})),n.d(t,"p",(function(){return Ce})),n.d(t,"b",(function(){return we})),n.d(t,"U",(function(){return De})),n.d(t,"ab",(function(){return Pe})),n.d(t,"e",(function(){return xe})),n.d(t,"T",(function(){return Re})),n.d(t,"V",(function(){return Ae})),n.d(t,"c",(function(){return Ne}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/lib/makePostCreationPageKey/index.ts"),a=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),d=n("./src/reddit/constants/originalContent.ts"),u=n("./src/reddit/constants/posts.ts"),l=n("./src/reddit/contexts/PageLayer/index.tsx"),b=n("./src/reddit/contexts/PageLayer/selectors.ts"),p=n("./src/reddit/featureFlags/profileCollections.ts"),m=n("./src/reddit/helpers/getSubredditUrl/index.ts"),f=n("./src/reddit/helpers/media/index.ts"),O=n("./src/reddit/helpers/name/index.ts"),g=n("./src/reddit/helpers/path/index.ts"),j=n("./src/reddit/models/OcSubreddits/index.ts"),y=n("./src/reddit/models/PostCreationForm/index.ts"),_=(n("./src/reddit/models/Subreddit/index.ts"),n("./src/reddit/models/Upload/index.ts")),h=n("./src/reddit/routes/postCreation/constants.ts"),E=n("./src/reddit/selectors/listings.ts"),I=n("./src/reddit/selectors/platform.ts"),v=n("./src/reddit/selectors/postFlair.ts"),S=n("./src/reddit/selectors/posts.ts"),T=(n("./src/reddit/selectors/runTimeEnvVars.ts"),n("./src/reddit/selectors/subreddit.ts")),C=n("./src/reddit/selectors/subredditAutocomplete.ts"),w=n("./src/reddit/selectors/user.ts");const D=e=>{const{api:t}=e.creations,{apiError:n,pollError:r,validationError:s}=t.post.submit.error;return!!(n||s||t.editor.mediaUpload.error||r)},P=e=>{const{submitValidationError:t}=e.creations.api.post.submit.error;return!!t},x=e=>(e&&e.fields||[]).map(e=>e.msg),R=e=>e&&"extra"in e?Object.keys(e.extra).map(t=>e.extra[t]):[],A=Object(r.a)(e=>e.creations.api.post.submit.error,e=>e.creations.api.editor.mediaUpload.error,(e,t)=>{const{apiError:n,validationError:r,pollError:s}=e;return[...x(n),...x(r),...x(t),...R(s)]}),N=(e,t)=>{let{pageLayer:n}=t;if(!n||!Object(l.H)(n))return!1;const{subredditName:r,profileName:s}=n.urlParams,o=Object(c.a)({subredditName:r,profileName:s});return!!e.creations.api.page.pending[o]},k=e=>L(e)||U(e),L=e=>e.creations.api.post.submit.pending,U=e=>e.creations.api.editor.mediaUpload.pending,M=e=>e.creations.api.post.submit.error.needsCaptcha,F=Object(r.a)(w.i,I.f,e=>{const t=Object(I.e)(e);if(t){const n=Object(C.e)(e,{substring:t});if(n)return n.subreddits.find(e=>Object(O.a)(e.name,t))}},e=>{const t=Object(I.f)(e);return t&&Object(T.A)(e,{subredditName:t.name})},e=>e.platform.currentPage,(e,t,n,r,s)=>{const{profileName:o="",subredditName:i=""}=s&&s.urlParams||{};if(o)return{isProfile:!0,name:e&&e.username||Object(O.f)(o),id:e&&e.id||void 0};{const{name:e=Object(O.f)(i),id:s=""}=t||n||{};return{isProfile:!1,allowedPostTypes:r,id:s||void 0,name:e}}}),B=e=>{const t=F(e);return t.name?t.isProfile?Object(p.a)(e)?Object(T.s)(e,t.name):null:Object(T.y)(e,{subredditName:t.name}):null},G=e=>e.creations.formData.submissionType,q=e=>{const t=F(e),n=Object(I.f)(e),r=G(e),s=!!n&&n.isNSFW;if(r===o.Eb.MEDIA&&s)return!1;if(t.isProfile)return Object(w.M)(e,t.name);if(!t.id)return!1;const i=e.moderatingSubreddits[t.id];return!!i&&(e=>Object.keys(e).some(t=>!0===e[t]))(i)},V=Object(r.a)(G,I.f,F,q,(e,t,n,r)=>{if(e===o.Eb.POLL)return e;const{allowedPostTypes:s}=n,i=!!t&&t.isNSFW;if(r&&(!i||e!==o.Eb.MEDIA)||!s)return e;const c=[s.text&&o.Eb.POST,(s.images||s.videos)&&!i&&o.Eb.MEDIA,s.links&&o.Eb.LINK_ONLY,o.Eb.CROSSPOST].filter(Boolean);return c.indexOf(e)>=0?e:c[0]}),H=(e,t)=>{let{postId:n}=t;return e.creations.postEditing.postId===n},K=e=>e.creations.api.post.update.pending,W=e=>!!e.creations.api.post.update.error,Y=e=>e.creations.postEditing.editorMode,J=Object(r.a)(e=>e.creations.api.post.update.error,e=>x(e).join()),z=e=>e.creations.postEditing.draft.markdown,Q=e=>e.creations.postEditing.draft.rte,X=e=>e.creations.formData.isChatPost,Z=e=>e.creations.formData.isNSFW,$=e=>e.creations.formData.isSpoiler,ee=e=>{const{isOC:t}=e.creations.formData,n=B(e);if(n){if(!Object(j.b)(n))return!1;if(n.allOriginalContent)return!0}return t},te=e=>e.creations.formData.ocCategory,ne=e=>e.creations.formData.eventSchedule||void 0,re=Object(r.a)(e=>e.creations.formData.flair,e=>{const t=Object(I.d)(e);return t?Object(v.e)(e,{subredditId:t}):null},(e,t)=>e&&e.templateId&&t&&t.templateIds.includes(e.templateId)?e:null),se=e=>e.user.prefs.editorMode,oe=e=>e.creations.formState.ocCategory||"",ie=(e,t)=>{let{category:n}=t;return!!n&&Object(E.h)(e,{listingKey:Object(i.a)(d.d,"",{category:n})})},ce=e=>e.creations.formData.title,ae=e=>e.creations.formData.sendReplies,de=e=>e.creations.formData.isPublicLink,ue=e=>e.creations.formState.isChanged,le=e=>e.creations.formState.submitMode,be=e=>e.creations.api.subreddit.change.pending,pe=e=>{const{name:t}=F(e);return e.subredditSettings.requirementsBySubreddit[t.toLowerCase()]},me=Object(r.a)(q,pe,(e,t)=>e||!t||"notAllowed"!==t.ruleBodyRequirement),fe=e=>e.creations.formData.body.link,Oe=e=>e.creations.formData.body.markdown,ge=Object(r.a)(e=>e.creations.formData.body.media,e=>e.uploads[y.m],F,w.S,(e,t,n,r)=>{if(!t)return;const o=Object(f.f)(t.metadata.mimetype),{allowedPostTypes:i}=n;let c,{isMakeGif:a=!1}=e&&e.video||{};if(i){const e=n.name;i.images?i.videos||(c=Object(s.a)(r,"postCreation.mediaInput.makeGif.fixedToOnReason",{subredditName:e}),a=!0):(c=Object(s.a)(r,"postCreation.mediaInput.makeGif.fixedToOffReason",{subredditName:e}),a=!1)}return{file:t.file,status:t.status,url:t.url,websocketUrl:t.websocketUrl,mediaType:o||void 0,video:"video"===o?Object.assign({thumbnail:{time:0,url:t.metadata.videoFirstFrameUrl}},e&&e.video||{},{duration:t.metadata.videoDuration||0,isMakeGif:a,makeGifDisableReason:c}):void 0}}),je=e=>e.creations.formData.body.rte,ye=e=>e.creations.formData.nextSubreddit,_e=e=>{return!!ce(e).trim()},he=e=>{const t=je(e);return a.a.hasContent(t)},Ee=e=>{return!!Oe(e).trim()},Ie=e=>{const t=ge(e);return!!t&&!!t.file&&t.status!==_.a.FAILED},ve=e=>{return!!fe(e).trim()},Se=e=>_e(e)||he(e)||Ee(e)||Ie(e)||ve(e),Te=e=>e.creations.formState.modalId||e.activeModalId,Ce=(e,t)=>{let{field:n}=t;switch(n){case o.jb.TITLE:return{title:ce(e)};case o.jb.BODY:if(se(e)===y.h.RICH_TEXT){const t=je(e);return{rtjson:a.a.toRichTextJSON(t,e.uploads).document}}return{selftext:Oe(e).trim()};case o.jb.LINK:{const t=fe(e);if(!t)return;return{url:t}}case o.jb.FLAIR:{const t=re(e);return{flairId:t?t.templateId:void 0}}default:return}},we=(e,t)=>{const n=F(e),r=re(e),s=X(e),o=Z(e),i=ee(e),c=$(e),a=te(e),d=ae(e),u=ce(e),l=de(e);return{collectionId:e.platform.currentPage.queryParams.collection,destSubreddit:n,draftId:t,flair:r,isChatPost:s,isNSFW:o,isOC:i,isSpoiler:c,ocCategory:a,sendReplies:d,title:u,isPublicLink:l}},De=(e,t)=>{const n=we(e,t.draftId);if(!n||!n.destSubreddit.name)return;const r=(e=>e.creations.formData.recaptcha)(e),s=Ae(e,t),i=ne(e),c=Object.assign({},n,{eventSchedule:i,gRecaptchaResponse:r,postToTwitter:s,validate_on_submit:!0}),d=se(e),u=fe(e),l=Oe(e),b=ge(e),p=je(e),m=me(e),f=V(e),{uploads:O}=e,{sourcePostId:g}=t;if(f===o.Eb.LINK_ONLY&&u)return Object.assign({},c,{url:u,kind:y.o.LINK});if(f===o.Eb.MEDIA&&b){const{mediaType:e="image",video:t}=b,n=O[y.n],r="video"===e?n.url:null;return Object.assign({},c,{mediaType:e,videoThumbnailUrl:r,kind:y.o.MEDIA,url:b.url||"",makeGif:!!t&&t.isMakeGif})}if((f===o.Eb.POST||f===o.Eb.POLL)&&d===y.h.MARKDOWN)return Object.assign({},c,{kind:y.o.MARKDOWN,markdown:m?l:""});if((f===o.Eb.POST||f===o.Eb.POLL)&&d===y.h.RICH_TEXT){const e=m&&a.a.hasContent(p)?a.a.toRichTextJSON(p,O).document:[];return Object.assign({},c,{kind:y.o.RICH_TEXT,document:e})}return f===o.Eb.CROSSPOST&&g?Object.assign({},c,{kind:y.o.CROSSPOST,sourcePostId:g}):void 0},Pe=(e,t)=>{let{sourcePostId:n}=t;return n?Object(S.e)(e,{postId:n}):void 0},xe=e=>{const t=ge(e);switch(V(e)){case o.Eb.LINK_ONLY:return"link";case o.Eb.MEDIA:return t&&"image"!==t.mediaType&&t.video?t.video.isMakeGif?"videogif":"video":"image";default:return"self"}},Re=(e,t)=>{let{pageLayer:n}=t;if(!n)return h.c;const r=Object(l.r)(e,{pageLayer:n});if(r)return Object(g.a)(Object(m.a)(r),h.c);if(Object(l.E)(n))return Object(g.a)("/original/",h.c);const s=Object(l.k)(e,{pageLayer:n});return s&&Object(l.F)(e,{pageLayer:n})&&Object(w.g)(e)?Object(g.a)(s.url,h.c):h.c},Ae=(e,t)=>{const n=Object(b.o)(e,t);return(!n||!n.isQuarantined)&&e.creations.formData.postToTwitter},Ne=e=>{const t=F(e);if(!t.id||t.isProfile)return!1;const n={id:t.id,type:u.a.SUBREDDIT};return Object(v.b)(e,n,!0,!0)}},"./src/reddit/selectors/postDraft.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return I}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/config.ts"),s=n("./node_modules/lodash/values.js"),o=n.n(s),i=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/constants/index.ts"),a=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/models/PostDraft/index.ts"),l=n("./src/reddit/selectors/postCreations.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/user.ts");const m=Object(i.a)(e=>e.creations.drafts,e=>o()(e).sort((e,t)=>{const n=e.modified||e.created;return(t.modified||t.created)-n})),f=(e,t)=>{let{draftId:n}=t;return n?e.creations.drafts[n]:null},O=(e,t)=>{const n=f(e,t);if(n&&n.subredditId){const t=Object(b.S)(e,{subredditId:n.subredditId});return t?t.name:void 0}},g=e=>e.creations.api.draft.listing.pending,j=e=>{const{api:t}=e.creations,{apiError:n,validationError:r}=t.draft.save.error;return!(!n&&!r)},y=e=>(e&&e.fields||[]).map(e=>e.msg),_=(Object(i.a)(e=>e.creations.api.draft.save.error,e=>{const{apiError:t,validationError:n}=e;return[...y(t),...y(n)]}),e=>e.creations.api.draft.save.pending),h=(e,t)=>e.creations.api.draft.deleteDraft.pending[t]||!1,E=(e,t)=>{const n=Object(l.b)(e,t);if(!n)return;const r=Object(l.m)(e),s=Object(l.H)(e),o=Object(l.I)(e),i=Object(l.X)(e),b=Object(l.Z)(e),p=Object(l.a)(e),{uploads:m}=e;if(p===c.Eb.LINK_ONLY)return Object.assign({},n,{body:s,kind:u.b.Link});if(p===c.Eb.POST&&r===d.h.MARKDOWN)return Object.assign({},n,{body:b?o:"",kind:u.b.Markdown});if(p===c.Eb.POST&&r===d.h.RICH_TEXT){const e=b?a.a.toRichTextJSON(i,m).document:[];return Object.assign({},n,{body:e,kind:u.b.RichText})}},I=(e,t)=>{let{draftId:n}=t;const s=Object(p.i)(e);return n&&s?"".concat(r.a.redditUrl,"/user/").concat(s.displayText,"/draft/").concat(n):""}},"./src/reddit/selectors/postFlair.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/helpers/flair.ts"),i=n("./src/reddit/models/Flair/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/posts.ts"),d=n("./src/reddit/selectors/user.ts");const u=(e,t)=>{let{subredditId:n}=t;return e.postFlair[n]},l=(e,t)=>{let{post:n}=t;return e.postFlair[n.belongsTo.id]},b=(e,t)=>{let{subredditId:n}=t;return!e.postFlair[n]||e.postFlair[n].displaySettings.isEnabled},p=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=u(e,{subredditId:n});if(r)return{type:i.d.LinkFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),m=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.type===s.a.PROFILE)return!1;const o=t.id,i=b(e,{subredditId:o});if(!i)return!1;const a=u(e,{subredditId:o});if(!a)return!1;if(r){if(!!!(a.templateIds&&a.templateIds.length>0))return!1}const d=Object(c.d)(e,{subredditId:o});if(d)return!0;const{canAssignOwn:l}=a.permissions;return l&&n},f=(e,t)=>{let{postId:n}=t;const r=Object(a.K)(e,{postId:n});if(!r)return!1;const s=r.flair.some(e=>Object(o.p)(e.type)),i=Object(d.ib)(e,{post:r});return m(e,r.belongsTo,i,!s)}},"./src/reddit/selectors/posts.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return E})),n.d(t,"k",(function(){return I})),n.d(t,"D",(function(){return v})),n.d(t,"P",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"K",(function(){return w})),n.d(t,"F",(function(){return D})),n.d(t,"E",(function(){return P})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return R})),n.d(t,"M",(function(){return A})),n.d(t,"I",(function(){return N})),n.d(t,"N",(function(){return k})),n.d(t,"O",(function(){return L})),n.d(t,"U",(function(){return M})),n.d(t,"V",(function(){return F})),n.d(t,"b",(function(){return B})),n.d(t,"d",(function(){return G})),n.d(t,"i",(function(){return q})),n.d(t,"n",(function(){return V})),n.d(t,"B",(function(){return H})),n.d(t,"H",(function(){return K})),n.d(t,"J",(function(){return W})),n.d(t,"z",(function(){return Y})),n.d(t,"S",(function(){return J})),n.d(t,"L",(function(){return Q})),n.d(t,"A",(function(){return X})),n.d(t,"t",(function(){return Z})),n.d(t,"l",(function(){return $})),n.d(t,"v",(function(){return ee})),n.d(t,"T",(function(){return te})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return re})),n.d(t,"u",(function(){return se})),n.d(t,"s",(function(){return oe})),n.d(t,"m",(function(){return ie})),n.d(t,"r",(function(){return ce})),n.d(t,"q",(function(){return ae})),n.d(t,"R",(function(){return de})),n.d(t,"a",(function(){return ue})),n.d(t,"C",(function(){return le})),n.d(t,"Q",(function(){return be})),n.d(t,"j",(function(){return pe})),n.d(t,"W",(function(){return me})),n.d(t,"G",(function(){return fe})),n.d(t,"g",(function(){return Oe})),n.d(t,"y",(function(){return je})),n.d(t,"w",(function(){return _e})),n.d(t,"x",(function(){return he}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),c=n("./node_modules/lodash/uniqBy.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/lib/isPinnedAdminPost/index.ts"),l=n("./src/lib/objectSelector/index.ts"),b=n("./src/reddit/constants/posts.ts"),p=n("./src/reddit/models/Media/index.ts"),m=n("./src/reddit/models/Subreddit/index.ts"),f=n("./src/reddit/models/Widgets/index.ts"),O=(n("./src/reddit/models/Profile/mock.ts"),n("./src/reddit/models/Subreddit/mock.ts"),n("./src/reddit/helpers/flair.ts")),g=n("./src/reddit/models/Flair/index.ts"),j=n("./src/reddit/selectors/profile.ts"),y=n("./src/reddit/selectors/subreddit.ts"),_=n("./src/reddit/selectors/user.ts");const h=[],E=(e,t)=>{let{postId:n}=t;return e.posts.models[n].media&&(e.posts.models[n].media.type===p.n.EMBED||e.posts.models[n].media.type===p.n.IMAGE)},I=(e,t)=>{let{postId:n}=t;return e.posts.models[n].media&&e.posts.models[n].media.type===p.n.GIFVIDEO},v=Object(l.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return S(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.hidden})}),S=Object(l.a)((e,t)=>{let{listingKey:n}=t;return[...e.listings.postOrder.ids[n]||[]]}),T=Object(l.a)((e,t)=>{let{listingKey:n}=t;return v(e,{listingKey:n}).map(t=>e.posts.models[t])}),C=(e,t)=>{let{postId:n}=t;return!!e.shortcuts.activePostId&&n===e.shortcuts.activePostId},w=(e,t)=>{let{postId:n}=t;return e.posts.models[n]},D=(e,t)=>{let{postId:n}=t;return w(e,{postId:n}).isLocked},P=(e,t)=>{let{postId:n}=t;return w(e,{postId:n}).isArchived},x=(e,t)=>{let{postId:n}=t;const r=w(e,{postId:n});if(r&&r.crosspostRootId)return w(e,{postId:r.crosspostRootId})||void 0},R=(e,t)=>{let{postId:n}=t;return x(e,{postId:n})||w(e,{postId:n})||void 0},A=e=>e.posts.models,N=e=>e.posts.models,k=Object(l.a)((e,t)=>{let{postIds:n}=t;const r=e.posts.models,s={};return n.map(e=>{s[e]=r[e]}),s}),L=Object(d.a)(N,(e,t)=>t.postIds,(e,t)=>t.length?t.map(t=>e[t]):h),U=Object(d.a)(N,v,(e,t)=>t.limit,(e,t,n)=>{let r=t;return n&&(r=t.slice(0,n)),r.reduce((t,n)=>(t[n]=e[n],t),{})}),M=Object(l.a)((e,t)=>{const n=U(e,t),r={},s=e.posts.models;return Object.keys(n).forEach(e=>{const{crosspostRootId:t}=n[e];t&&(r[t]=s[t])}),Object.assign({},n,r)}),F=(e,t)=>{let{postId:n}=t;const r=w(e,{postId:n});if(!r)return;const{belongsTo:s}=r;return s.type===b.a.PROFILE?e.profiles.models[s.id]||!1:e.subreddits.models[s.id]||!1},B=(e,t)=>{let{postId:n}=t;const r=F(e,{postId:n});if(r)return Object(m.c)(r)?Object(f.i)(r):Object(f.j)(r)},G=(e,t)=>{let{postId:n}=t;const r=w(e,{postId:n});return r&&r.crosspostRootId?F(e,{postId:r.crosspostRootId}):null},q=(e,t)=>{let{postId:n}=t;return e.posts.expanded[n]},V=(e,t)=>{let{postId:n}=t;return!!e.posts.metaMap[n]},H=(e,t)=>{let{postId:n}=t;const r=w(e,{postId:n});return r&&r.contestMode},K=(e,t)=>{let{postId:n}=t;if(!n)return"";const r=w(e,{postId:n});return r&&r.liveCommentsWebsocket?r.liveCommentsWebsocket:""},W=(e,t)=>{let{postId:n}=t;if(!n)return"";const r=w(e,{postId:n});return r?r.permalink:""},Y=(e,t)=>{let{postId:n}=t;if(!n)return 0;return w(e,{postId:n}).numDuplicates||0},J=Object(l.a)(e=>{return e.posts.recent.map(t=>e.posts.models[t]).filter(e=>!!e)}),z=e=>(t,n)=>{let{postId:r}=n;if(!r)return!1;const s=w(t,{postId:r});return!!s&&!!s[e]},Q=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=w(e,{postId:n});return r&&r.belongsTo.type!==b.a.PROFILE?Object(y.J)(e,{identifier:r.belongsTo}):null},X=(e,t)=>t.postCategories,Z=z("saved"),$=z("hidden"),ee=z("isSponsored"),te=z("sendReplies"),ne=z("isNSFW"),re=z("isOriginalContent"),se=z("isSpoiler"),oe=(e,t)=>{let{postId:n}=t;const r=w(e,{postId:n}),s=Object(j.m)(e,r.author),o=e.profiles.pinnedPosts.data[s];return!!o&&o.includes(n)},ie=(e,t,n)=>{const r=Object(j.m)(e,n),s=e.profiles.pinnedPosts.initialData[r];return!!s&&s.includes(t)},ce=(e,t,n)=>{const r=Object(j.m)(e,n),s=e.profiles.pinnedPosts.data[r];return!!s&&s.includes(t)},ae=(e,t)=>oe(e,t)!==((e,t)=>{let{postId:n}=t;const r=w(e,{postId:n}),s=Object(j.m)(e,r.author),o=e.profiles.pinnedPosts.pending[s];return!!o&&o.includes(n)})(e,t),de=Object(l.a)((e,t)=>{const n=Object(j.m)(e,t.profileName);return e.profiles.pinnedPosts.data[n]||[]}),ue=(e,t)=>{const n=Object(j.m)(e,t.profileName);return!!e.profiles.pinnedPosts.data[n]},le=(e,t)=>{const n=w(e,{postId:t}),r=(new Date).getTime();return!!n&&(r-n.created)/1e3/60/60<24},be=Object(l.a)((e,t)=>{const n=v(e,t);return t.excludePinnedPosts?n.filter(t=>!oe(e,{postId:t})):n}),pe=(e,t)=>{let{profileName:n}=t;const r=de(e,{profileName:n});if(!r.length)return!1;const[s]=r,o=w(e,{postId:s});return!!o&&(!(n.toLowerCase()===o.author.toLowerCase())&&Object(u.a)(!0,o.distinguishType))},me=Object(l.a)((e,t)=>{const{models:n}=e.posts;return t.filter(e=>{const t=n[e];return!!t&&!t.isBlank&&!t.hidden})}),fe=(e,t,n,r)=>{const s=v(e,{listingKey:t});if(r){const t=Object(y.H)(e,n);if(t){if(!!e.subreddits.appliedFilters.meta[t]){const t=e.posts.metaMap;return s.filter(e=>!!t[e])}}}return s},Oe=(e,t)=>{const n=w(e,t);if(!n||n.belongsTo.type===b.a.SUBREDDIT)return!1;const r=F(e,t);return!!r&&Object(_.M)(e,r.name)},ge=Object(d.a)((e,t)=>t.postId,v,(e,t)=>{const n=t.indexOf(e);return n>=0?t[n+1]:void 0}),je=Object(d.a)(ge,e=>e.posts.models,(e,t)=>e&&t[e]||void 0),ye=(Object(d.a)((e,t)=>T(e,t),(e,t)=>Object(y.u)(e,t),(e,t)=>{const n=(e=>{const t={};return e.map(e=>{e.flair&&e.flair.map(e=>{const n=Object(O.g)(e),r=s()(n),o=r&&t.hasOwnProperty(r);e.type!==g.f.Spoiler&&e.type!==g.f.Nsfw&&(o||(t[r]=Object.assign({},e,{id:r})))})}),i()(t)?h:Object.values(t)})(e),r=(e=>{const t=e.find(e=>"post-flair"===e.kind),n=t&&t.templates,r={};for(const o in n){const e=n[o],t=Object(O.g)(e),i=s()(t);i&&r.hasOwnProperty(i)||(r[i]=Object.assign({},e,{id:i}))}return i()(r)?h:Object.values(r)})(t);return a()([...n,...r],"id")}),e=>e.posts.modToMemberShare),_e=e=>{const t=ye(e);return t?w(e,{postId:t}):null},he=e=>{const t=ye(e);return t&&F(e,{postId:t})||null}},"./src/reddit/selectors/profile.ts":function(e,t,n){"use strict";n.d(t,"p",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return D}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/i18n/utils.ts"),o=n("./src/reddit/models/Multireddit/index.ts"),i=n("./src/reddit/models/User/index.ts"),c=n("./src/reddit/selectors/subreddit.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./node_modules/reselect/es/index.js");const u=[],l=(e,t)=>{let{profileId:n}=t;return e.profiles.models[n]},b=(e,t)=>{let{profileName:n}=t;return e.profiles.models[f(e,n)]},p=(e,t)=>e.profiles.models[t],m=Object(d.a)(e=>e.profiles.models,e=>{const t={};for(const n in e){const r=e[n];t[r.name.toLowerCase()]=r.id}return t}),f=(e,t)=>m(e)[t?t.toLowerCase():""],O=(e,t)=>{let{profileName:n}=t;const{pending:r}=e.profiles.moderated.api;return!!(n&&n in r)&&r[n.toLowerCase()]},g=(e,t)=>{let{profileName:n}=t;const{pending:r}=e.profiles.multireddits.api;return!!(n&&n in r)&&r[n.toLowerCase()]},j=(e,t)=>{let{profileName:n}=t;const r=Object(a.i)(e);if(!r||!n)return!1;const s=Object(i.f)(r);return v(e,{profileName:s}).some(e=>e.name.toLowerCase()===n.toLowerCase())},y=(e,t)=>{let{profileName:n}=t;const r=b(e,{profileName:n});return r&&"".concat(r.title||r.name," (").concat(r.displayText,") - Reddit")||Object(s.c)("reddit: the front page of the internet")},_=(e,t)=>{let{profileName:n}=t;const r=f(e,n);return e.profiles.about[r]},h=(e,t)=>e.profiles.about[t],E=Object(r.a)((e,t)=>{let{profileName:n}=t;return void 0!==e.profiles.moderated.models[n?n.toLowerCase():""]}),I=(e,t)=>{let{profileName:n}=t;return void 0!==e.profiles.multireddits.pageInfo[n?n.toLowerCase():""]},v=Object(r.a)((e,t)=>{let{profileName:n}=t;const r=e.profiles.moderated.models[n?n.toLowerCase():""];if(!r)return u;const s=[];return r.forEach(t=>{Object(c.S)(e,{subredditId:t})?s.push(Object(c.S)(e,{subredditId:t})):l(e,{profileId:t})&&s.push(l(e,{profileId:t}))}),s}),S=Object(d.a)((e,t)=>{const n=Object(a.gb)(e,{userName:t.profileName});return n?e.multireddits.byUserId[n.id]:null},e=>e.multireddits.models,(e,t)=>e?e.map(e=>t[e]).filter(e=>e.visibility===o.e.Public):null),T=Object(d.a)(e=>e.trophies,e=>e.profiles.trophyCases,(e,t)=>t,(e,t,n)=>{const r=t[n];return r?r.map(t=>e[t]):[]}),C=(e,t)=>{let{extraCommentsId:n}=t;return e.profileOverviewPage.conversations.extraComments.models[n]},w=(e,t)=>{let{profileName:n}=t;return e.profiles.moderated.pageInfo[n]?e.profiles.moderated.pageInfo[n].hasNextPage:void 0},D=(e,t)=>{let{profileName:n}=t;return!!e.profiles.multireddits.pageInfo[n]&&e.profiles.multireddits.pageInfo[n].hasNextPage}},"./src/reddit/selectors/profileComments.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/lodash/set.js"),s=n.n(r),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/selectors/comments.ts");const c=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.commentIds[n]||[]},a=Object(o.a)((e,t)=>{let{listingKey:n}=t;const r=Object(i.r)(e);return c(e,{listingKey:n}).reduce((e,t)=>s()(e,t,r[t].postId),{})}),d=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.api.error[n]},u=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.api.pending[n]},l=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.loadMore[n]},b=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.fetchedTokens[n]}},"./src/reddit/selectors/profileOverviewChronoItems.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/models/PostCreationForm/index.ts");s.f.Text,s.f.Spoiler,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT;var i=n("./src/reddit/helpers/isComment.ts");n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return O}));const c=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return a(e,{listingKey:n}).filter(e=>{if(Object(i.a)(e))return!0;{const t=r[e];return t&&!t.hidden}})}),a=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.profileOverviewPage.chrono.ids[n];return r?[...r]:[]}),d=Object(r.a)((e,t)=>{let{listingKey:n}=t;return c(e,{listingKey:n}).reduce((t,n)=>{const r=Object(i.a)(n)?e.comments.models[n].postId:n;return t[n]=r,t},{})}),u=(Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return u(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.hidden})}),Object(r.a)((e,t)=>{let{listingKey:n}=t;return c(e,{listingKey:n}).map(t=>Object(i.a)(t)?e.comments.models[t].postId:t)})),l=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models,s=u(e,{listingKey:n}),o={};return s.forEach(e=>o[e]=r[e]),o}),b=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.comments.models,s=c(e,{listingKey:n}),o={};return s.forEach(e=>!!Object(i.a)(e)&&(o[e]=r[e])),o}),p=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.api.error[n]},m=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.api.pending[n]},f=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.loadMore[n]},O=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.fetchedTokens[n]}},"./src/reddit/selectors/runTimeEnvVars.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));n("./src/lib/constants/index.ts");const r=e=>e.runTimeEnvVars.staging,s=e=>r(e),o=e=>e.runTimeEnvVars.startTimeInMillis},"./src/reddit/selectors/searchResults.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b}));n("./node_modules/core-js/modules/es6.regexp.search.js");const r=[],s=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.error[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},i=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.identifiers[n]||[]},c=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]},a=e=>{const t=e.search.searchQuery;if(!t)return r;const n=e.search.typeahead.idsByQuery[t.toLowerCase()];if(!n)return r;const s=[];return n.forEach(t=>{s.push(e.search.typeahead.models[t])}),s},d=e=>e.search.typeahead.idsByQuery,u=e=>{const t=e.listings.activeKey;return e.search.viewTreatment[t]},l=e=>{const t=e.listings.activeKey;if(t)return e.searchDiscoveryUnits.headerContent[t]},b=(e,t)=>t?e.search.relatedQueries[t.toLowerCase()]:r},"./src/reddit/selectors/seo/linksModule.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/user.ts");const o=e=>!Object(s.J)(e)&&e.seo.linksModule.frontpage||null,i=e=>{const t=e.split("/");if("r"===t[1])return t[2]},c=Object(r.a)(o,e=>e?e.map(e=>Object.assign({},e,{links:e.links.map(e=>Object.assign({},e,{title:i(e.url)})).filter(e=>e.title)})):null),a=Object(r.a)(c,e=>e?e.map(e=>Object.assign({},e,{links:e.links.filter(e=>e.visible)})):null)},"./src/reddit/selectors/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"o",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return D})),n.d(t,"m",(function(){return P}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/models/StructuredStyles/index.ts"),a=n("./src/reddit/selectors/platform.ts"),d=n("./src/reddit/selectors/subreddit.ts"),u=n("./src/reddit/selectors/user.ts");const l=e=>e.structuredStyles.isEditing,b=(e,t)=>e.structuredStyles.models[t.subredditId],p=Object(o.a)(b,e=>Object(c.g)(e)),m=e=>e.structuredStyles.draft,f={},O=Object(i.a)((e,t)=>{const n=((e,t)=>{const n=b(e,t);if(n)return{url:n.communityIcon,color:n.primaryColor}})(e,t);if(n&&n.url)return n;const r=n?n.color:void 0;return((e,t)=>e&&e.icon?{url:e.icon.url,color:t}:f)(Object(d.S)(e,t),r)}),g=(e,t)=>{const n=Object(d.H)(e,t.subredditName);return n?O(e,{subredditId:n}):f},j=e=>{const t=Object(a.d)(e);return t?O(e,{subredditId:t}):f},y=(e,t)=>{const n=e.structuredStyles.imagePreviews[t.name];if(n&&n in e.imageUploads)return e.imageUploads[n]},_=Object(i.a)(e=>{const t=e.structuredStyles.imagePreviews,n={};for(const r in t){const t=y(e,{name:r});t&&(n[r]=t.url)}return n}),h=(e,t)=>m(e)[t.name],E=e=>e.structuredStyles.models,I=e=>e.structuredStyles.flairTemplate.models,v=(e,t)=>e.structuredStyles.models[t],S=(e,t)=>{let{subredditId:n}=t;const r=e.structuredStyles.models[n];return r&&r.communityIcon?r.communityIcon:null},T=e=>e.structuredStyles.exportStyles.pending,C=e=>e.structuredStyles.isBladeEditorDirty,w=(e,t)=>{let{subredditId:n}=t;const r=e.subreddits.about[n],s=r&&r.quarantinePermissions;return!!s&&!s.styles},D=Object(o.a)(l,C,m,(e,t)=>t.subredditId&&b(e,{subredditId:t.subredditId}),(e,t,n,r)=>!(!e||!n)&&(t||!s()(n,r))),P=(e,t)=>{if(Object(u.eb)(e))return!0;if(t){const n=t.subredditId||t.subredditName&&Object(d.H)(e,t.subredditName);if(n&&Object(u.db)(e,{subredditId:n}))return!0}return!1}},"./src/reddit/selectors/submitValidation.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));const r=e=>e.subredditSettings.postRequirements.formState,s=e=>e.subredditSettings.postRequirements.formErrors,o=e=>e.creations.formState.fieldValidation},"./src/reddit/selectors/subreddit.ts":function(e,t,n){"use strict";n.d(t,"Z",(function(){return _})),n.d(t,"o",(function(){return h})),n.d(t,"ab",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"J",(function(){return w})),n.d(t,"N",(function(){return D})),n.d(t,"M",(function(){return P})),n.d(t,"Y",(function(){return x})),n.d(t,"S",(function(){return R})),n.d(t,"X",(function(){return A})),n.d(t,"bb",(function(){return N})),n.d(t,"cb",(function(){return k})),n.d(t,"n",(function(){return U})),n.d(t,"g",(function(){return M})),n.d(t,"t",(function(){return F})),n.d(t,"B",(function(){return G})),n.d(t,"H",(function(){return q})),n.d(t,"I",(function(){return H})),n.d(t,"i",(function(){return K})),n.d(t,"y",(function(){return W})),n.d(t,"s",(function(){return Y})),n.d(t,"K",(function(){return J})),n.d(t,"L",(function(){return z})),n.d(t,"V",(function(){return Q})),n.d(t,"R",(function(){return X})),n.d(t,"P",(function(){return Z})),n.d(t,"Q",(function(){return $})),n.d(t,"F",(function(){return ee})),n.d(t,"A",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"C",(function(){return re})),n.d(t,"u",(function(){return oe})),n.d(t,"l",(function(){return ie})),n.d(t,"d",(function(){return ce})),n.d(t,"f",(function(){return ae})),n.d(t,"G",(function(){return de})),n.d(t,"k",(function(){return ue})),n.d(t,"h",(function(){return le})),n.d(t,"m",(function(){return be})),n.d(t,"j",(function(){return pe})),n.d(t,"z",(function(){return me})),n.d(t,"e",(function(){return fe})),n.d(t,"U",(function(){return Oe})),n.d(t,"T",(function(){return ge})),n.d(t,"E",(function(){return je})),n.d(t,"W",(function(){return ye})),n.d(t,"w",(function(){return _e})),n.d(t,"v",(function(){return he})),n.d(t,"x",(function(){return Ee})),n.d(t,"O",(function(){return Ie})),n.d(t,"r",(function(){return ve})),n.d(t,"p",(function(){return Se})),n.d(t,"q",(function(){return Ce}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/isFakeSubreddit/index.ts"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/posts.ts"),a=n("./src/reddit/helpers/isPost.ts"),d=n("./src/reddit/i18n/utils.ts"),u=(n("./src/reddit/models/Profile/mock.ts"),n("./src/reddit/models/Subreddit/index.ts")),l=(n("./src/reddit/models/Subreddit/mock.ts"),n("./src/reddit/models/SubredditRestrictions/index.ts")),b=n("./src/reddit/models/Widgets/index.ts"),p=n("./src/reddit/selectors/comments.ts"),m=n("./src/reddit/selectors/moderatorPermissions.ts"),f=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/profile.ts"),j=n("./src/reddit/selectors/user.ts");const y=[],_=Object(i.a)((e,t)=>{let{subredditIds:n}=t;if(0===n.length)return y;const r=[];return n.forEach(t=>{const n=e.subreddits.models[t];n&&r.push(n)}),r}),h=Object(i.a)((e,t)=>{if(!t)return y;const n=E(e),r=x(e);return n.map(e=>r[e]).filter(n=>{let{name:r}=n;return se(e,{subredditName:r})===t})}),E=e=>e.subreddits.original,I=(e,t)=>{let{categoryName:n}=t;return e.subreddits.top[n]||y},v=(e,t)=>{let{profileName:n}=t;if(!n)return null;const r=Object(g.j)(e,n);return r?r.url:"/user/".concat(n,"/")},S=(e,t)=>{const n=t.toLowerCase();return e?e.url:Object(o.a)(n)?"/r/"+n+"/":null},T=(e,t)=>{let{subredditName:n}=t;if(!n)return null;const r=q(e,n),s=R(e,{subredditId:r});return S(s,n)},C=(e,t)=>{const n=R(e,{subredditId:t});if(n)return S(n,n.name)||"";const r=Object(g.p)(e,{profileId:t});return r?r.url:""},w=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?e.profiles.about[n.id]:e.subreddits.about[n.id]},D=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?e.profiles.models[n.id]||!1:e.subreddits.models[n.id]||!1},P=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?Object(g.m)(e,n.name)||null:q(e,n.name)||null},x=e=>e.subreddits.models,R=(e,t)=>{let{subredditId:n}=t;return e.subreddits.models[n]||!1},A=(e,t)=>{const n=R(e,t);if(n)return n.type},N=e=>e.subreddits.trending,k=(e,t)=>{let{identifier:n}=t;const r=P(e,{identifier:n});if(!r)return!1;const s=w(e,{identifier:{id:r,type:n.type}});return s&&Object(j.J)(e)?!!s.userIsSubscriber:n.type===c.a.SUBREDDIT?e.subscriptions.subredditOrder.indexOf(r)>-1:e.subscriptions.profileOrder.indexOf(r)>-1},L=(e,t)=>{let{subredditName:n,action:r}=t;const s=W(e,{subredditName:n});return!!(s&&r&&(Object(m.f)(e,{subredditId:q(e,n)})||s.userIsContributor||r===l.e.Post&&!1===s.restrictPosting||r===l.e.Comment&&!1===s.restrictCommenting))},U=e=>{const t=Object(f.f)(e);if(t&&"restricted"===t.type){const n=me(e)[t.id];if(n)return n.restrictCommenting&&n.restrictPosting?l.e.PostAndComment:n.restrictCommenting?l.e.Comment:l.e.Post}return l.e.View},M=(e,t)=>{const n=Object(f.f)(e),r=Object(j.J)(e),o=3*s.w,i=Date.now()-o;if(n&&r&&"restricted"===n.type){if(L(e,{subredditName:n.name,action:t}))return!1;const r=Object(j.kb)(e).subreddit[n.id];if((r?r.isContributorRequestTimestamp:0)>i)return!0}return!1},F=(e,t)=>{const n=Object(f.f)(e);if(Object(j.J)(e)&&n&&"restricted"===n.type){const r=!L(e,{subredditName:n.name,action:t}),s=!M(e);if(r&&s)return!0}return!1},B=Object(r.a)(e=>e.subreddits.models,e=>{const t={};for(const n in e){const r=e[n];r.type!==u.b.User&&(t[r.name.toLowerCase()]=r.id)}return t}),G=(e,t)=>{let{subredditName:n}=t;return e.subreddits.models[q(e,n)]},q=(e,t)=>B(e)[t?t.toLowerCase():""],V=Object(r.a)(e=>e.subreddits.communityInfo,e=>{const t={};for(const n in e){const r=e[n];r.id&&(t[r.name.toLowerCase()]=r.id)}return t}),H=(e,t)=>V(e)[t?t.toLowerCase():""],K=e=>{const t=Object(f.e)(e);return t?W(e,{subredditName:t}):null},W=(e,t)=>{let{subredditName:n}=t;return e.subreddits.about[q(e,n)]},Y=(e,t)=>{const n=Object(g.j)(e,{profileName:t});return n?e.subreddits.about[n.id]:void 0},J=(e,t)=>{let{commentId:n}=t;const r=Object(p.n)(e,{commentId:n});if(!r)return;const s=r.subredditId;return e.profiles.models[s]||e.subreddits.models[s]},z=(e,t)=>{let{thingId:n}=t;if(Object(a.a)(n)){const t=Object(O.K)(e,{postId:n});if(!t)return;return D(e,{identifier:t.belongsTo})}return J(e,{commentId:n})},Q=(e,t)=>{let{subredditName:n}=t;const r=G(e,{subredditName:n});return r&&r.title||Object(d.c)("reddit: the front page of the internet")},X=(e,t)=>{let{subredditId:n}=t;return e.subreddits.rules[n]?e.subreddits.rules[n].rules:y},Z=Object(i.a)((e,t)=>{let{subredditId:n}=t;return e.subreddits.rules[n]?e.subreddits.rules[n].rules.map(e=>e.shortName):y}),$=e=>e.subreddits.api.rules,ee=(e,t)=>{let{subredditId:n}=t;return!!e.subreddits.models[n]&&!!e.subreddits.models[n].freeFormReports},te=(e,t)=>{let{subredditName:n}=t;const r=W(e,{subredditName:n});return r&&r.allowedPostTypes},ne=(e,t)=>{let{subredditName:n}=t;const r=W(e,{subredditName:n});return r&&r.coins},re=(e,t)=>{let{subredditId:n}=t;const r=e.subreddits.about[n];return r&&r.coins},se=(e,t)=>{let{subredditName:n}=t;const r=W(e,{subredditName:n});return r&&r.contentCategory},oe=(e,t)=>{let{subredditName:n}=t;const r=q(e,n),s=e.widgets.sidebar[r],o=[],i=e.widgets.moderatorIds[r],c=e.widgets.models[i];let a=!1;return s&&s.forEach((function(t){e.widgets.models[t]&&(o.push(e.widgets.models[t]),t===i&&(a=!0))})),c&&!a&&o.push(c),o},ie=(e,t)=>{return R(e,t).name===s.Db},ce=(Object(i.a)(e=>{const{order:t}=e.subreddits.moderated,n=e.subreddits.models;return t&&t.length?t.map(e=>n[e]):[]}),(e,t)=>{let{subredditId:n}=t;return!!e.subredditChannels.api.whitelist[n]}),ae=Object(i.a)((e,t)=>_(e,t).map(e=>Object(b.j)(e))),de=(e,t)=>{let{subredditName:n}=t;const r=q(e,n),s=e.postFlair[r];return!(!s||!s.templateIds.length)},ue=e=>e.subreddits.api.create.pending,le=e=>e.subreddits.api.create.error.apiError,be=(e,t)=>{let{subredditId:n}=t;return!(!e.subreddits.about[n]||!e.subreddits.about[n].usingNewModmail)},pe=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n].belongsTo.id;return!!e.subreddits.rules[r]},me=e=>e.subreddits.about,fe=Object(i.a)(Object(r.a)(_,me,(e,t)=>{const n=[];return e.forEach(e=>{e.type===u.b.Public&&n.push(Object(b.j)(e,t[e.id]))}),n})),Oe=(e,t)=>e.subreddits.settings[t],ge=e=>e.subreddits.api.settings.pending,je=(e,t)=>{let{subredditId:n}=t,r=e.user.prefs.sort;if(e.user.prefs.rememberCommunitySort){const t=e.user.prefs.subreddit[n];t&&t.sort&&(r=t.sort)}return r},ye=(e,t)=>{let{subredditName:n}=t;return e.subreddits.topContent[n.toLowerCase()]},_e=(e,t)=>e.subreddits.api.similar.pending[t.key]||!1,he=(e,t)=>e.subreddits.similar[t.key]||y,Ee=(e,t)=>{const n=he(e,t);return _(e,{subredditIds:n})},Ie=(e,t)=>e.subreddits.rankings[t],ve=(e,t)=>e.subreddits.api.onboarding.pending[t.key]||!1,Se=(e,t)=>e.subreddits.onboarding[t.key]||y,Te=Object(r.a)(Se,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e]).filter(Boolean)),Ce=Object(r.a)(Te,e=>e.map(e=>e.name))},"./src/reddit/selectors/subredditAutocomplete.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/isNil.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/Subreddit/index.ts"),a=n("./src/reddit/models/SubredditAutocomplete/index.ts"),d=n("./src/reddit/models/User/index.ts"),u=n("./src/reddit/selectors/subscriptions.ts"),l=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return T}));var b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const p="original_content_communities_name",m=(e,t)=>t.substring.toLowerCase(),f=(e,t)=>{let{substring:n}=t;return Object(i.e)(n)?"":Object(i.f)(n)},O=(e,t)=>{for(let n=e.length;n>0;n--)if(!1===t(e.slice(0,n)))return},g=Object(o.a)(f,e=>e.subredditAutocomplete.models,(e,t)=>{let n=null;return O(e,e=>{if(t.hasOwnProperty(e))return n=t[e],!1}),n}),j=Object(o.a)(f,g,(e,t)=>!e||!s()(t)&&0===t.subreddits.length),y=Object(o.a)(u.f,e=>e.map(e=>Object(a.c)(e))),_=Object(o.a)(f,g,j,e=>e.subredditAutocomplete.api.pending,(e,t,n,r)=>{if(n)return!1;let s=!1;return O(e,e=>r.hasOwnProperty(e)?(s=r[e],!1):(!t||t.key!==e)&&void 0),s}),h=Object(o.a)(f,u.f,(e,t)=>t.filter(t=>-1!==t.name.toLowerCase().indexOf(e))),E=Object(o.a)(m,(e,t)=>t.includeUserProfile,l.i,(e,t,n)=>{if(!t||s()(n)||Object(i.d)(e))return null;const r=Object(i.f)(Object(d.f)(n)),o=Object(i.f)(e);return r.includes(o)?Object(a.d)(n):null}),I=Object(o.a)(m,(e,t)=>t.allowCrosspostableOnly,(e,t)=>t.includeOC,E,g,h,e=>e.subreddits.crosspostable.ids,(e,t,n,r,s,o,c)=>{const d=[];if(r&&d.push(r),t||!n||e&&e.trim()||d.push({id:"original_content_communities_id",name:p,type:a.a.FAKE_ITEM}),Object(i.e)(e))return d;const u={};return o.forEach(e=>{const n=Object(a.c)(e);t&&!c[e.id]&&(n.disabled=!0),u[n.name]=n,d.push(n)}),s&&s.subreddits.forEach(e=>{const{communityIcon:n,icon:r,isCrosspostDestination:s,name:o}=e,i=b(e,["communityIcon","icon","isCrosspostDestination","name"]),c=n||r,l=t&&!1===s;u[o]||d.push(Object.assign({},i,{disabled:l,iconUrl:c,name:o,type:a.a.OTHER_SUBREDDIT}))}),d}),v=Object(o.a)(m,l.h,(e,t)=>{const n=Object(i.f)(e);return t.filter(e=>{let{name:t}=e;return t.toLowerCase().includes(n)})}),S=(Object(o.a)(m,E,v,(e,t)=>t.partnerConnectionSafeOnly,(e,t,n,r)=>{const s=[];if(t&&s.push(t),Object(i.e)(e))return s;let o=n;return r&&(o=n.filter(e=>(e.type===c.b.Public||e.type===c.b.Restricted)&&!e.isQuarantined&&!e.isNSFW&&e.subscribers<2e5)),s.push(...o.map(e=>Object(a.b)(e,a.a.MODERATED_SUBREDDIT))),s}),Object(o.c)({suggestedItems:I,fallbackItems:y,isAllDataRetrieved:j,isPending:_})),T=Object(o.a)(g,h,(e,t)=>t.multireddit.subredditIds||[],(e,t,n)=>{const r=[],s={};return t.forEach(e=>{const t=Object(a.c)(e);s[t.name]=t,t.id&&n.indexOf(t.id)<0&&r.push(t)}),e&&e.subreddits.forEach(e=>{const{communityIcon:t,icon:o,name:i}=e,c=b(e,["communityIcon","icon","name"]),d=t||o;!s[i]&&n.indexOf(e.id)<0&&r.push(Object.assign({},c,{iconUrl:d,name:i,type:a.a.OTHER_SUBREDDIT}))}),r})},"./src/reddit/selectors/subredditChannel.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/reddit/selectors/user.ts");const i=(e,t)=>{let{subredditId:n}=t;const r=e.subredditChannels.models;return Object.keys(r).map(e=>r[e]).filter(e=>e.subredditId===n)},c=(e,t)=>{let{subredditId:n}=t;return!(!1!==e.subredditChannels.api.pending[n]||!1!==e.subredditChannels.api.error[n])},a=(e,t)=>{let{subredditId:n}=t;return void 0===e.subredditChannels.api.pending[n]&&!c(e,{subredditId:n})&&Object(o.J)(e)},d=e=>{const{models:t}=e.subredditChannels;return Object.keys(t).map(e=>t[e]&&t[e].name)},u=(e,t)=>{const n=s()(e.subredditChannels.models);return n.length&&n.find(e=>{let{channelId:n}=e;return n===t})||void 0},l=e=>{const t=e.subredditChannels.selected;if(t){return s()(e.subredditChannels.models).find(e=>e.channelId===t)}}},"./src/reddit/selectors/subredditDifficulty.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{let{subredditId:n}=t;return e.subredditDifficulty[n]}},"./src/reddit/selectors/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./src/reddit/constants/subredditLeaderboard.ts"),s=n("./src/reddit/selectors/category.ts");const o=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasPreviousPage,i=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasNextPage,c=(e,t)=>{const n=e.subreddits.rankings,o=t&&Object(s.i)(e,{categoryName:t}),i=t===r.g?r.f:r.a,c=n[o&&o.id||i];return!(!c||!c.length)}},"./src/reddit/selectors/subredditModeration.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"v",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"q",(function(){return O})),n.d(t,"A",(function(){return g})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return y})),n.d(t,"t",(function(){return _})),n.d(t,"w",(function(){return h})),n.d(t,"x",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"G",(function(){return w})),n.d(t,"C",(function(){return D})),n.d(t,"E",(function(){return P})),n.d(t,"F",(function(){return x})),n.d(t,"B",(function(){return R})),n.d(t,"D",(function(){return A})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"s",(function(){return F}));n("./node_modules/core-js/modules/es6.regexp.search.js");var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/SubredditModeration/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=[],c=(e,t)=>{let{subredditId:n}=t;return e.banned.models[n]},a=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.banned.userOrder[n];return r?r.map(t=>e.banned.models[n][t]):i}),d=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.banned.api.pending[r]},u=(e,t)=>{let{subredditId:n}=t;return e.banned.loadMore[n]},l=e=>e.banned.search.api.pending,b=e=>e.banned.search.result,p=e=>e.banned.inContext,m=Object(r.a)((e,t)=>{let{subredditId:n,before:r,after:o}=t;const i=Object(s.d)(n,o,r),c=e.moderators.userOrder.data[n]&&e.moderators.userOrder.data[n][i];return c?c.map(t=>e.moderators.models[n][t]):[]}),f=(e,t)=>{let{subredditId:n,beforeEditable:r,afterEditable:o}=t;const i=Object(s.d)(n,o,r),c=e.moderators.editableUserOrder.data[n]&&e.moderators.editableUserOrder.data[n][i];return c?c.map(t=>e.moderators.editableModerators[n][t]):[]},O=(e,t)=>{let{subredditId:n}=t;return e.moderators.editableModerators[n]||null},g=(e,t)=>{let{subredditId:n}=t;return e.moderators.models[n]||null},j=e=>e.moderators.search.api.pending,y=e=>e.moderators.search.result,_=(e,t)=>{let{subredditId:n}=t;return e.moderators.invitePending[n]},h=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreModerators[n]&&e.moderators.loadMoreModerators[n].after},E=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreModerators[n]&&e.moderators.loadMoreModerators[n].before},I=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreEditableModerators[n]&&e.moderators.loadMoreEditableModerators[n].after},v=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreEditableModerators[n]&&e.moderators.loadMoreEditableModerators[n].before},S=(e,t)=>{const n=Object(s.d)(t.subredditId,t.after,t.before);return e.moderators.userOrder.api.pending[n]},T=(e,t)=>{const n=Object(s.d)(t.subredditId,t.afterEditable,t.beforeEditable);return e.moderators.editableUserOrder.api.pending[n]},C=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.moderators.invitedModerators.userOrder[n];return r?r.map(t=>e.moderators.invitedModerators.models[n][t]):i}),w=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.muted.userOrder[n];return r?r.map(t=>e.muted.models[n][t]):i}),D=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.muted.api.pending[r]},P=e=>e.muted.search.api.pending,x=e=>e.muted.search.result,R=e=>e.muted.inContext,A=(e,t)=>{let{subredditId:n}=t;return e.muted.loadMore[n]},N=e=>e.approvedSubmitters.search.api.pending,k=e=>e.approvedSubmitters.search.result,L=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.approvedSubmitters.userOrder[n];return r?r.map(t=>e.approvedSubmitters.models[n][t]):i}),U=(e,t)=>{let{subredditId:n}=t;return e.approvedSubmitters.loadMore[n]},M=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.approvedSubmitters.api.pending[r]},F=e=>!!Object(o.J)(e)&&e.modModeEnabled},"./src/reddit/selectors/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/user.ts");const o=Object(r.a)(s.i,e=>e.subreddits.settings,(e,t)=>{if(e&&e.profileId)return t[e.profileId]})},"./src/reddit/selectors/subscriptions.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/lib/objectSelector/index.ts");const i=e=>e.subscriptions.api.fetched,c=e=>e.subscriptions.subredditOrder,a=Object(o.a)(e=>{const{profileOrder:t,subredditOrder:n}=e.subscriptions;return[...n,...t]}),d=(Object(o.a)(e=>{const{profileOrder:t,subredditOrder:n}=e.subscriptions,r=t?t.map(e=>({id:e,type:s.a.PROFILE})):[];return(n?n.map(e=>({id:e,type:s.a.SUBREDDIT})):[]).concat(r)}),Object(o.a)(Object(r.a)(e=>e.subreddits.models,e=>e.subscriptions.subredditOrder,(e,t)=>{if(!t||!t.length)return[];const n=[];for(const r of t)e[r]&&n.push(e[r]);return n}))),u=Object(o.a)(Object(r.a)(e=>e.profiles.models,e=>e.subscriptions.profileOrder,(e,t)=>{if(!t||!t.length)return[];return t.map(t=>e[t])})),l=e=>e.subscriptions.favoriteSubredditOrder,b=(Object(o.a)(e=>{const{favoriteSubredditOrder:t,favoriteProfileOrder:n}=e.subscriptions,r=e.subreddits.models,s=e.profiles.models,o=t?t.map(e=>r[e]):[],i=n?n.map(e=>s[e]):[];return o.concat(i)}),Object(r.a)(e=>e.subscriptions.profileOrder,e=>e.subscriptions.subredditOrder,(e,t)=>e.length+t.length)),p=Object(r.a)(d,e=>e.reduce((e,t)=>(e[t.id]=t.name,e),{}))},"./src/reddit/selectors/telemetry.ts":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./node_modules/lodash/trimStart.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./node_modules/url/url.js"),l=n.n(u),b=n("./src/config.ts"),p=n("./src/lib/constants/index.ts"),m=n("./src/lib/eventTools/index.ts"),f=n("./src/lib/isAdHocMultireddit/index.ts"),O=n("./src/lib/isFakeSubreddit/index.ts"),g=n("./src/reddit/constants/adEvents.ts"),j=n("./src/reddit/constants/blade.ts"),y=n("./src/reddit/constants/chat.ts"),_=n("./src/reddit/constants/originalContent.ts"),h=n("./src/reddit/constants/wiki.ts"),E=n("./src/reddit/contexts/PageLayer/index.tsx"),I=n("./src/reddit/helpers/dom/index.ts");const v=()=>!document.getElementById(b.a.adblockId);let S;(S=document.createElement("div")).className="promotedlink",S.style.height=S.style.width="1px",S.style.position="absolute",S.style.left="-1000000px",S.style.display="block",document.body.appendChild(S);const T=()=>v()?!I.h(S):null;var C=n("./src/reddit/constants/posts.ts"),w=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),D=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),P=n("./src/reddit/helpers/getRichTextContent.ts"),x=n("./src/reddit/helpers/isPost.ts"),R=n("./src/reddit/helpers/postCollection.ts"),A=n("./src/reddit/helpers/postEvent.ts"),N=n("./src/reddit/helpers/stewards.ts"),k=n("./src/reddit/models/Media/index.ts"),L=n("./src/reddit/models/Post/index.ts"),U=n("./src/reddit/models/Profile/index.ts"),M=n("./src/reddit/models/PublicAccessNetwork/index.ts"),F=n("./src/reddit/selectors/experiments/chatPost.ts"),B=n("./src/reddit/selectors/listings.ts"),G=n("./src/reddit/selectors/platform.ts"),q=n("./src/reddit/selectors/postCollection.ts"),V=n("./src/reddit/selectors/posts.ts"),H=n("./src/reddit/selectors/profile.ts"),K=n("./src/reddit/selectors/profileComments.ts"),W=n("./src/reddit/models/Multireddit/index.ts"),Y=n("./src/reddit/models/User/index.ts"),J=n("./src/reddit/selectors/multireddit.ts"),z=n("./src/reddit/selectors/structuredStyles.ts"),Q=n("./src/reddit/selectors/subreddit.ts"),X=n("./src/reddit/selectors/subredditChannel.ts"),Z=n("./src/reddit/selectors/subredditSettings.ts"),$=n("./src/reddit/selectors/user.ts"),ee=n("./src/server/helpers/seoMetadata.tsx"),te=n("./src/telemetry/models/Timer.ts");n.d(t,"getRelativePostOrder",(function(){return se})),n.d(t,"getAbsoluteOrder",(function(){return oe})),n.d(t,"actionInfo",(function(){return ie})),n.d(t,"chatPostActionInfo",(function(){return ce})),n.d(t,"previousPageActionInfo",(function(){return ae})),n.d(t,"app",(function(){return de})),n.d(t,"getCommentSortType",(function(){return ue})),n.d(t,"comment",(function(){return le})),n.d(t,"userSubreddit",(function(){return pe})),n.d(t,"defaults",(function(){return me})),n.d(t,"mediaActionInfo",(function(){return fe})),n.d(t,"post",(function(){return je})),n.d(t,"currentPost",(function(){return ye})),n.d(t,"listing",(function(){return _e})),n.d(t,"profileComments",(function(){return he})),n.d(t,"media",(function(){return Ee})),n.d(t,"videoPlayerMaxTimeServed",(function(){return Ie})),n.d(t,"videoPlayerFirstFrameTimer",(function(){return ve})),n.d(t,"profileById",(function(){return Se})),n.d(t,"profileByPostOrCommentId",(function(){return Te})),n.d(t,"referrer",(function(){return Ce})),n.d(t,"screen",(function(){return we})),n.d(t,"session",(function(){return De})),n.d(t,"customFeed",(function(){return Pe})),n.d(t,"customFeedByPath",(function(){return xe})),n.d(t,"profile",(function(){return Re})),n.d(t,"subreddit",(function(){return Ae})),n.d(t,"subredditById",(function(){return Ne})),n.d(t,"subredditByName",(function(){return ke})),n.d(t,"subredditByPostOrCommentId",(function(){return Le})),n.d(t,"timer",(function(){return Ue})),n.d(t,"user",(function(){return Me})),n.d(t,"widget",(function(){return Fe})),n.d(t,"request",(function(){return Be})),n.d(t,"requestWithParams",(function(){return Ge})),n.d(t,"adblock",(function(){return qe})),n.d(t,"domTimer",(function(){return Ve})),n.d(t,"oauth",(function(){return He})),n.d(t,"numberChannels",(function(){return Ke})),n.d(t,"channel",(function(){return We})),n.d(t,"SearchDropdownNouns",(function(){return Ye})),n.d(t,"StructureType",(function(){return Je})),n.d(t,"OriginElement",(function(){return ze})),n.d(t,"search",(function(){return Qe})),n.d(t,"discoveryUnit",(function(){return Xe})),n.d(t,"smartSearch",(function(){return Ze})),n.d(t,"metaSearch",(function(){return $e})),n.d(t,"postFlairClickToSearch",(function(){return et})),n.d(t,"currentProfileModelSelector",(function(){return tt})),n.d(t,"notification",(function(){return nt})),n.d(t,"postEventI13nSelector",(function(){return rt})),n.d(t,"postCollectionI13nByCollectionIdSelector",(function(){return ot})),n.d(t,"postCollectionI13nSelector",(function(){return it})),n.d(t,"modActionSelector",(function(){return ct}));const ne=e=>{switch(e.meta&&e.meta.name){case p.wb.INDEX:return"home";case p.wb.PROFILE_OVERVIEW:return"profile_overview";case p.wb.PROFILE_COMMENTS:return"profile_comments";case p.wb.PROFILE_POSTS:return"profile_posts";case p.wb.PROFILE:case p.wb.PROFILE_BETA_CONFIRMATION:case p.wb.PROFILE_MODERATION:case p.wb.PROFILE_POST_COMMENTS:case p.wb.PROFILE_PRIVACY:case p.wb.PROFILE_SETTINGS:return"profile";case p.wb.PROFILE_PRIVATE:{if(!e.routeMatch)break;const{listingType:t}=e.routeMatch.match.params;switch(t){case U.a.Downvoted:return"profile_downvoted";case U.a.Hidden:return"profile_hidden";case U.a.Upvoted:return"profile_upvoted";case U.a.Saved:return"profile_saved"}break}case p.wb.COMMENTS:case p.wb.DUPLICATES:return e.urlParams.commentId||e.urlParams.partialCommentId?"single_comment_thread":"post_detail";case p.wb.LISTING:case p.wb.SUBREDDIT:{const{subredditName:t}=e.urlParams;if(!t)return"home";if(Object(O.a)(t)&&Object(f.a)(t))return"custom_feed";switch(t.toLowerCase()){case"popular":return"popular";case"all":return"all";default:return"community"}}case p.wb.SUBREDDIT_SETTINGS:return"subreddit_settings";case p.wb.POST_CREATION:return e.queryParams&&e.queryParams.source_id?"crosspost_submit":"post_submit";case p.wb.SEARCH_RESULTS:return"search_results";case p.wb.MODERATION_PAGES:{const t=e.urlParams.pageName;return"moderation_pages_".concat(t)}case p.wb.MODQUEUE_PAGES:{const t=e.urlParams.pageName;return"modqueue"===t?"modqueue_queue":"modqueue_".concat(t)}case p.wb.MULTIREDDIT:return"custom_feed";case p.wb.ORIGINAL_CONTENT:return"original_content";case p.wb.POST_DRAFT:return"draft_detail";case p.wb.PUBLIC_ACCESS_NETWORK:return"stream_player";case p.wb.EXPLORE:return"explore";case p.wb.MOD_LISTING:return"r_mod";case p.wb.SUBREDDIT_CREATION:return"subreddit_creation";case p.wb.SUBREDDIT_WIKI:return"subreddit_wiki";case p.wb.SETTINGS:{const t=e.urlParams.page;return t?"settings_".concat(t):"settings_account"}case p.wb.META_MEMBERSHIP_PAYWALL_PAGE:return"special_membership_paywall";case p.wb.SUBREDDIT_LEADERBOARD:return"leaderboard";case p.wb.TOPIC:return"topic";default:return""}},re=e=>{if(e.isMeta)return"poll";if(!e.media)return"link";if(Object(L.h)(e))return"stream";switch(e.media.type){case"gifvideo":return"gif";case"embed":return"link";default:return e.media.type}},se=(e,t,n)=>{const r=e.listings.postOrder.ids[n];return r.indexOf(t)>=0?r.indexOf(t):null},oe=(e,t,n)=>{const r=e.listings.postOrder.ids[n];return r.indexOf(t)>=0?r.indexOf(t)+p.fb:null},ie=(e,t)=>Object.assign({pageType:e.platform.currentPage?ne(e.platform.currentPage):void 0},t),ce=e=>{const t=Object(G.f)(e),n=!!t&&Object(F.a)(e,{subredditId:t.id});return ie(e,{type:n?"chat_enabled":void 0})},ae=(e,t)=>Object.assign({pageType:e.platform.lastPage?ne(e.platform.lastPage):void 0},t),de=()=>({name:b.a.telemetry.appName.redesign}),ue=(e,t)=>{if(e.platform.currentPage){const{sortToUse:n}=Object(w.a)(e,t);if(n===p.q.CHAT)return p.u.Chat}return p.u.Comment},le=(e,t)=>{const n=e.comments.models[t];if(n){const{awardCountsById:t}=n,r=t?Object.keys(t).reduce((e,n)=>e+t[n],0):null;return{id:n.id,postId:n.postId,parentId:n.parentId,bodyText:Object(P.a)(n),authorId:n.authorId,numberGildings:r,score:n.score,created:n.created,type:ue(e,n.postId)}}return null},be=e=>{let t=!1;return Object.keys(e).forEach(n=>{e[n]&&(t=!0)}),t},pe=e=>{const t=Object(G.f)(e),n=t&&e.moderatingSubreddits[t.id];let r;if(Object($.J)(e)&&t){const n=e.subscriptions.subredditOrder.includes(t.id),s=e.subreddits.about[t.id]&&e.subreddits.about[t.id].userIsSubscriber;r=n||s}else r=null;return{isMod:!!n,modAccess:n?n.access:null,modConfig:n?n.config:null,modFlair:n?n.flair:null,modFull:n?n.all:null,modMail:n?n.mail:null,modNone:n?!be(n):null,modPost:n?n.posts:null,modWiki:n?n.wiki:null,isSubscriber:r}},me=e=>({actionInfo:ie(e),app:de(),referrer:Ce(e),request:Be(e),session:De(e),screen:we(e),user:Me(e)}),fe=(e,t)=>{const n=e.posts.video.fullscreen,r=e.platform.currentPage?ne(e.platform.currentPage):void 0;return{pageType:n===t?"fullscreen":r}},Oe=new Map,ge=e=>{let{state:t,post:n}=e;const r=Object(B.a)(t);if(!r)return;let s;Oe.has(r)?s=Oe.get(r):(Oe.set(r,new Map),(s=Oe.get(r)).set("postIdToDistanceFromAdMapping",new Map));const o=s.get("postIdToDistanceFromAdMapping");if(o.has(n.id))return o.get(n.id);const i=t.listings.postOrder.ids[r];if(!i)return;const c=s.get("lastPostIndex");let a=s.get("lastAdIndex"),d=c?c+1:0;for(;d<i.length;d+=1){const e=t.posts.models[i[d]];if(e&&!e.hidden&&!e.isBlank){const t=a?d-a-1:void 0;o.set(e.id,t),e.isSponsored&&(a=d)}}return s.set("lastPostIndex",d),s.set("lastAdIndex",a),o.get(n.id)},je=(e,t,n)=>{const r=e.posts.models[t]||e.comments.models[t]&&e.posts.models[e.comments.models[t].postId];if(r){const{source:t}=r,s=ue(e,r.id),o=r.events.find(e=>e.type===g.a.Impression),i=o&&o.url.match(/\?q=([^&]+)/);return{commentType:s,contentDuration:n||void 0,createdTimestamp:r.created,domain:r.domain,id:r.postId,nsfw:r.isNSFW,score:r.score,spoiler:r.isSpoiler,title:r.title,type:re(r),upvoteRatio:r.upvoteRatio?r.upvoteRatio:void 0,url:t?t.url:void 0,promoted:r.isSponsored,impressionId:i?i[1]:void 0,numberPostsFromAd:ge({state:e,post:r})}}if(Object(x.a)(t)){return{id:t,commentType:ue(e,t)}}return null},ye=e=>{const t=Object(D.a)(e);return t?je(e,t.id):null},_e=(e,t,n)=>{const r=t&&e.listings.postOrder.ids[t];return{depth:n&&n.depth,length:r?r.length:void 0,links:r?r.map(t=>e.posts.models[t].id):void 0,oldSort:n&&n.oldSort,sort:n&&n.sort,sortTime:n&&n.sortTime||void 0,source:n&&n.source}},he=(e,t)=>{const n=Object(K.f)(e,{listingKey:t});return n?{length:n.length,links:n.map(t=>e.comments.models[t].id)}:null},Ee=(e,t,n,r)=>{const s=e.posts.models[t];if(void 0===s)return null;const o={};if(o.id=s.postId,s.media&&"v.redd.it"===s.domain){const e=Object(k.z)(s.media);e&&(o.id=e)}if(n)o.loadTime=n;else{const n=e.posts.video.loadTimes[t];n&&n.start&&n.playable&&(o.loadTime=Math.round(n.playable-n.start))}const i=e.posts.video.metadata[t];i&&i.id===t&&(o.height=i.originalHeight,o.width=i.originalWidth,o.orientation=o.height>o.width?"portrait":"landscape",o.duration=i.length);const c=e.posts.video.time[t];return c&&(o.time=Math.round(c.currentTime)),o.streamPublicId=r&&Object(M.c)(r),o},Ie=(e,t)=>{if(void 0===e.posts.models[t])return null;const n={},r=e.posts.video.time[t];return r&&(n.maxTimeServed=Math.round(r.maxTimeServed)),n},ve=(e,t)=>{if(void 0===e.posts.models[t])return;const n={type:te.TimerType.VideoFirstFrame},r=e.posts.video.loadTimes[t];return r&&r.start&&(r.playable?n.millis=Math.round(r.playable-r.start):n.millis=Math.round(performance.now()-r.start)),n},Se=(e,t)=>{const n=e.profiles.models[t];return n&&{id:n.id,name:n.name}},Te=(e,t)=>{const n=e.posts.models[t],r=e.comments.models[t];return n?Se(e,n.belongsTo.id):r?Se(e,r.subredditId):null},Ce=e=>{let t=e.platform.currentPage?e.platform.referrers[e.platform.currentPage.key]:null;if(t){let{hostname:n}=l.a.parse(t);if(!n||t.startsWith("/")){let r=e.meta.protocol;n=e.meta.domain,r&&n||(r=window.location.protocol,n=window.location.hostname),r=r.endsWith(":")?r:"".concat(r,":"),t="".concat(r,"//").concat(n).concat(t)}return{domain:n,url:t}}return null},we=(e,t)=>{const n=Object(E.P)(e,{});let r;Object(G.g)(e)&&(r=Object(G.i)(e)?"lightbox":"post_detail");let s="default";return e.user&&e.user.prefs&&e.user.prefs.nightmode&&(s="nightmode"),{layout:n,viewType:r,scrollPosition:t,theme:s}},De=e=>{const t=s.a.get("session_tracker"),n=e.user.sessionTracker,r=(t||n).split("."),o=r[0],i=parseInt(r[2],10);let c={};const{sessionReferrer:a}=e.platform;if(a){const{hostname:e}=l.a.parse(a);c={referrerDomain:e,referrerUrl:a}}return Object.assign({id:o,createdTimestamp:i},c)},Pe=e=>{const{pageType:t}=ie(e);if(!e.platform.currentPage)return null;if("custom_feed"===t){const{multiredditName:t,username:n}=e.platform.currentPage.urlParams;return xe(e,Object(W.h)(n,t))}return null},xe=(e,t)=>{const n=Object(J.e)(e,t);return n?{id:"/user/".concat(n.ownerId,"/m/").concat(n.name,"/"),isNsfw:n.isNSFW,numberFollowers:n.followerCount,numberSubreddits:n.subredditCount,ownerId:n.ownerId,visibility:n.visibility}:null},Re=e=>{const{pageType:t}=ie(e);if(!e.platform.currentPage)return null;if(t&&t.includes("profile")){const{profileName:t}=e.platform.currentPage.urlParams;if(t){const n=t.toLowerCase(),r=Object(H.m)(e,n);return r?{id:r,name:n,type:"default"}:null}}else if("post_detail"===t){const{subredditName:t}=e.platform.currentPage.urlParams;if(t){const n=t.toLowerCase(),r=Object(H.m)(e,n),s=Se(e,r);return s&&s.name&&s.name.toLowerCase()===n?{id:r,name:n,type:"default"}:null}}return null},Ae=e=>{const{pageType:t}=ie(e);if(!e.platform.currentPage)return null;if("post_submit"===t){const t=e.platform.currentPage.urlParams.subredditName;if(t){const n=t.toLowerCase(),r=Object(Q.H)(e,n),s=Object(Q.S)(e,{subredditId:r}),o=e.subreddits.about[r];return r&&s?{id:r,name:n,numberCoins:o?o.coins:0}:null}return null}if("community"===t||"subreddit_settings"===t||"subreddit_wiki"===t||"special_membership_paywall"===t||t&&t.includes("moderation_pages")){let n=e.platform.currentPage.urlParams.subredditName;n||"subreddit_wiki"!==t||(n=h.e),n=n.toLowerCase();const r=Object(Q.H)(e,n),s=Object(Q.S)(e,{subredditId:r}),o=e.subreddits.about[r];return r&&s?{id:r,name:n,numberCoins:o?o.coins:0}:null}if("post_detail"===t||"single_comment_thread"===t){if(e.platform.currentPage.urlParams.subredditName){const t=e.platform.currentPage.urlParams.subredditName.toLowerCase(),n=Object(Q.H)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[n];return n&&r?{id:n,name:t,numberCoins:s?s.coins:0}:null}{const{partialPostId:t}=e.platform.currentPage.urlParams,n=Object(L.l)(t),r=e.posts.models[n];if(!r)return null;const s=((e,t)=>{const{type:n,id:r}=t;return n===C.a.PROFILE?e.profiles.models[r]:e.subreddits.models[r]})(e,r.belongsTo);if(!s)return null;const o=e.subreddits.about[s.id];return{id:s.id,name:s.name.toLowerCase(),numberCoins:o?o.coins:0}}}if("search_results"===t){if("string"!=typeof e.platform.currentPage.urlParams.subredditName)return null;const t=e.platform.currentPage.urlParams.subredditName.toLowerCase(),n=Object(Q.H)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[n];return n&&r?{id:n,name:t,numberCoins:s?s.coins:0}:null}if("original_content"===t){const{categoryName:t=_.b}=e.platform.currentPage.urlParams;return{categoryName:t.toLowerCase()}}return null},Ne=(e,t)=>{const n=e.subreddits.models[t],r=e.subreddits.about[t];return n&&{id:n.id,name:n.name.toLowerCase(),numberCoins:r?r.coins:0}},ke=(e,t)=>{const n=Object(Q.H)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[r.id];return r&&{id:r.id,name:r.name.toLowerCase(),numberCoins:s?s.coins:0}},Le=(e,t)=>{const n=e.posts.models[t],r=e.comments.models[t];return n?Ne(e,n.belongsTo.id):r?Ne(e,r.subredditId):null},Ue=(e,t)=>e&&t?{type:e,millis:t}:null,Me=Object(d.a)($.i,e=>e.user.loid,$.r,(e,t,n)=>Object.assign({id:e?e.id:"".concat(p.ub.Account,"_").concat(i()(t.loid,"0")),isAdmin:!!e&&e.isEmployee,isLoggedIn:!!e,cookieCreatedTimestamp:parseInt(t.loidCreated),createdTimestamp:e?1e3*e.created:null},e?{hasPremium:e.isGold,isPremiumSubscriber:n,numberCoins:e.coins||0,numberPremiumDaysRemaining:e.goldExpiration?Math.ceil((1e3*e.goldExpiration-Date.now())/p.w):0}:null)),Fe=(e,t)=>{let{subredditId:n,widgetKind:r}=t;const s={targetSubredditId:n},o=e.subreddits.models[n];o&&o.name&&(s.targetSubredditName=o.name);const i=r&&j.i[r];return i&&(s.type=i),s},Be=e=>{const t=e.meta.domain;return{base_url:e.platform.currentPage?"".concat(e.meta.protocol,"://").concat(t).concat(e.platform.currentPage.url):void 0,canonical_url:Object(ee.a)(e)||void 0,domain:t,reddaid:e.user.reddaid,user_agent:e.meta.userAgent}},Ge=e=>{const t=e.platform.currentPage?e.platform.currentPage.url.split("?"):[],[n,r]=t,{domain:s,protocol:o}=e.meta;return{base_url:o&&s&&n?"".concat(o,"://").concat(s).concat(n):void 0,canonical_url:Object(ee.a)(e)||void 0,domain:s,reddaid:e.user.reddaid,user_agent:e.meta.userAgent,parameters:r}},qe=e=>({enabled:v(),acceptableAds:T()}),Ve=e=>({}),He=e=>({}),Ke=e=>{const t=a()(e.subredditChannels.models);return{number_channels:t&&t.length}},We=(e,t)=>{const n=Object(X.c)(e,t);if(!n)return null;const{type:r,membersCount:s,channelSendbirdUrl:o}=n;return{id:o,type:y.f[r],number_members:s}};var Ye,Je,ze;!function(e){e.Recent="recent_search",e.Trending="trending_search",e.TypeaheadSubreddit="search_results_subreddit",e.TypeaheadProfile="search_results_profile"}(Ye||(Ye={})),function(e){e.Recent="history",e.Search="search",e.Trending="trending",e.PromotedTrend="promoted_trend"}(Je||(Je={})),function(e){e.SearchBar="search_bar"}(ze||(ze={}));const Qe=(e,t)=>{let n,r;if(t.eventType&&t.id){let s;switch(t.eventType){case"subreddit":s=Ne(e,t.id);break;case"post":s=Le(e,t.id);break;case"profile":s=Se(e,t.id)}s&&(n=s.name,r=s.id)}return{originPageType:e.platform.currentPage?ne(e.platform.currentPage):void 0,query:t.q?decodeURIComponent(t.q):t.q,range:t.t,sort:t.sort,structureType:t.structureType,subredditId:r,subredditName:n}},Xe=e=>({id:e.name,name:e.name,type:e.type}),Ze=(e,t)=>{const n=e.platform.currentPage?ne(e.platform.currentPage):void 0;return{originElement:ze.SearchBar,originPageType:n,query:t.searchQuery,typeaheadActive:!0}},$e=e=>({displayQuery:e.displayQuery,rawQuery:e.rawQuery,structureType:e.structureType,sort:e.sort,range:e.t,subredditId:e.subredditId,subredditName:e.subredditName,postFlairName:e.postFlairName,metaFlairId:e.metaFlairId,metaFlairName:e.metaFlairName}),et=(e,t)=>{let n,r;if(t.eventType&&t.id){let s;switch(t.eventType){case"subreddit":s=Ne(e,t.id);break;case"post":s=Le(e,t.id);break;case"profile":s=Se(e,t.id)}s&&(n=s.name,r=s.id)}const s=e.platform.currentPage?ne(e.platform.currentPage):void 0,o={originElement:t.originElement,originPageType:s,subredditName:n,subredditId:r};return t.postFlairName?o.postFlairName=t.postFlairName:t.metaFlairName&&(o.metaFlairName=t.metaFlairName),o},tt=Object(d.a)($.i,e=>e,(e,t)=>{if(!e||!e.profileId)return;const n=Object(H.i)(t,e.profileId),r=Object(H.g)(t,e.profileId),s=Object(z.n)(t,e.profileId),o=Object(Z.a)(t),i=Object($.kb)(t),c=s&&s.bannerBackgroundImage;return{id:e.id,name:Object(Y.f)(e),type:"default",display_name:n?n.title:void 0,about:r?r.publicDescription:void 0,avatar_url:e.accountIcon,cover_url:"string"==typeof c?c:void 0,nsfw:n?n.isNSFW:void 0,content_visible:o?o.contentVisible:void 0,communities_visible:i?i.showActiveCommunities:void 0}}),nt=(e,t,n)=>{const r={};return r.id=t,r.type=n?n.toLowerCase():void 0,r},rt=(e,t)=>{let n,{postId:r}=t;const s=Object(V.K)(e,{postId:r});if(s&&Object(A.a)(s)&&s.eventInfo){const{eventStart:e,eventEnd:t}=s.eventInfo;n={eventState:Object(m.e)(e,t),eventStartTimestamp:e,eventEndTimestamp:t}}else n=void 0;return n},st=e=>{if(!e)return;const{id:t,title:n,author:r,postIds:s}=e;return{id:t,title:n,authorId:r||"",postIds:s,displayLayout:Object(q.f)(e).toLowerCase()}},ot=(e,t)=>{let{collectionId:n}=t;return st(Object(q.q)(e,{collectionId:n}))},it=(e,t)=>{let{postId:n}=t;const r=Object(V.K)(e,{postId:n});if(r&&Object(R.a)(r)){const t=Object(q.n)(e,{postId:n});return t?st(t):void 0}},ct=(e,t)=>{const n=Object(x.a)(t)?e.posts.models[t]:e.comments.models[t],r=Object(G.f)(e),s=r&&e.moderatingSubreddits[r.id];if(n&&s)return{isTargetRemovedBySteward:Object(N.a)(n)||!!n.wasPreviouslyRemovedBySteward}}},"./src/reddit/selectors/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.tooltipId,s=e=>t=>t.tooltipId===e},"./src/reddit/selectors/user.ts":function(e,t,n){"use strict";n.d(t,"o",(function(){return y})),n.d(t,"q",(function(){return _})),n.d(t,"p",(function(){return h})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"w",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"S",(function(){return T})),n.d(t,"J",(function(){return C})),n.d(t,"Q",(function(){return w})),n.d(t,"x",(function(){return D})),n.d(t,"l",(function(){return P})),n.d(t,"i",(function(){return x})),n.d(t,"d",(function(){return R})),n.d(t,"v",(function(){return N})),n.d(t,"kb",(function(){return k})),n.d(t,"a",(function(){return L})),n.d(t,"U",(function(){return U})),n.d(t,"V",(function(){return M})),n.d(t,"m",(function(){return F})),n.d(t,"b",(function(){return B})),n.d(t,"z",(function(){return G})),n.d(t,"A",(function(){return q})),n.d(t,"X",(function(){return V})),n.d(t,"W",(function(){return H})),n.d(t,"k",(function(){return K})),n.d(t,"R",(function(){return W})),n.d(t,"e",(function(){return Y})),n.d(t,"N",(function(){return J})),n.d(t,"P",(function(){return z})),n.d(t,"ab",(function(){return Q})),n.d(t,"eb",(function(){return X})),n.d(t,"db",(function(){return Z})),n.d(t,"G",(function(){return $})),n.d(t,"I",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"y",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"B",(function(){return se})),n.d(t,"n",(function(){return oe})),n.d(t,"E",(function(){return ie})),n.d(t,"C",(function(){return ce})),n.d(t,"bb",(function(){return ae})),n.d(t,"gb",(function(){return de})),n.d(t,"Y",(function(){return ue})),n.d(t,"Z",(function(){return le})),n.d(t,"f",(function(){return be})),n.d(t,"ib",(function(){return pe})),n.d(t,"cb",(function(){return me})),n.d(t,"t",(function(){return fe})),n.d(t,"fb",(function(){return Oe})),n.d(t,"M",(function(){return ge})),n.d(t,"j",(function(){return je})),n.d(t,"T",(function(){return ye})),n.d(t,"hb",(function(){return _e})),n.d(t,"g",(function(){return he})),n.d(t,"jb",(function(){return Ee})),n.d(t,"L",(function(){return Ie})),n.d(t,"h",(function(){return ve})),n.d(t,"O",(function(){return Se})),n.d(t,"H",(function(){return Te})),n.d(t,"F",(function(){return Ce})),n.d(t,"c",(function(){return we}));var r=n("./node_modules/lodash/find.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/objectSelector/index.ts"),b=n("./src/reddit/constants/chat.ts"),p=n("./src/reddit/models/User/index.ts"),m=n("./src/reddit/selectors/chat.ts"),f=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/profile.ts"),g=n("./src/reddit/selectors/runTimeEnvVars.ts");const j=[],y=e=>e.user.account?e.user.account.goldExpiration:null,_=e=>!!e.user.account&&e.user.account.isGold,h=e=>!!e.user.account&&e.user.account.hasAndroidSubscription,E=e=>!!e.user.account&&e.user.account.hasGoldSubscription,I=e=>!!e.user.account&&e.user.account.hasIOSSubscription,v=e=>!!e.user.account&&e.user.account.hasStripeSubscription,S=e=>!!e.user.account&&e.user.account.hasPaypalSubscription,T=e=>e.user.language,C=e=>!!e.user.account,w=e=>!!e.user.session&&!e.user.session.unsafeLoggedOut,D=e=>!!e.user.account&&e.user.account.hasVerifiedEmail,P=e=>e.user.account?e.user.account.email:null,x=e=>e.user.account,R=e=>{const t=x(e);return t&&t.coins||0},A=e=>e.user.features,N=e=>{const t=x(e);return!!t&&t.seenRedesignModal},k=e=>e.user.prefs,L=e=>e.user.prefs.allowClickTracking||!C(e),U=e=>e.user.prefs.nightmode,M=e=>!!e.user.prefs.nightmodeTempUpdated,F=e=>e.user.prefs.geopopular,B=e=>e.user.prefs&&e.user.prefs.autoplayVideo,G=e=>e.user.prefs.hideNSFW,q=e=>k(e).ignoreSuggestedSort,V=e=>k(e).over18,H=e=>k(e).openPostInNewTab,K=e=>k(e).emailDigests,W=e=>e.user.prefs.labelNSFW,Y=e=>e.user.prefs.featuresViewedHistory.commentForm.markdownModeNotification,J=e=>{if(e.user.prefs&&e.user.prefs.rpanDuDismissalTime){const t=Date.now()-u.w;return e.user.prefs.rpanDuDismissalTime>t}return!1},z=e=>{const t=e.user.prefs?e.user.prefs.topContentTimesDismissed:0;if(t<1)return!1;if(t<2){const t=Date.now()-u.Ub;if((e.user.prefs?e.user.prefs.topContentDismissalTime:0)<t)return!1}else if(t<3){const t=Date.now()-2*u.Ub;if((e.user.prefs?e.user.prefs.topContentDismissalTime:0)<t)return!1}return!0},Q=e=>e.user.prefs.rememberCommunityLayout,X=e=>!k(e).stylesEnabled,Z=(e,t)=>{let{subredditId:n}=t;const r=k(e).subreddit[n];return!!r&&!r.stylesEnabled},$=e=>!!e.user.temporaryGQL.isEmployee,ee=e=>!!e.user.temporaryGQL.isLoggedIn,te=e=>{const t=x(e);return!!t&&t.isMod},ne=e=>{const t=x(e);return!!t&&!t.isEmployee&&t.isGold},re=e=>{const t=x(e);return!!t&&t.inRedesignBeta},se=e=>{const t=x(e);return!!t&&t.inChat},oe=e=>{const t=A(e);return!(!t||!t[b.a.SubredditChatNotifcationFtux])},ie=e=>{const t=A(e);return!!(t&&t.chat_subreddit||Object(m.f)(e))},ce=e=>{const t=A(e);return!(!t||!t.chat_user_settings)},ae=e=>{const t=x(e);return!!t&&t.seenSubredditChatFtux},de=(e,t)=>{let{userName:n}=t;return e.users.models[n.toLowerCase()]},ue=(e,t)=>{let{userId:n}=t;const r=((e,t)=>{let{userId:n}=t;return s()(a()(e.users.models),e=>e.id===n)})(e,{userId:n});return r?r.profileId:void 0},le=(e,t)=>{let{userName:n}=t;const r=de(e,{userName:n});return r?r.profileId:void 0},be=(e,t)=>{const n=t?t.toLowerCase():"";return t&&e.contentGate[n]?e.contentGate[n]:null},pe=(e,t)=>{const n=x(e),r=t.post||t.postId&&e.posts.models[t.postId];return!(!n||!r)&&Object(p.f)(n)===r.author},me=e=>{const t=x(e);if(t){return(Object(p.e)(t)||(new Date).getTime())<(new Date).getTime()-u.cb&&(t.postKarma>=5||t.commentKarma>=10)}return!1},fe=e=>e.user.sessionRefreshFailed,Oe=Object(l.a)(e=>{if(!e.user||!e.user.account)return;const t=i()(e.user.account,["hasUnreadOldModmail","hasUnreadMail","hasUnreadModmail","hasUnreadMessages","hasUnreadNotifs","inboxCount"]);return e.platform.currentPage&&e.platform.currentPage.routeMatch&&Object(f.r)(e)===u.wb.INBOX_PAGES&&e.user.prefs.markMessagesRead&&(t.inboxCount=0),t}),ge=(e,t)=>{const n=x(e);if(n){return Object(p.f)(n).toLowerCase()===t.toLowerCase()}return!1},je=e=>e.user.drafts&&e.user.drafts.count||0,ye=e=>e.user.drafts&&e.user.drafts.limit||20,_e=(e,t)=>{let{userName:n}=t;const r=de(e,{userName:n});return!!r&&!!r.hasUserProfile},he=e=>{const t=x(e);return!!t&&t.hasUserProfile},Ee=Object(d.a)(e=>e.user.account,e=>e.users.models,(e,t)=>t,(e,t,n)=>{const r=n.toLowerCase();return e&&Object(p.f)(e)===r?e:t[r]}),Ie=e=>{return Object(g.a)(e)-parseInt(e.user.loid.loidCreated)<u.w},ve=e=>{const t=x(e);if(!t)return j;const n=Object(p.f)(t);return Object(O.n)(e,{profileName:n})},Se=e=>{const t=x(e);return!!t&&(t.isSuspended&&!t.isFPR)},Te=e=>{const t=x(e);return!!t&&t.isFPR},Ce=(e,t)=>e.user.accountSettings["".concat(t)].api.pending,we=e=>e.user.accountSettings.changeEmail.api.error},"./src/reddit/selectors/userFlair.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/selectors/moderatorPermissions.ts");const i=(e,t)=>{let{subredditId:n}=t;return e.userFlair[n]},c=(e,t)=>{let{subredditId:n}=t;return!e.userFlair[n]||e.userFlair[n].displaySettings.isEnabled},a=(e,t)=>{let{subredditId:n}=t;return e.userFlair[n]?e.userFlair[n].displaySettings.position:s.b.Right},d=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=i(e,{subredditId:n});if(r)return{type:s.d.UserFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),u=(e,t)=>{let{subredditId:n}=t;const r=c(e,{subredditId:n}),s=d(e,{subredditId:n}),a=i(e,{subredditId:n});if(!r||!s||!a)return!1;if(a.applied)return!0;const u=Object(o.d)(e,{subredditId:n}),{canUserChange:l}=s.permissions;return!!a.templateIds.find(e=>{return!a.templates[e].modOnly||u})&&l}},"./src/reddit/selectors/video.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));const r=(e,t)=>{let{postId:n}=t;return!!e.posts.video.buffering[n]},s=(e,t)=>{let{postId:n}=t;return!!e.posts.video.consumed[n]},o=(e,t)=>{let{postId:n}=t;return!!e.posts.video.playing[n]},i=(e,t)=>{let{postId:n}=t;return e.posts.video.loadTimes[n]},c=(e,t)=>{let{postId:n}=t;return e.posts.video.metadata[n]},a=(e,t)=>{let{postId:n}=t;return!!e.posts.video.loadable[n]},d=(e,t)=>{let{postId:n}=t;return!!e.posts.video.started[n]},u=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=e.posts.video.time[n];return r?r.currentTime/1e3:null},l=(e,t)=>{let{postId:n}=t;return e.posts.video.continuousViewStartedAt[n]||0}},"./src/reddit/selectors/widgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return y}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/helpers/name/index.ts"),i=n("./src/reddit/models/Widgets/index.ts"),c=n("./src/reddit/selectors/profile.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=e=>e.widgets.models,u=Object(r.a)((e,t)=>Object(i.t)(t)?e.widgets.models[t.widgetId]:Object(i.n)(t.widgetKind)),l=(e,t)=>e.widgets.idCardIds[t.subredditId],b=(e,t)=>{let n=t.subredditId;if(!n&&t.subredditName&&(n=Object(a.H)(e,t.subredditName)),n){const t=l(e,{subredditId:n});if(t)return e.widgets.models[t]}return null},p=(e,t)=>e.widgets.sidebar[t.subredditId]||[],m=(e,t)=>e.widgets.menuIds[t.subredditId],f=(e,t)=>{const n=m(e,t);return n?e.widgets.models[n]:null},O=(e,t)=>{return e.widgets.sidebar[t.subredditId].reduce((t,n)=>{const r=e.widgets.models[n];return r&&t.push(r.kind),t},[])},g=(e,t)=>{const n=p(e,t);for(const r of n){const t=e.widgets.models[r];if("subreddit-rules"===t.kind)return t}return null},j=(e,t)=>{const n=p(e,t).map(t=>e.widgets.models[t]).filter(e=>"post-flair"===e.kind);return n.length?n:null},y=Object(r.a)((e,t)=>{if(t.type===s.a.PROFILE){const n=Object(c.j)(e,{profileName:t.name});return n?{profile:{id:n.id,name:Object(o.f)(n.name)}}:{}}const n=Object(a.B)(e,{subredditName:t.name}),r=Object(a.y)(e,{subredditName:t.name});return{subreddit:{categoryName:r?r.contentCategory:null,id:n.id,name:Object(o.f)(n.name)}}})},"./src/server/helpers/seoMetadata.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/react/index.js");var r=n("./node_modules/url/url.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=(n("./src/lib/addQueryParams/index.ts"),n("./src/lib/isAdHocMultireddit/index.ts")),a=n("./src/lib/isFakeSubreddit/index.ts");n("./src/lib/truncateText/index.ts"),n("./src/reddit/constants/page.ts");var d=n("./src/reddit/contexts/PageLayer/index.tsx"),u=n("./src/reddit/helpers/canonicalUrls.ts"),l=n("./src/reddit/helpers/getSubredditErrorProps/index.ts"),b=(n("./src/reddit/i18n/utils.ts"),n("./src/reddit/models/Comment/index.ts"),n("./src/reddit/models/Post/index.ts")),p=(n("./src/reddit/selectors/comments.ts"),n("./src/reddit/selectors/multireddit.ts"),n("./src/reddit/selectors/platform.ts")),m=n("./src/reddit/selectors/postCollection.ts"),f=n("./src/reddit/selectors/posts.ts"),O=n("./src/reddit/selectors/profile.ts"),g=(n("./src/reddit/selectors/structuredStyles.ts"),n("./src/reddit/selectors/subreddit.ts")),j=n("./src/reddit/selectors/user.ts");n("./src/reddit/models/Media/index.ts"),n("./src/app/strings/index.ts");n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return E}));const y=new Set([302,400,401,403,404,421,429,500,502,503,504,0,void 0,null]),_=e=>e.endsWith("/")?e:"".concat(e,"/"),h=e=>{const t=Object(p.b)(e);if(!t)return null;const n=Object(p.r)(e);switch(n){case i.wb.INDEX:case i.wb.LISTING:return t.routeMatch&&t.routeMatch.route.chunk===i.o.FRONTPAGE?_(o.a.redditUrl):null;case i.wb.SUBREDDIT:const{subredditName:r}=t.urlParams,d=r&&Object(g.c)(e,{subredditName:r});if(Object(a.a)(r)&&Object(c.a)(r)){const t=Object(u.a)(e,r);return t?o.a.redditUrl+t:null}return d?"".concat(o.a.redditUrl).concat(d):null;case i.wb.COMMENTS:case i.wb.DUPLICATES:const{partialPostId:l}=t.urlParams,p=l&&Object(b.l)(l),j=p&&Object(f.J)(e,{postId:p});return j?"".concat(o.a.redditUrl).concat(s.a.parse(j).path):null;case i.wb.PROFILE_OVERVIEW:case i.wb.PROFILE_POSTS:case i.wb.PROFILE_COMMENTS:const{profileName:y}=t.urlParams,h=Object(O.j)(e,{profileName:y});let E="";return n===i.wb.PROFILE_POSTS?E="posts/":n===i.wb.PROFILE_COMMENTS&&(E="comments/"),h&&h.url?"".concat(o.a.redditUrl).concat(s.a.parse(h.url).path).concat(E):null;case i.wb.COLLECTION_COMMENTS:const{collectionId:I}=t.urlParams,v=I&&Object(m.q)(e,{collectionId:I}),S=v&&v.permalink;return S?"".concat(o.a.redditUrl).concat(s.a.parse(_(S)).path):null;case i.wb.SUBREDDIT_LEADERBOARD:return t.routeMatch&&t.routeMatch.route.chunk===i.o.SUBREDDIT_LEADERBOARD?"".concat(o.a.redditUrl,"/subreddits/leaderboard/"):null;default:return null}},E=(e,t)=>{if(t.head){let n=t.querySelector("meta[name='robots']");const r=I(e),{head:s}=t;r?(n||((n=t.createElement("meta")).name="robots",s.appendChild(n)),n.content=r):n&&(n.remove?n.remove():n.parentNode?n.parentNode.removeChild(n):s.removeChild&&s.removeChild(n))}},I=e=>{const{currentPage:t}=e.platform,n=Object(p.r)(e),r=Object(p.c)(e),s=y.has(r),o=Object(d.l)(e,{pageLayer:t}),c=!(!o||!o.hideFromRobots),a=v(e),u=!1===(t&&t.isRobotIndexable)||n===i.wb.SEARCH_RESULTS||n===i.wb.SUBREDDIT_LEADERBOARD||n===i.wb.TOPIC;return c||s||a||u?n===i.wb.SEARCH_RESULTS||n===i.wb.SUBREDDIT_LEADERBOARD||n===i.wb.TOPIC?"noindex":"noindex,nofollow":null},v=e=>{let t=!1;const n=Object(p.e)(e);if(n){const r=Object(j.f)(e,n);t=!!Object(l.a)(r,!1,n)}return t}}}]);
//# sourceMappingURL=Governance~Reddit.5cceb16b236d7077854c.js.map

}
/*
     FILE ARCHIVED ON 04:11:03 Oct 01, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:49:54 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.075
  exclusion.robots.policy: 0.061
  cdx.remote: 0.117
  esindex: 0.014
  LoadShardBlock: 426.376 (6)
  PetaboxLoader3.datanode: 366.804 (7)
  load_resource: 102.824
  PetaboxLoader3.resolve: 37.349
*/