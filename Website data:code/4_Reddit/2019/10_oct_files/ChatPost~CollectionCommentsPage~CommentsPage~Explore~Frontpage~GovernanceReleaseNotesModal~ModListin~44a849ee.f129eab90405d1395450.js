var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListin~44a849ee"],{"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,s){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/classNames/index.ts"),l=s("./src/lib/forceHttps/index.ts"),d=s("./src/reddit/constants/tracking.ts"),u=s("./src/reddit/models/Media/index.ts"),h=s("./src/reddit/selectors/user.ts"),p=s("./src/reddit/components/Media/EmbedBox/index.m.less"),m=s.n(p);const g=Object(a.b)(()=>Object(o.c)({isNightmodeOn:h.U}));t.a=g(e=>{const t={responsive:"true",is_nightmode:e.isNightmodeOn},s=e.isResponsive?Object(i.a)(Object(l.a)(e.source),t):Object(l.a)(e.source),n={overflow:"hidden"};return n.width=e.width&&!e.fullWidth?"".concat(e.width,"px"):"100%",e.showCentered&&(n.margin="0 auto"),e.isListing||(n.maxHeight="".concat(u.e,"px")),r.a.createElement("iframe",{className:Object(c.a)(d.b,m.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,scrolling:"no",src:s,style:n,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,s){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",unblurButtonContainer:"c1UAj_LbgdGBuJFlKbnrQ",unblurButton:"_2Ws3wFSVPzJhnW46FsoxLv"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return v})),s.d(t,"c",(function(){return E}));s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/react-router-dom/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),l=s("./src/lib/forceHttps/index.ts"),d=s("./src/lib/permalinkToOverlayLocation/index.ts"),u=s("./src/reddit/components/PlayButton/index.tsx"),h=s("./src/reddit/constants/elementClassNames.ts"),p=s("./src/reddit/i18n/components.tsx"),m=s("./src/reddit/i18n/utils.ts"),g=s("./src/reddit/models/Media/index.ts"),f=s("./src/reddit/selectors/posts.ts"),x=s("./src/reddit/selectors/user.ts"),b=s("./src/reddit/constants/tracking.ts"),w=s("./src/reddit/components/Media/ImageBox/index.m.less"),y=s.n(w);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var j=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const v=(e,t)=>{return e/t>16/9},E=e=>e>2*g.e,_=e=>{const t=Object(c.a)(y.a.image,h.h,e.className,{[y.a.mShowCentered]:e.showCentered,[y.a.mShowBlurred]:e.shouldBlur}),s={};return e.showFull||e.isTall||(s.maxHeight="".concat(g.i,"px")),e.isListing||e.isTall&&E(e.height)||(s.maxHeight="".concat(g.e,"px")),e.isExpando&&e.maxHeight&&(s.maxHeight="".concat(e.maxHeight,"px")),e.isExpando&&e.maxWidth&&(s.maxWidth="".concat(e.maxWidth,"px")),r.a.createElement("img",{alt:Object(m.c)("Post image"),className:t,src:e.src,style:s})},C=e=>{const t={};return(!e.showFull&&v(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight="".concat(g.i,"px"),e.shouldBlur&&(t.maxWidth=v(e.height,e.width)?"".concat(g.w,"px"):"".concat(e.width,"px"))),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight="".concat(e.maxHeight,"px")),r.a.createElement("div",{className:Object(c.a)(y.a.container,e.className),style:t},e.children)},P=Object(i.c)({postPermalink:f.J,shouldOpenPostInNewTab:x.W}),T=Object(a.b)(P);t.a=T(e=>e.outboundUrl?r.a.createElement("a",{href:e.outboundUrl,target:"_blank"},S(e)):e.isListing&&e.postPermalink?r.a.createElement(o.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(d.a)(e.postPermalink)},S(e)):S(e));const L=(e,t)=>r.a.createElement(_,{className:Object(c.a)(t.imageClassName,{[b.b]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(l.a)(t.source),width:t.width}),S=e=>{var{onClick:t}=e,s=j(e,["onClick"]);const n=v(s.height,s.width),a=E(s.height)&&n;return r.a.createElement(C,O({},s,{className:"".concat(n?"".concat(b.b," "):"").concat(s.className||"")}),s.isListing?r.a.createElement("div",{className:s.contentImageClassName},L(n,s)):r.a.createElement("a",{href:s.originalSource,onClick:t,style:a?{maxWidth:"50%"}:{},target:"_blank"},L(n,s)),s.isListing&&!s.showFull&&s.height>g.i&&v(s.height,s.width)&&r.a.createElement("div",{className:y.a.seeMore},r.a.createElement(p.c,null,"see full image")),s.isVideoThumbnail&&r.a.createElement(u.a,{onClick:t}),s.shouldBlur&&!s.isVideoThumbnail&&!s.isListing&&r.a.createElement("div",{className:y.a.unblurButtonContainer},r.a.createElement("button",{className:y.a.unblurButton},Object(m.c)("Click to see".concat(s.isNSFW?Object(m.b)("nsfw"," nsfw"):"").concat(s.isSpoiler?Object(m.b)("spoiler"," spoiler"):"")))))}},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,s){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",video:"_3PIKVMCKdveCEcyiKr43sU",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/lib/classNames/index.ts"),o=s("./src/lib/forceHttps/index.ts"),i=s("./src/reddit/models/Media/index.ts"),c=s("./src/reddit/components/Media/MediaContainer/index.m.less"),l=s.n(c);const d=e=>{let t=null;(e.showFull||e.height<i.i)&&(t=e.height);const s=Object.assign({},t?{maxHeight:"".concat(t,"px")}:{},e.showFull&&!e.showCentered?{maxWidth:"".concat(e.width,"px")}:{},e.blurSrc?{overflow:"hidden"}:{}),n=e.blurSrc?r.a.createElement("img",{className:l.a.blur,src:Object(o.a)(e.blurSrc)}):null,c=((e,t,s)=>s?100*s:e&&t?e/t*100:100*i.c)(e.height,e.width,e.forceAspectRatio);return r.a.createElement("div",{className:Object(a.a)(l.a.container,e.className,{[l.a.video]:e.isVideo}),"data-click-id":"media",style:s},n,r.a.createElement("div",{className:l.a.spacer,style:{paddingBottom:"".concat(c,"%")}}),r.a.createElement("div",{className:Object(a.a)(l.a.wrapper,{[l.a.mColoredBackground]:!e.blurSrc})},e.children))};t.a=e=>{if(!e.isListing&&!e.alwaysWrapMedia||e.isExpando){return r.a.Children.only(e.children)||r.a.createElement("div",null)}return r.a.createElement(d,e)}},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,s){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/throttle.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),l=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/actions/video.ts"),u=s("./src/reddit/constants/tracking.ts"),h=s("./src/reddit/models/Media/index.ts"),p=s("./src/reddit/selectors/user.ts"),m=s("./src/reddit/selectors/video.ts");s("./node_modules/core-js/modules/es6.symbol.js");const g=100,f=g/2/1e3;var x=s("./src/lib/forceHttps/index.ts");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var w=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};class y extends o.a.Component{constructor(e){super(e),this.toggle=e=>{if(e){const e=this.play();e&&e.catch&&e.catch(()=>{})}else this.pause()},this.ref=null}play(){if(this.ref&&this.ref.play)return this.ref.play()}pause(){if(this.ref&&this.ref.pause)return this.ref.pause()}componentDidMount(){this.initEventHandlers(),this.toggle(!this.props.shouldPause&&(this.props.autoplay||this.props.isNotCardView))}componentWillUnmount(){this.destroyEventHandlers()}componentWillReceiveProps(e){this.props.shouldPause!==e.shouldPause&&this.toggle(!e.shouldPause&&(e.autoplay||e.isNotCardView))}destroyEventHandlers(){this.ref&&this.cancelBufferingDetector&&this.cancelBufferingDetector()}initEventHandlers(){this.ref&&this.props.onBufferingChange&&(this.cancelBufferingDetector=function(e,t){let s=!1,n=!1;const r=()=>s=!0,a=()=>n=!0;e.addEventListener("loadeddata",r),e.addEventListener("play",a),e.addEventListener("playing",a);let o=!1,i=0,c=0;const l=window.setInterval(()=>{if(c=e.currentTime,n)return n=!1,void(i=c);if(e.paused||e.seeking||!s)return void(i=c);const r=o;4===e.readyState?o=!1:!o&&c>=i&&c<i+f?o=!0:o&&c>=i&&c>i+f&&(o=!1),i=c,r!==o&&t(o)},g);return()=>{clearInterval(l),e.removeEventListener("playing",a),e.removeEventListener("play",a),e.removeEventListener("loadeddata",r)}}(this.ref,this.props.onBufferingChange))}render(){const e=this.props,{autoplay:t,isListing:s,isNotCardView:n,onBufferingChange:r,shouldLoad:a,shouldPause:i,showCentered:c,showFull:l,source:d}=e,u=w(e,["autoplay","isListing","isNotCardView","onBufferingChange","shouldLoad","shouldPause","showCentered","showFull","source"]);return o.a.createElement("video",b({},u,{ref:e=>{this.ref=e},muted:!0}),o.a.createElement("source",{src:Object(x.a)(this.props.source)}))}}var O=y,j=s("./src/reddit/components/Media/VideoBox/index.m.less"),v=s.n(j);const E=Object(c.c)({autoplayPref:p.b,consumed:m.b,loadTimes:m.f,metadata:m.g,started:m.i}),_=Object(i.b)(E,(e,t)=>{let{postId:s}=t;return{onBufferingChanged:t=>{e(t?d.w(s):d.I(s))},onLoadStarted:t=>e(d.v(s,t)),onMetadataReceived:t=>e(d.H({metadata:t,postId:s})),onPaused:()=>e(d.D({postId:s})),onPlayable:t=>e(d.E(s,t)),onPlaying:()=>e(d.G(s)),onWatched:()=>e(d.x(s)),onViewableImpression:()=>e(d.B(s)),onFullyViewableImpression:()=>e(d.A(s)),onPlayedWithSound:()=>e(d.F(s)),onWatchedPercent:t=>e(d.O(t,s))}});class C extends o.a.Component{constructor(){super(...arguments),this.percentTriggered=0,this._checkForConsumption=r()(e=>{if(this.props.consumed)return;const{target:t}=e;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&this.props.onWatched()},200),this.onTimeUpdate=e=>{e.persist(),this._checkForConsumption(e)},this.onVideoPlayable=e=>{this.props.metadata||this.sendTransformedMetadata(e),this.props.started||this.props.onPlayable(e.timeStamp)},this.loadStarted=e=>{this.props.onLoadStarted(e.timeStamp)},this.sendTransformedMetadata=e=>{this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})},this.onPaused=e=>{this.props.onPaused()},this.onPlaying=e=>{this.props.loadTimes||this.onVideoPlayable(e),this.props.metadata||this.sendTransformedMetadata(e),this.props.onPlaying()},this.renderVideoPlayer=()=>{const{showCentered:e,isListing:t}=this.props,s={};return e&&(s.margin="0 auto"),t||(s.maxHeight="".concat(h.e,"px")),o.a.createElement(O,{autoplay:this.props.autoplayPref,className:Object(l.a)(u.b,v.a.styledVideo),height:this.props.height,isListing:this.props.isListing,isNotCardView:this.props.isNotCardView,key:this.props.postId,loop:!0,onBufferingChange:this.props.onBufferingChanged,onLoadStart:this.loadStarted,onLoadedData:this.onVideoPlayable,onLoadedMetadata:this.sendTransformedMetadata,onPause:this.props.onPaused,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,shouldLoad:this.props.shouldLoad,shouldPause:this.props.shouldPause,showCentered:this.props.showCentered,showFull:this.props.showFull,source:this.props.source,style:s,width:this.props.width})}}render(){return this.props.isListing?this.renderVideoPlayer():o.a.createElement("div",{className:Object(l.a)(v.a.container,this.props.className,{[v.a.centered]:this.props.showCentered})},o.a.createElement("a",{href:this.props.originalSource,target:"_blank"},this.renderVideoPlayer()))}}t.a=_(C)},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,s){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/lib/classNames/index.ts"),o=s("./src/higherOrderComponents/addOverlayEvents.tsx"),i=s("./src/reddit/components/InfoTextTooltip/index.tsx"),c=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),l=s("./src/reddit/i18n/utils.ts"),d=s("./src/reddit/components/RichTextJson/SpoilerText.m.less"),u=s.n(d),h=s("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var m=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const g=["left","top"],f=["left","bottom"],x=h.a.span("InnerSpan",u.a),b=h.a.span("TooltipTarget",u.a),w=h.a.span("SpoilerWrapper",u.a),y=h.a.wrapped(e=>{var{className:t,isOpen:s}=e,n=m(e,["className","isOpen"]);return r.a.createElement(w,p({},n,{className:Object(a.a)(t,{[u.a.isOpen]:s})}))},"SpoilerWrapper",u.a),O=Object(c.a)(h.a.wrapped(i.b,"Component",u.a),[o.a.Click,o.a.Keydown]);class j extends r.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=e=>{const{isOpen:t}=this.state;t||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}))},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.state.isOpen||this.setState({showTooltip:!0})},this.onHideTooltip=()=>{this.setState({showTooltip:!1})},this.state={isOpen:!1,showTooltip:!1}}render(){const{isOpen:e,showTooltip:t}=this.state;return r.a.createElement(y,{isOpen:e,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},r.a.createElement(x,null,r.a.createElement(b,{innerRef:this.setTooltipTargetRef}),r.a.createElement(O,{isOpen:t,tooltipTarget:this.tooltipTargetElement,text:Object(l.c)("Reveal spoiler"),targetPosition:g,tooltipPosition:f}),this.props.children))}}t.a=j},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,s){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,s){"use strict";s.d(t,"w",(function(){return d})),s.d(t,"e",(function(){return u})),s.d(t,"h",(function(){return h})),s.d(t,"k",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"j",(function(){return g})),s.d(t,"g",(function(){return f})),s.d(t,"v",(function(){return x})),s.d(t,"i",(function(){return b})),s.d(t,"b",(function(){return w})),s.d(t,"f",(function(){return y})),s.d(t,"u",(function(){return O})),s.d(t,"d",(function(){return j})),s.d(t,"l",(function(){return v})),s.d(t,"m",(function(){return E})),s.d(t,"n",(function(){return _})),s.d(t,"t",(function(){return C})),s.d(t,"p",(function(){return P})),s.d(t,"o",(function(){return T})),s.d(t,"q",(function(){return L})),s.d(t,"s",(function(){return S})),s.d(t,"r",(function(){return B})),s.d(t,"a",(function(){return M}));var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/reddit/controls/OutboundLink/index.tsx"),o=s("./src/reddit/components/RichTextJson/elements.m.less"),i=s.n(o),c=s("./src/lib/lessComponent.tsx");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const d=[c.a.div("H1",i.a),c.a.div("H2",i.a),c.a.div("H3",i.a),c.a.div("H4",i.a),c.a.div("H5",i.a),c.a.div("H6",i.a)],u=c.a.hr("Hr",i.a),h=c.a.code("M",i.a),p=c.a.pre("Pre",i.a),m=c.a.blockquote("Blockquote",i.a),g=c.a.p("P",i.a),f=c.a.li("Li",i.a),x=c.a.ul("Ul",i.a),b=c.a.ol("Ol",i.a),w=c.a.strong("B",i.a),y=c.a.em("I",i.a),O=c.a.span("U",i.a),j=e=>r.a.createElement("del",e),v=c.a.sub("Sub",i.a),E=c.a.sup("Sup",i.a),_=c.a.table("Table",i.a),C=c.a.tr("Tr",i.a),P=c.a.td("Tdl",i.a),T=c.a.td("Tdc",i.a),L=c.a.td("Tdr",i.a),S=c.a.th("Thl",i.a),B=c.a.th("Thc",i.a),M=(c.a.th("Thr",i.a),c.a.wrapped(e=>r.a.createElement(a.a,l({},e,{isSponsored:!1,source:null})),"A",i.a))},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,s){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es6.symbol.js");var n=s("./node_modules/lodash/findLastIndex.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/lib/raven/index.ts"),d=s("./src/reddit/constants/elementClassNames.ts"),u=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),h=s("./src/reddit/helpers/styles/smartTextColor.ts"),p=s("./src/reddit/models/RichTextJson/index.ts"),m=s("./src/config.ts"),g=s("./src/reddit/components/HTML5StreamPlayer/index.tsx"),f=s("./src/reddit/components/Media/EmbedBox/index.tsx"),x=s("./src/reddit/components/Media/ImageBox/index.tsx"),b=s("./src/reddit/components/Media/MediaContainer/index.tsx"),w=s("./src/reddit/components/Media/VideoBox/index.tsx"),y=s("./src/reddit/helpers/richTextJson/index.ts"),O=s("./src/reddit/i18n/utils.ts"),j=s("./src/reddit/components/RichTextJson/elements.tsx"),v=s("./src/reddit/components/RichTextJson/media.m.less"),E=s.n(v),_=s("./src/lib/lessComponent.tsx");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var P=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const T=/\/(\w+)\/asset\/(\w+)\//,L=_.a.wrapped(j.a,"A",E.a),S=_.a.wrapped(x.a,"ImageBox",E.a),B=_.a.wrapped(e=>{var{className:t,width:s}=e,n=P(e,["className","width"]);return o.a.createElement(b.a,C({className:t,width:s},n))},"MediaContainer",E.a),M=_.a.wrapped(e=>o.a.createElement("p",e),"Caption",E.a),k=_.a.div("Placeholder",E.a),I=_.a.wrapped(e=>{var{className:t,e:s}=e,n=P(e,["className","e"]);const r=s===p.C?Object(O.c)("Processing video..."):Object(O.c)("Processing image...");return o.a.createElement(k,C({className:t,style:{"--placeholder-content-text":"'".concat(r,"'")}},n))},"Placeholder",E.a),N=e=>{let{c:t,x:s,y:n}=e;return o.a.createElement(B,{height:n,width:s,isListing:!1,showCentered:!0,showFull:!0},o.a.createElement(f.a,{isListing:!1,source:t,height:n,width:s,showCentered:!0,showFull:!0}))},H=(e,t)=>{const s=e.c;let n="";return t&&(t.e===p.s?n=t.s.u:t.e===p.r?n=t.s.gif:t.e===p.t&&(n=(e=>{const t=T.exec(e);return t?"".concat(m.a.redditUrl,"/link/").concat(t[1],"/video/").concat(t[2],"/player"):""})(t.dashUrl))),n?o.a.createElement(L,{title:s,href:n},s||n):null},F=(e,t,s,n)=>{const r=p.D(t,e.id);if(s)return[H(e,r)];const a=[];return r?r.e===p.s?a.push((e=>{let{id:t,s}=e;return o.a.createElement(B,{height:s.y,width:s.x,isListing:!1,showCentered:!0,showFull:!0},o.a.createElement(S,{originalSource:s.u,postId:t,source:s.u,height:s.y,width:s.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1}))})(r)):r.e===p.r?a.push((e=>{let{id:t,ext:s,s:n}=e;const r=Object(y.d)(t),a=r?s||Object(y.c)(t):n.mp4;return r&&!n.mp4?o.a.createElement(L,{href:a,target:"_blank"},a):o.a.createElement(B,{height:n.y,width:n.x,isListing:!1,showCentered:!r,showFull:!0},o.a.createElement(w.a,{className:r?E.a.giphy:void 0,height:n.y,isListing:!1,isNotCardView:!0,originalSource:a,width:n.x,postId:t,source:n.mp4,shouldPause:!1,showCentered:!r,shouldLoad:!0,showFull:!0}))})(r)):r.e===p.t&&a.push((e=>{let{hlsUrl:t,dashUrl:s,x:n,y:r,isGif:a}=e;return o.a.createElement(B,{height:r,width:n,isListing:!1,showCentered:!0,showFull:!0},o.a.createElement(g.b,{shouldLoad:!0,shouldPause:!0,autoPlay:a,hlsSource:t,mpegDashSource:s,isGif:a}))})(r)):a.push(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return o.a.createElement(I,{e,language:t})}(e.e,n)),e.c&&a.push((e=>o.a.createElement(M,null,e))(e.c)),a};var D=s("./node_modules/lodash/reduce.js"),U=s.n(D),W=s("./src/reddit/components/TrackingHelper/index.tsx"),R=s("./src/reddit/models/Product/index.ts"),J=s("./src/reddit/selectors/telemetry.ts");class X extends o.a.Component{constructor(){super(...arguments),this.onClick=()=>this.sendEvent("click"),this.onMouseOver=()=>{this.hoverTimeout&&this.onMouseOut(),this.hoverTimeout=window.setTimeout(()=>{this.sendEvent("view")},1e3)},this.onMouseOut=()=>{window.clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0},this.sendEvent=e=>{this.props.sendEvent(t=>{const s=J.defaults(t);return Object.assign({source:"meta",action:e,noun:"emote"},s,{actionInfo:Object.assign({},s.actionInfo,{reason:this.props.node.id}),subreddit:J.subreddit(t)})})}}render(){const{node:e,media:t}=this.props;let s,n,r;return t.e===p.s?(s=t.s.x,n=t.s.y,r=t.s.u):t.e===p.r&&(s=t.s.x,n=t.s.y,r=t.s.gif),r?o.a.createElement("img",{src:r,width:s,height:n,style:{verticalAlign:"middle"},title:":".concat(Object(R.b)(e.id),":"),onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}):null}}var G=Object(W.b)(X),V=s("./src/lib/unicodeUtils/index.ts"),A=s("./src/reddit/components/RichTextJson/SpoilerText.tsx");const Y=e=>{const t=e.c||[],s=e.l,n=[],r=t.length;for(let o=0;o<r;o++){const e=t[o];n.push(e.e===p.w?e.t:re(e))}const a=j.w[s-1];return o.a.createElement(a,null,n)},K=()=>o.a.createElement(j.e,null),q=(e,t)=>{const s=e.c;if(!s)return;const n=s.length,r=[];for(let a=0;a<n;a++)r.push(z(s[a],t));return o.a.createElement(j.c,null,r)},Q=e=>{const t=e.c;return o.a.createElement(j.k,null,o.a.createElement(j.h,null,t.reduce((e,t,s,n)=>e+=t.t+(s<n.length?"\n":""),"")))},Z=(e,t)=>{const s=e.c,n=[],r=s.length;for(let i=0;i<r;i++){const e=s[i].c;e&&e.length&&n.push(o.a.createElement(j.g,null,e.map(e=>z(e,t))))}const a=e.o?j.i:j.v;return o.a.createElement(a,null,n)},z=(e,t)=>{switch(e.e){case p.b:return q(e,t);case p.c:return Q(e);case p.k:return Y(e);case p.l:return K();case p.p:return Z(e,t);case p.u:return te(e,t);case p.z:return $(e,t)}},$=(e,t)=>{const s=e.c,n=e.h,r=s.length,a=n.length,i=[],c=[],l=[];for(let d=0;d<a;d++){const e=n[d],{H:s,D:r}=ce(e.a),{c:a=[]}=e;i.push(o.a.createElement(s,null,se(a,t))),l[d]=r}for(let d=0;d<r;d++){const e=s[d],n=e.length,r=[];for(let s=0;s<n;s++){const n=l[s],{c:a=[]}=e[s];r.push(o.a.createElement(n,null,se(a,t)))}c.push(o.a.createElement(j.t,null,r))}return o.a.createElement(j.n,null,o.a.createElement("thead",null,o.a.createElement(j.t,null,i)),o.a.createElement("tbody",null,c))},ee=o.a.createElement(j.j,null,o.a.createElement("br",null)),te=(e,t)=>{if(!e.c||!e.c.length)return ee;const s=e.c[0];return s.e!==p.m&&s.e!==p.a||!Object(y.d)(s.id)?o.a.createElement(j.j,null,se(e.c,t)):F(s,t)},se=(e,t)=>{const s=[],n=e.length;for(let r=0;r<n;r++){const n=e[r];if(n.e===p.A)s.push(ae(n));else if(n.e===p.x)s.push(o.a.createElement(A.a,null,se(n.c,t)));else if(n.e===p.n)s.push(o.a.createElement("br",null));else if(n.e===p.m||n.e===p.a){if(n.id.startsWith("emote|")){const e=p.D(t,n.id);e&&s.push(o.a.createElement(G,{node:n,media:e}))}}else s.push(re(n))}return s},ne=(e,t)=>{const s="".concat(t,"/").concat(e.t);return o.a.createElement(j.a,{href:"/".concat(s,"/")},"".concat(e.l?"/":"").concat(s))},re=e=>{switch(e.e){case p.o:return o.a.createElement(j.a,{title:e.a,href:e.u},ae({t:e.t,f:e.f}));case p.y:return ne(e,"r");case p.B:return ne(e,"u");case p.g:case p.v:return o.a.createElement(j.a,{href:e.t},e.t)}},ae=e=>{const{f:t,t:s}=e,n=[];if(!t)return ie(0,s);const r=Object(V.a)(s);let a=0,o=0;const i=t.length;for(;a<i;a++){const[e,i,c]=t[a],l=i+c,d=r[i],u=r[l]-d;d>o&&n.push(ie(0,s.substr(o,d-o))),n.push(ie(e,s.substr(d,u))),o=d+u}return o<s.length&&n.push(ie(0,s.substr(o))),n},oe={[p.j.monospace]:j.h,[p.j.bold]:j.b,[p.j.italic]:j.f,[p.j.underline]:j.u,[p.j.strikethrough]:j.d,[p.j.subscript]:j.l,[p.j.superscript]:j.m},ie=(e,t)=>{let s=t;return s=U()(oe,(t,s,n)=>e&parseInt(n,10)?o.a.createElement(s,null,t):t,s)},ce=e=>{switch(e){case p.f:return{H:j.r,D:j.q};case p.d:return{H:j.r,D:j.o};case p.e:default:return{H:j.r,D:j.p}}};var le=s("./src/reddit/components/RichTextJson/index.m.less"),de=s.n(le);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}s.d(t,"a",(function(){return xe}));var he=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const pe=_.a.div("Container",de.a),me=Object(c.a)(e=>o.a.createElement(pe,ue({},e,{style:{color:Object(h.a)(Object(u.a)(e))}}))),ge=e=>e.e===p.k?!!e.c&&!e.c.every(e=>!e.t):e.e!==p.u||!!e.c&&!e.c.every(e=>e.e===p.A&&!e.t),fe=e=>{const{className:t,content:s,language:n,renderMediaAsLinks:a,useExplicitTextColor:c}=e,l=s.document,u=[],h=e.mediaMetadata||null,m=(e=>e.findIndex(ge))(l),g=(e=>r()(e,ge))(l);if(-1!==m)for(let r=m;r<=g;r++){const e=l[r];switch(e.e){case p.k:u.push(Y(e));break;case p.l:u.push(K());break;case p.b:u.push(q(e,h));break;case p.c:u.push(Q(e));break;case p.p:u.push(Z(e,h));break;case p.z:u.push($(e,h));break;case p.u:u.push(te(e,h));break;case p.h:u.push(N(e));break;case p.m:case p.a:case p.C:u.push(...F(e,h,a,n))}}return c?o.a.createElement(pe,{className:Object(i.a)(d.k,t)},u):o.a.createElement(me,{className:Object(i.a)(d.k,t),flairStyleTemplate:e.flairStyleTemplate},u)};class xe extends o.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=()=>"Something went wrong while trying to render this"}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){Object(l.b)(e,{extra:{objectInfo:this.props.renderingObjectInfo},tags:{rtjson:"rendering"}})}render(){const e=this.props,{renderingObjectInfo:t,renderFallback:s=this.renderDefaultFallback}=e,n=he(e,["renderingObjectInfo","renderFallback"]);if(this.hasError||this.state.hasError)return s();try{return fe(n)}catch(r){return this.hasError=!0,this.logError(r),s()}}}},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,s){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaContainer:"_1uZBAwg0skEanBXfZsIWJh",mediaContainer:"_1uZBAwg0skEanBXfZsIWJh",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",giphy:"_3J81Ds3WITP7zlq_PlUmGf"}}}]);
//# sourceMappingURL=ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListin~44a849ee.f129eab90405d1395450.js.map

}
/*
     FILE ARCHIVED ON 04:11:03 Oct 01, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:47:15 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.14
  exclusion.robots.policy: 0.124
  cdx.remote: 0.208
  esindex: 0.017
  LoadShardBlock: 127.982 (6)
  PetaboxLoader3.datanode: 110.443 (7)
  load_resource: 71.929
  PetaboxLoader3.resolve: 55.125
*/