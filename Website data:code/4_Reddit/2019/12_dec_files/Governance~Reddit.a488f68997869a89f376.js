var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["Governance~Reddit"],{"./assets/fonts/NotoMono/font.less":function(e,t,n){},"./src/graphql/operations/AllUserMultireddits.json":function(e){e.exports=JSON.parse('{"id":"0a5fcd52ba67"}')},"./src/graphql/operations/CommentToxicity.json":function(e){e.exports=JSON.parse('{"id":"445164f0825f"}')},"./src/graphql/operations/CommunityAwardsBlacklistStatus.json":function(e){e.exports=JSON.parse('{"id":"7af03aa4c24e"}')},"./src/graphql/operations/CreateCommunityAward.json":function(e){e.exports=JSON.parse('{"id":"38852e4f82b0"}')},"./src/graphql/operations/CreateGlobalAward.json":function(e){e.exports=JSON.parse('{"id":"13b32e3769d6"}')},"./src/graphql/operations/CreateLayer.json":function(e){e.exports=JSON.parse('{"id":"eb0c351cea1c"}')},"./src/graphql/operations/CreateModAward.json":function(e){e.exports=JSON.parse('{"id":"a04c85b4e964"}')},"./src/graphql/operations/CreateSubredditTags.json":function(e){e.exports=JSON.parse('{"id":"639d65a32e0e"}')},"./src/graphql/operations/DeleteAward.json":function(e){e.exports=JSON.parse('{"id":"4d31f6356d57"}')},"./src/graphql/operations/DeleteTags.json":function(e){e.exports=JSON.parse('{"id":"85a644f8353a"}')},"./src/graphql/operations/DisableAward.json":function(e){e.exports=JSON.parse('{"id":"5e453976052b"}')},"./src/graphql/operations/ExperimentVariants.json":function(e){e.exports=JSON.parse('{"id":"34910619f1e9"}')},"./src/graphql/operations/FetchGlobalTags.json":function(e){e.exports=JSON.parse('{"id":"1d3331c579e0"}')},"./src/graphql/operations/FetchSubredditTags.json":function(e){e.exports=JSON.parse('{"id":"8e39ae6fa332"}')},"./src/graphql/operations/FocusVerticalSubredditRecommendations.json":function(e){e.exports=JSON.parse('{"id":"cf1c688e595c"}')},"./src/graphql/operations/Frontpage.json":function(e){e.exports=JSON.parse('{"id":"561d850a444e"}')},"./src/graphql/operations/GetPostRequirements.json":function(e){e.exports=JSON.parse('{"id":"4231b7734ef9"}')},"./src/graphql/operations/ManageableAwards.json":function(e){e.exports=JSON.parse('{"id":"08c803ef139c"}')},"./src/graphql/operations/ModeratedSubreddits.json":function(e){e.exports=JSON.parse('{"id":"3c148c0b5100"}')},"./src/graphql/operations/MultiredditListing.json":function(e){e.exports=JSON.parse('{"id":"3adfdfd1416c"}')},"./src/graphql/operations/OtherDiscussions.json":function(e){e.exports=JSON.parse('{"id":"64f61a650471"}')},"./src/graphql/operations/RedditorMultireddits.json":function(e){e.exports=JSON.parse('{"id":"3d04e2bb92b5"}')},"./src/graphql/operations/RichTextPostContent.json":function(e){e.exports=JSON.parse('{"id":"fc24b7b690ad"}')},"./src/graphql/operations/SinglePost.json":function(e){e.exports=JSON.parse('{"id":"7c95ac3a8dad"}')},"./src/graphql/operations/SubredditAbout.json":function(e){e.exports=JSON.parse('{"id":"d423058de189"}')},"./src/graphql/operations/SubredditDifficulty.json":function(e){e.exports=JSON.parse('{"id":"1479a476a03b"}')},"./src/graphql/operations/SubredditModels.json":function(e){e.exports=JSON.parse('{"id":"d98849822078"}')},"./src/graphql/operations/SubredditPage.json":function(e){e.exports=JSON.parse('{"id":"2445a3331f87"}')},"./src/graphql/operations/SubredditPostFlairStyleTemplates.json":function(e){e.exports=JSON.parse('{"id":"9a87d9b91dc4"}')},"./src/graphql/operations/SubredditPosts.json":function(e){e.exports=JSON.parse('{"id":"79674779fd6b"}')},"./src/graphql/operations/SubredditRecommendations.json":function(e){e.exports=JSON.parse('{"id":"43275c35dbb6"}')},"./src/graphql/operations/SubredditRules.json":function(e){e.exports=JSON.parse('{"id":"0df127946e72"}')},"./src/graphql/operations/SubredditStyles.json":function(e){e.exports=JSON.parse('{"id":"8d0e34deaa32"}')},"./src/graphql/operations/SubredditTopContent.json":function(e){e.exports=JSON.parse('{"id":"de58054468aa"}')},"./src/graphql/operations/SubredditTypeaheadSearch.json":function(e){e.exports=JSON.parse('{"id":"20edc5ee12df"}')},"./src/graphql/operations/TopSubreddits.json":function(e){e.exports=JSON.parse('{"id":"9e9ef4c82a00"}')},"./src/graphql/operations/UpdatePostRequirements.json":function(e){e.exports=JSON.parse('{"id":"8732ab4560ce"}')},"./src/graphql/operations/UpdateSubredditTagStates.json":function(e){e.exports=JSON.parse('{"id":"70f7ff70f03e"}')},"./src/graphql/operations/UpdateSubredditTagStatesRelevance.json":function(e){e.exports=JSON.parse('{"id":"ee43ccb6e5eb"}')},"./src/graphql/operations/UsableAwards.json":function(e){e.exports=JSON.parse('{"id":"745201a7132e"}')},"./src/graphql/operations/UsableAwardsForProfile.json":function(e){e.exports=JSON.parse('{"id":"0ed9ee84b867"}')},"./src/graphql/operations/UserDataExportEligibility.json":function(e){e.exports=JSON.parse('{"id":"3817c69d7a39"}')},"./src/lib/CSSVariableProvider/withTheme.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/CSSVariableProvider/index.tsx");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return t=>s.a.createElement(o.b.Consumer,null,n=>s.a.createElement(e,i({theme:n},t)))}},"./src/lib/FocusTrap/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=['input:not([type="hidden"]):not([disabled])',"select:not([disabled])","textarea:not([disabled])","a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])',"audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join();class s{constructor(e){this.active=!1,this.onKeyDown=e=>{if("Tab"===e.key||9===e.keyCode){const[t,n]=this.getTabbableNodes();if(!t||!n)return;e.shiftKey&&e.target===t?(e.preventDefault(),this.tryToFocusNode(n)):e.shiftKey||e.target!==n||(e.preventDefault(),this.tryToFocusNode(t))}},this.container=e}activate(){this.active||(this.active=!0,document.addEventListener("keydown",this.onKeyDown,!0))}deactivate(){this.active&&(document.removeEventListener("keydown",this.onKeyDown,!0),this.active=!1)}getTabbableNodes(){const e=this.container.querySelectorAll(r);return[e[0],e[e.length-1]]}tryToFocusNode(e){e!==document.activeElement&&e.focus&&e.focus()}}},"./src/lib/addAllowQuarantinedParam/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{allow_quarantined:!0})},"./src/lib/assertNever.ts":function(e,t,n){"use strict";function r(e){throw new Error("Unexpected object: ".concat(e))}n.d(t,"a",(function(){return r}))},"./src/lib/base64/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));window.atob;const r=window.btoa},"./src/lib/bigNumberUtils/percent.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/bignumber.js/bignumber.js");function s(e,t){const n=new r.BigNumber(e),s=new r.BigNumber(t),o=new r.BigNumber(n.dividedBy(s)),i=new r.BigNumber("100").multipliedBy(o);return new r.BigNumber(i).toNumber()}},"./src/lib/constants/specialMembership.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="custom"},"./src/lib/eventTools/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r,s=n("./src/lib/constants/index.ts");function o(e,t){const n=e*s.Bb,o=t*s.Bb,i=Date.now();return i<n?r.Future:i>=n&&i<=o?r.Live:r.Past}function i(e,t){return o(e,t)===r.Future}function c(e){return function(e,t){const n=e/t;return n>=0?Math.floor(n):Math.ceil(n)}(e*s.Bb-Date.now(),s.w)}function a(e){const t=e*s.Bb,n=new Date,r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}!function(e){e.Future="before",e.Live="now",e.Past="after"}(r||(r={}))},"./src/lib/filterQueryParams/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.search.js");var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/url/url.js"),i=n.n(o);t.a=(e,t)=>{const n=i.a.parse(e,!0);return n.search=void 0,n.query=Object.assign({},s()(n.query,t)),i.a.format(n)}},"./src/lib/forceHttps/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=function(e){return e.startsWith("http")?e.replace(/^http:\/\//i,"https://"):"https://".concat(e)}},"./src/lib/formatApiError/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/app/strings/index.ts"),s=n("./src/app/strings/sources/error.js");function o(e,t,n){return t?t.fields&&t.fields.length?t.fields.map(e=>e.msg).join(", "):t.type&&s.a[t.type]?Object(r.a)(e,"error.".concat(t.type)):401===n?Object(r.a)(e,"error.authentication"):Object(r.a)(e,"error.generic"):""}},"./src/lib/formatEmojiName/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const r=":",s=/^:[A-Za-z0-9_-]{1,24}:$/;function o(e){return s.test(e)?e:"".concat(r).concat(e).concat(r)}},"./src/lib/getParsedUserAgent/index.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/ua-parser-js/src/ua-parser.js"),s=n.n(r);const o=e=>"mobile"===u(e).device.type,i=e=>"mobile"!==u(e).device.type,c=e=>"Chrome"===u(e).browser.name,a=e=>"Firefox"===u(e).browser.name,d=e=>"Opera"===u(e).browser.name;function u(e){return new s.a(e).getResult()}},"./src/lib/getUrlQueryParams/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/extractQueryParams/index.ts");function s(){return Object(r.a)(window.location.href)}},"./src/lib/isAdHocMultireddit/index.ts":function(e,t,n){"use strict";const r=/^(all|mod)(\b|$)/;t.a=e=>{const t=e.toLowerCase();return!r.test(t)&&(t.indexOf("+")>-1&&-1===t.indexOf("-"))}},"./src/lib/isFakeSubreddit/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/page.ts");const s=[r.a,r.b,r.d.Frontpage,r.d.All,r.d.Mod,r.d.Friends,r.d.Popular,r.d.Topic].concat(["random","randnsfw","myrandom"]);t.a=e=>{const t=e.toLowerCase();return s.includes(t)||t.indexOf("+")>-1||t.indexOf("-")>-1}},"./src/lib/isPinnedAdminPost/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts");t.a=(e,t)=>e&&t===r.B.ADMIN},"./src/lib/listingSort/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/constants/index.ts");const s=e=>e===r.N.TOP||e===r.N.CONTROVERSIAL,o=e=>{let{timeSort:t}=e;return(t=s(e.sort)?t||r.Pb:void 0)===e.timeSort?e:Object.assign({},e,{timeSort:t})},i=e=>{const[t,n]=e.split("_");return o({sort:t,timeSort:n})},c=e=>{const{sort:t,timeSort:n}=o(e);return t+(n?"_".concat(n):"")}},"./src/lib/loginHref/index.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/history/esm/history.js");t.a=(e,t,n)=>{const o=Object(s.e)(e),i=encodeURIComponent("".concat(t).concat(o));return"".concat(r.a.accountManagerOrigin).concat(n||"/login","?dest=").concat(i)}},"./src/lib/makeCollectionCommentsPageKey/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");t.a=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="collectionCommentsPage--[collection:'".concat(e,"']");return t&&(s+="--[post:'".concat(t,"']")),n&&(s+="--[rootComment:'".concat(n,"']")),r&&(r.sort&&r.hasSortParam&&(s+="--[sort:'".concat(r.sort,"']")),r.context&&(s+="--[context:".concat(r.context,"]")),r.depth&&(s+="--[depth:".concat(r.depth,"]"))),s}},"./src/lib/makeCommentPermalink/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/redditId/index.ts");t.a=(e,t)=>{let n=e;return"/"!==n.substr(-1)&&(n+="/"),n+=Object(r.c)(t)}},"./src/lib/makeCommentsPageKey/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="commentsPage--[post:'".concat(e,"']");return t&&(r+="--[rootComment:'".concat(t,"']")),n&&(n.sort&&n.hasSortParam&&(r+="--[sort:'".concat(n.sort,"']")),n.context&&(r+="--[context:".concat(n.context,"]")),n.depth&&(r+="--[depth:".concat(n.depth,"]"))),r}},"./src/lib/makeDraftKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/models/PostDraft/index.ts");function s(e,t){return"".concat(r.c[e],"_").concat(t)}},"./src/lib/makeExplorePageKey/index.ts":function(e,t,n){"use strict";function r(e){return"Explore--[categoryName:".concat(e.categoryName,"]")}n.d(t,"a",(function(){return r}))},"./src/lib/makeGqlRequest/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/lib/addQueryParams/index.ts")),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/constants/headers.ts"),a=n("./src/lib/env/index.ts"),d=n("./src/lib/logs/errors.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/makeRequest/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/customMiddleware/gqlContext.ts"),f=n("./src/reddit/singleton/tracing/index.ts");n.d(t,"a",(function(){return g}));const m=(e,t)=>{const n=Object.assign({},t,{headers:Object.assign({},t.headers||{},e.headers)}),r=Object(a.b)()?[b.a]:[b.a,c.c];n.headers=s()(n.headers,r);const i=f.a.getTracingHeaders();return n.headers=Object.assign({},n.headers,i),n.endpoint=(e=>Object(o.a)(e,{request_timestamp:Date.now().toString()}))(n.endpoint),n},O=(e,t,n)=>{const{errors:r}=n.body;r&&r.length&&Object(d.a)({context:e,endpoint:t.endpoint,error:r.map(e=>e.message).join("\n"),type:i.p.GQL})};function g(e,t,n){const r=n&&n.traceRequestName?n.traceRequestName:"gql_api_call";return f.a.recordRpcSpanAsync(r,async()=>{const r=Object(p.b)(e),s=Object.assign({},n?Object.assign({},n):{},{data:t,method:i.bb.POST,endpoint:r.apiUrl,type:"json"}),o=m(r,s);return r.onBeforeRequest(o),Object(l.b)(o).then(e=>(r.onResponse(e,{allowSetEmptyLoid:t.allowSetEmptyLoid}),!e.ok&&(Object(u.d)(r,s,e),e.status>=400)?Object.assign({},e,{error:{type:Object(u.e)(e.status)}}):e.body.errors?(O(r,Object.assign({},s,{operation:t.id||t.query}),e),Object.assign({},e,{ok:!1,error:{type:i.D.BAD_REQUEST,fields:e.body.errors.map(e=>({msg:e.message||""}))}})):(e.ok&&e.body,Object.assign({},e,{error:null}))))})}},"./src/lib/makeListingKey/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/isAdHocMultireddit/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts");const o=e=>e.includes("--[sort:");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e||"";return Object(s.a)(o)&&Object(r.a)(o)&&(o=o.split("+").sort().join("+")),t&&(o+="--[sort:'".concat(t,"']")),n.after&&(o+="--[after:'".concat(n.after,"']")),n.before&&(o+="--[before:'".concat(n.before,"']")),n.category&&(o+="--[category:'".concat(n.category,"']")),n.categoryId&&(o+="--[category:'".concat(n.categoryId,"']")),n.t&&(o+="--[t:'".concat(n.t,"']")),n.geo_filter&&(o+="--[geo_filter:'".concat(n.geo_filter,"']")),n.isOtherDiscussions&&(o+="--[onOtherDiscussions]"),n.subredditName&&(o+="--[subredditName:'".concat(n.subredditName,"']")),n.topicName&&(o+="--[topic:'".concat(n.topicName,"']")),o.toLowerCase()}},"./src/lib/makeOnboardingSubredditsKey/index.ts":function(e,t,n){"use strict";t.a=e=>{let t="onboarding";return e.city&&(t+="--[city:'".concat(e.city,"']")),e.country&&(t+="--[country:'".concat(e.country,"']")),e.region&&(t+="--[region:'".concat(e.region,"']")),t.toLowerCase()}},"./src/lib/makeOverviewConversationsItemKey/index.ts":function(e,t,n){"use strict";t.a=(e,t)=>{return"overviewConversations--[profile:'".concat(t,"']--[post:'").concat(e,"']")}},"./src/lib/makePostCreationPageKey/index.ts":function(e,t,n){"use strict";function r(e){let t="PostCreationPage";return e.subredditName&&(t+="--[subreddit:".concat(e.subredditName,"]")),e.profileName&&(t+="--[profile:".concat(e.profileName,"]")),e.collectionId&&(t+="--[collection:".concat(e.collectionId,"]")),t}n.d(t,"a",(function(){return r}))},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,n){"use strict";function r(e){let t="PostDraftPage";return e.draftId&&(t+="--[draftId:".concat(e.draftId,"]")),t}n.d(t,"a",(function(){return r}))},"./src/lib/makeSearchKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r,s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/constants/parameters.ts");!function(e){e.Trending="trending",e.PromotedTrend="promoted_trend"}(r||(r={}));const i=e=>{return c(e).join(",")},c=e=>{let t;return"string"==typeof e?t=decodeURIComponent(e).split(",").filter(s.Yb).sort():Array.isArray(e)&&(t=e.filter(s.Yb).sort()),t&&0!==t.length||(t=[s.Jb.Posts,s.Jb.Subreddits,s.Jb.Users]),t},a=new Set(["f","n","0"]),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();return!(0===t.length||"off"===t||a.has(t[0]))},u=e=>e?"1":"",l=e=>{const t=e.sort&&Object(s.Xb)(e.sort)?e.sort:s.zb,n=e.t&&s.Tb.has(e.t)?e.t:s.Ab,r=c(e.type),i={ad:e.ad,q:e.q,sort:t,t:n,type:r};return void 0!==e.include_over_18&&(i.include_over_18=u(d(e.include_over_18))),void 0!==e.restrict_sr&&(i.restrict_sr=u(d(e.restrict_sr))),e.is_multi&&(i.is_multi=u(d(e.is_multi))),e.category&&(i.category=e.category),e[o.b]&&(i.category_name=e.category_name),e[o.r]&&(i.source=e.source),i};t.b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e||"!";return t&&(r="".concat(r,"--[user:").concat(t,"]")),n.include_over_18&&(r="".concat(r,"--[include_over_18:").concat(n.include_over_18,"]")),n.q&&(r="".concat(r,"--[q:").concat(n.q,"]")),n.restrict_sr&&(r="".concat(r,"--[restrict_sr:").concat(n.restrict_sr,"]")),n.sort&&(r="".concat(r,"--[sort:").concat(n.sort,"]")),n.t&&(r="".concat(r,"--[t:").concat(n.t,"]")),n.category&&(r="".concat(r,"--[c:").concat(n.category,"]")),n.type&&(r="".concat(r,"--[type:").concat(i(n.type),"]")),r.toLowerCase()}},"./src/lib/objectSelector/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r);function o(e){let t=null;return(n,r)=>{const o=e(n,r);return s()(o,t)?t:(t=o,o)}}const i=e=>{const t=o(e);return e=>t(e,null)}},"./src/lib/omitKey/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.symbol.js");var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};function s(e,t){if(t in e){const n=t;e[n];return r(e,["symbol"==typeof n?n:n+""])}return e}},"./src/lib/search/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/addQueryParams/index.ts");const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return decodeURIComponent(e).replace(/\+/g," ")},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return encodeURIComponent(e)},i=(e,t,n)=>{return Object(r.a)(e,n).replace(/(\?|&)(q=)([^&]*)/,(e,n,r)=>e?"".concat(n).concat(r).concat(t):e)}},"./src/lib/truncateText/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es7.string.trim-right.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");const r=/\s*[,-:;\u2013\u2014]\s*$/;function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e.length<=t||t<0)return e;if((e=e.trim().replace(/\s+/g," ")).length<=t)return e;t-=n.length;let s=e.lastIndexOf(" ",t);return s=s>0?s:t,e.slice(0,s).replace(r,"").trimRight()+n}},"./src/lib/uploadToS3/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeRequest/index.ts");const i=(e,t)=>{const n=new FormData;return t.fields.forEach(e=>{e.value&&n.append(e.name,e.value)}),n.append("file",e),n};t.a=async(e,t,c)=>{const a=(()=>Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~xml2js"),n.e("xml2js")]).then(n.t.bind(null,"./node_modules/xml2js/lib/xml2js.js",7))).then(e=>e.default))(),d=await Object(o.b)({data:i(e,t),endpoint:t.action,method:r.bb.POST,type:null,setup:c});if("string"!=typeof d.body)return d;try{(await a).parseString(d.body,(e,t)=>{d.body=t})}catch(u){d.body=u}return d}},"./src/reddit/actions/ads/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="AD_BRAND_SAFETY_STATUS_RECEIVED",s="FETCH_COMMENTS_PAGE_ADS_COMPLETED",o="FETCH_COMMENTS_PAGE_ADS_FAILED",i="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",c="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",a="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",d="REFRESH_SIDEBAR_PROMOTED_POST_FAILED",u="RESET_SIDEBAR_PROMOTED_POSTS"},"./src/reddit/actions/ads/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts");const c=async(e,t,n)=>{const r={count:t};return n&&(r.subreddit=n),Object(i.b)(e,{type:"json",endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/sidebar_ads"),method:o.bb.POST,data:r})};var a=n("./src/reddit/helpers/adCount/index.ts"),d=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),u=n("./src/reddit/selectors/brandSafety.ts"),l=n("./src/reddit/selectors/platform.ts"),b=n("./src/reddit/selectors/posts.ts"),p=n("./src/reddit/actions/ads/constants.ts");n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return I}));const f=Object(r.a)(p.a),m=e=>async(t,n)=>{const r=n();Object(u.c)(r)&&Object(u.d)(r)===e.isViewSafe||t(f(e))},O=Object(r.a)(p.d),g=Object(r.a)(p.e),j=Object(r.a)(p.f),y=Object(r.a)(p.g),_=(Object(r.a)(p.h),Object(r.a)(p.b)),h=(Object(r.a)(p.c),e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(a.b)(o,e),u=i.length;if(0===u)return;switch(e){case d.a.COMMENTS:case d.a.COMMENTS_OVERLAY:if(!Object(l.n)(o,{page:o.platform.currentPage}))return;break;case d.a.FRONTPAGE:case d.a.MULTIREDDIT:case d.a.SEARCH_RESULTS:case d.a.SUBREDDIT:{const e=o.listings.activeKey,t=Object(b.N)(o,{listingKey:e});if(!t||!t.length)return;break}default:return void 0}const p=Object(l.e)(o);let f;if((f=p?await c(s(),u,p):await c(s(),u)).body&&f.body.length){const e=f.body,n={};for(let t=0;t<e.length;t++)n[i[t]]=e[t];t(O(n))}else t(g(f.error))}),E=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await c(s(),1);o.body&&o.body.length?t(j({[e]:o.body[0]})):t(y(o.error))},I=e=>async(t,n,r)=>{let{apiContext:c}=r;const a=Object(l.e)(n()),d=await(async(e,t,n,r)=>{const c={count:t,subreddit:r,post_id:n};return Object(i.b)(e,{type:"json",endpoint:"".concat(s.a.gatewayUrl,"/desktopapi/v1/comments_page_ads"),method:o.bb.POST,data:c})})(c(),1,e,a);d.body&&d.body.length?t(_(d.body)):t(g(d.error))}},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/makeActionCreator/index.ts");const s="API_REQUEST_HEADERS__set";Object(r.a)(s)},"./src/reddit/actions/apiRequestState.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/models/ApiRequestState/index.ts");const o="API_REQUEST_STATE__STARTED",i="API_REQUEST_STATE__COMPLETED",c="API_REQUEST_STATE__FAILED",a="API_REQUEST_STATE__RELEASED";function d(e){return{type:o,payload:{apiRequestStatus:s.a.Pending,apiRequestId:e}}}function u(e){return{type:i,payload:{apiRequestStatus:s.a.Complete,apiRequestId:e}}}function l(e,t){return{type:c,payload:{apiRequestStatus:s.a.Failed,apiRequestId:e,apiError:t}}}const b=Object(r.a)(a)},"./src/reddit/actions/authorFlair.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",o=Object(r.a)(s)},"./src/reddit/actions/badge.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return T}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/governance/errorToast.ts"),o=n("./src/reddit/endpoints/governance/badges.ts");const i="BADGE__BADGE_MODAL_OPENED",c="BADGE__BADGE_APPLICATION_SUCCESS",a="BADGE__BADGE_APPLICATION_FAILURE",d="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",u="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",l="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",b="BADGE__USER_BADGES_FETCH_SUCCESS",p="BADGE__USER_BADGES_FETCH_FAILURE",f="BADGE__USER_BADGES_FETCH_PENDING",m=Object(r.a)(i),O=Object(r.a)(c),g=Object(r.a)(a),j=(Object(r.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(r.a)(d)),y=Object(r.a)(u),_=Object(r.a)(l),h=Object(r.a)(b),E=Object(r.a)(p),I=Object(r.a)(f),v=e=>{let{badgeIds:t,subredditId:n}=e;return async(e,r,i)=>{let{apiContext:c}=i;const a=r(),d=a.user.account;if(d){const r=(a.users.appliedBadges[d.id]||{})[n]||[],i=t.length?t[0]:r[0],u=!!t.length;e(O({badgeIds:t,subredditId:n,userId:d.id}));const l=await Object(o.a)(c(),n,i,u);l.ok||(e(g({badgeIds:t,subredditId:n,error:l.error,previousBadgeIds:r,userId:d.id})),Object(s.a)(e,l.error))}}},S=e=>{let{subredditId:t,userIds:n}=e;return async(e,r,s)=>{let{apiContext:i}=s;e(_({subredditId:t}));const c=await Object(o.b)(i(),t,n);c.ok?e(j(Object.assign({},c.body,{subredditId:t}))):e(y({subredditId:t,error:c.error}))}},T=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;const i=n().user.account;if(i){e(I({subredditId:t}));const n=await Object(o.c)(s(),t,i.id);n.ok?e(h(Object.assign({},n.body,{subredditId:t}))):e(E({subredditId:t,error:n.error}))}}}},"./src/reddit/actions/bulkActions/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="BULKACTION_PENDING",s="BULKACTION_LOADED",o="BULKACTION_FAILED"},"./src/reddit/actions/category.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"k",(function(){return x}));var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/categories.tsx"),a=n("./src/reddit/endpoints/category/categoryList.ts"),d=n("./src/reddit/endpoints/category/subreddits.ts"),u=n("./src/reddit/helpers/localStorage/index.ts"),l=n("./src/reddit/selectors/category.ts");const b="CATEGORY__LIST_PENDING",p="CATEGORY__LIST_LOADED",f="CATEGORY__LIST_FAILED",m=Object(i.a)(b),O=Object(i.a)(p),g=Object(i.a)(f),j=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(l.k)(s),i=Object(l.j)(s);if(o||i)return;e(m());const c=await Object(a.a)(r());if(c.ok){const{categories:t,categoryIds:n}=Object(a.b)(c.body);e(O({categories:t,categoryIds:n}))}else e(g(c.error))},y="CATEGORY__SUBREDDITS_PENDING",_="CATEGORY__SUBREDDITS_LOADED",h="CATEGORY__SUBREDDITS_FAILED",E=Object(i.a)(y),I=Object(i.a)(_),v=Object(i.a)(h),S=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(l.p)(i,{id:e}),a=Object(l.o)(i,{id:e});if(c||a)return;n(E({categoryId:e}));const u=await Object(d.a)(o(),e,t);if(u.ok){const t=Object(d.b)(u.body);n(I(Object.assign({categoryId:e},t)))}else n(v({categoryId:e,error:u.error}))},T=e=>async(t,n,r)=>{let{apiContext:i}=r;await t(S(e));const a=n(),d=Object(l.n)(a,{id:e});if(!d)return;const{name:u}=d,b=Object(l.d)()(a,{categoryName:u});s()(b)||t(Object(o.b)(Object(c.e)(b)))},C="CATEGORY__RANK_SET",w=Object(i.a)(C),x=e=>async(t,n)=>{const r=Object(l.m)(n(),{id:e});t(w({categoryId:e,rank:r+1})),Object(u.G)(Object(l.h)(n()))}},"./src/reddit/actions/chat/constants.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.anybody="Everyone",e.account_age_30_days="Accounts older than 30 days",e.nobody="Nobody"}(r||(r={}))},"./src/reddit/actions/chat/init.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n("./src/chat/reducers/subscribe.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/lib/makeActionCreator/index.ts");let i;let c;const a="CHAT__INITED",d=Object(o.a)(a),u=async(e,t,o)=>c?{chatStore:c,firstInit:!1}:(c=await(async(e,t,r)=>{const o=Date.now(),i=await Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/initializer.ts"))).then(e=>e.default);return(await i(t(),o,r)).store})(0,t,o),await(async(e,t,o)=>{if(!i){const c=(await Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/reddit/actions/chat/proxy.ts"))).then(e=>e.default))(t,o),a=Object(r.b)(e,c);i=e.subscribe(a)}})(c,e,t),e(d()),{chatStore:c,firstInit:!0})},"./src/reddit/actions/chat/sendbirdProxy.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts");const o="SENDBIRD_PROXY__SET_CONFIG",i=Object(r.a)(o),c=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=await Object(s.h)(r());o.ok&&await e(i(o.body))}},"./src/reddit/actions/chat/subredditChannel.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return I})),n.d(t,"j",(function(){return S})),n.d(t,"b",(function(){return C}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts"),o=n("./src/reddit/models/SubredditChannel/index.ts"),i=n("./src/reddit/selectors/chat.ts"),c=n("./src/reddit/selectors/user.ts");const a="SUBREDDIT_CHANNELS__REQUESTED",d="SUBREDDIT_CHANNELS__ADDED",u="SUBREDDIT_CHANNELS__FAILED",l="SUBREDDIT_CHANNEL__ADDED",b="SUBREDDIT_CHANNEL__SELECTED",p="SUBREDDIT_CHANNEL__EDITED",f="SUBREDDIT_CHANNEL__REMOVED",m=Object(r.a)(b),O=Object(r.a)(a),g=Object(r.a)(u),j=Object(r.a)(d),y=Object(r.a)(l),_=Object(r.a)("SUBREDDIT_CHANNEL__FAILED"),h=e=>async(t,n,r)=>{let{apiContext:c}=r;const{user:{account:a,session:d}}=n();if(!a||!d)return;t(O({subredditId:e}));const u=Object(i.d)(n(),{subredditId:e}),l=await Object(s.i)(c(),e,u);if(l.ok){const{rooms:n,subreddit_chat_enabled:r,user_subreddit_chat_enabled:s}=l.body,i=Object(o.d)(n);t(j({collection:i,subredditId:e,isSubredditWhitelisted:!!r,isUserSubredditChatEnabled:!!s}))}else if(l.error){const{error:n}=l;t(g({error:n,subredditId:e}))}},E=(e,t)=>async(n,r,i)=>{let{apiContext:c}=i;const{user:{account:a,session:d}}=r();if(!a||!d)return;const u=await Object(s.d)(c(),d,t);if(u.ok){const r=Object(o.e)(Object.assign({},u.body,t));return await n(y({channel:r,subredditId:e})),r}n(_(u.error))},I=(e,t)=>async(n,r,o)=>{let{apiContext:i}=o;const{channelSendbirdUrl:c}=e,{user:{session:a}}=r();if(!a)return;const d=await Object(s.f)(i(),c,a,t);d.ok?n(v({channel:e,editedSubredditChannelData:t})):n(_(d.error))},v=Object(r.a)(p),S=e=>async(t,n,r)=>{let{apiContext:o}=r;const{channelId:i,channelSendbirdUrl:a}=e,d=n();if(!Object(c.J)(d))return;const u=await Object(s.e)(o(),a);u.ok?t(T(i)):t(_(u.error))},T=Object(r.a)(f),C="SUBREDDIT_CHANNELS__ENABLED";Object(r.a)(C)},"./src/reddit/actions/chat/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/chat/index.ts"),o=n("./src/reddit/selectors/user.ts");const i="CHAT_SUBREDDIT_SETTINGS__SET",c=Object(r.a)(i),a=Object(r.a)("CHAT_SUBREDDIT_SETTINGS__SET_FAILED"),d=async(e,t,n)=>{try{if(n)return await e(c(Object.assign({subredditId:t},n))),n}catch(r){a(r)}},u=e=>async(t,n,r)=>{let{apiContext:i}=r;try{const r=n();if(!Object(o.J)(r))return;const c=await Object(s.g)(i(),e);return d(t,e,c)}catch(c){a(c)}},l=(e,t)=>async(n,r,i)=>{let{apiContext:c}=i;try{const i=r();if(!Object(o.J)(i))return;const a=await Object(s.j)(c(),e,t);a.ok&&d(n,e,a.body)}catch(u){a(u)}}},"./src/reddit/actions/chat/toggle.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/chat/constants/container.ts"),i=n("./src/reddit/actions/chat/init.ts");const c=()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/container.ts"))).then(e=>e.sizeChanged);async function a(e,t,n){const[{chatStore:s,firstInit:a},d]=await Promise.all([Object(i.c)(e,t,n),c()]);s.getState().container.size!==o.a.EMBED&&s.dispatch(d(o.a.EMBED)),!a&&s.dispatch(Object(r.c)(n))}const d=()=>async(e,t)=>Promise.all([Object(i.c)(e,t),c()]).then(e=>{let[{chatStore:t,firstInit:n},r]=e;t.getState().container.size!==o.a.EMBED||n?t.dispatch(r(o.a.EMBED)):t.dispatch(r(o.a.HIDDEN))}),u=e=>async(t,r)=>{const o=(await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUserIdUrl))())(e);await a(t,r,o)},l=(e,t)=>async(r,o)=>{const i=(await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/helpers/urls/index.ts"))).then(e=>e.channelUrl))())(e,t);await a(r,o,i)},b=e=>async(t,r)=>{if(!i.b)return;const o=await(()=>Object(s.a)(()=>Promise.all([n.e("vendors~Chat~RedesignChat"),n.e("Chat~RedesignChat"),n.e("RedesignChat")]).then(n.bind(null,"./src/chat/actions/theme.ts"))).then(e=>e.switchTheme))();i.b.dispatch(o(e))}},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return y}));var r,s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/chat/endpoints/sendbird/index.ts"),c=n("./src/reddit/selectors/chat.ts"),a=n("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(r||(r={}));const{SYNC:d,REQUEST_FAILED:u,REQUEST_PENDING:l,REQUEST_SUCCESS:b}=r,p=Object(o.a)(d),f=Object(o.a)(u),m=Object(o.a)(l),O=Object(o.a)(b);let g;const j=5*s.cb,y=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!Object(a.J)(s)||!Object(c.e)(s))return clearTimeout(g);g||e((()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),{session:o}=s.user;if(o&&Object(a.J)(s)&&Object(c.e)(s)){e(m());const t=await Object(i.i)(r(),o);t&&t.ok?e(O({basicChannelCount:t.body.unread_count||0,subredditChannelCount:t.body.subreddit_unread_count||0})):e(f({error:t.error}))}})()),g=setTimeout(()=>{e(y())},j)}},"./src/reddit/actions/chat/userSettings.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=n("./src/reddit/featureFlags/index.ts"),l=n("./src/reddit/helpers/trackers/chat.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/models/Toast/index.ts"),f=n("./src/telemetry/index.ts"),m=n("./src/reddit/actions/chat/constants.ts");n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return I}));const O=Object(r.a)("USER_SETTINGS__FETCH_PENDING"),g=Object(r.a)("USER_SETTINGS__FETCH_FAILURE"),j="USER_SETTINGS__UPDATE_SUCCESS",y=Object(r.a)(j),_=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!u.d.userInChatUserSettings(s))return;e(O());const l=await(e=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(o.a.sendbirdServiceUrl,"/").concat("api/v1","/chat/me/settings"),method:i.bb.GET}))(r());if(l.ok){const t=Object.assign({},l.body);e(y({invitePolicy:m.a[t.invite_policy]}))}else e(g(l.error))},h=Object(r.a)("USER_SETTINGS__SAVE_PENDING"),E=Object(r.a)("USER_SETTINGS__SAVE_FAILURE"),I=e=>async(t,n,r)=>{let{apiContext:O}=r;const g=n();if(!u.d.userInChatUserSettings(g))return;const{invitePolicy:j}=e,_=Object.keys(m.a).find(e=>m.a[e]===j);if(_){t(h());const e=await(async(e,t)=>Object(c.b)(Object(a.a)(t,[d.a]),{endpoint:"".concat(o.a.sendbirdServiceUrl,"/").concat("api/v1","/chat/me/settings"),method:i.bb.PUT,data:JSON.stringify({invite_policy:e})}))(_,O());if(Object(f.a)(Object(l.f)(_)(g)),e.ok){const e=m.a[_];t(y({invitePolicy:e})),t(Object(s.e)({kind:p.b.SuccessCommunity,text:Object(b.c)("Changes saved")}))}else t(E(e.error))}}},"./src/reddit/actions/claimgold.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/reddit/models/Toast/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");var l=async(e,t)=>{const{code:n}=t,r={api_type:"json",code:n,raw_json:1};return Object(c.b)(Object(a.a)(e,[d.a]),{method:i.bb.POST,endpoint:"".concat(e.apiUrl,"/api/claimgold"),data:r}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},b=n("./src/reddit/helpers/genericServerError/index.ts"),p=n("./src/reddit/i18n/utils.ts"),f=n("./src/reddit/selectors/claimgold.ts"),m=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return h})),n.d(t,"j",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"h",(function(){return C}));const O="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",g="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",j=Object(r.a)(O),y=Object(r.a)(g),_=()=>async(e,t)=>{const n=t();Object(f.b)(n)?e(y()):e(j())},h="CLAIMGOLD_UPDATE_CODE",E=Object(r.a)(h),I="CLAIM_GOLD__TRIGGER_LOADER",v="CLAIM_GOLD__CLAIM_GOLD_PENDING",S="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",T="CLAIM_GOLD__CLAIM_GOLD_FAILED",C=()=>async(e,t,n)=>{let{apiContext:r}=n;const s={code:t().claimGold.code};e(D());try{const t=await l(r(),s);t.error?e(A(t)):e(N())}catch(o){e(A(o))}},w=Object(r.a)(I),x=Object(r.a)(v),D=()=>async(e,t)=>{e(x()),window.setTimeout(()=>{t().claimGold.api.pending&&e(w())},2e3)},P=Object(r.a)(T),A=e=>async(t,n)=>{const r=Object(m.S)(n());await t(P(Object.assign({},e,{error:e.error||Object(b.a)(r)})));const i=n().claimGold.api.error;i&&t(Object(s.e)({kind:o.b.Error,duration:s.a,text:i}))},R=Object(r.a)(S),N=()=>async(e,t)=>{e(R()),e(Object(s.e)({kind:o.b.SuccessCommunity,text:Object(p.c)("You have redeemed your gift code successfully")}))}},"./src/reddit/actions/comment/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/config.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/makeCommentsPageKey/index.ts"),a=n("./src/lib/makeDraftKey/index.ts"),d=n("./src/reddit/actions/economics/helpers/async.ts"),u=n("./src/reddit/actions/login.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/postCreation/editorContent.ts"),p=n("./src/reddit/actions/shortcuts.ts"),f=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/actions/vote.ts"),O=n("./src/reddit/constants/adEvents.ts"),g=n("./src/reddit/constants/modals.ts"),j=n("./src/lib/makeApiRequest/index.ts"),y=n("./src/lib/omitHeaders/index.ts"),_=n("./src/reddit/constants/headers.ts"),h=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),E=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),I=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const v=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/save")),method:o.bb.POST,data:{id:t}}),S=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/unsave")),method:o.bb.POST,data:{id:t}}),T=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/lock")),method:o.bb.POST,data:{id:t}}),C=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/unlock")),method:o.bb.POST,data:{id:t}}),w=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:o.bb.POST,data:{id:t}}),x=(e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:o.bb.POST,data:{id:t}});var D=n("./src/graphql/operations/CommentToxicity.json"),P=n("./src/lib/makeGqlRequest/index.ts"),A=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),R=n("./src/reddit/helpers/genericServerError/index.ts"),N=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),k=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),L=n("./src/reddit/models/PostCreationForm/index.ts");const U=(e,t,n,r)=>{let s,o;if(r===L.h.MARKDOWN)s=n.text,o=null;else{s=null;let e=null;n.rteState&&(e=A.a.toRichTextJSON(n.rteState).document),o=JSON.stringify({document:e})}return Object(P.a)(e,Object.assign({},D,{variables:{subredditName:t,markdown:s,richText:o}})).then(e=>!e.ok||e.body.data.isValidComment)},M=async(e,t,n,r,s,i)=>{const c={api_type:"json",return_rtjson:!0,thing_id:n};if(i===L.h.MARKDOWN)c.text=r.text;else{c.text=null;let e=null;r.rteState&&(e=A.a.toRichTextJSON(r.rteState).document),c.richtext_json=JSON.stringify({document:e})}return Object(j.b)(Object(y.a)(e,[_.a]),{method:o.bb.POST,endpoint:Object(h.a)(Object(E.a)(Object(I.a)("".concat(e.apiUrl,"/api/comment.json")))),data:c}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(k.a)(e)}):Object.assign({},e,{body:{comment:Object(N.a)(e.body.json.data.things[0].data,s)}}):Object.assign({},e,{body:{comment:Object(N.a)(e.body,s)}}):Object.assign({},e,{error:e.error||Object(R.a)(t)}))};var F=n("./src/reddit/endpoints/post/index.tsx"),G=n("./src/reddit/endpoints/post/convert.ts"),B=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),q=n("./src/reddit/featureFlags/index.ts"),V=n("./src/reddit/helpers/commentList/index.ts"),H=n("./src/reddit/helpers/dom/index.ts"),W=n("./src/reddit/helpers/pixels.ts"),K=n("./src/reddit/helpers/stewards.ts"),J=n("./src/reddit/selectors/telemetry.ts");var Y=n("./src/reddit/helpers/trackers/commentsPage.ts"),z=n("./src/reddit/i18n/utils.ts"),Q=n("./src/reddit/models/Comment/index.ts"),X=n("./src/reddit/models/Post/index.ts"),$=n("./src/reddit/models/PostDraft/index.ts"),Z=n("./src/reddit/models/RichTextJson/index.ts"),ee=n("./src/reddit/models/RichTextJson/nodeMakers.ts"),te=n("./src/reddit/models/Toast/index.ts"),ne=n("./src/reddit/models/Vote/index.ts"),re=n("./src/reddit/selectors/comments.ts"),se=n("./src/reddit/selectors/platform.ts"),oe=n("./src/reddit/selectors/posts.ts"),ie=n("./src/reddit/selectors/user.ts");n.d(t,"B",(function(){return ce})),n.d(t,"gb",(function(){return de})),n.d(t,"m",(function(){return ue})),n.d(t,"Q",(function(){return le})),n.d(t,"eb",(function(){return be})),n.d(t,"K",(function(){return me})),n.d(t,"P",(function(){return Oe})),n.d(t,"W",(function(){return ge})),n.d(t,"u",(function(){return je})),n.d(t,"t",(function(){return ye})),n.d(t,"s",(function(){return _e})),n.d(t,"X",(function(){return ve})),n.d(t,"pb",(function(){return Se})),n.d(t,"S",(function(){return Te})),n.d(t,"i",(function(){return Ce})),n.d(t,"h",(function(){return we})),n.d(t,"d",(function(){return xe})),n.d(t,"e",(function(){return De})),n.d(t,"c",(function(){return Pe})),n.d(t,"b",(function(){return Ae})),n.d(t,"j",(function(){return Re})),n.d(t,"M",(function(){return Ne})),n.d(t,"L",(function(){return ke})),n.d(t,"V",(function(){return Fe})),n.d(t,"lb",(function(){return Ge})),n.d(t,"J",(function(){return qe})),n.d(t,"G",(function(){return Ve})),n.d(t,"ab",(function(){return He})),n.d(t,"nb",(function(){return We})),n.d(t,"R",(function(){return Ke})),n.d(t,"D",(function(){return Je})),n.d(t,"F",(function(){return Ye})),n.d(t,"E",(function(){return ze})),n.d(t,"C",(function(){return Qe})),n.d(t,"kb",(function(){return $e})),n.d(t,"ib",(function(){return Ze})),n.d(t,"ob",(function(){return nt})),n.d(t,"rb",(function(){return rt})),n.d(t,"jb",(function(){return st})),n.d(t,"qb",(function(){return ot})),n.d(t,"hb",(function(){return it})),n.d(t,"o",(function(){return ct})),n.d(t,"n",(function(){return at})),n.d(t,"k",(function(){return dt})),n.d(t,"f",(function(){return ut})),n.d(t,"l",(function(){return lt})),n.d(t,"N",(function(){return pt})),n.d(t,"r",(function(){return Ot})),n.d(t,"O",(function(){return gt})),n.d(t,"mb",(function(){return jt})),n.d(t,"Y",(function(){return yt})),n.d(t,"Z",(function(){return _t})),n.d(t,"db",(function(){return ht})),n.d(t,"p",(function(){return Et})),n.d(t,"H",(function(){return vt})),n.d(t,"q",(function(){return St})),n.d(t,"z",(function(){return Tt})),n.d(t,"y",(function(){return Ct})),n.d(t,"A",(function(){return wt})),n.d(t,"g",(function(){return xt})),n.d(t,"U",(function(){return Pt})),n.d(t,"T",(function(){return kt})),n.d(t,"cb",(function(){return Lt})),n.d(t,"w",(function(){return Ut})),n.d(t,"v",(function(){return Mt})),n.d(t,"x",(function(){return Ft})),n.d(t,"bb",(function(){return Vt})),n.d(t,"fb",(function(){return Ht})),n.d(t,"a",(function(){return Wt})),n.d(t,"I",(function(){return Kt}));const ce="COMMENT__STICKIED_COMMENT_SUCCESS",ae={},de=Object(i.a)(ce),ue="COMMENT__MUTATED",le=Object(i.a)(ue),be=e=>async(t,n,r)=>{let{apiContext:s}=r;if(!Object(ie.J)(n()))return t(Object(u.f)()),void t(Object(l.k)({actionSource:l.a.Save,redirectUrl:Object(re.n)(n(),{commentId:e})}));const o=n().comments.models[e];if(!o)return;const i=o.isSaved?S:v;if(t(le({[e]:{isSaved:!o.isSaved}})),(await i(s(),e)).ok){const n=o.isSaved?Object(z.c)("Comment unsaved successfully"):Object(z.c)("Comment saved successfully"),r=Object(z.c)("Undo");t(Object(f.e)({text:n,kind:te.b.Undo,buttonText:r,buttonAction:be(e)}))}else t(le({[e]:{isSaved:o.isSaved}}))},pe=e=>"viewing-comment-".concat(e),fe=r.a.telemetry.commentConsumedThreshold,me=e=>async(t,n)=>{const o=n();if(!Object(re.o)(o,{commentId:e})||Math.random()>r.a.telemetry.commentSampleRate)return;(e=>{let{state:t,commentId:n}=e;Object(s.a)(Object.assign({source:"comment",action:"view",noun:"comment"},J.defaults(t),{profile:J.profile(t),post:J.post(t,n),media:J.media(t,n),subreddit:J.subreddit(t),comment:J.comment(t,n)}))})({state:o,commentId:e}),s.c.start(pe(e));const i=setTimeout(()=>(e=>{let{state:t,commentId:n}=e;return Object(s.a)(Object.assign({source:"comment",action:"consume",noun:"comment"},J.defaults(t),{profile:J.profile(t),post:J.post(t,n),media:J.media(t,n),subreddit:J.subreddit(t),comment:J.comment(t,n)}))})({state:o,commentId:e}),fe);ae[e]=i},Oe=(e,t)=>async(n,r)=>{const o=r(),i=pe(e);if(Object(re.o)(o,{commentId:e})&&s.c.has(i)){const n=s.c.end(i);!t&&n<fe&&(clearTimeout(ae[e]),delete ae[e])}},ge=e=>async(t,n,r)=>{let{apiContext:s}=r;if(!Object(ie.J)(n()))return void t(Object(l.i)(g.a.LOGIN_MODAL_ID));const o=n().comments.models[e];if(!o)return;const i=o.isLocked?C:T;t(le({[e]:{isLocked:!o.isLocked}})),(await i(s(),e)).ok||t(le({[e]:{isLocked:o.isLocked}}))},je="COMMENT__MORECOMMENTS_PENDING",ye="COMMENT__MORECOMMENTS_LOADED",_e="COMMENT__MORECOMMENTS_FAILED",he=Object(i.a)(je),Ee=Object(i.a)(ye),Ie=Object(i.a)(_e),ve=(e,t)=>async(n,s,i)=>{let{apiContext:c}=i;const a=s(),u=a.moreComments.models[t],l=a.platform.currentPage,b=l&&l.routeMatch,p=b&&b.match,{partialPostId:f}=p?p.params:null;if(!f)return;const m=Object(X.l)(f);n(he({moreCommentsId:u.id}));const O=await((e,t,n)=>Object(j.b)(e,{data:n,endpoint:Object(I.a)(Object(E.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/morecomments/").concat(t))),method:o.bb.POST,type:"json"}))(c(),m,{token:u.token});if(O.ok){const t=O.body,r=Object(V.a)(t,m,a);n(Ee(Object.assign({key:e,moreCommentsItem:u,shouldCollapse:r},t)));const s=a.posts.models[m];s&&"subreddit"===s.belongsTo.type&&t.comments&&await n(Object(d.a)({commentIds:Object.keys(O.body.comments),postIds:[s.id],skip:["communityDetails","subscription"],subredditId:s.belongsTo.id}))}else n(Ie(Object.assign({moreCommentsItem:u},O.error)))},Se=Object(m.b)(V.b,ne.a.upvoted),Te=Object(m.b)(V.b,ne.a.downvoted),Ce="COMMENT__FOCUSED_TOGGLED",we="COMMENT__FOCUSED_SET",xe="COMMENT__COLLAPSED_TOGGLED",De="COMMENT__COLLAPSED_UNSET",Pe="COMMENTS__HIDDEN_TOGGLED",Ae="COMMENTS__HIDDEN_SET",Re="COMMENT_FORM_FOCUS_CHANGED",Ne=Object(i.a)(Ce),ke=Object(i.a)(we),Le=Object(i.a)(xe),Ue=Object(i.a)(De),Me=(Object(i.a)(Ae),Object(i.a)(Pe),Object(i.a)(Re)),Fe=e=>{let{hasFocus:t,draftKey:n}=e;return async(e,r)=>{!r().comments.drafts[n]||e(Me({hasFocus:t,draftKey:n}))}},Ge=e=>{let{commentId:t,commentsPageKey:n,scrollToAndRemeasure:r}=e;return async(e,s)=>{const o=s(),i=Object(Q.f)(t),c=Object(re.p)(o,{commentLink:i,commentsPageKey:n}).depth,a=!o.comments.collapsed[n][t];e(Le({commentId:t,commentsPageKey:n})),a&&0===c&&r(t,!0),Object(p.r)()}},Be=e=>{let{commentId:t,commentsPageKey:n}=e;return async(e,r)=>{e(Ue({commentId:t,commentsPageKey:n}))}},qe=e=>{let{commentLink:t,commentsPageKey:n,lineDepth:r,scrollToAndRemeasure:s}=e;return async(e,o)=>{const i=o(),c=Object(V.e)(n,t,r,i);e(Le({commentId:c,commentsPageKey:n})),0===r&&s(c,!0),Object(p.r)()}},Ve=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),c=i.comments.models[e],a=i.user.account?i.user.account.displayText:null;c&&a&&(t(le({[e]:{isApproved:!0,approvedBy:a,bannedBy:null,isRemoved:!1,isSpam:!1,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0,wasPreviouslyRemovedBySteward:Object(K.a)(c)}})),(await((e,t)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/approve")),method:o.bb.POST,data:{id:t}}))(s(),e)).ok||t(le({[e]:{isApproved:c.isApproved,approvedBy:null,bannedBy:c.bannedBy,isRemoved:c.isRemoved,isSpam:c.isSpam,modNote:c.modNote,modReasonBy:c.modReasonBy,modRemovalReason:c.modRemovalReason,numReports:c.numReports||null,wasPreviouslyRemovedBySteward:c.wasPreviouslyRemovedBySteward}})),Object(p.r)())},He=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;const c=r(),a=c.comments.models[e],d=c.user.account?c.user.account.displayText:null;a&&d&&(n(le({[e]:{approvedBy:null,bannedBy:d,isApproved:!1,isRemoved:!t,isSpam:t,wasPreviouslyRemovedBySteward:Object(K.a)(a)}})),(await((e,t,n)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/remove")),method:o.bb.POST,data:{id:t,spam:n}}))(i(),e,t)).ok||n(le({[e]:{approvedBy:a.approvedBy,bannedBy:a.bannedBy,isApproved:a.isApproved,isRemoved:a.isRemoved,isSpam:a.isSpam,wasPreviouslyRemovedBySteward:a.wasPreviouslyRemovedBySteward}})),Object(p.r)())},We=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().comments.models[e];if(!o)return;const i=o.ignoreReports?x:w;t(le({[e]:{ignoreReports:!o.ignoreReports}})),(await i(s(),e)).ok||t(le({[e]:{ignoreReports:o.ignoreReports}}))},Ke=(e,t,n)=>async(r,s,i)=>{let{apiContext:a}=i;const d=s(),u=d.comments.models[e];if(!u)return;const l=u.postId,b=d.postStickiedComments.data[l],p=o.g[t];r(le({[e]:{distinguishType:t,isAdmin:t===o.B.ADMIN,isMod:t===o.B.MODERATOR,isStickied:!!n}})),n&&b&&b!==e&&r(le({[b]:{isStickied:!1}})),(await((e,t,n,r)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:o.bb.POST,data:{id:t,sticky:r}}))(a(),e,p,n||null)).ok?n&&r(de({id:e,postId:l,commentsPageKey:Object(c.a)(l,null,Object.assign({sort:o.q.CONFIDENCE},d.platform.currentPage.queryParams))})):(r(le({[e]:{distinguishType:u.distinguishType,isAdmin:u.isAdmin,isMod:u.isMod,isStickied:u.isStickied}})),r(le({[b]:{isStickied:d.comments.models[b].isStickied}})))},Je="COMMENT__SUBMIT_COMMENT_PENDING",Ye="COMMENT__SUBMIT_REPLY_TO_POST_SUCCESS",ze="COMMENT__SUBMIT_REPLY_TO_COMMENT_SUCCESS",Qe="COMMENT__SUBMIT_COMMENT_FAILURE",Xe=Object(i.a)(Je),$e=Object(i.a)(Ye),Ze=Object(i.a)(ze),et=Object(i.a)(Qe),tt=(e,t,n,r)=>{const s=r.ok&&r.body,o=s&&s.comment&&s.comment.id;Y.f(e,n,t,o)},nt="Toxicity_Warning__Modal",rt=(e,t,n,r,s,o,i)=>async(c,a,d)=>{let{gqlContext:u}=d;const b=a(),p=Object(se.f)(b);let f="";if(p&&(f=p.name),q.d.enableToxicityWarning(b)){if(!(await U(u(),f,s,o)))return void c(Object(l.i)(nt))}c(st(e,t,n,r,s,o,i))},st=(e,t,n,r,s,o,i,c)=>async(a,d,u)=>{let{apiContext:b}=u;a(Object(l.g)(nt));const f=d(),m=f.comments.submit.pending[r];if(!f.user.account||m)return;a(Xe({draftKey:r,draft:s}));const g=f.user.account.displayText,j=s.commentMode;let y;if((y=c?await Object(B.f)(b(),t,s,g):await M(b(),e,t,s,g,j)).ok){a($e(Object.assign({},y.body,{headCommentId:Object(re.y)(f,{commentsPageKey:n}),commentsPageKey:n,draftKey:r})));const e=Object(oe.J)(d(),{postId:t});Object(W.a)(e.events,O.a.CommentSubmitted)}else a(et({draftKey:r,error:y.error}));tt(d(),n,o,y),i||Object(p.r)()},ot=e=>async(t,n,r)=>{let{gqlContext:s}=r;const{language:o,parentCommentId:i,commentsPageKey:c,parentCommentDepth:a,draftKey:d,formData:u,editorMode:b}=e,p=n(),f=Object(se.f)(p);let m="";if(f&&(m=f.name),q.d.enableToxicityWarning(p)){if(!(await U(s(),m,u,b)))return void t(Object(l.i)(nt))}t(it({commentsPageKey:c,draftKey:d,language:o,parentCommentDepth:a,parentCommentId:i,formData:u,editorMode:b}))},it=e=>async(t,n,r)=>{let{apiContext:s}=r;const{language:o,parentCommentId:i,commentsPageKey:c,parentCommentDepth:a,draftKey:d,formData:u,editorMode:b}=e;t(Object(l.g)(nt));const f=n(),m=f.comments.submit.pending[d];if(!f.user.account||m)return;t(Xe({draftKey:d,draft:u}));const O=f.user.account.displayText,g=u.commentMode,j=await M(s(),o,i,u,O,g);j.ok?t(Ze(Object.assign({},j.body,{parentCommentId:i,commentsPageKey:c,draftKey:d,depth:a+1}))):t(et({draftKey:d,error:j.error})),tt(n(),c,b,j),Object(p.r)()},ct="COMMENT__COMMENT_REPLY_FORM_OPENED",at="COMMENT__COMMENT_REPLY_FORM_CANCELLED",dt="COMMENT__COMMENT_FORM_MUTATED",ut="COMMENT__COMMENT_DRAFT_CLEARED",lt="COMMENT__COMMENT_FORM_SWITCHED_MODE",bt=Object(i.a)(ct),pt=Object(i.a)(at),ft=Object(i.a)(dt),mt=(Object(i.a)(ut),Object(i.a)(lt)),Ot="INITIALIZE_COMMENT_EDITOR_MODE",gt=(Object(i.a)(Ot),(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;const c=e===L.h.RICH_TEXT;if(!t||"object"==typeof t&&Object(Z.F)(t))r(mt({editorMode:e,draftKey:n,content:c?Z.i:""})),r(Object(b.c)(e));else{r(Object(b.b)(n));const s=await Object(G.a)(i(),e,c?t:JSON.stringify(t));if(s.ok){const t=s.body.output;r(Object(b.a)(n)),r(mt({editorMode:e,draftKey:n,content:t})),r(Object(b.c)(e))}else r(Object(b.a)(n)),r(Object(f.e)({duration:f.a,kind:te.b.Error,text:Object(z.c)("Something went wrong")}))}}),jt=e=>{let{commentsPageKey:t,parentCommentId:n,singleOpen:r}=e;return async(e,s)=>{const o=s(),i=Object(a.a)($.c.replyToComment,n);if(!Object(ie.J)(s()))return e(Object(u.f)()),void e(Object(l.k)({actionSource:l.a.Reply,redirectUrl:Object(re.n)(s(),{commentId:n})}));const c=o.comments.replyFormOpen[t],d=c&&c[n];if((d||c&&r)&&(Object.keys(c).forEach(n=>c[n]&&e(pt({parentCommentId:n,commentsPageKey:t}))),d))return;let b="",p=null;const f=o.user.prefs.commentMode,m=Object(H.d)();if(m){const e=m.filter(e=>!!e&&10!==e.charCodeAt(0));if(f===L.h.MARKDOWN)b=e.map(e=>"> ".concat(e,"\n")).join("");else{const t=e.map(e=>ee.s(e,null)).map(e=>ee.l([e])),n=ee.s("",null),r=ee.l([n]);p={document:[ee.c(t),r]}}}const O=o.comments.drafts[i];let g;g=m?{commentMode:f,draftType:$.c.replyToComment,rtJson:p,text:"".concat(b,"\n")}:O||{commentMode:f,draftType:$.c.replyToComment,rtJson:p,text:""},e(bt({parentCommentId:n,commentsPageKey:t,draftKey:i,formData:g}))}},yt=e=>async(t,n)=>{t(Be(e)),t(Pt(e))},_t=e=>{let{parentCommentId:t,commentsPageKey:n}=e;return async(e,r)=>{e(pt({parentCommentId:t,commentsPageKey:n})),e(jt({parentCommentId:t,commentsPageKey:n})),e(Be({commentId:t,commentsPageKey:n}))}},ht=(e,t)=>n=>n(ft({draftKey:e,formData:t})),Et="COMMENT__DISABLE_AUTOFOCUS",It=Object(i.a)(Et),vt=e=>t=>t(It({draftKey:e})),St="COMMENT__EDIT_COMMENT_ENABLED",Tt="COMMENT__REQUEST_EDIT_PENDING",Ct="COMMENT__REQUEST_EDIT_FAILURE",wt="COMMENT__REQUEST_EDIT_SUCCESS",xt="COMMENT__COMMENT_EDIT_FORM_CANCELLED",Dt=Object(i.a)(St),Pt=e=>{let{commentId:t,commentMode:n,commentsPageKey:r,draftKey:s,text:o}=e;return async(e,i)=>{const c=i();c.user.account&&(Y.c(c),e(Dt({commentId:t,commentsPageKey:r,draftKey:s,formData:{text:o,commentMode:n,rteState:null,draftType:$.c.edit,hasFocus:!0}})))}},At=Object(i.a)(Tt),Rt=Object(i.a)(Ct),Nt=Object(i.a)(wt),kt=Object(i.a)(xt),Lt=e=>{let{language:t,id:n,commentsPageKey:r,depth:s,draftKey:i,formData:c}=e;return async(e,s,a)=>{let{apiContext:d}=a;const u=s();if(!u.user.account)return;e(At({draftKey:i})),Y.d(u);const l=u.user.account.displayText||"",b=c.commentMode,p=await(async(e,t,n,r,s,i,c)=>{const a={api_type:"json",return_rtjson:!0,thing_id:n};if(c===L.h.MARKDOWN)a.text=s.text;else{a.text=null;let e=null;s.rteState&&(e=A.a.toRichTextJSON(s.rteState).document),a.richtext_json=JSON.stringify({document:e})}return Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)(Object(I.a)(Object(E.a)("".concat(e.apiUrl,"/api/editusertext")))),method:o.bb.POST,data:a}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(k.a)(e)}):Object.assign({},e,{body:{comment:Object(N.a)(e.body.json.data.things[0].data,i)}}):Object.assign({},e,{body:{comment:Object(N.a)(e.body,i)}}):Object.assign({},e,{error:e.error||Object(R.a)(t)}))})(d(),t,n,0,c,l,b);if(p.ok){const t=p.body;e(Nt({commentId:n,commentsPageKey:r,draftKey:i})),e(le({[n]:Object.assign({},t.comment)}))}else e(Rt({draftKey:i,error:p.error}))}},Ut="COMMENT__REQUEST_DELETE_PENDING",Mt="COMMENT__REQUEST_DELETE_FAILURE",Ft="COMMENT__REQUEST_DELETE_SUCCESS",Gt=Object(i.a)(Ut),Bt=Object(i.a)(Mt),qt=Object(i.a)(Ft),Vt=(e,t,n)=>async(r,s,i)=>{let{apiContext:c}=i;const a=s();if(!a.user.account)return;r(Gt({id:t})),Y.a(t,a);const d=await((e,t,n)=>Object(j.b)(Object(y.a)(e,[_.a]),{endpoint:Object(h.a)("".concat(e.apiUrl,"/api/del")),method:o.bb.POST,data:{id:t}}).then(e=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(k.a)(e)}):Object.assign({},e,{body:{}}):Object.assign({},e,{error:e.error||Object(R.a)(n)})))(c(),t,e);d.ok?r(qt({id:t,postId:n})):r(Bt({id:t,error:d.error}))},Ht=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=!n().comments.models[e].sendReplies;t(le({[e]:{sendReplies:o}})),(await Object(F.p)(s(),e,o)).ok||t(le({[e]:{sendReplies:!o}}))},Wt="COMMENT__CHANGE_HIGHLIGHT_FILTER",Kt=Object(i.a)(Wt)},"./src/reddit/actions/comment/list.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/helpers/trackers/commentList.ts");const o="COMMENTLIST__MARKED_END",i="COMMENTLIST__UNMARKED_END",c=Object(r.a)(o),a=Object(r.a)(i),d=(e,t)=>async(n,r)=>{const o=r();e in o.profileCommentsPage.fetchedTokens?e in o.profileCommentsPage.commentIds?n(a({listingKey:e})):Object(s.a)(o,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/comment/websocket.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/comment/index.ts"),o=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/lodash/first.js")),i=n.n(o),c=n("./node_modules/lodash/isArray.js"),a=n.n(c),d=n("./src/lib/constants/index.ts"),u=n("./src/reddit/helpers/isComment.ts"),l=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),b=n("./src/reddit/models/Comment/index.ts"),p=n("./src/reddit/models/Flair/index.ts"),f=n("./src/reddit/models/PostCreationForm/index.ts"),m=n("./src/reddit/models/Vote/index.ts");const O=e=>{if(void 0!==e.author&&void 0!==e.author_fullname&&void 0!==e.attribs&&void 0!==e.created_utc&&void 0!==e.name&&void 0!==e.subreddit_id&&void 0!==e.body&&void 0!==e.context&&void 0!==e.link_id&&void 0!==e.score){const t=j(e.attribs);return{allAwardings:[],associatedAward:e.associated_award?Object(l.b)(e.associated_award):void 0,author:e.author,authorId:e.author_fullname,body:e.body_html,bodyMD:e.body,created:e.created_utc,distinguishType:g(t),id:e.name,isAdmin:t===b.c.Admin,isGildable:!1!==e.can_gild,isOp:t===b.c.Submitter,isMod:t===b.c.Moderator,markdown:e.body,media:{type:"rtjson",richtextContent:e.rtjson||{document:[{c:[{e:"text",t:e.body}],e:"par"}]},rteMode:f.h.RICH_TEXT},parentId:e.parent_id&&Object(u.a)(e.parent_id)?e.parent_id:null,permalink:e.context,postId:e.link_id,score:e.score,subredditId:e.subreddit_id,approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,collapsed:!1,collapsedReason:null,deletedBy:null,editedAt:null,ignoreReports:!1,isApproved:!1,isLocked:!1,isDeleted:!1,isRemoved:!1,isScoreHidden:!1,isSpam:!1,isStickied:!1,isSaved:!1,modReports:[],modReportsDismissed:[],numReports:0,postAuthor:null,postTitle:null,sendReplies:!0,userReports:[],userReportsDismissed:[],voteState:m.a.notVoted}}},g=e=>{switch(e){case b.c.Admin:return d.B.ADMIN;case b.c.Moderator:return d.B.MODERATOR;case b.c.Alumni:return d.B.ALUMNI_ADMIN;default:return""}},j=e=>i()((e||[]).filter(e=>a()(e)&&e.length>=2).sort(e=>e[0]).map(e=>e[1]))||b.c.None;const y=(e,t,n)=>{const r={[t]:{}},{author:s,author_flair_background_color:o,author_flair_richtext:i,author_flair_template_id:c,author_flair_text:a,author_flair_text_color:d,author_flair_type:u}=n;if(s&&u){if(u===p.f.Richtext){if(!o||!i)return;return{[t]:{[s]:{type:u,backgroundColor:o,cssClass:void 0,richtext:i,templateId:c,textColor:d}}}}if(u===p.f.Text){if(!a)return r;return{[t]:{[s]:{type:u,backgroundColor:o,cssClass:void 0,text:a,templateId:c,textColor:d}}}}}};n("./node_modules/core-js/modules/web.dom.iterable.js");var _=n("./src/lib/env/index.ts");const h=new Map,E=e=>e;var I;!function(e){e.NEW_COMMENT="new_comment",e.UPDATE_COMMENT="update_comment",e.DELETE_COMMENT="delete_comment",e.REMOVE_COMMENT="remove_comment"}(I||(I={}));const v={backoffTime:2e3,connectionAttempts:0,jitterAmount:3e3,maximumRetries:9},S=(e,t)=>{const n=E(t),r=h.get(n);r&&r.socket&&(r.isClosePlanned=!0,r.socket.close())},T=(e,t,n,r)=>{const s=E(t),o=h.get(s);if(o&&(o.socket.readyState===WebSocket.CONNECTING||o.socket.readyState===WebSocket.OPEN))return;const i={socket:new WebSocket(e),retries:n,uniqueId:t,url:e,isClosePlanned:!1};h.set(s,i),i.socket.addEventListener("open",()=>{i.retries=Object.assign({},v)}),i.socket.addEventListener("message",x.bind(null,r)),i.socket.addEventListener("close",C.bind(null,s,r)),i.socket.addEventListener("error",D.bind(null,s)),window&&window.addEventListener("beforeunload",S.bind(null,e,t))},C=(e,t,n)=>{const r=h.get(e);r&&(r.isClosePlanned?h.delete(e):w(e,t))},w=(e,t)=>{const n=h.get(e);if(!n)return;const{retries:{backoffTime:r,connectionAttempts:s,jitterAmount:o,maximumRetries:i},socket:c,uniqueId:a,url:d}=n;if(h.delete(e),s<i&&c.readyState!==WebSocket.OPEN){const e=r*Math.pow(2,s),i=Math.random()*o-o/2,c=Math.round(e+i),u=Object.assign({},n.retries,{connectionAttempts:s+1});setTimeout(()=>{T(d,a,u,t)},c),_.a&&console.debug("Connection reset, retrying in ".concat(c,"ms"))}},x=(e,t)=>{if(t&&t.data)try{e(JSON.parse(t.data))}catch(t){_.a&&console.error(t)}},D=(e,t)=>{const n=h.get(e);n&&n.isClosePlanned&&n.socket&&n.socket.readyState===WebSocket.CLOSED?h.delete(e):_.a&&console.error(t)};var P=n("./src/reddit/selectors/comments.ts"),A=n("./src/reddit/selectors/moderatorPermissions.ts"),R=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return G}));const N="COMMENT__LIVECOMMENTS__NEWCOMMENT",k="COMMENT__LIVECOMMENTS__UPDATECOMMENT",L=Object(r.a)(N),U=Object(r.a)(k),M={},F=(e,t,n,r)=>async(o,i)=>{(e=>{const{cb:t,url:n,uniqueId:r}=e;T(n,r,Object.assign({},v),t)})({uniqueId:n,url:t,cb:t=>{switch(t.type){case I.NEW_COMMENT:{const n=t.payload.name,s=O(t.payload),c=i(),a=Object(P.o)(c,{commentId:n}),d=!(!n||!M[n]);if(s&&!d){const n=y(0,r,t.payload),i=t.payload.total_comment_count;if(void 0===a){const t=Object(P.y)(c,{commentsPageKey:e});o(L({authorFlair:n,comment:s,commentsPageKey:e,headCommentId:t,numComments:i}))}else o(U({authorFlair:n,comment:s,commentsPageKey:e,numComments:i}))}break}case I.UPDATE_COMMENT:{const n=t.payload.name,s=i(),c=Object(P.o)(s,{commentId:n}),a=O(t.payload);if(c&&a){const n=y(0,r,t.payload),s=t.payload.total_comment_count;o(U({authorFlair:n,comment:a,commentsPageKey:e,numComments:s}))}break}case I.DELETE_COMMENT:{const e=t.payload.name,n=i(),r=Object(P.o)(n,{commentId:e});if(r){const e=Object(R.S)(n);o(Object(s.bb)(e,r.id,r.postId))}else M[e]=I.DELETE_COMMENT;break}case I.REMOVE_COMMENT:{const e=t.payload.link_id,n=t.payload.name,r=i(),c=Object(P.o)(r,{commentId:n}),a=(r.user.account&&r.user.account.id)===(c&&c.authorId),d=!!e&&!!Object(A.i)(r,{postId:e});if(!c||a||d)M[n]=I.REMOVE_COMMENT;else{const e=Object(R.S)(r);o(Object(s.bb)(e,c.id,c.postId))}break}}}})},G=(e,t)=>async()=>{S(0,t)}},"./src/reddit/actions/commentsListTruncated/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="COMMENTS_LIST__EXPANDED"},"./src/reddit/actions/communityFlairs/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i}));const r="TOP_COMMUNITY_FLAIR__FETCH_FAILURE",s="TOP_COMMUNITY_FLAIR__FETCH_PENDING",o="TOP_COMMUNITY_FLAIR__FETCH_SUCCESS",i="COMMUNITY_FLAIR__ADD_FLAIRS"},"./src/reddit/actions/contentGate.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"i",(function(){return T}));var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts"),a=n("./src/reddit/endpoints/user/preferences.ts"),d=n("./src/reddit/selectors/user.ts");const u="CONTENTGATE__VISITED_GOLD_SUBREDDIT",l="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",b="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",p="CONTENTGATE__SET_OVER_18_PREF",f="CONTENTGATE__VISITED_BANNED_SUBREDDIT",m="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",O="CONTENTGATE__VISITED_DELETED_PROFILE",g="CONTENTGATE__VISITED_SUSPENDED_PROFILE",j=Object(i.a)(p),y=Object(i.a)(f),_=Object(i.a)(m),h=Object(i.a)(u),E=Object(i.a)(l),I=Object(i.a)(b),v=Object(i.a)(O),S=Object(i.a)(g),T=()=>async(e,t,n)=>{let{apiContext:s}=n;const i=t();if(Object(d.J)(i)&&i.platform.currentPage)await Object(a.f)(s());else{const e=new Date;e.setFullYear(e.getFullYear()+2),o.a.set(c.g,"1",{expires:e,domain:r.a.cookieDomain})}e(j({over18:!0}))}},"./src/reddit/actions/dashboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts");const s="DASHBOARD__COMPONENT_SELECTED",o="DASHBOARD__SUBREDDIT_SELECTED",i="DASHBOARD__SUBREDDIT_LOADED",c=Object(r.a)(s),a=Object(r.a)(o),d=Object(r.a)(i)},"./src/reddit/actions/discoveryUnit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/category.ts"),c=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/lib/addQueryParams/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/lib/stringInterpolate/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),f=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const m=e=>{const t=[],n={};return e.data.children.forEach(e=>{const r=Object(p.a)(e.data);t.push(r.id),n[r.id]=r}),{postIds:t,posts:n}};var O=n("./src/reddit/models/DiscoveryUnit/index.ts"),g=n("./src/reddit/selectors/category.ts"),j=n("./src/reddit/selectors/discoveryUnit.ts"),y=n("./src/reddit/selectors/listings.ts"),_=n("./src/reddit/selectors/posts.ts");n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return U})),n.d(t,"g",(function(){return M})),n.d(t,"k",(function(){return F}));var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const E="DISCOVERY_UNIT__LIST_PENDING",I="DISCOVERY_UNIT__LIST_LOADED",v="DISCOVERY_UNIT__LIST_FAILED",S=Object(s.a)(E),T=Object(s.a)(I),C=Object(s.a)(v),w=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(j.i)(s),i=Object(j.h)(s);if(o||i)return;e(S());const c=await(e=>Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_70",enabled:!0,layout:"large",surface:"search",unit_name:"search_posts",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_71",enabled:!0,layout:"large",surface:"search",unit_name:"search_subreddits",unit_type:"community_category",url:"/api/subreddits_in_category.json"},{id:"xd_72",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"community_banner_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_83",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"best_of_community",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_88",enabled:!0,layout:"large",surface:"front_page",title:"Similar communities to %{subredditName}",unit_name:"chaining_similar_subreddits_posts",unit_type:"listing"},{id:"xd_89",enabled:!0,layout:"large",surface:"front_page",title:"Mildy similar posts",unit_name:"chaining_similar_posts",unit_type:"listing"},{id:"xd_91",enabled:!0,layout:"large",surface:"comments",title:"Posts in subreddit %{subredditName}",unit_name:"posts_in_subreddit_vertical",unit_type:"listing"},{id:"xd_92",enabled:!0,layout:"large",surface:"comments",title:"Posts in recommended home",unit_name:"posts_in_rec_home",unit_type:"listing"},{id:"xd_93",enabled:!0,layout:"large",surface:"popular",title:"Trending posts",unit_name:"trending_posts",unit_type:"listing"},{id:"xd_94",enabled:!0,layout:"large",surface:"popular",title:"Top popular for the month",unit_name:"top_month_posts",unit_type:"listing"},{id:"xd_95",enabled:!0,layout:"large",surface:"popular",title:"Geopopular posts",unit_name:"geopopular_posts",unit_type:"listing"},{id:"xd_96",enabled:!0,layout:"small",surface:"subreddit_listing",unit_name:"top_week_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_97",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"top_week_posts_large",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"}]}}}}))(r());if(c.ok){const{discoveryUnits:t}=(e=>{return{discoveryUnits:e.global.discovery_config_v1.discovery_units.reduce((e,t)=>{const n={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[n.id]=n,e},{})}})(c.body);e(T({discoveryUnits:t}))}else e(C({error:c.error}))},x="DISCOVERY_UNIT__UNIT_DATA_PENDING",D="DISCOVERY_UNIT__UNIT_DATA_LOADED",P="DISCOVERY_UNIT__UNIT_DATA_FAILED",A=Object(s.a)(x),R=Object(s.a)(D),N=Object(s.a)(P),k=(e,t)=>async(n,s,i)=>{let{apiContext:c}=i;const a=s(),l=Object(o.a)(e,r.N.HOT,{category:t}),p=Object(y.h)(a,{listingKey:l}),O=!!a.listings.listingOrder.fetchedTokens[l];if(p||O)return;n(A({key:l}));const g=await((e,t)=>Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:Object(f.a)("".concat(e.apiUrl,"/api/posts_in_category.json?category=").concat(t)),method:r.bb.GET}))(c(),t);if(g.ok){const{postIds:e,posts:t}=m(g.body),r=e.length>0?e.length-1:0;n(R({key:l,meta:a.meta,postIds:e,posts:t,token:e[r]}))}else n(N({key:l,error:g.error}))},L=(e,t,n)=>async(s,i,c)=>{let{apiContext:p}=c;const g=i(),y=((e,t)=>Object(o.a)(e.unitName,r.N.HOT,Object.assign({},e.parameters,t)))(e,t),_=Object(j.g)(g,{listingKey:y,shouldLoadMore:n});if(!_)return;const{fetchedToken:E}=_;if(s(A({fetchedToken:E,key:y})),!e.url)return void s(R({fetchedToken:"",key:y,meta:g.meta,token:""}));const{category:I}=t,v=h(t,["category"]),S=Object.assign({},v,{after:E,category_id:I}),T=await((e,t,n)=>{let s=t.url;return t.parameters&&(s=Object(a.a)(Object(l.a)(s,t.parameters),t.parameters)),n&&(s=Object(a.a)(Object(l.a)(s,n),n)),Object(d.b)(Object(u.a)(e,[b.a]),{endpoint:Object(f.a)("".concat(e.apiUrl).concat(s)),method:r.bb.GET})})(p(),e,S);if(T.ok)switch(e.unitName){case O.h:case O.k:case O.i:case O.l:case O.n:case O.o:{const{postIds:e,posts:t}=m(T.body);s(R({fetchedToken:E,key:y,meta:g.meta,postIds:e,posts:t,token:e[e.length-1]}));break}}else s(N({key:y,error:T.error}))},U=e=>async(t,n,s)=>{let{apiContext:i}=s;const a=Object(o.a)(e,r.N.HOT);Object(_.C)(n(),{listingKey:a}).length>0||await t(Object(c.i)(a,e,{},!0))},M=(e,t,n,r)=>async(s,o,c)=>{let a,{apiContext:d}=c;if(await s(i.h()),!n&&!(a=Object(g.i)(o(),{categoryName:t})))return;const u=n||a&&a.id;await Promise.all([s(L(e,{category:u},r)),s(i.i(u))])},F=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;await Promise.all([r(U(t)),r(L(e,{subredditName:t},n))])}},"./src/reddit/actions/economics/ftue/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="ECONOMICS__FTUE__TIPPING_HIGHLIGHT_VIEWED",s="ECONOMICS__FTUE__TOP_TIPPERS_VIEWED"},"./src/reddit/actions/economics/helpers/async.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>async t=>{const r=await(()=>Promise.all([n.e("vendors~EconHelperActions~Reddit"),n.e("EconHelperActions")]).then(n.bind(null,"./src/reddit/actions/economics/helpers/index.ts")).then(e=>e.fetchAll))();await t(r(e))}},"./src/reddit/actions/economics/paymentSystems/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));const r="ECONOMICS__PAYMENT_SYSTEM__CARD_DELETE_SUCCESS",s="ECONOMICS__PAYMENT_SYSTEM__PAYPAL_DELETE_SUCCESS",o="ECONOMICS__PAYMENT_SYSTEM__INFO_FAILURE",i="ECONOMICS__PAYMENT_SYSTEM__INFO_FETCHED",c="ECONOMICS__PAYMENT_SYSTEM__INFO_PENDING"},"./src/reddit/actions/economics/subredditPremium/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f}));const r="ECONOMICS__SUBREDDIT_PREMIUM__ALL_SUBREDDIT_SUBSCRIPTIONS_SUCCESS",s="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_APPLIED",o="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_BADGE_TYPE_CHANGED",i="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_MODAL_OPENED",c="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_VIEW_CHANGED",a="ECONOMICS__SUBREDDIT_PREMIUM__EDITOR_PRODUCTS_FETCH_SUCCESS",d="ECONOMICS__SUBREDDIT_PREMIUM__GIFT_MEMBERSHIP_MODAL_OPENED",u="ECONOMICS__SUBREDDIT_PREMIUM__PURCHASE_MODAL_OPENED",l="ECONOMICS__SUBREDDIT_PREMIUM__SUBREDDIT_INFO_SUCCESS",b="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_CANCEL_SUCCESS",p="ECONOMICS__SUBREDDIT_PREMIUM__SUBSCRIPTION_DATA_SUCCESS",f="ECONOMICS__SUBREDDIT_PREMIUM__UPLOAD_MODAL_OPENED"},"./src/reddit/actions/economics/support/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="ECONOMICS__SUPPORT__SUPPORT_MODAL_OPENED",s="ECONOMICS__SUPPORT__TOTAL_SUPPORT_INCREASED"},"./src/reddit/actions/economics/tips/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="ECONOMICS__TIPS__TIP_DETAILS_SUCCESS"},"./src/reddit/actions/emailCollection/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/lodash/once.js"),s=n.n(r),o=n("./src/reddit/actions/modal.ts"),i=n("./src/reddit/actions/notificationBanner.ts"),c=n("./src/reddit/actions/preferences.ts"),a=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),d=n("./src/reddit/components/Settings/modalIds.ts"),u=n("./src/reddit/constants/experiments.ts"),l=n("./src/reddit/helpers/localStorage/index.ts"),b=n("./src/reddit/selectors/experiments/emailCollection.ts");const p=s()(l.c),f=()=>async(e,t)=>{const n=t();p();let r=Object(b.a)(n);if(r&&(await e(Object(c.x)()),r=Object(b.a)(t())))switch(r){case u.E.Modal:e(Object(o.h)(d.c));break;case u.E.Banner:case u.E.Footer1:case u.E.Footer2:e(Object(i.d)({notificationBannerId:a.a.EmailCollectionBannerId}));break;default:return}},m=()=>async(e,t)=>{const n=t(),r=Object(b.a)(n);if(r)switch(Object(l.b)(),r){case u.E.Modal:e(Object(o.g)(d.c));break;case u.E.Banner:case u.E.Footer1:case u.E.Footer2:e(Object(i.c)({notificationBannerId:a.a.EmailCollectionBannerId}));break;default:return}},O=()=>async(e,t)=>{e(Object(b.d)(Object(b.a)(t()))?m():Object(o.g)(d.c))}},"./src/reddit/actions/emailVerificationTooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="EMAIL_VERIFICATION_TOOLTIP_TOGGLED",o=Object(r.a)(s)},"./src/reddit/actions/embedAndImage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="EMBEDS__UNLOADABLE",o="EMBEDS__LOADABLE",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/emoji.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),d=n("./src/reddit/constants/headers.ts");const u=async(e,t)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emojis/all"),method:o.bb.GET,type:"json"}).then(e=>(e.ok&&(e.body=(e=>{let t;const n=s()(e,(e,n)=>("snoomojis"!==n&&(t=n),s()(e,(t,n)=>{e[n]={name:n,userFlairAllowed:t.user_flair_allowed,postFlairAllowed:t.post_flair_allowed,modFlairOnly:t.mod_flair_only,url:t.url}})));return{[t]:{emojis:n[t],snoomojis:n.snoomojis}}})(e.body)),e));var l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/actions/imageUploads.ts"),p=n("./src/reddit/actions/toaster.ts"),f=n("./src/reddit/helpers/getGenericUploadError.ts"),m=n("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),O=n("./src/reddit/helpers/media/index.ts"),g=n("./src/reddit/i18n/utils.ts"),j=n("./src/reddit/models/Emoji/index.ts"),y=n("./src/reddit/models/Image/index.tsx"),_=n("./src/reddit/models/Toast/index.ts"),h=n("./src/reddit/selectors/emojis.ts"),E=n("./src/reddit/selectors/subreddit.ts");n.d(t,"i",(function(){return I})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return D})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return k})),n.d(t,"q",(function(){return M})),n.d(t,"p",(function(){return G})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return q})),n.d(t,"j",(function(){return V})),n.d(t,"k",(function(){return H})),n.d(t,"b",(function(){return W})),n.d(t,"n",(function(){return J})),n.d(t,"e",(function(){return Y})),n.d(t,"o",(function(){return Q}));const I="STRUCTURED_STYLES__NEW_EMOJI_ADDED",v=Object(l.a)(I),S="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",T="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",C=Object(l.a)(S),w=Object(l.a)(T),x="GET_ALL_EMOJIS_PENDING",D="GET_ALL_EMOJIS_LOADED",P="GET_ALL_EMOJIS_FAILED",A=Object(l.a)(x),R=Object(l.a)(D),N=Object(l.a)(P),k="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",L=Object(l.a)(k),U=e=>({text:"Failed to save emoji",buttonText:"Retry",buttonAction:G(e)}),M=e=>{let{imageData:t,subredditId:n}=e;return async(e,r,s)=>{const u=r(),l=Object(E.S)(u,{subredditId:n}).name;e(Object(b.k)(t));const p=t.file,f=await Object(O.g)(p),m=await(async(e,t,n,r)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji_asset_upload_s3.json"),method:o.bb.POST,data:{filepath:n,mimetype:r}}))(s.apiContext(),l,p.name,f);let g=!1;if(m.ok){const n=await(async(e,t,n)=>Object(a.a)(n,t))(s.apiContext(),m.body.s3UploadLease,p);if(n.ok){if(!r().imageUploads[t.id])return Object(y.d)(t),!1;const s=decodeURIComponent(n.body.PostResponse.Location),o=m.body.websocketUrl,i=Object(y.n)(t,s,o);e(Object(b.j)(i)),g=!0}else{const r=Object(y.k)(t,n.error);e(Object(b.i)(r))}}else{const n=Object(y.k)(t,m.error);e(Object(b.i)(n))}return g}},F=(e,t)=>async(n,r,s)=>{const{imageData:a,subredditId:u,emojiName:l,settings:f}=e,O=Object(m.a)(a.url),g=r(),j=Object(E.S)(g,{subredditId:u}).name,_=await(async(e,t,n,r,s)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji.json"),method:o.bb.POST,data:{s3_key:n,name:r,mod_flair_only:s.modFlairOnly,post_flair_allowed:s.postFlairAllowed,user_flair_allowed:s.userFlairAllowed}}))(s.apiContext(),j,O,l,f);if(!_.ok){const r=Object(y.k)(a,_.error);n(Object(b.i)(r)),n(Object(p.e)(U(e))),t&&t.close()}return _.ok},G=e=>async(t,n,r)=>{const{imageData:s,subredditId:o,emojiName:i,settings:c}=e;if(t(Object(b.k)(s)),!s.websocketUrl)return t(Object(p.e)({text:"Could not upload emoji"}));let a;const d=new WebSocket(s.websocketUrl);return d.onopen=async()=>{a=await F(e,d)(t,n,r)},d.onmessage=n=>{const r=JSON.parse(n.data);if("success"===r.type){a=!0;const e=r.payload.emoji_url,n=Object(y.o)(s,e);t(Object(b.l)(n));const d=Object(j.e)(i,n.url,o,c);t(v(d)),t(B(o))}else{const n=Object(f.a)(i),r=Object(y.k)(s,n);t(Object(b.i)(r)),t(Object(p.e)(U(e)))}d.close()},d.onerror=n=>{a=!1;const r=Object(f.a)(i),o=Object(y.k)(s,r);t(Object(b.i)(o)),t(Object(p.e)(U(e))),d.close()},a},B=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(Object(h.a)(o,e))return;const i=Object(E.S)(o,{subredditId:e}).name;t(A(e));const c=await u(s(),i);if(c.ok){const n=c.body;t(R({subredditId:e,data:n}))}else t(N({subredditId:e,error:c.error}))},q=e=>async(t,n,r)=>{let{apiContext:s}=r;n().emojis[e]||await t(B(e))},V=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:t}).name,b=await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(n,"/emoji/").concat(t),method:o.bb.DELETE,type:"json"}))(a(),e,l);if(b.ok){n(C({emojiName:e,subredditId:t})),n(p.e({kind:_.b.SuccessCommunityGreen,text:Object(g.c)("Emoji successfully deleted")}))}else n(w(b.error)),n(p.e({kind:_.b.Error,text:Object(g.c)("Something went wrong")}))},H=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:e}).name;if((await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_emojis_in_sr.json"),method:o.bb.POST,data:{subreddit:t,enable:n}}))(a(),l,t)).ok){n(L({subredditId:e,emojisEnabled:t}))}else n(p.e({kind:_.b.Error,text:Object(g.c)("Try again later")}))},W="EMOJI_CUSTOM_SIZE_UPDATED",K=Object(l.a)(W),J=(e,t)=>async(n,r,s)=>{let{apiContext:a}=s;const u=r(),l=Object(E.S)(u,{subredditId:e}).name;(await(async(e,t,n)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/emoji_custom_size"),method:o.bb.POST,data:n}))(a(),l,t)).ok?n(K({subredditId:e,emojiCustomSize:t})):n(p.e({kind:_.b.Error,text:Object(g.c)("Try again later")}))},Y="EMOJI_PERMISSIONS_UPDATED",z=Object(l.a)(Y),Q=(e,t,n,r)=>async(s,a,u)=>{let{apiContext:l}=u;const b=a(),f=Object(E.S)(b,{subredditId:r}).name;(await(async(e,t,n,r)=>Object(i.b)(Object(c.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(n,"/emoji_permissions.json"),method:o.bb.POST,data:{name:t,post_flair_allowed:r.postFlairAllowed,user_flair_allowed:r.userFlairAllowed,mod_flair_only:r.modFlairOnly}}))(l(),e,f,n)).ok?(s(z({emojiName:e,isSnoomoji:t,settings:n,subredditId:r})),s(p.e({kind:_.b.SuccessCommunityGreen,text:Object(g.c)("Emoji permissions updated")}))):s(p.e({kind:_.b.Error,text:Object(g.c)("Try again later")}))}},"./src/reddit/actions/events.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/toaster.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=(e,t,n,r,o)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/event_post_time.json"),method:s.bb.POST,data:{id:t,event_start:n,event_end:r,event_tz:o}});var l=(e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/start_event_post.json"),method:s.bb.POST,data:{id:t}}),b=n("./src/reddit/models/Toast/index.ts"),p=n("./src/reddit/selectors/posts.ts");n.d(t,"START_EVENT_NOW_SUCCESS",(function(){return f})),n.d(t,"startEventNowSuccess",(function(){return m})),n.d(t,"startEventNowRequested",(function(){return O})),n.d(t,"EDIT_EVENT_TIME_SUCCESS",(function(){return g})),n.d(t,"editEventTimeSuccess",(function(){return j})),n.d(t,"editEventTimeRequested",(function(){return y}));const f="START_EVENT_NOW_SUCCESS",m=Object(o.a)(f),O=e=>async(t,n,s)=>{let{apiContext:o}=s;const c=await l(o(),e),a=n();if(c.ok){t(m({postId:e}));const s=n(),o=Object(p.J)(s,{postId:e}),c=o&&o.title||"";t(Object(i.e)({kind:b.b.SuccessMod,text:Object(r.a)(s.user.language,"events.eventStartedSuccessfully",{title:c})}))}else t(Object(i.e)({kind:b.b.Error,text:Object(r.a)(a.user.language,"error.type.generic")}))},g="EDIT_EVENT_TIME_SUCCESS",j=Object(o.a)(g),y=(e,t)=>async(n,o,c)=>{let{apiContext:a}=c;const d=await u(a(),e,t.startDate,t.endDate,t.timezoneName),l=o();if(d.ok){const t=d.body,c=14400,a=Math.round(t.event_start/s.Bb);let u=t.event_end;const l={eventStart:a,eventEnd:u=u&&Math.round(u/s.Bb)||a+c,eventIsLive:t.event_is_live};n(j({postId:e,eventInfo:l}));const f=o(),m=Object(p.J)(f,{postId:e}),O=m&&m.title||"";n(Object(i.e)({kind:b.b.SuccessMod,text:Object(r.a)(f.user.language,"events.eventTimeUpdatedSuccessfully",{title:O})}))}else n(Object(i.e)({kind:b.b.Error,text:Object(r.a)(l.user.language,"error.type.generic")}))}},"./src/reddit/actions/experiments.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/makeActionCreator/index.ts");n("./src/reddit/endpoints/user/index.ts"),n("./src/reddit/models/Post/index.ts"),n("./src/reddit/selectors/telemetry.ts");const s="EXPERIMENTS__REQUEST_LOADED",o=(Object(r.a)("EXPERIMENTS__REQUEST_PENDING"),Object(r.a)("EXPERIMENTS__REQUEST_FAILED"),Object(r.a)(s),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),i=Object(r.a)(o)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return h}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/loadWithRetries/index.ts"),o=n("./src/reddit/actions/structuredStyles/index.ts"),i=n("./src/reddit/actions/toaster.ts"),c=n("./src/reddit/i18n/utils.ts"),a=n("./src/reddit/models/StructuredStyles/index.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/subreddit.ts");const l="STRUCTURED_STYLES__EXPORT_THEME_PENDING",b="STRUCTURED_STYLES__EXPORT_THEME_LOADED",p="STRUCTURED_STYLES__EXPORT_THEME_FAILED",f=Object(r.a)(l),m=Object(r.a)(b),O=Object(r.a)(p),g=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),j=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),y=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),_=e=>async(t,r)=>{t(f());const o=r(),a=Object(u.S)(o,{subredditId:e}).name,l=o.structuredStyles.models[e],b=await Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~ExportTheme~ImportTheme"),n.e("ExportTheme")]).then(n.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))).then(e=>e.default),p=await b(l,a);p.ok?(t(m()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(c.c)("Theme successfully exported")}))):(t(O(p.error)),t(Object(i.e)({kind:d.b.Error,text:Object(c.c)("Sorry, theme failed to export")})))},h=e=>async(t,r)=>{t(g());const u=await Object(s.a)(()=>Promise.all([n.e("vendors~ExportTheme~ImportTheme~xml2js"),n.e("vendors~ExportTheme~ImportTheme"),n.e("ImportTheme")]).then(n.bind(null,"./src/reddit/helpers/importTheme/index.ts"))).then(e=>e.default),l=await u(e);l.ok?(t(j()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(c.c)("Theme successfully imported")})),0!==Object.keys(l.attributes).length&&t(Object(o.d)(Object(a.i)(l.attributes)))):(t(y(l.error)),t(Object(i.e)({kind:d.b.Error,text:Object(c.c)("Sorry, theme failed to import")})))}},"./src/reddit/actions/externalAccount.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/addQueryParams/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/constants/parameters.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const b=e=>{return e.reduce((e,t)=>(e[t.provider]=t,e),{})};var p=n("./src/reddit/i18n/utils.ts"),f=n("./src/reddit/models/Toast/index.ts"),m=n("./src/reddit/models/User/index.ts"),O=n("./src/reddit/selectors/externalAccount.ts"),g=n("./src/reddit/selectors/platform.ts"),j=n("./src/reddit/selectors/subreddit.ts"),y=n("./src/reddit/selectors/user.ts");n.d(t,"l",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return E})),n.d(t,"i",(function(){return I})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return S})),n.d(t,"o",(function(){return A})),n.d(t,"p",(function(){return R})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return L})),n.d(t,"n",(function(){return G})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return q})),n.d(t,"d",(function(){return V})),n.d(t,"m",(function(){return J}));const _="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",h="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",E="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",I="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",v="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",S="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",T=Object(r.a)(_),C=Object(r.a)(h),w=Object(r.a)(E),x=Object(r.a)(I),D=Object(r.a)(v),P=Object(r.a)(S),A=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(y.i)(o),p=e||i&&Object(m.f)(i);if(!p)return;if(Object(O.d)(o,{username:p}))return;t(T(p));const f=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/user/").concat(t,".json")),method:c.bb.GET}))(s(),p);if(f.ok){const e=b(f.body);t(C({username:p,accountsData:e}))}else t(w(f.error))},R=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=Object(g.e)(s);if(!o)return;const i=s.externalAccount.api.subreddit.fetched[o],p=s.externalAccount.api.subreddit.pending[o];if(i||p)return;const f=Object(j.y)(s,{subredditName:o});if(!(f&&f.hasExternalAccount))return;e(x(o));const m=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/subreddit/").concat(t,".json")),method:c.bb.GET}))(r(),o);if(m.ok){const t=b(m.body);e(D({subredditName:o,accountsData:t}))}else e(P(m.error))},N="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",k="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",L="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",U=Object(r.a)(N),M=Object(r.a)(k),F=Object(r.a)(L),G=e=>async(t,n,r)=>{let{apiContext:s}=r;t(U({provider:e}));const o=Object(y.i)(n()),i=Object(m.f)(o),b=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/disconnect.json")),method:c.bb.POST}))(s(),e);b.ok?t(M({provider:e,username:i})):t(F({provider:e,error:b.error}))},B="OAUTH_FLOW_URL_PENDING",q="OAUTH_FLOW_URL_SUCCESS",V="OAUTH_FLOW_URL_FAILED",H=Object(r.a)(B),W=Object(r.a)(q),K=Object(r.a)(V),J=e=>async(t,n,r)=>{let{apiContext:b}=r;t(H({provider:e}));const m=Object(s.a)(window.location.href,{[i.c]:e}),O=await((e,t,n)=>Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:Object(l.a)("".concat(e.apiUrl,"/api/v1/external_account/").concat(t,"/connect.json")),method:c.bb.POST,data:{redirect_url:n}}))(b(),e,m);if(O.ok){const{redirect_url:n}=O.body;t(W({provider:e})),window.location.href=n}else t(K({provider:e,error:O.error})),t(Object(o.e)({kind:f.b.Error,text:Object(p.c)("Something went wrong. Just don't panic.")}))}},"./src/reddit/actions/flairManagement/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="FLAIR_PREVIEW_EXAMPLE_POST_CREATED",s="FLAIR_PREVIEW_EXAMPLE_POST_DELETED"},"./src/reddit/actions/focusedVerticals/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/focusedVerticals/constants.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/FocusVerticalSubredditRecommendations.json"),c=n("./src/reddit/featureFlags/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),u=n("./src/reddit/selectors/focusedVerticalSuggestion.ts");n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));const l=Object(r.a)(s.e),b=Object(r.a)(s.d),p=Object(r.a)(s.f),f=Object(r.a)(s.h),m=Object(r.a)(s.g),O=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t(),f=Object(u.d)(s),m=Object(u.c)(s),O=Object(u.e)(s),g=c.d.focusedVerticalsExperiment(s),j=s.user.temporaryGQL.isLoggedIn;if(f||m&&!O||!g||!j)return;e(p());let y=!1;try{const t=await(e=>Object(o.a)(e,Object.assign({},i)))(r());if(t.ok&&t.body){const{data:n}=t.body,r=n.focusVerticalSubredditRecommendations;if(r&&r.recommendations&&r.recommendations.length&&r.interactedSubreddits&&r.interactedSubreddits.length&&r.interactedSubreddits.length===r.recommendations.length){const t=[...r.recommendations,...r.interactedSubreddits],n=Object(d.d)(t),s=Object(a.b)(t),o=Object(d.e)(r.recommendations),i={recommendedSubredditIds:r.recommendations.map(e=>e.id),interactedSubredditIds:r.interactedSubreddits.map(e=>e.id),subreddits:n,subredditsAboutInfo:s,subredditTopContent:o};e(l(i))}y=!0}}catch(_){y=!1}y||e(b({error:{type:"Focused vertical experiment GQL API failed or caught by try and catch"}}))},g=()=>async(e,t,n)=>e(O())},"./src/reddit/actions/frontpage.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return T}));var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/getParsedUserAgent/index.ts"),i=n("./src/reddit/constants/parameters.ts"),c=n("./src/reddit/endpoints/page/frontpage.ts"),a=n("./src/reddit/endpoints/page/subredditPage.ts"),d=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),u=n("./src/lib/makeActionCreator/index.ts"),l=n("./src/lib/makeListingKey/index.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/reddit/constants/page.ts"),f=n("./src/reddit/constants/postLayout.ts"),m=n("./src/reddit/contexts/PageLayer/index.tsx"),O=n("./src/reddit/helpers/filterListingResponse/index.ts"),g=n("./src/reddit/selectors/frontpage.ts"),j=n("./src/reddit/selectors/monthsToMinutes.ts"),y=n("./src/reddit/selectors/user.ts");const _="FRONTPAGE__MORE_POSTS_PENDING",h="FRONTPAGE__MORE_POSTS_LOADED",E="FRONTPAGE__MORE_POSTS_FAILED",I=Object(u.a)(_),v=Object(u.a)(h),S=Object(u.a)(E),T=e=>async(t,n,r)=>{let{apiContext:u,gqlContext:_}=r;const h=n(),E=Object(g.a)(h),{sort:T=E}=e,C=h.platform.currentPage?h.platform.currentPage.queryParams:{},w=Object(l.a)(p.b,T,C),x=h.listings.postOrder.loadMore[w],D=C[i.t]?C[i.t].toUpperCase():"",P=D in b.Ob&&b.Ob[D];if(x){const e=h.listings.postOrder.api.pending[w],n=h.listings.postOrder.fetchedTokens,r=!(!n[w]||!n[w][x.token]);if(!e&&!r){t(I({key:w,fetchedToken:x.token}));const e=!!h.platform.currentPage&&!!h.platform.currentPage.queryParams.useMockData,n=Object.assign({after:x.token,dist:x.dist},s()(C,i.j),{isMobile:Object(o.e)(h.meta.userAgent),sort:T,t:Object(d.a)(T,P),layout:f.e[Object(m.M)(h,{})],useMockData:e}),r=Object(j.e)(h),l=Object(j.g)(h),b=r&&l;if(!b){const e=h.platform.lastPage,t=e&&e.url;t&&(n.clickUrl=t)}const p=b?()=>Object(a.a)(u(),r,n):()=>Object(c.a)(_(),Object(c.c)(h,Object.assign({},n,{limit:f.a})),Object(y.Q)(h)),g=await p(),E=Object.assign({},g.body,Object(O.a)(h,w,g.body));g.ok?t(v(Object.assign({key:w,fetchedToken:x.token,meta:h.meta},E))):t(S(Object.assign({key:w,error:g.error,fetchedToken:x.token},E)))}}}},"./src/reddit/actions/global.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/actions/monthsToMinutes.ts"),i=n("./src/reddit/actions/publicAccessNetwork/userSettings.ts"),c=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/lib/localStorageAvailable/index.ts")),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/constants/modals.ts"),u=n("./src/reddit/constants/spezModal.ts"),l=n("./src/reddit/featureFlags/index.ts"),b=n("./src/reddit/selectors/activeModalId.ts"),p=n("./src/reddit/selectors/runTimeEnvVars.ts");const f=async(e,t)=>{const n=t();if(l.d.spezModal(n)&&Object(c.a)()&&!Object(b.a)(n))try{const t=Date.now(),r=localStorage.getItem(u.f);if((r?parseInt(r,10):0)>(Object(p.c)(n)?0:u.d))return;localStorage.setItem(u.f,t.toString()),localStorage.getItem(u.f)&&e(Object(a.h)(d.a.SPEZ_MODAL))}catch(r){}};var m=n("./src/reddit/helpers/monthsToMinutes/index.ts"),O=n("./src/reddit/selectors/user.ts");n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));const g="LOCAL_STORAGE_LOADED",j=Object(r.a)(g),y=e=>async(t,n)=>{let r=n();Object(O.J)(r)?Object(m.b)():t(Object(o.h)()),t(Object(i.a)()),(r=n()).user.loid.loid||r.meta.isBot||s.c.captureMessage("User has no LOID set");const{localStorageData:c}=e;c&&t(j(c)),t(f)}},"./src/reddit/actions/gold/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return P})),n.d(t,"f",(function(){return N}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/i18n/utils.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/models/Gold/Award.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/activeModalId.ts"),l=n("./src/reddit/selectors/communityAwards.ts"),b=n("./src/reddit/selectors/profile.ts"),p=n("./src/reddit/selectors/user.ts"),f=n("./src/reddit/endpoints/gold/communityAwards.ts"),m=n("./src/reddit/constants/gold.ts"),O=n("./src/reddit/actions/gold/constants.ts");const g=(e,t,n,r,s,i,c,a)=>async(d,u,l)=>{let{gqlContext:b}=l;d(_());try{if((await Object(f.a)(b(),e,t,n,r,s,i,c,a)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}}catch(p){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}},j=(e,t,n,r,s,i,c,a)=>async(d,u,l)=>{let{gqlContext:b}=l;d(_());try{if((await Object(f.c)(b(),e,t,n,r,s,i,c,a)).error){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}}catch(p){const e=Object(o.c)("There was an error creating the award. Please try again.");await d(E(e))}},y=e=>{let{awardSubType:t,coinPrice:n,coinReward:r,daysOfDripExtension:s,daysOfPremium:i,endsAt:c,iconHeight:a,iconUrl:d,iconWidth:u,isNew:l,name:b,startsAt:p}=e;return async(e,m,O)=>{let{gqlContext:g}=O;e(_());try{if((await Object(f.b)({awardSubType:t,coinPrice:n,coinReward:r,context:g(),daysOfPremium:i,daysOfDripExtension:s,endsAt:c,iconUrl:d,iconWidth:u,iconHeight:a,isNew:l,name:b,startsAt:p})).error){const t=Object(o.c)("There was an error creating the award. Please try again.");await e(E(t))}}catch(j){const t=Object(o.c)("There was an error creating the award. Please try again.");await e(E(t))}}},_=Object(s.a)(O.e),h=Object(s.a)(O.d),E=e=>async(t,n)=>{await t(h(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))},I=Object(s.a)(O.f),v=e=>{let{award:t,subredditId:n}=e;return async(e,s)=>{const o=s();e(I({award:t,subredditId:n})),Object(u.a)(o)===m.a&&e(Object(i.i)(m.a));const a=Object(p.S)(o);e(Object(c.e)({kind:d.b.SuccessCommunity,text:Object(r.a)(a,"communityAwards.creationModal.successfullyCreated")}))}},S=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i=n(),c=!!i.awards.manageable.order[e];if(!Object(l.c)(i,{subredditId:e})&&!c){t(T({subredditId:e}));try{const[n,r]=await Promise.all([Object(f.i)(s(),e),Object(f.f)(s(),e)]);if(!n.ok){const e=Object(o.c)("There was an error loading awards list. Please try again.");return void(await t(x(e)))}if(r.ok&&!r.body.data.subreddit.isAwardCreationAllowed)return void(await t(D({subredditId:e,disabled:!0})));const i=n.body;await t(C({awards:i.data.subreddit.manageableAwards,subredditId:e}))}catch(a){const e=Object(o.c)("There was an error loading awards list. Please try again.");t(x(e))}}},T=Object(s.a)(O.E),C=Object(s.a)(O.D),w=Object(s.a)(O.C),x=e=>async(t,n)=>{await t(w(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))},D=Object(s.a)(O.a),P=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n();if(!!!o.awards.usable.order[e]){t(A({subredditOrProfileId:e}));try{const n=Object(b.p)(o,{profileId:e});if(n){const r=await Object(f.k)(s(),n.name);if(r.ok){const n=r.body;return void(await t(R({awards:n.data.profile.usableAwards,subredditOrProfileId:e})))}}else{const n=await Object(f.j)(s(),e);if(n.ok){const r=n.body;return void(await t(R({awards:r.data.subreddit.usableAwards,subredditOrProfileId:e})))}}}catch(i){}await t(R({awards:a.h,subredditOrProfileId:e}))}},A=Object(s.a)(O.M),R=Object(s.a)(O.L),N=(Object(s.a)(O.K),Object(s.a)(O.h),Object(s.a)(O.i),Object(s.a)(O.g),(e,t)=>async(n,s,o)=>{let{gqlContext:i}=o;n(k());const a=Object(p.S)(s());try{if((await Object(f.h)(i(),t)).error){const e=Object(r.a)(a,"communityAwards.errors.awardDisableError");await n(M(e))}else{await n(L({awardId:t,subredditId:e}));const o=Object(l.a)(s(),t);if(!o)return;const i=Object(r.a)(a,"communityAwards.disableModal.successfullyDisabled",{awardName:o.name});n(Object(c.e)({kind:d.b.SuccessCommunity,duration:c.a,text:i}))}}catch(u){const e=Object(r.a)(a,"communityAwards.errors.awardDisableError");await n(M(e))}}),k=Object(s.a)(O.k),L=Object(s.a)(O.l),U=Object(s.a)(O.j),M=e=>async(t,n)=>{await t(U(e)),t(Object(c.e)({kind:d.b.Error,duration:c.a,text:e}))}},"./src/reddit/actions/gold/constants.ts":function(e,t,n){"use strict";n.d(t,"H",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"G",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"F",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"E",(function(){return g})),n.d(t,"D",(function(){return j})),n.d(t,"C",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"M",(function(){return h})),n.d(t,"L",(function(){return E})),n.d(t,"K",(function(){return I})),n.d(t,"w",(function(){return v})),n.d(t,"A",(function(){return S})),n.d(t,"v",(function(){return T})),n.d(t,"x",(function(){return C})),n.d(t,"z",(function(){return w})),n.d(t,"y",(function(){return x})),n.d(t,"B",(function(){return D})),n.d(t,"p",(function(){return P})),n.d(t,"o",(function(){return A})),n.d(t,"s",(function(){return R})),n.d(t,"r",(function(){return N})),n.d(t,"n",(function(){return k})),n.d(t,"q",(function(){return L})),n.d(t,"m",(function(){return U})),n.d(t,"J",(function(){return M})),n.d(t,"I",(function(){return F})),n.d(t,"t",(function(){return G})),n.d(t,"u",(function(){return B}));const r="GIVE_PREMIUM__OPEN_GIVE_PREMIUM_MODAL",s="GIVE_PREMIUM__CLOSE_GIVE_PREMIUM_MODAL",o="GILD__OPEN_GILD_MODAL",i="GILD__CLOSE_GILD_MODAL",c="GILD__OPEN_FRAMED_GILD",a="COMMUNITY_AWARDS__CREATE_AWARD_PENDING",d="COMMUNITY_AWARDS__CREATE_AWARD_SUCCESSFUL",u="COMMUNITY_AWARDS__CREATE_AWARD_FAILED",l="COMMUNITY_AWARDS__DELETE_AWARD_PENDING",b="COMMUNITY_AWARDS__DELETE_AWARD_SUCCESSFUL",p="COMMUNITY_AWARDS__DELETE_AWARD_FAILED",f="COMMUNITY_AWARDS__DISABLE_AWARD_PENDING",m="COMMUNITY_AWARDS__DISABLE_AWARD_SUCCESSFUL",O="COMMUNITY_AWARDS__DISABLE_AWARD_FAILED",g="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_PENDING",j="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_LOADED",y="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_FAILED",_="COMUNITY_AWARDS__BLACKLIST_STATUS_LOADED",h="COMMUNITY_AWARDS__USABLE_AWARDS_PENDING",E="COMMUNITY_AWARDS__USABLE_AWARDS_LOADED",I="COMMUNITY_AWARDS__USABLE_AWARDS_FAILED",v="GIVE_PREMIUM__GIVE_PREMIUM_PENDING",S="GIVE_PREMIUM__GIVE_PREMIUM_SUCCESSFUL",T="GIVE_PREMIUM__GIVE_PREMIUM_FAILED",C="GIVE_PREMIUM__SELECT_PACKAGE",w="GIVE_PREMIUM__SET_IS_ANONYMOUS",x="GIVE_PREMIUM__SET_INCLUDE_MESSAGE",D="GIVE_PREMIUM__UPDATE_MESSAGE",P="GILD__SET_IS_ANONYMOUS",A="GILD__SET_INCLUDE_MESSAGE",R="GILD__UPDATE_MESSAGE",N="GILD__TRIGGER_LOADER",k="GILD__GILD_PENDING",L="GILD__GILD_SUCCESSFUL",U="GILD__GILD_FAILED",M="GIVE_AWARD__SELECT_AWARD",F="AWARDS__REPORT_AWARD",G="AWARDS__GIVE_AWARD_TOOLTIP_CLOSED",B="AWARDS__GIVE_AWARD_TOOLTIP_OPENED"},"./src/reddit/actions/gold/modals.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return E}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/messageIframeParent/index.ts"),o=n("./src/reddit/helpers/isPost.ts"),i=n("./src/reddit/selectors/gild.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/actions/gold/communityAwards.ts"),d=n("./src/reddit/components/GildModal/getGildModalId.ts"),u=n("./src/reddit/selectors/posts.ts"),l=n("./src/reddit/selectors/subreddit.ts"),b=n("./src/telemetry/index.ts"),p=n("./src/reddit/actions/gold/constants.ts");const f=Object(r.a)(p.H),m=Object(r.a)(p.c),O=()=>async(e,t)=>{const r=t();e(m()),Object(c.b)(c.a.GiftPremiumFlow);const{clickCloseModalEvent:s}=await n.e("givePremiumTrackers").then(n.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"));Object(b.a)(s()(r))},g=Object(r.a)(p.G),j=(e,t)=>async(n,r)=>{const s=r(),i=Object(d.a)(e,t);n(g({thingId:e,gildModalId:i}));const c=Object(l.K)(s,{thingId:e});if(c)Object(a.h)(c.id);else if(Object(o.a)(e)){const t=Object(u.J)(s,{postId:e});if(!t)return;Object(a.h)(t.belongsTo.id)}else;},y=Object(r.a)(p.b),_=Object(r.a)(p.F),h=()=>async(e,t)=>{const r=t(),o=Object(i.d)(r);if(Object(i.h)(r)){const e="close.gild";Object(s.a)({type:e})}e(y());const{clickCloseGildModalEvent:a}=await Promise.resolve().then(n.bind(null,"./src/reddit/helpers/trackers/gild.ts"));Object(b.a)(a(o)(r)),Object(c.b)(c.a.GildingFlow)},E=()=>async()=>{Object(s.a)({type:"login.gild"})}},"./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"i",(function(){return T}));var r=n("./src/app/strings/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/formatApiError/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/goldPurchaseModals/payment.ts"),a=n("./src/reddit/endpoints/gold/purchase.ts"),d=n("./src/reddit/helpers/correlationIdTracker.ts"),u=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),l=n("./src/reddit/models/Gold/Award.ts"),b=n("./src/reddit/models/Gold/Coins/index.ts"),p=n("./src/reddit/selectors/goldPurchaseModals.ts"),f=n("./src/reddit/selectors/user.ts");const m="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL",O="COIN_PURCHASE_MODAL__CLOSE_COIN_PURCHASE_MODAL",g=Object(i.a)(m),j=Object(i.a)(O),y="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL_TO_GILD",_=Object(i.a)(y),h=(e,t,n,r)=>async s=>{s(_({thingId:n}));const o=Object(b.b)(e,t),i=Object(d.c)(d.a.GoldPayment);s(C({coinPackage:o,correlationId:i,isOldReddit:r}))},E=(e,t)=>async(n,s,i)=>{let{apiContext:u}=i;const l=s(),b=t.coins,m=t.pennies,O=Object(d.c)(d.a.GoldPayment),g=Object(f.S)(l);let j,y;n(Object(c.stripeTokenPending)());const _=Object(p.v)(l);if(_||(j=await n(Object(c.validateAndCreateStripeToken)(e)),y=Object(p.r)(l),j))try{const e=await Object(a.g)({coins:b,context:u(),correlationId:O,language:g,pennies:m,rememberCard:y,savedCardId:_||void 0,token:j});if(e.error){const t=Object(o.a)(g,e.error,e.status);return void n(Object(c.stripeApiError)(t))}return void n(Object(c.paymentCompleted)({coins:e.body.coins?e.body.coins:0,confirmed:!1}))}catch(h){const e=Object(o.a)(g,h);n(Object(c.stripeApiError)(e))}else n(Object(c.stripeApiError)(Object(r.a)(g,"error.type.genericCardValidation")))},I=(e,t,s)=>async(i,b,m)=>{let{apiContext:O}=m;const g=b(),y=t.coins,_=t.pennies,h=Object(d.c)(d.a.GoldPayment),E=Object(f.S)(g);let I,v;i(Object(c.stripeTokenPending)());const S=Object(p.v)(g);if(S||(I=await i(Object(c.validateAndCreateStripeToken)(e)),v=Object(p.r)(g),I))try{const{gildModalThingId:e,isAnonymous:t,includeMessage:d,message:b,selectedAward:p}=g.gild;if(!e||!p.id)return void i(Object(c.stripeApiError)(Object(r.a)(E,"gold.errors.unknowngild")));const f=p.id,m={gildType:f,includeMessage:d,isAnonymous:t,message:b},T=await Object(a.f)({coins:y,context:O(),correlationId:h,gildParams:m,isOldReddit:s,language:E,pennies:_,rememberCard:v,savedCardId:S||void 0,thingId:e,token:I});if(T.error){const e=Object(o.a)(E,T.error,T.status);return void i(Object(c.stripeApiError)(e))}{const{gildSuccessful:t}=await n.e("gildActions").then(n.bind(null,"./src/reddit/actions/gold/gild.ts"));i(j()),i(Object(c.paymentCompleted)({confirmed:!1}));const{all_awardings:r,coins:s}=T.body;return void i(t({awardId:f,awardings:r&&r.length?Object(u.a)(r).map(e=>({award:Object(l.d)(e),total:e.count})):[],coins:s,id:e}))}}catch(T){const e=Object(o.a)(E,T);i(Object(c.stripeApiError)(e))}else i(Object(c.stripeApiError)(Object(r.a)(E,"error.type.genericCardValidation")))},v="COIN_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",S=Object(i.a)(v),T=e=>{let{coinPackage:t,correlationId:n}=e;return async(e,r,i)=>{let{apiContext:d}=i;e(g({coinPackage:t}));const u=r(),l=s.a.paypal.buttons["coins".concat(t.coins)]||s.a.paypal.buttons.coins500,b=Object(f.S)(u);try{const t=await Object(a.d)({buttonId:l,context:d(),correlationId:n,language:b});if(t.error){const n=Object(o.a)(b,t.error,t.status);e(Object(c.paypalApiError)(n))}else e(S(t))}catch(p){const t=Object(o.a)(b,p);e(Object(c.paypalApiError)(t))}}},C=e=>{let{coinPackage:t,correlationId:n,isOldReddit:i}=e;return async(e,d,u)=>{let{apiContext:l}=u;e(g({coinPackage:t}));const b=d(),p=s.a.paypal.buttons["coinsGild".concat(t.coins)]||s.a.paypal.buttons.coinsGild500,m=Object(f.S)(b),{gildModalThingId:O,isAnonymous:j,message:y,selectedAward:_}=b.gild,h=_.id;if(O&&h)try{const t=await Object(a.c)({buttonId:p,context:l(),correlationId:n,gildTypeName:h,isAnonymous:j,isOldReddit:i,language:m,message:y,thingId:O});if(t.error){const n=Object(o.a)(m,t.error,t.status);e(Object(c.paypalApiError)(n))}else e(S(t))}catch(E){const t=Object(o.a)(m,E);e(Object(c.paypalApiError)(t))}else e(Object(c.paypalApiError)(Object(r.a)(m,"gold.errors.unknowngild")))}}},"./src/reddit/actions/goldPurchaseModals/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _}));const r="GOLD_PAYMENT__CARD_NAME_EMPTY",s="GOLD_PAYMENT__CARD_NAME_INPUT",o="GOLD_PAYMENT__DELETE_SAVED_CARD",i="GOLD_PAYMENT__FETCHED_STRIPE_INFO",c="GOLD_PAYMENT__PAYMENT_COMPLETED",a="GOLD_PAYMENT__PAYPAL_API_ERROR",d="GOLD_PAYMENT__SAVED_CARDS_PENDING",u="GOLD_PAYMENT__SELECT_PAYMENT_METHOD",l="GOLD_PAYMENT__SELECT_SAVED_CARD",b="GOLD_PAYMENT__STRIPE_API_ERROR",p="GOLD_PAYMENT__STRIPE_ELEMENT_CHANGE",f="GOLD_PAYMENT__CARD_ERROR",m="GOLD_PAYMENT__STRIPE_TOKEN_PENDING",O="GOLD_PAYMENT__TOGGLE_REMEMBER_CARD",g="UPDATE_CARD_MODAL__CLOSE_UPDATE_CARD_MODAL",j="UPDATE_CARD_MODAL__UPDATE_CARD_FAILED",y="UPDATE_CARD_MODAL__UPDATE_CARD_PENDING",_="UPDATE_CARD_MODAL__UPDATE_CARD_SUCCESSFUL"},"./src/reddit/actions/goldPurchaseModals/payment.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"selectPaymentMethod",(function(){return u})),n.d(t,"paymentCompleted",(function(){return l})),n.d(t,"cardNameInput",(function(){return b})),n.d(t,"cardNameEmpty",(function(){return p})),n.d(t,"cardElementChange",(function(){return f})),n.d(t,"stripeTokenPending",(function(){return m})),n.d(t,"stripeTokenError",(function(){return O})),n.d(t,"stripeApiError",(function(){return g})),n.d(t,"paypalApiError",(function(){return j})),n.d(t,"validateAndCreateStripeToken",(function(){return y})),n.d(t,"toggleRememberCard",(function(){return _})),n.d(t,"selectSavedCard",(function(){return h})),n.d(t,"_deleteSavedCard",(function(){return E})),n.d(t,"deleteSavedCard",(function(){return I})),n.d(t,"loadSavedCards",(function(){return T}));var r=n("./src/lib/sentry/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/endpoints/gold/purchase.ts"),i=n("./src/reddit/actions/goldPurchaseModals/constants.ts"),c=n("./src/app/strings/index.ts"),a=n("./src/reddit/selectors/goldPurchaseModals.ts"),d=n("./src/reddit/selectors/user.ts");const u=Object(s.a)(i.i),l=Object(s.a)(i.f),b=Object(s.a)(i.b),p=Object(s.a)(i.a),f=Object(s.a)(i.l),m=Object(s.a)(i.n),O=Object(s.a)(i.m),g=Object(s.a)(i.k),j=Object(s.a)(i.g),y=e=>async(t,n)=>{const r=n(),s=Object(a.j)(r),{token:o,error:i}=await e.createToken({name:s});if(s.trim()){if(!i&&o)return o;t(O(i||void 0))}else{const e=Object(d.S)(r),n=Object(c.a)(e,"gold.checkoutForm.yourCardsNameFieldIsIncomplete");t(p({message:n}))}},_=Object(s.a)(i.o),h=Object(s.a)(i.j),E=Object(s.a)(i.d),I=e=>async(t,n,s)=>{let{apiContext:i}=s;t(E(e));try{const t=await Object(o.a)(i(),e);if(t.error)throw new Error(t.error.type)}catch(c){r.c.captureException(c)}},v=Object(s.a)(i.h),S=Object(s.a)(i.e),T=()=>async(e,t,n)=>{let{apiContext:s}=n;e(v());const i=t(),c=Object(d.S)(i);try{const t=await Object(o.b)(s(),c);if(t.error)throw new Error(t.error.type);const n=t.body.map(e=>({brand:e.brand,cardId:e.card_id,expirationMonth:e.exp_month,expirationYear:e.exp_year,last4:e.last4}));e(S(n)),n[0]&&e(h(n[0].cardId))}catch(a){r.c.captureException(a),e(S([]))}}},"./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return y}));var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/formatApiError/index.ts"),a=n("./src/reddit/actions/goldPurchaseModals/payment.ts"),d=n("./src/reddit/endpoints/gold/purchase.ts"),u=n("./src/reddit/helpers/correlationIdTracker.ts"),l=n("./src/reddit/selectors/user.ts");const b="PREMIUM_PURCHASE_MODAL__OPEN_PREMIUM_PURCHASE_MODAL",p="PREMIUM_PURCHASE_MODAL__CLOSE_PREMIUM_PURCHASE_MODAL",f=Object(s.a)(b),m=Object(s.a)(p),O=e=>async(t,n,r)=>{let{apiContext:s}=r;const b=n(),p=i.lb,f=Object(u.c)(u.a.GoldPayment),m=Object(l.S)(b);t(Object(a.stripeTokenPending)());const O=await t(Object(a.validateAndCreateStripeToken)(e));if(O)try{const e=await Object(d.h)({context:s(),correlationId:f,language:m,pennies:p,token:O});if(e.error){const n=Object(c.a)(m,e.error);t(Object(a.stripeApiError)(n))}else t(Object(a.paymentCompleted)({confirmed:!1}))}catch(g){const e=Object(c.a)(m,g);t(Object(a.stripeApiError)(e))}else t(Object(a.stripeApiError)(Object(o.a)(m,"error.type.genericCardValidation")))},g="PREMIUM_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",j=Object(s.a)(g),y=e=>async(t,n,s)=>{let{apiContext:o}=s;t(f());const i=n(),u=Object(l.S)(i),b=r.a.paypal.buttons.premium;try{const n=await Object(d.e)({buttonId:b,context:o(),correlationId:e,language:u});if(n.error){const e=Object(c.a)(u,n.error);t(Object(a.paypalApiError)(e))}else t(j(n))}catch(p){const e=Object(c.a)(u,p);t(Object(a.paypalApiError)(e))}}},"./src/reddit/actions/governance/communityDetails.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/governance/community.ts"),o=n("./src/reddit/actions/governance/constants.ts");const i=Object(r.a)(o.a),c=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:o}=r;const c=await Object(s.a)(o(),{subredditId:t});c.ok&&e(i(Object.assign({subredditId:t},c.body)))}}},"./src/reddit/actions/governance/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return h})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return S})),n.d(t,"x",(function(){return T}));const r="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",s="GOVERNANCE__NEW_SUBREDDIT_SUGGESTED",o="GOVERNANCE__NEW_TOP_MOD_SUGGESTED",i="GOVERNANCE__OPT_OUT_IN_PENDING",c="GOVERNANCE__OPT_OUT_MODAL_OPENED",a="GOVERNANCE__PROPOSAL_CREATION_FAILURE",d="GOVERNANCE__PROPOSAL_CREATION_PENDING",u="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",l="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",b="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",p="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",f="GOVERNANCE__PUBLIC_WALLET_INFO_FAILURE",m="GOVERNANCE__PUBLIC_WALLET_INFO_PENDING",O="GOVERNANCE__PUBLIC_WALLET_INFO_SUCCESS",g="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",j="GOVERNANCE__RELEASE_NOTES_SUCCESS",y="GOVERNANCE__TRANSFER_FAILURE",_="GOVERNANCE__TRANSFER_MODAL_OPENED",h="GOVERNANCE__TRANSFER_PENDING",E="GOVERNANCE__TRANSFER_SUCCESS",I="GOVERNANCE__WALLETS_FETCH_FAILURE",v="GOVERNANCE__WALLETS_FETCH_PENDING",S="GOVERNANCE__WALLETS_FETCH_SUCCESS",T="GOVERNANCE__WALLET_REGISTRATION_MODAL_OPENED"},"./src/reddit/actions/governance/errorToast.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/reddit/actions/toaster.ts"),s=n("./src/reddit/helpers/governanceErrorText/index.ts"),o=n("./src/reddit/models/Toast/index.ts");function i(e,t){e(Object(r.e)({duration:5e3,kind:o.b.Error,text:Object(s.a)(t)}))}},"./src/reddit/actions/governance/publicWalletsFetched.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/governance/wallet.ts"),o=n("./src/reddit/actions/governance/constants.ts");const i=Object(r.a)(o.m),c=Object(r.a)(o.n),a=Object(r.a)(o.l);t.a=e=>async(t,n,r)=>{let{apiContext:o}=r;t(i({subredditId:e.subredditId}));const d=await Object(s.b)(o(),e);d.ok?t(c(Object.assign({subredditId:e.subredditId},d.body))):t(a({error:d.error}))}},"./src/reddit/actions/grantUserFlair/constants.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));const r="SUBREDDIT__FLAIRED_USERS_PENDING",s="SUBREDDIT__FLAIRED_USERS_LOADED",o="SUBREDDIT__FLAIRED_USERS_FAILED",i="SUBREDDIT__FLAIRED_USERS_SEARCH_PENDING",c="SUBREDDIT__FLAIRED_USERS_SEARCH_LOADED",a="SUBREDDIT__FLAIRED_USERS_SEARCH_FAILED",d="SUBREDDIT__FLAIRED_USERS_OWNFLAIR_CHANGED",u="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_ADDED",l="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_CHANGED",b="SUBREDDIT__FLAIRED_USERS_DELETE_PENDING",p="SUBREDDIT__FLAIRED_USERS_DELETE_COMPLETED",f="SUBREDDIT__FLAIRED_USERS_DELETE_FAILED"},"./src/reddit/actions/harbergerTax/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b}));const r="HARBERGER_TAX__BANNER_MANAGE_MODAL_OPENED",s="HARBERGER_TAX__BANNER_PURCHASE_MODAL_OPENED",o="HARBERGER_TAX__BANNER_CRYPTO_MANAGE_MODAL_OPENED",i="HARBERGER_TAX__BANNER_CRYPTO_PURCHASE_MODAL_OPENED",c="HARBERGER_TAX__BANNER_PURCHASE_FAILURE",a="HARBERGER_TAX__BANNER_PURCHASE_PENDING",d="HARBERGER_TAX__BANNER_PURCHASE_SUCCESS",u="HARBERGER_TAX__BANNER_UPDATE_FAILURE",l="HARBERGER_TAX__BANNER_UPDATE_PENDING",b="HARBERGER_TAX__BANNER_UPDATE_SUCCESS"},"./src/reddit/actions/header.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts");const s="HEADER__SUBSCRIPTIONS_PINNED",o="HEADER__SUBSCRIPTIONS_UNPINNED",i=Object(r.a)(s),c=Object(r.a)(o),a="HEADER__DROPDOWN_CLOSED",d="HEADER__DROPDOWN_OPENED",u="HEADER__DROPDOWN_TOGGLED",l=Object(r.a)(a),b=Object(r.a)(d),p=Object(r.a)(u)},"./src/reddit/actions/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"m",(function(){return E}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/lib/uploadToS3/index.ts"),i=n("./src/reddit/helpers/getGenericUploadError.ts"),c=n("./src/reddit/models/Image/index.tsx"),a=n("./src/reddit/selectors/imageUploads.ts");const d="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",u="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",l="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",b="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",p="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",f=Object(r.a)(d),m=Object(r.a)(u),O=Object(r.a)(l),g=Object(r.a)(b),j=Object(r.a)(p),y=async(e,t,n,r)=>{if(!t.ok)throw Object(c.k)(n,t.error);let s,i=t.body;"s3UploadLease"in i&&(i=i.s3UploadLease,s=t.body.websocketUrl);const a=await Object(o.a)(n.file,i);if(a.ok){if(!e.imageUploads[n.id])return void Object(c.d)(n);const t=decodeURIComponent(a.body.PostResponse.Location);return Object(c.n)(n,t,s,r)}throw Object(c.k)(n,a.error)};function _(e){return e.split("/").pop()}const h=(e,t)=>new Promise((n,r)=>{const o=Object(a.b)(e,t);if(!o.length)return n(null);const i=o[0].websocketUrl;if(!i)return r(new Error("ImageUploads: No websocket URL found"));const c={};for(let e=0;e<o.length;e++){const t=o[e],n=_(t.url);c[n]=t}const d=o.length,u=new WebSocket(i);u.onopen=e=>{u.onerror=null,n({websocket:u,imagesByKey:c,imageCount:d})},u.onerror=e=>{u.close();const t=new Error("ImageUploads: Failed to connect to websocket");s.c.captureException(t),r()}}),E=e=>(t,n,r)=>{let{apiContext:o}=r;return new Promise((n,r)=>{const{websocket:o}=e;let{imageCount:a,imagesByKey:d}=e;function u(){for(const e in d){const n=d[e],r=Object(c.o)(n,n.url);t(O(r))}n(),o.close()}d=Object.assign({},d);let l=setTimeout(u,6e4);o.onmessage=e=>{clearTimeout(l);const r=JSON.parse(e.data);if(r&&"success"===r.type){const e=r.payload.url,n=_(e),s=d[n];if(!s)return;a-=1,delete s[n];const o=Object(c.o)(s,e);t(O(o))}else{const e=_(r.payload.image_key),n=d[e];if(!n)return;a-=1,delete n[e];const s=Object(i.a)(r.payload.image_key),o=Object(c.k)(n,s);t(g(o))}a?l=setTimeout(u,6e4):(o.close(),n())},o.onerror=e=>{clearTimeout(l);const n=Object(i.a)("websocket");for(const r in d){const e=d[r],s=Object(c.k)(e,n);t(g(s))}o.close();const a=new Error("ImageUploads: WebSocket connection failed before all messages received");s.c.captureException(a),r()}})}},"./src/reddit/actions/inContextModeration.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="INCONTEXT__BANNED",o="INCONTEXT__MUTED",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return w}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/telemetry/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/reddit/actions/discoveryUnit.ts"),a=n("./src/reddit/actions/subreddit/similarSubreddit.ts"),d=n("./src/reddit/actions/subreddit/subredditPosts.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/inFeedChaining.ts"),b=n("./src/reddit/constants/page.ts"),p=n("./src/reddit/endpoints/subreddit/similar.ts"),f=n("./src/reddit/helpers/localStorage/index.ts"),m=n("./src/reddit/helpers/trackers/discoveryUnit.ts"),O=n("./src/reddit/i18n/utils.ts"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/selectors/inFeedChaining.ts"),y=n("./src/reddit/selectors/posts.ts"),_=n("./src/reddit/selectors/subreddit.ts");const h="FEED_CHAINING__CHAIN_LOADED",E=Object(o.a)(h),I=e=>{const t=Date.now()-e,n=Object(f.s)();return Object.keys(n).filter(e=>n[e].when>=t).map(e=>n[e])},v=e=>{let{listingName:t,listingKey:n,postId:o}=e;return async(e,u)=>{if(!o)return;if(!(t===b.g||t===b.c))return;0===I(s.db).length&&Object(f.U)(!1);let O=u();if(Object(j.d)(O,{listingKey:n,postId:o})||Object(j.a)(O).length>=l.a||Object(f.A)()||I(s.w).length>=l.a)return;const g=Object(y.x)(O,{listingKey:n,postId:o});if(g&&g.isSponsored)return;await e(Object(c.h)()),O=u();const h=Object(j.b)(O,{listingName:t});if(!h)return;const v=Object(y.T)(O,{postId:o});if(!v||Object(j.e)(O,{subredditId:v.id})||(e=>{return I(s.w).some(t=>t.subredditId===e)})(v.id))return;const S={subredditIds:[v.id],count:l.b,variant:p.a.Factorization};await e(Object(a.b)(S));const T=Object(a.a)(S);O=u();const C=Object(_.x)(O,{key:T});0!==C.length?(await Promise.all(C.map(t=>e((e=>async(t,n)=>{const r=s.Ob.DAY.toUpperCase(),o=Object(i.a)(e,s.N.TOP,{t:r});Object(y.C)(n(),{listingKey:o}).length>0||await t(Object(d.a)({range:r,sort:s.H.TOP,subredditName:e}))})(t.name)))),O=u(),Object(j.f)(O,{postId:o}).length<l.c?Object(r.a)(Object(m.b)(h,"other",v)(O)):(Object(f.a)(o,v.id),Object(r.a)(Object(m.c)(h,v)(O)),e(E({listingKey:n,postId:o})))):Object(r.a)(Object(m.b)(h,"no_chaining",v)(O))}},S="FEED_CHAINING__CHAIN_TOGGLED",T=(Object(o.a)(S),"FEED_CHAINING__CHAINING_TOGGLED"),C=Object(o.a)(T),w=()=>async e=>{Object(f.U)(!0),e(C({isDismissed:!0})),e(Object(u.e)(Object(u.d)(Object(O.c)("You'll see this less often."),g.b.Undo,Object(O.c)("Undo"),async()=>{Object(f.U)(!1),e(C({isDismissed:!1}))})))}},"./src/reddit/actions/jsApi.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="JSAPI__CONSUMER_SUBSCRIBED",o=Object(r.a)(s)},"./src/reddit/actions/layers.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/toaster.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/CreateLayer.json");var c=n("./src/reddit/endpoints/post/create.ts"),a=n("./src/reddit/i18n/utils.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/layers.ts");n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"l",(function(){return I}));const l="SUBREDDIT__CREATE_LAYER",b=Object(r.a)(l),p="SUBREDDIT__SAVE_LAYER_DRAFT",f=Object(r.a)(p),m="SUBREDDIT__OPEN_LAYER_DRAFT",O=Object(r.a)(m),g="SUBREDDIT__DELETE_LAYER_DRAFT",j=Object(r.a)(g),y="SUBREDDIT__LAYER_SUBMIT_SUCCEEDED",_=Object(r.a)(y),h="SUBREDDIT__LAYER_SUBMIT_FAILED",E=Object(r.a)(h),I=e=>async(t,n,r)=>{let{gqlContext:l}=r;const b=new WebSocket(e),p=Object(u.a)(n()),f=()=>{t(E());const e=Object(s.d)(Object(a.c)("Layer upload Error"),d.b.Error);t(Object(s.e)(e)),b.close()};b.onmessage=async e=>{const n=JSON.parse(e.data),r="success"===n.type?n.payload.redirect:"",u=Object(c.d)(r);if(u&&p){if((await((e,t,n)=>Object(o.a)(e,Object.assign({},i,{variables:{postId:t,box:n}})))(l(),u,p)).ok){t(_());const e=Object(s.d)(Object(a.c)("Layer has been successfully created"),d.b.SuccessCommunityGreen);return t(Object(s.e)(e)),void b.close()}f()}else f()},b.onerror=f}},"./src/reddit/actions/leaderboard/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="LEADERBOARD__DATE_RANGE_CHANGED",s="LEADERBOARD__DATE_RANGE_FETCH_FAILURE",o="LEADERBOARD__DATE_RANGE_FETCH_PENDING",i="LEADERBOARD__DATE_RANGE_FETCH_SUCCESS"},"./src/reddit/actions/login.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n("./src/reddit/actions/modal.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/reddit/constants/modals.ts"),i=n("./src/reddit/constants/postLayout.ts");const c=e=>async(t,n)=>{t(Object(r.i)(e)),!n().user.prefs.layout&&t(Object(s.u)(i.d.Card))},a=()=>async(e,t)=>{e(c(o.a.LOGIN_MODAL_ID))},d=()=>async e=>{e(c(o.a.REGISTER_MODAL_ID))},u=()=>async e=>{e(c(o.a.CHANGE_PASSWORD_MODAL_ID))},l=()=>async e=>{e(c(o.a.ENABLE_TWO_FACTOR))},b=()=>async e=>{e(c(o.a.DISABLE_TWO_FACTOR))},p=()=>async e=>{e(c(o.a.TWO_FACTOR_BACKUP_CODES))}},"./src/reddit/actions/media.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),d=n("./src/reddit/models/Media/index.ts"),u=n("./src/reddit/actions/video.ts");n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return j}));const l="MEDIA__SET_MUTE",b=Object(r.a)(l),p="MEDIA__SET_VOLUME",f=Object(r.a)(p),m=(e,t)=>async(n,r)=>{n(b(e)),!e&&t&&n(Object(u.F)(t))},O="MEDIA__EMBED_HEIGHT_MEASURED",g=Object(r.a)(O),j=e=>{let{height:t,isDeleted:n,postId:r}=e;return async(e,u,l)=>{let{apiContext:b}=l;const p=u(),{media:f}=p.posts.models[r];e(g({height:t,isDeleted:n,postId:r})),null!==f&&f.type===d.n.EMBED&&f.provider===d.t.Twitter&&f.height!==t&&await((e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/set_twitter")),method:s.bb.POST,data:{height:n,link:t}}))(b(),r.substr(3),t)}}},"./src/reddit/actions/meta.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="META__GEO_CHANGED",o=Object(r.a)(s),i="META__META_RECEIVED";Object(r.a)(i)},"./src/reddit/actions/modMode.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/constants/cookie.ts");const a="MOD_MODE_TOGGLED",d=Object(i.a)(a),u=e=>async(t,n,r)=>{let i,{apiContext:a}=r;if(void 0!==e)i=e;else{i="false"===s.a.get(c.c)}s.a.set(c.c,i,{domain:o.a.cookieDomain});(document.cookie.match(/mod_mode_enabled=/g)||[]).length>1&&s.a.set(c.c,"",{expires:0,path:"/"});t(d({enabled:i}))}},"./src/reddit/actions/modQueue/constants.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"w",(function(){return m})),n.d(t,"v",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"t",(function(){return j})),n.d(t,"s",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S}));const r="MODQUEUE_PENDING",s="MODQUEUE_LOADED",o="MODQUEUE_FAILED",i="EDITED_PENDING",c="EDITED_LOADED",a="EDITED_FAILED",d="REPORTS_PENDING",u="REPORTS_LOADED",l="REPORTS_FAILED",b="SPAM_PENDING",p="SPAM_LOADED",f="SPAM_FAILED",m="UNMODERATED_PENDING",O="UNMODERATED_LOADED",g="UNMODERATED_FAILED",j="UNDOACTION_PENDING",y="UNDOACTION_LOADED",_="UNDOACTION_FAILED",h="MORE_MODERATED_SUBREDDITS_LOADED",E="ALL_MODERATED_COMMUNITIES_LOADED",I="ADD_SELECTED_ITEMS",v="BULK_SELECT_ITEMS",S="BULK_UNSELECT_ITEMS"},"./src/reddit/actions/modal.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"k",(function(){return y}));var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./src/reddit/actions/media.ts"),n("./src/reddit/constants/modals.ts")),o=n("./src/reddit/endpoints/user/index.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/activeModalId.ts"),a=n("./src/reddit/selectors/user.ts");const d="MODAL_TOGGLED",u=Object(r.a)(d),l="CLOSE_ALL_MODALS",b=Object(r.a)(l),p="REDESIGN_MODAL_CLOSED",f=(Object(r.a)(p),e=>async(t,n,r)=>{Object(c.b)(e)(n())&&t(u(e))}),m=e=>async(t,n,r)=>{Object(c.b)(e)(n())||t(u(e))},O=()=>async(e,t,n)=>{Object(i.T)(s.a.REDESIGN_MODAL,!0),Object(a.J)(t())&&Object(o.e)(n.apiContext())},g="SET_ACCOUNT_MANAGER_MODAL_DATA";var j;!function(e){e.Explore="explore",e.HeaderLogin="header_login",e.HeaderSignup="header_signup",e.Hide="hide",e.IdCard="id_card",e.Post="post",e.PromoBanner="promo",e.Reply="reply",e.Report="report",e.SubredditLeaderboard="subreddit_leaderboard",e.Save="save",e.Subscribe="subscribe",e.Vote="vote"}(j||(j={}));const y=Object(r.a)(g)},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/profile/index.ts"),o=n("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),i=n("./src/reddit/models/User/index.ts"),c=n("./src/reddit/selectors/user.ts");const a="MOD_PERMS__REQUEST_LOADED",d=Object(r.a)("MOD_PERMS__REQUEST_PENDING"),u=Object(r.a)(a),l=Object(r.a)("MOD_PERMS__REQUEST_FAILED"),b=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user.account)return;if(s.isModeratorWithPostPerms)return;e(d());const i=await Object(o.a)(r());i.ok?e(u(i.body)):e(l(i.error))},p=()=>async(e,t)=>{const n=Object(c.i)(t());if(n){const t=Object(i.f)(n);await e(Object(s.b)(t))}}},"./src/reddit/actions/moderationLog/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="SUBREDDIT__MODERATION_LOG_LOADED",s="SUBREDDIT__ALL_MODERATORS_LOADED"},"./src/reddit/actions/monthsToMinutes.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return y}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/localStorage.ts"),o=n("./src/reddit/helpers/localStorage/index.ts"),i=n("./src/reddit/models/MonthsToMinutes/index.ts"),c=n("./src/reddit/selectors/monthsToMinutes.ts");const a="M2M_SUBSCRIPTIONS_NAMES_LOADED",d=(Object(r.a)(a),"M2M_APPLY_LOGGED_OUT_VOTE"),u=Object(r.a)(d),l="M2M_LOADED_FROM_LOCAL_STORAGE",b=Object(r.a)(l),p="M2M_EXPAND_ACCOUNT_COMPLETENESS",f=(Object(r.a)(p),"M2M_COLLAPSE_ACCOUNT_COMPLETENESS"),m=Object(r.a)(f),O="M2M_INIT_FROM_EMPTY_LOCAL_STORAGE",g=Object(r.a)(O),j=e=>({accountCompleteness:{collapsed:!1,step:i.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:{}},postsCount:0,subreddits:e.subreddits,subscriptions:[],tooltip:{},views:e.views,votes:{comments:{},posts:{}}}),y=()=>async(e,t)=>{const n=t();try{const t=Object(o.n)(s.u);if(!t)return void e(g());const{loggedOutV4:r,loggedOutV5:a}=t;let d=null;if(a?d=a:r&&(d=(e=>({accountCompleteness:{collapsed:!1,step:i.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:e.homeFeed.votes},postsCount:0,subreddits:e.subreddits,subscriptions:e.subscriptions,tooltip:{},views:e.views,votes:{comments:e.votes.comments,posts:e.votes.posts}}))(r)),!d)return void e(g());Object(c.w)(n)||(d=j(d)),e(b(d))}catch(r){e(g())}}},"./src/reddit/actions/monthsToMinutes/accountCompleteness.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="M2M_SET_STEP",o=Object(r.a)(s)},"./src/reddit/actions/monthsToMinutes/homeFeed.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"i",(function(){return h}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/discoveryUnit.ts"),o=n("./src/reddit/endpoints/category/subreddits.ts"),i=n("./src/reddit/endpoints/subreddit/similar.ts"),c=n("./src/reddit/models/MonthsToMinutes/index.ts"),a=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),d=n("./src/reddit/selectors/monthsToMinutes.ts"),u=n("./src/reddit/selectors/subreddit.ts");const l="M2M_SUBREDDIT_VOTED",b=Object(r.a)(l),p="M2M_SIMILAR_SUBREDDITS_LOADED",f=Object(r.a)(p),m=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(i.b)(s(),e);if(o.error)throw new Error(o.error.type);return o.body},O=()=>async(e,t)=>{const n=t();if(!Object(d.o)(n))return;if(Object(d.c)(n)!==c.a.Initial)return;const r=Object(d.F)(n);if(r.length>=c.c)return;const s=r.map(e=>Object(u.G)(n,e)).filter(Boolean),l=c.c-s.length;try{const t=await e(m({count:l,subredditIds:s,variant:i.a.Factorization}));let r;if(Object(a.c)(n))r=Object(o.b)(t);else{const n=await e(m({count:l,subredditIds:s,variant:i.a.CustomModRelevant})),c=Object(i.c)([t,n],l);r=Object(o.b)(c)}r.subredditIds.length>0&&e(f(r))}catch(b){}},g=()=>async(e,t)=>{const n=t();if(Object(d.n)(n))return;const r=Object(d.A)(n);if(0===r.length)return;const o=r.filter(Boolean).join("+");await e(Object(s.j)(o))},j="M2M_CLOSE_HOME_FEED_TOP_BANNER",y=Object(r.a)(j),_="M2M_VIEW_HOME_FEED_TOP_BANNER",h=Object(r.a)(_)},"./src/reddit/actions/monthsToMinutes/initHomeFeed.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),i=n("./src/reddit/actions/page.ts"),c=n("./src/reddit/actions/subscription/index.ts"),a=n("./src/reddit/constants/posts.ts"),d=n("./src/reddit/helpers/monthsToMinutes/index.ts"),u=n("./src/reddit/models/MonthsToMinutes/index.ts"),l=n("./src/reddit/selectors/monthsToMinutes.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/subscriptions.ts");const f="M2M_SET_HOME_FEED",m=Object(s.a)(f),O=()=>async(e,t)=>{let n=t();if(!Object(l.n)(n)){const r=Object(p.b)(n),s=Object(l.A)(n);if(r.length<u.c)for(const t of s){const r={name:t,type:a.a.SUBREDDIT};Object(b.cb)(n,{identifier:r})||await e(Object(c.d)([r],!0))}e(m(s)),n=t(),Object(d.d)(n)}},g=e=>{let{shouldPrepareData:t=!0}=e;return async e=>{t&&e(O()),e(Object(o.b)(u.a.HomeVisited)),e(Object(i.y)()),e(Object(r.b)("/"))}}},"./src/reddit/actions/monthsToMinutes/post.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),i=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),c=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),a=n("./src/reddit/actions/pages/subreddit.ts"),d=n("./src/reddit/models/MonthsToMinutes/index.ts"),u=n("./src/reddit/models/Subreddit/index.ts"),l=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),b=n("./src/reddit/selectors/monthsToMinutes.ts"),p=n("./src/reddit/selectors/posts.ts");const f="M2M_POST_VIEWED",m=Object(s.a)(f),O=e=>async(t,n)=>{let s=n();if(!Object(b.w)(s))return;const f=Object(p.T)(s,{postId:e});if(f&&t(m({postId:e,subredditName:f.name})),Object(b.p)(s)){await t(Object(i.g)()),s=n();const e=Object(l.f)(s);if(e&&f&&!Object(u.d)(f))if(Object(b.l)(s)){t(Object(o.b)(d.a.BannerVisible)),await t(Object(c.c)()),s=n();const e=Object(b.e)(s);e&&await t(Object(a.h)(e,{sort:r.N.HOT}))}else Object(l.e)(e)&&await t(Object(a.h)(f.name,{sort:r.N.TOP}))}}},"./src/reddit/actions/monthsToMinutes/reset.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/page.ts"),o=n("./src/reddit/helpers/monthsToMinutes/index.ts"),i=n("./src/reddit/selectors/monthsToMinutes.ts");const c="M2M_RESET",a=Object(r.a)(c),d=()=>async(e,t)=>{const n=Object(i.n)(t());e(a()),Object(o.a)(),n&&e(Object(s.y)())}},"./src/reddit/actions/multireddit/constants.ts":function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"r",(function(){return s})),n.d(t,"s",(function(){return o})),n.d(t,"t",(function(){return i})),n.d(t,"u",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return v})),n.d(t,"z",(function(){return S})),n.d(t,"y",(function(){return T})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return x})),n.d(t,"d",(function(){return D}));const r="MULTIREDDIT__MORE_POSTS_FAILED",s="MULTIREDDIT__MORE_POSTS_LOADED",o="MULTIREDDIT__MORE_POSTS_PENDING",i="MULTIREDDIT__MY_MULTIREDDITS_PENDING",c="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",a="MULTIREDDIT__CREATE_FAILURE",d="MULTIREDDIT__CREATE_PENDING",u="MULTIREDDIT__CREATE_SUCCESS",l="MULTIREDDIT__DELETE_PENDING",b="MULTIREDDIT__DELETE_SUCCESS",p="MULTIREDDIT__DELETE_FAILURE",f="MULTIREDDIT__DUPLICATE_PENDING",m="MULTIREDDIT__DUPLICATE_SUCCESS",O="MULTIREDDIT__DUPLICATE_FAILURE",g="MULTIREDDIT__EDIT_FAILURE",j="MULTIREDDIT__EDIT_PENDING",y="MULTIREDDIT__EDIT_SUCCESS",_="MULTIREDDIT__ADD_SUBREDDIT_FAILURE",h="MULTIREDDIT__ADD_SUBREDDIT_PENDING",E="MULTIREDDIT__ADD_SUBREDDIT_SUCCESS",I="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_PENDING",v="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_SUCCESS",S="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_FAILURE",T=10,C="MULTIREDDIT__REMOVE_SUBREDDIT_FAILURE",w="MULTIREDDIT__REMOVE_SUBREDDIT_PENDING",x="MULTIREDDIT__REMOVE_SUBREDDIT_SUCCESS";var D;!function(e){e.InvalidSrQuarantine="INVALID_SR_QUARANTINE",e.TooManySubreddits="MULTI_TOO_MANY_SUBREDDITS"}(D||(D={}))},"./src/reddit/actions/multireddit/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/linkMatchers/customLinks.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/modal.ts"),l=n("./src/reddit/actions/page.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/constants/parameters.ts"),f=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=n("./src/graphql/operations/AllUserMultireddits.json"),y=n("./src/lib/makeGqlRequest/index.ts"),_=(e,t)=>Object(y.a)(e,Object.assign({},j,{variables:t})),h=n("./src/reddit/endpoints/page/multiredditListing.ts"),E=n("./src/graphql/operations/SubredditRecommendations.json"),I=n("./src/reddit/helpers/filterListingResponse/index.ts"),v=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),S=n("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),T=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),C=(n("./node_modules/core-js/modules/es6.regexp.split.js"),e=>{let t=e.over_18||!1;if(!t)for(const i of e.subreddits)if(i.data.over_18){t=!0;break}let n=e.quarantine||!1;if(!n)for(const i of e.subreddits){const e=(i.data.audience_target||"").split(",");if(i.data.quarantine||e.indexOf("unsafe")>-1){n=!0;break}}const r=e.subreddits.map(e=>{const t=e.data,{name:n,display_name:r}=t;return{id:n,displayName:r.toLowerCase()}}).sort((e,t)=>e.displayName.localeCompare(t.displayName)),s=r.filter(e=>!e.displayName.startsWith(i.Qb)).map(e=>e.id),o=r.filter(e=>e.displayName.startsWith(i.Qb)).map(e=>e.id);return{created:e.created_utc,description:e.description_md,descriptionHtml:e.description_html,descriptionRtJson:null,displayText:e.display_name,followerCount:e.num_subscribers,icon:e.icon_url,isFavorited:!!e.is_favorited,isFollowed:!1,isNSFW:t,isQuarantined:n,name:e.name,ownerId:e.owner_id,profileIds:o,subredditCount:e.subreddits.length,subredditIds:s,url:e.path.toLowerCase(),visibility:e.visibility}}),w=n("./src/reddit/i18n/utils.ts"),x=n("./src/reddit/models/Multireddit/index.ts"),D=n("./src/reddit/models/Toast/index.ts"),P=n("./src/reddit/selectors/multireddit.ts"),A=n("./src/reddit/selectors/platform.ts"),R=n("./src/reddit/selectors/subreddit.ts"),N=n("./src/reddit/selectors/user.ts"),k=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),L=n("./src/reddit/actions/multireddit/constants.ts");n.d(t,"f",(function(){return G})),n.d(t,"g",(function(){return V})),n.d(t,"b",(function(){return J})),n.d(t,"d",(function(){return $})),n.d(t,"a",(function(){return ne})),n.d(t,"i",(function(){return ie})),n.d(t,"c",(function(){return ue})),n.d(t,"e",(function(){return fe})),n.d(t,"h",(function(){return je}));const U=Object(a.a)(L.q),M=Object(a.a)(L.r),F=Object(a.a)(L.s),G=e=>async(t,n,r)=>{const{gqlContext:s}=r,{sort:o=i.N.HOT,multiredditName:c,username:a}=e,u=n(),l=u.platform.currentPage,b=l?l.queryParams:{},p=Object(P.d)(u,{multiredditName:c,username:a}),f=Object(d.a)(p.url,o,b),m=u.listings.postOrder.loadMore[f];if(!m)return;const O=u.listings.postOrder.api.pending[f],g=u.listings.postOrder.fetchedTokens,j=g[f]&&g[f][m.token]||!1;if(O||j)return;t(F({key:f,fetchedToken:m.token}));const y=p.url.replace(/\/$/,""),_=b.t?b.t.toUpperCase():void 0,E={after:m.token,includeIdentity:!1,includeSources:!1,path:y,range:_,sort:o.toUpperCase()},v=await Object(h.a)(s(),E),{data:T}=v.body,C=Object(S.a)(T);v.ok&&T&&T.multireddit?t(M(Object.assign({fetchedToken:m.token,key:f,meta:u.meta},C,Object(I.a)(u,f,C),{multiredditsModelsState:u.multireddits.models}))):t(U(Object.assign({error:{type:i.D.NOT_FOUND_ERROR},fetchedToken:m.token,key:f},v.body,Object(I.a)(u,f,C))))},B=Object(a.a)(L.t),q=Object(a.a)(L.u),V=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,s)=>{let{apiContext:o,gqlContext:i}=s;const c=r();if(!Object(N.i)(c))return;if(!e&&Object(P.h)(c)||Object(P.i)(c))return;n(B());const a=await _(i(),{includeSources:t});if(a.ok){const e=a.body.data.identity.allMultireddits.edges.map(e=>e.node),t=Object(v.b)(e);n(q(Object.assign({},t,{multiredditsModelsState:c.multireddits.models})))}}},H=Object(a.a)(L.e),W=Object(a.a)(L.f),K=Object(a.a)(L.g),J=e=>{let{description:t,displayName:n,shouldNavigate:r}=e;return async(e,s,c)=>{let{apiContext:a}=c;const d=s(),l=Object(N.i)(d);if(!l)return;e(W());const p=await((e,t,n)=>Object(f.b)(Object(m.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi")),data:{model:JSON.stringify({description_md:n,display_name:t,visibility:"private",subreddits:[]})},method:i.bb.POST}))(a(),n,t);if(p.ok){const{id:t}=l;if(await e(K({multireddit:C(p.body.data),multiredditsModelsState:d.multireddits.models,userId:t})),r){e(Object(u.f)());const t=p.body.data.path.toLowerCase();await e(Object(o.b)(t))}e(Object(b.e)({text:Object(w.c)("Custom feed created!")}))}else e(H(p.error))}},Y=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),c=Object(N.i)(o),a=Object(A.i)(o)?Object(A.m)(o):Object(A.b)(o),u=a&&a.routeMatch&&a.routeMatch.match;if(!u)return;const b=u.params,f=b.sort||i.N.HOT,{multiredditName:m,username:O}=b;if(!m)return;const g=Object(x.h)((O||c&&c.displayText||"").toLowerCase(),m.toLowerCase()),{queryParams:j}=u,y=Object(d.a)(g,f,j),_=p.t in j&&j[p.t].toUpperCase()||"",h=i.Ob[_]||!1,E=Object(N.i)(o);(O||E&&E.displayText)&&await e(Object(l.C)(y,(O||E.displayText).toLowerCase(),m.toLowerCase(),Object.assign({},s()(j,p.j),s()(j,p.i),{sort:f,t:Object(k.a)(f,h)})))},z=Object(a.a)(L.k),Q=Object(a.a)(L.l),X=Object(a.a)(L.m),$=e=>{let{description:t,displayName:n,fromName:r,fromUsername:s}=e;return async(e,c,a)=>{let{apiContext:d}=a;const l=c(),p=Object(N.i)(l);if(!p||!p.displayText)return;const j=Object(x.h)((s||p.displayText).toLowerCase(),r.toLowerCase());e(Q());const y=await((e,t)=>Object(f.b)(Object(m.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/copy")),data:{description_md:t.description,display_name:t.displayName,expand_srs:!0,from:t.from},method:i.bb.POST}))(d(),{from:j,displayName:n,description:t});if(y.ok){const t=C(y.body.data);e(Object(u.f)()),e(X({multireddit:t,multiredditsModelsState:l.multireddits.models,userId:p.id})),e(Object(b.e)({text:Object(w.c)("Custom feed duplicated!"),buttonText:Object(w.c)("Go there"),buttonAction:Object(o.b)(t.url)}))}else e(z(y.error)),e(Object(b.e)({text:Object(w.c)("Something went wrong duplicating ".concat(Object(w.b)("multiName",r)))}))}},Z=Object(a.a)(L.b),ee=Object(a.a)(L.c),te=Object(a.a)(L.a),ne=e=>{let{communityInfo:t,identifier:n,multiredditNames:r}=e;return async(e,s,o)=>{let{apiContext:a}=o;const d=s(),l=Object(N.i)(d);if(!l||d.multireddits.api.addSubreddit.pending)return;e(Z({name:n.name}));const{displayText:p}=l;if(!p)return;const j=r.map(e=>"/user/".concat(p.toLowerCase(),"/m/").concat(e.toLowerCase())).join(","),y="".concat("profile"===n.type?i.Qb:"").concat(n.name),_=await((e,t,n)=>Object(f.b)(Object(m.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi/bulk_add/r/").concat(t)),data:{paths:n},method:i.bb.PUT}))(a(),y,j);if(_.ok){const s=Object(R.L)(d,{identifier:n})||t&&t.id||"",o=r.map(e=>Object(x.h)(p,e));e(Object(u.f)()),e(Object(b.e)({text:Object(w.c)("Successfully added ".concat(Object(w.b)("prefix","subreddit"===n.type?c.c.subreddit:c.c.profile)).concat(Object(w.b)("communityname",n.name)," to ").concat(Object(w.b)("numcommunities",r.length)," custom ").concat(Object(w.a)("feeds",["feed","feeds"],r.length),"!"))})),await e(ee({communityInfo:t,id:s,multipaths:o,type:n.type})),1===r.length&&await e(Y())}else{e(te(_.error));let t=Object(w.c)("Sorry, something went wrong adding ".concat(Object(w.b)("subredditName",n.name),"."));_.body&&(_.body.reason===L.d.TooManySubreddits?t=Object(w.c)("Maximum communities reached"):_.body.reason===L.d.InvalidSrQuarantine&&(t=Object(w.c)("".concat(Object(w.b)("prefix","subreddit"===n.type?c.c.subreddit:c.c.profile)).concat(Object(w.b)("communityname",n.name)," is invalid because it is quarantined")))),e(Object(b.e)({text:t,kind:D.b.Error}))}}},re=Object(a.a)(L.w),se=Object(a.a)(L.x),oe=Object(a.a)(L.v),ie=e=>{let{id:t,multiredditName:n,name:r,type:s}=e;return async(e,o,c)=>{let{apiContext:a}=c;const d=o(),l=Object(N.i)(d);if(!l||!l.displayText||d.multireddits.api.removeSubreddit.pending)return;e(re({id:t}));const{displayText:p}=l,j=Object(x.h)(p,n),y="".concat("profile"===s?i.Qb:"").concat(r),_=await((e,t,n)=>Object(f.b)(Object(m.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi").concat(n,"r/").concat(t)),method:i.bb.DELETE}))(a(),y,j);_.ok?(e(Object(u.f)()),e(se({id:t,multipath:j,type:s})),e(Object(b.e)({text:Object(w.c)("".concat(Object(w.b)("subredditname",r)," removed from your custom feed!")),buttonText:Object(w.c)("undo"),buttonAction:ne({identifier:{name:r,type:s},multiredditNames:[n]})})),e(Y())):(e(oe(_.error)),e(Object(b.e)({text:Object(w.c)("Sorry, something went wrong removing ".concat(Object(w.b)("subredditName",r),"."))})))}},ce=Object(a.a)(L.h),ae=Object(a.a)(L.i),de=Object(a.a)(L.j),ue=e=>async(t,n,r)=>{let{apiContext:s}=r;const c=n();if(!Object(N.i)(c))return;t(ae());const a=await((e,t)=>Object(f.b)(Object(m.a)(e,[O.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/multi").concat(t)),method:i.bb.DELETE}))(s(),e);a.ok?(await t(de(e)),t(Object(u.f)()),await t(Object(o.b)("/")),t(Object(b.e)({text:Object(w.c)("Custom feed deleted!")}))):t(ce(a.error))},le=Object(a.a)(L.n),be=Object(a.a)(L.o),pe=Object(a.a)(L.p),fe=e=>{let{description:t,displayText:n,multipath:r,visibility:s}=e;return async(e,o,c)=>{let{apiContext:a}=c;const d=o();if(!Object(N.J)(d))return;e(be());const l=await(e=>{let{context:t,description:n,displayText:r,multipath:s,visibility:o}=e;return Object(f.b)(Object(m.a)(t,[O.a]),{endpoint:Object(g.a)("".concat(t.apiUrl,"/api/multi").concat(s)),data:{model:JSON.stringify({description_md:n,display_name:r,visibility:o}),expand_srs:!0},method:i.bb.PUT})})({context:a(),description:t,displayText:n,multipath:r,visibility:s});l.ok?(await e(pe(C(l.body.data))),e(Object(u.f)()),e(Object(b.e)({text:Object(w.c)("Custom feed updated!")}))):(e(le(l.error)),e(Object(b.e)({kind:D.b.Error,text:Object(w.c)("Something went wrong")})))}},me=Object(a.a)(L.z),Oe=Object(a.a)(L.A),ge=Object(a.a)(L.B),je=e=>{let{multiredditName:t,username:n,toExcludeNames:r}=e;return async(e,s,o)=>{let{gqlContext:i}=o;const c=s(),a=Object(N.i)(c);if(!(n||a&&a.displayText))return;const d=Object(x.h)(n||a.displayText,t),u=c.multireddits.models[d];if(!u||!u.subredditIds)return;e(Oe());const l=r&&r.reduce((e,t)=>{const n=Object(R.G)(c,t)||Object(R.H)(c,t);return n?[...e,n]:e},[]),b=await((e,t)=>Object(y.a)(e,Object.assign({},E,{variables:t})))(i(),{count:L.y,subredditIds:u.subredditIds,toExclude:l});if(b.ok){const{data:t}=b.body;e(ge({multipath:d,subreddits:Object(T.b)(t)}))}else e(me(b.error))}}},"./src/reddit/actions/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/lib/makeActionCreator/index.ts");const s="NOTIFICATION_BANNER_SET",o="NOTIFICATION_BANNER_DISMISSED",i=Object(r.a)(s),c=Object(r.a)(o)},"./src/reddit/actions/notifications/constants.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return y}));var r=n("./src/lib/makeActionCreator/index.ts");const s="NOTIFICATIONS__SHOW_NOTIFICATION_PROMPT",o="NOTIFICATIONS__HIDE_NOTIFICATION_PROMPT",i=Object(r.a)(s),c=(Object(r.a)(o),"NOTIFICATIONS__PERMISSION_GRANTED"),a="NOTIFICATIONS__PERMISSION_DENIED",d=Object(r.a)("NOTIFICATIONS__PERMISSION_PENDING"),u=Object(r.a)(c),l=Object(r.a)(a);var b,p;!function(e){e[e.NotificationsSupported=0]="NotificationsSupported",e[e.BrowserUnsupported=1]="BrowserUnsupported",e[e.LocalStorageUnavailable=2]="LocalStorageUnavailable",e[e.NotAllRequiredAPIsSupported=3]="NotAllRequiredAPIsSupported"}(b||(b={})),function(e){e.Granted="granted",e.Denied="denied",e.Closed="closed",e.Default="default"}(p||(p={}));const f="PUSH__GET_PREFERENCES_PENDING",m="PUSH__GET_PREFERENCES_LOADED",O="PUSH__GET_PREFERENCES_FAILED",g="PUSH__SET_PREFERENCES_PENDING",j="PUSH__SET_PREFERENCES_LOADED",y="PUSH__SET_PREFERENCES_FAILED"},"./src/reddit/actions/nps.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/config.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");var d=n("./node_modules/@r/frames/compiled.js"),u=n("./node_modules/lodash/debounce.js"),l=n.n(u),b=function(e){document.body.appendChild(function(e){let t;const n=l()((function(){t&&t.contentWindow&&d.postMessage(t.contentWindow,"resize.asknicely")}),500);return function(){return t=function(){const t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),d.listen("embedjail"),d.receiveMessage(t.contentWindow,"open.embedjail",(function(e){var r;r=e.detail,t.style.width=r.dimensions.width,t.style.height=r.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",n)})),d.receiveMessage(t.contentWindow,"close.embedjail",(function(e){t.parentElement.removeChild(t),d.stopListening("asknicely"),window.removeEventListener("resize",n),t=void 0})),window.addEventListener("message",(function(e){"https://web.archive.org/web/20191204000722/https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&d.postMessage(t.contentWindow,e.data+".asknicely")})),t}}(e)())};n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return _}));const p="NPS__URL_PENDING",f="NPS__URL_LOADED",m="NPS__URL_FAILED",O=Object(r.a)(p),g=Object(r.a)(f),j=Object(r.a)(m);let y=!1;const _=()=>async(e,t,n)=>{const r=t();if(r.nps.pending)return;if(y)return;e(O());const d=r.platform.currentPage&&r.platform.currentPage.queryParams.feature||"",u=!!r.user.account,l=await((e,t,n)=>Object(i.b)(Object(c.a)(e,[a.a]),{data:{feature:t,app_name:"web2x"},endpoint:"".concat(n?s.a.oauthUrl:s.a.apiUrl,"/api/jail/asknicely").concat(n?"":".json"),method:o.bb.GET}))(n.apiContext(),d,u);if(l.ok){const t=l.body;t.dest?(e(g(t)),b(t.dest),y=!0):e(j())}else e(j())}},"./src/reddit/actions/oldSiteRules.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));const a="OLD_SITE_RULES_LOADED",d=Object(r.a)(a),u=()=>async(e,t,n)=>{let{apiContext:r}=n;const a=await(e=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/site_rules.json"),method:s.bb.GET}))(r());if(a.ok){const{site_rules:t}=a.body;e(d({oldSiteRules:t}))}}},"./src/reddit/actions/otherDiscussions/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/constants/index.ts");const s=e=>e.includes("/".concat(r.xb.DUPLICATES,"/")),o=e=>e.replace("/comments/","/duplicates/"),i="OTHER_DISCUSSIONS_POSTS_FAILED",c="OTHER_DISCUSSIONS_POSTS_LOADED",a="OTHER_DISCUSSIONS_POSTS_PENDING"},"./src/reddit/actions/page.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/react-router-redux/es/index.js"),i=n("./src/app/strings/index.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/getParsedUserAgent/index.ts"),d=n("./src/lib/truncateText/index.ts"),u=n("./src/reddit/actions/category.ts"),l=n("./src/reddit/actions/discoveryUnit.ts"),b=n("./src/reddit/actions/focusedVerticals/index.ts"),p=n("./src/reddit/actions/monthsToMinutes/post.ts"),f=n("./src/reddit/actions/multireddit/index.ts"),m=n("./src/lib/makeActionCreator/index.ts"),O=n("./src/lib/makeListingKey/index.ts"),g=n("./src/reddit/actions/otherDiscussions/constants.ts"),j=n("./src/lib/makeGqlRequest/index.ts"),y=n("./src/graphql/operations/OtherDiscussions.json"),_=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),h=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),E=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),I=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),v=n("./src/reddit/models/Post/index.ts");const S=Object(m.a)(g.a),T=Object(m.a)(g.b),C=Object(m.a)(g.c),w=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;const i=r(),c=Object(O.a)(e,null,{isOtherDiscussions:!0}),a=i.listings.postOrder.ids[c],d=!!i.listings.postOrder.api.error[c];if(a&&!d)return;n(C({key:c}));const u=await((e,t)=>Object(j.a)(e,Object.assign({},y,{variables:t})))(o(),t);if(!u.ok)return void n(S(u.error));const l=u.body,b=l&&l.data&&l.data.post;if(!b)return void n(T({count:0,key:c,meta:i.meta,postFlair:{},postId:e,postIds:[],posts:{},profiles:{},subreddits:{}}));const{otherDiscussions:p,otherDiscussionsCount:f}=b,{postFlair:m,postIds:g,posts:w,profiles:x,subreddits:D}=(e=>{const t={postFlair:{},postIds:[],posts:{},profiles:{},subreddits:{}},n=e=>{const n=Object(h.d)(e);t.posts[n.id]=n;const{crosspostRoot:r}=e;if(r&&r.type===v.a.Post&&r.postInfo){const e=Object(h.d)(r.postInfo);t.posts[e.id]=e}switch(e.__typename){case v.f.ProfilePost:t.profiles[e.profile.id]||(t.profiles[e.profile.id]=Object(E.a)(e.profile));break;case v.f.SubredditPost:t.subreddits[e.subreddit.id]||(t.subreddits[e.subreddit.id]=Object(I.a)(e.subreddit)),t.postFlair[e.subreddit.id]||(t.postFlair[e.subreddit.id]=Object(_.a)(e.subreddit))}return n.id};for(const{node:r}of e.edges){const e=n(r);e&&t.postIds.push(e)}return t})(p),P={count:f,key:c,meta:i.meta,postFlair:m,postId:e,postIds:g,posts:w,profiles:x,subreddits:D};n(T(P))};var x=n("./src/reddit/actions/pages/subreddit.ts"),D=n("./src/reddit/actions/pages/userDataRequest/index.ts"),P=n("./src/reddit/actions/railsWidgets.ts"),A=n("./src/reddit/actions/shortcuts.ts"),R=n("./src/reddit/actions/subredditSettings.ts"),N=n("./src/reddit/components/GildModal/getGildModalId.ts"),k=n("./src/reddit/constants/thumbnails.ts"),L=n("./src/reddit/endpoints/governance/posts.ts"),U=n("./src/reddit/endpoints/page/commentsPage.ts"),M=n("./src/reddit/endpoints/page/frontpage.ts"),F=n("./src/reddit/endpoints/page/multiredditListing.ts"),G=n("./src/reddit/endpoints/page/subredditPage.ts"),B=n("./src/reddit/i18n/utils.ts"),q=n("./src/lib/constants/index.ts"),V=n("./src/lib/makeDraftKey/index.ts"),H=n("./src/lib/opener/index.ts"),W=n("./src/reddit/models/Gold/Coins/index.ts"),K=n("./src/reddit/models/PostDraft/index.ts"),J=n("./src/reddit/actions/dashboard.ts"),Y=n("./src/reddit/actions/economics/helpers/async.ts"),z=n("./src/reddit/actions/externalAccount.ts"),Q=n("./src/reddit/actions/gold/modals.ts"),X=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),$=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),Z=n("./src/reddit/actions/login.ts"),ee=n("./src/reddit/actions/moderatingSubreddits.ts"),te=(n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),n("./src/reddit/actions/platform.ts")),ne=n("./src/reddit/endpoints/me/index.ts"),re=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),se=n("./src/reddit/actions/pages/appeal/constants.ts");const oe=Object(m.a)(se.b),ie=Object(m.a)(se.a);var ce=n("./src/reddit/actions/post.ts"),ae=n("./src/reddit/actions/profile/index.ts"),de=n("./src/reddit/actions/redditEmbed.ts"),ue=n("./src/reddit/actions/subreddit.ts"),le=n("./src/reddit/actions/toaster.ts"),be=n("./src/reddit/actions/users.ts"),pe=n("./src/reddit/constants/adEvents.ts"),fe=n("./src/reddit/constants/experiments.ts"),me=n("./src/reddit/constants/graphql.ts"),Oe=n("./src/reddit/constants/listings.ts"),ge=n("./src/reddit/constants/page.ts"),je=n("./src/reddit/constants/parameters.ts"),ye=n("./src/reddit/constants/postLayout.ts"),_e=n("./src/reddit/constants/posts.ts"),he=n("./src/reddit/contexts/PageLayer/index.tsx");const Ee=new Set(["t2_hp82e"]);var Ie=n("./src/reddit/helpers/commentList/index.ts"),ve=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),Se=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),Te=n("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),Ce=n("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),we=n("./src/reddit/helpers/pixels.ts"),xe=n("./src/reddit/models/Comment/index.ts"),De=n("./src/reddit/models/Multireddit/index.ts"),Pe=n("./src/reddit/models/Subreddit/index.ts"),Ae=n("./src/reddit/models/Toast/index.ts"),Re=n("./src/reddit/models/User/index.ts"),Ne=n("./src/reddit/selectors/category.ts"),ke=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),Le=n("./src/reddit/selectors/experiments/exploreV2.ts"),Ue=n("./src/reddit/selectors/experiments/frontpageSignup.ts"),Me=n("./src/reddit/selectors/experiments/postSeo.ts"),Fe=n("./node_modules/reselect/es/index.js"),Ge=n("./src/reddit/helpers/chooseVariant/index.ts"),Be=n("./src/reddit/selectors/experiments/utils.ts"),qe=n("./src/reddit/selectors/meta.ts"),Ve=n("./src/reddit/selectors/platform.ts"),He=n("./src/reddit/selectors/subreddit.ts"),We=n("./src/reddit/selectors/user.ts");const Ke=Object(Fe.a)(We.I,He.M,Ve.i,Me.d,qe.d,(e,t,n,r,s)=>s&&!e&&!n&&r&&!Object(Pe.d)(t)),Je=Object(Fe.a)((e,t)=>Object(Ge.c)(e,{experimentEligibilitySelector:e=>Ke(e,t),experimentName:fe.Ab}),Be.a);var Ye=n("./src/reddit/selectors/frontpage.ts"),ze=n("./src/reddit/selectors/goldPurchaseModals.ts"),Qe=n("./src/reddit/selectors/inlineSubredditEditing.ts"),Xe=n("./src/reddit/selectors/monthsToMinutes.ts"),$e=n("./src/reddit/selectors/multireddit.ts"),Ze=n("./src/reddit/selectors/posts.ts"),et=n("./src/reddit/selectors/runTimeEnvVars.ts"),tt=n("./src/lib/makeCommentsPageKey/index.ts"),nt=n("./src/lib/matchRoute/index.ts"),rt=n("./src/reddit/actions/ads/index.ts"),st=n("./src/reddit/featureFlags/index.ts"),ot=n("./src/reddit/helpers/canonicalUrls.ts"),it=n("./src/lib/sentry/index.ts"),ct=(n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/get.js")),at=n.n(ct),dt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ut={path:"",extraKeys:["id"],disableExtra:!1,replaceMissedObject:!1};var lt;!function(e){e.NotEqual="ne",e.Missed="m",e.Length="l"}(lt||(lt={}));const bt=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,pt=(e,t,n)=>{let{disableExtra:r,extraKeys:s}=n;return r||!bt(t)?e:s.reduce((e,n)=>"".concat(e).concat(t[n]?",".concat(n,"=").concat(t[n]):""),e)},ft=(e,t,n)=>n?"".concat(e,"[").concat(t,"]"):"".concat((e&&"".concat(e,"."))+t),mt=e=>bt(e)?"[Object]":e,Ot=e=>{const{o1:t,o2:n,path:r,diffs:s=[],replaceMissedObject:o}=e,i=dt(e,["o1","o2","path","diffs","replaceMissedObject"]);if(Array.isArray(t)&&Array.isArray(n))return t.length!==n.length?[...s,{k:lt.Length,p:r,o1:t,o2:n}]:t.reduce((s,o,c)=>[...s,...Ot(Object.assign({},e,{o1:t[c],o2:n[c],path:ft(r,pt(c,t[c]||n[c],i),!0)}))],s);if(bt(t)&&bt(n)){let i=s;const c=[];for(const s in t)c.push(s),i=i.concat(n.hasOwnProperty(s)?Ot(Object.assign({},e,{o1:t[s],o2:n[s],path:ft(r,s)})):{k:lt.Missed,p:ft(r,s),o1:o?mt(t[s]):t[s]});for(const e in n)c.includes(e)||i.push({k:lt.Missed,p:ft(r,e),o2:o?mt(n[e]):n[e]});return i}return t!==n?[...s,{k:lt.NotEqual,p:r,o1:t,o2:n}]:s},gt=e=>e[0]instanceof RegExp,jt=(e,t)=>{let[n,r]=e;return n.test(t.p)&&r(t.o1,t.o2)},yt=(e,t,n)=>{const r=e.shift();if(!r||!jt(r,t))return!1;for(const[s,o]of e){const e=s.exec(t.p);if(!e||!o(at()(n.expected,e[0]),at()(n.actual,e[0])))return!1}return!0},_t=e=>{if(Array.isArray(e))return e.reduce((e,t)=>e+_t(t),e.length);if(!bt(e))return 0;const t=Object.keys(e);return t.reduce((t,n)=>t+_t(e[n]),t.length)},ht=/^(account|posts|preferences|profiles|subreddits)\.(?:(t\d{1}_[a-zA-Z0-9]+)\.)?.*$/;var Et,It=(e,t)=>Ot(Object.assign({},ut,{o1:e,o2:t})),vt=n("./src/telemetry/index.ts"),St=n("./src/lib/base64/index.ts"),Tt=n("./src/lib/makeRequest/index.ts");!function(e){e.NumberOfDiffs="numberOfDiffs",e.DetailedDiffs="detailedDiffs"}(Et||(Et={}));const Ct=e=>{switch(e){case Et.NumberOfDiffs:return q.t.NUMBER_OF_DIFFS;case Et.DetailedDiffs:return q.t.DETAILED_DIFFS}};function wt(e,t){return Object(Tt.b)({method:q.bb.POST,endpoint:"/counters/".concat(Ct(t.type)),data:{value:Object(St.a)(JSON.stringify(Object.assign({appName:e},t.data)))},type:"json"})}var xt,Dt=async function(e){let{fetchFn:t,context:n,variables:r,normalizer:s,dataToCompare:o,responseName:i,responseTypeName:c,diffSettings:a,beforeCompare:d}=e;try{const e=Date.now(),u=await t(n,r);if(u.ok){const t=s(u.body.data),n=Date.now()-e;d&&d(o.response,t);const r=It(o.response,t),l=a&&a.rules?((e,t,n)=>e.filter(e=>{for(const r of t)if(gt(r)){if(jt(r,e))return!1}else if(n&&yt(r,e,n))return!1;return!0}))(r,a.rules,{expected:o.response,actual:t}):r,b=l.length,p=_t(o.response),f=(e=>{const t={account:0,posts:0,preferences:0,profiles:0,subreddits:0},n={posts:new Set,profiles:new Set,subreddits:new Set};for(const r of e){const e=r.p.match(ht);if(!e)continue;const s=e[1],o=e[2];switch(s){case"preferences":case"account":t[s]++;break;default:n[s]&&o&&(t[s]++,n[s].add(o))}}for(const r in n)t[r]/=n[r].size||1;return t})(l);return((e,t,n,r,s,o)=>{const i=t?"".concat(e,"_").concat(t):e;Object(vt.b)(q.l.Redesign,{type:"gql",responseName:i,duration:o}),wt(q.l.Redesign,{type:Et.NumberOfDiffs,data:{responseName:i,numberOfDiffs:n,totalDiffs:r}}),wt(q.l.Redesign,{type:Et.DetailedDiffs,data:Object.assign({responseName:e},s)})})(i,c,b,p,f,n),l.length&&it.c.withScope(t=>{t.setExtras(Object.assign({diff:l,numberOfDiffs:b},o.start&&{responsesDist:e-o.start})),Object(it.a)(t,{serverLogging:!1}),it.c.captureMessage("Compare responses: ".concat(i))}),Object.assign({},u,{body:t})}return it.c.withScope(e=>{e.setExtra("error",u.error),Object(it.a)(e,{serverLogging:!1}),it.c.captureMessage("Gql error in ".concat(i))}),u}catch(u){it.c.captureException(u)}},Pt=n("./src/reddit/helpers/timeApiRoute/index.ts"),At=(n("./src/reddit/models/MonthsToMinutes/index.ts"),n("./src/lib/isUrl/index.ts")),Rt=n("./src/reddit/models/Media/index.ts");!function(e){e.Image="image",e.Link="link",e.Video="video"}(xt||(xt={}));var Nt=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),kt=n("./src/reddit/actions/seo/linksModule.ts"),Lt=n("./src/reddit/actions/subreddit/subredditPosts.ts"),Ut=n("./src/reddit/helpers/graphql/helpers.ts"),Mt=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),Ft=n("./src/reddit/selectors/experiments/railsWidgets.ts"),Gt=n("./src/reddit/selectors/seo/linksModule.ts"),Bt=n("./src/reddit/actions/publicAccessNetwork/api.ts");n.d(t,"n",(function(){return qt})),n.d(t,"j",(function(){return Vt})),n.d(t,"I",(function(){return Ht})),n.d(t,"h",(function(){return Wt})),n.d(t,"g",(function(){return Kt})),n.d(t,"f",(function(){return Jt})),n.d(t,"E",(function(){return Xt})),n.d(t,"z",(function(){return nn})),n.d(t,"d",(function(){return rn})),n.d(t,"b",(function(){return sn})),n.d(t,"a",(function(){return on})),n.d(t,"t",(function(){return an})),n.d(t,"s",(function(){return dn})),n.d(t,"u",(function(){return ln})),n.d(t,"r",(function(){return bn})),n.d(t,"c",(function(){return pn})),n.d(t,"A",(function(){return mn})),n.d(t,"B",(function(){return On})),n.d(t,"o",(function(){return gn})),n.d(t,"H",(function(){return jn})),n.d(t,"i",(function(){return yn})),n.d(t,"y",(function(){return hn})),n.d(t,"m",(function(){return En})),n.d(t,"l",(function(){return In})),n.d(t,"k",(function(){return vn})),n.d(t,"C",(function(){return wn})),n.d(t,"D",(function(){return xn})),n.d(t,"e",(function(){return Dn})),n.d(t,"v",(function(){return An})),n.d(t,"q",(function(){return Rn})),n.d(t,"p",(function(){return Nn})),n.d(t,"F",(function(){return kn})),n.d(t,"G",(function(){return Ln})),n.d(t,"w",(function(){return Un})),n.d(t,"x",(function(){return Mn})),n.d(t,"J",(function(){return Gn}));const qt=25,Vt=100,Ht=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return async(n,r,s)=>{let{routes:i}=s;const c=r();Object(nt.a)(e,i,c)?n(Object(o.b)(e)):t?Object(H.c)(e,"_blank"):window.location.assign(e)}},Wt="PAGE__FRONTPAGE_PENDING",Kt="PAGE__FRONTPAGE_LOADED",Jt="PAGE__FRONTPAGE_FAILED",Yt=Object(m.a)(Wt),zt=Object(m.a)(Kt),Qt=Object(m.a)(Jt),Xt=(e,t)=>{const n=e.user.language;return Object(i.a)(n,"title.".concat(t))},$t=[/^posts\.[a-z_0-9]+/,(e,t)=>t&&Object(v.g)(t.author)],Zt=(e,t)=>async(n,r,s)=>{const o=r();if(o.listings.postOrder.api.pending[e])return;const c=ye.e[Object(he.M)(o,{})];t.isMobile=Object(a.e)(o.meta.userAgent),t.recentPostIds=o.posts.recent,t.layout=c,t.useMockData=!!o.platform.currentPage&&(!!o.platform.currentPage.queryParams.useMockData&&Object(et.b)(o)),n(Yt({key:e}));const d=Object(Xe.e)(o),l=Object(Xe.g)(o,{expEventOverride:!1}),b=d&&l;if(b)0;else{const e=o.platform.currentPage,n=e&&e.url;n&&(t.clickUrl=n)}const p=b?()=>Object(G.a)(s.apiContext(),d,t):()=>Object(M.a)(s.gqlContext(),Object(M.c)(o,t),Object(We.Q)(o)),f=b?"multireddit":"index",m=Date.now(),O=await Object(Pt.a)(f,p);n(Object(te.m)(O.status));const g="error-".concat(e);if(O.ok){const i=O.body;n(zt(Object.assign({key:e,meta:o.meta},i)));const c=[ee.c()(n,r,s)];(Object(Le.a)(o)||!l&&Object(ke.g)(o))&&c.push(n(u.h())),!l&&Object(Ft.e)(o)&&await n(Object(P.a)()),await Promise.all(c),n(le.f(g)),n(Object(rt.b)(Nt.a.FRONTPAGE)),!b&&st.d.enableShadowMode(o)&&Dt(Object.assign({},((e,t)=>{const n=[q.N.CONTROVERSIAL,q.N.TOP].includes(e)&&!t?q.Pb:t;return{responseName:"home_feed",responseTypeName:"".concat(e).concat(n?"_"+n:"")}})(t.sort,t.t),{fetchFn:M.b,normalizer:Te.a,variables:Object(M.c)(o,t),context:s.gqlContext(),dataToCompare:{response:i,start:m},beforeCompare:Fn,diffSettings:{rules:[[/.*/,(e,t)=>void 0===e&&[!1,null,void 0].includes(t)],[/^features$/,Ut.f],[/^posts\..+\.eventsOnRender$/,Ut.f],[/^posts\..+\.isRoadblock$/,Ut.f],[/^posts\..+\.postCategories$/,Ut.f],[/^account\.geopopular$/,Ut.f],[/^account\.inChat$/,Ut.f],[/^account\.showTwitter$/,Ut.f],[/^posts\..*\.media\.videoPreview$/,Ut.f],[/^posts\..+\.score$/,Ut.g],[/^subreddits\..+\.subscribers$/,Ut.g],[/^posts\..+\.upvoteRatio$/,Ut.f],[/^subreddits\..+\.primaryColor$/,Ut.d],[/^posts\..+\.flair\[\d{1,2}\]\.backgroundColor$/,Ut.d],[/^account.showRecentPosts$/,(e,t)=>!!e===t],[/^posts\..+\.media\.resolutions\[\d+\]\.url$/,(e,t)=>Object(Ut.b)(e,t,["height"])],[/^posts\..+\.media\.posterUrl$/,(e,t)=>Object(Ut.b)(e,t,["height"])],[/^posts\..+\.preview\.url$/,(e,t)=>Object(Ut.b)(e,t,["format"])],[/^posts\..+\.thumbnail\.url$/,(e,t)=>t===k.a.NSFW],[/^trendingSubredditIds\[\d+\]$/,Ut.f],[/^subreddits\..+\.wls$/,e=>null==e],[/^subreddits\..+\.whitelistStatus$/,(e,t)=>("no_ads"===e||"null_value"===e)&&void 0===t],[/^posts\..+\.media\.obfuscated$/,Ut.c],[/^posts\..+\.source\.outboundUrl$/,(e,t)=>""===e&&void 0===t||Object(Ut.e)(e,t,["app_name","token"])],[/^posts\..+\.source\.outboundUrl(Created|Expiration)$/,(e,t)=>Math.abs(t-e)<1e4],[/^posts\..*\.numComments/,(e,t)=>Math.abs(t-e)<=10],[/^postFlair\..*\.displaySettings\.position/,(e,t)=>""===e&&null===t],[/^subreddits\..*\.freeFormReports$/,e=>null==e],[/^posts\..*\.sendReplies$/,(e,t)=>void 0===t],[/^posts\..+\.flair\[\d+\]\.templateId$/,(e,t)=>null===e&&void 0===t],[/^postInstances\[\d+\]$/,Ut.f],[/^account\.hasAndroidSubscription$/,(e,t)=>!1===e&&void 0===t],[/^account\.hasIOSSubscription$/,(e,t)=>!1===e&&void 0===t],[/^posts\..+\.media\.content$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.media\.markdownContent$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.crosspostParentId$/,(e,t)=>null===e&&void 0===t],[/^posts\..+\.crosspostRootId$/,(e,t)=>null===e&&void 0===t],[/^account\.accountIcon$/,(e,t)=>null===e&&void 0===t],[/^account\.email$/,(e,t)=>null===e&&void 0===t],[/^subreddits\..+\.communityIcon$/,(e,t)=>""===e&&void 0===t],[[/^posts\..*\.sendReplies$/,(e,t)=>!1===t],$t],[/^posts\..*\.domainOverride$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.callToAction$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.contentCategories$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.modReports$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.previewComments$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.userReports$/,(e,t)=>void 0===e&&t&&0===t.length]]}}))}else n(Qt(Object.assign({error:O.error,key:e},O.body))),n(le.e({id:g,kind:Ae.b.Error,text:Object(i.a)(o.user.language,"listings.toast.error"),buttonText:Object(i.a)(o.user.language,"listings.toast.retryButton"),buttonAction:Zt(e,t)}))},en=(e,t)=>async(n,r)=>{const i=r();if(!1===i.user.temporaryGQL.isLoggedIn){if(Object(Le.a)(i))return void n(Object(o.b)(Object(c.a)(Oe.c[ge.d.Explore],e.queryParams)))}const a=Object(Ye.a)(i),{sort:d=a}=e.params,u=Object(O.a)(ge.b,d,e.queryParams),l=i.listings.postOrder.ids[u],b=i.listings.postOrder.api.error[u],p=i.listings.postOrder.api.pending[u],f=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",m=f in q.Ob&&q.Ob[f];if(p||l&&!b&&!t)return void(l&&(n(te.l({title:Xt(r(),"frontpage")})),i.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(rt.b)(Nt.a.FRONTPAGE))})));await n(Zt(u,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:d,t:Object(Se.a)(d,m)}))),n(te.l({title:Xt(r(),"frontpage")})),Object(Ge.c)(i,{experimentEligibilitySelector:Ge.a,experimentName:"redesign_aa"});const g=Object(Ue.a)(i,{});Object(Ue.e)(g)&&n(Object(Z.f)())},tn=()=>async(e,t)=>{const n=t();if(!Object(Gt.a)(n))return e(Object(kt.b)())},nn=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;await Promise.all([n(Object(b.a)()),n(en(e,t)),n(tn()),n(Object(Bt.a)())])},rn="PAGE__COMMENTSPAGE_PENDING",sn="PAGE__COMMENTSPAGE_LOADED",on="PAGE__COMMENTSPAGE_FAILED",cn=Object(m.a)(rn),an=Object(m.a)(sn),dn=Object(m.a)(on),un=(e,t)=>{const n=Object(Ze.T)(e,{postId:t}),r=Object(Ze.J)(e,{postId:t});if(!n||!r)return"";const s=e.posts.models[t].title,o=function(e){return Object(d.a)(e,fe.Mb,fe.Ob)};let i;switch(s.length>=fe.Lb?i=Object(Me.h)(e):s.length<=fe.Nb&&(i=Object(Me.m)(e)),i){case fe.S.TruncTitleSubBrand:return Object(B.c)("".concat(Object(B.b)("postTitle",o(s))," - ").concat(Object(B.b)("subredditName",n.name)," - Reddit"));case fe.S.TruncTitleReddit:return Object(B.c)("".concat(Object(B.b)("postTitle",o(s))," - Reddit"));case fe.S.TruncTitleSub:return Object(B.c)("".concat(Object(B.b)("postTitle",o(s))," - ").concat(Object(B.b)("subredditName",n.name)));case fe.V.TitleSubPtypeBrand:const e=(e=>{if(!e.media&&e.source&&Object(At.a)(e.source.url))return xt.Link;if(e.media)switch(e.media.type){case Rt.n.IMAGE:return xt.Image;case Rt.n.VIDEO:return xt.Video;default:return}})(r);return e?Object(B.c)("".concat(Object(B.b)("postTitle",s)," - ").concat(Object(B.b)("postType",e)," - ").concat(Object(B.b)("subredditName",n.name)," - Reddit")):Object(B.c)("".concat(Object(B.b)("postTitle",s)," - ").concat(Object(B.b)("subredditName",n.name)," - Reddit"));case fe.V.TitleSubPtypeCom:return Object(B.c)("".concat(Object(B.b)("postTitle",s)," - posted in the ").concat(Object(B.b)("subredditName",n.name)," community"));default:return Object(B.c)("".concat(Object(B.b)("postTitle",s)," : ").concat(Object(B.b)("subredditName",n.name)))}},ln=e=>async(t,n)=>{const{partialPostId:r,partialCommentId:s}=e.params,{subredditName:o}=e.params||"",i=r?Object(v.l)(r):"",c=s&&Object(xe.e)(s),{path:a,queryParams:d}=e,l=Object(g.d)(a);l&&t(w(i,{postId:i}));const b=n(),{instanceId:f}=d,{hasSortParam:m,sortToUse:j}=Object(ve.a)(b,i),y=["context","depth","limit",je.e].reduce((e,t)=>{const n=parseInt(d[t]);return isNaN(n)||(e[t]=n),e},{subredditName:o,hasSortParam:m,instanceId:f,include_categories:!0});m&&(y.sort=j),y.onOtherDiscussions=l,t(ce.k(i)),await t(bn(i,c,y,j));const _=n().posts.models[i];if(_){const r=un(n(),i),s=Object(He.M)(n(),{identifier:_.belongsTo});if(_.belongsTo.type!==_e.a.SUBREDDIT||_.isSponsored)_.belongsTo.type===_e.a.PROFILE&&await t(ae.d(s.name));else{!!Object(He.R)(b,{subredditId:_.belongsTo.id})||await t(ue.o(s.name))}const c=!!Je(b,{identifier:_.belongsTo});if(!Object(Ve.i)(b)&&!Object(Pe.d)(s)&&Object(Me.d)(b)){const e=Object(O.a)(o,q.N.TOP,{t:q.Ob.WEEK}),r=Object(Ze.C)(n(),{listingKey:e});if(!r||0===r.length){const e=t(Object(Lt.a)({sort:q.H.TOP,subredditName:s.name,range:q.Ob.WEEK.toUpperCase(),adContext:{layout:me.a.Card,reddaid:b.user.reddaid,sourcePostId:i}}));c&&await e}}{const e=Object(Mt.f)(b);if(e&&!Object(Pe.d)(s)){const n=Object(Xe.e)(b);n&&!Object(Xe.n)(b)?t(Object(x.h)(n,{sort:q.N.HOT})):Object(Mt.e)(e)&&t(Object(x.h)(s.name,{sort:q.N.TOP}))}t(Object(z.p)())}t(te.l({title:r}));const a=n().posts.instances[i]?e.queryParams.instanceId:_.postId;t(Object(A.c)(a));{const e=Object(Ne.g)(n(),{subredditName:s.name});await Promise.all(e.map(e=>t(u.k(e))))}}else t(te.l({title:Xt(n(),"frontpage")}));const{routePrefix:h}=e.params;_e.b[h]===_e.a.PROFILE?Object(ot.d)(n(),t,e):Object(ot.b)(n(),t,e),Object(Xe.w)(n())&&await t(Object(p.b)(i))},bn=(e,t,n,r)=>async(s,o,i)=>{const c=o(),a=Object(tt.a)(e,t,n),{subredditName:d}=n,u=c.commentsPage.keyToHeadCommentId.hasOwnProperty(a),b=c.commentsPage.api.fullyLoaded[a],p=c.commentsPage.api.error[a],f=c.commentsPage.api.pending[a],m=!c.user.temporaryGQL.isLoggedIn,O=r===q.q.CHAT,g=!!c.platform.lastPage;if((f||u&&!p)&&!(O&&g)){if(u&&!c.sidebarPromotedPosts.firstFetch){const t=Object(Ve.i)(c)?Nt.a.COMMENTS_OVERLAY:Nt.a.COMMENTS;window.addEventListener("load",()=>{s(Object(rt.b)(t)),Math.random()<=.01&&s(Object(rt.a)(e))})}return void(b||s(mn(e,t,n)))}s(l.h());const j=c.user.prefs.commentMode;s(cn({key:a,postId:e,commentMode:j}));const y=Object.assign({},n,O?{sort:q.q.LIVE,depth:3}:m?{sort:n.sort,depth:2}:{sort:n.sort});{const t=Object(Ze.J)(o(),{postId:e});t&&t.numComments&&t.numComments>Vt&&(y.truncate=qt)}let _,h=await Object(Pt.a)("comments",()=>Object(U.a)(i.apiContext(),e,t,y));if(s(Object(te.m)(h.status)),h.ok){const t=Object.keys(h.body.posts).filter(e=>!!h.body.posts[e].isMeta),n=h.body.posts[e];if(t.length){const e=await Object(L.a)(i.apiContext(),n.belongsTo.id,t);e.ok&&(_=e.body)}const r=Object(Ie.a)(h.body,e,c);s(an(Object.assign({key:a,postId:e,meta:c.meta,governance:_,shouldCollapse:r},h.body)))}{const r=Object(Ze.J)(o(),{postId:e});r&&h.body.comments&&Object.keys(h.body.comments).length<r.numComments?s(mn(e,t,n)):h.ok&&s(fn({key:a}));const i=Object(Ve.i)(c)?Nt.a.COMMENTS_OVERLAY:Nt.a.COMMENTS;s(Object(rt.b)(i)),Math.random()<=.01&&s(Object(rt.a)(e))}if(h.ok){await ee.c()(s,o,i),s(le.f(a));const t=Object(Ze.J)(o(),{postId:e});Object(we.a)(t.events,pe.a.CommentsView),t&&"subreddit"===t.belongsTo.type&&h.body.comments&&await s(Object(Y.a)({commentIds:Object.keys(h.body.comments),postIds:[t.id],subredditId:t.belongsTo.id}))}else d&&(s(Object(x.j)({key:a})),h=await Object(Pt.a)("subreddit",()=>Object(G.a)(i.apiContext(),d,{})),s(Object(te.m)(h.status))),s(Object(x.e)(h,d)),s(dn(Object.assign({error:h.error,key:a},h.body)))},pn="PAGE__COMMENTSPAGE_LOADED_FULL",fn=Object(m.a)(pn),mn=(e,t,n)=>async(r,s,o)=>{const i=Object(tt.a)(e,t,n),c=s(),a=await Object(U.a)(o.apiContext(),e,t,n);if(r(Object(te.m)(a.status)),a.ok){const t=Object(Ie.a)(a.body,e,c);r(an(Object.assign({key:i,postId:e,meta:c.meta,shouldCollapse:t},a.body))),r(fn({key:i}));const n=s().posts.models[e],o=n&&Object(Ze.T)(s(),{postId:n.id});n&&"subreddit"===n.belongsTo.type&&o&&Object(Qe.a)(c,{subredditId:o.id})&&r(Object(R.f)(o.name,o.id)),n&&"subreddit"===n.belongsTo.type&&a.body.comments&&await r(Object(Y.a)({commentIds:Object.keys(a.body.comments),postIds:[n.id],subredditId:n.belongsTo.id}))}else r(dn(Object.assign({error:a.error,key:i},a.body)))},On=e=>async(t,n,r)=>{await t(Object(de.c)(e,!0))},gn=()=>async(e,t,n)=>{await e((()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t(),o=await Object(ne.a)(r());if(o.ok&&o.body)if(o.body.account)if(s.user.account&&s.user.account.isFPR){const e="https://web.archive.org/web/20191204000722/https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/my-account-was-suspended-or-locked";window.location.href=e}else e(oe(o.body));else Object(re.a)(e,s);else e(ie(o.error))})())},jn=(e,t,n)=>async(r,s,i)=>{let{routes:c}=i;const a=s(),d=(t||a.platform.currentPage).routeMatch.match,u=Object(nt.a)(d.url,c);if(!u)return;const l=e.metaKey||e.ctrlKey||1===e.button;if(u.route&&u.route.meta&&(u.route.meta.name===q.xb.INDEX||u.route.meta.name===q.xb.MULTIREDDIT||u.route.meta.name===q.xb.SUBREDDIT))l?window.open(d.url):n?r(Object(o.b)(d.url)):await r(u.route.action(d,!0));else if(u.match&&u.match.params&&u.match.params.subredditName){const{subredditName:e}=u.match.params,t="/r/".concat(e,"/");if(l)window.open(t);else if(n)r(Object(o.b)(t));else{const n=Object(O.a)(e,q.N.HOT);await r(Object(o.b)(t)),r(Object(x.i)(n,e,{}))}}},yn="PAGE__FRONTPAGE_RELOADED",_n=Object(m.a)(yn),hn=e=>async(t,n,r)=>{const s=n(),o=s.platform.currentPage.routeMatch.match;Object(ze.q)(s)||Object(ze.d)(s)||(e||t(_n()),await t(nn(o,!0)))},En="PAGE__MULTIREDDIT_FEED_PENDING",In="PAGE__MULTIREDDIT_FEED_LOADED",vn="PAGE__MULTIREDDIT_FEED_FAILED",Sn=Object(m.a)(En),Tn=Object(m.a)(In),Cn=Object(m.a)(vn),wn=(e,t,n,r,s)=>async(o,c,a)=>{const{gqlContext:d}=a,u=c();if(u.listings.postOrder.api.pending[e])return;o(Sn({key:e})),r.layout=ye.e[Object(he.M)(u,{})];const l={path:Object(De.h)(t,n).replace(/\/$/,""),includeIdentity:!0,includeSources:!0,sort:r.sort?r.sort.toUpperCase():void 0,range:r.t?r.t.toUpperCase():void 0},b=await Object(Pt.a)("multireddit",()=>Object(F.a)(d(),l)),{data:p}=b.body,m="error-".concat(e);if(b.ok&&p){const r=Object(Ce.a)(p);if(!p.multireddit)return s&&o(le.f(m)),void o(Cn(Object.assign({},r,{error:{type:q.D.NOT_FOUND_ERROR},key:e})));o(Tn(Object.assign({key:e,meta:u.meta},r,{account:r.account||Object(We.i)(u),multiredditsModelsState:u.multireddits.models}))),s&&o(le.f(m)),o(Object(f.h)({multiredditName:n,username:t})),window.addEventListener("load",()=>{o(Object(rt.b)(Nt.a.MULTIREDDIT))})}else s&&o(le.e({id:m,kind:Ae.b.Error,text:Object(i.a)(u.user.language,"listings.toast.error"),buttonText:Object(i.a)(u.user.language,"listings.toast.retryButton"),buttonAction:wn(e,t,n,r,s)}))},xn=(e,t)=>async(n,r)=>{const{multiredditName:i}=e.params;let{username:a}=e.params;if(!a){let t=r();if(t.user.session&&t.user.session.unsafeLoggedOut)return void n(Object(o.c)("/"));!t.user.account&&t.user.session&&await n(be.u()),t=r();const{account:s}=t.user;if(!s)return void n(Object(o.c)("/"));a=Object(Re.f)(s);let d="/user/".concat(a,"/m/").concat(i);const{sort:u}=e.params;return d+=u?"/".concat(u):"",void n(Object(o.c)(Object(c.a)(d,e.queryParams)))}const{sort:d=q.N.HOT}=e.params,u={multiredditName:i,username:a},l=r();a||(a=l.user.account?Object(Re.f)(l.user.account):"");const b=Object(De.h)(a,i),p=Object(O.a)(b,d,e.queryParams),f=l.listings.postOrder.ids[p],m=l.listings.postOrder.api.error[p],g=l.listings.postOrder.api.pending[p],j=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",y=j in q.Ob&&q.Ob[j];if(g||f&&!m&&!t)return void(f&&(n(te.l({title:Object($e.f)(r(),u)})),l.sidebarPromotedPosts.firstFetch||n(Object(rt.b)(Nt.a.MULTIREDDIT))));await n(wn(p,a,i,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:d,t:Object(Se.a)(d,y)}),!0));const _=r();Object($e.d)(_,u)&&n(te.l({title:Object($e.f)(r(),u)})),Object(ot.c)(_,n,e)},Dn="PAGE__DASHBOARD_PENDING",Pn=Object(m.a)(Dn),An=e=>async(t,n,r)=>{const o=n(),i=q.N.HOT,{subredditName:c,section:a,component:d}=e.params,u=Object(V.a)(K.c.replyToComment,"example-comment");t(Pn({draftKey:u})),a&&d&&t(J.d("".concat(a,"/").concat(d)));const l=c&&o.dashboard.subredditLoaded[c];if(c&&!l){t(J.f(c));const n=Object(O.a)(c,i,e.queryParams),r=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",o=r in q.Ob&&q.Ob[r];await t(Object(x.i)(n,c,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:i,t:Object(Se.a)(i,o)}),!0)),t(J.e(c))}else{const n=Object(O.a)(ge.b,i,{}),r=je.t in e.queryParams&&e.queryParams[je.t].toUpperCase()||"",o=r in q.Ob&&q.Ob[r];await t(Zt(n,Object.assign({},s()(e.queryParams,je.j),s()(e.queryParams,je.i),{sort:i,t:Object(Se.a)(i,o)})))}},Rn=e=>async(t,r)=>{const s=r();t(te.l({title:Xt(s,"coins")})),Object(We.J)(s)||await t(be.u());const i=r(),c=e.queryParams;if(c.thanks){const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{c.gild&&t(X.e({thingId:"THING_ID_PLACEHOLDER"})),t(X.g({coinPackage:W.a.coins500})),t(e({confirmed:!1}))},1e3)}else if(c.qty){const e=Object(We.i)(s);if(!Object(We.J)(i)||!(e=>e&&(e.isEmployee||Ee.has(e.id)))(e))return void t(Object(o.c)("/coins"));const r=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.selectPaymentMethod);setTimeout(()=>{const e=parseInt(c.qty),n=Object(W.c)(e);t(X.g({coinPackage:n})),t(r(q.tb))},500)}},Nn=e=>async(e,t)=>{const n=t();e(te.l({title:Xt(n,"coins")}))},kn=e=>async(t,r)=>{const s=r();if(t(te.l({title:Xt(s,"premium")})),e.queryParams.thanks){const e=await Promise.resolve().then(n.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{t($.e()),t(e({confirmed:!1}))},1e3)}Object(We.J)(s)||await t(be.u())},Ln=e=>async(e,t)=>{const n=t();e(te.l({title:Xt(n,"publicAccessNetwork")})),Object(We.J)(n)||await e(be.u())},Un=e=>async(t,n)=>{const r=n(),s=e.params.thingId;t(Object(Q.c)({thingId:s,gildModalId:Object(N.a)(s)})),Object(We.J)(r)||await t(be.u());const o=n();if(!Object(We.J)(o))return t(Object(Q.f)())},Mn=e=>async(e,t)=>{const n=t();Object(We.J)(n)||await e(be.u());const r=t();if(!Object(We.J)(r))throw new Error("Failed to login")},Fn=(e,t)=>{const n={};for(const r in e.postInstances)for(const s of e.postInstances[r]){const o=e.postIds.indexOf(s),i=t.postIds[o];e.posts[s]&&t.posts[i]&&e.posts[s].postId===t.posts[i].postId&&(n[i]={postId:r,gwAdPostId:s,index:o})}for(const r in n){const e=n[r];if(t.postInstances[e.postId]){const n=t.postInstances[e.postId].indexOf(r);-1!==n&&(t.postInstances[e.postId][n]=e.gwAdPostId)}t.posts[e.gwAdPostId]=t.posts[r],delete t.posts[r],t.postIds[e.index]=e.gwAdPostId}},Gn=()=>async(e,t,n)=>{const r=t();st.d.enableUserDataRequestPage(r)?await e(D.d()):await e(Object(o.c)("/"))}},"./src/reddit/actions/pages/appeal/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="APPEAL_PAGE_LOADED",s="APPEAL_PAGE_FAILED"},"./src/reddit/actions/pages/collectionCommentsPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeCollectionCommentsPageKey/index.ts"),i=n("./src/lib/truncateText/index.ts"),c=n("./src/reddit/actions/ads/index.ts"),a=n("./src/reddit/actions/economics/helpers/async.ts"),d=n("./src/reddit/actions/moderatingSubreddits.ts"),u=n("./src/reddit/actions/page.ts"),l=n("./src/reddit/actions/pages/shared.ts"),b=n("./src/reddit/actions/pages/subreddit.ts"),p=n("./src/reddit/actions/platform.ts"),f=n("./src/reddit/actions/post.ts"),m=n("./src/reddit/actions/profile/index.ts"),O=n("./src/reddit/actions/shortcuts.ts"),g=n("./src/reddit/actions/subreddit.ts"),j=n("./src/reddit/actions/toaster.ts"),y=n("./src/reddit/constants/adEvents.ts"),_=n("./src/reddit/constants/parameters.ts"),h=n("./src/reddit/constants/postCollection.ts"),E=n("./src/reddit/constants/posts.ts"),I=n("./src/reddit/endpoints/governance/posts.ts"),v=n("./src/config.ts"),S=n("./src/lib/constants/index.ts"),T=n("./src/lib/makeApiRequest/index.ts"),C=n("./src/reddit/models/RichTextJson/addRTJParam.ts");function w(e,t,n){const r="".concat(v.a.gatewayUrl,"/desktopapi/v1/collection_postcomments");return n?Object(C.a)("".concat(r,"/").concat(e,"/").concat(t,"/").concat(n)):t?Object(C.a)("".concat(r,"/").concat(e,"/").concat(t)):Object(C.a)("".concat(r,"/").concat(e))}var x=(e,t,n,r,s)=>Object(T.b)(e,{data:s,endpoint:w(t,n,r),method:S.bb.GET}),D=n("./src/reddit/endpoints/page/subredditPage.ts"),P=n("./src/reddit/helpers/canonicalUrls.ts"),A=n("./src/reddit/helpers/commentList/index.ts"),R=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),N=n("./src/reddit/helpers/pixels.ts"),k=n("./src/reddit/helpers/timeApiRoute/index.ts"),L=n("./src/reddit/models/Comment/index.ts"),U=n("./src/reddit/models/Post/index.ts"),M=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),F=n("./src/reddit/selectors/platform.ts"),G=n("./src/reddit/selectors/postCollection.ts"),B=n("./src/reddit/selectors/posts.ts"),q=n("./src/reddit/selectors/subreddit.ts");n.d(t,"d",(function(){return V})),n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return W})),n.d(t,"e",(function(){return z})),n.d(t,"c",(function(){return Q}));const V="PAGE__COLLECTIONCOMMENTSPAGE_PENDING",H="PAGE__COLLECTIONCOMMENTSPAGE_LOADED",W="PAGE__COLLECTIONCOMMENTSPAGE_FAILED",K=Object(s.a)(V),J=Object(s.a)(H),Y=Object(s.a)(W),z=e=>async(t,n)=>{const{collectionId:s,partialPostId:o,partialCommentId:c,subredditName:a="",routePrefix:d}=e.params,u=o?Object(U.l)(o):"",b=c&&Object(L.e)(c),{queryParams:j}=e,y=n(),{instanceId:I}=j,v={id:s,type:E.b[d]},S=E.b[d]===E.a.PROFILE,{hasSortParam:T,sortToUse:C}=Object(R.a)(y,u),w=["context","depth","limit",_.e].reduce((e,t)=>{const n=parseInt(j[t]);return isNaN(n)||(e[t]=n),e},{subredditName:a,hasSortParam:T,instanceId:I});T&&(w.sort=C),t(f.k(u)),await Promise.all([S?t(m.d(a)):Promise.resolve(),t(Z(s,u,b,w))]);const x=((e,t)=>{const n=Object(G.q)(e,{collectionId:t.id});if(!n)return"";const s=Object(q.M)(e,{identifier:t}),o=Object(r.a)(e.user.language,"title.commentsPage",{postTitle:n.title,subreddit:s.name});return Object(i.a)(o,h.c," …")})(n(),v)||Object(l.b)(n(),"frontpage");t(p.l({title:x}));const D=n().posts.models[u];if(D){const r=Object(q.M)(n(),{identifier:D.belongsTo});if(!D.isSponsored)if(D.belongsTo.type===E.a.SUBREDDIT){!!Object(q.R)(y,{subredditId:D.belongsTo.id})||await t(g.o(r.name))}else await t(m.d(r.name));const s=n().posts.instances[u]?e.queryParams.instanceId:D.postId;t(Object(O.c)(s))}S?Object(P.d)(n(),t,e):Object(P.e)(n(),t,e)},Q="PAGE__COLLECTIONCOMMENTSPAGE_LOADED_FULL",X=Object(s.a)(Q),$=(e,t,n,r)=>async(s,i,c)=>{const a=Object(o.a)(e,t,n,r),d=i();t=t||Object(G.p)(d,{collectionId:e});const u=await x(c.apiContext(),e,t,n,r);if(s(Object(p.m)(u.status)),u.ok){if(!(t=t||u.body.collections[e].primaryPostId))return;const n=Object(A.a)(u.body,t,d);s(J(Object.assign({key:a,collectionId:e,meta:d.meta,postId:t,shouldCollapse:n},u.body)));const r=d.user.prefs.commentMode;s(X({commentMode:r,key:a,postId:t}))}else s(Y(Object.assign({error:u.error,key:a},u.body)))},Z=(e,t,n,r,s)=>async(i,l,f)=>{const m=Object(o.a)(e,t,n,r),O=l();t=t||Object(G.p)(O,{collectionId:e});const{subredditName:g}=r,_=O.commentsPage.keyToHeadCommentId.hasOwnProperty(m),h=O.commentsPage.api.fullyLoaded[m],E=O.commentsPage.api.error[m];if(O.commentsPage.api.pending[m]||_&&!E){if(_&&!O.sidebarPromotedPosts.firstFetch){const e=Object(F.i)(O)?M.a.COMMENTS_OVERLAY:M.a.COMMENTS;window.addEventListener("load",()=>{i(Object(c.b)(e))})}return void(h||s||i($(e,t,n,r)))}const v=O.user.prefs.commentMode;i(K({key:m,collectionId:e,commentMode:v,postId:t}));const S=Object.assign({},r);{const e=t&&Object(B.J)(l(),{postId:t});e&&e.numComments&&e.numComments>u.j&&(S.truncate=u.n)}let T,C=await Object(k.a)("comments",()=>x(f.apiContext(),e,t,n,S));if(i(Object(p.m)(C.status)),C.ok&&(t=t||C.body.collections[e].primaryPostId)){const e=Object.keys(C.body.posts).filter(e=>!!C.body.posts[e].isMeta),n=Object(B.J)(l(),{postId:t});if(e.length){const t=await Object(I.a)(f.apiContext(),n.belongsTo.id,e);t.ok&&(T=t.body)}}if(!s){const s=t?Object(B.J)(l(),{postId:t}):null;s&&C.body.comments&&Object.keys(C.body.comments).length<s.numComments?i($(e,t,n,r)):C.ok&&i(X({commentMode:v,key:m,postId:t}));const o=Object(F.i)(O)?M.a.COMMENTS_OVERLAY:M.a.COMMENTS;i(Object(c.b)(o))}if(C.ok){if(!t)return;const e=Object(A.a)(C.body,t,O);i(Object(u.t)(Object.assign({commentMode:v,key:m,postId:t,meta:O.meta,governance:T,shouldCollapse:e},C.body))),await d.c()(i,l,f),i(j.f(m));const n=Object(B.J)(l(),{postId:t});Object(N.a)(n.events,y.a.CommentsView),!s&&n&&"subreddit"===n.belongsTo.type&&C.body.comments&&await i(Object(a.a)({commentIds:Object.keys(C.body.comments),postIds:[n.id],subredditId:n.belongsTo.id}))}else g&&(i(Object(b.j)({key:m})),C=await Object(k.a)("subreddit",()=>Object(D.a)(f.apiContext(),g,{})),i(Object(p.m)(C.status))),i(Object(b.e)(C,g)),i(Y(Object.assign({error:C.error,key:m},C.body)))}},"./src/reddit/actions/pages/explore.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return k}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/makeExplorePageKey/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/category.ts"),u=n("./src/reddit/actions/discoveryUnit.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/pages/subreddit.ts"),p=n("./src/reddit/actions/platform.ts"),f=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/constants/explore.ts"),O=n("./src/reddit/constants/listings.ts"),g=n("./src/reddit/helpers/timeApiRoute/index.ts"),j=n("./src/reddit/models/Toast/index.ts"),y=n("./src/reddit/selectors/category.ts"),_=n("./src/reddit/selectors/discoveryUnit.ts"),h=n("./src/reddit/selectors/experiments/exploreV2.ts"),E=n("./src/reddit/selectors/listings.ts"),I=n("./src/reddit/selectors/posts.ts"),v=n("./src/reddit/selectors/user.ts");const S=e=>Object(s.a)(e.user.language,"title.frontpage"),T="PAGE__EXPLORE_PAGE_PENDING",C="PAGE__EXPLORE_PAGE_LOADED",w="PAGE__EXPLORE_PAGE_FAILED",x=Object(i.a)(T),D=Object(i.a)(C),P=Object(i.a)(w),A=(e,t,n)=>async(r,o,i)=>{const c=o(),a=Object(_.a)(c);if(!a){r(P({key:e,error:{}}));const n=Object(v.S)(c);return void r(f.e({id:"error-".concat(e),kind:j.b.Error,text:Object(s.a)(n,"listings.toast.error"),buttonText:Object(s.a)(n,"listings.toast.retryButton"),buttonAction:N(e,t)}))}const d=Object(E.j)(c,{listingKey:e}),l=d?d.token:void 0;if(d){if(!n)return;{const t=Object(E.h)(c,{listingKey:e}),n=Object(E.i)(c,{listingKey:e,token:d.token});if(t||n)return}}else{const t=Object(E.h)(c,{listingKey:e}),n=Object(E.f)(c,{listingKey:e});if(t||n)return}r(x({key:e}));const b=Object(y.f)(c,{}),p=l?b.findIndex(e=>e.id===l)+1:0,O=b.slice(p,p+m.a);await Promise.all(O.map(e=>r(u.g(a,e.name))));const g=Math.min(p+m.a-1,b.length-1);r(D({fetchedToken:l,ids:O.map(e=>{let{id:t}=e;return t}),key:e,token:b[g].id}))},R=(e,t,n,r)=>async(o,i,c)=>{let a=i();const l=Object(_.d)(a),b=Object(y.i)(a,{categoryName:n});if(!l||!b){o(P({key:e,error:{}}));const n=Object(v.S)(a);return void o(f.e({id:"error-".concat(e),kind:j.b.Error,text:Object(s.a)(n,"listings.toast.error"),buttonText:Object(s.a)(n,"listings.toast.retryButton"),buttonAction:N(e,t)}))}const p=Object(E.j)(a,{listingKey:e}),O=p?p.token:void 0,g=Object(E.h)(a,{listingKey:e});if(p){if(!r)return;{const t=Object(E.i)(a,{listingKey:e,token:p.token});if(g||t)return}}else{const t=Object(E.f)(a,{listingKey:e});if(g||t)return}o(x({key:e})),await o(d.i(b.id)),a=i();const h=Object(y.e)(a,{categoryName:n}),I=O?h.findIndex(e=>e.id===O)+1:0,S=h.slice(I,I+m.b);await Promise.all(S.map(e=>o(u.k(l,e.name)))),o(D({fetchedToken:O,ids:S.map(e=>{let{id:t}=e;return t}),key:e,token:h[Math.min(I+m.b-1,h.length-1)].id}))},N=(e,t,n)=>async(r,s,o)=>{await Promise.all([r(u.h()),r(d.h())]);const i=t.categoryName?()=>r(R(e,t,t.categoryName,n)):()=>r(A(e,t,n));await Object(g.a)("explore",i),t.categoryName?await r(R(e,t,t.categoryName,n)):await r(A(e,t,n))},k=e=>async(t,n,s)=>{const i=n();if(!Object(h.a)(i))return void t(Object(r.b)("/"));const d=Object(c.a)(e.params);if(Object(E.h)(i,{listingKey:d}))return;const u=Object(a.a)(O.b.Popular,o.N.HOT);0===Object(I.C)(i,{listingKey:u}).length&&await t(Object(b.i)(u,O.b.Popular,{},!0)),Object(v.J)(n())?t(Object(r.b)("/")):(t(Object(l.k)({actionSource:l.a.Explore,redirectUrl:"/"})),await t(N(d,e.params)),t(p.l({title:S(n())})))}},"./src/reddit/actions/pages/modListing/constants.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return f}));const r="PAGE__MOD_LISTING_PAGE_PENDING",s="PAGE__MOD_LISTING_PAGE_LOADED",o="PAGE__MOD_LISTING_PAGE_FAILED",i="MOD_LISTING_MORE_POSTS_PENDING",c="MOD_LISTING_MORE_POSTS_LOADED",a="MOD_LISTING_MORE_POSTS_FAILED",d="MOD_LISTING_HIDE_SUBREDDIT_SUCCESS",u="MOD_LISTING_HIDE_SUBREDDIT_PENDING",l="MOD_LISTING_HIDE_SUBREDDIT_FAILED",b="MOD_LISTING_UNHIDE_SUBREDDIT_SUCCESS",p="MOD_LISTING_UNHIDE_SUBREDDIT_PENDING",f="MOD_LISTING_UNHIDE_SUBREDDIT_FAILED"},"./src/reddit/actions/pages/modListing/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/platform.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/page.ts"),b=n("./src/reddit/constants/parameters.ts"),p=n("./src/config.ts"),f=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),j=n("./src/reddit/helpers/name/index.ts"),y=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),_=(e,t)=>Object(f.b)(e,{data:t,endpoint:Object(g.a)(Object(y.a)("".concat(p.a.gatewayUrl,"/desktopapi/v1/mod"))),method:i.bb.GET});const h=(e,t,n,r)=>Object(f.b)(Object(m.a)(e,[O.a]),{endpoint:"".concat(e.apiUrl,"/api/filter/user/").concat(t,"/f/mod/").concat(Object(j.b)(n)),method:r?i.bb.PUT:i.bb.DELETE,data:{model:JSON.stringify({name:Object(j.g)(n)})}}),E=(e,t,n)=>h(e,t,n,!0),I=(e,t,n)=>h(e,t,n,!1);var v=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),T=n("./src/reddit/helpers/timeApiRoute/index.ts"),C=n("./src/reddit/i18n/utils.ts"),w=n("./src/reddit/models/Toast/index.ts"),x=n("./src/reddit/routes/modListing/index.ts"),D=n("./src/reddit/selectors/user.ts"),P=n("./src/reddit/actions/pages/modListing/constants.ts");n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return G})),n.d(t,"a",(function(){return z})),n.d(t,"d",(function(){return Q}));const A=Object(c.a)(P.f),R=Object(c.a)(P.e),N=Object(c.a)(P.d),k=(e,t)=>async(n,r,s)=>{const i=r(),c=i.listings.postOrder.api.pending[e],a=Object(D.S)(i);if(c)return;n(A({key:e}));const d=await Object(T.a)("modListing",()=>_(s.apiContext(),t)),l="error-".concat(e);d.ok?(n(R(Object.assign({key:e,meta:i.meta},d.body))),n(u.f(l))):(n(N(Object.assign({error:d.error,key:e},d.body))),401===d.status?Object(S.a)(n,i):n(u.e({id:l,kind:w.b.Error,text:Object(o.a)(a,"listings.toast.error"),buttonText:Object(o.a)(a,"listings.toast.retryButton"),buttonAction:k(e,t)})))},L=(e,t)=>async(n,r)=>{const{sort:o=i.O}=e.params,c=Object(x.d)(e.path),u=c?l.f:l.e,p=Object(a.a)(u,o,e.queryParams),f=r(),m=f.listings.postOrder.ids[p],O=f.listings.postOrder.api.error[p];if(f.listings.postOrder.api.pending[p]||m&&!O&&!t)return void(m&&n(d.l({title:Object(C.c)("Subreddits you moderate")})));const g=B(e.queryParams);await n(k(p,Object.assign({},s()(e.queryParams,b.j),s()(e.queryParams,b.i),{filtered:!!c||void 0,moderated_srs:!0,sort:o,t:Object(v.a)(o,g)}))),n(d.l({title:Object(C.c)("Subreddits you moderate")}))},U=Object(c.a)(P.i),M=Object(c.a)(P.h),F=Object(c.a)(P.g),G=e=>async(t,n,r)=>{let{apiContext:o}=r;const c=n(),d=c.platform.currentPage;if(!d)return;const{sort:u=i.O}=e,p=d.queryParams,f=Object(x.d)(d.url),m=f?l.f:l.e,O=Object(a.a)(m,u,p),g=c.listings.postOrder.loadMore[O];if(!g)return;const j=c.listings.postOrder.api.pending[O],y=c.listings.postOrder.fetchedTokens,h=!(!y[O]||!y[O][g.token]);if(j||h)return;const E=B(p);t(U({key:O,fetchedToken:g.token}));const I=await _(o(),Object.assign({after:g.token,dist:g.dist,filtered:!!f||void 0,sort:u,t:Object(v.a)(u,E)},s()(p,b.j))),S=c.listings.postOrder.ids[O],T=Object.assign({},I.body,{postIds:(I.body.postIds||[]).filter(e=>!S||!S.includes(e))});I.ok?t(M(Object.assign({key:O,fetchedToken:g.token,meta:c.meta},T))):t(F(Object.assign({key:O,error:I.error,fetchedToken:g.token},T)))};function B(e){const t=b.t in e&&e[b.t].toUpperCase()||"";return t in i.Ob&&i.Ob[t]}const q=Object(c.a)(P.c),V=Object(c.a)(P.b),H=Object(c.a)(P.a),W=Object(c.a)(P.l),K=Object(c.a)(P.k),J=Object(c.a)(P.j),Y=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(D.i)(i),[a,d,u,l]=t?[V,q,H,E]:[K,W,J,I];if(!c||!c.displayText)return;const{currentPage:b}=i.platform;if(!b||!b.routeMatch)return;n(a(e));const p=await l(o(),c.displayText,e);p.ok?(await n(L(b.routeMatch.match,!0)),n(d(e))):n(u(p.body))},z=e=>Y(e,!0),Q=e=>Y(e,!1)},"./src/reddit/actions/pages/postCreation.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makePostCreationPageKey/index.ts"),u=n("./src/reddit/actions/economics/helpers/async.ts"),l=n("./src/reddit/actions/externalAccount.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/post.ts"),f=n("./src/reddit/actions/postCreation/general.ts"),m=n("./src/reddit/actions/postRequirements/index.ts"),O=n("./src/reddit/actions/profile/index.ts"),g=n("./src/reddit/actions/subreddit.ts"),j=n("./src/reddit/actions/subredditDifficulty/index.ts"),y=n("./src/reddit/actions/subredditDuplicates.ts"),_=n("./src/config.ts"),h=n("./src/lib/makeApiRequest/index.ts"),E=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),I=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),v=n("./src/reddit/helpers/timeApiRoute/index.ts"),S=n("./src/reddit/helpers/trackers/postComposer.ts"),T=n("./src/reddit/models/User/index.ts"),C=n("./src/reddit/selectors/experiments/subredditDifficulty.ts"),w=n("./src/reddit/selectors/postCollection.ts"),x=n("./src/reddit/selectors/postCreations.ts"),D=n("./src/reddit/selectors/postRequirements.ts"),P=n("./src/reddit/selectors/posts.ts"),A=n("./src/reddit/selectors/profile.ts"),R=n("./src/reddit/selectors/subreddit.ts"),N=n("./src/reddit/selectors/user.ts");n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return H}));const k=e=>{const t=e.user.language,n=e.platform.currentPage;let r="Reddit";if(n&&n.urlParams.subredditName){const{subredditName:t}=n.urlParams,s=Object(R.B)(e,{subredditName:t});s&&(r=s.name)}return Object(s.a)(t,"title.submit",{subreddit:r})},L="POST_CREATION__PAGE_PENDING",U="POST_CREATION__PAGE_LOADED",M="POST_CREATION__PAGE_FAILED",F=Object(a.a)(L),G=Object(a.a)(U),B=Object(a.a)(M),q=()=>async(e,t)=>{const n=t(),r=Object(x.a)(n);r!==Object(x.ab)(n)&&e(Object(f.h)({submissionType:r}))},V=e=>async(t,n,r)=>{const{collectionId:s,profileName:i,subredditName:a}=e,u=Object(d.a)(e),b=n(),p=b.creations.api.page.pending[u],f=b.creations.api.page.fetched[u],j=b.creations.api.page.error[u];if(p)return;if(f&&!j)return void t(q());const y=[];t(F({key:u}));let I=a;if(!a&&i&&(I="u_".concat(i)),y.push(((e,t)=>Object(h.b)(e,{method:o.bb.GET,endpoint:Object(E.a)("".concat(_.a.gatewayUrl,"/desktopapi/v1/submitpage")),data:{subreddit:t.subredditName,collection_id:t.collectionId}}))(r.apiContext(),{subredditName:I,collectionId:s})),a){!!Object(D.b)(n(),{subredditName:a})||Object(c.a)(a)||y.push(t(Object(m.a)(a)))}i&&(y.push(t(O.d(i))),y.push(t(O.b(i))));const[S]=await Object(v.a)("postCreation",()=>Promise.all(y));if(S.ok){const e=S.body,{posts:r={}}=e;await t(G(Object.assign({key:u,meta:b.meta},e,{posts:r}))),t(q());const s=Object(N.i)(n());s&&s.hasUserProfile&&await t(O.d(Object(T.f)(s))),await t(l.o()),a&&!Object(c.a)(a)&&await t(g.o(a))}else t(B({error:S.error,key:u}))},H=e=>async(t,n)=>{const{subredditName:s,profileName:c}=e.params,a=e.queryParams,d=a.collection;let l;if(await t(V({collectionId:d,profileName:c,subredditName:s})),s){l=Object(R.B)(n(),{subredditName:s}),Object(C.e)(n())&&t(Object(j.a)(l.id)),await t(Object(u.a)({subredditName:s}))}else c&&(l=Object(A.j)(n(),{profileName:c}));if(a.source_id)await t(((e,t)=>async(n,r)=>{const{subredditName:s,profileName:o}=e,i=[];let c;s?c=Object(R.G)(r(),s):o&&(c=Object(N.Z)(r(),{userName:o})),c&&i.push(n(Object(y.b)(c,t))),i.push(n(Object(p.D)(t))),await Promise.all(i);const a=Object(P.e)(r(),{postId:t});n(Object(f.l)({postId:t,postTitle:a?a.title:""}))})(e.params,a.source_id));else if(d){const s=Object(w.q)(n(),{collectionId:d});l&&s&&s.subredditId===l.id||t(Object(r.c)(Object(i.a)(e.url,["collection"])))}const m=n();Object(N.J)(m)?(((e,t)=>{const n=e.platform.lastPage;t&&n&&n.meta&&n.meta.name===o.xb.POST_CREATION&&S.s(e)})(n(),s),t(b.l({title:k(n())}))):Object(I.a)(t,m)}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/makePostDraftPageKey/index.ts"),o=n("./src/reddit/actions/profile/index.ts"),i=n("./src/config.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),l=n("./src/reddit/endpoints/post/draft/helpers.ts"),b=n("./src/reddit/helpers/timeApiRoute/index.ts");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));const p="POST_DRAFT__PAGE_LOADED",f=(Object(r.a)("POST_DRAFT__PAGE_PENDING"),Object(r.a)(p)),m=Object(r.a)("POST_DRAFT__PAGE_FAILED"),O=e=>async(t,n,r)=>{const{draftId:p,profileName:O}=e,g=Object(s.a)(e),j=n(),y=j.creations.api.page.pending[g],_=j.creations.api.page.fetched[g],h=j.creations.api.page.error[g];if(y||_&&!h||!p)return;t(o.d(O));const E=await Object(b.a)("postDraft",()=>((e,t,n)=>Object(a.b)(e,{endpoint:Object(d.a)(Object(u.a)("".concat(i.a.gatewayUrl,"/desktopapi/v1/draftpreviewpage/").concat(n,"/").concat(t))),method:c.bb.GET}))(r.apiContext(),p,O));if(E.ok){const e=E.body;e.drafts[p].kind=Object(l.b)(e.drafts[p].kind),t(f(Object.assign({},e,{key:g})))}else t(m({error:E.error,key:g}))},g=e=>async(t,n,r)=>{await t(O(e.params))}},"./src/reddit/actions/pages/profileComments.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/reddit/actions/contentGate.ts"),u=n("./src/reddit/actions/externalAccount.ts"),l=n("./src/reddit/actions/moderatingSubreddits.ts"),b=n("./src/reddit/actions/pages/profileShared.ts"),p=n("./src/reddit/actions/platform.ts"),f=n("./src/reddit/actions/profile/index.ts"),m=n("./src/reddit/actions/subreddit.ts"),O=n("./src/reddit/constants/errors.ts"),g=n("./src/reddit/constants/parameters.ts"),j=n("./src/reddit/contexts/PageLayer/index.tsx"),y=n("./src/config.ts"),_=n("./src/lib/addAllowQuarantinedParam/index.ts"),h=n("./src/lib/constants/index.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const v=(e,t,n)=>Object(E.b)(e,{data:n,endpoint:Object(_.a)(Object(I.a)("".concat(y.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/comments"))),method:h.bb.GET});var S=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),T=n("./src/reddit/helpers/timeApiRoute/index.ts"),C=n("./src/reddit/selectors/profile.ts"),w=n("./src/reddit/selectors/profileComments.ts");n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return P})),n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"g",(function(){return q}));const x="PAGE__PROFILE_COMMENTS_PENDING",D="PAGE__PROFILE_COMMENTS_LOADED",P="PAGE__PROFILE_COMMENTS_FAILED",A=Object(c.a)(x),R=Object(c.a)(D),N=Object(c.a)(P),k=e=>async(t,n,r)=>{const{queryParams:s,params:o}=e,{sort:c,t:j}=Object(b.b)(s),{profileName:y}=o,_=Object(a.a)("u_".concat(y),c,e.queryParams),{profileCommentsPage:h}=n(),E=h.commentIds[_],I=h.api.error[_],w=h.api.pending[_];if(await t(f.d(y)),w||E&&!I){if(E){const e=Object(C.q)(n(),{profileName:y});t(p.l({title:e}))}return}const x=Object.assign({},i()(e.queryParams,[...g.j,g.f]),{sort:c,t:Object(S.a)(c,j)});t(A({key:_}));const D=await Object(T.a)("profileComments",()=>v(r.apiContext(),y,x));if(!D.ok)return t(N({account:D.body.data?D.body.data.account:null,error:D.body.reason?{type:D.body.reason}:D.error,key:_})),D.body.reason===O.a.DeletedProfile&&t(Object(d.l)({profileName:y})),void t(p.m(D.status));const P=D.body;t(R(Object.assign({key:_,meta:n().meta},P))),await Promise.all([t(Object(b.c)(y)),t(Object(m.q)()),t(Object(l.b)()),t(u.o(y))])},L="PROFILE_COMMENTS__MORE_ITEMS_PENDING",U="PROFILE_COMMENTS__MORE_ITEMS_LOADED",M="PROFILE_COMMENTS__MORE_ITEMS_FAILED",F=Object(c.a)(L),G=Object(c.a)(U),B=Object(c.a)(M),q=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:d,params:u}=c.routeMatch.match,{sort:l,t:p}=Object(b.b)(d),{profileName:f}=u,m=Object(a.a)("u_".concat(f),l,d),O=Object(w.d)(o,{listingKey:m});if(!O)return;const y=Object(w.b)(o,{listingKey:m}),_=Object(w.c)(o,{listingKey:m}),h=_&&_[O.token];if(y||h)return;e(F({key:m,fetchedToken:O.token}));const E=await v(r(),f,Object.assign({after:O.token,dist:O.dist,sort:l,t:p},i()(d,g.j),{layout:Object(j.M)(o,{}).toLowerCase()}));if(E.ok){const t=Object(w.f)(o,{listingKey:m}),n=Object.assign({},E.body,{commentIds:s()(E.body.commentIds,t)});e(G(Object.assign({fetchedToken:O.token,key:m,meta:o.meta},n)))}else e(B({account:E.body.data?E.body.data.account:null,error:E.error,fetchedToken:O.token,key:m}))}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/reddit/actions/profile/index.ts"),i=n("./src/reddit/helpers/pageActionLoginRedirect.ts"),c=n("./src/reddit/models/User/index.ts"),a=n("./src/reddit/selectors/user.ts");const d="PAGE__PROFILE_MOD_SETTINGS_LOADED",u=Object(r.a)(d),l=e=>async(t,n)=>{const r=[t(s.x()),t(Object(o.d)(e.params.profileName))];await Promise.all(r);const d=Object(a.i)(n());d?(await t(Object(o.b)(Object(c.f)(d))),t(u())):Object(i.a)(t,n())}},"./src/reddit/actions/pages/profileOverview.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return M}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/reddit/actions/moderatingSubreddits.ts"),i=n("./src/reddit/actions/pages/profileShared.ts"),c=n("./src/reddit/actions/subreddit.ts"),a=n("./src/reddit/endpoints/page/profileOverviewPage.ts"),d=n("./src/lib/constants/index.ts"),u=n("./src/reddit/constants/postLayout.ts"),l=n("./src/reddit/constants/parameters.ts"),b=n("./src/reddit/contexts/PageLayer/index.tsx"),p=n("./src/reddit/selectors/listings.ts"),f=n("./src/reddit/selectors/profile.ts"),m=n("./src/reddit/selectors/profileOverviewChronoItems.ts"),O=n("./src/lib/makeActionCreator/index.ts"),g=n("./src/reddit/actions/contentGate.ts"),j=n("./src/reddit/actions/externalAccount.ts"),y=n("./src/reddit/actions/pinnedPost.ts"),_=n("./src/reddit/actions/platform.ts"),h=n("./src/reddit/actions/profile/index.ts"),E=n("./src/reddit/actions/trophyCase.ts"),I=n("./src/reddit/constants/errors.ts"),v=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),S=n("./src/reddit/helpers/timeApiRoute/index.ts");const T="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_PENDING",C="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_LOADED",w="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_FAILED",x="PAGE__PROFILE_OVERVIEW_CHRONO_PENDING",D="PAGE__PROFILE_OVERVIEW_CHRONO_LOADED",P="PAGE__PROFILE_OVERVIEW_CHRONO_FAILED",A=Object(O.a)(T),R=Object(O.a)(C),N=Object(O.a)(w),k=Object(O.a)(x),L=Object(O.a)(D),U=Object(O.a)(P),M=e=>async(t,n,r)=>{const{queryParams:O,params:T}=e,{sort:C,t:w}=Object(i.a)(n(),O),{profileName:x}=T,D=u.e[Object(b.M)(n(),{})],P=x.toLowerCase(),M=Object.assign({},s()(e.queryParams,l.j),{sort:C,layout:D,t:w});if(await t(h.d(P)),D===u.e[u.g.Compact]){const r=Object(v.a)(P,d.ib,C,e.queryParams);if(n().profileOverviewPage.chrono.ids[r])return;await t(((e,t,n,r)=>async(r,s,o)=>{const i=s(),c=!!Object(m.f)(i,{listingKey:e}).length,d=!!Object(m.a)(i,{listingKey:e});if(!!Object(m.b)(i,{listingKey:e})||c&&!d)return;r(k({key:e}));const u=await Object(S.a)("profile",()=>Object(a.a)(o.apiContext(),t,n)),l=u.body,{pinned:b}=l;if(u.ok){r(L(Object.assign({key:e,meta:i.meta},l)));const n=Object(f.m)(i,t);r(Object(y.h)({profileId:n,pinned:b}))}else r(U({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),u.body.reason===I.a.DeletedProfile&&r(Object(g.l)({profileName:t})),r(Object(_.m)(u.status))})(r,P,M))}else{const r=Object(v.a)(P,d.jb,C,e.queryParams);if(n().listings.postOrder.ids[r]&&!n().listings.postOrder.api.error[r])return;await t(((e,t,n,r)=>async(r,s,o)=>{const i=s(),c=!!i.listings.postOrder.ids[e],d=!!Object(p.c)(i,{listingKey:e});if(!!Object(p.d)(i,{listingKey:e})||c&&!d)return;r(A({key:e}));const u=await Object(S.a)("profile",()=>Object(a.b)(o.apiContext(),t,n)),l=u.body,{pinned:b,postIds:m}=l;if(u.ok){r(R(Object.assign({key:e,meta:i.meta,profileName:t},l,{postIds:m})));const n=Object(f.m)(i,t);r(Object(y.h)({profileId:n,pinned:b}))}else r(N({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),u.body.reason===I.a.DeletedProfile&&r(Object(g.l)({profileName:t})),r(Object(_.m)(u.status))})(r,P,M))}await t(Object(c.q)()),await t(Object(o.b)());const G=n();if(!G.platform.currentPage)return;if(200!==G.platform.currentPage.status)return;const B=Object(f.m)(n(),P);await t(E.b(P,B)),t(_.l({title:F(n(),x)}));const q=[t(h.b(P)),t(j.o(x)),t(h.e(x))];await Promise.all(q)},F=(e,t)=>Object(f.q)(e,{profileName:t})},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/lib/makeListingKey/index.ts"),c=n("./src/reddit/actions/contentGate.ts"),a=n("./src/reddit/actions/externalAccount.ts"),d=n("./src/reddit/actions/moderatingSubreddits.ts"),u=n("./src/reddit/actions/pages/profileShared.ts"),l=n("./src/reddit/actions/pinnedPost.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/profile/index.ts"),f=n("./src/reddit/actions/subreddit.ts"),m=n("./src/reddit/constants/errors.ts"),O=n("./src/reddit/constants/parameters.ts"),g=n("./src/reddit/contexts/PageLayer/index.tsx"),j=n("./src/config.ts"),y=n("./src/lib/addAllowQuarantinedParam/index.ts"),_=n("./src/lib/constants/index.ts"),h=n("./src/lib/makeApiRequest/index.ts"),E=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const I=(e,t,n)=>Object(h.b)(e,{data:n,endpoint:Object(y.a)(Object(E.a)("".concat(j.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/posts"))),method:_.bb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e);var v=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=n("./src/reddit/helpers/timeApiRoute/index.ts"),T=n("./src/reddit/selectors/listings.ts"),C=n("./src/reddit/selectors/profile.ts");n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return D})),n.d(t,"h",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return U})),n.d(t,"g",(function(){return B}));const w="PAGE__PROFILE_POSTS_PENDING",x="PAGE__PROFILE_POSTS_LOADED",D="PAGE__PROFILE_POSTS_FAILED",P=Object(o.a)(w),A=Object(o.a)(x),R=Object(o.a)(D),N=e=>async(t,n,r)=>{const{queryParams:o,params:j}=e,{sort:y,t:_}=Object(u.b)(o),{profileName:h}=j,E=Object(i.a)("u_".concat(h),y,o),w=n(),x=w.listings.postOrder.ids[E],D=Object(T.c)(w,{listingKey:E}),N=Object(T.d)(w,{listingKey:E});if(await t(p.d(h)),N||x&&!D){if(x){const e=Object(C.q)(n(),{profileName:h});t(b.l({title:e}))}return}const k=Object.assign({},s()(e.queryParams,[...O.j,...O.i,O.f]),{layout:Object(g.M)(w,{}).toLowerCase(),sort:y,t:Object(v.a)(y,_)});t(P({key:E}));const L=await Object(S.a)("profilePosts",()=>I(r.apiContext(),h,k));if(!L.ok)return t(R({account:L.body.data?L.body.data.account:null,error:L.body.reason?{type:L.body.reason}:L.error,key:E})),L.body.reason===m.a.DeletedProfile&&t(Object(c.l)({profileName:h})),void t(b.m(L.status));const U=L.body;t(A(Object.assign({key:E,meta:n().meta},U)));const M=Object(C.m)(n(),h),{pinned:F}=U;t(Object(l.h)({profileId:M,pinned:F})),await Promise.all([t(Object(u.c)(h)),t(Object(f.q)()),t(Object(d.b)()),t(a.o(h))])},k="PROFILE_POSTS__MORE_POSTS_PENDING",L="PROFILE_POSTS__MORE_POSTS_LOADED",U="PROFILE_POSTS__MORE_POSTS_FAILED",M=Object(o.a)(k),F=Object(o.a)(L),G=Object(o.a)(U),B=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:a,params:d}=c.routeMatch.match,{sort:l,t:b}=Object(u.b)(a),{profileName:p}=d,f=Object(i.a)("u_".concat(p),l,a),m=Object(T.g)(o,{listingKey:f});if(!m)return;const j=Object(T.d)(o,{listingKey:f}),y=Object(T.e)(o,{listingKey:f,token:m.token});if(j||y)return;e(M({key:f,fetchedToken:m.token}));const _=Object.assign({after:m.token,dist:m.dist,sort:l,t:b},s()(a,O.j),{layout:Object(g.M)(o,{}).toLowerCase()}),h=await I(r(),p,_),E=o.listings.postOrder.ids[f],v=h.body.postIds||[],S=Object.assign({},h.body,{postIds:v.filter(e=>!E||!E.includes(e))});h.ok?(e(F(Object.assign({fetchedToken:m.token,key:f,meta:o.meta},S))),await e(Object(u.c)(p))):e(G({account:h.body.data?h.body.data.account:null,error:h.error,fetchedToken:m.token,key:f}))}},"./src/reddit/actions/pages/profilePrivate/constants.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l}));const r=25,s="PAGE__PROFILE_PRIVATE_PENDING",o="PAGE__PROFILE_PRIVATE_MIXED_LOADED",i="PAGE__PROFILE_PRIVATE_POSTS_LOADED",c="PAGE__PROFILE_PRIVATE_FAILED",a="MORE__PROFILE_PRIVATE_PENDING",d="MORE__PROFILE_PRIVATE_MIXED_LOADED",u="MORE__PROFILE_PRIVATE_POSTS_LOADED",l="MORE__PROFILE_PRIVATE_FAILED"},"./src/reddit/actions/pages/profileShared.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/defaults.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/reddit/actions/platform.ts"),a=n("./src/reddit/actions/profile/index.ts"),d=n("./src/reddit/actions/trophyCase.ts"),u=n("./src/reddit/selectors/profile.ts"),l=n("./src/lib/constants/index.ts");const b={sort:l.rb,t:l.sb};function p(e){return s()(i()(e,["t","sort"]),b)}function f(e,t){return p(t)}const m=e=>async(t,n,r)=>{const s=[t(O(e)),t(g(e)),t(Object(a.e)(e))];await Promise.all(s)},O=e=>async(t,n,r)=>{const s=Object(u.m)(n(),e);await t(d.b(e,s))},g=e=>async(t,n,r)=>{const s=Object(u.q)(n(),{profileName:e});t(c.l({title:s})),await t(a.b(e))}},"./src/reddit/actions/pages/report/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));const r="REPORT_PAGE__FAILED",s="REPORT_PAGE__PENDING",o="REPORT_PAGE__LOADED",i="REPORT_PAGE_INITIAL_REASON__SET"},"./src/reddit/actions/pages/search.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return D}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/ads/index.ts"),u=n("./src/reddit/actions/category.ts"),l=n("./src/reddit/actions/discoveryUnit.ts"),b=n("./src/reddit/actions/platform.ts"),p=n("./src/reddit/actions/search.ts"),f=n("./src/reddit/actions/toaster.ts"),m=n("./src/reddit/constants/parameters.ts"),O=n("./src/reddit/endpoints/page/search.ts"),g=n("./src/reddit/helpers/timeApiRoute/index.ts"),j=n("./src/reddit/models/DiscoveryUnit/index.ts"),y=n("./src/reddit/models/Toast/index.ts"),_=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts");const h=(e,t)=>{const n=e.user.language;return Object(o.a)(n,"title.".concat(t))},E="SEARCH__SEARCH_PENDING",I="SEARCH__SEARCH_RESULTS_RECEIVED",v="SEARCH__SEARCH_FAILED",S=Object(c.a)(E),T=Object(c.a)(I),C=Object(c.a)(v),w=(e,t)=>Object(o.a)(e.user.language,"search.title",{query:t||"None"}),x=(e,t,n,r)=>async(s,c,a)=>{let{apiContext:b}=a;const h=c(),E=t[m.b],I=t.category;(E||I)&&(await Promise.all([s(l.h()),s(u.h())]),I&&await Promise.all([s(u.i(I,10)),s(l.i(j.n,I))]));const{q:v}=t,w=!!v&&i.yb.some(e=>v.includes("".concat(e,":")));let D=t.type.indexOf(i.Jb.Posts)>-1||!(!n||!t.restrict_sr)||w;if(D){const t=h.listings.postOrder.ids[e],n=h.listings.postOrder.api.error[e];D=!(h.listings.postOrder.api.pending[e]||t&&!n)}let P=t.type.indexOf(i.Jb.Subreddits)>-1||t.type.indexOf(i.Jb.Users)>-1;if(P){const t=h.listings.listingOrder.identifiers[e],n=h.listings.listingOrder.api.error[e];P=!(h.listings.listingOrder.api.pending[e]||t&&!n)}if(!D&&!P)return void(h.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(d.b)(_.a.SEARCH_RESULTS))}));t.q&&s(Object(p.h)(t.q));const A="error-".concat(e),{type:R}=t;s(S({key:e,type:R}));const N=await Object(g.a)("searchResults",()=>Object(O.a)(b(),n,r,Object.assign({},t,{type:(t.type||[]).join(","),b:!w})));if(N.ok){const o={key:e,type:R,meta:h.meta,searchQuery:t.q,subredditName:n,username:r};s(T(Object.assign({categoryName:E},o,N.body))),s(f.f(A)),s(Object(d.b)(_.a.SEARCH_RESULTS))}else s(C(Object.assign({key:e,error:N.error,type:R},N.body))),s(f.e({id:A,kind:y.b.Error,text:Object(o.a)(h.user.language,"search.toast.error"),buttonText:Object(o.a)(h.user.language,"search.toast.retryButton"),buttonAction:x(e,t,n,r)}))},D=e=>async(t,n,r)=>{const o=Object(a.c)(s()(e.queryParams,m.p)),c=e.params.subredditName||e.params.multiredditName,{username:d}=e.params,u=Object(a.b)(c,d,o),l=n();await t(x(u,o,c,d));const p=n();let f=!1;const{type:O=[]}=o,g=O.indexOf(i.Jb.Posts)>-1,j=O.indexOf(i.Jb.Subreddits)>-1||O.indexOf(i.Jb.Users)>-1;g&&p.listings.postOrder.api.error[u]&&(f=!0),j&&p.listings.listingOrder.api.error[u]&&(f=!0),t(f?b.l({title:h(l,"frontpage")}):b.l({title:w(p,o.q)}))}},"./src/reddit/actions/pages/shared.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/app/strings/index.ts"),s=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),o=n("./src/reddit/helpers/routeKey/index.ts"),i=n("./src/reddit/helpers/trackers/screenview.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/Timer.ts");const d=(e,t)=>{const n=e.user.language;return Object(r.a)(n,"title.".concat(t))},u=()=>async(e,t)=>{const n=t(),{currentPage:r}=n.platform;if(!r)return;const d=r.routeMatch,u=Object(s.a)(n),l=Object(o.c)(d,n,u);l&&c.c.has(l)&&Object(i.g)(d,n,a.TimerType.InApp,c.c.end(l))}},"./src/reddit/actions/pages/subreddit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./node_modules/lodash/some.js"),i=n.n(o),c=n("./src/app/strings/index.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/isAdHocMultireddit/index.ts"),u=n("./src/lib/isFakeSubreddit/index.ts"),l=n("./src/lib/loadWithRetries/index.ts"),b=n("./src/lib/makeActionCreator/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/makeListingKey/index.ts"),m=n("./src/lib/makeSearchKey/index.ts"),O=n("./src/reddit/actions/ads/index.ts"),g=n("./src/reddit/actions/category.ts"),j=n("./node_modules/lodash/camelCase.js"),y=n.n(j),_=n("./node_modules/lodash/isEmpty.js"),h=n.n(_),E=n("./node_modules/lodash/omit.js"),I=n.n(E),v=n("./src/reddit/endpoints/flair/index.ts"),S=n("./src/reddit/helpers/flair.ts"),T=n("./src/reddit/models/Flair/index.ts"),C=n("./src/reddit/selectors/communityFlairs.ts"),w=n("./src/reddit/actions/communityFlairs/constants.ts");const x=Object(b.a)(w.c),D=Object(b.a)(w.d),P=Object(b.a)(w.b),A=Object(b.a)(w.a),R=e=>{const t={};for(const n in e){t[y()(n)]=e[n]}return t},N=(e,t)=>async(n,r)=>{const s=r(),o=Object(C.c)(s,t),i=Object(C.d)(s,t)||[],c=(e=>{const t={};return e.map(e=>{const n=Object(S.g)(e),r=y()(n),s=r&&t.hasOwnProperty(r);e.type!==T.f.Spoiler&&e.type!==T.f.Nsfw&&(s||(t[r]=Object.assign({},e,{id:r})))}),t})(e),a=I()(c,i);if(h()(a))return;const d=Object.keys(a),u=i?i.concat(d):d,l=o?Object.assign({},o,a):a;n(A({models:l,sortedKeys:u,subredditId:t}))};var k=n("./src/reddit/actions/contentGate.ts"),L=n("./src/reddit/actions/discoveryUnit.ts"),U=n("./src/reddit/actions/economics/helpers/async.ts"),M=n("./src/reddit/actions/externalAccount.ts"),F=n("./src/reddit/actions/moderatingSubreddits.ts"),G=n("./src/reddit/actions/pages/search.ts"),B=n("./src/reddit/actions/platform.ts"),q=n("./src/reddit/actions/railsWidgets.ts"),V=n("./src/reddit/actions/structuredStyles/index.ts"),H=n("./src/reddit/actions/subreddit.ts"),W=n("./src/reddit/actions/subredditSettings.ts"),K=n("./src/reddit/actions/tags/index.ts"),J=n("./src/reddit/actions/toaster.ts"),Y=n("./src/reddit/constants/page.ts"),z=n("./src/reddit/constants/parameters.ts"),Q=n("./src/reddit/constants/postLayout.ts"),X=n("./src/reddit/contexts/PageLayer/index.tsx"),$=n("./src/reddit/endpoints/governance/posts.ts"),Z=n("./src/reddit/endpoints/page/subredditPage.ts"),ee=n("./src/reddit/helpers/canonicalUrls.ts"),te=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),ne=n("./src/reddit/helpers/getTimeSortForListing/index.ts"),re=n("./src/reddit/helpers/localStorage/index.ts"),se=n("./src/reddit/helpers/timeApiRoute/index.ts"),oe=n("./src/reddit/helpers/trackers/communityTopics.ts"),ie=n("./src/reddit/models/ModeratingSubreddits/index.ts"),ce=n("./src/reddit/models/Post/index.ts"),ae=n("./src/reddit/models/Toast/index.ts"),de=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),ue=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),le=n("./src/reddit/selectors/experiments/exploreV2.ts"),be=n("./src/reddit/selectors/experiments/feedFilters.ts"),pe=n("./src/reddit/selectors/experiments/gqlSubredditPage.ts"),fe=n("./src/reddit/constants/experiments.ts"),me=n("./src/reddit/helpers/chooseVariant/index.ts"),Oe=n("./src/reddit/selectors/user.ts");var ge=n("./src/reddit/selectors/experiments/pinnedPosts.ts"),je=n("./src/reddit/selectors/experiments/railsWidgets.ts"),ye=n("./src/reddit/selectors/experiments/topPosts.ts"),_e=n("./src/reddit/selectors/inlineSubredditEditing.ts"),he=n("./src/reddit/selectors/moderatorPermissions.ts"),Ee=n("./src/reddit/selectors/multireddit.ts"),Ie=n("./src/reddit/selectors/posts.ts"),ve=n("./src/reddit/selectors/subreddit.ts");n.d(t,"e",(function(){return Se})),n.d(t,"c",(function(){return Te})),n.d(t,"b",(function(){return Ce})),n.d(t,"a",(function(){return we})),n.d(t,"j",(function(){return xe})),n.d(t,"i",(function(){return Ae})),n.d(t,"h",(function(){return Re})),n.d(t,"d",(function(){return ke})),n.d(t,"f",(function(){return Le})),n.d(t,"g",(function(){return Ue})),n.d(t,"k",(function(){return Me}));const Se=(e,t)=>async n=>{if(!e.ok&&e.body){const r=e.body.data?e.body.data.account:void 0,s=e.body.data?e.body.data.features:void 0,o=t?t.toLowerCase():"";if(404===e.status)if(e.body.reason===p.a.NotFoundSubreddit)n(k.k({account:r,features:s,subredditName:o}));else if(e.body.reason===p.a.BannedSubreddit){const t=e.body.data?e.body.data.ban_message:void 0;n(k.j({banMessage:t,account:r,features:s,subredditName:o}))}if(403===e.status)if(e.body.reason===p.a.GoldSubreddit)n(k.m({account:r,features:s,subredditName:o}));else if(e.body.reason===p.a.PrivateSubreddit)n(k.n({account:r,features:s,subredditDescription:e.body.data.description,subredditName:o}));else if(e.body.reason===p.a.QuarantinedSubreddit){const t=!e.body.data||e.body.data.quarantine_requires_email_optin;n(k.o({account:r,features:s,subredditName:o,quarantineRequiresEmail:t,quarantineMessage:e.body.data.quarantineMessage,quarantineMessageHtml:e.body.data.quarantineMessageHtml}))}}},Te="PAGE__SUBREDDIT_PENDING",Ce="PAGE__SUBREDDIT_LOADED",we="PAGE__SUBREDDIT_FAILED",xe=Object(b.a)(Te),De=Object(b.a)(Ce),Pe=Object(b.a)(we),Ae=(e,t,n,r)=>async(s,o,d)=>{const l=o(),b=Object(Oe.J)(l);if(l.listings.postOrder.api.pending[e])return;const p=t!==Y.d.All&&t!==Y.d.Popular||!l.posts.recent.length?n:Object.assign({},n,{recentPostIds:l.posts.recent});p.layout=Q.e[Object(X.M)(l,{})],s(xe({key:e}));const f=Object(pe.b)(l)?()=>Object(Z.b)(d.gqlContext(),Object(Z.c)(l,t,p),b):()=>Object(Z.a)(d.apiContext(),t,p),m=await Object(se.a)("subreddit",f),j=m.body;s(B.m(m.status));const y="error-".concat(e),_=Object(u.a)(t)||i()(j.subreddits,e=>e.name.toLowerCase()===t.toLowerCase());if(m.ok&&_){let n,i;const c=j.postIds.filter(e=>!!j.posts[e].isMeta);if(c.length){const e=Object.keys(j.subreddits).reduce((e,n)=>{const r=j.subreddits[n];return r.name.toLowerCase()===t.toLowerCase()?r.id:e},null);if(e){const t=await Object($.a)(d.apiContext(),e,c);t.ok&&(n=t.body)}}const b=Object(ge.c)(l,{listingKey:e,posts:j.posts,postIds:j.postIds});if(Object(ge.b)(b)){const{posts:e}=j,t=j.postIds[0],n=j.postIds[1],r=e&&e[t],s=e&&e[n],o=Date.now()-a.Vb;if(r&&Object(ce.j)(r)&&s&&Object(ce.j)(s)&&s.created<o&&r.created>o){i=[n,t,...j&&j.postIds&&j.postIds.slice(2)]}}if(s(De(Object.assign({key:e,meta:l.meta,governance:n},j,{postIds:i||j.postIds}))),!Object(u.a)(t)){const e=Object(ve.G)(o(),t);!!Object(ve.R)(l,{subredditId:e})||await H.o(t)(s,o,d);const n=Object(be.a)(l);if(Object(be.d)(n)){const t=((e,t)=>{const n=[];for(const r in e){const s=e[r],o=s.belongsTo.id===t;s.flair.length&&o&&n.push(...s.flair)}return n})(j.posts,e),n=(e=>{const t=e&&e.data&&e.data.content&&e.data.content.widgets;if(t){const e=t.items;for(const t in e){const n=e[t];if("post-flair"===n.kind)return n}}})(j.structuredStyles),r=(n?(e=>{const t=[],{templates:n}=e;for(const r in n){const e=n[r];e&&t.push(e)}return t})(n):[]).concat(t);s(N(r,e))}}const p=[F.c()(s,o,d)];t===Y.d.Popular&&((Object(le.a)(l)||Object(ue.g)(l))&&p.push(s(g.h())),Object(je.e)(l)&&p.push(s(Object(q.a)()))),await Promise.all(p),r&&s(J.f(y)),s(Object(O.b)(de.a.SUBREDDIT)),s(Object(M.p)());const f=Object(ve.G)(o(),t);if(f){const e=[s(Object(U.a)({subredditId:f,postIds:j.postIds,skip:["subscription"]}))];Object(_e.a)(o(),{subredditId:f})&&e.push(s(Object(W.f)(t,f)),s(Object(K.i)(f,oe.a.idCard))),await Promise.all(e)}}else{if(403===m.status||404===m.status)return void s(Se(m,t));s(Pe(Object.assign({error:!m.ok&&m.error||{type:a.D.NOT_FOUND_ERROR},key:e},j))),r&&s(J.e({id:y,kind:ae.b.Error,text:Object(c.a)(l.user.language,"listings.toast.error"),buttonText:Object(c.a)(l.user.language,"listings.toast.retryButton"),buttonAction:Ae(e,t,n,r)}))}},Re=(e,t,n)=>async(r,s)=>{const o=s(),i=Object(f.a)(e,t.sort,t);Object(Ie.C)(o,{listingKey:i}).length>0||await r(Ae(i,e,t,n))},Ne=(e,t)=>{if(Object(u.a)(t)){if(Object(d.a)(t)){return Object(Ee.a)(e,{listingName:t}).displayText}switch(t.toLowerCase()){case Y.d.Popular:return"r/popular";case Y.d.All:return"r/all"}}return Object(ve.V)(e,{subredditName:t})},ke=e=>{const t=e.f;if(t)return{[z.n]:t,[z.o]:"1",sort:a.Hb.New}},Le=(e,t)=>{if(t){const t=ke(e);return t&&Object(m.c)(t)}},Ue=(e,t,n,r)=>r?Object(m.b)(e,void 0,r):Object(f.a)(e,t,n),Me=(e,t)=>async(r,o,i)=>{const{subredditName:c}=e.params,{styling:d}=e.queryParams,b=o(),p=Object(te.a)(e.params),m=Object(be.a)(b),g=Object(be.d)(m),j=Le(e.queryParams,g),y=Ue(c,p,e.queryParams,j),_=p,h=b.listings.postOrder.api.error[y],E=b.listings.postOrder.api.pending[y];let I=!!b.listings.postOrder.ids[y];const T=b.listings.postOrder.listingSort[y];T&&T.hasChanged&&(I=!1);let w=Object(ve.G)(b,c);const A=(e,t)=>"true"===d&&((e,t)=>Object(he.a)(ie.c.config)(e,{subredditId:t})||Object(he.a)(ie.c.flair)(e,{subredditId:t}))(e,t),k=z.t in e.queryParams&&e.queryParams[z.t].toUpperCase()||"",U=k in a.Ob&&a.Ob[k],F=()=>{!(e=>Object(me.c)(e,{experimentEligibilitySelector:Oe.J,experimentName:fe.Y})===fe.Z.ShowCta)(o())||Object(re.p)()||Object(u.a)(c)||b.platform.lastPage&&b.platform.lastPage.urlParams.subredditName===c||(()=>Object(l.a)(()=>n.e("LowActivityCallToAction").then(n.bind(null,"./src/reddit/actions/subreddit/lowActivityCallToAction.ts"))).then(e=>e.lowActivityCallToActionRequested))().then(e=>r(e(c)))};if(E||I&&!h&&!t){if(A(b,w)&&r(V.i(w)),I){const t=Ne(o(),c);r(B.l({title:t})),Object(ee.e)(o(),r,e),window.addEventListener("load",()=>{r(Object(M.p)())}),b.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{r(Object(O.b)(de.a.SUBREDDIT))}),F()}return}if(r(L.h()),j)await r(Object(G.d)(y,j,c));else{const t=Object.assign({},s()(e.queryParams,[...z.j,...z.i,z.f]),{sort:_,t:Object(ne.a)(_,U)}),n=b.user.prefs.geopopular||b.meta.country;!t[z.f]&&n&&(t[z.f]=n),await r(Ae(y,c,t,!0))}const q=b.platform.currentPage,H=Object(ye.d)(b,{pageLayer:q});if(Object(ye.a)(H)||Object(ye.b)(H)||Object(ye.c)(H)){const e=Object(f.a)(c,a.N.TOP,{t:a.Ob.WEEK}),t={sort:a.N.TOP,t:a.Ob.WEEK};await r(Ae(e,c,t,!1))}w=w||Object(ve.G)(o(),c),g&&!Object(C.b)(b,w)&&r(((e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(x());const i=await Object(v.c)(o(),t);if(i.ok){const t=i.body.map(R).map(e=>Object(S.c)(e));n(N(t,e)),n(D())}else n(P())})(w,c)),A(o(),w)&&r(V.i(w)),Object(ee.e)(o(),r,e);const W=Ne(o(),c);r(B.l({title:W})),F()}},"./src/reddit/actions/pages/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return y}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/reddit/actions/category.ts"),o=n("./src/reddit/actions/modal.ts"),i=n("./src/reddit/actions/platform.ts"),c=n("./src/reddit/actions/subreddit/topSubreddits.ts"),a=n("./src/reddit/actions/users.ts"),d=n("./src/reddit/constants/listings.ts"),u=n("./src/reddit/constants/subredditLeaderboard.ts"),l=n("./src/reddit/helpers/categoryPickerWidget/index.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/selectors/category.ts"),f=n("./src/reddit/selectors/experiments/upAndComingLeaderboard.ts"),m=n("./src/reddit/selectors/subredditLeaderboard.ts"),O=n("./src/reddit/selectors/user.ts");const g=(e,t)=>t&&e===u.h,j=e=>async(t,n)=>{t(Object(o.k)({actionSource:o.a.SubredditLeaderboard,redirectUrl:d.c[d.b.SubredditLeaderboard]})),t(i.l({title:Object(b.c)("Today’s Top Communities")}));const s=e.params&&e.params.categoryName,c=s&&Object(l.b)(s);Object(f.d)(n())||c!==u.m||t(Object(r.b)("/subreddits/leaderboard")),await t(y(c))},y=e=>async(t,n)=>{await t(Object(s.h)());const r=n(),o=Object(O.K)(r),i=Object(f.d)(r)&&e===u.m;if(Object(m.a)(r,e))return;const d=e&&Object(p.i)(r,{categoryName:e}),l=d&&d.id||u.d,b=g(e,o),j=((e,t)=>({categoryId:e,isOnlyModIncluded:t}))(l,b),y=Object(m.d)(l,b,i);await Promise.all([t(Object(c.a)(j,y)),t(Object(a.u)())])}},"./src/reddit/actions/pages/subredditWiki/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="PAGE__SUBREDDIT_WIKI_PAGE_PENDING",s="PAGE__SUBREDDIT_WIKI_PAGE_LOADED",o="PAGE__SUBREDDIT_WIKI_PAGE_FAILED"},"./src/reddit/actions/pages/userDataRequest/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/me/index.ts"),o=n("./src/graphql/operations/UserDataExportEligibility.json"),i=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/reddit/helpers/pageActionLoginRedirect.ts");n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return f}));const a="USER_DATA_REQUEST_PAGE_LOADING",d="USER_DATA_REQUEST_PAGE_LOADED",u="USER_DATA_REQUEST_PAGE_FAILED",l=Object(r.a)(a),b=Object(r.a)(d),p=Object(r.a)(u),f=()=>async(e,t,n)=>{let{apiContext:r,gqlContext:a}=n;e(l());const d=await Object(s.a)(r());if(!d.ok||!d.body)return void e(p(d.error));if(!d.body.account){const n=t();return void Object(c.a)(e,n)}const u=await(e=>Object(i.a)(e,Object.assign({},o)))(a());if(!u.ok)return void e(p());const f=d.body,m=u.body;e(b({account:f.account,userDataExportEligibility:m.data.identity.userDataExportEligibility.isUserEligibleForDataExport}))}},"./src/reddit/actions/pinnedPost.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"i",(function(){return R}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/constants/modals.ts"),d=n("./src/reddit/endpoints/post/index.tsx"),u=n("./src/reddit/models/Toast/index.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/profile.ts"),p=n("./src/reddit/selectors/user.ts");const f="PINNEDPOST__PINNED_POSTS_LOADED",m=Object(o.a)(f),O="PINNEDPOST__PIN_POST_SUCCESS",g="PINNEDPOST__UNPIN_POST_SUCCESS",j=Object(o.a)(O),y=Object(o.a)(g),_="PINNEDPOST__PIN_POST_PENDING",h="PINNEDPOST__UNPIN_POST_PENDING",E=Object(o.a)(_),I=Object(o.a)(h),v="PINNEDPOST__PIN_POST_FAILURE",S="PINNEDPOST__UNPIN_POST_FAILURE",T=Object(o.a)(v),C=Object(o.a)(S),w=(e,t)=>Object(c.e)({buttonAction:R(t,!0),buttonText:Object(r.a)(e,"posts.postPinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,"posts.postPinned")}),x=(e,t,n)=>Object(c.e)({buttonAction:R(t,!0),buttonText:Object(r.a)(e,"posts.postUnpinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,n?"posts.postUnpinnedReloadPage":"posts.postUnpinned")}),D=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPost")}),P=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPostRemovedPost")}),A=e=>Object(c.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotUnpinPost")}),R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,o)=>{let{apiContext:c}=o;const u=r(),f=u.posts.models[e];if(!f)return;const m=!Object(l.t)(u,{postId:e}),O=Object(p.S)(u);if(m&&f.isRemoved)return n(P(O));const g=f.author,_=Object(b.m)(u,g),[h,v,S,R,N]=m?[E,j,T,w,D]:[I,y,C,x,A];if(m){if(Object(l.P)(u,{profileName:g}).length>=s.U)return void n(Object(i.i)(a.a.PINNED_POSTS_LIMIT_REACHED))}const k=Object(l.n)(u,e,g),L=!m&&k;n(h({postId:e,profileId:_})),(await Object(d.s)(c(),e,m,!0)).ok?(n(v({postId:e,profileId:_})),t||n(R(O,e,L))):(n(S({postId:e,profileId:_})),n(N(O)))}}},"./src/reddit/actions/platform.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/areUrlsEqual/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/logs/errors.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/lib/matchRoute/index.ts"),a=(n("./src/lib/addQueryParams/index.ts"),n("./src/reddit/actions/monthsToMinutes.ts")),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/constants/listings.ts"),l=n("./src/reddit/helpers/routeKey/index.ts"),b=n("./src/reddit/selectors/experiments/postSeo.ts");n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/helpers/chooseVariant/index.ts");new Set([s.xb.COMMENTS,s.xb.INDEX,s.xb.LISTING,s.xb.PROFILE_COMMENTS,s.xb.PROFILE_OVERVIEW,s.xb.PROFILE_POSTS,s.xb.SUBREDDIT]);var p=n("./src/reddit/selectors/monthsToMinutes.ts"),f=n("./src/reddit/selectors/platform.ts");n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return w})),n.d(t,"g",(function(){return x}));const m="PLATFORM__HISTORY_LOCATION_SET",O="PLATFORM__INITIAL_REFERRER_SET",g="PLATFORM__NAVIGATION_CONFIRMATION_REQUESTED",j="PLATFORM__NAVIGATION_CONFIRMATION_DISCARDED",y="PLATFORM__PAGE_META_SET",_="PLATFORM__PAGE_STATUS_SET",h=e=>async(t,n,r)=>{const{currentPage:s}=n().platform;if(!s)return;const o=Object(c.a)(s.url,e);o&&o.route.action(o.match)(t,n,r)},E=(e,t,n)=>async(o,i,c)=>{const m=i().platform.currentPage;(!n||n.route.chunk===s.o.SUBREDDIT&&u.a.has(n.match.params.subredditName.toLowerCase()))&&window.location.replace("https://web.archive.org/web/20191204000722/https://www.reddit.com".concat(e.pathname).concat(e.search));const O=n?Object(l.d)(n,i()).listingKey:null,{user:g}=i(),j=n&&n.match&&n.match.queryParams,y=j&&j["experiment_".concat(d.gb)];Object(b.j)(i()),e.pathname.split("/").some(e=>"comments"===e),Object(f.i)(i());o(I({action:t,listingKey:O,location:e,routeMatch:n,user:g}));const _=i();if(!Object(p.w)(_)||Object(p.p)(_)||Object(p.a)(_)||o(Object(a.j)()),(!m||!Object(r.a)(m.url,e))&&n){const{match:e}=n;await n.route.action(e)(o,i,c)}},I=Object(i.a)(m),v=(Object(i.a)(O),Object(i.a)(y)),S=Object(i.a)(_),T=e=>async(t,n,r)=>{const s=n(),{currentPage:o}=s.platform;if(!o)return;const{key:i}=o;await t(v({key:i,meta:e}))},C=Object(i.a)(g),w=Object(i.a)(j),x=()=>async(e,t,n)=>{if(window!==window.parent){Object(o.b)(n.apiContext(),{extra:{errorType:s.p.NOT_ALLOWED_ACCESS,value:"Page was unexpectedly loaded inside iframe"}});try{window.top.location.href=window.location.href}catch(r){}}}},"./src/reddit/actions/polls.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/lib/makeActionCreator/index.ts");const s="POLLS__POLL_CREATION_UPDATED",o=Object(r.a)(s)},"./src/reddit/actions/post.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s),i=n("./src/app/strings/index.ts"),c=n("./src/lib/addQueryParams/index.ts"),a=n("./src/lib/copyToClipboard/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/login.ts"),l=n("./src/reddit/actions/platform.ts"),b=n("./src/reddit/actions/reportFlow.ts"),p=n("./src/reddit/actions/video.ts"),f=n("./src/reddit/actions/vote.ts"),m=n("./src/reddit/constants/cookie.ts"),O=n("./src/reddit/constants/history.ts"),g=n("./src/reddit/constants/posts.ts"),j=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),y=n("./src/reddit/helpers/overlay/index.ts"),_=n("./src/reddit/helpers/stewards.ts"),h=n("./src/reddit/i18n/utils.ts"),E=n("./src/reddit/models/Media/index.ts"),I=n("./src/reddit/endpoints/post/index.tsx"),v=n("./src/lib/makeGqlRequest/index.ts"),S=n("./src/graphql/operations/SinglePost.json");var T=n("./src/graphql/operations/RichTextPostContent.json");var C=n("./src/lib/constants/index.ts"),w=n("./src/lib/makeListingKey/index.ts"),x=n("./node_modules/react-router-redux/es/index.js"),D=n("./src/reddit/actions/modal.ts"),P=n("./src/reddit/actions/toaster.ts"),A=n("./src/reddit/constants/adEvents.ts"),R=n("./src/reddit/constants/modals.ts"),N=n("./src/reddit/endpoints/page/commentsPage.ts"),k=n("./src/reddit/helpers/pixels.ts"),L=n("./src/reddit/helpers/trackers/post.ts"),U=n("./src/reddit/models/Flair/index.ts"),M=n("./src/reddit/models/Toast/index.ts"),F=n("./src/reddit/models/User/index.ts"),G=n("./src/reddit/models/Vote/index.ts"),B=n("./src/reddit/selectors/platform.ts"),q=n("./src/reddit/selectors/user.ts"),V=n("./src/reddit/constants/viewabilityEvents.ts"),H=n("./src/reddit/selectors/posts.ts"),W=n("./src/telemetry/index.ts");n.d(t,"c",(function(){return K})),n.d(t,"d",(function(){return J})),n.d(t,"f",(function(){return Y})),n.d(t,"e",(function(){return z})),n.d(t,"p",(function(){return Q})),n.d(t,"j",(function(){return $})),n.d(t,"E",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"G",(function(){return ne})),n.d(t,"N",(function(){return se})),n.d(t,"o",(function(){return oe})),n.d(t,"A",(function(){return ce})),n.d(t,"B",(function(){return ae})),n.d(t,"a",(function(){return de})),n.d(t,"b",(function(){return ue})),n.d(t,"C",(function(){return pe})),n.d(t,"l",(function(){return fe})),n.d(t,"F",(function(){return me})),n.d(t,"z",(function(){return Oe})),n.d(t,"u",(function(){return ge})),n.d(t,"J",(function(){return je})),n.d(t,"w",(function(){return ye})),n.d(t,"v",(function(){return _e})),n.d(t,"n",(function(){return he})),n.d(t,"L",(function(){return Ee})),n.d(t,"M",(function(){return Ie})),n.d(t,"t",(function(){return Se})),n.d(t,"g",(function(){return Te})),n.d(t,"m",(function(){return we})),n.d(t,"k",(function(){return xe})),n.d(t,"H",(function(){return De})),n.d(t,"y",(function(){return Pe})),n.d(t,"D",(function(){return Ae})),n.d(t,"s",(function(){return Re})),n.d(t,"x",(function(){return Ne})),n.d(t,"h",(function(){return ke})),n.d(t,"r",(function(){return Ue})),n.d(t,"I",(function(){return Me})),n.d(t,"i",(function(){return Fe})),n.d(t,"q",(function(){return Be}));const K="POST__EXPANDED_TOGGLED",J="POST__FOCUS_CHANGED",Y="POSTS__MUTATED",z="POSTS_LOADED",Q=Object(d.a)(K),X=(Object(d.a)(J),Object(d.a)(z)),$="POST__STICKY_POST_SUCCESS",Z=Object(d.a)($),ee=Object(d.a)(Y),te=(e,t,n,r)=>async(s,o,c)=>{let{apiContext:a}=c;const d=o().posts.models[e];if(!d)return;if(!Object(q.J)(o()))return s(Object(D.k)({actionSource:D.a.Hide,redirectUrl:d.permalink})),void s(Object(u.f)());s(ee({[e]:{hidden:t}}));const l=o(),b=Object(q.S)(l);let p;if((p=t?await Object(I.g)(a(),e):await Object(I.t)(a(),e)).ok){if(r){const r=t?Object(i.a)(b,"posts.hiddenSuccess"):Object(i.a)(b,"posts.unhiddenSuccess"),o=Object(P.d)(r,M.b.Undo,Object(i.a)(b,"posts.hiddenUndo"),te(e,!t,n,!1));s(Object(P.e)(o))}}else if(s(ee({[e]:{hidden:!t}})),r){const e=Object(P.d)(Object(i.a)(b,"error.generic"),M.b.Error);s(Object(P.e)(e))}},ne=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;if(!Object(q.J)(n()))return t(Object(u.f)()),void t(Object(D.k)({actionSource:D.a.Save,redirectUrl:o.permalink}));const c=o.saved?I.x:I.o;if(t(ee({[e]:{saved:!o.saved}})),(await c(s(),e)).ok){const r=Object(q.S)(n()),s=o.saved?Object(i.a)(r,"posts.unsavedSuccess"):Object(i.a)(r,"posts.savedSuccess"),c=Object(P.d)(s,M.b.Undo,Object(i.a)(r,"posts.savedUndo"),ne(e));t(Object(P.e)(c))}else t(ee({[e]:{saved:o.saved}}))},re=(e,t)=>t().posts.models[e],se=Object(f.b)(re,G.a.upvoted),oe=Object(f.b)(re,G.a.downvoted),ie=e=>"viewing-".concat(e),ce=e=>async(t,n)=>{const r=n();L.g(r,e),W.c.start(ie(e))},ae=(e,t)=>async(n,s)=>{const o=s(),i=ie(e);if(W.c.has(i)){const n=W.c.end("viewing-".concat(e));!t&&n>r.a.telemetry.postConsumedThreshold&&L.a(o,e,n)}},de="AD__IMPRESSION",ue="AD__VIEWABLE_IMPRESSION",le=Object(d.a)(de),be=Object(d.a)(ue),pe=(e,t)=>async(n,r)=>{const s=e.media&&"video"===e.media.type;if(s&&t===V.a.VideoViewable)n(Object(p.B)(e.id));else if(s&&t===V.a.VideoFullyViewable)n(Object(p.A)(e.id));else if(e.isSponsored)return t===V.a.Impression?(n((e=>async t=>{e.isSponsored&&(Object(k.a)(e.events,A.a.Impression),t(le({postId:e.id})))})(e)),void L.f(r(),e.id)):void n((e=>async t=>{e.isSponsored&&(Object(k.a)(e.events,A.a.ViewableImpression),t(be({postId:e.id})))})(e))},fe=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.posts.models[e],c=o.user.account?o.user.account.displayText:null;i&&(t(ee({[e]:{approvedBy:c,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null,wasPreviouslyRemovedBySteward:Object(_.a)(i)}})),(await Object(I.b)(s(),e)).ok||t(ee({[e]:{approvedBy:null,bannedBy:i.bannedBy,isApproved:i.isApproved,isRemoved:i.isRemoved,isSpam:i.isSpam,modNote:i.modNote,numReports:i.numReports||null,modRemovalReason:i.modRemovalReason,modReasonBy:i.modReasonBy,wasPreviouslyRemovedBySteward:i.wasPreviouslyRemovedBySteward}})))},me=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.posts.models[e],a=i.user.account?i.user.account.displayText:null;c&&a&&(n(ee({[e]:{approvedBy:null,bannedBy:a,isApproved:!1,isRemoved:!t,isSpam:t,wasPreviouslyRemovedBySteward:Object(_.a)(c)}})),(await Object(I.l)(o(),e,t)).ok||n(ee({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam,wasPreviouslyRemovedBySteward:c.wasPreviouslyRemovedBySteward}})))},Oe=(e,t,n)=>async(r,s,o)=>{let{apiContext:c}=o;const a=s(),d=a.posts.models[e],u=Object(q.S)(a);if(d)if(r(ee({[e]:{hidden:!0}})),(await Object(I.c)(c(),e)).ok){const e=Object(P.d)(Object(i.a)(u,"posts.deleteSuccess"),M.b.SuccessMod);if(n)r(Object(x.b)(t.state[O.a.CloseLocation]));else{const e=Object(B.f)(a);e&&r(Object(x.b)(e.url))}r(Object(P.e)(e))}else{r(ee({[e]:{hidden:!1}}));const t=Object(P.d)(Object(i.a)(u,"error.generic"),M.b.Error);r(Object(P.e)(t))}},ge=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isLocked?I.v:I.i;t(ee({[e]:{isLocked:!o.isLocked}})),(await i(s(),e)).ok||t(ee({[e]:{isLocked:o.isLocked}}))},je=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isSpoiler?I.y:I.r,c=o.isSpoiler?o.flair.filter(e=>e.type!==U.f.Spoiler):[...o.flair,{text:"spoiler",type:U.f.Spoiler}];t(ee({[e]:{isSpoiler:!o.isSpoiler,flair:c}})),(await i(s(),e)).ok||t(ee({[e]:{isSpoiler:o.isSpoiler,flair:o.flair}}))},ye=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(H.J)(n(),{postId:e});o&&(t(ee({[e]:{isOriginalContent:!o.isOriginalContent}})),(await Object(I.k)(s(),e,!o.isOriginalContent)).ok||t(ee({[e]:{isOriginalContent:o.isOriginalContent}})))},_e=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.isNSFW?I.w:I.j,c=o.isNSFW?o.flair.filter(e=>e.type!==U.f.Nsfw):[...o.flair,{text:"nsfw",type:U.f.Nsfw}];t(ee({[e]:{isNSFW:!o.isNSFW,flair:c}})),(await i(s(),e)).ok?await t(Pe(e)):t(ee({[e]:{isNSFW:o.isNSFW,flair:o.flair}}))},he=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().posts.models[e];if(!i)return;const c=C.g[t];n(ee({[e]:{distinguishType:t}})),(await Object(I.d)(o(),e,c)).ok||n(ee({[e]:{distinguishType:i.distinguishType}}))},Ee=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().posts.models[e];if(!o)return;const i=o.ignoreReports?I.u:I.h;t(ee({[e]:{ignoreReports:!o.ignoreReports}})),(await i(s(),e)).ok||t(ee({[e]:{ignoreReports:o.ignoreReports}}))},Ie=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.posts.models[e];if(!i)return;const c=!i.isStickied;t(ee({[e]:{isStickied:c}}));const a=o.subredditStickyPosts.data[i.belongsTo.id];let d;if(c&&a&&a.length>=2&&(d=a[1],t(ee({[d]:{isStickied:!1}}))),(await Object(I.s)(s(),e,c,!1)).ok){const n=i.belongsTo.id,r=ve(e,c,o.subredditStickyPosts.data[i.belongsTo.id]),s=o.subreddits.models[n].name,a=Object(w.a)(s,C.O,{});t(Z({newStickiedPostList:r,subredditId:n,listingKey:a}))}else t(ee({[e]:{isStickied:i.isStickied}})),d&&t(ee({[d]:{isStickied:!0}}))},ve=(e,t,n)=>{const r=n?[...n]:[];return t?(r.length>=2&&r.splice(1,1,e),r):r.filter((function(t){return t!==e}))},Se=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().user.language;if(Object(a.a)(e)){const e=Object(P.d)(Object(i.a)(o,"posts.copyLinkSuccess"),M.b.SuccessCommunity);t(Object(P.e)(e))}else{const e=Object(P.d)(Object(i.a)(o,"error.generic"),M.b.Error);t(Object(P.e)(e))}},Te="PREFERENCES__RECENT_POSTS_UPDATED",Ce=Object(d.a)(Te),we=()=>async(e,t)=>{const n=t();if(!n.user.account)return;const s=Object(F.f)(n.user.account);o.a.remove("".concat(s).concat(m.h),{domain:r.a.cookieDomain}),e(Ce({postIds:[]}))},xe=e=>async(t,n)=>{const s=n();if(!s.user.account||!s.user.account.showRecentPosts||s.posts.recent.indexOf(e)>-1)return;const i=Object(F.f)(s.user.account),c=s.posts.recent?s.posts.recent.slice(0):[];c.push(e),c.length>g.c&&c.shift(),o.a.set("".concat(i).concat(m.h),"".concat(c.join(",")),{domain:r.a.cookieDomain}),t(Ce({postIds:c}))},De=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=!n().posts.models[e].sendReplies;t(ee({[e]:{sendReplies:o}})),(await Object(I.p)(s(),e,o)).ok||t(ee({[e]:{sendReplies:!o}}))},Pe=e=>async(t,n,r)=>{if(Object(H.J)(n(),{postId:e}))return;const s=await Object(N.a)(r.apiContext(),e,void 0,{limit:1,truncate:0});if(t(Object(l.m)(s.status)),s.ok){const e=s.body;t(X(e.posts))}},Ae=e=>async(t,n)=>{await t(Pe(e));const r=Object(H.J)(n(),{postId:e});r&&r.crosspostRootId&&await t(Pe(r.crosspostRootId))},Re=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n();if(!Object(q.J)(o))return void t(Object(D.i)(R.a.LOGIN_MODAL_ID));const c=Object(H.J)(o,{postId:e});if(!c)return;const a=c.isFollowed;t(ee({[e]:{isFollowed:!a}}));const d=await Object(I.f)(s(),e,!c.isFollowed),u=Object(q.S)(o);d.ok?t(Object(P.e)({kind:M.b.SuccessMod,text:Object(i.a)(u,a?"posts.event.successfullyUnfollowed":"posts.event.successfullyFollowed")})):(t(ee({[e]:{isFollowed:a}})),t(Object(P.e)({kind:M.b.Error,text:Object(i.a)(u,"posts.event.followFailed")})))},Ne=e=>{let{postOrComment:t,queryParams:n,clickInfo:r}=e;return async(e,s)=>{const o=s(),i=r&&r.hasNewTabModifier;let a=t.permalink;n&&(a=Object(c.a)(a,n)),o.user.prefs.openPostInNewTab||i?window.open(a):e(Object(y.a)(a))}},ke="RICH_TEXT_POST_CONTENT_LOADED",Le=Object(d.a)(ke),Ue=e=>async(t,n,r)=>{const s=n(),o=Object(H.J)(s,{postId:e}),c=Object(q.S)(s);if(!(o&&o.media&&Object(E.C)(o.media)&&o.media.isRichtextPreview))return;const a=await((e,t)=>Object(v.a)(e,Object.assign({},T,{variables:t})))(r.gqlContext(),{postId:e});if(a.ok){const{data:n}=a.body,r=n.post&&n.post.content&&n.post.content.richtext;r&&t(Le({postId:e,richtextContent:JSON.parse(r)}))}else t(Object(P.e)({kind:M.b.Error,text:Object(i.a)(c,"error.genericPage")}))},Me=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;(await Object(I.q)(o(),e,t)).ok?n(ee({[t]:{contestMode:e}})):n(Object(P.e)({kind:M.b.Error,text:Object(h.c)("Something went wrong")}))},Fe="SINGLE_POST_LOADED",Ge=Object(d.a)(Fe),Be=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n(),c=Object(H.J)(o,{postId:e}),a=Object(q.S)(o);if(c)return void t(Object(b.j)(e,!1,!1,!0));const d=await((e,t)=>Object(v.a)(e,Object.assign({},S,{variables:t})))(s(),{postId:e});if(d.ok){const{data:n}=d.body;if(n.postInfoById){const r=Object(j.d)(n.postInfoById);t(Ge(r)),t(Object(b.j)(e,!1,!1,!0))}}else t(Object(P.e)({kind:M.b.Error,text:Object(i.a)(a,"error.genericPage")}))}},"./src/reddit/actions/postCollection/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"t",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"s",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return h})),n.d(t,"o",(function(){return E}));const r="CREATE_COLLECTION_PENDING",s="CREATE_COLLECTION_SUCCESS",o="CREATE_COLLECTION_FAILED",i="GET_SUBREDDIT_COLLECTION_SUCCESS",c="REMOVE_POST_FROM_COLLECTION_SUCCESS",a="ADD_POST_TO_COLLECTION_SUCCESS",d="UPDATE_POST_WITH_COLLECTION_ID",u="DELETE_COLLECTION_SUCCESS",l="UPDATE_COLLECTION_PENDING",b="UPDATE_COLLECTION_SUCCESS",p="UPDATE_COLLECTION_FAILED",f="UPDATE_COLLECTION_DESCRIPTION_PENDING",m="UPDATE_COLLECTION_DESCRIPTION_SUCCESS",O="UPDATE_COLLECTION_DESCRIPTION_FAILED",g="REORDER_COLLECTION_PENDING",j="REORDER_COLLECTION_SUCCESS",y="REORDER_COLLECTION_FAILED",_="UPDATE_COLLECTION_LAYOUT_PENDING",h="UPDATE_COLLECTION_LAYOUT_SUCCESS",E="UPDATE_COLLECTION_LAYOUT_FAILED"},"./src/reddit/actions/postCreation/constants.ts":function(e,t,n){"use strict";n.d(t,"I",(function(){return r})),n.d(t,"J",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"z",(function(){return c})),n.d(t,"F",(function(){return a})),n.d(t,"G",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"E",(function(){return l})),n.d(t,"q",(function(){return b})),n.d(t,"O",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"B",(function(){return m})),n.d(t,"t",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"Q",(function(){return w})),n.d(t,"P",(function(){return x})),n.d(t,"R",(function(){return D})),n.d(t,"S",(function(){return P})),n.d(t,"T",(function(){return A})),n.d(t,"U",(function(){return R})),n.d(t,"V",(function(){return N})),n.d(t,"W",(function(){return k})),n.d(t,"X",(function(){return L})),n.d(t,"s",(function(){return U})),n.d(t,"C",(function(){return M})),n.d(t,"x",(function(){return F})),n.d(t,"v",(function(){return G})),n.d(t,"w",(function(){return B})),n.d(t,"u",(function(){return q})),n.d(t,"y",(function(){return V})),n.d(t,"N",(function(){return H})),n.d(t,"p",(function(){return W})),n.d(t,"A",(function(){return K})),n.d(t,"Y",(function(){return J})),n.d(t,"H",(function(){return Y})),n.d(t,"a",(function(){return z})),n.d(t,"D",(function(){return Q})),n.d(t,"L",(function(){return X})),n.d(t,"M",(function(){return $})),n.d(t,"K",(function(){return Z}));const r="SUBMIT_VALIDATION_FIELD_HAS_ERROR",s="SUBMIT_VALIDATION_FIELD_IS_VALID",o="POST_CREATION_EDIT_COMPLETE",i="POST_CREATION_EDIT_FAILED",c="POST_CREATION_PENDING_EDIT",a="POST_CREATION_START_EDITING_POST",d="POST_CREATION_STOP_EDITING_POST",u="EDITOR_CONTENT_KEY__NEW_DRAFT",l="STARTED_CONVERTING_EDITOR_CONTENT",b="FINISHED_CONVERTING_EDITOR_CONTENT",p="POST_CREATION__TOGGLE_EDITOR_MODE",f="POST_CREATION__ERRORS_NO_LONGER_VALID",m="POST_TITLE_FETCHED",O="INITIALIZE_EDITOR_MODE",g="POST_CREATION__CHANGE_FLAIR",j="POST_CREATION__CHANGE_EVENT_SCHEDULE",y="POST_CREATION__CHANGE_LINK_BODY",_="POST_CREATION__CHANGE_MARKDOWN_BODY",h="POST_CREATION__CHANGE_MEDIA_BODY",E="POST_CREATION__CHANGE_POST_SCHEDULE",I="POST_CREATION__CHANGE_RECAPTCHA",v="POST_CREATION__CHANGE_RTE_STATE",S="POST_CREATION__CHANGE_SUBMISSION_TYPE",T="POST_CREATION__CHANGE_TITLE",C="POST_CREATION__GOV_TYPE_CHANGED",w="POST_CREATION__TOGGLE_IS_CHAT_POST",x="POST_CREATION__TOGGLE_IS_CHANGED",D="POST_CREATION__TOGGLE_IS_GOV",P="POST_CREATION__TOGGLE_IS_NSFW",A="POST_CREATION__TOGGLE_IS_OC",R="POST_CREATION__TOGGLE_IS_POLL",N="POST_CREATION__TOGGLE_IS_SPOILER",k="POST_CREATION__TOGGLE_POST_TO_TWITTER",L="POST_CREATION__TOGGLE_SEND_REPLIES",U="POST_CREATION__INITIALIZE_CROSSPOST_MODE",M="POST_CREATION__RESET_FORM",F="POST_CREATION__MODAL_TOGGLED",G="POST_CREATION__MEDIA_UPLOAD_PENDING",B="POST_CREATION__MEDIA_UPLOAD_SUCCEEDED",q="POST_CREATION__MEDIA_UPLOAD_FAILED",V="POST_CREATION__PENDING",H="POST_CREATION__SUCCEEDED",W="POST_CREATION__FAILED",K="POST_CREATION__POLL_FAILED",J="POST_CREATION__VALIDATION_FAILED",Y="POST_CREATION__SUBMIT_VALIDATION_FAILED",z="POST_CREATION__CAPTCHA_REQUIRED",Q="POST_CREATION__SET_SUBMIT_MODE",X="POST_CREATION__SUBREDDIT_CHANGE_PENDING",$="POST_CREATION__SUBREDDIT_WILL_CHANGE",Z="POST_CREATION__SUBREDDIT_CHANGE_CANCELED"},"./src/reddit/actions/postCreation/editorContent.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/post/convert.ts"),c=n("./src/reddit/helpers/localStorage/index.ts"),a=n("./src/reddit/helpers/trackers/postComposer.ts"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/models/RichTextJson/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/user.ts"),p=n("./src/reddit/actions/postCreation/constants.ts");const f=Object(s.a)(p.E),m=Object(s.a)(p.q),O=Object(s.a)(p.O),g=(e,t,n)=>async(s,c,g)=>{let{apiContext:y}=g;a.i(c(),t);const _=t===d.h.MARKDOWN,h=t===d.h.RICH_TEXT,E=Object(b.S)(c()),I=p.l;if(_&&Object(u.F)(n))return s(O({editorKey:e,editorMode:d.h.MARKDOWN,content:""})),void s(j(t));if(h&&!n)return s(O({editorKey:e,editorMode:d.h.RICH_TEXT,content:u.i})),void s(j(t));s(f(I));const v=await Object(i.a)(y(),t,_?JSON.stringify(n):n);v.ok?(s(m(I)),s(O({editorKey:e,editorMode:t,content:v.body.output})),s(j(t))):(s(m(I)),s(Object(o.e)({duration:o.a,kind:l.b.Error,text:Object(r.a)(E,"error.generic")})))},j=e=>async(t,n)=>{const s=Object(c.h)();if(s>=3)return;const i=n().user.prefs.useMarkdown?d.h.MARKDOWN:d.h.RICH_TEXT,a=Object(b.S)(n());if(e===i)return;const u=e===d.h.MARKDOWN?"postCreation.editorModeModeHintToast.makeMarkdownDefault":"postCreation.editorModeModeHintToast.makeRTEDefault";t(Object(o.e)({buttonAction:async()=>{window.open("/settings/feed")},buttonText:Object(r.a)(a,"postCreation.editorModeModeHintToast.button"),kind:l.b.SuccessCommunity,text:Object(r.a)(a,u)})),Object(c.K)(s+1)}},"./src/reddit/actions/postCreation/general.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return f})),n.d(t,"o",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return x})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"x",(function(){return R})),n.d(t,"z",(function(){return N})),n.d(t,"A",(function(){return k})),n.d(t,"l",(function(){return L})),n.d(t,"r",(function(){return U})),n.d(t,"q",(function(){return F})),n.d(t,"m",(function(){return G})),n.d(t,"y",(function(){return B})),n.d(t,"p",(function(){return q})),n.d(t,"n",(function(){return V}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/isUrl/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/contexts/PageLayer/index.tsx"),a=n("./src/reddit/endpoints/post/index.tsx"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/routes/postCreation/constants.ts"),l=n("./src/reddit/selectors/postCollection.ts"),b=n("./src/reddit/selectors/postCreations.ts"),p=n("./src/reddit/actions/postCreation/constants.ts");const f=Object(o.a)(p.o),m=Object(o.a)(p.B),O=(Object(o.a)(p.t),e=>{switch(e){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),g=Object(o.a)(p.b),j=Object(o.a)(p.c),y=Object(o.a)(p.d),_=Object(o.a)(p.e),h=Object(o.a)(p.f),E=Object(o.a)(p.g),I=Object(o.a)(p.h),v=Object(o.a)(p.i),S=Object(o.a)(p.j),T=Object(o.a)(p.k),C=Object(o.a)(p.r),w=Object(o.a)(p.Q),x=Object(o.a)(p.P),D=(Object(o.a)(p.R),Object(o.a)(p.S)),P=Object(o.a)(p.T),A=Object(o.a)(p.U),R=Object(o.a)(p.V),N=Object(o.a)(p.W),k=Object(o.a)(p.X),L=Object(o.a)(p.s),U=e=>async(t,n,r)=>{let{apiContext:o}=r;t(y(e)),Object(s.a)(e)&&t((e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(a.e)(s(),e);o.ok&&o.body&&o.body.json&&o.body.json.data&&t(m(o.body.json.data))})(e))},M=Object(o.a)(p.C),F=(e,t)=>async(n,s)=>{n(M()),n(e?Object(r.b)(u.b):Object(r.b)(Object(b.R)(s(),{pageLayer:t})))},G=Object(o.a)(i.c),B=e=>async t=>{e?e===d.d?t(G(e)):t(i.i(e)):(t(G(e)),t(i.i(e)))},q=e=>async(t,n)=>{const r=n(),s=Object(c.E)(e),o=Object(b.z)(r);if(s&&o){Object(b.M)(r)!==d.c&&t(B(d.c))}else t(F(!1,e))},V=e=>async(t,n)=>{const r=n();Object(l.m)(r,{subredditId:e})?t(i.i(d.a)):t(i.i(d.b))}},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return T}));var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/addQueryParams/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/filterQueryParams/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/pages/postCreation.ts"),u=n("./src/reddit/contexts/PageLayer/selectors.ts"),l=n("./src/reddit/helpers/name/index.ts"),b=n("./src/reddit/models/PostCreationForm/index.ts"),p=n("./src/reddit/routes/postCreation/index.ts"),f=n("./src/reddit/routes/postCreation/constants.ts"),m=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/postCreations.ts"),g=n("./src/reddit/selectors/subreddit.ts"),j=n("./src/reddit/actions/postCreation/constants.ts"),y=n("./src/reddit/actions/postCreation/general.ts");const _=Object(c.a)(j.L),h=Object(c.a)(j.M),E=Object(c.a)(j.K),I=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s,c=r();const{name:p,isProfile:f}=e,j=Object(m.f)(c),y=j&&!f&&Object(l.a)(j.name,p),h=c.creations.api.subreddit.change.pending;if(y||h)return;const E=Object(u.t)(t);if(!p)return void n(v(e,E));n(_(e));const I=f?{profileName:p}:{subredditName:p};if(await n(Object(d.d)(I)),f||!Object(O.v)(c))return n(v(e,E));const S=e.allowedPostTypes||Object(g.A)(r(),{subredditName:p});if(!S)return void n(v(e,E));let T;c=r();const C=Object(O.ab)(c),w=Object(O.v)(c);if(C===o.Fb.MEDIA&&w){const{mediaType:e,video:t}=Object(O.K)(c);if("image"!==e||S.images){if("video"===e&&!S.videos){const e=t&&t.duration||0;S.images?e>o.Y&&(T=b.q.VideoWillBeRemovedTooLongForGif):T=b.q.VideoWillBeRemovedMediaNotAllowed}}else T=b.q.ImageWillBeRemoved}n(T?Object(a.i)(T):v(Object.assign({},e,{allowedPostTypes:S}),E))},v=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(o,i)=>{const{name:c,isProfile:a}=e,d=i().platform.currentPage,u=d.queryParams,l=a?p.b:p.c;let b="";b=c?l(c):f.b,b=Object(s.a)(b,Object.assign({},u,{draft:t||u.draft})),(t||d.url.toLowerCase()!==b.toLowerCase())&&(o(h(e)),n&&o(Object(y.s)(!0)),o(Object(y.j)()),o(Object(r.c)(b)))}},S=e=>async(t,n)=>{const o=n().platform.currentPage,i=o.queryParams,c=Object(s.a)(o.url,Object.assign({},i,{collection:e}));t(Object(r.c)(c))},T=()=>async(e,t)=>{const n=t().platform.currentPage,s=Object(i.a)(n.url,["collection"]);e(Object(r.c)(s))}},"./src/reddit/actions/postDraft.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/formatApiError/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/postCreation/general.ts"),c=n("./src/reddit/actions/postCreation/subredditChange.ts"),a=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/contexts/PageLayer/selectors.ts"),u=n("./src/lib/makeApiRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/models/StructuredStyles/index.ts");var p=n("./src/reddit/constants/headers.ts"),f=n("./src/reddit/helpers/name/index.ts"),m=n("./src/reddit/models/PostDraft/index.ts"),O=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),g=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),j=n("./src/reddit/models/Subreddit/index.ts");const y=e=>{let t=e.drafts.reduce((e,t)=>{const n=(e=>{let t;return t="link"===e.kind?{kind:m.b.Link,body:e.body||void 0}:"markdown"===e.kind?{kind:m.b.Markdown,body:e.body||void 0}:{kind:m.b.RichText,body:e.body||void 0},Object.assign({subredditId:e.subreddit||void 0,contentCategory:e.content_category||void 0,created:e.created,flair:e.flair,id:e.id,isChatPost:!!e.discussion_type,isNSFW:!!e.nsfw,isOriginalContent:!!e.original_content,isSpoiler:!!e.spoiler,modified:e.modified||void 0,sendReplies:!!e.send_replies,isPublicLink:!!e.is_public_link,title:e.title||""},t)})(t);return e.postDraftIds.push(n.id),e.postDrafts[n.id]=n,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce((e,t)=>{if(t.subreddit_type===j.b.User){const n=Object(O.a)(t,Object(f.f)(t.display_name_prefixed));e.profiles[n.id]=n}else{const n=Object(g.a)(t);e.subreddits[n.id]=n}return e},t)};var _=n("./src/reddit/endpoints/post/draft/helpers.ts"),h=n("./src/reddit/models/PostCreationForm/index.ts"),E=n("./src/reddit/helpers/trackers/postComposer.ts"),I=n("./src/reddit/models/Toast/index.ts"),v=n("./src/reddit/models/User/index.ts"),S=n("./src/reddit/selectors/postCreations.ts"),T=n("./src/reddit/selectors/postDraft.ts"),C=n("./src/reddit/selectors/profile.ts"),w=n("./src/reddit/selectors/subreddit.ts"),x=n("./src/reddit/selectors/user.ts");n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"p",(function(){return L})),n.d(t,"j",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"i",(function(){return F})),n.d(t,"m",(function(){return G})),n.d(t,"k",(function(){return B})),n.d(t,"h",(function(){return q})),n.d(t,"n",(function(){return V})),n.d(t,"s",(function(){return Q})),n.d(t,"r",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"q",(function(){return ee})),n.d(t,"c",(function(){return te})),n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return re})),n.d(t,"o",(function(){return ce}));const D="POST_DRAFT__LIST_PENDING",P="POST_DRAFT__LIST_LOADED",A="POST_DRAFT__LIST_FAILED",R=Object(o.a)(D),N=Object(o.a)(P),k=Object(o.a)(A),L=()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!Object(x.i)(o)||Object(T.b)(o))return;e(R());const i=await(e=>Object(u.b)(Object(l.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/drafts.json"),method:r.bb.GET}))(s());i.ok?e(N(y(i.body))):e(k(i.error))},U="POST_DRAFT__SAVE_DRAFT_PENDING",M="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",F="POST_DRAFT__SAVE_DRAFT_FAILED",G="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",B="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",q="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",V="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",H=Object(o.a)(U),W=Object(o.a)(M),K=Object(o.a)(F),J=Object(o.a)(G),Y=Object(o.a)(B),z=Object(o.a)(q),Q=Object(o.a)(V),X=e=>async(t,n,o)=>{let{apiContext:i}=o;const d=n(),b=Object(T.g)(d),f=Object(S.Q)(d);if(b||f)return;const m=Object(T.h)(d,e);if(!m)return;t(H(m)),E.e(d,m);const O=await((e,t,n)=>Object(u.b)(Object(l.a)(e,[p.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/draft"),method:n?r.bb.PUT:r.bb.POST,data:Object(_.a)(t)}).then(e=>e.body.fields&&Object(h.v)(e.body.fields[0])?Object.assign({},e,{body:{},error:{type:r.D.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}):e))(i(),m,e);if(O.ok){const{id:n,draftsCount:r}=Object(_.c)(O.body);t(W({draftId:n,draftsCount:r})),e||t(Object(c.a)(m.destSubreddit,n,!1))}else{const e=O.error;e.type===r.D.BAD_CAPTCHA_ERROR?t(z()):e.type===r.D.VALIDATION_ERROR?t(J(e)):e.type===r.D.SUBMIT_VALIDATION_ERROR?t(Y(e)):t(K(e));const n=Object(x.S)(d);t(Object(a.e)({duration:a.a,kind:I.b.Error,text:Object(s.a)(n,e)}))}},$="POST_DRAFT__LOAD_DRAFT",Z=Object(o.a)($),ee=e=>async(t,n,r)=>{let{apiContext:s}=r;t(Z(e));let o=h.e;const i=n();if(e.subredditId){const t=Object(w.S)(i,{subredditId:e.subredditId}),n=Object(C.p)(i,{profileId:e.subredditId}),r=Object(x.i)(i);t?o={isProfile:!1,name:t.name}:n&&r&&(o={isProfile:!0,name:Object(v.f)(r)})}await t(Object(c.a)(o,e.id,!1));const a=Object(T.h)(n(),e.id);a&&E.h(n(),a)},te="POST_DELETE_DRAFT_SUCCEEDED",ne="POST_DELETE_DRAFT_FAILED",re="POST_DELETE_DRAFT_PENDING",se=Object(o.a)(te),oe=Object(o.a)(ne),ie=Object(o.a)(re),ce=(e,t)=>async(n,o,c)=>{let{apiContext:p}=c;const f=o();if(Object(T.a)(f,e))return;const m=Object(T.d)(f,{draftId:e});m&&E.f(f,m),n(ie({draftId:e}));const O=await(async(e,t)=>Object(u.b)(Object(l.a)(e,[b.f]),{endpoint:"".concat(e.apiUrl,"/api/v1/draft?draft_id=").concat(t),method:r.bb.DELETE}))(p(),e);if(O.ok){const{draftsCount:r}=Object(_.c)(O.body);n(se({draftId:e,draftsCount:r}));const s=Object(d.t)(t);e===s&&n(Object(i.q)(!0,t))}else{const t=O.error,r=Object(x.S)(o());n(oe({draftId:e,apiError:t})),n(Object(a.e)({duration:a.a,kind:I.b.Error,text:Object(s.a)(r,t)}))}}},"./src/reddit/actions/postFlair.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return I})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"l",(function(){return L})),n.d(t,"k",(function(){return U})),n.d(t,"j",(function(){return M})),n.d(t,"g",(function(){return F})),n.d(t,"i",(function(){return G})),n.d(t,"h",(function(){return B}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/post.ts"),i=n("./src/reddit/actions/postFlairStyleTemplate.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/reddit/endpoints/flair/index.ts"),d=n("./src/reddit/helpers/flair.ts"),u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Toast/index.ts"),b=n("./src/reddit/selectors/postFlair.ts"),p=n("./src/reddit/selectors/subreddit.ts"),f=n("./src/reddit/selectors/user.ts");const m="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",O=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),g=Object(s.a)(m),j=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),y="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",_=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),h=Object(s.a)(y),E=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),I="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",v=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),S=Object(s.a)(I),T=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),C="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",w=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),x=Object(s.a)(C),D=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),P="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",A="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",R=Object(s.a)(P),N=Object(s.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),k=Object(s.a)(A),L=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(p.S)(i,{subredditId:e}).name;n(O());const d=await Object(a.k)(o(),c,t);if(d.ok){n(g({subredditId:e,isEnabled:t}))}else n(j());return d.ok},U=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(p.S)(i,{subredditId:e}).name;n(_());const d=await Object(a.j)(o(),t,u.d.LinkFlair,c);if(d.ok){n(h({subredditId:e,canAssignOwn:t}))}else n(E());return d.ok},M=(e,t)=>async(n,s,o)=>{let{apiContext:d}=o;const b=s(),m=Object(p.S)(b,{subredditId:t}).name,O=Object(f.S)(b);n(v());const g=await Object(a.f)(d(),e,m,u.d.LinkFlair);let j=g.ok&&!(g.body&&!1===g.body.success);if(j){const r=g.body;if(n(S({subredditId:t,template:r})),r.id){const s=e.styleTemplate,o=b.structuredStyles.flairTemplate.models[r.id];s?j=await n(Object(i.d)(t,r.id,s)):o&&(j=await n(Object(i.c)(t,r.id)))}}if(j){const e=Object(c.d)(Object(r.a)(O,"structuredStyles.forms.flair.toast.flairSaved"),l.b.SuccessMod);n(Object(c.e)(e))}else{n(T());const s=Object(c.d)(Object(r.a)(O,"structuredStyles.forms.flair.toast.flairNotSaved"),l.b.Error,Object(r.a)(O,"structuredStyles.forms.flair.toast.retryButtonText"),M(e,t));n(Object(c.e)(s))}return j},F=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const d=s(),u=Object(p.S)(d,{subredditId:t}).name,b=Object(f.S)(d);if(n(w()),(await Object(a.b)(i(),e,u)).ok){n(x({subredditId:t,templateId:e}));const s=Object(c.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairDeleted"),l.b.SuccessMod);n(Object(c.e)(s))}else{n(D());const s=Object(c.d)(Object(r.a)(b,"structuredStyles.forms.flair.toast.flairNotDeleted"),l.b.Error,Object(r.a)(b,"structuredStyles.forms.flair.toast.retryButtonText"),F(e,t));n(Object(c.e)(s))}},G=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const d=s(),m=Object(b.d)(d,{subredditId:t}).templateIds,O=Object(p.S)(d,{subredditId:t}).name,g=Object(f.S)(d);if(n(R({subredditId:t,templateIds:e})),(await Object(a.e)(i(),O,u.d.LinkFlair,e)).ok){n(N());const e=Object(c.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderSuccess"),l.b.SuccessMod);n(Object(c.e)(e))}else{n(k({subredditId:t,templateIds:m}));const s=Object(c.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderFailure"),l.b.Error,Object(r.a)(g,"structuredStyles.forms.flair.toast.retryButtonText"),G(e,t));n(Object(c.e)(s))}},B=e=>{let{post:t,previewFlair:n,selectedTemplateId:r}=e;return async(e,s,i)=>{let{apiContext:c}=i;const u=t.flair.filter(e=>!Object(d.p)(e.type));if(n&&u.unshift(n),e(Object(o.E)({[t.id]:{flair:u}})),n){const e=Object(d.g)(n);Object(a.h)(c(),t.id,r,e)}else Object(a.h)(c(),t.id,"","")}}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./node_modules/lodash/isEqual.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/imageUploads.ts"),l=n("./src/reddit/helpers/media/index.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),m=n("./src/reddit/constants/headers.ts");var O=n("./src/reddit/helpers/trackers/blade.ts"),g=n("./src/reddit/models/Image/index.tsx"),j=n("./src/reddit/selectors/subreddit.ts"),y=n("./src/telemetry/index.ts");n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return C}));var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const h=e=>{let{subredditId:t,flairId:n,imageKey:r,imageData:s}=e;return async(e,o,i)=>{const c=o(),a=Object(j.S)(c,{subredditId:t});if(!a)return!1;e(Object(u.k)(s));const d=await(async(e,t,n,r,s,o)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_style_asset_upload_s3/").concat(n),method:b.bb.POST,data:{filepath:r,imagetype:s,mimetype:o}}))(i.apiContext(),a.name,n,s.file.name,r,await Object(l.g)(s.file));let O=!1;try{const t=await Object(u.g)(o(),d,s,g.a.FlairTemplates);t&&e(Object(u.j)(t)),O=!0}catch(y){if(y instanceof Error)throw y;e(Object(u.i)(y))}return O}},E="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",I=Object(d.a)(E),v=(e,t,n)=>async(r,o,c)=>{const{apiContext:d}=c;let l=o();const{pendingImages:E}=n;let v=_(n,["pendingImages"]);const S=Object(j.S)(l,{subredditId:e});if(!S)return!1;const T=l.structuredStyles.flairTemplate.models[t];if(T&&i()(T,v))return!0;if(E){const n=[];if(s()(E,(s,o)=>{s&&n.push(r(h({flairId:t,imageData:Object(g.m)(s),imageKey:o,subredditId:e})))}),!(await Promise.all(n)).every(e=>e))return!1;v=((e,t,n)=>{const r=Object.assign({},e);return s()(t,(e,t)=>{const s=e&&n.imageUploads[e.id];s&&s.kind===g.b.TempUploaded&&(r[t]=s.url)}),r})(v,E,o())}l=o();let C=null,w=null;const x=[];try{(C=await Object(u.f)(l,g.a.FlairTemplates))&&(w=Object(u.m)(C)(r,o,c),x.push(...a()(C.imagesByKey)))}catch(R){return!1}const D=await(async(e,t,n,r)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_styles/").concat(n),method:b.bb.PUT,data:r}))(d(),S.name,t,v),P=T?"edit_post_flair_template":"save_post_flair_template",A=Object(O.e)(l,P);if(D.ok){let e;if(w)try{await w,e=((e,t,n)=>{const r=Object.assign({},e);return t.forEach(e=>{const t=n.imageUploads[e.id];t&&t.kind===g.b.Uploaded&&(e.url===r.postBackgroundImage?r.postBackgroundImage=t.url:e.url===r.postPlaceholderImage&&(r.postPlaceholderImage=t.url))}),r})(v,x,o())}catch(R){e=null}else e=v;r(I({flairId:t,template:e||v}))}else C&&C.websocket.close();return Object(y.a)(Object.assign({},A,{actionInfo:Object.assign({},A.actionInfo,{success:D.ok})})),D.ok},S="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",T=Object(d.a)(S),C=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(j.S)(i,{subredditId:e});if(!c)return!1;const a=await(async(e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_styles/").concat(n),method:b.bb.DELETE}))(o(),c.name,t),d=Object(O.e)(i,"delete_flair_template");return a.ok&&n(T({flairId:t})),Object(y.a)(Object.assign({},d,{actionInfo:Object.assign({},d.actionInfo,{success:a.ok})})),a.ok}},"./src/reddit/actions/postFlairStyleTemplates/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_PENDING",s="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_LOADED",o="SUBREDDIT__POST_FLAIR_STYLE_TEMPLATES_FAILED"},"./src/reddit/actions/postList.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./src/reddit/actions/embedAndImage.ts"),n("./src/reddit/actions/video.ts"),n("./src/reddit/helpers/trackers/postList.ts"));n("./src/reddit/constants/postLayout.ts"),n("./src/reddit/selectors/platform.ts"),n("./src/reddit/selectors/posts.ts");n("./src/reddit/selectors/video.ts");n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));const o="POSTLIST__MARKED_END",i="POSTLIST__UNMARKED_END",c=Object(r.a)(o),a=Object(r.a)(i),d=(e,t)=>async(n,r)=>{const o=r();e in o.listings.postOrder.fetchedTokens?e in o.listings.postOrder.ids?n(a({listingKey:e})):s.j(o,e):n(c({listingKey:e,listingName:t}))}},"./src/reddit/actions/postRequirements/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="POST_REQUIREMENTS_FAILED",s="POST_REQUIREMENTS_LOADED",o="POST_REQUIREMENTS_PENDING",i="POST_REQUIREMENTS_UPDATED"},"./src/reddit/actions/postRequirements/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeActionCreator/index.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/graphql/operations/GetPostRequirements.json"),d=n("./src/lib/makeGqlRequest/index.ts"),u=n("./src/graphql/operations/UpdatePostRequirements.json"),l=n("./src/reddit/endpoints/subreddit/about.ts"),b=n("./src/reddit/i18n/utils.ts"),p=n("./src/reddit/models/Toast/index.ts"),f=n("./src/reddit/selectors/postRequirements.ts"),m=n("./src/reddit/selectors/subreddit.ts"),O=n("./src/reddit/actions/postRequirements/constants.ts");n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return E}));const g=Object(i.a)(O.b),j=Object(i.a)(O.c),y=Object(i.a)(O.a),_=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i={subredditName:e.toLowerCase()};if(Object(f.a)(n(),i))return;t(j(i));let c=Object(m.G)(n(),e);if(!c){const n=await Object(l.a)(s(),e,!1);if(n.ok){c=n.body.data.subreddit.id}if(!c){const e=n.error||{type:o.D.NOT_FOUND_ERROR};return void t(y(Object.assign({},i,{error:e})))}}let u=null;const b=await((e,t)=>Object(d.a)(e,Object.assign({},a,{variables:t})))(s(),{subredditId:c});if(b.ok){const e=b.body;u=e.data.subreddit&&e.data.subreddit.postRequirements}if(u)t(g(Object.assign({},i,{requirements:u})));else{const e=b.error||{type:o.D.UNKNOWN_ERROR};t(y(Object.assign({},i,{error:e})))}},h=Object(i.a)(O.d),E=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;const i=e.toLowerCase(),a=Object(m.G)(r(),e);if(!a)return{success:!1};const l=Object.assign({subredditId:a},t),f=await((e,t)=>Object(d.a)(e,Object.assign({},u,{variables:t})))(o(),{input:l});let O=!1,g=null;if(f.ok){const e=f.body;O=e.data.updatePostRequirements.ok,g=I(e.data.updatePostRequirements.fieldErrors)}return O?(n(h({subredditName:i,partialRequirements:t})),{success:!0}):(n(Object(c.e)({duration:c.a,id:"REQUIREMENTS_SAVE_ERROR",kind:p.b.Error,text:g&&g.length?g[0].message:Object(b.c)("Something went wrong")})),{success:!1,errors:g||void 0})},I=e=>e&&e.map(e=>Object.assign({},e,{field:s()(e.field)}))},"./src/reddit/actions/preferences.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/Base64/base64.js"),s=n("./src/config.ts"),o=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(o),c=n("./node_modules/lodash/isEmpty.js"),a=n.n(c),d=n("./node_modules/lodash/omit.js"),u=n.n(d),l=n("./node_modules/lodash/pick.js"),b=n.n(l),p=n("./src/app/strings/index.ts"),f=n("./src/lib/constants/index.ts"),m=n("./src/lib/makeActionCreator/index.ts"),O=n("./src/reddit/actions/chat/toggle.ts"),g=n("./src/reddit/actions/users.ts"),j=n("./src/reddit/constants/cookie.ts"),y=n("./src/reddit/endpoints/user/preferences.ts"),_=n("./src/reddit/i18n/utils.ts"),h=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),E=n("./src/lib/makeApiRequest/index.ts"),I=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),v=n("./src/reddit/actions/toaster.ts"),S=n("./src/reddit/constants/preferences.ts"),T=n("./src/reddit/endpoints/subreddit/settings.ts"),C=n("./src/reddit/helpers/trackers/profileSettings.ts"),w=n("./src/reddit/models/Toast/index.ts"),x=n("./src/reddit/models/User/index.ts"),D=n("./src/reddit/selectors/structuredStyles.ts"),P=n("./src/reddit/selectors/subreddit.ts"),A=n("./src/reddit/selectors/user.ts");n.d(t,"b",(function(){return R})),n.d(t,"h",(function(){return N})),n.d(t,"g",(function(){return k})),n.d(t,"o",(function(){return L})),n.d(t,"e",(function(){return U})),n.d(t,"d",(function(){return M})),n.d(t,"l",(function(){return F})),n.d(t,"f",(function(){return G})),n.d(t,"n",(function(){return B})),n.d(t,"q",(function(){return q})),n.d(t,"s",(function(){return K})),n.d(t,"c",(function(){return X})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return Z})),n.d(t,"t",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"B",(function(){return re})),n.d(t,"a",(function(){return se})),n.d(t,"p",(function(){return oe})),n.d(t,"C",(function(){return de})),n.d(t,"F",(function(){return ue})),n.d(t,"i",(function(){return le})),n.d(t,"k",(function(){return me})),n.d(t,"j",(function(){return ge})),n.d(t,"x",(function(){return ye})),n.d(t,"A",(function(){return _e})),n.d(t,"r",(function(){return he})),n.d(t,"z",(function(){return Ee})),n.d(t,"y",(function(){return Ie})),n.d(t,"m",(function(){return ve})),n.d(t,"E",(function(){return Ce})),n.d(t,"H",(function(){return we})),n.d(t,"G",(function(){return xe}));const R="PREFERENCES__AUTOPLAY_TOGGLED",N="PREFERENCES__NIGHTMODE_TOGGLED",k="PREFERENCES__LAYOUT_CHANGED",L="PREFERENCES__SUBREDDIT_LAYOUT_CHANGED",U="PREFERENCES__CUSTOMIZE_FLYOUT_SHOWN",M="PREFERENCES__CUSTOMIZE_FLYOUT_DISMISSED",F="PREFERENCES__PROFILE_LAYOUT_CHANGED",G="PREFERENCES__HAMBURGER_TRAY_TOGGLED",B="PREFERENCES__RPAN_DU_DISMISSED",q="PREFERENCES__TOP_CONTENT_DISMISSAL_PREF_SET",V=Object(m.a)(k),H=Object(m.a)(L),W=Object(m.a)(U),K=Object(m.a)(M),J=Object(m.a)(B),Y=Object(m.a)(q),z=(Object(m.a)(F),Object(m.a)(R)),Q=Object(m.a)(N),X=(Object(m.a)(G),"PREFERENCES__COLLAPSED_TRAY_TOGGLED"),$=(Object(m.a)(X),e=>async(t,n,r)=>{let{apiContext:s}=r;t(V({layout:e})),t(Object(g.r)())}),Z=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(A.ab)(i),{hasSeenCustomizeFlyout:a}=i.user.prefs;a||n(W()),t&&c?(n(H({subredditId:t,layout:e})),n(we(t,{layout:e},!1)),a||n(ue({hasSeenCustomizeFlyout:!0},!1))):(n($(e)),n(ue(a?{layout:e}:{layout:e,hasSeenCustomizeFlyout:!0},!1)))},ee=e=>async(t,n,r)=>{let{apiContext:s}=r;n().user.account&&await Object(y.d)(e,s())},te=e=>async(t,n,o)=>{let{apiContext:c}=o;const a=n();if(Object(D.j)(a)){const e=Object(A.S)(a);t(Object(v.e)({kind:w.b.Error,text:Object(p.a)(e,"structuredStyles.modal.nightmode.description")}))}else{if(a.user.account)await Object(y.e)(e,c());else{const t=i.a.get(j.k);if(t){const n=JSON.parse(Object(r.atob)(t));n.prefs.nightmode=e,i.a.set(j.k,btoa(JSON.stringify(n)),{domain:s.a.cookieDomain})}}t(Q({nightmode:e})),t(Object(O.d)(e)),i.a.remove(j.e,{domain:s.a.cookieDomain})}},ne=()=>async(e,t,n)=>{let{apiContext:o}=n;const c=t(),a=c.user.prefs.topContentTimesDismissed+1,d=Date.now();if(c.user.account)e(ue({topContentDismissalTime:d,topContentTimesDismissed:a},!1));else{const e=i.a.get(j.k);if(e){const t=JSON.parse(Object(r.atob)(e));t.prefs[S.d]=d,t.prefs[S.e]=a,i.a.set(j.k,btoa(JSON.stringify(t)),{domain:s.a.cookieDomain})}}e(Y({topContentDismissalTime:d,topContentTimesDismissed:a})),e(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(_.c)("Got it! We will show you less of this")}))},re=()=>async(e,t,n)=>{let{apiContext:o}=n;const c=Date.now(),a=t(),d=Object(_.c)("Got it! We will show you less of this");if(a.user.account)e(ue({rpanDuDismissalTime:c},!1));else{const e=i.a.get(j.k);if(e){const t=JSON.parse(Object(r.atob)(e));t.prefs[S.b]=c,i.a.set(j.k,btoa(JSON.stringify(t)),{domain:s.a.cookieDomain})}}e(Object(v.e)({kind:w.b.SuccessCommunity,text:d})),e(J(c))},se="SETTINGS__ACCOUNT_PREFS_UPDATE_SUCCESS",oe="SETTINGS__SUBREDDIT_PREFS_UPDATED",ie=Object(m.a)("SETTINGS__UPDATE_PENDING"),ce=Object(m.a)("SETTINGS__UPDATE_FAILURE"),ae=Object(m.a)(se),de=Object(m.a)(oe),ue=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return async(r,s,o)=>{let{apiContext:i}=o;r(ie());const c=u()(e,S.a),d=b()(e,S.a),l=[];a()(c)||l.push(Object(y.g)(c,i())),a()(d)||l.push(Object(y.b)(d,i())),(await Promise.all(l)).every(e=>e.ok)?(r(ae({preferences:e})),t&&r(Object(v.e)({kind:w.b.SuccessCommunity,text:n||Object(_.c)("Changes saved")}))):(r(ce()),t&&r(Object(v.e)({kind:w.b.Error,text:Object(_.c)("Changes failed to save")})))}},le="SETTINGS__SUCCESS",be=Object(m.a)("SETTINGS__PENDING"),pe=Object(m.a)("SETTINGS__FAILURE"),fe=Object(m.a)(le),me="SETTINGS__PROFILE_IMAGE_UPDATE_SUCCESS",Oe=Object(m.a)(me),ge="SETTINGS__PROFILE_IMAGE_DELETE_SUCCESS",je=Object(m.a)(ge),ye=e=>async(t,n,r)=>{let{apiContext:o}=r;t(be());const i=await((e,t)=>Object(E.b)(e,{endpoint:Object(I.a)("".concat(s.a.gatewayUrl,"/desktopapi/v1/prefs")),method:f.bb.GET,data:{timestamp:t?Date.now():void 0}}))(o(),e);i.ok?t(fe(i.body)):t(pe())},_e=e=>async(t,n,r)=>{let{apiContext:s}=r;if(n().user.account)await Object(y.a)(e,s());else{const e=i.a.get(j.f);if(e){const t=JSON.parse(decodeURIComponent(e));t.pref_quarantine_optin=!0,i.a.set(j.f,JSON.stringify(encodeURIComponent(t)),f.x)}else{const e=JSON.stringify({pref_quarantine_optin:!0});i.a.set(j.f,e,f.x)}}},he=e=>async(t,n,r)=>{let{apiContext:s}=r;n().user.account&&await Object(y.c)(e,s()),t(z({autoplayVideo:e}))},Ee=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(A.i)(r());if(!i||!i.profileId)return;const c=Object(A.S)(r()),a=Object(x.f)(i),d=f.Qb+a,u=await Object(h.g)(o(),d,t,e.file);if(u.ok){const e=decodeURIComponent(u.body.PostResponse.Location);n(Oe({imageUrl:e,key:t,subredditId:i.profileId,username:a})),(await Object(h.e)(o(),d,{[t]:e})).ok?(n(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(c,"settings.page.saveRequestSuccess")})),Object(C.g)(r(),t)):n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(c,"settings.page.saveRequestFailure")}))}else n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(c,"settings.profileForm.images.errors."+t)}))},Ie=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(A.i)(n());if(!o||!o.profileId)return;const i=Object(x.f)(o),c=f.Qb+i,a={profileIcon:"icon",profileBanner:"banner"}[e],d=Object(A.S)(n()),u=await Object(T.b)(s(),c,a);if(u.ok){const r=u.body[a+"_img"];t(je({imageUrl:r,key:e,subredditId:o.profileId,username:i})),t(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(d,"settings.page.saveRequestSuccess")})),Object(C.f)(n(),e)}else t(Object(v.e)({kind:w.b.Error,text:Object(p.a)(d,"settings.page.saveRequestFailure")}))},ve="SETTINGS__PROFILE_SETTINGS_UPDATE_SUCCESS",Se=Object(m.a)(ve),Te=Object(m.a)("SETTINGS__PROFILE_SETTINGS_UPDATE_FAILED"),Ce=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(A.i)(r());if(!i||!i.profileId)return!1;const c=[],a=r().subreddits.settings[i.profileId],d=Object.assign({},a,e);c.push(Object(T.e)(o(),i.profileId,d));const{showActiveCommunities:u,prevShowActiveCommunities:l}=t;u!==l&&c.push(Object(y.g)({showActiveCommunities:u},o()));const b=Object(A.S)(r());return(await Promise.all(c)).every(e=>e.ok)?(n(Se({settings:e,additional:t,subredditId:i.profileId})),Object(C.i)(r()),n(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(b,"settings.page.saveRequestSuccess")})),!0):(n(Te()),n(Object(v.e)({kind:w.b.Error,text:Object(p.a)(b,"settings.page.saveRequestFailure")})),!1)},we=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async(r,s,o)=>{let{apiContext:i}=o;const c=s(),a=Object(A.S)(c),d=c.user.prefs.subreddit[e];r(de({subredditId:e,prefs:t})),(await Object(y.h)(e,t,i())).ok?n&&r(Object(v.e)({kind:w.b.SuccessCommunity,text:Object(p.a)(a,"settings.page.saveRequestSuccess")})):(d&&r(de({subredditId:e,prefs:d})),n&&r(Object(v.e)({kind:w.b.Error,text:Object(p.a)(a,"settings.page.saveRequestFailure")})))}},xe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r();Object(P.S)(i,{subredditId:e})&&i.user.prefs.rememberCommunitySort&&n(we(e,{sort:t},!1))}},"./src/reddit/actions/product.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return E}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/governance/errorToast.ts"),o=n("./src/reddit/endpoints/governance/badges.ts"),i=n("./src/reddit/endpoints/governance/products/badges.ts");const c="PRODUCT__BADGE_PURCHASE_OPENED",a="PRODUCT__BADGE_PURCHASE_SUCCESS",d="PRODUCT__BADGE_PURCHASE_FAILURE",u="PRODUCT__BADGE_PURCHASE_PENDING",l="PRODUCT__FETCH_SUCCESS",b="PRODUCT__FETCH_FAILURE",p="PRODUCT__FETCH_PENDING",f=Object(r.a)(c),m=Object(r.a)(a),O=Object(r.a)(d),g=Object(r.a)(u),j=Object(r.a)(l),y=Object(r.a)(b),_=Object(r.a)(p),h=e=>{let{productId:t}=e;return async(e,n,r)=>{let{apiContext:c}=r;const a=n(),d=a.products.models[t],u=a.user.account,l=!!a.products.api.purchase.pending[t];if(d&&d.price&&!l){e(g({productId:t}));const n=await Object(i.b)(c(),{price:d.price,products:[{productId:t,quantity:"1"}],subredditId:d.subredditId});let r;if(n.ok&&u&&(r=await Object(o.c)(c(),d.subredditId,u.id)),n.ok){if(r&&r.ok){const{badges:t,userOwnedBadges:s}=r.body;e(m({product:d,badges:t,userOwnedBadges:s,wallet:n.body.wallet}))}}else e(O({productId:t,error:n.error})),Object(s.a)(e,n.error)}}},E=e=>{let{subredditId:t}=e;return async(e,n,r)=>{let{apiContext:s}=r;e(_({subredditId:t}));const o=await Object(i.a)(s(),t);o.ok?e(j({subredditId:t,products:o.body})):e(y({subredditId:t,error:o.error}))}}},"./src/reddit/actions/profile/constants.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"j",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return m}));const r="PROFILE__PROFILE_INFO_LOADED",s="PROFILE__PROFILE_INFO_FAILED",o="PROFILE__MODERATED_SUBREDDITS_PENDING",i="PROFILE__MODERATED_SUBREDDITS_LOADED",c="PROFILE__MODERATED_SUBREDDITS_FAILED",a="PROFILE__RECEIVED_MODERATED_SUBREDDITS_MODELS",d="PROFILE__RECEIVED_MODERATED_SUBREDDITS_SUBSCRIPTIONS",u="MORE__PROFILE_GQL_MODERATED_PENDING",l="MORE__PROFILE_GQL_MODERATED_LOADED",b="MORE__PROFILE_GQL_MODERATED_FAILED",p="PROFILE__MULTIREDDITS_PENDING",f="PROFILE__MULTIREDDITS_LOADED",m="PROFILE__MULTIREDDITS_FAILED"},"./src/reddit/actions/profile/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/actions/contentGate.ts"),i=n("./src/reddit/actions/pages/profilePrivate/constants.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts");var u=n("./src/graphql/operations/ModeratedSubreddits.json"),l=n("./src/lib/makeGqlRequest/index.ts");var b=n("./src/graphql/operations/RedditorMultireddits.json");var p=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),f=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts");var m=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),O=e=>Object.assign({accountIcon:e.icon_img,awardedLastMonth:e.awarded_last_month?Object(m.c)(e.awarded_last_month):null,commentKarma:e.comment_karma,created:e.created,displayName:e.name,displayNamePrefixed:e.subreddit&&e.subreddit.display_name_prefixed,displayText:e.name,hasUserProfile:!!e.subreddit,hideFromRobots:!!e.hide_from_robots,id:"".concat(s.vb.Account,"_").concat(e.id),isEmployee:e.is_employee,isFollowing:e.has_subscribed,isGold:e.is_gold,isAdmin:e.is_admin,isMod:e.is_mod,isNSFW:!(!e.subreddit||!e.subreddit.over_18),prefShowSnoovatar:e.pref_show_snoovatar,prefShowTwitter:e.pref_show_twitter,postKarma:e.link_karma,url:"/user/".concat(e.name,"/"),username:e.name},e.subreddit?{profileId:e.subreddit.name}:null),g=e=>({commentKarma:e.comment_karma,hasExternalAccount:e.has_external_account,postKarma:e.link_karma,prefShowTwitter:e.pref_show_twitter,publicDescription:e.subreddit?e.subreddit.public_description:"",userIsSubscriber:e.subreddit&&e.subreddit.user_is_subscriber||!1}),j=n("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var y=n("./src/reddit/models/User/index.ts"),_=n("./src/reddit/selectors/profile.ts"),h=n("./src/reddit/selectors/subscriptions.ts"),E=n("./src/reddit/selectors/user.ts"),I=n("./src/reddit/actions/profile/constants.ts");n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return U})),n.d(t,"e",(function(){return B}));const v=Object(r.a)(I.k),S=Object(r.a)(I.j),T=Object(r.a)(I.c),C=Object(r.a)(I.b),w=Object(r.a)(I.a),x=Object(r.a)(I.l),D=Object(r.a)(I.m),P=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=Object(E.i)(t());s&&s.profileId&&await e(A(Object(y.f)(s)))},A=e=>async(t,n,r)=>{let{apiContext:i}=r;const u=n();if(!!(Object(_.j)(u,{profileName:e})&&Object(_.h)(u,{profileName:e})&&Object(E.hb)(u,{userName:e})))return;const l=await((e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about.json"),method:s.bb.GET,data:{gilding_detail:1,awarded_detail:1,raw_json:1}}))(i(),e);l.ok?(l.body&&l.body.data&&l.body.data.is_suspended&&t(Object(o.p)({profileName:e})),t(v(function(e){const{data:t}=e;return Object.assign({about:g(t),banner:t.subreddit&&t.subreddit.banner_img&&{height:t.subreddit.banner_size&&t.subreddit.banner_size[1],url:t.subreddit.banner_img,width:t.subreddit.banner_size&&t.subreddit.banner_size[0]},user:O(t),features:t.features},t.subreddit?{profile:Object(j.a)(t.subreddit,t.name)}:null)}(l.body)))):t(S(l.body))},R=e=>async(t,n,r)=>{let{apiContext:o}=r;const i={profileName:e};if(Object(_.a)(n(),i))return;if(Object(_.k)(n(),i))return;t(T(i));const u=await((e,t)=>Object(c.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/moderated_subreddits.json"),method:s.bb.GET,data:{raw_json:1}}))(o(),e);if(u.ok){const r=function(e){return e?e.map(e=>({communityIcon:e.community_icon,displayText:e.sr_display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.icon_img?e.icon_img:"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18,isQuarantined:!!e.quarantine,name:"user"===e.subreddit_type?e.sr.slice(s.Qb.length):e.sr,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})):[]}(u.body.data);t(C({profileName:e,data:r}));const o={},i={};if(r.forEach(e=>{("user"===e.type?i:o)[e.id]=e}),t(x({subreddits:o,profiles:i})),!Object(h.g)(n())){const e=(e=>{const t=e.filter(e=>e.user_is_subscriber);return{subredditOrder:t.filter(e=>"user"!==e.subreddit_type).map(e=>e.name),profileOrder:t.filter(e=>"user"===e.subreddit_type).map(e=>e.name)}})(u.body.data||[]);t(D(e))}}else t(w(u.body))},N=Object(r.a)(I.f),k=Object(r.a)(I.e),L=Object(r.a)(I.d),U=e=>async(t,n,r)=>{const s=n(),o=e.toLowerCase(),{pageInfo:c}=s.profiles.moderated;if(!c[o]||!c[o].hasNextPage||!c[o].endCursor)return;t(N({profileName:o}));const a=await((e,t)=>Object(l.a)(e,Object.assign({},u,{variables:t})))(r.gqlContext(),{name:o,after:c[o].endCursor,first:i.h}),d=a.body.data;if(a.ok){const e=Object(f.b)(d.redditor.moderatedSubreddits);t(k(Object.assign({profileName:o},e)))}else t(L(a.error))},M=Object(r.a)(I.i),F=Object(r.a)(I.h),G=Object(r.a)(I.g),B=(e,t)=>async(n,r,o)=>{const c=r(),a=e.toLowerCase(),d={profileName:a};if(Object(_.b)(c,d))return;if(!t&&Object(_.l)(c,d))return;const{pageInfo:u}=c.profiles.multireddits;if(t&&(!u[a]||!u[a].hasNextPage||!u[a].endCursor))return;n(M(d));const f=await((e,t)=>Object(l.a)(e,Object.assign({},b,{variables:t})))(o.gqlContext(),{name:a,first:t?i.h:s.Cb,after:t?u[a].endCursor:void 0}),m=f.body.data;if(f.ok){const e=m.redditorInfoByName.multireddits.edges.map(e=>e.node),t=Object(p.b)(e);n(F(Object.assign({},d,t,{pageInfo:m.redditorInfoByName.multireddits.pageInfo,multiredditsModelsState:c.multireddits.models})))}else n(G(Object.assign({},d,{error:f.error})))}},"./src/reddit/actions/profileConversations.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/reddit/actions/pages/profileShared.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/constants/things.ts"),b=n("./src/config.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/reddit/models/RichTextJson/addRTJParam.ts");var m=n("./src/reddit/helpers/makeProfileListingKey/index.ts");n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return x}));const O="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_PENDING",g="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_LOADED",j="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_FAILED",y="PROFILE__EXTRACOMMENTS_PENDING",_="PROFILE__EXTRACOMMENTS_LOADED",h="PROFILE__EXTRACOMMENTS_FAILED",E=Object(a.a)(O),I=Object(a.a)(g),v=Object(a.a)(j),S=Object(a.a)(_),T=Object(a.a)(y),C=Object(a.a)(h),w=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:a}=o.platform;if(!a||!a.routeMatch)return;const{queryParams:l,params:O}=a.routeMatch.match,{sort:g,t:j}=Object(d.a)(o,l),{profileName:y}=O,_=y.toLowerCase(),h=Object(m.a)(_,c.jb,g,l),S=o.listings.postOrder.loadMore[h];if(!S)return;const T=o.listings.postOrder.api.pending[h],{fetchedTokens:C}=o.listings.postOrder,w=!(!C[h]||!C[h][S.token]);if(T||w)return;e(E({key:h,fetchedToken:S.token}));const x=await((e,t,n)=>Object(p.b)(e,{data:n,endpoint:Object(f.a)("".concat(b.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/conversations")),method:c.bb.GET}))(r(),y,Object.assign({after:S.token,dist:S.dist,sort:g,t:j},i()(l,u.j)));if(x.ok){const t=o.listings.postOrder.ids[h],n=Object.assign({},x.body,{postIds:s()(x.body.postIds,t)});e(I(Object.assign({fetchedToken:S.token,key:h,meta:o.meta,profileName:y},n)))}else e(v({error:x.error,fetchedToken:S.token,key:h,account:x.body.data?x.body.data.account:null}))},x=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;if(s().profileOverviewPage.conversations.extraComments.api.pending[n])return;r(T({extraCommentsId:n}));let a=t;t.startsWith(l.b)&&(a=t.slice(l.b.length));const d=n.split("-")[1],u=await((e,t,n,r)=>Object(p.b)(e,{endpoint:Object(f.a)("".concat(b.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/morecomments/").concat(n)),method:c.bb.GET,type:"json",data:{after:r,limit:14}}))(i(),e,a,d);u.ok?r(S(Object.assign({profileName:e,extraCommentsId:n},u.body))):r(C(u.body))}},"./src/reddit/actions/profileOverviewChrono.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return _}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/difference.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),d=n("./src/reddit/selectors/profileOverviewChronoItems.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/reddit/constants/parameters.ts"),b=n("./src/reddit/actions/pages/profileShared.ts"),p=n("./src/reddit/endpoints/page/profileOverviewPage.ts");const f="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_PENDING",m="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_LOADED",O="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_FAILED",g=Object(c.a)(f),j=Object(c.a)(m),y=Object(c.a)(O),_=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t(),{currentPage:c}=o.platform;if(!c||!c.routeMatch)return;const{queryParams:f,params:m}=c.routeMatch.match,{sort:O,t:_}=Object(b.a)(o,f),{profileName:h}=m,E=Object(a.a)(h,u.ib,O,f),I=Object(d.d)(o,{listingKey:E});if(!I)return;const v=Object(d.b)(o,{listingKey:E}),S=Object(d.c)(o,{listingKey:E}),T=S&&S[I.token];if(v||T)return;e(g({key:E,fetchedToken:I.token}));const C=await Object(p.a)(r(),h,Object.assign({after:I.token,dist:I.dist,sort:O,t:_},i()(f,l.j)));if(C.ok){const t=Object(d.f)(o,{listingKey:E}),n=Object.assign({},C.body,{overviewIds:s()(C.body.overviewIds,t)});e(j(Object.assign({fetchedToken:I.token,key:E,meta:o.meta},n)))}else e(y({error:C.error,fetchedToken:I.token,key:E,account:C.body.data?C.body.data.account:null}))}},"./src/reddit/actions/publicAccessNetwork/api.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/post.ts"),o=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),i=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),c=n("./src/reddit/selectors/experiments/publicAccessNetwork.ts"),a=n("./src/reddit/selectors/PublicAccessNetwork/api.ts");const d=Object(r.a)(o.s),u=Object(r.a)(o.D),l=(Object(r.a)(o.E),Object(r.a)(o.F)),b=Object(r.a)(o.N),p=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=Object(a.b)(t()),b=s.values.lastUpdated||0,p=s.values.rpan_config_refresh_rate?1e3*s.values.rpan_config_refresh_rate:o.d;if(!Object(c.a)(t())||s.isPending||Date.now()<b+p||s.isPermanentlyCanceled)return;e(u());const f=await Object(i.a)(r());f.ok&&f.body?e(d(Object.assign({},f.body,{lastUpdated:Date.now()}))):e(l())},f=e=>async(t,n,r)=>{let{gqlContext:s}=r;t(b()),await Object(i.e)(s(),e)},m=e=>async(t,n,r)=>{let{apiContext:o}=r;n().posts.models[e]||await t(Object(s.y)(e))}},"./src/reddit/actions/publicAccessNetwork/constants.ts":function(e,t,n){"use strict";n.d(t,"C",(function(){return s})),n.d(t,"S",(function(){return o})),n.d(t,"R",(function(){return i})),n.d(t,"s",(function(){return c})),n.d(t,"D",(function(){return a})),n.d(t,"F",(function(){return d})),n.d(t,"E",(function(){return u})),n.d(t,"u",(function(){return l})),n.d(t,"v",(function(){return b})),n.d(t,"w",(function(){return p})),n.d(t,"I",(function(){return f})),n.d(t,"H",(function(){return m})),n.d(t,"J",(function(){return O})),n.d(t,"x",(function(){return g})),n.d(t,"G",(function(){return j})),n.d(t,"B",(function(){return y})),n.d(t,"z",(function(){return _})),n.d(t,"O",(function(){return h})),n.d(t,"A",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"t",(function(){return v})),n.d(t,"y",(function(){return S})),n.d(t,"N",(function(){return T})),n.d(t,"n",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return P})),n.d(t,"h",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"k",(function(){return N})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return L})),n.d(t,"T",(function(){return U})),n.d(t,"Q",(function(){return M})),n.d(t,"P",(function(){return F})),n.d(t,"a",(function(){return G})),n.d(t,"l",(function(){return B})),n.d(t,"L",(function(){return q})),n.d(t,"g",(function(){return V})),n.d(t,"i",(function(){return H})),n.d(t,"j",(function(){return W})),n.d(t,"p",(function(){return K})),n.d(t,"o",(function(){return J})),n.d(t,"K",(function(){return Y})),n.d(t,"M",(function(){return z}));var r=n("./src/config.ts");const s="RPAN__REMOVE_STREAM_FROM_HISTORY",o="RPAN__VISIT_STREAM",i=-1,c="RPAN__RECEIVE_CONFIG",a="RPAN__REQUEST_CONFIG",d="RPAN__REQUEST_CONFIG_FAILED",u="RPAN__REQUEST_CONFIG_CANCELED",l="RPAN__RECEIVE_HLS_STREAM_ENDED",b="RPAN__RECEIVE_HLS_STREAM_REMOVED",p="RPAN__RECEIVE_STREAM_MODEL",f="RPAN__REQUEST_STREAM_MODEL",m="RPAN__REQUEST_STREAM_FAILED",O="RPAN__REQUEST_STREAM_MODEL_BATCH",g="RPAN__RECEIVE_STREAM_MODEL_BATCH",j="RPAN__REQUEST_STREAM_BATCH_FAILED",y="RPAN__RECEIVE_VOTE",_="RPAN__RECEIVE_THEATER_SETTINGS",h="RPAN__UPDATE_VIDEO_TIMESTAMP",E="RPAN__RECEIVE_USER_SETTINGS",I="RPAN__BATCH_OP",v="RPAN__RECEIVE_DISCOVERY_UNIT_THUMBNAILS",S="RPAN__RECEIVE_STREAM_PREVIEWS",T="RPAN__SEND_HEARTBEAT",C=0,w=9999,x=30,D=6,P=5,A=5,R=57,N=7e3,k=1e3,L=400,U=1e3,M="https://web.archive.org/web/20191204000722/https://watch.redd.it/",F=".m3u8",G=3e4,B="".concat(r.a.assetPath,"/img/trending-placeholder.png"),q="pan",V=3,H=4,W=1e4,K=500,J=2e3,Y="".concat(r.a.redditUrl,"/r/").concat(q),z="https://web.archive.org/web/20191204000722/https://www.redditinc.com/policies/broadcasting-content-policy"},"./src/reddit/actions/publicAccessNetwork/streams.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return I}));n("./src/config.ts");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),i=n("./src/reddit/constants/things.ts"),c=n("./src/reddit/endpoints/publicAccessNetwork/index.ts"),a=n("./src/reddit/selectors/PublicAccessNetwork/api.ts"),d=n("./src/reddit/selectors/runTimeEnvVars.ts"),u=n("./src/reddit/selectors/user.ts");const l=e=>e.startsWith(i.b)?e.slice(3):e,b=e=>e.startsWith(i.b)?e:"".concat(i.b).concat(e),p=e=>"/".concat(r.xb.PUBLIC_ACCESS_NETWORK).concat(e?"/".concat(l(e)):""),f=Object(s.a)(o.I),m=Object(s.a)(o.w),O=Object(s.a)(o.J),g=Object(s.a)(o.x),j=Object(s.a)(o.H),y=Object(s.a)(o.G),_=Object(s.a)(o.u),h=Object(s.a)(o.v),E=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=b(e),i=n();if(Object(a.f)(i,o))return;t(f(o));const d=await Object(c.b)(s(),o),u=Date.now();if(d.ok&&d.body&&d.body.data){const e=d.body.data;t(m({model:e,utcTimeStamp:u}))}else t(v({streamId:o,error:d.error,utcTimeStamp:u}))},I=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t();if(Object(a.h)(s))return;e(O());const o=s.user&&s.user.loid&&s.user.loid.loid,i=Object(d.b)(s)&&!Object(u.G)(s),l=await Object(c.c)(r(),o,i),b=Date.now();if(l.ok&&l.body&&l.body.data){const t=l.body.data;e(g({models:t,utcTimeStamp:b}))}else e(S({error:l.error,utcTimeStamp:b}))},v=e=>async t=>{t(j(e))},S=e=>async t=>{t(y(e))}},"./src/reddit/actions/publicAccessNetwork/userSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/constants/localStorage.ts"),i=n("./src/reddit/helpers/localStorage/index.ts");const c=Object(r.a)(s.A),a=e=>async t=>{await t(c(e)),t(l())},d=()=>async e=>{const t=u();t&&e(c(t))},u=()=>{return Object(i.n)(o.A)||void 0},l=()=>async(e,t)=>{const n=t().publicAccessNetwork.userSettings;Object(i.Q)(o.A,n)}},"./src/reddit/actions/railsWidgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/lib/makeOnboardingSubredditsKey/index.ts"),i=n("./src/reddit/actions/discoveryUnit.ts"),c=n("./src/reddit/actions/pages/subreddit.ts"),a=n("./src/reddit/actions/pages/subredditLeaderboard.ts"),d=n("./src/reddit/actions/search/trending.ts"),u=n("./src/reddit/actions/subreddit/onboarding.ts"),l=n("./src/reddit/constants/categories.tsx"),b=n("./src/reddit/constants/listings.ts"),p=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),f=n("./src/reddit/selectors/experiments/railsWidgets.ts"),m=n("./src/reddit/selectors/meta.ts"),O=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/subreddit.ts");const j=()=>async(e,t)=>{let n=t();const j=Object(f.e)(n);if(j)if(await Promise.all([e(Object(i.h)()),e(Object(a.b)())]),Object(f.b)(j)){const t=Object(s.a)(b.b.Popular,r.N.TOP);if(Object(O.C)(n,{listingKey:t}).length>0)return;await e(Object(c.i)(t,b.b.Popular,{sort:r.N.TOP}))}else if(Object(f.c)(j))await e(Object(d.b)());else if(Object(f.a)(j)){if(!Object(p.d)(n))return;const i={city:Object(m.a)(n),country:Object(m.b)(n),region:Object(m.i)(n)};await e(Object(u.a)(i)),n=t();const a=Object(o.a)(i),d=Object(g.q)(n,{key:a}),b=Object(l.d)(d),f=Object(s.a)(b,r.N.HOT);if(Object(O.C)(n,{listingKey:f}).length>0)return;await e(Object(c.i)(f,b,{sort:r.N.HOT}))}}},"./src/reddit/actions/recommendations.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/makeActionCreator/index.ts");n("./src/config.ts"),n("./src/lib/constants/index.ts"),n("./src/lib/makeApiRequest/index.ts"),n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),n("./src/reddit/models/RichTextJson/addRTJParam.ts");n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const s="RECOMMENDED_POSTS_FAILED",o="RECOMMENDED_POSTS_LOADED";Object(r.a)(o),Object(r.a)(s)},"./src/reddit/actions/redditEmbed.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/endpoints/me/index.ts"),o=n("./src/reddit/helpers/pageActionLoginRedirect.ts");const i="REDDIT_EMBED_LOADED",c="REDDIT_EMBED_FAILED",a=Object(r.a)("REDDIT_EMBED_PENDING"),d=Object(r.a)(i),u=Object(r.a)(c),l=(e,t)=>async(e,n,r)=>{let{apiContext:i}=r;const c=n();e(a());const l=await Object(s.a)(i());l.ok&&l.body?!t||l.body.account?e(d(l.body)):Object(o.a)(e,c):e(u(l.error))}},"./src/reddit/actions/removalReasons/constants.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"r",(function(){return m})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"m",(function(){return h})),n.d(t,"t",(function(){return E}));const r="REMOVALREASONS__LOAD_PENDING",s="REMOVALREASONS__LOAD_SUCCESS",o="REMOVALREASONS__LOAD_FAILED",i="REMOVALREASONS__ADD_PENDING",c="REMOVALREASONS__ADD_SUCCESS",a="REMOVALREASONS__ADD_FAILED",d="REMOVALREASONS__EDIT_PENDING",u="REMOVALREASONS__EDIT_SUCCESS",l="REMOVALREASONS__EDIT_FAILED",b="REMOVALREASONS__DELETE_PENDING",p="REMOVALREASONS__DELETE_SUCCESS",f="REMOVALREASONS__DELETE_FAILED",m="REMOVALREASONS__SUBMIT_PENDING",O="REMOVALREASONS__SUBMIT_SUCCESS",g="REMOVALREASONS__SUBMIT_FAILED",j="REMOVALREASONS__MESSAGE_PENDING",y="REMOVALREASONS__MESSAGE_PRIVATE_SUCCESS",_="REMOVALREASONS__MESSAGE_PUBLIC_SUCCESS",h="REMOVALREASONS__MESSAGE_FAILED",E="REMOVALREASONS__REMOVEDITEMS_SELECTED"},"./src/reddit/actions/reportFlow.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"j",(function(){return P})),n.d(t,"g",(function(){return A})),n.d(t,"i",(function(){return k}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/login.ts"),i=n("./src/reddit/actions/modal.ts"),c=n("./src/reddit/actions/reportRules.ts"),a=n("./src/reddit/actions/subreddit.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/actions/users.ts"),l=n("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),b=n("./src/reddit/endpoints/post/index.tsx"),p=n("./src/reddit/helpers/isComment.ts"),f=n("./src/reddit/helpers/isPost.ts"),m=n("./src/reddit/models/Post/index.ts"),O=n("./src/reddit/models/Toast/index.ts"),g=n("./src/reddit/selectors/posts.ts"),j=n("./src/reddit/selectors/user.ts");const y="LAYER_REPORT_PREFIX_",_="REPORT__PENDING",h="REPORT__LOADED",E="REPORT__FAILED",I=Object(s.a)(_),v=Object(s.a)(h),S=Object(s.a)(E),T=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=e.id,a=s(),u=a.reportFlow.api.pending[c],l=a.reportFlow.userIsMod;if(u)return;n(I({id:c}));const p=await Object(b.m)(i(),e),f="error-report-".concat(c);if(p.ok)n(v({id:c})),n(d.f(f)),!t.isAbuseOfReportButton&&l&&n(k());else{n(S({id:c}));const s=p.error&&p.error.fields&&p.error.fields.length?p.error.fields[0].msg:"";n(d.e({id:f,kind:O.b.Error,text:s||Object(r.a)(a.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(a.user.language,"reportFlow.reportRequest.retry"),buttonAction:T(e,t)}))}},C="REPORT_FLOW__TARGET_SET",w="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",x=Object(s.a)(C),D=Object(s.a)(w),P=(e,t,n,r)=>async(s,d,l)=>{let{apiContext:b}=l;const O=d(),_=Object(p.a)(e),h=Object(f.a)(e);if(!h&&!_)return;const E=_?O.comments.models[e]:O.posts.models[e];if(!E)return;if(!Object(j.J)(d()))return s(Object(o.f)()),void s(Object(i.k)({actionSource:i.a.Report,redirectUrl:E.permalink}));s(Object(u.B)(E.author));const I=Object(g.T)(O,{postId:_?O.comments.models[e].postId:O.posts.models[e].id}),v=n||h&&Object(m.h)(E)||_&&L(E,O);v||O.reportRules.sitewideRules&&O.reportRules.sitewideRules.length||s(Object(c.d)()),!v||O.reportRules.liveStreamingRules&&O.reportRules.liveStreamingRules.length||s(Object(c.c)()),I&&s(Object(a.o)(I.name,I.type)),s(x(r?y+e:e)),s(D(!!t)),I&&s(N(I.name))},A="REPORT_FLOW__USER_IS_MOD_SET",R=Object(s.a)(A),N=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=await Object(l.a)(s());t(R(o.ok&&!!o.body[e]))},k=()=>async(e,t,n)=>{let{apiContext:r}=n;e(x(null))},L=(e,t)=>{const n=e.postId,r=n&&t.posts.models[n];return!!r&&Object(m.h)(r)}},"./src/reddit/actions/reportPageRules/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="REPORT_PAGE_RULES__LOADED"},"./src/reddit/actions/reportRules.ts":function(e,t,n){"use strict";var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts");n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m}));const d="SITEWIDE_RULES_LOADED",u="LIVESTREAMING_RULES_LOADED",l=Object(s.a)(d),b=Object(s.a)(u),p=Object(r.e)("reportFlow.sectionHeaders.spamAndAbuse"),f=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user||!s.user.language)return;const d=await(e=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/sitewide_rules.json"),method:o.bb.GET}))(r());if(d.ok){const t=d.body,n=O(t.sitewide_rules,s.user.language);e(l(n))}},m=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user||!s.user.language)return;const d=await(e=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:"".concat(e.apiUrl,"/api/livestream_rules.json"),method:o.bb.GET}))(r());if(d.ok){const t=d.body,n=O(t.livestream_rules,s.user.language);e(b(n))}},O=(e,t)=>{let n=[];if(e&&e.length>2){const r={reasonTextToShow:p(t),nextStepReasons:[e[0],e[1]]};n.push(r),n=n.concat(e.slice(2))}return n}},"./src/reddit/actions/scheduledPosts/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return O}));var r=n("./node_modules/fbt/lib/FbtPublic.js");const s="SCHEDULED_POSTS_REQUESTED",o="SCHEDULED_POSTS_LOADED",i="SCHEDULED_POSTS_FAILED",c="SCHEDULED_POST_CREATION_SUCCEEDED",a="SCHEDULED_POST_SUBMIT_NOW_SUCCESS",d="SCHEDULED_POST__EDIT_LOAD",u="SCHEDULED_POST__DELETE_SUCCESS",l=()=>r.fbt._("Whoops! Invalid scheduled post",null,{hk:"35jBb6"}),b=()=>r.fbt._("Unable to delete scheduled post",null,{hk:"23nWms"}),p=()=>r.fbt._("Successfully deleted scheduled post",null,{hk:"1Lk7r2"}),f=()=>r.fbt._("Unable to submit scheduled post",null,{hk:"vCW43"}),m=()=>r.fbt._("Retry",null,{hk:"4bCZ7M"}),O=()=>r.fbt._("Successfully submitted scheduled post!",null,{hk:"ONo6q"})},"./src/reddit/actions/search.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/makeSearchKey/index.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/constants/parameters.ts"),l=n("./src/reddit/actions/pages/subreddit.ts"),b=n("./src/reddit/endpoints/page/search.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),m=n("./src/reddit/constants/headers.ts");var O=async(e,t)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/related_queries_v1.json?query=").concat(t),method:i.bb.GET}),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/selectors/experiments/feedFilters.ts"),y=n("./src/reddit/selectors/searchResults.ts");n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return P})),n.d(t,"e",(function(){return A})),n.d(t,"i",(function(){return R}));const _="SEARCH__MORE_RESULTS_PENDING",h="SEARCH__MORE_RESULTS_RECEIVED",E="SEARCH__MORE_RESULTS_FAILED",I="SEARCH__RELATED_QUERIES_RECEIVED",v="SEARCH__UPDATE_SEARCH_QUERY",S=Object(c.a)(v),T=Object(c.a)(_),C=Object(c.a)(h),w=Object(c.a)(E),x=Object(c.a)(I),D=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(y.g)(o,e);if(i&&i.length>0)return;const c=await O(s(),e);if(c.ok){const n=(e=>({relatedQueries:e.body.related_queries}))(c);t(x({query:e,relatedQueries:n.relatedQueries}))}},P=e=>async(t,n,r)=>{let{apiContext:c}=r;const p=n(),{queryParams:f}=p.platform.currentPage,m=Object(j.a)(p),O=Object(j.d)(m),y=Object(l.d)(f),_=p.platform.currentPage.urlParams.subredditName||p.platform.currentPage.urlParams.multiredditName,{username:h}=p.platform.currentPage.urlParams,E=y&&O?y:s()(f,u.p),I=Object(a.c)(E),v=Object.assign({},I,{sort:I.category?i.Hb.Relevance:I.sort,t:I.category?i.Ob.DAY:I.t}),S=Object(a.b)(_,h,v);let x;if(e.indexOf(i.Jb.Posts)>-1){const e=p.listings.postOrder.loadMore[S];if(!e)return;const t=p.listings.postOrder.api.pending[S],n=p.listings.postOrder.fetchedTokens,r=n[S]&&n[S][e.token];if(t||r)return;x=e.token}else{if(!(e.indexOf(i.Jb.Subreddits)>-1||e.indexOf(i.Jb.Users)>-1))throw new Error("Should not attempt to fetch more results without a search type");{const e=p.listings.listingOrder.loadMore[S];if(!e)return;const t=p.listings.listingOrder.api.pending[S],n=p.listings.listingOrder.fetchedTokens,r=n[S]&&n[S][e.token];if(t||r)return;x=e.token}}const D="error-".concat(S);t(T({fetchedToken:x,key:S,type:e}));const A=await Object(b.a)(c(),_,h,Object.assign({},v,{after:x,type:(I.type||[]).join(","),b:!0}));A.ok?(t(C(Object.assign({key:S,fetchedToken:x,meta:p.meta,subredditOrMultiName:_,type:e},A.body))),t(d.f(D))):(t(w(Object.assign({key:S,error:A.error,fetchedToken:x,meta:p.meta,type:e},A.body))),t(d.e({id:D,kind:g.b.Error,text:Object(o.a)(p.user.language,"search.toast.moreResultsError"),buttonText:Object(o.a)(p.user.language,"search.toast.retryButton"),buttonAction:P(e)})))},A="SEARCH__TYPEAHEAD_SUCCESS",R=Object(c.a)(A)},"./src/reddit/actions/search/trending.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/getUrlQueryParams/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),b=n("./src/reddit/models/Search/index.ts");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const p="PAGE__TRENDING_SEARCHES_LOADED",f=Object(r.a)(p),m=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=await(e=>{const t={withAds:1,ad:Object(c.a)().get("ad")};return Object(a.b)(Object(d.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/trending_searches_v1.json"),method:i.bb.GET,data:t})})(r());if(s.ok){const t=(e=>{const t=[];if(e.body&&e.body.trending_searches){const n=e.body.trending_searches.length;for(let r=0;r<n;r++){const n=e.body.trending_searches[r],s=n.results.data.children.length>0?n.results.data.children[0].data:null,i={id:o()(),post:s?Object(l.a)(s):null,rawQuery:n.query_string,searchQuery:n.display_string,section:b.c.trending,isWhitelisted:n.is_subreddit_whitelisted,subredditInfo:s?{icon:s.sr_detail.community_icon||s.sr_detail.icon_img,displayText:s.sr_detail.display_name_prefixed}:null,subredditOccurrences:n.subreddit_occurences-1,type:b.b.text};t.push(i)}}return t})(s);return e(f({items:t})),t}return null}},"./src/reddit/actions/seo/linksModule.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/loadWithRetries/index.ts");n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));const o="FRONTPAGE_LINKS__REQUEST_LOADED",i=Object(r.a)("FRONTPAGE_LINKS__REQUEST_PENDING"),c=Object(r.a)("FRONTPAGE_LINKS__REQUEST_FAILED"),a=Object(r.a)(o),d=()=>async e=>{e(i());const t=await(async()=>(await Object(s.a)(()=>n.e("FrontpageLinks").then(n.t.bind(null,"./src/reddit/endpoints/goodContent/frontpageLinks.json",3)))).default)();e(t?a(t):c())}},"./src/reddit/actions/shortcuts.ts":function(e,t,n){"use strict";var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/comment/index.ts"),i=n("./src/reddit/actions/emailCollection/index.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),d=n("./src/reddit/actions/post.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/components/Comments/helpers/hiddenComments.ts"),b=n("./src/reddit/components/Settings/modalIds.ts"),p=n("./src/reddit/constants/elementIds.ts"),f=n("./src/reddit/constants/modals.ts"),m=n("./src/reddit/constants/postLayout.ts"),O=n("./src/reddit/constants/shortcuts.ts"),g=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),j=n("./src/reddit/helpers/overlay/index.ts"),y=n("./src/reddit/helpers/routeKey/index.ts"),_=n("./src/reddit/helpers/trackers/lightbox.ts"),h=n("./src/reddit/selectors/telemetry.ts");const E=e=>()=>({source:"shortcuts",action:"submit",noun:e}),I=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,post:h.post(n,t)}),v=(e,t)=>n=>({source:"shortcuts",action:"submit",noun:e,comment:h.comment(n,t)}),S=E("show_panel"),T=E("esc_close"),C=E("c_create_post");E("q_navigation");var w=n("./src/reddit/selectors/activeModalId.ts"),x=n("./src/reddit/selectors/experiments/emailCollection.ts"),D=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),P=n("./src/reddit/selectors/gild.ts"),A=n("./src/reddit/selectors/goldPurchaseModals.ts"),R=n("./src/reddit/selectors/listings.ts"),N=n("./src/reddit/selectors/platform.ts");n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"l",(function(){return F})),n.d(t,"k",(function(){return G})),n.d(t,"p",(function(){return B})),n.d(t,"j",(function(){return q})),n.d(t,"o",(function(){return V})),n.d(t,"t",(function(){return H})),n.d(t,"f",(function(){return W})),n.d(t,"s",(function(){return K})),n.d(t,"h",(function(){return J})),n.d(t,"g",(function(){return Y})),n.d(t,"e",(function(){return z})),n.d(t,"m",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"i",(function(){return $})),n.d(t,"n",(function(){return Z})),n.d(t,"d",(function(){return te})),n.d(t,"r",(function(){return ie}));const k="SHORTCUTS__ACTIVE_COMMENT_SET",L="SHORTCUTS__ACTIVE_POST_SET",U=Object(s.a)(k),M=Object(s.a)(L),F=e=>async(t,n,r)=>{let{apiContext:s}=r;t(Object(c.i)(f.a.KEYBOARD_SHORTCUTS)),e(S)},G=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=i.shortcuts.activePostId,a=i.listings.activeKey,d=i.listings.postOrder.ids[a];if(!c||d&&d.indexOf(c)<0){const e=d[0];return n(M(e)),void se(e)}let u,l=c;do{if(!(u=Object(R.b)(i,{postId:l}))||!u.nextPost)return;l=u.nextPost.id}while(i.posts.models[l].hidden);i.shortcuts.namespace===O.d.Lightbox?(ne(n,u.nextPost),e(t?_.b(c,"next_post",!0):(e=>I("n_next",e))(l))):(n(M(l)),se(l),e((e=>I("j_next",e))(l)))},B=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId,c=o.listings.activeKey,a=o.listings.postOrder.ids[c];if(!i||a&&a.indexOf(i)<0)return t(M(a[0])),void se(a[0]);if(0===a.indexOf(i))return;let d,u=i;do{if(!(d=Object(R.b)(o,{postId:u}))||!d.prevPost)return;u=d.prevPost.id}while(o.posts.models[u].hidden);o.shortcuts.namespace===O.d.Lightbox?(ne(t,d.prevPost),e((e=>I("p_previous",e))(u))):(t(M(u)),se(u),e((e=>I("k_previous",e))(u)))},q=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=re(o);if(!i)return;let c;const a=o.shortcuts.activeCommentId;if(a){const e=o.comments.collapsed[i],t=o.commentsPage.keyToCommentThreadLinkSets[i];if(e[c=a])do{if(!t[c].next)return;c=t[c].next.id}while(l.b(c));else c=t[c].next.id}else{const e=o.commentsPage.keyToHeadCommentId[i];if(!e)return;c=e}t(U(c)),se(c),e((e=>v("j_next",e))(c))},V=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=re(o);if(!i)return;let c;const a=o.shortcuts.activeCommentId;if(a&&a!==o.commentsPage.keyToHeadCommentId[i]){const e=o.commentsPage.keyToCommentThreadLinkSets[i];for(c=e[a].prev.id;l.b(c);)c=e[c].prev.id}else{const e=o.commentsPage.keyToHeadCommentId[i];if(!e||a===e)return;c=e}t(U(c)),se(c),e((e=>v("k_previous",e))(c))},H=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.pb(c)),e((e=>v("a_upvote",e))(c))):a&&(t(d.N(a)),e((e=>I("a_upvote",e))(a))))},W=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.S(c)),e((e=>v("z_downvote",e))(c))):a&&(t(d.o(a)),e((e=>I("z_downvote",e))(a))))},K=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),{activeCommentId:c,activePostId:a}=i.shortcuts,u=re(i);u&&(c&&!i.comments.collapsed[u][c]?(t(o.eb(c)),e((e=>v("s_save",e))(c))):a&&(t(d.G(a)),e((e=>I("s_save",e))(a))))},J=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId;i&&!o.posts.models[i].isSponsored&&(t(d.K(i,!o.posts.models[i].hidden,o.shortcuts.namespace===O.d.Lightbox,!0)),t(G(e)),e((e=>I("h_hide",e))(i)))},Y=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.shortcuts.activePostId,c=m.b[o.user.prefs.layout];if(i&&(c===m.g.Compact||c===m.g.Classic)){const n=o.posts.models[i].crosspostRootId;(o.posts.models[i].media||n&&o.posts.models[n]&&o.posts.models[n].media)&&(t(d.p({postId:i})),e((e=>I("x_expando",e))(i)))}},z=e=>async(t,n,s)=>{let{apiContext:i}=s;const c=n(),a=c.shortcuts.activeCommentId,d=re(c);if(d&&a){if(c.comments.models[a])t(o.lb({commentId:a,commentsPageKey:d,scrollToAndRemeasure:()=>null}));else if(c.continueThreads.models[a]){const e=c.continueThreads.models[a].parentId,n=c.comments.models[e].permalink;t(Object(r.b)(n))}else t(V(e)),t(o.X(d,a));e((e=>v("enter_comment_collapse",e))(a))}},Q=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.listings.activeKey,c=o.listings.postOrder.ids[i],a=o.shortcuts.activePostId;!c||!a||c.indexOf(a)<0||(t(Object(j.a)(o.posts.models[a].permalink)),e((e=>I("enter_open_post",e))(a)))},X=e=>async(t,n,r)=>{let{apiContext:s}=r;const i=n(),c=re(i),{activeCommentId:a}=i.shortcuts;a&&c&&c!==i.listings.activeKey&&(t(o.mb({commentsPageKey:c,parentCommentId:a})),e((e=>v("r_comment",e))(a)))},$=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n();if(!i.user.account)return;const c=Object(N.f)(i),a=c?c.url:"/";t(Object(r.b)("".concat(a,"submit"))),e(C)},Z=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),{activePostId:i}=o.shortcuts;if(i){const t=o.posts.models[i];if(t.source){const n=t.source.url,r=window.open(n,"_blank");r&&r.focus(),e((e=>I("l_go_to_link",e))(i))}}},ee=[A.d,A.q,e=>!!Object(P.d)(e)],te=(e,t,n)=>async(s,d,l)=>{let{apiContext:p}=l;const f=d();for(const e of ee)if(e(f))return;const m=document.activeElement,g=f.shortcuts.activeCommentId,j=re(f);if(m&&"true"===m.contentEditable&&g&&j)s(o.N({parentCommentId:g,commentsPageKey:j})),se(g);else if(f.activeModalId)oe(O.b),Object(w.b)(b.c)&&Object(x.d)(Object(x.a)(f))?s(Object(i.a)()):s(Object(c.i)(f.activeModalId));else if(f.toaster[0])oe(O.b),s(Object(u.f)(f.toaster[0].id));else if(f.shortcuts.namespace===O.d.Lightbox&&f.platform.currentPage){const e=Object(D.f)(f);if(n&&Object(D.d)(e))oe(O.b),s(Object(a.b)({shouldPrepareData:!1}));else{const e=f.platform.currentPage.locationState.closeLocation;e&&(oe(O.b),s(Object(r.b)(e)))}}const{activePostId:y}=f.shortcuts;e(t&&y?_.b(y,"close",!0):T)},ne=(e,t)=>{oe(O.b),e(M(t.id)),document.body.style.overflow="",se(t.id),document.body.style.overflow="hidden",e(Object(j.a)(t.permalink));const n=document.getElementById(p.d);n&&n.scrollTo(0,0)},re=e=>{const t=e.platform.currentPage;if(!t||!t.routeMatch)return;const n=t.routeMatch,r=Object(g.a)(e);return Object(y.c)(n,e,r)},se=e=>{const t=document.getElementById(e);t&&t.focus()},oe=e=>{const t=document.getElementById(e),n=window.scrollX,r=window.scrollY;t&&(t.focus(),window.scrollTo(n,r))},ie=()=>{oe(O.b)}},"./src/reddit/actions/structuredStyles/constants.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return O}));const r="STRUCTURED_STYLES__STYLES_RESET_PENDING",s="STRUCTURED_STYLES__STYLES_RESET_LOADED",o="STRUCTURED_STYLES__STYLES_RESET_FAILED",i="SUBREDDIT__STYLES_PENDING",c="SUBREDDIT__STYLES_LOADED",a="SUBREDDIT__STYLES_FAILED",d="STRUCTURED_STYLES__DRAFT_REPLACED",u="STRUCTURED_STYLES__DRAFT_UPDATED",l="STRUCTURED_STYLES__EDITING_STOPPED",b="STRUCTURED_STYLES__EDITING_STARTED",p="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",f="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",m="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",O="STRUCTURED_STYLES__STYLES_UPDATED_LOADED"},"./src/reddit/actions/structuredStyles/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/react-router-redux/es/index.js"),a=n("./src/lib/filterQueryParams/index.ts"),d=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/reddit/actions/apiRequestState.ts"),l=n("./src/reddit/actions/imageUploads.ts"),b=n("./src/reddit/actions/modal.ts"),p=n("./src/reddit/endpoints/moderator/structuredStyles.ts"),f=e=>Object.assign({},e.postBackgroundColor&&{postBackgroundColor:e.postBackgroundColor},e.postBackgroundImage&&{postBackgroundImage:e.postBackgroundImage},e.postPlaceholderImage&&{postPlaceholderImage:e.postPlaceholderImage},e.postTitleColor&&{postTitleColor:e.postTitleColor}),m=n("./src/reddit/selectors/postFlair.ts"),O=n("./src/reddit/selectors/subreddit.ts"),g=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const j=Object(d.a)(g.c),y=Object(d.a)(g.b),_=Object(d.a)(g.a);var h=n("./src/reddit/actions/widgets/index.ts"),E=n("./src/reddit/constants/modals.ts"),I=n("./src/reddit/helpers/getGenericUploadError.ts"),v=n("./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts"),S=n("./src/reddit/helpers/media/index.ts"),T=n("./src/reddit/models/Image/index.tsx"),C=n("./src/reddit/models/StructuredStyles/index.ts"),w=n("./src/reddit/selectors/activeModalId.ts"),x=n("./src/reddit/selectors/platform.ts"),D=n("./src/reddit/selectors/structuredStyles.ts"),P=n("./src/reddit/selectors/user.ts"),A=n("./src/reddit/helpers/trackers/blade.ts"),R=n("./src/telemetry/index.ts"),N=n("./src/reddit/actions/structuredStyles/constants.ts");n.d(t,"l",(function(){return k})),n.d(t,"k",(function(){return M})),n.d(t,"j",(function(){return q})),n.d(t,"e",(function(){return H})),n.d(t,"d",(function(){return K})),n.d(t,"g",(function(){return Y})),n.d(t,"c",(function(){return Q})),n.d(t,"f",(function(){return $})),n.d(t,"b",(function(){return Z})),n.d(t,"m",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"i",(function(){return re}));const k=Object(d.a)(N.m),L={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},U=e=>{const t=Object.assign({},e);return Object.keys(e).forEach(n=>{L[n]&&!e[n]&&L[n].forEach(e=>t[e]=null)}),t},M=(e,t,n,r)=>async(s,o,i)=>{const{apiContext:c}=i,a=o(),d=U(t),b=a.structuredStyles.models[e];let f;for(const e in d)if(d[e]!==b[e]){f=!0;break}if(!f)return;s(Object(u.h)(r));const m=Object(A.i)(n)(a);let g=null,j=null;try{(g=await Object(l.f)(o(),T.a.StructuredStyles))&&(j=Object(l.m)(g)(s,o,i))}catch(E){const e=Object(I.a)("webSocket");return void s(Object(u.f)(r,e))}const y=Object(O.S)(a,{subredditId:e}).name,_=await p.e(c(),y,d),h={};if(_.ok){if(j)try{await j}catch(E){}const n=Object(D.g)(o(),{apiRequestId:r});for(const e in n)if(e in t){const t=Object(D.h)(o(),{name:e});t&&Object(T.j)(t)&&(h[e]=n[e])}Object.keys(h).length&&s(W(h)),s(Object(u.e)(r)),s(k({subredditId:e,styles:Object.assign({},d,h)}))}else g&&g.websocket.close(),s(Object(u.f)(r,_.error));Object(R.a)(Object.assign({},m,{actionInfo:Object.assign({},m.actionInfo,{success:_.ok})}))},F=Object(d.a)(N.l),G=Object(d.a)(N.k),B=Object(d.a)(N.j),q=e=>async(t,n,r)=>{let{apiContext:s}=r;t(F({subredditId:e}));const o=Object(O.S)(n(),{subredditId:e}).name,i=await p.f(s(),o);if(i.ok){const r=n().structuredStyles.models[e],s=r?r.mobileKeyColor:null;t(G({subredditId:e,styles:{mobileKeyColor:s}}))}else t(B(Object.assign({subredditId:e},i.error)))},V=Object(d.a)(N.d),H=e=>async(t,n,r)=>{const s=n(),o=s.structuredStyles.models[e]||{},i=Object(P.U)(s);t(V({isNightmodeOn:i,styles:o,subredditId:e})),ce(e,!1)(t,n,r),(e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n(),i=Object(O.S)(o,{subredditId:e});if(!i)return;const c=Object(m.d)(o,{subredditId:e}),a=c&&c.templateIds;if(!a||!a.length)return;t(j({subredditId:e}));const d=await Object(p.a)(s(),i.name,a);if(d.ok){const n={};if(d.body){const{data:e}=d.body;if(e&&e.subreddit)for(const t of e.subreddit.postFlairStyleTemplates)n[t.id]=f(t)}t(y({subredditId:e,templates:n}))}else t(_({subredditId:e,error:d.error}))})(e)(t,n,r),Object(h.g)(e,!1)(t,n,r)},W=Object(d.a)(N.c),K=e=>async(t,n,r)=>{const s=U(e),o=n();for(const e in s)if(Object(C.k)(e))if(s[e]){if("string"!=typeof s[e]){const o=s[e],i=await Object(T.e)(o);Y(e,i)(t,n,r),s[e]=""}}else{const n=Object(D.h)(o,{name:e});n&&t(Object(l.h)(n))}t(W(s))},J=Object(d.a)(N.f),Y=(e,t,n)=>async(r,s,o)=>{const i=s(),c=n||i.structuredStyles.isEditing,a=Object(O.S)(i,{subredditId:c}).name;r(J({imageKey:e,uploadId:t.id})),r(Object(l.k)(t));const d=await p.d(o.apiContext(),a,t.file.name,e,await Object(S.g)(t.file));try{const n=await Object(l.g)(s(),d,t,T.a.StructuredStyles);if(n){const t=n.url;r(Object(l.j)(n)),r(W({[e]:t}))}}catch(u){if(u instanceof Error)throw u;r(Object(l.i)(u))}},z=Object(d.a)(N.b),Q=(e,t,n)=>async(r,o,c)=>{const a=o(),d=a.structuredStyles.models[e]||{},u=a.structuredStyles.draft,l=Object(A.h)(t)(a);if(n){const t=i()(d,n),o=s()(u,n),c=Object.assign({},o,t);r(z({subredditId:e,styles:c}))}else{r(z({subredditId:e,styles:d}))}Object(R.a)(l)},X=Object(d.a)(N.e),$=()=>async(e,t,n)=>{const r=t(),s=Object(P.V)(r),o=!!Object(x.a)(r);if(e(X({nightmodeTempUpdated:s})),o)return;const{url:i}=r.platform.currentPage;i&&e(Object(c.c)(Object(a.a)(i,["styling","route"])))},Z=Object(d.a)(N.a),ee=Object(d.a)(N.n),te=()=>async e=>e($()),ne=e=>async(t,n)=>{const r=n(),s=Object(D.j)(r);!Object(w.b)(E.a.BLADE_UNSAVED_CHANGES)(r)&&s&&(Object(D.a)(r,{subredditId:e})?t(Object(b.i)(E.a.BLADE_UNSAVED_CHANGES)):t(te()))},re=e=>async(t,n)=>{const r=n();Object(D.j)(r)||t(Object(P.U)(r)?Object(b.i)(E.a.BLADE_NIGHTMODE):H(e))},se=Object(d.a)(N.i),oe=Object(d.a)(N.h),ie=Object(d.a)(N.g),ce=(e,t)=>async(n,r,s)=>{let{gqlContext:o,apiContext:i}=s;n(se({subredditId:e}));const c=Object(O.S)(r(),{subredditId:e});if(!c)return;if(!t){const r=await p.c(i(),c.name,t);if(r.ok){const t=r.body,s=t.data?t.data.style:{};n(oe({subredditId:e,styles:s}))}else n(ie(Object.assign({subredditId:e},r.error)));return}const a=await p.b(o(),c.name);if(a.ok){let t={};if(a.body){const{data:e}=a.body;e&&e.subreddit&&e.subreddit.styles&&(t=Object(v.a)(e.subreddit.styles))}n(oe({subredditId:e,styles:t}))}else n(ie(Object.assign({subredditId:e},a.error)))}},"./src/reddit/actions/subreddit.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/listingSort/index.ts"),a=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/lib/makeListingKey/index.ts"),u=n("./src/reddit/actions/economics/helpers/async.ts"),l=n("./src/reddit/actions/modal.ts"),b=n("./src/reddit/actions/oldSiteRules.ts"),p=n("./src/reddit/actions/preferences.ts"),f=n("./src/reddit/actions/subredditRules/constants.ts"),m=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/constants/modals.ts"),g=n("./src/reddit/constants/parameters.ts"),j=n("./src/reddit/constants/postLayout.ts"),y=n("./src/reddit/contexts/PageLayer/index.tsx"),_=n("./src/reddit/endpoints/governance/posts.ts"),h=n("./src/lib/makeApiRequest/index.ts"),E=n("./src/lib/omitHeaders/index.ts"),I=n("./src/reddit/constants/headers.ts"),v=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var S=n("./src/reddit/endpoints/modQueue/index.ts"),T=n("./src/reddit/endpoints/page/subredditPage.ts"),C=n("./src/reddit/endpoints/subreddit/about.ts"),w=n("./src/reddit/endpoints/subreddit/rules.ts"),x=n("./src/reddit/endpoints/user/preferences.ts"),D=n("./src/reddit/helpers/filterListingResponse/index.ts"),P=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),A=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),R=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),N=n("./src/reddit/i18n/utils.ts"),k=n("./src/reddit/models/Subreddit/index.ts"),L=n("./src/reddit/models/Toast/index.ts"),U=n("./src/reddit/models/User/index.ts"),M=n("./src/reddit/selectors/experiments/gqlSubredditPage.ts"),F=n("./src/reddit/selectors/oldSiteRules.ts"),G=n("./src/reddit/selectors/profile.ts"),B=n("./src/reddit/selectors/subreddit.ts"),q=n("./src/reddit/selectors/user.ts");n.d(t,"m",(function(){return V})),n.d(t,"l",(function(){return H})),n.d(t,"k",(function(){return W})),n.d(t,"j",(function(){return K})),n.d(t,"i",(function(){return J})),n.d(t,"h",(function(){return Y})),n.d(t,"d",(function(){return z})),n.d(t,"t",(function(){return Q})),n.d(t,"s",(function(){return X})),n.d(t,"r",(function(){return $})),n.d(t,"p",(function(){return Z})),n.d(t,"o",(function(){return re})),n.d(t,"u",(function(){return ie})),n.d(t,"g",(function(){return ce})),n.d(t,"f",(function(){return ae})),n.d(t,"e",(function(){return de})),n.d(t,"q",(function(){return pe})),n.d(t,"b",(function(){return fe})),n.d(t,"c",(function(){return me})),n.d(t,"a",(function(){return Oe})),n.d(t,"v",(function(){return _e})),n.d(t,"n",(function(){return he}));const V="SUBREDDIT__MODEL_SUCCEEDED",H="SUBREDDIT__MODEL_PENDING",W="SUBREDDIT__MODEL_FAILED",K="SUBREDDIT__MORE_POSTS_PENDING",J="SUBREDDIT__MORE_POSTS_LOADED",Y="SUBREDDIT__MORE_POSTS_FAILED",z="SUBREDDIT__META_FILTER_TOGGLED",Q=Object(a.a)(K),X=Object(a.a)(J),$=Object(a.a)(Y),Z=Object(a.a)(z),ee=Object(a.a)(f.b),te=Object(a.a)(f.c),ne=Object(a.a)(f.a),re=(e,t)=>async(n,r)=>{await(t===k.b.User?n(se(e)):n(oe(e))),0===Object(F.a)(r()).length&&n(Object(b.b)())},se=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=Object(G.m)(n(),e),i=await Object(w.c)(s(),e);if(i.ok){const e=i.body;t(ee({rules:e,subredditId:o}))}},oe=e=>async(t,n,r)=>{let{gqlContext:s}=r;const i=Object(B.G)(n(),e),c=Object(q.S)(n());t(te());const a=await Object(w.b)(s(),e);if(a.ok){const e=a.body;t(ee({rules:e,subredditId:i}))}else{t(ne());const n="error-block-".concat(e);t(m.e({id:n,kind:L.b.Error,text:Object(o.a)(c,"error.tryAgainLater")}))}},ie=e=>async(t,n,r)=>{let{apiContext:o,gqlContext:i}=r;const{subredditName:a}=e;let l=e.t;const b=Object(P.a)(e),p=n(),f=p.platform.currentPage?p.platform.currentPage.queryParams:{},m=Object(d.a)(a,b,Object.assign({t:l},f)),O=p.listings.postOrder.loadMore[m],h=p.listings.postOrder.listingSort[m];let E=b;if(h&&!E){const e=Object(c.d)(h.sort);E=e.sort,l=e.timeSort}const I=p.listings.postOrder.api.pending[m],{fetchedTokens:v}=p.listings.postOrder,S=!(!v[m]||!v[m][O.token]);if(I||S)return;t(Q({key:m,fetchedToken:O.token}));const C=Object.assign({after:O.token,dist:O.dist,layout:j.e[Object(y.M)(p,{})],sort:E,t:l},s()(f,[...g.j,g.f]));C[g.f]||(C[g.f]=p.user.prefs.geopopular||p.meta.country);const w=Object(M.a)(p)?()=>Object(T.b)(i(),Object(T.c)(p,a,Object.assign({},C,{limit:j.a})),Object(q.Q)(p)):()=>Object(T.a)(o(),a,C),x=await w(),A=Object.assign({},x.body,Object(D.a)(p,m,x.body));if(x.ok){let e;const r=A.postIds.filter(e=>!!A.posts[e].isMeta),s=Object(B.G)(n(),a);if(r.length){const t=await Object(_.a)(o(),s,r);t.ok&&(e=t.body)}t(X(Object.assign({fetchedToken:O.token,key:m,meta:p.meta,governance:e},A))),await t(Object(u.a)({subredditId:s,postIds:A.postIds,skip:["communityDetails","subscription"]}))}else t($(Object.assign({error:x.error,fetchedToken:O.token,key:m},A)))},ce="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",ae="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",de="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",ue=Object(a.a)(ce),le=Object(a.a)(ae),be=Object(a.a)(de),pe=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();if(!s.user.account||s.subreddits.moderated.api.fetched)return;e(ue());const o=await Object(S.b)(r(),i.fb.Modqueue,{moderated:!0,moderated_limit:50});o.ok?e(le(o.body)):e(be({error:o.error}))},fe="SUBREDDIT__ABOUT_PENDING",me="SUBREDDIT__ABOUT_SUCCEEDED",Oe="SUBREDDIT__ABOUT_FAILED",ge=Object(a.a)(fe),je=Object(a.a)(me),ye=Object(a.a)(Oe),_e=e=>async(t,n,r)=>{let{gqlContext:s}=r;const o=n();if(Object(B.y)(o,{subredditName:e})||o.subreddits.api.about.error[e.toLowerCase()]||o.subreddits.api.about.pending[e.toLowerCase()])return;t(ge({subredditName:e}));const i=!Object(B.G)(o,e),c=await Object(C.a)(s(),e,i);if(c.ok){const n=c.body.data.subreddit,r=Object(A.a)(n),s=i?Object(R.a)(n):void 0;t(je({subredditName:e,subreddits:s?{[s.id]:s}:void 0,data:r}))}else t(ye({subredditName:e,error:c.error}))},he=(e,t,n)=>async(r,s,o)=>{let{apiContext:c}=o;const a=Object(B.G)(s(),e.substring(2)),d=Object(q.i)(s());if(d){const s=Object(U.f)(d),o=t+"\n\n   *To approve this user*, visit [the approved users page for "+e+"](https://www.reddit.com/"+e+"/about/contributors?user="+s+') and click "ADD USER".\n    Approving this user gives them permission to '+n+". You can change these community restrictions from the [community settings](/"+e+"/about/edit) page.\n\n   To get more information about this user, visit the profile page of [u/"+s+"](/u/"+s+") or reply to this message to start a conversation.",u={to:"/".concat(e),subject:Object(N.c)("I would like to join ".concat(Object(N.b)("displayName",e))),text:o};if((await((e,t)=>Object(h.b)(Object(E.a)(e,[I.a]),{endpoint:Object(v.a)("".concat(e.apiUrl,"/api/compose")),method:i.bb.POST,data:t}))(c(),u)).ok){const e=new Date,t={isContributorRequestTimestamp:e.setDate(e.getDate())};r(Object(p.C)({subredditId:a,prefs:t})),Object(x.h)(a,t,c()),r(Object(l.i)(O.a.CONTRIBUTOR_REQUEST_PENDING))}}}},"./src/reddit/actions/subreddit/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"q",(function(){return y}));const r="SUBREDDIT__ADD_TOP_SUBREDDIT_MODELS",s="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS",o="SUBREDDIT__ADD_TOP_SUBREDDIT_RANKINGS_PAGE_INFO",i="SUBREDDIT__POSTS_LOADED",c="SUBREDDIT__POSTS_SET_FAILED",a="SUBREDDIT__RANKINGS_PENDING",d="SUBREDDIT__RANKINGS_LOADED",u="SUBREDDIT__RANKINGS_FAILED",l="SUBREDDIT__SIMILAR_SUBREDDITS_PENDING",b="SUBREDDIT__SIMILAR_SUBREDDITS_LOADED",p="SUBREDDIT__SIMILAR_SUBREDDITS_FAILED",f="SUBREDDIT__ONBOARDING_SUBREDDITS_PENDING",m="SUBREDDIT__ONBOARDING_SUBREDDITS_LOADED",O="SUBREDDIT__ONBOARDING_SUBREDDITS_FAILED",g="SUBREDDIT__EDIT_REQUESTED",j="SUBREDDIT__EDIT_FAILED",y="SUBREDDIT__EDIT_SUCCESS"},"./src/reddit/actions/subreddit/onboarding.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/makeOnboardingSubredditsKey/index.ts"),o=n("./src/reddit/actions/subreddit/constants.ts"),i=n("./src/reddit/endpoints/category/subreddits.ts"),c=n("./src/lib/constants/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/omitHeaders/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/selectors/subreddit.ts");n.d(t,"a",(function(){return m}));const b=Object(r.a)(o.f),p=Object(r.a)(o.e),f=Object(r.a)(o.d),m=e=>async(t,n,r)=>{let{apiContext:o}=r;const m=n(),O=Object(s.a)(e),g=Object(l.r)(m,{key:O}),j=Object(l.p)(m,{key:O});if(g||j.length>0)return;t(b({key:O}));const y=await((e,t)=>Object(a.b)(Object(d.a)(e,[u.a]),{data:{city:t.city||void 0,country:t.country||void 0,region:t.region||void 0},endpoint:"".concat(e.apiUrl,"/api/subreddit_onboarding.json"),method:c.bb.GET}))(o(),e);if(y.ok){const e=Object(i.b)(y.body);t(p(Object.assign({key:O},e)))}else{const e=y.error;t(f({key:O,error:e}))}}},"./src/reddit/actions/subreddit/similarSubreddit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return b}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subreddit/constants.ts"),o=n("./src/reddit/endpoints/category/subreddits.ts"),i=n("./src/reddit/endpoints/subreddit/similar.ts"),c=n("./src/reddit/selectors/subreddit.ts");const a=e=>{let t=e.subredditIds.join(",");return e.count&&(t+="--[count:'".concat(e.count,"']")),e.variant&&(t+="--[variant:'".concat(e.variant,"']")),t.toLowerCase()},d=Object(r.a)(s.n),u=Object(r.a)(s.m),l=Object(r.a)(s.l),b=e=>async(t,n,r)=>{let{apiContext:s}=r;const b=n(),p=a(e),f=Object(c.w)(b,{key:p}),m=Object(c.v)(b,{key:p});if(f||m.length>0)return;t(d({key:p}));const O=await Object(i.b)(s(),e);if(O.ok){const e=Object(o.b)(O.body);t(u(Object.assign({key:p},e)))}else{const e=O.error;t(l({key:p,error:e}))}}},"./src/reddit/actions/subreddit/subredditPosts.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/subreddit/constants.ts"),c=n("./src/reddit/endpoints/subreddit/posts.ts"),a=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts");n.d(t,"a",(function(){return l}));const d=Object(s.a)(i.h),u=Object(s.a)(i.g),l=e=>async(t,n,s)=>{let{gqlContext:i}=s;try{const s=n(),u=s.posts&&s.posts.models,l=(await Object(c.a)(i(),e)).body,{posts:b}=l&&l.data&&l.data.subreddit,p=((e,t)=>{const{edges:n}=e,r=n.filter(e=>(e=>!e.node.crosspostRoot)(e)&&((e,t)=>!t.hasOwnProperty(e.node.id))(e,t));return Object.assign({},e,{edges:r})})(b,u);if(!p.edges.length)return;const f=(e=>{let{edges:t}=e;const n=[];for(const{node:r}of t)n.push(Object(a.d)(r));return n})(p),{range:m,sort:O,subredditName:g}=e,j=Object(o.a)(g,r.N[O],{t:m}),y=(e=>e.reduce((e,t)=>(e[t.id]=t,e),{}))(f),_=f.map(e=>e.id),h={dist:b.dist,key:j,meta:s.meta,postIds:_,posts:y};t(d(h))}catch(l){u(l)}}},"./src/reddit/actions/subreddit/topSubreddits.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("./node_modules/lodash/sampleSize.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/subreddit/constants.ts"),c=n("./src/reddit/constants/subredditLeaderboard.ts"),a=n("./src/reddit/endpoints/subreddit/models.ts"),d=n("./src/reddit/endpoints/subreddit/topSubreddits.ts"),u=n("./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts"),l=n("./src/reddit/selectors/experiments/upAndComingLeaderboard.ts");const b=Object(o.a)(i.k),p=Object(o.a)(i.j),f=Object(o.a)(i.i),m=Object(o.a)(i.a),O=Object(o.a)(i.b),g=Object(o.a)(i.c),j=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;if(t===c.l)return void(Object(l.d)(r())&&n(y()));n(b());const i=await Object(d.a)(o(),e);if(i.ok){const e=i.body,r=e&&e.data&&e.data.subredditLeaderboard,{pageInfo:s,rankings:o,subreddits:c}=Object(u.b)(r);n(m({subreddits:c})),n(O({categoryRankingsKey:t,rankings:o})),n(g({categoryRankingsKey:t,pageInfo:s})),n(p())}else{const e=i.error;n(f({error:e}))}},y=()=>async(e,t,n)=>{let{gqlContext:r}=n;const o=s()(Object(l.c)(t())?l.b:l.a,25);e(b());const i=await Object(a.a)(r(),{names:o});if(!i.ok){const t=i.error;return void e(f({error:t}))}const d=i.body,g=d&&d.data&&d.data.subredditsInfoByNames,{rankings:j,subreddits:y}=Object(u.a)(g);e(m({subreddits:y})),e(O({categoryRankingsKey:c.l,rankings:j})),e(p())}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/graphql/operations/SubredditTypeaheadSearch.json"),o=n("./src/lib/makeGqlRequest/index.ts"),i=(e,t)=>Object(o.a)(e,Object.assign({},s,{variables:t})),c=n("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts"),a=e=>{let{allowedPostTypes:t,id:n,isCrosspostDestination:r,isNsfw:s,name:o,styles:i,subscribersCount:a}=e;return{allowedPostTypes:Object(c.a)(t),communityIcon:i&&i.icon||"",icon:i&&i.legacyIcon&&i.legacyIcon.url||"",id:n,isCrosspostDestination:r,isNsfw:s,name:o,primaryColor:i&&i.primaryColor||"",subscribers:a}},d=n("./src/reddit/helpers/name/index.ts"),u=n("./src/reddit/selectors/subredditAutocomplete.ts");n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return g}));const l="SUBREDDIT_AUTOCOMPLETE__PENDING",b="SUBREDDIT_AUTOCOMPLETE__LOADED",p="SUBREDDIT_AUTOCOMPLETE__FAILED",f=Object(r.a)(l),m=Object(r.a)(b),O=Object(r.a)(p),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r,s)=>{let{gqlContext:o}=s;const c=Object(d.f)(e);if(!c)return;const l=r(),b=l.subredditAutocomplete;if(b.api.pending[c]||b.models[c])return;if(Object(u.b)(l,{substring:c}))return;n(f({key:c}));const p=await i(o(),{query:c,includeNsfw:t});if(p.ok){const e=p.body.data.subredditTypeahead.subreddits.edges.map(e=>a(e.node));n(m(Object.assign({key:c},{key:c,subreddits:e})))}else n(O({key:c,error:p.error}))}}},"./src/reddit/actions/subredditCreation.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");const u=e=>({public_description:e.publicDescription,name:e.name,type:e.type,over_18:e.over18,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,existing_tags:e.existingTags.join(","),new_tags:e.newTags.join(",")});var l=n("./src/reddit/helpers/trackers/subredditCreation.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/telemetry/index.ts");n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E}));const f="SUBREDDIT__CREATE_PENDING",m="SUBREDDIT__CREATE_SUCCEEDED",O="SUBREDDIT__CREATE_FAILED",g="SUBREDDIT__CREATE_CLEARED",j=Object(s.a)(f),y=Object(s.a)(m),_=Object(s.a)(O),h=Object(s.a)(g),E=e=>async(t,n,s)=>{let{apiContext:f}=s;const m=n(),{name:O,type:g}=e;if(Object(b.l)(m))return;t(j({subredditName:O}));const h=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{endpoint:Object(d.a)("".concat(e.apiUrl,"/api/v1/subreddit/create_subreddit")),method:o.bb.POST,data:u(t)}))(f(),e);if(h.ok){const n=h.body,s=n.fullname;Object(p.a)(Object(l.c)(g,e,s)(m)),t(y({subredditName:O})),window.location.href="".concat(r.a.redditUrl).concat(n.path,"new")}else h.error&&Object(p.a)(Object(l.d)(h.error.type)(m)),t(_({subredditName:O,error:h.error}))}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subscription/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/omitHeaders/index.ts"),a=n("./src/reddit/constants/headers.ts"),d=n("./src/reddit/selectors/subreddit.ts");n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m}));const u="SUBREDDIT_CROSSPOSTABLE__PENDING",l="SUBREDDIT_CROSSPOSTABLE__LOADED",b="SUBREDDIT_CROSSPOSTABLE__FAILED",p=(Object(r.a)(u),Object(r.a)(l)),f=Object(r.a)(b),m=()=>async(e,t,n)=>{let{apiContext:r}=n;await e(s.e());const{api:u,ids:l}=t().subreddits.crosspostable;if(u.pending||Object.keys(l).length)return;const b=await((e,t)=>Object(i.b)(Object(c.a)(e,[a.a]),{data:t,endpoint:"".concat(e.apiUrl,"/api/crosspostable_subreddits.json"),method:o.bb.GET}))(r(),{sr_detail:!1});if(b.ok){const n=t(),r=b.body&&b.body.length?b.body.map(e=>Object(d.G)(n,e)).filter(e=>!!e).reduce((e,t)=>(e[t]=!0,e),{}):{};e(p({subredditIds:r}))}else e(f({error:b.error}))}},"./src/reddit/actions/subredditDifficulty/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const r="SUBREDDIT__DIFFICULTY_LOADED",s="SUBREDDIT__DIFFICULTY_FAILED"},"./src/reddit/actions/subredditDifficulty/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/subredditDifficulty/constants.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/graphql/operations/SubredditDifficulty.json"),c=n("./src/lib/makeGqlRequest/index.ts");var a=n("./src/reddit/i18n/utils.ts"),d=n("./src/reddit/models/Toast/index.ts"),u=n("./src/reddit/selectors/subredditDifficulty.ts");n.d(t,"a",(function(){return p}));const l=Object(r.a)(s.b),b=Object(r.a)(s.a),p=e=>async(t,n,r)=>{let{gqlContext:s}=r;if(Object(u.a)(n(),{subredditId:e}))return;const p=await((e,t)=>Object(c.a)(e,Object.assign({},i,{variables:t})))(s(),{ids:[e]});if(p.ok){const n=p.body.data;n?t(l({subredditId:e,subreddits:n.subreddits})):(t(b(e)),t(o.e({id:"error-block-subredditDifficulty",kind:d.b.Error,text:Object(a.c)("Something went wrong")})))}else t(b(e)),t(o.e({id:"error-block-subredditDifficulty",kind:d.b.Error,text:Object(a.c)("Something went wrong")}))}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/config.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/Post/index.ts");var a=n("./src/reddit/models/Duplicates/index.ts"),d=n("./src/reddit/models/Subreddit/index.ts"),u=n("./src/reddit/selectors/profile.ts"),l=n("./src/reddit/selectors/subreddit.ts");n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));const b="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",p=(Object(r.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(r.a)(b)),f=(e,t)=>async(n,r,b)=>{let{apiContext:f}=b;const m=Object(l.S)(r(),{subredditId:e})||Object(u.p)(r(),{profileId:e});if(!m)return;const O={crossposts_only:!0,sort:"new",sr:Object(d.d)(m)?s.Qb+m.name:m.name},g=await((e,t,n)=>Object(i.b)(e,{data:n,endpoint:"".concat(o.a.gatewayUrl,"/desktopapi/v1/duplicates/").concat(Object(c.m)(t)),method:s.bb.GET}))(f(),t,O);if(g.ok){const r=g.body;n(p({distinguishKey:Object(a.a)(t,O),postIds:r.postIds,posts:r.posts,profiles:r.profiles,subreddits:r.subreddits,subredditId:e}))}}},"./src/reddit/actions/subredditMention/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r="SUBREDDIT_MENTION_LOADED",s="SUBREDDIT__MODEL_SUCCEEDED",o="SUBREDDIT__MODEL_PENDING",i="SUBREDDIT__MODEL_FAILED"},"./src/reddit/actions/subredditModeration.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/get.js"),s=n.n(r),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/app/strings/index.ts"),c=n("./src/reddit/actions/apiRequestState.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/subreddit.ts"),u=n("./src/reddit/actions/toaster.ts"),l=n("./src/reddit/constants/modals.ts"),b=n("./src/lib/constants/index.ts"),p=n("./src/lib/makeApiRequest/index.ts"),f=n("./src/lib/omitHeaders/index.ts"),m=n("./src/reddit/constants/headers.ts");const O=(e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/contributors"),method:b.bb.GET,data:n});var g=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const j=(e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:Object(g.a)("".concat(e.apiUrl,"/api/v1/").concat(t,"/banned")),method:b.bb.GET,data:n}),y=(e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators"),method:b.bb.GET,data:Object.assign({},n,{count:10})}),_=(e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_invited"),method:b.bb.GET,data:Object.assign({},n,{count:50})}),h=(e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/muted"),method:b.bb.GET,data:n});var E=n("./src/reddit/helpers/normalizeUsername/index.tsx"),I=n("./src/reddit/i18n/utils.ts"),v=n("./src/reddit/models/ModeratingSubreddits/index.ts"),S=n("./src/reddit/models/SubredditModeration/index.ts"),T=n("./src/reddit/models/Toast/index.ts"),C=n("./src/reddit/models/User/index.ts"),w=n("./src/reddit/selectors/activeModalId.ts"),x=n("./src/reddit/selectors/subreddit.ts"),D=n("./src/reddit/selectors/subredditModeration.ts"),P=n("./src/reddit/selectors/user.ts");n.d(t,"J",(function(){return A})),n.d(t,"H",(function(){return R})),n.d(t,"G",(function(){return N})),n.d(t,"ib",(function(){return M})),n.d(t,"M",(function(){return F})),n.d(t,"L",(function(){return G})),n.d(t,"K",(function(){return B})),n.d(t,"jb",(function(){return W})),n.d(t,"I",(function(){return K})),n.d(t,"N",(function(){return J})),n.d(t,"ob",(function(){return Q})),n.d(t,"hb",(function(){return X})),n.d(t,"e",(function(){return $})),n.d(t,"d",(function(){return Z})),n.d(t,"c",(function(){return ee})),n.d(t,"V",(function(){return se})),n.d(t,"h",(function(){return oe})),n.d(t,"g",(function(){return ie})),n.d(t,"f",(function(){return ce})),n.d(t,"W",(function(){return le})),n.d(t,"b",(function(){return be})),n.d(t,"i",(function(){return pe})),n.d(t,"U",(function(){return Oe})),n.d(t,"mb",(function(){return ge})),n.d(t,"m",(function(){return je})),n.d(t,"l",(function(){return ye})),n.d(t,"k",(function(){return _e})),n.d(t,"Z",(function(){return ve})),n.d(t,"p",(function(){return Se})),n.d(t,"o",(function(){return Te})),n.d(t,"n",(function(){return Ce})),n.d(t,"ab",(function(){return Pe})),n.d(t,"j",(function(){return Ae})),n.d(t,"q",(function(){return Re})),n.d(t,"Y",(function(){return Le})),n.d(t,"nb",(function(){return Ue})),n.d(t,"C",(function(){return Me})),n.d(t,"B",(function(){return Fe})),n.d(t,"A",(function(){return Ge})),n.d(t,"t",(function(){return He})),n.d(t,"s",(function(){return We})),n.d(t,"r",(function(){return Ke})),n.d(t,"fb",(function(){return Qe})),n.d(t,"db",(function(){return Xe})),n.d(t,"x",(function(){return $e})),n.d(t,"w",(function(){return Ze})),n.d(t,"v",(function(){return et})),n.d(t,"eb",(function(){return st})),n.d(t,"a",(function(){return ot})),n.d(t,"T",(function(){return dt})),n.d(t,"Q",(function(){return ut})),n.d(t,"R",(function(){return ft})),n.d(t,"lb",(function(){return Ot})),n.d(t,"u",(function(){return gt})),n.d(t,"cb",(function(){return ht})),n.d(t,"F",(function(){return Et})),n.d(t,"E",(function(){return It})),n.d(t,"D",(function(){return vt})),n.d(t,"gb",(function(){return wt})),n.d(t,"y",(function(){return xt})),n.d(t,"O",(function(){return Pt})),n.d(t,"S",(function(){return Rt})),n.d(t,"z",(function(){return Nt})),n.d(t,"bb",(function(){return Lt})),n.d(t,"P",(function(){return Ut})),n.d(t,"kb",(function(){return Bt})),n.d(t,"X",(function(){return qt}));const A="SUBREDDIT__MUTEDUSERS_PENDING",R="SUBREDDIT__MUTEDUSERS_LOADED",N="SUBREDDIT__MUTEDUSERS_FAILED",k=Object(o.a)(A),L=Object(o.a)(R),U=Object(o.a)(N),M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(S.d)(e,c),d=i.muted.fetchedTokens[a];if(i.muted.api.pending[a]||d)return;n(k({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await h(o(),u,t);l.ok?n(L(Object.assign({},l.body,{fetchedToken:c}))):n(U({subredditId:e,fetchedToken:c}))}},F="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",G="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",B="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",q=Object(o.a)(F),V=Object(o.a)(G),H=Object(o.a)(B),W=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(q());const a=await h(o(),i,c);a.ok?n(V(a.body)):n(H(a.error))},K="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",J="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",Y=Object(o.a)(K),z=Object(o.a)(J),Q=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.bb.POST,data:{api_type:"json",id:n,type:"muted"}}))(c(),d,t);if(l.ok)n(z({subredditId:e,userId:t}));else{const e=s()(l,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},X=(e,t,n)=>async(r,o,c)=>{let{apiContext:a}=c;const d=o(),l=d.subreddits.models[e].url,O=d.subreddits.models[e].name;t=Object(E.a)(t);const g=await((e,t,n,r)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.bb.POST,data:{api_type:"json",name:n,note:r,type:"muted"}}))(a(),l,t,n);if(g.ok){const e={username:t};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully muted a user")}));const n=await h(a(),O,e);n.ok&&r(Y(n.body))}else{const e=s()(g,"body.json.errors[0][1]",Object(i.a)(d.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},$="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",Z="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",ee="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",te=Object(o.a)($),ne=Object(o.a)(Z),re=Object(o.a)(ee),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(S.d)(e,c),d=i.approvedSubmitters.fetchedTokens[a];if(i.approvedSubmitters.api.pending[a]||d)return;n(te({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await O(o(),u,t);l.ok?n(ne(Object.assign({},l.body,{fetchedToken:c}))):n(re({subredditId:e,fetchedToken:c}))}},oe="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",ie="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",ce="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",ae=Object(o.a)(oe),de=Object(o.a)(ie),ue=Object(o.a)(ce),le=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(ae());const a=await O(o(),i,c);a.ok?n(de(a.body)):n(ue(a.error))},be="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",pe="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",fe=Object(o.a)(be),me=Object(o.a)(pe),Oe=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=a.subreddits.models[e].name;t=Object(E.a)(t);const g=await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.bb.POST,data:{api_type:"json",name:n,type:"contributor"}}))(c(),d,t);if(g.ok){const e={username:t};n(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully added an approved submitter")}));const r=await O(c(),l,e);r.ok&&n(fe(r.body))}else{const e=s()(g,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},ge=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.bb.POST,data:{api_type:"json",id:n,type:"contributor"}}))(c(),d,t);if(l.ok)n(me({subredditId:e,userId:t}));else{const e=s()(l,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},je="SUBREDDIT__BANNEDUSERS_PENDING",ye="SUBREDDIT__BANNEDUSERS_LOADED",_e="SUBREDDIT__BANNEDUSERS_FAILED",he=Object(o.a)(je),Ee=Object(o.a)(ye),Ie=Object(o.a)(_e),ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=t.after||"",a=Object(S.d)(e,c),d=i.banned.fetchedTokens[a];if(i.banned.api.pending[a]||d)return;n(he({subredditId:e,fetchedToken:c}));const u=i.subreddits.models[e].name,l=await j(o(),u,t);l.ok?n(Ee(Object.assign({},l.body,{fetchedToken:c}))):n(Ie({subredditId:e,fetchedToken:c}))}},Se="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",Te="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",Ce="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",we=Object(o.a)(Se),xe=Object(o.a)(Te),De=Object(o.a)(Ce),Pe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(we());const a=await j(o(),i,c);a.ok?n(xe(a.body)):n(De(a.error))},Ae="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",Re="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",Ne=Object(o.a)(Ae),ke=Object(o.a)(Re),Le=(e,t,n)=>async(r,o,a)=>{let{apiContext:d}=a;const l=o(),O=l.subreddits.models[e].url,g=l.subreddits.models[e].name;t.username=Object(E.a)(t.username),r(Object(c.h)(n));const y=await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.bb.POST,data:{api_type:"json",ban_reason:n.reason,ban_message:n.banMessage,duration:n.duration,name:n.username,note:n.modNote,ban_context:n.contextId,type:"banned"}}))(d(),O,t);if(y.ok){r(Object(c.e)(n));const e={username:t.username};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully banned a user")}));const s=await j(d(),g,e);s.ok&&r(Ne(s.body))}else{r(Object(c.f)(n,y.error));const e=s()(y,"body.json.errors[0][1]",Object(i.a)(l.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Ue=(e,t)=>async(n,r,o)=>{let{apiContext:c}=o;const a=r(),d=a.subreddits.models[e].url,l=await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/unfriend"),method:b.bb.POST,data:{api_type:"json",id:n,type:"banned"}}))(c(),d,t);if(l.ok)n(ke({subredditId:e,userId:t}));else{const e=s()(l,"body.json.errors[0][1]",Object(i.a)(a.user.language,"error.type.generic"));n(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Me="SUBREDDIT__MODERATORS_PENDING",Fe="SUBREDDIT__MODERATORS_LOADED",Ge="SUBREDDIT__MODERATORS_FAILED",Be=Object(o.a)(Me),qe=Object(o.a)(Fe),Ve=Object(o.a)(Ge),He="SUBREDDIT__EDITABLEMODERATORS_PENDING",We="SUBREDDIT__EDITABLEMODERATORS_LOADED",Ke="SUBREDDIT__EDITABLEMODERATORS_FAILED",Je=Object(o.a)(He),Ye=Object(o.a)(We),ze=Object(o.a)(Ke),Qe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.S)(i,{subredditId:e}).name,a=t&&t.after?t.after:"",d=t&&t.before?t.before:"",u=Object(S.d)(e,a,d),l=i.moderators.userOrder.data[u],b=i.moderators.userOrder.api.error[u];if(i.moderators.userOrder.api.pending[u]||l&&!b)return;n(Be({subredditId:e,key:u}));const p=await y(o(),c,t);if(p.ok){const t={key:u,response:p.body,subredditId:e};n(qe(t))}else{const t={error:p.error,subredditId:e,key:u};n(Ve(t))}},Xe=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.S)(i,{subredditId:e}).name,a=t&&t.afterEditable?t.afterEditable:"",d=t&&t.beforeEditable?t.beforeEditable:"",u=Object(S.d)(e,a,d),l=i.moderators.editableUserOrder.data[u],O=i.moderators.editableUserOrder.api.error[u];if(i.moderators.editableUserOrder.api.pending[u]||l&&!O)return;n(Je({subredditId:e,key:u}));const g=Object.assign({},t,{after:a,before:d}),j=await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/moderators_editable"),method:b.bb.GET,data:Object.assign({},n,{count:10})}))(o(),c,g);if(j.ok){const t={key:u,response:j.body,subredditId:e};n(Ye(t))}else{const t={key:u,error:j.error,subredditId:e};n(ze(t))}},$e="SUBREDDIT__INVITEDMODERATORS_PENDING",Ze="SUBREDDIT__INVITEDMODERATORS_LOADED",et="SUBREDDIT__INVITEDMODERATORS_FAILED",tt=Object(o.a)($e),nt=Object(o.a)(Ze),rt=Object(o.a)(et),st=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=Object(x.S)(o,{subredditId:e}).name;if(o.moderators.invitedModerators.api.pending)return;t(tt());const c=await _(s(),i);if(c.ok){const e=c.body;t(nt(e))}else t(rt(c.error))},ot="SUBREDDIT__ADDMODERATOR__SUCCESS",it=Object(o.a)("SUBREDDIT__ADDMODERATOR_PENDING"),ct=Object(o.a)(ot),at=Object(o.a)("SUBREDDIT__ADDMODERATOR__FAILED"),dt=(e,t,n)=>async(r,s,o)=>{let{apiContext:i}=o;const c=s(),a=Object(x.S)(c,{subredditId:e}),d=a.name,l=a.url;t=Object(E.a)(t),r(it());const O=Object(v.d)(n),g=await((e,t,n,r)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/friend"),method:b.bb.POST,data:{name:n,type:"moderator_invite",permissions:r,api_type:"json"}}))(i(),l,t,O);if(g.ok){const n=await _(i(),d,{username:t});if(g.ok){const t=n.body,s=t.moderatorIds[0];c.moderators.invitedModerators.models[e][s]?r(Object(u.e)({kind:T.b.SuccessCommunity,text:Object(I.c)("That user is already invited")})):(r(Object(u.e)({kind:T.b.SuccessMod,text:Object(I.c)("Successfully added a moderator")})),r(ct(t)))}}else{const e=g.body.json&&g.body.json.errors;e&&e[0]&&e[0][1]&&r(Object(u.e)({kind:T.b.Error,text:e[0][1],duration:3e3})),r(at())}},ut="SUBREDDIT__REMOVEMODERATOR__SUCCESS",lt=Object(o.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),bt=Object(o.a)(ut),pt=Object(o.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),ft="SUBREDDIT__RESIGNMODERATOR__SUCCESS",mt=Object(o.a)(ft),Ot=(e,t,n,r)=>async(s,o,i)=>{let{apiContext:c}=i;const a=o(),d=a.subreddits.models[e].name,u=Object(S.d)(e,n,r);if(s(lt()),(await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:b.bb.POST,data:{id:n,type:"moderator",r:t,api_type:"json"}}))(c(),d,t)).ok){s(bt({subredditId:e,userId:t,key:u}));const n=Object(P.i)(a);n&&n.id===t&&s(mt({subredditId:e,userId:t}))}else s(pt())},gt="SUBREDDIT__EDITMODERATOR__SUCCESS",jt=Object(o.a)("SUBREDDIT__EDITMODERATOR_PENDING"),yt=Object(o.a)(gt),_t=Object(o.a)("SUBREDDIT__EDITMODERATOR__FAILED"),ht=(e,t,n,r)=>async(s,o,i)=>{let{apiContext:c}=i;const a=o().subreddits.models[e].url;s(jt());const d=Object(v.d)(n);if((await((e,t,n,r)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/setpermissions"),method:b.bb.POST,data:{name:n,type:"moderator",permissions:r,api_type:"json"}}))(c(),a,t,d)).ok){s(yt({permissions:n,subredditId:e,userId:r}))}else s(_t())},Et="SUBREDDIT_MODERATORS_SEARCH_PENDING",It="SUBREDDIT_MODERATORS_SEARCH_LOADED",vt="SUBREDDIT_MODERATORS_SEARCH_FAILED",St=Object(o.a)(Et),Tt=Object(o.a)(It),Ct=Object(o.a)(vt),wt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r().subreddits.models[e].name,c={username:Object(E.a)(t)};n(St());const a=await y(o(),i,c);a.ok?n(Tt(a.body)):n(Ct(a.error))},xt="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",Dt=Object(o.a)(xt),Pt="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",At=Object(o.a)(Pt),Rt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n(),i=o.user.account;if(!i)return;const c=o.subreddits.models[e],a=c.url,d=c.name;if((await((e,t)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl).concat(t,"api/accept_moderator_invite"),method:b.bb.POST,data:{api_type:"json"}}))(s(),a)).ok){t(Dt({subredditId:e})),t(Xe(e)),t(st(e)),t(Qe(e));const n={username:Object(C.f)(i)},r=await y(s(),d,n);if(r.ok){const n=r.body.moderators[i.id];n&&t(At({[e]:n.modPermissions}))}}},Nt="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",kt=Object(o.a)(Nt),Lt=e=>async(t,n,r)=>{let{apiContext:s}=r;const o=n().subreddits.models[e].name;(await((e,t)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/decline_mod_invite"),method:b.bb.POST,data:{api_type:"json"}}))(s(),o)).ok&&t(kt({subredditId:e}))},Ut="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",Mt=Object(o.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),Ft=Object(o.a)(Ut),Gt=Object(o.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),Bt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(x.S)(i,{subredditId:e}).name;n(Mt()),(await((e,t,n)=>Object(p.b)(Object(f.a)(e,[m.a]),{endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:b.bb.POST,data:{id:n,type:"moderator_invite",r:t,api_type:"json"}}))(o(),c,t)).ok?n(Ft({subredditId:e,userId:t})):n(Gt())},qt=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r();await Promise.all([(async()=>{if(!Object(w.b)(l.a.BAN_USER)(i)&&!Object(x.P)(i,{subredditId:e})){const t=Object(x.S)(i,{subredditId:e});await n(Object(d.o)(t.name))}})(),(async()=>{const r=Object(P.hb)(i,{userName:t});if(!r)return;const s=Object(D.m)(i,{subredditId:e});s&&s[r.id]||await n(ve(e,{username:t}))})()]),n(Object(a.i)(l.a.BAN_USER))}},"./src/reddit/actions/subredditRules/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return d}));const r="SUBREDDIT__RULES_LOADED",s="SUBREDDIT__RULES_PENDING",o="SUBREDDIT__RULES_FAILED",i="SUBREDDIT__RULE_ADDED",c="SUBREDDIT__RULE_EDITED",a="SUBREDDIT__RULE_REMOVED",d="SUBREDDIT__RULES_REORDERED"},"./src/reddit/actions/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return A}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/invert.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/lodash/xor.js"),a=n.n(c),d=n("./src/app/strings/index.ts"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/reddit/endpoints/subreddit/settings.ts"),p=n("./src/reddit/i18n/utils.ts"),f=n("./src/telemetry/index.ts"),m=n("./src/reddit/actions/toaster.ts"),O=n("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),g=n("./src/reddit/models/Toast/index.ts"),j=n("./src/reddit/models/User/index.ts"),y=n("./src/reddit/selectors/subreddit.ts"),_=n("./src/reddit/selectors/user.ts"),h=n("./src/reddit/selectors/widgets.ts");const E="SUBREDDIT_SETTINGS_LOADED",I=Object(l.a)(E),v=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;if(!t||!Object(y.U)(r(),t)){const t=await Object(b.c)(o(),e);t&&t.ok&&n(I(t.body))}},S=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=Object(_.i)(t());s&&await e(v(u.Qb+Object(j.f)(s)))},T="SUBREDDIT_SETTINGS_UPDATE_REQUESTED",C="SUBREDDIT_SETTINGS_UPDATE_SUCCESS",w="SUBREDDIT_SETTINGS_UPDATE_FAILURE",x=Object(l.a)(T),D=Object(l.a)(C),P=Object(l.a)(w),A=function e(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,c,u)=>{let{apiContext:l}=u;o(x());const j=c(),E=i()(Object(y.U)(j,t),...Object.keys(n)),I=await Object(b.f)(l(),t,n),v=Object(_.S)(j);if(I.ok){const i=Object(b.d)(I.body,s()(b.a));o(D({settings:Object.assign({},i,{subredditId:t}),idCardWidgetId:Object(h.c)(j,{subredditId:t})}));const c={};r&&0===a()(Object.keys(n),Object.keys(E)).length&&(c.buttonText=Object(p.c)("Undo"),c.buttonAction=e(t,E,r)),o(Object(m.e)(Object.assign({kind:g.b.SuccessCommunity,text:Object(d.a)(v,"subredditCreation.updateCommunitySuccess")},c)))}else o(P()),o(Object(m.e)({kind:g.b.Error,text:Object(d.a)(v,"error.tryAgainLater"),buttonText:Object(p.c)("Retry"),buttonAction:e(t,n)})),r&&Object(f.a)(Object(O.c)(j,"BE returned an error:"))}}},"./src/reddit/actions/subredditTopContent.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/actions/preferences.ts"),o=n("./src/graphql/operations/SubredditTopContent.json"),i=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts");n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return f}));const a="SUBREDDIT_TOP_CONTENT__PENDING",d="SUBREDDIT_TOP_CONTENT__LOADED",u="SUBREDDIT_TOP_CONTENT__FAILED",l=Object(r.a)(a),b=Object(r.a)(d),p=Object(r.a)(u),f=e=>async(t,n,r)=>{const a=e.toLowerCase(),d=n(),{api:u,topContent:f}=d.subreddits;if(u.topContent.pending[a]||f[a])return;t(l({subredditName:a})),t(Object(s.x)());const m=await((e,t)=>Object(i.a)(e,Object.assign({},o,{variables:t})))(r.gqlContext(),{subredditName:a});if(m.ok){const e=m.body.data.subreddit;if(e){const n=Object(c.c)(e);n&&t(b(Object.assign({subredditName:a},n)))}}else t(p({subredditName:a,error:m.error}))}},"./src/reddit/actions/subscription/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l}));const r="SUBSCRIPTION__FETCH_DATA_PENDING",s="SUBSCRIPTION__FETCH_DATA_SUCCESS",o="SUBSCRIPTION__FETCH_DATA_FAILURE",i="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",c="SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED",a="SUBSCRIPTION__ORDER_LOADED",d="SUBSCRIPTION__SUBREDDIT_FAVORITE_TOGGLED",u="SUBSCRIPTION__MULTI_FAVORITE_TOGGLED",l="SUBSCRIPTION__MULTI_FOLLOW_TOGGLED"},"./src/reddit/actions/subscription/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/app/strings/index.ts"),i=n("./src/lib/linkMatchers/customLinks.ts"),c=n("./src/reddit/actions/login.ts"),a=n("./src/reddit/actions/modal.ts"),d=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),u=n("./src/reddit/actions/monthsToMinutes/reset.ts"),l=n("./src/reddit/actions/subscription/constants.ts"),b=n("./src/reddit/actions/toaster.ts"),p=n("./src/reddit/constants/posts.ts"),f=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts");var g=n("./src/config.ts"),j=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var y=n("./src/reddit/helpers/monthsToMinutes/index.ts"),_=n("./src/reddit/i18n/utils.ts"),h=n("./src/reddit/models/MonthsToMinutes/index.ts"),E=n("./src/reddit/models/Toast/index.ts"),I=n("./src/reddit/selectors/monthsToMinutes.ts"),v=n("./src/reddit/selectors/profile.ts"),S=n("./src/reddit/selectors/subreddit.ts"),T=n("./src/reddit/selectors/subscriptions.ts"),C=n("./node_modules/reselect/es/index.js");const w=Object(C.a)(e=>e.toaster,(e,t)=>t,(e,t)=>e.find(e=>e.customToastType===t));var x=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return q}));const D=Object(_.c)("Sorry, failed to update favorites."),P=Object(s.a)(l.c),A=Object(s.a)(l.b),R=Object(s.a)(l.a),N=Object(s.a)(l.h),k=(Object(s.a)(l.i),Object(s.a)(l.g),()=>async(e,t,n)=>{let{apiContext:s}=n;const o=t();if(!o.user.account||o.subscriptions.api.fetched)return;e(A());const i=await(e=>Object(f.b)(e,{endpoint:"".concat(g.a.gatewayUrl,"/desktopapi/v1/subscriptions"),method:r.bb.GET}))(s());i.ok?e(P(i.body)):e(R({error:i.error}))}),L=(e,t,n)=>async(s,l,g)=>{let{apiContext:C}=g;const D=Object(x.S)(l()),P=e.map(e=>e.type===p.a.SUBREDDIT?{id:Object(S.G)(l(),e.name),name:e.name,type:e.type}:{id:Object(v.m)(l(),e.name),name:"".concat(r.Qb).concat(e.name),type:e.type}),A=Object(I.w)(l())&&Object(I.n)(l());if(Object(x.J)(l()))if(s(N({identifiers:P,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:A,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:t,widgetId:n})),(await((e,t)=>{let{subredditIds:n,subredditNames:s,subscribe:o}=t;return Object(f.b)(Object(m.a)(e,[O.a]),{method:r.bb.POST,endpoint:Object(j.a)("".concat(e.apiUrl,"/api/subscribe")),data:{action:o?"sub":"unsub",sr:n&&n.join(",")||void 0,sr_name:s&&s.join(",")||void 0,api_type:"json"}})})(C(),{subredditNames:P.map(e=>{let{name:t}=e;return t}),subscribe:t})).ok){if(t){const n=1===e.length?"".concat("subreddit"===e[0].type?i.c.subreddit:i.c.profile).concat(e[0].name):"".concat(e.length," ").concat(Object(_.a)("communities",["community","communities"],e.length));s(Object(b.e)({text:1===e.length&&"profile"===e[0].type?Object(_.c)("Sucсessfully ".concat(t?"followed":"unfollowed"," ").concat(Object(_.b)("communityname",n))):Object(_.c)("Sucсessfully ".concat(t?"joined":"left"," ").concat(Object(_.b)("communityname",n)))}))}}else s(N({identifiers:P,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:A,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:!t,widgetId:n})),s(Object(b.e)(Object(b.d)(Object(o.a)(D,"profile.somethingWentWrongTryAgain"),E.b.Error)));else if(Object(I.w)(l())&&!e.some(e=>e.type===p.a.PROFILE)){let r=Object(T.c)(l());if(t&&r>=h.b)return void(w(l(),E.a.subscribeCap)||s(Object(b.e)({text:"",duration:-1,kind:E.b.Custom,customToastType:E.a.subscribeCap})));s(N({identifiers:P,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:A,subredditModels:l().subreddits.models,subscriptionsCount:Object(T.c)(l()),userIsSubscriber:t,widgetId:n}));const o=l();0===(r=Object(T.c)(o))?s(Object(u.b)()):Object(I.p)(o)?await s(Object(d.g)()):Object(I.n)(o)&&Object(y.d)(o)}else s(Object(a.k)({actionSource:a.a.Subscribe})),s(Object(c.f)())},U=Object(s.a)(l.f),M=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n(),c=Object(S.M)(i,{identifier:e});if(!c)throw new Error("actions.subscription -- No subreddit or profile found with id ".concat(e.id));const a=e.type===p.a.SUBREDDIT?c.name:"u_".concat(c.name),d=i.subscriptions.favoriteSubredditOrder||[],u=i.subscriptions.favoriteProfileOrder||[],l=d.indexOf(e.id),g=u.indexOf(e.id),j=-1===l&&-1===g,y=i.subreddits.models,_=i.profiles.models;t(U({makeFavorite:j,identifier:e,subredditModels:y,profileModels:_}));const h={type:e.type,name:c.name},I=()=>Object(S.cb)(n(),{identifier:h});(I()||(await t(L([h],!0)),I()))&&((await((e,t,n)=>Object(f.b)(Object(m.a)(e,[O.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/favorite"),data:{make_favorite:n?"true":"false",sr_name:t,api_type:"json"}}))(o(),a,j)).ok||(t(U({makeFavorite:!j,identifier:e,subredditModels:y,profileModels:_})),t(Object(b.e)({text:D,kind:E.b.Error}))))},F=Object(s.a)(l.d),G=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n().multireddits.models,c=()=>{t(Object(b.e)({text:D,kind:E.b.Error}))},a=i[e];if(!a)return void c();const d=!a.isFavorited;t(F({makeFavorite:d,multiredditPath:e,multiredditsModelsState:i})),(await((e,t,n)=>Object(f.b)(Object(m.a)(e,[O.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/multi/favorite"),data:{make_favorite:n?"true":"false",multipath:t,api_type:"json"}}))(o(),e,d)).ok||(t(F({makeFavorite:!d,multiredditPath:e,multiredditsModelsState:i})),c())},B=Object(s.a)(l.e),q=e=>async(t,n,s)=>{let{apiContext:o}=s;const i=n(),c=i.multireddits.models;if(!Object(x.J)(i))return;const a=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t(Object(b.e)({text:Object(_.c)("Sorry, failed to ".concat(Object(_.b)("followAction",e?Object(_.c)("follow"):Object(_.c)("unfollow")))),kind:E.b.Error}))},d=c[e];if(!d)return void a();const u=!d.isFollowed;t(B({follow:u,multiredditPath:e,multiredditsModelsState:c})),(await((e,t,n)=>Object(f.b)(Object(m.a)(e,[O.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/multi/subscribe"),data:{action:n?"sub":"unsub",path:t,api_type:"json"},type:"json"}))(o(),e,u)).ok||(t(B({follow:!u,multiredditPath:e,multiredditsModelsState:c})),a(u))}},"./src/reddit/actions/tags/constants.ts":function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"r",(function(){return m})),n.d(t,"p",(function(){return O})),n.d(t,"v",(function(){return g})),n.d(t,"u",(function(){return j})),n.d(t,"y",(function(){return y})),n.d(t,"t",(function(){return _})),n.d(t,"x",(function(){return h})),n.d(t,"s",(function(){return E})),n.d(t,"w",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return C}));const r="TAGS__REQUESTED",s="TAGS__AVAILABLE_LOADED",o="TAGS__LOADED",i="TAGS__FAILURE",c="TAGS__RELEVANCE_LOADED",a="TAGS__CREATE_REQUESTED",d="TAGS__CREATE_SUCCESS",u="TAGS__CREATE_FAILURE",l="TAGS__DELETE_REQUESTED",b="TAGS__DELETE_SUCCESS",p="TAGS__DELETE_FAILURE",f="TAGS__UPDATE_STATE_REQUESTED",m="TAGS__UPDATE_STATE_SUCCESS",O="TAGS__UPDATE_STATE_FAILURE",g="TAGS__OPTIONS_CANCELLED",j="TAGS__OPTION_SELECTED",y="TAGS__SUGGESTED_OPTION_SELECTED",_="TAGS__OPTION_DESELECTED",h="TAGS__SUGGESTED_OPTION_DESELECTED",E="TAGS__INPUT_CHANGED",I="TAGS__SUGGESTED_INPUT_CHANGED",v="GLOBAL__TAGS__LOADED",S="CREATION__TAGS_INPUT_CHANGED",T="CREATION__TAGS_OPTION_SELECTED",C="CREATION__TAGS_OPTION_DESELECTED"},"./src/reddit/actions/tags/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/tags/constants.ts"),i=n("./src/reddit/actions/toaster.ts");const c=e=>{const{subreddit:t}=e,n={global:{},[t.id]:{}};t.availableTags&&t.availableTags.edges.reduce((e,t)=>{let{node:n}=t;return e[n.subreddit&&n.subreddit.id||"global"][n.id]=n,e},n);const r={[t.id]:{}};t.tags&&t.tags.edges.reduce((e,n)=>{let{node:r}=n;return e[t.id][r.tag.id]=r,e},r);const s={[t.id]:{}};return t.suggestedTags&&t.suggestedTags.edges.reduce((e,n)=>{let{node:r}=n;return e[t.id][r.tag.id]=r,e},s),{globalSubredditTags:n.global,subredditScopedTags:{[t.id]:n[t.id]},subredditId:t.id,itemTags:r,suggestedItemTags:s}};var a=n("./src/graphql/operations/CreateSubredditTags.json"),d=n("./src/lib/makeGqlRequest/index.ts");var u=n("./src/graphql/operations/DeleteTags.json");var l=n("./src/graphql/operations/FetchGlobalTags.json"),b=n("./src/graphql/operations/FetchSubredditTags.json");const p=1050,f=(e,t)=>{let{subredditId:n,pageSize:r=p,after:s,includeAvailableTags:o}=t;return Object(d.a)(e,Object.assign({},b,{variables:{subredditId:n,pageSize:r,after:s,includeAvailableTags:o}}))};var m,O=n("./src/graphql/operations/UpdateSubredditTagStates.json");!function(e){e.TAGGED="TAGGED",e.NONE="NONE"}(m||(m={}));const g=(e,t)=>Object(d.a)(e,Object.assign({},O,{variables:t}));var j=n("./src/graphql/operations/UpdateSubredditTagStatesRelevance.json");const y=(e,t)=>Object(d.a)(e,Object.assign({},j,{variables:t}));var _=n("./src/reddit/featureFlags/communityTopics.ts"),h=n("./src/reddit/helpers/tags/index.ts"),E=n("./src/reddit/helpers/trackers/communityTopics.ts"),I=n("./src/reddit/i18n/utils.ts"),v=n("./src/reddit/models/Tags/index.ts"),S=n("./src/reddit/models/Toast/index.ts"),T=n("./src/reddit/reducers/tags/selected/index.ts"),C=n("./src/reddit/selectors/tags.ts"),w=n("./src/reddit/selectors/user.ts");n.d(t,"l",(function(){return H})),n.d(t,"o",(function(){return W})),n.d(t,"k",(function(){return K})),n.d(t,"n",(function(){return J})),n.d(t,"j",(function(){return Y})),n.d(t,"m",(function(){return z})),n.d(t,"c",(function(){return Q})),n.d(t,"b",(function(){return X})),n.d(t,"a",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"e",(function(){return re})),n.d(t,"h",(function(){return ce})),n.d(t,"g",(function(){return ae})),n.d(t,"d",(function(){return de})),n.d(t,"p",(function(){return ue})),n.d(t,"f",(function(){return le}));const x=Object(s.a)(o.d),D=Object(s.a)(o.o),P=Object(s.a)(o.e),A=Object(s.a)(o.m),R=Object(s.a)(o.n),N=Object(s.a)(o.l),k=Object(s.a)(o.g),L=Object(s.a)(o.h),U=Object(s.a)(o.f),M=Object(s.a)(o.j),F=Object(s.a)(o.k),G=Object(s.a)(o.i),B=Object(s.a)(o.q),q=Object(s.a)(o.r),V=Object(s.a)(o.p),H=Object(s.a)(o.u),W=Object(s.a)(o.y),K=Object(s.a)(o.t),J=Object(s.a)(o.x),Y=Object(s.a)(o.s),z=Object(s.a)(o.w),Q=Object(s.a)(o.c),X=Object(s.a)(o.b),$=Object(s.a)(o.a),Z=Object(s.a)(o.v),ee=function e(t,n){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,a,d)=>{let{gqlContext:u}=d;const l=a();if(!Object(_.b)())return;o(D());const b=await f(u(),{subredditId:t});if(b.ok){const e=b.body;o(A(c(e.data))),s&&E.h(a(),t,{context:n})}else{o(N());const c=s?"topics_save":"topics_load";E.g(l,t,c,{context:n}),o(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(l),"communityTopics.loadFailed"),S.b.Error,Object(r.a)(Object(w.S)(l),"communityTopics.retry"),e(t,n,s))))}}},te=e=>async(t,n,s)=>{let{gqlContext:o}=s;const a=n();if(!Object(_.b)())return;t(D());const d=await f(o(),{subredditId:e});if(d.ok){const e=d.body;t(R(c(e.data)))}else t(N()),t(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(a),"communityTopics.loadFailed"),S.b.Error,Object(r.a)(Object(w.S)(a),"communityTopics.retry"),R(e))))},ne=(e,t)=>async(n,s,o)=>{let{gqlContext:a}=o;const d=s();if(!Object(_.b)())return;n(D());const u=await f(a(),{subredditId:e});if(u.ok){const e=u.body;n(P(c(e.data)))}else n(N()),E.g(d,e,"available_topics_load",{context:t}),n(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(d),"communityTopics.loadFailed"),S.b.Error,Object(r.a)(Object(w.S)(d),"communityTopics.retry"),ne(e,t))))},re=()=>async(e,t,n)=>{let{gqlContext:r}=n;const s=t();if(Object(C.o)(s))return;e(D());const o=await((e,t)=>{let{pageSize:n=p,after:r}=t;return Object(d.a)(e,Object.assign({},l,{variables:{pageSize:n,after:r}}))})(r(),{});if(o.ok){const t=o.body;e(x((e=>{return{globalSubredditTags:e.globalTags.edges.reduce((e,t)=>(e[t.node.id]=t.node,e),{})}})(t.data)))}},se=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;if(!t.length)return;n(k());const i=t.map(t=>Object.assign({subredditId:e},t)),c=await((e,t)=>Object(d.a)(e,Object.assign({},a,{variables:t})))(o(),{input:i}),u=c.body&&c.body.data||null;c.ok&&u&&u.createSubredditTags&&u.createSubredditTags.ok?n(L()):n(U())},oe=(e,t)=>async(n,r,s)=>{let{gqlContext:o}=s;if(!t.length)return;n(M());const i=await((e,t)=>Object(d.a)(e,Object.assign({},u,{variables:t})))(o(),{input:t}),c=i.body&&i.body.data||null;i.ok&&c&&c.deleteTags&&c.deleteTags.ok?n(F({subredditId:e,tags:t})):n(G())},ie=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return async(r,s,o)=>{let{gqlContext:i}=o;if(!t.length&&!n.length)return;r(B());const c=await g(i(),{input:{subredditId:e,tagStates:t,suggestedTagStates:n}}),a=c.body&&c.body.data||null;c.ok&&a&&a.updateSubredditTagStates&&a.updateSubredditTagStates.ok?r(q()):r(V())}},ce=function e(t,n){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(o,c,a)=>{const d=c(),u=Object(C.q)(d,{subredditId:t}),l=Object(C.d)(d,{subredditId:t}),b=Object(C.y)(d,{subredditId:t}),p=Object(C.z)(d,{subredditId:t}),f=u.filter(e=>!!e.id&&!!e.action).map(e=>({tagId:e.id,state:e.action===T.a.ADD?m.TAGGED:m.NONE}));if(b.length>0){const e=new Set([...Object.keys(l)]);await se(t,b)(o,c,a),await ne(t,n)(o,c,a);const r=Object(C.d)(c(),{subredditId:t}),s=new Set([...Object.keys(r).filter(t=>!e.has(t))]);b.forEach(e=>{for(const t of s){const n=r[t];if(n&&n.text.toLowerCase()===e.text.toLowerCase()&&n.type===e.type)return s.delete(t),void f.push({tagId:n.id,state:m.TAGGED})}})}await Promise.all([ie(t,f)(o,c,a),oe(t,p)(o,c,a)]),Object(C.w)(c())?o(Object(i.e)(Object(i.d)(Object(r.a)(Object(w.S)(d),"communityTopics.savePartialFailed"),S.b.Error,Object(r.a)(Object(w.S)(d),"communityTopics.retry"),e(t,n,s)))):s&&o(Object(i.e)(Object(i.d)(Object(I.c)("Community topics saved!"),S.b.SuccessCommunity))),o(ee(t,n,!0))}},ae=(e,t,n)=>async(r,s,o)=>{const c={state:m.TAGGED};if(Object(h.b)(t)){const i=Object(C.d)(s(),{subredditId:e}),a=new Set([...Object.keys(i)]);await se(e,[{text:t.displayText,type:v.c.CLASSIFICATION}])(r,s,o),await ne(e,n)(r,s,o);const d=Object(C.d)(s(),{subredditId:e}),u=new Set([...Object.keys(d).filter(e=>!a.has(e))]);for(const e of u){const n=d[e];n&&n.text.toLowerCase()===t.displayText.toLowerCase()&&n.type===v.c.CLASSIFICATION&&(c.tagId=n.id)}}else{if(!t.id)return void r(Object(i.e)(Object(i.d)(Object(I.c)("Whoops, we couldn't save that topic. Please try again later."),S.b.Error)));c.tagId=t.id}(e=>!!e.tagId&&!!e.state)(c)?(await ie(e,[],[c])(r,s,o),r(ee(e,n,!1))):r(Object(i.e)(Object(i.d)(Object(I.c)("Whoops, we couldn't save that topic. Please try again later."),S.b.Error)))},de=(e,t,n)=>async(r,s,o)=>{if(!t.id)return void r(ee(e,n,!1));const i=s(),c=[ie(e,[],[{state:m.NONE,tagId:t.id}])(r,s,o)],a=Object(C.p)(i,{itemId:e}),d=Object(C.d)(i,{subredditId:e});!a[t.id]&&d[t.id]&&c.push(oe(e,[{tagId:t.id}])(r,s,o)),await Promise.all(c),r(ee(e,n,!1))},ue=function e(t,n,r,s){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return async(c,a,d)=>{let{gqlContext:u}=d;if(!(await y(u(),{input:{tagStatesRelevance:n,suggestedTagStatesRelevance:r}})).ok)return c(Object(i.e)(Object(i.d)(Object(I.c)("Whoops! Unable to update topics relevance status"),S.b.Error,Object(I.c)("Retry"),e(t,n,r,s,o)))),void c(te(t));if(o)for(const e of r)E.f(a(),e,{context:s});c(Object(i.e)(Object(i.d)(Object(I.c)("Successfully updated topics relevance!"),S.b.SuccessCommunity,Object(I.c)("Undo"),e(t,n.map(e=>Object.assign({},e,{isRelevant:!e.isRelevant})),r.map(e=>Object.assign({},e,{isRelevant:!e.isRelevant})),s,o)))),c(te(t))}},le=e=>async(t,n)=>{t(Z({itemTagsState:{[e]:Object(C.p)(n(),{itemId:e})}}))}},"./src/reddit/actions/theme.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="THEME_CHANGED",o=(Object(r.a)(s),"BOOTUP_THEME"),i=Object(r.a)(o)},"./src/reddit/actions/toaster.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return f}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/models/Toast/index.ts");const o=5e3,i=s.b.SuccessCommunity,c="TOAST__DISPLAYED",a="TOAST__DISMISSED",d=Object(r.a)(c),u=Object(r.a)(a),l=e=>async(t,n)=>{const r=b(e);t(d(r)),r.duration>0&&window.setTimeout(()=>t(u(r.id)),r.duration)},b=e=>Object.assign({},e,{duration:e.duration||p(e.kind),id:e.id||Date.now().toString(),kind:e.kind||i}),p=e=>{switch(e){case s.b.Error:return-1;case s.b.Undo:return 1e4;case s.b.SuccessCommunity:case s.b.SuccessMod:default:return o}},f=(e,t,n,r,s,o)=>({text:e,kind:t,buttonText:n,buttonAction:r,secondButtonText:s,secondButtonAction:o})},"./src/reddit/actions/tooltip.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l}));var r=n("./src/lib/makeActionCreator/index.ts");const s="TOOLTIP__DROPDOWN_TOGGLED",o="TOOLTIP__DROPDOWN_SET",i="TOOLTIP__DROPDOWN_UNSET",c="TOOLTIP__DROPDOWN_SET_IF_NONE",a="TOOLTIP__DROPDOWN_UNSET_IF_ACTIVE",d=Object(r.a)(o),u=Object(r.a)(s),l=Object(r.a)(i);Object(r.a)(c),Object(r.a)(a)},"./src/reddit/actions/tracking.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/lib/makeActionCreator/index.ts");const s="TRACKING__VIEWPORT_DATA_LOADED",o="TRACKING__VIEWPORT_DATA_UNLOADED",i=Object(r.a)(s);Object(r.a)(o)},"./src/reddit/actions/trafficStats/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));const r="SUBREDDIT__TRAFFIC_STATS_LOADED",s="SUBREDDIT__TRAFFIC_STATS_PENDING",o="SUBREDDIT__TRAFFIC_STATS_FAILED"},"./src/reddit/actions/trophyCase.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/lodash/pickBy.js")),o=n.n(s),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/makeApiRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/redditId/index.ts"),u=n("./src/reddit/constants/headers.ts");var l=(e,t)=>Object(c.b)(Object(a.a)(e,[u.a]),{method:i.bb.GET,endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/trophies.json")}).then(e=>{const t=e.body&&e.body.data&&e.body.data.trophies;if(e.ok&&t){const n=o()(t.map(b),"id"),r=Object.keys(n);return Object.assign({},e,{body:{trophies:n,trophyIds:r}})}return e});const b=e=>({awardId:e.data.award_id,description:e.data.description||"",icon:e.data.icon_40||"",id:Object(d.b)(e.data.id,e.kind),name:e.data.name,url:e.data.url||""});n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O}));const p="TROPHYCASE__FETCH_SUCCESS",f=Object(r.a)(p),m=Object(r.a)("TROPHYCASE__FETCH_FAILED"),O=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=await l(o(),e);i.ok?n(f(Object.assign({profileId:t,profileName:e},i.body))):n(m({profileId:t,error:i.error}))}},"./src/reddit/actions/upload.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"l",(function(){return _})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return x})),n.d(t,"i",(function(){return D}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/get.js"),s=n.n(r),o=n("./node_modules/uuid/v4.js"),i=n.n(o),c=n("./src/lib/makeActionCreator/index.ts"),a=n("./src/lib/uploadToS3/index.ts"),d=n("./src/reddit/models/Upload/index.ts");const u="UPLOAD_PENDING",l="UPLOAD_UPLOADING",b="UPLOAD_METADATA_CHANGED",p="UPLOAD_PROGRESS",f="UPLOAD_SUCCESS",m="UPLOAD_FAILED",O="UPLOAD_CANCELED",g="UPLOAD_REMOVED",j=Object(c.a)(u),y=Object(c.a)(l),_=Object(c.a)(b),h=Object(c.a)(p),E=Object(c.a)(f),I=Object(c.a)(m),v=Object(c.a)(O),S=Object(c.a)(g),T=new Map,C=(e,t)=>{const n=T.get(e)||[];n.push(t),T.set(e,n)},w=(e,t)=>{const n=T.get(e);n&&n.forEach(n=>n(e,t)),T.delete(e)},x=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async(o,c,u)=>{let{apiContext:l}=u;const b=t;if(c().uploads[b]&&Object(d.d)(c().uploads[b]))return;const p=i()(),f=()=>{const e=c().uploads[b];return!e||e.id!==p||e.status===d.a.CANCELED};o(j({key:b,id:p,file:e}));const{uploadLease:m,websocketUrl:O,error:g}=await n(c().uploads[b]);if(f())return;if(g||!m)return void o(I({key:b,error:g}));let _;C(p,()=>{_&&_.abort()}),o(y({key:b}));const v=await Object(a.a)(e,m,e=>(_=e,r&&e.on("progress",e=>{if(!f()&&"upload"===e.direction){const t={percent:e.percent,total:e.total,uploaded:e.loaded};o(h({key:b,progress:t}))}}),e));if(_=null,!f())if(v.ok){const e=decodeURIComponent(v.body.PostResponse.Location);o(E({key:b,url:e,websocketUrl:O}))}else{const e=s()(v,"body.Error.Message.0"),t=Object.assign({type:"ERROR"},e?{fields:[{field:"0",msg:e}]}:{});o(I({key:b,error:t}))}}},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(n,r)=>{const s=r().uploads[e];s&&(w(s.id,t),n(t?S({key:e}):v({key:e})))}}},"./src/reddit/actions/userBlocks.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return E}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/accounts/index.ts"),c=n("./src/reddit/models/Toast/index.ts"),a=n("./src/reddit/selectors/user.ts");const d="USER_BLOCK__PENDING",u="USER_BLOCK__LOADED",l="USER_BLOCK__FAILED",b=Object(s.a)(d),p=Object(s.a)(u),f=Object(s.a)(l),m=e=>async(t,n,s)=>{let{apiContext:a}=s;const d=n();if(d.blockUser.api.pending[e])return;t(b({username:e}));const u=await Object(i.a)(a(),e),l="error-block-".concat(e);if(u.ok)u.body.name&&t(p(u.body)),t(o.f(l)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}));else{const n={type:u.error?u.error.type:"Unknown error",username:e};t(f(n)),t(o.e({id:l,kind:c.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(d.user.language,"reportFlow.blockUser.retry"),buttonAction:m(e)}))}},O="USER_UNBLOCK__PENDING",g="USER_UNBLOCK__SUCCESS",j="USER_UNBLOCK__FAILED",y=Object(s.a)(O),_=Object(s.a)(g),h=Object(s.a)(j),E=e=>async(t,n,s)=>{let{apiContext:d}=s;const u=n(),l=Object(a.i)(u),b=l?l.id:void 0;b&&(t(y({name:e})),(await Object(i.b)(d(),b,e)).ok?(t(_({name:e})),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(u.user.language,"settings.page.saveRequestSuccess")}))):(t(o.e({kind:c.b.Error,text:Object(r.a)(u.user.language,"error.tryAgainLater")})),t(h({name:e}))))}},"./src/reddit/actions/userFlair.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return I})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return P})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return L})),n.d(t,"e",(function(){return G})),n.d(t,"o",(function(){return H})),n.d(t,"n",(function(){return W})),n.d(t,"m",(function(){return K})),n.d(t,"l",(function(){return J})),n.d(t,"j",(function(){return Y})),n.d(t,"k",(function(){return z})),n.d(t,"p",(function(){return Q}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),c=n("./src/reddit/actions/authorFlair.ts"),a=n("./src/reddit/actions/toaster.ts"),d=n("./src/reddit/endpoints/flair/index.ts"),u=n("./src/reddit/helpers/flair.ts"),l=n("./src/reddit/models/Flair/index.ts"),b=n("./src/reddit/models/Toast/index.ts"),p=n("./src/reddit/models/User/index.ts"),f=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/selectors/userFlair.ts");const g="USER_FLAIR_DATA__MUTATED",j="AUTHOR_FLAIR_DATA__MUTATED",y="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",_=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),h=Object(s.a)(y),E=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),I="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",v=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),S=Object(s.a)(I),T=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),C="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",w=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),x=Object(s.a)(C),D=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),P="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",A=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),R=Object(s.a)(P),N=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),k="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",L="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",U=Object(s.a)(k),M=Object(s.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),F=Object(s.a)(L),G="USERFLAIR_FETCH_SUCCESS",B=Object(s.a)(G),q=Object(s.a)(g),V=Object(s.a)(j),H=(e,t,n,r,s)=>async(o,i,c)=>{let{apiContext:a}=c;const l=i(),b=l.user.account,m=b?Object(p.f)(b):void 0,g=Object(O.c)(l,{subredditId:s}),j=Object.assign({},g.displaySettings,{isUserEnabled:n}),y={userName:r,subredditId:s,applied:e,displaySettings:j};o(r===m?q(y):V(y));const _=Object(f.S)(l,{subredditId:s}),h=t&&e?Object(u.g)(e):void 0;Object(d.g)(a(),r,_.name,t,h),Object(d.i)(a(),n,_.name)},W=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(f.S)(i,{subredditId:e}).name;n(_());const a=await Object(d.l)(o(),c,t);if(a.ok){n(h({subredditId:e,isEnabled:t}))}else n(E());return a.ok},K=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=r(),c=Object(f.S)(i,{subredditId:e}).name;n(v());const a=await Object(d.j)(o(),t,l.d.UserFlair,c);if(a.ok){n(S({subredditId:e,canAssignOwn:t}))}else n(T());return a.ok},J=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(f.S)(c,{subredditId:t}).name,p=Object(m.S)(c);n(w());const O=await Object(d.f)(i(),e,u,l.d.UserFlair),g=O.ok&&!(O.body&&!1===O.body.success);if(g){const e={subredditId:t,template:O.body};n(x(e));const s=Object(a.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairSaved"),b.b.SuccessMod);n(Object(a.e)(s))}else{n(D());const s=Object(a.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairNotSaved"),b.b.Error,Object(r.a)(p,"structuredStyles.forms.flair.toast.retryButtonText"),J(e,t));n(Object(a.e)(s))}return g},Y=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(f.S)(c,{subredditId:t}).name,l=Object(m.S)(c);if(n(A()),(await Object(d.b)(i(),e,u)).ok){n(R({subredditId:t,templateId:e}));const s=Object(a.d)(Object(r.a)(l,"structuredStyles.forms.flair.toast.flairDeleted"),b.b.SuccessMod);n(Object(a.e)(s))}else{n(N());const s=Object(a.d)(Object(r.a)(l,"structuredStyles.forms.flair.toast.flairNotDeleted"),b.b.Error,Object(r.a)(l,"structuredStyles.forms.flair.toast.retryButtonText"),Y(e,t));n(Object(a.e)(s))}},z=(e,t)=>async(n,s,o)=>{let{apiContext:i}=o;const c=s(),u=Object(f.S)(c,{subredditId:t}).name,p=Object(O.c)(c,{subredditId:t}).templateIds,g=Object(m.S)(c);if(n(U({subredditId:t,templateIds:e})),(await Object(d.e)(i(),u,l.d.UserFlair,e)).ok){n(M());const e=Object(a.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderSuccess"),b.b.SuccessMod);n(Object(a.e)(e))}else{n(F({subredditId:t,templateIds:p}));const s=Object(a.d)(Object(r.a)(g,"structuredStyles.forms.flair.toast.flairReorderFailure"),b.b.Error,Object(r.a)(g,"structuredStyles.forms.flair.toast.retryButtonText"),z(e,t));n(Object(a.e)(s))}},Q=(e,t)=>async(n,s,o)=>{let{apiContext:u}=o;const l=s(),p=l.userFlair;if(p&&p[e]&&p[e].displaySettings.isEnabled&&i()(p[e].templateIds)){const s=Object(f.S)(l,{subredditId:e}).name,o=await Object(d.d)(u(),s);if(o.ok)n(B(o.body)),n(Object(c.b)({username:t,subredditId:e}));else{const e=Object(m.S)(l),t=Object(a.d)(Object(r.a)(e,"error.type.generic"),b.b.Error);n(Object(a.e)(t))}}else n(Object(c.b)({username:t,subredditId:e}))}},"./src/reddit/actions/userWhitelist.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return h}));var r=n("./src/app/strings/index.ts"),s=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/reddit/actions/toaster.ts"),i=n("./src/reddit/endpoints/accounts/index.ts"),c=n("./src/reddit/models/Toast/index.ts");const a="USER_WHITELIST__PENDING",d="USER_WHITELIST__SUCCESS",u="USER_WHITELIST__FAILED",l=Object(s.a)(a),b=Object(s.a)(d),p=Object(s.a)(u),f=e=>async(t,n,s)=>{let{apiContext:a}=s;t(l());const d=await Object(i.d)(a(),e),u=n();d.ok?d.body.name&&(t(b(d.body)),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(u.user.language,"settings.page.saveRequestSuccess")}))):(t(p()),t(o.e({kind:c.b.Error,text:Object(r.a)(u.user.language,"error.tryAgainLater")})))},m="USER_UNWHITELIST__PENDING",O="USER_UNWHITELIST__SUCCESS",g="USER_UNWHITELIST__FAILED",j=Object(s.a)(m),y=Object(s.a)(O),_=Object(s.a)(g),h=e=>async(t,n,s)=>{let{apiContext:a}=s;const d=n();t(j({name:e})),(await Object(i.c)(a(),e)).ok?(t(y({name:e})),t(o.e({kind:c.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}))):(t(_({name:e})),t(o.e({kind:c.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater")})))}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return g})),function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(a||(a={}));const d="USERNAME_AVAILABLE__AVAILABLE",u="USERNAME_AVAILABLE__FAILURE",l="USERNAME_AVAILABLE__PENDING",b="USERNAME_AVAILABLE__UNAVAILABLE",p=Object(r.a)(d),f=Object(r.a)(u),m=Object(r.a)(l),O=Object(r.a)(b),g=e=>{let{username:t}=e;return async(e,n,r)=>{let{apiContext:d}=r;const u=n().users.nameAvailable;if(!u[t]||u[t]===a.Error){e(m({username:t}));const n=await((e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{method:s.bb.GET,endpoint:"".concat(e.apiUrl,"/api/username_available.json?user=").concat(t.username),type:"json"}))(d(),{username:t});n.ok?n.body?e(p({username:t})):e(O({username:t})):e(f({username:t}))}}}},"./src/reddit/actions/users.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/app/strings/index.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeActionCreator/index.ts"),i=n("./src/reddit/actions/emailVerificationTooltip.ts"),c=n("./src/reddit/actions/modal.ts"),a=n("./src/reddit/actions/notificationBanner.ts"),d=n("./src/reddit/actions/toaster.ts"),u=n("./src/reddit/components/NotificationBanners/bannerIds.ts"),l=n("./src/reddit/components/Settings/modalIds.ts"),b=n("./src/reddit/endpoints/user/index.ts"),p=n("./src/reddit/i18n/utils.ts"),f=n("./src/lib/makeApiRequest/index.ts"),m=n("./src/lib/omitHeaders/index.ts"),O=n("./src/reddit/constants/headers.ts"),g=n("./src/config.ts"),j=n("./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts"),y=n("./src/lib/makeRequest/index.ts");var _=n("./src/reddit/constants/history.ts"),h=n("./node_modules/js-cookie/src/js.cookie.js"),E=n.n(h),I=n("./src/lib/constants/cookie.ts");const v=e=>{E.a.remove(e,{domain:g.a.cookieDomain})};var S=n("./src/reddit/helpers/history/index.ts"),T=n("./src/reddit/helpers/localStorage/index.ts"),C=n("./src/reddit/helpers/monthsToMinutes/index.ts"),w=async e=>{let t;try{t=await Object(f.b)(e,{endpoint:"/logoutproxy",method:s.bb.POST})}finally{[I.c,I.g,I.d,I.h,I.i].forEach(v),Object(C.b)(),Object(T.B)(null),await async function(e,t){return await Object(y.b)({method:s.bb.POST,endpoint:"/timings/logoutrequest",data:{appName:e.statsAppName,successful:t},type:"json"})}(e,t&&t.ok),Object(S.a)(_.a.JustLoggedOut,!0),window.location.reload()}},x=n("./src/reddit/helpers/redesignOptoutCookie/index.ts"),D=n("./src/reddit/helpers/trackers/emailCollection.ts"),P=n("./src/reddit/helpers/trackers/emailVerification.ts"),A=n("./src/reddit/models/Toast/index.ts"),R=n("./src/reddit/selectors/activeModalId.ts"),N=n("./src/reddit/selectors/experiments/emailCollection.ts"),k=n("./src/reddit/selectors/notificationBanner.ts"),L=n("./src/reddit/selectors/user.ts"),U=n("./src/telemetry/index.ts");n.d(t,"d",(function(){return F})),n.d(t,"t",(function(){return G})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return q})),n.d(t,"g",(function(){return V})),n.d(t,"m",(function(){return H})),n.d(t,"f",(function(){return W})),n.d(t,"B",(function(){return z})),n.d(t,"e",(function(){return Q})),n.d(t,"u",(function(){return $})),n.d(t,"s",(function(){return Z})),n.d(t,"A",(function(){return ee})),n.d(t,"v",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"q",(function(){return se})),n.d(t,"c",(function(){return oe})),n.d(t,"r",(function(){return ce})),n.d(t,"x",(function(){return ae})),n.d(t,"o",(function(){return de})),n.d(t,"p",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"w",(function(){return Oe})),n.d(t,"y",(function(){return ge})),n.d(t,"k",(function(){return je})),n.d(t,"l",(function(){return ye})),n.d(t,"j",(function(){return _e})),n.d(t,"z",(function(){return ve}));var M=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const F="USER__LOID_RECEIVED",G=Object(o.a)(F),B="USER__REQUEST_PENDING",q="USER__REQUEST_LOADED",V="USER__REQUEST_FAILED",H="USER__SESSION_TRACKER_RECEIVED",W="USER__REDDAID_RECEIVED",K=Object(o.a)(B),J=Object(o.a)(q),Y=Object(o.a)(V),z=e=>async(t,n,r)=>{let{apiContext:o}=r;if(n().users.models[e.toLowerCase()]||e===s.z)return;t(K({username:e}));const i=await Object(b.b)(o(),e);if(i.ok){const n={data:i.body};n.username=e,t(J(n))}else{const n=i.error;n.username=e,t(Y(n))}},Q="USER__MYSELF_LOADED",X=Object(o.a)(Q),$=()=>async(e,t,n)=>{let{apiContext:r}=n;const o=t();if(o.user.account||!o.user.session||o.user.session.unsafeLoggedOut)return;const i=await(e=>Object(f.b)(e,{endpoint:"".concat(g.a.gatewayUrl,"/desktopapi/v1/me"),method:s.bb.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}))(r());i.ok&&e(X(i.body))},Z=()=>async(e,t,n)=>{let{apiContext:r}=n;Object(x.a)(),w(r())},ee=Object(o.a)(H),te=Object(o.a)(W),ne="USER__FTU_UX_VIEWED",re="USER__FEATURES_VIEWED_HISTORY_LOADED",se=Object(o.a)(ne),oe=(Object(o.a)(re),"USER__LAYOUT_SWITCH_VIEWED"),ie=Object(o.a)(oe),ce=()=>async(e,t,n)=>{let{apiContext:r}=n;const s=t();s.user.account&&!s.user.account.seenLayoutSwitch&&(e(ie()),Object(b.d)(r()))},ae=e=>async(t,n,r)=>{let{apiContext:o}=r;const i=await((e,t)=>Object(f.b)(Object(m.a)(e,[O.a]),{method:s.bb.POST,endpoint:"".concat(e.apiUrl,"/api/deactivate_user"),data:{user:t.username,passwd:t.password,confirm:t.checkbox,deactivate_message:t.feedback}}))(o(),e);i.ok&&i.body&&i.body.success?w(o()):t(Object(d.e)({kind:A.b.Error,text:"Something went wrong deactivating your account. Try again later."}))},de="USER__UPDATE_EMAIL_PENDING",ue="USER__UPDATE_EMAIL_SUCCESS",le="USER__UPDATE_EMAIL_FAILURE",be=Object(o.a)(de),pe=Object(o.a)(ue),fe=Object(o.a)(le),me=(e,t)=>{t.isEmailVerificationTooltipShowing&&e(Object(i.b)())},Oe=e=>async(t,n,r)=>{let{apiContext:o}=r;const i=M(e,[]);if(Object(L.F)(n(),"changeEmail"))return;t(be());const c=await((e,t)=>{let{newEmail:n,password:r}=t;return Object(f.b)(Object(m.a)(e,[O.a]),{method:s.bb.POST,endpoint:"".concat(e.apiUrl,"/api/update_email"),data:Object.assign({},r&&{curpass:r},{email:n})})})(o(),i),d=n();if(c.ok&&c.body&&c.body.success){Object(k.a)(u.a.EmailCollectionBannerId)(d)&&t(Object(a.c)(u.a.EmailCollectionBannerId)),Object(N.a)(d)&&Object(U.a)(Object(D.c)(d));const e=Object(L.H)(d);e||await t(ge()),t(pe(i.newEmail)),e&&t(Ee()),me(t,d)}else{const e=Object(j.b)(c,"Something went wrong updating your email. Try again later.");t(fe(e))}},ge=e=>async(t,n,o)=>{let{apiContext:i}=o;const a=await((e,t)=>Object(f.b)(Object(m.a)(e,[O.a]),Object.assign({method:s.bb.GET,endpoint:"".concat(e.apiUrl,"/api/send_verification_email")},t.source&&{data:t})))(i(),{source:e}),u=n();if(a.ok&&a.body&&a.body.success){e&&(Object(U.a)(Object(P.f)(e)(u)),me(t,u));const n=Object(R.a)(u),r=n===l.c||n===l.d?l.d:l.b;t(Object(c.i)(r))}else{const e=Object(L.S)(u);t(Object(d.e)({duration:d.a,kind:A.b.Error,text:Object(r.a)(e,"emailVerification.banner.error")}))}},je="USER__SEND_RESET_EMAIL_PENDING",ye="USER__SEND_RESET_EMAIL_SUCCESS",_e="USER__SEND_RESET_EMAIL_FAILURE",he=Object(o.a)(je),Ee=Object(o.a)(ye),Ie=Object(o.a)(_e),ve=e=>async(t,n,r)=>{let{apiContext:o}=r;if(Object(L.F)(n(),"sendResetEmail"))return;t(he());const i=await((e,t)=>Object(f.b)(Object(m.a)(e,[O.a]),{method:s.bb.POST,endpoint:"".concat(e.apiUrl,"/api/password"),data:{email:t.curEmail,name:t.name}}))(o(),e);if(!i.ok||!i.body||!i.body.success){const e=Object(j.b)(i,"Something went wrong sending the reset email. Please try again.");return t(Ie()),void t(Object(d.e)({duration:d.a,kind:A.b.Error,text:Object(p.c)(e)}))}t(Ee())}},"./src/reddit/actions/video.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"p",(function(){return h})),n.d(t,"r",(function(){return E})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return v})),n.d(t,"s",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"o",(function(){return C})),n.d(t,"i",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return A})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return N})),n.d(t,"y",(function(){return L})),n.d(t,"B",(function(){return H})),n.d(t,"A",(function(){return W})),n.d(t,"N",(function(){return K})),n.d(t,"F",(function(){return J})),n.d(t,"O",(function(){return Y})),n.d(t,"P",(function(){return z})),n.d(t,"C",(function(){return X})),n.d(t,"D",(function(){return Z})),n.d(t,"H",(function(){return ne})),n.d(t,"L",(function(){return re})),n.d(t,"z",(function(){return se})),n.d(t,"M",(function(){return ie})),n.d(t,"K",(function(){return de})),n.d(t,"J",(function(){return ue})),n.d(t,"w",(function(){return le})),n.d(t,"I",(function(){return be})),n.d(t,"v",(function(){return pe})),n.d(t,"E",(function(){return fe})),n.d(t,"G",(function(){return me})),n.d(t,"x",(function(){return Oe}));var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/reddit/constants/adEvents.ts"),o=n("./src/reddit/constants/video.ts"),i=n("./src/reddit/helpers/correlationIdTracker.ts"),c=n("./src/reddit/helpers/pixels.ts"),a=n("./src/reddit/helpers/trackers/media.ts"),d=n("./src/reddit/helpers/trackers/postList.ts"),u=n("./src/reddit/selectors/platform.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/telemetry.ts"),p=(n("./src/reddit/selectors/video.ts"),n("./src/telemetry/index.ts"));const f="VIDEO__CONSUMED",m="VIDEO__SET_FULLSCREEN",O="VIDEO__EXIT_FULLSCREEN",g="VIDEO__LOADABLE",j="VIDEO__LOADING",y="VIDEO__PAUSED",_="VIDEO__PLAYABLE",h="VIDEO__METADATA_RECEIVED",E="VIDEO__STARTED",I="VIDEO__UNLOADABLE",v="VIDEO__UNPAUSED",S="VIDEO__TIME_UPDATED",T="VIDEO__BUFFERING",C="VIDEO__PLAYING",w="VIDEO__CONTINUOUS_VIEW_STARTED_AT",x="AD__VIDEO_VIEWABLE",D="AD__VIDEO_FULLY_VIEWABLE",P="AD__VIDEO_STARTED",A="AD__VIDEO_PLAYED_WITH_SOUND",R="AD__VIDEO_WATCHED_PERCENT",N="AD__VIDEO_WATCHED_SECONDS",k=(()=>{let e="";return(t,n,r,s)=>async(o,c)=>{if(null!=t){e!==t&&(e=t,Object(i.d)(i.a.VideoView));const o=c(),d=s?a.b(t,n,r):a.a(t,n,r);Object(p.a)(Object.assign({},b.defaults(o),d(o)))}}})(),L=Object(r.a)(w),U=Object(r.a)(x),M=Object(r.a)(D),F=Object(r.a)(P),G=Object(r.a)(A),B=Object(r.a)("AD__VIDEO_PLAYED_EXPANDED"),q=Object(r.a)(R),V=Object(r.a)(N),H=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(k(e,"is_viewable","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoViewableImpression),t(U({postId:e})))},W=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(k(e,"is_fully_viewable","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoFullyViewableImpression),t(M({postId:e})))},K=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(k(e,"start","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoStarted),t(F({postId:e})))},J=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(k(e,"play_with_sound","video",!1)),t(k(e,"is_viewable","video",!1)),t(k(e,"is_fully_viewable","video",!1)),r.isSponsored&&(Object(c.a)(r.events,s.a.VideoPlayedWithSound),Object(c.a)(r.events,s.a.VideoViewableImpression),Object(c.a)(r.events,s.a.VideoFullyViewableImpression),t(G({postId:e})),t(U({postId:e})),t(M({postId:e})))},Y=(e,t)=>async(n,r)=>{const i=Object(l.J)(r(),{postId:t});let a,d;switch(e){case o.b:a="watch_25_percent",d=s.a.VideoWatched25;break;case o.c:a="watch_50_percent",d=s.a.VideoWatched50;break;case o.d:a="watch_75_percent",d=s.a.VideoWatched75;break;case o.e:a="watch_95_percent",d=s.a.VideoWatched95;break;default:a="watch_100_percent",d=s.a.VideoWatched100}n(k(t,a,"video",!1)),i.isSponsored&&(Object(c.a)(i.events,d),n(q({postId:t,percentage:e})))},z=(e,t)=>async(n,r)=>{const i=Object(l.J)(r(),{postId:t});let a,d;switch(e){case o.g:a="watch_3_seconds",d=s.a.VideoWatchedSeconds3;break;case o.h:a="watch_5_seconds",d=s.a.VideoWatchedSeconds5;break;default:a="watch_10_seconds",d=s.a.VideoWatchedSeconds10}n(k(t,a,"video",!1)),i.isSponsored&&(Object(c.a)(i.events,d),n(V({postId:t,seconds:e})))},Q=Object(r.a)(f),X=Object(r.a)(g),$=Object(r.a)(j),Z=Object(r.a)(y),ee=Object(r.a)(_),te=Object(r.a)(m),ne=Object(r.a)(h),re=Object(r.a)(S),se=Object(r.a)(O),oe=Object(r.a)(E),ie=Object(r.a)(I),ce=Object(r.a)(v),ae=Object(r.a)(T),de=Object(r.a)(C),ue=e=>async(t,n)=>{const r=Object(l.J)(n(),{postId:e});t(te({postId:e})),((e,t,n)=>{n(k(t,"play_expanded","video",!1)),n(k(t,"is_viewable","video",!1)),n(k(t,"is_fully_viewable","video",!1)),e.isSponsored&&(Object(c.a)(e.events,s.a.VideoPlayedExpanded),Object(c.a)(e.events,s.a.VideoViewableImpression),Object(c.a)(e.events,s.a.VideoFullyViewableImpression),n(B({postId:t})),n(U({postId:t})),n(M({postId:t})))})(r,e,t)},le=(e,t)=>async(n,r)=>{const s=r();s.posts.video.autoPlayed[e]&&Object(u.k)(s)&&(d.d(s,e),void 0!==t&&n(ae({postId:e,isBuffering:t})))},be=e=>async(t,n)=>{const r=n();r.posts.video.autoPlayed[e]&&Object(u.k)(r)&&d.h(r,e)},pe=(e,t)=>async(n,r)=>{n($({postId:e,time:t}));const s=r();Object(u.k)(s)&&d.f(s,e)},fe=(e,t)=>async(n,r)=>{n(ee({postId:e,time:t}));const s=r();Object(u.k)(s)&&d.a(s,e)},me=e=>async(t,n)=>{const r=n(),s=r.posts.video.autoPlayed[e],o=r.posts.video.started[e];t(oe({postId:e})),t(ce({postId:e})),!o&&s&&Object(u.k)(r)&&d.c(r,e)},Oe=e=>async(t,n)=>{const r=n(),s=r.posts.video.autoPlayed[e],o=r.posts.video.consumed[e];t(Q({postId:e})),s&&Object(u.k)(r)&&!o&&d.b(r,e)}},"./src/reddit/actions/vote.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/actions/tooltip.ts"),i=n("./src/reddit/components/Flatlist/getFlatlistTooltipId.ts"),c=n("./src/reddit/endpoints/user/index.ts"),a=n("./src/reddit/actions/gold/constants.ts");const d=Object(r.a)(a.t),u=Object(r.a)(a.u);var l=n("./src/reddit/actions/login.ts"),b=n("./src/reddit/actions/modal.ts"),p=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),f=n("./src/reddit/constants/adEvents.ts"),m=n("./src/lib/constants/index.ts"),O=n("./src/lib/makeApiRequest/index.ts"),g=n("./src/lib/omitHeaders/index.ts"),j=n("./src/reddit/constants/headers.ts"),y=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var _=n("./src/reddit/featureFlags/index.ts"),h=n("./src/reddit/helpers/favoriteCreators/index.ts"),E=n("./src/reddit/helpers/isComment.ts"),I=n("./src/reddit/helpers/isPost.ts"),v=n("./src/reddit/helpers/pixels.ts"),S=n("./src/reddit/helpers/trackers/gild.ts"),T=n("./src/reddit/models/Vote/index.ts"),C=n("./src/reddit/selectors/comments.ts"),w=n("./src/reddit/constants/experiments.ts"),x=n("./src/reddit/helpers/chooseVariant/index.ts"),D=n("./src/reddit/selectors/user.ts");var P=n("./src/reddit/selectors/gild.ts"),A=n("./src/reddit/selectors/monthsToMinutes.ts"),R=n("./src/reddit/selectors/platform.ts"),N=n("./src/reddit/selectors/posts.ts"),k=n("./src/reddit/selectors/telemetry.ts");n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return M}));const L="VOTE__VOTE_CAST",U=Object(r.a)(L),M=(e,t)=>n=>async(r,a,L)=>{let{apiContext:M}=L;if(!Object(D.J)(a())&&!Object(A.w)(a()))return r(Object(b.k)({actionSource:b.a.Vote})),void r(Object(l.f)());const F=e(n,a),G=T.b(F,t),B=Object(I.a)(n)?F.postId:n;if(r(U({id:B,isInstance:!1,vote:t})),(a().posts.instances[B]||[]).forEach(e=>{r(U({id:e,isInstance:!0,vote:t}))}),G)if(Object(I.a)(n)){const e=Object(N.J)(a(),{postId:n}),r=t>0?f.a.Upvote:f.a.Downvote;Object(v.a)(e.events,r)}else if(Object(E.a)(n)){const e=Object(C.o)(a(),{commentId:n});if(e){const n=Object(N.J)(a(),{postId:e.postId}),r=t>0?f.a.CommentUpvote:f.a.CommentDownvote;Object(v.a)(n.events,r)}}const q=a(),V=Object(R.i)(q),H=!!Object(P.f)(q),W=Object(D.bb)(q);if(H?r((()=>async(e,t,n)=>{let{apiContext:r}=n;e(d()),e(Object(o.h)())})()):Object(I.a)(B)&&G===T.a.upvoted&&!W&&(e=>{const t=Object(x.c)(e,{experimentEligibilitySelector:e=>Object(D.J)(e),experimentName:w.K});return Object(w.Zb)(t)?void 0:t})(q)&&(r(((e,t)=>async(n,r,s)=>{let{apiContext:a}=s;n(u(e)),n(Object(o.g)({tooltipId:Object(i.a)("View--GiveAward",e,t?"lightbox":void 0)})),Object(c.c)(a())})(B,V)),Object(s.a)(Object(S.viewGiveAwardTooltipEvent)(B)(q))),Object(I.a)(n)&&G===T.a.upvoted&&_.d.spFavoriteCreators(q)){const e=Object(N.J)(q,{postId:n});Object(h.a)(e.belongsTo.id,e.authorId)}if(Object(D.J)(q)){(await((e,t,n)=>Object(O.b)(Object(g.a)(e,[j.a]),{endpoint:Object(y.a)("".concat(e.apiUrl,"/api/vote")),method:m.bb.POST,data:{id:t,dir:n,api_type:"json"}}))(M(),B,G)).ok||r(U({id:B,isInstance:!1,vote:t}))}else if(Object(A.w)(q)){const e=Object(k.subredditByPostOrCommentId)(q,n);e&&e.name&&r(Object(p.h)({id:n,subredditName:e.name})),await r(Object(p.g)())}}},"./src/reddit/actions/widgets/constants.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));const r="WIDGETS__WIDGET_CREATED",s="WIDGETS__WIDGET_UPDATED",o="WIDGET_DELETED",i="WIDGETS_SORTED",c="WIDGETS__STARTED_EDITING_WIDGET",a="WIDGETS__LOADED",d="SUBREDDIT__WIDGETS_PENDING",u="SUBREDDIT__WIDGETS_LOADED",l="SUBREDDIT__WIDGETS_FAILED"},"./src/reddit/actions/widgets/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts"),s=n("./src/app/strings/index.ts"),o=n("./src/reddit/actions/apiRequestState.ts"),i=n("./src/reddit/actions/imageUploads.ts"),c=n("./src/reddit/actions/toaster.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/omitHeaders/index.ts"),l=n("./src/reddit/constants/headers.ts");const b=async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widgets"),method:a.bb.GET,type:"json",data:{progressive_images:n}});var p=n("./src/reddit/helpers/getGenericUploadError.ts"),f=n("./src/reddit/helpers/media/index.ts"),m=n("./src/lib/assertNever.ts"),O=n("./src/reddit/selectors/subreddit.ts"),g=n("./src/reddit/models/Image/index.tsx"),j=n("./src/reddit/models/Toast/index.ts"),y=n("./src/reddit/models/Widgets/index.ts"),_=n("./src/reddit/selectors/user.ts"),h=n("./src/reddit/actions/widgets/constants.ts");n.d(t,"c",(function(){return I})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"h",(function(){return x})),n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return U}));const E=Object(r.a)(h.g),I=(e,t,n)=>async(r,b,f)=>{const{apiContext:m}=f;r(Object(o.h)(n));const h=b(),I=Object(O.S)(h,{subredditId:e}).name,v=Object(_.S)(h),S=Object(y.l)(t);let T=null;try{T=await Object(i.f)(h,g.a.Widgets)}catch(w){const e=Object(p.a)("webSocket");return void r(Object(o.f)(n,e))}const C=await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget"),method:a.bb.POST,type:"json",data:n}))(m(),I,S);if(C.ok){const a=C.body,d=a.id;if("calendar"===t.kind&&r(Object(c.e)({kind:j.b.SuccessMod,text:Object(s.a)(v,"structuredStyles.widgets.calendar.toastText.created")})),T)try{await Object(i.m)(T)(r,b,f)}catch(w){}r(E({subredditId:e,widget:a,widgetId:d})),r(Object(o.e)(n))}else T&&T.websocket.close(),r(Object(o.f)(n,C.error))},v=Object(r.a)(h.i),S=(e,t,n)=>async(r,b,f)=>{const{apiContext:h}=f;r(Object(o.h)(n));const E=t.id,I=b(),S=Object(O.S)(I,{subredditId:e}).name,T=Object(_.S)(I),C=Object(y.l)(t);let w=null,x=null;try{(w=await Object(i.f)(I,g.a.Widgets))&&(x=Object(i.m)(w)(r,b,f))}catch(P){const e=Object(p.a)("webSocket");return void r(Object(o.f)(n,e))}const D=await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:a.bb.PUT,type:"json",data:n}))(h(),S,C);if(D.ok){const i=function(e,t,n){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign({},e,t);case"community-list":{const r={};for(const t of e.data)r[t.name]=t;return Object.assign({},t,{data:t.data.map(e=>{if(!("subscribers"in r[e])){const t={subredditName:e},r=Object(O.B)(n,t),s=Object(O.y)(n,t);return{name:r.name,subscribers:r?r.subscribers:void 0,iconUrl:r?r.communityIcon:void 0,isNSFW:r?r.isNSFW:void 0,isSubscribed:s?s.userIsSubscriber:void 0}}return r[e]})})}case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(m.a)(e)}}(t,D.body,I);if(r(v({subredditId:e,widgetId:E,widget:i})),x)try{await x}catch(P){}"calendar"===t.kind&&r(Object(c.e)({kind:j.b.SuccessMod,text:Object(s.a)(T,"structuredStyles.widgets.calendar.toastText.updated")})),r(Object(o.e)(n))}else w&&w.websocket.close(),r(Object(o.f)(n,D.error))},T=Object(r.a)(h.h),C=(e,t,n)=>async(r,s,i)=>{let{apiContext:c}=i;r(Object(o.h)(n));const b=t.id,p=Object(O.S)(s(),{subredditId:e}).name,f=await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget/").concat(n.id),method:a.bb.DELETE,type:"json"}))(c(),p,t);f.ok?(r(Object(o.e)(n)),r(T({subredditId:e,widgetId:b}))):r(Object(o.f)(n,f.error))},w=Object(r.a)(h.f),x=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;const i=Object(O.S)(r(),{subredditId:e}).name;(await(async(e,t,n)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_order/sidebar"),method:a.bb.PATCH,type:"json",data:n}))(o(),i,t)).ok&&n(w({subredditId:e,widgetIds:t}))},D=e=>{let{imageData:t}=e;return async(e,n,r)=>{const s=n(),o=s.structuredStyles.isEditing,c=Object(O.S)(s,{subredditId:o}).name;e(Object(i.k)(t));const b=await(async(e,t,n,r)=>Object(d.b)(Object(u.a)(e,[l.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/widget_image_upload_s3"),method:a.bb.POST,data:{filepath:n,mimetype:r}}))(r.apiContext(),c,t.file.name,await Object(f.g)(t.file));let p=!1;try{const r=await Object(i.g)(n(),b,t,g.a.Widgets);r&&(e(Object(i.j)(r)),p=!0)}catch(m){if(m instanceof Error)throw m;e(Object(i.i)(m))}return p}},P=Object(r.a)(h.d),A=Object(r.a)(h.e),R=(e,t)=>async(n,r,s)=>{let{apiContext:i}=s;n(Object(o.h)(t));const c=Object(O.S)(r(),{subredditId:e}).name,a=await b(i(),c);if(a.ok){const r=a.body;n(A({subredditId:e,widgets:r})),n(Object(o.e)(t))}else n(Object(o.f)(t,a.error))},N=Object(r.a)(h.c),k=Object(r.a)(h.b),L=Object(r.a)(h.a),U=(e,t)=>async(n,r,s)=>{let{apiContext:o}=s;n(N({subredditId:e}));const i=Object(O.S)(r(),{subredditId:e}).name,c=await b(o(),i,t);if(c.ok){const t=c.body;n(k({subredditId:e,widgets:t}))}else n(L({subredditId:e,error:c.error}))}},"./src/reddit/actions/wiki/wikiBannedContributors/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d}));const r="WIKI_BANNED_CONTRIBUTORS_PENDING",s="WIKI_BANNED_CONTRIBUTORS_LOADED",o="WIKI_BANNED_CONTRIBUTORS_FAILED",i="MORE_WIKI_BANNED_CONTRIBUTORS_LOADED",c="WIKI_BANNED_CONTRIBUTOR_ADDED",a="WIKI_BANNED_CONTRIBUTOR_REMOVED",d="WIKI_BANNED_CONTRIBUTOR_SEARCH_LOADED"},"./src/reddit/actions/wiki/wikiContributors/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d}));const r="WIKI_CONTRIBUTORS_PENDING",s="WIKI_CONTRIBUTORS_LOADED",o="WIKI_CONTRIBUTORS_FAILED",i="MORE_WIKI_CONTRIBUTORS_LOADED",c="WIKI_CONTRIBUTOR_ADDED",a="WIKI_CONTRIBUTOR_REMOVED",d="WIKI_CONTRIBUTOR_SEARCH_LOADED"},"./src/reddit/actions/wiki/wikiDiff/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));const r="WIKI_DIFF_PENDING",s="WIKI_DIFF_LOADED",o="WIKI_DIFF_FAILED"},"./src/reddit/actions/wiki/wikiEditing/constants.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="WIKI_PAGE_SAVE_SUCCESS"},"./src/reddit/actions/wiki/wikiPageSettings/constants.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const r="PAGE__SUBREDDIT_WIKI_PAGE_SETTINGS_LOADED",s="SUBREDDIT_WIKI_PAGE_SETTINGS_UPDATED",o="SUBREDDIT_WIKI_PAGE_CONTRIBUTOR_REOVED",i="SUBREDDIT_WIKI_PAGE_MORE_CONTRIBUTORS_LOADED"},"./src/reddit/actions/wiki/wikiRevisions/constants.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c}));const r="WIKI_REVISIONS_PENDING",s="WIKI_REVISIONS_LOADED",o="WIKI_REVISIONS_FAILED",i="WIKI_PAGE_REVERT_SUCCESS",c="WIKI_REVISION_TOGGLE_VISIBILITY"},"./src/reddit/components/Comments/helpers/hiddenComments.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));let r={};function s(e){return e in r}function o(e){r[e]=!0}function i(){r={}}},"./src/reddit/components/ContentGate/index.m.less":function(e,t,n){e.exports={ButtonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",buttonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",Container:"_32zGs4bO3IunZfS9bSJY0_",container:"_32zGs4bO3IunZfS9bSJY0_",Description:"_3VTI5BOpJO70xoBKSqz3O9",description:"_3VTI5BOpJO70xoBKSqz3O9",PrivateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",privateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",PrivateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",privateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",PrivateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",privateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",Link:"o4oSRcSrppMzf__hxJKxn",link:"o4oSRcSrppMzf__hxJKxn",LinkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",linkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",LinkButton:"_1_UhYZsTnAQbBONlhaTTMS",linkButton:"_1_UhYZsTnAQbBONlhaTTMS",SecondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",secondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",SecondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",secondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",GoHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",goHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",Image:"_1jefpljVGT-eHObg40F8Dm",image:"_1jefpljVGT-eHObg40F8Dm",ImagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",imagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",LeftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",leftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",LeftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",leftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",SecondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",secondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",SecondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",secondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",Title:"_2XKLlvmuqdor3RvVbYZfgz",title:"_2XKLlvmuqdor3RvVbYZfgz",PageBody:"bDDEX4BSkswHAG_45VkFB",pageBody:"bDDEX4BSkswHAG_45VkFB",QuarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n",quarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n"}},"./src/reddit/components/ContentGate/index.tsx":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-router/esm/react-router.js"),a=n("./node_modules/reselect/es/index.js"),d=n("./src/app/strings/index.ts"),u=n("./src/lib/loginHref/index.ts"),l=n("./src/reddit/actions/contentGate.ts"),b=n("./src/reddit/actions/preferences.ts"),p=n("./src/reddit/components/CreateCommunityButton/index.tsx"),f=n("./src/lib/lessComponent.tsx"),m=n("./src/reddit/i18n/components.tsx"),O=n("./src/reddit/components/Footer/index.m.less"),g=n.n(O);const j=f.a.div("FooterContainer",g.a),y=f.a.div("UserAgreement",g.a),_=f.a.a("UserAgreementLink",g.a),h=f.a.a("PrivacyLink",g.a),E=Object(a.c)({language:e=>e.user.language});var I=Object(i.b)(E)(e=>{const{language:t}=e;return o.a.createElement(j,null,o.a.createElement(y,null,o.a.createElement(m.c,null,"Use of this site constitutes acceptance of our "),o.a.createElement(_,{href:"".concat(r.a.redditUrl,"/help/useragreement")},o.a.createElement(m.c,null,"User Agreement")),o.a.createElement(m.c,null," and  "),o.a.createElement(h,{href:"".concat(r.a.redditUrl,"/help/privacypolicy")},o.a.createElement(m.c,null,"Privacy Policy")),Object(d.a)(t,"footer.legalbottom.part3",{year:(new Date).getFullYear()})))}),v=n("./src/reddit/components/RawHTMLDisplay/index.tsx"),S=(n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/lodash/flatMap.js")),T=n.n(S),C=n("./src/lib/linkMatchers/index.ts"),w=n("./src/reddit/controls/OutboundLink/index.tsx");const x=/\[(.+?)\]\((.+?)\)/g,D=e=>{const t=e.split(x);if(1===t.length)return[e];const n=[];for(let r=0;r<t.length;r+=3){const[e,s,o]=t.slice(r,r+3);n.push(e),n.push([o,s])}return n};var P=o.a.memo(e=>{let t=[e.text];return e.parseMdLinks&&(t=T()(t,D)),e.parseRegularLinks&&(t=T()(t,e=>Array.isArray(e)?[e]:(e=>{const t=C.e.match(e);if(!t)return[e];const n=[];let r=null;for(const s of t)n.push(e.slice(r?r.lastIndex:0,s.index)),r=s,n.push([s.url,s.text]);return r&&n.push(e.slice(r.lastIndex)),n})(e))),o.a.createElement(o.a.Fragment,null," ",t.map((t,n)=>{if(Array.isArray(t)){const[r,s]=t;return o.a.createElement(w.a,{className:e.linkClassName,href:r,isSponsored:!1,key:n,source:null},s)}return o.a.createElement("span",{key:n},t)})," ")}),A=n("./src/reddit/controls/Button/index.tsx"),R=n("./src/reddit/selectors/meta.ts"),N=n("./src/reddit/selectors/user.ts"),k=n("./src/reddit/components/ContentGate/index.m.less"),L=n.n(k);n.d(t,"a",(function(){return se}));const U=f.a.div("ButtonsContainer",L.a),M=f.a.div("Container",L.a),F=f.a.div("Description",L.a),G=f.a.div("PrivateSubredditDetails",L.a),B=f.a.div("PrivateSubredditDescription",L.a),q=f.a.h3("PrivateSubredditName",L.a),V=f.a.a("Link",L.a),H=f.a.wrapped(A.h,"LinkRouterButton",L.a),W=f.a.wrapped(A.g,"LinkButton",L.a),K=f.a.wrapped(A.k,"SecondaryLinkRouterButton",L.a),J=f.a.wrapped(A.j,"SecondaryLinkButton",L.a),Y=f.a.wrapped(H,"GoHomeLinkButton",L.a),z=f.a.img("Image",L.a),Q=f.a.img("ImagePlaceholder",L.a),X=f.a.wrapped(H,"LeftLinkRouterButton",L.a),$=f.a.wrapped(W,"LeftLinkButton",L.a),Z=f.a.wrapped(J,"SecondaryLeftLinkButton",L.a),ee=f.a.wrapped(K,"SecondaryLeftLinkRouterButton",L.a),te=f.a.h3("Title",L.a),ne=f.a.div("PageBody",L.a),re=f.a.div("QuarantineMessageWrapper",L.a);var se;!function(e){e.CustomFeedDoesNotExist="CustomFeedDoesNotExist",e.GoldSubreddit="GoldSubreddit",e.Nsfw="Nsfw",e.NsfwCustomFeed="NsfwCustomFeed",e.PrivateSubreddit="PrivateSubreddit",e.ProfileDoesNotExist="ProfileDoesNotExist",e.ProfileDeleted="ProfileDeleted",e.ProfileSuspended="ProfileSuspended",e.QuarantinedSubreddit="QuarantinedSubreddit",e.SubredditBanned="SubredditBanned",e.SubredditDoesNotExist="SubredditDoesNotExist"}(se||(se={}));const oe=Object(a.c)({language:N.S,origin:R.h,user:N.i}),ie=Object(i.b)(oe,(e,t)=>{let{subredditName:n}=t;return{continueToQuarantinedSubreddit:async()=>{await e(b.A(n)),window.location.reload()},setCookieAndRedirect:async()=>{await e(l.i()),window.location.reload()}}}),ce=e=>{const{banMessage:t,contentGateType:n,continueToQuarantinedSubreddit:s,language:i,location:c,origin:a,quarantineRequiresEmail:l,quarantineMessage:b,quarantineMessageHtml:f,setCookieAndRedirect:O,subredditDescription:g,subredditName:j,user:y}=e;switch(n){case se.GoldSubreddit:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/gold/premium-crest.png")}),o.a.createElement(te,null,Object(d.a)(i,"contentGate.goldSubreddit.titlePremium",{subredditName:j})),o.a.createElement(F,null,o.a.createElement(m.c,null,"The moderators in this community have set it to Reddit Premium members only. You must upgrade to a Reddit Premium membership to continue.")),o.a.createElement(U,null,y?o.a.createElement(Z,{href:"".concat(r.a.redditUrl,"/premium")},o.a.createElement(m.c,null,"Get Premium")):o.a.createElement($,{href:Object(u.a)(c,a)},o.a.createElement(m.c,null,"Sign Up")),y?o.a.createElement(H,{to:"/"},o.a.createElement(m.c,null,"Go Home")):o.a.createElement(J,{href:Object(u.a)(c,a)},o.a.createElement(m.c,null,"Log In"))));case se.Nsfw:case se.NsfwCustomFeed:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/nsfw.png")}),o.a.createElement(te,null,n===se.Nsfw?Object(d.a)(i,"contentGate.over18.title"):o.a.createElement(m.c,null,"You must be 18+ to view this Custom Feed")),o.a.createElement(F,null,o.a.createElement(m.c,null,"You must be at least eighteen years old to view this content. Are you over eighteen and willing to see adult content?")),o.a.createElement(U,null,o.a.createElement(X,{to:"/"},o.a.createElement(m.c,null,"No")),o.a.createElement(J,{onClick:O},o.a.createElement(m.c,null,"Yes"))));case se.PrivateSubreddit:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/private.png")}),o.a.createElement(te,null,Object(d.a)(i,"contentGate.privateSubreddit.title",{subredditName:j})),g&&g.length&&o.a.createElement(G,null,o.a.createElement(q,null,"r/",j),o.a.createElement(B,null,o.a.createElement("div",null,g))),o.a.createElement(F,null,o.a.createElement(m.c,null,"The moderators in this community have set it to private. You must be a moderator or approved user to visit.")),o.a.createElement(U,null,y?o.a.createElement(Z,{href:"".concat(r.a.redditUrl,"/message/compose?to=/r/").concat(j)},o.a.createElement(m.c,null,"Message Mods")):o.a.createElement(Z,{href:Object(u.a)(c,a)},o.a.createElement(m.c,null,"Sign Up")),o.a.createElement(H,{to:"/"},y?Object(d.a)(i,"contentGate.privateSubreddit.goHome"):Object(d.a)(i,"contentGate.privateSubreddit.exploreReddit"))));case se.QuarantinedSubreddit:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/quarantined.png")}),o.a.createElement(te,null,o.a.createElement(m.c,null,"Are you sure you want to view this community?")),o.a.createElement(F,null,o.a.createElement(m.c,null,"This community is")," ",o.a.createElement(V,{href:"https://web.archive.org/web/20191204000722/https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits"},o.a.createElement(m.c,null,"quarantined")),o.a.createElement(re,null,f?o.a.createElement(v.a,{html:f}):b||Object(d.a)(i,"contentGate.quarantinedSubreddit.description")),o.a.createElement(m.c,null,"Are you certain you want to continue?")),o.a.createElement(U,null,((e,t,n,s)=>{return!(e&&e.hasVerifiedEmail)&&s?o.a.createElement(U,null,o.a.createElement(ee,{to:"/"},o.a.createElement(m.c,null,"No Thank You")),o.a.createElement(W,{href:"".concat(r.a.redditUrl,"/prefs/update")},o.a.createElement(m.c,null,"Verify Email"))):o.a.createElement(U,null,o.a.createElement(X,{to:"/"},o.a.createElement(m.c,null,"No Thank You")),o.a.createElement(J,{onClick:n},o.a.createElement(m.c,null,"Continue")))})(y,0,s,l)));case se.SubredditBanned:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/content-gate-icons/banned.png")}),o.a.createElement(te,null,Object(d.a)(i,"contentGate.subredditBanned.title",{subredditName:j})),(e=>o.a.createElement(F,null,e?o.a.createElement(P,{linkClassName:L.a.Link,text:e,parseMdLinks:!0,parseRegularLinks:!0}):o.a.createElement(m.c,null,"This community has been banned for violating the Reddit rules.")))(t),o.a.createElement(U,null,o.a.createElement(H,{to:"/"},o.a.createElement(m.c,null,"Explore Reddit"))));case se.SubredditDoesNotExist:return o.a.createElement("div",null,o.a.createElement(Q,null),o.a.createElement(te,null,Object(d.a)(i,"contentGate.subredditDoesNotExist.title",{subredditName:j})),o.a.createElement(U,null,y&&o.a.createElement(p.a,{eventSource:"content_gate"}),o.a.createElement(Y,{to:"/"},o.a.createElement(m.c,null,"Go Home"))));case se.ProfileDoesNotExist:case se.ProfileDeleted:case se.ProfileSuspended:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/snoomoji/snoo_thoughtful.png")}),o.a.createElement(te,null,(e=>{const{contentGateType:t,profileName:n}=e;switch(t){case se.ProfileDeleted:return o.a.createElement(m.c,null,"This user has deleted their account.");case se.ProfileSuspended:return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.c,null,"This account has been")," ",o.a.createElement(V,{href:"https://web.archive.org/web/20191204000722/https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/suspensions"},o.a.createElement(m.c,null,"suspended")),".");case se.ProfileDoesNotExist:return o.a.createElement(m.c,null,"Sorry, ",o.a.createElement(m.b,{name:"profile-name"},"u/".concat(n))," is banned or doesn't exist.")}})(e)),o.a.createElement(U,null,o.a.createElement(Y,{to:"/"},o.a.createElement(m.c,null,"Go Home"))));case se.CustomFeedDoesNotExist:return o.a.createElement("div",null,o.a.createElement(z,{src:"".concat(r.a.assetPath,"/img/snoomoji/snoo_thoughtful.png")}),o.a.createElement(te,null,o.a.createElement(m.c,null,"Sorry, this custom feed is private or does not exist.")),o.a.createElement(U,null,o.a.createElement(Y,{to:"/"},o.a.createElement(m.c,null,"Go Home"))))}};t.b=ie(Object(c.i)(e=>o.a.createElement(M,null,o.a.createElement("div",null,o.a.createElement(ne,null,ce(e))),o.a.createElement(I,null))))},"./src/reddit/components/CreateCommunityButton/index.m.less":function(e,t,n){e.exports={SecondaryButton:"_3U-J6NPoBHbyibarrb7T3F",secondaryButton:"_3U-J6NPoBHbyibarrb7T3F",StyledTooltip:"FIYolDqalszTnjjNfThfT",styledTooltip:"FIYolDqalszTnjjNfThfT"}},"./src/reddit/components/CreateCommunityButton/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/reddit/actions/tooltip.ts"),a=n("./src/reddit/components/InfoTextTooltip/index.tsx"),d=n("./src/reddit/components/TrackingHelper/index.tsx"),u=n("./src/reddit/controls/Button/index.tsx"),l=n("./src/reddit/helpers/overlay/index.ts"),b=n("./src/reddit/helpers/trackers/subredditCreation.ts"),p=n("./src/reddit/i18n/components.tsx"),f=n("./src/reddit/i18n/utils.ts"),m=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/components/CreateCommunityButton/index.m.less"),g=n.n(O),j=n("./src/lib/lessComponent.tsx");const y="create-community-button",_=j.a.wrapped(u.i,"SecondaryButton",g.a),h=j.a.wrapped(a.c,"StyledTooltip",g.a),E=Object(i.c)({userDoesNotHaveEnoughExpToCreateCommunity:e=>!Object(m.db)(e),userIsSuspended:m.O});t.a=Object(o.b)(E,(e,t)=>{let{eventSource:n}=t;return{openCommunityCreation:t=>{t(Object(b.b)(n)),e(Object(l.a)("/subreddits/create"))},onShowTooltip:()=>e(Object(c.f)({tooltipId:y})),onHideTooltip:()=>e(Object(c.h)())}})(Object(d.b)(e=>{let{className:t,eventSource:n,onShowTooltip:r,onHideTooltip:o,openCommunityCreation:i,sendEvent:c,userDoesNotHaveEnoughExpToCreateCommunity:a,userIsSuspended:d}=e;return s.a.createElement(_,{className:t,disabled:d||a,onClick:()=>i(c),onMouseEnter:r,onMouseLeave:o,id:y},s.a.createElement(p.c,null,"Create Community"),a?s.a.createElement(h,{caretOnTop:!0,tooltipId:y,text:Object(f.c)("To prevent spam, accounts must be at least 30 days old and have enough positive karma to create communities.")}):d?s.a.createElement(h,{caretOnTop:!0,tooltipId:y,text:Object(f.c)("Accounts banned from the site can not create communities until the ban is lifted.")}):null)}))},"./src/reddit/components/Flatlist/getFlatlistTooltipId.ts":function(e,t,n){"use strict";t.a=(e,t,n)=>{const r="".concat(e,"--").concat(t);return n?"".concat(r,"--").concat(n):r}},"./src/reddit/components/Footer/index.m.less":function(e,t,n){e.exports={FooterContainer:"_3qDK09Tb3ktpZiYXSfeMzE",footerContainer:"_3qDK09Tb3ktpZiYXSfeMzE",UserAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",userAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",UserAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",userAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",PrivacyLink:"_2mk2nvnRu7inPdJY2i-H79",privacyLink:"_2mk2nvnRu7inPdJY2i-H79"}},"./src/reddit/components/GildModal/getGildModalId.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const r=(e,t)=>{const n="".concat("GILD_MODAL_ID","-[thingId: ").concat(e,"]");return void 0!==t?n+"-isOverlay[".concat(t,"]"):n};t.a=r},"./src/reddit/components/InfoTextTooltip/index.m.less":function(e,t,n){e.exports={Text:"HQ2VJViRjokXpRbJzPvvc",text:"HQ2VJViRjokXpRbJzPvvc",BottomText:"_3uK2I0hi3JFTKnMUFHD2Pd",bottomText:"_3uK2I0hi3JFTKnMUFHD2Pd","fade-in":"_1tIZttmhLdrIGrB-6VvZcT",fadeIn:"_1tIZttmhLdrIGrB-6VvZcT"}},"./src/reddit/components/InfoTextTooltip/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return g}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./src/higherOrderComponents/addOverlayEvents.tsx"),a=n("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=n("./src/reddit/selectors/tooltip.ts"),u=n("./src/reddit/components/InfoTextTooltip/index.m.less"),l=n.n(u),b=n("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const f=b.a.div("Text",l.a),m=b.a.div("BottomText",l.a),O=e=>s.a.createElement(f,{className:e.className,style:e.style},e.text,e.children),g=e=>{const t=e.overflow?e.overflow.left:0;return s.a.createElement(m,{className:e.className,style:Object.assign({},e.style,{"--infoTextTooltip-overflow-left":"".concat(t,"px")})},e.text,e.children)},j=Object(i.c)({isOpen:(e,t)=>{let{tooltipId:n}=t;return Object(d.b)(n)(e)}}),y=Object(a.a)(g,[c.a.Click,c.a.Keydown]),_=Object(a.a)(O,[c.a.Click,c.a.Keydown]),h=Object(o.b)(j);t.c=h(e=>{const{caretOnTop:t}=e;return t?s.a.createElement(y,p({},e,{targetPosition:["center","bottom"],tooltipPosition:["center","top"]})):s.a.createElement(_,p({},e,{targetPosition:["center","top"],tooltipPosition:["center","bottom"]}))})},"./src/reddit/components/NotificationBanners/bannerIds.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.EmailCollectionBannerId="email-collection-banner-id"}(r||(r={}))},"./src/reddit/components/OverlayAwareTooltip/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/higherOrderComponents/asTooltip.tsx"),i=n("./src/reddit/constants/elementIds.ts"),c=n("./src/reddit/contexts/InsideOverlay.tsx");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){const n=Object(o.a)(e,t);class r extends s.a.PureComponent{constructor(){super(...arguments),this.state={container:null}}componentDidMount(){if(this.props.isOverlay){const e=document.getElementById(i.d);this.setState({container:e})}}render(){return s.a.createElement(n,a({},this.props,{container:this.state.container,excludeContainerPosition:this.props.isOverlay}))}}return Object(c.b)(r)}},"./src/reddit/components/RawHTMLDisplay/index.m.less":function(e,t,n){e.exports={StyledRawHTMLDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH",styledRawHtmlDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH"}},"./src/reddit/components/RawHTMLDisplay/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/polished/dist/polished.es.js"),s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/react-redux/es/index.js"),c=n("./src/lib/CSSVariableProvider/withTheme.tsx"),a=n("./src/lib/lessComponent.tsx"),d=n("./src/reddit/actions/page.ts"),u=n("./src/reddit/models/Theme/NewColorSystem/index.ts"),l=n("./src/reddit/components/RawHTMLDisplay/index.m.less"),b=n.n(l);const p=Object(i.b)(null,e=>({onNavigate:t=>e(Object(d.I)(t))})),f=a.a.wrapped(e=>o.a.createElement("div",{className:e.className,dangerouslySetInnerHTML:{__html:e.html},onClick:t=>{((e,t,n)=>{if(!e.ctrlKey&&!e.metaKey&&1!==e.button&&"A"===e.target.tagName){e.preventDefault(),t(e.target.getAttribute("href"))}e.target.classList&&e.target.classList.contains("md-spoiler-text")&&(e.target.dataset.revealed=!0),n&&n(e)})(t,e.onNavigate,e.onClick)},style:Object.assign({},e.style,{"--RawHTMLDisplay-tr-even":Object(r.j)(Object(u.a)(e).body,.8),"--RawHTMLDisplay-tr-odd":Object(r.j)(Object(u.a)(e).line,.8)})}),"StyledRawHTMLDisplay",b.a);t.a=p(Object(c.a)(f))},"./src/reddit/components/RichTextEditor/RTEState/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return O}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./node_modules/uuid/v4.js"),i=n.n(o),c=n("./src/reddit/components/RichTextEditor/styleAndBlockTypes.ts"),a=n("./src/reddit/models/RichTextJson/index.ts");let d;const u=e=>d=e,l=()=>{if(!d)throw new Error("DraftHelpers must be initialized!");return d},b=()=>i()().slice(-6),p=/\S/,f=e=>e&&e.document&&Array.isArray(e.document);class m{static hasContent(e){if(e.isBound){return e.editorState.getCurrentContent().getBlockMap().some(e=>!!e&&(Object(c.t)(e.getType())||Object(c.v)(e.getType())||p.test(e.getText())))}return!Object(a.F)(e.initialRTJSON)}static getTextLength(e){return e.isBound?e.editorState.getCurrentContent().getPlainText().length:0}static getRawText(e){if(e.isBound)return e.editorState.getCurrentContent().getPlainText()}static isContentEqual(e,t){if(e.isBound&&t.isBound){return e.editorState.getCurrentContent()===t.editorState.getCurrentContent()}return!e.isBound&&!t.isBound&&s()(e.initialRTJSON,t.initialRTJSON)}static toRichTextJSON(e,t){if(e.isBound){const n=e.editorState.getCurrentContent();return{document:l().draftToRTFJson(n,t)}}return e.initialRTJSON}static getPendingThumbnailUploads(e,t){if(e.isBound){const{editorState:n}=e;return l().getPendingThumbnailUploads(n.getCurrentContent(),t)}}static getMediaCount(e){if(e.isBound){const{editorState:t}=e;return l().getMediaCount(t.getCurrentContent())}return{gifvideo:0,image:0,video:0,total:0}}static isAllMediaUploaded(e,t){if(e.isBound){const n=e.editorState.getCurrentContent();return l().isAllMediaUploaded(n,t)}return!0}}m.createInitial=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.i,t=arguments.length>1?arguments[1]:void 0;return f(e)?{isBound:!1,editorKey:b(),initialRTJSON:e,mediaMetadataMap:t}:(console.warn("invalid RTJSON",e),m.createInitial())};const O=m},"./src/reddit/components/RichTextEditor/styleAndBlockTypes.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"g",(function(){return s})),n.d(t,"r",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"s",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"v",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"u",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"o",(function(){return h})),n.d(t,"t",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return S}));n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/app/strings/index.ts");const r={BOLD:"BOLD",ITALIC:"ITALIC",SPOILER:"SPOILER",STRIKETHROUGH:"STRIKETHROUGH",SUBSCRIPT:"SUBSCRIPT",SUPERSCRIPT:"SUPERSCRIPT",UNDERLINE:"UNDERLINE",MONOSPACE:"MONOSPACE",HIGHLIGHT:"HIGHLIGHT"},s={H1:"header-one",H2:"header-two",H3:"header-three",H4:"header-four",H5:"header-five",H6:"header-six"},o=new Set(["header-one","header-two","header-three","header-four","header-five","header-six"]),i=e=>o.has(e),c="unstyled",a={"header-one":1,"header-two":2,"header-three":3,"header-four":4,"header-five":5,"header-six":6},d={1:"header-one",2:"header-two",3:"header-two",4:"header-two",5:"header-two",6:"header-two"},u={ORDERED:"ordered-list-item",UNORDERED:"unordered-list-item"},l=e=>"ordered-list-item"===e||"unordered-list-item"===e,b="blockquote",p=e=>e===b,f="code-block",m=e=>e===f,O="table-cell",g=e=>e===O,j="media-caption",y=e=>e===j,_="atomic",h=e=>e===_,E=e=>h(e)||y(e),I=Object.assign({CODE_BLOCK:f,BLOCK_QUOTE:b,ATOMIC_BLOCK:_,ORDERED_LIST:u.ORDERED,TABLE_CELL:O,UNORDERED_LIST:u.UNORDERED,UNSTYLED:c,MEDIA_CAPTION:j},s),v=[c,b,O,u.ORDERED,u.UNORDERED],S=[c,b,u.ORDERED,u.UNORDERED]},"./src/reddit/components/Settings/modalIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}));const r="change_email_modal_id",s="check_email_modal_id",o="set_email_modal_id",i="verify_email_modal_id"},"./src/reddit/components/TrackingHelper/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/prop-types/index.js"),s=n.n(r),o=n("./node_modules/react/index.js"),i=n.n(o),c=n("./src/reddit/selectors/telemetry.ts"),a=n("./src/telemetry/index.ts");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class u extends i.a.Component{getChildContext(){return{sendEvent:e=>{{const t=this.context.store.getState(),n=e(t);Object(a.a)(Object.assign({},c.defaults(t),n))}}}}render(){return this.props.children?i.a.Children.only(this.props.children):null}}function l(e){var t;return(t=class extends i.a.Component{render(){return i.a.createElement(e,d({},this.props,{sendEvent:this.context.sendEvent}))}}).contextTypes={sendEvent:s.a.func},t}u.contextTypes={store:s.a.object.isRequired},u.childContextTypes={sendEvent:s.a.func.isRequired}},"./src/reddit/constants/adEvents.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Impression=1]="Impression",e[e.Click=2]="Click",e[e.CommentsView=3]="CommentsView",e[e.Upvote=4]="Upvote",e[e.Downvote=5]="Downvote",e[e.CommentSubmitted=6]="CommentSubmitted",e[e.ViewableImpression=7]="ViewableImpression",e[e.CommentUpvote=8]="CommentUpvote",e[e.CommentDownvote=9]="CommentDownvote",e[e.VideoViewableImpression=100]="VideoViewableImpression",e[e.VideoFullyViewableImpression=101]="VideoFullyViewableImpression",e[e.VideoPlayedWithSound=102]="VideoPlayedWithSound",e[e.VideoPlayedExpanded=103]="VideoPlayedExpanded",e[e.VideoWatched25=104]="VideoWatched25",e[e.VideoWatched50=105]="VideoWatched50",e[e.VideoWatched75=106]="VideoWatched75",e[e.VideoWatched95=107]="VideoWatched95",e[e.VideoWatched100=108]="VideoWatched100",e[e.VideoStarted=109]="VideoStarted",e[e.VideoWatchedSeconds3=110]="VideoWatchedSeconds3",e[e.VideoWatchedSeconds5=111]="VideoWatchedSeconds5",e[e.VideoWatchedSeconds10=112]="VideoWatchedSeconds10"}(r||(r={}))},"./src/reddit/constants/blade.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return m}));var r,s,o=n("./src/config.ts");!function(e){e.NameAndIcon="nameAndIcon",e.Banner="banner",e.Global="global"}(r||(r={})),function(e){e.Appearance="community_appearance",e.Main="community_mod_tools",e.MenuLinks="menu_links",e.PostFlairManagement="postflairmanagement",e.Structure="community_structure",e.UserFlairManagement="userflairmanagement",e.Widgets="community_widgets"}(s||(s={}));const i={global:"theme",nameAndIcon:"name_icon",banner:"banner",menu:"menu",post:"posts",exportImport:"export_import",menuLinks:"menu_links",widgets:"widgets",addWidget:"add_widget",editWidget:"edit_widget",newWidget:"new_widget",reorderWidgets:"reorder_widgets",main:"main",css:"css",idCard:"id_card"},c={global:s.Appearance,nameAndIcon:s.Appearance,banner:s.Appearance,menu:s.Appearance,post:s.Appearance,exportImport:s.Appearance,menuLinks:s.Appearance,widgets:s.Appearance,addWidget:s.Widgets,editWidget:s.Widgets,newWidget:s.Widgets,reorderWidgets:s.Widgets,main:s.Main,css:s.Appearance,idCard:"id_card"},a={button:"button_widget",calendar:"calendar_widget",custom:"custom_widget",image:"image_widget","id-card":"id_card",moderators:"moderators_widget","community-list":"community_list_widget","subreddit-rules":"rules_widget",textarea:"text_widget","post-flair":"post_flair_widget"};var d;!function(e){e.Add="add",e.AssignOwnOff="assign_own_off",e.AssignOwnOn="assign_own_on",e.Edit="edit",e.EnableOff="enable_off",e.EnableOn="enable_on",e.Remove="remove",e.Reorder="reorder"}(d||(d={}));const u={primaryColor:s.Appearance,highlightColor:s.Appearance,backgroundColor:s.Appearance,postTitleColor:s.Appearance,postBackgroundColor:s.Appearance,postDownvoteCountColor:s.Appearance,postUpvoteCountColor:s.Appearance,bannerBackgroundColor:s.Appearance,bannerOverlayColor:s.Appearance,menuBackgroundColor:s.Appearance,menuLinkColorActive:s.Appearance,menuLinkColorInactive:s.Appearance,menuLinkColorHover:s.Appearance,mobileKeyColor:s.Appearance,sidebarWidgetBackgroundColor:s.Widgets,sidebarWidgetHeaderColor:s.Widgets,submenuBackgroundColor:s.Appearance,buttonWidgetButtonColor:s.Widgets,buttonWidgetTextColor:s.Widgets,buttonWidgetFillColor:s.Widgets,buttonWidgetHoverButtonColor:s.Widgets,buttonWidgetHoverTextColor:s.Widgets,buttonWidgetHoverFillColor:s.Widgets},l={primaryColor:i.global,highlightColor:i.global,backgroundColor:i.global,postTitleColor:i.post,postBackgroundColor:i.post,postDownvoteCountColor:i.post,postUpvoteCountColor:i.post,bannerBackgroundColor:i.banner,bannerOverlayColor:i.banner,menuBackgroundColor:i.menu,menuLinkColorActive:i.menu,menuLinkColorInactive:i.menu,menuLinkColorHover:i.menu,mobileKeyColor:void 0,sidebarWidgetBackgroundColor:i.widgets,sidebarWidgetHeaderColor:i.widgets,submenuBackgroundColor:i.menu,buttonWidgetButtonColor:i.widgets,buttonWidgetTextColor:i.widgets,buttonWidgetFillColor:i.widgets,buttonWidgetHoverButtonColor:i.widgets,buttonWidgetHoverTextColor:i.widgets,buttonWidgetHoverFillColor:i.widgets},b={main:"structuredStyles.forms.main.title",global:"structuredStyles.forms.global.title",banner:"structuredStyles.forms.banner.title",menu:"structuredStyles.forms.menu.title",nameAndIcon:"structuredStyles.forms.nameAndIcon.title",post:"structuredStyles.forms.post.title",exportImport:"structuredStyles.forms.themes.title",widgets:"structuredStyles.forms.widgetManager.title",addWidget:"structuredStyles.forms.addWidget.title",newWidget:"structuredStyles.forms.newWidget.title",editWidget:"structuredStyles.forms.editWidget.title",menuLinks:"structuredStyles.forms.menuLinks.title",css:"",reorderWidgets:"",idCard:""},p={button:"structuredStyles.widgets.button.label","subreddit-rules":"structuredStyles.widgets.subreddit-rules.label",textarea:"structuredStyles.widgets.textarea.label",image:"structuredStyles.widgets.image.label","community-list":"structuredStyles.widgets.community-list.label",calendar:"structuredStyles.widgets.calendar.label",custom:"structuredStyles.widgets.custom.label","id-card":"structuredStyles.widgets.id-card.label","post-flair":"structuredStyles.widgets.post-flair.label"},f=e=>"".concat(o.a.redditHelpUrl.modHelpCenter,"hc/en-us/articles/").concat(e),m={exportImport:f("360008722771-Customize-Appearance-overview"),global:f("360008551632-Color-theme"),nameAndIcon:f("360008805651-Name-icon"),banner:f("360010112892-Banner"),menu:f("360010387851-Menu"),post:f("360010192832-Posts"),menuLinks:f("360010442571-Menu-Links"),widgets:f("360010364372-Sidebar-Widgets")}},"./src/reddit/constants/categories.tsx":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return m}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r,s=n("./src/reddit/helpers/name/index.ts");!function(e){e.Advice="advice",e.Animals="animals",e.Art="art",e.DIY="dIY",e.Electronics="electronics",e.Entertainment="entertainment",e.Fashion="fashion",e.Food="food",e.Funny="funny",e.Gaming="gaming",e.Health="health",e.Memes="memes",e.Music="music",e.News="news",e.Outdoors="outdoors",e.Photography="photography",e.PicsAndGifs="picsAndGifs",e.Relationships="relationships",e.Science="science",e.Sports="sports",e.Tv="tv",e.Tech="tech",e.Travel="travel",e.VideoGames="videoGames",e.Videos="videos",e.Vroom="vroom",e.Writing="writing"}(r||(r={}));const o=e=>{let t="";for(let n=0;n<e.length;n++)t+=e[n],n<e.length-1&&(t+="+");return t},i=e=>"/r/".concat(o(e),"/"),c=["#FAAF2A","#96DE50","#F9862D","#2EA1EA","#297ACA","#4DCF65","#96DE50","#F9862D","#FAAF2A","#297ACA","#2EA1EA","#2EA1EA","#37D2BB","#4DCF65","#297ACB","#96DE50","#F9862D","#FAAF2A","#297ACA","#2EA1EA","#297ACA","#37D2BB","#96DE50","#37D2BB","#4DCF65","#37D2BB","#F9862D"],a="event",d="geopopular",u=/\s/g,l=/&/g,b=/_and_/g,p=/_/g,f=e=>e?Object(s.f)(e).replace(u,"_").replace(l,"and"):"",m=e=>e?Object(s.f)(e).replace(b," & ").replace(p," "):""},"./src/reddit/constants/chat.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a}));const r={public:"room_public",private:"room_private"},s=140,o=30,i=10,c=500;var a;!function(e){e.SubredditChatNotifcationFtux="chat_subreddit_notification_ftux"}(a||(a={}))},"./src/reddit/constants/comments.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Comment="comment",e.MoreComments="moreComments",e.ContinueThread="continueThread"}(r||(r={}))},"./src/reddit/constants/cookie.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p}));const r="USER",s="alphaModal",o="over18",i="mod_mode_enabled",c="m2m_v5",a="recent_srs",d="_recentclicks2",u="eu_cookie_v2",l="uapp_cookie",b="nightmode",p="_options"},"./src/reddit/constants/elementIds.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i}));const r="bladeContainer",s="header",o="overlayScrollContainer",i="collectionPostListScrollContainer"},"./src/reddit/constants/errors.ts":function(e,t,n){"use strict";var r,s;n.d(t,"a",(function(){return r})),function(e){e.BannedProfile="BANNED",e.DeletedProfile="DELETED",e.NotFoundProfile="NOT_FOUND",e.ForbiddenProfile="FORBIDDEN"}(r||(r={})),function(e){e.Unknown="Unknown"}(s||(s={}))},"./src/reddit/constants/experiments.ts":function(e,t,n){"use strict";n.d(t,"Sb",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"tb",(function(){return o})),n.d(t,"ub",(function(){return i})),n.d(t,"Rb",(function(){return c})),n.d(t,"Eb",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"zb",(function(){return l})),n.d(t,"Q",(function(){return b})),n.d(t,"jb",(function(){return p})),n.d(t,"db",(function(){return f})),n.d(t,"eb",(function(){return m})),n.d(t,"gb",(function(){return O})),n.d(t,"hb",(function(){return g})),n.d(t,"ib",(function(){return j})),n.d(t,"A",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"q",(function(){return h})),n.d(t,"C",(function(){return E})),n.d(t,"Pb",(function(){return I})),n.d(t,"Qb",(function(){return v})),n.d(t,"I",(function(){return S})),n.d(t,"J",(function(){return T})),n.d(t,"K",(function(){return C})),n.d(t,"w",(function(){return w})),n.d(t,"kb",(function(){return x})),n.d(t,"Bb",(function(){return D})),n.d(t,"lb",(function(){return P})),n.d(t,"u",(function(){return A})),n.d(t,"F",(function(){return R})),n.d(t,"z",(function(){return N})),n.d(t,"y",(function(){return k})),n.d(t,"x",(function(){return L})),n.d(t,"Cb",(function(){return U})),n.d(t,"vb",(function(){return M})),n.d(t,"v",(function(){return F})),n.d(t,"B",(function(){return G})),n.d(t,"g",(function(){return B})),n.d(t,"Db",(function(){return q})),n.d(t,"Y",(function(){return V})),n.d(t,"p",(function(){return H})),n.d(t,"o",(function(){return W})),n.d(t,"Wb",(function(){return K})),n.d(t,"e",(function(){return J})),n.d(t,"n",(function(){return Y})),n.d(t,"m",(function(){return z})),n.d(t,"Ab",(function(){return Q})),n.d(t,"M",(function(){return X})),n.d(t,"P",(function(){return $})),n.d(t,"N",(function(){return Z})),n.d(t,"L",(function(){return ee})),n.d(t,"O",(function(){return te})),n.d(t,"Zb",(function(){return re})),n.d(t,"Vb",(function(){return ce})),n.d(t,"h",(function(){return ae})),n.d(t,"Ub",(function(){return de})),n.d(t,"wb",(function(){return le})),n.d(t,"yb",(function(){return be})),n.d(t,"X",(function(){return pe})),n.d(t,"Fb",(function(){return fe})),n.d(t,"Kb",(function(){return me})),n.d(t,"j",(function(){return Oe})),n.d(t,"Gb",(function(){return ge})),n.d(t,"rb",(function(){return je})),n.d(t,"ob",(function(){return ye})),n.d(t,"pb",(function(){return he})),n.d(t,"fb",(function(){return Ee})),n.d(t,"qb",(function(){return Ie})),n.d(t,"ab",(function(){return Se})),n.d(t,"t",(function(){return we})),n.d(t,"E",(function(){return xe})),n.d(t,"R",(function(){return Pe})),n.d(t,"sb",(function(){return Ae})),n.d(t,"Hb",(function(){return Re})),n.d(t,"i",(function(){return Ue})),n.d(t,"G",(function(){return Me})),n.d(t,"Tb",(function(){return Ge})),n.d(t,"nb",(function(){return Be})),n.d(t,"mb",(function(){return qe})),n.d(t,"Ib",(function(){return Ve})),n.d(t,"H",(function(){return He})),n.d(t,"xb",(function(){return We})),n.d(t,"l",(function(){return Ke})),n.d(t,"Jb",(function(){return Je})),n.d(t,"Z",(function(){return Ye})),n.d(t,"s",(function(){return ze})),n.d(t,"r",(function(){return Qe})),n.d(t,"Xb",(function(){return Xe})),n.d(t,"k",(function(){return $e})),n.d(t,"T",(function(){return nt})),n.d(t,"W",(function(){return rt})),n.d(t,"U",(function(){return st})),n.d(t,"S",(function(){return ot})),n.d(t,"V",(function(){return it})),n.d(t,"a",(function(){return ct})),n.d(t,"D",(function(){return at})),n.d(t,"Yb",(function(){return dt})),n.d(t,"bb",(function(){return ut})),n.d(t,"cb",(function(){return lt})),n.d(t,"Mb",(function(){return bt})),n.d(t,"Lb",(function(){return pt})),n.d(t,"Nb",(function(){return ft})),n.d(t,"Ob",(function(){return mt}));n("./node_modules/core-js/modules/web.dom.iterable.js");const r="typeahead_redesign",s="categories_entrypoint_redesign",o="rails_search_results_follow_button",i="redesign_explore_logged_out_v2",c="trends_all_platforms",a="subreddit_top_content",d="chat_posts_rollout_web",u="chat_posts_holdout",l="sequence_redesign",b="guest_survey_1",p="desktop_seo_post_v2_truncate",f="mux_sampling_a",m="mux_sampling_b",O="desktop_seo_post_v2_comment_depth",g="desktop_seo_post_v2_declutter",j="desktop_seo_post_v2_id_card",y="desktop_m2m_home_redirect",_="collapse_pinned_comments",h="d2x_shell_render_mitigation",E="email_collection_v1",I="top_subreddits_test",v="top_subreddits_test_mods_only",S="gold_awarded_comment_highlight",T="gold_extended_awards",C="gold_extended_awards_tooltip",w="desktop_general_cleanup",x="rpan_entry_point",D="streaming_subreddit_integration",P="public_awarding",A="desktop_cat_nav_placement_frontpage",R="desktop_guest_exp_filters",N="desktop_guest_exp_top_posts",k="desktop_guest_exp_post_height",L="desktop_guest_exp_pinned_posts",U="desktop_posting_difficulty_v2",M="redesign_subreddit_search_fix",F="desktop_frontpage_signup_v1",G="desktop_rails_widgets_frontpage",B="create_polls_painted_door",q="subreddit_mention_d2x",V="low_activity_call_to_action",H="d2x_gql_subreddit_page",W="d2x_gql_subreddit_more_posts",K="up_and_coming_leaderboard",J="web_chat_simple_reply",Y="d2x_frontpage_html_streaming_v1",z="d2x_commentspage_html_streaming_v1",Q="d2x_server_load_listing_below",X="guest_post_page_null_desc",$="guest_post_page_self_post_desc",Z="guest_post_page_qa_desc",ee="guest_post_page_long_titles",te="guest_post_page_short_titles";var ne;!function(e){e.Control1="control_1",e.Control2="control_2"}(ne||(ne={}));const re=e=>e===ne.Control1||e===ne.Control2;var se,oe,ie,ce,ae,de,ue,le,be,pe,fe,me,Oe,ge,je,ye,_e,he,Ee,Ie,ve,Se,Te,Ce,we,xe,De,Pe,Ae,Re,Ne,ke,Le,Ue,Me,Fe,Ge,Be,qe,Ve,He,We,Ke,Je,Ye,ze,Qe,Xe,$e,Ze,et,tt,nt,rt,st,ot,it;!function(e){e.Enabled="enabled"}(se||(se={})),function(e){e.Enabled="enabled"}(oe||(oe={})),function(e){e.Enabled="enabled"}(ie||(ie={})),function(e){e.Treatment1="treatment_1"}(ce||(ce={})),function(e){e.Treatment1="treatment_1"}(ae||(ae={})),function(e){e.Holdout="holdout",e.AdHoldout="ad_holdout"}(de||(de={})),function(e){e.TestTreatment1="toast",e.TestTreatment2="popup",e.TestTreatment3="knoxses"}(ue||(ue={})),function(e){e.Treatment1="treatment_1"}(le||(le={})),function(e){e.ExploreOld="explore_old",e.ExploreStandardSearchPost="explore_standard_search_post",e.ExploreStandardSearchCommunity="explore_standard_search_community",e.ExploreTrendingSearchCommunity="explore_trending_search_community",e.ExploreTrendingDUCommunity="explore_trending_du_community",e.ExploreTrendingDUCommunityPopular="explore_trending_du_community_pop"}(be||(be={})),function(e){e.On="on"}(pe||(pe={})),function(e){e.Active="active"}(fe||(fe={})),function(e){e.ShowTopContent="show_top_content"}(me||(me={})),function(e){e.Rollout="enabled",e.Holdout="holdout"}(Oe||(Oe={})),function(e){e.Treatment1="treatment1"}(ge||(ge={})),function(e){e.Truncate="truncate",e.SmallBanner="small_banner",e.Both="both"}(je||(je={})),function(e){e.Max1="max_1",e.Max2="max_2"}(ye||(ye={})),function(e){e.Treatment1="treatment_1",e.Treatment2="treatment_2"}(_e||(_e={})),function(e){e.NoActions="no_actions",e.NoAds="no_ads",e.NoWidgets="no_widgets",e.Combined="combined"}(he||(he={})),function(e){e.On="on"}(Ee||(Ee={})),function(e){e.IdCard="id_card",e.RailSwap="rail_swap"}(Ie||(Ie={})),function(e){e.Narrow="narrow",e.NarrowCard="narrow_card"}(ve||(ve={})),function(e){e.ListingCapped="listing_capped",e.ListingInfinite="listing_infinite",e.RightRail="right_rail",e.ListingInfiniteLightbox="listing_infinite_lightbox",e.RightRailLightbox="right_rail_lightbox"}(Se||(Se={})),function(e){e.Lightbox="lightbox"}(Te||(Te={})),function(e){e.Enabled="enabled"}(Ce||(Ce={})),function(e){e.ShellRendered="shell_rendered"}(we||(we={})),function(e){e.Tooltip="tooltip",e.Banner="banner",e.Footer1="footer_1",e.Footer2="footer_2",e.Modal="modal"}(xe||(xe={})),function(e){e.Variant1="variant_1"}(De||(De={})),function(e){e.TopBanner="top_banner",e.SortView="sort_view",e.All="all"}(Pe||(Pe={})),function(e){e.Enabled="enabled"}(Ae||(Ae={})),function(e){e.Enabled="enabled"}(Re||(Re={})),function(e){e.Treatment1="treatment_1"}(Ne||(Ne={})),function(e){e.PostsFromDifferentCommunities="posts_from_different_communities",e.CommunityDescWithPosts="community_desc_with_posts"}(ke||(ke={})),function(e){e.PostsFromDifferentCommunities="posts_from_different_communities",e.CommunityDescWithPosts="community_desc_with_posts"}(Le||(Le={})),function(e){e.Left="left",e.LeftBlue="left_blue",e.Top="top",e.TopBlue="top_blue"}(Ue||(Ue={})),function(e){e.FlairSidebar="flair_sidebar",e.FlairTop="flair_top",e.Sorts="sorts",e.TopBanner="top_banner"}(Me||(Me={})),function(e){e.TopicsAndDescriptionRequired="all_required",e.NoneRequired="none_required"}(Fe||(Fe={})),function(e){e.NoCommunityWidgets="no_community_widgets",e.NoRulesModerators="no_rules_moderators",e.RelatedPostsDu="related_posts_du"}(Ge||(Ge={})),function(e){e.MediumHeight="medium_height",e.OnlyTitles="only_titles"}(Be||(Be={})),function(e){e.Compact="compact",e.CompactTimeDelay="compact_time_delay"}(qe||(qe={})),function(e){e.Treatment1="sub_diff_warning_v1",e.Treatment2="sub_diff_warning_v2",e.Treatment3="sub_diff_recs_v1",e.Treatment4="sub_diff_recs_v2"}(Ve||(Ve={})),function(e){e.CurrentThrottled="current_throttled",e.CurrentUnthrottled="current_unthrottled",e.CurrentUnthrottledCopy="current_unthrottled_copy",e.NewPageUnthrottledCopy="new_page_unthrottled_copy",e.NewPageUnthrottledCopyFields="new_page_unthrottled_copy_fields",e.NewPopUnthrottledCopy="new_pop_unthrottled_copy"}(He||(He={})),function(e){e.TopMonth="top_month",e.Trending="trending",e.Geo="geo"}(We||(We={})),function(e){e.Treatment="treatment"}(Ke||(Ke={})),function(e){e.SmIcon="sm_icon",e.SmIconHc="sm_icon_hc"}(Je||(Je={})),function(e){e.ShowCta="show_cta"}(Ye||(Ye={})),function(e){e.Enabled="enabled"}(ze||(ze={})),function(e){e.Enabled="enabled"}(Qe||(Qe={})),function(e){e.All="all",e.Bffs="bffs"}(Xe||(Xe={})),function(e){e.Enabled="enabled"}($e||($e={})),function(e){e.FrontpageHTMLStreaming="frontpage_html_streaming"}(Ze||(Ze={})),function(e){e.CommentspageHTMLStreaming="commentspage_html_streaming"}(et||(et={})),function(e){e.Treatment="treatment"}(tt||(tt={})),function(e){e.Metadata="metadata"}(nt||(nt={})),function(e){e.PostDescription="post_description"}(rt||(rt={})),function(e){e.PostDescription="post_description",e.TopComment="top_comment"}(st||(st={})),function(e){e.TruncTitleSubBrand="trunc_title_sub_brand",e.TruncTitleReddit="trunc_title_reddit",e.TruncTitleSub="trunc_title_sub"}(ot||(ot={})),function(e){e.TitleSubPtypeBrand="title_sub_ptype_brand",e.TitleSubPtypeCom="title_sub_ptype_com"}(it||(it={}));const ct={[ee]:[ot.TruncTitleSubBrand,ot.TruncTitleReddit,ot.TruncTitleSub],[te]:[it.TitleSubPtypeBrand,it.TitleSubPtypeCom],[Q]:[tt.Treatment],[X]:[nt.Metadata],[$]:[rt.PostDescription],[Z]:[st.PostDescription,st.TopComment],[z]:[et.CommentspageHTMLStreaming],[Y]:[Ze.FrontpageHTMLStreaming],[K]:[Xe.All,Xe.Bffs],[V]:[Ye.ShowCta],[q]:[Je.SmIcon,Je.SmIconHc],[H]:[ze.Enabled],[W]:[Qe.Enabled],[B]:[Ke.Treatment],[G]:[We.TopMonth,We.Trending,We.Geo],[F]:[He.CurrentThrottled,He.CurrentUnthrottled,He.CurrentUnthrottledCopy,He.NewPageUnthrottledCopy,He.NewPageUnthrottledCopyFields,He.NewPopUnthrottledCopy],[M]:[fe.Active],[k]:[Be.OnlyTitles,Be.MediumHeight],[L]:[qe.Compact,qe.CompactTimeDelay],[N]:[Ge.NoCommunityWidgets,Ge.NoRulesModerators,Ge.RelatedPostsDu],community_creation_topics:[Fe.TopicsAndDescriptionRequired,Fe.NoneRequired],[R]:[Me.FlairSidebar,Me.FlairTop,Me.Sorts,Me.TopBanner],[A]:[Ue.Top,Ue.Left,Ue.TopBlue,Ue.LeftBlue],[x]:[Ae.Enabled],[D]:[Re.Enabled],[P]:[Ne.Treatment1],focused_vertical_suggestion_v2:[ke.PostsFromDifferentCommunities,ke.CommunityDescWithPosts],focused_vertical_suggestion_test:[Le.PostsFromDifferentCommunities,Le.CommunityDescWithPosts],[w]:[Pe.TopBanner,Pe.SortView,Pe.All],[J]:[$e.Enabled],[S]:[se.Enabled],[T]:[oe.Enabled],[C]:[ie.Enabled],[I]:[De.Variant1],[v]:[De.Variant1],[E]:[xe.Tooltip,xe.Banner,xe.Footer1,xe.Footer2,xe.Modal],[_]:[Ce.Enabled],desktop_seo_post_v2_lightbox:[Te.Lightbox],[y]:[Se.ListingCapped,Se.ListingInfinite,Se.RightRail,Se.ListingInfiniteLightbox,Se.RightRailLightbox],desktop_seo_post_v2_narrow:[ve.Narrow,ve.NarrowCard],[j]:[Ie.IdCard,Ie.RailSwap],[g]:[he.NoActions,he.NoAds,he.NoWidgets,he.Combined],[O]:[ye.Max1,ye.Max2],[p]:[je.Truncate,je.SmallBanner,je.Both],[b]:[pe.On],[c]:[de.Holdout,de.AdHoldout],[r]:[ce.Treatment1],[s]:[ae.Treatment1],[o]:[le.Treatment1],[i]:[be.ExploreOld,be.ExploreStandardSearchPost,be.ExploreStandardSearchCommunity,be.ExploreTrendingSearchCommunity,be.ExploreTrendingDUCommunity,be.ExploreTrendingDUCommunityPopular],[a]:[me.ShowTopContent],[d]:[Oe.Rollout],[u]:[Oe.Holdout],[l]:[ge.Treatment1],[f]:[Ee.On],[m]:[Ee.On],[U]:[Ve.Treatment1,Ve.Treatment2,Ve.Treatment3,Ve.Treatment4]},at=new Set([A,R,F,i,b,E,y,"focused_vertical_suggestion_v2",G,Q,q]),dt=e=>e.reduce((e,t,n)=>(e[t]=n+1,e),{}),ut=(dt(["NFL","Gaming","Memes","Funny","Sports","Wholesome","Video Games","Pics & Gifs","Mindblowing","Videos","News","Cringe","Schadenfreude","Science","Relationships","Learning","Photography","Vroom","Tech","Crypto","TV","Aww","Popcorn","Parenting","Discussion","Food","Beauty","Outdoors","Fashion","Books & Writing","Art & Design","Nostalgia","Music","Travel","Health & Fitness"]),dt(["NFL","Discussion","Relationships","Sports","Gaming","News","Beauty","Health & Fitness","Learning","Parenting","Tech","Crypto","Science","Video Games","TV","Popcorn","Vroom","Food","Outdoors","Fashion","Books & Writing","Art & Design","Nostalgia","Music","Travel","Photography","Funny","Wholesome","Memes","Aww","Pics & Gifs","Mindblowing","Videos","Cringe","Schadenfreude"])),lt=dt(["Video Games","Memes","Sports","Wholesome","Pics & Gifs","Mindblowing","Videos","News","Science","Relationships","Finance & Business","Learning","Photography","Vroom","Tech","Crypto","TV","Aww","Parenting","Discussion","Gaming","Food","Beauty","Outdoors","Fashion","Books & Writing","Art & Design","Music","Travel","Health & Fitness"]),bt=50,pt=41,ft=20,mt=" …"},"./src/reddit/constants/explore.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=3,s=3},"./src/reddit/constants/featureThrottling.ts":function(e,t,n){"use strict";var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/models/FeatureThrottling/index.ts");n.d(t,"a",(function(){return o}));const o={[r.v]:(e=>({times:e,type:s.b.TimesPerSession}))(1)}},"./src/reddit/constants/flair.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return b}));var r=n("./src/reddit/constants/colors.ts"),s=n("./src/reddit/models/Flair/index.ts");const o=64,i=10,c=10,a=100,d=c*(a+1),u={backgroundColor:r.a.defaultFlair,id:"",modOnly:!1,textColor:s.e.Dark,textEditable:!1,richtext:[],text:"",type:s.f.Richtext},l="t3_flairPreviewExamplePost",b=350},"./src/reddit/constants/gold.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u}));const r="ModerationPage--Modal--AddAward",s="ModerationPage--Modal--DeleteAwardConfirmation",o=20,i=4,c=1e4,a=.2,d=.1,u=.1},"./src/reddit/constants/graphql.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Card="CARD",e.Classic="CLASSIC",e.Compact="COMPACT"}(r||(r={}))},"./src/reddit/constants/history.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.IsOverlay="isOverlay",e.ScrollOnLoad="scrollOnLoad",e.CloseLocation="closeLocation",e.JustLoggedIn="JustLoggedIn",e.JustLoggedOut="JustLoggedOut"}(r||(r={}))},"./src/reddit/constants/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o}));const r=3,s=5,o=10},"./src/reddit/constants/listings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/i18n/utils.ts");const r=new Set(["friends","random"]);var s;!function(e){e.All="all",e.Explore="explore",e.Home="home",e.Rpan="rpan",e.Popular="popular",e.SubredditCreation="subredditCreation",e.SubredditLeaderboard="subredditLeaderboard",e.Topic="topic",e.Layer="layer"}(s||(s={}));const o={[s.Home]:"/",[s.Popular]:"/r/popular/",[s.All]:"/r/all/",[s.Explore]:"/explore/",[s.Rpan]:"/rpan/",[s.SubredditCreation]:"/subreddits/create",[s.SubredditLeaderboard]:"/subreddits/leaderboard/",[s.Topic]:"/t/",[s.Layer]:"/r/layer/"}},"./src/reddit/constants/modals.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.ADD_REMOVAL_REASON="add_removal_reason",e.ALPHA_CONSUMER="alpha_consumer",e.BADGE_PICKER="badge_picker",e.BADGE_PURCHASE="badge_purchase",e.BAN_USER="ban_user",e.BLADE_NIGHTMODE="blade_nightmode",e.BLADE_UNSAVED_CHANGES="blade_unsaved_changes",e.CHANGE_PASSWORD_MODAL_ID="account_manager_change_password",e.CONFIRM_CLOSE_COIN_MODAL_ID="confirm_close_coin_modal_id",e.CONFIRM_CLOSE_PREMIUM_MODAL_ID="confirm_close_premium_modal_id",e.CONTRIBUTOR_REQUEST="contributor_request",e.CONTRIBUTOR_REQUEST_PENDING="contributor_request_pending",e.CREATE_SUBREDDIT_CHAT="create_subreddit_chat",e.DELETE_SUBREDDIT_CHAT="delete_subreddit_chat",e.DISABLE_TWO_FACTOR="disable_2fa_modal",e.ECONOMY_SUPPORT_MODAL="economy_support_modal",e.EDIT_SUBREDDIT_CHAT="edit_subreddit_chat",e.ENABLE_TWO_FACTOR="enable_2fa_modal",e.GOLD_INTRODUCTION="gold_introduction",e.GOLD_MODAL_CLICK_TEST="gold_modal_click_test",e.GOVERNANCE_OPT_OUT="governance_opt_out",e.GOVERNANCE_RELEASE_NOTES="governance_release_notes",e.HARBERGER_TAX_CRYPTO_BANNER_MANAGE="harberger_tax_crypto_banner_manage",e.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE="hargerger_tax_crypto_banner_purchase",e.HARBERGER_TAX_BANNER_MANAGE="harberger_tax_banner_manage",e.HARBERGER_TAX_BANNER_PURCHASE="harberger_tax_banner_purchase",e.KEYBOARD_SHORTCUTS="keyboard_shortcuts",e.LOGIN_MODAL_ID="account_manager_login",e.MANAGE_SUBREDDIT_CHAT="manage_subreddit_chat",e.MULTIREDDIT_ADD_SUBREDDIT="multireddit_add_subreddit",e.MULTIREDDIT_CREATE="multireddit_create",e.MULTIREDDIT_DUPLICATE="multireddit_duplicate",e.MULTIREDDIT_EDIT="multireddit_edit",e.MUTE_USER="mute_user",e.PINNED_POSTS_LIMIT_REACHED="pinned_posts_limit_reached",e.REDESIGN_MODAL="redesign_modal",e.REGISTER_MODAL_ID="account_manager_register",e.SPEZ_MODAL="spez_modal",e.SUBREDDIT_CHAT_SETTINGS="subreddit_chat_settings",e.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT="subreddit_premium_badge_management",e.SUBREDDIT_PREMIUM_GIFT_MODAL="subreddit_premium_gift",e.SUBREDDIT_PREMIUM_PURCHASE_MODAL="subreddit_premium_purchase",e.SUBREDDIT_PREMIUM_UPLOAD_MODAL="subreddit_premium_upload",e.TRANSFER_POINTS="community_points_transfer",e.TWO_FACTOR_BACKUP_CODES="two_factor_backup_codes",e.USER_FLAIR_MODAL_ID="user_flair_modal",e.PAINTER_MODAL="painter_modal",e.WALLET_REGISTRATION_MODAL="wallet_registration_modal"}(r||(r={}))},"./src/reddit/constants/page.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const r="(frontpage)",s="(modListing)",o="(modListingFiltered)",i="(explore)";var c;!function(e){e.Frontpage="frontpage",e.All="all",e.Mod="mod",e.Friends="friends",e.Popular="popular",e.Explore="explore",e.PostDetail="postDetail",e.Topic="topic",e.OtherDiscussions="otherDiscussions"}(c||(c={}));const a=c.Frontpage,d=c.Popular;var u;!function(e){e[e.Top=0]="Top",e[e.Posts=1]="Posts",e[e.Listings=2]="Listings"}(u||(u={}))},"./src/reddit/constants/parameters.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return f})),n.d(t,"t",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return j})),n.d(t,"r",(function(){return y})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return h})),n.d(t,"y",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"p",(function(){return C}));const r="category",s="category_name",o="draft",i="include_over_18",c="is_multi",a="moderator",d="action",u="newUser",l="q",b="connected_account",p="restrict_sr",f="sort",m="t",O="geo_filter",g="verified",j="verifiedEmail",y="source",_="v",h="v2",E="show_source",I="steward_only",v="feature",S=["ad","adHash","clickUrl",m,v],T=["after","before"],C=["ad","include_over_18","q","restrict_sr","sort","t","type",v,c,r,s,y]},"./src/reddit/constants/postCollection.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));const r=160,s=120,o=50},"./src/reddit/constants/preferences.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c}));const r="rpanDuDismissalTime",s="showRpanDu",o="topContentDismissalTime",i="topContentTimesDismissed",c=[...["openPostInNewTab","rememberCommunitySort","sort","stylesEnabled","useMarkdown","layout","rememberCommunityLayout","hasSeenCustomizeFlyout",r,s,o,i],"activityRelevantAds","thirdPartyDataPersonalizedAds","thirdPartySiteDataPersonalizedAds","thirdPartySiteDataPersonalizedContent"]},"./src/reddit/constants/shortcuts.ts":function(e,t,n){"use strict";var r,s;n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(r||(r={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(s||(s={}));const o="SHORTCUT_FOCUSABLE_DIV",i=[9,13,32]},"./src/reddit/constants/spezModal.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));const r="spezmodal",s=15692976e5,o=1569384e6,i="https://web.archive.org/web/20191204000722/https://www.usa.gov/register-to-vote",c="https://web.archive.org/web/20191204000722/https://out.reddit.com/t3_d0jy34?url=https%3A%2F%2Fwww.usa.gov%2Fregister-to-vote&token=AQAA7CWNXTo30aiSOjHV2gAgr4pleLxES4SoxFPkO0-ihMCYQYSC&app_name=web2x",a=1569531372e3},"./src/reddit/constants/stewards.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="CommunityStewards"},"./src/reddit/constants/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return m}));const r="DEFAULT",s="",o="All Communities",i="top",c="MOD",a="moderating",d="UPANDCOMING",u="up-and-coming",l="/subreddits/leaderboard/",b={id:s,name:s},p={id:d,name:u},f=[{name:"Sports",id:"c1015",path:"".concat(l,"sports/")},{name:"News",id:"c1009",path:"".concat(l,"news/")},{name:"Gaming",id:"c1005",path:"".concat(l,"gaming/")},{name:"Aww",id:"c1000",path:"".concat(l,"aww/")}],m=["Sports","Gaming","News","TV","Aww","Memes","Pics & Gifs","Travel","Tech","Music"]},"./src/reddit/constants/things.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r="t1_",s="t3_"},"./src/reddit/constants/thumbnails.ts":function(e,t,n){"use strict";var r;!function(e){e.NSFW="nsfw",e.SELF="self",e.IMAGE="image",e.DEFAULT="default",e.SPOILER="spoiler"}(r||(r={})),t.a=r},"./src/reddit/constants/tracking.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r={CLICK:"click",CLOSE:"close",COMPLETE:"complete",DISABLE:"disable",DRAG:"drag",ENABLE:"enable",REJECT:"reject",START:"start",STOP:"stop",VIEW:"view"},s={POST:"post",SCREEN:"screen"},o="media-element",i={allowChatPostCreation:"allow_chat_post_creation",allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowDiscovery:"allow_discovery",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",crowdControlLevel:"crowd_control_level",crowdControlChatLevel:"crowd_control_chat_level",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",isChatPostFeatureEnabled:"is_chat_post_feature_enabled",keyColor:"key_color",language:"lang",contentOptions:"link_type",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",suggestedCommentSort:"suggested_comment_sort",title:"title",subredditId:"subreddit_id",subredditType:"type",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"}},"./src/reddit/constants/video.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return f}));const r=250,s=500,o=25,i=50,c=75,a=95,d=100,u=[o,i,c,a,d],l=3,b=5,p=10,f=[l,b,p]},"./src/reddit/constants/viewabilityEvents.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Viewable=1]="Viewable",e[e.VideoViewable=2]="VideoViewable",e[e.VideoFullyViewable=3]="VideoFullyViewable",e[e.Impression=4]="Impression"}(r||(r={}))},"./src/reddit/constants/wiki.ts":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return f}));var r;n("./node_modules/core-js/modules/web.dom.iterable.js");!function(e){e.Create="create",e.Edit="edit",e.Revisions="revisions",e.Settings="settings"}(r||(r={}));const s="index",o="pages",i="config/automoderator",c="reddit.com",a=["config/description","config/sidebar","config/stylesheet","config/submit_text"],d="fromWikiEditButton",u=256,l=128,b=new Set(["edit","revisions","settings","discussions","revisions","pages","create"]),p=new Set(["reddit","config","special"]),f=3},"./src/reddit/contexts/InsideOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const i=s.a.createContext(!1);function c(e){return class extends s.a.Component{render(){return s.a.createElement(i.Consumer,null,t=>s.a.createElement(e,o({},this.props,{isOverlay:t})))}}}},"./src/reddit/contexts/PageLayer/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"t",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/reddit/contexts/PageLayer/selectors.ts");n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.c})),n.d(t,"d",(function(){return o.d})),n.d(t,"e",(function(){return o.e})),n.d(t,"f",(function(){return o.f})),n.d(t,"g",(function(){return o.g})),n.d(t,"h",(function(){return o.h})),n.d(t,"i",(function(){return o.i})),n.d(t,"j",(function(){return o.j})),n.d(t,"k",(function(){return o.k})),n.d(t,"l",(function(){return o.l})),n.d(t,"m",(function(){return o.m})),n.d(t,"n",(function(){return o.n})),n.d(t,"o",(function(){return o.o})),n.d(t,"p",(function(){return o.p})),n.d(t,"q",(function(){return o.q})),n.d(t,"r",(function(){return o.r})),n.d(t,"s",(function(){return o.s})),n.d(t,"u",(function(){return o.t})),n.d(t,"v",(function(){return o.u})),n.d(t,"w",(function(){return o.v})),n.d(t,"x",(function(){return o.w})),n.d(t,"y",(function(){return o.x})),n.d(t,"z",(function(){return o.y})),n.d(t,"A",(function(){return o.z})),n.d(t,"B",(function(){return o.A})),n.d(t,"C",(function(){return o.B})),n.d(t,"D",(function(){return o.C})),n.d(t,"E",(function(){return o.D})),n.d(t,"F",(function(){return o.E})),n.d(t,"G",(function(){return o.F})),n.d(t,"H",(function(){return o.G})),n.d(t,"I",(function(){return o.H})),n.d(t,"J",(function(){return o.I})),n.d(t,"K",(function(){return o.J})),n.d(t,"L",(function(){return o.K})),n.d(t,"M",(function(){return o.L})),n.d(t,"N",(function(){return o.M})),n.d(t,"O",(function(){return o.N})),n.d(t,"P",(function(){return o.O})),n.d(t,"Q",(function(){return o.P})),n.d(t,"R",(function(){return o.Q})),n.d(t,"S",(function(){return o.R})),n.d(t,"T",(function(){return o.S})),n.d(t,"U",(function(){return o.T})),n.d(t,"V",(function(){return o.U}));const i=s.a.createContext(null),c=(e,t)=>void 0!==t?Object.keys(t).reduce((n,r)=>(n[r]=t[r](e),n),{}):{pageLayer:e};function a(e){return t=>(class extends s.a.Component{constructor(){super(...arguments),this.renderChildren=n=>{const r=Object.assign({},this.props,c(n,e));return s.a.createElement(t,r)}}render(){return s.a.createElement(i.Consumer,null,this.renderChildren)}})}},"./src/reddit/contexts/PageLayer/selectors.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/objectSelector/index.ts"),d=n("./src/lib/search/index.ts"),u=n("./src/reddit/constants/categories.tsx"),l=n("./src/reddit/constants/page.ts"),b=n("./src/reddit/constants/parameters.ts"),p=n("./src/reddit/constants/postLayout.ts"),f=n("./src/reddit/constants/posts.ts");const m={access:!0,config:!0,flair:!0,mail:!0,posts:!0,wiki:!0,chatConfig:!0,chatOperator:!0,all:!0};var O=n("./src/reddit/helpers/flair.ts"),g=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/listingSort/index.ts")),j=n("./src/lib/makeListingKey/index.ts"),y=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),_=n("./src/reddit/selectors/frontpage.ts");var h=(e,t)=>{const{routeMatch:n,urlParams:r,queryParams:s}=t;if(!n)return;const o=(e=>{const{routeMatch:t,urlParams:n,queryParams:r}=e;if(!t)return;let s="";switch(t.route.meta.name){case i.xb.PROFILE_COMMENTS:case i.xb.PROFILE_POSTS:s=r.sort;break;default:s=n.sort}return s||void 0})(t);switch(n.route.meta.name){case i.xb.INDEX:case i.xb.LISTING:return o||Object(_.a)(e);case i.xb.SUBREDDIT:{const t=r,{subredditName:n}=t,o=Object(y.a)(t),c=Object(j.a)(n,o,s),a=e.listings.postOrder.listingSort[c];if(a){const{sort:e}=Object(g.d)(a.sort);return e}return i.O}default:return o||i.O}},E=n("./src/reddit/models/Flair/index.ts"),I=n("./src/reddit/models/Image/index.tsx"),v=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),S=n("./src/reddit/selectors/monthsToMinutes.ts"),T=n("./src/reddit/selectors/multireddit.ts"),C=n("./src/reddit/selectors/postCollection.ts"),w=n("./src/reddit/selectors/postDraft.ts"),x=n("./src/reddit/selectors/profile.ts"),D=n("./src/reddit/selectors/subreddit.ts"),P=n("./src/reddit/selectors/subredditModeration.ts"),A=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return R})),n.d(t,"y",(function(){return N})),n.d(t,"E",(function(){return k})),n.d(t,"K",(function(){return L})),n.d(t,"M",(function(){return U})),n.d(t,"x",(function(){return M})),n.d(t,"C",(function(){return F})),n.d(t,"A",(function(){return G})),n.d(t,"S",(function(){return B})),n.d(t,"v",(function(){return q})),n.d(t,"u",(function(){return V})),n.d(t,"z",(function(){return H})),n.d(t,"J",(function(){return W})),n.d(t,"D",(function(){return J})),n.d(t,"H",(function(){return z})),n.d(t,"F",(function(){return Q})),n.d(t,"I",(function(){return X})),n.d(t,"w",(function(){return $})),n.d(t,"c",(function(){return Z})),n.d(t,"a",(function(){return ee})),n.d(t,"s",(function(){return te})),n.d(t,"d",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"q",(function(){return se})),n.d(t,"m",(function(){return oe})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return ce})),n.d(t,"G",(function(){return ae})),n.d(t,"h",(function(){return de})),n.d(t,"i",(function(){return ue})),n.d(t,"j",(function(){return le})),n.d(t,"k",(function(){return be})),n.d(t,"B",(function(){return pe})),n.d(t,"g",(function(){return fe})),n.d(t,"O",(function(){return me})),n.d(t,"Q",(function(){return Oe})),n.d(t,"T",(function(){return ge})),n.d(t,"U",(function(){return je})),n.d(t,"L",(function(){return ye})),n.d(t,"N",(function(){return _e})),n.d(t,"r",(function(){return he})),n.d(t,"P",(function(){return Ee})),n.d(t,"b",(function(){return Ie})),n.d(t,"t",(function(){return ve})),n.d(t,"R",(function(){return Se})),n.d(t,"f",(function(){return Te})),n.d(t,"l",(function(){return Ce}));const R=e=>e?e.url:"",N=e=>!!(e&&e.routeMatch&&i.o.FRONTPAGE.includes(e.routeMatch.route.chunk)),k=e=>e&&e.routeMatch&&[i.o.FRONTPAGE,i.o.MULTIREDDIT,i.o.SUBREDDIT].includes(e.routeMatch.route.chunk),L=e=>e&&e.routeMatch&&e.routeMatch.route.chunk===i.o.TOPIC,U=(e,t)=>{let{pageLayer:n}=t;if(!n||!k(n)||!n.routeMatch)return null;const{match:r}=n.routeMatch,s=r.params.subredditName;if(!s)return null;const o=Object(D.B)(e,{subredditName:s});return o?o.name:s},M=(e,t)=>{let{pageLayer:n}=t;const r=U(e,{pageLayer:n});return!!r&&Object(c.a)(r)},F=(e,t)=>{let{pageLayer:n}=t;const r=U(e,{pageLayer:n}),s=N(n),o=Object(A.J)(e);return r===l.g||!o&&s&&!Object(S.g)(e)},G=(e,t)=>{let{pageLayer:n}=t;const r=U(e,{pageLayer:n});return!(r&&!Object(c.a)(r))},B=e=>{if(!e||!e.routeMatch)return;const{route:t}=e.routeMatch;return t.meta.name},q=e=>!(!e||!e.meta||e.meta.name!==i.xb.COMMENTS),V=e=>!!(e&&e.meta&&e.meta.name===i.xb.COMMENTS&&e.urlParams.partialCommentId),H=e=>!(!e||!e.meta||e.meta.name!==i.xb.SEARCH_RESULTS||e.urlParams.subredditName),W=e=>!!(e&&e.meta&&e.meta.name===i.xb.SEARCH_RESULTS&&e.urlParams.subredditName),K=e=>!(!e||!e.meta||e.meta.name!==i.xb.COMMENTS||f.b[e.urlParams.routePrefix]!==f.a.PROFILE),J=e=>!(!e||!e.meta||e.meta.name!==i.xb.POST_CREATION),Y=e=>!(!e||!e.meta||e.meta.name!==i.xb.POST_DRAFT),z=e=>!!(e&&e.meta&&i.ob.has(e.meta.name)),Q=e=>!!(e&&e.meta&&i.mb.has(e.meta.name)),X=e=>!!(e&&e.meta&&i.Gb.has(e.meta.name)),$=e=>!(!e||!e.meta||e.meta.name!==i.xb.EXPLORE),Z=e=>{const t=e&&e.urlParams;if(!t)return;const{multiredditName:n,username:r}=t;return{multiredditName:n,username:r}},ee=e=>{const t=e&&e.urlParams;return t?t.categoryName:void 0},te=e=>{const t=e&&e.urlParams;return t?Object(u.f)(t.topicName):void 0},ne=(e,t)=>{let{pageLayer:n}=t;const r=Z(n);if(!r)return null;const{multiredditName:s,username:o}=r;return s?Object(T.d)(e,{multiredditName:s,username:o}):null},re=(e,t)=>{let{pageLayer:n}=t;if(Y(n)){const t=ve(n);return Object(w.e)(e,{draftId:t})}const r=n&&n.urlParams;return r?r.subredditName:void 0},se=(e,t)=>{let{pageLayer:n}=t;if(n&&n.urlParams&&f.b[n.urlParams.routePrefix]===f.a.PROFILE)return null;const r=re(e,{pageLayer:n});return r?Object(D.B)(e,{subredditName:r}):null},oe=(e,t)=>{let{pageLayer:n}=t;const r=re(e,{pageLayer:n});return r?Object(D.G)(e,r):null},ie=(e,t)=>se(e,t)||le(e,t),ce=(e,t)=>{let{pageLayer:n}=t;const r=((e,t)=>{let{pageLayer:n}=t;const r=oe(e,{pageLayer:n});return r?e.postFlair[r]:null})(e,{pageLayer:n});return r?r.displaySettings.position:E.b.Right},ae=e=>!!(e&&e.routeMatch&&i.pb.has(e.routeMatch.route.meta.name))||K(e)||(e=>!(!e||!e.meta||e.meta.name!==i.xb.COLLECTION_COMMENTS||f.b[e.urlParams.routePrefix]!==f.a.PROFILE))(e),de=e=>{const t=e&&e.urlParams;return t?t.profileName:void 0},ue=e=>{if(e&&e.routeMatch&&B(e)===i.xb.PROFILE_PRIVATE)return e.routeMatch.match.params.listingType},le=(e,t)=>{let{pageLayer:n}=t;const r=K(n)?re(e,{pageLayer:n}):de(n);return r?Object(x.j)(e,{profileName:r}):null},be=(e,t)=>{let{pageLayer:n}=t;const r=K(n)?re(e,{pageLayer:n}):de(n);return r?Object(A.hb)(e,{userName:r}):null},pe=(e,t)=>{let{pageLayer:n}=t;const r=le(e,{pageLayer:n}),s=Object(A.i)(e),o=s&&(s.username?s.username:s.displayText);return!(!o||!r||o!==r.name)},fe=(e,t)=>{let{pageLayer:n}=t;if(pe(e,{pageLayer:n}))return m},me=(e,t)=>{let{pageLayer:n}=t;if(!n)return;const{key:r}=n;return e.platform.referrers[r]},Oe=e=>e?e.queryParams:{},ge=e=>{const t=B(e);if(e&&t&&t===i.xb.SEARCH_RESULTS)return e.queryParams[b.b]?Object(d.a)(e.queryParams[b.b]):Object(d.a)(e.queryParams[b.n])},je=e=>e?e.url:"",ye=(e,t)=>{let n,{pageLayer:r}=t;if(void 0!==(n=void 0===r?e.platform.currentPage:r)){const t=B(n);if(t===i.xb.POST_CREATION)return p.g.Large;if(t===i.xb.SUBREDDIT_WIKI)return p.g.Classic;if(t===i.xb.EXPLORE)return p.g.Classic;if(t===i.xb.TOPIC||Object(v.a)(e,{pageLayer:r})&&(N(r)||F(e,{pageLayer:r})))return p.g.Large;if(t===i.xb.PROFILE_SNOOBUILDER)return p.g.Classic;if(t===i.xb.SUBREDDIT&&e.user.prefs.rememberCommunityLayout){const t=((e,t)=>{let{pageLayer:n}=t;const r=oe(e,{pageLayer:n});if(r){const t=e.user.prefs.subreddit[r];if(t&&t.layout)return t.layout}return null})(e,{pageLayer:r});if(t)return p.b[t]}if(i.pb.has(t)){return _e(e,{pageLayer:r})?t===i.xb.PROFILE_POSTS||t===i.xb.PROFILE_PRIVATE?p.g.Classic:p.g.Compact:t===i.xb.PROFILE_OVERVIEW?p.g.Large:p.g.Classic}}return e.user.prefs.layout?p.b[e.user.prefs.layout]:p.g.Classic},_e=(e,t)=>{let{pageLayer:n}=t;return!!Object(P.t)(e)||!(!n||!n.meta)&&n.meta.name===i.xb.MODQUEUE_PAGES},he=(e,t)=>{let{pageLayer:n}=t;const r=oe(e,{pageLayer:n});if(!r)return!0;const s=e.subreddits.about[r];return!s||s.showMedia},Ee=Object(a.a)((e,t)=>{let{pageLayer:n,postId:r,flairStyleTemplateDraft:s}=t;const o=e.posts.models[r];if(!o)return;const c=o.flair.find(e=>Object(O.p)(e.type));if(!c||void 0===c.templateId)return;const a=oe(e,{pageLayer:n});if(!a||a!==o.belongsTo.id)return;if(!e.structuredStyles.models[a])return;const d=e.structuredStyles.flairTemplate,u=!!s;if(n&&n.meta&&n.meta.name===i.xb.MODERATION_PAGES&&!s)return;let l=s||d.models[c.templateId];if(!l)return;const b=!u&&Object(A.U)(e),p=n&&n.locationState&&n.locationState.isOverlay;if(b||p){if(!l.postPlaceholderImage)return;l={postPlaceholderImage:l.postPlaceholderImage}}return Object.keys(l).filter(e=>l[e]!==I.c).reduce((e,t)=>(e[t]=l[t],e),{})}),Ie=(e,t)=>{let{pageLayer:n}=t;return n?h(e,n):void 0},ve=e=>{if(e)return Y(e)?e.urlParams.draftId:e.queryParams.draft},Se=e=>e&&e.queryParams||{},Te=(e,t)=>{let{pageLayer:n}=t;const r=(e=>e?e.queryParams.collection:void 0)(n);return r?Object(C.q)(e,{collectionId:r}):void 0},Ce=Object(o.a)(re,e=>e.categories.models,e=>e.subreddits.models,e=>e.subreddits.byCategory,(e,t,n,r)=>{if(!e)return;const o=Object.keys(t).find(t=>{const o=r[t];if(s()(o))return!1;const i=o.map(e=>n[e].name);return!s()(i)&&Object(u.d)(i)===e});return o?t[o]:void 0})},"./src/reddit/controls/Button/index.m.less":function(e,t,n){e.exports={DangerButtonStyles:"_2TFttKq5FzfEJ75z_ZdIum",dangerButtonStyles:"_2TFttKq5FzfEJ75z_ZdIum",DangerButton:"_1K_eZyG6kthwPn55PD-EMM",dangerButton:"_1K_eZyG6kthwPn55PD-EMM",active:"_39a0Mt5b1i2joAqIaEHOWJ",ExtraSmallBaseButton:"_2v8rCfSRT4mr5y4pwEhX41",extraSmallBaseButton:"_2v8rCfSRT4mr5y4pwEhX41",PrimaryLinkButton:"wLV79_wV-ziNiWmf3Y7OV",primaryLinkButton:"wLV79_wV-ziNiWmf3Y7OV",PrimaryRouterLink:"_3UhcBirLMXHSbN5vYYBGSF",primaryRouterLink:"_3UhcBirLMXHSbN5vYYBGSF",PrimaryButton:"_2JBsHFobuapzGwpHQjrDlD",primaryButton:"_2JBsHFobuapzGwpHQjrDlD",SecondaryLinkButton:"_1HunhFR-0b-AYs0WG9mU_P",secondaryLinkButton:"_1HunhFR-0b-AYs0WG9mU_P",SecondaryRouterLink:"_2yhUdcPyG1k3qsmDb4y6u_",secondaryRouterLink:"_2yhUdcPyG1k3qsmDb4y6u_",SecondaryButton:"PiO8QDmoJoOL2sDjJAk4C",secondaryButton:"PiO8QDmoJoOL2sDjJAk4C",TertiaryButton:"_1McO-Omm_mC2bkTnVgD6NV",tertiaryButton:"_1McO-Omm_mC2bkTnVgD6NV",TertiaryLinkButton:"_9Yn-qhIEvQgFU6jnrKkSC",tertiaryLinkButton:"_9Yn-qhIEvQgFU6jnrKkSC",TertiaryRouterLink:"SuTcOCtRzb-pPZYaAZTjh",tertiaryRouterLink:"SuTcOCtRzb-pPZYaAZTjh",GoldButton:"_2GYoN_LmWsKeeYnfg8wF7N",goldButton:"_2GYoN_LmWsKeeYnfg8wF7N",PremiumButton:"_14IRbTHWqATJbFJ9PgPswU",premiumButton:"_14IRbTHWqATJbFJ9PgPswU",InlineTextButton:"_3kfXQpuyMJIMeWQCwjZKfw",inlineTextButton:"_3kfXQpuyMJIMeWQCwjZKfw",Button:"_2iuoyPiKHN3kfOoeIQalDT",button:"_2iuoyPiKHN3kfOoeIQalDT",redditStyle:"_2nelDm85zKKmuD94NequP0",ChatButton:"_13twe55MPRo1LqypxB-LJx",chatButton:"_13twe55MPRo1LqypxB-LJx"}},"./src/reddit/controls/Button/index.tsx":function(e,t,n){"use strict";n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return v})),n.d(t,"c",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return w}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./src/lib/classNames/index.ts"),i=n("./src/reddit/controls/InternalLink/index.tsx"),c=n("./src/lib/lessComponent.tsx"),a=n("./src/reddit/controls/Button/index.m.less"),d=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const b=(e,t,n)=>Object(o.a)(e,{[d.a.redditStyle]:!(!t&&!n)});c.a.wrapped(e=>{const{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("button",u({className:b(t,n,r)},o))},"Button",d.a);const p=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement(i.a,u({className:b(t,n,r)},o))},f=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("a",u({className:b(t,n,r)},o))},m=e=>{var{className:t,redditStyle:n,"data-redditstyle":r}=e,o=l(e,["className","redditStyle","data-redditstyle"]);return s.a.createElement("button",u({className:b(t,n,r)},o))},O=c.a.wrapped(f,"PrimaryLinkButton",d.a),g=c.a.wrapped(p,"PrimaryRouterLink",d.a),j=c.a.wrapped(m,"PrimaryButton",d.a),y=c.a.wrapped(m,"DangerButton",d.a),_=c.a.wrapped(f,"SecondaryLinkButton",d.a),h=c.a.wrapped(p,"SecondaryRouterLink",d.a),E=c.a.wrapped(m,"SecondaryButton",d.a),I=c.a.wrapped(m,"TertiaryButton",d.a),v=(c.a.wrapped(f,"TertiaryLinkButton",d.a),c.a.wrapped(p,"TertiaryRouterLink",d.a)),S=c.a.wrapped(m,"GoldButton",d.a),T=c.a.wrapped(m,"PremiumButton",d.a),C=c.a.wrapped(m,"ChatButton",d.a),w=c.a.wrapped(m,"InlineTextButton",d.a)},"./src/reddit/controls/InternalLink/index.m.less":function(e,t,n){e.exports={disabledLink:"_1tQt2CUWT3M7NNSMoh_o_4"}},"./src/reddit/controls/InternalLink/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/react/index.js"),s=n.n(r),o=n("./node_modules/react-router-dom/esm/react-router-dom.js"),i=n("./src/lib/classNames/index.ts"),c=n("./src/reddit/helpers/path/index.ts"),a=n("./src/reddit/controls/InternalLink/index.m.less"),d=n.n(a);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=e=>{var{children:t,className:n,disabled:r,replace:a,to:b}=e,p=l(e,["children","className","disabled","replace","to"]);return r?s.a.createElement("span",{className:Object(i.a)(d.a.disabledLink,n)},t):("string"==typeof b&&(b=Object(c.b)(b)),s.a.createElement(o.a,u({className:n,to:b},p),t))}},"./src/reddit/controls/OutboundLink/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/lodash/omit.js"),s=n.n(r),o=n("./node_modules/react/index.js"),i=n.n(o),c=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),d=n("./src/lib/addQueryParams/index.ts");var u=(e,t)=>t?Object(d.a)(e,{user_id:t}):e,l=n("./src/lib/opener/index.ts"),b=n("./src/lib/redditId/index.ts"),p=n("./src/reddit/selectors/user.ts");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const m=Object(a.a)(p.a,p.i,(e,t)=>({allowClickTracking:e,userId:t?Object(b.a)(t.id):null})),O=Object(c.b)(m,{}),g=(e,t,n,r)=>{r&&t.outboundUrl&&t.outboundUrlExpiration&&t.outboundUrlExpiration>Date.now()&&(e.href=u(t.outboundUrl,n))},j=O(e=>{const{allowClickTracking:t,href:n,isSponsored:r,source:o,userId:c}=e;let a=s()(e,["allowClickTracking","isSponsored","source","userId"]);const d=o&&o.outboundUrl&&r?o.outboundUrl:n;return a=Object.assign({},a,{href:d,rel:l.a,target:l.b.BLANK}),!o||(e=>{const{outboundUrlCreated:t,outboundUrlReceived:n}=e;return!(!t||!n)&&(t>n+3e5||t<n-36e5)})(o)?i.a.createElement("a",a):i.a.createElement("a",f({},a,{onMouseDown:e=>{if(1===e.button||2===e.button||e.ctrlKey)return!0;g(e.currentTarget,o,c,t)},onMouseLeave:e=>((e,t)=>{e.href=t})(e.currentTarget,d),onTouchStart:e=>g(e.currentTarget,o,c,t)}))});t.a=j},"./src/reddit/customMiddleware/gqlContext.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n("./src/config.ts");const s=e=>{let{apiUrl:t,onBeforeRequest:n,onResponse:r,statsAppName:s,headers:o}=e;return{apiUrl:t,onBeforeRequest:n,onResponse:r,statsAppName:s,headers:o()}},o={unsafeLoggedOut:!1,accessToken:""};t.a=e=>{let t=()=>o;return{gqlContext:()=>{const{headers:n,onBeforeRequest:s,onResponse:o,statsAppName:i}=e();return{apiUrl:r.a.gqlUrl,onBeforeRequest:s,onResponse:o,statsAppName:i,headers:()=>(e=>{const{unsafeLoggedOut:n,accessToken:r}=t();return n?Object.assign({},e,{Authorization:"Bearer ".concat(r)}):Object.assign({},e)})(n)}},middleware:e=>(t=()=>(e=>{if(!e.user.session)return o;const{unsafeLoggedOut:t,accessToken:n}=e.user.session;return{unsafeLoggedOut:!!t,accessToken:n}})(e.getState()),e=>t=>e(t))}}},"./src/reddit/endpoints/accounts/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts");const c=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/block_user"),method:r.bb.POST}),a=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:n,container:t,type:"enemy"},endpoint:"".concat(e.apiUrl,"/api/unfriend"),method:r.bb.POST}),d=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/add_whitelisted?include_model"),method:r.bb.POST}),u=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{data:{name:t},endpoint:"".concat(e.apiUrl,"/api/remove_whitelisted"),method:r.bb.POST})},"./src/reddit/endpoints/category/categoryList.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/categories.tsx"),c=n("./src/reddit/constants/headers.ts");const a=e=>{const t={},n=[];return e.forEach((e,r)=>{const s={attr:e.category_attr,color:e.category_color||i.a[r%i.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};n.push(s.id),t[s.id]=s}),{categories:t,categoryIds:n}};t.a=e=>Object(s.b)(Object(o.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/available_subreddit_categories.json?use_extended_categories=true"),method:r.bb.GET})},"./src/reddit/endpoints/category/subreddits.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=e=>{const t=[],n=[],r={},s={};return e.data.children.forEach(e=>{let{data:o}=e;const i=Object(c.a)(o);t.push(i.id),n.push(i.name),r[i.id]=i,s[i.id]={accountsActive:o.accounts_active,allOriginalContent:o.all_original_content,bannerBackgroundColor:o.banner_background_color,bannerBackgroundImage:o.banner_background_image,contentCategory:o.content_category,allowChatPostCreation:o.allow_chat_post_creation,keyColor:o.key_color,originalContentTagEnabled:o.original_content_tag_enabled,publicDescription:o.public_description,subscribers:o.subscribers,userIsSubscriber:o.user_is_subscriber}}),{subredditIds:t,subredditNames:n,subreddits:r,subredditsAboutInfo:s}};t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/subreddits_in_category.json?category_id=").concat(t,"&limit=").concat(n)),method:r.bb.GET})}},"./src/reddit/endpoints/chat/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"a",(function(){return _})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return v}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts");const a="api/v1",d="".concat(a,"/sendbird");var u;!function(e){e.PUBLIC="all"}(u||(u={}));const l=10,b=10;class p extends Error{constructor(e,t){super(e),this.response=t}}const f=async(e,t,n)=>{const d={};return n&&(d.public_mode=u.PUBLIC),Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/").concat(t,"/channels"),method:s.bb.GET,data:d})},m=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/create"),method:s.bb.POST,data:JSON.stringify({room:n.room,room_type:n.roomType,description:n.description,subreddit:n.subreddit,automute_account_age_threshold:n.minimumAcctAge,automute_on_join_duration:n.newMemberAge})}),O=async(e,t,n,d)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/").concat(t),method:s.bb.PUT,data:JSON.stringify({room:d.room,description:d.description,automute_account_age_threshold:d.minimumAcctAge,automute_on_join_duration:d.newMemberAge})}),g=async(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/subreddit/channels/").concat(t),method:s.bb.DELETE}),j=async e=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(d,"/config"),method:s.bb.GET});var y,_;function h(e){const t={bannedWords:e.profanity_filter&&e.profanity_filter.keywords,regexes:e.profanity_filter&&e.profanity_filter.regex_filters,rateLimit:e.user_messages_per_channel,domains:e.domain_filter&&e.domain_filter.domains&&e.domain_filter.domains.join(", "),useDefaultProfanityFilter:e.profanity_filter&&e.profanity_filter.should_check_global,domainFilterOption:void 0};if(!1===e.allow_links)t.domainFilterOption=_.BLOCK_ALL_DOMAINS;else{const{domain_filter:{type:n}={type:void 0}}=e;n===y.BLOCK_MODE?t.domainFilterOption=_.BLOCK_BANNED_DOMAINS:n===y.ALLOW_MODE?t.domainFilterOption=_.ALLOW_APPROVED_DOMAINS:t.domainFilterOption=_.ALLOW_ALL_DOMAINS}return t}function E(e){const t={};return e.rateLimit&&e.rateLimit>0&&(t.user_messages_per_channel=e.rateLimit,t.user_messages_per_channel_duration=b),void 0===e.bannedWords&&void 0===e.regexes&&void 0===e.useDefaultProfanityFilter||(t.profanity_filter={keywords:e.bannedWords,regex_filters:e.regexes,should_check_global:e.useDefaultProfanityFilter}),e.domainFilterOption===_.BLOCK_ALL_DOMAINS?(t.allow_links=!1,t.domain_filter={type:y.DISABLE}):e.domainFilterOption===_.ALLOW_ALL_DOMAINS?(t.allow_links=!0,t.domain_filter={type:y.DISABLE}):e.domainFilterOption===_.ALLOW_APPROVED_DOMAINS&&e.domains?(t.allow_links=!0,t.domain_filter={type:y.ALLOW_MODE,domains:e.domains.split(",")}):e.domainFilterOption===_.BLOCK_BANNED_DOMAINS&&e.domains&&(t.allow_links=!0,t.domain_filter={type:y.BLOCK_MODE,domains:e.domains.split(",")}),t}async function I(e,t){const n=await Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/chat/subreddit/").concat(t,"/settings"),method:s.bb.GET});if(n.ok&&n.body)return h(n.body)}async function v(e,t,n){const d=await Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(r.a.sendbirdServiceUrl,"/").concat(a,"/chat/subreddit/").concat(t,"/settings"),method:s.bb.PUT,data:JSON.stringify(E(n))});if(d.ok&&d.body)return Object.assign({},d,{body:h(d.body)});throw new p("Failed to update subreddit chat settings",d)}!function(e){e[e.BLOCK_MODE=2]="BLOCK_MODE",e[e.ALLOW_MODE=1]="ALLOW_MODE",e[e.DISABLE=0]="DISABLE"}(y||(y={})),function(e){e.ALLOW_ALL_DOMAINS="Allow all domains",e.ALLOW_APPROVED_DOMAINS="Allow links to approved domains",e.BLOCK_BANNED_DOMAINS="Block links to banned domains",e.BLOCK_ALL_DOMAINS="Block all domains"}(_||(_={}))},"./src/reddit/endpoints/economics/tips.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");function o(e,t){return Object(s.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:"".concat(r.a.metaUrl,"/tips-details/").concat(t.subredditId),method:"post",data:{contentIds:t.contentIds}})}},"./src/reddit/endpoints/flair/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return _}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n,r,a,d)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/selectflair"),method:s.bb.POST,data:{api_type:"json",flair_template_id:r,name:t,text:a,css_class:d}}),u=(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/selectflair"),method:s.bb.POST,data:{api_type:"json",flair_template_id:n,link:t,text:r}}),l=(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/setflairenabled"),method:s.bb.POST,data:{api_type:"json",flair_enabled:t}}),b=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair.json"),method:s.bb.POST,data:{subreddit:t,enabled:n}}),p=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_link_flair.json"),method:s.bb.POST,data:{subreddit:t,enabled:n}}),f=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/enable_sr_user_flair_self_assign.json"),method:s.bb.POST,data:{subreddit:r,flair_type:n,enabled:t}}),m=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/flairtemplate_v2"),method:s.bb.POST,data:{allowable_content:t.allowableContent,css_class:t.cssClass,flair_template_id:t.id,text:t.text,text_editable:t.textEditable,flair_type:r,text_color:t.textColor,background_color:t.backgroundColor,max_emojis:t.maxEmojis,mod_only:t.modOnly,r:n}}),O=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/deleteflairtemplate"),method:s.bb.POST,data:{flair_template_id:t,r:n}}),g=async(e,t,n,r)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/").concat(t,"/flair_template_order/").concat(n),method:s.bb.PATCH,type:"json",data:r}),j=async(e,t)=>Object(o.b)(e,{endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/userFlair"),method:s.bb.GET,headers:{[c.a]:c.a}}),y=async(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/r/").concat(n,"/api/deleteflair"),method:s.bb.POST,data:{api_type:"json",name:t}}),_=async(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(a.a)("".concat(e.apiUrl,"/api/top_flair_in_subreddit.json?subreddit=").concat(t)),method:s.bb.GET})},"./src/reddit/endpoints/gold/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return D}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/makeGqlRequest/index.ts"),i=n("./src/graphql/operations/DeleteAward.json"),c=n("./src/graphql/operations/DisableAward.json"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/uploadToS3/index.ts"),u=n("./src/graphql/operations/CommunityAwardsBlacklistStatus.json"),l=n("./src/graphql/operations/CreateCommunityAward.json"),b=n("./src/graphql/operations/CreateGlobalAward.json"),p=n("./src/graphql/operations/CreateModAward.json"),f=n("./src/graphql/operations/ManageableAwards.json"),m=n("./src/graphql/operations/UsableAwards.json"),O=n("./src/graphql/operations/UsableAwardsForProfile.json"),g=n("./src/reddit/constants/headers.ts"),j=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const y=(e,t,n,o)=>{const i={subreddit:t,filepath:n,mimetype:o};return Object(s.b)(Object(a.a)(e,[g.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/v1/community_awards/award_asset_upload_s3"),data:i})},_=async(e,t)=>Object(d.a)(t,e),h=(e,t,n,r,s,i,c,a,d)=>Object(o.a)(e,Object.assign({},l,{variables:{coinPrice:c,iconHeight:i,iconWidth:s,iconUrl:r,name:n,subredditId:t,startsAt:a,endsAt:d}})),E=(e,t,n,r,s,i,c,a,d)=>Object(o.a)(e,Object.assign({},p,{variables:{iconHeight:i,iconWidth:s,iconUrl:r,monthsOfPremium:c,name:n,subredditId:t,startsAt:a,endsAt:d}})),I=e=>{let{context:t,awardSubType:n,name:r,iconUrl:s,iconWidth:i,iconHeight:c,isNew:a,daysOfPremium:d,daysOfDripExtension:u,coinPrice:l,coinReward:p,startsAt:f,endsAt:m}=e;return Object(o.a)(t,Object.assign({},b,{variables:{awardSubType:n,iconHeight:c,iconWidth:i,iconUrl:s,isNew:a,daysOfPremium:d,daysOfDripExtension:u,coinPrice:l,coinReward:p,name:r,startsAt:f,endsAt:m}}))},v=(e,t)=>Object(o.a)(e,Object.assign({},u,{variables:{subredditId:t}})),S=(e,t)=>Object(o.a)(e,Object.assign({},f,{variables:{subredditId:t}})),T=(e,t)=>Object(o.a)(e,Object.assign({},m,{variables:{subredditId:t,includeAppreciation:!0}})),C=(e,t)=>Object(o.a)(e,Object.assign({},O,{variables:{profileName:t,includeAppreciation:!0}})),w=(e,t)=>Object(o.a)(e,Object.assign({},i,{variables:{awardId:t}})),x=(e,t)=>Object(o.a)(e,Object.assign({},c,{variables:{awardId:t}})),D=async(e,t,n)=>{const o={api_type:"json",award_id:t,raw_json:1};return Object(s.b)(Object(a.a)(e,[g.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/report_award"),data:o}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(j.a)(e)}))}},"./src/reddit/endpoints/gold/purchase.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return _}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),a=n("./src/reddit/helpers/genericServerError/index.ts"),d=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),u=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const l=(e,t)=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(u.a)(e)}):Object.assign({},e):Object.assign({},e,{error:e.error||Object(a.a)(t)}),b=async e=>{let{coins:t,context:n,correlationId:a,language:d,pennies:u,rememberCard:b,token:p,savedCardId:f}=e;const m={token:p?p.id:void 0,coins:t,pennies:u,remember_card:b,card_id:f,correlation_id:a},O="".concat(n.apiUrl,"/api/v2/gold/stripe/buy_coins"),g=Object(c.a)(O);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:g,data:m}).then(e=>l(e,d))},p=async e=>{let{coins:t,context:n,correlationId:a,gildParams:u,isOldReddit:b,language:p,pennies:f,rememberCard:m,thingId:O,token:g,savedCardId:j}=e;const{gildType:y,includeMessage:_,isAnonymous:h,message:E}=u,I={token:g?g.id:void 0,coins:t,pennies:f,thing_id:O,gild_type:y,message:_?E:"",is_anonymous:h,remember_card:m,card_id:j,correlation_id:a},v="".concat(n.apiUrl,"/api/v2/gold/stripe/buy_coins_and_gild"),S=b?v:Object(c.a)(v);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:S,data:I}).then(e=>(e&&e.ok&&e.body&&e.body.all_awardings&&(e.body.allAwardings=Object(d.a)(e.body.all_awardings)),Object.assign({},e))).then(e=>l(e,p))},f=async e=>{let{context:t,correlationId:n,language:a,pennies:d,token:u}=e;const b={token:u.id,pennies:d,correlation_id:n},p="".concat(t.apiUrl,"/api/v2/gold/stripe/buy_premium_subscription"),f=Object(c.a)(p);return Object(s.b)(Object(o.a)(t,[i.a]),{method:r.bb.POST,endpoint:f,data:b}).then(e=>l(e,a))},m=async e=>{let{buttonId:t,context:n,correlationId:a,language:d}=e;const u={button_id:t,correlation_id:a},b="".concat(n.apiUrl,"/api/v2/gold/paypal/initiate_coins_payment"),p=Object(c.a)(b);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:p,data:u}).then(e=>l(e,d))},O=async e=>{let{buttonId:t,context:n,correlationId:a,language:d}=e;const u={button_id:t,correlation_id:a},b="".concat(n.apiUrl,"/api/v2/gold/paypal/initiate_premium_payment"),p=Object(c.a)(b);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:p,data:u}).then(e=>l(e,d))},g=async e=>{let{buttonId:t,context:n,correlationId:a,gildTypeName:d,isAnonymous:u,isOldReddit:b,language:p,message:f,thingId:m}=e;const O={button_id:t,thing_id:m,gild_type:d,message:f,is_anonymous:u,correlation_id:a},g="".concat(n.apiUrl,"/api/v2/gold/paypal/initiate_coins_and_gild_payment"),j=b?g:Object(c.a)(g);return Object(s.b)(Object(o.a)(n,[i.a]),{method:r.bb.POST,endpoint:j,data:O}).then(e=>l(e,p))},j=async(e,t,n)=>{const c={token:n.id};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/update_creditcard"),data:c}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},y=async(e,t)=>{const n={card_id:t};return Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/delete_creditcard"),data:n}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},_=async(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.GET,endpoint:"".concat(e.apiUrl,"/api/v2/gold/stripe/creditcards")}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(u.a)(e)}))},"./src/reddit/endpoints/governance/badges.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");async function o(e,t,n){const o=Object(s.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},method:"post",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t),data:{selected:!0,users:n}}),i=await o;if(i.ok){const e={},t={},n=i.body;return Object.keys(n).forEach(r=>{const s=n[r];t[r]=s,e[s.userId]||(e[s.userId]=[]),e[s.userId].push(s.id)}),Object.assign({},i,{body:{badges:t,usersAppliedBadges:e}})}return i}async function i(e,t,n){const o=await Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t,"?users=").concat(n)});if(o.ok){const e={},t=[],n=o.body;return Object.keys(n).forEach(r=>{const s=n[r];e[r]=s,t.push(s.id)}),Object.assign({},o,{body:{badges:e,userOwnedBadges:t}})}return o}function c(e,t,n){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Object(s.a)(e,{method:"patch",endpoint:"".concat(r.a.metaUrl,"/badges/").concat(t,"/").concat(n),data:{selected:o}})}},"./src/reddit/endpoints/governance/community.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/endpoints/governance/requester.ts");function i(e,t){return Object(o.a)(e,{endpoint:"".concat(r.a.metaUrl,"/communities/").concat(t.subredditId,"/me"),method:s.bb.GET})}},"./src/reddit/endpoints/governance/posts.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=(n("./src/reddit/models/Poll/index.ts"),n("./src/reddit/endpoints/governance/requester.ts"));function o(e,t,n){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/polls/").concat(t,"?postIds=").concat(n.join(","))})}},"./src/reddit/endpoints/governance/products/badges.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n("./src/config.ts"),s=n("./src/reddit/endpoints/governance/requester.ts");function o(e,t){return Object(s.a)(e,{method:"get",endpoint:"".concat(r.a.metaUrl,"/products/").concat(t,"?types=badge")})}function i(e,t){return Object(s.a)(e,{method:"post",endpoint:"".concat(r.a.metaUrl,"/orders"),data:t})}function c(e,t){return Object(s.a)(e,{method:"post",endpoint:"".concat(r.a.metaUrl,"/orders"),data:{currency:"usd",price:t.price,products:t.products,providerArgs:{paymentNonce:t.nonce},providerName:"braintree",subredditId:t.subredditId}})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/makeApiRequest/index.ts");function s(e,t){return Object(r.b)(e,Object.assign({type:"json"},t)).then(e=>{if(e.ok)return{body:e.body,ok:!0,status:e.status};return{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:Object.assign({},e.body,{code:e.status}),ok:!1,status:e.status}})}},"./src/reddit/endpoints/governance/wallet.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./src/config.ts"),s=(n("./src/lib/bigNumberUtils/percent.ts"),n("./src/lib/constants/index.ts")),o=n("./src/reddit/endpoints/governance/requester.ts");function i(e,t){return Object(o.a)(e,{endpoint:"".concat(r.a.metaUrl,"/wallets/").concat(t.subredditId,"/me"),method:s.bb.GET}).then(e=>{if(e.ok){const n=e.body,r={[t.subredditId]:n};return Object.assign({},e,{body:r})}return e})}function c(e,t){return Object(o.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:"".concat(r.a.metaUrl,"/wallets/").concat(t.subredditId),method:s.bb.POST,data:t.userIds}).then(e=>e.ok?Object.assign({},e,{body:{wallets:e.body}}):e)}},"./src/reddit/endpoints/me/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts");const i=e=>Object(o.b)(e,{endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/me"),method:s.bb.GET})},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,n)=>Object(o.b)(e,{endpoint:Object(a.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/").concat(t)),method:s.bb.GET,data:Object.assign({moderated_limit:25},n)}),u=(e,t,n)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/modactions/").concat(t),method:s.bb.POST,type:"json",data:n})},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts");t.a=async e=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/subreddit_permissions"),method:r.bb.GET})},"./src/reddit/endpoints/moderator/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return j}));var r=n("./src/graphql/operations/SubredditPostFlairStyleTemplates.json"),s=n("./src/graphql/operations/SubredditStyles.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/lib/uploadToS3/index.ts"),u=n("./src/reddit/constants/headers.ts"),l=n("./src/reddit/helpers/media/index.ts");const b=async(e,t,n)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.bb.GET,data:{progressive_images:n}}),p=async(e,t,n)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.bb.PATCH,data:n}),f=async(e,t)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/structured_styles/").concat(t),method:o.bb.DELETE}),m=async(e,t,n,r,s)=>Object(i.b)(Object(a.a)(e,[u.a]),{endpoint:"".concat(e.apiUrl,"/api/v1/style_asset_upload_s3/").concat(t),method:o.bb.POST,data:{filepath:n,imagetype:r,mimetype:s}}),O=async(e,t,n,r)=>{const s=await Object(l.g)(r),o=await m(e,t,r.name,n,s);if(!o.ok)return o;let i=o.body;return"s3UploadLease"in i&&(i=i.s3UploadLease),Object(d.a)(r,i)},g=(e,t)=>Object(c.a)(e,Object.assign({},s,{variables:{subredditName:t}})),j=(e,t,n)=>Object(c.a)(e,Object.assign({},r,{variables:{subredditName:t,templateIds:n}}))},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=(e,t,n,a)=>{const d=n?"".concat(r.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t,"/").concat(n):"".concat(r.a.gatewayUrl,"/desktopapi/v1/postcomments/").concat(t);return Object(o.b)(e,{data:a,endpoint:Object(i.a)(Object(c.a)(d)),method:s.bb.GET,traceRequestName:"get_comments_page"})}},"./src/reddit/endpoints/page/frontpage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return m}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/graphql/operations/Frontpage.json"),s=n("./src/lib/base64/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeGqlRequest/index.ts"),c=n("./src/lib/performanceTimings/index.tsx"),a=n("./src/reddit/constants/graphql.ts"),d=n("./src/reddit/helpers/getPostLimitForMobile/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),l=n("./src/reddit/selectors/platform.ts"),b=n("./src/reddit/selectors/user.ts");const p=(e,t)=>Object(i.a)(e,Object.assign({},r,{variables:t})),f=(e,t)=>{const{after:n,dist:r,isMobile:o,layout:i,limit:c,sort:u,t:p}=t,f=Object(b.Q)(e),m=Object(l.q)(e),O={recentPostIds:e.posts.recent,includeIdentity:f&&!e.user.account,includeFeatured:!0,adContext:{layout:i?i.toUpperCase():a.a.Card,reddaid:e.user.reddaid,distance:r}};return u&&(O.sort=u.toUpperCase()),p&&(O.range=p.toUpperCase()),o?O.pageSize=Object(d.a)(i):c&&(O.pageSize=c),m&&m.ad&&(O.forceAds={ad:m.ad}),n&&(O.after=Object(s.a)(n)),O},m=async(e,t,n)=>{const r=Date.now(),s=await p(e,t),i=Date.now();if(!s.ok)return s;const a=Date.now(),d=Object(u.a)(s.body.data),l=Date.now(),b=[{duration:i-r,logKeyType:c.a.gqlFetchTiming},{duration:l-a,logKeyType:c.a.gqlNormalizationTiming}];return Object(c.i)(o.o.FRONTPAGE,n,b),Object.assign({},s,{body:d})}},"./src/reddit/endpoints/page/multiredditListing.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/MultiredditListing.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/page/profileOverviewPage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/config.ts"),s=n("./src/lib/addAllowQuarantinedParam/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const a=(e,t,n)=>Object(i.b)(e,{data:n,endpoint:Object(s.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/conversations"))),method:o.bb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e),d=(e,t,n)=>Object(i.b)(e,{data:n,endpoint:Object(s.a)(Object(c.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/overview"))),method:o.bb.GET}).then(e=>"pinned"in e.body?e:"overviewIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.overviewIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e)},"./src/reddit/endpoints/page/search.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/search/index.ts"),c=n("./src/reddit/helpers/correlationIdTracker.ts"),a=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t)=>{let n=t?Object.assign({},e,{type:e.restrict_sr?"link":e.type}):e;(n=n.type?n:Object.assign({},n,{type:"link,sr,user"})).q=Object(i.a)(e.q);const r=Object(c.c)(c.a.SearchResults);return r&&(n.search_correlation_id=r),n};t.a=(e,t,n,i)=>Object(o.b)(e,{data:d(i||{},t),endpoint:Object(a.a)(n?"".concat(r.a.gatewayUrl,"/desktopapi/v1/multireddits/").concat(n,"/").concat(t,"/search"):t?"".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t,"/search"):"".concat(r.a.gatewayUrl,"/desktopapi/v1/search")),method:s.bb.GET})},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/config.ts"),s=n("./src/graphql/operations/SubredditPage.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/isAdHocMultireddit/index.ts"),c=n("./src/lib/isFakeSubreddit/index.ts"),a=n("./src/lib/makeApiRequest/index.ts"),d=n("./src/lib/makeGqlRequest/index.ts"),u=n("./src/lib/performanceTimings/index.tsx"),l=n("./src/reddit/constants/graphql.ts"),b=n("./src/reddit/constants/page.ts"),p=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),f=n("./src/reddit/helpers/getPostLimitForMobile/index.ts"),m=n("./src/reddit/models/Post/index.ts"),O=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),g=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),j=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),y=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),_=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),h=n("./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts"),E=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),I=e=>{let{isAccessEnabled:t,isAllAllowed:n,isChatConfigEditingAllowed:r,isChatOperator:s,isConfigEditingAllowed:o,isFlairEditingAllowed:i,isMailEditingAllowed:c,isPostEditingAllowed:a,isWikiEditingAllowed:d}=e;return{access:t,all:n,chatConfig:r,chatOperator:s,config:o,flair:i,mail:c,posts:a,wiki:d}},v=n("./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts"),S=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),T=n("./src/reddit/models/RichTextJson/addRTJParam.ts"),C=n("./src/reddit/selectors/platform.ts"),w=n("./src/reddit/selectors/user.ts");n.d(t,"c",(function(){return D})),n.d(t,"b",(function(){return P}));var x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const D=(e,t,n)=>{const{after:r,geo_filter:s,isMobile:o,layout:a,limit:d,recentPostIds:u,sort:p,t:m}=n,O=Object(w.Q)(e),g=Object(C.q)(e),j=Object(i.a)(t),y=Object(c.a)(t),_={name:t,includeIdentity:O&&!e.user.account,adContext:{layout:a?a.toUpperCase():l.a.Card,reddaid:e.user.reddaid},isFake:y,includeRecents:y&&u&&u.length>0||!1,includeTrending:y,isAdHocMulti:j,isAll:t===b.d.All,isPopular:t===b.d.Popular,recentPostIds:u||[],subredditNames:j?t.split("+"):[]};return p&&(_.sort=p.toUpperCase()),m&&(_.range=m.toUpperCase()),o?_.pageSize=Object(f.a)(a):d&&(_.pageSize=d),g&&g.ad&&(_.forceAds={ad:g.ad}),(g&&g.geo_filter||s)&&(_.region=g&&g.geo_filter||s),r&&(_.after=btoa(r)),_},P=async(e,t,n)=>{const r=Date.now(),i=await((e,t)=>Object(d.a)(e,Object.assign({},s,{variables:t})))(e,t),c=Date.now();if(!i.ok||!i.body)return i;const a=Date.now(),l=(e=>{let{adhocMultiredditByNames:t,all:n,identity:r,popular:s,recentPosts:o,subredditInfoByName:i,trendingSubreddits:c}=e;const a={authorFlair:{},postIds:[],postInstances:{},posts:{},postFlair:{},profiles:{},recentPostIds:[],structuredStyles:{},subredditAboutInfo:{},subredditPermissions:{},subreddits:{},trendingSubredditIds:[]},d=e=>{if(e.__typename===m.f.DeletedProfilePost||e.__typename===m.f.DeletedSubredditPost)return null;if(a.posts[e.id])return e.id;const t=Object(j.d)(e);a.posts[t.id]=t;const{crosspostRoot:n}=e;n&&n.type===m.a.Post&&n.postInfo&&d(n.postInfo);let r=t.id;switch(e.authorFlair&&(a.authorFlair[t.belongsTo.id]||(a.authorFlair[t.belongsTo.id]={}),a.authorFlair[t.belongsTo.id][t.author]=Object(O.a)(e.authorFlair)[0]),e.__typename){case m.f.ProfilePost:a.profiles[e.profile.id]||(a.profiles[e.profile.id]=Object(_.a)(e.profile));break;case m.f.SubredditPost:a.subreddits[e.subreddit.id]||(a.subreddits[e.subreddit.id]=Object(E.a)(e.subreddit)),a.postFlair[e.subreddit.id]||(a.postFlair[e.subreddit.id]=Object(g.a)(e.subreddit));break;case m.f.AdPost:const n=Object(j.b)(e);if(!n){r=null;break}r=n,a.posts[n]=Object.assign({},t,{id:n,permalink:"".concat(t.permalink,"?instanceId=").concat(encodeURIComponent(n))}),a.posts[t.id]||(a.posts[t.id]=Object.assign({},t,{events:[]})),a.postInstances[e.id]||(a.postInstances[e.id]=[]),a.postInstances[e.id].push(n)}return r},u=i||s||n||t;for(const{node:f}of u.posts.edges){const e=d(f);e&&a.postIds.push(e)}i&&i.styles&&(a.structuredStyles={data:{style:Object(v.a)(i.styles)}});const l=a.postIds.length-1,b=l>=0?a.postIds[l]:"",p=u.posts.dist;if(c){a.trendingSubredditIds=c.map(e=>e.id);for(const e of c)a.subreddits[e.id]=Object(E.a)(e)}if(o)for(const f of o){const e=d(f);e&&a.recentPostIds.push(e)}return Object.assign({},a,{account:r&&Object(S.a)(r)||null,preferences:r&&r.preferences&&Object(y.a)(r.preferences,r.interactions)||null,subredditAboutInfo:i&&Object(h.a)(i),subredditPermissions:i&&i.modPermissions&&I(i.modPermissions),token:b},null!==p&&{dist:p})})(i.body.data),b=Date.now(),p=[{duration:c-r,logKeyType:u.a.gqlFetchTiming},{duration:b-a,logKeyType:u.a.gqlNormalizationTiming}];return Object(u.i)(o.o.SUBREDDIT,n,p),Object.assign({},i,{body:l})},A=e=>{var{recentPostIds:t}=e,n=x(e,["recentPostIds"]);return t&&t.length?Object.assign({},n,{recentPostIds:t.join(",")}):n};t.a=(e,t,n)=>Object(a.b)(e,{endpoint:Object(p.a)(Object(T.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/subreddits/").concat(t))),method:o.bb.GET,data:n&&A(n)||{},traceRequestName:"get_subreddit_page"})},"./src/reddit/endpoints/post/convert.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),a=n("./src/reddit/models/PostCreationForm/index.ts");t.a=(e,t,n)=>{const d={output_mode:"markdown"===t?t:"rtjson"};return t===a.h.MARKDOWN?d.richtext_json=n:d.markdown_text=n,Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/convert_rte_body_format")),method:r.bb.POST,data:d})}},"./src/reddit/endpoints/post/create.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return j}));var r=n("./node_modules/url/url.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),d=n("./src/reddit/helpers/flair.ts"),u=n("./src/reddit/helpers/name/index.ts"),l=n("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),b=n("./src/reddit/models/Post/index.ts"),p=n("./src/reddit/models/PostCreationForm/index.ts"),f=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const m=e=>{switch(e.kind){case p.p.CROSSPOST:return p.p.CROSSPOST;case p.p.LINK:return p.p.LINK;case p.p.MEDIA:return e.makeGif?p.p.VIDEO_GIF:e.mediaType;default:return"self"}},O=e=>{const t=Object(u.f)(e.destSubreddit.name);return Object.assign({api_type:"json",show_error_list:!0},e.destSubreddit.isProfile?{sr:"u_".concat(t),submit_type:"profile"}:{sr:t,submit_type:"subreddit"},{draft_id:e.draftId||void 0,title:e.title,discussion_type:e.isChatPost?b.b.Chat:void 0,spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,post_to_twitter:e.postToTwitter,kind:m(e),sendreplies:e.sendReplies},e.gRecaptchaResponse?{"g-recaptcha-response":e.gRecaptchaResponse}:{},{resubmit:e.resubmit},(e=>{switch(e.kind){case p.p.RICH_TEXT:return{richtext_json:JSON.stringify({document:e.document})};case p.p.MARKDOWN:return{text:e.markdown};case p.p.LINK:case p.p.MEDIA:return{url:e.url};case p.p.CROSSPOST:return{crosspost_fullname:e.sourcePostId}}})(e),e.kind===p.p.MEDIA&&"video"===e.mediaType?{video_poster_url:e.videoThumbnailUrl}:{},e.kind===p.p.MEDIA&&e.makeGif?{make_gif:"on"}:{},e.flair?{flair_id:e.flair.templateId,flair_text:Object(d.g)(e.flair)}:{},e.validate_on_submit?{validate_on_submit:e.validate_on_submit}:{},e.eventSchedule&&{event_start:e.eventSchedule.startDate,event_end:e.eventSchedule.endDate,event_tz:e.eventSchedule.timezoneName,unlist:e.eventSchedule.submitTime===p.i.AtEventTime},e.collectionId&&{collection_id:e.collectionId})},g=e=>{const t=/comments\/(\w+)\/.*$/.exec(e),n=t&&t[1];return n?"".concat(s.vb.Post,"_").concat(n):""},j=async(e,t)=>{if(!e.ok)return Object(l.b)(e);const n=e.body.json.data;let s=n.url;s||t.kind!==p.p.MEDIA||(s=await((e,t)=>new Promise(n=>{const r=new WebSocket(e),s=e=>{r.close(),clearTimeout(o),n(e)},o=setTimeout(()=>{s("")},t);r.onmessage=e=>{const t=JSON.parse(e.data),n="success"===t.type?t.payload.redirect:"";s(n)},r.onerror=e=>{s("")}}))(n.websocket_url,3e4));const o=n.id||g(s),i=Object(r.parse)(s).path,c=n.drafts_count;return Object.assign({},e,{body:{id:o,path:i,draftsCount:c}})};t.a=(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{endpoint:Object(f.a)(Object(a.a)("".concat(e.apiUrl,"/api/submit?resubmit=true"))),method:s.bb.POST,data:O(t)}).then(async e=>await j(e,t))},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("./src/reddit/helpers/flair.ts"),s=n("./src/reddit/models/PostDraft/index.ts");const o=e=>({id:e.json.data.id,draftsCount:e.json.data.drafts_count}),i=e=>{switch(e.kind){case s.b.Link:return"link";case s.b.Markdown:return"markdown";case s.b.RichText:return"richtext";default:return"self"}},c=e=>{switch(e){case"link":return s.b.Link;case"markdown":return s.b.Markdown;case"richtext":return s.b.RichText;default:return"self"}},a=e=>e.title.substring(0,300),d=e=>{switch(e.kind){case s.b.Link:case s.b.Markdown:return e.body;case s.b.RichText:return JSON.stringify({document:e.body})}},u=e=>Object.assign({id:e.draftId||void 0},(e=>e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{})(e),{kind:i(e),title:a(e),body:d(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC},(e=>e?{flair_id:e.templateId||null,flair_text:Object(r.g)(e)||null,flair_text_color:e.textColor||null,flair_background_color:e.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null})(e.flair),{send_replies:e.sendReplies,is_public_link:e.isPublicLink})},"./src/reddit/endpoints/post/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/constants/headers.ts"),c=n("./src/reddit/helpers/addRedesignIdentifier/index.ts");var a=n("./src/reddit/helpers/reportPage/index.ts");n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"t",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"v",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"w",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"l",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"o",(function(){return I})),n.d(t,"x",(function(){return v})),n.d(t,"r",(function(){return S})),n.d(t,"y",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"u",(function(){return w})),n.d(t,"s",(function(){return x})),n.d(t,"a",(function(){return D})),n.d(t,"m",(function(){return P})),n.d(t,"n",(function(){return R})),n.d(t,"q",(function(){return k}));const d=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/approve")),method:r.bb.POST,data:{id:t}}),u=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/distinguish/").concat(n)),method:r.bb.POST,data:{id:t}}),l=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/fetch_title")),method:r.bb.POST,data:{url:t,api_type:"json"}}),b=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/follow_post")),method:r.bb.POST,data:{follow:n,fullname:t}}),p=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/hide")),method:r.bb.POST,data:{id:t}}),f=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unhide")),method:r.bb.POST,data:{id:t}}),m=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/lock")),method:r.bb.POST,data:{id:t}}),O=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unlock")),method:r.bb.POST,data:{id:t}}),g=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/set_original_content")),method:r.bb.POST,data:{fullname:t,should_set_oc:n}}),j=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/marknsfw")),method:r.bb.POST,data:{id:t}}),y=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unmarknsfw")),method:r.bb.POST,data:{id:t}}),_=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/sendreplies"),method:r.bb.POST,data:{id:t,state:n}}),h=(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/remove")),method:r.bb.POST,data:{id:t,spam:n}}),E=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/del")),method:r.bb.POST,data:{id:t}}),I=(e,t)=>((e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/save")),method:r.bb.POST,data:{id:t}}))(e,t),v=(e,t)=>((e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unsave")),method:r.bb.POST,data:{id:t}}))(e,t),S=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/spoiler")),method:r.bb.POST,data:{id:t}}),T=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:Object(c.a)("".concat(e.apiUrl,"/api/unspoiler")),method:r.bb.POST,data:{id:t}}),C=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/ignore_reports"),method:r.bb.POST,data:{id:t}}),w=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/unignore_reports"),method:r.bb.POST,data:{id:t}}),x=(e,t,n,c)=>Object(s.b)(Object(o.a)(e,[i.a]),{endpoint:"".concat(e.apiUrl,"/api/set_subreddit_sticky"),method:r.bb.POST,data:{id:t,state:n,to_profile:c}});var D;!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint"}(D||(D={}));const P=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/report")),data:A(t)}),A=e=>{const t=Object.assign({thing_id:e.id,api_type:"json"},e.timestamp&&{live_stream_relative_report_time_sec:e.timestamp.toString()}),{reportFlowPayload:n}=e;switch(n.customText&&(t.custom_text=n.customText),n.kind){case D.Other:return Object.assign({},t,{reason:"other",other_reason:n.rule});case D.Rule:return Object.assign({},t,{reason:n.rule,rule_reason:n.rule});case D.SiteRule:default:return Object.assign({},t,{reason:"site_reason_selected",site_reason:n.rule})}},R=(e,t)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/report")),data:N(t)}),N=e=>{const t=Object(a.b)(e);return Object.assign({},t,{api_type:"json",from_help_desk:!0})},k=async(e,t,n)=>Object(s.b)(Object(o.a)(e,[i.a]),{method:r.bb.POST,endpoint:Object(c.a)("".concat(e.apiUrl,"/api/set_contest_mode/")),data:{api_type:"json",id:n,state:t}})},"./src/reddit/endpoints/publicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return h}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/crypto-js/sha256.js"),s=n.n(r),o=n("./node_modules/lodash/omit.js"),i=n.n(o),c=n("./src/config.ts"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/constants/headers.ts"),u=n("./src/lib/makeRequest/index.ts"),l=(n("./src/reddit/actions/publicAccessNetwork/constants.ts"),n("./src/reddit/components/RichTextEditor/RTEState/index.tsx")),b=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),p=n("./src/reddit/i18n/utils.ts"),f=n("./src/reddit/models/PostCreationForm/index.ts"),m=n("./src/reddit/models/Vote/index.ts");const O=async e=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/rpan_config_v1"),method:a.bb.GET,headers:i()(e.headers(),[d.c,d.b]),timeoutMs:void 0}).then(v),g=async(e,t)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t),method:a.bb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v),j=async(e,t,n)=>{const r=t||Math.random().toString(),o=parseInt(s()(r).toString(),16)%1e3;return Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/seed/").concat(o).concat(n?"?subreddit=pan2":""),method:a.bb.GET,headers:i()(e.headers(),[d.c,d.b])}).then(v)},y=async(e,t,n)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/vote/").concat(S(n)),method:a.bb.POST,headers:i()(e.headers,[d.c,d.b])}).then(v),_=async(e,t)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/heartbeat"),method:a.bb.POST,headers:i()(e.headers(),[d.c,d.b])}).then(v),h=async(e,t,n,r)=>{const s=n.rteState;if(!s)return Promise.reject(new Error("Editor state is undefined"));const o=l.a.getRawText(s);return o?E(e,t,o).then(e=>e.ok&&e.body&&e.body.data?Object.assign({},e,{body:{parentId:t,comment:Object.assign({},Object(b.a)(e.body.data,r),{media:I(s)})},error:void 0}):e):Promise.reject(new Error("Cannot send empty message"))},E=async(e,t,n)=>Object(u.b)({endpoint:"".concat(c.a.streamingApiUrl,"/videos/").concat(t,"/comment"),method:a.bb.POST,headers:i()(e.headers,[d.c,d.b]),data:{text:n},type:"json"}).then(v),I=e=>({type:"rtjson",richtextContent:{document:l.a.toRichTextJSON(e).document},rteMode:f.h.RICH_TEXT}),v=e=>{if(e.ok)return Object.assign({},e,{error:void 0});{const t={type:404===e.status?a.D.NOT_FOUND_ERROR:a.D.SERVER_ERROR};return 429===e.status&&(t.fields=[{field:"",msg:Object(p.c)("Try again later")}]),Object.assign({},e,{error:t})}},S=e=>e===m.a.upvoted?"up":e===m.a.downvoted?"down":"unset"},"./src/reddit/endpoints/subreddit/about.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/SubredditAbout.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t,n)=>Object(s.a)(e,Object.assign({},r,{variables:{subredditName:t,includeSubreddit:n}}))},"./src/reddit/endpoints/subreddit/models.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/SubredditModels.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/subreddit/posts.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/graphql/operations/SubredditPosts.json"),s=n("./src/lib/makeGqlRequest/index.ts");const o=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/subreddit/rules.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./node_modules/lodash/mapKeys.js"),i=n.n(o),c=n("./src/graphql/operations/SubredditRules.json"),a=n("./src/lib/constants/index.ts"),d=n("./src/lib/makeApiRequest/index.ts"),u=n("./src/lib/makeGqlRequest/index.ts"),l=n("./src/lib/omitHeaders/index.ts"),b=n("./src/reddit/constants/headers.ts"),p=n("./src/reddit/helpers/graphql/helpers.ts"),f=n("./src/reddit/models/Rule/index.ts");n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return I}));const m=e=>{let{rules:t}=e;return{rules:t.map(e=>Object.assign({},i()(e,(e,t)=>s()(t)),{kind:"link"===e.kind?"post":e.kind}))}},O=(e,t)=>Object(u.a)(e,Object.assign({},c,{variables:{subredditName:t}})).then(e=>(e.ok&&e.body&&(e.body=(e=>{return{rules:(e.data.subreddit&&e.data.subreddit.rules||[]).map(e=>({kind:f.b[e.kind],description:e.content.markdown,descriptionRichText:e.content.richtext,shortName:e.name,violationReason:e.violationReason||"",createdUtc:Object(p.j)(e.createdAt,p.a.Millis),priority:e.priority}))}})(e.body)),e)),g=(e,t)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/user/").concat(t,"/about/rules.json"),method:a.bb.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=m(e.body)),e)),j=e=>e.ok?(e.body=Object(f.g)(JSON.parse(e.body.json.data.rules)),e):e.body,y=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/add_subreddit_rule"),method:a.bb.POST,data:{r:t,short_name:n.rule,kind:n.kind===f.a.post?"link":n.kind,violation_reason:n.reason,description:n.description,api_type:"json",raw_json:1}}).then(e=>j(e)),_=async(e,t,n,r)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/update_subreddit_rule"),method:a.bb.POST,data:{r:t,short_name:n.rule,kind:n.kind===f.a.post?"link":n.kind,violation_reason:n.reason,description:n.description,old_short_name:r,api_type:"json",raw_json:1}}).then(e=>j(e)),h=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/remove_subreddit_rule"),method:a.bb.POST,data:{r:t,short_name:n,api_type:"json",raw_json:1}}).then(e=>j(e)),E=e=>e.map(e=>encodeURIComponent(e)).join(),I=async(e,t,n)=>Object(d.b)(Object(l.a)(e,[b.a]),{endpoint:"".concat(e.apiUrl,"/api/reorder_subreddit_rules"),method:a.bb.POST,data:{r:t,new_rule_order:E(n),api_type:"json",raw_json:1}}).then(e=>j(e))},"./src/reddit/endpoints/subreddit/settings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeApiRequest/index.ts"),o=n("./src/lib/omitHeaders/index.ts"),i=n("./src/reddit/helpers/addRedesignIdentifier/index.ts"),c=n("./src/reddit/constants/headers.ts");const a=(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/api/delete_sr_").concat(n),data:{raw_json:1}}),d=(e,t)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.GET,endpoint:"".concat(e.apiUrl,"/r/").concat(t,"/about/edit.json"),data:{raw_json:1}}).then(e=>e.ok?Object.assign({},e,{body:Object.assign({},b(e.body.data))}):e),u=(e,t,n)=>Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.PATCH,endpoint:Object(i.a)("".concat(e.apiUrl,"/api/v1/subreddit/update_settings")),type:"json",data:Object.assign({},p(n,m),{sr:t})}),l=(e,t,n)=>{const i=Object.assign({},f(n),{sr:t});return Object(s.b)(Object(o.a)(e,[c.a]),{method:r.bb.POST,endpoint:"".concat(e.apiUrl,"/api/site_admin"),data:i})},b=e=>({allowChatPostCreation:e.allow_chat_post_creation,allowDiscovery:e.allow_discovery,allowImages:e.allow_images,allowPostCrossposts:e.allow_post_crossposts,collapseDeletedComments:e.collapse_deleted_comments,commentScoreHideMins:e.comment_score_hide_mins,contentOptions:e.content_options,contentVisible:e.default_set,crowdControlMode:e.crowd_control_mode,crowdControlChatLevel:e.crowd_control_chat_level,crowdControlLevel:e.crowd_control_level,description:e.description,disableContributorRequests:e.disable_contributor_requests,domain:e.domain,excludeBannedModqueue:e.exclude_banned_modqueue,headerHoverText:e.header_hover_text,hideAds:e.hide_ads,isChatPostFeatureEnabled:e.is_chat_post_feature_enabled,keyColor:e.key_color,language:e.language,over18:e.over_18,publicDescription:e.public_description,publicTraffic:e.public_traffic,restrictCommenting:e.restrict_commenting,restrictPosting:e.restrict_posting,showMedia:e.show_media,showMediaPreview:e.show_media_preview,spamComments:e.spam_comments,spamLinks:e.spam_links,spamSelfposts:e.spam_selfposts,spoilersEnabled:e.spoilers_enabled,submitLinkLabel:e.submit_link_label,submitText:e.submit_text,submitTextLabel:e.submit_text_label,subredditId:e.subreddit_id,subredditType:e.subreddit_type,suggestedCommentSort:e.suggested_comment_sort,title:e.title,wikiEditAge:e.wiki_edit_age,wikiEditKarma:e.wiki_edit_karma,wikimode:e.wikimode}),p=(e,t)=>{const n={};for(const r in e)n[t[r]]=e[r];return n},f=e=>({allow_post_crossposts:e.allowPostCrossposts,allow_chat_post_creation:e.allowChatPostCreation,allow_images:e.allowImages,allow_discovery:e.allowDiscovery,allow_top:e.contentVisible,api_type:"json",collapse_deleted_comments:e.collapseDeletedComments,comment_score_hide_mins:e.commentScoreHideMins,crowd_control_mode:e.crowdControlMode,crowd_control_level:e.crowdControlLevel,disable_contributor_requests:e.disableContributorRequests,description:e.description,domain:e.domain,exclude_banned_modqueue:e.excludeBannedModqueue,"header-title":e.headerHoverText,hide_ads:e.hideAds,is_chat_post_feature_enabled:e.isChatPostFeatureEnabled,key_color:e.keyColor,lang:e.language,link_type:e.contentOptions,over_18:e.over18,public_description:e.publicDescription,public_traffic:e.publicTraffic,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting,show_media:e.showMedia,show_media_preview:e.showMediaPreview,spam_comments:e.spamComments,spam_links:e.spamLinks,spam_selfposts:e.spamSelfposts,spoilers_enabled:e.spoilersEnabled,sr:e.subredditId,submit_link_label:e.submitLinkLabel,submit_text:e.submitText,submit_text_label:e.submitTextLabel,suggested_comment_sort:e.suggestedCommentSort,title:e.title,type:e.subredditType,wiki_edit_age:e.wikiEditAge,wiki_edit_karma:e.wikiEditKarma,wikimode:e.wikimode}),m={allowPostCrossposts:"allow_post_crossposts",allowImages:"allow_images",allowChatPostCreation:"allow_chat_post_creation",allowDiscovery:"allow_discovery",contentVisible:"allow_top",collapseDeletedComments:"collapse_deleted_comments",commentScoreHideMins:"comment_score_hide_mins",crowdControlMode:"crowd_control_mode",crowdControlLevel:"crowd_control_level",description:"description",disableContributorRequests:"disable_contributor_requests",domain:"domain",excludeBannedModqueue:"exclude_banned_modqueue",headerHoverText:"header-title",hideAds:"hide_ads",isChatPostFeatureEnabled:"is_chat_post_feature_enabled",keyColor:"key_color",language:"lang",contentOptions:"link_type",over18:"over_18",publicDescription:"public_description",publicTraffic:"public_traffic",restrictCommenting:"restrict_commenting",restrictPosting:"restrict_posting",showMedia:"show_media",showMediaPreview:"show_media_preview",spamComments:"spam_comments",spamLinks:"spam_links",spamSelfposts:"spam_selfposts",spoilersEnabled:"spoilers_enabled",submitLinkLabel:"submit_link_label",submitText:"submit_text",submitTextLabel:"submit_text_label",suggestedCommentSort:"suggested_comment_sort",title:"title",subredditType:"type",wikiEditAge:"wiki_edit_age",wikiEditKarma:"wiki_edit_karma",wikimode:"wikimode"}},"./src/reddit/endpoints/subreddit/similar.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts"),c=n("./src/reddit/constants/headers.ts"),a=n("./src/reddit/models/MonthsToMinutes/index.ts");!function(e){e.Factorization="factorization",e.CustomModRelevant="custom_mod_relevant"}(r||(r={}));const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.c;const n=new Set,r=e.map(e=>e.data.children).map(e=>e.reduce((e,t)=>{const r=t.data.name;return n.has(r)||(e.push(t),n.add(r)),e},[])),s=Math.max(...r.map(e=>e.length)),o=[];for(let i=0;i<s;i++)r.forEach(e=>{const t=e[i];t&&o.push(t)});return{data:{children:o.slice(0,t)}}};t.b=(e,t)=>Object(o.b)(Object(i.a)(e,[c.a]),{data:{sr_fullnames:t.subredditIds.join(","),limit:t.count,variant:t.variant},endpoint:"".concat(e.apiUrl,"/api/similar_subreddits.json"),method:s.bb.GET})},"./src/reddit/endpoints/subreddit/topSubreddits.ts":function(e,t,n){"use strict";var r=n("./src/graphql/operations/TopSubreddits.json"),s=n("./src/lib/makeGqlRequest/index.ts");t.a=(e,t)=>Object(s.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/user/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return m}));var r=n("./src/config.ts"),s=n("./src/graphql/operations/ExperimentVariants.json"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeApiRequest/index.ts"),c=n("./src/lib/makeGqlRequest/index.ts"),a=n("./src/lib/omitHeaders/index.ts"),d=n("./src/reddit/constants/headers.ts"),u=n("./src/reddit/models/RichTextJson/addRTJParam.ts");const l=(e,t)=>Object(i.b)(e,{endpoint:Object(u.a)("".concat(r.a.gatewayUrl,"/desktopapi/v1/user/").concat(t,"/about")),method:o.bb.GET,data:{api_type:"json",gilding_detail:1,awarded_detail:1}}),b=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_layout_switch"),method:o.bb.POST}),p=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_give_award_tooltip"),method:o.bb.POST}),f=e=>Object(i.b)(Object(a.a)(e,[d.a]),{endpoint:"".concat(e.apiUrl,"/api/seen_modal"),method:o.bb.POST}),m=(e,t)=>Object(c.a)(e,Object.assign({},s,{variables:t}),{traceRequestName:"get_experiments"})},"./src/reddit/endpoints/user/preferences.ts":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeApiRequest/index.ts"),i=n("./src/lib/omitHeaders/index.ts");n("./node_modules/core-js/modules/web.dom.iterable.js");const c={activityRelevantAds:"activity_relevant_ads",acceptPrivateMessages:"accept_pms",allowClickTracking:"allow_clicktracking",collapseReadMessages:"collapse_read_messages",defaultCommentSort:"default_comment_sort",emailDigests:"email_digests",emailUnreadMessages:"email_messages",emailUnsubscribe:"email_unsubscribe_all",geopopular:"geopopular",hasSeenCustomizeFlyout:"has_seen_customize_flyout",hideAds:"hide_ads",hideFromRobots:"hide_from_robots",hideNSFW:"no_profanity",highlightComments:"highlight_new_comments",ignoreSuggestedSort:"ignore_suggested_sort",inBeta:"beta",labelNSFW:"label_nsfw",markMessagesRead:"mark_messages_read",nightmode:"nightmode",over18:"over_18",showMessagesInInbox:"threaded_messages",showNotifications:"live_orangereds",showUsernameMentionNotifications:"monitor_mentions",privateFeeds:"private_feeds",autoplayVideo:"video_autoplay",rpanDuDismissalTime:"rpan_du_dismissal_time",showActiveCommunities:"top_karma_subreddits",showRpanDu:n("./src/reddit/constants/preferences.ts").c,showTwitter:"show_twitter",stylesEnabled:"styles_enabled",openPostInNewTab:"open_post_in_new_tab",rememberCommunitySort:"remember_community_sort",useMarkdown:"use_markdown",sort:"sort",layout:"layout",rememberCommunityLayout:"remember_community_layout",topContentDismissalTime:"top_content_dismissal_time",topContentTimesDismissed:"top_content_times_dismissed",thirdPartyDataPersonalizedAds:"third_party_data_personalized_ads",thirdPartySiteDataPersonalizedAds:"third_party_site_data_personalized_ads",thirdPartySiteDataPersonalizedContent:"third_party_site_data_personalized_content"};var a=e=>{const t={};return Object.keys(e).map(n=>{c.hasOwnProperty(n)&&(t[c[n]]=e[n])}),t};const d={isContributorRequestTimestamp:"is_contributor_request_timestamp",sort:"sort",stylesEnabled:"styles_enabled",layout:"layout"};var u=e=>{const t={};return Object.keys(e).map(n=>{t[d[n]]=e[n]}),t},l=n("./src/reddit/constants/headers.ts");n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return y}));const b=e=>Object(o.b)(Object(i.a)(e,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(e.apiUrl,"/api/v1/me/prefs"),type:"json",data:{over_18:"true"}}),p=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{video_autoplay:e}}),f=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{nightmode:e}}),m=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:{geopopular:e}}),O=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.PATCH,endpoint:"".concat(t.apiUrl,"/api/v1/me/prefs"),type:"json",data:a(e)}),g=(e,t)=>Object(o.b)(Object(i.a)(t,[l.a]),{method:s.bb.POST,endpoint:"".concat(t.apiUrl,"/api/quarantine_optin"),data:{sr_name:e,api_type:"json",accept:!0}}),j=(e,t)=>Object(o.b)(t,{method:s.bb.POST,endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"account",preferences:a(e)}}),y=(e,t,n)=>Object(o.b)(n,{method:s.bb.POST,endpoint:"".concat(r.a.gatewayUrl,"/desktopapi/v1/set_preferences"),type:"json",data:{type:"subreddit",subreddit_id:e,preferences:u(t)}})},"./src/reddit/featureFlags/communityTopics.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/User/index.ts"),s=n("./src/reddit/selectors/user.ts");const o=()=>!0,i=new Set(["0perspective","coachzzz","flash_55","mikapp","ggalex","jdawg1000","hidehidehidden","ringrob"]),c=e=>{if(!e.user.account)return!1;const t=Object(r.f)(e.user.account).toLowerCase();return Object(s.G)(e)&&i.has(t)}},"./src/reddit/featureFlags/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/lodash/isNil.js"),s=n.n(r),o=n("./node_modules/lodash/mapValues.js"),i=n.n(o),c=n("./src/lib/getParsedUserAgent/index.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./src/reddit/featureFlags/utils.ts"),u=n("./src/reddit/featureFlags/communityTopics.ts"),l=n("./src/reddit/featureFlags/layers.ts"),b=n("./src/reddit/selectors/moderatorPermissions.ts"),p=n("./src/reddit/selectors/platform.ts"),f=n("./src/reddit/selectors/subreddit.ts");const m=new Set(["scheduled_posts_test"].map(e=>e.toLowerCase())),O=new Set(["QATrustedUser","redesign","legaladvice","askwomen","exmormon","bestoflegaladvice","relationships","makeupaddiction","rupaulsdragrace","politicalhumor","amitheasshole","christianity","askwomenadvice","mariners","analog","futurology","writingprompts","blackpeopletwitter","ffxiv","dogswithjobs","gaming","science","politics","games","Colorado","iphone","Seattle","tifu","nottheonion","Denver","convopolis","JARTEM","markistest","chattest","browns"].map(e=>e.toLowerCase())),g=new Set(["QATrustedUser"].map(e=>e.toLowerCase()));var j=n("./src/reddit/featureFlags/stewardReports.ts"),y=n("./src/reddit/featureFlags/subredditPoints.ts");const _=new Set(["askaliberal","asktransgender","askwomen","bisexual","blackladies","exchristian","exmormon","gendercynical","girlgamers","neoliberal","nothowgirlswork","progresspics","subredditdrama","teenagers","thegirlsurvivalguide","thequickbrowncorgi","traaaaaaannnnnnnnnns","transpositive","trollxchromosomes","twoxchromosomes"]);n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return I})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return T})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return x}));const h={introModal:Object(d.e)(d.h),markdownMode:d.h,modQueue:Object(d.f)(d.h,d.i),spBadges:y.c,spBadgesModTools:y.d,spCommunityTipJar:y.e,spEmotes:y.f,spEmotesModTools:y.g,spFavoriteCreators:y.h,spGiphy:y.i,spGovPolls:y.j,spHarberger:y.k,spKarmaPoints:y.l,spLeaderboard:y.m,spLoadtest:y.n,spPoints:y.o,spPolls:y.p,spPremium:y.q,spPremiumSubscriptions:y.r,spPremiumUpsells:y.s,spPublicPoints:y.t,spSpinoffs:y.u,spStellarWalletRegistration:y.v,spSupport:y.w,spTipping:y.x,spTopTippers:y.y,spWalletRegistrationBanner:y.z,scheduledPosts:Object(d.f)(d.h,e=>{const t=Object(p.e)(e),n=!!t&&Object(b.e)(e,{subredditId:Object(f.G)(e,t)});return!!t&&n&&m.has(t.toLowerCase())}),communityTopics:u.b,adminCommunityTopics:u.a,events:Object(d.f)(Object(d.c)("event_posts"),d.h),collections:Object(d.f)(Object(d.c)("collections"),d.h),rteVideoPoster:d.h,userSeenSubredditChatFtux:a.cb,userInChat:a.B,userInSubredditChat:a.E,userInChatUserSettings:a.C,devAndStagingWatermark:d.h,fpsMeter:d.l,rabbitHole:d.l,measureScrollFPS:d.i,showVerboseErrors:Object(d.f)(d.h,d.i),stewardReports:j.b,uappBanner:d.l,experiments:Object(d.a)(d.j,Object(d.e)(d.g)),enableGraphQl:d.j,importExportThemes:d.i,flairRestrictions:d.m,newPostRequirements:d.m,spezModal:Object(d.f)(d.h,Object(d.a)(d.n,Object(d.b)("US"))),superbOwl:d.k,enableShadowMode:Object(d.d)(0),enableUserDataRequestPage:Object(d.f)(d.h,d.i),pushNotificationsBrowserSupported:e=>{const t=navigator.userAgent,n=Object(c.a)(t).browser.version;if(!n)return!1;let r;try{r=n.split(/[^\d]/)[0]}catch(s){return!1}return!!(Object(c.b)(t)&&parseInt(r)>=50&&Object(c.c)(t))||(!!(Object(c.d)(t)&&parseInt(r)>52&&Object(c.c)(t))||!!(Object(c.f)(t)&&parseInt(r)>=27&&Object(c.c)(t)))},enableCrowdControlMode:e=>{const t=Object(p.e)(e);return!!t&&O.has(t.toLowerCase())},enableCrowdControlLevel:e=>{const t=Object(p.e)(e);return!!t&&g.has(t.toLowerCase())},enableToxicityWarning:e=>{const t=Object(p.e)(e);return!!t&&_.has(t.toLowerCase())},snoovatar30:d.h,isEmailPermissionRequired:Object(d.c)("is_email_permission_required"),focusedVerticalsExperiment:d.m,subredditInlineEditing:d.m,layersEmbed:l.b,layersEmbedQuickLink:l.c,subredditMentionD2xExperiment:d.m,__requiredDoNotRemove:d.l},E=i()(h,(e,t)=>n=>{const r=n.featureFlags.overrides[t];return s()(r)?e(n):r}),I=Object.keys(h),v=e=>e.filter(e=>"__requiredDoNotRemove"!==e),S=/^feature_(.*)$/i,T=e=>{const t=e.match(S);if(null!==t)return t[1]},C="FEATURES__FEATURE_SET",w="FEATURES__FEATURE_TOGGLED",x=e=>{let{featureName:t}=e;return(e,n)=>{const r=(0,E[t])(n());e((e=>{let{featureName:t,currentValue:n}=e;return{type:w,payload:{featureName:t,currentValue:n}}})({featureName:t,currentValue:r}))}}},"./src/reddit/featureFlags/layers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts");const s=new Set(["layer","isslayerstest"]);const o=e=>{const t=Object(r.e)(e);return!!t&&a(t.toLowerCase())},i=e=>o(e)&&!1,c=e=>o(e)&&!0,a=e=>s.has(e.toLowerCase()),d=()=>!1},"./src/reddit/featureFlags/profileCollections.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/models/User/index.ts");const s=new Set(["0perspective","almondparfitt","almondparfitt","avocadoast","chtorrr","coachzzz","crowd__pleaser","dadintech","flash_55","igabeup","kalluraya","kp-krunal","kpkrunal","lakelly000","sodypop","vlkoti","wokata","wting","mynameizkhan","mattkula","wokata","vladkonon"]),o=e=>{if(!e.user.account)return!1;const t=Object(r.f)(e.user.account).toLowerCase();return s.has(t)}},"./src/reddit/featureFlags/stewardReports.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts"),s=n("./src/reddit/featureFlags/utils.ts");const o=new Set(["beautyguruchatter","dodgers","fantasy","natureismetal","nomansskythegame","nyc","parenting","rarepuppers","seattlewa","stardewvalley","stewards_testing"]),i=Object(s.c)("steward_ui"),c=(e,t)=>{let{subredditName:n}=t;return!!n&&o.has(n.toLowerCase())&&i(e)},a=e=>{const t=Object(r.e)(e);return!!t&&c(e,{subredditName:t})}},"./src/reddit/featureFlags/subredditPoints.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return L})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return F})),n.d(t,"n",(function(){return G})),n.d(t,"o",(function(){return B})),n.d(t,"p",(function(){return q})),n.d(t,"q",(function(){return V})),n.d(t,"r",(function(){return H})),n.d(t,"s",(function(){return W})),n.d(t,"t",(function(){return K})),n.d(t,"u",(function(){return J})),n.d(t,"v",(function(){return Y})),n.d(t,"x",(function(){return z})),n.d(t,"z",(function(){return Q})),n.d(t,"w",(function(){return X})),n.d(t,"y",(function(){return $}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/platform.ts");const s=new Set(["daonuts","ethtrader","karma_chameleon","pointsrtesty"]),o=new Set(["fortnitebr","funkygoose"]),i=new Set(["funkygoose"]),c=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),a=new Set(["fortnitebr","funkygoose"]),d=new Set(["funkygoose"]),u=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),l=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar"]),b=new Set(["daonuts","ethtrader","funkygoose","stellar"]),p=new Set(["badgesroyaletest","fortnitebr"]),f=new Set(["badgesroyaletest","daonuts","ethtrader","fortnitebr","funkygoose","stellar"]),m=new Set([]),O=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar"]),g=new Set(["daonuts","ethtrader","funkygoose","funkygooseeggs","karma_chameleon","modtestmeyourpoints","mountainbiking","nr4madastest","pointsrtesty","project_kairos","qameplease","stellar"]),j=new Set(["funkygoose","badgesroyaletest","fortnitebr"]),y=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),_=new Set(["badgesroyaletest","fortnitebr","funkygoose"]),h=new Set(["daonuts","ethtrader","funkygoose","mountainbiking","stellar"]),E=new Set(["funkygoose"]),I=new Set(["badgesroyaletest","fortnitebr","funkygoose","shittymorph"]),v=new Set(["daonuts","ethtrader","funkygoose","mountainbiking","stellar"]),S=new Set(["funkygoose"]),T=new Set(["stellar"]),C=new Set(["daonuts","ethtrader"]),w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{const n=Object(r.e)(e);if(n){for(const e of t)if(!e.has(n.toLowerCase()))return!1;return!0}return!1}},x=w(O,s),D=w(o),P=w(I,i),A=w(c),R=w(a),N=w(I,d),k=w(u),L=w(O,g,l),U=w(O,b),M=w(p),F=w(f),G=w(m),B=w(O),q=w(O,g),V=w(I,j),H=w(I,y),W=w(I,_),K=w(h),J=w(O,E),Y=w(T),z=w(h,v),Q=w(C),X=w(I),$=w(I,S)},"./src/reddit/featureFlags/utils.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/crypto-js/sha256.js"),s=n.n(r),o=n("./src/reddit/constants/spezModal.ts");var i=n("./src/reddit/selectors/runTimeEnvVars.ts"),c=n("./src/reddit/selectors/user.ts");n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"k",(function(){return E}));const a=e=>t=>!e(t),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>t(e))},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.every(t=>t(e))},l=e=>t=>((e,t)=>{let{user:n}=e;const r=n&&n.features;return!(!r||!r[t])})(t,e),b=e=>t=>((e,t)=>{let{user:n}=e;if(0===t)return!1;const r=n&&n.loid.loid;return!!r&&parseInt(s()(r).toString(),16)%1e3<10*t})(t,e),p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>t===e.meta.country)},f=(e,t)=>n=>{const r=n.meta.pageloadServerTime;return r>e&&r<t},m=e=>!0,O=e=>!1,g=e=>!1,j=c.G,y=d(g,i.c),_=e=>!!e.user.session,h=f(o.d,o.e),E=f(15492132e5,15492561e5)},"./src/reddit/helpers/adCount/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),o=n("./src/reddit/selectors/platform.ts");const i=(e,t,n)=>[e,t,n].join("/"),c=(e,t)=>{switch(t){case s.a.SUBREDDIT:case s.a.COMMENTS_OVERLAY:case s.a.COMMENTS:{const t=Object(o.i)(e);return[i(r.c.ABOVE_THE_FOLD,t,0),i(r.c.BELOW_THE_FOLD,t,1)]}case s.a.FRONTPAGE:return[i(r.c.ABOVE_THE_FOLD,!1,0),i(r.c.BELOW_THE_FOLD,!1,1)];case s.a.MULTIREDDIT:case s.a.SEARCH_RESULTS:return[i(r.c.BELOW_THE_FOLD,!1,0)];default:return[i(r.c.ABOVE_THE_FOLD,!1,0),i(r.c.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/addRedesignIdentifier/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n("./src/config.ts"),s=n("./node_modules/url/url.js"),o=n.n(s),i=n("./src/lib/addQueryParams/index.ts");function c(e){const{protocol:t,host:n}=o.a.parse(e),s="".concat(t,"//").concat(n)===r.a.oauthUrl?r.a.telemetry.appName.redesignR2:r.a.telemetry.appName.redesign,c={redditWebClient:s,app:"".concat(s,"-").concat("client","-").concat("production")};return Object(i.a)(e,c)}const a=()=>{const e=r.a.telemetry.appName.redesignR2;return{redditWebClient:e,app:"".concat(e,"-").concat("client","-").concat("production")}}},"./src/reddit/helpers/canonicalUrls.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return _}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/react-router-redux/es/index.js"),s=n("./node_modules/url/url.js"),o=n.n(s),i=n("./src/lib/addQueryParams/index.ts"),c=n("./src/lib/isAdHocMultireddit/index.ts"),a=n("./src/lib/isFakeSubreddit/index.ts"),d=n("./src/reddit/actions/otherDiscussions/constants.ts"),u=n("./src/reddit/models/Comment/index.ts"),l=n("./src/reddit/models/Post/index.ts"),b=(n("./src/reddit/selectors/meta.ts"),n("./src/reddit/selectors/multireddit.ts")),p=n("./src/reddit/selectors/subreddit.ts");const f=(e,t,n,s)=>{const o=Object(i.a)(n,s),c=e.platform&&e.platform.currentPage&&e.platform.currentPage.locationState||void 0;t(Object(r.c)(o,c))},m=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{multiredditName:i,username:c}=r,a=Object(b.g)(e,{multiredditName:i,username:c});if(!a)return;const d=o===a,u=o.endsWith("/");if(d&&u)return;const l=u?o:"".concat(o,"/"),p=d?l:"".concat(a).concat(l.substr(a.length));f(e,t,p,s)},O=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{subredditName:i}=r;if(i){const n="/user/".concat(i,"/"),r=o.endsWith("/"),c=Object(p.b)(e,{profileName:i});if(!c)return;const a=n===c;if(a&&r)return;const d=r?o:"".concat(o,"/"),u=a?d:d.replace(n,c);f(e,t,u,s)}},g=(e,t)=>{let n;if(Object(a.a)(t)&&Object(c.a)(t)){const{subredditIds:r}=Object(b.a)(e,{listingName:t});if(!r)return;const s=Object(p.Z)(e,{subredditIds:r}).map(e=>e.name).sort().join("+");n="/r/".concat(s,"/")}return n},j=(e,t,n)=>{const{params:r,queryParams:s,url:i}=n,{partialCommentId:c,partialPostId:a}=r,b=c?Object(u.e)(c):"",p=a?Object(l.l)(a):"";if(b){const n=e.comments.models[b];if(!n)return;const r=o.a.parse(n.permalink).pathname;r&&r!==i&&f(e,t,r,s)}else if(p){const r=e.posts.models[p];if(!r)return;const c=o.a.parse(r.permalink).pathname,a=Object(d.d)(n.path),u=c&&a?Object(d.e)(c):c;c&&c!==i&&!a?f(e,t,c,s):u&&u!==Object(d.e)(i)&&a&&f(e,t,u,s)}},y=e=>e.replace(/\/$/,""),_=(e,t,n)=>{const{params:r,queryParams:s,url:o}=n,{subredditName:i}=r;if(i){const n="/r/".concat(i,"/"),r=o.endsWith("/");let d=o;if(Object(a.a)(i)&&Object(c.a)(i)){const t=g(e,i);t&&(d=d.replace(y(n),y(t)))}else{const t=Object(p.d)(e,{subredditName:i});if(!t)return;const s=(Object(a.a)(i)?n.toLowerCase():n)===t;if(s&&r)return;const c=r?o:"".concat(o,"/");d=s?c:c.replace(y(n),y(t))}d!==o&&f(e,t,d,s)}}},"./src/reddit/helpers/categoryPickerWidget/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/reddit/helpers/name/index.ts");const s=(e,t)=>t.map(t=>{const n=Object(r.f)(t.name),s=n.split(" & ").join("_and_");return Object.assign({},t,{name:n,path:t.path||"".concat(e).concat(s,"/")})}),o=e=>Object(r.f)(e).split("_and_").join(" & ")},"./src/reddit/helpers/chooseVariant/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/featureThrottling/store/index.ts"),i=n("./src/reddit/helpers/trackers/experiments.ts"),c=n("./src/reddit/selectors/experiments/index.ts"),a=n("./src/reddit/selectors/telemetry.ts");const d=(e,t)=>{if(!t.experimentEligibilitySelector(e))return!1;if(t.isThrottled&&o.a.isFeatureThrottled(t.experimentName))return!1;if(t.throttledVariants){const n=((e,t)=>{const n=Object(c.b)(e,t),r=Object(c.a)(e,t);return void 0!==r?r:n&&n.name||void 0})(e,t),r=n&&t.throttledVariants[n];if(r&&o.a.isFeatureThrottled(r))return!1}return!0},u=()=>!0,l={},b=[s.c,s.d],p=Object(r.a)((e,t)=>e,c.b,c.a,d,(e,t)=>t.expEventOverride,(e,t)=>t.experimentName,(e,t,n,r,s,o)=>{if(!r)return;if(!t)return n&&l[o]!==n&&!1!==s&&(Object(i.a)(e,{experimentName:o}),l[o]=n),n;const c=t.name,a=void 0!==n?n:t.variant;if(a){l[c]===a||!1===s||Object(i.a)(e,{experimentName:o})}return a}),f=Object(r.a)(c.b,c.a,e=>a.user(e),(e,t)=>t.expEventOverride,(e,t)=>t.customPayloadMaker&&t.customPayloadMaker(e),d,(e,t)=>t.experimentName,(function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;if(!o)return;if(!e)return t&&!1!==r&&l[c]!==t&&!b.includes(c)&&(Object(i.b)(n,{id:-1,isOverride:!0,name:c,variant:t,version:"-1"},s),l[c]=t),t;const a=e.name,{id:d}=e,u=void 0!==t,p=u?t:e.variant;if(p){const t=-1===d,o=l[a]===p;t||o||!1===r||b.includes(c)||(Object(i.b)(n,Object.assign({},e,{isOverride:u,variant:p}),s),l[a]=p)}return u?t:p})),m=(e,t)=>{const n=a.user(e),r=Object(c.b)(e,t),s=Object(c.a)(e,t),o=void 0!==s;if(r){const e=o?s:r.variant;e&&Object(i.b)(n,Object.assign({},r,{isOverride:o,variant:e}),{})}},O=(e,t)=>{const n=Object(c.b)(e,{experimentName:t}),r=Object(c.a)(e,{experimentName:t});if(!n)return r?{id:-1,isOverride:!0,name:t,variant:r,version:"-1"}:null;const s=void 0!==r,o=s?r:n.variant;return o?Object.assign({},n,{isOverride:s,variant:o}):null}},"./src/reddit/helpers/commentList/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/constants/comments.ts"),s=n("./src/reddit/selectors/comments.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts");n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));const c=(e,t)=>t().comments.models[e],a=e=>{switch(e.commentLink.type){case r.a.Comment:return e.commentsDict[e.commentLink.id];case r.a.MoreComments:return e.moreCommentsDict[e.commentLink.id];case r.a.ContinueThread:return e.continueThreadDict[e.commentLink.id]}},d=(e,t)=>e.type===r.a.MoreComments?t[e.id].numComments:1,u=(e,t,n,r)=>{let o=Object(s.p)(r,{commentLink:t,commentsPageKey:e}),i=t;for(;o&&o.depth>n&&o.prev&&(i=o.prev,(o=Object(s.p)(r,{commentLink:i,commentsPageKey:e}))&&!(o.depth<=n)););return i.id},l=(e,t,n)=>{const{commentLists:r,comments:s}=e,{head:c}=r[t];if(c)return Object.keys(s).filter(e=>{const t=s[e];return!(!t.isStickied||!((e,t)=>{const n=Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:o.f,expEventOverride:t});return!!(Object(o.Zb)(n)?void 0:n)})(n))||(e=>!1!==e.collapsed)(t)})}},"./src/reddit/helpers/correlationIdTracker.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return d}));var r,s=n("./node_modules/uuid/v4.js"),o=n.n(s);!function(e){e.AwardCreationFlow="AwardCreationFlow",e.AwardDeletionFlow="AwardDeletionFlow",e.Explore="Explore",e.GildingFlow="GildingFlow",e.GiftPremiumFlow="GiftPremiumFlow",e.GoldPayment="GoldPayment",e.PostComposer="PostComposer",e.PremiumSettings="PremiumSettings",e.SearchResults="SearchResults",e.VideoView="VideoView"}(r||(r={}));const i={},c=e=>i[e],a=e=>i[e]=o()(),d=e=>i[e]=void 0},"./src/reddit/helpers/dom/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return m}));n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./node_modules/lodash/map.js"),s=n.n(r),o=n("./src/lib/FocusTrap/index.ts");const i=e=>"INPUT"===e.tagName.toUpperCase()||"TEXTAREA"===e.tagName.toUpperCase()||"DIV"===e.tagName.toUpperCase()&&e.isContentEditable,c=e=>{let t=e;do{if(i(t))return!0}while(t=t.parentElement);return!1},a=()=>{const e=document.getSelection();return!!e&&(e.rangeCount>0&&e.getRangeAt(0).toString().length>0)},d=()=>a()?(()=>{const e=document.getSelection();if(!e)return[];const t=e.getRangeAt(0).cloneContents().childNodes;return s()(t,e=>e.textContent||"")})():null,u=(e,t)=>{const n=document.createRange();return n.selectNode(t),e.compareBoundaryPoints(Range.END_TO_START,n)<0&&e.compareBoundaryPoints(Range.START_TO_END,n)>0},l=e=>{const t=window.getSelection();if(1!==t.rangeCount)return;const n=t.getRangeAt(0);if(!u(n,e))return;const{startContainer:r,startOffset:s,endContainer:o,endOffset:i}=n,c=document.createRange();c.selectNode(e);let a=!0;if(-1===c.compareBoundaryPoints(Range.START_TO_START,n)&&(c.setStart(r,s),a=!1),1===c.compareBoundaryPoints(Range.END_TO_END,n)&&(c.setEnd(o,i),a=!1),a)return[e];const d=document.createElement("div");return d.appendChild(c.cloneContents()),[...d.childNodes]},b=(e,t,n)=>{let r=e;for(;r&&(!n||!n(r));){if(r&&t(r))return r;r=r.parentElement}},p=e=>e&&e.parentElement&&b(e.parentElement,e=>"static"!==window.getComputedStyle(e).getPropertyValue("position")),f=e=>{if(!e||e.hidden)return!0;if(window.getComputedStyle){const t=window.getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility)return!0}return!!e.parentElement&&f(e.parentElement)},m=e=>{e.querySelectorAll(o.a).forEach(e=>{e.tabIndex=-1})}},"./src/reddit/helpers/economics/sortBadges.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(e,t){if(e.placement&&!t.placement)return-1;if(t.placement&&!e.placement)return 1;if(e.position&&!t.position)return-1;if(t.position&&!e.position)return 1;let n=0;return e.placement&&t.placement&&(n=e.placement.localeCompare(t.placement)),0===n&&e.position&&t.position&&(n=e.position-t.position),0===n&&(n=e.title.localeCompare(t.title)),n}function s(e){return[...e].sort(r)}},"./src/reddit/helpers/favoriteCreators/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./src/lib/constants/index.ts"),n("./src/config.ts"),n("./src/reddit/endpoints/governance/requester.ts");n("./src/reddit/endpoints/economics/tips.ts");n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));const r={creators:{},lastFetch:0,posts:[],tippablePosts:{}},s=e=>"favorite-creators-".concat(e),o=e=>{try{const t=localStorage.getItem(s(e));if(t)return Object.assign({},r,JSON.parse(t))}catch(t){}return r},i=(e,t)=>{try{return localStorage.setItem(s(e),JSON.stringify(t)),!0}catch(n){}return!1},c=e=>{const t=o(e).creators;return Object.keys(t).sort((e,n)=>t[e]-t[n]).slice(0,100)},a=(e,t)=>{const n=o(e);if(Object.keys(n.creators).length>=200&&!n.creators[t]){const t=c(e),r=t[t.length-1];delete n.creators[r]}return n.creators[t]=(n.creators[t]||0)+1,i(e,n)},d=(e,t)=>{const n=o(e);return delete n.creators[t],i(e,n)}},"./src/reddit/helpers/featureThrottling/store/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/uuid/v4.js"),s=n.n(r),o=n("./src/reddit/constants/featureThrottling.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./node_modules/lodash/uniq.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/reddit/models/FeatureThrottling/index.ts");const l=[],b=(e,t,n)=>{switch(e.type){case u.b.TimesPerPeriod:{const n=Date.now()-e.period;return t.filter(e=>e.when>=n).length<e.times}case u.b.TimesPerSession:return t.filter(e=>e.sessionId===n).length<e.times;case u.b.TimesTotal:return t.length<e.times;case u.b.NthSession:return a()([...t.map(e=>e.sessionId),n]).length%e.nth==0;case u.b.Combined:return(e.op===u.a.And?Array.prototype.every:Array.prototype.some).call(e.configs,e=>b(e,t,n));default:return!1}},p=Object(d.a)((e,t)=>t.name,(e,t)=>t.sessionId,(e,t)=>o.a[t.name],(e,t)=>e[t.name]||l,(e,t,n,r)=>{if(!n)return!1;try{return b(n,r,t)}catch(s){return!1}}),f=(e,t)=>!p(e,t);const m=new class{constructor(){this.isReady=!1,this.listeners=new Set,this.sessionId="",this.throttlingData={},this.subscribe=e=>{this.listeners.has(e)||(this.listeners.add(e),this.isReady&&e(this.throttlingData))},this.unsubscribe=e=>{this.listeners.delete(e)},this.persistToLSAndNotify=e=>{Object(i.L)(this.throttlingData),this.notifyAll(e)},this.isFeatureThrottled=e=>!!this.isReady&&f(this.throttlingData,{name:e,sessionId:this.sessionId}),this.throttleFeature=e=>{o.a[e]&&!this.isFeatureThrottled(e)&&(this.throttlingData=Object.assign({},this.throttlingData,{[e]:[...this.throttlingData[e]||[],{sessionId:this.sessionId,when:Date.now()}]}),this.persistToLSAndNotify(e))},this.resetFeature=e=>{o.a[e]&&(this.throttlingData=Object.assign({},this.throttlingData,{[e]:[]}),this.persistToLSAndNotify(e))}}initialize(){const e=Object(i.j)();if(!e)return;const t=Object.keys(o.a);let n=!1;Object.keys(e).forEach(r=>{t.includes(r)||(delete e[r],n=!0)}),n&&Object(i.L)(e),this.throttlingData=e,this.sessionId=s()(),this.isReady=!0,this.notifyAll()}notifyAll(e){this.isReady&&this.listeners.forEach(t=>{t(this.throttlingData,e)})}};t.a=m},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/findLastIndex.js"),s=n.n(r),o=n("./src/reddit/models/WhitelistStatus/index.ts"),i=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const d=(e,t)=>{let{subreddits:n,profiles:r}=t;const s=n[e.belongsTo.id]||r[e.belongsTo.id];return!e.isNSFW&&s&&s.wls===o.a.ALL_ADS};t.a=(e,t,n)=>{var{postIds:r,posts:o,subreddits:u,profiles:l}=n,b=a(n,["postIds","posts","subreddits","profiles"]);const p=e.listings.postOrder.ids[t],f=(r||[]).filter(e=>!p||!p.includes(e)),m=p.map(t=>e.posts.models[t]),O=m.length-(s()(m,e=>e.isSponsored)+1),g=f.map(e=>o[e]);let j;const y=[],_={subreddits:u,profiles:l};for(let s=0;s<g.length;s++){const n=g[s];let r=!1;if(n.isSponsored){const e=s>0&&g[s-1],t=s<g.length-1&&g[s+1];e&&d(e,_)&&t&&d(t,_)&&(r=!0)}n.isSponsored&&r&&(null==j&&O+s>=3||s-j>=3)?(j=s,y.push(n.id)):n.isSponsored?n.isSponsored&&Object(c.a)(Object.assign({source:"feed",action:"remove",noun:"ad"},i.defaults(e),{listing:i.listing(e,t)})):y.push(n.id)}return Object.assign({},b,{subreddits:u,profiles:l,posts:o,postIds:y})}},"./src/reddit/helpers/flair.ts":function(e,t,n){"use strict";n.d(t,"p",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"r",(function(){return D})),n.d(t,"k",(function(){return P})),n.d(t,"m",(function(){return A})),n.d(t,"j",(function(){return R})),n.d(t,"e",(function(){return N}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./src/lib/addQueryParams/index.ts"),i=n("./src/lib/formatEmojiName/index.ts"),c=n("./src/reddit/constants/colors.ts"),a=n("./src/reddit/constants/flair.ts"),d=n("./src/reddit/i18n/utils.ts"),u=n("./src/reddit/models/Flair/index.ts");const l=e=>e===u.f.Text||e===u.f.Richtext||e===u.f.Image||e===u.f.Meta,b=e=>e.e===u.c.Emoji?Object(i.b)(e.a):e.t,p=e=>e.type===u.f.Richtext?e.richtext.map(b).join(""):e.text||"",f=e=>p(e).length,m=(e,t)=>p(e)===p(t),O=e=>!e.allowableContent||e.allowableContent===u.a.Emoji||e.allowableContent===u.a.All,g=e=>!e.allowableContent||e.allowableContent===u.a.Text||e.allowableContent===u.a.All,j=e=>!!e.find(e=>e.e===u.c.Text),y=e=>e.type===u.f.Richtext?j(e.richtext):!!e.text,_=e=>e.type===u.f.Richtext?e.richtext.reduce((e,t)=>t.e===u.c.Emoji?e+1:e,0):0,h=e=>({e:u.c.Text,t:e}),E=(e,t)=>({e:u.c.Emoji,a:e,u:t}),I=function(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e.type===u.f.Richtext?{backgroundColor:e.backgroundColor,cssClass:e.cssClass,richtext:e.richtext,templateId:e.id,textColor:e.textColor,type:e.type}:{backgroundColor:e.backgroundColor,cssClass:e.cssClass,templateId:e.id,text:e.text,textColor:e.textColor,type:e.type},n&&(t=w({flair:t,template:e})),t},v=()=>{return{backgroundColor:c.a.defaultFlair,text:"",textColor:u.e.Dark,type:u.f.Text}},S=e=>{let{maxEmojis:t}=e;if("string"==typeof t){const e=parseInt(t,10);return Number.isInteger(e)?e:a.d}return"number"==typeof t?t:a.d},T=(e,t)=>{if(t>=e.length)return e;let n=e,r=-1,s=0,o=-1;for(let i=0;i<e.length;i++)if(e[i].e===u.c.Emoji)if(++s===t)o=i;else if(s>t){r=o+1;break}if(r>=0){n=e.slice(0,r);let t="";for(let n=r;n<e.length;n++)t+=b(e[n]);n.push(h(t))}return n},C=(e,t)=>{const n=e.type===u.f.Richtext?e.richtext:[],r=p(e);return Object.assign({},t,{type:e.type,richtext:n,text:r})},w=e=>{const{flair:t,template:n,ignoreTextAllowance:r=!1}=e,s=!!r||g(n);let o=t;if(t.type===u.f.Richtext){let e=t.richtext;e=O(n)?T(e,S(n)):T(e,0),!s&&j(e)&&(e=e.filter(e=>e.e!==u.c.Text)),e!==t.richtext&&(o=Object.assign({},t,{richtext:e}))}else t.text&&!s&&(o=Object.assign({},t,{text:""}));return o},x=()=>!0,D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const{emojis:r,snoomojis:o}=t,c=e.type===u.f.Richtext?e.richtext:[h(e.text)],a=[];return c.forEach(e=>{if(e.e===u.c.Text){e.t.split(/(:[-\w]+:)/).forEach(e=>{if(!e)return;if(i.a.test(e)){const t=e,s=t.slice(1,-1),i=r[s]||o[s];if(i&&n(i)){const e=E(t,i.url);return void a.push(e)}}const t=a[a.length-1];t&&t.e===u.c.Text?t.t+=e:a.push(h(e))})}else a.push(e)}),s()(a,c)?e:Object.assign({},e,{type:u.f.Richtext,richtext:a})},P=e=>{const t=S(e),n=Object(d.a)("emojiCount",["emoji","emojis"],t);return e.allowableContent===u.a.Emoji?Object(d.c)("Allows up to ".concat(Object(d.b)("emojiCount",t)," ").concat(n," only")):e.allowableContent===u.a.Text?Object(d.c)("Allows text only"):Object(d.c)("Allows text and up to ".concat(Object(d.b)("emojiCount",t)," ").concat(n))},A=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=f(e),s=g(t),o=O(t);if(0===r&&!n.allowBlank)return s&&o?Object(d.c)("Error: text or emoji is required"):o?Object(d.c)("Error: emoji is required"):Object(d.c)("Error: text is required");if(r>a.g&&!n.allowOverflow)return Object(d.c)("Error: character limit exceeded");const i=S(t),c=_(e);return!s&&y(e)?Object(d.c)("Error: Only emojis allowed"):!o&&c>0?Object(d.c)("Error: Emojis aren't allowed"):c>i?Object(d.c)("Error: Exceeds ".concat(Object(d.b)("maxEmojiCount",i)," emoji limit")):void 0},R=e=>'flair_name:"'.concat(p(e),'"'),N=(e,t)=>Object(o.a)(e,{f:t})},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/app/strings/index.ts");const o=Object(s.e)("error.type.generic");t.a=e=>({type:r.D.SERVER_ERROR,fields:[{field:"",msg:o(e)}]})},"./src/reddit/helpers/getCommentsPageSort/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/extractQueryParams/index.ts"),o=n("./node_modules/lodash/fromPairs.js"),i=n.n(o),c=n("./src/reddit/constants/parameters.ts"),a=n("./src/reddit/selectors/experiments/chatPost.ts"),d=n("./src/reddit/selectors/user.ts");t.a=(e,t)=>{const{user:n}=e,o=t&&e.posts.models[t],u=o&&o.suggestedSort?o.suggestedSort:"",l=!!n&&Object(d.A)(e);let b,p=r.r,f=!1;n&&n.prefs&&(b=n.prefs.defaultCommentSort),l?p=b:u?p=u:b&&(p=b);const m=(e=>{const t=e.platform.currentPage&&e.platform.currentPage.url;return t&&i()([...Object(s.a)(t)])||new Set([])})(e),O=c.q in m?m[c.q]:"";return(r.Sb.has(O)?O:p)===O&&(p=O),O&&(f=!0),Object(a.d)(e,{postId:t})&&(p=r.q.CHAT,f=!1),{hasSortParam:f,sortToUse:p}}},"./src/reddit/helpers/getErrorMsgFromR2JQueryResponse.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r={INVALID_EMAIL:"You entered an invalid email. Please try again.",RATELIMITED:"You are doing that too much. Please try later.",WRONG_PASSWORD:"You entered an incorrect password. Please try again."},s=(e,t)=>-1!==e.indexOf(t);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong. Please try again.";const n=e&&e.body&&e.body.jquery&&e.body.jquery[14]&&e.body.jquery[14][3]&&e.body.jquery[14][3][0];return"string"!=typeof n?t:s(n,"the following emails are invalid")?r.INVALID_EMAIL:s(n,"wrong password")?r.WRONG_PASSWORD:s(n,"you are doing that too much")?r.RATELIMITED:t}},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/constants/index.ts");function s(e){return{type:r.D.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getPostFromRouteMatch/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/reddit/models/Post/index.ts"),s=n("./src/lib/constants/index.ts");t.a=(e,t)=>{if(!t){const{currentPage:n}=e.platform;if(!n)return null;t=n.routeMatch}const{name:n}=t.route.meta;if(n===s.xb.COMMENTS||n===s.xb.DUPLICATES){const{partialPostId:n}=t.match.params,s=Object(r.l)(n);return e.posts.models[s]}return null}},"./src/reddit/helpers/getPostLimitForMobile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/constants/postLayout.ts");function s(e){return e?r.c[e]:r.f}},"./src/reddit/helpers/getRichTextContent.ts":function(e,t,n){"use strict";var r=n("./src/lib/env/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/helpers/isComment.ts"),i=n("./src/reddit/models/RichTextJson/index.ts"),c=(n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./src/reddit/models/RichTextJson/nodeMakers.ts"));n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b}));const a={document:"[Unable to render content]".split("\n").map(e=>Object(c.l)([Object(c.s)(e,null)]))};const d=(e,t)=>{const n=Object(o.a)(t.id),i="getRichTextContent: ".concat(e," (in ").concat(n?"comment":"post",")");s.c.withScope(e=>{e.setExtra("info",{id:t.id,permalink:t.permalink,media:t.media}),e.setTag("rtjson","getting_content"),s.c.captureMessage(i)}),Object(r.b)()||console.log("".concat(t.id,": ").concat(i))},u=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=void 0===t?a:t,s=e.media;if(!s)return n&&d("Media object is missing",e),r;if("rtjson"!==s.type)return n&&d("Media object type is not rtjson",e),r;const o=s.richtextContent;return o?Array.isArray(o.document)?o:(n&&d("Invalid richtextContent document",e),r):(n&&d("Missing richtextContent property",e),r)},l=e=>!!u(e,null,!1),b=e=>{const t=u(e,null,!1);if(!t)return;const n=t.document,r=[];return n.forEach(e=>{if(e.e===i.u){e.c.forEach(e=>{e.e===i.A&&r.push(e.t)})}}),0!==r.length?r.join(" "):void 0};t.a=u},"./src/reddit/helpers/getS3KeyFromUrl/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),s=n.n(r);t.a=e=>{const{pathname:t=""}=s.a.parse(e);return t.startsWith("/")?t.slice(1):t}},"./src/reddit/helpers/getSubredditErrorProps/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/components/ContentGate/index.tsx");t.a=(e,t,n)=>{let s,o,i,c,a,d;return e?e.quarantinedSubreddit?(o=r.a.QuarantinedSubreddit,c=e.quarantineMessage,a=e.quarantineMessageHtml,d=e.quarantineRequiresEmail):e.privateSubreddit?(o=r.a.PrivateSubreddit,i=e.subredditDescription):e.goldSubreddit?o=r.a.GoldSubreddit:e.subredditBanned?(o=r.a.SubredditBanned,s=e.subredditBanMessage):e.subredditDoesNotExist&&(o=r.a.SubredditDoesNotExist):t&&(o=r.a.Nsfw),o&&n?{banMessage:s,contentGateType:o,subredditDescription:i,subredditName:n,quarantineMessage:c,quarantineMessageHtml:a,quarantineRequiresEmail:d}:void 0}},"./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx":function(e,t,n){"use strict";var r=n("./src/config.ts"),s=n("./src/reddit/models/StructuredStyles/index.ts");const o={};t.a=e=>e.subredditOrProfile?{url:e.shouldHideNsfwIcon&&e.subredditOrProfile.isNSFW?"".concat(r.a.assetPath,"/img/avatar_over18.png"):e.subredditOrProfile.communityIcon||e.subredditOrProfile.icon.url,color:Object(s.h)(e.subredditOrProfile)}:o},"./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts");t.a=e=>{const{sort:t,subredditName:n}=e,o=!n||Object(s.a)(n)?r.O:void 0;return t||o}},"./src/reddit/helpers/getSubredditUrl/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/isFakeSubreddit/index.ts");t.a=e=>e&&!Object(r.a)(e.name)?e.url:""},"./src/reddit/helpers/getTimeSortForListing/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/listingSort/index.ts");t.a=(e,t)=>{if(e)return Object(s.a)(e)?t||r.Pb:void 0}},"./src/reddit/helpers/governanceErrorText/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("./node_modules/core-js/modules/web.dom.iterable.js");function r(e){return e[0].toUpperCase()+e.slice(1)}function s(e){return"extra"in e?"string"==typeof e.extra?e.extra:Object.keys(e.extra).map(t=>e.extra[t]).map(r).join(" "):"Something wen't wrong. Please try again later."}},"./src/reddit/helpers/graphql/helpers.ts":function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/reddit/models/Gold/Award.ts");const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(e)}catch(n){return t}},o=e=>{switch(e){case"UP":return 1;case"DOWN":return-1;default:return 0}},i=e=>e.reduce((e,t)=>{let{award:n,total:s}=t;if(void 0!==n.icon){const t=Object(r.e)(n,s);e.push(t)}return e},[]);var c;!function(e){e[e.Seconds=3]="Seconds",e[e.Millis=0]="Millis"}(c||(c={}));const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Seconds;if(!e)return 0;let n=Date.parse(e);return Number.isNaN(n)&&(n=Date.parse(e.replace("+0000","Z"))),Number.isNaN(n)||n<=0?0:n-n%Math.pow(10,t)},d=e=>{const t={},n=e.split("?")[1];if(!n)return t;const r=n.split("&");for(const s of r){const[e,n]=s.split("=");t[e]=n}return t},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("string"!=typeof e||"string"!=typeof t||e.split("?")[0]!==t.split("?")[0])return!1;const r=["auto","crop",...n],s=d(e),o=d(t),i=new Set([...Object.keys(s),...Object.keys(o)]),c=[...i].filter(e=>!r.includes(e));return c.every(e=>{switch(e){case"s":return s[e]&&o[e];case"blur":const t=parseInt(s[e]),n=parseInt(o[e]);return!isNaN(t)&&!isNaN(n)&&Math.abs(t-n)<=10;default:return s[e]===o[e]}})},l=(e,t)=>e===t||u(e,t),b=()=>!0,p=(e,t)=>e&&e.toUpperCase()===t,f=(e,t)=>Math.abs(e-t)<Math.max(20,.1*e),m=window.URL,O=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{const r=new m(e),s=new m(t);for(const e of n)r.searchParams.delete(e),s.searchParams.delete(e);return r.searchParams.sort(),s.searchParams.sort(),r.toString()===s.toString()}catch(r){return!1}}},"./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Subreddit/index.ts");const s={[r.a.Image]:"images",[r.a.Link]:"links",[r.a.Spoiler]:"spoilers",[r.a.Text]:"text",[r.a.Video]:"videos"};t.a=e=>{return Object.assign({},{images:!1,links:!1,spoilers:!1,text:!1,videos:!1},e.reduce((e,t)=>(e[s[t]]=!0,e),{}))}},"./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n("./src/reddit/models/Flair/index.ts"),s=n("./src/reddit/helpers/graphql/helpers.ts");const o=e=>{switch(e){case r.h.Dark:return r.e.Dark;case r.h.Light:return r.e.Light}},i=(e,t,n,o,i)=>{const c=[];return i===r.f.Richtext?(c.push(Object.assign({type:i,richtext:Object(s.k)(o,[])||[]},e)),t&&c.push(Object.assign({type:r.f.Text,text:t},e))):c.push(Object.assign({type:i,text:n},e)),c},c=e=>{const{text:t,richtext:n}=e,{id:r,textColor:s,type:c,text:a,backgroundColor:d,cssClass:u}=e.template,l=Object.assign({backgroundColor:d||"",cssClass:u},r&&{templateId:r},s&&{textColor:o(s)});return i(l,a||"",t,n,c)},a=e=>{const{text:t,richtext:n,cssClass:r}=e,{id:s,textColor:c,type:a,text:d,backgroundColor:u,cssClass:l,richtext:b}=e.template,p=Object.assign({backgroundColor:u||"",cssClass:r||l},s&&{templateId:s},c&&{textColor:o(c)});return i(p,d||"",t||"",n||b,a)}},"./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Post/index.ts"),s=n("./src/reddit/models/Live/index.ts"),o=(e,t)=>t?{announcementUrl:t.url,buttonCta:t.callToAction,description:t.description||"",icon:s.a[t.icon]&&t.icon.toLowerCase(),id:t.id,isAnnouncement:!0,numTimesDismissable:t.maxDismissCount,title:t.title,viewerCount:0}:e?{announcementUrl:"",buttonCta:"",description:e.description||"",icon:"",id:e.id,isAnnouncement:!1,numTimesDismissable:0,title:e.title,viewerCount:e.viewerCount}:null,i=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),c=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),u=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts");t.a=e=>{let{trendingSubreddits:t=[],identity:n,home:s,featuredAnnouncement:b,featuredLiveEvent:p,recentPosts:f=[]}=e;const m=[],O=[],g={postIds:[],postInstances:{},posts:{},postFlair:{},profiles:{},subreddits:{}},j=e=>{if(g.posts[e.id])return e.id;const t=Object(c.d)(e);g.posts[t.id]=t;const{crosspostRoot:n}=e;n&&n.type===r.a.Post&&n.postInfo&&j(n.postInfo);let s=t.id;switch(e.__typename){case r.f.ProfilePost:g.profiles[e.profile.id]||(g.profiles[e.profile.id]=Object(d.a)(e.profile));break;case r.f.SubredditPost:g.subreddits[e.subreddit.id]||(g.subreddits[e.subreddit.id]=Object(u.a)(e.subreddit)),g.postFlair[e.subreddit.id]||(g.postFlair[e.subreddit.id]=Object(i.a)(e.subreddit));break;case r.f.AdPost:const n=Object(c.b)(e);if(!n){s=null;break}s=n,g.posts[n]=Object.assign({},t,{id:n,permalink:"".concat(t.permalink,"?instanceId=").concat(encodeURIComponent(n))}),g.posts[t.id]||(g.posts[t.id]=Object.assign({},t,{events:[]})),g.postInstances[e.id]||(g.postInstances[e.id]=[]),g.postInstances[e.id].push(n)}return s};for(const r of t){const e=Object(u.a)(r);g.subreddits[e.id]=e,m.push(e.id)}for(const{node:r}of s.posts.edges){const e=j(r);e&&g.postIds.push(e)}for(const r of f){if(!r)continue;const e=j(r);e&&O.push(e)}const y=g.postIds.length-1,_=y>=0?g.postIds[y]:"",h=s.posts.dist;return Object.assign({},g,{account:n&&Object(l.a)(n)||null,featuredLiveThread:o(p,b)||{},preferences:n&&n.preferences&&Object(a.a)(n.preferences,n.interactions)||null},0!==m.length&&{trendingSubredditIds:m},0!==O.length&&{recentPostIds:O},{token:_},null!==h&&{dist:h})}},"./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/helpers.ts");const s=(e,t)=>!!e&&(e.verdict==="MOD_".concat(t.toUpperCase())||e.verdict==="ADMIN_".concat(t.toUpperCase())),o=e=>e&&e.length?e.map(e=>[e.reason||"",e.author&&e.author.name||""]):null,i=e=>e&&e.length?e.map(e=>[e.reason||"",e.count||0]):null;t.a=e=>{let{moderationInfo:t}=e;if(!t)return;const n=(e=>e&&e.verdictBy&&e.verdictBy.name||null)(t),c=(e=>e&&Object(r.j)(e.verdictAt)||null)(t),a=s(t,"spammed"),d=s(t,"approved"),u=s(t,"removed"),{approvedBy:l=null,approvedAtUTC:b=null,bannedBy:p=null,bannedAtUTC:f=null}=d?{approvedBy:n,approvedAtUTC:c}:{bannedBy:n,bannedAtUTC:c};return Object.assign({isSpam:a,isApproved:d,isRemoved:u,ignoreReports:t.isReportingIgnored,numReports:t.reportCount||null,modNote:t.modNote,approvedBy:l,approvedAtUTC:b,bannedBy:p,bannedAtUTC:f},u&&{modReasonBy:n},{modReports:o(t.modReports)||[],userReports:i(t.userReports)||[],modReportsDismissed:o(t.dismissedModReports)||[],userReportsDismissed:i(t.dismissedUserReports)||[]})}},"./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return m}));var r=n("./node_modules/lodash/forEach.js"),s=n.n(r),o=n("./node_modules/lodash/merge.js"),i=n.n(o),c=n("./src/lib/env/index.ts"),a=n("./src/lib/sentry/index.ts"),d=n("./src/reddit/helpers/graphql/helpers.ts"),u=n("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),l=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),b=n("./src/reddit/models/GqlTopLevelField.ts"),p=n("./src/reddit/models/Multireddit/index.ts");function f(e){const t={multireddits:{},multiredditsByUser:{},subreddits:{},profiles:{}};if(!e)return t;const{path:n}=e,r=n.toLowerCase(),s=r.endsWith("/")?r:r+"/",o={created:0,description:e.descriptionContent?e.descriptionContent.markdown:"",descriptionHtml:null,descriptionRtJson:e.descriptionContent?JSON.parse(e.descriptionContent.richtext):null,displayText:e.displayName,followerCount:e.followerCount,name:e.name,icon:e.icon,isFavorited:e.isFavorited,isFollowed:e.isFollowed,isNSFW:e.isNsfw||!1,isQuarantined:e.isQuarantined||!1,subredditCount:e.subredditCount,ownerId:e.ownerInfo.id,url:s,visibility:e.visibility&&e.visibility.toLowerCase()||p.e.Private};if(o.created=Object(d.j)(e.createdAt)/1e3,e.sources){o.subredditIds=[],o.profileIds=[];for(const{node:n}of e.sources.edges){if(n.__typename===b.a.Subreddit)o.subredditIds.push(n.id),t.subreddits[n.id]=t.subreddits[n.id]||Object(l.a)(n);else if(n.__typename===b.a.Profile)o.profileIds.push(n.id),t.profiles[n.id]=t.profiles[n.id]||Object(u.a)(n);else{const e='Unexpected Multireddit.sources node with type "'.concat(n.__typename,'"');Object(c.b)()?a.c.captureMessage(e):console.error(e)}n.isNSFW&&(o.isNSFW=!0),n.isQuarantined&&(o.isQuarantined=!0)}}return t.multireddits[s]=o,t.multiredditsByUser[e.ownerInfo.id]=[s],t}function m(e){const t={},n={},r={},o={},c=e.map(f);for(const a of c)s()(a.multiredditsByUser,(e,t)=>{n[t]=[...n[t]||[],...e]}),i()(t,a.multireddits),i()(r,a.profiles),i()(o,a.subreddits);return{multireddits:t,multiredditsByUser:n,profiles:r,subreddits:o}}t.a=f},"./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),s=n("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),o=n("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),i=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),c=n("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),d=n("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),u=n("./src/reddit/models/Post/index.ts");t.a=e=>{const t={account:null,dist:0,features:null,multireddits:{},multiredditsByUser:{},pageInfo:null,postFlair:{},postIds:[],postInstances:{},posts:{},preferences:null,profiles:{},subreddits:{},token:void 0};if(!e)return t;const{identity:n,multireddit:l}=e;if(n&&(t.account=Object(d.a)(n)||null,t.preferences=Object(c.a)(n.preferences,n.interactions)||null),!l)return t;const{posts:b}=l;if(b){t.pageInfo=b.pageInfo;for(const{node:e}of b.edges){const n=e;t.postIds.push(n.id);const{post:s,crosspost:c}=n&&Object(i.a)(n);t.posts[s.id]=s,c&&(t.posts[c.id]=c),n.__typename!==u.f.DeletedProfilePost&&n.__typename!==u.f.DeletedSubredditPost&&(n.authorFlair&&(t.postFlair[s.belongsTo.id]||(t.postFlair[s.belongsTo.id]={}),t.postFlair[s.belongsTo.id][s.author]=Object(r.a)(n.authorFlair)[0]),n.__typename===u.f.SubredditPost&&(t.subreddits[n.subreddit.id]||(t.subreddits[n.subreddit.id]=Object(a.a)(n.subreddit)),t.postFlair[n.subreddit.id]||(t.postFlair[n.subreddit.id]=Object(o.a)(n.subreddit))))}}else t.pageInfo={endCursor:null,hasNextPage:!1,hasPreviousPage:!1,startCursor:null};t.postIds.length&&(t.dist=t.postIds.length),t.pageInfo.hasNextPage&&(t.token=t.pageInfo.endCursor||"");const{multireddits:p,multiredditsByUser:f,profiles:m,subreddits:O}=Object(s.a)(l);return Object.assign({},t,{multireddits:p,multiredditsByUser:f,profiles:Object.assign({},t.profiles,m),subreddits:Object.assign({},t.subreddits,O)})}},"./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/models/Flair/index.ts");function s(e){switch(e){case r.g.LEFT:return r.b.Left;case r.g.RIGHT:return r.b.Right;default:return null}}function o(e){let{isEnabled:t=!1,position:n}=e;return{isEnabled:t,position:s(n)}}t.a=e=>{let{postFlairSettings:t}=e;return Object.assign({},t&&{displaySettings:t&&o(t)})}},"./src/reddit/helpers/graphql/normalizePostFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/sentry/index.ts"),o=n("./src/reddit/constants/adEvents.ts"),i=n("./src/reddit/constants/thumbnails.ts"),c=n("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),a=n("./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts");const d=/i\.redd\.it|v\.redd\.it|i\.reddituploads\.com/;var u=n("./src/reddit/models/Flair/index.ts"),l=n("./src/reddit/models/Media/index.ts");const b=e=>{switch(e){case"IMPRESSION":return o.a.Impression;case"CLICK":return o.a.Click;case"COMMENTS_VIEW":return o.a.CommentsView;case"UPVOTE":return o.a.Upvote;case"DOWNVOTE":return o.a.Downvote;case"COMMENT_SUBMITTED":return o.a.CommentSubmitted;case"VIEWABLE_IMPRESSION":return o.a.ViewableImpression;case"COMMENT_UPVOTE":return o.a.CommentUpvote;case"COMMENT_DOWNVOTE":return o.a.CommentDownvote;case"VIDEO_VIEWABLE_IMPRESSION":return o.a.VideoViewableImpression;case"VIDEO_FULLY_VIEWABLE_IMPRESSION":return o.a.VideoFullyViewableImpression;case"VIDEO_PLAYED_WITH_SOUND":return o.a.VideoPlayedWithSound;case"VIDEO_PLAYED_EXPANDED":return o.a.VideoPlayedExpanded;case"VIDEO_WATCHED_25":return o.a.VideoWatched25;case"VIDEO_WATCHED_50":return o.a.VideoWatched50;case"VIDEO_WATCHED_75":return o.a.VideoWatched75;case"VIDEO_WATCHED_95":return o.a.VideoWatched95;case"VIDEO_WATCHED_100":return o.a.VideoWatched100;case"VIDEO_STARTED":return o.a.VideoStarted;case"VIDEO_WATCHED_3_SECS":return o.a.VideoWatchedSeconds3;case"VIDEO_WATCHED_5_SECS":return o.a.VideoWatchedSeconds5;case"VIDEO_WATCHED_10_SECS":return o.a.VideoWatchedSeconds10}};var p=n("./src/reddit/models/Post/index.ts"),f=n("./src/reddit/models/PostCreationForm/index.ts"),m=n("./src/reddit/models/RichTextJson/index.ts"),O=n("./src/reddit/models/User/index.ts"),g=n("./src/reddit/helpers/graphql/helpers.ts");n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return G}));var j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const y={document:[]},_=e=>e.__typename===p.f.DeletedProfilePost||e.__typename===p.f.DeletedSubredditPost,h=[p.e.Embed,p.e.Image,p.e.Video,p.e.Gifvideo],E=e=>{const t=e.thumbnail?Object.assign({url:e.thumbnail.url},e.thumbnail.dimensions):{url:i.a.DEFAULT,width:null,height:null};return e.__typename===p.f.AdPost&&e.authorOnlyInfo&&t.url?t:e.__typename!==p.f.SubredditPost||e.subreddit.isThumbnailsEnabled?t:e.isSelfPost?Object.assign({},t,{url:i.a.SELF}):e.media&&e.media.typeHint&&h.includes(e.media.typeHint)?Object.assign({},t,{url:i.a.IMAGE}):Object.assign({},t,{url:i.a.DEFAULT})},I=e=>{switch(e.__typename){case p.f.SubredditPost:return{id:e.subreddit.id,type:"subreddit"};default:return{id:e.profile.id,type:"profile"}}},v=e=>{var{flair:t,isNsfw:n,isSpoiler:r}=e,s=j(e,["flair","isNsfw","isSpoiler"]);const o=[];t&&o.push(...Object(c.b)(t)),r&&o.push({text:"spoiler",type:u.f.Spoiler}),n&&o.push({text:"nsfw",type:u.f.Nsfw});let i=!1;return s.__typename===p.f.ProfilePost?i=s.profile.isQuarantined:s.__typename===p.f.SubredditPost&&(i=s.subreddit.isQuarantined),i&&o.push({text:"quarantined",type:u.f.Quarantined}),o},S=e=>e.map(e=>{let{type:t,url:n}=e;return{url:n||"",type:b(t)}}),T=e=>{var{domain:t,url:n}=e,r=j(e,["domain","url"]);if(r.__typename===p.f.AdPost||!r.isSelfPost&&!(e=>d.test(e))(t||"")){const e=r.outboundLink&&r.outboundLink.expiresAt&&Object(g.j)(r.outboundLink.expiresAt);return Object.assign({displayText:t||"",url:n||""},r.outboundLink&&{outboundUrl:r.outboundLink.url||void 0,outboundUrlCreated:e&&e-36e5||void 0,outboundUrlExpiration:e||void 0})}return null},C={small:108,medium:216,large:320,xlarge:640,xxlarge:960,xxxlarge:1080},w=(e,t)=>{const n=e&&(t?e.animated:e.still);if(!n)return[];const r=e&&e.still&&e.still.source?e.still.source.dimensions.width:0;return Object.keys(C).reduce((e,s)=>{const o=n[t?"".concat(t,"_").concat(s):s];if(!o||C[s]>r)return e;const i=Object.assign({url:o.url},o.dimensions);return i?[...e,i]:e},[])},x=e=>{const{media:t,isSelfPost:n}=e;if(n)return e.content&&e.content.richtext?l.n.RTJSON:l.n.TEXT;switch(t&&t.typeHint){case p.e.Image:return l.n.IMAGE;case p.e.Gifvideo:return l.n.GIFVIDEO;case p.e.Video:return l.n.VIDEO;case p.e.Embed:return l.n.EMBED;default:return null}},D=e=>e.authorOnlyInfo&&e.authorOnlyInfo.contentMode===p.d.Markdown?f.h.MARKDOWN:f.h.RICH_TEXT,P=e=>Math.min(e.height,e.width),A=(e,t)=>{const{media:n,content:r}=e,s=(e=>e.isSpoiler||e.isNsfw)(e)?n&&n.obfuscatedStill&&n.obfuscatedStill.source&&n.obfuscatedStill.source.url:null;switch(t){case l.n.VIDEO:{const e=400,r=w(n),o=n&&n.still&&n.still.source&&Object.assign({url:n.still.source.url},n.still.source.dimensions);let i;if(r.length){i=r.reduce((e,t)=>e.width>t.width?e:t);const t=r.reduce((t,n)=>P(n)>e&&o&&P(n)<P(o)?[...t,n]:t,[]);t.length&&(i=t.reduce((e,t)=>P(e)<P(t)?e:t))}else i=o;return{type:t,obfuscated:s,hlsUrl:n&&n.streaming&&n.streaming.hlsUrl||"",dashUrl:n&&n.streaming&&n.streaming.dashUrl||"",isGif:!!n&&!!n.streaming&&n.streaming.isGif,scrubberThumbSource:n&&n.streaming&&n.streaming.scrubberMediaUrl||"",width:n&&n.streaming?n.streaming.dimensions.width:0,height:n&&n.streaming?n.streaming.dimensions.height:0,posterUrl:i&&i.url||void 0}}case l.n.TEXT:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",content:"",rteMode:D(e)};case l.n.RTJSON:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",richtextContent:Object(g.k)(r.richtext,y),content:"",rteMode:D(e),mediaMetadata:F(e)};case l.n.IMAGE:{const r=n&&n.animated&&n.animated.gif_source?"gif":null;let o="";return"i.redd.it"===e.domain&&e.url?o=e.url:n&&n.still&&n.still.source&&(o=n.still.source.url),{type:t,obfuscated:s,resolutions:w(n,r),width:n&&n.still&&n.still.source?n.still.source.dimensions.width:0,height:n&&n.still&&n.still.source?n.still.source.dimensions.height:0,content:o}}case l.n.EMBED:return{type:t,obfuscated:s,width:n&&n.video&&n.video.dimensions&&n.video.dimensions.width||0,height:n&&n.video&&n.video.dimensions&&n.video.dimensions.height||0,provider:n&&n.video&&n.video.attribution&&n.video.attribution.providerName||"",content:n&&n.video&&n.video.embedUrl?n.video.embedUrl:""};case l.n.GIFVIDEO:return{type:t,obfuscated:s,resolutions:w(n,"mp4"),width:n&&n.still&&n.still.source?n.still.source.dimensions.width:0,height:n&&n.still&&n.still.source?n.still.source.dimensions.height:0,gifBackgroundImage:n&&n.still&&n.still.source?n.still.source.url:"",content:n&&n.animated&&n.animated.mp4_source?n.animated.mp4_source.url:""};default:return null}},R={events:[],isBlank:!1,isSponsored:!1},N=/\.gif\?(.*$)/,k=e=>{const t=e.adEvents.find(e=>b(e.type)===o.a.Impression),n=t&&t.url&&t.url.match(N);return n&&n[1]?"t3_".concat(n[1]):null},L=e=>e?e.toLowerCase():null,U=e=>{let{isLive:t,startsAt:n,endsAt:r}=e;return{eventIsLive:t,eventStart:Date.parse(n),eventEnd:Date.parse(r)}};t.a=e=>{const t={post:G(e)},{crosspostRoot:n}=e;return n&&n.type===p.a.Post&&n.postInfo&&(t.crosspost=G(n.postInfo)),t};const M=e=>e&&e.__typename!==O.d.DeletedRedditor?"name"in e&&e.name||"":r.z,F=e=>e.content&&e.content.richtextMedia&&e.content.richtextMedia.length?e.content.richtextMedia.reduce((e,t)=>{switch(t.__typename){case p.c.ImageAsset:"image/gif"===t.mimetype?e[t.id]={e:m.r,id:t.id,s:{gif:t.url,x:t.height,y:t.width}}:e[t.id]={e:m.s,id:t.id,s:{u:t.url,x:t.height,y:t.width}};break;case p.c.VideoAsset:e[t.id]={dashUrl:t.dashUrl,e:m.t,hlsUrl:t.hlsUrl,id:t.id,x:t.height,y:t.width}}return e},{}):null,G=e=>{const{awardings:t,commentCount:n,createdAt:o,crosspostCount:i,crosspostRoot:c,discussionType:d,domain:u,id:l,isArchived:b,isContestMode:f,isGildable:m,isHidden:O,isLocked:j,isNsfw:y,isOriginalContent:_,isSaved:h,isSpoiler:C,isStickied:w,liveCommentsWebsocket:D,permalink:P,score:N,suggestedCommentSort:k,title:F,upvoteRatio:G,viewCount:B,voteState:q}=e,V=c&&(c.type===p.a.Post?c.postInfo&&c.postInfo.id:c.comment&&c.comment.id);c&&!V&&s.c.withScope(e=>{e.setExtra("postId",l),Object(s.a)(e,{serverLogging:!1}),s.c.captureMessage("Lack of post or comment in crosspostRoot")});const H=t?Object(g.h)(t):void 0,W=Object.assign({allAwardings:H,author:r.z,authorId:"",approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,belongsTo:{id:"",type:"subreddit"},contestMode:f,created:Object(g.j)(o),crosspostParentId:V,crosspostRootId:V,discussionType:d,distinguishType:null,domain:u||"",events:[],flair:v(e),hidden:O,id:l,ignoreReports:!1,isApproved:!1,isArchived:b,isBlank:!1,isCrosspostable:!1,isGildable:m,isLocked:j,isMediaOnly:!1,isMeta:!1,isNSFW:y,isOriginalContent:_,isPinned:!1,isRemoved:!1,isScoreHidden:null===N,isSpam:!1,isSpoiler:C,isSponsored:!1,isStickied:w,liveCommentsWebsocket:D,media:null,modReports:[],numComments:n||0,numCrossposts:i||0,numReports:null,permalink:"https://web.archive.org/web/20191204000722/https://www.reddit.com".concat(P),postCategories:null,postId:l,previewComments:[],saved:h,score:null!==N&&N>0?N:0,sendReplies:!1,source:T(e),suggestedSort:k&&r.q[k]||null,thumbnail:{height:null,url:"",width:null},title:F||"",upvoteRatio:G,userReports:[],viewCount:B||0,voteState:q?Object(g.i)(q):0},e.__typename===p.f.AdPost?(e=>{const{adEvents:t,callToAction:n,domain:r,isBlank:s}=e;return{callToAction:n,domainOverride:r,events:S(t),isBlank:s,isSponsored:!0}})(e):R,Object(a.a)(e));if(e.__typename===p.f.DeletedProfilePost||e.__typename===p.f.DeletedSubredditPost)return W;const{authorInfo:K,authorOnlyInfo:J,distinguishedAs:Y,isCrosspostable:z,isMediaOnly:Q,isPollIncluded:X,media:$,postEventInfo:Z}=e,ee=(e=>e&&e.still&&e.still.source?Object.assign({url:e.still.source.url},e.still.source.dimensions):void 0)($);return Object.assign({},W,{author:K&&M(K)||r.z,authorId:K&&K.id||"",belongsTo:I(e),distinguishType:L(Y),isCrosspostable:z,isMediaOnly:Q,isMeta:X,media:A(e,x(e)),thumbnail:E(e)},ee&&{preview:ee},J&&{sendReplies:J.isReceivingPostReplies},Z&&{eventInfo:U(Z)})}},"./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/User/index.ts");t.a=(e,t)=>({allowClickTracking:e.isClickTrackingEnabled,autoplayVideo:!e.isVideoAutoplayDisabled,defaultCommentSort:e.defaultCommentSort&&s.c[e.defaultCommentSort]?r.q[e.defaultCommentSort]:r.q.CONFIDENCE,geopopular:e.geopopular,hideNSFW:e.isNsfwMediaBlocked,ignoreSuggestedSort:e.isSuggestedSortIgnored,labelNSFW:e.isNsfwLabelShown,markMessagesRead:e.isMessageAutoReadEnabled,nightmode:e.isNightModeEnabled,over18:e.isNsfwContentShown,account:{openPostInNewTab:e.isNewTabOpenedForPostView,rpanDuDismissalTime:e.rpanDuDismissedAt,sort:e.globalCommunityPostFeedSort.range?"".concat(e.globalCommunityPostFeedSort.sort.toLowerCase(),"_").concat(e.globalCommunityPostFeedSort.range.toLowerCase()):e.globalCommunityPostFeedSort.sort.toLowerCase(),showRpanDu:e.isRpanDuShown,stylesEnabled:e.isCommunityStylingEnabled,rememberCommunitySort:e.isCommunityPostFeedSortingPreserved,useMarkdown:e.isMarkdownDefaultEditorMode,rememberCommunityLayout:e.isCommunityLayoutPreserved,layout:e.postFeedLayout.toLowerCase(),hasSeenCustomizeFlyout:t&&t.isDefaultPostLayoutAware}})},"./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),s=n("./src/reddit/models/Subreddit/index.ts"),o=n("./src/reddit/models/User/index.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>{let{pageInfo:t,edges:n}=e;const s={moderatedSubredditIds:[],pageInfo:t,subreddits:{}};for(const{node:o}of n){const e=Object(r.a)(o);s.subreddits[e.id]=e,s.moderatedSubredditIds.push(e.id)}return s};t.a=e=>{let{name:t,path:n,redditorInfo:r,styles:c,wls:a,id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p}=e;const{height:f,icon:m,width:O}=c&&c.legacyIcon&&{height:c.legacyIcon.dimensions.height,icon:c.legacyIcon.url,width:c.legacyIcon.dimensions.width}||{height:null,icon:c&&c.icon||"",width:null},g=c&&c.legacyPrimaryColor,j=r&&r.__typename===o.d.AvailableRedditor&&r.prefixedName||"";return Object.assign({url:n,displayText:j,icon:{url:m,width:O,height:f},communityIcon:m,type:s.b.User,name:t.substr(2)},g&&{primaryColor:g},a&&{whitelistStatus:a.toLowerCase(),wls:i.a[a]},{id:d,title:u,isQuarantined:l,isNSFW:b,subscribers:p})}},"./src/reddit/helpers/graphql/normalizeSubredditAboutFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("./src/reddit/helpers/graphql/helpers.ts"),s=n("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts");const o=e=>{const t=Object(s.a)(e.allowedPostTypes),n=e.moderation?e.moderation.coins:void 0;return{[e.id]:{accountsActive:e.activeCount,allOriginalContent:!1,allowedPostTypes:t,allowChatPostCreation:e.isChatPostCreationAllowed,coins:n,created:Object(r.j)(e.createdAt),disableContributorRequests:!1,emojisEnabled:!0,isChatPostFeatureEnabled:e.isChatPostFeatureEnabled,isCrosspostableSubreddit:e.isCrosspostDestination,originalContentTagEnabled:!0,publicDescription:e.publicDescription.markdown,restrictCommenting:!1,restrictPosting:!0,showMedia:!0,subscribers:e.subscribersCount,userIsBanned:e.isUserBanned,userIsContributor:e.isContributor,userIsSubscriber:e.isSubscribed,usingNewModmail:!0}}},i=e=>e.reduce((e,t)=>Object.assign({},e,o(t)),{});t.a=o},"./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return b}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),o=n("./src/reddit/models/GqlTopLevelField.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts");const c=e=>e.subredditRecommendations.recommendations.map(u).reduce((e,t)=>(e[t.id]=t,e),{}),a=e=>{const t={posts:{},subredditTopContent:{}},n=[],{__typename:i}=e;if(i!==o.a.Subreddit)return null;const{id:c,isSubscribed:a,name:d,topContent:u}=e,{posts:l,range:b}=u;return l.forEach(e=>{const{post:r,crosspost:o}=Object(s.a)(e),i=r.id;if(t.posts[i]=r,n.push(i),o){const e=o.id;t.posts[e]=o}}),t.subredditTopContent[d.toLowerCase()]={id:c,isSubscribed:a,name:d,postIds:n,range:r.Ob[b]},t},d=e=>e.reduce((e,t)=>{const n=a(t);if(!n)return e;const r=e||{posts:{},subredditTopContent:{}};return{posts:Object.assign({},r.posts,n.posts),subredditTopContent:Object.assign({},r.subredditTopContent,n.subredditTopContent)}},null),u=e=>{const{path:t,prefixedName:n,type:r,styles:s,wls:o,id:c,isQuarantined:a,isNSFW:d,name:u,subscribers:l,title:b,isFreeFormReportingAllowed:p}=e,{height:f,icon:m,width:O}=s&&s.legacyIcon&&{height:s.legacyIcon.dimensions.height,icon:s.legacyIcon.url,width:s.legacyIcon.dimensions.width}||{height:null,icon:s&&s.icon||"",width:null},g=s&&s.primaryColor,j=s&&s.icon;return Object.assign({url:t,displayText:n,icon:{url:m,width:O,height:f}},j&&{communityIcon:j},{type:r.toLowerCase(),primaryColor:g||""},o&&{whitelistStatus:o.toLowerCase(),wls:i.a[o]},{freeFormReports:p,id:c,isQuarantined:a,isNSFW:d,name:u,subscribers:l,title:b})},l=e=>e.reduce((e,t)=>{const n=u(t);return e[n.id]=n,e},{}),b=e=>e;t.a=u},"./src/reddit/helpers/graphql/normalizeSubredditStylesFromGql/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");t.a=e=>{const t={menuPosition:e.menuPosition?e.menuPosition.toLowerCase():void 0,bannerCommunityNameFormat:e.bannerCommunityNameFormat?e.bannerCommunityNameFormat.toLowerCase():void 0,bannerShowCommunityIcon:e.bannerShowCommunityIcon?e.bannerShowCommunityIcon.toLowerCase():void 0,bannerHeight:e.bannerHeight?e.bannerHeight.toLowerCase():void 0,postVoteIcons:e.postVoteIcons?e.postVoteIcons.toLowerCase():void 0,submenuBackgroundStyle:e.submenuBackgroundStyle?e.submenuBackgroundStyle.toLowerCase():void 0,backgroundImagePosition:e.backgroundImagePosition?e.backgroundImagePosition.toLowerCase():void 0,bannerBackgroundImagePosition:e.bannerBackgroundImagePosition?e.bannerBackgroundImagePosition.toLowerCase():void 0,bannerPositionedImagePosition:e.bannerPositionedImagePosition?e.bannerPositionedImagePosition.toLowerCase():void 0,postBackgroundImagePosition:e.postBackgroundImagePosition?e.postBackgroundImagePosition.toLowerCase():void 0,postPlaceholderImagePosition:e.postPlaceholderImagePosition?e.postPlaceholderImagePosition.toLowerCase():void 0,menuBackgroundOpacity:e.menuBackgroundOpacity||void 0,backgroundImage:e.backgroundImage||void 0,bannerBackgroundImage:e.bannerBackgroundImage||void 0,bannerPositionedImage:e.bannerPositionedImage||void 0,communityIcon:e.icon||void 0,menuBackgroundImage:e.menuBackgroundImage||void 0,postBackgroundImage:e.postBackgroundImage||void 0,postDownvoteIconActive:e.postDownvoteIconActive||void 0,postDownvoteIconInactive:e.postDownvoteIconInactive||void 0,postPlaceholderImage:e.postPlaceholderImage||void 0,postUpvoteIconActive:e.postUpvoteIconActive||void 0,postUpvoteIconInactive:e.postUpvoteIconInactive||void 0,bannerBackgroundColor:e.bannerBackgroundColor||void 0,bannerOverlayColor:e.bannerOverlayColor||void 0,menuBackgroundColor:e.menuBackgroundColor||void 0,menuLinkColorActive:e.menuLinkColorActive||void 0,menuLinkColorInactive:e.menuLinkColorInactive||void 0,menuLinkColorHover:e.menuLinkColorHover||void 0,submenuBackgroundColor:e.submenuBackgroundColor||void 0,primaryColor:e.primaryColor||void 0,highlightColor:e.highlightColor||void 0,postTitleColor:e.postTitleColor||void 0,backgroundColor:e.backgroundColor||void 0,postBackgroundColor:e.postBackgroundColor||void 0,postDownvoteCountColor:e.postDownvoteCountColor||void 0,postUpvoteCountColor:e.postUpvoteCountColor||void 0,mobileKeyColor:e.mobileKeyColor||void 0,mobileBannerImage:e.mobileBannerImage||void 0,sidebarWidgetHeaderColor:e.sidebarWidgetHeaderColor||void 0,sidebarWidgetBackgroundColor:e.sidebarWidgetBackgroundColor||void 0,secondaryBannerPositionedImage:e.secondaryBannerPositionedImage||void 0};return Object.keys(t).forEach(e=>{void 0===t[e]&&delete t[e]}),t}},"./src/reddit/helpers/graphql/normalizeTopSubredditsFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return d}));n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/isEmpty.js"),s=n.n(r),o=n("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const c=e=>{let{edges:t,pageInfo:n}=e;const r={},s=[];for(let c of t){const{node:e}=c,t=i(c,["node"]),n=Object(o.a)(e);r[n.id]=n,s.push(t)}return{pageInfo:n,rankings:s,subreddits:r}},a=e=>{let{edges:t}=e;const n={},r=[];for(let s of t){const{node:e}=s,t=i(s,["node"]),c=Object(o.a)(e);n[c.id]=Object.assign({},c,{bannerBackgroundImage:e&&e.styles&&e.styles.bannerBackgroundImage}),r.push(t)}return{rankings:r,subreddits:n}},d=e=>{const t={},n=[];for(let r=0;r<e.length;r++){const i=e[r];if(s()(i))continue;const c=Object(o.a)(i);t[c.id]=c,n.push({id:c.id,rank:r,rankDelta:0,cursor:""})}return{rankings:n,subreddits:t}}},"./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/models/User/index.ts"),s=n("./src/reddit/helpers/graphql/helpers.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const i=e=>e&&e.expiresAt&&Object(s.j)(e.expiresAt,s.a.Seconds)/1e3||null,c=e=>e&&e.unreadCount?e.unreadCount:0,a=/^u\//,d=e=>e.replace(a,"/user/"),u=e=>e.__typename===r.d.DeletedRedditor?null:"name"in e&&e.name||null;t.a=e=>{var{redditor:t,inbox:n,premium:a,preferences:u,coins:l}=e,b=o(e,["redditor","inbox","premium","preferences","coins"]);let p={commentKarma:0,hasUserProfile:!1,id:t.id,isGold:!1,postKarma:0,url:""};if(t.__typename===r.d.AvailableRedditor){const{karma:e,profile:n}=t,r=n&&n.styles&&n.styles.legacyIcon&&n.styles.legacyIcon.url;p=Object.assign({},p,r&&{accountIcon:r},{commentKarma:e?e.fromComments:0,displayText:t.name,hasExternalAccount:t.isLinkedToExternalAccount,hasUserProfile:!!n,isGold:!!t.isGilded,postKarma:e?e.fromPosts:0,profileId:n&&n.id||void 0,url:t.prefixedName&&d(t.prefixedName)||void 0})}const{interactions:f,modMail:m}=b;return Object.assign({},p,{coins:l,created:Object(s.j)(b.createdAt,s.a.Seconds)/1e3,goldExpiration:i(a),hasUnreadMail:c(n)>0,hasUnreadModmail:!!m&&m.isUnread,hasUnreadOldModmail:!!m&&m.isUnread,hasVerifiedEmail:!!b.isEmailVerified,inboxCount:c(n),inRedesignBeta:u.isInRedesignBeta,isEmployee:!!b.isEmployee,isFPR:!!b.isForcePasswordReset,isMod:!!b.isModerator,isSuspended:b.isSuspended,nightmode:u.isNightModeEnabled,seenLayoutSwitch:!!f&&f.isLayoutSwitchAware,seenGiveAwardTooltip:!!f&&f.isGiveAwardTooltipAware,seenPremiumAdblockModal:!!f&&f.isAdblockModalAware,seenRedesignModal:!!f&&f.isRedesignModalAware,seenSubredditChatFtux:!!f&&f.isSubredditChatAware,showRecentPosts:u.isRecentPostsShown,showTrending:u.isTrendingSubredditsShown},a&&a.subscription&&{hasAndroidSubscription:a.subscription.isAndroidAvailable,hasGoldSubscription:a.subscription.isGoldAvailable,hasIOSSubscription:a.subscription.isIOSAvailable,hasPaypalSubscription:a.subscription.isPaypalAvailable,hasStripeSubscription:a.subscription.isStripeAvailable})}},"./src/reddit/helpers/history/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/lodash/omit.js"),s=n.n(r);const o=(e,t)=>{const n=history.state?history.state.state:{},r=Object.assign({},history.state,{state:Object.assign({},n,{[e]:t})});history.replaceState(r,window.document.title)},i=e=>{const t=Object.assign({},history.state,{state:Object.assign({},s()(history.state.state,e))});history.replaceState(t,window.document.title)},c=e=>history&&history.state&&history.state.state&&history.state.state[e]},"./src/reddit/helpers/isComment.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/reddit/constants/things.ts");function s(e){if(!e)return!1;return e.substring(0,3)===r.a}const o=e=>s(e.id);t.a=s},"./src/reddit/helpers/isPost.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/reddit/constants/things.ts");function s(e){if(!e)return!1;return e.substring(0,3)===r.b}const o=e=>s(e.id);t.a=s},"./src/reddit/helpers/makeProfileListingKey/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts");const o=(e,t)=>"".concat(r.Qb).concat(e.toLowerCase(),"--private--").concat(t);t.a=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="".concat(r.Qb).concat(e,"--").concat(t);return Object(s.a)(i,n,o)}},"./src/reddit/helpers/media/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"h",(function(){return j})),n.d(t,"n",(function(){return y})),n.d(t,"e",(function(){return _}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.to-string.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/Media/index.ts");function o(e){return new Promise((t,n)=>{try{const r=new FileReader;r.onloadend=e=>{try{const n=e.target.result,r=new Uint8Array(n).subarray(0,4);let s="";for(let e=0;e<r.length;e++)s+=r[e].toString(16);const o=function(e){switch(e){case"89504e47":return"image/png";case"47494638":return"image/gif";default:return"ffd8ff"===e.slice(0,6)?"image/jpeg":null}}(s);t(o)}catch(r){n(r)}},r.readAsArrayBuffer(e)}catch(r){n(r)}})}const i=e=>e.startsWith("video/"),c=e=>e.startsWith("image/"),a=e=>"image/gif"===e,d=e=>{if(e)return i(e)?"video":c(e)?"image":void 0},u=e=>r.a.has(e)||r.b.has(e),l=e=>window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(e):null;function b(e,t){try{return new File([e],t,{type:e.type,lastModified:Date.now()})}catch(n){const r=new Blob([e],{type:e.type});return Object.assign(r,{name:t,lastModified:Date.now()}),r}}function p(e){const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return new Blob([r],{type:n})}const f=(e,t,n)=>{e.addEventListener(t,r=>(e.removeEventListener(t,n),n(r)))},m=(e,t)=>new Promise((n,r)=>{const s=()=>{e.readyState>=2&&n(e)};f(e,"error",()=>{r(new Error("Invalid video source"))}),["loadedmetadata","loadeddata","suspend"].forEach(t=>f(e,t,s)),e.src=t,s()}),O=(e,t)=>new Promise(n=>{f(e,"seeked",()=>n(e)),e.currentTime=t});async function g(e,t,n){let r=e.currentTime;for(;null!==r;){await O(e,r),t.height=e.videoHeight,t.width=e.videoWidth;const s=t.getContext("2d");s&&s.drawImage(e,0,0),r=n({dataUrl:t.toDataURL(),time:e.currentTime})}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.createElement("video");let r;if(await m(n,e),t){n.currentTime=0;const e=document.createElement("canvas");await g(n,e,e=>(r=e,null))}return{width:n.videoWidth,height:n.videoHeight,duration:n.duration,firstFrame:r}}const y=(e,t,n)=>{if("fastly"===e){let e;return(e=t.startsWith("US-")||"North-America"===t?"NA":t.startsWith("EU-")?"EU":t.startsWith("Asia-")||"Asia"===t?"AS":"APAC"===t?"OC":t.startsWith("SA-")?"SA":"South-Africa"===t?"AF":"UNKNOWN")+"-"+n}},_=(e,t,n)=>{if(e.media&&(e.media.type===s.n.IMAGE||e.media.type===s.n.GIFVIDEO)){const r=e.media.resolutions;for(let e=0;e<r.length;e++){const s=r[e];if(s.width>=t||s.height>=n)return s}}if(e.thumbnail&&!e.isNSFW&&!e.isSpoiler){const r=e.thumbnail,s=r&&r.width||0,o=r&&r.height||0;if(s>=t||o>=n)return e.thumbnail}return null}},"./src/reddit/helpers/monthsToMinutes/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/reddit/constants/cookie.ts"),c=n("./src/reddit/constants/localStorage.ts"),a=n("./src/reddit/selectors/monthsToMinutes.ts");const d=()=>s.a.get(i.d),u=e=>{const t=(e=>e.join(","))(Object(a.h)(e)),n=new Date;n.setFullYear(n.getFullYear()+2),s.a.set(i.d,t,{expires:n,domain:o.a.cookieDomain})},l=()=>{s.a.remove(i.d,{domain:o.a.cookieDomain})},b=()=>{localStorage.removeItem(c.u),l()}},"./src/reddit/helpers/name/index.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/lodash/capitalize.js");const r=/^(r|u)?\//i,s=/^r\//i,o=/^u\//i,i=e=>e.replace(r,""),c=e=>i(e.toLowerCase().trim()),a=e=>"r/".concat(i(e)),d=e=>"u/".concat(i(e)),u=e=>r.test(e),l=e=>s.test(e),b=e=>o.test(e),p=(e,t)=>!((e,t)=>u(e)&&u(t)&&e[0].toLowerCase()!==t[0].toLowerCase())(e,t)&&c(e)===c(t)},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.replace.js");t.a=e=>{const t=/^((\/u\/)|(u\/))/;return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(t,""):e}},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/addQueryParams/index.ts"),c=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./src/reddit/selectors/subreddit.ts"));const a=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),d=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments|submitpage)(/|$)"),u=new RegExp("^/desktopapi/v1/(subreddits|postcomments|collection_postcomments)/?$"),l=(new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),new RegExp("^/desktopapi/v1/frontpage/?$")),b=new RegExp("^/desktopapi/v1/submitpage(/|$)");var p=(e,t,n)=>{const r=new Set;e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(r.add("identity"),r.add("prefs"),r.add("prefsAccount")),(e=>!a.test(e.pathname||""))(t)&&r.add("identity")),!e.live.isFrontpageLoaded&&(e=>l.test(e.pathname||""))(t)&&r.add("featuredLiveThread");const s=t.pathname||"";if(d.test(s)||u.test(s)){const s=((e,t)=>{if(b.test(e.pathname||"")){const{subreddit:e}=t.data;return e}})(t,n),o=e.platform.currentPage,i=o&&o.urlParams.subredditName,a=s||i||"",d=Object(c.G)(e,a);d&&e.structuredStyles.models[d]||r.add("structuredStyles"),e.user.prefs.subreddit[d]||r.add("prefsSubreddit")}return[...r].join(",")},f=n("./src/reddit/selectors/user.ts");t.a=e=>t=>{const n=s.a.parse(t.endpoint,!0),{host:r,protocol:c}=n;if("".concat(c,"//").concat(r)===o.a.gatewayUrl){const r={},s=Object(f.X)(e.getState())?"1":"";r.allow_over18=s,r.include=p(e.getState(),n,t),t.endpoint=Object(i.a)(t.endpoint,r)}}},"./src/reddit/helpers/overlay/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/history/esm/history.js"),s=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/reddit/helpers/path/index.ts");const i=e=>{if("string"==typeof e)return Object(r.c)(Object(o.b)(e),{isOverlay:!0});{const t=Object(r.c)(e);return t.state=Object.assign({},t.state||{},{isOverlay:!0}),t}},c=e=>Object(s.b)(i(e))},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,n){"use strict";n("./node_modules/history/esm/history.js"),n("./src/reddit/actions/platform.ts");var r=n("./src/config.ts");t.a=(e,t)=>{const n=t.platform.currentPage&&t.platform.currentPage.url;let s="".concat(r.a.accountManagerOrigin,"/login/");const o=window.location.origin;n&&(s+="?dest=".concat(encodeURIComponent("".concat(o).concat(n)))),window.location.href=s}},"./src/reddit/helpers/path/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/path-browserify/index.js"),s=n.n(r);const o=(e,t)=>s.a.join(s.a.sep,e||"",t),i=e=>e.replace(/^.*\/\/[^\/]+/,"")},"./src/reddit/helpers/pixels.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./src/lib/LRUCache/index.ts"),s=n("./src/lib/sentry/index.ts");const o=new r.a(1e3),i=e=>{let{url:t,type:n}=e;if(!t)return s.c.captureMessage("Pixel of type ".concat(n," has no url")),!1;if(!o.get(t)){return(new Image).src=t,o.set(t,!0),!0}return!1},c=(e,t)=>e.filter(e=>e.type===t).every(i)},"./src/reddit/helpers/postCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>!!e.collectionIds&&e.collectionIds.length>=1},"./src/reddit/helpers/postEvent.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&!!e.eventInfo},"./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n("./src/reddit/models/Gold/Award.ts");t.a=e=>e.map(e=>({awardType:e.award_type,awardSubType:e.award_sub_type?e.award_sub_type:r.a.Global,coinPrice:e.coin_price,coinReward:e.coin_reward,count:e.count,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,iconUrl:e.icon_url,resizedIcons:e.resized_icons,id:e.id,isEnabled:e.is_enabled,isNew:!!e.is_new,name:e.name,subredditCoinReward:e.subreddit_coin_reward}));const s=e=>{const{icon_url:t,resized_icons:n}=e;let s,o,i;for(const{url:r,width:c}of n||[])32===c&&(s={url:r}),64===c&&(o={url:r}),128===c&&(i={url:r});return{awardType:e.award_type.toUpperCase(),awardSubType:e.award_sub_type?e.award_sub_type.toUpperCase():r.b.Global,coinPrice:e.coin_price,coinReward:e.coin_reward,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,id:e.id,isEnabled:e.is_enabled,isNew:!!e.is_new,name:e.name,icon:{url:t},icon32:s,icon64:o,icon128:i,subredditCoinReward:e.subreddit_coin_reward}},o=e=>{const{top_award:t,total_count:n}=e;return{topAward:t&&s(t),totalCount:n}}},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/isComment.ts"),o=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),i=n("./src/reddit/models/Vote/index.ts"),c=e=>!0===e?i.a.upvoted:!1===e?i.a.downvoted:i.a.notVoted,a=n("./src/reddit/models/Comment/index.ts");n.d(t,"b",(function(){return d}));t.a=(e,t)=>{const n={approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,created:e.created_utc,deletedBy:u(e),distinguishType:e.distinguished||"",editedAt:null,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isApproved:e.approved,isDeleted:e.author===r.z,isGildable:e.can_gild,isLocked:e.locked,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,subredditId:e.subreddit_id,markdown:e.body,media:{mediaMetadata:e.media_metadata,type:"rtjson",richtextContent:d(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(s.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,stewardReports:e.steward_reports,stewardReportsDismissed:e.steward_reports_dismissed,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:c(e.likes)};return e.all_awardings&&(n.allAwardings=Object(o.a)(e.all_awardings)),e.awarders&&(n.awarders=e.awarders),e.associated_award&&(n.associatedAwardId=e.associated_award.id,n.associatedAward=Object(o.b)(e.associated_award)),n};const d=e=>"string"==typeof e?JSON.parse(e):e,u=e=>e.author!==r.z?null:e.body===r.A?a.a.User:e.body===r.wb?a.a.Moderator:null},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,n){"use strict";var r=n("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/models/Media/index.ts"),i=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/Vote/index.ts");const a=e=>{const t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:s.f.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:s.f.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:s.f.Spoiler}),e.over_18&&t.push({text:"nsfw",type:s.f.Nsfw}),t},d=e=>e?e.map(e=>({categoryId:e.category_id,categoryName:e.category_name})):[],u=e=>{const t=e.preview&&e.preview.enabled;let n=!1,r=null,s={},c={};const a=e.over_18||e.spoiler;if(e.preview&&(n=!!(c=e.preview.images[0].variants).mp4,s=e.preview.images[0].source,a&&(r=c.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:o.n.TEXT,markdownContent:e.selftext,obfuscated:r,rteMode:e.rte_mode||i.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:o.n.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){const t=e.media.reddit_video;return{hlsUrl:t.hls_url,dashUrl:t.dash_url,isGif:t.is_gif,scrubberThumbSource:t.scrubber_media_url,obfuscated:r,posterUrl:t.url,width:t.width,height:t.height,type:o.n.VIDEO}}if(e.secure_media&&e.secure_media.oembed){return{content:e.secure_media_embed.media_domain_url,type:o.n.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:r,provider:e.secure_media.oembed.provider_name}}if(t&&n)return{content:c.mp4.source.url,type:o.n.GIFVIDEO,width:c.mp4.source.width,height:c.mp4.source.height,gifBackgroundImage:s.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:r,resolutions:c.mp4.resolutions};if(t){const t=c.gif?c.gif.resolutions:e.preview.images[0].resolutions;return{content:s.url,type:o.n.IMAGE,width:s.width,height:s.height,obfuscated:r,resolutions:t}}return null},l=e=>{const t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){const n=e.outbound_link;t.outboundUrl=n.url,t.outboundUrlExpiration=n.expiration,t.outboundUrlCreated=n.created}return t}return null};t.a=e=>{return{allAwardings:e.all_awardings?Object(r.a)(e.all_awardings):[],awarders:e.awarders,author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,contestMode:e.contest_mode,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,discussionType:e.discussion_type||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:a(e),hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isFollowed:e.is_followed||!1,isGildable:e.can_gild,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,liveCommentsWebsocket:e.liveCommentsWebsocket||e.websocket_url,media:u(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numDuplicates:e.num_duplicates,numReports:e.num_reports||0,permalink:"https://web.archive.org/web/20191204000722/https://www.reddit.com".concat(e.permalink),postCategories:d(e.post_categories),preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,saved:e.saved,score:e.score,stewardReports:e.steward_reports,isScoreHidden:!!e.hide_score,sendReplies:e.send_replies,source:l(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(c.d)(e.likes)}}},"./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};t.a=(e,t)=>{const n=Object(r.a)(e),{wls:o}=n,i=s(n,["wls"]);return Object.assign({},i,{name:t})}},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("./src/lib/constants/index.ts");const s=e=>{for(const t of e){const e=t[0]||"";switch(e){case r.D.NO_STRIPE_SUBSCRIPTION:case r.D.USER_DOESNT_EXIST:case r.D.USER_REQUIRED_ERROR:case r.D.VALIDATION_ERROR:return e;case r.D.NO_USER:case r.D.NO_TEXT:case r.D.NO_URL:return r.D.VALIDATION_ERROR;case r.D.CREDIT_CARD_FAILURE:case r.D.CREDIT_CARD_FAILURE_GENERIC:return r.D.CREDIT_CARD_FAILURE;default:if(e.startsWith("SUBMIT_VALIDATION"))return r.D.SUBMIT_VALIDATION_ERROR}}return r.D.VALIDATION_ERROR},o=e=>{const t=e.body;return{type:s(t.json.errors),fields:t.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))}},i=e=>{const t=e.body;return!e.ok&&t&&t.json&&t.json.errors?Object.assign({},e,{error:o(e)}):e};t.a=o},"./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts":function(e,t,n){"use strict";t.a=e=>({allowContractors:e.allow_contractors,communityIcon:e.community_icon,displayText:e.display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.community_icon||e.icon_img||"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18||e.over18,isQuarantined:!!e.quarantine,name:e.display_name,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})},"./src/reddit/helpers/redesignOptoutCookie/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/config.ts"),s=n("./node_modules/js-cookie/src/js.cookie.js"),o=n.n(s);const i="redesign_optout";function c(){const e=new Date;return e.setFullYear(e.getFullYear()+3),e}function a(){o.a.get(i)||o.a.set(i,"true",{domain:r.a.cookieDomain,expires:c()})}function d(){o.a.get(i)&&o.a.remove(i,{domain:r.a.cookieDomain})}},"./src/reddit/helpers/reportPage/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O}));n("./node_modules/core-js/modules/es6.regexp.constructor.js");var r=n("./src/reddit/models/RulesSequence/index.ts");const s="(?:old\\.reddit\\.".concat("(?:com|local)","|new\\.reddit\\.").concat("(?:com|local)","|reddit\\.").concat("(?:com|local)","|www\\.reddit\\.").concat("(?:com|local)",")"),o="(?:".concat("(?:r)","|").concat("(?:user|u)",")"),i="(?:https?://)",c="^".concat(i).concat(s,"/").concat(o,"/").concat("(?:[^/]+)","/comments/").concat("(?:\\w+)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/.*)?"),a="^".concat(i).concat(s,"/").concat(o,"/").concat("(?:[^/]+)","/comments/").concat("(\\w+)","(?:/.*)?"),d="^".concat(i).concat(s,"/message/messages/").concat("(\\w+)","(?:/.*)?"),u="^".concat(i,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","(?:/)?$"),l="^".concat(i,"?").concat("(?:mod.reddit.com/mail)","/").concat("(?:[^/]+)","/").concat("(\\w+)","/").concat("(\\w+)","(?:/)?$"),b="(?:".concat(a,"|").concat(c,"|").concat(d,"|").concat(u,"|").concat(l,")"),p="(?:(?:".concat(i,"?").concat(s,"/)?").concat("(?:user|u)","/)?").concat("([\\w-]+)","(?:/)?"),f="(?:(?:".concat(i,"?").concat(s,"/)?").concat("(?:r)","/)?").concat("([\\w-]+)","(?:/)?"),m=e=>{const t=new RegExp(c),n=new RegExp(a),r=new RegExp(d),s=new RegExp(u),o=new RegExp(l);let i,b,m;if(e.thingUrl){const c=e.thingUrl.trim();if(t.test(c)){const e=t.exec(c);e&&e.length>1&&(i="t1_"+e[1])}else if(n.test(c)){const e=n.exec(c);e&&e.length>1&&(i="t3_"+e[1])}else if(r.test(c)){const e=r.exec(c);e&&e.length>1&&(i="t4_"+e[1])}else if(o.test(c)){const e=o.exec(c);e&&e.length>2&&(b=e[1],m=e[2])}else if(s.test(c)){const e=s.exec(c);e&&e.length>1&&(b=e[1])}}const O=new RegExp(p),g=new RegExp(f),j=[];let y;if(e.subredditName){const t=e.subredditName.trim();if(g.test(t)){const e=g.exec(t);e&&e.length>1&&(y=e[1])}}if(e.usernames&&e.usernames.length)for(let c=0;c<e.usernames.length;c++){const t=e.usernames[c].trim();if(O.test(t)){const e=O.exec(t);e&&e.length>1&&j.push(e[1])}}const{reason:_}=e;return{reason:"site_reason_selected",site_reason:_.reasonText,additional_info:e.additionalInfo?e.additionalInfo.join(","):void 0,custom_text:e.customText,modmail_conv_id:b,modmail_msg_id:m,sr_name:y,thing_id:i,usernames:j.length?j.join(","):void 0}},O=(e,t)=>{const n=new r.a;return g(n,e,t,0),n},g=(e,t,n,r)=>{for(let s=0;s<t.length;s++){const o=t[s];e.update(s,r);const i=e.getSequence().length;if(o.reasonAsParam===n)return;if(o.nextStepReasons&&o.nextStepReasons.length&&(g(e,o.nextStepReasons,n,r+1),e.getSequence().length>i))return;e.cut(r-1)}}},"./src/reddit/helpers/routeKey/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return k}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeCommentsPageKey/index.ts"),c=n("./src/lib/makeExplorePageKey/index.ts"),a=n("./src/lib/makeListingKey/index.ts"),d=n("./src/lib/makePostCreationPageKey/index.ts"),u=n("./src/lib/makeSearchKey/index.ts"),l=n("./src/reddit/constants/postLayout.ts"),b=n("./src/reddit/helpers/makeProfileListingKey/index.ts"),p=n("./src/reddit/constants/categories.tsx"),f=n("./src/reddit/constants/listings.ts"),m=n("./src/reddit/constants/page.ts"),O=n("./src/reddit/constants/parameters.ts"),g=n("./src/reddit/constants/wiki.ts"),j=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),y=n("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),_=n("./src/reddit/models/Comment/index.ts"),h=n("./src/reddit/models/Multireddit/index.ts"),E=n("./src/reddit/models/Post/index.ts"),I=n("./src/reddit/models/User/index.ts"),v=n("./src/reddit/routes/modListing/index.ts"),S=n("./src/reddit/selectors/experiments/feedFilters.ts"),T=n("./src/reddit/selectors/frontpage.ts");const C=(e,t,n)=>{const{route:r}=e,{name:s}=r.meta;if(!s||!o.M.has(s)&&s!==o.xb.COINS&&s!==o.xb.COMMENTS&&s!==o.xb.POST_CREATION&&s!==o.xb.PREMIUM&&s!==o.xb.PUBLIC_ACCESS_NETWORK&&s!==o.xb.SEARCH_RESULTS&&s!==o.xb.EXPLORE&&s!==o.xb.SETTINGS&&s!==o.xb.SUBREDDIT_WIKI||!n&&(s===o.xb.COMMENTS||s===o.xb.DUPLICATES))return null;switch(s){case o.xb.POST_CREATION:return Object(d.a)(e.match.params);case o.xb.INDEX:case o.xb.LISTING:case o.xb.SUBREDDIT:case o.xb.TOPIC:return x(e,t).listingKey;case o.xb.PROFILE_COMMENTS:case o.xb.PROFILE_POSTS:case o.xb.PROFILE_OVERVIEW:case o.xb.PROFILE_PRIVATE:return D(e,t);case o.xb.MULTIREDDIT:return P(e,t);case o.xb.COMMENTS:return R(e,t,n);case o.xb.SEARCH_RESULTS:return A(e);case o.xb.SUBREDDIT_WIKI:return L(e);case o.xb.COINS:case o.xb.PREMIUM:case o.xb.PUBLIC_ACCESS_NETWORK:return s;case o.xb.SETTINGS:return N(e);case o.xb.EXPLORE:return k(e);default:return null}},w={listingKey:null},x=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(!o.M.has(s)&&s!==o.xb.POST_CREATION&&s!==o.xb.SUBREDDIT_WIKI)return w;const{queryParams:i}=r;switch(s){case o.xb.INDEX:case o.xb.LISTING:{const e=Object(T.a)(t),n=r.params,s=n.sort?n.sort:e;return{listingKey:Object(a.a)(m.b,s,i),sort:s}}case o.xb.PROFILE_COMMENTS:case o.xb.PROFILE_POSTS:{const{profileName:e}=r.params,{sort:t}=i;return{listingKey:Object(a.a)("u_".concat(e),t,i),sort:t}}case o.xb.POST_CREATION:case o.xb.SUBREDDIT:{const e=r.params,{subredditName:n}=e,s=i.f,o=Object(y.a)(e),c=Object(S.a)(t),d=Object(S.d)(c);if(s&&d){const e={[O.n]:s,[O.o]:"1"},t=Object(u.c)(e);return{listingKey:Object(u.b)(n,void 0,t),sort:o}}return{listingKey:Object(a.a)(n,o,i),sort:o}}case o.xb.TOPIC:{const e=r.params,t=e.sort||o.O,n=Object(p.f)(e.topicName);return{listingKey:Object(a.a)(f.b.Topic,t,Object.assign({},e,{topicName:n})),sort:t}}case o.xb.MOD_LISTING:{const e=r.params,{sort:t=o.O}=e,n=Object(v.d)(r.path)?m.f:m.e;return{listingKey:Object(a.a)(n,t,i),sort:t}}case o.xb.MULTIREDDIT:return{listingKey:P(e,t)};case o.xb.SEARCH_RESULTS:return{listingKey:C(e,t,null)};default:return w}},D=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(!o.M.has(s)&&s!==o.xb.POST_CREATION)return null;const{params:i,queryParams:c}=r,{profileName:d}=i,{sort:u=o.rb}=c;switch(s){case o.xb.PROFILE_OVERVIEW:const e=(t.user.prefs&&t.user.prefs.profileLayout?t.user.prefs.profileLayout:l.g.Large)===l.g.Compact?o.ib:o.jb;return Object(b.a)((d||"").toLowerCase(),e,u,c);case o.xb.PROFILE_COMMENTS:case o.xb.PROFILE_POSTS:return Object(a.a)("u_".concat(d),u,c);case o.xb.PROFILE_PRIVATE:const{listingType:n}=i;return Object(b.b)(d.toLowerCase(),n);default:return null}},P=(e,t)=>{const{route:n,match:r}=e,{name:s}=n.meta;if(s!==o.xb.MULTIREDDIT)return null;const{params:i,queryParams:c}=r,{multiredditName:d,sort:u=o.N.HOT}=i;let{username:l}=i;l||(l=t.user.account?Object(I.f)(t.user.account):"me");const b=Object(h.h)(l,d);return Object(a.a)(b,u,c)},A=e=>{const{route:t,match:n}=e,{name:r}=t.meta;if(r!==o.xb.SEARCH_RESULTS)return null;const{subredditName:i}=n.params,{username:c}=n.params,a=Object(u.c)(s()(n.queryParams,O.p));return Object(u.b)(i,c,a)},R=(e,t,n)=>{const{route:r,match:s}=e,{name:c}=r.meta;if(!c||c!==o.xb.COMMENTS)return null;const{partialCommentId:a,partialPostId:d}=s.params,u=Object(E.l)(d),l=a&&Object(_.e)(a),{hasSortParam:b,sortToUse:p}=Object(j.a)(t,u);return Object(i.a)(u,l,{sort:p,hasSortParam:b})},N=e=>"SettingsPage-"+e.match.params.page,k=e=>{const{route:t,match:n}=e,{name:r}=t.meta;if(!r||r!==o.xb.EXPLORE)return null;const{categoryName:s}=n.queryParams;return Object(c.a)({categoryName:s})},L=e=>{const{route:t,match:n}=e;if(t.meta.name!==o.xb.SUBREDDIT_WIKI)return;const{subredditName:r=g.e,wikiPageName:s,wikiSubRoute:i}=n.params;return["Wiki",r,i,s].join("--")}},"./src/reddit/helpers/stewards.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/constants/stewards.ts");const o=new Set([r.fb.Modqueue,r.fb.Reports,r.fb.Spam]),i=e=>e.bannedBy===s.a,c=e=>o.has(e)},"./src/reddit/helpers/tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r);const o=e=>s()(e).sort((t,n)=>{const r=e[t.tag.id].tag.text.toLowerCase(),s=e[n.tag.id].tag.text.toLowerCase();return r<s?-1:r>s?1:0}),i=e=>!e.id&&!!e.action},"./src/reddit/helpers/timeApiRoute/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/lib/constants/index.ts"),s=n("./src/telemetry/index.ts");async function o(e,t){const n=s.c.start();try{const o=await t();return Object(s.b)(r.l.Redesign,{page:e,type:"route",duration:s.c.end(n)}),o}finally{s.c.cancel(n)}}},"./src/reddit/helpers/trackers/blade.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"k",(function(){return g}));var r=n("./src/reddit/constants/blade.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>n=>Object.assign({},s.defaults(n),{source:r.d.Appearance,action:"click",noun:e,actionInfo:s.actionInfo(n,{paneName:t}),subreddit:s.subreddit(n)}),i=e=>o("save_style",e),c=e=>o("cancel_style",e),a=e=>t=>({source:r.d.Structure,action:"click",noun:e,screen:s.screen(t),subreddit:s.subreddit(t)}),d=e=>t=>({source:r.d.Appearance,action:"click",noun:e,screen:s.screen(t),subreddit:s.subreddit(t)}),u=(e,t)=>n=>({source:"colorpicker",action:"click",noun:e,actionInfo:s.actionInfo(n,{paneName:r.g[t]}),screen:s.screen(n),subreddit:s.subreddit(n)}),l=e=>t=>({source:r.h[e],action:"click",noun:"colorpicker",actionInfo:s.actionInfo(t,{paneName:r.g[e]}),screen:s.screen(t),subreddit:s.subreddit(t)}),b=e=>({screen:s.screen(e),subreddit:s.subreddit(e)}),p=()=>e=>Object.assign({source:r.d.Appearance,action:"view",noun:"blade"},b(e)),f=e=>t=>Object.assign({source:r.a[e],action:"click",noun:r.b[e]},b(t)),m=()=>e=>Object.assign({source:r.d.Appearance,action:"click",noun:"back"},b(e)),O=(e,t)=>Object.assign({},s.defaults(e),(e=>t=>Object.assign({source:r.d.PostFlairManagement,action:"click",noun:e},b(t)))(t)(e)),g=e=>t=>({source:r.d.MenuLinks,action:"click",noun:e?"wiki_link_on":"wiki_link_off",screen:s.screen(t),subreddit:s.subreddit(t),userSubreddit:s.userSubreddit(t)})},"./src/reddit/helpers/trackers/chat.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return y}));var r=n("./src/reddit/constants/chat.ts"),s=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/telemetry/models/Event.ts");const i=e=>({screen:Object(s.screen)(e),subreddit:Object(s.subreddit)(e)}),c=()=>e=>Object.assign({source:o.b.ChatSidebarWidget,action:"view",noun:"chat_rooms",chat:Object(s.numberChannels)(e)},i(e)),a=e=>t=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"view_room",chat:Object(s.channel)(t,e)},i(t)),d=e=>t=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"join_room",chat:Object(s.channel)(t,e)},i(t)),u=()=>e=>Object.assign({source:o.b.ChatSidebarWidget,action:"click",noun:"view_all_rooms",chat:Object(s.numberChannels)(e)},i(e)),l=e=>t=>Object.assign({source:o.b.ChatSidebarModal,action:"click",noun:"view_room",chat:Object(s.channel)(t,e)},i(t)),b=e=>t=>Object.assign({source:o.b.ChatSidebarModal,action:"click",noun:"join_room",chat:Object(s.channel)(t,e)},i(t)),p=()=>e=>Object.assign({source:o.b.ChatSetup,action:"view",noun:"create_chat_room"},i(e)),f=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"create_chat_room",chat:{id:n,type:r.f[s]}},i(t))},m=()=>e=>Object.assign({source:o.b.ChatSetup,action:"view",noun:"edit_chat_room"},i(e)),O=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"edit_chat_room",chat:{id:n,type:r.f[s]}},i(t))},g=e=>t=>{const{channelSendbirdUrl:n,type:s}=e;return Object.assign({source:o.b.ChatSetup,action:"submit",noun:"delete_chat_room",chat:{id:n,type:r.f[s]}},i(t))},j=()=>e=>Object.assign({source:o.b.Nav,action:"view",noun:"orangered_06"},i(e)),y=e=>t=>Object.assign({source:"settings_privacy",action:"save",noun:"receive_chat_invites",setting:{value:e,oldValue:e},actionInfo:Object(s.actionInfo)(t,{settingValue:e})},Object(s.defaults)(t))},"./src/reddit/helpers/trackers/coins.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p}));var r=n("./src/reddit/selectors/telemetry.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s);let i;const c=()=>i,a=()=>i=o()(),d=()=>i=void 0,u="coins_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_coins",correlationId:c()},r.defaults(e)),b=e=>t=>Object.assign({source:u,action:"click",noun:"coins_".concat(e),correlationId:c()},r.defaults(t)),p=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:c()},r.defaults(e))},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/telemetry/index.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"commentlist",noun:"bottom"},s.defaults(e),{listing:s.listing(e,t),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/commentsPage.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m}));var r=n("./src/reddit/models/PostDraft/index.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/comments.ts"),c=n("./src/reddit/selectors/platform.ts"),a=n("./src/reddit/selectors/telemetry.ts");const d=e=>{const t=Object(c.o)(e);return Object.assign({source:"comment_composer",action:o.d.CLICK},Object(a.defaults)(e),{screen:Object(a.screen)(e),subreddit:Object(a.subreddit)(e),post:t?Object(a.post)(e,t):null,profile:Object(a.profile)(e)})},u=(e,t,n,r)=>{const o={commentId:r,commentsPageKey:n},c=r&&Object(i.k)(e,o)||0;return Object(s.a)(Object.assign({noun:"comment"},d(e),{comment:r?Object(a.comment)(e,r):null,listing:Object(a.listing)(e,void 0,{depth:c}),commentComposer:{editorMode:t}}))},l=e=>Object(s.a)(Object.assign({noun:"cancel"},d(e))),b=(e,t)=>{t===r.c.replyToPost&&Object(s.a)(Object.assign({noun:"input"},d(e)))},p=(e,t)=>Object(s.a)(Object.assign({source:"comment",noun:"delete",action:"click"},Object(a.defaults)(t),{screen:Object(a.screen)(t),subreddit:Object(a.subreddit)(t),post:Object(a.post)(t,e)})),f=e=>Object(s.a)(Object.assign({noun:"edit"},d(e))),m=e=>Object(s.a)(Object.assign({noun:"save_edit"},d(e)))},"./src/reddit/helpers/trackers/communityTopics.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return g}));var r,s=n("./src/reddit/selectors/tags.ts"),o=n("./src/reddit/selectors/telemetry.ts"),i=n("./src/telemetry/index.ts");!function(e){e.communitySettings="community_settings",e.idCard="id_card"}(r||(r={}));const c=(e,t)=>Object(s.t)(e,{itemId:t}).reduce((e,t)=>{let{topicTagIds:n,topicTagContents:r,topicTagTypes:s}=e;return n.push(t.tag.id),r.push(t.tag.text),s.push(t.tag.type),{topicTagIds:n,topicTagContents:r,topicTagTypes:s}},{topicTagIds:[],topicTagContents:[],topicTagTypes:[]}),a=(e,t,n)=>{if(!n.id)return{content:n.displayText};const r=Object(s.b)(e)[n.id]||Object(s.d)(e,{subredditId:t})[n.id];return r?{id:r.id,content:r.text,type:r.type}:null},d=(e,t,n)=>{if(!n)return null;const r=Object(s.b)(e)[n]||Object(s.d)(e,{subredditId:t})[n];return r?{id:r.id,content:r.text,type:r.type}:null},u=(e,t,n)=>Object.assign({},o.defaults(e),{subreddit:Object.assign({},o.subreddit(e)||{},{id:t},c(e,t)),source:n.context,action:"click"}),l=(e,t,n)=>{Object(i.a)(((e,t,n)=>Object.assign({},u(e,t.subredditId,n),{noun:t.isRelevant?"restore_related_topic":"remove_related_topic",topicTag:d(e,t.subredditId,t.tagId)}))(e,t,n))},b=(e,t,n,r)=>{Object(i.a)(Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"add_related_topic"}))},p=(e,t,n,r)=>{return!Object(s.k)(e,{subredditId:t})&&n.id?Object(i.a)(((e,t,n,r)=>Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_auto_suggest"}))(e,t,n,r)):n.id?Object(i.a)(((e,t,n,r)=>Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_auto_complete"}))(e,t,n,r)):Object(i.a)(((e,t,n,r)=>Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_add_new"}))(e,t,n,r))},f=(e,t,n,r)=>Object(i.a)(Object.assign({},u(e,t,r),{topicTag:a(e,t,n),noun:"topic_remove"})),m=(e,t,n)=>Object(i.a)(Object.assign({},u(e,t,n),{noun:"topic_tag_field"})),O=(e,t,n)=>Object(i.a)(Object.assign({},u(e,t,n),{noun:n.context===r.communitySettings?"save":"save_community_topics"})),g=(e,t,n,r)=>{const s=u(e,t,r);Object(i.a)(Object.assign({},s,{action:"view",noun:"error",actionInfo:Object.assign({},s.actionInfo,{reason:n})}))}},"./src/reddit/helpers/trackers/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"K",(function(){return v})),n.d(t,"L",(function(){return S})),n.d(t,"A",(function(){return T})),n.d(t,"B",(function(){return C})),n.d(t,"E",(function(){return w})),n.d(t,"F",(function(){return x})),n.d(t,"h",(function(){return D})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return A})),n.d(t,"J",(function(){return R})),n.d(t,"u",(function(){return N})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return L})),n.d(t,"z",(function(){return U})),n.d(t,"C",(function(){return M})),n.d(t,"D",(function(){return F})),n.d(t,"M",(function(){return G})),n.d(t,"s",(function(){return B})),n.d(t,"t",(function(){return q})),n.d(t,"G",(function(){return V})),n.d(t,"H",(function(){return H})),n.d(t,"I",(function(){return W})),n.d(t,"c",(function(){return K})),n.d(t,"b",(function(){return J})),n.d(t,"a",(function(){return Y})),n.d(t,"e",(function(){return z})),n.d(t,"d",(function(){return Q})),n.d(t,"r",(function(){return Z})),n.d(t,"l",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"j",(function(){return ne})),n.d(t,"k",(function(){return re})),n.d(t,"m",(function(){return se})),n.d(t,"o",(function(){return oe})),n.d(t,"p",(function(){return ie})),n.d(t,"n",(function(){return ce})),n.d(t,"i",(function(){return ae}));var r,s=n("./src/lib/stringInterpolate/index.ts"),o=n("./src/reddit/actions/focusedVerticals/constants.ts"),i=n("./src/reddit/constants/categories.tsx"),c=n("./src/reddit/constants/tracking.ts"),a=n("./src/reddit/helpers/correlationIdTracker.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/models/Widgets/index.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/telemetry.ts"),p=n("./src/reddit/selectors/widgets.ts"),f=n("./src/telemetry/index.ts");!function(e){e.HEADER_SUBREDDIT="header_subreddit",e.ITEM_POST="item_post",e.ITEM_POST_SUBREDDIT="item_post_subreddit",e.ITEM_SUBREDDIT="item_subreddit",e.ITEM_SUBREDDIT_HIDE="item_subreddit_hide",e.ITEM_SUBREDDIT_SUBSCRIBE="item_subreddit_subscribe",e.ITEM_SUBREDDIT_UNSUBSCRIBE="item_subreddit_unsubscribe"}(r||(r={}));const m="discovery_unit",O=(e,t,n)=>Object.assign({},b.defaults(e),{source:m,screen:b.screen(e),discoveryUnit:{id:t.id,type:t.unitType,title:t.title&&n?Object(s.a)(t.title,{subredditName:n.name}):t.title,name:t.unitName}}),g=(e,t,n)=>Object.assign({},O(e,t,n),{source:"global",action:"view",noun:"discovery_unit"}),j=(e,t)=>Object.assign({},b.defaults(e),{correlationId:Object(a.c)(a.a.SearchResults),screen:b.screen(e),noun:"search_result_discovery_unit",post:t?b.post(e,t):null,discoveryUnit:{name:d.s,id:"xd_72",type:"listing"}}),y=(e,t)=>{Object(f.a)(_(t)(e))},_=(e,t)=>n=>g(n,e,t),h=(e,t,n,r)=>"unitName"in t?O(e,t,r):((e,t,n)=>Object.assign({},b.defaults(e),{source:"search",screen:b.screen(e),search:n?Object.assign({},b.search(e,n),{structureType:b.StructureType.Trending}):null,discoveryUnit:{id:t.name,type:"listing",title:t.layout.title,name:t.name}}))(e,t,n),E=(e,t,n,s,o)=>Object.assign({},h(e,t,s,o),{action:"view",noun:r.ITEM_POST,post:b.post(e,n)}),I=e=>{let{post:t,rawQuery:n,searchQuery:r}=e;return{displayQuery:decodeURIComponent(r),rawQuery:n?decodeURIComponent(n):void 0,structureType:t&&t.isSponsored?b.StructureType.PromotedTrend:b.StructureType.Trending}},v=(e,t)=>{const n=t.post?t.post.id:void 0;Object(f.a)(Object.assign({},j(e,n),{metaSearch:I(t),source:"search",action:"click"}))},S=(e,t)=>{const n=t.post?t.post.id:void 0;Object(f.a)(Object.assign({},j(e,n),{metaSearch:I(t),source:"search",action:"view"}))},T=(e,t,n,r)=>{Object(f.a)(E(e,t,n,r))},C=(e,t,n,r)=>s=>E(s,e,t,n,r),w=(e,t,n,s)=>{const o=h(e,t,s);Object(f.a)(Object.assign({},o,Object(p.b)(e,n),{action:"view",noun:r.ITEM_SUBREDDIT}))},x=(e,t,n)=>{Object(f.a)(Object.assign({},O(e,t),{source:m,action:c.d.CLICK,noun:"title_category",subreddit:{categoryName:Object(i.g)(n)}}))},D=(e,t)=>{Object(f.a)(Object.assign({},O(e,t),{source:m,action:c.d.CLICK,noun:"show_less_often"}))},P=(e,t,n,r)=>{Object(f.a)(A(t,n,r)(e))},A=(e,t,n,s)=>o=>{const i=h(o,e,n,s);return Object.assign({},i,{source:m,action:c.d.CLICK,noun:r.ITEM_POST,post:b.post(o,t)})},R=()=>e=>t=>({source:"search",action:c.d.CLICK,noun:r.ITEM_POST,post:b.post(t,e),search:{structureType:b.StructureType.Trending}}),N=(e,t)=>n=>s=>Object.assign({},e?O(s,e,t):{},{source:m,action:c.d.CLICK,noun:r.ITEM_POST,post:b.post(s,n)}),k=(e,t,n,r)=>{Object(f.a)(L(t,n,r)(e))},L=(e,t,n,r)=>s=>{const o=Object(l.b)(s,{postId:t}),i=o?Object(p.b)(s,o):void 0,a=h(s,e,n,r);return Object.assign({},a,i,{source:m,action:c.d.CLICK,noun:"item_post_subreddit",post:b.post(s,t)})},U=(e,t,n)=>r=>s=>{const o=Object(l.b)(s,{postId:t}),i=o?Object(p.b)(s,o):void 0,a=h(s,e,void 0,n);return Object.assign({},a,i,{source:m,action:c.d.CLICK,noun:r?"item_post_subreddit_unsubscribe":"item_post_subreddit_subscribe",post:b.post(s,t)})},M=(e,t,n)=>{Object(f.a)(Object.assign({},O(e,t),Object(p.b)(e,n),{source:m,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT}))},F=(e,t)=>n=>r=>Object.assign({},O(r,e),Object(p.b)(r,t),{source:m,action:c.d.CLICK,noun:n?"item_subreddit_unsubscribe":"item_subreddit_subscribe"}),G=(e,t,n)=>{const r=h(e,t);Object(f.a)(Object.assign({},r,Object(p.b)(e,n),{source:"search",action:c.d.CLICK,noun:"search_result_discovery_unit_subreddit"}))},B=(e,t,n)=>{const r=h(e,t);Object(f.a)(Object.assign({},r,Object(p.b)(e,n),{source:m,action:c.d.CLICK,noun:"footer_subreddit"}))},q=(e,t)=>n=>{const r=t?Object(u.k)(t):void 0,s=r?Object(p.b)(n,r):void 0;return Object.assign({},O(n,e,t),s,{source:m,action:c.d.CLICK,noun:"footer_subreddit"})},V=(e,t,n)=>{Object(f.a)(Object.assign({},O(e,t),Object(p.b)(e,n),{source:m,action:c.d.CLICK,noun:"title_subreddit"}))},H=(e,t)=>n=>{const r=Object(u.k)(t);return Object.assign({},O(n,e,t),Object(p.b)(n,r),{source:m,action:c.d.CLICK,noun:"title_subreddit"})},W=(e,t)=>n=>r=>Object.assign({},O(r,e),Object(p.b)(r,t),{source:m,action:c.d.CLICK,noun:n?"title_subreddit_unsubscribe":"title_subreddit_subscribe"}),K=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"status",actionInfo:b.actionInfo(n,{success:!0}),noun:"loading"}),J=(e,t,n)=>r=>Object.assign({},O(r,e,n),{action:"status",actionInfo:b.actionInfo(r,{reason:t,success:!1}),noun:"loading"}),Y=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"click",noun:"close"}),z=(e,t,n)=>r=>Object.assign({},h(r,e,t,n),{action:"click",noun:"scroll"}),Q=(e,t)=>n=>Object.assign({},O(n,e,t),{action:"click",noun:"overflow_menu"}),X=()=>({id:"xd_focus_verticals",unitType:d.f.Listing,experiment:"",title:o.a,unitName:"focused_vertical_suggestion",enabled:!1,layout:d.d.Large,surface:d.e.Frontpage,url:"gql.reddit.com"}),$=(e,t,n)=>b.actionInfo(e,{position:n}),Z=(e,t,n)=>{const r=X();return e=>Object.assign({},g(e,r),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)})},ee=(e,t,n)=>{const r=X();return e=>Object.assign({},E(e,r,t),{actionInfo:$(e,0,n)})},te=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:m,action:c.d.VIEW,noun:r.ITEM_SUBREDDIT})},ne=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),post:b.post(e,t)||null,source:m,action:c.d.CLICK,noun:r.ITEM_POST})},re=(e,t,n,s)=>{const o=X();return e=>Object.assign({},O(e,o),{actionInfo:$(e,0,s),subreddit:b.subredditById(e,n)||null,post:b.post(e,t)||null,source:m,action:c.d.CLICK,noun:r.ITEM_POST_SUBREDDIT})},se=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:m,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT})},oe=(e,t,n,s)=>{const o=X();return e=>Object.assign({},O(e,o),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,post:s?b.post(e,s):null,source:m,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT_SUBSCRIBE})},ie=(e,t,n,s)=>{const o=X();return e=>Object.assign({},O(e,o),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,post:s?b.post(e,s):null,source:m,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT_UNSUBSCRIBE})},ce=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:m,action:c.d.CLICK,noun:r.ITEM_SUBREDDIT_HIDE})},ae=(e,t,n)=>{const s=X();return e=>Object.assign({},O(e,s),{actionInfo:$(e,0,n),subreddit:b.subredditById(e,t)||null,source:m,action:c.d.CLICK,noun:r.HEADER_SUBREDDIT})}},"./src/reddit/helpers/trackers/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/reddit/selectors/experiments/emailCollection.ts"),o=n("./src/reddit/selectors/telemetry.ts");const i=e=>t=>({source:e,action:r.d.VIEW,actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"email_collection"}),c=e=>t=>({source:e,action:r.d.CLICK,actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"add_email_collection"}),a=e=>t=>({source:e,action:"close",actionInfo:o.actionInfo(t,{settingValue:Object(s.a)(t)}),noun:"email_collection"}),d=e=>Object.assign({},o.defaults(e),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(e,{settingValue:Object(s.a)(e)}),noun:"save_email_collection"}),u=e=>t=>Object.assign({},o.defaults(t),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(t,{reason:e?"1":"0",settingValue:Object(s.a)(t)}),noun:"email_digest_check"}),l=e=>Object.assign({},o.defaults(e),{source:"popup",action:r.d.CLICK,actionInfo:o.actionInfo(e,{settingValue:Object(s.a)(e)}),noun:"email_settings_link"})},"./src/reddit/helpers/trackers/emailVerification.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var r=n("./src/reddit/selectors/telemetry.ts");const s="tooltip",o=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"view",noun:"verification",source:e}),i=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"close",noun:"verification",source:e}),c=(e,t)=>n=>Object.assign({},Object(r.defaults)(n),{action:"click",noun:"verification_".concat(t),source:e}),a=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"send",noun:"verification_email_".concat(e),source:"email"}),d=e=>t=>Object.assign({},Object(r.defaults)(t),{action:"click",noun:"verification_email_".concat(e),source:"email"}),u=()=>e=>Object.assign({},Object(r.defaults)(e),{action:"confirm",noun:"verification_email",source:"email"})},"./src/reddit/helpers/trackers/experiments.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/reddit/selectors/experiments/index.ts"),s=n("./src/reddit/selectors/platform.ts"),o=n("./src/reddit/selectors/telemetry.ts"),i=n("./src/telemetry/index.ts"),c=n("./src/telemetry/models/Event.ts");const a=(e,t,n)=>{Object(i.a)(Object.assign({source:c.e.Experiment,action:c.c.Expose,noun:c.d.UserId,actionInfo:void 0,app:o.app(),experiment:t,referrer:void 0,session:void 0,user:e},n))},d=(e,t)=>{const n=o.request(e),a=Object(r.c)(e);a&&(n.canonical_url=a);const d=Object(r.a)(e,t),u=void 0!==d,l=Object(r.b)(e,t);let b;u?b={id:-1,isOverride:!0,name:t.experimentName,variant:d,version:"-1"}:l&&(b=Object.assign({},l,{isOverride:!1}));const p=Object(s.o)(e),f=p?o.post(e,p):void 0;Object(i.a)({source:c.e.Experiment,action:c.c.Expose,noun:c.d.CanonicalUrl,actionInfo:void 0,app:o.app(),experiment:b,post:f,request:n,referrer:void 0,session:void 0,subreddit:o.subreddit(e),user:o.user(e)})}},"./src/reddit/helpers/trackers/gild.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"clickGildEvent",(function(){return u})),n.d(t,"clickRpanGiveAward",(function(){return l})),n.d(t,"clickAddAward",(function(){return b})),n.d(t,"viewGildModalEvent",(function(){return p})),n.d(t,"clickSelectAwardEvent",(function(){return f})),n.d(t,"viewGiveAwardTooltipEvent",(function(){return m})),n.d(t,"triggerAnonymousEvent",(function(){return O})),n.d(t,"clickMessageInputEvent",(function(){return g})),n.d(t,"typeMessageInputEvent",(function(){return j})),n.d(t,"clickLearnMoreLinkEvent",(function(){return y})),n.d(t,"clickQuestionMarkEvent",(function(){return _})),n.d(t,"clickConfirmAwardEvent",(function(){return h})),n.d(t,"clickNextButtonEvent",(function(){return E})),n.d(t,"clickCloseGildModalEvent",(function(){return I})),n.d(t,"viewSuccessAwardEvent",(function(){return v}));var r=n("./src/reddit/models/Gold/Award.ts"),s=n("./src/reddit/selectors/telemetry.ts"),o=n("./src/reddit/helpers/correlationIdTracker.ts"),i=n("./src/reddit/helpers/isComment.ts");const c=e=>e.awardType===r.c.Global&&e.awardSubType===r.b.Global?e.id:e.awardType===r.c.Global&&e.awardSubType===r.b.Appreciation?"gid_appreciation":e.awardType===r.c.Community?"gid_community":"gid_mod",a=e=>({awardId:e.id,awardName:e.name,numberCoinsToRecipient:e.coinReward,type:c(e)}),d=(e,t)=>Object.assign({},s.defaults(e),{comment:s.comment(e,t),correlationId:Object(o.c)(o.a.GildingFlow),post:s.post(e,t),screen:s.screen(e),subreddit:s.subreddit(e)}),u=e=>t=>Object.assign({},d(t,e),{source:Object(i.a)(e)?"comment":"post",action:"click",noun:"give_gold"}),l=e=>t=>Object.assign({},d(t,e),{source:"stream_player",action:"click",noun:"give_gold"}),b=e=>t=>Object.assign({},d(t,e),{source:Object(i.a)(e)?"comment":"post",action:"click",noun:"add_award"}),p=(e,t,n)=>r=>Object.assign({},d(r,n),{source:"give_gold",action:"view",noun:"page",goldPurchase:{defaultOption:e,defaultAnonymous:t}}),f=(e,t)=>n=>Object.assign({},d(n,t),{source:"give_gold",action:"click",noun:c(e),goldPurchase:a(e)}),m=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"view",noun:"tooltip"}),O=(e,t)=>n=>Object.assign({},d(n,t),{source:"give_gold",action:e,noun:"anonymous"}),g=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"message_input"}),j=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"type",noun:"message_input"}),y=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"learn_more"}),_=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"question"}),h=(e,t)=>n=>Object.assign({},d(n,e),{source:"give_gold",action:"click",noun:"confirm",goldPurchase:Object.assign({contentType:Object(i.a)(e)?"comment":"post"},a(t))}),E=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"next"}),I=e=>t=>Object.assign({},d(t,e),{source:"give_gold",action:"click",noun:"close"}),v=(e,t,n)=>r=>Object.assign({},d(r,e),{source:"give_gold",action:"view",noun:"success",goldPurchase:Object.assign({contentType:Object(i.a)(e)?"comment":"post",numberCoins:t},a(n))})},"./src/reddit/helpers/trackers/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r,s=n("./src/reddit/constants/tracking.ts"),o=n("./src/reddit/selectors/telemetry.ts");!function(e){e.SubredditInlineTooltip="subreddit_inline_tooltip",e.EditSubredditIcon="edit_subreddit_icon",e.EditSubredditDescription="edit_subreddit_description",e.SaveDescription="save_description",e.Error="error"}(r||(r={}));const i=e=>({subreddit:o.subreddit(e),userSubreddit:o.userSubreddit(e)}),c=e=>Object.assign({source:"subreddit_tooltip",noun:r.SubredditInlineTooltip,action:s.d.VIEW},i(e)),a=e=>Object.assign({source:"id_card",noun:r.EditSubredditIcon,action:s.d.CLICK},i(e)),d=e=>Object.assign({source:"id_card",noun:r.EditSubredditDescription,action:s.d.CLICK},i(e)),u=(e,t)=>n=>Object.assign({source:"id_card",noun:r.SaveDescription,action:s.d.CLICK,setting:{value:String(e),oldValue:String(t)}},i(n)),l=(e,t)=>Object.assign({source:"id_card",noun:r.Error,action:s.d.VIEW},i(e),o.defaults(e),{actionInfo:o.actionInfo(e,{reason:t})})},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/telemetry/index.ts"),o=n("./src/reddit/selectors/platform.ts"),i=n("./src/reddit/selectors/telemetry.ts");const c=e=>({profile:i.profile(e),screen:i.screen(e),subreddit:i.subreddit(e)}),a=(e,t,n)=>r=>Object.assign({source:Object(o.i)(r)||n?"post_lightbox":"post_detail",action:"click",noun:t},c(r),{post:i.post(r,e)}),d=(e,t)=>n=>{const r=i.currentPost(n);return r?a(r.id,e,t)(n):Object.assign({source:Object(o.i)(n)||t?"post_lightbox":"post_detail",action:"click",noun:e},c(n))},u=(e,t)=>n=>Object(s.a)(Object.assign({},a(e,t)(n),i.defaults(n))),l=e=>t=>Object.assign({source:"id_card",action:r.d.CLICK,noun:e},c(t),{post:i.currentPost(t),userSubreddit:i.userSubreddit(t)})},"./src/reddit/helpers/trackers/media.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/reddit/selectors/telemetry.ts");const s=(e,t,n)=>s=>({source:"videoplayer",action:t,noun:n,post:r.post(s,e),media:r.media(s,e),profile:r.profile(s),subreddit:r.subreddit(s),actionInfo:r.mediaActionInfo(s,e),correlationId:r.videoCorrelationId()}),o=e=>t=>({source:"videoplayer",action:"underrun",noun:"playback",post:r.post(t,e),profile:r.profile(t),subreddit:r.subreddit(t),actionInfo:r.mediaActionInfo(t,e),media:r.media(t,e)}),i=(e,t,n)=>o=>Object.assign({},s(e,t,n)(o),{timer:r.videoPlayerFirstFrameTimer(o,e),media:Object.assign({},r.media(o,e),r.videoPlayerMaxTimeServed(o,e))})},"./src/reddit/helpers/trackers/modTools.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return O}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/reddit/selectors/telemetry.ts");const s=new Set(["approve","ignore_reports","remove","restore_reports","spam"]),o=e=>({screen:Object(r.screen)(e),profile:Object(r.profile)(e),subreddit:Object(r.subreddit)(e),userSubreddit:Object(r.userSubreddit)(e)}),i=e=>t=>Object.assign({source:"nav",action:"click",noun:e?"mod_mode_on":"mod_mode_off"},o(t)),c=(e,t)=>n=>Object.assign({source:"post_mod_action_menu",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t)},o(n)),a=(e,t)=>n=>Object.assign({source:"comment",action:"click",noun:e,modAction:s.has(e)?Object(r.modActionSelector)(n,t):void 0,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),d=(e,t)=>n=>Object.assign({source:"comment_overflow_menu",action:"click",noun:e,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),u=(e,t)=>n=>Object.assign({source:"mod_distinguish_menu",action:"click",noun:e,post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),l=(e,t)=>n=>Object.assign({source:"comment_mod_action_menu",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),comment:Object(r.comment)(n,t)},o(n)),b=(e,t)=>n=>Object.assign({source:"comment_report_menu",action:"click",noun:e,comment:Object(r.comment)(n,t),post:Object(r.post)(n,t)},o(n)),p=(e,t)=>n=>Object.assign({source:"post_report_menu",action:"click",noun:e,post:Object(r.post)(n,t)},o(n)),f=(e,t)=>n=>({source:"post",action:"click",noun:e,modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),subreddit:Object(r.subredditByPostOrCommentId)(n,t)}),m=(e,t)=>n=>({source:"comment",action:"click",noun:e,comment:Object(r.comment)(n,t),modAction:Object(r.modActionSelector)(n,t),post:Object(r.post)(n,t),subreddit:Object(r.subredditByPostOrCommentId)(n,t)}),O=(e,t)=>n=>Object.assign({source:e,action:"click",noun:"steward_reports_only",actionInfo:Object(r.actionInfo)(n,{settingValue:t?"on":"off"})},o(n))},"./src/reddit/helpers/trackers/post.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return j}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/trackers/modTools.ts"),o=n("./src/reddit/models/Post/index.ts"),i=n("./src/telemetry/index.ts"),c=n("./src/reddit/selectors/telemetry.ts");const a=e=>e&&e.meta&&e.meta.name&&e.meta.name===r.xb.DUPLICATES,d=(e,t)=>{const{currentPage:n}=e.platform,r=a(n)?"other_discussions":"post";return Object(i.a)(Object.assign({source:r,action:"view",noun:"post"},c.defaults(e),{post:c.post(e,t),profile:c.profile(e),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)}))},u=(e,t)=>Object(i.a)(Object.assign({source:"post",action:"view",noun:"ad"},c.defaults(e),{post:c.post(e,t),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)})),l=(e,t,n)=>Object(i.a)(Object.assign({source:"post",action:"consume",noun:"post"},c.defaults(e),{post:c.post(e,t,n),media:c.media(e,t),screen:c.screen(e),subreddit:c.subreddit(e)})),b=(e,t,n,r)=>({noun:r,post:c.post(e,t),source:n}),p=(e,t,n,r)=>{const{currentPage:s}=e.platform;if(a(s)){const n=Object(o.l)(s&&s.urlParams.partialPostId||"");return{noun:"post",post:c.post(e,n),source:"other_discussions",targetPost:c.post(e,t)}}return b(e,t,n,r)},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";return r=>{const{currentPage:o}=r.platform,i=a(o)?p(r,e,n,t):b(r,e,n,t);return Object.assign({},i,c.defaults(r),{action:"click",media:c.media(r,e),modAction:s.a.has(i.noun)?c.modActionSelector(r,e):void 0,subreddit:c.subreddit(r)||c.subredditByPostOrCommentId(r,e)})}},m=(e,t)=>n=>Object(i.a)(Object.assign({source:"post",action:"click",noun:t},c.defaults(n),{post:c.post(n,e),media:c.media(n,e),screen:c.screen(n),session:c.session(n),subreddit:c.subreddit(n)})),O=(e,t)=>({post:c.post(e,t),profile:c.profile(e)}),g=e=>t=>Object.assign({action:"pin",noun:"post",source:"profile"},O(t,e),c.defaults(t)),j=e=>t=>Object.assign({action:"unpin",noun:"post",source:"profile"},O(t,e),c.defaults(t))},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"s",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"v",(function(){return E})),n.d(t,"m",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"u",(function(){return x})),n.d(t,"d",(function(){return D})),n.d(t,"j",(function(){return A})),n.d(t,"h",(function(){return R})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return L})),n.d(t,"q",(function(){return U})),n.d(t,"g",(function(){return M})),n.d(t,"t",(function(){return F}));var r=n("./src/reddit/constants/tracking.ts"),s=n("./src/reddit/helpers/correlationIdTracker.ts"),o=n("./src/reddit/helpers/media/index.ts"),i=n("./src/reddit/models/PostCreationForm/index.ts"),c=n("./src/reddit/models/PostDraft/index.ts"),a=n("./src/reddit/selectors/postDraft.ts"),d=n("./src/reddit/selectors/telemetry.ts"),u=n("./src/reddit/selectors/user.ts"),l=n("./src/telemetry/index.ts"),b=n("./src/telemetry/models/PostComposer.ts"),p=n("./src/telemetry/models/PostDraft.ts");const f={imageOnly:"image",linkOnly:"link",media:"media",poll:"self",post:"self",crosspost:"crosspost"},m=e=>Object.assign({source:"post_composer",action:r.d.CLICK},d.defaults(e),{screen:d.screen(e),correlationId:Object(s.c)(s.a.PostComposer)}),O=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===i.h.MARKDOWN?"markdown":"rte"},g=e=>{Object(l.a)(Object.assign({noun:"cancel"},m(e)))},j=e=>{Object(l.a)(Object.assign({noun:"discard"},m(e)))},y=e=>{Object(l.a)(Object.assign({noun:"subreddit_choice",subreddit:d.subreddit(e)},m(e),{actionInfo:d.chatPostActionInfo(e)}))},_=e=>{Object(l.a)(Object.assign({noun:"subreddit_selector"},m(e)))},h=(e,t)=>{Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:f[t]}},m(e)))},E=(e,t,n)=>{"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},m(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:n?"on":"off"}},m(e)))},I=(e,t,n)=>{Object(l.a)(Object.assign({noun:"post",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},O(e,t)),post:n?d.post(e,n):null},m(e)))},v=(e,t)=>{const n=t===i.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:n},m(e)))},S=(e,t)=>{Object(l.a)(Object.assign({noun:"save",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},O(e,t))},m(e)))},T=(e,t)=>{const n=e.uploads[t];n.error&&Object(l.a)(Object.assign({},m(e),{noun:"media",action:r.d.REJECT,actionInfo:Object.assign({},d.actionInfo(e),{reason:JSON.stringify(n.error)})}))},C=(e,t)=>{t.forEach(t=>{const n=Object(o.f)(t.type);n&&Object(l.a)(Object.assign({},m(e),{action:r.d.DRAG,noun:n}))})},w=(e,t,n)=>{Object(l.a)(Object.assign({},m(e),{noun:"input",postComposer:{inputType:n},action:t,actionInfo:d.chatPostActionInfo(e)}))},x=(e,t,n)=>{Object(l.a)(Object.assign({},m(e),{noun:n,action:Object(b.getToggleAction)(t),actionInfo:d.chatPostActionInfo(e)}))},D=e=>{Object(l.a)(Object.assign({},m(e),{noun:"hide_oc_description",action:r.d.CLICK}))},P=(e,t)=>{if(t){const n=d.subredditById(e,t);if(n)return{subreddit:n};const r=d.profileById(e,t);if(r)return{profile:r}}},A=(e,t)=>{const{draftId:n,destSubreddit:r}=t,s=Object(u.i)(e),o=Object(a.d)(e,{draftId:n}),i={authorId:s?s.id:void 0,createdTimestamp:o?o.created:void 0,id:n||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:i.type=p.DraftType.Link,i.urlLength=t.body.length;break;case c.b.Markdown:i.type=p.DraftType.Self,i.bodyTextLength=t.body.length;break;case c.b.RichText:i.type=p.DraftType.RichText,t.documentStats&&(i.bodyTextLength=t.documentStats.textLength,i.numberRteImages=t.documentStats.rteImagesCount,i.numberRteVideos=t.documentStats.rteVideosCount);break;case c.b.Image:i.type=p.DraftType.Image;break;case c.b.Video:i.type=p.DraftType.Video}return Object.assign({postDraft:i},P(e,r.id))},R=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_load"},m(e),A(e,t)))},N=(e,t)=>{Object(l.a)(Object.assign({noun:t.draftId?"draft_update":"draft_create"},m(e),A(e,t)))},k=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_delete"},m(e),((e,t)=>{const n=Object(u.i)(e),r={authorId:n?n.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case c.b.Link:r.type=p.DraftType.Link,r.urlLength=(t.body||"").length;break;case c.b.Markdown:r.type=p.DraftType.Self,r.bodyTextLength=(t.body||"").length;break;case c.b.RichText:r.type=p.DraftType.RichText}return Object.assign({postDraft:r},P(e,t.subredditId))})(e,t)))},L=e=>{Object(l.a)(Object.assign({},m(e),{noun:"social_connect_link",action:r.d.CLICK}))},U=(e,t)=>{Object(l.a)(Object.assign({},m(e),{noun:"twitter_share_checkbox",action:Object(b.getToggleAction)(t)}))},M=(e,t,n)=>{Object(l.a)(Object.assign({},m(e),A(e,t),{noun:"draft_share",action:n?r.d.ENABLE:r.d.DISABLE}))},F=(e,t,n,r)=>{Object(l.a)(Object.assign({},m(e),{noun:"suggested_subreddit",subreddit:{id:n,name:r,postDifficultyRating:t}}))}},"./src/reddit/helpers/trackers/postList.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return m}));var r=n("./src/telemetry/index.ts"),s=n("./src/reddit/selectors/telemetry.ts");const o=(e,t)=>Object.assign({},s.defaults(e),{media:s.media(e,t),post:s.post(e,t),profile:s.profile(e),subreddit:s.subreddit(e)}),i=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay_initial_load"}))},c=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"complete",noun:"autoplay_initial_load"}))},a=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_initial_load"}))},d=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_network_load"}))},u=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"consume",noun:"autoplay"}))},l=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay"}))},b=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"start",noun:"autoplay_buffering"}))},p=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay"}))},f=(e,t)=>{Object(r.a)(Object.assign({},o(e,t),{source:"postlist",action:"stop",noun:"autoplay_buffering"}))},m=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"postlist",noun:"bottom"},s.defaults(e),{listing:s.listing(e,t),subreddit:s.subreddit(e)}))}},"./src/reddit/helpers/trackers/premium.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("./src/reddit/selectors/telemetry.ts"),s=n("./node_modules/uuid/v4.js"),o=n.n(s);let i;const c=()=>i,a=()=>i=o()(),d=()=>i=void 0,u="premium_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:c()},r.defaults(e)),b=()=>e=>Object.assign({source:u,action:"click",noun:"price",correlationId:c()},r.defaults(e)),p=()=>e=>Object.assign({source:u,action:"click",noun:"redeem_code",correlationId:c()},r.defaults(e)),f=()=>e=>Object.assign({source:u,action:"click",noun:"manage",correlationId:c()},r.defaults(e))},"./src/reddit/helpers/trackers/profileSettings.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return E}));var r=n("./node_modules/lodash/pick.js"),s=n.n(r),o=n("./src/reddit/constants/tracking.ts"),i=n("./src/reddit/selectors/telemetry.ts"),c=n("./src/telemetry/index.ts"),a=n("./src/telemetry/models/PostComposer.ts");const d=e=>Object.assign({source:"profile_settings"},Object(i.defaults)(e)),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Object(i.currentProfileModelSelector)(e);if(n)return s()(n,["id","name","type",...t])},l=e=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_connect_link",action:o.d.CLICK}))},b=e=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_disconnect_link",action:o.d.CLICK}))},p=(e,t)=>{Object(c.a)(Object.assign({},d(e),{noun:"display_twitter_checkbox",action:Object(a.getToggleAction)(t)}))},f=(e,t)=>{Object(c.a)(Object.assign({},d(e),{noun:"twitter_account",action:o.d.CLICK,profile:{id:t.id,name:t.username}}))},m=e=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["display_name","about","avatar_url","cover_url","nsfw","content_visible","communities_visible"]),action:o.d.VIEW,noun:"settings_page"}))},O={profileIcon:"avatar",profileBanner:"cover"},g=(e,t)=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["avatar_url","cover_url"]),action:"upload",noun:O[t]}))},j=(e,t)=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,[]),action:"remove",noun:O[t]}))},y=e=>{Object(c.a)(Object.assign({},d(e),{profile:u(e,["display_name","about","nsfw","content_visible","communities_visible"]),action:"click",noun:"save_settings"}))},_=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"content_visible"}),h=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"nsfw"}),E=e=>t=>Object.assign({},d(t),{profile:u(t,[]),action:e?"select":"deselect",noun:"active_in_communities"})},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"m",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return R})),n.d(t,"i",(function(){return N})),n.d(t,"n",(function(){return M})),n.d(t,"p",(function(){return F})),n.d(t,"c",(function(){return G})),n.d(t,"o",(function(){return V}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makePostDraftPageKey/index.ts"),o=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),i=n("./src/reddit/helpers/routeKey/index.ts"),c=n("./src/reddit/helpers/trackers/postComposer.ts"),a=n("./src/reddit/helpers/trackers/profileSettings.ts"),d=n("./src/reddit/models/Comment/index.ts"),u=n("./src/reddit/models/Post/index.ts"),l=n("./src/reddit/selectors/profile.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/constants/categories.tsx"),f=n("./src/reddit/helpers/correlationIdTracker.ts"),m=n("./src/reddit/helpers/trackers/coins.ts"),O=n("./src/reddit/helpers/trackers/premium.ts"),g=n("./src/reddit/helpers/trackers/searchResults.ts"),j=n("./src/reddit/selectors/experiments/searchFix.ts"),y=n("./src/reddit/selectors/postDraft.ts"),_=n("./src/reddit/selectors/telemetry.ts"),h=n("./src/telemetry/index.ts");const E=(e,t,n,c)=>{const{route:l}=e,{name:b}=l.meta;if(b)switch(b){case r.xb.COMMENTS:{const{partialCommentId:r,partialPostId:s}=e.match.params,a=Object(u.l)(s),l=Object(i.a)(e,t,t.posts.models[a]);if(!l)return;const b=r&&Object(d.e)(r),{sortToUse:p}=Object(o.a)(t,a);Object(h.a)(w(l,a,b,n,c,p)(t));break}case r.xb.INDEX:case r.xb.LISTING:case r.xb.MULTIREDDIT:case r.xb.SUBREDDIT:{const s=Object(i.d)(e,t);if(!s.listingKey)return;const{params:o,queryParams:a}=e.match,{sort:d=(s.sort?s.sort:r.N.HOT)}=o,u=a.t;Object(h.a)(I(s.listingKey,d,n,c,u)(t));break}case r.xb.TOPIC:{const s=Object(i.d)(e,t);if(!s.listingKey)return;const{params:o}=e.match,a=s.sort?s.sort:r.N.HOT,{sort:d=a,topicName:u}=o;Object(h.a)(q(s.listingKey,u,d,n,c)(t));break}case r.xb.PROFILE_OVERVIEW:{const s=Object(i.e)(e,t);if(!s)return;const{params:o,queryParams:a}=e.match,{sort:d=r.rb}=o,u=a.t;Object(h.a)(v(s,d,n,c,u)(t));break}case r.xb.PROFILE_POSTS:{const s=Object(i.e)(e,t);if(!s)return;const{queryParams:o}=e.match,{sort:a=r.rb,t:d=r.Pb}=o;Object(h.a)(S(s,a,n,c,d)(t));break}case r.xb.PROFILE_COMMENTS:{const s=Object(i.e)(e,t);if(!s)return;const{queryParams:o}=e.match,{sort:a=r.rb,t:d=r.Pb}=o;Object(h.a)(T(s,a,n,c,d)(t));break}case r.xb.SETTINGS:e.match.params.page===r.Kb.Profile?Object(a.j)(t):Object(h.a)(L(n,c)(t));break;case r.xb.POST_CREATION:break;case r.xb.POST_DRAFT:{const{draftId:r}=e.match.params,o=Object(s.a)(e.match.params);if(!o)return;A(t,o,r,n,c);break}case r.xb.SUBREDDIT_WIKI:Object(h.a)(B(n,c)(t));break;case r.xb.COINS:Object(h.a)(R(n,c)(t));break;case r.xb.PREMIUM:Object(h.a)(N(n,c)(t));break;case r.xb.APPEAL:Object(h.a)(k(n,c)(t));break;case r.xb.EXPLORE:{const r=Object(i.b)(e);if(!r)return;Object(h.a)(U(r,n,c)(t));break}}},I=(e,t,n,r,s,o)=>i=>{const{api:c}=i.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(i),{actionInfo:_.actionInfo(i,{success:a}),customFeed:_.customFeed(i),listing:_.listing(i,e,{sort:t,sortTime:s}),screen:_.screen(i),subreddit:_.subreddit(i),timer:_.timer(n,r),userSubreddit:_.userSubreddit(i),adblock:_.adblock(i),postFlair:{title:o}})},v=(e,t,n,r,s)=>o=>{const i=_.listing(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},_.defaults(o),{actionInfo:_.actionInfo(o,{success:a}),profile:_.profile(o),screen:_.screen(o),subreddit:_.subreddit(o),timer:_.timer(n,r),userSubreddit:_.userSubreddit(o),adblock:_.adblock(o)})},S=(e,t,n,r,s)=>o=>{const i=_.listing(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.listings.postOrder,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},_.defaults(o),{actionInfo:_.actionInfo(o,{success:a}),profile:_.profile(o),screen:_.screen(o),subreddit:_.subreddit(o),timer:_.timer(n,r),userSubreddit:_.userSubreddit(o),adblock:_.adblock(o)})},T=(e,t,n,r,s)=>o=>{const i=_.profileComments(o,e);i&&(i.sort=t,s&&(i.sortTime=s));const{api:c}=o.profileCommentsPage,a=!c.error[e]&&!c.pending[e];return Object.assign({listing:i,source:"global",action:"view",noun:"screen"},_.defaults(o),{actionInfo:_.actionInfo(o,{success:a}),profile:_.profile(o),screen:_.screen(o),subreddit:_.subreddit(o),timer:_.timer(n,r),userSubreddit:_.userSubreddit(o),adblock:_.adblock(o)})},C=e=>(t,n)=>r=>{const s=!r.profilePrivatePage.api.error[e]&&!r.profilePrivatePage.api.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(r),{actionInfo:_.actionInfo(r,{success:s}),profile:_.profile(r),screen:_.screen(r),subreddit:_.subreddit(r),timer:_.timer(n,t),userSubreddit:_.userSubreddit(r),adblock:_.adblock(r)})},w=(e,t,n,r,s,o)=>i=>{const{api:c}=i.commentsPage,a=!c.error[e]&&!c.pending[e],d=Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(i),{actionInfo:_.actionInfo(i,{success:a}),post:_.post(i,t),profile:_.profile(i),screen:_.screen(i),subreddit:_.subreddit(i),timer:_.timer(r,s),userSubreddit:_.userSubreddit(i),adblock:_.adblock(i),postEvent:_.postEventI13nSelector(i,{postId:t}),postCollection:_.postCollectionI13nSelector(i,{postId:t}),listing:_.listing(i,void 0,{sort:o})});return n&&(d.comment=_.comment(i,n)),d},x=(e,t,n)=>r=>{const s=r.creations.api.page.fetched[e],o=r.platform.currentPage?r.platform.currentPage.queryParams.source_id:void 0;return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(r),{actionInfo:_.actionInfo(r,{success:s}),post:o?_.post(r,o):void 0,screen:_.screen(r),subreddit:_.subreddit(r),timer:_.timer(t,n),userSubreddit:_.userSubreddit(r),adblock:_.adblock(r)})},D=(e,t,n)=>{Object(h.a)(Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e),{actionInfo:_.actionInfo(e,{success:t}),screen:_.screen(e),subreddit:_.subredditById(e,Object(b.G)(e,n)),userSubreddit:_.userSubreddit(e),adblock:_.adblock(e)}))},P=(e,t,n,r)=>{Object(h.a)(Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e),{profile:_.profileById(e,Object(l.m)(e,r)),screen:_.screen(e),subreddit:_.subredditById(e,Object(b.G)(e,n)),userSubreddit:_.userSubreddit(e),adblock:_.adblock(e)}))},A=(e,t,n,r,s)=>{const o=e.creations.api.page.pending[t],i=!e.creations.api.page.error[t]&&!o&&!!n,a=Object(y.h)(e,n);Object(h.a)(Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e),{actionInfo:_.actionInfo(e,{success:i}),screen:_.screen(e),subreddit:_.subreddit(e),timer:_.timer(r,s),userSubreddit:_.userSubreddit(e),adblock:_.adblock(e)},a?Object(c.j)(e,a):{}))},R=(e,t)=>n=>Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:m.e()},_.defaults(n),{timer:_.timer(e,t),adblock:_.adblock(n)}),N=(e,t)=>n=>Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:O.f()},_.defaults(n),{timer:_.timer(e,t),adblock:_.adblock(n)}),k=(e,t)=>n=>Object.assign({source:"appeal",action:"view",noun:"page"},_.defaults(n),{timer:_.timer(e,t)}),L=(e,t)=>n=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(n),{actionInfo:_.actionInfo(n),timer:_.timer(e,t)}),U=(e,t,n)=>r=>{const{api:s}=r.listings.listingOrder,o=!s.error[e]&&!s.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(r),{actionInfo:_.actionInfo(r,{success:o}),screen:_.screen(r),timer:_.timer(t,n),userSubreddit:_.userSubreddit(r),adblock:_.adblock(r)})},M=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e)),F=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(e)),G=()=>e=>Object.assign({action:"view",source:"global",noun:"screen"},_.defaults(e),{actionInfo:_.actionInfo(e)}),B=(e,t)=>n=>Object.assign({source:"global",action:"view",noun:"screen"},_.defaults(n),{customFeed:_.customFeed(n),subreddit:_.subreddit(n),timer:_.timer(e,t),userSubreddit:_.userSubreddit(n),adblock:_.adblock(n)}),q=(e,t,n,r,s,o)=>i=>Object.assign({},I(e,n,r,s,o)(i),{subreddit:{categoryName:Object(p.g)(t)}}),V=(e,t,n,s,o)=>i=>{let c=!0;if(t.type.indexOf(r.Jb.Posts)>-1){const{api:t}=i.listings.listingOrder;c=c&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(r.Jb.Subreddits)>-1||t.type.indexOf(r.Jb.Users)>-1){const{api:t}=i.listings.postOrder;c=c&&!t.error[e]&&!t.pending[e]}const a=Object(j.c)(i),d=o&&Object(j.b)(a);return Object.assign({},g.b(i,t),{source:"global",action:"view",noun:"screen",actionInfo:_.actionInfo(i,{success:c}),timer:_.timer(n,s),search:Object.assign({},_.search(i,t),d&&{originElement:o})},d&&{correlationId:Object(f.c)(f.a.SearchResults)})}},"./src/reddit/helpers/trackers/searchResults.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"o",(function(){return j})),n.d(t,"n",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return I}));var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/helpers/correlationIdTracker.ts"),o=n("./src/reddit/selectors/experiments/searchFix.ts"),i=n("./src/reddit/selectors/telemetry.ts");const c="search",a="search_results_best",d=(e,t)=>{const n=i.subreddit(e);return{screen:i.screen(e),subreddit:n&&t&&t.restrict_sr?n:null}},u=(e,t)=>n=>{const r=t;return r.structureType="related",Object.assign({action:e,correlationId:Object(s.c)(s.a.SearchResults),noun:"related_search",source:c,search:i.search(n,r)},d(n))},l=(e,t,n,r)=>s=>Object.assign({},d(s,n),{source:c,action:"click",noun:t,actionInfo:i.actionInfo(s,r?{pageType:"search_results_best",position:0}:void 0),discoveryUnit:r?i.discoveryUnit(r):null,search:i.search(s,n),post:i.post(s,e),media:i.media(s,e)}),b=(e,t,n)=>s=>{let o=!0;if(t.type.indexOf(r.Jb.Posts)>-1){const{api:t}=s.listings.listingOrder;o=o&&!t.error[e]&&!t.pending[e]}if(t.type.indexOf(r.Jb.Subreddits)>-1||t.type.indexOf(r.Jb.Users)>-1){const{api:t}=s.listings.postOrder;o=o&&!t.error[e]&&!t.pending[e]}return Object.assign({},d(s,t),{source:c,action:"view",noun:"search_results_post",actionInfo:i.actionInfo(s,{success:o,pageType:"search_results_best",position:0}),discoveryUnit:i.discoveryUnit(n),search:i.search(s,t)})},p=(e,t)=>n=>({action:"view",actionInfo:i.actionInfo(n),metaSearch:i.metaSearch(t),noun:e,screen:i.screen(n),search:i.smartSearch(n,t),source:c}),f=(e,t)=>n=>({action:"click",actionInfo:i.actionInfo(n),noun:e,metaSearch:i.metaSearch(t),screen:i.screen(n),search:i.smartSearch(n,t),source:c}),m=(e,t,n)=>r=>({action:t,actionInfo:i.actionInfo(r),noun:e,screen:i.screen(r),search:i.search(r,n),source:a});var O;!function(e){e.TopResults="tab_top_results",e.Posts="tab_posts",e.CommunitiesAndUsers="tab_communities"}(O||(O={}));const g=(e,t)=>n=>Object.assign({},d(n,t),{source:c,action:"click",noun:e,correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:i.search(n,t)}),j=(e,t)=>n=>Object.assign({},d(n,t),{source:c,action:"click",noun:e,correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:i.search(n,t)}),y=(e,t)=>n=>({action:"click",correlationId:Object(s.c)(s.a.SearchResults),noun:e?r.Ib.ToSubreddit:r.Ib.ToGlobal,search:i.search(n,t),source:c}),_=(e,t,n,r)=>a=>{const u=Object(o.c)(a),l=r&&Object(o.b)(u);return Object.assign({},d(a,n),{source:c,action:"click",noun:"search_result_post",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(a,{relativePosition:i.getRelativePostOrder(a,t,e)}),search:Object.assign({},i.search(a,n),l&&{originElement:r}),post:i.post(a,t)})},h=(e,t)=>n=>{const r=Object(o.c)(n),a=t&&Object(o.b)(r);return Object.assign({},d(n,e),{source:c,action:"click",noun:"search_result_subreddit",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(n),search:Object.assign({},i.search(n,e),a&&{originElement:t}),subreddit:i.subreddit(n)})},E=(e,t,n,r)=>a=>{const u=Object(o.c)(a),l=r&&Object(o.b)(u);return Object.assign({},d(a,n),{source:c,action:"view",noun:"search_results_post",correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(a,{relativePosition:i.getRelativePostOrder(a,t,e),position:i.getAbsoluteOrder(a,t,e)}),search:Object.assign({},i.search(a,n),l&&{originElement:r}),post:i.post(a,t)})},I=(e,t,n)=>r=>{const a=Object(o.c)(r),u=n&&Object(o.b)(a);return Object.assign({},d(r),{source:c,action:"click",noun:"search_result_".concat(e),correlationId:Object(s.c)(s.a.SearchResults),actionInfo:i.actionInfo(r),search:Object.assign({},i.search(r,t),u&&{originElement:n}),[e]:i[e](r)})}},"./src/reddit/helpers/trackers/subredditCreation.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n("./src/reddit/selectors/telemetry.ts");const s=e=>t=>Object.assign({source:e,noun:"create_community_button",action:"click"},r.defaults(t),{actionInfo:r.actionInfo(t,{settingValue:t.user.account&&t.user.account.isMod?"existing_mod":"new_mod"})}),o=(e,t,n)=>s=>Object.assign({source:"community_form",noun:"save_community_button",action:"click"},r.defaults(s),{actionInfo:r.actionInfo(s,{settingValue:e}),subreddit:{id:n,name:t.name,publicDescription:t.publicDescription,nsfw:t.over18,accessType:t.type,topicTagContents:t.allTags}}),i=()=>e=>Object.assign({source:"community_form",noun:"cancel",action:"click"},r.defaults(e),{actionInfo:r.actionInfo(e)}),c=e=>t=>Object.assign({source:"community_form",noun:"error_message",action:"view"},r.defaults(t),{actionInfo:r.actionInfo(t,{reason:e})})},"./src/reddit/i18n/components.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),s=n.n(r);function o(e){return s.a.createElement(s.a.Fragment,null,e.children)}function i(e){return s.a.createElement(s.a.Fragment,null,e.children)}function c(e){return s.a.createElement(s.a.Fragment,null,1===e.count?e.singular:e.plural)}},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r,s=n("./node_modules/uuid/v4.js"),o=n.n(s);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(r||(r={}));const i=()=>o()()},"./src/reddit/models/Badge/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return d}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/config.ts");function o(e){return"userId"in e}function i(e){return!(!e.extra||!e.extra.membership)&&!!e.extra.membership.included}function c(e,t,n){const r=n.media[0],s=Object.keys(r);if(r["0x0"])return r["0x0"];let o={width:1/0,height:1/0,url:""};if(s.forEach(n=>{const s=r[n],[i,c]=n.split("x").map(e=>parseInt(e));(i<o.width&&i>=e||c<o.height&&c>=t)&&(o={height:c,width:i,url:s})}),!o.url&&s.length){const e=Object.keys(r)[0],t=r[e],[n,s]=e.split("x").map(e=>parseInt(e));o={height:s,width:n,url:t}}return o.url}function a(e){return e.startsWith("https")?e:"".concat(s.a.assetPath,"/").concat(e)}function d(e,t,n){const r=c(e,t,n),s=c(2*e,2*t,n);return{url:a(r),url2x:a(s)}}!function(e){e.First="p1",e.Second="p2"}(r||(r={}))},"./src/reddit/models/Badge/managementPage.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c}));var r,s,o=n("./src/reddit/models/Badge/index.ts");!function(e){e.Loyalty="loyalty",e.Achievement="achievement",e.Cosmetic="cosmetic"}(r||(r={})),function(e){e.Gallery="gallery",e.MyBadges="my-badges"}(s||(s={}));const i={[r.Loyalty]:o.a.First,[r.Achievement]:o.a.Second,[r.Cosmetic]:void 0},c=e=>e===o.a.First?r.Loyalty:e===o.a.Second?r.Achievement:r.Cosmetic},"./src/reddit/models/Comment/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r,s,o=n("./src/lib/constants/index.ts"),i=n("./src/reddit/constants/comments.ts"),c=n("./src/reddit/constants/things.ts");!function(e){e.User="user",e.Moderator="moderator"}(r||(r={})),function(e){e.None="",e.Friend="F",e.Submitter="S",e.Moderator="M",e.Admin="A",e.Alumni="special",e.Cake="cake"}(s||(s={}));const a=e=>"".concat(c.a).concat(e&&e.toLowerCase()),d=e=>({id:e,type:i.a.Comment}),u=e=>e.author===o.z;var l;!function(e){e.DeletedComment="DeletedComment",e.Comment="Comment"}(l||(l={}))},"./src/reddit/models/DiscoveryUnit/index.ts":function(e,t,n){"use strict";var r,s,o,i;n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return p})),n.d(t,"s",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"t",(function(){return h})),n.d(t,"p",(function(){return E})),n.d(t,"g",(function(){return I})),function(e){e.Community="community",e.CommunityCategory="community_category",e.FavoriteSubreddits="favorite_subreddits",e.Listing="listing",e.RecentlyVisitedSubreddits="recently_visited_subreddits",e.SubredditListing="subreddit_listing"}(r||(r={})),function(e){e.Comments="comments",e.Communities="communities",e.Explore="explore",e.Frontpage="front_page",e.Popular="popular",e.SubredditListing="subreddit_listing"}(s||(s={})),function(e){e.Large="large",e.Small="small"}(o||(o={})),function(e){e.Wide="wide",e.Description="description",e.ActionButton="action_button",e.SeeMore="see_more",e.HideItems="hide_items",e.HideUnit="hide_unit",e.ShowLess="show_less",e.PostShowSubredditHeader="post_show_subreddit_header",e.UnitShowSubredditHeader="unit_show_subreddit_header",e.PreviewMode="preview_mode"}(i||(i={}));const c="posts_in_category_rails_hero",a="posts_in_subreddit_hero",d="posts_in_category_rails_small",u="posts_in_subreddit_small",l="community_banner_posts",b="search_posts",p="search_subreddits",f="trending_on_popular",m="best_of_community",O="chaining_similar_subreddits_posts",g="posts_in_subreddit_vertical",j="posts_in_rec_home",y="top_week_posts",_="top_week_posts_large",h="trending_posts",E="top_month_posts",I="geopopular_posts"},"./src/reddit/models/Duplicates/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js");function r(e,t){return"".concat(e,"-sort[").concat(t.sort,"]-crossposts_only[").concat(t.crossposts_only,"]")}},"./src/reddit/models/Emoji/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c}));const r=24,s=64e3,o=128,i=128,c=(e,t,n,r)=>Object.assign({name:e,url:t,subredditId:n},r)},"./src/reddit/models/ExternalAccount/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Twitter="twitter"}(r||(r={}))},"./src/reddit/models/FeatureThrottling/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e[e.TimesPerSession=0]="TimesPerSession",e[e.TimesTotal=1]="TimesTotal",e[e.TimesPerPeriod=2]="TimesPerPeriod",e[e.NthSession=3]="NthSession",e[e.Combined=4]="Combined"}(r||(r={})),function(e){e.And="and",e.Or="or"}(s||(s={}))},"./src/reddit/models/Flair/index.ts":function(e,t,n){"use strict";var r,s,o,i,c,a,d,u;n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),function(e){e.Text="text",e.Emoji="emoji"}(r||(r={})),function(e){e.Image="image",e.Meta="meta",e.Nsfw="nsfw",e.Oc="oc",e.Richtext="richtext",e.Spoiler="spoiler",e.Text="text",e.Quarantined="quarantined"}(s||(s={})),function(e){e.Dark="dark",e.Light="light"}(o||(o={})),function(e){e.Text="text",e.Emoji="emoji",e.All="all"}(i||(i={})),function(e){e.UserFlair="USER_FLAIR",e.LinkFlair="LINK_FLAIR"}(c||(c={})),function(e){e.Left="left",e.Right="right"}(a||(a={})),function(e){e.Dark="DARK",e.Light="LIGHT"}(d||(d={})),function(e){e.RIGHT="RIGHT",e.LEFT="LEFT"}(u||(u={}))},"./src/reddit/models/Gold/Award.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return j}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.symbol.js");var r,s,o=n("./src/config.ts"),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};!function(e){e.Global="GLOBAL",e.Moderator="MODERATOR",e.Community="COMMUNITY"}(r||(r={})),function(e){e.Global="GLOBAL",e.Moderator="MODERATOR",e.Community="COMMUNITY",e.Appreciation="APPRECIATION"}(s||(s={}));const c={awardType:r.Global,awardSubType:s.Global,coinPrice:100,coinReward:0,description:"",daysOfDripExtension:0,icon:{url:"".concat(o.a.assetPath,"/img/gold/badges/award-silver-medium.png?v=2")},id:"gid_1",isEnabled:!0,isNew:!1,name:"Silver",daysOfPremium:0},a={awardType:r.Global,awardSubType:s.Global,coinPrice:500,coinReward:100,description:"",daysOfDripExtension:0,icon:{url:"".concat(o.a.assetPath,"/img/gold/badges/award-gold-medium.png?v=2")},id:"gid_2",isEnabled:!0,isNew:!1,name:"Gold",daysOfPremium:7},d={awardType:r.Global,awardSubType:s.Global,coinPrice:1800,coinReward:0,description:"",daysOfDripExtension:31,icon:{url:"".concat(o.a.assetPath,"/img/gold/badges/award-platinum-medium.png?v=2")},id:"gid_3",isEnabled:!0,isNew:!1,name:"Platinum",daysOfPremium:31},u=[c,a,d];u.reduce((e,t)=>(e[t.id]=t,e),{});var l,b;!function(e){e.Global="global",e.Community="community",e.Moderator="moderator"}(l||(l={})),function(e){e.Global="global",e.Community="community",e.Moderator="moderator",e.Appreciation="appreciation"}(b||(b={}));const p={500:8,1e3:4,2e3:1,5e3:1,1e4:1,4e4:1},f=e=>{const t=e.reduce((e,t)=>t.awardType!==r.Community?e:(e[t.coinPrice]=(e[t.coinPrice]||0)+1,e),{}),n=e.map(e=>({price:e.coinPrice,filled:!0,award:e}));return Object.keys(p).forEach(e=>{const r=t[e]||0,s=Math.max(p[e]-r,0);s>0&&n.push({filled:!1,price:parseInt(e),quantity:s})}),n},m=e=>{const t=e.reduce((e,t)=>t.awardType!==r.Community?e:(e[t.coinPrice]=(e[t.coinPrice]||0)+1,e),{});return Object.keys(p).reduce((e,n)=>{const r=t[n]||0;return p[n]-r>0?[...e,parseInt(n)]:e},[])};function O(e){return e.sort((e,t)=>e.awardType===r.Moderator&&t.awardType!==r.Moderator?-1:t.awardType===r.Moderator&&e.awardType!==r.Moderator?1:t.coinPrice-e.coinPrice)}function g(e){const{count:t,iconUrl:n,resizedIcons:r}=e,s=i(e,["count","iconUrl","resizedIcons"]);let o,c;for(const{url:i,width:a}of r||[])32===a&&(o={url:i}),128===a&&(c={url:i});return Object.assign({},s,{icon:{url:n},icon32:o,icon128:c,awardType:s.awardType.toUpperCase(),awardSubType:s.awardSubType.toUpperCase()})}function j(e,t){const{awardType:n,awardSubType:r,icon:s,icon32:o,icon128:c}=e,a=i(e,["awardType","awardSubType","icon","icon32","icon128"]),d=[];return o&&d.push({height:32,url:o.url,width:32}),c&&d.push({height:128,url:c.url,width:128}),Object.assign({awardType:n.toLowerCase(),awardSubType:r?r.toLowerCase():b.Global,count:t,iconUrl:s.url,resizedIcons:d},a)}},"./src/reddit/models/Gold/Coins/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n("./src/config.ts");const s={coins500:{coins:500,pennies:199,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-500.png")},coins1100:{coins:1100,pennies:399,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-1100.png"),percentBonus:10},coins1800:{coins:1800,pennies:599,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-1800.png"),percentBonus:20},coins7200:{coins:7200,pennies:1999,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-7200.png"),percentBonus:43},coins40000:{coins:4e4,pennies:9999,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-40000.png"),percentBonus:59},coinsVariable:{coins:1/0,pennies:1/0,assetPath:"".concat(r.a.assetPath,"/img/gold/coins-package-40000.png")}},o=(e,t)=>{for(const n in s){if("coins500"===n)continue;const r=s[n];if(t-r.coins<=e)return r}return s.coins40000},i=e=>{const t=s.coins40000;if(e<=t.coins)return o(0,e);const n=t.pennies/t.coins,r=s.coinsVariable;return r.coins=e,r.pennies=Math.ceil(n*e),r}},"./src/reddit/models/GqlTopLevelField.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Comment="Comment",e.Multireddit="Multireddit",e.PostInfo="PostInfo",e.Profile="Profile",e.RedditorInfo="RedditorInfo",e.Subreddit="Subreddit",e.UnavailableSubreddit="PrivateSubreddit"}(r||(r={}))},"./src/reddit/models/Live/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e.Ama="ama",e.Announcement="announcement",e.Document="document",e.Moderation="moderation",e.Snoo="snoo"}(r||(r={})),function(e){e.Ama="AMA",e.Announcement="ANNOUNCEMENT",e.Document="DOCUMENT",e.Moderation="MODERATION",e.Snoo="SNOO"}(s||(s={}))},"./src/reddit/models/Media/index.ts":function(e,t,n){"use strict";n.d(t,"t",(function(){return r})),n.d(t,"D",(function(){return i})),n.d(t,"E",(function(){return c})),n.d(t,"B",(function(){return a})),n.d(t,"C",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"w",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return j})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"q",(function(){return C})),n.d(t,"v",(function(){return w})),n.d(t,"u",(function(){return x})),n.d(t,"d",(function(){return D})),n.d(t,"g",(function(){return P})),n.d(t,"x",(function(){return A})),n.d(t,"A",(function(){return R})),n.d(t,"y",(function(){return N})),n.d(t,"z",(function(){return k}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/url/url.js"),o=n.n(s);!function(e){e.YouTube="YouTube",e.Vimeo="Vimeo",e.BandCamp="BandCamp",e.Gfycat="Gfycat",e.GfycatOld="gfycat",e.Giphy="Giphy",e.Imgur="Imgur",e.SoundCloud="SoundCloud",e.Spotify="Spotify",e.Streamable="Streamable",e.Twitch="Twitch.tv",e.Twitter="Twitter",e.IFrameEmbed="iframe embed"}(r||(r={}));const i=e=>"text"===e.type,c=e=>"video"===e.type,a=e=>"image"===e.type,d=e=>"rtjson"===e.type,u={TEXT:"text",VIDEO:"video",IMAGE:"image",EMBED:"embed",GIFVIDEO:"gifvideo",RTJSON:"rtjson"},l=new Set([u.TEXT,u.IMAGE,u.RTJSON]),b=512,p=250,f=60,m=0,O=608,g=.5625,j=869,y=273,_=486,h=700,E=822,I=363,v=645,S=new Set([r.Gfycat,r.GfycatOld,r.Giphy,r.SoundCloud,r.Spotify,r.Twitter,r.Vimeo,r.YouTube]),T=new Set([r.BandCamp,r.Gfycat,r.GfycatOld,r.Giphy,r.Imgur,r.SoundCloud,r.Spotify,r.Streamable,r.Twitch,r.Twitter,r.YouTube,r.Vimeo]),C=new Set([r.SoundCloud,r.Spotify,r.Streamable,r.Twitter,r.Vimeo,r.YouTube]),w=new Set([r.Gfycat,r.GfycatOld,r.Imgur]),x=["gif","jpeg","jpg","png","tiff"],D=new Set([u.VIDEO,u.GIFVIDEO,u.EMBED]);var P,A;!function(e){e.Mute="mute",e.Pause="pause",e.Play="play"}(P||(P={})),function(e){e.Pause="pauseVideo",e.Play="playVideo",e.Mute="mute"}(A||(A={}));const R=e=>e.source?e.source.url:e.media&&e.media.type!==u.VIDEO&&e.media.content?e.media.content:"",N=e=>{const t=o.a.parse(e);if(t&&t.pathname)return t.pathname.split("/")[1]},k=e=>{if(!c(e))return;const t=e;let n;if(t.hlsUrl)n=t.hlsUrl;else{if(!t.dashUrl)return;n=t.dashUrl}return N(n)}},"./src/reddit/models/ModQueue/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var r=n("./src/reddit/helpers/isPost.ts"),s=n("./src/reddit/models/Flair/index.ts");const o=1;var i;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(i||(i={}));const c={},a={ignore_reports:i.UnignoreReports,lock:i.Unlock,mark_nsfw:i.UnmarkNSFW,remove:i.Approve,spam:i.Approve,spoiler:i.Unspoiler,unignore_reports:i.IgnoreReports,unlock:i.Lock,unmark_nsfw:i.MarkNSFW,unspoiler:i.Spoiler},d=(e,t,n,o,a)=>{switch(t){case"approve":{const e={};return n.forEach(t=>{e[t]={approvedBy:o,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}}),e}case"flair":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n].flair.filter(e=>e.type===s.f.Nsfw||e.type===s.f.Spoiler);a&&a.flair&&r.push(a.flair),t[n]={flair:r}}}),t}case"ignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!0}}),e}case"lock":{const e={};return n.forEach(t=>{e[t]={isLocked:!0}}),e}case"mark_nsfw":{const t={},o={text:"nsfw",type:s.f.Nsfw};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],s=r.isNSFW?r.flair:r.flair?[...r.flair,o]:{[n]:o};t[n]={isNSFW:!0,flair:s}}}),t}case"remove":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:o}}),e}case"spam":{const e={};return n.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:o}}),e}case"spoiler":{const t={},o={text:"spoiler",type:s.f.Spoiler};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],s=r.isSpoiler?r.flair:r.flair?[...r.flair,o]:{[n]:o};t[n]={isSpoiler:!0,flair:s}}}),t}case"unignore_reports":{const e={};return n.forEach(t=>{e[t]={ignoreReports:!1}}),e}case"unlock":{const e={};return n.forEach(t=>{e[t]={isLocked:!1}}),e}case"unmark_nsfw":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],o=r.flair?r.flair.filter(e=>e.type!==s.f.Nsfw):null;t[n]={isNSFW:!1,flair:o}}}),t}case"unspoiler":{const t={};return n.forEach(n=>{if(Object(r.a)(n)){const r=e[n],o=r.flair?r.flair.filter(e=>e.type!==s.f.Spoiler):null;t[n]={isSpoiler:!1,flair:o}}}),t}case i.RemovalReason:{const e={};return n.forEach(t=>{e[t]={modNote:a&&a.modNote,modReasonBy:o,modRemovalReason:a&&a.removalReason}}),e}default:return c}}},"./src/reddit/models/ModeratingSubreddits/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/snakeCase.js"),o=n.n(s);!function(e){e.access="access",e.config="config",e.flair="flair",e.mail="mail",e.posts="posts",e.wiki="wiki",e.chatConfig="chatConfig",e.chatOperator="chatOperator",e.all="all"}(r||(r={}));const i=Object.freeze({all:!0,access:!0,chatConfig:!0,chatOperator:!0,config:!0,flair:!0,mail:!0,posts:!0,wiki:!0}),c=i,a=e=>{return Object.keys(e).map(t=>(e[t]?"+":"-")+o()(t)).join(",")}},"./src/reddit/models/MonthsToMinutes/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return d}));const r=9,s=10,o=2;var i,c,a,d;!function(e){e.Home="home_active",e.SubscribeFeed="subscribe_feed",e.SubscribeIdCard="subscribe_id",e.SubscribeReminder="subscribe_reminder",e.Vote="vote",e.VoteReminder="vote_reminder",e.VoteSuccess="vote_success"}(i||(i={})),function(e){e[e.Welcome=0]="Welcome",e[e.Subscribe=1]="Subscribe",e[e.Vote=2]="Vote",e[e.Signup=3]="Signup"}(c||(c={})),function(e){e.Subscribe="Subscribe",e.Vote="Vote"}(a||(a={})),function(e){e.Initial="initial",e.BannerVisible="bannerVisible",e.HomeVisited="homeVisited"}(d||(d={}))},"./src/reddit/models/Multireddit/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l}));const r=50,s=500,o=2;var i,c;function a(e){return"string"==typeof e.url}!function(e){e.Hidden="hidden",e.Private="private",e.Public="public"}(i||(i={})),function(e){e.TooShort="tooshort",e.SameName="samename",e.Generic="generic"}(c||(c={}));const d=(e,t)=>"/user/".concat(e,"/m/").concat(t,"/").toLowerCase(),u=e=>/^\/user\/([^/]+)\//.exec(e)[1];function l(e){return!!e.subredditIds||!!e.profileIds}},"./src/reddit/models/Option/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=e=>!e.id,s=e=>!!e.id,o=(e,t)=>r(e)&&r(t)?e.displayText.toLowerCase().trim()===t.displayText.toLowerCase().trim():!(!s(e)||!s(t))&&e.id===t.id},"./src/reddit/models/Poll/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));var r,s,o=n("./node_modules/bignumber.js/bignumber.js");!function(e){e.GovGeneric="governance:generic",e.ReplaceTopMod="governance:replace-top-mod",e.Spinoff="governance:spin-off"}(r||(r={})),function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower"}(s||(s={}));const i={[r.ReplaceTopMod]:()=>[{text:"Yes"},{text:"No"}],[r.Spinoff]:e=>[{text:e?"Yes, I'd like to join r/".concat(e):"Yes, I'd like to join the new community"},{text:"No"}]};function c(e,t){const n=!!e.options.filter(e=>t.options[e.id].userSelected).length,r=new Date(e.endsAt).getTime()<Date.now();return n||r}function a(e,t){let n=e.options[0],r=new o.BigNumber(t.options[n.id].votes);for(const s of e.options){const e=new o.BigNumber(t.options[s.id].votes);e.isGreaterThan(r)&&(n=s,r=e)}return n}function d(e){switch(e.type){case r.GovGeneric:case r.ReplaceTopMod:case r.Spinoff:return!0;default:return!1}}},"./src/reddit/models/Post/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return _}));var r,s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/constants/things.ts"),i=n("./src/reddit/models/PublicAccessNetwork/index.ts"),c=n("./src/lib/constants/index.ts");!function(e){e.Chat="CHAT",e.Comment="COMMENT"}(r||(r={}));const a=e=>"".concat(o.b).concat(e&&e.toLowerCase()),d=e=>e.startsWith(o.b)?e.substr(o.b.length):e,u=e=>e===c.z;var l,b,p,f,m,O;!function(e){e.AdPost="AdPost",e.DeletedProfilePost="DeletedProfilePost",e.DeletedSubredditPost="DeletedSubredditPost",e.ProfilePost="ProfilePost",e.SubredditPost="SubredditPost"}(l||(l={})),function(e){e.MOD_APPROVED="MOD_APPROVED",e.MOD_REMOVED="MOD_REMOVED",e.MOD_SPAMMED="MOD_SPAMMED",e.ADMIN_REMOVED="ADMIN_REMOVED",e.ADMIN_APPROVED="ADMIN_APPROVED",e.ADMIN_SPAMMED="ADMIN_SPAMMED"}(b||(b={})),function(e){e.ImageAsset="ImageAsset",e.VideoAsset="VideoAsset"}(p||(p={})),function(e){e.Post="POST",e.Comment="COMMENT"}(f||(f={})),function(e){e.Embed="EMBED",e.Image="IMAGE",e.Video="VIDEO",e.Gifvideo="GIFVIDEO"}(m||(m={})),function(e){e.Richtext="RICHTEXT",e.Markdown="MARKDOWN"}(O||(O={}));const g=e=>e.belongsTo.type===s.a.PROFILE,j=e=>e.belongsTo.type===s.a.SUBREDDIT,y=e=>!!e.source&&Object(i.a)(e.source.url),_=e=>e.isStickied},"./src/reddit/models/PostCollection/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.TIMELINE="TIMELINE",e.GALLERY="GALLERY"}(r||(r={}))},"./src/reddit/models/PostCreationForm/index.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"r",(function(){return c})),n.d(t,"v",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"o",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"i",(function(){return T}));var r=n("./src/reddit/models/Upload/index.ts");const s=Object(r.e)(r.b.POST_CREATION_MEDIA),o=Object(r.e)(r.b.POST_CREATION_VIDEO_POSTER),i={isProfile:!1,name:""};var c;!function(e){e[e.Post=0]="Post",e[e.Draft=1]="Draft",e[e.ScheduledPost=2]="ScheduledPost"}(c||(c={}));const a=["title","body","link","flair"],d=e=>a.includes(e);var u,l,b,p,f,m,O;!function(e){e.MARKDOWN="markdown",e.RICH_TEXT="richtext"}(u||(u={})),function(e){e.POST_CREATION="POST_CREATION",e.POST_EDITING="POST_EDITING"}(l||(l={})),function(e){e.CLICK="click",e.TYPE="type"}(b||(b={})),function(e){e.TITLE="title",e.BODY="body",e.URL="url"}(p||(p={})),function(e){e.CROSSPOST="crosspost",e.LINK="link",e.RICH_TEXT="richText",e.MARKDOWN="markdown",e.MEDIA="media",e.VIDEO_GIF="videogif",e.SELF="self"}(f||(f={})),function(e){e.ImageWillBeRemoved="SrChangePrompt_ImageWillBeRemoved",e.VideoWillBeRemovedMediaNotAllowed="SrChangePrompt_VideoWillBeRemovedMediaNotAllowed",e.VideoWillBeRemovedTooLongForGif="SrChangePrompt_VideoWillBeRemovedTooLongForGif"}(m||(m={})),function(e){e.POST_OVERFLOW_MENU="postOverflowMenu",e.COLLECTION_INFO_POST="colletionInfoPost"}(O||(O={}));const g="POST_DRAFTS_MODAL_ID",j="COLLECTIONS_LIST_MODAL_ID",y="CREATE_COLLECTION_MODAL_ID",_="DISCARD_POST_ON_CREATE_POST_MODAL_ID",h="EVENT_SCHEDULE_PICKER_MODAL_ID",E="POST_SCHEDULE_PICKER_MODAL_ID",I=(e,t,n)=>"".concat(h,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]-pos[").concat(n,"]"),v=(e,t)=>"".concat(j,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]"),S=(e,t)=>"".concat(y,"-[postId: ").concat(e,"]-isOverlay[").concat(t,"]");var T;!function(e){e.Now="now",e.AtEventTime="atEventTime"}(T||(T={}))},"./src/reddit/models/PostDraft/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var r,s,o=n("./src/lib/constants/index.ts");!function(e){e[e.Image=0]="Image",e[e.Link=1]="Link",e[e.Markdown=2]="Markdown",e[e.RichText=3]="RichText",e[e.Video=4]="Video"}(r||(r={})),function(e){e[e.replyToPost=0]="replyToPost",e[e.replyToComment=1]="replyToComment",e[e.edit=2]="edit"}(s||(s={}));const i={[r.Image]:o.Fb.MEDIA,[r.Link]:o.Fb.LINK_ONLY,[r.Markdown]:o.Fb.POST,[r.RichText]:o.Fb.POST,[r.Video]:o.Fb.MEDIA}},"./src/reddit/models/PostRequirements/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),function(e){e.None="NONE",e.Whitelist="WHITELIST",e.Blacklist="BLACKLIST"}(r||(r={})),function(e){e.None="NONE",e.Required="REQUIRED",e.NotAllowed="NOT_ALLOWED"}(s||(s={}))},"./src/reddit/models/Profile/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r;!function(e){e.Downvoted="downvoted",e.Hidden="hidden",e.Saved="saved",e.Upvoted="upvoted"}(r||(r={}))},"./src/reddit/models/Profile/mock.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./src/config.ts"),s=n("./src/reddit/models/Subreddit/index.ts");const o={t5_100:{id:"t5_100",isNSFW:!1,displayText:"u/cfb",name:"cfb",title:"CFB Title",type:s.b.User,url:"/user/cfb",subscribers:1,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}},t5_200:{id:"t5_200",isNSFW:!1,displayText:"u/test",name:"test",title:"Test User Title",type:s.b.User,url:"/user/test",subscribers:10,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}},t5_300:{id:"t5_200",isNSFW:!1,displayText:"u/shitty_watercolour",name:"shitty_watercolour",title:"Shitty_Watercolour Title",type:s.b.User,url:"/user/shitty_watercolour",subscribers:20,icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120}}}},"./src/reddit/models/PublicAccessNetwork/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r,s=n("./src/reddit/actions/publicAccessNetwork/constants.ts");!function(e){e.NOT_STARTED="NOT_STARTED",e.PUBLISHED="PUBLISHED",e.IS_LIVE="IS_LIVE",e.DISCONNECTED="DISCONNECTED",e.KILLED="KILLED",e.PURGED="PURGED",e.ENDED="ENDED"}(r||(r={}));const o=e=>!!e&&e.toLowerCase().startsWith(s.Q)&&e.toLowerCase().endsWith(s.P)},"./src/reddit/models/RichTextJson/addEmotesAsImagesParam.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{emotes_as_images:!0})},"./src/reddit/models/RichTextJson/addRTJParam.ts":function(e,t,n){"use strict";var r=n("./src/lib/addQueryParams/index.ts");t.a=e=>Object(r.a)(e,{rtj:"only"})},"./src/reddit/models/RichTextJson/index.ts":function(e,t,n){"use strict";var r;n.d(t,"j",(function(){return r})),n.d(t,"A",(function(){return s})),n.d(t,"w",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"o",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"v",(function(){return d})),n.d(t,"y",(function(){return u})),n.d(t,"B",(function(){return l})),n.d(t,"C",(function(){return b})),n.d(t,"x",(function(){return p})),n.d(t,"u",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"p",(function(){return _})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"z",(function(){return v})),n.d(t,"h",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"s",(function(){return w})),n.d(t,"a",(function(){return x})),n.d(t,"r",(function(){return D})),n.d(t,"D",(function(){return P})),n.d(t,"t",(function(){return A})),n.d(t,"i",(function(){return R})),n.d(t,"F",(function(){return N})),n.d(t,"E",(function(){return k})),function(e){e[e.bold=1]="bold",e[e.italic=2]="italic",e[e.underline=4]="underline",e[e.strikethrough=8]="strikethrough",e[e.subscript=16]="subscript",e[e.superscript=32]="superscript",e[e.monospace=64]="monospace"}(r||(r={}));const s="text",o="raw",i="br",c="link",a="c/",d="p/",u="r/",l="u/",b="@",p="spoilertext",f="par",m="h",O="hr",g="blockquote",j="code",y="li",_="list",h="L",E="R",I="C",v="table",S="embed",T="img";var C;!function(e){e.Valid="valid",e.Unprocessed="unprocessed",e.Failed="failed",e.Invalid="invalid"}(C||(C={}));const w="Image",x="gif",D="AnimatedImage",P="video",A="RedditVideo",R={document:[]},N=e=>!e||!e.document||(e=>0===e.length||1===e.length&&(e=>"par"===e.e&&(!e.c||0===e.c.length))(e[0]))(e.document),k=(e,t)=>{const n=e&&e[t];if(n&&(!n.status||n.status===C.Valid))return n}},"./src/reddit/models/RichTextJson/nodeMakers.ts":function(e,t,n){"use strict";n.d(t,"s",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return a})),n.d(t,"t",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"q",(function(){return O})),n.d(t,"p",(function(){return g})),n.d(t,"r",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"u",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"a",(function(){return v}));var r=n("./src/reddit/models/RichTextJson/index.ts");const s=(e,t)=>Object.assign({e:r.A,t:e},t?{f:t}:null),o=e=>({e:r.w,t:e}),i=(e,t,n)=>Object.assign({e:r.o,t:e,u:t},n?{f:n}:null),c=e=>({e:r.x,c:[s(e,null)]}),a=(e,t)=>({e:r.y,t:e,l:t}),d=(e,t)=>({e:r.B,t:e,l:t}),u=e=>({e:r.u,c:e}),l=(e,t)=>({e:r.k,l:e,c:t}),b=e=>({e:r.b,c:e}),p=e=>({e:"code",c:e}),f=e=>({e:r.q,c:e}),m=(e,t)=>({e:r.p,c:e,o:t}),O=(e,t)=>Object.assign({c:e},t?{a:t}:{}),g=e=>({c:e}),j=(e,t)=>({e:r.z,h:e,c:t}),y=(e,t)=>({e:r.m,id:e,c:t}),_=(e,t)=>({e:r.a,id:e,c:t}),h=(e,t,n,s)=>Object.assign({e:r.D,id:e,c:t,gifify:s},n?{p:y(n)}:{}),E=(e,t)=>"image/gif"===t?{e:r.a,id:e}:{e:r.m,id:e},I=()=>({e:r.n}),v={e:r.u,c:[{e:r.A,t:""}]}},"./src/reddit/models/Rule/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u}));const r={all:"all",post:"post",comment:"comment"},s={all:"all",link:"post",comment:"comment"},o={LINK_AND_COMMENT:"all",LINK:"post",COMMENT:"comment"},i=15,c=100,a=100,d=500,u=e=>({rules:e.map(e=>({kind:s[e.kind],description:e.description,descriptionHtml:e.description_html,shortName:e.short_name,violationReason:e.violation_reason,createdUtc:e.created_utc,priority:e.priority}))})},"./src/reddit/models/RulesSequence/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this.sequence=[]}getSequence(){return this.sequence}update(e,t){const n=this.sequence.slice(0,t);n.push(e),this.sequence=n}cut(e){const t=this.sequence.slice(0,e+1);this.sequence=t}}},"./src/reddit/models/ScheduledPost/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b}));var r,s,o,i=n("./src/reddit/models/GqlTopLevelField.ts"),c=n("./src/reddit/models/User/index.ts");!function(e){e.LINK="LINK",e.SELF="SELF"}(r||(r={})),function(e){e.RTJSON="RTJSON",e.TEXT="TEXT"}(s||(s={})),function(e){e.CREATED="CREATED",e.PROCESSING="PROCESSING",e.FAILED="FAILED",e.SUCCESS="SUCCESS"}(o||(o={}));const a=e=>e.__typename===c.d.AvailableRedditor,d=e=>e.__typename===i.a.Subreddit;var u,l;!function(e){e[e.MONDAY=0]="MONDAY",e[e.TUESDAY=1]="TUESDAY",e[e.WEDNESDAY=2]="WEDNESDAY",e[e.THURSDAY=3]="THURSDAY",e[e.FRIDAY=4]="FRIDAY",e[e.SATURDAY=5]="SATURDAY",e[e.SUNDAY=6]="SUNDAY"}(u||(u={})),function(e){e.Hourly="hourly",e.Daily="daily",e.Weekly="weekly",e.Monthly="monthly",e.Annually="annually"}(l||(l={}));const b="custom"},"./src/reddit/models/SearchDiscoveryUnit/index.ts":function(e,t,n){"use strict";var r,s,o;n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),function(e){e.Default="DEFAULT",e.Trending="TRENDING"}(r||(r={})),function(e){e.Communities="COMMUNITIES",e.Posts="POSTS",e.Queries="QUERIES"}(s||(s={})),function(e){e.Carousel="CAROUSEL",e.Hero="HERO",e.Row="ROW",e.Widget="WIDGET",e.PromotedTrendHero="PROMOTED_TREND_HERO"}(o||(o={}))},"./src/reddit/models/Subreddit/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));var r,s,o=n("./src/reddit/models/GqlTopLevelField.ts");!function(e){e.Archived="archived",e.EmployeesOnly="employees_only",e.GoldOnly="gold_only",e.GoldRestricted="gold_restricted",e.Private="private",e.Public="public",e.Restricted="restricted",e.User="user"}(r||(r={})),function(e){e.Unknown="UNKNOWN",e.Private="PRIVATE",e.GoldOnly="GOLD_ONLY",e.Banned="BANNED",e.Quarantined="QUARANTINED"}(s||(s={}));const i=e=>"__typename"in e&&e.__typename===o.a.UnavailableSubreddit,c=e=>"__typename"in e&&e.__typename===o.a.UnavailableSubreddit,a=e=>e.type===r.User;var d;function u(e){return!!e&&(e.originalContentTagEnabled||!!e.contentCategory)}!function(e){e.Image="IMAGE",e.Link="LINK",e.Spoiler="SPOILER",e.Text="TEXT",e.Video="VIDEO"}(d||(d={}))},"./src/reddit/models/Subreddit/mock.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./src/config.ts"),s=n("./src/reddit/models/Subreddit/index.ts"),o=n("./src/reddit/models/WhitelistStatus/index.ts");const i={t5_1:{id:"t5_1",displayText:"r/cfb",name:"cfb",title:"CFB Title",type:s.b.Public,url:"/r/cfb",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:14343103,wls:o.a.ALL_ADS,isNSFW:!1},t5_2:{id:"t5_2",displayText:"r/test",name:"test",title:"Test Title",type:s.b.Private,url:"/r/test",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:1,wls:void 0,isNSFW:!1},t5_3:{id:"t5_2",displayText:"r/test",name:"test",title:"Gold Title",type:s.b.GoldOnly,url:"/r/test",icon:{url:"".concat(r.a.assetPath,"/img/placeholder_gradient_light-280.png"),width:120,height:120},subscribers:1,wls:void 0,isNSFW:!1}}},"./src/reddit/models/SubredditAutocomplete/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r,s=n("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),o=n("./src/reddit/models/User/index.ts");!function(e){e[e.OWN_PROFILE=0]="OWN_PROFILE",e[e.SUBSCRIBED_TO_SUBREDDIT=1]="SUBSCRIBED_TO_SUBREDDIT",e[e.OTHER_SUBREDDIT=2]="OTHER_SUBREDDIT",e[e.MODERATED_SUBREDDIT=3]="MODERATED_SUBREDDIT"}(r||(r={}));const i=(e,t)=>c(e,r.SUBSCRIBED_TO_SUBREDDIT,t),c=(e,t,n)=>{const{color:r,url:o}=Object(s.a)({shouldHideNsfwIcon:n,subredditOrProfile:e});return{iconUrl:o,id:e.id,isNsfw:e.isNSFW,name:e.name,primaryColor:r,subscribers:e.subscribers,type:t}},a=e=>({iconUrl:e.accountIcon,id:e.id,name:Object(o.f)(e),type:r.OWN_PROFILE})},"./src/reddit/models/SubredditChannel/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a}));var r,s,o=n("./src/chat/models/Channel/utils/removeSendbirdPrefix.ts");!function(e){e.Public="public",e.Private="private"}(r||(r={})),function(e){e.Joined="joined",e.Invited="invited",e.Unsorted="none"}(s||(s={}));const i={channelId:"",channelSendbirdUrl:"",subredditId:"",name:"",description:"",membersCount:0,type:r.Public,channelState:s.Unsorted,minimumAcctAge:0,newMemberAge:0,isModQueue:!1},c=e=>{const t={};return e.length&&e.forEach(e=>{const n=(e=>({channelId:Object(o.a)(e.url),channelSendbirdUrl:e.url,channelState:e.member_state,subredditId:e.subreddit.id,isModQueue:e.is_modqueue,name:e.name,type:e.type,description:e.description,membersCount:e.member_count,minimumAcctAge:e.automute_account_age_threshold||0,newMemberAge:e.automute_on_join_duration||0}))(e);t[n.channelId]=n}),t},a=e=>({channelId:Object(o.a)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:s.Joined,subredditId:e.subreddit_id,isModQueue:!1,name:e.room,type:e.roomType,description:e.description,membersCount:1,minimumAcctAge:e.automute_account_age_threshold,newMemberAge:e.automute_on_join_duration})},"./src/reddit/models/SubredditModeration/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i}));const r=999;var s;!function(e){e.Editable="editable",e.Invited="invited"}(s||(s={}));const o={searchTerm:null,userId:null,username:null},i=(e,t,n)=>"".concat(e,"-").concat(((e,t)=>t||e||"1")(n,t))},"./src/reddit/models/SubredditRestrictions/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u}));var r,s,o,i,c=n("./src/reddit/i18n/utils.ts");!function(e){e.Create="create",e.Draft="draft"}(r||(r={})),function(e){e.Comment="comment_composer",e.IdCard="id_card",e.PostSubmission="post_submission"}(s||(s={})),function(e){e.PostAndComment="post and comment",e.Post="post",e.Comment="comment",e.View="view"}(o||(o={})),function(e){e.Post="restrictPosting",e.Comment="restrictCommenting"}(i||(i={}));const a={[o.Post]:Object(c.c)("post"),[o.Comment]:Object(c.c)("comment"),[o.PostAndComment]:Object(c.c)("post and comment")},d={[r.Create]:Object(c.c)("create"),[r.Draft]:Object(c.c)("draft")},u=e=>Object(c.c)("Anyone can view this community, but only approved users can ".concat(Object(c.b)("restrictionType",a[e]||a[o.Post])))},"./src/reddit/models/Tags/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c}));const r=25,s=64;var o;!function(e){e.EVENT="EVENT",e.COLLECTION="COLLECTION",e.CLASSIFICATION="CLASSIFICATION",e.POST_CLASSIFICATION="POST_CLASSIFICATION",e.SUBREDDIT_CLASSIFICATION="SUBREDDIT_CLASSIFICATION",e.COMMENT_CLASSIFICATION="COMMENT_CLASSIFICATION"}(o||(o={}));const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.id,displayText:e.text,selected:t}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i(e.tag,t)}},"./src/reddit/models/Toast/index.ts":function(e,t,n){"use strict";var r,s,o;n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),function(e){e.AuthError="auth-error"}(r||(r={})),function(e){e[e.SuccessCommunity=0]="SuccessCommunity",e[e.SuccessCommunityGreen=1]="SuccessCommunityGreen",e[e.SuccessMod=2]="SuccessMod",e[e.Error=3]="Error",e[e.Undo=4]="Undo",e[e.EuCookiePolicy=5]="EuCookiePolicy",e[e.UappBanner=6]="UappBanner",e[e.AuthError=7]="AuthError",e[e.Custom=8]="Custom"}(s||(s={})),function(e){e[e.subscribeMilestone=0]="subscribeMilestone",e[e.subscribeCap=1]="subscribeCap",e[e.voteMilestone=2]="voteMilestone",e[e.lowActivityCallToAction=3]="lowActivityCallToAction"}(o||(o={}))},"./src/reddit/models/Upload/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./src/reddit/helpers/getS3KeyFromUrl/index.ts");const s={POST_CREATION_MEDIA:"POST_CREATION_MEDIA",POST_CREATION_VIDEO_POSTER:"POST_CREATION_VIDEO_POSTER",RTE_MEDIA:"RTE_MEDIA"},o=(e,t)=>t?"".concat(e).concat("/").concat(t):e,i=e=>Object(r.a)(e).split("/").slice(-1)[0],c={PENDING:"PENDING",UPLOADING:"UPLOADING",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELED:"CANCELED"},a=e=>{let{status:t}=e;return t===c.PENDING||t===c.UPLOADING}},"./src/reddit/models/User/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),function(e){e.CommentForm="commentForm"}(r||(r={})),function(e){e.MarkdownModeNotification="markdownModeNotification"}(s||(s={}));const o={commentForm:{markdownModeNotification:!1}};var i;!function(e){e.Favorites="favorites",e.Multis="multis",e.Moderating="moderating",e.Subscriptions="subscriptions",e.Profiles="profiles"}(i||(i={}));const c={favorites:!1,multis:!1,moderating:!1,subscriptions:!1,profiles:!1},a=e=>{const t=e.username||e.displayText;if(!t)throw new Error("Invalid username!");return t},d=e=>{const t=1e3*e.created;if(t)return new Date(t).getTime()};var u,l;!function(e){e.AvailableRedditor="Redditor",e.DeletedRedditor="DeletedRedditor",e.UnavailableRedditor="UnavailableRedditor"}(u||(u={})),function(e){e.BLANK="BLANK",e.CONFIDENCE="CONFIDENCE",e.CONTROVERSIAL="CONTROVERSIAL",e.LIVE="LIVE",e.NEW="NEW",e.OLD="OLD",e.QA="QA",e.RANDOM="RANDOM",e.TOP="TOP"}(l||(l={}))},"./src/reddit/models/Vote/index.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return c})),function(e){e[e.downvoted=-1]="downvoted",e[e.notVoted=0]="notVoted",e[e.upvoted=1]="upvoted"}(r||(r={}));const s=(e,t)=>e.voteState===t?r.notVoted:t,o=e=>{switch(e){case!0:return r.upvoted;case!1:return r.downvoted;default:return r.notVoted}},i=(e,t)=>{const n=e.voteState===t,r=n?0:t,s=n?e.score-t:e.score-e.voteState+t;return Object.assign({},e,{voteState:r,score:s})},c=e=>"UP"===e?r.upvoted:"DOWN"===e?r.downvoted:r.notVoted},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(r||(r={}))},"./src/reddit/models/WhitelistStatus/index.ts":function(e,t,n){"use strict";var r,s;n.d(t,"a",(function(){return r})),function(e){e[e.NO_ADS=0]="NO_ADS",e[e.HOUSE_ONLY=1]="HOUSE_ONLY",e[e.PROMO_ADULT_NSFW=3]="PROMO_ADULT_NSFW",e[e.PROMO_ALL=5]="PROMO_ALL",e[e.ALL_ADS=6]="ALL_ADS"}(r||(r={})),function(e){e.NO_ADS="NO_ADS",e.HOUSE_ONLY="HOUSE_ONLY",e.PROMO_SPECIFIED="PROMO_SPECIFIED",e.PROMO_ADULT_NSFW="PROMO_ADULT_NSFW",e.PROMO_ADULT="PROMO_ADULT",e.PROMO_ALL="PROMO_ALL",e.ALL_ADS="ALL_ADS"}(s||(s={}))},"./src/reddit/models/Widgets/index.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"m",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"u",(function(){return m})),n.d(t,"p",(function(){return O})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"t",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"n",(function(){return F})),n.d(t,"r",(function(){return G})),n.d(t,"q",(function(){return B})),n.d(t,"s",(function(){return q}));var r=n("./src/reddit/models/Subreddit/index.ts");const s=1,o=()=>({backgroundColor:null,headerColor:null}),i=()=>({id:null,kind:"textarea",shortName:"",text:"",textHtml:void 0,styles:o()}),c=e=>{return{id:e.id,kind:e.kind,text:e.text,shortName:e.shortName,styles:e.styles}},a=()=>({currentlyViewingCount:0,currentlyViewingText:"",description:"",id:null,kind:"id-card",shortName:"Community details",subscribersCount:0,subscribersText:"",styles:o()});var d;!function(e){e.Text="text",e.Image="image"}(d||(d={}));const u=32,l=288,b=e=>{return{id:e.id,kind:e.kind,shortName:e.shortName,description:e.description,buttons:e.buttons,styles:e.styles}},p=()=>({id:null,kind:"button",shortName:"",description:null,descriptionHtml:null,buttons:[],styles:o()}),f="#000000",m=()=>({kind:d.Text,text:"",url:"",color:f,hoverState:void 0}),O=e=>e.kind===d.Image?e.linkUrl:e.url,g={FULL:"full",COMPACT:"compact"},j=e=>{return{id:e.id,display:e.display,kind:e.kind,subreddit:e.subreddit,shortName:"Subreddit Rules",styles:e.styles}},y=()=>({id:null,kind:"subreddit-rules",display:"full",data:[],subreddit:"",shortName:"Subreddit Rules",styles:o()});var _;!function(e){e.Cloud="cloud",e.List="list"}(_||(_={}));const h=()=>({id:null,kind:"post-flair",display:_.List,order:[],shortName:"",styles:o(),templates:{}}),E=e=>{return{id:e.id,display:e.display,kind:e.kind,order:e.order,shortName:e.shortName,styles:e.styles}},I=(e,t)=>{const n={id:e.id,displayText:e.displayText,name:e.name,subscribers:e.subscribers,iconUrl:e.icon&&e.icon.url,isSubscribed:!1,type:"subreddit",primaryColor:e.primaryColor,isNSFW:e.isNSFW};return t&&t.publicDescription&&(n.description=t.publicDescription),t&&t.bannerBackgroundImage&&(n.bannerBackgroundImage=t.bannerBackgroundImage),t&&t.bannerBackgroundColor&&(n.bannerBackgroundColor=t.bannerBackgroundColor),n},v=e=>({id:e.id,name:e.name,subscribers:e.subscribers,iconUrl:e&&e.icon.url,type:"profile",isNSFW:e.isNSFW}),S=e=>Object(r.d)(e)?v(e):I(e),T=e=>({iconUrl:e.iconUrl,id:e.id,name:e.name,subscribers:e.subscribers,primaryColor:e.primaryColor,type:"subreddit",isNSFW:e.isNsfw||!1}),C=e=>{const t=e.data.map(e=>e.name),n=Object.assign({},e);return n.data=t,n},w=()=>({id:null,kind:"community-list",shortName:"",data:[],description:"",styles:o()}),x=()=>({id:null,kind:"calendar",shortName:"",configuration:{numEvents:10,showDate:!0,showTime:!0,showTitle:!0,showLocation:!0,showDescription:!0},configuredAtUTC:null,data:[],googleCalendarId:"",moderator:null,requiresSync:!0,synchronizedAtUTC:null,styles:o()}),D=e=>{return{id:e.id,kind:e.kind,shortName:e.shortName,googleCalendarId:e.googleCalendarId,moderator:e.moderator,requiresSync:e.requiresSync,configuredAtUTC:e.configuredAtUTC,configuration:Object.assign({},e.configuration,{numEvents:e.configuration.numEvents||10}),data:e.data,styles:e.styles}},P=e=>(e.data.forEach((function(e){void 0===e.linkUrl&&(e.linkUrl="")})),e),A=()=>({data:[],id:null,kind:"image",shortName:""}),R=()=>({id:null,kind:"custom",shortName:"",text:"",css:"",height:null,imageData:[]}),N=e=>({id:e.id,kind:e.kind,shortName:e.shortName,text:e.text,css:e.css,height:e.height,imageData:e.imageData}),k=e=>({id:e.id,kind:e.kind,styles:e.styles}),L=()=>({id:null,kind:"menu",data:[],showWiki:!1});function U(e){return"widgetId"in e}function M(e){switch(e.kind){case"subreddit-rules":return j(e);case"community-list":return C(e);case"image":return P(e);case"calendar":return D(e);case"textarea":return c(e);case"button":return b(e);case"custom":return N(e);case"moderators":return k(e);case"post-flair":return E(e);default:return e}}function F(e){switch(e){case"textarea":return i();case"button":return p();case"subreddit-rules":return y();case"image":return A();case"community-list":return w();case"calendar":return x();case"menu":return L();case"custom":return R();case"id-card":return a();case"post-flair":return h();default:throw new Error("Unknown widget type encountered")}}function G(e){return"structuredStyles.widgets.".concat(e,".label")}function B(e){return"structuredStyles.widgets.".concat(e,".description")}function q(e){switch(e.kind){case"textarea":case"button":case"image":case"subreddit-rules":case"community-list":case"calendar":case"custom":case"id-card":case"post-flair":return e.shortName;default:return e.kind}}var V;!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(V||(V={}))},"./src/reddit/reducers/comments/visitHighlightingFilter/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js");var r,s=n("./src/reddit/actions/comment/index.ts"),o=n("./src/reddit/actions/platform.ts");!function(e){e.First="First",e.Last="Last",e.None="None"}(r||(r={}));const i=r.Last;t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a:return i;case s.a:return t.payload.sort;default:return e}}},"./src/reddit/reducers/economics/paymentSystems/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.symbol.js");var r,s=n("./src/reddit/actions/economics/paymentSystems/constants.ts"),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};!function(e){e[e.Failure=0]="Failure",e[e.Fetched=1]="Fetched",e[e.NotFetched=2]="NotFetched",e[e.Pending=3]="Pending"}(r||(r={}));const i={status:r.NotFetched};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a:if(e.status===r.Fetched&&e.data.stripe&&e.data.stripe.sources){const n=t.payload.cardId,r=e.data.stripe.sources,s=n,i=(r[s],o(r,["symbol"==typeof s?s:s+""]));return Object.assign({},e,{data:Object.assign({},e.data,{stripe:Object.assign({},e.data.stripe,{sources:i})})})}return e;case s.e:if(e.status===r.Fetched&&e.data.braintree&&e.data.braintree.sources){const n=t.payload.sourceId,r=e.data.braintree.sources,s=n,i=(r[s],o(r,["symbol"==typeof s?s:s+""]));return Object.assign({},e,{data:Object.assign({},e.data,{braintree:Object.assign({},e.data.braintree,{sources:i})})})}return e;case s.b:return{error:t.payload.error,status:r.Failure};case s.c:return{data:t.payload,status:r.Fetched};case s.d:return{status:r.Pending};default:return e}}},"./src/reddit/reducers/economics/subredditPremium/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./src/lib/constants/specialMembership.ts"),o=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),i=n("./src/reddit/helpers/economics/sortBadges.ts"),c=n("./src/reddit/models/Badge/index.ts"),a=n("./src/reddit/models/Badge/managementPage.ts");!function(e){e[e.NotFetched=0]="NotFetched",e[e.Fetched=1]="Fetched"}(r||(r={}));const d={};function u(e){return"userId"in e}function l(e,t,n,r){e.forEach(e=>{e.collections&&Object.keys(e.collections).forEach(s=>{let o;(o=e.placement?e.placement===c.a.First?r[a.a.Loyalty][s]:r[a.a.Achievement][s]:u(e)?r[a.a.Cosmetic][a.c.MyBadges][s]:r[a.a.Cosmetic][a.c.Gallery][s])&&(u(e)?n.has(e.id)&&o.unlocked.push(e):t.has(e.id)||o.locked.push(e))})})}function b(e){const t=(e,t)=>{const n=parseInt(e.price||"0"),r=parseInt(t.price||"0");return n===r?Object(i.b)(e,t):n-r};return e.locked.sort(t),e.unlocked.sort(t),e}function p(e,t){return Object.keys(e).map(t=>e[t]).filter(e=>!!e.locked.length||!!e.unlocked.length||e.id===s.a).map(b).sort((e,n)=>{const r=t[e.id],s=t[n.id];return Object(i.b)(r,s)})}function f(e){const t={[a.a.Loyalty]:{},[a.a.Achievement]:{},[a.a.Cosmetic]:{[a.c.Gallery]:{},[a.c.MyBadges]:{}}};Object.keys(e.collections).forEach(n=>{const r=e.collections[n],s={description:r.description,highlight:r.extra&&r.extra.style&&r.extra.style.color,id:r.id,locked:[],title:r.title,unlocked:[]};t[a.a.Loyalty][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Achievement][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Cosmetic][a.c.Gallery][n]=Object.assign({},s,{locked:[],unlocked:[]}),t[a.a.Cosmetic][a.c.MyBadges][n]=Object.assign({},s,{locked:[],unlocked:[]})});const n=new Set;e.userOwnedBadges.forEach(t=>{const r=e.badges[t];r&&n.add(r.type)});const r=new Set(e.userOwnedBadges);return l(Object.keys(e.badges).map(t=>e.badges[t]),n,r,t),l(Object.keys(e.products).map(t=>e.products[t]),n,r,t),{collections:{[a.a.Loyalty]:p(t[a.a.Loyalty],e.collections),[a.a.Achievement]:p(t[a.a.Achievement],e.collections),[a.a.Cosmetic]:{[a.c.Gallery]:p(t[a.a.Cosmetic][a.c.Gallery],e.collections),[a.c.MyBadges]:p(t[a.a.Cosmetic][a.c.MyBadges],e.collections)}},subscription:e.subscription,userOwnedBadges:e.userOwnedBadges.map(t=>e.badges[t]).filter(Boolean)}}t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:{const{subredditId:n}=t.payload,s=e[n];return s&&s.status===r.Fetched?Object.assign({},e,{[n]:Object.assign({},s,{data:Object.assign({},s.data),raw:Object.assign({},s.raw)})}):e}case o.j:{const{subredditId:n}=t.payload,s=e[n];return s&&s.status===r.Fetched?Object.assign({},e,{[n]:Object.assign({},s,{data:Object.assign({},s.data,{subscription:Object.assign({},s.data.subscription||{},{settings:{renew:!1}})}),raw:Object.assign({},s.raw,{subscription:Object.assign({},s.raw.subscription||{},{settings:{renew:!1}})})})}):e}case o.k:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:{raw:n,data:f(n),status:r.Fetched}})}default:return e}}},"./src/reddit/reducers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/redux/es/index.js"),s=n("./src/reddit/actions/modal.ts");const o={};var i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.e:if(!t.payload.actionSource&&!t.payload.redirectUrl)return o;return Object.assign({},e,t.payload);default:return e}},c=n("./src/reddit/actions/authorFlair.ts"),a=n("./src/reddit/actions/badge.ts"),d=n("./src/reddit/actions/economics/subredditPremium/constants.ts"),u=n("./src/reddit/actions/economics/support/constants.ts"),l=n("./src/reddit/actions/governance/constants.ts"),b=n("./src/reddit/actions/harbergerTax/constants.ts"),p=n("./src/reddit/actions/layers.ts"),f=n("./src/reddit/actions/platform.ts"),m=n("./src/reddit/actions/postCreation/constants.ts"),O=n("./src/reddit/actions/product.ts"),g=n("./src/reddit/actions/reportFlow.ts"),j=n("./src/reddit/actions/structuredStyles/constants.ts"),y=n("./src/reddit/constants/modals.ts");var _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:{const n=t.payload;return e===n?null:n}case s.b:case m.x:case p.c:case p.d:case s.d:case f.a:case g.f:return null;case j.e:return e===y.a.BLADE_UNSAVED_CHANGES?null:e;case j.d:return e===y.a.BLADE_NIGHTMODE?null:e;case c.a:return e===y.a.USER_FLAIR_MODAL_ID?null:y.a.USER_FLAIR_MODAL_ID;case a.c:return y.a.BADGE_PICKER;case O.b:return y.a.BADGE_PURCHASE;case l.e:return y.a.GOVERNANCE_OPT_OUT;case l.r:return y.a.TRANSFER_POINTS;case l.o:return y.a.GOVERNANCE_RELEASE_NOTES;case b.e:return y.a.HARBERGER_TAX_BANNER_PURCHASE;case b.c:return y.a.HARBERGER_TAX_BANNER_MANAGE;case b.b:return y.a.HARBERGER_TAX_CRYPTO_BANNER_PURCHASE;case b.a:return y.a.HARBERGER_TAX_CRYPTO_BANNER_MANAGE;case u.a:return y.a.ECONOMY_SUPPORT_MODAL;case l.x:return y.a.WALLET_REGISTRATION_MODAL;case d.g:return y.a.SUBREDDIT_PREMIUM_GIFT_MODAL;case d.h:return y.a.SUBREDDIT_PREMIUM_PURCHASE_MODAL;case d.d:return y.a.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT;case d.l:return y.a.SUBREDDIT_PREMIUM_UPLOAD_MODAL;case p.a:case p.e:return y.a.PAINTER_MODAL;default:return e}},h=n("./src/reddit/actions/post.ts"),E=n("./src/reddit/actions/video.ts");const I={};var v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adImpression=Date.now(),r}case h.b:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adViewableImpression=Date.now(),r}case E.d:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoViewable=Date.now(),r}case E.a:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoFullyViewable=Date.now(),r}case E.c:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoStarted=Date.now(),r}case E.b:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoPlayedWithSound=Date.now(),r}case E.q:{const{postId:n}=t.payload,r=Object.assign({},e);return r[n]||(r[n]={}),r[n].adVideoPlayedExpanded=Date.now(),r}case E.e:{const{postId:n,percentage:r}=t.payload,s=Object.assign({},e);s[n]||(s[n]={});const o="adVideoWatchedPercent".concat(r);return s[n].adVideoWatchedPercent||(s[n][o]={}),s[n][o]=Date.now(),s}case E.f:{const{postId:n,seconds:r}=t.payload,s=Object.assign({},e);s[n]||(s[n]={});const o="adVideoWatchedSeconds".concat(r);return s[n].adVideoWatchedSeconds||(s[n][o]={}),s[n][o]=Date.now(),s}default:return e}},S=(n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./src/reddit/actions/apiRequestState.ts"));const T={};var C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.d:case S.a:case S.b:{const n=t.payload;return Object.assign({},e,{[n.apiRequestId]:n})}case S.c:{const n=t.payload;if(!(n in e))return e;if(1===Object.keys(e).length)return T;const r=Object.assign({},e);return delete r[n],r}default:return e}},w=n("./src/reddit/actions/subredditModeration.ts");var x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:case w.d:return null;case w.c:return t.payload;default:return e}},D=n("./src/reddit/models/SubredditModeration/index.ts");const P={};var A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.e:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(D.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.d:case w.c:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(D.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},R=Object(r.c)({error:x,pending:A});const N={};var k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(D.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}};const L={};var U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}},M=n("./node_modules/lodash/merge.js"),F=n.n(M);const G={};var B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.b:case w.d:{const{subredditId:n,approvedSubmitters:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.i:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:case w.g:return null;case w.f:return t.payload;default:return e}};var V=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:return!0;case w.g:case w.f:return!1;default:return e}},H=Object(r.c)({error:q,pending:V});var W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.h:return null;case w.g:{const e=t.payload.approvedSubmitterIds[0];return e?t.payload.approvedSubmitters[e]:null}default:return e}},K=Object(r.c)({api:H,result:W});const J={};var Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.d:{const{subredditId:n,approvedSubmitterIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.i:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.b:{const{subredditId:n,approvedSubmitterIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},z=Object(r.c)({api:R,fetchedTokens:k,loadMore:U,models:B,search:K,userOrder:Y});var Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return t.payload;default:return e}},X=n("./node_modules/lodash/mergeWith.js"),$=n.n(X),Z=n("./src/reddit/actions/comment/index.ts"),ee=n("./src/reddit/actions/comment/websocket.ts"),te=n("./src/reddit/actions/grantUserFlair/constants.ts"),ne=n("./src/reddit/actions/modQueue/constants.ts"),re=n("./src/reddit/actions/page.ts"),se=n("./src/reddit/actions/pages/profileComments.ts"),oe=n("./src/reddit/actions/pages/profilePosts.ts"),ie=n("./src/reddit/actions/pages/profilePrivate/constants.ts"),ce=n("./src/reddit/actions/pages/search.ts"),ae=n("./src/reddit/actions/pages/subreddit.ts"),de=n("./src/reddit/actions/profileConversations.ts"),ue=n("./src/reddit/actions/subreddit.ts"),le=n("./src/reddit/actions/userFlair.ts"),be=n("./src/reddit/models/User/index.ts");const pe={};var fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:case ee.b:{const n=t.payload,{authorFlair:r}=n;if(r){return $()(Object.assign({},e),r,(e,t,n)=>{if("richtext"===n)return t})}return e}case ie.c:case ie.i:case ie.e:case ie.g:case ce.c:{const{authorFlair:n}=t.payload;if(n){return F()(Object.assign({},e),n)}return e}case Z.t:case ae.b:case re.b:case se.b:case se.e:case oe.e:case oe.b:case de.e:case ue.i:return me(e,t.payload);case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:return me(e,t.payload.response);case le.i:{const{subredditId:n,userName:r,applied:s,displaySettings:{isUserEnabled:o}}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:o?s:null})})}case te.h:case te.b:{const{subredditId:n,userName:r,applied:s}=t.payload;return e[n]&&e[n][r]?Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:s})}):e}case le.a:{const{subredditId:n,userName:r,applied:s,displaySettings:{isEnabled:o}}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:o?s:null})})}default:return e}};const me=(e,t)=>{let{account:n,authorFlair:r,userFlair:s}=t;const o=F()(Object.assign({},e),r);if(!s||!n)return o;const i=Object.keys(s)[0];if(!i)return o;const c=Object(be.f)(n),a=s[i]&&s[i].applied,d=s[i]&&s[i].displaySettings&&s[i].displaySettings.isUserEnabled;return c&&a&&d?F()(o,{[i]:{[c]:a}}):o};var Oe=Object(r.c)({inContext:Q,models:fe}),ge=n("./src/reddit/actions/gold/constants.ts");const je={};var ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.a:{const{disabled:n,subredditId:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}};var _e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.e:case ge.f:return null;case ge.d:return t.payload;default:return e}};var he=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:case ge.f:case ge.d:return!1;case ge.e:return!0;default:return e}},Ee=Object(r.c)({error:_e,pending:he}),Ie=Object(r.c)({api:Ee});var ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.E:case ge.D:return null;case ge.C:return t.payload;default:return e}};const Se={};var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.E:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ge.D:case ge.C:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Ce=Object(r.c)({error:ve,pending:Te});const we={};var xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.D:{const{awards:n,subredditId:r}=t.payload,s=n.map(e=>e.id);return Object.assign({},e,{[r]:s})}case ge.f:{const{award:n,subredditId:r}=t.payload;if(n&&n.id){if(!e[r])return Object.assign({},e,{[r]:[n.id]});if(-1===e[r].indexOf(n.id))return Object.assign({},e,{[r]:[n.id,...e[r]]})}return e}case ge.i:{const{awardId:n,subredditId:r}=t.payload,s=Object.assign({},e);if(s[r]){const e=s[r].indexOf(n);if(-1!==e){const t=[...s[r]];return t.splice(e,1),s[r]=t,s}}return e}default:return e}},De=Object(r.c)({api:Ce,order:xe});n("./node_modules/core-js/modules/es6.regexp.split.js");const Pe=e=>{const t=e.split("+");if(1===t.length)return e;const n="".concat(t[1].substring(0,2),":").concat(t[1].substring(2));return"".concat(t[0],"+").concat(n)};var Ae=e=>(e.startsAt&&(e.startsAt="number"==typeof e.startsAt?new Date(e.startsAt).toISOString():Pe(e.startsAt)),e.endsAt&&(e.endsAt="number"==typeof e.endsAt?new Date(e.endsAt).toISOString():Pe(e.endsAt)),e),Re=n("./src/reddit/models/Gold/Award.ts"),Ne=n("./src/reddit/actions/discoveryUnit.ts"),ke=n("./src/reddit/actions/frontpage.ts"),Le=n("./src/reddit/actions/multireddit/constants.ts"),Ue=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),Me=n("./src/reddit/actions/pages/modListing/constants.ts"),Fe=n("./src/reddit/actions/pages/postCreation.ts"),Ge=n("./src/reddit/actions/pages/profileOverview.ts"),Be=n("./src/reddit/actions/profileOverviewChrono.ts"),qe=n("./src/reddit/actions/recommendations.ts"),Ve=n("./src/reddit/actions/search.ts");const He={},We=(e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t})([Ae]);var Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.D:case ge.L:{const{awards:n}=t.payload,r=n.reduce((e,t)=>(e[t.id]=We(t),e),{});return F()(Object.assign({},e),r)}case ge.f:{const{award:n}=t.payload;return n&&n.id?e[n.id]?F()(Object.assign({},e),{[n.id]:We(n)}):Object.assign({},e,{[n.id]:We(n)}):e}case ge.l:{const{awardId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{isEnabled:!1})}):e}case Ue.b:case Z.t:case ee.a:case Fe.b:case Ne.e:case ke.b:case Me.e:case Me.h:case ne.f:case ne.m:case ne.p:case ne.v:case Le.r:case re.b:case re.g:case re.l:case ce.c:case se.b:case se.e:case de.b:case de.e:case Ge.b:case Ge.e:case Be.b:case oe.b:case oe.e:case ie.c:case ie.e:case ie.i:case ie.g:case qe.b:case Ve.c:case ue.i:case ae.b:{const n={},r=t.payload.posts||[],s=t.payload.comments||[];for(const e in r){const t=r[e].allAwardings||[];for(const e of t)n[e.id]=We(Object(Re.d)(e))}for(const e in s){const t=s[e],{associatedAward:r,allAwardings:o=[]}=t;for(const e of o)n[e.id]=We(Object(Re.d)(e));r&&(n[r.id]=We(r))}return Object.assign({},e,n)}default:return e}};var Je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.M:case ge.L:return null;case ge.K:return t.payload;default:return e}};const Ye={};var ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.M:{const{subredditOrProfileId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ge.L:case ge.K:{const{subredditOrProfileId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Qe=Object(r.c)({error:Je,pending:ze});const Xe={};var $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.L:{const{awards:n,subredditOrProfileId:r}=t.payload,s=n.map(e=>e.id);return Object.assign({},e,{[r]:s})}default:return e}},Ze=Object(r.c)({api:Qe,order:$e}),et=Object(r.c)({blacklist:ye,create:Ie,manageable:De,models:Ke,usable:Ze});const tt={};var nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:case a.f:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case a.d:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const rt={};var st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.e:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case a.f:case a.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ot=Object(r.c)({error:nt,pending:st});const it={};var ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:case a.i:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case a.g:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const at={};var dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case a.i:case a.g:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},ut=Object(r.c)({error:ct,pending:dt}),lt=Object(r.c)({subreddit:ot,user:ut});const bt={};var pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case a.f:case a.i:case O.d:{const{badges:n}=t.payload;return Object.assign({},e,n)}case l.a:{const n=t.payload.campaigns&&t.payload.campaigns.giveaway,r=n&&n.lastUsers;if(!r)return e;const s=r.reduce((e,t)=>Object.assign({},e,t.badges||{}),{});return Object.assign({},e,s)}default:return e}},ft=Object(r.c)({api:lt,models:pt});var mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.m:case w.l:return null;case w.k:return t.payload;default:return e}};const Ot={};var gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.m:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(D.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.l:case w.k:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(D.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},jt=Object(r.c)({error:mt,pending:gt});const yt={};var _t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(D.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}},ht=n("./src/reddit/actions/inContextModeration.ts");var Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.a:return t.payload;default:return e}};const It={};var vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const St={};var Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.j:case w.l:{const{subredditId:n,bannedUsers:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,r)})}case w.q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var Ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:case w.o:return null;case w.n:return t.payload;default:return e}};var wt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:return!0;case w.o:case w.n:return!1;default:return e}},xt=Object(r.c)({error:Ct,pending:wt});var Dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.p:case w.n:return null;case w.o:{const e=t.payload.bannedUserIds[0];return e?t.payload.bannedUsers[e]:null}default:return e}},Pt=Object(r.c)({api:xt,result:Dt});const At={};var Rt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.l:{const{subredditId:n,bannedUserIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.q:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.j:{const{subredditId:n,bannedUserIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},Nt=Object(r.c)({api:jt,fetchedTokens:_t,inContext:Et,loadMore:vt,models:Tt,search:Pt,userOrder:Rt}),kt=n("./src/reddit/actions/userBlocks.ts");const Lt={};var Ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt.f:case kt.e:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:null})}case kt.d:{const{userId:n,type:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Mt={};var Ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt.f:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case kt.e:case kt.d:{const{userId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Gt=Object(r.c)({error:Ut,pending:Ft}),Bt=Object(r.c)({api:Gt}),qt=n("./src/reddit/actions/ads/constants.ts");const Vt={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1};var Ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt.a:return e.isViewSafe===t.payload.isViewSafe&&e.hasBrandSafetyBeenAssessed?e:Object.assign({},e,{isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0});case ae.c:case re.m:case re.h:return e.hasBrandSafetyBeenAssessed?Object.assign({},e,{hasBrandSafetyBeenAssessed:!1}):e;default:return e}},Wt=n("./src/reddit/actions/category.ts");var Kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.b:case Wt.c:return null;case Wt.a:{const{error:e}=t.payload;return e||null}default:return e}};var Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.c:return!1;case Wt.b:return!0;default:return e}};var Yt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.c:return!0;case Wt.b:case Wt.a:return!1;default:return e}},zt=Object(r.c)({error:Kt,loaded:Jt,pending:Yt});const Qt={};var Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.g:case Wt.f:{const{categoryId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}case Wt.e:{const{categoryId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const $t={};var Zt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.g:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Wt.f:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const en={};var tn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.g:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Wt.f:case Wt.e:{const{categoryId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},nn=Object(r.c)({error:Xt,loaded:Zt,pending:tn}),rn=Object(r.c)({list:zt,subreddits:nn}),sn=n("./node_modules/lodash/isEmpty.js"),on=n.n(sn);const cn=[];var an=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.b:{const{categoryIds:n}=t.payload;return on()(n)?e:n}default:return e}};const dn={};var un=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.b:{const{categories:n}=t.payload;return on()(n)?e:Object.assign({},e,n)}default:return e}},ln=n("./node_modules/lodash/forOwn.js"),bn=n.n(ln),pn=n("./src/reddit/helpers/name/index.ts");const fn={};var mn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.b:{const{categories:n}=t.payload;if(on()(n))return e;const r={};return bn()(n,e=>{r[Object(pn.f)(e.name)]=e.id}),Object.assign({},e,r)}default:return e}},On=n("./src/reddit/actions/global.ts"),gn=n("./src/reddit/constants/localStorage.ts");const jn={};var yn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case On.a:return t.payload[gn.d]||e;case Wt.d:{const{categoryId:n,rank:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},_n=Object(r.c)({api:rn,ids:an,models:un,nameToId:mn,ranking:yn}),hn=n("./src/reddit/actions/chat/init.ts");var En=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hn.a:return!0;default:return e}},In=n("./src/reddit/actions/chat/sendbirdProxy.ts"),vn=n("./src/reddit/actions/chat/subredditChannel.ts");var Sn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.b:case vn.a:return!!t.payload.isUserSubredditChatEnabled;case In.a:const{user_subreddit_chat_enabled:n}=t.payload;return n;default:return e}},Tn=n("./src/chat/actions/promo/constants.ts");const Cn={displaySubredditChatFtux:!1};var wn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tn.a:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case Tn.b:{const n=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},xn=n("./src/reddit/actions/chat/subredditSettings.ts");const Dn={subredditId:null,bannedWords:"",domains:"",rateLimit:-1,regexes:[]};var Pn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xn.a:return Object.assign({},t.payload);default:return e}},An=n("./src/reddit/actions/chat/unreadCount.ts");const Rn={apiError:null};var Nn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.a.REQUEST_FAILED:{const e=t.payload;return Object.assign({},Rn,{apiError:e})}case An.a.REQUEST_SUCCESS:case An.a.REQUEST_PENDING:return Rn;default:return e}};var kn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.a.REQUEST_PENDING:return!0;case An.a.REQUEST_FAILED:case An.a.REQUEST_SUCCESS:return!1;default:return e}},Ln=Object(r.c)({error:Nn,pending:kn});const Un={basicChannelCount:0,subredditChannelCount:0};var Mn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.a.SYNC:case An.a.REQUEST_SUCCESS:{const e=t.payload;return Object.assign({},e)}default:return e}},Fn=Object(r.c)({api:Ln,count:Mn}),Gn=Object(r.c)({isInited:En,isUserSubredditChatEnabled:Sn,subredditSettings:Pn,promos:wn,unread:Fn}),Bn=n("./src/reddit/actions/claimgold.ts");var qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case Bn.d:case Bn.e:case Bn.c:return null;default:return e}};var Vn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.d:case Bn.c:case Bn.a:return!1;case Bn.b:return!0;default:return e}};var Hn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.b:case Bn.d:case Bn.c:case Bn.a:return!1;case Bn.f:return!0;default:return e}},Wn=Object(r.c)({error:qn,pending:Vn,showLoader:Hn});var Kn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.g:return t.payload;case Bn.e:return"";default:return e}};var Jn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn.e:return!0;case Bn.c:case Bn.d:return!1;default:return e}},Yn=Object(r.c)({api:Wn,code:Kn,showModal:Jn}),zn=n("./node_modules/lodash/get.js"),Qn=n.n(zn);const Xn={};var $n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.d:{const{commentsPageKey:n,commentId:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!Qn()(e,[n,r],!1)})})}case Z.e:{const{commentsPageKey:n,commentId:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!1})})}case Z.t:case Ue.b:case re.b:{const{key:n,shouldCollapse:r}=t.payload;if(!r)return e;const s=r.reduce((e,t)=>Object.assign({},e,{[t]:!0}),{});return Object.assign({},e,{[n]:Object.assign({},e[n],s)})}default:return e}},Zn=n("./src/lib/makeDraftKey/index.ts"),er=n("./src/reddit/models/PostCreationForm/index.ts"),tr=n("./src/reddit/models/PostDraft/index.ts");const nr={};var rr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.p:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{autofocusDisabled:!0})})}case Z.j:{const{draftKey:n,hasFocus:r}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{hasFocus:r})}):e}case re.e:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:{rteState:null,draftType:tr.c.replyToPost}})}case Ue.b:case Ue.c:case re.d:{const{postId:n,commentMode:r}=t.payload,s=Object(Zn.a)(tr.c.replyToPost,n);return Object.assign({},e,{[s]:{commentMode:r,draftType:tr.c.replyToPost,hasFocus:!1,rteState:null,text:""}})}case re.b:{const{postId:n,preferences:r}=t.payload;if(!r||!r.account)return e;const s=Object(Zn.a)(tr.c.replyToPost,n),o=r.account.useMarkdown?er.h.MARKDOWN:er.h.RICH_TEXT;return Object.assign({},e,{[s]:Object.assign({},e[s],{commentMode:o})})}case Z.l:const{draftKey:n,content:r,editorMode:s}=t.payload;return e[n]?Object.assign({},e,{[n]:Object.assign({},e[n],{commentMode:s,rteState:null,text:s===er.h.MARKDOWN?r:"",rtJson:s===er.h.RICH_TEXT?r:null})}):e;case Z.q:case Z.o:{const{draftKey:n,formData:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},r,{hasFocus:!0})})}case Z.k:{const{draftKey:n,formData:r}=t.payload;return null===e[n]?e:Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Z.f:{const{draftKey:n}=t.payload,r=e[n];return r&&r.draftType===tr.c.replyToPost?Object.assign({},e,{[n]:Object.assign({},r,{rteState:null,text:""})}):Object.assign({},e,{[n]:null})}case Z.F:{const{draftKey:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{rteState:null,text:""})})}case Z.E:case Z.A:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:null})}case Z.D:{const{draftKey:n,draft:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const sr={};var or=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.h:{const{commentListNodeId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.i:{const{commentListNodeId:n}=t.payload;return Object.assign({},e,{[n]:!e[n]})}default:return e}};const ir={};var cr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.c:{const{commentListNodeIds:n,commentsPageKey:r}=t.payload,s=n.reduce((t,n)=>(t[n]=!Qn()(e,[r,n],!1),t),{});return Object.assign({},e,{[r]:Object.assign({},e[r],s)})}case Z.b:{const{commentListNodeIds:n,commentsPageKey:r}=t.payload,s=n.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r],s)})}case Z.t:case Ue.b:case re.b:{const{key:n,shouldHide:r}=t.payload;if(!r)return e;const s=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n],s)})}default:return e}};const ar={};var dr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.q:{const{commentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}case Z.g:case Z.y:case Z.A:{const{commentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!1})})}default:return e}},ur=(n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/lodash/isEqual.js")),lr=n.n(ur),br=n("./node_modules/lodash/mapValues.js"),pr=n.n(br),fr=n("./node_modules/lodash/omit.js"),mr=n.n(fr),Or=n("./src/reddit/actions/bulkActions/constants.ts"),gr=n("./src/reddit/actions/vote.ts"),jr=n("./src/reddit/helpers/isComment.ts"),yr=n("./src/reddit/models/Comment/index.ts");const _r=(e,t,n)=>{const r={};for(const o of t)r[o.award.id]=o.total;const s=n?e.awarders&&e.awarders.length?e.awarders.includes(n)?e.awarders:[n,...e.awarders]:[n]:e.awarders;return Object.assign({},e,{awarders:s,awardCountsById:r})};var hr=n("./src/reddit/models/ModQueue/index.ts"),Er=n("./src/reddit/models/Vote/index.ts"),Ir=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const vr={},Sr=e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t},Tr=["next","prev","depth"],Cr=e=>mr()(e,Tr),wr=e=>{const{allAwardings:t,associatedAward:n}=e,r=Ir(e,["allAwardings","associatedAward"]),s=Object.assign({},r);if(t){const e={};for(const n of t)e[n.id]=n.count;s.awardCountsById=e}return n&&(s.associatedAwardId=n.id),s};var xr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:case ee.b:case Z.E:case Z.F:{const{comment:n}=t.payload,r=Sr([wr]);return Object.assign({},e,{[n.id]:r(n)})}case Z.t:case Ue.b:case re.b:case se.b:case se.e:case Ge.b:case Ge.e:case de.b:case de.e:case Be.b:case ie.i:case ie.g:case ie.c:case ie.e:{const n=Object.assign({},e),r=Sr([Cr,wr]);for(const s in t.payload.comments){const o=e[s],i=t.payload.comments[s];o?lr()(o,i)||(i.postAuthor||(i.postAuthor=o.postAuthor),i.postTitle||(i.postTitle=o.postTitle),n[s]=r(i)):n[s]=r(i)}return n}case Z.x:{const{id:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{isDeleted:!0,deletedBy:yr.a.User})})}case Z.m:{const n=t.payload;return $()(Object.assign({},e),n,(e,t)=>Object.assign({},e,t))}case gr.a:{const{id:n,vote:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object(Er.c)(s,r)}):e}case ge.q:{const{awardings:n,id:r,gilder:s}=t.payload,o=e[r];return o?Object.assign({},e,{[r]:_r(o,n,s)}):e}case w.l:{const{comments:n}=t.payload;return Object.assign({},e,n)}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{comments:r}=n,s=Sr([wr]);return Object.assign({},e,pr()(r,s))}case Or.b:case ne.s:{const{operation:n,ids:r,username:s,options:o}=t.payload,i=r.filter(e=>Object(jr.a)(e)),c=Object(hr.d)(e,n,i,s,o);return $()(Object.assign({},e),c,(e,t)=>Object.assign({},e,t))}case ce.c:{const{comments:n}=t.payload;return Object.assign({},e,n)}default:return e}};const Dr={};var Pr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.o:{const{parentCommentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}case Z.n:case Z.E:{const{parentCommentId:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!1})})}default:return e}};const Ar={};var Rr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.n:case Z.D:case Z.z:case Z.F:case Z.E:case Z.A:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:null})}case Z.C:case Z.y:{const{draftKey:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Z.v:{const{id:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Z.w:case Z.x:{const{id:n}=t.payload;return Object.assign({},e,{[n]:null})}default:return e}};const Nr={};var kr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.D:case Z.z:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.E:case Z.F:case Z.A:case Z.C:case Z.y:{const{draftKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Z.w:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.x:case Z.v:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Lr=Object(r.c)({error:Rr,pending:kr}),Ur=n("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Mr=Object(r.c)({collapsed:$n,drafts:rr,focused:or,hidden:cr,isEditing:dr,models:xr,replyFormOpen:Pr,submit:Lr,visitHighlightFilter:Ur.b}),Fr=n("./src/reddit/actions/commentsListTruncated/constants.ts");var Gr=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fr.a:return!1;default:return e}};const Br=[];var qr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt.b:return t.payload;case qt.c:default:return e}};const Vr={};var Hr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.d:case Ue.b:case re.d:case re.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ue.a:case re.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const Wr={};var Kr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.c:case re.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Jr={};var Yr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.d:case re.d:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ue.b:case Ue.a:case re.b:case re.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},zr=Object(r.c)({error:Hr,fullyLoaded:Kr,pending:Yr}),Qr=(n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/lodash/uniqBy.js")),Xr=n.n(Qr),$r=n("./node_modules/lodash/values.js"),Zr=n.n($r);const es={};function ts(e,t){return Zr()(e).map(e=>{const n=e.isStickied?t&&t.created||Math.round(Date.now()/1e3):e.created;return{id:e.id,created:n,stickied:e.isStickied}})}function ns(e){return Xr()(e,"id").sort((e,t)=>e.created-t.created)}var rs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.b:case Z.t:case Ue.b:{const{comments:n,key:r}=t.payload,s=e[r]?e[r]:[],o=ts(n,s.find(e=>e.stickied)),i=ns([...s,...o]);return Object.assign({},e,{[r]:[...i]})}case ee.a:case ee.b:case Z.F:case Z.E:{const{comment:{id:n,created:r,isStickied:s},commentsPageKey:o}=t.payload;return Object.assign({},e,{[o]:[...ns([...e[o]?e[o]:[],{id:n,created:r,stickied:s}])]})}default:return e}},ss=n("./src/reddit/helpers/commentList/index.ts");const os={};function is(e){const t=e;return pr()(t,e=>{let{depth:t,next:n,prev:r}=e;return{depth:t,next:n,prev:r}})}var cs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.t:{const{comments:n,commentLists:r,continueThreads:s,key:o,moreCommentsItem:i,moreComments:c}=t.payload,a=r[i.postId],d=e[o],u={},l=d[i.id];if(l&&l.prev){const{id:e}=l.prev;u[e]=Object.assign({},d[e],{next:a.head||l.next})}if(l&&l.next){const{id:e}=l.next;u[e]=Object.assign({},d[e],{prev:a.tail||l.prev})}if(a.head&&a.tail){const e=Object(ss.c)({commentLink:a.head,commentsDict:n,moreCommentsDict:c,continueThreadDict:s}),t=Object(ss.c)({commentLink:a.tail,commentsDict:n,moreCommentsDict:c,continueThreadDict:s});l&&(e.prev=l.prev,t.next=l.next)}return Object.assign({},e,{[o]:Object.assign({},e[o],is(n),is(s),is(c),u)})}case Ue.b:case re.b:{const{comments:n,continueThreads:r,key:s,moreComments:o}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s],is(n),is(r),is(o))})}case ee.a:case Z.F:{const{comment:n,commentsPageKey:r,headCommentId:s}=t.payload,o=e[r],i={};let c=null;return s&&(i[s]=Object.assign({},o[s],{prev:Object(yr.f)(n.id)}),c=Object(yr.f)(s)),Object.assign({},e,{[r]:Object.assign({},e[r],i,{[n.id]:{depth:0,next:c,prev:null}})})}case Z.E:{const{comment:n,commentsPageKey:r,parentCommentId:s,depth:o}=t.payload,i=e[r],c={};let a=null;if(!i[s])return e;const d=i[s].next;return d&&(c[d.id]=Object.assign({},i[d.id],{prev:Object(yr.f)(n.id)}),a=d),c[s]=Object.assign({},i[s],{next:Object(yr.f)(n.id)}),Object.assign({},e,{[r]:Object.assign({},e[r],c,{[n.id]:{depth:o,next:a,prev:Object(yr.f)(s)}})})}default:return e}};const as={};var ds=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:case ee.b:case Z.F:{const{comment:n,commentsPageKey:r}=t.payload;return Object.assign({},e,{[r]:n.id})}case Ue.b:case re.b:{const{commentLists:n,key:r,postId:s}=t.payload;return Object.assign({},e,{[r]:n[s]&&n[s].head?n[s].head.id:null})}default:return e}};const us={};var ls=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:us,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.d:case Ue.b:case Ue.c:case re.d:{const{key:n,postId:r}=t.payload;return Object.assign({},e,{[n]:r})}case Z.F:{const{parentId:n,commentsPageKey:r}=t.payload;return e[r]?e:Object.assign({},e,{[r]:n})}default:return e}},bs=Object(r.c)({api:zr,keyToChatCommentLinks:rs,keyToCommentThreadLinkSets:cs,keyToHeadCommentId:ds,keyToPostId:ls,ads:qr}),ps=n("./src/reddit/actions/communityFlairs/constants.ts");const fs={};var ms=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ps.a:{const{models:n,sortedKeys:r,subredditId:s}=t.payload;return Object.assign({},e,{[s]:{sortedKeys:r,models:n}})}default:return e}},Os=n("./src/lib/constants/index.ts"),gs=n("./src/reddit/actions/contentGate.ts");const js={};var ys=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:js,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gs.a:{const{subredditName:n}=t.payload;if(n){if(e[n]){const t={[n]:{goldSubreddit:!0}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{goldSubreddit:!0}})}return e}case gs.b:{const{subredditDescription:n,subredditName:r}=t.payload;if(r){if(e[r]){const t={[r]:{privateSubreddit:!0,subredditDescription:n}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[r]:{privateSubreddit:!0,subredditDescription:n}})}return e}case gs.e:{const{subredditName:n,quarantineRequiresEmail:r,quarantineMessage:s,quarantineMessageHtml:o}=t.payload;return n?Object.assign({},e,{[n]:Object.assign({},e[n],{quarantinedSubreddit:!0,quarantineRequiresEmail:r,quarantineMessage:s,quarantineMessageHtml:o})}):e}case gs.g:{const{subredditName:n,banMessage:r}=t.payload;if(n){if(e[n]){const t={[n]:{subredditBanned:!0,subredditBanMessage:r}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{subredditBanned:!0,subredditBanMessage:r}})}return e}case gs.h:{const{subredditName:n}=t.payload;if(n){if(e[n]){const t={[n]:{subredditDoesNotExist:!0}};return $()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{subredditDoesNotExist:!0}})}return e}case gs.c:case gs.d:{const{profileName:n}=t.payload,r=Os.Qb+n.toLocaleLowerCase(),s=e[r]||{},o=t.type===gs.c?{profileDeleted:!0}:{profileSuspended:!0};return Object.assign({},e,{[r]:Object.assign({},s,o)})}default:return e}};const _s={};var hs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.t:case Ue.b:case re.b:return Object.assign({},e,t.payload.continueThreads);default:return e}},Es=Object(r.c)({models:hs}),Is=n("./src/reddit/actions/postCollection/constants.ts");var vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:case Is.d:case Is.c:case Is.s:case Is.r:return null;case Is.b:case Is.n:return t.payload;default:return e}};var Ss=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Is.c:case Is.r:return!0;case Is.d:case Is.b:case Is.s:case Is.n:return!1;default:return e}},Ts=Object(r.c)({error:vs,pending:Ss}),Cs=Object(r.c)({createOrUpdate:Ts}),ws=n("./src/reddit/actions/postDraft.ts");const xs={};var Ds=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.c:case ws.b:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:null})}case ws.a:{const{apiError:n,draftId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Ps={};var As=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.b:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ws.c:case ws.a:{const{draftId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Rs=Object(r.c)({error:Ds,pending:As});var Ns=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.d:return t.payload;case ws.f:case ws.e:return null;default:return e}};var ks=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.f:return!0;case ws.e:case ws.d:return!1;default:return e}},Ls=Object(r.c)({error:Ns,pending:ks});const Us={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null};var Ms=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.l:case ws.j:return Us;case ws.i:{const e=t.payload;return Object.assign({},Us,{apiError:e})}case ws.m:{const e=t.payload;return Object.assign({},Us,{validationError:e})}case ws.k:{const e=t.payload;return Object.assign({},Us,{submitValidationError:e})}case ws.h:return Object.assign({},Us,{needsCaptcha:!0});default:return e}};var Fs=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.j:return!0;case ws.l:case ws.i:case ws.m:case ws.k:case ws.h:return!1;default:return e}},Gs=Object(r.c)({error:Ms,pending:Fs}),Bs=Object(r.c)({deleteDraft:Rs,listing:Ls,save:Gs});const qs={};var Vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.E:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case m.q:{const n=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Hs=Object(r.c)({pending:Vs});var Ws=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.v:case m.w:case m.d:case m.e:case m.f:case m.j:case m.k:case m.o:case m.M:return null;case m.u:return t.payload;default:return e}};var Ks=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.v:return!0;case m.w:case m.u:return!1;default:return e}},Js=Object(r.c)({error:Ws,pending:Ks}),Ys=Object(r.c)({converting:Hs,mediaUpload:Js});const zs={};var Qs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Fe.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Fe.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Xs={};var $s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}case Fe.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Zs={};var eo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Fe.b:case Fe.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},to=Object(r.c)({error:Qs,fetched:$s,pending:eo}),no=n("./src/reddit/actions/scheduledPosts/constants.ts");const ro={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null};var so=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.N:case no.d:case m.y:case m.c:case m.d:case m.e:case m.f:case m.j:case m.k:case m.o:case m.M:case m.C:return ro;case m.i:{const{isContentChanged:n}=t.payload;return n?ro:e}case m.p:{const e=t.payload;return Object.assign({},ro,{apiError:e})}case m.Y:{const e=t.payload;return Object.assign({},ro,{validationError:e})}case m.I:case m.H:{const e=t.payload;return Object.assign({},ro,{submitValidationError:e})}case m.a:return Object.assign({},ro,{needsCaptcha:!0});case m.A:return Object.assign({},ro,{pollError:t.payload});default:return e}};var oo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.y:return!0;case m.N:case no.d:case m.p:case m.Y:case m.H:case m.I:case m.A:case m.a:return!1;default:return e}},io=Object(r.c)({error:so,pending:oo});var co=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.z:case m.F:return null;case m.n:return t.payload;default:return e}};var ao=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.z:return!0;case m.n:case m.m:return!1;default:return e}},uo=Object(r.c)({error:co,pending:ao}),lo=Object(r.c)({submit:io,update:uo});var bo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.M:case m.K:case m.L:return null;default:return e}};var po=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.L:return!0;case m.K:case m.M:return!1;default:return e}},fo=Object(r.c)({error:bo,pending:po}),mo=Object(r.c)({change:fo}),Oo=Object(r.c)({collection:Cs,draft:Bs,editor:Ys,page:to,post:lo,subreddit:mo}),go=n("./src/reddit/actions/pages/postDraft.ts");const jo={};var yo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ws.e:{const{postDrafts:e}=t.payload;return e||jo}case ws.c:{const n=e,{draftId:r}=t.payload;return mr()(n,r)}case m.N:{const{draftId:n}=t.payload;return n?mr()(e,n):e}case go.a:{const{drafts:e}=t.payload;return e}default:return e}};n("./node_modules/core-js/modules/es6.regexp.match.js");const _o=e=>{if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},ho=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams},Eo=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params};var Io=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.d:return t.payload||"";case m.C:return"";case f.a:{if(_o(t)!==Os.xb.POST_CREATION)return"";const n=ho(t);return n&&n.url?n.url||"":e}case ws.g:{const e=t.payload;return e.kind===tr.b.Link&&e.body||""}case no.f:return t.payload.url||"";default:return e}},vo=(n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./src/reddit/models/ScheduledPost/index.ts"));const So=e=>e?e.replace(/\+/g," "):"";var To=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.e:return t.payload||"";case m.C:case m.G:return"";case m.O:return t.payload.editorMode===er.h.MARKDOWN?t.payload.content||"":e;case f.a:{if(_o(t)!==Os.xb.POST_CREATION)return"";const n=ho(t);return n&&n.text?So(n.text):e}case ws.g:{const e=t.payload;return e.kind===tr.b.Markdown&&e.body||""}case no.f:{const e=t.payload;return e.contentType===vo.a.TEXT?e.body:""}default:return e}},Co=n("./src/reddit/actions/upload.ts");var wo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.f:return t.payload||null;case m.C:return null;case f.a:return _o(t)!==Os.xb.POST_CREATION?null:e;case ws.g:return null;case Co.a:case Co.f:{const{key:n}=t.payload;return n===er.m?null:e}case no.f:return null;default:return e}},xo=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),Do=n("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts");const Po=xo.a.createInitial;var Ao=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Po(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.i:{const{rteState:e}=t.payload;return e}case m.C:return xo.a.createInitial();case m.O:{const n=t.payload;return n.editorMode===er.h.RICH_TEXT&&n.editorKey===er.g.POST_CREATION?xo.a.createInitial(n.content):e}case f.a:return _o(t)!==Os.xb.POST_CREATION?xo.a.createInitial():e;case ws.g:{const e=t.payload;return e.kind===tr.b.RichText?xo.a.createInitial(e.body):xo.a.createInitial()}case no.f:{const e=t.payload;return xo.a.createInitial(e.contentType===vo.a.RTJSON?Object(Do.b)(e.body):void 0)}default:return e}},Ro=Object(r.c)({link:Io,markdown:To,media:wo,rte:Ao});var No=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.b:return t.payload||null;case m.C:case ws.g:case no.f:case m.M:return null;case f.a:return _o(t)===Os.xb.POST_CREATION?e:null;default:return e}};var ko=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.c:return t.payload||null;case no.f:case m.C:return null;case f.a:return _o(t)===Os.xb.POST_CREATION?e:null;case ws.g:return t.payload.flair||null;default:return e}};var Lo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.r:return t.payload.type||null;case no.f:case m.j:case m.C:case f.a:return null;default:return e}};var Uo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.Q:return t.payload||!1;case no.f:case m.C:return!1;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case ws.g:return t.payload.isChatPost||!1;default:return e}};var Mo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.S:return t.payload||!1;case m.C:return!1;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case ws.g:return t.payload.isNSFW||!1;case no.f:return t.payload.isNsfw;default:return e}};var Fo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.T:return t.payload||!1;case m.C:return!1;case m.M:{const{name:n}=t.payload;return!!n&&e}case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case ws.g:return t.payload.isOriginalContent||!1;case no.f:return t.payload.isOriginalContent;default:return e}};var Go=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.U:return t.payload||!1;case no.f:case m.C:return!1;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;default:return e}};var Bo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.f:case m.C:return!1;case ws.n:return t.payload;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case ws.g:return t.payload.isPublicLink;default:return e}};var qo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.V:return t.payload||!1;case m.C:return!1;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case ws.g:return t.payload.isSpoiler||!1;case no.f:return t.payload.isSpoiler;default:return e}};var Vo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.b:{const{subredditName:e}=t.payload;return e}case f.a:case m.j:case m.r:case m.C:case l.h:return"";default:return e}};var Ho=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.c:{const{username:e}=t.payload;return e}case f.a:case m.j:case m.r:case m.C:case l.h:return"";default:return e}};var Wo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.L:case m.M:return t.payload;case m.K:case f.a:return null;default:return e}},Ko=n("./src/reddit/actions/polls.ts");var Jo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ko.a:return Object.assign({},t.payload);case no.f:case l.h:case m.C:return null;default:return e}};var Yo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.g:return t.payload||null;case m.C:case ws.g:case m.M:return null;case f.a:return _o(t)===Os.xb.POST_CREATION?e:null;case no.f:{const e=t.payload;return{submitDate:e.publishAt,timezoneName:e.clientTimezone,frequencyOption:null,recurrenceInfo:null}}default:return e}};var zo=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case m.W:return r||!1;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case no.f:case ws.g:return!1;default:return e}};var Qo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.h:return t.payload||"";case f.a:return _o(t)!==Os.xb.POST_CREATION?"":e;default:return e}};var Xo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:return _o(t)!==Os.xb.POST_CREATION?null:e;case m.C:return null;case no.f:return t.payload.id;default:return e}};var $o=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.C:return!0;case m.X:return t.payload;case f.a:return _o(t)!==Os.xb.POST_CREATION||e;case ws.g:return t.payload.sendReplies;case no.f:return!0;default:return e}};const Zo=Os.Fb.POST;var ei=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.C:case p.d:case p.c:return Zo;case m.s:return Os.Fb.CROSSPOST;case p.a:return Os.Fb.MEDIA;case m.j:return t.payload.submissionType||Zo;case f.a:{if(_o(t)!==Os.xb.POST_CREATION)return Zo;const n=ho(t);if(!n)return e;const{title:r="",url:s,text:o="",media:i=!1,selftext:c=!1}=n,a=r&&!o&&!c;return i?Os.Fb.MEDIA:void 0!==s||a?Os.Fb.LINK_ONLY:o||c?Os.Fb.POST:e}case ws.g:{const e=t.payload;return tr.a[e.kind]}case no.f:return t.payload.url?Os.Fb.LINK_ONLY:Os.Fb.POST;default:return e}},ti=n("./src/reddit/models/Poll/index.ts");const ni=e=>e?e.replace(/\+/g," "):"",ri=e=>"Should ".concat(e||"username"," become the top moderator?"),si=e=>e?"Should we spin-off to r/".concat(e,"?"):"Should we spin-off to a new community?";var oi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.s:return t.payload.postTitle||"";case m.k:return t.payload||"";case m.B:{const{title:n}=t.payload;return e||(n||"")}case m.C:case p.d:case p.c:return"";case f.a:{if(_o(t)!==Os.xb.POST_CREATION)return"";const n=ho(t);return n&&n.title?ni(n.title):e}case ws.g:return t.payload.title;case m.r:{const{oldType:n,type:r}=t.payload;return r===ti.a.ReplaceTopMod?ri(""):r===ti.a.Spinoff?si(""):n===ti.a.ReplaceTopMod||n===ti.a.Spinoff?"":e}case l.c:{const{username:e}=t.payload;return ri(e)}case l.b:{const{subredditName:e}=t.payload;return si(e)}case m.j:{const{extra:n}=t.payload;return!n||n.govType!==ti.a.ReplaceTopMod&&n.govType!==ti.a.Spinoff?e:""}case no.f:return t.payload.title;default:return e}},ii=Object(r.c)({body:Ro,eventSchedule:No,flair:ko,govType:Lo,isChatPost:Uo,isNSFW:Mo,isOC:Fo,isPoll:Go,isPublicLink:Bo,isSpoiler:qo,newSubreddit:Vo,newTopMod:Ho,nextSubreddit:Wo,polls:Jo,postSchedule:Yo,postToTwitter:zo,recaptcha:Qo,scheduledPostId:Xo,sendReplies:$o,submissionType:ei,title:oi});const ci={title:[],body:[],link:[],flair:[]},ai=(e,t)=>{const n=(t.fields||[]).filter(e=>{let{field:t}=e;return Object(er.v)(t)});if(!n.length)return e;const r=n.reduce((e,t)=>(e[t.field]||(e[t.field]=[]),e[t.field].push(t.msg),e),{});return Object.assign({},e,r)};var di=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ci,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.c:case m.d:case m.e:return e[Os.kb.BODY]?Object.assign({},e,{[Os.kb.BODY]:[]}):e;case m.i:{const{isContentChanged:n}=t.payload;return e[Os.kb.BODY]&&n?Object.assign({},e,{[Os.kb.BODY]:[]}):e}case m.k:return e[Os.kb.TITLE]?Object.assign({},e,{[Os.kb.TITLE]:[]}):e;case m.J:{const n=t.payload;return Object.assign({},e,{[n]:[]})}case m.o:{const n=t.payload;return n?Object.assign({},e,{[n]:[]}):ci}case m.I:case m.H:{const n=t.payload;return ai(e,n)}case f.a:return _o(t)!==Os.xb.POST_CREATION?ci:e;default:return e}};var ui=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.b:case m.c:case m.d:case m.e:case m.f:case m.g:case m.k:case m.j:case m.S:case m.T:case m.V:case ws.n:case m.X:return!0;case m.i:{const{isContentChanged:n}=t.payload;return!!n||e}case m.N:case no.d:return!1;case m.P:return t.payload;case f.a:return _o(t)===Os.xb.POST_CREATION&&e;case m.C:case ws.l:case ws.g:return!1;default:return e}};var li=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.x:return e===t.payload?null:t.payload||null;case s.c:return t.payload?null:e;case f.a:return _o(t)!==Os.xb.POST_CREATION?null:e;default:return e}};const bi=er.r.Post;var pi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.y:return er.r.Post;case m.D:return t.payload;case ws.j:return er.r.Draft;case f.a:return _o(t)!==Os.xb.POST_CREATION?bi:e;default:return e}},fi=Object(r.c)({fieldValidation:di,isChanged:ui,modalId:li,submitMode:pi});var mi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.F:return t.payload.editorMode===er.h.MARKDOWN?t.payload.postContent||"":e;case m.G:return"";case m.O:return t.payload.editorMode===er.h.MARKDOWN?t.payload.content||"":e;default:return e}};const Oi=xo.a.createInitial;var gi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.G:return xo.a.createInitial();case m.F:{const n=t.payload;return n.editorMode===er.h.RICH_TEXT&&"object"==typeof n.postContent?xo.a.createInitial(n.postContent,n.mediaMetadata):e}case m.O:{const n=t.payload;return n.editorMode===er.h.RICH_TEXT&&n.editorKey===er.g.POST_EDITING?xo.a.createInitial(n.content):e}default:return e}},ji=Object(r.c)({markdown:mi,rte:gi});const yi=er.h.RICH_TEXT;var _i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.F:{const{editorMode:e}=t.payload;return e}case m.G:return yi;case m.O:{const{editorMode:e}=t.payload;return e}default:return e}};var hi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.F:{const{postId:e}=t.payload;return e}case m.G:return null;default:return e}},Ei=Object(r.c)({draft:ji,editorMode:_i,postId:hi}),Ii=Object(r.c)({api:Oo,drafts:yo,formData:ii,formState:fi,postEditing:Ei}),vi=n("./src/reddit/actions/dashboard.ts");const Si={selectedComponent:null,subredditPending:!1,subredditLoaded:{}};var Ti=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Si,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vi.a:return Object.assign({},e,{selectedComponent:t.payload});case vi.c:{const n=t.payload,r=e.subredditLoaded[n];return Object.assign({},e,{subredditPending:!r,subredditLoaded:Object.assign({},e.subredditLoaded,{[n]:r||!1})})}case vi.b:{const n=t.payload;return Object.assign({},e,{subredditPending:!1,subredditLoaded:Object.assign({},e.subredditLoaded,{[n]:!0})})}default:return e}};var Ci=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.b:case Ne.c:return null;case Ne.a:{const{error:e}=t.payload;return e||null}default:return e}};var wi=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.c:return!1;case Ne.b:return!0;default:return e}};var xi=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.c:return!0;case Ne.b:case Ne.a:return!1;default:return e}},Di=Object(r.c)({error:Ci,loaded:wi,pending:xi}),Pi=Object(r.c)({list:Di});const Ai={};var Ri=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.b:{const{discoveryUnits:n}=t.payload;return on()(n)?e:Object.assign({},e,n)}default:return e}};const Ni={};var ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ni,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.b:{const{discoveryUnits:n}=t.payload;if(on()(n))return e;const r={};return bn()(n,e=>{r[Object(pn.f)(e.unitName)]=e.id}),Object.assign({},e,r)}default:return e}},Li=Object(r.c)({api:Pi,models:Ri,nameToId:ki}),Ui=n("./src/reddit/models/Badge/managementPage.ts");const Mi={badgeType:Ui.a.Cosmetic,view:Ui.c.Gallery};var Fi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:{const{badge:n,initialView:r}=t.payload;return n||r?Object.assign({},e,{badgeType:n?Object(Ui.d)(n.placement):e.badgeType,view:r}):e}case d.c:{const n=t.payload;return Object.assign({},e,{badgeType:n})}case d.e:{const n=t.payload;return Object.assign({},e,{view:n})}case s.b:return Mi;default:return e}};var Gi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:return{badge:t.payload.badge};case s.b:return null;case d.g:case d.h:return t.payload;case d.l:return t.payload||null;default:return e}};var Bi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.a:return t.payload;case s.b:return null;default:return e}};const qi={};var Vi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:{const{emotes:n,emoteCollections:r}=t.payload.products,s={};return n.forEach(e=>{const t=e.extra&&e.extra.assets,n=Object.keys(e.collections||{})[0]||e.title,o=r[n];s[n]||(s[n]={emotes:{},position:o?o.position:0,title:o?o.title:e.title}),t&&Object.keys(t).forEach(r=>{const o=t[r];s[n].emotes[r]={id:r,emoji:o.emoji,extra:{rtDescription:e.extra&&e.extra.rtDescription},fullId:"emote|".concat(e.id,"|").concat(r),imageType:o.emoji.type,sticker:o.sticker}})}),Object.assign({},e,{[t.payload.subredditId]:Object.keys(s).map(e=>s[e]).sort((e,t)=>e.position-t.position)})}default:return e}},Hi=n("./src/reddit/actions/economics/ftue/constants.ts");const Wi={tippingHighlightViewed:null,topTippersViewed:null};var Ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hi.a:return Object.assign({},e,{tippingHighlightViewed:!0});case Hi.b:return Object.assign({},e,{tippingHighlightViewed:!0,topTippersViewed:!0});default:return e}};const Ji={};var Yi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:{const n=t.payload.products.giphy.length>0;return Object.assign({},e,{[t.payload.subredditId]:{hasGifProduct:n}})}default:return e}},zi=n("./src/reddit/reducers/economics/paymentSystems/index.ts");const Qi={allSubscriptionsFetched:!1,data:{}};var Xi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.a:{const n=t.payload;return{allSubscriptionsFetched:!0,data:Object.assign({},e.data,n)}}case d.j:{const{subredditId:n}=t.payload;return e.data[n]?Object.assign({},e,{data:Object.assign({},e.data,{[n]:Object.assign({},e.data[n],{settings:{renew:!1}})})}):e}default:return e}},$i=n("./src/reddit/reducers/economics/subredditPremium/index.ts"),Zi=n("./src/reddit/actions/economics/tips/constants.ts"),ec=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const tc={};var nc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zi.a:{const{subredditId:n,tipData:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,r)})}case u.b:{const{accountId:n,accountUsername:r,anonymous:s,amount:o,contentId:i,subredditId:c}=t.payload,a=e[c]||{},d=a[i]||{},u=d.amounts||{usdr:{amount:"0",users:{}}},l=u.usdr,b=l.amount||"0",p=String(parseInt(b)+parseInt(o)),f=u.usdr.users||{},{anonymous:m={amount:"0",includesUser:!1,numUsers:0}}=f,O=ec(f,["anonymous"]),g=s?Object.assign({},O,{anonymous:{amount:String(parseInt(m.amount)+parseInt(o)),includesUser:!0,numUsers:m.includesUser?m.numUsers:m.numUsers+1}}):Object.assign({},f,{[n]:Object.assign({},f[n]||{},{amount:f[n]?String(parseInt(f[n].amount||"0")+parseInt(o)):o,username:r})});return Object.assign({},e,{[c]:Object.assign({},a,{[i]:Object.assign({},d,{amounts:Object.assign({},u,{usdr:Object.assign({},l,{amount:p,users:g})})})})})}default:return e}},rc=Object(r.c)({currentBadgeManagementScreen:Fi,currentModalArgs:Gi,currentPaymentTarget:Bi,emotes:Vi,ftue:Ki,gifs:Yi,paymentSystems:zi.b,specialMemberships:Xi,subredditPremium:$i.b,tipDetails:nc}),sc=n("./src/reddit/actions/emoji.ts"),oc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const ic={};var cc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sc.h:{const n=t.payload;return Object.assign({},e,{[n]:!0})}case sc.g:{const{subredditId:n}=t.payload,r=n;e[r];return oc(e,["symbol"==typeof r?r:r+""])}case sc.f:{const{subredditId:n}=t.payload,r=n;e[r];return oc(e,["symbol"==typeof r?r:r+""])}default:return e}},ac=Object(r.c)({pending:cc}),dc=Object(r.c)({list:ac}),uc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const lc={};var bc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sc.f:case sc.c:return e;case sc.g:{const{data:e}=t.payload;return e}case sc.d:{const{emojiName:n,subredditId:r}=t.payload,s=e[r].emojis,o=n,i=(s[o],uc(s,["symbol"==typeof o?o:o+""]));return Object.assign({},e,{[r]:Object.assign({},e[r],{emojis:i})})}case sc.i:{const n=t.payload,r=e[n.subredditId].emojis,s={url:n.url,name:n.name,userFlairAllowed:n.userFlairAllowed,postFlairAllowed:n.postFlairAllowed,modFlairOnly:n.modFlairOnly},o=Object.assign({},r,{[n.name]:s});return Object.assign({},e,{[n.subredditId]:Object.assign({},e[n.subredditId],{emojis:o})})}case sc.e:{const{emojiName:n,isSnoomoji:r,settings:s,subredditId:o}=t.payload,i=r?"snoomojis":"emojis",c=e[o][i],a=Object.assign({},c,{[n]:Object.assign({},c[n],s)});return Object.assign({},e,{[o]:Object.assign({},e[o],{[i]:a})})}default:return e}},pc=Object(r.c)({api:dc,models:bc}),fc=n("./src/reddit/actions/experiments.ts");const mc=/^experiment_(.*)$/i,Oc=e=>{const t=e.match(mc);if(null!==t)return t[1]},gc={};var jc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:{const n=ho(t);if(!n)return e;const r={};for(const e in n){const t=Oc(e);t&&(r[t.toLowerCase()]=n[e]||"")}return on()(r)?e:Object.assign({},e,r)}case fc.b:{const{experimentName:n,override:r}=t.payload;return n?Object.assign({},e,{[n]:r||""}):e}default:return e}},yc=n("./src/reddit/actions/externalAccount.ts");const _c={};var hc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.e:case yc.f:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:null})}case yc.d:{const{provider:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Ec={};var Ic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.e:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!0})}case yc.f:case yc.d:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},vc=Object(r.c)({error:hc,pending:Ic});const Sc={};var Tc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.l:case yc.k:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:null})}case yc.j:{const{provider:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Cc={};var wc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.b:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!0})}case yc.c:case yc.a:{const{provider:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},xc=Object(r.c)({error:Tc,pending:wc});const Dc={};var Pc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.i:case yc.h:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:null})}case yc.g:{const{subredditName:n,apiError:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Ac={};var Rc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.h:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const Nc={};var kc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.i:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!0})}case yc.h:case yc.g:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Lc=Object(r.c)({error:Pc,fetched:Rc,pending:kc});const Uc={};var Mc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.l:case yc.k:{const{username:n}=t.payload;return Object.assign({},e,{[n]:null})}case yc.j:{const{username:n,apiError:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Fc={};var Gc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.l:{const{username:n}=t.payload;return Object.assign({},e,{[n]:!0})}case yc.k:case yc.j:{const{username:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Bc=Object(r.c)({error:Mc,pending:Gc}),qc=Object(r.c)({connect:vc,disconnect:xc,user:Bc,subreddit:Lc});const Vc={};var Hc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.h:{const{subredditName:n,accountsData:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Wc={};var Kc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yc.k:{const{username:n,accountsData:r}=t.payload;return Object.assign({},e,{[n]:r})}case yc.c:{const{username:n,provider:r}=t.payload,s=e[n];return s&&s[r]?Object.assign({},e,{[n]:mr()(s,r)}):e}default:return e}},Jc=Object(r.c)({api:qc,user:Kc,subreddit:Hc}),Yc=n("./src/reddit/featureFlags/index.ts");const zc=new Set(["0","disabled","false","off",""]);var Qc=e=>!zc.has(e.toLowerCase());const Xc=Yc.a.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),$c=Yc.a.reduce((e,t)=>(e[t]=null,e),{});var Zc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:{const n=ho(t);if(void 0!==n){const t={};for(const e in n){const r=Object(Yc.g)(e);if(r){const s=Xc[r.toLowerCase()];if(s){const r=n[e],o="string"!=typeof r||Qc(r);t[s]=o}}}if(Object.keys(t).length>0)return Object.assign({},e,t)}return e}case Yc.b:{const{featureName:n,currentValue:r}=t.payload;return r===e[n]?e:Object.assign({},e,{[n]:r})}case Yc.c:{const{featureName:n,currentValue:r}=t.payload;return Object.assign({},e,{[n]:!r})}default:return e}},ea=Object(r.c)({overrides:Zc});var ta=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:case te.i:return null;case te.f:return t.payload;default:return e}};var na=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.i:return!0;case te.g:case te.f:return!1;default:return e}},ra=Object(r.c)({error:ta,pending:na});const sa={};var oa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:case te.k:{const{subredditId:n,flairedUsers:r}=t.payload;return F()(Object.assign({},e),{[n]:r})}case te.c:{const{subredditId:n,userName:r}=t.payload,s=mr()(e[n],r);return Object.assign({},e,{[n]:s})}case te.a:case te.b:case te.h:const{subredditId:n,userName:r,applied:s}=t.payload;return s?Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:s})}):e;default:return e}};const ia={};var ca=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:{const{key:n,pageInfo:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};var aa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.l:case te.k:return null;case te.j:return t.payload;default:return e}};var da=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.l:return!0;case te.k:case te.j:return!1;default:return e}},ua=Object(r.c)({error:aa,pending:da});var la=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.k:{const{searchResult:e}=t.payload;return e}case te.c:{const{userName:n}=t.payload;return e===n?null:e}default:return e}},ba=Object(r.c)({api:ua,result:la});const pa={};var fa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.g:{const{key:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:r})}case te.a:{const{key:n,userName:r}=t.payload;if(!n)return e;if(!e[n].includes(r)){const t=[...e[n],r];return Object.assign({},e,{[n]:t})}return e}case te.c:{const{userName:n}=t.payload,r={};for(const t in e)r[t]=e[t].filter(e=>e!==n);return r}default:return e}},ma=Object(r.c)({api:ra,models:oa,pageInfo:ca,search:ba,userOrder:fa}),Oa=n("./src/reddit/actions/focusedVerticals/constants.ts");const ga={focusedVerticalGqlError:null};var ja=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.f:case Oa.e:return Object.assign({},e,{focusedVerticalGqlError:null});case Oa.d:return Object.assign({},e,{focusedVerticalGqlError:t.payload});default:return e}};const ya={focusedVerticalGqlPending:!1};var _a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.f:return Object.assign({},e,{focusedVerticalGqlPending:!0});case Oa.d:case Oa.e:return Object.assign({},e,{focusedVerticalGqlPending:!1});default:return e}},ha=Object(r.c)({error:ja,pending:_a});const Ea={dismissed:!0};var Ia=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.h:return{dismissed:!1};case Oa.g:return{dismissed:!0};default:return e}};var va=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.e:return t.payload.interactedSubredditIds||null;default:return e}};var Sa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.e:return t.payload.recommendedSubredditIds||null;default:return e}},Ta=Object(r.c)({api:ha,components:Ia,interactedSubredditIds:va,recommendedSubredditIds:Sa}),Ca=n("./src/lib/makeActionCreator/index.ts");Object(Ca.a)("FONTS_FONT_FILES_PARSED");const wa=[];var xa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FONTS_FONT_FILES_PARSED":return t.payload.fonts;default:return e}};var Da=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.m:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case ge.b:case f.a:case ge.G:case ge.q:return null;default:return e}};var Pa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.b:case f.a:case ge.q:case ge.m:return!1;case ge.n:return!0;default:return e}};var Aa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.n:case ge.b:case f.a:case ge.q:case ge.m:return!1;case ge.r:return!0;default:return e}},Ra=Object(r.c)({error:Da,pending:Pa,showLoader:Aa});var Na=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const n=t.payload;switch(t.type){case ge.F:case ge.G:return n.gildModalId;case ge.q:case f.a:case ge.b:return null;default:return e}};var ka=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const n=t.payload;switch(t.type){case ge.F:case ge.G:return n.thingId;case ge.q:case f.a:case ge.b:return null;default:return e}};var La=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.u:return t.payload;case ge.t:case ge.G:return null;default:return e}};var Ua=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.o:return t.payload;case ge.G:return!1;default:return e}};var Ma=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.p:return t.payload;case ge.G:return!1;default:return e}};var Fa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.F:return!0;default:return e}};var Ga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.s:return t.payload;case ge.G:return"";default:return e}};const Ba=Re.i;var qa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.J:return t.payload;case ge.G:return Ba;default:return e}},Va=Object(r.c)({api:Ra,gildModalId:Na,gildModalThingId:ka,includeMessage:Ua,isAnonymous:Ma,isIframed:Fa,message:Ga,giveAwardTooltipThingId:La,selectedAward:qa});var Ha=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.v:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case ge.c:case f.a:case ge.H:case ge.A:return null;default:return e}};var Wa=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.c:case f.a:case ge.A:case ge.v:return!1;case ge.w:return!0;default:return e}},Ka=Object(r.c)({error:Ha,pending:Wa});var Ja=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge.H:return t.payload;case f.a:case ge.c:case ge.A:return"";default:return e}},Ya=Object(r.c)({api:Ka,givePremiumModalAccountName:Ja}),za=n("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),Qa=n("./src/reddit/actions/goldPurchaseModals/constants.ts");var Xa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.b:return"selectPayment";case Qa.f:return"paymentCompleted";default:return e}};var $a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.a:case ge.b:case ge.q:return null;case za.c:return t.payload&&t.payload.thingId?t.payload.thingId:e;default:return e}};var Za=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.b:{const{coinPackage:e}=t.payload;return e}case Qa.f:case za.a:return null;default:return e}};var ed=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.b:return!0;case ge.G:case f.a:case za.a:return!1;default:return e}},td=Object(r.c)({activePage:Xa,gildThingId:$a,purchasePackage:Za,showModal:ed}),nd=n("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts");var rd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.b:{const{cardName:e}=t.payload;return e}case Qa.i:return t.payload!==Os.tb?"":e;case za.a:case nd.a:case Qa.c:case f.a:return"";default:return e}};var sd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.l:{const{error:n,elementType:r}=t.payload;return"cardCvc"===r?n&&n.message||"":e}case Qa.i:return t.payload!==Os.tb?"":e;case za.a:case nd.a:case Qa.c:case f.a:return"";default:return e}};var od=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.l:{const{error:n,elementType:r}=t.payload;return"cardExpiry"===r?n&&n.message||"":e}case Qa.i:return t.payload!==Os.tb?"":e;case za.a:case nd.a:case Qa.c:case f.a:return"";default:return e}};var id=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.l:{const{error:n,elementType:r}=t.payload;return"cardNumber"===r?n&&n.message||"":e}case Qa.i:return t.payload!==Os.tb?"":e;case za.a:case nd.a:case Qa.c:case f.a:return"";default:return e}};var cd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.a:return t.payload.message||e;case Qa.b:return"";case Qa.i:return t.payload!==Os.tb?"":e;case za.a:case nd.a:case Qa.c:case f.a:return"";default:return e}};var ad=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.l:{const{error:n,elementType:r}=t.payload;return"postalCode"===r?n&&n.message||"":e}case Qa.i:return t.payload!==Os.tb?"":e;case za.a:case nd.a:case Qa.c:case f.a:return"";default:return e}},dd=Object(r.c)({cardCvc:sd,cardExpiry:od,cardNumber:id,nameOnCard:cd,postalCode:ad});const ud=Os.ub;var ld=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ud,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.b:case nd.b:return ud;case Qa.i:return t.payload;default:return e}};var bd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.g:return t.payload||e;case Qa.i:{const{method:n}=t.payload;return n===Os.ub?null:e}case za.b:case nd.b:case ge.G:return null;default:return e}};var pd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case za.b:case nd.b:return"";case za.d:case nd.c:{const e=t.payload;return e.body&&e.body.passthrough?e.body.passthrough:""}default:return e}},fd=Object(r.c)({errorMessage:bd,passthrough:pd});var md=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.o:return!e;case Qa.i:return t.payload!==Os.tb||e;case za.a:case nd.a:case f.a:return!0;default:return e}};const Od=[];var gd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Od,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.e:return t.payload;case Qa.d:{const n=t.payload;return e.filter(e=>e.cardId!==n)}default:return e}};var jd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.h:return!0;case Qa.e:return!1;default:return e}};var yd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.a:case Qa.m:return t.payload.message||e;case Qa.k:return t.payload;case Qa.l:case Qa.b:case Qa.n:return null;case Qa.i:return t.payload===Os.tb?null:e;default:return e}};var _d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.a:case Qa.k:case Qa.m:return!1;case Qa.i:return t.payload!==Os.tb&&e;case Qa.n:return!0;default:return e}},hd=Object(r.c)({errorMessage:yd,pending:_d});var Ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.j:return t.payload;case Qa.d:return t.payload===e?null:e;default:return e}},Id=Object(r.c)({cardName:rd,cardValidation:dd,paymentMethod:ld,paypal:fd,rememberCard:md,savedCards:gd,savedCardsPending:jd,stripeToken:hd,useSavedCard:Ed});var vd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectPayment",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nd.b:return"selectPayment";case Qa.f:return"paymentCompleted";default:return e}};var Sd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nd.b:return!0;case f.a:case nd.a:return!1;default:return e}},Td=Object(r.c)({activePage:vd,showModal:Sd});var Cd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qa.p:case Qa.r:return!1;case Qa.q:return!0;default:return e}},wd=Object(r.c)({pending:Cd}),xd=Object(r.c)({coinPurchaseModal:td,payment:Id,premiumPurchaseModal:Td,updateCardModal:wd}),Dd=n("./src/reddit/actions/header.ts"),Pd=n("./src/reddit/actions/overlayEvents.ts");var Ad=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dd.a:return!1;case Dd.b:return!0;case Dd.c:return!e;case Pd.b:return!1;default:return e}},Rd=Object(r.c)({isSubscriptionsDropdownOpen:Ad}),Nd=n("./src/reddit/actions/imageUploads.ts");const kd={};var Ld=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nd.d:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case Nd.c:case Nd.e:case Nd.b:{const n=t.payload;return e[n.id]?Object.assign({},e,{[n.id]:n}):e}case Nd.a:{const n=t.payload;if(!e[n.id])return e;const r=Object.assign({},e);return delete r[n.id],r}default:return e}},Ud=n("./src/reddit/actions/emailVerificationTooltip.ts");var Md=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ud.a:return!e;default:return e}},Fd=n("./src/reddit/actions/moderatingSubreddits.ts");var Gd=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fd.a:{if(e)return e;const n=t.payload;return Object.keys(n).some(e=>!0===n[e].posts)}case ae.b:case Ue.b:case re.b:case Fe.b:{if(e)return e;const{payload:n}=t;return n.subredditPermissions&&n.subreddits?n.subredditPermissions.posts:e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{if(e)return e;const{response:n}=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;let o=Object.keys(r).some(e=>!0===r[e].posts);if(!o){o=Object.keys(s).some(e=>!0===r[e].posts)}return o}default:return e}},Bd=n("./src/reddit/actions/jsApi.ts");const qd=[];var Vd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bd.a:{const n=t.payload;return-1===e.indexOf(n)&&(e=[...e,n]).sort(),e}default:return e}};var Hd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.f:return t.payload;case p.a:case p.d:case p.b:return null;default:return e}};var Wd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return t.payload.background;default:return e}};var Kd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return t.payload.box;default:return e}};var Jd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.a:return Date.now();default:return e}},Yd=Object(r.c)({draft:Hd,editorBackground:Wd,layerBox:Kd,startTime:Jd}),zd=n("./src/reddit/actions/leaderboard/constants.ts"),Qd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Xd={};var $d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zd.b:{const{key:n,data:r}=t.payload;return Object.assign({},e,{[n]:r})}case zd.c:case zd.d:{const{key:n}=t.payload,r=n;e[r];return Qd(e,["symbol"==typeof r?r:r+""])}default:return e}},Zd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const eu={};var tu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zd.b:case zd.d:{const{key:n}=t.payload,r=n;e[r];return Zd(e,["symbol"==typeof r?r:r+""])}case zd.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},nu=Object(r.c)({error:$d,pending:tu});const ru={};var su=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zd.a:{const{dateRange:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const ou={};var iu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zd.d:{const{key:n,data:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},cu=Object(r.c)({api:nu,dateRangeSelection:su,models:iu});var au=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:{const{listingKey:n}=t.payload;return n||e}default:return e}},du=n("./src/reddit/actions/pages/explore.ts");const uu={};var lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.b:case Ve.c:case ce.b:case ce.c:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Os.Jb.Subreddits)&&-1===r.indexOf(Os.Jb.Users)?e:Object.assign({},e,{[n]:null})}case Ve.a:case ce.a:{const{key:n,error:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Subreddits)&&-1===s.indexOf(Os.Jb.Users)?e:Object.assign({},e,{[n]:r})}case Ne.f:case Ne.e:case du.c:case du.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ne.d:case du.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const bu={};var pu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.b:case ce.b:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Os.Jb.Subreddits)&&-1===r.indexOf(Os.Jb.Users)?e:Object.assign({},e,{[n]:!0})}case Ve.c:case Ve.a:case ce.c:case ce.a:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Os.Jb.Subreddits)&&-1===r.indexOf(Os.Jb.Users)?e:Object.assign({},e,{[n]:!1})}case Ne.f:case du.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ne.e:case Ne.d:case du.b:case du.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},fu=Object(r.c)({error:lu,pending:pu});const mu={};var Ou=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.c:{const{fetchedToken:n,key:r,type:s}=t.payload;if(-1===s.indexOf(Os.Jb.Subreddits)&&-1===s.indexOf(Os.Jb.Users))return e;const o=e[r];return Object.assign({},e,{[r]:Object.assign({},o,{[n]:!0})})}case Ne.e:case du.b:{const{fetchedToken:n,key:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!0})})}default:return e}};const gu={};var ju=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.c:{const{key:n,listingOrder:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Subreddits)&&-1===s.indexOf(Os.Jb.Users)?e:Object.assign({},e,{[n]:e[n].concat(r)})}case ce.c:{const{key:n,listingOrder:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Subreddits)&&-1===s.indexOf(Os.Jb.Users)?e:Object.assign({},e,{[n]:r})}default:return e}};const yu={};var _u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case du.b:{const{key:n,ids:r}=t.payload;return r&&0!==r.length?Object.assign({},e,{[n]:[...e[n]||[],...r]}):e}default:return e}},hu=n("./src/lib/omitKey/index.ts");const Eu={};var Iu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.c:case ce.c:{const{key:n,tokens:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Subreddits)&&-1===s.indexOf(Os.Jb.Users)?e:r.listings?Object.assign({},e,{[n]:{token:r.listings}}):Object(hu.a)(e,n)}case Ne.e:case du.b:{const{key:n,token:r}=t.payload;return Object.assign({},e,{[n]:{token:r}})}default:return e}},vu=Object(r.c)({api:fu,identifiers:ju,ids:_u,fetchedTokens:Ou,loadMore:Iu}),Su=n("./src/reddit/actions/otherDiscussions/constants.ts");const Tu={};var Cu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.h:case re.g:case re.m:case re.l:case ae.c:case ae.b:case ke.c:case ke.b:case Me.e:case Me.f:case Me.i:case Me.h:case Le.s:case Le.r:case Su.b:case Su.c:case oe.f:case oe.e:case oe.c:case oe.b:case de.f:case de.e:case Ge.f:case Ge.e:case ue.j:case ue.i:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case ce.b:case ce.c:case Ve.b:case Ve.c:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Os.Jb.Posts)?e:Object.assign({},e,{[n]:null})}case re.f:case re.k:case ae.a:case ke.a:case Me.g:case Le.q:case Su.a:case ue.h:case de.d:case Ge.d:case oe.d:case oe.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case ce.a:case Ve.a:{const{error:n,key:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Posts)?e:Object.assign({},e,{[r]:n})}default:return e}},wu=n("./src/reddit/actions/subreddit/constants.ts");const xu={};var Du=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.h:case re.m:case oe.f:case Ge.f:case ae.c:case ke.c:case Me.f:case Me.i:case Le.s:case Su.c:case de.f:case oe.c:case ue.j:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ce.b:case Ve.b:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Os.Jb.Posts)?e:Object.assign({},e,{[n]:!0})}case re.g:case re.f:case re.k:case re.l:case Ge.d:case Ge.e:case oe.d:case oe.e:case ae.b:case ae.a:case ke.b:case ke.a:case Me.e:case Me.d:case Me.h:case Me.g:case Le.r:case Le.q:case de.d:case de.e:case oe.a:case oe.b:case wu.h:case Su.b:case Su.a:case ue.i:case ue.h:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}case ce.c:case ce.a:case Ve.c:case Ve.a:{const{key:n,type:r}=t.payload;return-1===r.indexOf(Os.Jb.Posts)?e:Object.assign({},e,{[n]:!1})}default:return e}},Pu=Object(r.c)({error:Cu,pending:Du}),Au=n("./src/reddit/actions/postList.ts");const Ru={};var Nu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Au.a:{const{listingKey:n,listingName:r}=t.payload;return Object.assign({},e,{[n]:r})}case Au.b:{const{listingKey:n}=t.payload;return n in e?mr()(e,[n]):e}default:return e}};const ku={};var Lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.e:case re.g:case re.l:case ae.b:case oe.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case ke.b:case Me.h:case Le.r:case de.e:case oe.b:case ue.i:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}case Ve.c:{const{fetchedToken:n,key:r,type:s}=t.payload;if(s.indexOf(Os.Jb.Posts)>-1){const t=e[r];return Object.assign({},e,{[r]:Object.assign({},t,{[n]:!0})})}return e}default:return e}};const Uu={};var Mu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.h:case Me.f:case re.m:case oe.f:case ae.c:case Ge.f:case oe.f:{const{key:n}=t.payload;return Object.assign({},e,{[n]:[]})}case Ne.e:case Me.e:case re.g:case re.l:case ae.b:case wu.h:case Su.b:case Ge.e:case oe.e:case qe.b:{const{key:n,postIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case ke.b:case Me.h:case Le.r:case oe.b:case de.e:case ue.i:{const{key:n,postIds:r}=t.payload;return Object.assign({},e,{[n]:e[n].concat(r)})}case ce.c:{const{key:n,postOrder:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Posts)?e:Object.assign({},e,{[n]:r})}case Ve.c:{const{key:n,postOrder:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Posts)?e:Object.assign({},e,{[n]:e[n].concat(r)})}case h.j:{const{newStickiedPostList:n,listingKey:r}=t.payload;if(!e[r])return e;const s=[...e[r]].filter(e=>!n.includes(e));return s.unshift(...n),Object.assign({},e,{[r]:s})}default:return e}},Fu=n("./src/lib/makeListingKey/index.ts"),Gu=n("./src/reddit/actions/preferences.ts");const Bu={};var qu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:{const{key:n,listingSort:r}=t.payload;return r&&!Object(Fu.b)(n)?Object.assign({},e,{[n]:{sort:r,hasChanged:!1}}):e}case Gu.a:case Gu.p:{const t={};return Object.keys(e).forEach(n=>{t[n]=Object.assign({},e[n],{hasChanged:!0})}),t}default:return e}};const Vu={};var Hu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:case re.l:case ae.b:case Ge.e:case oe.e:case ke.b:case Me.e:case Me.h:case Le.r:case de.e:case oe.b:case ue.i:{const{key:n,token:r,dist:s}=t.payload;return r?Object.assign({},e,{[n]:{token:r,dist:s}}):Object(hu.a)(e,n)}case Ve.c:case ce.c:{const{key:n,tokens:r,type:s}=t.payload;return-1===s.indexOf(Os.Jb.Posts)?e:r.posts?Object.assign({},e,{[n]:{token:r.posts}}):Object(hu.a)(e,n)}default:return e}},Wu=Object(r.c)({api:Pu,endMarkers:Nu,fetchedTokens:Lu,ids:Mu,listingSort:qu,loadMore:Hu}),Ku=Object(r.c)({activeKey:au,listingOrder:vu,postOrder:Wu});var Ju=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:return on()(t.payload.featuredLiveThread)?e:t.payload.featuredLiveThread;default:return e}};var Yu=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:return!0;default:return e}},zu=Object(r.c)({featured:Ju,isFrontpageLoaded:Yu}),Qu=n("./src/reddit/actions/media.ts");var Xu=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qu.b:return t.payload;default:return e}};var $u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qu.c:return t.payload;default:return e}},Zu=Object(r.c)({isMuted:Xu,volume:$u}),el=n("./src/reddit/actions/meta.ts");const tl={city:"",country:"",crawler:void 0,domain:"",isBot:!1,isSessionSeo:!1,method:"",protocol:"",region:"",sessionReferrerDomain:"",userAgent:"",pageloadServerTime:0};var nl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.b:return t.payload;case el.a:return Object.assign({},e,t.payload);default:return e}};const rl={};var sl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Ue.b:case re.b:case Fe.b:{const{payload:n}=t;if(!n.subredditPermissions||!n.subreddits)return e;const r=Object.keys(n.subredditAboutInfo||{});if(1!==r.length)return e;const s=r[0];return Object.assign({},e,{[s]:n.subredditPermissions})}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;return Object.assign({},e,r,s)}case ue.f:case Me.e:case ne.k:{const n=t.payload,{moderatingSubreddits:r,moderatingProfiles:s}=n;return Object.assign({},e,r,s)}case w.R:{const{subredditId:n}=t.payload;return Object(hu.a)(e,n)}case w.O:{const n=t.payload;return Object.assign({},e,n)}default:return e}},ol=n("./src/reddit/actions/moderationLog/constants.ts");const il={};var cl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:il,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.b:{const{actionIds:n,key:r,subredditId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}default:return e}};const al={};var dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.b:{const{normalizedModerationLog:n,subredditId:r}=t.payload,s={};n.forEach(e=>{s[e.id]=e});const o={[r]:s};return F()(Object.assign({},e),o)}default:return e}},ul=Object(r.c)({itemOrder:cl,models:dl});var ll=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.b:{const{endCursor:e}=t.payload;return e}default:return e}};const bl={};var pl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.b:{const{hasNextPage:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const fl={};var ml=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.b:{const{hasPreviousPage:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const Ol=[];var gl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.a:{const{normalizedModerators:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};var jl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ol.b:{const{startCursor:e}=t.payload;return e}default:return e}},yl=Object(r.c)({actions:ul,endCursor:ll,hasNextPage:pl,hasPreviousPage:ml,moderators:gl,startCursor:jl});const _l={};var hl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{response:n}=t.payload,r={[n.subredditId]:n.moderators};return F()(Object.assign({},e),r)}case w.u:{const{subredditId:n,userId:r,permissions:s}=t.payload,o=Object.assign({},e);return o[n][r].modPermissions=s,F()(Object.assign({},e),Object.assign({},o))}case w.Q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}case w.E:{const n=t.payload,{moderators:r,subredditId:s}=n,o=s in e?e[s]:{};return Object.assign({},e,{[s]:Object.assign({},o,r)})}default:return e}};const El={};var Il=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.t:case w.s:{const{key:n,subredditId:r}=t.payload;return r?Object.assign({},e,{[n]:null}):e}case w.r:{const{error:n,key:r,subredditId:s}=t.payload;return s?Object.assign({},e,{[r]:n}):e}default:return e}};const vl={};var Sl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.r:case w.s:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!1}):e}case w.t:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!0}):e}default:return e}},Tl=Object(r.c)({error:Il,pending:Sl});const Cl={};var wl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{subredditId:n,response:r,key:s}=t.payload,{moderatorIds:o}=r;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[s]:o})})}case w.Q:{const{subredditId:n,userId:r,key:s}=t.payload,o=e[n][s].filter(e=>e!==r);return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[s]:o})})}default:return e}},xl=Object(r.c)({data:wl,api:Tl});var Dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.x:case w.w:return null;case w.v:return t.payload;default:return e}};var Pl=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:case w.v:return!1;case w.x:return!0;default:return e}},Al=Object(r.c)({error:Dl,pending:Pl});const Rl={};var Nl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:{const{subredditId:n,moderators:r}=t.payload;return Object.assign({},e,{[n]:r})}case w.P:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}case w.a:{const n=t.payload,{subredditId:r,moderators:s}=n,o={[r]:s};return F()(Object.assign({},e),o)}default:return e}};const kl={};var Ll=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.w:{const{subredditId:n,moderatorIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case w.P:{const{subredditId:n,userId:r}=t.payload,s=e[n].filter(e=>e!==r);return Object.assign({},e,{[n]:s})}case w.a:{const n=t.payload,{subredditId:r,moderatorIds:s}=n,o=[...e[r]||[],...s];return Object.assign({},e,{[r]:o})}default:return e}},Ul=Object(r.c)({api:Al,models:Nl,userOrder:Ll}),Ml=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Fl={};var Gl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{subredditId:n,response:r}=t.payload,{invitePending:s}=r,o={[n]:s};return F()(Object.assign({},e),o)}case w.y:case w.z:{const{subredditId:n}=t.payload,r=n;e[r];return Ml(e,["symbol"==typeof r?r:r+""])}default:return e}};const Bl={};var ql=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.s:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Vl={};var Hl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:e}=t.payload;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Wl={};var Kl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:n}=t.payload,r={[n.subredditId]:n.moderators};return F()(Object.assign({},e),r)}case w.u:{const n=t.payload,{subredditId:r,userId:s,permissions:o}=n;if(e[r]&&e[r][s]){const t=Object.assign({},e);return t[r][s].modPermissions=o,t}return e}default:return e}};var Jl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:case w.E:return null;case w.D:return t.payload;default:return e}};var Yl=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:return!0;case w.E:case w.D:return!1;default:return e}},zl=Object(r.c)({error:Jl,pending:Yl});var Ql=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.F:case w.D:case w.Q:return null;case w.E:{const e=t.payload.moderatorIds[0];return e?t.payload.moderators[e]:null}case w.u:{const{userId:n,permissions:r}=t.payload;return e&&e.id===n&&!lr()(e.modPermissions,r)?Object.assign({},e,{modPermissions:r}):e}default:return e}},Xl=Object(r.c)({api:zl,result:Ql});const $l={};var Zl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.C:case w.B:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:null}):e}case w.A:{const{error:n,subredditId:r,key:s}=t.payload;return r?Object.assign({},e,{[s]:n}):e}default:return e}};const eb={};var tb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.A:case w.B:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!1}):e}case w.C:{const{subredditId:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:!0}):e}default:return e}},nb=Object(r.c)({error:Zl,pending:tb});const rb={};var sb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.B:{const{response:n,subredditId:r,key:s}=t.payload,{moderatorIds:o}=n;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[s]:o})})}case w.Q:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e[n]);return Object.keys(e[n]).forEach(t=>{const o=e[n][t].filter(e=>e!==r);s[t]=o}),Object.assign({},e,{[n]:s})}default:return e}},ob=Object(r.c)({data:sb,api:nb}),ib=Object(r.c)({editableModerators:hl,editableUserOrder:xl,invitedModerators:Ul,invitePending:Gl,loadMoreModerators:Hl,loadMoreEditableModerators:ql,models:Kl,search:Xl,userOrder:ob});var cb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case Me.k:return null;case Me.a:case Me.j:return t.payload;default:return e}};var ab=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.b:case Me.k:return!0;case Me.c:case Me.a:case Me.l:case Me.j:return!1;default:return e}},db=Object(r.c)({error:cb,pending:ab});const ub=[];var lb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ub,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.e:{const n=t.payload,{filteredSubreddits:r}=n;return r||e}case Me.j:{const n=t.payload;return[...e,n]}case Me.k:case Me.a:{const n=t.payload;return e.filter(e=>e!==n)}default:return e}},bb=Object(r.c)({api:db,names:lb}),pb=Object(r.c)({filteredSubreddits:bb}),fb=n("./src/reddit/actions/modMode.ts");var mb=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fb.a:return t.payload.enabled;default:return e}};var Ob=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Or.c:case Or.b:return null;case Or.a:return t.payload;default:return e}};var gb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Or.c:return!0;case Or.b:case Or.a:case ne.s:case ne.r:return!1;default:return e}},jb=Object(r.c)({error:Ob,pending:gb});const yb={};var _b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.a:{const{ids:n}=t.payload,r={};return n.forEach(e=>r[e]=!0),Object.assign({},e,r)}case ne.d:{const{ids:n}=t.payload;return mr()(e,n)}case ne.c:{const{ids:e}=t.payload,n={};return e.forEach(e=>n[e]=!0),n}default:return e}};const hb={};var Eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Or.b:{const{operation:e,ids:n}=t.payload;return"approve"===e?hb:{[hr.c[e]]:n}}default:return e}},Ib=Object(r.c)({api:jb,selectedItems:_b,undoLastAction:Eb});var vb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:case ne.f:return null;case ne.e:return t.payload;default:return e}};var Sb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.g:return!0;case ne.f:case ne.e:return!1;default:return e}},Tb=Object(r.c)({error:vb,pending:Sb});const Cb={};var wb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.f:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const xb={};var Db=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.f:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Pb=Object(r.c)({api:Tb,itemOrder:wb,loadMore:Db});var Ab=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.e:{const n=t.payload,{moderatingSubreddits:r}=n;return r?null:e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:e}=t.payload,{moderatedAfter:n}=e;return n}case ne.k:{const e=t.payload,{moderatedAfter:n}=e;return n}default:return e}};const Rb=[];var Nb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:e}=t.payload,{listingOrder:n}=e;return n}case ne.k:{const n=t.payload,{listingOrder:r}=n;return[...e,...r]}case Me.e:{const n=t.payload,{listingOrder:r}=n;return r||e}default:return e}};var kb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.b:return!0;default:return e}};var Lb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.k:return!0;case ne.b:return!1;default:return e}},Ub=Object(r.c)({after:Ab,data:Nb,loaded:kb,pending:Lb});var Mb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.j:case ne.i:return null;case ne.h:return t.payload;default:return e}};var Fb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.j:return!0;case ne.i:case ne.h:return!1;default:return e}},Gb=Object(r.c)({error:Mb,pending:Fb});const Bb={};var qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.i:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Vb={};var Hb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.i:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Wb=Object(r.c)({api:Gb,itemOrder:qb,loadMore:Hb});var Kb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.n:case ne.m:return null;case ne.l:return t.payload;default:return e}};var Jb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.n:return!0;case ne.m:case ne.l:return!1;default:return e}},Yb=Object(r.c)({error:Kb,pending:Jb});const zb={};var Qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.m:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const Xb={};var $b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.m:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},Zb=Object(r.c)({api:Yb,itemOrder:Qb,loadMore:$b});var ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.q:case ne.p:return null;case ne.o:return t.payload;default:return e}};var tp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.q:return!0;case ne.p:case ne.o:return!1;default:return e}},np=Object(r.c)({error:ep,pending:tp});const rp={};var sp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.p:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const op={};var ip=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:op,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.p:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},cp=Object(r.c)({api:np,itemOrder:sp,loadMore:ip});var ap=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.w:case ne.v:return null;case ne.u:return t.payload;default:return e}};var dp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.w:return!0;case ne.v:case ne.u:return!1;default:return e}},up=Object(r.c)({error:ap,pending:dp});const lp={};var bp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.v:{const{listingKey:n,page:r,response:s}=t.payload,{modqueue:o}=s;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[r]:o})})}default:return e}};const pp={};var fp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.v:{const{listingKey:n,response:r}=t.payload,{modqueue:s}=r,o=s[s.length-1]||null;return Object.assign({},e,{[n]:o})}default:return e}},mp=Object(r.c)({api:up,itemOrder:bp,loadMore:fp}),Op=Object(r.c)({bulkAction:Ib,edited:Pb,moderatedCommunitiesOrder:Ub,modqueue:Wb,reports:Zb,spam:cp,unmoderated:mp}),gp=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const jp={};var yp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.u:{const{moreCommentsId:n}=t.payload;return Object.assign({},e,{[n]:null})}case Z.t:{const{moreCommentsItem:n}=t.payload;return Object.assign({},e,{[n.id]:null})}case Z.s:{const n=t.payload,{moreCommentsItem:r}=n,s=gp(n,["moreCommentsItem"]);return Object.assign({},e,{[r.id]:s||{}})}default:return e}};const _p={};var hp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.u:{const{moreCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Z.s:case Z.t:{const{moreCommentsItem:n}=t.payload;return Object.assign({},e,{[n.id]:!1})}default:return e}},Ep=Object(r.c)({error:yp,pending:hp});const Ip={};var vp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ip,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.t:case Ue.b:case re.b:return Object.assign({},e,t.payload.moreComments);default:return e}},Sp=Object(r.c)({api:Ep,models:vp});var Tp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.b:case Le.c:return null;case Le.a:return t.payload;default:return e}};var Cp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.a:case Le.c:return!0;case Le.b:return!1;default:return e}};var wp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.l:case Le.a:case Le.c:return null;case Le.b:{const{name:e}=t.payload;return e}default:return e}},xp=Object(r.c)({error:Tp,fetched:Cp,pending:wp});var Dp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.f:case Le.g:return null;case Le.e:return t.payload;default:return e}};var Pp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:case Le.g:return!0;case Le.f:return!1;default:return e}};var Ap=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.e:case Le.g:return!1;case Le.f:return!0;default:return e}},Rp=Object(r.c)({error:Dp,fetched:Pp,pending:Ap});var Np=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.i:case Le.j:return null;case Le.h:return t.payload;default:return e}};var kp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.h:case Le.j:return!0;case Le.i:return!1;default:return e}};var Lp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.h:case Le.j:return!1;case Le.i:return!0;default:return e}},Up=Object(r.c)({error:Np,fetched:kp,pending:Lp});var Mp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.l:case Le.m:return null;case Le.k:return t.payload;default:return e}};var Fp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.k:case Le.m:return!0;case Le.l:return!1;default:return e}};var Gp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.k:case Le.m:return!1;case Le.l:return!0;default:return e}},Bp=Object(r.c)({error:Mp,fetched:Fp,pending:Gp});var qp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.o:case Le.p:return null;case Le.n:return t.payload;default:return e}};var Vp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.n:case Le.p:return!0;case Le.o:return!1;default:return e}};var Hp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.n:case Le.p:return!1;case Le.o:return!0;default:return e}},Wp=Object(r.c)({error:qp,fetched:Vp,pending:Hp});var Kp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.t:return!1;case Le.u:return!0;default:return e}};var Jp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.t:return!0;case Le.u:return!1;default:return e}},Yp=Object(r.c)({fetched:Kp,pending:Jp});var zp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.A:case Le.B:return null;case Le.z:return t.payload;default:return e}};var Qp=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.A:case Le.z:return!1;case Le.B:return!0;default:return e}};var Xp=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.A:return!0;case Le.B:case Le.z:return!1;default:return e}},$p=Object(r.c)({error:zp,fetched:Qp,pending:Xp});var Zp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.w:case Le.x:return null;case Le.v:return t.payload;default:return e}};var ef=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.v:case Le.x:return!0;case Le.w:return!1;default:return e}};var tf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.v:case Le.x:return null;case Le.w:const{id:n}=t.payload;return n;default:return e}},nf=Object(r.c)({error:Zp,fetched:ef,pending:tf}),rf=Object(r.c)({addSubreddit:xp,create:Rp,deleteMulti:Up,duplicate:Bp,edit:Wp,forUser:Yp,recommendations:$p,removeSubreddit:nf}),sf=n("./node_modules/lodash/union.js"),of=n.n(sf);function cf(e,t,n){let r,s,o=e.length-1,i=0;for(;i<=o;){const c=n(r=e[s=(i+o)/2|0],t);if(c<0){if((i=s+1)>o)return i}else{if(!(c>0))return s;if((o=s-1)<i)return o+1}}return(i+o)/2|0}var af=n("./src/reddit/actions/profile/constants.ts");const df={};var uf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:df,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.l:case Le.r:case Le.u:case af.h:{const{multireddits:n,multiredditsByUser:r,multiredditsModelsState:s}=t.payload,o=Object.assign({},e),i=Object.assign({},n,s);for(const t in r){const n=r[t],s=e[t];o[t]=of()(s,n).sort((e,t)=>i[e].displayText.toLowerCase()>i[t].displayText.toLowerCase()?1:-1)}return lr()(e,o)?e:o}case Le.g:case Le.m:{const{userId:n,multireddit:r}=t.payload,s=e[n]?e[n].slice():[],o=cf(s,r.url,(e,t)=>e>t?1:-1);return s.splice(o,0,r.url),Object.assign({},e,{[n]:s})}case Le.j:{const n=t.payload;for(const t in e){const r=e[t];if(r.indexOf(n)>-1)return Object.assign({},e,{[t]:r.filter(e=>e!==n)})}return e}default:return e}},lf=n("./src/reddit/actions/subscription/constants.ts"),bf=n("./src/reddit/models/Multireddit/index.ts");const pf={};var ff=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.l:case Le.r:case Le.u:case af.h:{let n={};for(const r in t.payload.multireddits){const s=Object.assign({},t.payload.multireddits[r]),o=e[r];o&&!Object(bf.g)(s)&&(s.subredditIds=o.subredditIds,s.profileIds=o.profileIds),r in e&&lr()(e[s.url],s)||(n=Object.assign({},n,{[r]:s}))}return on()(n)?e:Object.assign({},e,n)}case Le.g:case Le.m:{const{multireddit:n}=t.payload;return Object.assign({},e,{[n.url]:n})}case Le.j:{const n=t.payload,r=Object.assign({},e);return delete r[n],r}case Le.p:{const n=t.payload;return Object.assign({},e,{[n.url]:n})}case Le.x:{const{id:n,multipath:r,type:s}=t.payload,o=e[r],i="subreddit"===s?(o.subredditIds||[]).filter(e=>e!==n):o.subredditIds,c="profile"===s?(o.profileIds||[]).filter(e=>e!==n):o.profileIds;return Object.assign({},e,{[r]:Object.assign({},o,{profileIds:c,subredditIds:i})})}case lf.d:{const{makeFavorite:n,multiredditPath:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFavorited:n})})}case lf.e:{const{follow:n,multiredditPath:r}=t.payload;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFollowed:n,isFavorited:!1})})}case Le.c:{const{id:n,multipaths:r,type:s}=t.payload,o=r.reduce((t,r)=>{const o=e[r],i="subreddit"===s?[...o.subredditIds||[],n]:o.subredditIds,c="profile"===s?[...o.profileIds||[],n]:o.profileIds;return Object.assign({},t,{[r]:Object.assign({},o,{subredditIds:i,profileIds:c})})},{});return Object.assign({},e,o)}default:return e}};const mf={};var Of=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.B:{const{multipath:n,subreddits:r}=t.payload;return Object.assign({},e,{[n]:Object.keys(r)})}default:return e}},gf=Object(r.c)({api:rf,byUserId:uf,models:ff,recommendations:Of});var jf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.J:case w.H:return null;case w.G:return t.payload;default:return e}};const yf={};var _f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.J:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(D.d)(n,r);return Object.assign({},e,{[s]:!0})}case w.H:case w.G:{const{subredditId:n,fetchedToken:r}=t.payload,s=Object(D.d)(n,r);return Object.assign({},e,{[s]:!1})}default:return e}},hf=Object(r.c)({error:jf,pending:_f});const Ef={};var If=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ef,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{fetchedToken:n,subredditId:r}=t.payload,s=Object(D.d)(r,n);return Object.assign({},e,{[s]:!0})}default:return e}};var vf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht.b:return t.payload;default:return e}};const Sf={};var Tf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{subredditId:e,after:n}=t.payload;return{[e]:n}}default:return e}};const Cf={};var wf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.I:case w.H:{const{subredditId:n,mutedUsers:r}=t.payload,s={[n]:r};return F()(Object.assign({},e),s)}case w.N:{const{subredditId:n,userId:r}=t.payload,s=Object.assign({},e);return delete s[n][r],s}default:return e}};var xf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:case w.L:return null;case w.K:return t.payload;default:return e}};var Df=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:return!0;case w.L:case w.K:return!1;default:return e}},Pf=Object(r.c)({error:xf,pending:Df});var Af=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:case w.K:return null;case w.L:{const e=t.payload.mutedUserIds[0];return e?t.payload.mutedUsers[e]:null}default:return e}},Rf=Object(r.c)({api:Pf,result:Af});const Nf={};var kf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.H:{const{subredditId:n,mutedUserIds:r}=t.payload;return e[n]?Object.assign({},e,{[n]:[...e[n],...r]}):Object.assign({},e,{[n]:r})}case w.N:{const{subredditId:n,userId:r}=t.payload;return{[n]:e[n].filter(e=>e!==r)}}case w.I:{const{subredditId:n,mutedUserIds:r}=t.payload,s=r[0];return s&&e[n]&&-1===e[n].indexOf(s)?{[n]:[s,...e[n]]}:e}default:return e}},Lf=Object(r.c)({api:hf,fetchedTokens:If,inContext:vf,loadMore:Tf,models:wf,search:Rf,userOrder:kf}),Uf=n("./src/reddit/actions/notificationBanner.ts");var Mf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uf.b:return t.payload.notificationBannerId;case Uf.a:return null;default:return e}},Ff=n("./src/reddit/actions/nps.ts");const Gf={pending:!1,success:!1,dest:void 0};var Bf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ff.c:return Object.assign({},Gf,{pending:!0});case Ff.a:return Gf;case Ff.b:{const{dest:e}=t.payload;return Object.assign({},Gf,{success:!0,dest:e})}default:return e}},qf=n("./src/reddit/actions/oldSiteRules.ts");const Vf=[];var Hf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qf.a:return t.payload.oldSiteRules;default:return e}};const Wf=[];var Kf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.a:{const{pageExperimentVariants:e}=t.payload;return(e?e.experiments:[]).map(e=>{let{id:t,experimentName:n,name:r,version:s}=e;return{id:parseInt(t),name:n,variant:r||void 0,version:s}})}default:return e}};var Jf=Object(r.c)({models:Kf,canonicalUrl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.a:{const{pageExperimentVariants:e}=t.payload;return e&&e.canonicalUrl?e.canonicalUrl:null}default:return e}}}),Yf=Object(r.c)({experiments:Jf}),zf=n("./node_modules/history/esm/history.js"),Qf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Xf={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}},$f=(e,t)=>({key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}),Zf=(e,t,n,r)=>{const s=n.route,{action:o}=s,i=Qf(s,["action"]);return{key:e,locationState:r.state,meta:n.route.meta,queryParams:n.match.queryParams,routeMatch:Object.assign({},n,{route:i}),status:200,url:t,urlParams:n.match.params}};var em=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:{const n=e.currentPage,r=t.payload,{routeMatch:s,location:o}=r,{key:i}=o;if(void 0===i)return e;const c=Object(zf.e)(o),a=s?Zf(i,c,s,o):$f(i,c);let{referrers:d}=e;if("PUSH"===r.action){const e=n&&n.url||"";d=Object.assign({},d,{[i]:e})}else if("REPLACE"===r.action&&n&&d[n.key]){const e=n.key,t=d[e],r=Qf(d,["symbol"==typeof e?e:e+""]);d=Object.assign({},r,{[i]:t})}return Object.assign({},e,{referrers:d,currentPage:a,lastPage:n})}case f.e:{const n=t.payload,{key:r,meta:s}=n;return Object.assign({},e,{metas:Object.assign({},e.metas,{[r]:s})})}case f.f:{if(!e.currentPage)return e;const n=t.payload,r=Object.assign({},e.currentPage,{status:n});return Object.assign({},e,{currentPage:r})}case Ue.b:case re.b:return!e.currentPage||t.payload.postMeta,e;case f.b:return e;case f.d:{const{allowNavigationCallback:n}=t.payload;return Object.assign({},e,{allowNavigationCallback:n})}case f.c:return Object.assign({},e,{allowNavigationCallback:null});default:return e}},tm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const nm={};var rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n}=t.payload.pollResults,r=n;e[r];return tm(e,["symbol"==typeof r?r:r+""])}case l.j:{const{pollId:n}=t.payload,r=n;e[r];return tm(e,["symbol"==typeof r?r:r+""])}case l.i:{const{pollId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const sm={};var om=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n}=t.payload.pollResults;return Object.assign({},e,{[n]:!1})}case l.i:{const{pollId:n}=t.payload;return Object.assign({},e,{[n]:!1})}case l.j:{const{pollId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},im=Object(r.c)({error:rm,pending:om}),cm=Object(r.c)({voting:im});const am={};var dm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:am,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:{const{poll:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case re.g:case ae.b:case ue.i:case ke.b:case Ue.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t].poll;return e[r.id]=r,e},{});return Object.assign({},e,t)}return e}default:return e}};const um={};var lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:um,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[ti.b.ByVoters]:n,pollId:r}=t.payload.pollResults;return Object.assign({},e,{[r]:n})}case re.g:case ae.b:case ue.i:case ke.b:case Ue.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[ti.b.ByVoters]:s,pollId:o}=r.pollResults;return e[o]=s,e},{});return Object.assign({},e,t)}return e}default:return e}};const bm={};var pm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{[ti.b.ByVotingPower]:n,pollId:r}=t.payload.pollResults;return Object.assign({},e,{[r]:n})}case re.g:case ae.b:case ue.i:case ke.b:case Ue.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t],{[ti.b.ByVotingPower]:s,pollId:o}=r.pollResults;return e[o]=s,e},{});return Object.assign({},e,t)}return e}default:return e}},fm=Object(r.c)({byVoters:lm,byVotingPower:pm});const mm={};var Om=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:{const{pollId:n,rewardPoints:r}=t.payload.pollResults;return r?Object.assign({},e,{[n]:r}):e}default:return e}},gm=Object(r.c)({api:cm,models:dm,results:fm,rewards:Om});const jm={reorderError:null,updateDescriptionError:null,updateLayoutError:null};var ym=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Is.i:case Is.j:return Object.assign({},e,{reorderError:null});case Is.h:return Object.assign({},e,{reorderError:t.payload});case Is.l:case Is.m:return Object.assign({},e,{updateDescriptionError:null});case Is.k:return Object.assign({},e,{updateDescriptionError:t.payload});case Is.p:case Is.q:return Object.assign({},e,{updateLayoutError:null});case Is.o:return Object.assign({},e,{updateLayoutError:t.payload});default:return e}};const _m={reorderPending:!1,updateDescriptionPending:!1,updateLayoutPending:!1};var hm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Is.i:return Object.assign({},e,{reorderPending:!0});case Is.h:case Is.j:return Object.assign({},e,{reorderPending:!1});case Is.l:return Object.assign({},e,{updateDescriptionPending:!0});case Is.k:case Is.m:return Object.assign({},e,{updateDescriptionPending:!1});case Is.p:return Object.assign({},e,{updateLayoutPending:!0});case Is.o:case Is.q:return Object.assign({},e,{updateLayoutPending:!1});default:return e}},Em=Object(r.c)({error:ym,pending:hm}),Im=n("./src/reddit/helpers/path/index.ts");const vm={},Sm=e=>{const{protocol:t,domain:n}=e;return e=>{const r=Object(Im.b)(e.permalink);return Object.assign({},e,{permalink:"".concat(t,"://").concat(n).concat(r)})}};var Tm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Me.e:case Me.h:case se.b:case se.e:case Ge.e:case Ge.b:case oe.e:case oe.b:case ae.b:case re.g:case re.l:case ae.b:case Ue.b:case re.b:case h.e:case Le.r:case ke.b:case de.e:case qe.b:case ue.i:case Ve.c:case Be.b:case ce.c:case Is.f:{const{collections:n,meta:r}=t.payload;if(!n)return e;let s=n;if(r){const e=Sm(r);s=pr()(n,e)}return Object.assign({},e,s)}case Is.d:{const{collection:n,meta:r}=t.payload;if(!n)return e;const s=n.id;let o=n;if(r){o=Sm(r)(n)}return Object.assign({},e,{[s]:o})}case Is.g:{const{collectionId:n,postId:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{postIds:s.postIds.filter(e=>e!==r)})}):e}case Is.a:{const{collectionId:n,postId:r}=t.payload,s=e[n];return s&&r?Object.assign({},e,{[n]:Object.assign({},s,{postIds:[...s.postIds,r]})}):e}case Is.e:{const{collectionId:n}=t.payload,r=Object.assign({},e);return delete r[n],r}case Is.s:{const{collectionId:n,newTitle:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{title:r})}):e}case Is.j:{const{collectionId:n,postIds:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{postIds:[...r]})}):e}case Is.m:{const{collectionId:n,newDescription:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{description:r})}):e}case Is.q:{const{collectionId:n,newLayout:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{displayLayout:r})}):e}default:return e}};const Cm={};var wm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case Is.f:{const{collections:n}=t.payload;if(!n)return e;const r=Object.keys(n);if(!r.length)return e;const{subredditId:s}=n[r[0]];return Object.assign({},e,{[s]:r})}case Is.d:{const{collection:n}=t.payload,{subredditId:r}=n,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n.id]})}case Is.e:{const{collectionId:n,collection:r}=t.payload;if(!r)return e;const s=r&&e[r.subredditId];return s?Object.assign({},e,{[r.subredditId]:s.filter(e=>e!==n)}):e}default:return e}},xm=Object(r.c)({models:Tm,subredditToIds:wm,api:Em}),Dm=n("./src/reddit/actions/postFlair.ts"),Pm=n("./src/reddit/models/Flair/index.ts");const Am={},Rm={displaySettings:{isEnabled:!1,position:Pm.b.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},Nm=(e,t)=>{if(!t)return e;const n=Object.keys(t);return 0===n.length?e:n.reduce((e,n)=>(e[n]=Object.assign({},Rm,e[n],t[n]),e),Object.assign({},e))};var km=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Am,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:case ke.b:case Me.e:case Me.h:case Le.r:case Su.b:case Ue.b:case re.b:case re.g:case re.l:case ce.c:case ae.b:case se.b:case se.e:case ie.c:case ie.i:case ie.e:case ie.g:case de.e:case Be.b:case Be.b:case Ge.b:case Ge.e:case oe.b:case oe.e:case qe.b:case Ve.c:case Ve.c:case ue.i:return Nm(e,t.payload.postFlair);case Dm.c:{const{subredditId:n,isEnabled:r}=t.payload,s=e[n].displaySettings,o=Object.assign({},s,{isEnabled:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{displaySettings:o})})}case Dm.a:{const{subredditId:n,canAssignOwn:r}=t.payload,s=e[n].permissions,o=Object.assign({},s,{canAssignOwn:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{permissions:o})})}case Dm.f:{const{subredditId:n,template:r}=t.payload,s=e[n],{templates:o,templateIds:i}=s,c=Object.assign({},o,{[r.id]:r}),a=[...i];return a.includes(r.id)||a.push(r.id),Object.assign({},e,{[n]:Object.assign({},s,{templates:c,templateIds:a})})}case Dm.b:{const{subredditId:n,templateId:r}=t.payload,s=e[n],{templates:o,templateIds:i}=s,c=mr()(o,r),a=i.filter(e=>e!==r);return Object.assign({},e,{[n]:Object.assign({},s,{templates:c,templateIds:a})})}case Dm.e:case Dm.d:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templateIds:n.templateIds})})}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload;return Nm(e,n.postFlair)}default:return e}},Lm=n("./src/reddit/actions/postRequirements/constants.ts");const Um={};var Mm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Um,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lm.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Lm.c:case Lm.b:{const{subredditName:n}=t.payload;return Object(hu.a)(e,n)}default:return e}};const Fm={};var Gm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lm.c:case Lm.a:case Lm.b:{const{subredditName:n}=t.payload,r=t.type===Lm.c;return Object.assign({},e,{[n]:r})}default:return e}},Bm=Object(r.c)({error:Mm,pending:Gm}),qm=Object(r.c)({fetch:Bm});const Vm={};var Hm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lm.b:{const{subredditName:n,requirements:r}=t.payload;return Object.assign({},e,{[n]:r})}case Lm.d:{const{subredditName:n,partialRequirements:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,r)}):e}default:return e}},Wm=Object(r.c)({api:qm,models:Hm}),Km=n("./src/reddit/actions/inFeedChaining.ts");var Jm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Km.a:return t.payload.isDismissed;default:return e}};const Ym={};var zm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ym,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Km.c:{const{isDismissed:n,listingKey:r,postId:s}=t.payload;if(n)return Object.assign({},e,{[s]:r});const o=Object.assign({},e);return delete o[s],o}default:return e}};const Qm={};var Xm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Km.b:return Object.assign({},e,{[t.payload.postId]:t.payload.listingKey});default:return e}},$m=Object(r.c)({dismissed:Jm,dismissedIdToListingKey:zm,idToListingKey:Xm}),Zm=n("./src/reddit/actions/embedAndImage.ts");const eO={};var tO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zm.b:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case Zm.a:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e},nO=Object(r.c)({loadable:tO});const rO={};var sO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.c:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!e[n]})}default:return e}};var oO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.d:{const{postId:e}=t.payload;return e}default:return e}};const iO={};var cO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.e:case Me.h:case re.g:case ae.b:case ke.b:case de.e:case qe.b:case ue.i:case Ve.c:case ce.c:return $()(Object.assign({},e),t.payload.postInstances,(e,t)=>{if(e)return e.concat(t)});default:return e}};const aO={};var dO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.h:{const{poll:n}=t.payload;return Object.assign({},e,{[n.postId]:n.id})}case re.g:case ae.b:case ue.i:case ke.b:case Ue.b:case re.b:{const{governance:n}=t.payload;if(n){const t=Object.keys(n).reduce((e,t)=>{const r=n[t];return e[t]=r.poll.id,e},{});return Object.assign({},e,t)}return e}default:return e}},uO=n("./src/reddit/actions/events.ts"),lO=n("./src/reddit/actions/flairManagement/constants.ts"),bO=n("./src/reddit/actions/monthsToMinutes.ts"),pO=n("./src/reddit/actions/subredditTopContent.ts"),fO=n("./src/reddit/helpers/isPost.ts"),mO=n("./node_modules/lodash/pickBy.js"),OO=n.n(mO);function gO(e,t){const n=OO()(t,(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!e[n]||!lr()(e[n],t)}));return Object.keys(n).length>0?Object.assign({},e,n):e}var jO=n("./src/reddit/models/Media/index.ts"),yO=n("./src/reddit/models/Post/index.ts"),_O=n("./src/reddit/actions/subredditDuplicates.ts"),hO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const EO={},IO=e=>{const{protocol:t,domain:n}=e;return e=>{const r=Object(Im.b)(e.permalink);return Object.assign({},e,{permalink:"".concat(t,"://").concat(n).concat(r)})}},vO=e=>t=>{const n=e[t.id];return n&&n.events&&(t.events=n.events,t.source=n.source),t},SO=e=>t=>{const n=e[t.id];return n&&n.isSponsored&&(t.isSponsored=n.isSponsored),t},TO=e=>t=>{const n=e[t.id];return n&&n.numDuplicates&&(t.numDuplicates=n.numDuplicates),t},CO=e=>t=>{const n=e[t.id];return t&&t.media&&n&&n.media&&Object(jO.C)(t.media)&&t.media.isRichtextPreview&&Object(jO.C)(n.media)&&!n.media.isRichtextPreview&&(t.media.richtextContent=n.media.richtextContent,t.media.isRichtextPreview=!1),t},wO=e=>{let t=e.source;return t&&t.outboundUrlCreated&&(t=Object.assign({},t,{outboundUrlReceived:Date.now()}),e.source=t),e},xO=e=>{const{allAwardings:t}=e,n=hO(e,["allAwardings"]);if(!t)return e;const r={};for(const s of t)r[s.id]=s.count;return Object.assign({},n,{awardCountsById:r})},DO=e=>t=>{for(let n=0;n<e.length;n++)t=e[n](t);return t},PO=(e,t)=>Object.assign({},e,{events:t.events,source:t.source}),AO=(e,t)=>{const n={},r=t.posts;return Object.keys(r).length?(Object.keys(r).map(t=>{const s=r[t],o=e[t];o&&(n[t]=o.voteState===Er.a.notVoted?Object(Er.c)(o,s):o)}),Object.assign({},e,n)):e};var RO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:if(_o(t)===(Os.xb.COMMENTS||Os.xb.DUPLICATES)){const n=ho(t),r=Eo(t);if(n&&n.instanceId&&r&&r.partialPostId){const t=n.instanceId,s=Object(yO.l)(r.partialPostId);if(e[s]&&e[t])return Object.assign({},e,{[s]:PO(e[s],e[t])})}}return e;case Ue.b:case re.b:{const n=IO(t.payload.meta);return Object.assign({},e,pr()(t.payload.posts,DO([n,wO,xO,vO(e),SO(e),TO(e)])))}case h.e:return gO(e,t.payload);case h.i:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case _O.a:return gO(e,t.payload.posts);case Fe.b:case Me.e:case Me.h:case se.b:case se.e:case Ge.e:case Ge.b:case oe.e:case oe.b:case ae.b:case re.g:case re.l:case ae.b:case Su.b:case Le.r:case ke.b:case de.e:case qe.b:case wu.h:case ue.i:case Be.b:{const n=IO(t.payload.meta);return Object.assign({},e,pr()(t.payload.posts,DO([n,wO,xO,CO(e),TO(e)])))}case Su.b:{const n=IO(t.payload.meta),r=e[t.payload.postId];return Object.assign({},e,pr()(t.payload.posts,DO([n,wO,xO,CO(e),TO(e)])),{[t.payload.postId]:Object.assign({},r,{numDuplicates:t.payload.count})})}case Ne.e:case Ve.c:case ce.c:{const n=IO(t.payload.meta),r=pr()(t.payload.posts,DO([n,xO,wO]));return $()(Object.assign({},e),r,(e,t)=>Object.assign({},t,e))}case h.f:{const n=t.payload;return $()(Object.assign({},e),n,(e,t)=>Object.assign({},e,t))}case gr.a:{const{id:n,vote:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object(Er.c)(s,r)}):e}case ee.a:case Z.F:{const n=t.payload.comment.postId,r=e[n];if(r){const s=void 0!==t.payload.numComments?t.payload.numComments:r.numComments+1;return Object.assign({},e,{[n]:Object.assign({},r,{numComments:s})})}return e}case Z.x:{const n=t.payload.postId,r=e[n];return r?Object.assign({},e,{[n]:Object.assign({},r,{numComments:r.numComments-1})}):e}case ge.q:{const{id:n,awardings:r,gilder:s}=t.payload,o=e[n];return o?Object.assign({},e,{[n]:_r(o,r,s)}):e}case w.l:{const{posts:n}=t.payload;return Object.assign({},e,n)}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{posts:r}=n;return Object.assign({},e,pr()(r,DO([xO])))}case Or.b:case ne.s:{const{operation:n,ids:r,username:s,options:o}=t.payload,i=r.filter(e=>Object(fO.a)(e)),c=Object(hr.d)(e,n,i,s,o);return $()(Object.assign({},e),c,(e,t)=>Object.assign({},e,t))}case bO.a:return AO(e,t.payload);case bO.e:{const n=t.payload;return AO(e,n.votes)}case Is.t:{const{postId:n,collectionId:r}=t.payload,s=e[n];if(s&&r){const t=s.collectionIds||[];return t.push(r),Object.assign({},e,{[n]:Object.assign({},s,{collectionIds:[...t]})})}return e}case Is.e:{const{collectionId:n,collection:r}=t.payload,s=r&&r.postIds||[],o={};return s.forEach(t=>{const r=e[t],s=r&&r.collectionIds;if(s){const e=s.filter(e=>e!==n);o[t]=Object.assign({},r,{collectionIds:e})}}),Object.assign({},e,o)}case Is.g:{const{collectionId:n,postId:r}=t.payload;if(!n||!r)return e;const s=e[r],o=s&&s.collectionIds;if(!o)return e;const i=o.filter(e=>e!==n);return Object.assign({},e,{[r]:Object.assign({},s,{collectionIds:i})})}case uO.START_EVENT_NOW_SUCCESS:{const{postId:n}=t.payload;if(!n)return e;const r=e[n];if(!r||!r.eventInfo)return e;const s=r.eventInfo;return Object.assign({},e,{[n]:Object.assign({},r,{eventInfo:Object.assign({},s,{eventIsLive:!0})})})}case uO.EDIT_EVENT_TIME_SUCCESS:{const{postId:n,eventInfo:r}=t.payload;if(!n||!r)return e;const s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{eventInfo:Object.assign({},r)})}):e}case Oa.e:{const n=t.payload.subredditTopContent;return n&&n.posts&&Object.keys(n.posts)?Object.assign({},pr()(n.posts,DO([xO])),e):e}case ie.c:case ie.i:case ie.e:case ie.g:case pO.b:return Object.assign({},pr()(t.payload.posts,DO([xO])),e);case h.h:{const{postId:n,richtextContent:r}=t.payload,s=e[n];return s&&s.media&&Object(jO.C)(s.media)?Object.assign({},e,{[n]:Object.assign({},s,{media:Object.assign({},s.media,{richtextContent:r,isRichtextPreview:!1})})}):e}case lO.a:{const n=t.payload;return Object.assign({},e,{[n.id]:n})}case lO.b:{const n=t.payload;return Object(hu.a)(e,n)}case Qu.a:{const{isDeleted:n,height:r,postId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s],{media:Object.assign({},e[s].media,{height:r,isDeleted:n})})})}default:return e}};const NO=[];var kO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.g:{const{postIds:e}=t.payload;return e}case re.g:case ae.b:{const{recentPostIds:n}=t.payload;return n&&n.length?n:e}default:return e}};var LO=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.c:case no.b:return!1;case no.a:return!0;default:return e}};var UO=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.c:return!0;case no.b:case no.a:return!1;default:return e}},MO=Object(r.c)({error:LO,pending:UO});const FO={};var GO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.b:{const{subredditInfoById:n}=t.payload,{id:r}=n,s=n.scheduledPosts.standalonePosts.edges.reduce((e,t)=>(e[t.node.id]=t,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r]||{},s)})}case no.e:case no.g:{const{subredditId:n,scheduledPostId:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},Object.keys(s).filter(e=>e!==r).reduce((e,t)=>(e[t]=s[t],e),{}))})}case no.d:{const{subredditId:n}=t.payload;return Object.keys(e).reduce((t,r)=>(r!==n&&(t[r]=e[r]),t),{})}default:return e}};const BO={};var qO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.b:{const{subredditInfoById:n}=t.payload,r=n.id,{pageInfo:s}=n.scheduledPosts.standalonePosts;return Object.assign({},e,{[r]:Object.assign({},s)})}case no.d:{const{subredditId:n}=t.payload;return Object.keys(e).reduce((t,r)=>(r!==n&&(t[r]=e[r]),t),{})}default:return e}},VO=n("./node_modules/lodash/uniq.js"),HO=n.n(VO);const WO={};var KO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case no.b:{const{subredditInfoById:n}=t.payload,r=n.id,s=n.scheduledPosts.standalonePostsIds;return Object.assign({},e,{[r]:HO()([...e[r]||[],...s])})}case no.e:case no.g:{const{subredditId:n,scheduledPostId:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:s.filter(e=>e!==r)})}case no.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:[]})}default:return e}},JO=Object(r.c)({models:GO,pageInfo:qO,postOrder:KO}),YO=Object(r.c)({api:MO,standalonePosts:JO});const zO={};var QO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.k:{const{auto:n,postId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const XO={};var $O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.g:{const{postId:n,isBuffering:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const ZO={};var eg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.h:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}};const tg={};var ng=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.i:{const{postId:n,time:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};var rg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.q:{const{postId:e}=t.payload;return e}case E.j:return null;default:return e}};const sg={};var og=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.t:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case E.k:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e};const ig={};var cg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ig,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.n:{const{postId:n,time:r}=t.payload,s=e[n]||{cached:!0,start:r};return r<s.start?e:Object.assign({},e,{[n]:Object.assign({},s,{playable:r})})}case E.l:{const{postId:n,time:r}=t.payload;return Object.assign({},e,{[n]:{cached:!1,start:r}})}default:return e}};const ag={};var dg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ag,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.p:{const{postId:n,metadata:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const ug={};var lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ug,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.u:{const{postId:n}=t.payload;return e[n]?Object.assign({},e,{[n]:!1}):e}case E.m:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}}return e};const bg={};var pg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.o:{const{postId:n,isPlaying:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const fg={};var mg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.r:{const{postId:n}=t.payload;return Object.assign({},e,{[n]:!0})}default:return e}},Og=(n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./src/reddit/constants/video.ts"));const gg={};var jg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.s:{const{postId:n,time:r}=t.payload;return e[n]&&parseInt(r.currentTime.toString(),10)-parseInt(e[n].currentTime.toString(),10)<Og.k?e:Object.assign({},e,{[n]:r})}default:return e}},yg=Object(r.c)({autoPlayed:QO,buffering:$O,consumed:eg,continuousViewStartedAt:ng,fullscreen:rg,loadable:og,loadTimes:cg,metadata:dg,paused:lg,playing:pg,started:mg,time:jg}),_g=Object(r.c)({chained:$m,embedAndImage:nO,expanded:sO,focus:oO,instances:cO,metaMap:dO,models:RO,recent:kO,scheduledPosts:YO,video:yg}),hg=n("./src/lib/reducers/addAuthentication/index.ts");const Eg={};var Ig=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.b:case re.b:{const{postId:n,commentLists:r,comments:s}=t.payload,o=r[n]&&r[n].head;return o&&s[o.id]&&s[o.id].isStickied?Object.assign({},e,{[n]:o.id}):e}case Z.B:{const{id:e,postId:n}=t.payload;return{[n]:e}}default:return e}}),Eg),vg=Object(r.c)({data:Ig});const Sg={};var Tg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:case O.g:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case O.e:{const{subredditId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Cg={};var wg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case O.g:case O.e:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},xg=Object(r.c)({error:Tg,pending:wg});const Dg={};var Pg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.d:{const{product:n}=t.payload;return Object.assign({},e,{[n.id]:void 0})}case O.c:case b.f:case b.g:case b.i:case b.j:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:void 0})}case O.a:case b.d:case b.h:{const{productId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Ag={};var Rg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ag,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.c:case b.f:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case O.d:{const{product:n}=t.payload;return Object.assign({},e,{[n.id]:!1})}case O.a:case b.d:case b.g:{const{productId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Ng=Object(r.c)({error:Pg,pending:Rg}),kg=Object(r.c)({fetch:xg,purchase:Ng});var Lg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.b:return t.payload.productId;case s.b:return null;default:return e}};const Ug={};var Mg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ug,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case O.g:{const{products:n}=t.payload;return Object.assign({},e,n)}default:return e}},Fg=Object(r.c)({api:kg,currentlyPurchasing:Lg,models:Mg});const Gg={};var Bg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.f:case se.e:case se.c:case se.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case se.d:case se.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const qg={};var Vg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.f:case se.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case se.e:case se.d:case se.b:case se.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Hg=Object(r.c)({error:Bg,pending:Vg});const Wg={};var Kg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.e:{const{key:n,commentIds:r}=t.payload;return Object.assign({},e,{[n]:r})}case se.b:{const{key:n,commentIds:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:s.concat(r)})}default:return e}},Jg=n("./src/reddit/actions/comment/list.ts");const Yg={};var zg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jg.a:{const{listingKey:n,listingName:r}=t.payload;return Object.assign({},e,{[n]:r})}case Jg.b:{const{listingKey:n}=t.payload;return n in e?mr()(e,n):e}default:return e}};const Qg={};var Xg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case se.b:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}default:return e}};const $g={};var Zg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.e:case se.b:{const{key:n,dist:r,token:s}=t.payload;return s?Object.assign({},e,{[n]:{dist:r,token:s}}):Object(hu.a)(e,n)}default:return e}},ej=Object(r.c)({api:Hg,endMarkers:zg,fetchedTokens:Xg,commentIds:Kg,loadMore:Zg}),tj=n("./src/reddit/actions/pages/profileModSettings.ts");var nj=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tj.a:return!1;default:return e}},rj=Object(r.c)({pending:nj}),sj=Object(r.c)({api:rj});const oj={};var ij=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.c:case Ge.b:case Be.c:case Be.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ge.a:case Be.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const cj={};var aj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.c:case Be.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ge.b:case Ge.a:case Be.b:case Be.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},dj=Object(r.c)({error:ij,pending:aj});const uj={};var lj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:{}})}case Be.b:{const{key:n,fetchedToken:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{[r]:!0})})}default:return e}};const bj={};var pj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.b:case Be.b:{const{key:n,overviewIds:r}=t.payload,s=e[n]||[];return Object.assign({},e,{[n]:[...s,...r]})}default:return e}};const fj={};var mj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.b:case Be.b:{const{key:n,dist:r,token:s}=t.payload;return s?Object.assign({},e,{[n]:{dist:r,token:s}}):Object(hu.a)(e,n)}default:return e}},Oj=Object(r.c)({api:dj,fetchedTokens:lj,ids:pj,loadMore:mj});const gj={};var jj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.f:case Ge.e:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case Ge.d:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const yj={};var _j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.f:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case Ge.e:case Ge.d:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},hj=Object(r.c)({error:jj,pending:_j});const Ej={};var Ij=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ej,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.c:case de.b:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:null})}case de.a:{const{extraCommentsId:n,error:r}=t.payload;return Object.assign({},e,{[n]:r||{}})}default:return e}};const vj={};var Sj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.c:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case de.b:case de.a:{const{extraCommentsId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Tj=Object(r.c)({error:Ij,pending:Sj});const Cj={};var wj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.e:case de.b:case de.e:return Object.assign({},e,t.payload.extraComments);default:return e}},xj=Object(r.c)({api:Tj,models:wj}),Dj=n("./src/lib/makeOverviewConversationsItemKey/index.ts"),Pj=n("./src/reddit/constants/comments.ts");const Aj={};function Rj(e){const t=e;return pr()(t,e=>{let{depth:t,next:n,prev:r}=e;return{depth:t,next:n,prev:r}})}const Nj=(e,t,n)=>{const r={};for(const s in t){const e=t[s],n=e.postId;r.hasOwnProperty(n)?r[n]=Object.assign({},r[n],{[s]:e}):r[n]={[s]:e}}for(const s in n){const e=n[s],t=e.postId;r.hasOwnProperty(t)?r[t]=Object.assign({},r[t],{[s]:e}):r[t]={[t]:e}}return r};var kj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.e:case de.e:{const{comments:n,extraComments:r,postIds:s,profileName:o}=t.payload,i=Nj(s,n,r),c={};for(const e of s){c[Object(Dj.a)(e,o)]=i.hasOwnProperty(e)?Rj(i[e]):{}}return Object.assign({},e,c)}case de.b:{const{comments:n,commentLists:r,extraComments:s,extraCommentsId:o,postIds:i,profileName:c}=t.payload;if(0===i.length){const t=Object.keys(e).find(t=>void 0!==e[t][o]);if(!t)return e;const n=Object.assign({},e[t])[o].prev,r=n&&n.id||"";return Object.assign({},e,{[t]:Object.assign({},e[t],{[r]:Object.assign({},e[t][r],{next:null})})})}const a=i[0],d=Rj(Nj(i,n,s)[a]),u=Object(Dj.a)(a,c),l=Object.assign({},e[u]),b=l[o].prev,p=b&&b.id||"",f=r[a].head,m=f&&f.id||"",O={id:m,type:Pj.a.Comment},g=Object.assign({},l,{[p]:Object.assign({},l[p],{next:O})},d,{[m]:Object.assign({},d[m],{prev:b})});return Object.assign({},e,{[u]:g})}default:return e}};const Lj={};var Uj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.e:case de.e:{const{commentLists:n,postIds:r,profileName:s}=t.payload,o={};for(const e of r){o[Object(Dj.a)(e,s)]=n[e]&&n[e].head?n[e].head.id:null}return Object.assign({},e,o)}default:return e}};const Mj={};var Fj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge.e:case de.e:{const{postIds:n,profileName:r}=t.payload,s={};for(const e of n){s[Object(Dj.a)(e,r)]=e}return Object.assign({},e,s)}default:return e}},Gj=Object(r.c)({api:hj,extraComments:xj,keyToCommentThreadLinkSets:kj,keyToHeadCommentId:Uj,keyToPostId:Fj}),Bj=Object(r.c)({chrono:Oj,conversations:Gj});const qj={};var Vj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qj,t=arguments.length>1?arguments[1]:void 0;return t.type,e};const Hj={};var Wj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.a:case ie.d:{const{listingKey:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case ie.b:case ie.c:case ie.i:case ie.f:case ie.e:case ie.g:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:null})}default:return e}};const Kj={};var Jj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.b:case ie.f:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case ie.a:case ie.d:case ie.c:case ie.i:case ie.e:case ie.g:{const{listingKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Yj=Object(r.c)({error:Wj,pending:Jj});const zj={};var Qj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.c:case ie.i:case ie.e:case ie.g:{const{listingKey:n,itemIds:r}=t.payload;return Object.assign({},e,{[n]:[...e[n]||[],...r]})}default:return e}};const Xj={};var $j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xj,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.i:case ie.c:case ie.e:case ie.g:{const{pageInfo:n,listingKey:r}=t.payload;return n?Object.assign({},e,{[r]:n}):Xj}default:return e}},Zj=Object(r.c)({api:Yj,ids:Qj,pageInfo:$j}),ey=n("./src/reddit/constants/posts.ts");const ty={};var ny=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ty,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:case Ve.c:return Object.assign({},e,t.payload.profileAboutInfo);case af.k:{const n=t.payload;return n.profile?Object.assign({},e,{[n.profile.id]:n.about}):e}case lf.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(e=>e.type===ey.a.PROFILE);return s.length?s.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:r}),e),Object.assign({},e)):e}case Gu.m:{const n=t.payload,r=e[n.subredditId];if(!r)return e;if(r.publicDescription===n.settings.publicDescription)return e;const s=Object.assign({},r,{publicDescription:n.settings.publicDescription});return Object.assign({},e,{[n.subredditId]:s})}default:return e}};const ry={},sy=(e,t)=>{if(!t)return e;const n=Object.keys(t);if(!n.length)return e;const r={};return n.forEach(n=>{const s=e[n],o=Object.assign({},t[n]);s&&lr()(s,o)||(r[n]=o)}),Object.keys(r).length?Object.assign({},e,r):e};var oy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ry,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.b:case Ue.b:case re.b:case re.g:case se.b:case se.e:case ie.c:case ie.i:case ie.e:case ie.g:case Ge.b:case Ge.e:case oe.e:case Be.b:case ke.b:case Me.e:case Me.h:case Le.u:case af.h:case Su.b:case Ve.c:case ue.i:case af.l:case de.b:case de.e:case ce.c:case Fe.b:case ws.e:case go.a:case ae.b:case re.l:case qe.b:case lf.c:return sy(e,t.payload.profiles);case Ve.e:{const{typeaheadSuggestions:n}=t.payload;return Object.keys(n).length?sy(e,n.profiles):e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:case ne.k:{const{response:n}=t.payload,r=n&&n.profiles;return sy(e,r)}case af.k:{const{profile:n}=t.payload;return n?sy(e,{[n.id]:n}):e}case Gu.m:{const n=t.payload,{title:r,over18:s}=n.settings,o=e[n.subredditId];return!o||o.title===r&&o.isNSFW===s?e:Object.assign({},e,{[n.subredditId]:Object.assign({},o,{id:n.subredditId,title:r,isNSFW:s})})}case Gu.k:case Gu.j:{const{imageUrl:n,key:r,subredditId:s}=t.payload;if("profileIcon"!==r)return e;const o=e[s];return o?Object.assign({},e,{[s]:Object.assign({},o,{icon:{height:null,url:n,width:null}})}):e}default:return e}};const iy={};var cy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.c:case af.f:{const{profileName:n}=t.payload;return Object.assign({},e,{[(n||"").toLowerCase()]:!0})}case af.a:case af.b:case af.d:case af.e:{const{profileName:n}=t.payload;return Object.assign({},e,{[(n||"").toLowerCase()]:!1})}default:return e}},ay=Object(r.c)({pending:cy});const dy={};var uy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.b:{const{profileName:n,data:r}=t.payload,s=r.map(e=>e.id);return Object.assign({},e,{[(n||"").toLowerCase()]:s})}case af.e:case ie.c:case ie.i:case ie.e:case ie.g:{const{profileName:n,moderatedSubredditIds:r}=t.payload;return r?Object.assign({},e,{[n]:[...e[n]||[],...r]}):e}default:return e}};const ly={};var by=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.e:{const{pageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}case ie.c:case ie.i:{const{moderatedPageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}},py=Object(r.c)({api:ay,models:uy,pageInfo:by});const fy={};var my=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.i:{const{profileName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case af.g:case af.h:{const{profileName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},Oy=Object(r.c)({pending:my});const gy={};var jy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.h:{const{pageInfo:n,profileName:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}},yy=Object(r.c)({api:Oy,pageInfo:jy}),_y=n("./src/reddit/actions/pinnedPost.ts");const hy={};var Ey=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _y.a:{const{pinned:n,profileId:r}=t.payload;return Object.assign({},e,{[r]:n})}case _y.d:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n].slice(-Os.U)})}case _y.g:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:s.filter(e=>e!==n)})}default:return e}}),hy);const Iy={};var vy=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _y.a:{const{pinned:n,profileId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}}),Iy);const Sy={};var Ty=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _y.c:case _y.f:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:[...s,n]})}case _y.b:case _y.e:case _y.d:case _y.g:{const{postId:n,profileId:r}=t.payload,s=e[r]||[];return Object.assign({},e,{[r]:s.filter(e=>e!==n)})}default:return e}}),Sy),Cy=Object(r.c)({data:Ey,initialData:vy,pending:Ty}),wy=n("./src/reddit/actions/trophyCase.ts");const xy={};var Dy,Py,Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wy.a:{const{profileId:n,trophyIds:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},Ry=Object(r.c)({about:ny,models:oy,moderated:py,multireddits:yy,pinnedPosts:Cy,trophyCases:Ay});n("./src/lib/cache/index.ts");!function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(Dy||(Dy={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(Py||(Py={}));var Ny,ky,Ly;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(Ny||(Ny={})),function(e){e.Test1="test_1",e.Test2="test_2"}(ky||(ky={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Ly||(Ly={}));!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(Ny||(Ny={}));Object(Ca.a)("PROMO__SHOW_PROMO"),Object(Ca.a)("PROMO__HIDE_PROMO");const Uy={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null};var My=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROMO__SHOW_PROMO":{const{promoType:n}=t.payload;return Object.assign({},e,{[n]:!0})}case"PROMO__HIDE_PROMO":{const{promoType:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},Fy=n("./src/reddit/actions/publicAccessNetwork/constants.ts");const Gy={isError:!1,isPending:!1,values:{},isPermanentlyCanceled:!1};var By=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.s:return Object.assign({},e,{isError:!1,isPending:!1,values:Object.assign({},t.payload)});case Fy.D:return Object.assign({},e,{isPending:!0});case Fy.F:return Object.assign({},e,{isError:!0,isPending:!1});case Fy.E:return Object.assign({},e,{isPermanentlyCanceled:!0,isPending:!1});default:return e}},qy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};var Vy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.G:return Object.assign({},e,{[Fy.b]:t.payload.error});case Fy.H:return Object.assign({},e,{[t.payload.streamId]:t.payload.error});case Fy.x:{const t=Fy.b;e[t];return qy(e,["symbol"==typeof t?t:t+""])}case Fy.w:{const n=t.payload.model.post.id;e[n];return qy(e,["symbol"==typeof n?n:n+""])}default:return e}};const Hy=(e,t,n,r)=>Object.assign({},e,{[t]:Object.assign({},e[t],{isPending:n},r&&{utcTimeStamp:r})});var Wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.I:return Hy(e,t.payload,!0);case Fy.J:return Hy(e,Fy.b,!0);case Fy.w:return Hy(e,t.payload.model.post.id,!1,t.payload.utcTimeStamp);case Fy.x:return Hy(e,Fy.b,!1,t.payload.utcTimeStamp);case Fy.H:return Hy(e,t.payload.streamId,!1);case Fy.G:return Hy(e,Fy.b,!1);default:return e}},Ky=Object(r.c)({config:By,error:Vy,pending:Wy});const Jy={cursor:Fy.R,timestamps:{},visitOrder:[]};var Yy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.S:{const n=t.payload,r=e.visitOrder.includes(n)?e.visitOrder:[...e.visitOrder,n],s=r.indexOf(n);return r===e.visitOrder&&s===e.cursor?e:Object.assign({},e,{visitOrder:r,cursor:s})}case g.d:return zy(e,t.payload.id);case Fy.C:return zy(e,t.payload);case h.f:{const n=Object.keys(t.payload).filter(e=>t.payload[e].hidden);return Qy(e,n)}case Fy.O:{const{streamId:n,timestamp:r}=t.payload;return Object.assign({},e,{timestamps:Object.assign({},e.timestamps,{[n]:r})})}default:return e}};const zy=(e,t)=>{const n=e.visitOrder.indexOf(t);if(-1===n)return e;const r=n>e.cursor?e.cursor:Math.max(e.cursor-1,0);return Object.assign({},e,{visitOrder:e.visitOrder.filter(e=>e!==t),cursor:r})},Qy=(e,t)=>{const n=e.visitOrder[e.cursor],r=new Set(t),s=e.visitOrder.filter(e=>!r.has(e)),o=s.indexOf(n),i=o>-1?o:Math.max(e.cursor-1,0);return s.length!==e.visitOrder.length?Object.assign({},e,{cursor:i,visitOrder:s}):e},Xy={ended:[],removed:[]};function $y(e){return[...new Set(e)]}var Zy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.u:return Object.assign({},e,{ended:$y(e.ended.concat(t.payload))});case Fy.v:return Object.assign({},e,{removed:$y(e.removed.concat(t.payload))});default:return e}};const e_={},t_=(e,t)=>{const n=Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:Object.assign({},e[n],{rank:Fy.n})}),{});return t.reduce((e,t,n)=>Object.assign({},e,{[t.post.id]:Object.assign({},t,{rank:Fy.m-n})}),n)},n_=(e,t)=>{const n=t.post.id,r=e[n]?e[n].rank:Fy.n;return Object.assign({},e,{[t.post.id]:Object.assign({},t,{rank:r})})};var r_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.w:return n_(e,t.payload.model);case Fy.x:return t_(e,t.payload.models);case Fy.B:{const n=t.payload.streamId,r=t.payload.isUnsetting?-1:1,s=(t.payload.isUp?1:0)*r,o=(t.payload.isUp?0:1)*r;return Object.assign({},e,{[n]:Object.assign({},e[n],{downvotes:e[n].downvotes+o,upvotes:e[n].upvotes+s})})}default:return e}};const s_={discoveryUnitThumbnails:{},streamPreviews:{}};var o_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.t:return Object.assign({},e,{discoveryUnitThumbnails:Object.assign({},t.payload.reduce((e,t)=>Object.assign({},e,{[t.postId]:t.imageUrl}),{}))});case Fy.y:return Object.assign({},e,{streamPreviews:Object.assign({},e.streamPreviews,t.payload.reduce((e,t)=>Object.assign({},e,{[t.postId]:t.imageUrl}),{}))});default:return e}};const i_={reported:[]};var c_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:return Object.assign({},e,{reported:[...e.reported,t.payload.id]});default:return e}};const a_={isIntroFinished:!1};var d_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.z:return Object.assign({},e,t.payload);default:return e}};const u_={isMuted:!0,reportedStreams:[],shouldShowOnboardingModal:!0};var l_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fy.A:return Object.assign({},e,t.payload);case g.d:{const n=t.payload.id;return e.reportedStreams.includes(n)?e:Object.assign({},e,{reportedStreams:[...e.reportedStreams,n]})}default:return e}},b_=Object(r.c)({api:Ky,history:Yy,hlsStreams:Zy,models:r_,preloads:o_,reports:c_,theaterSettings:d_,userSettings:l_});const p_={};var f_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.b:return Object.assign({},e,t.payload);case qe.a:default:return e}},m_=n("./src/reddit/actions/removalReasons/constants.ts");var O_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m_.k:case m_.l:case m_.b:case m_.c:case m_.h:case m_.i:case m_.e:case m_.f:return null;case m_.j:case m_.a:case m_.g:case m_.d:return t.payload;default:return e}};var g_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m_.k:case m_.b:case m_.h:case m_.e:return!0;case m_.l:case m_.j:case m_.c:case m_.a:case m_.i:case m_.g:case m_.f:case m_.d:return!1;default:return e}},j_=Object(r.c)({error:O_,pending:g_}),y_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const __={};var h_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:__,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m_.l:{const{response:n}=t.payload,{data:r}=n;return Object.assign({},e,r)}case m_.c:case m_.i:{const{reason:n}=t.payload;return Object.assign({},e,{[n.id]:n})}case m_.f:{const{reasonId:n}=t.payload,r=n;e[r];return y_(e,["symbol"==typeof r?r:r+""])}default:return e}};const E_={};var I_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m_.l:{const{subredditId:n,response:r}=t.payload,{order:s}=r;return Object.assign({},e,{[n]:s})}case m_.c:{const{subredditId:n,reason:r}=t.payload;return Object.assign({},e,{[n]:[...e[n],r.id]})}case m_.f:{const{subredditId:n,reasonId:r}=t.payload,s=[...e[n]].filter(e=>e!==r);return Object.assign({},e,{[n]:s})}default:return e}};var v_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m_.t:{const{subredditId:e,itemIds:n}=t.payload;return{itemIds:n,subredditId:e}}default:return e}},S_=Object(r.c)({api:j_,models:h_,reasonOrder:I_,removedItemIds:v_});const T_={};var C_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.e:case g.d:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}};const w_={};var x_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.e:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.d:case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}};const D_={};var P_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!0})}case g.e:case g.c:{const{id:n}=t.payload;return Object.assign({},e,{[n]:!1})}case g.f:{const n=t.payload;return n?Object.assign({},e,{[n]:!1}):e}default:return e}},A_=Object(r.c)({error:C_,pending:x_,success:P_});var R_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.b:return t.payload;case s.c:return!t.payload&&e;case f.a:return!1;case g.f:return!!t.payload&&e;default:return e}};var N_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.f:return t.payload;case s.c:return t.payload?null:e;case f.a:return null;default:return e}};var k_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.g:return t.payload;case g.f:return!1;default:return e}},L_=Object(r.c)({api:A_,openedFromModalPage:R_,postOrCommentId:N_,userIsMod:k_}),U_=n("./src/reddit/actions/pages/report/constants.ts");var M_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U_.a:return t.payload;default:return e}};var F_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U_.b:return t.payload;case U_.c:case U_.d:return!1;default:return e}};var G_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U_.d:return!0;case U_.c:case U_.b:return!1;default:return e}};var B_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U_.c:return!0;case U_.b:case U_.d:return!1;default:return e}},q_=Object(r.c)({error:F_,pending:G_,success:B_}),V_=n("./src/reddit/actions/reportPageRules/constants.ts");const H_=[];var W_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V_.a:return t.payload;default:return e}},K_=Object(r.c)({reportPageApi:q_,reportPageRules:W_,initialReason:M_}),J_=n("./src/reddit/actions/reportRules.ts");const Y_={liveStreamingRules:[],sitewideRules:[]};var z_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J_.b:return Object.assign({},e,{sitewideRules:t.payload});case J_.a:return Object.assign({},e,{liveStreamingRules:t.payload});default:return e}};Object(Ca.a)("REQUEST_HOST_SET");var Q_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}};const X_="RUN_TIME_ENV_VARS__IS_STAGING",$_=(Object(Ca.a)(X_),{staging:!1,startTimeInMillis:(new Date).getTime()});var Z_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X_:return Object.assign({},e,{staging:!0});default:return e}};const eh=Object.create(null);var th=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eh,t=arguments.length>1?arguments[1]:void 0;switch(null!==Object.getPrototypeOf(e)&&(e=Object.assign(Object.create(null),e)),t.type){case Ve.d:{const{relatedQueries:n,query:r}=t.payload;if(n){const t=r?r.toLowerCase():"";return Object.assign(Object.create(null),e,{[t]:n})}return e}default:return e}};var nh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:case Ve.f:{const{searchQuery:e}=t.payload;return e||null}default:return e}};const rh=Object.create(null);var sh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rh,t=arguments.length>1?arguments[1]:void 0;switch(null!==Object.getPrototypeOf(e)&&(e=Object.assign(Object.create(null),e)),t.type){case Ve.e:{const{order:n,searchQuery:r}=t.payload;return Object.assign(Object.create(null),e,Object.assign({},e,{[r.toLowerCase()]:n}))}default:return e}},oh=n("./src/reddit/models/Search/index.ts");const ih={};var ch=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ih,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.e:{const{typeaheadSuggestions:n}=t.payload,r={};return Object.keys(n).forEach(e=>{const t=n[e];return r[e]=Object(oh.d)(t)}),Object.assign({},e,r)}default:return e}},ah=Object(r.c)({idsByQuery:sh,models:ch});const dh={};var uh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{viewTreatment:n,key:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}},lh=Object(r.c)({relatedQueries:th,searchQuery:nh,typeahead:ah,viewTreatment:uh}),bh=n("./src/reddit/models/SearchDiscoveryUnit/index.ts");const ph={};var fh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ph,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{categoryName:n,key:r,listingOrder:s,postOrder:o,posts:i,searchQuery:c,subreddits:a,viewTreatment:d}=t.payload,u={subredditIcons:[],displayText:null,subredditOccurrences:0,searchQuery:c};if(d===bh.c.Trending||n){const e=[];if(s&&s.map(t=>{!e.includes(t.id)&&a[t.id]&&(e.push(t.id),u.subredditIcons.push({url:a[t.id].icon.url,subredditName:a[t.id].name}),u.displayText||(u.displayText=a[t.id].displayText))}),o)for(let t=0;t<o.length;t++){const n=i[o[t]],r=n&&n.belongsTo?n.belongsTo.id:void 0;r&&!e.includes(r)&&a[r]&&(e.push(r),u.subredditIcons.push({url:a[r].icon.url,subredditName:a[r].name}))}a&&(u.subredditOccurrences=Object.keys(a).length-1)}return Object.assign({},e,{[r]:u})}default:return e}};const mh={};var Oh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{key:n,searchDiscoveryUnits:r}=t.payload;return r&&Object.keys(r).length?Object.assign({},e,{[n]:r}):e}default:return e}};const gh={};var jh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.c:{const{key:n,searchDiscoveryUnitOrder:r}=t.payload;return r?Object.assign({},e,{[n]:r}):gh}default:return e}},yh=Object(r.c)({headerContent:fh,models:Oh,order:jh});Object(Ca.a)("SEO__CRAWLER_RECEIVED");var _h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEO__CRAWLER_RECEIVED":return t.payload;default:return e}},hh=n("./src/reddit/actions/seo/linksModule.ts");const Eh={};var Ih=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hh.a:return Array.isArray(t.payload)&&0!==t.payload.length?Object.assign({},e,{frontpage:t.payload}):e;default:return e}},vh=Object(r.c)({crawler:_h,linksModule:Ih}),Sh=n("./src/reddit/actions/shortcuts.ts");var Th=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sh.a:return t.payload;case f.a:return null;default:return e}};var Ch=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sh.b:return t.payload||null;default:return e}},wh=n("./src/reddit/constants/history.ts"),xh=n("./src/reddit/constants/shortcuts.ts"),Dh=n("./src/reddit/helpers/history/index.ts");const Ph=xh.d.Global,Ah=e=>{switch(e.name){case"comments":case"duplicates":case"metaMembershipPaywallPage":return Object(Dh.b)(wh.a.IsOverlay)?xh.d.Lightbox:xh.d.CommentPage;case"rpan":case"subredditCreation":return Object(Dh.b)(wh.a.IsOverlay)?xh.d.Lightbox:Ph;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return xh.d.Listing;case"modQueuePages":return xh.d.Modqueue;default:return Ph}};var Rh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.a:const n=t.payload;if(n.routeMatch){const e=n.routeMatch.route.meta;return Ah(e)}return Ph;default:return e}},Nh=Object(r.c)({activeCommentId:Th,activePostId:Ch,namespace:Rh});var kh=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(e)return e;switch(t.type){case qt.d:case qt.e:return!0;default:return e}},Lh=n("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),Uh=Object(r.c)({firstFetch:kh,models:Lh.b}),Mh=n("./src/reddit/models/StructuredStyles/index.ts");const Fh={};var Gh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.h:case j.b:case j.d:return t.payload.styles;case j.e:return Fh;case j.c:{const n=t.payload;return Object.assign({},e,n)}case j.k:{const e=t.payload;return Object(Mh.g)(e.styles)}default:return e}},Bh=n("./src/reddit/actions/exportImportStyles.ts");var qh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bh.c:case Bh.b:return null;case Bh.a:return t.payload;default:return e}};var Vh=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bh.c:return!0;case Bh.b:case Bh.a:return!1;default:return e}},Hh=Object(r.c)({error:qh,pending:Vh}),Wh=n("./src/reddit/actions/postFlairStyleTemplate.ts"),Kh=n("./src/reddit/actions/postFlairStyleTemplates/constants.ts");const Jh={};var Yh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Ue.b:case re.b:case ce.c:case Ve.c:case Fe.b:case go.a:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;const r=n.structuredStyles.data.flairTemplate;return Object.assign({},e,r)}case Wh.b:{const{flairId:n,template:r}=t.payload;return Object.assign({},e,{[n]:r})}case Wh.a:{const{flairId:n}=t.payload;return Object(hu.a)(e,n)}case Dm.b:{const{templateId:n}=t.payload;return Object(hu.a)(e,n)}case j.k:return Jh;case Kh.b:{const{templates:n}=t.payload;return Object.assign({},e,n)}default:return e}},zh=Object(r.c)({models:Yh});const Qh={};var Xh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.f:{const n=t.payload;return Object.assign({},e,{[n.imageKey]:n.uploadId})}case j.k:case j.e:return Qh;default:return e}};var $h=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.n:case j.e:return!1;case j.a:return!0;default:return e}};n("./node_modules/core-js/modules/es6.regexp.search.js");var Zh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.d:return t.payload.subredditId;case j.e:return null;case f.a:return t.payload.location.search.indexOf("styling=true")>-1?e:null;case Gu.f:return null;default:return e}};const eE={};var tE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Ue.b:case re.b:case Fe.b:case go.a:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;const r=Object.keys(n.subredditAboutInfo||{});if(1!==r.length)return e;const s=r[0],o=n.structuredStyles.data.style;return Object.assign({},e,{[s]:o})}case Ve.c:case ce.c:{const{payload:n}=t;if(!n.structuredStyles||!n.structuredStyles.data)return e;if(!n.subredditName)return e;let r;if(bn()(n.subreddits,(e,t)=>{if(e.name.toLowerCase()===n.subredditName.toLowerCase())return r=t,!1}),!r)return e;const s=n.structuredStyles.data.style;return Object.assign({},e,{[r]:s})}case j.m:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,n.styles)})}case j.h:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.styles})}case j.k:{const n=t.payload,r=Object(Mh.g)(n.styles);return Object.assign({},e,{[n.subredditId]:r})}case af.k:{const n=t.payload,{banner:r,profile:s}=n;if(!r||!s)return e;const o=e[s.id];return Object.assign({},e,{[s.id]:Object.assign({},o,{bannerBackgroundImage:r.url})})}case Gu.k:{const n=t.payload;if("profileBanner"===n.key){return gO(e,{[n.subredditId]:{bannerBackgroundImage:n.imageUrl}})}return e}case Gu.j:{const n=t.payload;if("profileBanner"===n.key){return gO(e,{[n.subredditId]:{bannerBackgroundImage:void 0}})}return e}default:return e}},nE=Object(r.c)({draft:Gh,exportStyles:Hh,flairTemplate:zh,imagePreviews:Xh,isBladeEditorDirty:$h,isEditing:Zh,models:tE});Object(Ca.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST");var rE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}},sE=n("./src/reddit/actions/subredditAutocomplete.ts");const oE={};var iE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sE.c:case sE.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:null})}case sE.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const cE={};var aE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sE.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!0})}case sE.b:case sE.a:{const{key:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},dE=Object(r.c)({error:iE,pending:aE});const uE={};var lE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sE.b:{const{key:n}=t.payload;return Object.assign({},e,{[n]:t.payload})}default:return e}},bE=Object(r.c)({api:dE,models:lE});const pE={};var fE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case vn.a:case vn.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}};const mE={};var OE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.d:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!0})}case vn.a:case vn.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}};const gE={};var jE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.d:{const{subredditId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:!1})}case vn.a:{const{subredditId:n,isSubredditWhitelisted:r}=t.payload;return Object.assign({},e,{[n]:r})}case vn.c:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},yE=Object(r.c)({error:fE,pending:OE,whitelist:jE}),_E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const hE={};var EE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.a:return Object.assign({},e,t.payload.collection);case vn.e:{const{channel:n}=t.payload;return Object.assign({},e,{[n.channelId]:Object.assign({},n)})}case vn.f:{const{channel:n,editedSubredditChannelData:r}=t.payload;return n.name=r.room,n.description=r.description,n.minimumAcctAge=n.minimumAcctAge,n.newMemberAge=n.newMemberAge,Object.assign({},e,{[n.channelId]:Object.assign({},n)})}case vn.g:{const n=t.payload;e[n];return _E(e,["symbol"==typeof n?n:n+""])}default:return e}};var IE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vn.h:return t.payload.channelId;case vn.g:return e===t.payload?null:e;default:return e}},vE=Object(r.c)({api:yE,models:EE,selected:IE}),SE=n("./src/reddit/actions/subredditDifficulty/constants.ts");const TE={};var CE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case SE.b:{const{subredditId:n,subreddits:r}=t.payload;return r.length?Object.assign({},e,{[n]:Object.assign({id:n},r[0])}):e}default:return e}},wE=n("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),xE=n("./src/reddit/actions/subredditMention/constants.ts");const DE={};var PE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xE.d:case Ue.b:case re.b:case ce.c:case ae.a:case ae.b:case Fe.b:case go.a:case se.b:case se.e:case Ge.b:case Ge.a:case Ge.e:case Ge.d:case oe.e:case de.b:case de.e:case Ve.c:{const n=t.payload.subredditAboutInfo;if(!n)return e;const r=Object.keys(n);return 0===r.length?e:r.reduce((e,t)=>(n[t]&&(e[t]?e[t]=Object.assign({},e[t],n[t]):e[t]=n[t]),e),Object.assign({},e))}case sc.a:{const{subredditId:n,emojisEnabled:r}=t.payload,s=e[n],o=Object.assign({},s,{emojisEnabled:r});return Object.assign({},e,{[n]:o})}case lf.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(e=>e.type===ey.a.SUBREDDIT);return s.length?s.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:r}),e),Object.assign({},e)):e}case Oa.e:case Wt.f:case wE.b:case wu.e:case wu.m:{const{subredditsAboutInfo:n}=t.payload;if(!n)return e;const r=Object.keys(n);return 0===r.length?e:r.reduce((e,t)=>(n[t]&&(e[t]=e[t]?Object.assign({},e[t],n[t]):n[t]),e),Object.assign({},e))}case sc.b:{const n=t.payload,{emojiCustomSize:r,subredditId:s}=n,o=e[s];if(!o)return e;const i=Object.assign({},o);if(r){const{width:e,height:t}=r;i.emojisCustomSize=[e,t]}else delete i.emojisCustomSize;return Object.assign({},e,{[s]:i})}case ue.c:{const{data:n}=t.payload;return Object.assign({},e,n)}case ge.q:{const{subredditId:n,subredditCoins:r}=t.payload;if(!n||!r)return e;const s=e[n];if(!s)return e;const o=Object.assign({},s,{coins:r});return Object.assign({},e,{[n]:o})}default:return e}};const AE={};var RE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.b:case ue.c:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case ue.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};var NE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.b:return!0;case ue.c:case ue.a:return!1;default:return e}},kE=Object(r.c)({error:RE,pending:NE}),LE=n("./src/reddit/actions/subredditCreation.ts");const UE={apiError:null};var ME=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case LE.b:{const{error:n}=t.payload;return Object.assign({},e,{apiError:n})}case LE.a:case LE.c:case LE.d:return UE;default:return e}};var FE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case LE.d:{const{subredditName:e}=t.payload;return e||null}case LE.c:case LE.b:return null;default:return e}};var GE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case LE.c:return!0;case LE.d:case LE.b:return!1;default:return e}},BE=Object(r.c)({error:ME,lastCreatedSubredditId:FE,pending:GE});var qE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.p:return!0;case wu.q:case wu.o:return!1;default:return e}},VE=Object(r.c)({pending:qE});const HE={};var WE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.l:case ue.m:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case ue.k:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};const KE={};var JE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.l:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case ue.m:case ue.k:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},YE=Object(r.c)({error:WE,pending:JE});const zE={};var QE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.d:case wu.e:return Object.assign({},e,{[t.payload.key]:!1});case wu.f:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},XE=Object(r.c)({pending:QE});var $E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.i:{const{error:e}=t.payload;return e||null}case wu.k:case wu.j:return null;default:return e}};var ZE=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.k:return!0;case wu.j:case wu.i:return!1;default:return e}},eI=Object(r.c)({error:$E,pending:ZE}),tI=n("./src/reddit/actions/subredditRules/constants.ts");var nI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tI.c:return!0;case tI.a:case tI.b:return!1;default:return e}},rI=n("./src/reddit/actions/subredditSettings.ts");var sI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rI.c:return!0;case rI.d:case rI.b:return!1;default:return e}},oI=Object(r.c)({pending:sI});const iI={};var cI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.l:case wu.m:return Object.assign({},e,{[t.payload.key]:!1});case wu.n:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},aI=Object(r.c)({pending:cI}),dI=n("./src/reddit/actions/pages/subredditWiki/constants.ts");const uI={};var lI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dI.c:case dI.b:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:null})}case dI.a:{const n=t.payload,{options:r,error:s}=n,{subredditName:o}=r;return Object.assign({},e,{[o.toLowerCase()]:s})}default:return e}};const bI={};var pI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dI.c:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:!0})}case dI.b:case dI.a:{const n=t.payload,{subredditName:r}=n.options;return Object.assign({},e,{[r.toLowerCase()]:!1})}default:return e}},fI=Object(r.c)({error:lI,pending:pI});const mI={};var OI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pO.c:case pO.b:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case pO.a:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};const gI={};var jI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pO.c:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!0})}case pO.b:case pO.a:{const{subredditName:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:!1})}default:return e}},yI=Object(r.c)({error:OI,pending:jI}),_I=Object(r.c)({about:kE,create:BE,inlineEditing:VE,models:YE,onboarding:XE,rankings:eI,rules:nI,settings:oI,similar:aI,topContent:yI,wiki:fI}),hI=n("./node_modules/lodash/isNil.js"),EI=n.n(hI);const II={};var vI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:II,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.d:{const{subredditId:n,forceState:r}=t.payload;return Object.assign({},e,{[n]:EI()(r)?!e[n]:r})}default:return e}},SI=Object(r.c)({meta:vI});const TI={};var CI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt.f:{const{categoryId:n,subredditIds:r}=t.payload;return on()(r)?e:Object.assign({},e,{[n]:r})}default:return e}};const wI={};var xI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.c:{const{communityInfo:n,id:r,type:s}=t.payload;return n&&"subreddit"===s?Object.assign({},e,{[r]:n}):e}default:return e}},DI=n("./src/reddit/actions/subredditCrosspostable.ts");var PI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DI.a:{const{error:e}=t.payload;return e}case DI.c:case DI.b:return null;default:return e}};var AI=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DI.c:return!0;case DI.b:case DI.a:return!1;default:return e}},RI=Object(r.c)({errors:PI,pending:AI});const NI={};var kI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DI.b:{const{subredditIds:n}=t.payload;return lr()(e,n)?e:n}default:return e}},LI=Object(r.c)({api:RI,ids:kI});const UI={};var MI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _O.a:{const n=t.payload,{subredditId:r,distinguishKey:s,postIds:o}=n;if(!(r in e))return Object.assign({},e,{[r]:{[s]:o}});const i=e[r];return gO(i,{[s]:o})===i?e:Object.assign({},e,{[r]:Object.assign({},i,{[s]:o})})}default:return e}},FI=Object(r.c)({models:MI});const GI={};var BI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{assets:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}case b.g:case b.j:{const{subredditId:n,mainHeader:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{mainHeader:r})})}default:return e}};const qI={};var VI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{communityJar:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}};const HI={};var WI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n}=t.payload;return Object.assign({},e,{[n]:t.payload})}case d.k:{const{communityRaw:n,subredditId:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}default:return e}};const KI={};var JI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,distribution:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const YI={};var zI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,meta:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const QI={};var XI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.p:{const{subredditId:n,releaseNotes:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},$I=Object(r.c)({assets:BI,communityJar:VI,communityRaw:WI,distributions:JI,meta:zI,releaseNotes:XI}),ZI=n("./node_modules/lodash/isEqualWith.js"),ev=n.n(ZI),tv=n("./src/lib/forceHttps/index.ts"),nv=n("./src/reddit/models/Subreddit/index.ts"),rv=(e,t)=>({displayText:"r/".concat(e),name:e,id:t,icon:{height:null,url:"",width:null},subscribers:0,title:e,type:nv.b.Public,url:"/r/".concat(e,"/"),isNSFW:!1});const sv={},ov=(e,t)=>{const n=Object.keys(t);if(n.length){const r=Object.assign({},e);return n.forEach(n=>{const s=e[n],o=t[n],i=s?Object.assign({},s,o):Object.assign({},o);o.icon.url?i.icon.url=Object(tv.a)(o.icon.url):s&&s.icon.url?i.icon=s.icon:i.icon.url="",s&&s.allowChatPostCreation&&(i.allowChatPostCreation=!0),r[n]=i}),r}return e},iv=(e,t)=>{return!ev()(e,t,(e,t,n)=>{if("subscribers"===n)return!0})},cv=(e,t)=>{if(!t)return e;const n=Object.keys(t);if(!n.length)return e;const r={};for(let s=0;s<n.length;s++){const o=n[s],i=e[o],c=t[o];i&&!iv(i,c)||(r[o]=c)}return Object.keys(r).length?Object.assign({},e,r):e};var av=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.c:return ov(e,t.payload.subreddits||{});case xE.d:case Wt.f:case ke.b:case Oa.e:case Me.e:case Me.h:case ne.k:case Le.r:case Le.u:case af.h:case Su.b:case Ue.b:case wE.b:case re.b:case re.g:case re.l:case se.b:case se.e:case ie.c:case ie.i:case ie.e:case ie.g:case Ge.b:case Ge.e:case oe.b:case oe.e:case af.e:case ce.c:case ae.b:case Fe.b:case ws.e:case go.a:case af.l:case de.b:case de.e:case Be.b:case qe.b:case Ve.c:case ue.c:case ue.f:case ue.i:case wu.a:case wu.e:case wu.m:return cv(e,t.payload.subreddits||{});case ne.f:case ne.i:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{subreddits:r}=n;return cv(e,r)}case Ve.e:{const{typeaheadSuggestions:n}=t.payload;return cv(e,n.subreddits||{})}case bO.e:{const n=t.payload.subreddits,r={};return Object.keys(n).map(e=>{const t=n[e];r[e]=rv(t,e)}),Object.assign({},r,e)}case Le.B:{const{subreddits:n}=t.payload;return Object.assign({},n,e)}case d.i:{const n=t.payload;return cv(e,n)}case j.m:{const n=t.payload,{subredditId:r,styles:s}=n;return"communityIcon"in s&&e[r]&&"string"==typeof s.communityIcon?Object.assign({},e,{[r]:Object.assign({},e[r],{communityIcon:s.communityIcon})}):e}default:return e}};var dv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.e:{const{error:e}=t.payload;return e}case ue.g:case ue.f:return null;default:return e}};var uv=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.g:case ue.f:return!0;case ue.e:return!1;default:return e}};var lv=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.g:return!0;case ue.f:case ue.e:return!1;default:return e}},bv=Object(r.c)({errors:dv,fetched:uv,pending:lv});var pv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.f:{const{subreddits:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}default:return e}},fv=Object(r.c)({api:bv,order:pv});const mv={};var Ov=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.e:{const{key:n,subredditIds:r}=t.payload;return 0===r.length?e:Object.assign({},e,{[n]:r})}default:return e}};const gv={};var jv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.g:{const{subredditId:n,products:r}=t.payload,s=Object.keys(r).reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:s})}default:return e}};const yv={};var _v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.b:{const{categoryRankingsKey:n}=t.payload,r=e[n],s=r&&r.length?[...r,...t.payload.rankings]:t.payload.rankings;return Object.assign({},e,{[n]:s})}default:return e}};const hv={};var Ev=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.c:{const{categoryRankingsKey:n,pageInfo:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const Iv={};var vv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tI.b:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:n.rules}};return Object.assign({},e,s)}case tI.e:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:[...e[r].rules,...n.rules]}};return Object.assign({},e,s)}case tI.f:{const{rules:n,subredditId:r,oldName:s}=t.payload;n.rules.shortName!==s&&(e[r].rules=e[r].rules.filter(e=>e.shortName!==s));const o={[r]:{rules:[...n.rules,...e[r].rules]}};return o[r].rules.sort((e,t)=>e.priority-t.priority),Object.assign({},e,o)}case tI.g:case tI.d:{const{rules:n,subredditId:r}=t.payload,s={[r]:{rules:n.rules}};return Object.assign({},e,s)}default:return e}};const Sv={};var Tv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rI.a:{const e=t.payload;return{[e.subredditId]:e}}case rI.d:{const n=t.payload.settings,r=e[n.subredditId]||{};return Object.assign({},e,{[n.subredditId]:Object.assign({},r,n)})}case Gu.m:{const n=t.payload,r=e[n.subredditId]||{},s=Object.assign({},r,n.settings);return Object.assign({},e,{[n.subredditId]:s})}default:return e}};const Cv={};var wv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wu.m:{const{key:n,subredditIds:r}=t.payload;return 0===r.length?e:Object.assign({},e,{[n]:r})}default:return e}},xv=n("./src/reddit/actions/wiki/wikiDiff/constants.ts");const Dv={};var Pv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xv.b:{const{key:n,htmlDiff:r}=t.payload;return Object.assign({},e,{[n]:{htmlDiff:r}})}case xv.c:{const{key:n}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{pending:!0})})}case xv.a:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{pending:!1,error:r})})}default:return e}};const Av={};var Rv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Av,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dI.b:const n=t.payload,{subredditWiki:r,options:s}=n,o=r&&r.directory;if(!o)return e;const{subredditName:i}=s;return Object.assign({},e,{[i.toLowerCase()]:o});default:return e}},Nv=n("./src/reddit/actions/wiki/wikiRevisions/constants.ts");const kv={};var Lv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dI.b:{const{subredditWiki:n,pageKey:r}=t.payload,{page:s}=n;return r&&s?Object.assign({},e,{[r]:s}):e}case Nv.a:{const{pageKey:n,page:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},Uv=n("./src/reddit/actions/wiki/wikiPageSettings/constants.ts");const Mv={};var Fv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uv.c:{const{settings:n,pageKey:r}=t.payload;return n?Object.assign({},e,{[r]:n}):e}case Uv.d:{const{isVisible:n,editPermissions:r,pageKey:s}=t.payload,o=e[s];return o?Object.assign({},e,{[s]:Object.assign({},o,{isVisible:n,editPermissions:r})}):e}case Uv.b:{const{editorsInfo:n,afterToken:r,pageKey:s}=t.payload,o=e[s];if(!o)return e;const i=[...o.editorsInfo,...n];return Object.assign({},e,{[s]:Object.assign({},o,{editorsInfo:i,afterToken:r})})}case Uv.a:{const{username:n,pageKey:r}=t.payload,s=e[r];if(!s)return e;const o=s.editorsInfo.filter(e=>e.username!==n);return Object.assign({},e,{[r]:Object.assign({},s,{editorsInfo:o})})}default:return e}};const Gv={};var Bv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nv.b:{const{key:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Nv.d:case Nv.c:{const{key:n}=t.payload;return Object(hu.a)(e,n)}default:return e}};const qv={};var Vv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nv.d:case Nv.b:case Nv.c:{const{key:n}=t.payload,r=t.type===Nv.d;return Object.assign({},e,{[n]:r})}default:return e}},Hv=Object(r.c)({error:Bv,pending:Vv}),Wv=n("./src/reddit/actions/wiki/wikiEditing/constants.ts");const Kv={};var Jv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nv.c:{const{key:n,options:r,pageInfo:s,revisionsIds:o}=t.payload,i=e[n],c=r.after&&i?[...i.ids,...o]:o;return Object.assign({},e,{[n]:{ids:c,pageInfo:s}})}case Nv.a:{const{page:{revision:n},pageRevisionsListingKey:r,recentRevisionsListingKey:s}=t.payload,o=e[r];return o&&n?Object.assign({},Object(hu.a)(e,s),{[r]:Object.assign({},o,{ids:[n.id,...o.ids]})}):e}case Wv.a:{const{pageRevisionsListingKey:n,recentRevisionsListingKey:r}=t.payload,s=Object.assign({},e);return delete s[n],delete s[r],s}default:return e}};const Yv={};var zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dI.b:{const{subredditWiki:{page:n}}=t.payload,r=n&&n.revision;return r&&!e[r.id]?Object.assign({},e,{[r.id]:r}):e}case Nv.c:{const{revisions:n}=t.payload;return Object.assign({},e,n)}case Nv.a:{const{page:n}=t.payload,r=n.revision;return r?Object.assign({},e,{[r.id]:r}):e}case Nv.e:{const{revisionId:n,isHidden:r}=t.payload,s=e[n];return s?Object.assign({},e,{[n]:Object.assign({},s,{isHidden:r})}):e}default:return e}},Qv=Object(r.c)({api:Hv,listings:Jv,models:zv}),Xv=n("./src/reddit/actions/wiki/wikiBannedContributors/constants.ts");const $v={};var Zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.c:case Xv.a:{const{subredditName:n,afterToken:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const eS={};var tS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.b:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case Xv.d:case Xv.c:{const{subredditName:n}=t.payload;return Object(hu.a)(e,n)}default:return e}};const nS={};var rS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.d:case Xv.c:case Xv.b:{const{subredditName:n}=t.payload,r=t.type===Xv.d;return Object.assign({},e,{[n]:r})}default:return e}},sS=Object(r.c)({error:tS,pending:rS});const oS={};var iS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.c:case Xv.a:{const{subredditName:n,bannedContributors:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Xv.e:{const{subredditName:n,bannedContributor:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case Xv.f:{const{subredditName:n,userId:r}=t.payload,s=Object(hu.a)(e[n],r);return Object.assign({},e,{[n]:s})}default:return e}};const cS={};var aS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.c:case Xv.a:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:HO()([...e[n]||[],...r])})}case Xv.e:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:HO()([...r,...e[n]||[]])})}case Xv.f:{const{subredditName:n,userId:r}=t.payload;return Object.assign({},e,{[n]:(e[n]||[]).filter(e=>e!==r)})}default:return e}},dS=Object(r.c)({afterToken:Zv,api:sS,models:iS,userOrder:aS});const uS={};var lS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xv.g:{const{subredditName:n,bannedContributor:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},bS=Object(r.c)({listing:dS,search:lS}),pS=n("./src/reddit/actions/wiki/wikiContributors/constants.ts");const fS={};var mS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pS.c:case pS.a:{const{subredditName:n,afterToken:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}};const OS={};var gS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pS.b:{const{subredditName:n,error:r}=t.payload;return Object.assign({},e,{[n]:r})}case pS.d:case pS.c:{const{subredditName:n}=t.payload;return Object(hu.a)(e,n)}default:return e}};const jS={};var yS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pS.d:case pS.c:case pS.b:{const{subredditName:n}=t.payload,r=t.type===pS.d;return Object.assign({},e,{[n]:r})}default:return e}},_S=Object(r.c)({error:gS,pending:yS});const hS={};var ES=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pS.c:case pS.a:{const{subredditName:n,contributors:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case pS.e:{const{subredditName:n,contributor:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],r)})}case pS.f:{const{subredditName:n,userId:r}=t.payload,s=Object(hu.a)(e[n],r);return Object.assign({},e,{newState:s})}default:return e}};const IS={};var vS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pS.c:case pS.a:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:HO()([...e[n]||[],...r])})}case pS.e:{const{subredditName:n,userOrder:r}=t.payload;return Object.assign({},e,{[n]:[...r,...e[n]||[]]})}case pS.f:{const{subredditName:n,userId:r}=t.payload;return Object.assign({},e,{[n]:(e[n]||[]).filter(e=>e!==r)})}default:return e}},SS=Object(r.c)({afterToken:mS,api:_S,models:ES,userOrder:vS});const TS={};var CS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pS.g:{const{subredditName:n,contributor:r}=t.payload;return Object.assign({},e,{[n]:r})}default:return e}},wS=Object(r.c)({listing:SS,search:CS}),xS=Object(r.c)({diff:Pv,directory:Rv,pages:Lv,pageSettings:Fv,revisions:Qv,wikiBannedContributors:bS,wikiContributors:wS});const DS={};var PS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa.e:{const{subredditTopContent:n}=t.payload;return Object.assign({},e,n.subredditTopContent)}case pO.b:{const{subredditTopContent:n}=t.payload;return Object.assign({},e,n)}default:return e}};const AS=[];var RS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.g:case ae.b:{const{trendingSubredditIds:n}=t.payload;return n&&n.length?n:e}default:return e}};const NS={};var kS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xE.d:const{unavailableSubreddits:n}=t.payload;return Object.assign({},e,n);default:return e}},LS=Object(r.c)({about:PE,api:_I,appliedFilters:SI,byCategory:CI,communityInfo:xI,crosspostable:LI,duplicates:FI,gov:$I,models:av,moderated:fv,onboarding:Ov,products:jv,rankings:_v,rankingsPageInfo:Ev,rules:vv,settings:Tv,similar:wv,subredditWiki:xS,topContent:PS,trending:RS,unavailableModels:kS});const US={};var MS=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:US,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:{const{postIds:n,posts:r}=t.payload,s=n.slice(0,2).reduce((e,t)=>{if(r[t].isStickied){const n=r[t].belongsTo.id;e[n]?e[n].push(t):e[n]=[t]}return e},{});return F()(Object.assign({},e),s)}case h.j:{const{newStickiedPostList:n,subredditId:r}=t.payload;return Object.assign({},e,{[r]:n})}default:return e}}),US),FS=Object(r.c)({data:MS});const GS=[];var BS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.d:{const{makeFavorite:n,multiredditsModelsState:r,multiredditPath:s}=t.payload;if(n){const t=[...e],n=cf(t,s,(e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1);return t.splice(n,0,s),t}return e.filter(e=>e!==s)}case Le.u:{const{multireddits:e}=t.payload;return Zr()(e).filter(e=>e.isFavorited).sort((e,t)=>e.displayText.toLowerCase()>t.displayText.toLowerCase()?1:-1).map(e=>e.url)}case lf.e:{const{follow:n,multiredditPath:r}=t.payload;return n?e:e.filter(e=>e!==r)}case Le.j:{const n=t.payload;return e.filter(e=>e!==n)}default:return e}};var qS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.a:{const{error:e}=t.payload;return e}case lf.b:case lf.c:return null;default:return e}};var VS=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.b:case lf.c:case bO.e:return!0;case lf.a:return!1;default:return e}};var HS=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.b:return!0;case lf.c:case lf.a:return!1;default:return e}},WS=Object(r.c)({errors:qS,fetched:VS,pending:HS});const KS=[];var JS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.c:{const{profiles:e,favoriteProfileIds:n,favoriteSubredditIds:r}=t.payload;let s;return(s=n&&n.length?n:r?r.filter(t=>!!e[t]):[]).sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),s}case lf.f:{const{makeFavorite:n,identifier:r,profileModels:s}=t.payload,{id:o,type:i}=r;if(i!==ey.a.PROFILE)return e;const c=e?e.slice():[];if(n){const e=cf(c,o,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);c.splice(e,0,o)}else{const e=c.indexOf(o);c.splice(e,1)}return c}case lf.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(t=>t.type===ey.a.PROFILE&&e.indexOf(t.id)>-1);return!s.length||r?e:s.reduce((e,t)=>{const n=e.indexOf(t.id);return e.splice(n,1),e},[...e])}default:return e}};const YS=[];var zS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:YS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lf.c:{const{subreddits:e,favoriteSubredditIds:n}=t.payload,r=n?n.filter(t=>!!e[t]):[];return r.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),r}case lf.f:{const{makeFavorite:n,identifier:r,subredditModels:s}=t.payload,{id:o,type:i}=r;if(i!==ey.a.SUBREDDIT)return e;const c=e?e.slice():[];if(n){const e=cf(c,o,(e,t)=>s[e].displayText.toLowerCase()>s[t].displayText.toLowerCase()?1:-1);c.splice(e,0,o)}else{const e=c.indexOf(o);c.splice(e,1)}return c}case lf.h:{const{identifiers:n,userIsSubscriber:r}=t.payload,s=n.filter(t=>t.type===ey.a.SUBREDDIT&&e.indexOf(t.id)>-1);return!s.length||r?e:s.reduce((e,t)=>{const n=e.indexOf(t.id);return e.splice(n,1),e},[...e])}default:return e}};const QS=[],XS=e=>(t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1;var $S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.u:{const{multireddits:n}=t.payload,r=Zr()(n).map(e=>{let{url:t}=e;return t.toLowerCase()}).sort(XS(n));return lr()(e,r)?e:r}case re.l:{const{account:n,multireddits:r,multiredditsByUser:s,multiredditsModelsState:o}=t.payload;if(!n)return e;const i=s[n.id];if(!i||!i.length)return e;const c=Object.assign({},o,r),a=of()(e,i).sort(XS(c));return lr()(e,a)?e:a}case lf.e:{const{follow:n,multiredditPath:r,multiredditsModelsState:s}=t.payload;return n?[...e,r].sort(XS(s)):e.filter(e=>e!==r)}case Le.j:{const n=t.payload;return e.filter(e=>e!==n)}case Le.g:case Le.m:{const{multireddit:n,multiredditsModelsState:r}=t.payload,s=Object.assign({},r,{[n.url]:n});return[...e,n.url].sort(XS(s))}default:return e}},ZS=n("./node_modules/lodash/difference.js"),eT=n.n(ZS);const tT=[];var nT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.m:{const{profileOrder:n}=t.payload;return HO()([...e,...n])}case lf.c:{const{profiles:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}case lf.h:{const{identifiers:n,profileModels:r,userIsSubscriber:s}=t.payload,o=n.filter(e=>e.type===ey.a.PROFILE);if(!o.length)return e;const i=o.map(e=>e.id);return s?HO()([...e,...i]).sort((e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1):eT()(e,i)}default:return e}};const rT=[];var sT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case af.m:{const{subredditOrder:n}=t.payload;return HO()([...e,...n])}case lf.c:{const{subreddits:e}=t.payload,n=Object.keys(e);return n.sort((t,n)=>e[t].displayText.toLowerCase()>e[n].displayText.toLowerCase()?1:-1),n}case lf.h:{const{identifiers:n,subredditModels:r,userIsSubscriber:s}=t.payload,o=n.filter(e=>e.type===ey.a.SUBREDDIT&&!!e.id);if(!o.length)return e;const i=o.map(e=>e.id);return s?HO()([...e,...i]).sort((e,t)=>r[e].displayText.toLowerCase()>r[t].displayText.toLowerCase()?1:-1):eT()(e,i)}case bO.e:return t.payload.subscriptions;default:return e}},oT=Object(r.c)({api:WS,favoriteMultiOrder:BS,favoriteProfileOrder:JS,favoriteSubredditOrder:zS,multiredditOrder:$S,profileOrder:nT,subredditOrder:sT}),iT=n("./src/reddit/actions/tags/constants.ts");const cT={pending:!1,error:!1};var aT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.g:return Object.assign({},e,{pending:!0});case iT.h:return{error:!1,pending:!1};case iT.f:return{error:!0,pending:!1};default:return e}};const dT={pending:!1,error:!1};var uT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.j:return Object.assign({},e,{pending:!0});case iT.k:return{error:!1,pending:!1};case iT.i:return{error:!0,pending:!1};default:return e}};const lT={pending:!1,error:!1};var bT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.o:return Object.assign({},e,{pending:!0});case iT.n:case iT.m:case iT.d:case iT.e:return{error:!1,pending:!1};case iT.l:return{error:!0,pending:!1};default:return e}};const pT={pending:!1,error:!1};var fT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.q:return Object.assign({},e,{pending:!0});case iT.r:return{error:!1,pending:!1};case iT.p:return{error:!0,pending:!1};default:return e}},mT=Object(r.c)({create:aT,deleteTag:uT,fetch:bT,update:fT});const OT={global:[],recommendedGlobal:[]};var gT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.m:case iT.d:case iT.e:{const{globalSubredditTags:e}=t.payload,n=Object.keys(e).sort((t,n)=>{const r=e[t].text.toLowerCase(),s=e[n].text.toLowerCase();return r<s?-1:r>s?1:0}),r=n.filter(t=>e[t].isRecommended);return{global:n,recommendedGlobal:r}}default:return e}},jT=n("./node_modules/lodash/uniqWith.js"),yT=n.n(jT),_T=n("./src/reddit/models/Option/index.ts");const hT={selectedOptions:[],tagInput:""};var ET=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.c:{const{option:n}=t.payload;return Object.assign({},e,{selectedOptions:yT()([...e.selectedOptions||[],Object.assign({},n)],_T.a)})}case iT.b:{const{option:n}=t.payload,r=e.selectedOptions.findIndex(e=>Object(_T.a)(e,n));return e.selectedOptions.splice(r,1),Object.assign({},e,{selectedOptions:e.selectedOptions})}case iT.a:{const{input:n}=t.payload;return Object.assign({},e,{tagInput:n})}default:return e}},IT=n("./src/reddit/helpers/tags/index.ts");const vT={globalSubredditTags:{},subredditScopedTags:{},itemTags:{},suggestedItemTags:{},sortedItemTags:{}};var ST=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iT.e:{const{globalSubredditTags:n,subredditScopedTags:r,subredditId:s}=t.payload;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,n),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[s]:Object.assign({},e.subredditScopedTags[s]||{},r[s]||{})})})}case iT.n:case iT.m:{const{globalSubredditTags:n,subredditScopedTags:r,itemTags:s,suggestedItemTags:o,subredditId:i}=t.payload;return{globalSubredditTags:Object.assign({},e.globalSubredditTags,n),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[i]:Object.assign({},e.subredditScopedTags[i]||{},r[i]||{})}),itemTags:Object.assign({},e.itemTags,{[i]:Object.assign({},s[i]||{})}),suggestedItemTags:Object.assign({},e.suggestedItemTags,{[i]:Object.assign({},o[i]||{})}),sortedItemTags:Object.assign({},e.sortedItemTags,{[i]:Object(IT.a)(s[i]||{})})}}case iT.k:{const{subredditId:n,tags:r}=t.payload,s=r.reduce((e,t)=>{let{tagId:n}=t;return delete e[n],e},Object.assign({},e.subredditScopedTags[n]||{}));return Object.assign({},e,{subredditScopedTags:Object.assign({},e.subredditScopedTags,{[n]:s})})}case iT.d:{const{globalSubredditTags:n}=t.payload;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,n)})}default:return e}},TT=n("./src/reddit/reducers/tags/selected/index.ts"),CT=Object(r.c)({api:mT,availableGlobalTagOrder:gT,models:ST,selected:TT.b,creation:ET}),wT=n("./src/reddit/actions/redditEmbed.ts"),xT=n("./src/reddit/actions/theme.ts"),DT=n("./src/reddit/actions/users.ts"),PT=n("./src/reddit/models/Theme/index.ts");const AT={current:PT.c,cached:{}};var RT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xT.a:{const{nightmode:e}=t.payload;return{current:e?PT.b:PT.c,cached:{}}}case gs.a:case gs.b:case gs.g:case gs.e:case gs.h:case Me.e:case Me.h:case Ue.a:case re.a:case Ue.b:case re.b:case Ue.d:case re.d:case re.g:case ae.b:case re.l:case re.k:case ke.b:case wT.b:case ue.i:case Ve.c:case ce.c:case Gu.i:case Fe.b:case go.a:case DT.e:if(t.payload&&t.payload.preferences&&t.payload.preferences.nightmode){const{nightmode:e}=t.payload.preferences;return e?{current:PT.b,cached:{}}:{current:PT.c,cached:{}}}return e;case se.d:case se.e:case Ge.a:case Ge.b:case Ge.d:case Ge.e:case oe.d:case oe.e:{const{account:n}=t.payload;return n?n.nightmode?{current:PT.b,cached:{}}:{current:PT.c,cached:{}}:e}case ne.h:case ne.j:case ne.i:case ne.g:case ne.f:case ne.n:case ne.m:case ne.p:case ne.q:case ne.w:case ne.v:if(t.payload&&t.payload.response&&t.payload.response.preferences&&t.payload.response.preferences.nightmode){const{nightmode:e}=t.payload.response.preferences;return e?{current:PT.b,cached:{}}:{current:PT.c,cached:{}}}return e;case Gu.h:{if(!t.payload)return e;const{nightmode:n}=t.payload;return n?{current:PT.b,cached:{}}:{current:PT.c,cached:{}}}case j.d:return{current:PT.c,cached:{}};case j.e:return t.payload.nightmodeTempUpdated?{current:PT.b,cached:{}}:e;default:return e}},NT=n("./src/reddit/actions/toaster.ts");const kT=[];var LT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case NT.c:{const n=t.payload,r=[];let s=!1;for(const t of e){const e=t.id===n.id?n:t;r.push(e),s=s||e===n}return s||r.push(n),r}case NT.b:{const n=t.payload;return e.filter(e=>e.id!==n)}default:return e}},UT=n("./src/reddit/actions/tooltip.ts");var MT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UT.c:{const{tooltipId:n}=t.payload;return e===n?null:n}case UT.a:{const{tooltipId:n}=t.payload;return e===n?e:n}case UT.b:{const{tooltipId:n}=t.payload;return null!==e?e:n||null}case UT.e:{const{tooltipId:n}=t.payload;return e===n?null:e}case ge.G:case UT.d:case f.a:case Pd.b:case Pd.c:case Pd.a:return null;default:return e}},FT=n("./src/reddit/actions/tracking.ts");const GT={};var BT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case FT.a:{const{routeKey:n}=t.payload;return Object.assign({},e,{[n]:!0})}case FT.b:{const{routeKey:n}=t.payload;return Object.assign({},e,{[n]:!1})}default:return e}},qT=Object(r.c)({viewportDataLoaded:BT}),VT=n("./src/reddit/actions/trafficStats/constants.ts");var HT=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VT.c:return!0;case VT.b:case VT.a:return!1;default:return e}};var WT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VT.b:{const{trafficStats:e}=t.payload;return e}case VT.c:return null;default:return e}},KT=Object(r.c)({pending:HT,trafficStats:WT});var JT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.s:case l.t:return null;case l.q:{const{error:e}=t.payload;return e}default:return e}};var YT=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.s:return!0;case l.q:case l.t:return!1;default:return e}},zT=Object(r.c)({error:JT,pending:YT});var QT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return(t.payload?t.payload.contentId:null)||null;case s.b:case l.t:return null;default:return e}};var XT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return(t.payload?t.payload.recipient:"")||"";case l.t:return"";default:return e}};var $T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.r:return t.payload&&t.payload.publicAddress||null;case s.b:case l.t:return null;default:return e}},ZT=Object(r.c)({api:zT,contentId:QT,initialRecipient:XT,publicAddress:$T}),eC=Object(r.c)({communityPoints:ZT}),tC=n("./src/reddit/actions/search/trending.ts");const nC=[];var rC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case tC.a:{const{items:n}=t.payload;return n||e}default:return e}},sC=Object(r.c)({models:rC});const oC={};var iC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wy.a:{const{trophies:n}=t.payload;return Object.assign({},e,n)}default:return e}},cC=n("./src/reddit/models/Upload/index.ts");const aC={};var dC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Co.d:{const{key:n,id:r,file:s}=t.payload,o=e[n],i=o&&o.file===s?Object.assign({},o.metadata):{};return Object.assign({},e,{[n]:{key:n,id:r,file:s,metadata:i,url:void 0,status:cC.a.PENDING}})}case Co.h:{const{key:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{status:cC.a.UPLOADING})})}case Co.c:{const{key:n,metadata:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{metadata:r})})}case Co.e:{const{key:n,progress:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{progress:r})})}case Co.g:{const{key:n,url:r,websocketUrl:s}=t.payload,o=e[n];return Object.assign({},e,{[n]:Object.assign({},o,{status:cC.a.SUCCESS,url:r,websocketUrl:s})})}case Co.b:{const{key:n,error:r}=t.payload,s=e[n];return Object.assign({},e,{[n]:Object.assign({},s,{status:cC.a.FAILED,error:r})})}case Co.a:{const{key:n}=t.payload,r=e[n];return Object.assign({},e,{[n]:Object.assign({},r,{status:cC.a.CANCELED})})}case Co.f:{const{key:n}=t.payload,r=e[n];return r.metadata.localUrl&&window.URL.revokeObjectURL(r.metadata.localUrl),mr()(e,n)}case p.d:case p.c:return aC;case m.C:return mr()(e,er.m);default:return e}};const uC={};var lC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:{const{subredditId:n,wallet:r}=t.payload;if(!r)return e;const s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{latest:r,byDate:Object.assign({},s.byDate||{},{[r.at]:r})})})}case l.w:{const n=t.payload,r=Object.assign({},e);return Object.keys(n).forEach(t=>{const s=n[t],o=e[t],i={latest:o?o.latest.at<=s.at?s:o.latest:s,byDate:Object.assign({},o?o.byDate:{},{[s.at]:s})};r[t]=i}),r}case O.d:{const{product:n,wallet:r}=t.payload,s=e[n.subredditId]||{};return Object.assign({},e,{[n.subredditId]:Object.assign({},s,{[r.at]:r,latest:r})})}case l.t:{const{subredditId:n,wallet:r}=t.payload,s=e[n]||{};return Object.assign({},e,{[n]:Object.assign({},s,{[r.at]:r,latest:r})})}default:return e}},bC=n("./src/reddit/actions/pages/appeal/constants.ts"),pC=n("./src/reddit/actions/pages/userDataRequest/index.ts");const fC=(e,t)=>!t||lr()(e,t)?e:t;var mC=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bC.a:case bC.b:case U_.b:case U_.c:case gs.a:case gs.b:case gs.e:case gs.g:case gs.h:case Me.e:case Me.h:case Me.g:case Le.q:case Le.r:case Ue.a:case re.a:case Ue.b:case re.b:case re.f:case re.g:case re.k:case re.l:case ae.a:case se.b:case se.a:case se.e:case se.d:case ie.c:case ie.i:case Ge.e:case Ge.d:case Ge.b:case Ge.a:case oe.e:case oe.d:case ae.b:case ce.a:case ce.c:case Fe.b:case go.a:case Ve.a:case Ve.c:case wT.a:case wT.b:case Gu.i:case pC.b:case DT.e:return fC(e,t.payload.account);case DT.p:return e?Object.assign({},e,{email:t.payload}):e;case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:case ne.h:case ne.e:case ne.l:case ne.o:case ne.u:{const{response:n}=t.payload;return n?fC(e,n.account):e}case DT.c:return e?Object.assign({},e,{seenLayoutSwitch:!0}):e;case s.d:return e?Object.assign({},e,{seenRedesignModal:!0}):e;case ge.u:return e?Object.assign({},e,{seenGiveAwardTooltip:!0}):e;case Gu.k:case Gu.j:{const n=t.payload;return e&&"profileIcon"===n.key?Object.assign({},e,{accountIcon:n.imageUrl}):e}case ge.A:case ge.q:{const{coins:n}=t.payload;return e?Object.assign({},e,{coins:n}):e}case Qa.f:{const{coins:n}=t.payload;return n&&e?Object.assign({},e,{coins:n}):e}default:return e}}),null);var OC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.o:case DT.p:return null;case DT.n:return t.payload;default:return e}};var gC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.o:return!0;case DT.p:case DT.n:return!1;default:return e}},jC=Object(r.c)({error:OC,pending:gC}),yC=Object(r.c)({api:jC});var _C=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.l:return!0;default:return e}};var hC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.k:return!0;case DT.l:case DT.j:return!1;default:return e}},EC=Object(r.c)({pending:hC,emailSent:_C}),IC=Object(r.c)({api:EC}),vC=Object(r.c)({changeEmail:yC,sendResetEmail:IC}),SC=n("./src/reddit/models/WhitelistAndBlocked.ts");const TC={};var CC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt.f:return Object.assign({},e,{new:SC.a.pending});case kt.d:return Object.assign({},e,{new:SC.a.error});case kt.e:return Object.assign({},e,{new:SC.a.waitingForRequest});case kt.b:{const n=t.payload.name;return Object.assign({},e,{[n]:SC.a.pending})}case kt.a:{const n=t.payload.name;return Object.assign({},e,{[n]:SC.a.error})}case kt.c:{const n=t.payload.name;return Object.assign({},e,{[n]:SC.a.waitingForRequest})}default:return e}};const wC=[];var xC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt.e:return[t.payload,...e];case kt.c:{const n=t.payload.name;return e.filter(e=>e.name!==n)}case Gu.i:return t.payload.blockedUsers;default:return e}},DC=Object(r.c)({api:CC,data:xC}),PC=n("./src/reddit/actions/chat/constants.ts"),AC=n("./src/reddit/actions/chat/userSettings.ts");const RC=PC.a.anybody;var NC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case AC.a:if(t.payload){const{invitePolicy:e}=t.payload;return e}return e;default:return e}},kC=Object(r.c)({invitePolicy:NC});const LC=(e,t)=>void 0===t||e&&t===e.count?e:Object.assign({},e,{count:t});var UC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:{const{drafts:n}=t.payload;return e&&lr()(e,n)?e:Object.assign({},e,n)}case m.N:{const{response:{draftsCount:n}}=t.payload;return LC(e,n)}case ws.e:{const{postDraftIds:n}=t.payload;return LC(e,n.length)}case ws.c:case ws.l:{const{draftsCount:n}=t.payload;return LC(e,n)}default:return e}};const MC={};var FC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:MC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case On.a:{const n=t.payload;return null===n.local_persisted_experiments_store||void 0===n.local_persisted_experiments_store?e:n.local_persisted_experiments_store}default:return e}};const GC=[];var BC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.a:return t.payload.experimentVariants.map(e=>{let{id:t,experimentName:n,name:r,version:s}=e;return{id:parseInt(t),name:n,variant:r||void 0,version:s}});default:return e}},qC=Object(r.c)({models:BC,localPersisted:FC});function VC(e,t){return t?e&&lr()(e,t)?e:t:e}const HC={};var WC=Object(hg.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gs.a:case gs.b:case gs.e:case gs.g:case gs.h:case Me.e:case Ue.a:case re.a:case Ue.b:case re.b:case re.f:case re.g:case re.k:case re.l:case ae.a:case af.k:case se.e:case se.d:case Ge.e:case Ge.d:case Ge.b:case Ge.a:case oe.e:case oe.d:case ae.b:case ce.a:case ce.c:case Fe.b:case wT.a:case wT.b:case Gu.i:case DT.e:{const n=t.payload.features;return n?VC(e,n):e}case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:case ne.h:case ne.e:case ne.l:case ne.o:case ne.u:{const{response:n}=t.payload;return n&&n.features?VC(e,n.features):e}default:return e}}),HC);var KC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gu.e:return!0;case Gu.d:return!1;default:return e}};var JC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;return t.type,e},YC=n("./src/reddit/actions/monthsToMinutes/reset.ts");var zC=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bO.e:return t.payload.accountCompleteness.collapsed;case bO.c:return!1;case bO.b:return!0;case YC.a:return!1;default:return e}},QC=n("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),XC=n("./src/reddit/models/MonthsToMinutes/index.ts");const $C=XC.a.Initial;var ZC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bO.e:{const{accountCompleteness:n}=t.payload;return e!==$C?e:n.step}case QC.a:return t.payload||e;case YC.a:return $C;default:return e}},ew=Object(r.c)({collapsed:zC,step:ZC});var tw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bO.e:case bO.d:return!0;default:return e}},nw=n("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts");const rw=[];var sw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nw.a:case bO.f:{const n=t.payload;return n.length?n:e}case lf.h:{const{nameIdentifiers:n,shouldUpdateLoggedOutHomeFeed:r,userIsSubscriber:s}=t.payload;if(!r)return e;const o=n.map(e=>Object(pn.f)(e.name));return s?[...e,...o]:e.filter(e=>-1===o.indexOf(e))}case YC.a:return rw;default:return e}};const ow=[];var iw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ow,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wE.b:{const{subredditNames:e}=t.payload;return e||ow}case bO.e:return t.payload.homeFeed.similar;case YC.a:return ow;default:return e}};var cw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wE.a:return!0;case bO.e:return t.payload.homeFeed.topBanner.isClosed;case YC.a:return!1;default:return e}};var aw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wE.d:return e+1;case bO.e:return t.payload.homeFeed.topBanner.viewsCount;case YC.a:return 0;default:return e}},dw=Object(r.c)({isClosed:cw,viewsCount:aw}),uw=n("./src/reddit/actions/monthsToMinutes/post.ts");const lw=[];var bw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uw.a:{const n=Object(pn.f)(t.payload.subredditName);return[n,...e.filter(e=>e!==n)]}case re.b:{const{postId:n,posts:r,subreddits:s}=t.payload,o=r[n];if(!o)return e;const i=s[o.belongsTo.id];if(!i)return e;const c=Object(pn.f)(i.name);return[c,...e.filter(e=>e!==c)]}case bO.e:return HO()([...t.payload.homeFeed.views,...e]);default:return e}};const pw={};var fw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wE.c:{const{id:n,subredditName:r}=t.payload,s=Object(pn.f)(r);return e[n]===s?e:Object.assign({},e,{[n]:s})}case bO.e:return t.payload.homeFeed.votes;case YC.a:return pw;default:return e}},mw=Object(r.c)({similar:iw,topBanner:dw,views:bw,votes:fw});var Ow=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nw.a:case bO.f:return t.payload.length>=1||e;case re.i:return!0;case lf.h:{const{subscriptionsCount:n,userIsSubscriber:r}=t.payload;return!(1===n&&!r)&&e}case YC.a:return!1;default:return e}};var gw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case QC.a:{if(t.payload!==XC.a.BannerVisible)return e;const n=20;return Math.ceil(n*Math.random())+20}case bO.e:return t.payload.postsCount||0;default:return e}};const jw={[XC.e.Home]:{},[XC.e.SubscribeFeed]:{},[XC.e.SubscribeIdCard]:{},[XC.e.SubscribeReminder]:{},[XC.e.Vote]:{},[XC.e.VoteReminder]:{},[XC.e.VoteSuccess]:{}};var yw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bO.e:{const n=t.payload,{homeTooltipTime:r,subscribeTooltipTime:s,subscribeIdCardTooltipTime:o,voteTooltipTime:i}=n.tooltip;return e[XC.e.Home].time=r,e[XC.e.SubscribeFeed].time=s,e[XC.e.Vote].time=i,e[XC.e.SubscribeIdCard]={isDismissed:!0,time:o},Object.assign({},e)}case gr.a:{const{id:n}=t.payload;let r=Object.assign({},e[XC.e.VoteSuccess]);return r.isDismissed||r.postId||(r={isDismissed:!1,postId:n}),Object.assign({},e,{[XC.e.VoteSuccess]:r})}case re.i:{const t=Object.assign({},e[XC.e.Home]);return t.isDismissed=!0,Object.assign({},e,{[XC.e.Home]:t})}case f.a:case Gu.g:{const t=Object.assign({},e);return Object.keys(e).map(n=>{const r=Object.assign({},e[n]);(r.postId||r.time)&&(r.isDismissed=!0),t[n]=r}),t}case Dd.d:return Object.assign({},e,{[XC.e.Home]:Object.assign({},e[XC.e.Home],{isDismissed:!0})});case YC.a:return jw;default:return e}};const _w={beforeBanner:0,total:0};var hw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.c:return Object.assign({},e,{total:e.total+1});case QC.a:return t.payload!==XC.a.BannerVisible?e:Object.assign({},e,{beforeBanner:e.total});case bO.e:{const{beforeBanner:n,total:r}=t.payload.views.count;return{beforeBanner:n,total:r+e.total}}case YC.a:return Object.assign({},e,{beforeBanner:0});default:return e}};const Ew=[];var Iw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ew,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.b:case uw.a:{const{postId:n}=t.payload;return e.includes(n)?e:[...e,n]}case bO.e:{const n=t.payload;return HO()([...n.views.posts,...e])}case YC.a:return Ew;default:return e}},vw=Object(r.c)({count:hw,posts:Iw}),Sw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Tw={};var Cw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gr.a:{const{id:n,vote:r}=t.payload;if(!Object(jr.a)(n))return e;if(e[n]===r){const t=n;e[t];return Sw(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[n]:r})}case bO.e:return t.payload.votes.comments;case YC.a:return Tw;default:return e}},ww=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const xw={};var Dw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gr.a:{const{id:n,isInstance:r,vote:s}=t.payload;if(!Object(fO.a)(n)||r)return e;if(e[n]===s){const t=n;e[t];return ww(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[n]:s})}case bO.e:return t.payload.votes.posts;case YC.a:return xw;default:return e}},Pw=Object(r.c)({comments:Cw,posts:Dw}),Aw=Object(r.c)({accountCompleteness:ew,dataLoaded:tw,feedMultiName:sw,homeFeed:mw,isFrontpageHome:Ow,postsCount:gw,tooltips:yw,views:vw,votes:Pw});const Rw={blob:"",loid:"",loidCreated:"",version:-1};var Nw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.d:return t.payload;default:return e}},kw=n("./src/reddit/actions/notifications/constants.ts");var Lw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.b:{const{error:e}=t.payload;return e||null}case kw.d:case kw.c:return null;default:return e}};var Uw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.d:return!1;case kw.c:return!0;default:return e}};var Mw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.d:return!0;case kw.c:case kw.b:return!1;default:return e}},Fw=Object(r.c)({error:Lw,loaded:Uw,pending:Mw});var Gw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.i:{const{error:e}=t.payload;return e||null}case kw.k:case kw.j:return null;default:return e}};var Bw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.k:return!1;case kw.j:return!0;default:return e}};var qw=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.k:return!0;case kw.j:case kw.i:return!1;default:return e}},Vw=Object(r.c)({error:Gw,loaded:Bw,pending:qw}),Hw=Object(r.c)({getPreferences:Fw,setPreferences:Vw});var Ww=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.l:return!0;case kw.e:case kw.g:case kw.h:return!1;default:return e}};const Kw={chatMessages:!1,communityRecommendations:!1,liveEvent:!1,trendingPosts:!1,unreadMessages:!1,upvotedComments:!1,upvotedPosts:!1};var Jw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kw.c:case kw.k:case kw.i:{const{preferences:n}=t.payload;return on()(n)?e:n}default:return e}},Yw=Object(r.c)({api:Hw,isNotificationPromptVisible:Ww,preferences:Jw});const zw={};var Qw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.k:case a.i:{const{subredditId:n,userOwnedBadges:r}=t.payload,s=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n]||{},s)})}case O.d:{const{userOwnedBadges:n,product:r}=t.payload,s=n.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r.subredditId]:Object.assign({},e[r.subredditId]||{},s)})}default:return e}},Xw=n("./src/reddit/reducers/user/prefs/index.ts");var $w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.f:return t.payload;default:return e}},Zw=n("./src/reddit/actions/session.ts");var ex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zw.a:case Zw.b:case Zw.c:case Zw.e:return t.payload;case Zw.d:return null;default:return e}};var tx=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zw.f:return!0;default:return e}};var nx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.m:return t.payload;default:return e}};var rx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.a:{const e=t.payload;return e.identity&&e.identity.isEmployee}default:return e}};var sx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fc.a:return t.payload.isLoggedIn;default:return e}},ox=Object(r.c)({isEmployee:rx,isLoggedIn:sx});var ix=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gu.q:{const{topContentDismissal:n}=t.payload;return e&&lr()(e,n)?e:Object.assign({},e,n)}default:return e}},cx=n("./src/reddit/actions/userWhitelist.ts");const ax={};var dx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ax,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cx.e:return Object.assign({},e,{new:SC.a.pending});case cx.d:return Object.assign({},e,{new:SC.a.error});case cx.f:return Object.assign({},e,{new:SC.a.waitingForRequest});case cx.b:{const n=t.payload.name;return Object.assign({},e,{[n]:SC.a.pending})}case cx.a:{const n=t.payload.name;return Object.assign({},e,{[n]:SC.a.error})}case cx.c:{const n=t.payload.name;return Object.assign({},e,{[n]:SC.a.waitingForRequest})}default:return e}};const ux=[];var lx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ux,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cx.f:return[t.payload,...e];case cx.c:{const n=t.payload.name;return e.filter(e=>e.name!==n)}case Gu.i:return t.payload.whitelistedUsers;default:return e}},bx=Object(r.c)({api:dx,data:lx}),px=Object(r.c)({account:mC,accountSettings:vC,blocked:DC,chatSettings:kC,drafts:UC,experiments:qC,features:WC,isCustomizeFlyoutShowing:KC,topContentDismissalPrefsSet:ix,language:JC,loggedOutData:Aw,loid:Nw,notificationPrefs:Yw,ownedBadges:Qw,prefs:Xw.b,reddaid:$w,session:ex,sessionRefreshFailed:tx,sessionTracker:nx,temporaryGQL:ox,wallets:lC,whitelist:bx});var fx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pC.a:return t.payload;case pC.b:case pC.c:return null;default:return e}};var mx=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pC.c:return!0;case pC.b:case pC.a:return!1;default:return e}};var Ox=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pC.b:return!0;case pC.a:case pC.c:return!1;default:return e}};var gx=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pC.b:return t.payload.userDataExportEligibility;case pC.a:case pC.c:return!1;default:return e}},jx=Object(r.c)({error:fx,pending:mx,success:Ox,userDataExportEligibility:gx}),yx=Object(r.c)({userDataRequestPageApi:jx});const _x={};var hx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Fe.b:case go.a:case Ue.b:case re.b:case le.e:return Object.assign({},e,t.payload.userFlair);case ne.i:case ne.f:case ne.m:case ne.p:case ne.v:{const{response:n}=t.payload,{userFlair:r}=n,s=Object.assign({},e);return Object.keys(r).forEach(e=>{s[e]||(s[e]=r[e])}),s}case le.i:{const{subredditId:n,applied:r,displaySettings:s}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{applied:r,displaySettings:s})})}case te.h:{const{subredditId:n,applied:r}=t.payload;return Object.assign({},e,{[n]:Object.assign({},e[n],{applied:r})})}case le.d:{const{subredditId:n,isEnabled:r}=t.payload,s=e[n].displaySettings,o=Object.assign({},s,{isEnabled:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{displaySettings:o})})}case le.b:{const{subredditId:n,canAssignOwn:r}=t.payload,s=e[n].permissions,o=Object.assign({},s,{canAssignOwn:r});return Object.assign({},e,{[n]:Object.assign({},e[n],{permissions:o})})}case le.h:{const n=t.payload,r=e[n.subredditId],s=e[n.subredditId].templates,o=e[n.subredditId].templateIds,i=Object.assign({},s,{[n.template.id]:n.template}),c=[...o];return c.includes(n.template.id)||c.push(n.template.id),Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templates:i,templateIds:c})})}case le.c:{const n=t.payload,r=e[n.subredditId],s=e[n.subredditId].templates,o=e[n.subredditId].templateIds,i=mr()(s,n.templateId),c=o.filter(e=>e!==n.templateId);return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templates:Object.assign({},i),templateIds:c})})}case le.g:case le.f:{const n=t.payload,r=e[n.subredditId];return Object.assign({},e,{[n.subredditId]:Object.assign({},r,{templateIds:n.templateIds})})}default:return e}};const Ex={};var Ix=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ex,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.i:case DT.h:{const{username:n}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:null})}case DT.g:{const{username:n,error:r}=t.payload;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}};var vx=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.i:return!0;case DT.h:case DT.g:return!1;default:return e}},Sx=Object(r.c)({error:Ix,pending:vx});const Tx={};var Cx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.f:{const{subredditId:n,usersAppliedBadges:r}=t.payload,s=Object.keys(r).reduce((t,s)=>{const o=r[s];return t[s]=Object.assign({},e[s]||{},{[n]:o}),t},{});return Object.assign({},e,s)}case a.b:{const{badgeIds:n,subredditId:r,userId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}case a.a:{const{previousBadgeIds:n,subredditId:r,userId:s}=t.payload;return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[r]:n})})}case d.b:{const{badge:n,currentAppliedBadges:r,placement:s,subredditId:o,userId:i}=t.payload,c=r.filter(e=>e.placement!==s).concat(n).filter(Boolean).map(e=>e.id);return Object.assign({},e,{[i]:Object.assign({},e[i]||{},{[o]:c})})}case l.a:{const n=t.payload.campaigns&&t.payload.campaigns.giveaway,r=n&&n.lastUsers;if(!r)return e;const{subredditId:s}=t.payload,o=Object.assign({},e);return r.forEach(t=>{const n=t.userId,r=Object.keys(t.badges||{});o[n]=Object.assign({},e[n]||{},{[s]:r})}),o}default:return e}};const wx={},xx=(e,t)=>{const n=Object.keys(t);if(!n.length)return e;const r={};return n.forEach(n=>{const s=e[n],o=t[n];s&&lr()(s,o)||(r[n.toLowerCase()]=o)}),Object.keys(r).length?Object.assign({},e,r):e};var Dx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DT.h:{const{data:n}=t.payload;return xx(e,n)}case af.k:{const{user:n}=t.payload;return xx(e,{[n.username]:n})}case ge.q:{const{gildee:n}=t.payload;if(!n)return e;const r=e[n.toLowerCase()];if(!r)return e;const s=r.awardedLastMonth,o=s?s.totalCount+1:1,i=s&&s.topAward;return i?xx(e,{[n.toLowerCase()]:Object.assign({},r,{awardedLastMonth:{totalCount:o,topAward:i}})}):e}case Gu.k:case Gu.j:{const{imageUrl:n,key:r,username:s}=t.payload;if("profileIcon"!==r)return e;const o=s.toLowerCase(),i=e[o];return i?xx(e,{[o]:Object.assign({},i,{accountIcon:n})}):e}default:return e}},Px=n("./src/reddit/actions/usernameAvailable.ts");const Ax={};var Rx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ax,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Px.a:{const{username:n}=t.payload;return Object.assign({},e,{[n]:Px.b.Available})}case Px.c:{const{username:n}=t.payload;return Object.assign({},e,{[n]:Px.b.Error})}case Px.d:{const{username:n}=t.payload;return Object.assign({},e,{[n]:Px.b.Pending})}case Px.e:{const{username:n}=t.payload;return Object.assign({},e,{[n]:Px.b.Unavailable})}default:return e}};const Nx={};var kx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.n:{const{subredditId:n,wallets:r}=t.payload,s=Object.keys(r).reduce((t,s)=>{const o=e[s]||{},i=Object.assign({},o,{[n]:r[s]});return Object.assign({},t,{[s]:i})},{});return Object.assign({},e,s)}default:return e}},Lx=Object(r.c)({api:Sx,appliedBadges:Cx,models:Dx,nameAvailable:Rx,publicWallets:kx});const Ux={};var Mx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ux,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.b:case re.b:case ae.b:case ue.i:case ce.c:case Fe.b:case go.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.idCardWidget,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}},Fx=n("./src/reddit/actions/widgets/constants.ts");const Gx={};var Bx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue.b:case re.b:case ce.c:case ue.i:case ae.b:case Fe.b:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.items,s=n.data.content.widgets.layout.topbar.order.filter(e=>r[e]&&"menu"===r[e].kind);if(!s.length)return e;const o=Object.keys(t.payload.subredditAboutInfo||{});if(1!==o.length)return e;const i=o[0];return Object.assign({},e,{[i]:s[0]})}case Fx.g:{const n=t.payload;return"menu"!==n.widget.kind?e:Object.assign({},e,{[n.subredditId]:n.widgetId})}case Fx.h:{const n=t.payload;return e[n.subredditId]===n.widgetId?Object.assign({},e,{[n.subredditId]:null}):e}default:return e}},qx=n("./src/reddit/models/Widgets/index.ts");const Vx={};var Hx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:{const n=t.payload,r=n.structuredStyles&&n.structuredStyles.data&&n.structuredStyles.data.content;if(!r)return e;const s=r.widgets;return Object.assign({},e,s.items)}case Fx.b:{const n=t.payload;return Object.assign({},e,n.widgets.items)}case j.k:{const t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=Object.assign({},t[e],{styles:Object(qx.o)()})}),t}case Fx.e:{const n=t.payload;return Object.assign({},e,n.widgets.items)}case Fx.i:case Fx.g:{const n=t.payload;return Object.assign({},e,{[n.widget.id]:n.widget})}case Fx.h:{const n=t.payload,r=Object.assign({},e);return delete r[n.widgetId],r}case Ue.b:case re.b:case ae.b:case ue.i:case ce.c:case Fe.b:case go.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets;return Object.assign({},e,r.items)}case lf.h:{const{userIsSubscriber:n,nameIdentifiers:r,widgetId:s}=t.payload;if(!s||!e[s]||"community-list"!==e[s].kind)return Object.assign({},e);const o=n,i=e[s],c=i.data.map(e=>{const t=Object.assign({},e);return r.some(e=>e.name===t.name)&&(t.isSubscribed=o),t});return Object.assign({},e,{[s]:Object.assign({},i,{data:c})})}case rI.d:{const{settings:n,idCardWidgetId:r}=t.payload;return r&&e[r]&&"publicDescription"in n&&n.publicDescription!==e[r].description?Object.assign({},e,{[r]:Object.assign({},e[r],{description:n.publicDescription||""})}):e}default:return e}};const Wx={};var Kx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case re.b:case ue.i:case Fe.b:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.moderatorWidget,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}};const Jx={};var Yx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jx,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.b:case Fe.b:case go.a:{const n=t.payload,r=n.structuredStyles&&n.structuredStyles.data&&n.structuredStyles.data.content;if(!r)return e;const s=Object.keys(n.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0],i=r.widgets.layout.sidebar.order;return Object.assign({},e,{[o]:i})}case Fx.e:case Fx.b:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.widgets.layout.sidebar.order})}case Fx.f:{const n=t.payload;return Object.assign({},e,{[n.subredditId]:n.widgetIds})}case Fx.g:{const n=t.payload;if("menu"===n.widget.kind)return e;if(!e[n.subredditId])return Object.assign({},e,{[n.subredditId]:[n.widgetId]});const r=e[n.subredditId].concat(n.widgetId);return Object.assign({},e,{[n.subredditId]:r})}case Fx.h:{const n=t.payload;if(!e[n.subredditId])return e;const r=e[n.subredditId].filter(e=>e!==n.widgetId);return Object.assign({},e,{[n.subredditId]:r})}case Ue.b:case re.b:case ae.b:case ce.c:case ue.i:case Fe.b:case go.a:{const{structuredStyles:n}=t.payload;if(!(n&&n.data&&n.data.content))return e;const r=n.data.content.widgets.layout.sidebar.order,s=Object.keys(t.payload.subredditAboutInfo||{});if(1!==s.length)return e;const o=s[0];return Object.assign({},e,{[o]:r})}default:return e}},zx=Object(r.c)({idCardIds:Mx,menuIds:Bx,models:Hx,moderatorIds:Kx,sidebar:Yx});t.a=Object(r.c)({accountManagerModalData:i,activeModalId:_,ads:v,apiRequestState:C,approvedSubmitters:z,authorFlair:Oe,awards:et,badges:ft,banned:Nt,blockUser:Bt,brandSafety:Ht,categories:_n,chat:Gn,claimGold:Yn,comments:Mr,commentsListTruncated:Gr,commentsPage:bs,communityFlairs:ms,contentGate:ys,continueThreads:Es,creations:Ii,dashboard:Ti,discoveryUnits:Li,economics:rc,emojis:pc,experimentOverrides:jc,externalAccount:Jc,featureFlags:ea,flairedUsers:ma,focusedVerticals:Ta,fontFiles:xa,gild:Va,goldPurchase:xd,header:Rd,imageUploads:Ld,isEmailVerificationTooltipShowing:Md,isModeratorWithPostPerms:Gd,jsApi:Vd,layers:Yd,leaderboard:cu,listings:Ku,live:zu,mediaPlayback:Zu,meta:nl,moderatingSubreddits:sl,moderationLog:yl,moderators:ib,modListingPage:pb,modModeEnabled:mb,modQueue:Op,moreComments:Sp,multireddits:gf,muted:Lf,notificationBannerId:Mf,nps:Bf,oldSiteRules:Hf,page:Yf,platform:em,postCollection:xm,postRequirements:Wm,polls:gm,postFlair:km,posts:_g,postStickiedComments:vg,givePremium:Ya,products:Fg,profileCommentsPage:ej,profilePrivatePage:Zj,profileModSettingsPage:sj,profileOverviewPage:Bj,profilePostsPage:Vj,profiles:Ry,promos:My,publicAccessNetwork:b_,recommendations:f_,removalReasons:S_,reportFlow:L_,reportPage:K_,reportRules:z_,requestHost:Q_,runTimeEnvVars:Z_,search:lh,searchDiscoveryUnits:yh,seo:vh,shortcuts:Nh,sidebarPromotedPosts:Uh,structuredStyles:nE,stylesheets:rE,subredditAutocomplete:bE,subredditChannels:vE,subreddits:LS,subredditDifficulty:CE,subredditStickyPosts:FS,subscriptions:oT,tags:CT,themes:RT,toaster:LT,tooltipId:MT,tracking:qT,trafficStats:KT,transfers:eC,trending:sC,trophies:iC,uploads:dC,user:px,userDataRequestPage:yx,userFlair:hx,users:Lx,widgets:zx})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,s=n("./src/reddit/actions/ads/constants.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(r||(r={}));const o={};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.f:case s.d:{const n=t.payload;return Object.assign({},e,n)}case s.e:case s.f:return e;case s.h:return o;default:return e}}},"./src/reddit/reducers/tags/selected/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/uniqWith.js"),o=n.n(s),i=n("./node_modules/lodash/values.js"),c=n.n(i),a=n("./src/reddit/actions/tags/constants.ts"),d=n("./src/reddit/models/Option/index.ts"),u=n("./src/reddit/models/Tags/index.ts");!function(e){e.ADD="ADD",e.REMOVE="REMOVE"}(r||(r={}));const l={selectedOptions:{},selectedSuggestedOptions:{},deselectedOptions:{},deselectedSuggestedOptions:{},inputByItemId:{},suggestedInputByItemId:{}};t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.m:{const{subredditId:n,itemTags:r,suggestedItemTags:s}=t.payload,i=o()([...(e.selectedOptions[n]||[]).map(e=>{if(!e.id){const t=c()(r[n]||{}).find(t=>e.displayText.toLowerCase().trim()===t.tag.text.toLowerCase().trim());if(t)return Object.assign({},Object(u.d)(t,!0),{action:null})}return e}),...c()(r[n]||{}).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null}))],d.a);return Object.assign({},e,{selectedOptions:Object.assign({},e.selectedOptions,{[n]:i.map(e=>Object.assign({},e,{action:e.id?null:e.action}))}),selectedSuggestedOptions:Object.assign({},e.selectedSuggestedOptions,{[n]:c()(s[n]||{}).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null}))}),deselectedOptions:Object.assign({},e.deselectedOptions,{[n]:[]})})}case a.y:case a.u:{const{subredditId:n,option:s}=t.payload,i=t.type===a.u?"selectedOptions":"selectedSuggestedOptions",c=t.type===a.u?"deselectedOptions":"deselectedSuggestedOptions",u=(e[c][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,s));let b=r.ADD;return l>-1&&(b=null,u.splice(l,1)),Object.assign({},e,{[i]:Object.assign({},e[i],{[n]:o()([...e[i][n]||[],Object.assign({},s,{action:b})],d.a)}),[c]:Object.assign({},e[c],{[n]:u})})}case a.x:case a.t:{const{subredditId:n,option:s}=t.payload,o=t.type===a.t?"selectedOptions":"selectedSuggestedOptions",i=t.type===a.t?"deselectedOptions":"deselectedSuggestedOptions",c=(e[i][n]||[]).slice(),u=(e[o][n]||[]).slice(),l=u.findIndex(e=>Object(d.a)(e,s));return l>-1&&(null===u[l].action&&c.push(Object.assign({},u[l],{action:r.REMOVE})),u.splice(l,1)),Object.assign({},e,{[o]:Object.assign({},e[o],{[n]:u}),[i]:Object.assign({},e[i],{[n]:c})})}case a.v:{const{itemTagsState:n}=t.payload,r=Object.keys(n);if(!r.length)return e;const s={selectedOptions:{},deselectedOptions:{},inputByItemId:{}},o=r.reduce((e,t)=>(e.selectedOptions[t]=c()(n[t]).map(e=>Object.assign({},Object(u.d)(e,!0),{action:null})),e.deselectedOptions[t]=[],e.inputByItemId[t]="",e),s);return Object.assign({},e,{inputByItemId:Object.assign({},e.inputByItemId,o.inputByItemId),selectedOptions:Object.assign({},e.selectedOptions,o.selectedOptions),deselectedOptions:Object.assign({},e.deselectedOptions,o.deselectedOptions)})}case a.w:case a.s:{const{subredditId:n,input:r}=t.payload,s=t.type===a.s?"inputByItemId":"suggestedInputByItemId";return Object.assign({},e,{[s]:Object.assign({},e[s],{[n]:r})})}default:return e}}},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r,s=n("./node_modules/lodash/isEqual.js"),o=n.n(s),i=n("./node_modules/lodash/merge.js"),c=n.n(i),a=n("./node_modules/lodash/pick.js"),d=n.n(a),u=n("./src/lib/constants/index.ts"),l=n("./src/reddit/actions/comment/index.ts"),b=n("./src/reddit/actions/contentGate.ts"),p=n("./src/reddit/actions/frontpage.ts"),f=n("./src/reddit/actions/header.ts"),m=n("./src/reddit/actions/modQueue/constants.ts"),O=n("./src/reddit/actions/page.ts"),g=n("./src/reddit/actions/pages/collectionCommentsPage.ts"),j=n("./src/reddit/actions/pages/modListing/constants.ts"),y=n("./src/reddit/actions/pages/postCreation.ts"),_=n("./src/reddit/actions/pages/postDraft.ts"),h=n("./src/reddit/actions/pages/profileComments.ts"),E=n("./src/reddit/actions/pages/profileOverview.ts"),I=n("./src/reddit/actions/pages/profilePosts.ts"),v=n("./src/reddit/actions/pages/search.ts"),S=n("./src/reddit/actions/pages/subreddit.ts"),T=n("./src/reddit/actions/postCreation/constants.ts"),C=n("./src/reddit/actions/postDraft.ts"),w=n("./src/reddit/actions/preferences.ts"),x=n("./src/reddit/actions/redditEmbed.ts"),D=n("./src/reddit/actions/search.ts"),P=n("./src/reddit/actions/structuredStyles/constants.ts"),A=n("./src/reddit/actions/subreddit.ts"),R=n("./src/reddit/actions/users.ts"),N=n("./src/reddit/constants/postLayout.ts"),k=n("./src/reddit/constants/preferences.ts"),L=n("./src/reddit/constants/theme.ts"),U=n("./src/reddit/models/PostCreationForm/index.ts"),M=n("./src/reddit/models/PostDraft/index.ts"),F=n("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(r||(r={}));const G=["acceptPrivateMessages","allowClickTracking","autoplayVideo","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","ignoreSuggestedSort","inBeta","labelNSFW","markMessagesRead","nightmode","over18","showMessagesInInbox","showNotifications","showTwitter","showUsernameMentionNotifications","showActiveCommunities",...k.a,"loginOtpEnabled"],B={acceptPrivateMessages:void 0,activityRelevantAds:!0,allowClickTracking:!1,autoplayVideo:!0,collapsedTraySections:F.a,commentMode:U.h.RICH_TEXT,layout:N.d.Card,rememberCommunityLayout:!1,defaultCommentSort:u.q.CONFIDENCE,editorMode:U.h.RICH_TEXT,featuresViewedHistory:F.b,geopopular:void 0,globalTheme:L.a,hamburgerTray:void 0,hasSeenCustomizeFlyout:!0,hideNSFW:!0,ignoreSuggestedSort:!1,labelNSFW:!0,loginOtpEnabled:!1,markMessagesRead:!0,nightmode:!1,openPostInNewTab:!1,over18:!1,profileLayout:void 0,rpanDuDismissalTime:void 0,showActiveCommunities:!0,showRpanDu:!0,showTwitter:!1,sort:u.P.Hot,stylesEnabled:!0,subreddit:{},subscriptionsPinned:void 0,thirdPartyDataPersonalizedAds:!0,thirdPartySiteDataPersonalizedAds:!0,thirdPartySiteDataPersonalizedContent:!0,topContentDismissalTime:0,topContentTimesDismissed:0,rememberCommunitySort:!1,useMarkdown:!1},q={isContributorRequestTimestamp:0,stylesEnabled:!0,layout:void 0,sort:void 0},V=(e,t)=>{if(!t)return e;const n=d()(Object.assign({},t.account,t),G),r=t.subreddit,s=Object.assign({},e.subreddit);Object.keys(r||{}).forEach(e=>{s[e]=Object.assign({},q,r&&r[e])});const i=Object.assign({},e,n,{subreddit:s});if(i.useMarkdown!==e.useMarkdown){const e=i.useMarkdown?U.h.MARKDOWN:U.h.RICH_TEXT;i.editorMode=e,i.commentMode=e}return o()(i,e)?e:i},H=(e,t,n)=>V(e,{subreddit:{[t]:Object.assign({},q,e.subreddit[t],n)}});t.b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.l:case l.r:{const{editorMode:n}=t.payload;return Object.assign({},e,{commentMode:n})}case T.t:case T.O:{const{editorMode:n}=t.payload;return Object.assign({},e,{editorMode:n})}case f.d:return Object.assign({},e,{subscriptionsPinned:!0});case f.e:return Object.assign({},e,{subscriptionsPinned:!1});case C.g:{const{kind:n}=t.payload;return Object.assign({},e,{editorMode:n===M.b.Markdown?U.h.MARKDOWN:U.h.RICH_TEXT})}case w.g:{const{layout:n}=t.payload;return e.layout===n?e:Object.assign({},e,{layout:n})}case w.n:return void 0!==t.payload?Object.assign({},e,{rpanDuDismissalTime:t.payload}):e;case w.o:{const{layout:n,subredditId:r}=t.payload;return H(e,r,{layout:n})}case w.e:return Object.assign({},e,{hasSeenCustomizeFlyout:!0});case w.l:return e.profileLayout===t.payload.profileLayout?e:Object.assign({},e,{profileLayout:t.payload.profileLayout});case b.f:return Object.assign({},e,{over18:!0});case w.b:return void 0!==t.payload?Object.assign({},e,{autoplayVideo:t.payload.autoplayVideo}):e;case w.h:return void 0!==t.payload?Object.assign({},e,{nightmode:t.payload.nightmode}):e;case w.q:if(void 0!==t.payload){const{topContentDismissalTime:n,topContentTimesDismissed:r}=t.payload;return Object.assign({},e,{topContentDismissalTime:n,topContentTimesDismissed:r})}return e;case P.d:return t.payload.isNightmodeOn?Object.assign({},e,{nightmode:!1,nightmodeTempUpdated:!0}):e;case P.e:return t.payload.nightmodeTempUpdated?Object.assign({},e,{nightmode:!0,nightmodeTempUpdated:!1}):e;case w.f:return void 0!==t.payload?Object.assign({},e,{hamburgerTray:t.payload.set}):Object.assign({},e,{hamburgerTray:!e.hamburgerTray});case w.c:return void 0!==t.payload?Object.assign({},e,{collapsedTraySections:c()({},e.collapsedTraySections,t.payload)}):e;case R.a:case R.b:return Object.assign({},e,{featuresViewedHistory:c()({},e.featuresViewedHistory,t.payload)});case b.a:case b.b:case b.g:case b.e:case b.h:case j.e:case j.h:case g.a:case O.a:case g.b:case O.b:case g.d:case O.d:case O.g:case S.b:case O.l:case O.k:case h.e:case E.e:case E.b:case I.e:case p.b:case A.i:case D.c:case x.b:case y.b:case _.a:case w.i:case v.c:case w.a:case R.e:return t.payload&&t.payload.preferences?V(e,t.payload.preferences):e;case w.p:{const{subredditId:n,prefs:r}=t.payload;return H(e,n,r)}case h.d:case E.d:case E.a:case I.d:if(t.payload&&t.payload.account){const{nightmode:n}=t.payload.account;if(e.nightmode!==n)return Object.assign({},e,{nightmode:n})}return e;case m.h:case m.j:case m.i:case m.g:case m.f:case m.n:case m.m:case m.p:case m.q:case m.w:case m.v:return t.payload&&t.payload.response&&t.payload.response.preferences?V(e,t.payload.preferences):e;case w.m:{const n=t.payload,{showActiveCommunities:r}=n.additional;return e.showActiveCommunities!==r?Object.assign({},e,{showActiveCommunities:r}):e}default:return e}}},"./src/reddit/routes/modListing/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/flatten.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/reddit/actions/pages/modListing/index.ts");const c="/r/mod",a="/me/f/mod",d=[c,a],u=s()(d.map(e=>Object.keys(o.N).map(t=>"".concat(e,"/:sort(").concat(o.N[t],")?")))),l=e=>e.startsWith(a),b={action:i.b,chunk:o.o.MOD_LISTING,exact:!0,meta:{name:o.xb.MOD_LISTING},path:u,prefetches:[o.o.SUBREDDIT,o.o.COMMENTS_PAGE]};t.c=b},"./src/reddit/routes/postCreation/constants.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));const r="/submit",s="/r/:subredditName/submit",o="/user/:profileName/submit"},"./src/reddit/routes/postCreation/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/actions/pages/postCreation.ts"),o=n("./src/reddit/routes/postCreation/constants.ts");const i=[o.b,o.c,o.a],c=e=>o.c.replace(/:subredditName/,e),a=e=>o.a.replace(/:profileName/,e),d={action:s.e,chunk:r.o.POST_CREATION,exact:!0,meta:{name:r.xb.POST_CREATION},path:i,prefetches:[r.o.COMMENTS_PAGE]};t.a=d},"./src/reddit/selectors/PublicAccessNetwork/api.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"i",(function(){return O})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return j}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/actions/publicAccessNetwork/constants.ts"),o=n("./src/reddit/actions/publicAccessNetwork/streams.ts");const i=e=>e.publicAccessNetwork.api.config,c=(e,t)=>!!t&&!!e.publicAccessNetwork.api.error[Object(o.e)(t)],a=e=>c(e,s.b),d=(e,t)=>!!t&&!!e.publicAccessNetwork.api.pending[Object(o.e)(t)]&&e.publicAccessNetwork.api.pending[Object(o.e)(t)].isPending,u=e=>d(e,s.b),l=e=>e.publicAccessNetwork.api.pending[s.b]&&e.publicAccessNetwork.api.pending[s.b].fetchedUtcTimeStamp,b=Object(r.a)(i,e=>e.values),p=Object(r.a)(i,e=>e.values.rpan_intro_video_url),f=Object(r.a)(i,e=>e.values.url_to_show_for_unavailable_video),m=Object(r.a)(i,e=>!e.values.lastUpdated||!!e.values.rpan_intro_video_url),O=Object(r.a)(i,e=>e.isError),g=Object(r.a)(i,e=>!!e.values.viewer_enabled&&!e.isPermanentlyCanceled),j=Object(r.a)(i,e=>e.values.max_chat_comment_length)},"./src/reddit/selectors/activeModalId.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.activeModalId,s=e=>t=>t.activeModalId===e},"./src/reddit/selectors/brandSafety.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/isFakeSubreddit/index.ts"),o=n("./src/reddit/contexts/PageLayer/selectors.ts"),i=n("./src/reddit/models/WhitelistStatus/index.ts"),c=n("./src/reddit/selectors/posts.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=new Set([r.N.NEW,r.N.RISING,r.N.CONTROVERSIAL]),u=e=>e.brandSafety.hasBrandSafetyBeenAssessed,l=(e,t)=>{let{postId:n}=t;const r=Object(c.J)(e,{postId:n}),s=Object(c.T)(e,{postId:n});return!(!r||!s)&&(s.wls===i.a.ALL_ADS&&!r.isNSFW)},b=e=>e.brandSafety.isViewSafe,p=e=>!e.brandSafety.isViewSafe,f=(e,t)=>{const{listingName:n,pageLayer:r}=t,c=Object(a.B)(e,{subredditName:n}),u=Object(o.b)(e,{pageLayer:r});return(!u||!d.has(u))&&(!(c||!Object(s.a)(n))||!!c&&c.wls===i.a.ALL_ADS)}},"./src/reddit/selectors/category.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"l",(function(){return j})),n.d(t,"i",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return D})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return R})),n.d(t,"m",(function(){return N})),n.d(t,"t",(function(){return U}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/pickBy.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/experiments.ts"),a=n("./src/reddit/helpers/name/index.ts"),d=n("./src/reddit/models/Widgets/index.ts"),u=n("./src/reddit/selectors/experiments/categoriesPlacement.ts"),l=n("./src/reddit/selectors/subreddit.ts");const b=[],p=e=>e.categories.api.list.loaded,f=e=>e.categories.api.list.pending,m=(e,t)=>{let{id:n}=t;return n?e.categories.api.subreddits.loaded[n]:void 0},O=(e,t)=>{let{id:n}=t;return n?e.categories.api.subreddits.pending[n]:void 0},g=(e,t)=>{let{id:n}=t;return n?e.categories.models[n]:void 0},j=e=>e.categories.nameToId,y=(e,t)=>{let{categoryName:n}=t;const r=e.categories.nameToId[Object(a.f)(n)];if(r)return g(e,{id:r})},_=new Set(["nba","nfl"]),h=Object(o.a)((e,t)=>t.categoriesOrder||c.bb,(e,t)=>t.excludedCategories||_,e=>e.categories.ids,e=>e.categories.models,(e,t,n,r)=>{const s={};let o=1e3;const i=[];for(const c of n){const n=r[c];t.has(Object(a.f)(n.name))||(e[n.name]||(s[n.name]=o++),i.push(n))}return i.sort((t,n)=>{return(e[t.name]||s[t.name])-(e[n.name]||s[n.name])})}),E=(e,t)=>{let{categoryName:n}=t;const r=y(e,{categoryName:n});return r&&e.subreddits.byCategory[r.id]||b},I=Object(o.a)((e,t)=>{let{id:n}=t;if(!n)return b;return e.subreddits.byCategory[n]||b},l.Y,e=>e.subreddits.about,(e,t,n)=>e.map(e=>Object(d.j)(t[e],n[e]))),v=()=>Object(i.a)(Object(o.a)(E,l.Y,l.z,(e,t,n)=>e.map(e=>Object(d.j)(t[e],n[e])))),S=Object(o.a)(E,l.Y,(e,t)=>0===e.length?b:e.map(e=>t[e])),T=()=>Object(i.a)(Object(o.a)(E,l.Y,(e,t)=>0===e.length?b:e.map(e=>{const n=t[e];return n?n.name:""}).filter(Boolean))),C=()=>Object(o.a)(T(),e=>e.join("+")),w=Object(o.a)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||b,e=>e.categories.models,(e,t)=>e.map(e=>t[e])),x=Object(i.a)(Object(o.a)((e,t)=>e.listings.listingOrder.ids[t.listingKey]||b,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e]))),D=(e,t)=>{const n=t?e.posts.models[t]:null;return n&&n.postCategories?n.postCategories:null},P=Object(o.a)(e=>e.subreddits.byCategory,l.Y,(e,t)=>Object.keys(e).reduce((n,r)=>{const s=e[r];if(!s||0===s.length)return n;for(const e of s){const s=t[e];if(s){const e=Object(a.f)(s.name);n[e]||(n[e]=[]),n[e].push(Object(a.f)(r))}}return n},{})),A=Object(o.a)((e,t)=>t.subredditName,P,(e,t)=>t[Object(a.f)(e)]||b),R=e=>e.categories.ranking,N=(e,t)=>{let{id:n}=t;return n&&e.categories.ranking[n]||0},k=Object(o.a)(h,R,(e,t)=>{const n=s()(t,e=>e>=3);return 0===Object.keys(n).length?e:[...e].sort((e,t)=>{const r=n[e.id]||0;return(n[t.id]||0)-r})}),L=Object(o.a)(()=>Object(u.b)(),e=>{if(!e)return _;const t=new Set(_);return t.delete(e.name),t}),U=(e,t)=>{const n=L(e);return k(e,Object.assign({},t,{excludedCategories:n}))}},"./src/reddit/selectors/chat.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./src/reddit/models/ModeratingSubreddits/index.ts"),s=n("./src/reddit/selectors/moderatorPermissions.ts"),o=n("./src/reddit/selectors/platform.ts");const i=e=>e.chat.unread.count,c=e=>e.chat.promos,a=e=>!!e.chat.isUserSubredditChatEnabled,d=e=>!(e.chat.isInited||e.chat.unread.api.pending),u=(e,t)=>{const{chatConfig:n}=r.c;return Object(s.a)(n)(e,t)},l=e=>{const t=Object(o.d)(e);if(e.chat.subredditSettings.subredditId===t)return e.chat.subredditSettings}},"./src/reddit/selectors/claimgold.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.claimGold.code,s=e=>e.claimGold.showModal},"./src/reddit/selectors/comments.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"w",(function(){return f})),n.d(t,"y",(function(){return m})),n.d(t,"z",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"G",(function(){return _})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return E})),n.d(t,"k",(function(){return I})),n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return S})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"s",(function(){return D})),n.d(t,"n",(function(){return P})),n.d(t,"v",(function(){return A})),n.d(t,"A",(function(){return R})),n.d(t,"I",(function(){return N})),n.d(t,"u",(function(){return k})),n.d(t,"C",(function(){return L})),n.d(t,"D",(function(){return U})),n.d(t,"E",(function(){return M})),n.d(t,"t",(function(){return F})),n.d(t,"e",(function(){return G})),n.d(t,"x",(function(){return B})),n.d(t,"J",(function(){return q})),n.d(t,"f",(function(){return V})),n.d(t,"j",(function(){return H})),n.d(t,"F",(function(){return W})),n.d(t,"B",(function(){return K})),n.d(t,"H",(function(){return J})),n.d(t,"r",(function(){return Y})),n.d(t,"K",(function(){return z}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makeCommentPermalink/index.ts"),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/constants/comments.ts"),d=n("./src/reddit/models/Post/index.ts"),u=n("./src/reddit/selectors/posts.ts"),l=n("./src/reddit/selectors/subreddit.ts");const b=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.error[n]},p=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.pending[n]},f=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.api.fullyLoaded[n]},m=(e,t)=>e.commentsPage.keyToHeadCommentId[t.commentsPageKey],O=(e,t)=>{const n=m(e,t);if(n)return S(e,{commentId:n})},g=[],j=Object(c.a)((e,t)=>{const n=O(e,t),r=n&&n.id;if(!r)return g;const{commentsPageKey:s}=t,o=e.commentsPage.keyToCommentThreadLinkSets[s],i=[];let c={id:r,type:a.a.Comment};do{i.push(c),c=o[c.id].next}while(c);return i}),y=(e,t)=>m(e,t)?e.commentsPage.keyToChatCommentLinks[t.commentsPageKey]:[],_=(e,t)=>{let{commentsPageKey:n}=t;const r=e.commentsPage.keyToPostId[n];return r?e.posts.models[r]:null},h=(e,t)=>{let{commentId:n,commentLink:r,commentsPageKey:s}=t;const o=e.commentsPage.keyToCommentThreadLinkSets[s];return o?r?o[r.id]:n?o[n]:null:null},E=(e,t)=>{let{commentsPageKey:n}=t;return e.commentsPage.keyToCommentThreadLinkSets[n]},I=(e,t)=>{const n=t.commentsPageKey?h(e,t):null;return n?n.depth:null},v=(e,t)=>{let{commentLink:n}=t;const{id:r,type:s}=n;switch(s){case a.a.Comment:return e.comments.models[r];case a.a.MoreComments:return e.moreComments.models[r];case a.a.ContinueThread:return e.continueThreads.models[r];default:return null}},S=(e,t)=>{let{commentId:n}=t;return n?e.comments.models[n]:void 0},T=(e,t)=>{if(e.platform.currentPage&&e.platform.currentPage.urlParams&&e.platform.currentPage.urlParams.partialPostId){const{partialPostId:t}=e.platform.currentPage.urlParams,n=Object(d.l)(t);return Array.from(new Set(Object.keys(e.comments.models).filter(t=>e.comments.models[t].postId===n&&e.comments.models[t].author!==o.z).map(t=>e.comments.models[t].author)))}return[]},C=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.collapsed[r]&&e.comments.collapsed[r][n])},w=(e,t)=>{let{commentsPageKey:n}=t;return e.comments.collapsed[n]},x=e=>e.moreComments.models,D=e=>e.comments.models,P=(e,t)=>{let{commentId:n}=t;const r=S(e,{commentId:n});return r?Object(i.a)(Object(u.I)(e,r),n):""},A=(e,t)=>{let{commentId:n}=t;return!!(n&&e.comments.focused&&e.comments.focused[n])},R=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.isEditing[r]&&e.comments.isEditing[r][n])},N=(e,t)=>{let{commentId:n,commentsPageKey:r}=t;return!!(n&&e.comments.replyFormOpen[r]&&e.comments.replyFormOpen[r][n])},k=(e,t)=>{let{commentsPageKey:n}=t;const r=n&&e.comments.replyFormOpen[n]||{},s=Object.keys(r).find(e=>r[e]),o=S(e,{commentId:s}),i=o&&I(e,{commentId:o.id,commentLink:void 0,commentsPageKey:n});if(o&&"number"==typeof i)return Object.assign({},o,{depth:i})},L=(e,t)=>{let{moreCommentsId:n}=t;return e.moreComments.models[n]},U=(e,t)=>{let{moreCommentsId:n}=t;return!!e.moreComments.api.pending[n]},M=(e,t)=>{let{commentsPageKey:n}=t;const r=e.commentsPage.keyToPostId[n];if(r){const t=s()(e.moreComments.models).find(t=>t.postId===r&&0===t.depth&&!(void 0!==e.moreComments.api.pending[t.id]));if(t)return{moreCommentId:t.id,pending:!!e.moreComments.api.pending[t.id]}}return null},F=(e,t)=>{let{id:n}=t;return e.continueThreads.models[n]},G=(e,t)=>{let{commentId:n}=t;const r=n?e.comments.models[n]:void 0;if(!r)return null;const s=e.authorFlair.models[r.subredditId];return s?s[r.author]:null},B=(e,t)=>{let{draftKey:n}=t;return!!e.comments.submit.error[n]},q=(e,t)=>{let{draftKey:n}=t;const r=e.comments.submit.error[n];return r&&r.fields?r.fields.map(e=>e.msg):[]},V=(e,t)=>{let{draftKey:n}=t;const r=e.comments.drafts[n];return!!r&&r.autofocusDisabled},H=(e,t)=>{let{draftKey:n}=t;return e.comments.drafts[n]},W=(e,t)=>{let{commentId:n}=t;const r=n?e.comments.submit.error[n]:void 0;return r&&r.fields?r.fields.map(e=>e.msg):void 0},K=(e,t)=>{let{commentId:n}=t;return!!n&&e.comments.submit.pending[n]},J=(e,t)=>{let{commentId:n}=t;return!!n&&e.comments.models[n].sendReplies},Y=e=>e.comments.visitHighlightFilter,z=(e,t)=>{const n=S(e,t);if(n)return Object(l.X)(e,n)}},"./src/reddit/selectors/communityAwards.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l}));var r=n("./src/lib/objectSelector/index.ts");const s=e=>e.awards.create.api.pending,o=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.awards.manageable.order[n];return r?r.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),i=(e,t)=>{let{subredditId:n}=t;return e.awards.manageable.api.pending[n]},c=(e,t)=>{let{subredditId:n}=t;return!!e.awards.blacklist[n]},a=(e,t)=>t.reduce((t,n)=>{const r=e.awards.models[n];return r&&t.push(r),t},[]),d=(e,t)=>e.awards.models[t],u=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.awards.usable.order[n];return r?r.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),l=(e,t)=>{let{subredditId:n}=t;return e.awards.usable.api.pending[n]}},"./src/reddit/selectors/communityFlairs.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/reselect/es/index.js");const s=(e,t)=>{const n=e.communityFlairs[t];return n&&n.sortedKeys},o=Object(r.a)(s,e=>e),i=(e,t)=>{const n=e.communityFlairs[t];return n&&n.models},c=Object(r.a)(i,e=>e),a=Object(r.a)((e,t)=>i(e,t),(e,t)=>s(e,t),(e,t)=>{if(t&&e)return t.map(t=>e[t])}),d=(e,t)=>e.communityFlairs.hasOwnProperty(t)},"./src/reddit/selectors/discoveryUnit.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"j",(function(){return S}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/lib/makeListingKey/index.ts"),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/DiscoveryUnit/index.ts"),a=n("./src/reddit/selectors/category.ts"),d=n("./src/reddit/selectors/experiments/exploreV2.ts"),u=n("./src/reddit/selectors/listings.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/subreddit.ts");const p=[],f=e=>e.discoveryUnits.api.list.loaded,m=e=>e.discoveryUnits.api.list.pending,O=(e,t)=>{let{unitName:n}=t;const r=e.discoveryUnits.nameToId[Object(i.f)(n)];return e.discoveryUnits.models[r]},g=()=>Object(o.a)((e,t)=>{let{listingKey:n}=t;const r=Object(l.L)(e);return Object(l.C)(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.isStickied&&!t.isSponsored})}),j=()=>Object(o.a)((e,t)=>{let n,{categoryName:o,id:i,unitName:c}=t;if(o&&!(n=Object(a.i)(e,{categoryName:o})))return p;const d=i||n&&n.id,u=Object(s.a)(c,r.N.HOT,{category:d});return g()(e,{listingKey:u})}),y=()=>Object(o.a)((e,t)=>{let{listingKey:n,unitName:o,subredditName:i}=t;if(!Object(b.B)(e,{subredditName:i}))return p;const c=n||Object(s.a)(o,r.N.HOT,{subredditName:i});return g()(e,{listingKey:c})}),_=e=>{if(Object(d.a)(e))return O(e,{unitName:c.i})},h=e=>{if(Object(d.a)(e))return O(e,{unitName:c.k})},E=(e,t)=>{let{listingKey:n,shouldLoadMore:r}=t;const s=Object(u.j)(e,{listingKey:n}),o=s?s.token:void 0,i=Object(u.h)(e,{listingKey:n});if(s){if(!r)return;{const t=Object(u.i)(e,{listingKey:n,token:s.token});if(i||t)return}}else{const t=Object(u.f)(e,{listingKey:n});if(i||t)return}return{fetchedToken:o}},I=e=>O(e,{unitName:c.c}),v=new Set(["sequence"]),S=e=>{const t=e.platform.currentPage;if(t){const{meta:e,urlParams:n}=t,r=e&&e.name||"",s=n&&n.subredditName||"",o="subreddit"===r,i=v.has(s.toLowerCase());return o&&i}return!1}},"./src/reddit/selectors/emojis.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return g}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/models/Flair/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=[],u=e=>e.emojis.models,l=Object(o.a)(u,(e,t)=>t.subredditId,(e,t)=>{const n=e[t];return n?[...s()(n.emojis),...s()(n.snoomojis)]:d}),b=Object(o.a)(l,c.g,(e,t)=>t.isFlairModOnly,(e,t)=>t.flairTemplateType,(e,t,n,r)=>e.filter(e=>!(e.modFlairOnly&&!t||e.modFlairOnly&&!n)&&(!(!e.userFlairAllowed&&r===i.d.UserFlair)&&!(!e.postFlairAllowed&&r===i.d.LinkFlair)))),p=Object(o.a)(u,(e,t)=>t.subredditId,(e,t)=>Object.keys(e[t].snoomojis)),f=(e,t)=>Object(a.y)(e,{subredditName:t}).emojisEnabled,m={emojis:{},snoomojis:{}},O=(e,t)=>{let{subredditId:n}=t;return u(e)[n]||m},g=(e,t)=>!!e.emojis.api.list.pending[t]},"./src/reddit/selectors/experiments/categoriesPlacement.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return S}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/once.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./node_modules/reselect/es/index.js"),a=n("./src/lib/constants/index.ts"),d=n("./src/reddit/constants/experiments.ts"),u=n("./src/reddit/constants/page.ts"),l=n("./src/reddit/contexts/PageLayer/index.tsx"),b=n("./src/reddit/helpers/chooseVariant/index.ts"),p=n("./src/reddit/selectors/experiments/utils.ts"),f=n("./src/reddit/selectors/meta.ts"),m=n("./src/reddit/selectors/user.ts");const O=Object(c.a)(e=>Object(b.c)(e,{experimentEligibilitySelector:e=>!Object(m.I)(e),experimentName:d.u}),p.a),g=Object(c.a)(m.I,(e,t)=>Object(l.N)(e,t),(e,t)=>{let{pageLayer:n}=t;return Object(l.z)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(l.L)(n)},(e,t,n,r)=>!e&&(n||r||t===u.g)),j=Object(c.a)((e,t)=>Object(b.c)(e,{experimentEligibilitySelector:e=>g(e,t),experimentName:d.u}),p.a),y=e=>e===d.i.Top||e===d.i.TopBlue,_=e=>e===d.i.Left||e===d.i.LeftBlue,h=e=>e===d.i.TopBlue||e===d.i.LeftBlue,E=new Set(i()(a.v).filter(e=>e!==a.v.Everywhere)),I=Object(c.a)(f.b,e=>!!e&&E.has(e)),v=[{endDate:+new Date(2019,7,9)-1,name:"Summer Fun",subredditNames:["BBQ","Coachella","EDM","Moviesinthemaking","Music","Shoestring","TravelHacks","aves","boxoffice","electricdaisycarnival","electronicmusic","entertainment","flicks","grilling","hiking","indieheads","listentothis","movies","solotravel","trailers"]},{endDate:+new Date(2019,8,16)-1,name:"Premier League",subredditNames:["avfc","chelseafc","coys","crystalpalace","everton","hammers","lcfc","liverpoolfc","mcfc","premierleague","reddevils","saintsfc","soccer"]},{endDate:+new Date(2020,0,1)-1,name:"NFL",subredditNames:[]}].sort((e,t)=>e.endDate-t.endDate),S=s()(()=>{const e=Date.now();return v.find(t=>e<t.endDate)})},"./src/reddit/selectors/experiments/chatPost.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return y}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/contexts/PageLayer/selectors.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/platform.ts"),d=n("./src/reddit/selectors/posts.ts");const u=e=>Object(a.g)(e)&&!(!e.platform.currentPage||!e.platform.currentPage.urlParams.commentId&&!e.platform.currentPage.urlParams.partialCommentId),l=(e,t)=>{const n=t&&e.subreddits.models[t];return Boolean(n&&n.isChatPostFeatureEnabled)},b=(e,t)=>{const n=t&&e.subreddits.models[t];return Boolean(n&&n.allowChatPostCreation)},p=e=>Object(o.c)(e,{experimentName:r.c,experimentEligibilitySelector:o.a})===r.j.Holdout,f=e=>Object(o.c)(e,{experimentName:r.d,experimentEligibilitySelector:o.a})===r.j.Rollout,m=(e,t)=>{let{postId:n}=t;const r=!!n&&Object(d.J)(e,{postId:n});return!!r&&r.discussionType===i.b.Chat},O=(e,t)=>{let{postId:n}=t;const r=m(e,{postId:n}),s=!!n&&!!Object(c.i)(e,{postId:n});return r&&!u(e)&&f(e)&&(!p(e)||s)},g=(e,t)=>{const n=t.subredditId||Object(s.m)(e,t),r=l(e,n),o=b(e,n),i=!!n&&Object(c.g)(e,{subredditId:n});return!!f(e)&&(!!r&&(!!i||!p(e)&&o))},j=(e,t,n)=>{if(t&&f(e)){if(n&&p(e)||u(e))return;Object(o.e)(e,{experimentName:r.c})}},y=e=>r.k.Enabled===Object(o.c)(e,{experimentEligibilitySelector:o.a,experimentName:r.e})},"./src/reddit/selectors/experiments/emailCollection.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/helpers/localStorage/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/user.ts");const d=Object(r.a)(a.J,a.l,a.x,(e,t,n)=>e&&!t&&!n),u=Object(r.a)(e=>Object(o.c)(e,{experimentEligibilitySelector:d,experimentName:s.C}),c.a),l=e=>{if((()=>0===Object(i.i)())())return u(e)},b=e=>e===s.E.Tooltip,p=e=>e===s.E.Banner,f=e=>e===s.E.Footer1||e===s.E.Footer2,m=e=>e===s.E.Footer2,O=e=>e===s.E.Modal},"./src/reddit/selectors/experiments/exploreV2.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>e===r.yb.ExploreOld,i=e=>e===r.yb.ExploreStandardSearchCommunity||e===r.yb.ExploreTrendingDUCommunity||e===r.yb.ExploreTrendingDUCommunityPopular||e===r.yb.ExploreTrendingSearchCommunity,c=e=>e===r.yb.ExploreTrendingDUCommunity||e===r.yb.ExploreTrendingDUCommunityPopular,a=e=>e===r.yb.ExploreTrendingSearchCommunity,d=e=>e===r.yb.ExploreTrendingDUCommunityPopular,u=(e,t)=>{const n=Object(s.c)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:r.ub,expEventOverride:t?t.expEventOverride:void 0});return Object(r.Zb)(n)?void 0:n}},"./src/reddit/selectors/experiments/feedFilters.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>Object(s.c)(e,{experimentName:r.F,experimentEligibilitySelector:s.a}),i=e=>e===r.G.FlairSidebar||e===r.G.FlairTop,c=e=>e===r.G.FlairSidebar,a=e=>e===r.G.FlairTop,d=e=>e===r.G.Sorts||e===r.G.FlairTop||e===r.G.FlairSidebar,u=e=>e===r.G.TopBanner||e===r.G.Sorts||e===r.G.FlairTop||e===r.G.FlairSidebar},"./src/reddit/selectors/experiments/frontpageSignup.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/meta.ts"),d=n("./src/reddit/selectors/user.ts");const u=Object(r.a)(d.Q,(e,t)=>{let{pageLayer:n}=t;return!n||Object(o.z)(n)},a.c,(e,t,n)=>!e&&t&&!n),l=Object(r.a)((e,t)=>Object(i.c)(e,{experimentEligibilitySelector:e=>u(e,t),experimentName:s.v,throttledVariants:{[s.H.CurrentThrottled]:s.v}}),c.a),b=e=>e===s.H.CurrentThrottled,p=e=>e===s.H.CurrentThrottled||e===s.H.CurrentUnthrottled||e===s.H.CurrentUnthrottledCopy||e===s.H.NewPopUnthrottledCopy,f=e=>e===s.H.NewPopUnthrottledCopy,m=e=>e===s.H.NewPageUnthrottledCopy||e===s.H.NewPageUnthrottledCopyFields,O=e=>e===s.H.NewPageUnthrottledCopyFields},"./src/reddit/selectors/experiments/gqlSubredditPage.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.p})===r.s.Enabled,i=e=>Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.o})===r.r.Enabled},"./src/reddit/selectors/experiments/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return d}));var r=n("./src/lib/env/index.ts"),s=n("./node_modules/reselect/es/index.js"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/selectors/user.ts");const c=Object(s.a)(e=>e.page&&e.user?e.user.experiments.models.concat(e.page.experiments.models):[],(e,t)=>t.experimentName,(e,t)=>e.find(e=>{let{name:n}=e;return n.toLowerCase()===t.toLowerCase()})),a=(e,t)=>{let{experimentName:n}=t;const s=Object(i.i)(e),c=!!s&&s.isEmployee;return(Object(r.a)()||c||o.D.has(n.toLowerCase()))&&e.experimentOverrides?e.experimentOverrides[n.toLowerCase()]:void 0},d=e=>e.page.experiments.canonicalUrl},"./src/reddit/selectors/experiments/m2mHomeRedirect.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/experiments/utils.ts");const c=Object(r.a)(e=>Object(o.c)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:s.A}),i.a),a=Object(r.a)(c,e=>!!e),d=e=>e===s.ab.ListingCapped||e===s.ab.ListingInfinite||e===s.ab.ListingInfiniteLightbox,u=e=>e===s.ab.RightRail||e===s.ab.RightRailLightbox,l=e=>e===s.ab.ListingInfinite||e===s.ab.ListingInfiniteLightbox,b=e=>e===s.ab.ListingInfiniteLightbox||e===s.ab.RightRailLightbox},"./src/reddit/selectors/experiments/pinnedPosts.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/models/Post/index.ts"),c=n("./src/reddit/selectors/posts.ts");const a=Object(r.a)(c.N,e=>e.some(i.j)),d=Object(r.a)(a,e=>e),u=(e,t)=>Object(o.c)(e,{experimentName:s.x,experimentEligibilitySelector:e=>{const{listingKey:n,postIds:r}=t;return n&&!r?d(e,{listingKey:n}):!!r&&((e,t)=>{const{postIds:n,posts:r}=t,s=n&&n.slice(0,2),o=s&&s.map(e=>r&&r[e]);return!(!o||!o.some(i.j))})(0,t)}}),l=e=>e===s.mb.Compact,b=e=>e===s.mb.CompactTimeDelay},"./src/reddit/selectors/experiments/postSeo.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/meta.ts");const c=e=>!!e.page.experiments.canonicalUrl;var a=n("./src/reddit/selectors/user.ts");n.d(t,"d",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"h",(function(){return h})),n.d(t,"m",(function(){return E}));const d=Object(r.a)(i.j,e=>{return"reddit.com"!==e.split(".").splice(1).join(".")}),u=Object(r.a)(a.J,d,(e,t)=>!e&&t),l=e=>{const t=d(e);return Object(o.c)(e,{experimentName:s.jb,experimentEligibilitySelector:e=>!Object(a.J)(e)&&t})},b=e=>e===s.rb.Truncate,p=e=>e===s.rb.Both,f=e=>{const t=d(e);return Object(o.c)(e,{experimentName:s.gb,experimentEligibilitySelector:()=>t})},m=e=>{const t=d(e);return Object(o.c)(e,{experimentName:s.ib,experimentEligibilitySelector:()=>t})},O=e=>e===s.qb.IdCard,g=e=>e===s.qb.RailSwap,j=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.M})===s.T.Metadata,y=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.P})===s.W.PostDescription,_=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.N,expEventOverride:!1}),h=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.L}),E=e=>Object(o.b)(e,{experimentEligibilitySelector:c,experimentName:s.O})},"./src/reddit/selectors/experiments/publicAccessNetwork.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts"),o=n("./src/reddit/selectors/user.ts"),i=n("./src/reddit/selectors/PublicAccessNetwork/api.ts");const c=e=>Object(o.G)(e)||r.sb.Enabled===Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.kb}),a=e=>c(e)&&!Object(o.N)(e)&&Object(i.l)(e)},"./src/reddit/selectors/experiments/railsWidgets.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/experiments/utils.ts"),a=n("./src/reddit/selectors/user.ts");const d=Object(r.a)(a.Q,(e,t)=>Object(o.D)(e,t),(e,t)=>!e&&t),u=Object(r.a)(e=>Object(i.c)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:s.B}),c.a),l=Object(r.a)((e,t)=>Object(i.c)(e,{experimentEligibilitySelector:e=>d(e,t),experimentName:s.B}),c.a),b=e=>e===s.xb.TopMonth,p=e=>e===s.xb.Trending,f=e=>e===s.xb.Geo},"./src/reddit/selectors/experiments/searchFix.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return g}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/contexts/PageLayer/index.tsx"),c=n("./src/reddit/helpers/chooseVariant/index.ts"),a=n("./src/reddit/selectors/experiments/utils.ts");const d={},u=Object(r.a)(e=>Object(c.c)(e,{experimentEligibilitySelector:c.a,experimentName:o.vb}),a.a),l=e=>e===o.Fb.Active,b=e=>{let{pageLayer:t}=e;return t&&t.locationState||d},p=Object(r.a)((e,t)=>b(t),e=>e.fromPage&&e.fromPage.subredditName),f=Object(r.a)((e,t)=>b(t),e=>e.fromPage&&e.fromPage.routeName),m=e=>{let{pageLayer:t}=e;return t&&t.locationState&&t.locationState.searchSwitcherType},O=Object(r.a)(e=>u(e),f,(e,t)=>{let{pageLayer:n}=t;return Object(i.A)(n)},(e,t,n)=>l(e)&&n&&(t===s.xb.COMMENTS||t===s.xb.SUBREDDIT)),g=Object(r.a)(e=>u(e),(e,t)=>{let{pageLayer:n}=t;return Object(i.K)(n)},(e,t)=>l(e)&&t)},"./src/reddit/selectors/experiments/subredditDifficulty.ts":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/helpers/chooseVariant/index.ts"),i=n("./src/reddit/selectors/experiments/utils.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(e=>Object(o.c)(e,{experimentEligibilitySelector:e=>Object(c.J)(e),experimentName:s.Cb}),i.a),d=e=>e===s.Ib.Treatment1,u=e=>e===s.Ib.Treatment2,l=e=>e===s.Ib.Treatment3,b=e=>e===s.Ib.Treatment4},"./src/reddit/selectors/experiments/topPosts.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/experiments.ts"),o=n("./src/reddit/contexts/PageLayer/index.tsx"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),c=n("./src/reddit/selectors/user.ts");const a=Object(r.a)(c.J,(e,t)=>{let{pageLayer:n}=t;return Object(o.z)(n)},(e,t)=>{let{pageLayer:n}=t;return Object(o.J)(n)},(e,t,n)=>!e&&!t&&n),d=Object(r.a)((e,t)=>Object(i.c)(e,{experimentName:s.z,experimentEligibilitySelector:e=>a(e,t)}),e=>e),u=e=>e===s.Tb.NoCommunityWidgets,l=e=>e===s.Tb.NoRulesModerators,b=e=>e===s.Tb.RelatedPostsDu},"./src/reddit/selectors/experiments/upAndComingLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var r=n("./src/reddit/constants/experiments.ts"),s=n("./src/reddit/helpers/chooseVariant/index.ts");const o=e=>i(e)||c(e),i=e=>r.Xb.All===a(e),c=e=>r.Xb.Bffs===a(e),a=e=>Object(s.c)(e,{experimentEligibilitySelector:s.a,experimentName:r.Wb}),d=["aperfectcircle","aquarius","arachnophobia","archeology","askstampcollectors","auto","autographassistance","autographs","beavisandbutthead","bluebloods","boopablenosies","bspwm","citrus","comebacks","comicwriting","courtneymiller","cows","crf250l","crimsonfists","cryptomining","darksun","defectivedetectives","drcreepensvault","drone_photography","drunkhifi","duelyst","ethinvestor","everglow","executiveassistants","fakeprehistoricporn","foodtrucks","forhonoremblems","francishiggins","frenchrap","fulbright","gearvr","generatorrex","geometry","glow","goldenageminecraft","haircoloring","hardenedscales","harristweed","houseofcards","hyperion","iceclimbing","impcat","kittensgame","lifesimulatorapp","lightmode","lilskies","mathriddles","metroexodus","mosses","motionlessinwhite","mybloodyvalentine","mylittleredacted","nightwing","nujabes","onlinesoccermanager","originals","pathology","patriottv","paulthomasanderson","pbbg","petfree","philately","pointytailedkittens","pressurecooking","priusdwellers","reactionmemes","redditwritestheoffice","rift","scicraft","sharpei","simcity","smartereveryday","smartphone","spectacularmemes","squareenix","stanleyparable","starwarsbooks","subarubaja","super_m","tamorapierce","tensorflow","theforgottendepths","theoriginals","ti_calculators","tile","timetravelersnet","tokusatsu","unexpectedfuturama","unsolvedmurders","vampiresfallorigins","veteransaffairs","vincestaples","wintercycling","worshipleaders","yemenicrisis"],u=["AusWeddingPlanning","BabyCareProducts","BabyFood","BB30","BeautyDiagrams","BeautyInfluencers","BestMan","beyondbaby","BridalWeddingGuide","BudgetBrides","Buyingforbaby","coffee_roasters","Coffee_Shop","CoffeeOutside","condimentpackets","condiments","DelTaco","EasyFatlossProgram","EasyWeddings","Embellish","europeanmalefashion","EuroSkincare","fashion","fashiondiagrams","fashionporn","fashpics","fastcasual","fastfoodreview","FitnessGirls","fiveguys","FrugalWedding","GestationalDiabetics","GetSuave","Hardees","hCGifs","hot_dog","HotSauces","KetoConnect","ketogenicdiet","KetoMeals","lunch","makeupartists","makeupfreebies","malefoodadvice","Midwives","ModernFashionPorn","mombloggers","movember","muaconspiracy","MUAEurope","MUAmakeup","Mustard","myweddingdress","ObesityHealthConcern","OrganicHealthProducts","OttawaWeddings","ownit","PandaExpress","PortugalVegan","preppy","RedditLaqueristaSwap","runawaywedding","ShinyFashion","shittyfertilityadvice","SkincareRehab","SkinCareScience","snacking","snowshoeing","streeteats","TalesFromTheKitchen","TeenMFA","veganmakeupshare","VEGKC","VeryExpensive","VintageWeddings","VisualKcal","WeddingCards","weddinghelp","WeddingPhotographer","WeddingProfessionals","weddingring","weddingshoes","weddingsolutions","weddingsover10k","WeddingVendors","WedditNYC","weightlossdiets","WeightLossFoods","womensbodybuilding","WorkingParents","YoutubeBeauty"]},"./src/reddit/selectors/experiments/utils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/reddit/constants/experiments.ts");const s=e=>{if(!Object(r.Zb)(e))return e||void 0}},"./src/reddit/selectors/externalAccount.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));var r=n("./src/reddit/models/ExternalAccount/index.ts"),s=n("./src/reddit/models/User/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=(e,t)=>{let{username:n}=t;return!!e.externalAccount.api.user.pending[n]},c=(e,t)=>{let{username:n}=t;return e.externalAccount.user[n]},a=e=>{const t=Object(o.i)(e);if(!t)return;const n=Object(s.f)(t),r=c(e,{username:n});return r?r.twitter:void 0},d=e=>!!e.externalAccount.api.connect.pending[r.a.Twitter],u=(e,t)=>{let{profileName:n}=t;if(!n)return null;const i=c(e,{username:n});if(!i)return null;const a=i[r.a.Twitter];if(!a)return null;const d=Object(o.i)(e);if(!(d&&Object(s.f)(d).toLowerCase()===n.toLowerCase()))return a;const u=Object(o.hb)(e,{userName:n});return u?u.prefShowTwitter?a:null:a}},"./src/reddit/selectors/focusedVerticalSuggestion.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/reddit/selectors/posts.ts"),s=n("./src/reddit/selectors/subreddit.ts");const o=(e,t)=>{const n=e.focusedVerticals.interactedSubredditIds&&e.focusedVerticals.interactedSubredditIds[t];if(n){const t=Object(s.S)(e,{subredditId:n});return t&&t.displayText||""}return""},i=(e,t)=>e.focusedVerticals.interactedSubredditIds&&e.focusedVerticals.interactedSubredditIds[t]||"",c=e=>e.focusedVerticals.components.dismissed,a=(e,t)=>{const n=d(e,t);if(!n)return[];const r=Object(s.W)(e,{subredditName:n.subredditName});return r&&r.postIds&&r.postIds.length?r.postIds.slice(0,Math.min(r.postIds.length,2)):[]},d=(e,t)=>{const n=e.focusedVerticals.recommendedSubredditIds&&e.focusedVerticals.recommendedSubredditIds[t];if(n){const t=Object(s.S)(e,{subredditId:n});if(t)return{subredditId:t.id,subredditName:t.name}}return null},u=(e,t,n,s,o)=>{const i=o.find(e=>e<=t)||-1,c=o.find(e=>e>t)||1/0;return t!==c&&t!==i&&(!(i+n>t)&&(!(t+n>c)&&!((e,t,n)=>{const s=n[t-1],o=n[t],i=o&&Object(r.J)(e,{postId:s})||null,c=o&&Object(r.J)(e,{postId:o})||null;return i&&i.isSponsored||c&&c.isSponsored})(e,t,s)))},l=[3,7,7],b=(e,t,n)=>{let{listingKey:s}=n;const o=t.slice().sort();let i=-1;const c=Object(r.C)(e,{listingKey:s}),a=[];return l.forEach(t=>{let n=i+t;if(!(n>=c.length)){for(;n<c.length&&!u(e,n,t,c,o);)n+=1;n<c.length&&(a.push(n),i=n)}}),a},p=e=>!!e.focusedVerticals.recommendedSubredditIds&&!!e.focusedVerticals.recommendedSubredditIds.length,f=e=>{return e.focusedVerticals.api.pending.focusedVerticalGqlPending},m=e=>{return e.focusedVerticals.api.error.focusedVerticalGqlError}},"./src/reddit/selectors/frontpage.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./src/lib/constants/index.ts");const s=e=>e.user&&e.user.session&&!e.user.session.unsafeLoggedOut?r.N.BEST:r.N.HOT},"./src/reddit/selectors/gild.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u}));const r=e=>e.gild.gildModalThingId,s=(e,t)=>e.gild.gildModalId===t,o=e=>e.gild.isAnonymous,i=e=>e.gild.isIframed,c=e=>e.gild.message,a=e=>e.gild.api.pending,d=e=>e.gild.api.error,u=e=>e.gild&&e.gild.giveAwardTooltipThingId},"./src/reddit/selectors/goldPurchaseModals.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return a})),n.d(t,"u",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return p})),n.d(t,"r",(function(){return f})),n.d(t,"v",(function(){return m})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return v}));const r=e=>e.goldPurchase.coinPurchaseModal.activePage,s=e=>e.goldPurchase.coinPurchaseModal.gildThingId||void 0,o=e=>e.goldPurchase.coinPurchaseModal.showModal,i=e=>e.goldPurchase.coinPurchaseModal.purchasePackage,c=e=>e.goldPurchase.premiumPurchaseModal.activePage,a=e=>e.goldPurchase.premiumPurchaseModal.showModal,d=e=>e.goldPurchase.updateCardModal.pending,u=e=>e.goldPurchase.payment.paymentMethod,l=e=>e.goldPurchase.payment.cardName,b=e=>e.goldPurchase.payment.savedCardsPending,p=e=>e.goldPurchase.payment.savedCards,f=e=>e.goldPurchase.payment.rememberCard,m=e=>e.goldPurchase.payment.useSavedCard,O=e=>e.goldPurchase.payment.cardValidation.cardCvc,g=e=>e.goldPurchase.payment.cardValidation.cardExpiry,j=e=>e.goldPurchase.payment.cardValidation.cardNumber,y=e=>e.goldPurchase.payment.cardValidation.nameOnCard,_=e=>e.goldPurchase.payment.cardValidation.postalCode,h=e=>e.goldPurchase.payment.stripeToken.errorMessage,E=e=>e.goldPurchase.payment.stripeToken.pending,I=e=>e.goldPurchase.payment.paypal.passthrough,v=e=>e.goldPurchase.payment.paypal.errorMessage},"./src/reddit/selectors/imageUploads.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n("./src/reddit/models/Image/index.tsx");const s=e=>e.imageUploads,o=(e,t)=>{const n=s(e),o=[];for(const s in n){const e=n[s];e.kind===r.b.TempUploaded&&e.context===t&&o.push(e)}return o}},"./src/reddit/selectors/inFeedChaining.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return _}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/makeListingKey/index.ts"),i=n("./src/reddit/actions/subreddit/similarSubreddit.ts"),c=n("./src/reddit/constants/inFeedChaining.ts"),a=n("./src/reddit/endpoints/subreddit/similar.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/selectors/discoveryUnit.ts"),l=n("./src/reddit/selectors/posts.ts"),b=n("./src/reddit/selectors/subreddit.ts");const p=[],f=(e,t)=>{const n=e.posts.chained.idToListingKey[t.postId];return t.listingKey===n},m=(e,t)=>{const n=e.posts.chained.dismissedIdToListingKey[t.postId];return(e=>e.posts.chained.dismissed)(e)||t.listingKey===n},O=Object(r.a)(e=>e.posts.chained.idToListingKey,e=>Object.keys(e).filter(t=>e[t])),g=(e,t)=>{let{subredditId:n}=t;return O(e).some(t=>{const r=Object(l.T)(e,{postId:t});return!!r&&r.id===n})},j=(e,t)=>{let{subredditName:n}=t;const r=s.Ob.DAY.toUpperCase(),i=Object(o.a)(n,s.N.TOP,{t:r}),c=Object(l.C)(e,{listingKey:i});if(0!==c.length)for(const s of c){const t=Object(l.J)(e,{postId:s});if(t&&!t.hidden&&!t.isSponsored)return t}},y=(e,t)=>{let{postId:n}=t;const r=((e,t)=>{let{postId:n}=t;const r=Object(l.J)(e,{postId:n});if(!r)return p;const s=Object(i.a)({subredditIds:[r.belongsTo.id],count:c.b,variant:a.a.Factorization});return Object(b.x)(e,{key:s})})(e,{postId:n}),s=[];for(const{name:o}of r){const t=j(e,{subredditName:o});t&&s.push(t.id)}return s},_=(e,t)=>{let{listingName:n}=t;const r=d.b;return Object(u.f)(e,{unitName:r})}},"./src/reddit/selectors/inlineSubredditEditing.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./src/reddit/featureFlags/index.ts"),s=n("./src/reddit/selectors/moderatorPermissions.ts");const o=(e,t)=>{let{subredditId:n}=t;if(!r.d.subredditInlineEditing(e))return!1;const o=n?Object(s.j)(e,{subredditId:n}):null;return!!o&&(e=>!!e&&e.config)(o)},i=e=>e.subreddits.api.inlineEditing.pending},"./src/reddit/selectors/layers.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));const r=e=>e.layers.editorBackground,s=e=>e.layers.draft,o=e=>e.layers.layerBox,i=e=>e.layers.startTime},"./src/reddit/selectors/listings.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return f}));var r=n("./src/lib/objectSelector/index.ts");const s=(e,t)=>{let{listingKey:n}=t;return e.listings.postOrder.api.error[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.postOrder.api.pending[n]},i=(e,t)=>e.listings.postOrder.loadMore[t.listingKey],c=(e,t)=>{let{listingKey:n,token:r}=t;return e.listings.postOrder.fetchedTokens[n][r]},a=e=>e.listings.activeKey,d=Object(r.a)((e,t)=>{let{postId:n}=t;const r=a(e);if(!r)return;const s=e.listings.postOrder.ids[r];if(!s)return;const o=e.posts.models,i=u({listings:s,posts:o,postId:n,dir:"next"}),c=u({listings:s,posts:o,postId:n,dir:"prev"}),d=e.posts.models[c];return{nextPost:e.posts.models[i],prevPost:d}}),u=e=>{let{listings:t,posts:n,postId:r,dir:s}=e;const o=t.indexOf(r);if(o<0)return null;let i,c=o;do{i=t[c+="prev"===s?-1:1]}while(n[i]&&n[i].isBlank);return i},l=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},b=(e,t)=>{let{listingKey:n,token:r}=t;return e.listings.listingOrder.fetchedTokens[n][r]},p=(e,t)=>{let{listingKey:n}=t;return!!e.listings.listingOrder.fetchedTokens[n]},f=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]}},"./src/reddit/selectors/meta.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return f}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/getParsedUserAgent/index.ts");const o=e=>"".concat(e.meta.protocol,"://").concat(e.meta.domain),i=e=>e.meta.city,c=e=>e.meta.country,a=e=>e.meta.region,d=e=>e.meta.crawler,u=e=>e.meta.isBot,l=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.b)(e)),b=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.f)(e)),p=Object(r.a)(e=>e.meta.userAgent,e=>Object(s.d)(e)),f=e=>e.meta&&e.meta.sessionReferrerDomain},"./src/reddit/selectors/moderatorPermissions.ts":function(e,t,n){"use strict";n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"k",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return _}));var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/models/ModeratingSubreddits/index.ts"),c=n("./src/reddit/selectors/posts.ts");const a=e=>!!(e.user&&e.user.account&&e.user.account.isAdmin),d=e=>!!(e.user&&e.user.account&&e.user.account.isMod)||a(e),u=(e,t)=>{if(a(e))return i.b;const n=Object(c.J)(e,t);if(!n)return null;const r=n.belongsTo.id;return e.moderatingSubreddits[r]},l=(e,t)=>a(e)?i.b:e.moderatingSubreddits[t.subredditId],b=e=>(t,n)=>{if(a(t))return!0;const r=l(t,n);return!(!r||!r[e])},p=Object(o.a)((e=>t=>{const n=a(t),r=[];for(const s in t.moderatingSubreddits){const o=t.moderatingSubreddits[s];(n||o&&o[e])&&(t.subreddits.models[s]?r.push(t.subreddits.models[s]):t.profiles.models[s]&&r.push(t.profiles.models[s]))}return r})(i.c.posts)),f=e=>t=>{if(a(t))return!0;for(const n in t.moderatingSubreddits){const r=t.moderatingSubreddits[n];if(r&&r[e])return!0}return!1},m=b(i.c.flair),O=b(i.c.wiki),g=b(i.c.posts),j=(f(i.c.flair),f(i.c.posts)),y=(e,t)=>{let{subredditId:n}=t;const r=e.moderatingSubreddits[n];return a(e)||!(!r||!s()(r).some(e=>e))},_=(e,t)=>{let{postId:n}=t;const r=u(e,{postId:n});return!!r&&r.posts}},"./src/reddit/selectors/monthsToMinutes.ts":function(e,t,n){"use strict";n.d(t,"w",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"p",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"t",(function(){return I})),n.d(t,"v",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return D})),n.d(t,"D",(function(){return A})),n.d(t,"C",(function(){return R})),n.d(t,"j",(function(){return N})),n.d(t,"E",(function(){return k})),n.d(t,"d",(function(){return L})),n.d(t,"g",(function(){return U})),n.d(t,"b",(function(){return M})),n.d(t,"o",(function(){return G})),n.d(t,"F",(function(){return H})),n.d(t,"A",(function(){return W})),n.d(t,"B",(function(){return J})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return z})),n.d(t,"G",(function(){return Q})),n.d(t,"l",(function(){return X})),n.d(t,"z",(function(){return $})),n.d(t,"y",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"m",(function(){return te}));n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/uniq.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./node_modules/reselect/es/index.js"),a=n("./src/reddit/helpers/name/index.ts"),d=n("./src/reddit/models/DiscoveryUnit/index.ts"),u=n("./src/reddit/models/MonthsToMinutes/index.ts"),l=n("./src/reddit/models/Vote/index.ts"),b=n("./src/reddit/selectors/discoveryUnit.ts"),p=n("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),f=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/selectors/subscriptions.ts"),O=n("./src/reddit/selectors/user.ts");const g=e=>Object(p.c)(e),j=e=>e.user.loggedOutData.accountCompleteness.step,y=e=>j(e)===u.a.Initial,_=e=>j(e)===u.a.BannerVisible,h=e=>{return j(e)===u.a.HomeVisited},E=e=>e.user.loggedOutData.accountCompleteness.collapsed,I=e=>e.user.loggedOutData.postsCount,v=e=>e.user.loggedOutData.votes,S=e=>e.user.loggedOutData.views,T=e=>e.user.loggedOutData.homeFeed,C=e=>e.user.loggedOutData.homeFeed.topBanner.isClosed,w=e=>e.user.loggedOutData.homeFeed.topBanner.viewsCount,x=e=>e.user.loggedOutData.feedMultiName,D=e=>{const t=x(e);return t.length?t.join("+"):null},P=(Object(c.a)(e=>e.user.loggedOutData.votes.posts,e=>e.user.loggedOutData.votes.comments,(e,t)=>{return Object.keys(e).filter(t=>0!==e[t]).length+Object.keys(t).filter(e=>0!==t[e]).length}),e=>e&&!e.isDismissed&&e.postId),A=e=>{const t=e.user.loggedOutData.tooltips[u.e.SubscribeFeed];return!Object(m.c)(e)&&P(t)?t.postId:void 0},R=e=>{const t=e.user.loggedOutData.tooltips[u.e.SubscribeReminder];return!Object(m.c)(e)&&P(t)?t.postId:void 0},N=e=>{const t=e.user.loggedOutData.tooltips[u.e.Home];return g(e)&&!1===t.isDismissed&&!h(e)},k=e=>{const t=e.user.loggedOutData.tooltips;return{homeTooltipTime:t[u.e.Home].time,subscribeIdCardTooltipTime:t[u.e.SubscribeIdCard].time,subscribeTooltipTime:t[u.e.SubscribeFeed].time,voteTooltipTime:t[u.e.Vote].time}},L=(Object(c.a)(k,e=>{const t=i()(e).filter(e=>!!e);return t.sort(),t.length>0?t[0]:void 0}),e=>e.user.loggedOutData.dataLoaded),U=(e,t)=>{if(Object(O.J)(e))return!0;if(!g(e))return!1;if(!h(e))return!1;return x(e).length>0},M=e=>{return{collapsed:E(e),step:j(e)}},F=Object(c.a)(e=>e.user.loggedOutData.views.posts,e=>Object.keys(e).filter(t=>e[t]).length),G=e=>{return!!g(e)&&F(e)>=u.d},B=e=>T(e).views,q=Object(c.a)(v,e=>T(e).votes,(e,t)=>{return[...Object.keys(e.comments).filter(t=>e.comments[t]!==l.a.notVoted),...Object.keys(e.posts).filter(t=>e.posts[t]!==l.a.notVoted)].map(e=>t[e]).filter(Boolean)}),V=e=>T(e).similar,H=Object(c.a)(m.f,B,q,(e,t,n)=>{return s()([...e.filter(Boolean).map(e=>{let{name:t}=e;return t}),...n,...t].map(a.f))}),W=Object(c.a)(m.f,H,V,(e,t,n)=>{const r=s()([...t,...n].map(a.f)),o=e.length===u.b?u.b:u.c;return r.slice(0,o)}),K=Object(c.a)(B,m.f,q,V,(e,t,n,r)=>{const o=s()([...e,...t.filter(Boolean).map(e=>{let{name:t}=e;return t}),...n,...r].map(a.f)),i=t.length===u.b?u.b:u.c;return o.slice(0,i)}),J=e=>{return W(e).reduce((t,n)=>{return t[Object(f.G)(e,n)]=n,t},{})},Y=e=>h(e)?x(e):W(e),z=e=>{return Y(e).map(t=>Object(f.B)(e,{subredditName:t})).filter(Boolean)},Q=e=>{return K(e).map(t=>Object(f.B)(e,{subredditName:t})).filter(Boolean)},X=e=>{const t=y(e),n=(e=>{const t=G(e),n=W(e);return t&&n.length>=u.c})(e);return t&&n},$=Object(c.a)(p.c,X,_,(e,t,n)=>!!e&&(t||n)),Z=Object(c.a)($,p.f,(e,t)=>e&&Object(p.b)(t)),ee=e=>{const t=$(e)?d.j:d.m;return Object(b.f)(e,{unitName:t})},te=Object(c.a)(g,U,_,h,(e,t,n,r)=>e&&(t||n||r))},"./src/reddit/selectors/multireddit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"j",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"k",(function(){return S}));n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js");var r=n("./node_modules/lodash/sortBy.js"),s=n.n(r),o=n("./src/app/strings/index.ts"),i=n("./src/lib/constants/index.ts"),c=n("./src/lib/objectSelector/index.ts"),a=n("./src/reddit/models/Multireddit/index.ts"),d=n("./src/reddit/models/User/index.ts"),u=n("./src/reddit/models/Widgets/index.ts"),l=n("./src/reddit/selectors/profile.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/user.ts");const f=[],m=Object(c.a)((e,t)=>{let{listingName:n}=t;const r=(e=>e.replace(/\++/g,"+").replace(/^\+/,"").replace(/\+$/,""))(n.toLowerCase()).split("+"),s=r.filter(e=>!e.startsWith(i.Qb)).map(t=>Object(b.G)(e,t)).filter(e=>void 0!==e),c=r.filter(e=>e.startsWith(i.Qb)).map(t=>Object(l.m)(e,t.slice(2))).filter(e=>void 0!==e),a=[...s.map(t=>e.subreddits.models[t].name),...c.map(t=>e.profiles.models[t].name)].join(", ");return{displayText:Object(o.c)(Object(p.S)(e),"multireddit.adHocDescription",a.length,{subreddits:a}),profileIds:c,subredditIds:s}}),O=e=>e.multireddits.api.forUser.fetched,g=e=>e.multireddits.api.forUser.pending,j=(e,t)=>{let{multiredditName:n,username:r}=t;if(!r){if(!e.user.account)return null;const{displayText:t}=e.user.account;r=t}const s=Object(a.h)(r,n);return e.multireddits.models[s]},y=Object(c.a)(e=>{const{account:t}=e.user;if(!t)return f;const{id:n}=t,r=e.multireddits.byUserId[n];return r?r.map(t=>e.multireddits.models[t]):f}),_=(e,t)=>{let{multiredditName:n,username:r}=t;if(r){const t=j(e,{multiredditName:n,username:r});return t?"/user/".concat(r,"/m/").concat(t.name):""}const{account:s}=e.user;if(!s)return"";const o=j(e,{multiredditName:n});return o?"/me/m/".concat(o.name):""},h=(e,t)=>{let{multiredditName:n,username:r}=t;if(!r){const{account:t}=e.user;if(!t)return"";r=Object(d.f)(t)}const s=Object(a.h)(r,n),i=e.multireddits.models[s];return i?Object(o.a)(e.user.language,"multireddit.title",{displayText:i.displayText,username:r}):""},E=(e,t)=>e.multireddits.models[t],I=Object(c.a)((e,t)=>{let{subredditIds:n,profileIds:r}=t;const o=[];let i=[...n&&n.reduce((t,n)=>{const r=Object(b.S)(e,{subredditId:n});return r?[...t,r]:(o.push(n),t)},[])||[],...r&&r.map(t=>Object(l.p)(e,{profileId:t}))||[]].filter(e=>!!e).map(t=>{const n=Object(u.k)(t);return n.isSubscribed=Object(b.cb)(e,{identifier:{type:n.type,name:n.name}}),n});if(o){const t=o.map(t=>e.subreddits.communityInfo[t]).filter(e=>!!e);i.push(...t),i=s()(i,e=>e.name.toLowerCase())}return i}),v=(e,t)=>{const n=Object(p.i)(e),r=Object(a.i)(t);return!!n&&(n.displayText||"").toLowerCase()===r.toLowerCase()},S=Object(c.a)((e,t)=>{let{multireddit:n}=t;return Object(a.f)(n)&&e.multireddits.recommendations[n.url]&&e.multireddits.recommendations[n.url].length?e.multireddits.recommendations[n.url].map(t=>Object(u.j)(e.subreddits.models[t])):[]})},"./src/reddit/selectors/notificationBanner.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>t.notificationBannerId===e},"./src/reddit/selectors/oldSiteRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e.oldSiteRules},"./src/reddit/selectors/platform.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"r",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return l})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return _})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"o",(function(){return v}));n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./src/lib/constants/index.ts"),s=n("./src/reddit/models/Post/index.ts"),o=(n("./src/reddit/selectors/multireddit.ts"),n("./src/reddit/selectors/subreddit.ts"));const i=e=>e.platform.currentPage,c=e=>e.platform.lastPage,a=e=>{if(!e.platform.currentPage||!e.platform.currentPage.routeMatch)return null;const{route:t}=e.platform.currentPage.routeMatch;return t.meta.name},d=e=>e.platform.currentPage&&e.platform.currentPage.routeMatch&&e.platform.currentPage.routeMatch.route.chunk===r.o.FRONTPAGE,u=e=>e.platform.currentPage&&e.platform.currentPage.routeMatch&&[r.o.FRONTPAGE,r.o.MULTIREDDIT,r.o.SUBREDDIT].includes(e.platform.currentPage.routeMatch.route.chunk),l=e=>!!(e.platform.lastPage&&e.platform.lastPage.locationState&&e.platform.lastPage.locationState.isOverlay),b=e=>!!(e.platform&&e.platform.currentPage&&e.platform.currentPage.locationState&&e.platform.currentPage.locationState.isOverlay),p=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==r.xb.COMMENTS&&e.platform.currentPage.meta.name!==r.xb.DUPLICATES),f=e=>!(!e.platform.currentPage||!e.platform.currentPage.meta||e.platform.currentPage.meta.name!==r.xb.POST_CREATION),m=e=>!!(e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name===r.xb.COMMENTS&&e.platform.currentPage.urlParams&&e.platform.currentPage.urlParams.routePrefix&&"user"===e.platform.currentPage.urlParams.routePrefix),O=e=>e.platform&&e.platform.currentPage&&e.platform.currentPage.status,g=e=>e.platform&&e.platform.currentPage&&e.platform.currentPage.queryParams,j=e=>{const t=y(e);return t?Object(o.G)(e,t):null},y=e=>{const t=e.platform.currentPage&&e.platform.currentPage.urlParams;return t?t.subredditName:null},_=e=>{const t=y(e);return t?Object(o.B)(e,{subredditName:t}):null},h=(e,t)=>{let{page:n}=t;const r=n&&n.routeMatch;if(!r)return;const{partialPostId:o}=r.match.params;return e.posts.models[Object(s.l)(o)]},E=e=>e.platform.allowNavigationCallback,I=e=>e.platform.currentPage?e.platform.currentPage.url:"",v=e=>{const t=e.platform.currentPage;if(t&&t.routeMatch){const{params:e}=t.routeMatch.match;if(e&&e.partialPostId)return Object(s.l)(e.partialPostId)}return""}},"./src/reddit/selectors/postCollection.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return h})),n.d(t,"q",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"m",(function(){return w})),n.d(t,"v",(function(){return x})),n.d(t,"u",(function(){return D})),n.d(t,"g",(function(){return P})),n.d(t,"c",(function(){return A})),n.d(t,"l",(function(){return R})),n.d(t,"h",(function(){return N})),n.d(t,"j",(function(){return k})),n.d(t,"f",(function(){return L})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"t",(function(){return F})),n.d(t,"e",(function(){return G}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/eventTools/index.ts"),o=n("./src/reddit/constants/postCollection.ts"),i=n("./src/reddit/featureFlags/profileCollections.ts"),c=n("./src/reddit/helpers/media/index.ts"),a=n("./src/reddit/models/Media/index.ts"),d=n("./src/reddit/models/PostCollection/index.ts"),u=n("./src/reddit/models/Subreddit/index.ts"),l=n("./src/reddit/selectors/moderatorPermissions.ts"),b=n("./src/reddit/selectors/posts.ts"),p=n("./src/reddit/selectors/structuredStyles.ts"),f=n("./src/reddit/selectors/subreddit.ts"),m=n("./src/reddit/selectors/user.ts"),O=n("./src/reddit/selectors/profile.ts");const g=[],j=(e,t)=>{let{postId:n}=t;const r=Object(b.J)(e,{postId:n});let o=!1;if(r&&r.eventInfo){const{eventStart:e,eventEnd:t,eventIsLive:n}=r.eventInfo;if(!n){o=Object(s.e)(e,t)===s.a.Future}}return o},y=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r||!r.id)return"";const s=Object(f.c)(e,r.subredditId);return s&&n?"".concat(s,"submit?collection=").concat(n):""},_=(e,t,n)=>{if(n&&!Object(i.a)(e))return!1;if(!(n?Object(m.M)(e,t):Object(l.g)(e,{subredditId:Object(f.G)(e,t)})))return!1;const r=n?Object(f.s)(e,t):Object(f.y)(e,{subredditName:t});return!(!r||!r.collectionsEnabled)},h=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r)return!1;const s=Object(f.S)(e,{subredditId:r.subredditId})||Object(O.p)(e,{profileId:r.subredditId});return _(e,s.name,s.type===u.b.User)},E=(e,t)=>{let{collectionId:n}=t;return e.postCollection.models[n]},I=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n],{collectionIds:s}=r,o=s?s[0]:null;return o&&e.postCollection.models[o]||null},v=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n],{collectionIds:s}=r;return!!(s?s[0]:null)},S=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});return r?r.primaryPostId:null},T=(e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r)return null;const s=r.postIds||[];return Object(b.M)(e,{postIds:s})},C=(e,t)=>{let{subredditId:n}=t;return e.postCollection.subredditToIds[n]},w=(e,t)=>{let{subredditId:n}=t;const r=C(e,{subredditId:n});return!(!r||!r.length)},x=Object(r.a)(C,e=>e.postCollection.models,(e,t)=>e?e.map(e=>t[e]).filter(Boolean):g),D=(e,t)=>{const n=C(e,t);return n?n.length:0},P=e=>e.creations.api.collection.createOrUpdate.pending,A=e=>e.creations.api.collection.createOrUpdate.error,R=e=>e.postCollection.api.pending.reorderPending,N=e=>e.postCollection.api.pending.updateDescriptionPending,k=e=>e.postCollection.api.pending.updateLayoutPending,L=e=>e&&e.displayLayout||d.a.TIMELINE,U=(e,t)=>{let{collectionId:n}=t;return L(e.postCollection.models[n])},M=(e,t)=>{let{postId:n}=t;return L(I(e,{postId:n}))},F=(e,t)=>{let{collectionId:n}=t;return!(!((e,t)=>{let{collectionId:n}=t;const r=E(e,{collectionId:n});if(!r||!r.id)return;const s=r.subredditId,o=Object(p.l)(e,{subredditId:s});return o&&!!o.postPlaceholderImage})(e,{collectionId:n})&&!((e,t)=>{let{collectionId:n}=t;const r=T(e,{collectionId:n});if(!r||!Object.keys(r).length)return;let s=0;for(const o in r){const e=r[o];e&&e.thumbnail.width&&e.thumbnail.height&&(s+=1)}return s>=Object.keys(r).length-s})(e,{collectionId:n}))},G=(e,t)=>{let{postId:n}=t;const r=Object(b.J)(e,{postId:n});let s=null;return r&&(r.media&&r.media.type!==a.n.GIFVIDEO&&(s=Object(c.e)(r,2*o.b,2*o.a)||Object(c.e)(r,o.b,o.a)),!s&&r.thumbnail&&r.thumbnail.width&&r.thumbnail.height&&(s=r.thumbnail,(r.isNSFW||r.isSpoiler)&&(s=(e=>{if(!e||e.type===a.n.RTJSON||e.type===a.n.TEXT)return null;const t=e.obfuscated;return t?{url:t,width:e.width,height:e.height}:null})(r.media)))),s}},"./src/reddit/selectors/postCreations.ts":function(e,t,n){"use strict";n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return D})),n.d(t,"G",(function(){return P})),n.d(t,"n",(function(){return N})),n.d(t,"B",(function(){return k})),n.d(t,"Q",(function(){return L})),n.d(t,"cb",(function(){return U})),n.d(t,"L",(function(){return M})),n.d(t,"N",(function(){return F})),n.d(t,"g",(function(){return G})),n.d(t,"f",(function(){return B})),n.d(t,"ab",(function(){return q})),n.d(t,"d",(function(){return V})),n.d(t,"a",(function(){return H})),n.d(t,"C",(function(){return W})),n.d(t,"P",(function(){return K})),n.d(t,"j",(function(){return J})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return z})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return X})),n.d(t,"A",(function(){return $})),n.d(t,"D",(function(){return Z})),n.d(t,"H",(function(){return ee})),n.d(t,"E",(function(){return te})),n.d(t,"o",(function(){return ne})),n.d(t,"S",(function(){return re})),n.d(t,"Y",(function(){return se})),n.d(t,"q",(function(){return oe})),n.d(t,"m",(function(){return ie})),n.d(t,"eb",(function(){return ce})),n.d(t,"W",(function(){return ae})),n.d(t,"F",(function(){return de})),n.d(t,"z",(function(){return ue})),n.d(t,"bb",(function(){return le})),n.d(t,"db",(function(){return be})),n.d(t,"X",(function(){return pe})),n.d(t,"I",(function(){return fe})),n.d(t,"J",(function(){return me})),n.d(t,"K",(function(){return Oe})),n.d(t,"V",(function(){return ge})),n.d(t,"O",(function(){return je})),n.d(t,"y",(function(){return ye})),n.d(t,"x",(function(){return _e})),n.d(t,"u",(function(){return he})),n.d(t,"v",(function(){return Ee})),n.d(t,"t",(function(){return Ie})),n.d(t,"w",(function(){return ve})),n.d(t,"M",(function(){return Se})),n.d(t,"p",(function(){return Te})),n.d(t,"b",(function(){return Ce})),n.d(t,"T",(function(){return we})),n.d(t,"Z",(function(){return xe})),n.d(t,"e",(function(){return De})),n.d(t,"R",(function(){return Pe})),n.d(t,"U",(function(){return Ae})),n.d(t,"c",(function(){return Re}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/app/strings/index.ts"),o=n("./src/lib/constants/index.ts"),i=n("./src/lib/makePostCreationPageKey/index.ts"),c=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),a=n("./src/reddit/constants/posts.ts"),d=n("./src/reddit/contexts/PageLayer/index.tsx"),u=n("./src/reddit/contexts/PageLayer/selectors.ts"),l=n("./src/reddit/featureFlags/index.ts"),b=n("./src/reddit/featureFlags/profileCollections.ts"),p=n("./src/reddit/helpers/getSubredditUrl/index.ts"),f=n("./src/reddit/helpers/media/index.ts"),m=n("./src/reddit/helpers/name/index.ts"),O=n("./src/reddit/helpers/path/index.ts"),g=n("./src/reddit/models/PostCreationForm/index.ts"),j=n("./src/reddit/models/PostRequirements/index.ts"),y=n("./src/reddit/models/Subreddit/index.ts"),_=n("./src/reddit/models/Upload/index.ts"),h=n("./src/reddit/routes/postCreation/constants.ts"),E=n("./src/reddit/selectors/platform.ts"),I=n("./src/reddit/selectors/postFlair.ts"),v=n("./src/reddit/selectors/postRequirements.ts"),S=n("./src/reddit/selectors/posts.ts"),T=(n("./src/reddit/selectors/runTimeEnvVars.ts"),n("./src/reddit/selectors/subreddit.ts")),C=n("./src/reddit/selectors/subredditAutocomplete.ts"),w=n("./src/reddit/selectors/user.ts");const x=e=>{const{api:t}=e.creations,{apiError:n,pollError:r,validationError:s}=t.post.submit.error;return!!(n||s||t.editor.mediaUpload.error||r)},D=e=>{const{submitValidationError:t}=e.creations.api.post.submit.error;return!!t},P=e=>null!==e.creations.formData.postSchedule,A=e=>(e&&e.fields||[]).map(e=>e.msg),R=e=>e&&"extra"in e?Object.keys(e.extra).map(t=>e.extra[t]):[],N=Object(r.a)(e=>e.creations.api.post.submit.error,e=>e.creations.api.editor.mediaUpload.error,(e,t)=>{const{apiError:n,validationError:r,pollError:s}=e;return[...A(n),...A(r),...A(t),...R(s)]}),k=(e,t)=>{let{pageLayer:n}=t;if(!n||!Object(d.E)(n))return!1;const{subredditName:r,profileName:s}=n.urlParams,o=Object(i.a)({subredditName:r,profileName:s});return!!e.creations.api.page.pending[o]},L=e=>U(e)||M(e),U=e=>e.creations.api.post.submit.pending,M=e=>e.creations.api.editor.mediaUpload.pending,F=e=>e.creations.api.post.submit.error.needsCaptcha,G=Object(r.a)(w.i,E.f,e=>{const t=Object(E.e)(e);if(t){const n=Object(C.d)(e,{substring:t});if(n)return n.subreddits.find(e=>Object(m.a)(e.name,t))}},e=>{const t=Object(E.f)(e);return t&&Object(T.A)(e,{subredditName:t.name})},e=>e.platform.currentPage,(e,t,n,r,s)=>{const{profileName:o="",subredditName:i=""}=s&&s.urlParams||{};if(o)return{isProfile:!0,name:e&&e.username||Object(m.f)(o),id:e&&e.id||void 0};{const{name:e=Object(m.f)(i),id:s=""}=t||n||{};return{isProfile:!1,allowedPostTypes:r,id:s||void 0,name:e}}}),B=e=>{const t=G(e);return t.name?t.isProfile?Object(b.a)(e)?Object(T.s)(e,t.name):null:Object(T.y)(e,{subredditName:t.name}):null},q=e=>e.creations.formData.submissionType,V=e=>{const t=G(e),n=Object(E.f)(e),r=q(e),s=!!n&&n.isNSFW;if(r===o.Fb.MEDIA&&s)return!1;if(t.isProfile)return Object(w.M)(e,t.name);if(!t.id)return!1;const i=e.moderatingSubreddits[t.id];return!!i&&(e=>Object.keys(e).some(t=>!0===e[t]))(i)},H=Object(r.a)(q,E.f,G,V,(e,t,n,r)=>{if(e===o.Fb.POLL)return e;const{allowedPostTypes:s}=n,i=!!t&&t.isNSFW;if(r&&(!i||e!==o.Fb.MEDIA)||!s)return e;const c=[s.text&&o.Fb.POST,(s.images||s.videos)&&!i&&o.Fb.MEDIA,s.links&&o.Fb.LINK_ONLY,o.Fb.CROSSPOST].filter(Boolean);return c.indexOf(e)>=0?e:c[0]}),W=(e,t)=>{let{postId:n}=t;return e.creations.postEditing.postId===n},K=e=>e.creations.api.post.update.pending,J=e=>!!e.creations.api.post.update.error,Y=e=>e.creations.postEditing.editorMode,z=Object(r.a)(e=>e.creations.api.post.update.error,e=>A(e)),Q=e=>e.creations.postEditing.draft.markdown,X=e=>e.creations.postEditing.draft.rte,$=e=>e.creations.formData.isChatPost,Z=e=>e.creations.formData.isNSFW,ee=e=>e.creations.formData.isSpoiler,te=e=>{const{isOC:t}=e.creations.formData,n=B(e);if(n){if(!Object(y.c)(n))return!1;if(n.allOriginalContent)return!0}return t},ne=e=>e.creations.formData.eventSchedule||void 0,re=e=>e.creations.formData.postSchedule||void 0,se=e=>l.d.scheduledPosts(e),oe=Object(r.a)(e=>e.creations.formData.flair,e=>{const t=Object(E.d)(e);return t?Object(I.d)(e,{subredditId:t}):null},(e,t)=>e&&e.templateId&&t&&t.templateIds.includes(e.templateId)?e:null),ie=e=>e.user.prefs.editorMode,ce=e=>e.creations.formData.title,ae=e=>e.creations.formData.sendReplies,de=e=>e.creations.formData.isPublicLink,ue=e=>e.creations.formState.isChanged,le=e=>e.creations.formState.submitMode,be=e=>{const{name:t}=G(e);return Object(v.b)(e,{subredditName:t})},pe=Object(r.a)(V,be,(e,t)=>e||!t||t.bodyRestrictionPolicy!==j.a.NotAllowed),fe=e=>e.creations.formData.body.link,me=e=>e.creations.formData.body.markdown,Oe=Object(r.a)(e=>e.creations.formData.body.media,e=>e.uploads[g.m],G,w.S,(e,t,n,r)=>{if(!t)return;const o=Object(f.f)(t.metadata.mimetype),{allowedPostTypes:i}=n;let c,{isMakeGif:a=!1}=e&&e.video||{};if(i){const e=n.name;i.images?i.videos||(c=Object(s.a)(r,"postCreation.mediaInput.makeGif.fixedToOnReason",{subredditName:e}),a=!0):(c=Object(s.a)(r,"postCreation.mediaInput.makeGif.fixedToOffReason",{subredditName:e}),a=!1)}return{file:t.file,status:t.status,url:t.url,websocketUrl:t.websocketUrl,mediaType:o||void 0,video:"video"===o?Object.assign({thumbnail:{time:0,url:t.metadata.videoFirstFrameUrl}},e&&e.video||{},{duration:t.metadata.videoDuration||0,isMakeGif:a,makeGifDisableReason:c}):void 0}}),ge=e=>e.creations.formData.body.rte,je=e=>e.creations.formData.nextSubreddit,ye=e=>{return!!ce(e).trim()},_e=e=>{const t=ge(e);return c.a.hasContent(t)},he=e=>{return!!me(e).trim()},Ee=e=>{const t=Oe(e);return!!t&&!!t.file&&t.status!==_.a.FAILED},Ie=e=>{return!!fe(e).trim()},ve=e=>ye(e)||_e(e)||he(e)||Ee(e)||Ie(e),Se=e=>e.creations.formState.modalId||e.activeModalId,Te=(e,t)=>{let{field:n}=t;switch(n){case o.kb.TITLE:return{title:ce(e)};case o.kb.BODY:if(ie(e)===g.h.RICH_TEXT){const t=ge(e);return{rtjson:c.a.toRichTextJSON(t,e.uploads).document}}return{selftext:me(e).trim()};case o.kb.LINK:{const t=fe(e);if(!t)return;return{url:t}}case o.kb.FLAIR:{const t=oe(e);return{flairId:t?t.templateId:void 0}}default:return}},Ce=(e,t)=>{const n=G(e),r=oe(e),s=$(e),o=Z(e),i=te(e),c=ee(e),a=ae(e),d=ce(e),u=de(e);return{collectionId:e.platform.currentPage.queryParams.collection,destSubreddit:n,draftId:t,flair:r,isChatPost:s,isNSFW:o,isOC:i,isSpoiler:c,sendReplies:a,title:d,isPublicLink:u}},we=(e,t)=>{const n=Ce(e,t.draftId);if(!n||!n.destSubreddit.name)return;const r=(e=>e.creations.formData.recaptcha)(e),s=Ae(e,t),i=ne(e),a=Object.assign({},n,{eventSchedule:i,gRecaptchaResponse:r,postToTwitter:s,validate_on_submit:!0}),d=ie(e),u=fe(e),l=me(e),b=Oe(e),p=ge(e),f=pe(e),m=H(e),{uploads:O}=e,{sourcePostId:j}=t;if(m===o.Fb.LINK_ONLY&&u)return Object.assign({},a,{url:u,kind:g.p.LINK});if(m===o.Fb.MEDIA&&b){const{mediaType:e="image",video:t}=b,n=O[g.n],r="video"===e?n.url:null;return Object.assign({},a,{mediaType:e,videoThumbnailUrl:r,kind:g.p.MEDIA,url:b.url||"",makeGif:!!t&&t.isMakeGif})}if((m===o.Fb.POST||m===o.Fb.POLL)&&d===g.h.MARKDOWN)return Object.assign({},a,{kind:g.p.MARKDOWN,markdown:f?l:""});if((m===o.Fb.POST||m===o.Fb.POLL)&&d===g.h.RICH_TEXT){const e=f&&c.a.hasContent(p)?c.a.toRichTextJSON(p,O).document:[];return Object.assign({},a,{kind:g.p.RICH_TEXT,document:e})}return m===o.Fb.CROSSPOST&&j?Object.assign({},a,{kind:g.p.CROSSPOST,sourcePostId:j}):void 0},xe=(e,t)=>{let{sourcePostId:n}=t;return n?Object(S.e)(e,{postId:n}):void 0},De=e=>{const t=Oe(e);switch(H(e)){case o.Fb.LINK_ONLY:return"link";case o.Fb.MEDIA:return t&&"image"!==t.mediaType&&t.video?t.video.isMakeGif?"videogif":"video":"image";default:return"self"}},Pe=(e,t)=>{let{pageLayer:n}=t;if(!n)return h.b;const r=Object(d.q)(e,{pageLayer:n});if(r)return Object(O.a)(Object(p.a)(r),h.b);const s=Object(d.j)(e,{pageLayer:n});return s&&Object(d.C)(e,{pageLayer:n})&&Object(w.g)(e)?Object(O.a)(s.url,h.b):h.b},Ae=(e,t)=>{const n=Object(u.o)(e,t);return(!n||!n.isQuarantined)&&e.creations.formData.postToTwitter},Re=e=>{const t=G(e);if(!t.id||t.isProfile)return!1;const n={id:t.id,type:a.a.SUBREDDIT};return Object(I.b)(e,n,!0,!0)}},"./src/reddit/selectors/postDraft.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return _})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return I}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./src/config.ts"),s=n("./node_modules/lodash/values.js"),o=n.n(s),i=n("./node_modules/reselect/es/index.js"),c=n("./src/lib/constants/index.ts"),a=n("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),d=n("./src/reddit/models/PostCreationForm/index.ts"),u=n("./src/reddit/models/PostDraft/index.ts"),l=n("./src/reddit/selectors/postCreations.ts"),b=n("./src/reddit/selectors/subreddit.ts"),p=n("./src/reddit/selectors/user.ts");const f=Object(i.a)(e=>e.creations.drafts,e=>o()(e).sort((e,t)=>{const n=e.modified||e.created;return(t.modified||t.created)-n})),m=(e,t)=>{let{draftId:n}=t;return n?e.creations.drafts[n]:null},O=(e,t)=>{const n=m(e,t);if(n&&n.subredditId){const t=Object(b.S)(e,{subredditId:n.subredditId});return t?t.name:void 0}},g=e=>e.creations.api.draft.listing.pending,j=e=>{const{api:t}=e.creations,{apiError:n,validationError:r}=t.draft.save.error;return!(!n&&!r)},y=e=>(e&&e.fields||[]).map(e=>e.msg),_=(Object(i.a)(e=>e.creations.api.draft.save.error,e=>{const{apiError:t,validationError:n}=e;return[...y(t),...y(n)]}),e=>e.creations.api.draft.save.pending),h=(e,t)=>e.creations.api.draft.deleteDraft.pending[t]||!1,E=(e,t)=>{const n=Object(l.b)(e,t);if(!n)return;const r=Object(l.m)(e),s=Object(l.I)(e),o=Object(l.J)(e),i=Object(l.V)(e),b=Object(l.X)(e),p=Object(l.a)(e),{uploads:f}=e;if(p===c.Fb.LINK_ONLY)return Object.assign({},n,{body:s,kind:u.b.Link});if(p===c.Fb.POST&&r===d.h.MARKDOWN)return Object.assign({},n,{body:b?o:"",kind:u.b.Markdown});if(p===c.Fb.POST&&r===d.h.RICH_TEXT){const e=b?a.a.toRichTextJSON(i,f).document:[];return Object.assign({},n,{body:e,kind:u.b.RichText})}},I=(e,t)=>{let{draftId:n}=t;const s=Object(p.i)(e);return n&&s?"".concat(r.a.redditUrl,"/user/").concat(s.displayText,"/draft/").concat(n):""}},"./src/reddit/selectors/postFlair.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/helpers/flair.ts"),i=n("./src/reddit/models/Flair/index.ts"),c=n("./src/reddit/selectors/moderatorPermissions.ts"),a=n("./src/reddit/selectors/posts.ts"),d=n("./src/reddit/selectors/user.ts");const u=(e,t)=>{let{subredditId:n}=t;return e.postFlair[n]},l=(e,t)=>{let{subredditId:n}=t;return!e.postFlair[n]||e.postFlair[n].displaySettings.isEnabled},b=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=u(e,{subredditId:n});if(r)return{type:i.d.LinkFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),p=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.type===s.a.PROFILE)return!1;const o=t.id,i=l(e,{subredditId:o});if(!i)return!1;const a=u(e,{subredditId:o});if(!a)return!1;if(r){if(!!!(a.templateIds&&a.templateIds.length>0))return!1}const d=Object(c.d)(e,{subredditId:o});if(d)return!0;const{canAssignOwn:b}=a.permissions;return b&&n},f=(e,t)=>{let{postId:n}=t;const r=Object(a.J)(e,{postId:n});if(!r)return!1;const s=r.flair.some(e=>Object(o.p)(e.type)),i=Object(d.jb)(e,{post:r});return p(e,r.belongsTo,i,!s)}},"./src/reddit/selectors/postRequirements.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=(e,t)=>{let{subredditName:n}=t;return e.postRequirements.api.fetch.pending[n.toLowerCase()]||!1},s=(e,t)=>{let{subredditName:n}=t;return e.postRequirements.models[n.toLowerCase()]}},"./src/reddit/selectors/posts.ts":function(e,t,n){"use strict";n.d(t,"i",(function(){return E})),n.d(t,"l",(function(){return I})),n.d(t,"C",(function(){return v})),n.d(t,"f",(function(){return S})),n.d(t,"N",(function(){return C})),n.d(t,"g",(function(){return w})),n.d(t,"J",(function(){return x})),n.d(t,"E",(function(){return D})),n.d(t,"D",(function(){return P})),n.d(t,"c",(function(){return A})),n.d(t,"e",(function(){return R})),n.d(t,"L",(function(){return N})),n.d(t,"H",(function(){return k})),n.d(t,"M",(function(){return L})),n.d(t,"S",(function(){return M})),n.d(t,"T",(function(){return F})),n.d(t,"b",(function(){return G})),n.d(t,"d",(function(){return B})),n.d(t,"j",(function(){return q})),n.d(t,"o",(function(){return V})),n.d(t,"A",(function(){return H})),n.d(t,"G",(function(){return W})),n.d(t,"I",(function(){return K})),n.d(t,"y",(function(){return J})),n.d(t,"Q",(function(){return Y})),n.d(t,"K",(function(){return Q})),n.d(t,"z",(function(){return X})),n.d(t,"u",(function(){return $})),n.d(t,"m",(function(){return Z})),n.d(t,"w",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"p",(function(){return ne})),n.d(t,"q",(function(){return re})),n.d(t,"v",(function(){return se})),n.d(t,"t",(function(){return oe})),n.d(t,"n",(function(){return ie})),n.d(t,"s",(function(){return ce})),n.d(t,"r",(function(){return ae})),n.d(t,"P",(function(){return de})),n.d(t,"a",(function(){return ue})),n.d(t,"B",(function(){return le})),n.d(t,"O",(function(){return be})),n.d(t,"k",(function(){return pe})),n.d(t,"U",(function(){return fe})),n.d(t,"F",(function(){return me})),n.d(t,"h",(function(){return Oe})),n.d(t,"x",(function(){return je}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/camelCase.js"),s=n.n(r),o=n("./node_modules/lodash/isEmpty.js"),i=n.n(o),c=n("./node_modules/lodash/uniqBy.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/lib/isPinnedAdminPost/index.ts"),l=n("./src/lib/objectSelector/index.ts"),b=n("./src/reddit/constants/posts.ts"),p=n("./src/reddit/models/Media/index.ts"),f=n("./src/reddit/models/Subreddit/index.ts"),m=n("./src/reddit/models/Widgets/index.ts"),O=(n("./src/reddit/models/Profile/mock.ts"),n("./src/reddit/models/Subreddit/mock.ts"),n("./src/reddit/helpers/flair.ts")),g=n("./src/reddit/models/Flair/index.ts"),j=n("./src/reddit/selectors/profile.ts"),y=n("./src/reddit/selectors/subreddit.ts"),_=n("./src/reddit/selectors/user.ts");const h=[],E=(e,t)=>{let{postId:n}=t;return e.posts.models[n].media&&(e.posts.models[n].media.type===p.n.EMBED||e.posts.models[n].media.type===p.n.IMAGE)},I=(e,t)=>{let{postId:n}=t;return e.posts.models[n].media&&e.posts.models[n].media.type===p.n.GIFVIDEO},v=Object(l.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return T(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.hidden})}),S=Object(d.a)(e=>e.posts.models,e=>Object.keys(e).filter(t=>e[t].hidden)),T=Object(l.a)((e,t)=>{let{listingKey:n}=t;return[...e.listings.postOrder.ids[n]||[]]}),C=Object(l.a)((e,t)=>{let{listingKey:n}=t;return v(e,{listingKey:n}).map(t=>e.posts.models[t])}),w=(e,t)=>{let{postId:n}=t;return!!e.shortcuts.activePostId&&n===e.shortcuts.activePostId},x=(e,t)=>{let{postId:n}=t;return e.posts.models[n]},D=(e,t)=>{let{postId:n}=t;return x(e,{postId:n}).isLocked},P=(e,t)=>{let{postId:n}=t;return x(e,{postId:n}).isArchived},A=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});if(r&&r.crosspostRootId)return x(e,{postId:r.crosspostRootId})||void 0},R=(e,t)=>{let{postId:n}=t;return A(e,{postId:n})||x(e,{postId:n})||void 0},N=e=>e.posts.models,k=e=>e.posts.models,L=Object(l.a)((e,t)=>{let{postIds:n}=t;const r=e.posts.models,s={};return n.map(e=>{s[e]=r[e]}),s}),U=Object(d.a)(k,v,(e,t)=>t.limit,(e,t,n)=>{let r=t;return n&&(r=t.slice(0,n)),r.reduce((t,n)=>(t[n]=e[n],t),{})}),M=Object(l.a)((e,t)=>{const n=U(e,t),r={},s=e.posts.models;return Object.keys(n).forEach(e=>{const{crosspostRootId:t}=n[e];t&&(r[t]=s[t])}),Object.assign({},n,r)}),F=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});if(!r)return;const{belongsTo:s}=r;return s.type===b.a.PROFILE?e.profiles.models[s.id]||!1:e.subreddits.models[s.id]||!1},G=(e,t)=>{let{postId:n}=t;const r=F(e,{postId:n});if(r)return Object(f.d)(r)?Object(m.i)(r):Object(m.j)(r)},B=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});return r&&r.crosspostRootId?F(e,{postId:r.crosspostRootId}):null},q=(e,t)=>{let{postId:n}=t;return e.posts.expanded[n]},V=(e,t)=>{let{postId:n}=t;return!!e.posts.metaMap[n]},H=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n});return r&&r.contestMode},W=(e,t)=>{let{postId:n}=t;if(!n)return"";const r=x(e,{postId:n});return r&&r.liveCommentsWebsocket?r.liveCommentsWebsocket:""},K=(e,t)=>{let{postId:n}=t;if(!n)return"";const r=x(e,{postId:n});return r?r.permalink:""},J=(e,t)=>{let{postId:n}=t;if(!n)return 0;return x(e,{postId:n}).numDuplicates||0},Y=Object(l.a)(e=>{return e.posts.recent.map(t=>e.posts.models[t]).filter(e=>!!e)}),z=e=>(t,n)=>{let{postId:r}=n;if(!r)return!1;const s=x(t,{postId:r});return!!s&&!!s[e]},Q=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=x(e,{postId:n});return r&&r.belongsTo.type!==b.a.PROFILE?Object(y.I)(e,{identifier:r.belongsTo}):null},X=(e,t)=>t.postCategories,$=z("saved"),Z=z("hidden"),ee=z("isSponsored"),te=z("sendReplies"),ne=z("isNSFW"),re=z("isOriginalContent"),se=z("isSpoiler"),oe=(e,t)=>{let{postId:n}=t;const r=x(e,{postId:n}),s=Object(j.m)(e,r.author),o=e.profiles.pinnedPosts.data[s];return!!o&&o.includes(n)},ie=(e,t,n)=>{const r=Object(j.m)(e,n),s=e.profiles.pinnedPosts.initialData[r];return!!s&&s.includes(t)},ce=(e,t,n)=>{const r=Object(j.m)(e,n),s=e.profiles.pinnedPosts.data[r];return!!s&&s.includes(t)},ae=(e,t)=>oe(e,t)!==((e,t)=>{let{postId:n}=t;const r=x(e,{postId:n}),s=Object(j.m)(e,r.author),o=e.profiles.pinnedPosts.pending[s];return!!o&&o.includes(n)})(e,t),de=Object(l.a)((e,t)=>{const n=Object(j.m)(e,t.profileName);return e.profiles.pinnedPosts.data[n]||[]}),ue=(e,t)=>{const n=Object(j.m)(e,t.profileName);return!!e.profiles.pinnedPosts.data[n]},le=(e,t)=>{const n=x(e,{postId:t}),r=(new Date).getTime();return!!n&&(r-n.created)/1e3/60/60<24},be=Object(l.a)((e,t)=>{const n=v(e,t);return t.excludePinnedPosts?n.filter(t=>!oe(e,{postId:t})):n}),pe=(e,t)=>{let{profileName:n}=t;const r=de(e,{profileName:n});if(!r.length)return!1;const[s]=r,o=x(e,{postId:s});return!!o&&(!(n.toLowerCase()===o.author.toLowerCase())&&Object(u.a)(!0,o.distinguishType))},fe=Object(l.a)((e,t)=>{const{models:n}=e.posts;return t.filter(e=>{const t=n[e];return!!t&&!t.isBlank&&!t.hidden})}),me=(e,t,n,r)=>{const s=v(e,{listingKey:t});if(r){const t=Object(y.G)(e,n);if(t){if(!!e.subreddits.appliedFilters.meta[t]){const t=e.posts.metaMap;return s.filter(e=>!!t[e])}}}return s},Oe=(e,t)=>{const n=x(e,t);if(!n||n.belongsTo.type===b.a.SUBREDDIT)return!1;const r=F(e,t);return!!r&&Object(_.M)(e,r.name)},ge=Object(d.a)((e,t)=>t.postId,v,(e,t)=>{const n=t.indexOf(e);return n>=0?t[n+1]:void 0}),je=Object(d.a)(ge,e=>e.posts.models,(e,t)=>e&&t[e]||void 0);Object(d.a)((e,t)=>C(e,t),(e,t)=>Object(y.u)(e,t),(e,t)=>{const n=(e=>{const t={};return e.map(e=>{e.flair&&e.flair.map(e=>{const n=Object(O.g)(e),r=s()(n),o=r&&t.hasOwnProperty(r);e.type!==g.f.Spoiler&&e.type!==g.f.Nsfw&&(o||(t[r]=Object.assign({},e,{id:r})))})}),i()(t)?h:Object.values(t)})(e),r=(e=>{const t=e.find(e=>"post-flair"===e.kind),n=t&&t.templates,r={};for(const o in n){const e=n[o],t=Object(O.g)(e),i=s()(t);i&&r.hasOwnProperty(i)||(r[i]=Object.assign({},e,{id:i}))}return i()(r)?h:Object.values(r)})(t);return a()([...n,...r],"id")})},"./src/reddit/selectors/profile.ts":function(e,t,n){"use strict";n.d(t,"p",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return j})),n.d(t,"q",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return S})),n.d(t,"r",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return x}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/i18n/utils.ts"),o=n("./src/reddit/models/Multireddit/index.ts"),i=n("./src/reddit/models/User/index.ts"),c=n("./src/reddit/selectors/subreddit.ts"),a=n("./src/reddit/selectors/user.ts"),d=n("./node_modules/reselect/es/index.js");const u=[],l=(e,t)=>{let{profileId:n}=t;return e.profiles.models[n]},b=(e,t)=>{let{profileName:n}=t;return e.profiles.models[m(e,n)]},p=(e,t)=>e.profiles.models[t],f=Object(d.a)(e=>e.profiles.models,e=>{const t={};for(const n in e){const r=e[n];t[r.name.toLowerCase()]=r.id}return t}),m=(e,t)=>f(e)[t?t.toLowerCase():""],O=(e,t)=>{let{profileName:n}=t;const{pending:r}=e.profiles.moderated.api;return!!(n&&n in r)&&r[n.toLowerCase()]},g=(e,t)=>{let{profileName:n}=t;const{pending:r}=e.profiles.multireddits.api;return!!(n&&n in r)&&r[n.toLowerCase()]},j=(e,t)=>{let{profileName:n}=t;const r=Object(a.i)(e);if(!r||!n)return!1;const s=Object(i.f)(r);return v(e,{profileName:s}).some(e=>e.name.toLowerCase()===n.toLowerCase())},y=(e,t)=>{let{profileName:n}=t;const r=b(e,{profileName:n});return r&&"".concat(r.title||r.name," (").concat(r.displayText,") - Reddit")||Object(s.c)("reddit: the front page of the internet")},_=(e,t)=>{let{profileName:n}=t;const r=m(e,n);return e.profiles.about[r]},h=(e,t)=>e.profiles.about[t],E=Object(r.a)((e,t)=>{let{profileName:n}=t;return void 0!==e.profiles.moderated.models[n?n.toLowerCase():""]}),I=(e,t)=>{let{profileName:n}=t;return void 0!==e.profiles.multireddits.pageInfo[n?n.toLowerCase():""]},v=Object(r.a)((e,t)=>{let{profileName:n}=t;const r=e.profiles.moderated.models[n?n.toLowerCase():""];if(!r)return u;const s=[];return r.forEach(t=>{Object(c.S)(e,{subredditId:t})?s.push(Object(c.S)(e,{subredditId:t})):l(e,{profileId:t})&&s.push(l(e,{profileId:t}))}),s}),S=Object(d.a)((e,t)=>{const n=Object(a.hb)(e,{userName:t.profileName});return n?e.multireddits.byUserId[n.id]:null},e=>e.multireddits.models,(e,t)=>e?e.map(e=>t[e]).filter(e=>e.visibility===o.e.Public):null),T=Object(d.a)(e=>e.trophies,e=>e.profiles.trophyCases,(e,t)=>t,(e,t,n)=>{const r=t[n];return r?r.map(t=>e[t]):[]}),C=(e,t)=>{let{extraCommentsId:n}=t;return e.profileOverviewPage.conversations.extraComments.models[n]},w=(e,t)=>{let{profileName:n}=t;return e.profiles.moderated.pageInfo[n]?e.profiles.moderated.pageInfo[n].hasNextPage:void 0},x=(e,t)=>{let{profileName:n}=t;return!!e.profiles.multireddits.pageInfo[n]&&e.profiles.multireddits.pageInfo[n].hasNextPage}},"./src/reddit/selectors/profileComments.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return b}));var r=n("./node_modules/lodash/set.js"),s=n.n(r),o=n("./src/lib/objectSelector/index.ts"),i=n("./src/reddit/selectors/comments.ts");const c=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.commentIds[n]||[]},a=Object(o.a)((e,t)=>{let{listingKey:n}=t;const r=Object(i.s)(e);return c(e,{listingKey:n}).reduce((e,t)=>s()(e,t,r[t].postId),{})}),d=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.api.error[n]},u=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.api.pending[n]},l=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.loadMore[n]},b=(e,t)=>{let{listingKey:n}=t;return e.profileCommentsPage.fetchedTokens[n]}},"./src/reddit/selectors/profileOverviewChronoItems.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/models/PostCreationForm/index.ts");s.f.Text,s.f.Spoiler,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT,s.f.Text,s.f.Spoiler,o.h.RICH_TEXT;var i=n("./src/reddit/helpers/isComment.ts");n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return O}));const c=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return a(e,{listingKey:n}).filter(e=>{if(Object(i.a)(e))return!0;{const t=r[e];return t&&!t.hidden}})}),a=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.profileOverviewPage.chrono.ids[n];return r?[...r]:[]}),d=Object(r.a)((e,t)=>{let{listingKey:n}=t;return c(e,{listingKey:n}).reduce((t,n)=>{const r=Object(i.a)(n)?e.comments.models[n].postId:n;return t[n]=r,t},{})}),u=(Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models;return u(e,{listingKey:n}).filter(e=>{const t=r[e];return t&&!t.hidden})}),Object(r.a)((e,t)=>{let{listingKey:n}=t;return c(e,{listingKey:n}).map(t=>Object(i.a)(t)?e.comments.models[t].postId:t)})),l=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.posts.models,s=u(e,{listingKey:n}),o={};return s.forEach(e=>o[e]=r[e]),o}),b=Object(r.a)((e,t)=>{let{listingKey:n}=t;const r=e.comments.models,s=c(e,{listingKey:n}),o={};return s.forEach(e=>!!Object(i.a)(e)&&(o[e]=r[e])),o}),p=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.api.error[n]},f=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.api.pending[n]},m=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.loadMore[n]},O=(e,t)=>{let{listingKey:n}=t;return e.profileOverviewPage.chrono.fetchedTokens[n]}},"./src/reddit/selectors/runTimeEnvVars.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));n("./src/lib/constants/index.ts");const r=e=>e.runTimeEnvVars.staging,s=e=>r(e),o=e=>e.runTimeEnvVars.startTimeInMillis},"./src/reddit/selectors/searchResults.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return b}));n("./node_modules/core-js/modules/es6.regexp.search.js");const r=[],s=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.error[n]},o=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.api.pending[n]},i=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.identifiers[n]||[]},c=(e,t)=>{let{listingKey:n}=t;return e.listings.listingOrder.loadMore[n]},a=e=>{const t=e.search.searchQuery;if(!t)return r;const n=e.search.typeahead.idsByQuery[t.toLowerCase()];if(!n)return r;const s=[];return n.forEach(t=>{s.push(e.search.typeahead.models[t])}),s},d=e=>e.search.typeahead.idsByQuery,u=e=>{const t=e.listings.activeKey;return e.search.viewTreatment[t]},l=e=>{const t=e.listings.activeKey;if(t)return e.searchDiscoveryUnits.headerContent[t]},b=(e,t)=>t?e.search.relatedQueries[t.toLowerCase()]:r},"./src/reddit/selectors/seo/linksModule.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));n("./node_modules/core-js/modules/es6.regexp.split.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/user.ts");const o=e=>!Object(s.J)(e)&&e.seo.linksModule.frontpage||null,i=e=>{const t=e.split("/");if("r"===t[1])return t[2]},c=Object(r.a)(o,e=>e?e.map(e=>Object.assign({},e,{links:e.links.map(e=>Object.assign({},e,{title:i(e.url)})).filter(e=>e.title)})):null),a=Object(r.a)(c,e=>e?e.map(e=>Object.assign({},e,{links:e.links.filter(e=>e.visible)})):null)},"./src/reddit/selectors/structuredStyles.ts":function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return g})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"o",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"n",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return x})),n.d(t,"m",(function(){return D}));var r=n("./node_modules/lodash/isEqual.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/models/StructuredStyles/index.ts"),a=n("./src/reddit/selectors/platform.ts"),d=n("./src/reddit/selectors/subreddit.ts"),u=n("./src/reddit/selectors/user.ts");const l=e=>e.structuredStyles.isEditing,b=(e,t)=>e.structuredStyles.models[t.subredditId],p=Object(o.a)(b,e=>Object(c.g)(e)),f=e=>e.structuredStyles.draft,m={},O=Object(i.a)((e,t)=>{const n=((e,t)=>{const n=b(e,t);if(n)return{url:n.communityIcon,color:n.primaryColor}})(e,t);if(n&&n.url)return n;const r=n?n.color:void 0;return((e,t)=>e&&e.icon?{url:e.icon.url,color:t}:m)(Object(d.S)(e,t),r)}),g=(e,t)=>{const n=Object(d.G)(e,t.subredditName);return n?O(e,{subredditId:n}):m},j=e=>{const t=Object(a.d)(e);return t?O(e,{subredditId:t}):m},y=(e,t)=>{const n=e.structuredStyles.imagePreviews[t.name];if(n&&n in e.imageUploads)return e.imageUploads[n]},_=Object(i.a)(e=>{const t=e.structuredStyles.imagePreviews,n={};for(const r in t){const t=y(e,{name:r});t&&(n[r]=t.url)}return n}),h=(e,t)=>f(e)[t.name],E=e=>e.structuredStyles.models,I=e=>e.structuredStyles.flairTemplate.models,v=(e,t)=>e.structuredStyles.models[t],S=(e,t)=>{let{subredditId:n}=t;const r=e.structuredStyles.models[n];return r&&r.communityIcon?r.communityIcon:null},T=e=>e.structuredStyles.exportStyles.pending,C=e=>e.structuredStyles.isBladeEditorDirty,w=(e,t)=>{let{subredditId:n}=t;const r=e.subreddits.about[n],s=r&&r.quarantinePermissions;return!!s&&!s.styles},x=Object(o.a)(l,C,f,(e,t)=>t.subredditId&&b(e,{subredditId:t.subredditId}),(e,t,n,r)=>!(!e||!n)&&(t||!s()(n,r))),D=(e,t)=>{if(Object(u.fb)(e))return!0;if(t){const n=t.subredditId||t.subredditName&&Object(d.G)(e,t.subredditName);if(n&&Object(u.eb)(e,{subredditId:n}))return!0}return!1}},"./src/reddit/selectors/subreddit.ts":function(e,t,n){"use strict";n.d(t,"Z",(function(){return _})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"I",(function(){return S})),n.d(t,"M",(function(){return T})),n.d(t,"L",(function(){return C})),n.d(t,"Y",(function(){return w})),n.d(t,"S",(function(){return x})),n.d(t,"X",(function(){return D})),n.d(t,"ab",(function(){return P})),n.d(t,"cb",(function(){return A})),n.d(t,"o",(function(){return N})),n.d(t,"h",(function(){return k})),n.d(t,"t",(function(){return L})),n.d(t,"bb",(function(){return F})),n.d(t,"B",(function(){return G})),n.d(t,"a",(function(){return B})),n.d(t,"G",(function(){return q})),n.d(t,"H",(function(){return H})),n.d(t,"j",(function(){return W})),n.d(t,"y",(function(){return K})),n.d(t,"s",(function(){return J})),n.d(t,"J",(function(){return Y})),n.d(t,"K",(function(){return z})),n.d(t,"V",(function(){return Q})),n.d(t,"R",(function(){return X})),n.d(t,"O",(function(){return $})),n.d(t,"P",(function(){return Z})),n.d(t,"Q",(function(){return ee})),n.d(t,"F",(function(){return te})),n.d(t,"A",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"C",(function(){return se})),n.d(t,"u",(function(){return oe})),n.d(t,"m",(function(){return ie})),n.d(t,"e",(function(){return ce})),n.d(t,"g",(function(){return ae})),n.d(t,"l",(function(){return de})),n.d(t,"i",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"k",(function(){return be})),n.d(t,"z",(function(){return pe})),n.d(t,"f",(function(){return fe})),n.d(t,"U",(function(){return me})),n.d(t,"T",(function(){return Oe})),n.d(t,"E",(function(){return ge})),n.d(t,"W",(function(){return je})),n.d(t,"w",(function(){return ye})),n.d(t,"v",(function(){return _e})),n.d(t,"x",(function(){return he})),n.d(t,"N",(function(){return Ee})),n.d(t,"r",(function(){return Ie})),n.d(t,"p",(function(){return ve})),n.d(t,"q",(function(){return Te}));n("./node_modules/core-js/modules/es6.array.sort.js");var r=n("./node_modules/reselect/es/index.js"),s=n("./src/lib/constants/index.ts"),o=n("./src/lib/isFakeSubreddit/index.ts"),i=n("./src/lib/objectSelector/index.ts"),c=n("./src/reddit/constants/posts.ts"),a=n("./src/reddit/helpers/isPost.ts"),d=n("./src/reddit/i18n/utils.ts"),u=(n("./src/reddit/models/Profile/mock.ts"),n("./src/reddit/models/Subreddit/index.ts")),l=(n("./src/reddit/models/Subreddit/mock.ts"),n("./src/reddit/models/SubredditRestrictions/index.ts")),b=n("./src/reddit/models/Widgets/index.ts"),p=n("./src/reddit/selectors/comments.ts"),f=n("./src/reddit/selectors/moderatorPermissions.ts"),m=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/posts.ts"),g=n("./src/reddit/selectors/profile.ts"),j=n("./src/reddit/selectors/user.ts");const y=[],_=Object(i.a)((e,t)=>{let{subredditIds:n}=t;if(0===n.length)return y;const r=[];return n.forEach(t=>{const n=e.subreddits.models[t];n&&r.push(n)}),r}),h=(e,t)=>{let{profileName:n}=t;if(!n)return null;const r=Object(g.j)(e,n);return r?r.url:"/user/".concat(n,"/")},E=(e,t)=>{const n=t.toLowerCase();return e?e.url:Object(o.a)(n)?"/r/"+n+"/":null},I=(e,t)=>{let{subredditName:n}=t;if(!n)return null;const r=q(e,n),s=x(e,{subredditId:r});return E(s,n)},v=(e,t)=>{const n=x(e,{subredditId:t});if(n)return E(n,n.name)||"";const r=Object(g.p)(e,{profileId:t});return r?r.url:""},S=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?e.profiles.about[n.id]||{}:e.subreddits.about[n.id]},T=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?e.profiles.models[n.id]||!1:e.subreddits.models[n.id]||!1},C=(e,t)=>{let{identifier:n}=t;return n.type===c.a.PROFILE?Object(g.m)(e,n.name)||null:q(e,n.name)||null},w=e=>e.subreddits.models,x=(e,t)=>{let{subredditId:n}=t;return e.subreddits.models[n]||!1},D=(e,t)=>{const n=x(e,t);if(n)return n.type},P=e=>e.subreddits.trending,A=(e,t)=>{let{identifier:n}=t;const r=C(e,{identifier:n});if(!r)return!1;const s=S(e,{identifier:{id:r,type:n.type}});return s&&Object(j.J)(e)?!!s.userIsSubscriber:n.type===c.a.SUBREDDIT?e.subscriptions.subredditOrder.indexOf(r)>-1:e.subscriptions.profileOrder.indexOf(r)>-1},R=(e,t)=>{let{subredditName:n,action:r}=t;const s=K(e,{subredditName:n});return!!(s&&r&&(Object(f.g)(e,{subredditId:q(e,n)})||s.userIsContributor||r===l.e.Post&&!1===s.restrictPosting||r===l.e.Comment&&!1===s.restrictCommenting))},N=e=>{const t=Object(m.f)(e);if(t&&"restricted"===t.type){const n=pe(e)[t.id];if(n)return n.restrictCommenting&&n.restrictPosting?l.e.PostAndComment:n.restrictCommenting?l.e.Comment:l.e.Post}return l.e.View},k=(e,t)=>{const n=Object(m.f)(e),r=Object(j.J)(e),o=3*s.w,i=Date.now()-o;if(n&&r&&"restricted"===n.type){if(R(e,{subredditName:n.name,action:t}))return!1;const r=Object(j.lb)(e).subreddit[n.id];if((r?r.isContributorRequestTimestamp:0)>i)return!0}return!1},L=(e,t)=>{const n=Object(m.f)(e);if(Object(j.J)(e)&&n&&"restricted"===n.type){const r=!R(e,{subredditName:n.name,action:t}),s=!k(e);if(r&&s)return!0}return!1},U=Object(r.a)(e=>e.subreddits.models,e=>{const t={};for(const n in e){const r=e[n];r.type!==u.b.User&&(t[r.name.toLowerCase()]=r.id)}return t}),M=Object(r.a)(e=>e.subreddits.unavailableModels,e=>{const t={};for(const n in e){const r=e[n];t[r.name.toLowerCase()]=r.id}return t}),F=(e,t)=>{let{subredditName:n}=t;return e.subreddits.unavailableModels[((e,t)=>M(e)[t?t.toLowerCase():""])(e,n)]},G=(e,t)=>{let{subredditName:n}=t;return e.subreddits.models[q(e,n)]},B=(e,t)=>{let{subredditName:n}=t;return G(e,{subredditName:n})||F(e,{subredditName:n})},q=(e,t)=>U(e)[t?t.toLowerCase():""],V=Object(r.a)(e=>e.subreddits.communityInfo,e=>{const t={};for(const n in e){const r=e[n];r.id&&(t[r.name.toLowerCase()]=r.id)}return t}),H=(e,t)=>V(e)[t?t.toLowerCase():""],W=e=>{const t=Object(m.e)(e);return t?K(e,{subredditName:t}):null},K=(e,t)=>{let{subredditName:n}=t;return e.subreddits.about[q(e,n)]},J=(e,t)=>{const n=Object(g.j)(e,{profileName:t});return n?e.subreddits.about[n.id]:void 0},Y=(e,t)=>{let{commentId:n}=t;const r=Object(p.o)(e,{commentId:n});if(!r)return;const s=r.subredditId;return e.profiles.models[s]||e.subreddits.models[s]},z=(e,t)=>{let{thingId:n}=t;if(Object(a.a)(n)){const t=Object(O.J)(e,{postId:n});if(!t)return;return T(e,{identifier:t.belongsTo})}return Y(e,{commentId:n})},Q=(e,t)=>{let{subredditName:n}=t;const r=G(e,{subredditName:n});return r&&r.title||Object(d.c)("reddit: the front page of the internet")},X=(e,t)=>{let{subredditId:n}=t;return e.subreddits.rules[n]?e.subreddits.rules[n].rules:y},$=Object(i.a)((e,t)=>{let{subredditId:n}=t;return e.subreddits.rules[n]?e.subreddits.rules[n].rules.map(e=>e.shortName):y}),Z=(e,t)=>{let{subredditId:n}=t;return!!e.subreddits.rules[n]},ee=e=>e.subreddits.api.rules,te=(e,t)=>{let{subredditId:n}=t;return!!e.subreddits.models[n]&&!!e.subreddits.models[n].freeFormReports},ne=(e,t)=>{let{subredditName:n}=t;const r=K(e,{subredditName:n});return r&&r.allowedPostTypes},re=(e,t)=>{let{subredditName:n}=t;const r=K(e,{subredditName:n});return r&&r.coins},se=(e,t)=>{let{subredditId:n}=t;const r=e.subreddits.about[n];return r&&r.coins},oe=(e,t)=>{let{subredditName:n}=t;const r=q(e,n),s=e.widgets.sidebar[r],o=[],i=e.widgets.moderatorIds[r],c=e.widgets.models[i];let a=!1;return s&&s.forEach((function(t){e.widgets.models[t]&&(o.push(e.widgets.models[t]),t===i&&(a=!0))})),c&&!a&&o.push(c),o},ie=(e,t)=>{return x(e,t).name===s.Eb},ce=(Object(i.a)(e=>{const{order:t}=e.subreddits.moderated,n=e.subreddits.models;return t&&t.length?t.map(e=>n[e]):[]}),(e,t)=>{let{subredditId:n}=t;return!!e.subredditChannels.api.whitelist[n]}),ae=Object(i.a)((e,t)=>_(e,t).map(e=>Object(b.j)(e))),de=e=>e.subreddits.api.create.pending,ue=e=>e.subreddits.api.create.error.apiError,le=(e,t)=>{let{subredditId:n}=t;return!(!e.subreddits.about[n]||!e.subreddits.about[n].usingNewModmail)},be=(e,t)=>{let{postId:n}=t;const r=e.posts.models[n].belongsTo.id;return!!e.subreddits.rules[r]},pe=e=>e.subreddits.about,fe=Object(i.a)(Object(r.a)(_,pe,(e,t)=>{const n=[];return e.forEach(e=>{e.type===u.b.Public&&n.push(Object(b.j)(e,t[e.id]))}),n})),me=(e,t)=>e.subreddits.settings[t],Oe=e=>e.subreddits.api.settings.pending,ge=(e,t)=>{let{subredditId:n}=t,r=e.user.prefs.sort;if(e.user.prefs.rememberCommunitySort){const t=e.user.prefs.subreddit[n];t&&t.sort&&(r=t.sort)}return r},je=(e,t)=>{let{subredditName:n}=t;return e.subreddits.topContent[n.toLowerCase()]},ye=(e,t)=>e.subreddits.api.similar.pending[t.key]||!1,_e=(e,t)=>e.subreddits.similar[t.key]||y,he=(e,t)=>{const n=_e(e,t);return _(e,{subredditIds:n})},Ee=(e,t)=>e.subreddits.rankings[t],Ie=(e,t)=>e.subreddits.api.onboarding.pending[t.key]||!1,ve=(e,t)=>e.subreddits.onboarding[t.key]||y,Se=Object(r.a)(ve,e=>e.subreddits.models,(e,t)=>e.map(e=>t[e]).filter(Boolean)),Te=Object(r.a)(Se,e=>e.map(e=>e.name))},"./src/reddit/selectors/subredditAutocomplete.ts":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.symbol.js");var r=n("./node_modules/lodash/isNil.js"),s=n.n(r),o=n("./node_modules/reselect/es/index.js"),i=n("./src/reddit/helpers/name/index.ts"),c=n("./src/reddit/models/Subreddit/index.ts"),a=n("./src/reddit/models/SubredditAutocomplete/index.ts"),d=n("./src/reddit/models/User/index.ts"),u=n("./src/reddit/selectors/subscriptions.ts"),l=n("./src/reddit/selectors/user.ts");n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return S}));var b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const p=(e,t)=>t.substring.toLowerCase(),f=(e,t)=>{let{substring:n}=t;return Object(i.e)(n)?"":Object(i.f)(n)},m=(e,t)=>{for(let n=e.length;n>0;n--)if(!1===t(e.slice(0,n)))return},O=Object(o.a)(f,e=>e.subredditAutocomplete.models,(e,t)=>{let n=null;return m(e,e=>{if(t.hasOwnProperty(e))return n=t[e],!1}),n}),g=Object(o.a)(f,O,(e,t)=>!e||!s()(t)&&0===t.subreddits.length),j=Object(o.a)(u.f,l.z,(e,t)=>e.map(e=>Object(a.c)(e,t))),y=Object(o.a)(f,O,g,e=>e.subredditAutocomplete.api.pending,(e,t,n,r)=>{if(n)return!1;let s=!1;return m(e,e=>r.hasOwnProperty(e)?(s=r[e],!1):(!t||t.key!==e)&&void 0),s}),_=Object(o.a)(f,u.f,(e,t)=>t.filter(t=>-1!==t.name.toLowerCase().indexOf(e))),h=Object(o.a)(p,(e,t)=>t.includeUserProfile,l.i,(e,t,n)=>{if(!t||s()(n)||Object(i.d)(e))return null;const r=Object(i.f)(Object(d.f)(n)),o=Object(i.f)(e);return r.includes(o)?Object(a.d)(n):null}),E=Object(o.a)(p,(e,t)=>t.allowCrosspostableOnly,h,O,_,e=>e.subreddits.crosspostable.ids,l.z,(e,t,n,r,s,o,c)=>{const d=[];if(n&&d.push(n),Object(i.e)(e))return d;const u={};return s.forEach(e=>{const n=Object(a.c)(e,c);t&&!o[e.id]&&(n.disabled=!0),u[n.name]=n,d.push(n)}),r&&r.subreddits.forEach(e=>{const{communityIcon:n,icon:r,isCrosspostDestination:s,name:o}=e,i=b(e,["communityIcon","icon","isCrosspostDestination","name"]),c=n||r,l=t&&!1===s;u[o]||d.push(Object.assign({},i,{disabled:l,iconUrl:c,name:o,type:a.a.OTHER_SUBREDDIT}))}),d}),I=Object(o.a)(p,l.h,(e,t)=>{const n=Object(i.f)(e);return t.filter(e=>{let{name:t}=e;return t.toLowerCase().includes(n)})}),v=(Object(o.a)(p,h,I,(e,t)=>t.partnerConnectionSafeOnly,l.z,(e,t,n,r,s)=>{const o=[];if(t&&o.push(t),Object(i.e)(e))return o;let d=n;return r&&(d=n.filter(e=>(e.type===c.b.Public||e.type===c.b.Restricted)&&!e.isQuarantined&&!e.isNSFW&&e.subscribers<2e5)),o.push(...d.map(e=>Object(a.b)(e,a.a.MODERATED_SUBREDDIT,s))),o}),Object(o.c)({suggestedItems:E,fallbackItems:j,isAllDataRetrieved:g,isPending:y})),S=Object(o.a)(O,_,(e,t)=>t.multireddit.subredditIds||[],l.z,(e,t,n,r)=>{const s=[],o={};return t.forEach(e=>{const t=Object(a.c)(e,r);o[t.name]=t,t.id&&n.indexOf(t.id)<0&&s.push(t)}),e&&e.subreddits.forEach(e=>{const{communityIcon:t,icon:r,name:i}=e,c=b(e,["communityIcon","icon","name"]),d=t||r;!o[i]&&n.indexOf(e.id)<0&&s.push(Object.assign({},c,{iconUrl:d,name:i,type:a.a.OTHER_SUBREDDIT}))}),s})},"./src/reddit/selectors/subredditChannel.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/values.js"),s=n.n(r),o=n("./src/reddit/selectors/user.ts");const i=(e,t)=>{let{subredditId:n}=t;const r=e.subredditChannels.models;return Object.keys(r).map(e=>r[e]).filter(e=>e.subredditId===n)},c=(e,t)=>{let{subredditId:n}=t;return!(!1!==e.subredditChannels.api.pending[n]||!1!==e.subredditChannels.api.error[n])},a=(e,t)=>{let{subredditId:n}=t;return void 0===e.subredditChannels.api.pending[n]&&!c(e,{subredditId:n})&&Object(o.J)(e)},d=e=>{const{models:t}=e.subredditChannels;return Object.keys(t).map(e=>t[e]&&t[e].name)},u=(e,t)=>{const n=s()(e.subredditChannels.models);return n.length&&n.find(e=>{let{channelId:n}=e;return n===t})||void 0},l=e=>{const t=e.subredditChannels.selected;if(t){return s()(e.subredditChannels.models).find(e=>e.channelId===t)}}},"./src/reddit/selectors/subredditDifficulty.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>{let{subredditId:n}=t;return e.subredditDifficulty[n]}},"./src/reddit/selectors/subredditLeaderboard.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return d}));var r=n("./src/reddit/constants/subredditLeaderboard.ts"),s=n("./src/reddit/selectors/category.ts"),o=n("./src/reddit/selectors/experiments/upAndComingLeaderboard.ts");const i=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasPreviousPage,c=(e,t)=>e.subreddits.rankingsPageInfo&&e.subreddits.rankingsPageInfo[t]&&e.subreddits.rankingsPageInfo[t].hasNextPage,a=(e,t,n)=>t?r.g:n?r.l:e||r.a,d=(e,t)=>{const n=e.subreddits.rankings,i=t&&Object(s.i)(e,{categoryName:t}),c=n[a(i&&i.id||null,t===r.h,Object(o.d)(e)&&t===r.m)];return!(!c||!c.length)}},"./src/reddit/selectors/subredditModeration.ts":function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"w",(function(){return m})),n.d(t,"o",(function(){return O})),n.d(t,"r",(function(){return g})),n.d(t,"B",(function(){return j})),n.d(t,"z",(function(){return y})),n.d(t,"A",(function(){return _})),n.d(t,"u",(function(){return h})),n.d(t,"x",(function(){return E})),n.d(t,"y",(function(){return I})),n.d(t,"p",(function(){return v})),n.d(t,"q",(function(){return S})),n.d(t,"v",(function(){return T})),n.d(t,"n",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"H",(function(){return x})),n.d(t,"D",(function(){return D})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return A})),n.d(t,"C",(function(){return R})),n.d(t,"E",(function(){return N})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return U})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return F})),n.d(t,"t",(function(){return G}));n("./node_modules/core-js/modules/es6.regexp.search.js");var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/SubredditModeration/index.ts"),o=n("./src/reddit/selectors/user.ts");const i=[],c=(e,t)=>{let{subredditId:n}=t;return e.banned.models[n]},a=(e,t)=>{let{subredditId:n,username:r}=t;const s=Object(o.hb)(e,{userName:r});if(!s)return;const i=c(e,{subredditId:n});return i?i[s.id]:void 0},d=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.banned.userOrder[n];return r?r.map(t=>e.banned.models[n][t]):i}),u=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.banned.api.pending[r]},l=(e,t)=>{let{subredditId:n}=t;return e.banned.loadMore[n]},b=e=>e.banned.search.api.pending,p=e=>e.banned.search.result,f=e=>e.banned.inContext,m=Object(r.a)((e,t)=>{let{subredditId:n,before:r,after:o}=t;const i=Object(s.d)(n,o,r),c=e.moderators.userOrder.data[n]&&e.moderators.userOrder.data[n][i];return c?c.map(t=>e.moderators.models[n][t]):[]}),O=(e,t)=>{let{subredditId:n,beforeEditable:r,afterEditable:o}=t;const i=Object(s.d)(n,o,r),c=e.moderators.editableUserOrder.data[n]&&e.moderators.editableUserOrder.data[n][i];return c?c.map(t=>e.moderators.editableModerators[n][t]):[]},g=(e,t)=>{let{subredditId:n}=t;return e.moderators.editableModerators[n]||null},j=(e,t)=>{let{subredditId:n}=t;return e.moderators.models[n]||null},y=e=>e.moderators.search.api.pending,_=e=>e.moderators.search.result,h=(e,t)=>{let{subredditId:n}=t;return e.moderators.invitePending[n]},E=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreModerators[n]&&e.moderators.loadMoreModerators[n].after},I=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreModerators[n]&&e.moderators.loadMoreModerators[n].before},v=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreEditableModerators[n]&&e.moderators.loadMoreEditableModerators[n].after},S=(e,t)=>{let{subredditId:n}=t;return e.moderators.loadMoreEditableModerators[n]&&e.moderators.loadMoreEditableModerators[n].before},T=(e,t)=>{const n=Object(s.d)(t.subredditId,t.after,t.before);return e.moderators.userOrder.api.pending[n]},C=(e,t)=>{const n=Object(s.d)(t.subredditId,t.afterEditable,t.beforeEditable);return e.moderators.editableUserOrder.api.pending[n]},w=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.moderators.invitedModerators.userOrder[n];return r?r.map(t=>e.moderators.invitedModerators.models[n][t]):i}),x=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.muted.userOrder[n];return r?r.map(t=>e.muted.models[n][t]):i}),D=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.muted.api.pending[r]},P=e=>e.muted.search.api.pending,A=e=>e.muted.search.result,R=e=>e.muted.inContext,N=(e,t)=>{let{subredditId:n}=t;return e.muted.loadMore[n]},k=e=>e.approvedSubmitters.search.api.pending,L=e=>e.approvedSubmitters.search.result,U=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=e.approvedSubmitters.userOrder[n];return r?r.map(t=>e.approvedSubmitters.models[n][t]):i}),M=(e,t)=>{let{subredditId:n}=t;return e.approvedSubmitters.loadMore[n]},F=(e,t)=>{let{subredditId:n}=t;const r=Object(s.d)(n);return e.approvedSubmitters.api.pending[r]},G=e=>!!Object(o.J)(e)&&e.modModeEnabled},"./src/reddit/selectors/subredditSettings.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/selectors/user.ts");const o=Object(r.a)(s.i,e=>e.subreddits.settings,(e,t)=>{if(e&&e.profileId)return t[e.profileId]})},"./src/reddit/selectors/subscriptions.ts":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p}));var r=n("./node_modules/reselect/es/index.js"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/lib/objectSelector/index.ts");const i=e=>e.subscriptions.api.fetched,c=e=>e.subscriptions.subredditOrder,a=Object(o.a)(e=>{const{profileOrder:t,subredditOrder:n}=e.subscriptions;return[...n,...t]}),d=(Object(o.a)(e=>{const{profileOrder:t,subredditOrder:n}=e.subscriptions,r=t?t.map(e=>({id:e,type:s.a.PROFILE})):[];return(n?n.map(e=>({id:e,type:s.a.SUBREDDIT})):[]).concat(r)}),Object(o.a)(Object(r.a)(e=>e.subreddits.models,e=>e.subscriptions.subredditOrder,(e,t)=>{if(!t||!t.length)return[];const n=[];for(const r of t)e[r]&&n.push(e[r]);return n}))),u=Object(o.a)(Object(r.a)(e=>e.profiles.models,e=>e.subscriptions.profileOrder,(e,t)=>{if(!t||!t.length)return[];return t.map(t=>e[t])})),l=e=>e.subscriptions.favoriteSubredditOrder,b=(Object(o.a)(e=>{const{favoriteSubredditOrder:t,favoriteProfileOrder:n}=e.subscriptions,r=e.subreddits.models,s=e.profiles.models,o=t?t.map(e=>r[e]):[],i=n?n.map(e=>s[e]):[];return o.concat(i)}),Object(r.a)(e=>e.subscriptions.profileOrder,e=>e.subscriptions.subredditOrder,(e,t)=>e.length+t.length)),p=Object(r.a)(d,e=>e.reduce((e,t)=>(e[t.id]=t.name,e),{}))},"./src/reddit/selectors/tags.ts":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return g})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return y})),n.d(t,"n",(function(){return h})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"p",(function(){return A})),n.d(t,"m",(function(){return R})),n.d(t,"v",(function(){return N})),n.d(t,"u",(function(){return k})),n.d(t,"t",(function(){return L})),n.d(t,"a",(function(){return U})),n.d(t,"q",(function(){return M})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return G}));n("./node_modules/core-js/modules/web.dom.iterable.js");var r=n("./node_modules/lodash/some.js"),s=n.n(r),o=n("./node_modules/lodash/values.js"),i=n.n(o),c=n("./src/reddit/helpers/tags/index.ts"),a=n("./src/reddit/models/Tags/index.ts");const d=e=>i()((e=>{const t=u(e)?x(e):C(e),n=l(e),r=t.reduce((e,t)=>(e[t.id]=Object(a.e)(t),e),{});return n.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),r)})(e)).filter(e=>!e.selected),u=e=>e.tags.creation.tagInput||"",l=e=>e.tags.creation.selectedOptions||[],b=e=>{const t=[];for(let n=0;n<l(e).length;n++)l(e)[n].id&&t.push(l(e)[n].id);return t||[]},p=e=>(l(e)||[]).filter(e=>!!e.displayText).map(e=>e.displayText),f=e=>{const t=[];for(let n=0;n<l(e).length;n++)l(e)[n].id||t.push(l(e)[n].displayText);return t||[]},m=e=>Object.keys(e.tags.models.globalSubredditTags).length>0,O=e=>e.tags.api.create.error||e.tags.api.deleteTag.error||e.tags.api.fetch.error||e.tags.api.update.error,g=e=>e.tags.api.create.pending||e.tags.api.deleteTag.pending||e.tags.api.fetch.pending||e.tags.api.update.pending,j=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.inputByItemId[n]||""},y=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.suggestedInputByItemId[n]||""},_=[],h=(e,t)=>{let{subredditId:n}=t;return s()(E(e,{subredditId:n}),e=>!!e.action)||s()(v(e,{subredditId:n}),e=>!!e.action)},E=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.selectedOptions[n]||_},I=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.selectedSuggestedOptions[n]||_},v=(e,t)=>{let{subredditId:n}=t;return e.tags.selected.deselectedOptions[n]||_},S={},T={},C=e=>e.tags.availableGlobalTagOrder.recommendedGlobal.map(t=>e.tags.models.globalSubredditTags[t]),w=e=>e.tags.models.globalSubredditTags,x=e=>e.tags.availableGlobalTagOrder.global.map(t=>e.tags.models.globalSubredditTags[t]),D=(e,t)=>{let{subredditId:n}=t;return e.tags.models.subredditScopedTags[n]||T},P=(e,t)=>{const n=i()(t);for(let r=0;r<n.length;r++)if(n[r].text.toLowerCase().trim()===e.toLowerCase().trim())return n[r];return null},A=(e,t)=>{let{itemId:n}=t;return e.tags.models.itemTags[n]||S},R=(e,t)=>{let{itemId:n}=t;return!!e.tags.models.itemTags[n]},N=(e,t)=>{let{itemId:n}=t;return e.tags.models.suggestedItemTags[n]||S},k=(e,t)=>{let{itemId:n}=t;return i()(N(e,{itemId:n})).filter(e=>e.isRelevant).map(e=>Object(a.d)(e,!0))},L=(e,t)=>{let{itemId:n}=t;return e.tags.models.sortedItemTags[n]||[]},U=(e,t)=>{let{thingId:n,suggested:r=!1}=t;return i()(((e,t)=>{let{thingId:n,suggested:r=!1}=t;const s=(r?y(e,{subredditId:n}):j(e,{subredditId:n}))?x(e):C(e),o=r?I(e,{subredditId:n}):E(e,{subredditId:n}),i=s.reduce((e,t)=>(e[t.id]=Object(a.e)(t),e),{});return o.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),i)})(e,{thingId:n,suggested:r})).filter(e=>!e.selected)},M=(e,t)=>{let{subredditId:n}=t;return E(e,{subredditId:n}).concat(v(e,{subredditId:n}))},F=(e,t)=>{let{subredditId:n}=t;return E(e,{subredditId:n}).filter(c.b).map(e=>({text:e.displayText,type:a.c.CLASSIFICATION}))},G=(e,t)=>{let{subredditId:n}=t;const r=D(e,{subredditId:n}),s=N(e,{itemId:n});return v(e,{subredditId:n}).filter(e=>!!e.id&&!!r[e.id]&&!s[e.id]).map(e=>({tagId:e.id}))}},"./src/reddit/selectors/telemetry.ts":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/core-js/modules/es6.regexp.match.js");var r=n("./node_modules/js-cookie/src/js.cookie.js"),s=n.n(r),o=n("./node_modules/lodash/trimStart.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./node_modules/url/url.js"),l=n.n(u),b=n("./src/config.ts"),p=n("./src/lib/constants/index.ts"),f=n("./src/lib/constants/cookie.ts"),m=n("./src/lib/eventTools/index.ts"),O=n("./src/lib/isAdHocMultireddit/index.ts"),g=n("./src/lib/isFakeSubreddit/index.ts"),j=n("./src/reddit/constants/adEvents.ts"),y=n("./src/reddit/constants/blade.ts"),_=n("./src/reddit/constants/chat.ts"),h=n("./src/reddit/constants/wiki.ts"),E=n("./src/reddit/contexts/PageLayer/index.tsx"),I=n("./src/reddit/helpers/dom/index.ts");const v=()=>!document.getElementById(b.a.adblockId);let S;(S=document.createElement("div")).className="promotedlink",S.style.height=S.style.width="1px",S.style.position="absolute",S.style.left="-1000000px",S.style.display="block",document.body.appendChild(S);const T=()=>v()?!I.h(S):null;var C=n("./src/reddit/helpers/correlationIdTracker.ts"),w=n("./src/reddit/constants/posts.ts"),x=n("./src/reddit/helpers/getCommentsPageSort/index.ts"),D=n("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),P=n("./src/reddit/helpers/getRichTextContent.ts"),A=n("./src/reddit/helpers/isPost.ts"),R=n("./src/reddit/helpers/postCollection.ts"),N=n("./src/reddit/helpers/postEvent.ts"),k=n("./src/reddit/helpers/stewards.ts"),L=n("./src/reddit/models/Media/index.ts"),U=n("./src/reddit/models/Post/index.ts"),M=n("./src/reddit/models/Profile/index.ts"),F=n("./src/reddit/selectors/experiments/chatPost.ts"),G=n("./src/reddit/selectors/listings.ts"),B=n("./src/reddit/selectors/platform.ts"),q=n("./src/reddit/selectors/postCollection.ts"),V=n("./src/reddit/selectors/posts.ts"),H=n("./src/reddit/selectors/profile.ts"),W=n("./src/reddit/selectors/profileComments.ts"),K=n("./src/reddit/models/Multireddit/index.ts"),J=n("./src/reddit/models/User/index.ts"),Y=n("./src/reddit/selectors/multireddit.ts"),z=n("./src/reddit/selectors/structuredStyles.ts"),Q=n("./src/reddit/selectors/subreddit.ts"),X=n("./src/reddit/selectors/subredditChannel.ts"),$=n("./src/reddit/selectors/subredditSettings.ts"),Z=n("./src/reddit/selectors/user.ts"),ee=n("./src/server/helpers/seoMetadata.tsx"),te=n("./src/telemetry/models/Timer.ts");n.d(t,"getPageTypeFromRouteMatch",(function(){return ne})),n.d(t,"getRelativePostOrder",(function(){return oe})),n.d(t,"getAbsoluteOrder",(function(){return ie})),n.d(t,"actionInfo",(function(){return ce})),n.d(t,"chatPostActionInfo",(function(){return ae})),n.d(t,"previousPageActionInfo",(function(){return de})),n.d(t,"app",(function(){return ue})),n.d(t,"getCommentSortType",(function(){return le})),n.d(t,"comment",(function(){return be})),n.d(t,"userSubreddit",(function(){return fe})),n.d(t,"defaults",(function(){return me})),n.d(t,"mediaActionInfo",(function(){return Oe})),n.d(t,"videoCorrelationId",(function(){return ge})),n.d(t,"post",(function(){return _e})),n.d(t,"currentPost",(function(){return he})),n.d(t,"listing",(function(){return Ee})),n.d(t,"profileComments",(function(){return Ie})),n.d(t,"media",(function(){return ve})),n.d(t,"videoPlayerMaxTimeServed",(function(){return Se})),n.d(t,"videoPlayerFirstFrameTimer",(function(){return Te})),n.d(t,"profileById",(function(){return Ce})),n.d(t,"profileByPostOrCommentId",(function(){return we})),n.d(t,"referrer",(function(){return xe})),n.d(t,"screen",(function(){return De})),n.d(t,"session",(function(){return Pe})),n.d(t,"customFeed",(function(){return Ae})),n.d(t,"customFeedByPath",(function(){return Re})),n.d(t,"profile",(function(){return Ne})),n.d(t,"subreddit",(function(){return ke})),n.d(t,"subredditById",(function(){return Le})),n.d(t,"subredditByName",(function(){return Ue})),n.d(t,"subredditByPostOrCommentId",(function(){return Me})),n.d(t,"timer",(function(){return Fe})),n.d(t,"user",(function(){return Ge})),n.d(t,"widget",(function(){return Be})),n.d(t,"request",(function(){return qe})),n.d(t,"requestWithParams",(function(){return Ve})),n.d(t,"adblock",(function(){return He})),n.d(t,"domTimer",(function(){return We})),n.d(t,"oauth",(function(){return Ke})),n.d(t,"numberChannels",(function(){return Je})),n.d(t,"channel",(function(){return Ye})),n.d(t,"SearchDropdownNouns",(function(){return ze})),n.d(t,"StructureType",(function(){return Qe})),n.d(t,"OriginElement",(function(){return Xe})),n.d(t,"search",(function(){return $e})),n.d(t,"discoveryUnit",(function(){return Ze})),n.d(t,"smartSearch",(function(){return et})),n.d(t,"metaSearch",(function(){return tt})),n.d(t,"postFlairClickToSearch",(function(){return nt})),n.d(t,"currentProfileModelSelector",(function(){return rt})),n.d(t,"notification",(function(){return st})),n.d(t,"postEventI13nSelector",(function(){return ot})),n.d(t,"postCollectionI13nByCollectionIdSelector",(function(){return ct})),n.d(t,"postCollectionI13nSelector",(function(){return at})),n.d(t,"modActionSelector",(function(){return dt}));const ne=e=>{switch(e.route&&e.route.meta&&e.route.meta.name){case p.xb.INDEX:return"home";case p.xb.PROFILE_OVERVIEW:return"profile_overview";case p.xb.PROFILE_COMMENTS:return"profile_comments";case p.xb.PROFILE_POSTS:return"profile_posts";case p.xb.PROFILE:case p.xb.PROFILE_BETA_CONFIRMATION:case p.xb.PROFILE_MODERATION:case p.xb.PROFILE_POST_COMMENTS:case p.xb.PROFILE_PRIVACY:case p.xb.PROFILE_SETTINGS:return"profile";case p.xb.PROFILE_PRIVATE:{const{listingType:t}=e.match.params;switch(t){case M.a.Downvoted:return"profile_downvoted";case M.a.Hidden:return"profile_hidden";case M.a.Upvoted:return"profile_upvoted";case M.a.Saved:return"profile_saved"}break}case p.xb.COMMENTS:case p.xb.DUPLICATES:return e.match.params.partialCommentId?"single_comment_thread":"post_detail";case p.xb.LISTING:case p.xb.SUBREDDIT:{const{subredditName:t}=e.match.params;if(!t)return"home";if(Object(g.a)(t)&&Object(O.a)(t))return"custom_feed";switch(t.toLowerCase()){case"popular":return"popular";case"all":return"all";default:return"community"}}case p.xb.SUBREDDIT_SETTINGS:return"subreddit_settings";case p.xb.POST_CREATION:return e.match.queryParams&&e.match.queryParams.source_id?"crosspost_submit":"post_submit";case p.xb.SEARCH_RESULTS:return"search_results";case p.xb.MODERATION_PAGES:{const t=e.match.params.pageName;return"moderation_pages_".concat(t)}case p.xb.MODQUEUE_PAGES:{const t=e.match.params.pageName;return"modqueue"===t?"modqueue_queue":"modqueue_".concat(t)}case p.xb.MULTIREDDIT:return"custom_feed";case p.xb.POST_DRAFT:return"draft_detail";case p.xb.PUBLIC_ACCESS_NETWORK:return"stream_player";case p.xb.EXPLORE:return"explore";case p.xb.MOD_LISTING:return"r_mod";case p.xb.SUBREDDIT_CREATION:return"subreddit_creation";case p.xb.SUBREDDIT_WIKI:return"subreddit_wiki";case p.xb.SETTINGS:{const t=e.match.params.page;return t?"settings_".concat(t):"settings_account"}case p.xb.META_MEMBERSHIP_PAYWALL_PAGE:return"special_membership_paywall";case p.xb.SUBREDDIT_LEADERBOARD:return"leaderboard";case p.xb.TOPIC:return"topic";default:return""}},re=e=>{const t=e.routeMatch;return ne(t)},se=e=>{if(e.isMeta)return"poll";if(!e.media)return"link";if(Object(U.h)(e))return"stream";switch(e.media.type){case"gifvideo":return"gif";case"embed":return"link";default:return e.media.type}},oe=(e,t,n)=>{const r=e.listings.postOrder.ids[n];return r.indexOf(t)>=0?r.indexOf(t):null},ie=(e,t,n)=>{const r=e.listings.postOrder.ids[n];return r.indexOf(t)>=0?r.indexOf(t)+p.gb:null},ce=(e,t)=>Object.assign({pageType:e.platform.currentPage?re(e.platform.currentPage):void 0},t),ae=e=>{const t=Object(B.f)(e),n=!!t&&Object(F.a)(e,{subredditId:t.id});return ce(e,{type:n?"chat_enabled":void 0})},de=(e,t)=>Object.assign({pageType:e.platform.lastPage?re(e.platform.lastPage):void 0},t),ue=()=>({name:b.a.telemetry.appName.redesign}),le=(e,t)=>{if(e.platform.currentPage){const{sortToUse:n}=Object(x.a)(e,t);if(n===p.q.CHAT)return p.u.Chat}return p.u.Comment},be=(e,t)=>{const n=e.comments.models[t];if(n){const{awardCountsById:t}=n,r=t?Object.keys(t).reduce((e,n)=>e+t[n],0):null;return{id:n.id,postId:n.postId,parentId:n.parentId,bodyText:Object(P.a)(n),authorId:n.authorId,numberGildings:r,score:n.score,created:n.created,type:le(e,n.postId)}}return null},pe=e=>{let t=!1;return Object.keys(e).forEach(n=>{e[n]&&(t=!0)}),t},fe=e=>{const t=Object(B.f)(e),n=t&&e.moderatingSubreddits[t.id];let r;if(Object(Z.J)(e)&&t){const n=e.subscriptions.subredditOrder.includes(t.id),s=e.subreddits.about[t.id]&&e.subreddits.about[t.id].userIsSubscriber;r=n||s}else r=null;return{isMod:!!n,modAccess:n?n.access:null,modConfig:n?n.config:null,modFlair:n?n.flair:null,modFull:n?n.all:null,modMail:n?n.mail:null,modNone:n?!pe(n):null,modPost:n?n.posts:null,modWiki:n?n.wiki:null,isSubscriber:r}},me=e=>({actionInfo:ce(e),app:ue(),referrer:xe(e),request:qe(e),session:Pe(e),screen:De(e),user:Ge(e)}),Oe=(e,t)=>{const n=e.posts.video.fullscreen,r=e.platform.currentPage?re(e.platform.currentPage):void 0;return{pageType:n===t?"fullscreen":r}},ge=()=>Object(C.c)(C.a.VideoView),je=new Map,ye=e=>{let{state:t,post:n}=e;const r=Object(G.a)(t);if(!r)return;let s;je.has(r)?s=je.get(r):(je.set(r,new Map),(s=je.get(r)).set("postIdToDistanceFromAdMapping",new Map));const o=s.get("postIdToDistanceFromAdMapping");if(o.has(n.id))return o.get(n.id);const i=t.listings.postOrder.ids[r];if(!i)return;const c=s.get("lastPostIndex");let a=s.get("lastAdIndex"),d=c?c+1:0;for(;d<i.length;d+=1){const e=t.posts.models[i[d]];if(e&&!e.hidden&&!e.isBlank){const t=a?d-a-1:void 0;o.set(e.id,t),e.isSponsored&&(a=d)}}return s.set("lastPostIndex",d),s.set("lastAdIndex",a),o.get(n.id)},_e=(e,t,n)=>{const r=e.posts.models[t]||e.comments.models[t]&&e.posts.models[e.comments.models[t].postId];if(r){const{source:t}=r,s=le(e,r.id),o=r.events.find(e=>e.type===j.a.Impression),i=o&&o.url.match(/\?q=([^&]+)/);return{commentType:s,contentDuration:n||void 0,createdTimestamp:r.created,domain:r.domain,id:r.postId,nsfw:r.isNSFW,score:r.score,spoiler:r.isSpoiler,title:r.title,type:se(r),upvoteRatio:r.upvoteRatio?r.upvoteRatio:void 0,url:t?t.url:void 0,promoted:r.isSponsored,impressionId:i?i[1]:void 0,numberPostsFromAd:ye({state:e,post:r})}}if(Object(A.a)(t)){return{id:t,commentType:le(e,t)}}return null},he=e=>{const t=Object(D.a)(e);return t?_e(e,t.id):null},Ee=(e,t,n)=>{const r=t&&e.listings.postOrder.ids[t];return{depth:n&&n.depth,length:r?r.length:void 0,links:r?r.map(t=>e.posts.models[t].id):void 0,oldSort:n&&n.oldSort,sort:n&&n.sort,sortTime:n&&n.sortTime||void 0,source:n&&n.source}},Ie=(e,t)=>{const n=Object(W.f)(e,{listingKey:t});return n?{length:n.length,links:n.map(t=>e.comments.models[t].id)}:null},ve=(e,t,n,r)=>{const s=e.posts.models[t];if(void 0===s)return null;const o={};if(o.id=s.postId,s.media&&"v.redd.it"===s.domain){const e=Object(L.z)(s.media);e&&(o.id=e)}if(n)o.loadTime=n;else{const n=e.posts.video.loadTimes[t];n&&n.start&&n.playable&&(o.loadTime=Math.round(n.playable-n.start))}const i=e.posts.video.metadata[t];i&&i.id===t&&(o.height=i.originalHeight,o.width=i.originalWidth,o.orientation=o.height>o.width?"portrait":"landscape",o.duration=i.length);const c=e.posts.video.time[t];return c&&(o.time=Math.round(c.currentTime)),o.streamPublicId=r&&r.stream.stream_id,o},Se=(e,t)=>{if(void 0===e.posts.models[t])return null;const n={},r=e.posts.video.time[t];return r&&(n.maxTimeServed=Math.round(r.maxTimeServed)),n},Te=(e,t)=>{if(void 0===e.posts.models[t])return;const n={type:te.TimerType.VideoFirstFrame},r=e.posts.video.loadTimes[t];return r&&r.start&&(r.playable?n.millis=Math.round(r.playable-r.start):n.millis=Math.round(performance.now()-r.start)),n},Ce=(e,t)=>{const n=e.profiles.models[t];return n&&{id:n.id,name:n.name}},we=(e,t)=>{const n=e.posts.models[t],r=e.comments.models[t];return n?Ce(e,n.belongsTo.id):r?Ce(e,r.subredditId):null},xe=e=>{let t=e.platform.currentPage?e.platform.referrers[e.platform.currentPage.key]:null;if(t){let{hostname:n}=l.a.parse(t);if(!n||t.startsWith("/")){let r=e.meta.protocol;n=e.meta.domain,r&&n||(r=window.location.protocol,n=window.location.hostname),r=r.endsWith(":")?r:"".concat(r,":"),t="".concat(r,"//").concat(n).concat(t)}return{domain:n,url:t}}return null},De=(e,t)=>{const n=Object(E.M)(e,{});let r;Object(B.g)(e)&&(r=Object(B.i)(e)?"lightbox":"post_detail");let s="default";return e.user&&e.user.prefs&&e.user.prefs.nightmode&&(s="nightmode"),{layout:n,viewType:r,scrollPosition:t,theme:s}},Pe=e=>{const t=s.a.get(f.f),n=e.user.sessionTracker,r=(t||n).split("."),o=r[0],i=parseInt(r[2],10);let c={};const{sessionReferrer:a}=e.platform;if(a){const{hostname:e}=l.a.parse(a);c={referrerDomain:e,referrerUrl:a}}return Object.assign({id:o,createdTimestamp:i},c)},Ae=e=>{const{pageType:t}=ce(e);if(!e.platform.currentPage)return null;if("custom_feed"===t){const{multiredditName:t,username:n}=e.platform.currentPage.urlParams;return Re(e,Object(K.h)(n,t))}return null},Re=(e,t)=>{const n=Object(Y.e)(e,t);return n?{id:"/user/".concat(n.ownerId,"/m/").concat(n.name,"/"),isNsfw:n.isNSFW,numberFollowers:n.followerCount,numberSubreddits:n.subredditCount,ownerId:n.ownerId,visibility:n.visibility}:null},Ne=e=>{const{pageType:t}=ce(e);if(!e.platform.currentPage)return null;if(t&&t.includes("profile")){const{profileName:t}=e.platform.currentPage.urlParams;if(t){const n=t.toLowerCase(),r=Object(H.m)(e,n);return r?{id:r,name:n,type:"default"}:null}}else if("post_detail"===t){const{subredditName:t}=e.platform.currentPage.urlParams;if(t){const n=t.toLowerCase(),r=Object(H.m)(e,n),s=Ce(e,r);return s&&s.name&&s.name.toLowerCase()===n?{id:r,name:n,type:"default"}:null}}return null},ke=e=>{const{pageType:t}=ce(e);if(!e.platform.currentPage)return null;if("post_submit"===t){const t=e.platform.currentPage.urlParams.subredditName;if(t){const n=t.toLowerCase(),r=Object(Q.G)(e,n),s=Object(Q.S)(e,{subredditId:r}),o=e.subreddits.about[r];return r&&s?{id:r,name:n,numberCoins:o?o.coins:0}:null}return null}if("community"===t||"subreddit_settings"===t||"subreddit_wiki"===t||"special_membership_paywall"===t||t&&t.includes("moderation_pages")){let n=e.platform.currentPage.urlParams.subredditName;n||"subreddit_wiki"!==t||(n=h.e),n=n.toLowerCase();const r=Object(Q.G)(e,n),s=Object(Q.S)(e,{subredditId:r}),o=e.subreddits.about[r];return r&&s?{id:r,name:n,numberCoins:o?o.coins:0}:null}if("post_detail"===t||"single_comment_thread"===t){if(e.platform.currentPage.urlParams.subredditName){const t=e.platform.currentPage.urlParams.subredditName.toLowerCase(),n=Object(Q.G)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[n];return n&&r?{id:n,name:t,numberCoins:s?s.coins:0}:null}{const{partialPostId:t}=e.platform.currentPage.urlParams,n=Object(U.l)(t),r=e.posts.models[n];if(!r)return null;const s=((e,t)=>{const{type:n,id:r}=t;return n===w.a.PROFILE?e.profiles.models[r]:e.subreddits.models[r]})(e,r.belongsTo);if(!s)return null;const o=e.subreddits.about[s.id];return{id:s.id,name:s.name.toLowerCase(),numberCoins:o?o.coins:0}}}if("search_results"===t){if("string"!=typeof e.platform.currentPage.urlParams.subredditName)return null;const t=e.platform.currentPage.urlParams.subredditName.toLowerCase(),n=Object(Q.G)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[n];return n&&r?{id:n,name:t,numberCoins:s?s.coins:0}:null}return null},Le=(e,t)=>{const n=e.subreddits.models[t],r=e.subreddits.about[t];return n&&{id:n.id,name:n.name.toLowerCase(),numberCoins:r?r.coins:0}},Ue=(e,t)=>{const n=Object(Q.G)(e,t),r=Object(Q.S)(e,{subredditId:n}),s=e.subreddits.about[r.id];return r&&{id:r.id,name:r.name.toLowerCase(),numberCoins:s?s.coins:0}},Me=(e,t)=>{const n=e.posts.models[t],r=e.comments.models[t];return n?Le(e,n.belongsTo.id):r?Le(e,r.subredditId):null},Fe=(e,t)=>e&&t?{type:e,millis:t}:null,Ge=Object(d.a)(Z.i,e=>e.user.loid,Z.r,(e,t,n)=>Object.assign({id:e?e.id:t.loid?"".concat(p.vb.Account,"_").concat(i()(t.loid,"0")):null,isAdmin:!!e&&e.isEmployee,isLoggedIn:!!e,cookieCreatedTimestamp:parseInt(t.loidCreated)||null,createdTimestamp:e?1e3*e.created:null},e?{hasPremium:e.isGold,isPremiumSubscriber:n,numberCoins:e.coins||0,numberPremiumDaysRemaining:e.goldExpiration?Math.max(Math.ceil((1e3*e.goldExpiration-Date.now())/p.w),0):0}:null)),Be=(e,t)=>{let{subredditId:n,widgetKind:r}=t;const s={targetSubredditId:n},o=e.subreddits.models[n];o&&o.name&&(s.targetSubredditName=o.name);const i=r&&y.i[r];return i&&(s.type=i),s},qe=e=>{const t=e.meta.domain;return{base_url:e.platform.currentPage?"".concat(e.meta.protocol,"://").concat(t).concat(e.platform.currentPage.url):void 0,canonical_url:Object(ee.a)(e)||void 0,domain:t,reddaid:e.user.reddaid,user_agent:e.meta.userAgent}},Ve=e=>{const t=e.platform.currentPage?e.platform.currentPage.url.split("?"):[],[n,r]=t,{domain:s,protocol:o}=e.meta;return{base_url:o&&s&&n?"".concat(o,"://").concat(s).concat(n):void 0,canonical_url:Object(ee.a)(e)||void 0,domain:s,reddaid:e.user.reddaid,user_agent:e.meta.userAgent,parameters:r}},He=e=>({enabled:v(),acceptableAds:T()}),We=e=>({}),Ke=e=>({}),Je=e=>{const t=a()(e.subredditChannels.models);return{number_channels:t&&t.length}},Ye=(e,t)=>{const n=Object(X.c)(e,t);if(!n)return null;const{type:r,membersCount:s,channelSendbirdUrl:o}=n;return{id:o,type:_.f[r],number_members:s}};var ze,Qe,Xe;!function(e){e.Recent="recent_search",e.Trending="trending_search",e.TypeaheadSubreddit="search_results_subreddit",e.TypeaheadProfile="search_results_profile"}(ze||(ze={})),function(e){e.Recent="history",e.Search="search",e.Trending="trending",e.PromotedTrend="promoted_trend"}(Qe||(Qe={})),function(e){e.SearchBar="search_bar"}(Xe||(Xe={}));const $e=(e,t)=>{let n,r;if(t.eventType&&t.id){let s;switch(t.eventType){case"subreddit":s=Le(e,t.id);break;case"post":s=Me(e,t.id);break;case"profile":s=Ce(e,t.id)}s&&(n=s.name,r=s.id)}return{originPageType:e.platform.currentPage?re(e.platform.currentPage):void 0,query:t.q?decodeURIComponent(t.q):t.q,range:t.t,sort:t.sort,structureType:t.structureType,subredditId:r,subredditName:n}},Ze=e=>({id:e.name,name:e.name,type:e.type}),et=(e,t)=>{const n=e.platform.currentPage?re(e.platform.currentPage):void 0;return{originElement:Xe.SearchBar,originPageType:n,query:t.searchQuery,typeaheadActive:!0}},tt=e=>({displayQuery:e.displayQuery,rawQuery:e.rawQuery,structureType:e.structureType,sort:e.sort,range:e.t,subredditId:e.subredditId,subredditName:e.subredditName,postFlairName:e.postFlairName,metaFlairId:e.metaFlairId,metaFlairName:e.metaFlairName}),nt=(e,t)=>{let n,r;if(t.eventType&&t.id){let s;switch(t.eventType){case"subreddit":s=Le(e,t.id);break;case"post":s=Me(e,t.id);break;case"profile":s=Ce(e,t.id)}s&&(n=s.name,r=s.id)}const s=e.platform.currentPage?re(e.platform.currentPage):void 0,o={originElement:t.originElement,originPageType:s,subredditName:n,subredditId:r};return t.postFlairName?o.postFlairName=t.postFlairName:t.metaFlairName&&(o.metaFlairName=t.metaFlairName),o},rt=Object(d.a)(Z.i,e=>e,(e,t)=>{if(!e||!e.profileId)return;const n=Object(H.i)(t,e.profileId),r=Object(H.g)(t,e.profileId),s=Object(z.n)(t,e.profileId),o=Object($.a)(t),i=Object(Z.lb)(t),c=s&&s.bannerBackgroundImage;return{id:e.id,name:Object(J.f)(e),type:"default",display_name:n?n.title:void 0,about:r?r.publicDescription:void 0,avatar_url:e.accountIcon,cover_url:"string"==typeof c?c:void 0,nsfw:n?n.isNSFW:void 0,content_visible:o?o.contentVisible:void 0,communities_visible:i?i.showActiveCommunities:void 0}}),st=(e,t,n)=>{const r={};return r.id=t,r.type=n?n.toLowerCase():void 0,r},ot=(e,t)=>{let n,{postId:r}=t;const s=Object(V.J)(e,{postId:r});if(s&&Object(N.a)(s)&&s.eventInfo){const{eventStart:e,eventEnd:t}=s.eventInfo;n={eventState:Object(m.e)(e,t),eventStartTimestamp:e,eventEndTimestamp:t}}else n=void 0;return n},it=e=>{if(!e)return;const{id:t,title:n,author:r,postIds:s}=e;return{id:t,title:n,authorId:r||"",postIds:s,displayLayout:Object(q.f)(e).toLowerCase()}},ct=(e,t)=>{let{collectionId:n}=t;return it(Object(q.q)(e,{collectionId:n}))},at=(e,t)=>{let{postId:n}=t;const r=Object(V.J)(e,{postId:n});if(r&&Object(R.a)(r)){const t=Object(q.n)(e,{postId:n});return t?it(t):void 0}},dt=(e,t)=>{const n=Object(A.a)(t)?e.posts.models[t]:e.comments.models[t],r=Object(B.f)(e),s=r&&e.moderatingSubreddits[r.id];if(n&&s)return{isTargetRemovedBySteward:Object(k.a)(n)||!!n.wasPreviouslyRemovedBySteward}}},"./src/reddit/selectors/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));const r=e=>e.tooltipId,s=e=>t=>t.tooltipId===e},"./src/reddit/selectors/user.ts":function(e,t,n){"use strict";n.d(t,"o",(function(){return y})),n.d(t,"q",(function(){return _})),n.d(t,"p",(function(){return h})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"w",(function(){return v})),n.d(t,"u",(function(){return S})),n.d(t,"S",(function(){return T})),n.d(t,"J",(function(){return C})),n.d(t,"Q",(function(){return w})),n.d(t,"x",(function(){return x})),n.d(t,"l",(function(){return D})),n.d(t,"i",(function(){return P})),n.d(t,"d",(function(){return A})),n.d(t,"v",(function(){return N})),n.d(t,"lb",(function(){return k})),n.d(t,"a",(function(){return L})),n.d(t,"U",(function(){return U})),n.d(t,"V",(function(){return M})),n.d(t,"m",(function(){return F})),n.d(t,"b",(function(){return G})),n.d(t,"z",(function(){return B})),n.d(t,"A",(function(){return q})),n.d(t,"X",(function(){return V})),n.d(t,"W",(function(){return H})),n.d(t,"k",(function(){return W})),n.d(t,"R",(function(){return K})),n.d(t,"e",(function(){return J})),n.d(t,"N",(function(){return Y})),n.d(t,"P",(function(){return z})),n.d(t,"ab",(function(){return Q})),n.d(t,"fb",(function(){return X})),n.d(t,"eb",(function(){return $})),n.d(t,"G",(function(){return Z})),n.d(t,"I",(function(){return ee})),n.d(t,"K",(function(){return te})),n.d(t,"y",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"B",(function(){return se})),n.d(t,"n",(function(){return oe})),n.d(t,"E",(function(){return ie})),n.d(t,"C",(function(){return ce})),n.d(t,"cb",(function(){return ae})),n.d(t,"bb",(function(){return de})),n.d(t,"hb",(function(){return ue})),n.d(t,"Y",(function(){return le})),n.d(t,"Z",(function(){return be})),n.d(t,"f",(function(){return pe})),n.d(t,"jb",(function(){return fe})),n.d(t,"db",(function(){return me})),n.d(t,"t",(function(){return Oe})),n.d(t,"gb",(function(){return ge})),n.d(t,"M",(function(){return je})),n.d(t,"j",(function(){return ye})),n.d(t,"T",(function(){return _e})),n.d(t,"ib",(function(){return he})),n.d(t,"g",(function(){return Ee})),n.d(t,"kb",(function(){return Ie})),n.d(t,"L",(function(){return ve})),n.d(t,"h",(function(){return Se})),n.d(t,"O",(function(){return Te})),n.d(t,"H",(function(){return Ce})),n.d(t,"F",(function(){return we})),n.d(t,"c",(function(){return xe}));var r=n("./node_modules/lodash/find.js"),s=n.n(r),o=n("./node_modules/lodash/pick.js"),i=n.n(o),c=n("./node_modules/lodash/values.js"),a=n.n(c),d=n("./node_modules/reselect/es/index.js"),u=n("./src/lib/constants/index.ts"),l=n("./src/lib/objectSelector/index.ts"),b=n("./src/reddit/constants/chat.ts"),p=n("./src/reddit/models/User/index.ts"),f=n("./src/reddit/selectors/chat.ts"),m=n("./src/reddit/selectors/platform.ts"),O=n("./src/reddit/selectors/profile.ts"),g=n("./src/reddit/selectors/runTimeEnvVars.ts");const j=[],y=e=>e.user.account?e.user.account.goldExpiration:null,_=e=>!!e.user.account&&e.user.account.isGold,h=e=>!!e.user.account&&e.user.account.hasAndroidSubscription,E=e=>!!e.user.account&&e.user.account.hasGoldSubscription,I=e=>!!e.user.account&&e.user.account.hasIOSSubscription,v=e=>!!e.user.account&&e.user.account.hasStripeSubscription,S=e=>!!e.user.account&&e.user.account.hasPaypalSubscription,T=e=>e.user.language,C=e=>!!e.user.account,w=e=>!!e.user.session&&!e.user.session.unsafeLoggedOut,x=e=>!!e.user.account&&e.user.account.hasVerifiedEmail,D=e=>e.user.account?e.user.account.email:null,P=e=>e.user.account,A=e=>{const t=P(e);return t&&t.coins||0},R=e=>e.user.features,N=e=>{const t=P(e);return!!t&&t.seenRedesignModal},k=e=>e.user.prefs,L=e=>e.user.prefs.allowClickTracking||!C(e),U=e=>e.user.prefs.nightmode,M=e=>!!e.user.prefs.nightmodeTempUpdated,F=e=>e.user.prefs.geopopular,G=e=>e.user.prefs&&e.user.prefs.autoplayVideo,B=e=>e.user.prefs.hideNSFW,q=e=>k(e).ignoreSuggestedSort,V=e=>k(e).over18,H=e=>k(e).openPostInNewTab,W=e=>k(e).emailDigests,K=e=>e.user.prefs.labelNSFW,J=e=>e.user.prefs.featuresViewedHistory.commentForm.markdownModeNotification,Y=e=>{if(e.user.prefs&&e.user.prefs.rpanDuDismissalTime){const t=Date.now()-u.w;return e.user.prefs.rpanDuDismissalTime>t}return!1},z=e=>{const t=e.user.prefs?e.user.prefs.topContentTimesDismissed:0;if(t<1)return!1;if(t<2){const t=Date.now()-u.Vb;if((e.user.prefs?e.user.prefs.topContentDismissalTime:0)<t)return!1}else if(t<3){const t=Date.now()-2*u.Vb;if((e.user.prefs?e.user.prefs.topContentDismissalTime:0)<t)return!1}return!0},Q=e=>e.user.prefs.rememberCommunityLayout,X=e=>!k(e).stylesEnabled,$=(e,t)=>{let{subredditId:n}=t;const r=k(e).subreddit[n];return!!r&&!r.stylesEnabled},Z=e=>!!e.user.temporaryGQL.isEmployee,ee=e=>!!e.user.temporaryGQL.isLoggedIn,te=e=>{const t=P(e);return!!t&&t.isMod},ne=e=>{const t=P(e);return!!t&&!t.isEmployee&&t.isGold},re=e=>{const t=P(e);return!!t&&t.inRedesignBeta},se=e=>{const t=P(e);return!!t&&t.inChat},oe=e=>{const t=R(e);return!(!t||!t[b.a.SubredditChatNotifcationFtux])},ie=e=>{const t=R(e);return!!(t&&t.chat_subreddit||Object(f.f)(e))},ce=e=>{const t=R(e);return!(!t||!t.chat_user_settings)},ae=e=>{const t=P(e);return!!t&&t.seenSubredditChatFtux},de=e=>{const t=P(e);return!!t&&t.seenGiveAwardTooltip},ue=(e,t)=>{let{userName:n}=t;return e.users.models[n.toLowerCase()]},le=(e,t)=>{let{userId:n}=t;const r=((e,t)=>{let{userId:n}=t;return s()(a()(e.users.models),e=>e.id===n)})(e,{userId:n});return r?r.profileId:void 0},be=(e,t)=>{let{userName:n}=t;const r=ue(e,{userName:n});return r?r.profileId:void 0},pe=(e,t)=>{const n=t?t.toLowerCase():"";return t&&e.contentGate[n]?e.contentGate[n]:null},fe=(e,t)=>{const n=P(e),r=t.post||t.postId&&e.posts.models[t.postId];return!(!n||!r)&&Object(p.f)(n)===r.author},me=e=>{const t=P(e);if(t){return(Object(p.e)(t)||(new Date).getTime())<(new Date).getTime()-u.db&&(t.postKarma>=5||t.commentKarma>=10)}return!1},Oe=e=>e.user.sessionRefreshFailed,ge=Object(l.a)(e=>{if(!e.user||!e.user.account)return;const t=i()(e.user.account,["hasUnreadOldModmail","hasUnreadMail","hasUnreadModmail","hasUnreadMessages","hasUnreadNotifs","inboxCount"]);return e.platform.currentPage&&e.platform.currentPage.routeMatch&&Object(m.r)(e)===u.xb.INBOX_PAGES&&e.user.prefs.markMessagesRead&&(t.inboxCount=0),t}),je=(e,t)=>{const n=P(e);if(n){return Object(p.f)(n).toLowerCase()===t.toLowerCase()}return!1},ye=e=>e.user.drafts&&e.user.drafts.count||0,_e=e=>e.user.drafts&&e.user.drafts.limit||20,he=(e,t)=>{let{userName:n}=t;const r=ue(e,{userName:n});return!!r&&!!r.hasUserProfile},Ee=e=>{const t=P(e);return!!t&&t.hasUserProfile},Ie=Object(d.a)(e=>e.user.account,e=>e.users.models,(e,t)=>t,(e,t,n)=>{const r=n.toLowerCase();return e&&Object(p.f)(e)===r?e:t[r]}),ve=e=>{return Object(g.a)(e)-parseInt(e.user.loid.loidCreated)<u.w},Se=e=>{const t=P(e);if(!t)return j;const n=Object(p.f)(t);return Object(O.n)(e,{profileName:n})},Te=e=>{const t=P(e);return!!t&&(t.isSuspended&&!t.isFPR)},Ce=e=>{const t=P(e);return!!t&&t.isFPR},we=(e,t)=>e.user.accountSettings["".concat(t)].api.pending,xe=e=>e.user.accountSettings.changeEmail.api.error},"./src/reddit/selectors/userFlair.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/models/Flair/index.ts"),o=n("./src/reddit/selectors/moderatorPermissions.ts");const i=(e,t)=>{let{subredditId:n}=t;return e.userFlair[n]},c=(e,t)=>{let{subredditId:n}=t;return!e.userFlair[n]||e.userFlair[n].displaySettings.isEnabled},a=(e,t)=>{let{subredditId:n}=t;return e.userFlair[n]?e.userFlair[n].displaySettings.position:s.b.Right},d=Object(r.a)((e,t)=>{let{subredditId:n}=t;const r=i(e,{subredditId:n});if(r)return{type:s.d.UserFlair,displaySettings:r.displaySettings,permissions:r.permissions}}),u=(e,t)=>{let{subredditId:n}=t;const r=c(e,{subredditId:n}),s=d(e,{subredditId:n}),a=i(e,{subredditId:n});if(!r||!s||!a)return!1;if(a.applied)return!0;const u=Object(o.d)(e,{subredditId:n}),{canUserChange:l}=s.permissions;return!!a.templateIds.find(e=>{return!a.templates[e].modOnly||u})&&l}},"./src/reddit/selectors/video.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));const r=(e,t)=>{let{postId:n}=t;return!!e.posts.video.buffering[n]},s=(e,t)=>{let{postId:n}=t;return!!e.posts.video.consumed[n]},o=(e,t)=>{let{postId:n}=t;return!!e.posts.video.playing[n]},i=(e,t)=>{let{postId:n}=t;return e.posts.video.loadTimes[n]},c=(e,t)=>{let{postId:n}=t;return e.posts.video.metadata[n]},a=(e,t)=>{let{postId:n}=t;return!!e.posts.video.loadable[n]},d=(e,t)=>{let{postId:n}=t;return!!e.posts.video.started[n]},u=(e,t)=>{let{postId:n}=t;if(!n)return null;const r=e.posts.video.time[n];return r?r.currentTime/1e3:null},l=(e,t)=>{let{postId:n}=t;return e.posts.video.continuousViewStartedAt[n]||0}},"./src/reddit/selectors/widgets.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return y}));var r=n("./src/lib/objectSelector/index.ts"),s=n("./src/reddit/constants/posts.ts"),o=n("./src/reddit/helpers/name/index.ts"),i=n("./src/reddit/models/Widgets/index.ts"),c=n("./src/reddit/selectors/profile.ts"),a=n("./src/reddit/selectors/subreddit.ts");const d=e=>e.widgets.models,u=Object(r.a)((e,t)=>Object(i.t)(t)?e.widgets.models[t.widgetId]:Object(i.n)(t.widgetKind)),l=(e,t)=>e.widgets.idCardIds[t.subredditId],b=(e,t)=>{let n=t.subredditId;if(!n&&t.subredditName&&(n=Object(a.G)(e,t.subredditName)),n){const t=l(e,{subredditId:n});if(t)return e.widgets.models[t]}return null},p=(e,t)=>e.widgets.sidebar[t.subredditId]||[],f=(e,t)=>e.widgets.menuIds[t.subredditId],m=(e,t)=>{const n=f(e,t);return n?e.widgets.models[n]:null},O=(e,t)=>{return e.widgets.sidebar[t.subredditId].reduce((t,n)=>{const r=e.widgets.models[n];return r&&t.push(r.kind),t},[])},g=(e,t)=>{const n=p(e,t);for(const r of n){const t=e.widgets.models[r];if("subreddit-rules"===t.kind)return t}return null},j=(e,t)=>{const n=p(e,t).map(t=>e.widgets.models[t]).filter(e=>"post-flair"===e.kind);return n.length?n:null},y=Object(r.a)((e,t)=>{if(t.type===s.a.PROFILE){const n=Object(c.j)(e,{profileName:t.name});return n?{profile:{id:n.id,name:Object(o.f)(n.name)}}:{}}const n=Object(a.B)(e,{subredditName:t.name}),r=Object(a.y)(e,{subredditName:t.name});return{subreddit:{categoryName:r?r.contentCategory:null,id:n.id,name:Object(o.f)(n.name)}}})},"./src/server/helpers/seoMetadata.tsx":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/react/index.js");var r=n("./node_modules/url/url.js"),s=n.n(r),o=n("./src/config.ts"),i=n("./src/lib/constants/index.ts"),c=(n("./src/lib/addQueryParams/index.ts"),n("./src/lib/isAdHocMultireddit/index.ts")),a=n("./src/lib/isFakeSubreddit/index.ts");n("./src/lib/makeCommentsPageKey/index.ts"),n("./src/lib/truncateText/index.ts"),n("./src/reddit/constants/experiments.ts"),n("./src/reddit/constants/page.ts");var d=n("./src/reddit/contexts/PageLayer/index.tsx"),u=n("./src/reddit/helpers/canonicalUrls.ts"),l=(n("./src/reddit/helpers/getRichTextContent.ts"),n("./src/reddit/helpers/getSubredditErrorProps/index.ts")),b=(n("./src/reddit/helpers/trackers/experiments.ts"),n("./src/reddit/i18n/utils.ts"),n("./src/reddit/models/Comment/index.ts"),n("./src/reddit/models/Post/index.ts")),p=(n("./src/reddit/selectors/comments.ts"),n("./src/reddit/selectors/experiments/postSeo.ts"),n("./src/reddit/selectors/multireddit.ts"),n("./src/reddit/selectors/platform.ts")),f=n("./src/reddit/selectors/postCollection.ts"),m=n("./src/reddit/selectors/posts.ts"),O=n("./src/reddit/selectors/profile.ts"),g=(n("./src/reddit/selectors/structuredStyles.ts"),n("./src/reddit/selectors/subreddit.ts")),j=n("./src/reddit/selectors/user.ts");n("./src/reddit/models/Media/index.ts"),n("./src/app/strings/index.ts");n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return E}));const y=new Set([302,400,401,403,404,421,429,500,502,503,504,0,void 0,null]),_=e=>e.endsWith("/")?e:"".concat(e,"/"),h=e=>{const t=Object(p.b)(e);if(!t)return null;const n=Object(p.r)(e);switch(n){case i.xb.INDEX:case i.xb.LISTING:return t.routeMatch&&t.routeMatch.route.chunk===i.o.FRONTPAGE?_(o.a.redditUrl):null;case i.xb.SUBREDDIT:const{subredditName:r}=t.urlParams,d=r&&Object(g.d)(e,{subredditName:r});if(Object(a.a)(r)&&Object(c.a)(r)){const t=Object(u.a)(e,r);return t?o.a.redditUrl+t:null}return d?"".concat(o.a.redditUrl).concat(d):null;case i.xb.COMMENTS:case i.xb.DUPLICATES:const{partialPostId:l}=t.urlParams,p=l&&Object(b.l)(l),j=p&&Object(m.I)(e,{postId:p});return j?"".concat(o.a.redditUrl).concat(s.a.parse(j).path):null;case i.xb.PROFILE_OVERVIEW:case i.xb.PROFILE_POSTS:case i.xb.PROFILE_COMMENTS:const{profileName:y}=t.urlParams,h=Object(O.j)(e,{profileName:y});let E="";return n===i.xb.PROFILE_POSTS?E="posts/":n===i.xb.PROFILE_COMMENTS&&(E="comments/"),h&&h.url?"".concat(o.a.redditUrl).concat(s.a.parse(h.url).path).concat(E):null;case i.xb.COLLECTION_COMMENTS:const{collectionId:I}=t.urlParams,v=I&&Object(f.q)(e,{collectionId:I}),S=v&&v.permalink;return S?"".concat(o.a.redditUrl).concat(s.a.parse(_(S)).path):null;case i.xb.SUBREDDIT_LEADERBOARD:return t.routeMatch&&t.routeMatch.route.chunk===i.o.SUBREDDIT_LEADERBOARD?"".concat(o.a.redditUrl,"/subreddits/leaderboard/"):null;default:return null}},E=(e,t)=>{if(t.head){let n=t.querySelector("meta[name='robots']");const r=I(e),{head:s}=t;r?(n||((n=t.createElement("meta")).name="robots",s.appendChild(n)),n.content=r):n&&(n.remove?n.remove():n.parentNode?n.parentNode.removeChild(n):s.removeChild&&s.removeChild(n))}},I=e=>{const{currentPage:t}=e.platform,n=Object(p.r)(e),r=Object(p.c)(e),s=y.has(r),o=Object(d.k)(e,{pageLayer:t}),c=!(!o||!o.hideFromRobots),a=v(e),u=t&&t.isRobotIndexable,l=n===i.xb.COMMENTS||n===i.xb.COLLECTION_COMMENTS,b=!(!t||!t.urlParams.partialCommentId),f=n===i.xb.SEARCH_RESULTS||n===i.xb.SUBREDDIT_LEADERBOARD||n===i.xb.TOPIC||l&&b;return c||s||a||(!1===u||f)?f?"noindex":"noindex,nofollow":null},v=e=>{let t=!1;const n=Object(p.e)(e);if(n){const r=Object(j.f)(e,n);t=!!Object(l.a)(r,!1,n)}return t}}}]);
//# sourceMappingURL=Governance~Reddit.a488f68997869a89f376.js.map

}
/*
     FILE ARCHIVED ON 00:07:22 Dec 04, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:48:08 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.067
  exclusion.robots.policy: 0.056
  cdx.remote: 0.096
  esindex: 0.012
  LoadShardBlock: 283.709 (6)
  PetaboxLoader3.datanode: 1402.457 (8)
  load_resource: 1472.645 (2)
  PetaboxLoader3.resolve: 188.806 (2)
*/