var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListing~ModQueu~c06ba326"],{"./src/lib/intersectionObserver/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return r}));s("./node_modules/core-js/modules/web.dom.iterable.js");let i;const o=new Map,n=new Map;"undefined"!=typeof window&&(s("./node_modules/intersection-observer/intersection-observer.js"),i=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target,s=e.intersectionRatio>0;if(s!==!!n.get(t)){n.set(t,s);const i=o.get(t);if(i){i(e,s&&!!n.get(t))}}})},{threshold:[.001]}));const a=(e,t)=>{try{o.set(e,t),i&&i.observe(e)}catch(s){0}},r=e=>{try{o.delete(e),i&&i.unobserve(e)}catch(t){0}}},"./src/reddit/components/Media/RichTextContainer/index.m.less":function(e,t,s){e.exports={richTextContainer:"Chtkt3BCZQruf0LtmFg2c",richTextContainerTitleOnly:"_2XNPI46MXRfDdsSoDqaksI",richTextContainerFull:"_3xX726aBn29LDbsDtzr_6E",placeholder:"_1aLU7RPNLdvfcbaNdcN11x",placeholderParagraph:"Owi9iYzjyVpDq_0YbCdJY"}},"./src/reddit/components/Media/TwitterEmbed/index.m.less":function(e,t,s){e.exports={tweetPlaceholder:"q0jsD_ZcQRuuUQzXawr8J",tweetEmbedBox:"_3pYTJO5FjsoQWRUsIFQASN",isInvisible:"_3xICr9rbunMOudN40P1GgI",tweetDeleted:"sIgL7k1Lz6YLL146KNk8k",seeMore:"_2f5uYHvlfzs2DngQsiCdvB"}},"./src/reddit/components/Media/index.m.less":function(e,t,s){e.exports={hiddenLink:"_3dhFVFchWAAFXfLFTa94n9",displayNone:"_1Q2mF3u7v9hBVu_4bkC7R4"}},"./src/reddit/components/Media/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/web.dom.iterable.js");var i,o=s("./node_modules/lodash/debounce.js"),n=s.n(o),a=s("./node_modules/react/index.js"),r=s.n(a),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/lib/env/index.ts"),c=s("./src/lib/isUrl/index.ts"),h=s("./src/lib/objectSelector/index.ts"),p=s("./node_modules/brcast/dist/brcast.es.js"),m=s("./node_modules/lodash/findKey.js"),u=s.n(m);!function(e){e.Hidden="hidden",e.Visible="visible"}(i||(i={}));const g={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};let b=!1;const f=Object(p.a)({documentInFocus:!0});!function(){if(!b){const e=u()(g,(e,t)=>void 0!==document[t]);e&&document.addEventListener(g[e],()=>{f.setState({documentInFocus:document.visibilityState!==i.Hidden})}),b=!0}}();var x={subscribe:e=>{return f.subscribe(e)},unsubscribe:e=>{f.unsubscribe(e)}},w=s("./src/lib/permalinkToOverlayLocation/index.ts"),v=s("./src/lib/sentry/index.ts"),E=s("./src/reddit/components/HTML5StreamPlayer/index.tsx");const C="https://web.archive.org/web/20191204000723/https://www.redditmedia.com";var y=s("./src/reddit/components/Media/EmbedBox/index.tsx"),O=s("./src/reddit/components/Media/ImageBox/index.tsx"),S=s("./src/reddit/components/Media/MediaContainer/index.tsx"),M=(s("./node_modules/core-js/modules/es6.symbol.js"),s("./src/lib/classNames/index.ts")),I=s("./src/reddit/constants/componentSizes.ts"),L=s("./src/reddit/models/Media/index.ts"),N=s("./node_modules/react-redux/es/index.js"),j=s("./src/reddit/actions/post.ts"),T=s("./src/reddit/helpers/styles/mixins/loading.ts"),P=s("./src/reddit/components/Media/RichTextContainer/index.m.less"),W=s.n(P);class F extends r.a.Component{componentDidMount(){this.loadRichTextContentIfNeeded()}loadRichTextContentIfNeeded(){this.props.canLoadContent&&this.props.isExpando&&this.props.onLoadRichTextContentIfNeeded(this.props.postId)}render(){const e=Object(T.a)({isLoading:!0});return r.a.createElement("div",{className:W.a.placeholder},[1,2,3].map(t=>r.a.createElement("div",{key:t,className:W.a.placeholderParagraph},r.a.createElement("div",{className:e}),r.a.createElement("div",{className:e}),r.a.createElement("div",{className:e}))))}}var B=Object(N.b)(null,e=>({onLoadRichTextContentIfNeeded:t=>e(Object(j.r)(t))}))(F);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}var D=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]])}return s};var V=e=>{var{canLoadContent:t,children:s,className:i,isCommentsPage:o,isMediumHeight:n,isRichTextTruncated:a,isExpando:d,isTitleOnly:l,postId:c,showFull:h}=e,p=D(e,["canLoadContent","children","className","isCommentsPage","isMediumHeight","isRichTextTruncated","isExpando","isTitleOnly","postId","showFull"]);const m={[W.a.richTextContainerFull]:h,[W.a.richTextContainerTitleOnly]:l&&!h,[W.a.richTextContainer]:!h&&!l},u={};h||(u.maxHeight="".concat(l?L.l:n?L.k:L.j,"px")),o&&(u.maxWidth="".concat(I.e,"px"));const g=a&&h;return r.a.createElement("div",R({className:Object(M.a)(m,i),style:u},p),s,g&&r.a.createElement(B,{canLoadContent:!!t,isExpando:d,postId:c}))},H=s("./src/lib/intersectionObserver/index.ts"),k=s("./src/reddit/i18n/components.tsx"),_=s("./src/reddit/i18n/utils.ts"),A=s("./src/reddit/components/Media/TwitterEmbed/index.m.less"),U=s.n(A);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const J=350,z=100,Q=300;class X extends r.a.Component{constructor(){super(...arguments),this.state={isFullyLoaded:!1},this.iframe=null,this.onWindowMessage=e=>{!this.state.isFullyLoaded&&this.iframe&&this.iframe.contentWindow===e.source&&"tweet-measured"===e.data.action&&this.setState({isFullyLoaded:!0})},this.embedBoxChildRef=e=>{this.iframe=e,e&&H.a(e,(t,s)=>{e&&e.contentWindow&&!this.props.media.height&&s&&e.contentWindow.postMessage("twitter-measure-requested",C)}),this.props.embedBoxChildRef(e)}}componentDidMount(){window.addEventListener("message",this.onWindowMessage)}componentWillUnmount(){this.iframe&&H.b(this.iframe),window.removeEventListener("message",this.onWindowMessage)}render(){const{canLoadContent:e,media:t,mediaContainerProps:s,onIframeLoaded:i,source:o,title:n}=this.props,{isFullyLoaded:a}=this.state,d=s.height||(t.isDeleted?z:Q);return r.a.createElement(S.a,G({},s,{alwaysWrapMedia:!0,height:d,showFull:!s.isListing,width:J}),e&&r.a.createElement(r.a.Fragment,null,(!s.height||!a)&&(t.isDeleted?r.a.createElement("p",{className:U.a.tweetDeleted},Object(_.c)("This Tweet has been deleted.")):r.a.createElement("div",{className:Object(M.a)(Object(T.a)({isLoading:!0}),U.a.tweetPlaceholder)})),r.a.createElement(y.a,{childRef:this.embedBoxChildRef,className:Object(M.a)(U.a.tweetEmbedBox,{[U.a.isInvisible]:!s.height||!a}),height:d,isListing:s.isListing,isResponsive:!0,maxHeight:s.isListing?L.i:null,onLoad:i,showCentered:s.showCentered,showFull:!0,source:o,title:n,width:J}),s.isListing&&d>L.i&&r.a.createElement("div",{className:U.a.seeMore},r.a.createElement(k.c,null,"see full tweet"))))}}var Y=s("./src/reddit/components/Media/VideoBox/index.tsx"),q=s("./src/reddit/components/PlayButton/index.tsx"),K=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),Z=s("./src/reddit/helpers/styles/smartTextColor.ts"),$=s("./src/reddit/components/RawHTMLDisplay/index.tsx");function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}var te=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(s[i[o]]=e[i[o]])}return s};var se=Object(d.a)(e=>{var{flairStyleTemplate:t}=e,s=te(e,["flairStyleTemplate"]);return r.a.createElement($.a,ee({style:{color:Object(Z.a)(Object(K.a)(Object.assign({flairStyleTemplate:t},s)))}},s))}),ie=s("./src/reddit/components/RichTextJson/index.tsx"),oe=s("./src/reddit/constants/screenWidths.ts"),ne=s("./src/reddit/contexts/PageLayer/index.tsx"),ae=s("./src/reddit/helpers/canPreviewSelfText/index.ts"),re=s("./src/reddit/helpers/getRichTextContent.ts"),de=s("./src/reddit/helpers/postHasSelfText/index.ts"),le=(s("./node_modules/core-js/modules/es6.regexp.replace.js"),s("./src/lib/redditId/index.ts"));function ce(e,t,s){return e.replace('href="https://web.archive.org/web/20191204000723/https://www.reddit.com/poll/'.concat(Object(le.c)(t)),'class="'.concat(s,'" href="https://web.archive.org/web/20191204000723/https://www.reddit.com/poll/').concat(Object(le.c)(t)))}function he(e,t){const s=function e(t,s){let i=!1;let o=[];try{for(const n of t)if("link"===n.e&&n.u&&n.u.includes("https://web.archive.org/web/20191204000723/https://www.reddit.com/poll/".concat(s)))i=!0;else if(n.c&&"string"!=typeof n.c){const t=e(n.c,s);t.found?(i=!0,("par"!==n.e||t.updated.length)&&o.push(Object.assign({},n,{c:t.updated}))):o.push(n)}else o.push(n)}catch(n){i=!1,o=[]}return{found:i,updated:i?o:t}}(e.document,Object(le.c)(t));return s.found?{document:s.updated}:e}const pe=(e,t,s,i)=>{const o=e/t,n=s/i;return Math.abs(o-n)<.03},me=(e,t)=>{for(let s=0;s<t.length;s++){const i=t[s];if(i.width>=e)return i}},ue=(e,t,s)=>{for(let i=0;i<s.length;i++){const o=s[i];if(o.width>=L.e/2&&pe(e,t,o.height,o.width))return o}},ge=e=>{for(let t=0;t<e.length;t++){const s=e[t];if(s.height>=L.e||s.width>=L.f)return s}};var be=s("./src/reddit/components/Media/index.m.less"),fe=s.n(be);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const we=1200,ve=75,Ee="player.js",Ce=I.s+I.r,ye=e=>e.isVisible?e.children:r.a.createElement("div",{className:fe.a.displayNone},e.children),Oe=new Set([L.n.EMBED,L.n.GIFVIDEO,L.n.VIDEO]),Se=e=>!!e.media&&Oe.has(e.media.type),Me=new Set([L.n.EMBED,L.n.GIFVIDEO,L.n.IMAGE,L.n.VIDEO]),Ie=e=>{let{post:t}=e;return!!t.media&&Me.has(t.media.type)},Le=Object(ne.t)(),Ne=Object(h.b)(e=>({renderingObjectInfo:e.post,pageLayer:e.pageLayer}));class je extends r.a.Component{constructor(e){super(e),this.pauseContent=()=>{this.shouldFocusContentDebouncer(!1)},this.stopContent=()=>{const{media:e}=this.props.post;if(e&&L.d.has(e.type)){if(this.iframe){const t=e.type===L.n.EMBED?e.provider:null;this.pauseEmbed(this.iframe,t)}this.setState(e=>e.shouldStop?null:{shouldStop:!0})}},this.handleVisibilityChange=e=>{const{shouldPause:t}=this.state,{autoplayPref:s}=this.props;this.iframe&&(t||!s&&e.documentInFocus||this.toggleEmbedAutoplay(this.iframe,!e.documentInFocus)),this.setState({forcePause:!e.documentInFocus})},this.focusContent=()=>{this.shouldFocusContentDebouncer(!0)},this.loadContent=()=>{this.setState(e=>e.canLoadContent?null:{canLoadContent:!0})},this.unmountContent=()=>{},this.contentIsHeavyToMount=()=>{const{media:e}=this.props.post;return!!e&&L.d.has(e.type)},this.shouldFocusContentDebouncer=n()(e=>{const{media:t}=this.props.post,{autoplayPref:s}=this.props;if(t&&L.d.has(t.type)){if(this.iframe){const i=t.type===L.n.EMBED?t.provider:null;i&&!L.q.has(i)?!s&&e||this.toggleEmbedAutoplay(this.iframe,!e):e||this.pauseEmbed(this.iframe,i)}e?this.setState(e=>e.shouldPause||!e.canLoadContent?{canLoadContent:!0,shouldPause:!1,shouldStop:!1}:null):this.setState(e=>e.shouldPause?null:{shouldPause:!0})}},250,{leading:!0}),this.toggleEmbedAutoplay=(e,t)=>{if(e.contentWindow){const s=t?L.g.Pause:L.g.Play;e.contentWindow.postMessage({context:Ee,method:s},C),e.contentWindow.postMessage({context:Ee,method:L.g.Mute},C)}},this.pauseEmbed=(e,t)=>{e.contentWindow&&(t===L.t.YouTube?e.contentWindow.postMessage(JSON.stringify({event:"command",func:L.x.Pause}),C):e.contentWindow.postMessage({context:Ee,method:L.g.Pause},C))},this.onIframeLoaded=()=>{const{media:e}=this.props.post,{autoplayPref:t}=this.props,s=e&&e.type===L.n.EMBED?e.provider:null;if(this.iframe&&s&&!L.q.has(s)){const{shouldPause:e}=this.state;(t||e)&&this.toggleEmbedAutoplay(this.iframe,e)}},this.onImageBoxClick=e=>{this.props.isListing||!this.shouldBlur()||this.state.isRevealed||(this.setState({isRevealed:!0}),e.preventDefault(),e.stopPropagation())},this.storeChildRef=e=>{this.iframe=e},this.updateDimensions=()=>{this.setState({viewportHeight:window.innerHeight,viewportWidth:window.innerWidth})},this.isSpoiler=()=>this.props.post.isSpoiler||!(!this.props.crosspost||!this.props.crosspost.isSpoiler),this.isNSFW=()=>this.props.post.isNSFW||!(!this.props.crosspost||!this.props.crosspost.isNSFW),this.state={canLoadContent:e.shouldLoad||!1,forcePause:!1,isRevealed:!1,shouldPause:void 0===e.shouldPause||e.shouldPause,shouldStop:void 0===e.shouldStop||e.shouldStop,viewportHeight:L.e,viewportWidth:L.f}}componentWillMount(){"undefined"!=typeof window&&(this.updateDimensions(),window.addEventListener("resize",this.updateDimensions))}componentDidMount(){Se(this.props.post)&&(this.visibilityChangeSubscriptionId=x.subscribe(e=>{this.handleVisibilityChange(e)})),this.props.scrollerItemRef&&Ie(this.props)&&this.props.scrollerItemRef(this,this.state.canLoadContent)}componentWillUnmount(){this.visibilityChangeSubscriptionId&&x.unsubscribe(this.visibilityChangeSubscriptionId),this.props.scrollerItemRef&&Ie(this.props)&&this.props.scrollerItemRef(void 0),window.removeEventListener("resize",this.updateDimensions)}componentWillReceiveProps(e){!this.state.canLoadContent&&e.shouldLoad&&this.setState({canLoadContent:!0}),void 0!==e.shouldPause&&e.shouldPause!==this.props.shouldPause&&this.shouldFocusContentDebouncer(!e.shouldPause)}getVideoExpandoMaxDimensions(){let e,t=Math.max(L.i,this.state.viewportHeight),s=Math.min(we,16*t/9);s===we&&(t=9*we/16),e=this.state.viewportWidth>=oe.c?this.state.viewportWidth<I.m?this.state.viewportWidth-Ce-2*ve:this.state.viewportWidth-Ce-I.f-2*ve:this.state.viewportWidth-2*ve;const i=this.state.viewportHeight-2*ve;if(s>e){t*=e/s,s=e}else if(t>i){const e=i/t;t=i,s*=e}return{maxVideoHeight:t,maxVideoWidth:s}}getVideoMaxDimensions(e,t){let s=L.i,i=L.m;return e.isExpando?this.getVideoExpandoMaxDimensions():(e.isPromotedTrend&&(s=L.r,i=L.s),{maxVideoHeight:s,maxVideoWidth:i})}getMediaInfo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;const{availableWidth:s,post:i}=e,o=i.media&&i.media.obfuscated||"";let n=i.media&&!Object(L.E)(i.media)?i.media.content:"",[a,r]=!i.media||Object(L.C)(i.media)||Object(L.D)(i.media)?[0,0]:[i.media.height,i.media.width];if(s&&i.media&&(i.media.type===L.n.IMAGE||i.media.type===L.n.GIFVIDEO)){const e=me(s,i.media.resolutions);e&&(n=e.url,r=e.width,a=e.height)}else if(i&&i.media&&(!e.isListing||e.isExpando)&&(i.media.type===L.n.IMAGE||i.media.type===L.n.GIFVIDEO)){let e;(e=Object(O.b)(i.media.height,i.media.width)&&Object(O.c)(i.media.height)?ue(i.media.height,i.media.width,i.media.resolutions):ge(i.media.resolutions))&&(n=e.url,r=e.width,a=e.height)}if(e.isExpando)if(r>t.viewportWidth){a*=t.viewportWidth/r,r=t.viewportWidth}else if(a>t.viewportHeight){const e=t.viewportHeight/a;a=t.viewportHeight,r*=e}const{maxVideoHeight:d,maxVideoWidth:l}=this.getVideoMaxDimensions(e,t);if(i.media&&i.media.type===L.n.VIDEO){const t=a/r;e.isExpando?(a=d,r=l):t>L.c?(a=d,r=Math.min(Math.max(d/t,L.p),l)):(a=Math.min(Math.max(l*t,L.o),d),r=l)}i.media&&i.media.type===L.n.EMBED&&e.isExpando&&i.media.provider!==L.t.Twitter&&(a=d,r=l);let c=!1;if(e.isMiniCard){const e=a/r;c=Math.abs(e-L.c)>.01}return{source:n,obfuscated:o,width:r,height:a,needsBackgroundBlur:c}}shouldBlur(){const{isExpando:e,isOverlay:t,theme:s}=this.props,i=this.isNSFW(),o=this.isSpoiler();return!(e||this.state.isRevealed||t)&&(i&&!s.subredditContext.shouldShowNSFWContent||o)}render(){const{className:e,crosspost:t,flairStyleTemplate:s,forceAspectRatio:i,isCommentsPage:o,isExpando:n,isListing:a,isNotCardView:d,isMediumHeight:h,isTitleOnly:p,post:m,showCentered:u,showFull:g=!1}=this.props,{canLoadContent:b,forcePause:f,shouldPause:x,shouldStop:C,viewportWidth:M}=this.state;if(!m.media)return null;const I=f||x,N=C,{source:j,obfuscated:T,height:P,width:W,needsBackgroundBlur:F}=this.getMediaInfo(this.props,this.state),B={showCentered:u,isListing:a,showFull:g,height:P,width:W},R=Object.assign({},B,{className:e,forceAspectRatio:i,viewportWidth:M}),D=this.shouldBlur(),H=!(!m.isSponsored||!m.source);if(T&&D)return r.a.createElement(S.a,xe({},R,{blurSrc:T}),r.a.createElement(ye,{isVisible:b},r.a.createElement(O.a,xe({},B,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isListing:a,isNSFW:this.isNSFW(),isSpoiler:this.isSpoiler(),isVideoThumbnail:!!m.media&&m.media.type===L.n.VIDEO,onClick:this.onImageBoxClick,postId:m.id,shouldBlur:D,source:T,outboundUrl:H&&m.source.outboundUrl||void 0,originalSource:j}))));if(!m.media)return null;switch(m.media.type){case L.n.RTJSON:const i=Object(re.a)(m,null);if(null===i)return;return g||Object(ae.a)(m)?r.a.createElement(V,{canLoadContent:b,className:e,"data-click-id":"text",isCommentsPage:o,isExpando:n,isMediumHeight:h,isRichTextTruncated:m.media.isRichtextPreview,isTitleOnly:p,postId:m.id,showFull:g},r.a.createElement(ie.a,{flairStyleTemplate:s,content:m.isMeta?he(i,m.id):i,mediaMetadata:m.media.mediaMetadata,rtJsonElementProps:Ne(this.props),renderMediaAsLinks:a})):null;case L.n.TEXT:if(Object(de.a)(m)){const t="Text post should not include body content";return v.c.withScope(e=>{e.setExtra("info",{post:m,isListing:a,isCommentsPage:o}),v.c.captureMessage(t)}),Object(l.a)()&&console.log("".concat(m.id,": ").concat(t)),r.a.createElement(V,{postId:m.id,className:e,"data-click-id":"text",isCommentsPage:o,showFull:g},r.a.createElement(se,{flairStyleTemplate:s,html:m.isMeta?ce(m.media.content,m.id,fe.a.hiddenLink):m.media.content}))}return null;case L.n.EMBED:return this.props.isMiniCard&&m.preview&&m.preview.url?r.a.createElement(S.a,xe({},R,{alwaysWrapMedia:!0}),r.a.createElement(ye,{isVisible:b},r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,xe({},B,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:n,isListing:a,isNSFW:this.isNSFW(),isCrosspost:!!t,isSpoiler:this.isSpoiler(),postId:m.id,shouldBlur:D,source:m.preview.url,originalSource:m.preview.url})),r.a.createElement(q.a,null)))):L.h.has(m.media.provider)?m.media.provider===L.t.Twitter?r.a.createElement(X,{canLoadContent:b,embedBoxChildRef:this.storeChildRef,media:m.media,mediaContainerProps:R,onIframeLoaded:this.onIframeLoaded,source:j,title:m.title}):r.a.createElement(S.a,xe({},R,{alwaysWrapMedia:!0,height:n?P:L.i,width:n?W:L.i*(16/9)}),b&&r.a.createElement(y.a,{childRef:this.storeChildRef,height:n?P:L.i,width:n?W:void 0,isListing:a,isResponsive:!0,onLoad:this.onIframeLoaded,showCentered:u,showFull:g,source:j,title:m.title})):r.a.createElement(S.a,xe({},R,{alwaysWrapMedia:!0}),b&&r.a.createElement(y.a,xe({},B,{isResponsive:n||m.media.provider===L.t.IFrameEmbed,title:m.title,childRef:this.storeChildRef,onLoad:this.onIframeLoaded,source:j,fullWidth:m.media.provider===L.t.IFrameEmbed})));case L.n.GIFVIDEO:{let e=P,t=W;return e>L.i&&(t=W/P*(e=L.i)),r.a.createElement(S.a,xe({},R,{blurSrc:F?m.media.gifBackgroundImage:void 0}),r.a.createElement(ye,{isVisible:b},r.a.createElement(Y.a,xe({},B,{isNotCardView:d,height:n?void 0:e,width:n?void 0:t,postId:m.id,shouldLoad:!0,shouldPause:I,source:j,originalSource:m.media.content}))))}case L.n.VIDEO:{const e=m.media.posterUrl||m.preview&&m.preview.url;return this.props.isMiniCard&&e?r.a.createElement(S.a,xe({},R,{alwaysWrapMedia:!0}),r.a.createElement(ye,{isVisible:b},r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,xe({},B,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:n,isListing:a,isNSFW:this.isNSFW(),isCrosspost:!!t,isSpoiler:this.isSpoiler(),postId:m.id,shouldBlur:D,source:e,originalSource:e})),r.a.createElement(q.a,null)))):r.a.createElement(S.a,xe({},R,{alwaysWrapMedia:!0,isVideo:!0}),b&&r.a.createElement(E.b,{autoPlay:"boolean"==typeof x?!x:void 0,isExpando:n,postUrl:Object(w.a)(m.permalink),shouldLoad:!0,shouldPause:I,shouldStop:N,hlsSource:m.media.hlsUrl,mpegDashSource:m.media.dashUrl,isGif:m.media.isGif,scrubberThumbSource:m.media.scrubberThumbSource,postId:m.id,callToActionSource:m.source||void 0,callToActionText:m.callToAction,isListing:a,posterUrl:m.media.posterUrl}))}case L.n.IMAGE:const f=this.state.viewportHeight-2*ve,C=this.state.viewportWidth-2*ve;let M=j;return this.props.isMiniCard&&!this.props.isMiniCardHQPreviews&&(m.thumbnail&&Object(c.a)(m.thumbnail.url)?M=m.thumbnail.url:m.preview&&Object(c.a)(m.preview.url)&&(M=m.preview.url)),r.a.createElement(S.a,xe({},R,{blurSrc:F?M:void 0,isExpando:!!n}),r.a.createElement(ye,{isVisible:b},r.a.createElement(O.a,xe({},B,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:n,isListing:a,isNSFW:this.isNSFW(),isCrosspost:!!t,isSpoiler:this.isSpoiler(),maxHeight:n?f:void 0,maxWidth:n?C:void 0,postId:m.id,shouldBlur:D,source:M,outboundUrl:H&&m.source.outboundUrl||void 0,originalSource:m.media.content}))));default:return null}}}t.a=Le(Object(d.a)(je))},"./src/reddit/helpers/canPreviewSelfText/index.ts":function(e,t,s){"use strict";var i=s("./src/reddit/helpers/postHasSelfText/index.ts");t.a=e=>Object(i.a)(e)&&!e.isSpoiler&&!e.isNSFW},"./src/reddit/helpers/postHasSelfText/index.ts":function(e,t,s){"use strict";var i=s("./src/reddit/models/Media/index.ts"),o=s("./src/reddit/models/RichTextJson/index.ts");t.a=e=>{const t=e&&e.media;return!!t&&(t.type===i.n.TEXT&&!!t.content||t.type===i.n.RTJSON&&!Object(o.F)(t.richtextContent))}}}]);
//# sourceMappingURL=CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListing~ModQueu~c06ba326.ca8791cf502ce447de95.js.map

}
/*
     FILE ARCHIVED ON 00:07:23 Dec 04, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:48:05 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.083
  exclusion.robots.policy: 0.071
  cdx.remote: 0.124
  esindex: 0.01
  LoadShardBlock: 558.095 (6)
  PetaboxLoader3.datanode: 1199.563 (8)
  PetaboxLoader3.resolve: 148.761 (3)
  load_resource: 1155.228 (2)
*/