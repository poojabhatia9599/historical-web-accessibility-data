var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["Governance~Reddit"],{"./assets/fonts/NotoMono/font.less":function(e,t,s){},"./src/graphql/operations/AllUserMultireddits.json":function(e){e.exports={id:"f9d4691b2d00"}},"./src/graphql/operations/CreateCommunityAward.json":function(e){e.exports={id:"3cfd2c20439a"}},"./src/graphql/operations/CreateModAward.json":function(e){e.exports={id:"92061d7e1951"}},"./src/graphql/operations/CreateSubredditTags.json":function(e){e.exports={id:"639d65a32e0e"}},"./src/graphql/operations/DeleteAward.json":function(e){e.exports={id:"4d31f6356d57"}},"./src/graphql/operations/DeleteTags.json":function(e){e.exports={id:"85a644f8353a"}},"./src/graphql/operations/DisableAward.json":function(e){e.exports={id:"5e453976052b"}},"./src/graphql/operations/FetchSubredditTags.json":function(e){e.exports={id:"f0679317dcf6"}},"./src/graphql/operations/Frontpage.json":function(e){e.exports={id:"7ca7322c7740"}},"./src/graphql/operations/ManageableAwards.json":function(e){e.exports={id:"d7a376e63004"}},"./src/graphql/operations/ModeratedSubreddits.json":function(e){e.exports={id:"c1ada1ec294f"}},"./src/graphql/operations/MultiredditListing.json":function(e){e.exports={id:"42a127c37128"}},"./src/graphql/operations/RedditorMultireddits.json":function(e){e.exports={id:"0a57674dc82f"}},"./src/graphql/operations/RichTextPostContent.json":function(e){e.exports={id:"fc24b7b690ad"}},"./src/graphql/operations/SubredditAbout.json":function(e){e.exports={id:"ab75f710d839"}},"./src/graphql/operations/SubredditPosts.json":function(e){e.exports={id:"4acb05eedbfa"}},"./src/graphql/operations/SubredditRecommendations.json":function(e){e.exports={id:"9fed35c2168d"}},"./src/graphql/operations/SubredditRules.json":function(e){e.exports={id:"0df127946e72"}},"./src/graphql/operations/SubredditTopContent.json":function(e){e.exports={id:"cdf39a456d4b"}},"./src/graphql/operations/SubredditTypeaheadSearch.json":function(e){e.exports={id:"bc59d854ddfa"}},"./src/graphql/operations/UpdateSubredditTagStates.json":function(e){e.exports={id:"70f7ff70f03e"}},"./src/graphql/operations/UsableAwards.json":function(e){e.exports={id:"b8810241176f"}},"./src/lib/assertNever.ts":function(e,t,s){"use strict";function r(e){throw new Error(`Unexpected object: ${e}`)}s.d(t,"a",function(){return r})},"./src/lib/filterQueryParams/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/omit.js"),n=s.n(r),a=s("./node_modules/url/url.js"),c=s.n(a);t.a=((e,t)=>{const s=c.a.parse(e,!0);return s.search=void 0,s.query=Object.assign({},n()(s.query,t)),c.a.format(s)})},"./src/lib/formatApiError/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/app/strings/index.ts"),n=s("./src/app/strings/sources/error.js");function a(e,t,s){return t?t.fields&&t.fields.length?t.fields.map(e=>e.msg).join(", "):t.type&&n.a[t.type]?Object(r.a)(e,`error.${t.type}`):401===s?Object(r.a)(e,"error.authentication"):Object(r.a)(e,"error.generic"):""}},"./src/lib/makeCollectionCommentsPageKey/index.ts":function(e,t,s){"use strict";t.a=((e,t,s,r={})=>{let n=`collectionCommentsPage--[collection:'${e}']`;return t&&(n+=`--[post:'${t}']`),s&&(n+=`--[rootComment:'${s}']`),r&&(r.sort&&r.hasSortParam&&(n+=`--[sort:'${r.sort}']`),r.context&&(n+=`--[context:${r.context}]`),r.depth&&(n+=`--[depth:${r.depth}]`)),n})},"./src/lib/makeDraftKey/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/app/models/Draft.ts");function n(e,t){return`${r.a[e]}_${t}`}},"./src/lib/makeExplorePageKey/index.ts":function(e,t,s){"use strict";function r(e){return`Explore--[categoryName:${e.categoryName}]`}s.d(t,"a",function(){return r})},"./src/lib/makeOverviewConversationsItemKey/index.ts":function(e,t,s){"use strict";t.a=((e,t)=>{return`overviewConversations--[profile:'${t}']--[post:'${e}']`})},"./src/lib/makePartnerSubredditConnectionPageKey/index.ts":function(e,t,s){"use strict";function r(e){return`PartnerSubredditConnection--[to:${e.to}]--[userId:${e.userId}]`}s.d(t,"a",function(){return r})},"./src/lib/makePostDraftPageKey/index.ts":function(e,t,s){"use strict";function r(e){let t="PostDraftPage";return e.draftId&&(t+=`--[draftId:${e.draftId}]`),t}s.d(t,"a",function(){return r})},"./src/lib/makeSearchKey/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return u});var r,n=s("./src/lib/constants/index.ts"),a=s("./src/reddit/constants/parameters.ts");!function(e){e.Trending="trending"}(r||(r={}));const c=(e,t)=>`${e}--[type:${t.sort().join(",")}]`,i=new Set(["f","n","0"]),o=(e="")=>{const t=e.toLowerCase();return!(0===t.length||"off"===t||i.has(t[0]))},d=e=>e?"1":"",u=e=>{const t=e.sort&&Object(n.Ec)(e.sort)?e.sort:n.Ub,s=e.t&&n.Ac.has(e.t)?e.t:n.Vb,r=e.type;let c=[];"string"==typeof r?c=decodeURIComponent(r).split(",").sort().filter(n.Fc):Array.isArray(r)&&(c=r.filter(n.Fc)),c&&0!==c.length||(c=[n.jc.Posts,n.jc.Subreddits,n.jc.Users]);const i={q:e.q,sort:t,t:s,type:c};return void 0!==e.include_over_18&&(i.include_over_18=d(o(e.include_over_18))),void 0!==e.restrict_sr&&(i.restrict_sr=d(o(e.restrict_sr))),e.is_multi&&(i.is_multi=d(o(e.is_multi))),e.category&&(i.category=e.category),e[a.b]&&(i.category_name=e.category_name),e[a.r]&&(i.source=e.source),i};t.c=((e,t,s={})=>{let r=e||"!";return t&&(r=`${r}--[user:${t}]`),s.include_over_18&&(r=`${r}--[include_over_18:${s.include_over_18}]`),s.q&&(r=`${r}--[q:${s.q}]`),s.restrict_sr&&(r=`${r}--[restrict_sr:${s.restrict_sr}]`),s.sort&&(r=`${r}--[sort:${s.sort}]`),s.t&&(r=`${r}--[t:${s.t}]`),s.category&&(r=`${r}--[c:${s.category}]`),r.toLowerCase()})},"./src/lib/omitKey/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};function n(e,t){if(t in e){const s=t;e[s];return r(e,["symbol"==typeof s?s:s+""])}return e}},"./src/lib/opener/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r={SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"};t.b=((e,t=r.SELF,s)=>{if(t===r.BLANK){const r=window.open("",t,s);null!=r?(r.opener=null,r.location.href=e):window.location.href=e}else window.location.href=e})},"./src/lib/truthyString/index.ts":function(e,t,s){"use strict";const r=new Set(["0","disabled","false","off",""]);t.a=(e=>!r.has(e.toLowerCase()))},"./src/reddit/actions/ads/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"h",function(){return u});const r="AD_BRAND_SAFETY_STATUS_RECEIVED",n="FETCH_COMMENTS_PAGE_ADS_COMPLETED",a="FETCH_COMMENTS_PAGE_ADS_FAILED",c="FETCH_SIDEBAR_PROMOTED_POSTS_COMPLETED",i="FETCH_SIDEBAR_PROMOTED_POSTS_FAILED",o="REFRESH_SIDEBAR_PROMOTED_POST_COMPLETED",d="REFRESH_SIDEBAR_PROMOTED_POST_FAILED",u="RESET_SIDEBAR_PROMOTED_POSTS"},"./src/reddit/actions/ads/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts");const i=async(e,t,s)=>{const r={count:t};return s&&(r.subreddit=s),Object(c.c)(e,{type:"json",endpoint:`${n.a.gatewayUrl}/desktopapi/v1/sidebar_ads`,method:a.jb.POST,data:r})};var o=s("./src/reddit/helpers/adCount/index.ts"),d=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),u=s("./src/reddit/selectors/brandSafety.ts"),l=s("./src/reddit/selectors/platform.ts"),b=s("./src/reddit/selectors/posts.ts"),p=s("./src/reddit/actions/ads/constants.ts");s.d(t,"d",function(){return f}),s.d(t,"b",function(){return E}),s.d(t,"c",function(){return h}),s.d(t,"a",function(){return I});const O=Object(r.a)(p.a),f=e=>async(t,s)=>{const r=s();Object(u.c)(r)&&Object(u.d)(r)===e.isViewSafe||t(O(e))},m=Object(r.a)(p.d),j=Object(r.a)(p.e),g=Object(r.a)(p.f),y=Object(r.a)(p.g),_=(Object(r.a)(p.h),Object(r.a)(p.b)),E=(Object(r.a)(p.c),e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(o.b)(n,e),c=a.length;if(0===c)return;switch(e){case d.a.COMMENTS:case d.a.COMMENTS_OVERLAY:if(!Object(l.n)(n,{page:n.platform.currentPage}))return;break;case d.a.FRONTPAGE:case d.a.MULTIREDDIT:case d.a.SEARCH_RESULTS:case d.a.SUBREDDIT:{const e=n.listings.activeKey,t=Object(b.K)(n,{listingKey:e});if(!t||!t.length)return;break}default:return void 0}const u=Object(l.e)(n);let p;if((p=u?await i(r(),c,u):await i(r(),c)).body&&p.body.length){const e=p.body,s={};for(let t=0;t<e.length;t++)s[a[t]]=e[t];t(m(s))}else t(j(p.error))}),h=e=>async(t,s,{apiContext:r})=>{const n=await i(r(),1);n.body&&n.body.length?t(g({[e]:n.body[0]})):t(y(n.error))},I=()=>async(e,t,{apiContext:s})=>{const r=Object(l.e)(t()),i=await(async(e,t,s)=>{const r={count:t,subreddit:s};return Object(c.c)(e,{type:"json",endpoint:`${n.a.gatewayUrl}/desktopapi/v1/comments_page_ads`,method:a.jb.POST,data:r})})(s(),1,r);i.body&&i.body.length?e(_(i.body)):e(j(i.error))}},"./src/reddit/actions/apiRequestHeaders.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/lib/makeActionCreator/index.ts");const n="API_REQUEST_HEADERS__set";Object(r.a)(n)},"./src/reddit/actions/apiRequestState.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"h",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"f",function(){return l}),s.d(t,"g",function(){return b});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/models/ApiRequestState/index.ts");const a="API_REQUEST_STATE__STARTED",c="API_REQUEST_STATE__COMPLETED",i="API_REQUEST_STATE__FAILED",o="API_REQUEST_STATE__RELEASED";function d(e){return{type:a,payload:{apiRequestStatus:n.a.Pending,apiRequestId:e}}}function u(e){return{type:c,payload:{apiRequestStatus:n.a.Complete,apiRequestId:e}}}function l(e,t){return{type:i,payload:{apiRequestStatus:n.a.Failed,apiRequestId:e,apiError:t}}}const b=Object(r.a)(o)},"./src/reddit/actions/authorFlair.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="IN_CONTEXT_AUTHOR_FLAIR_UPDATED",a=Object(r.a)(n)},"./src/reddit/actions/badge.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"i",function(){return b}),s.d(t,"g",function(){return p}),s.d(t,"h",function(){return O}),s.d(t,"j",function(){return f}),s.d(t,"k",function(){return S}),s.d(t,"l",function(){return T}),s.d(t,"m",function(){return v});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/governance/errorToast.ts"),a=s("./src/reddit/endpoints/governance/badges.ts");const c="BADGE__BADGE_MODAL_OPENED",i="BADGE__BADGE_APPLICATION_SUCCESS",o="BADGE__BADGE_APPLICATION_FAILURE",d="BADGE__SUBREDDIT_BADGES_FETCH_SUCCESS",u="BADGE__SUBREDDIT_BADGES_FETCH_FAILURE",l="BADGE__SUBREDDIT_BADGES_FETCH_PENDING",b="BADGE__USER_BADGES_FETCH_SUCCESS",p="BADGE__USER_BADGES_FETCH_FAILURE",O="BADGE__USER_BADGES_FETCH_PENDING",f=Object(r.a)(c),m=Object(r.a)(i),j=Object(r.a)(o),g=(Object(r.a)("BADGE__BADGE_APPLICATION_PENDING"),Object(r.a)(d)),y=Object(r.a)(u),_=Object(r.a)(l),E=Object(r.a)(b),h=Object(r.a)(p),I=Object(r.a)(O),S=({badgeIds:e,subredditId:t})=>async(s,r,{apiContext:c})=>{const i=r(),o=i.user.account;if(o){const r=(i.users.appliedBadges[o.id]||{})[t]||[],d=e.length?e[0]:r[0],u=!!e.length;s(m({badgeIds:e,subredditId:t,userId:o.id}));const l=await Object(a.a)(c(),t,d,u);l.ok||(s(j({badgeIds:e,subredditId:t,error:l.error,previousBadgeIds:r,userId:o.id})),Object(n.a)(s,l.error))}},T=({subredditId:e})=>async(t,s,{apiContext:r})=>{t(_({subredditId:e}));const n=await Object(a.b)(r(),e);n.ok?t(g(Object.assign({},n.body,{subredditId:e}))):t(y({subredditId:e,error:n.error}))},v=({subredditId:e})=>async(t,s,{apiContext:r})=>{const n=s().user.account;if(n){t(I({subredditId:e}));const s=await Object(a.c)(r(),e,n.id);s.ok?t(E(Object.assign({},s.body,{subredditId:e}))):t(h({subredditId:e,error:s.error}))}}},"./src/reddit/actions/bulkActions/constants.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a});const r="BULKACTION_PENDING",n="BULKACTION_LOADED",a="BULKACTION_FAILED"},"./src/reddit/actions/category.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"j",function(){return f}),s.d(t,"g",function(){return j}),s.d(t,"f",function(){return g}),s.d(t,"e",function(){return y}),s.d(t,"d",function(){return _}),s.d(t,"h",function(){return S}),s.d(t,"i",function(){return T});var r=s("./node_modules/lodash/isEmpty.js"),n=s.n(r),a=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/constants/categories.tsx"),o=s("./src/reddit/endpoints/category/categoryList.ts"),d=s("./src/reddit/endpoints/category/subreddits.ts"),u=s("./src/reddit/selectors/category.ts");const l="CATEGORY__LIST_PENDING",b="CATEGORY__LIST_LOADED",p="CATEGORY__LIST_FAILED",O=Object(c.a)(l),f=Object(c.a)(b),m=Object(c.a)(p),j=()=>async(e,t,{apiContext:s})=>{const r=t(),n=Object(u.h)(r),a=Object(u.g)(r);if(n||a)return;e(O());const c=await Object(o.a)(s());if(c.ok){var i=Object(o.b)(c.body);const t=i.categories,s=i.categoryIds;e(f({categories:t,categoryIds:s}))}else e(m(c.error))},g="CATEGORY__SUBREDDITS_PENDING",y="CATEGORY__SUBREDDITS_LOADED",_="CATEGORY__SUBREDDITS_FAILED",E=Object(c.a)(g),h=Object(c.a)(y),I=Object(c.a)(_),S=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(u.l)(a,{id:e}),i=Object(u.k)(a,{id:e});if(c||i)return;s(E({categoryId:e}));const o=await Object(d.a)(n(),e,t);if(o.ok){const t=Object(d.b)(o.body);s(h(Object.assign({categoryId:e},t)))}else s(I({categoryId:e,error:o.error}))},T=e=>async(t,s,{apiContext:r})=>{await t(S(e));const c=s(),o=Object(u.j)(c,{id:e});if(!o)return;const d=o.name,l=Object(u.c)()(c,{categoryName:d});n()(l)||t(Object(a.b)(Object(i.e)(l)))}},"./src/reddit/actions/chat/constants.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e.anybody="Everyone",e.account_age_30_days="Account age 30 days",e.nobody="Nobody"}(r||(r={}))},"./src/reddit/actions/chat/sendbirdProxy.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return i});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/chat/index.ts");const a="SENDBIRD_PROXY__SET_CONFIG",c=Object(r.a)(a),i=()=>async(e,t,{apiContext:s})=>{const r=await Object(n.h)(s());r.ok&&await e(c(r.body))}},"./src/reddit/actions/chat/subredditChannel.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return o}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"h",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"m",function(){return f}),s.d(t,"l",function(){return E}),s.d(t,"i",function(){return h}),s.d(t,"k",function(){return I}),s.d(t,"j",function(){return T}),s.d(t,"b",function(){return C});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/chat/index.ts"),a=s("./src/reddit/models/SubredditChannel/index.ts"),c=s("./src/reddit/selectors/chat.ts"),i=s("./src/reddit/selectors/user.ts");const o="SUBREDDIT_CHANNELS__REQUESTED",d="SUBREDDIT_CHANNELS__ADDED",u="SUBREDDIT_CHANNELS__FAILED",l="SUBREDDIT_CHANNEL__ADDED",b="SUBREDDIT_CHANNEL__SELECTED",p="SUBREDDIT_CHANNEL__EDITED",O="SUBREDDIT_CHANNEL__REMOVED",f=Object(r.a)(b),m=Object(r.a)(o),j=Object(r.a)(u),g=Object(r.a)(d),y=Object(r.a)(l),_=Object(r.a)("SUBREDDIT_CHANNEL__FAILED"),E=e=>async(t,s,{apiContext:r})=>{var i=s().user;const o=i.account,d=i.session;if(!o||!d)return;t(m({subredditId:e}));const u=Object(c.d)(s(),{subredditId:e}),l=await Object(n.i)(r(),e,u);if(l.ok){var b=l.body;const s=b.rooms,r=b.subreddit_chat_enabled,n=b.user_subreddit_chat_enabled,c=Object(a.d)(s);t(g({collection:c,subredditId:e,isSubredditWhitelisted:!!r,isUserSubredditChatEnabled:!!n}))}else if(l.error){const s=l.error;t(j({error:s,subredditId:e}))}},h=(e,t)=>async(s,r,{apiContext:c})=>{var i=r().user;const o=i.account,d=i.session;if(!o||!d)return;const u=await Object(n.d)(c(),d,t);if(u.ok){const r=Object(a.e)(Object.assign({},u.body,t));return await s(y({channel:r,subredditId:e})),r}s(_(u.error))},I=(e,t)=>async(s,r,{apiContext:a})=>{const c=e.channelSendbirdUrl;const i=r().user.session;if(!i)return;const o=await Object(n.f)(a(),c,i,t);o.ok?s(S({channel:e,editedSubredditChannelData:t})):s(_(o.error))},S=Object(r.a)(p),T=e=>async(t,s,{apiContext:r})=>{const a=e.channelId,c=e.channelSendbirdUrl,o=s();if(!Object(i.I)(o))return;const d=await Object(n.e)(r(),c);d.ok?t(v(a)):t(_(d.error))},v=Object(r.a)(O),C="SUBREDDIT_CHANNELS__ENABLED";Object(r.a)(C)},"./src/reddit/actions/chat/subredditSettings.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return u}),s.d(t,"c",function(){return l});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/chat/index.ts"),a=s("./src/reddit/selectors/user.ts");const c="CHAT_SUBREDDIT_SETTINGS__SET",i=Object(r.a)(c),o=Object(r.a)("CHAT_SUBREDDIT_SETTINGS__SET_FAILED"),d=async(e,t,s)=>{try{if(s)return await e(i(Object.assign({subredditId:t},s))),s}catch(r){o(r)}},u=e=>async(t,s,{apiContext:r})=>{try{const i=s();if(!Object(a.I)(i))return;const u=await Object(n.g)(r(),e);return d(t,e,u)}catch(c){o(c)}},l=(e,t)=>async(s,r,{apiContext:c})=>{try{const u=r();if(!Object(a.I)(u))return;const l=await Object(n.j)(c(),e,t);l.ok&&d(s,e,l.body)}catch(i){o(i)}}},"./src/reddit/actions/chat/unreadCount.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return O}),s.d(t,"c",function(){return _});var r,n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/chat/endpoints/sendbird/index.ts"),i=s("./src/reddit/selectors/chat.ts"),o=s("./src/reddit/selectors/user.ts");!function(e){e.SYNC="UNREAD_COUNT__SYNC",e.REQUEST_FAILED="UNREAD_COUNT__REQUEST_FAILED",e.REQUEST_PENDING="UNREAD_COUNT__REQUEST_PENDING",e.REQUEST_SUCCESS="UNREAD_COUNT__REQUEST_SUCCESS"}(r||(r={}));var d=r;const u=d.SYNC,l=d.REQUEST_FAILED,b=d.REQUEST_PENDING,p=d.REQUEST_SUCCESS,O=Object(a.a)(u),f=Object(a.a)(l),m=Object(a.a)(b),j=Object(a.a)(p);let g;const y=5*n.kb,_=()=>async(e,t,{apiContext:s})=>{const r=t();if(!Object(o.I)(r)||!Object(i.e)(r))return clearTimeout(g);g||e((()=>async(e,t,{apiContext:s})=>{const r=t(),n=r.user.session;if(n&&Object(o.I)(r)&&Object(i.e)(r)){e(m());const t=await Object(c.i)(s(),n);t&&t.ok?e(j({basicChannelCount:t.body.unread_count||0,subredditChannelCount:t.body.subreddit_unread_count||0})):e(f({error:t.error}))}})()),g=setTimeout(()=>{e(_())},y)}},"./src/reddit/actions/chat/userSettings.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/config.ts"),i=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/lib/omitHeaders/index.ts"),u=s("./src/reddit/constants/headers.ts");var l=s("./src/reddit/featureFlags/index.ts"),b=s("./src/reddit/helpers/trackers/chat.ts"),p=s("./src/reddit/models/Toast/index.ts"),O=s("./src/reddit/selectors/user.ts"),f=s("./src/telemetry/index.ts"),m=s("./src/reddit/actions/chat/constants.ts");s.d(t,"a",function(){return y}),s.d(t,"b",function(){return E}),s.d(t,"c",function(){return S});const j=Object(n.a)("USER_SETTINGS__FETCH_PENDING"),g=Object(n.a)("USER_SETTINGS__FETCH_FAILURE"),y="USER_SETTINGS__UPDATE_SUCCESS",_=Object(n.a)(y),E=()=>async(e,t,{apiContext:s})=>{const r=t();if(!l.d.userInChatUserSettings(r))return;e(j());const n=await(e=>Object(o.c)(Object(d.a)(e,[u.a]),{endpoint:`${c.a.sendbirdServiceUrl}/api/v1/chat/me/settings`,method:i.jb.GET}))(s());if(n.ok){const t=Object.assign({},n.body);e(_({invitePolicy:m.a[t.invite_policy]}))}else e(g(n.error))},h=Object(n.a)("USER_SETTINGS__SAVE_PENDING"),I=Object(n.a)("USER_SETTINGS__SAVE_FAILURE"),S=e=>async(t,s,{apiContext:n})=>{const j=s();if(!l.d.userInChatUserSettings(j))return;const g=e.invitePolicy,y=Object.keys(m.a).find(e=>m.a[e]===g);if(y){t(h());const e=await(async(e,t)=>Object(o.c)(Object(d.a)(t,[u.a]),{endpoint:`${c.a.sendbirdServiceUrl}/api/v1/chat/me/settings`,method:i.jb.PUT,data:JSON.stringify({invite_policy:e})}))(y,n());Object(f.a)(Object(b.f)(y)(j));const s=Object(O.Q)(j);if(e.ok){const e=m.a[y];t(_({invitePolicy:e})),t(Object(a.e)({kind:p.b.SuccessCommunity,text:Object(r.a)(s,"settings.page.saveRequestSuccess")}))}else t(I(e.error))}}},"./src/reddit/actions/claimgold.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/models/Toast/index.ts"),i=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/lib/omitHeaders/index.ts"),u=s("./src/reddit/constants/headers.ts"),l=s("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");var b=async(e,t)=>{const s={api_type:"json",code:t.code,raw_json:1};return Object(o.c)(Object(d.a)(e,[u.a]),{method:i.jb.POST,endpoint:`${e.apiUrl}/api/claimgold`,data:s}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(l.a)(e)}))},p=s("./src/reddit/helpers/genericServerError/index.ts"),O=s("./src/reddit/selectors/claimgold.ts"),f=s("./src/reddit/selectors/user.ts");s.d(t,"e",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"i",function(){return _}),s.d(t,"g",function(){return E}),s.d(t,"j",function(){return h}),s.d(t,"f",function(){return I}),s.d(t,"b",function(){return S}),s.d(t,"c",function(){return T}),s.d(t,"a",function(){return v}),s.d(t,"h",function(){return C});const m="CLAIMGOLD__OPEN_CLAIMGOLD_MODAL",j="CLAIMGOLD__CLOSE_CLAIMGOLD_MODAL",g=Object(r.a)(m),y=Object(r.a)(j),_=()=>async(e,t)=>{const s=t();Object(O.b)(s)?e(y()):e(g())},E="CLAIMGOLD_UPDATE_CODE",h=Object(r.a)(E),I="CLAIM_GOLD__TRIGGER_LOADER",S="CLAIM_GOLD__CLAIM_GOLD_PENDING",T="CLAIM_GOLD__CLAIM_GOLD_SUCCESSFUL",v="CLAIM_GOLD__CLAIM_GOLD_FAILED",C=()=>async(e,t,{apiContext:s})=>{const r={code:t().claimGold.code};e(A());try{const t=await b(s(),r);t.error?e(P(t)):e(N())}catch(n){e(P(n))}},D=Object(r.a)(I),R=Object(r.a)(S),A=()=>async(e,t)=>{e(R()),window.setTimeout(()=>{t().claimGold.api.pending&&e(D())},2e3)},w=Object(r.a)(v),P=e=>async(t,s)=>{const r=Object(f.Q)(s());await t(w(Object.assign({},e,{error:e.error||Object(p.a)(r)})));const n=s().claimGold.api.error;n&&t(Object(a.e)({kind:c.b.Error,duration:a.a,text:n}))},x=Object(r.a)(T),N=()=>async(e,t)=>{e(x());const s=Object(f.Q)(t());e(Object(a.e)({kind:c.b.SuccessCommunity,text:Object(n.a)(s,"gold.premiumPurchase.redeemGiftCodeSuccess")}))}},"./src/reddit/actions/comment.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/makeCommentsPageKey/index.ts"),c=s("./src/lib/makeDraftKey/index.ts"),i=s("./src/app/models/Draft.ts"),o=s("./src/app/strings/index.ts"),d=s("./src/reddit/actions/economics/tips/async.ts"),u=s("./src/reddit/actions/governance/async.ts"),l=s("./src/reddit/actions/login.ts"),b=s("./src/reddit/actions/modal.ts"),p=s("./src/reddit/actions/postCreation/editorContent.ts"),O=s("./src/reddit/actions/shortcuts.ts"),f=s("./src/reddit/actions/toaster.ts"),m=s("./src/reddit/actions/vote.ts"),j=s("./src/reddit/constants/adEvents.ts"),g=s("./src/reddit/constants/modals.ts"),y=s("./src/lib/constants/index.ts"),_=s("./src/lib/makeApiRequest/index.ts"),E=s("./src/lib/omitHeaders/index.ts"),h=s("./src/reddit/constants/headers.ts"),I=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),S=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const T=(e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/save`),method:y.jb.POST,data:{id:t}}),v=(e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/unsave`),method:y.jb.POST,data:{id:t}}),C=(e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/lock`),method:y.jb.POST,data:{id:t}}),D=(e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/unlock`),method:y.jb.POST,data:{id:t}}),R=(e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:`${e.apiUrl}/api/ignore_reports`,method:y.jb.POST,data:{id:t}}),A=(e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:`${e.apiUrl}/api/unignore_reports`,method:y.jb.POST,data:{id:t}});var w=s("./src/reddit/components/RichTextEditor/RTEState/index.tsx"),P=s("./src/reddit/helpers/genericServerError/index.ts"),x=s("./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts"),N=s("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts"),k=s("./src/reddit/models/PostCreationForm/index.ts");const L=async(e,t,s,r,n,a)=>{const c={api_type:"json",return_rtjson:!0,thing_id:s};if(a===k.h.MARKDOWN)c.text=r.text;else{c.text=null;let e=null;r.rteState&&(e=w.a.toRichTextJSON(r.rteState).document),c.richtext_json=JSON.stringify({document:e})}return Object(_.c)(Object(E.a)(e,[h.a]),{method:y.jb.POST,endpoint:Object(I.a)(Object(S.a)(`${e.apiUrl}/api/comment.json`)),data:c}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(N.a)(e)}):Object.assign({},e,{body:{comment:Object(x.a)(e.body.json.data.things[0].data,n)}}):Object.assign({},e,{body:{comment:Object(x.a)(e.body,n)}}):Object.assign({},e,{error:e.error||Object(P.a)(t)}))};var U=s("./src/reddit/endpoints/post/index.tsx"),M=s("./src/reddit/endpoints/post/convert.ts"),F=s("./src/reddit/helpers/commentList/index.ts"),G=s("./src/reddit/helpers/dom/index.ts"),B=s("./src/reddit/helpers/pixels.ts"),q=s("./src/telemetry/index.ts"),$=s("./src/reddit/selectors/telemetry.ts");var V=s("./src/reddit/helpers/trackers/commentsPage.ts"),H=s("./src/lib/env/index.ts");let K;const W={retrying:!1,backoffTime:2e3,connectionAttempts:0,jitterAmount:3e3,maximumRetries:9},Q=(e,t)=>{K&&K.socket&&K.socket.close(),K=void 0},Y=(e,t,s,r)=>{if(!K){const n=new WebSocket(t),a=K={socket:n,retries:s,uniqueId:e,url:t};a.socket.addEventListener("open",()=>{a.retries=Object.assign({},W)}),a.socket.addEventListener("message",X.bind(null,r)),a.socket.addEventListener("close",z.bind(null,r))}},z=(e,t)=>{if(K){var s=K,r=s.retries;const t=r.backoffTime,n=r.connectionAttempts,a=r.jitterAmount,c=r.maximumRetries,i=r.retrying,o=s.socket,d=s.uniqueId,u=s.url;if(!i&&n<c&&o.readyState!==WebSocket.OPEN){const s=t*Math.pow(2,n),r=Math.random()*a-a/2,c=Math.round(s+r),i=Object.assign({},K.retries,{retrying:!0,connectionAttempts:n+1});H.a&&console.debug(`Connection reset, retrying in ${c}ms`),K.retries.retrying=!0,setTimeout(()=>{Q(),Y(d,u,i,e)},c)}}},X=(e,t)=>{if(t&&t.data)try{e(JSON.parse(t.data))}catch(t){console.error(t)}};var J=s("./src/reddit/models/Comment/index.ts"),Z=s("./src/reddit/models/Post/index.ts"),ee=s("./src/reddit/models/RichTextJson/index.ts"),te=s("./src/reddit/models/RichTextJson/nodeMakers.ts"),se=s("./src/reddit/models/Toast/index.ts"),re=s("./src/reddit/models/Vote/index.ts"),ne=s("./src/reddit/featureFlags/index.ts"),ae=s("./src/reddit/selectors/comments.ts"),ce=s("./src/reddit/selectors/posts.ts"),ie=s("./src/reddit/selectors/user.ts"),oe=s("./node_modules/lodash/first.js"),de=s.n(oe),ue=s("./node_modules/lodash/isArray.js"),le=s.n(ue),be=s("./src/reddit/helpers/isComment.ts"),pe=s("./src/reddit/models/Flair/index.ts");const Oe=e=>{if(void 0!==e.author&&void 0!==e.author_fullname&&void 0!==e.attribs&&void 0!==e.created_utc&&void 0!==e.name&&void 0!==e.subreddit_id&&void 0!==e.body&&void 0!==e.context&&void 0!==e.link_id&&void 0!==e.score){const t=me(e.attribs);return{author:e.author,authorId:e.author_fullname,body:e.body_html,bodyMD:e.body,created:e.created_utc,distinguishType:fe(t),id:e.name,isAdmin:t===J.c.Admin,isOp:t===J.c.Submitter,isMod:t===J.c.Moderator,markdown:e.body,media:{type:"rtjson",richtextContent:e.rtjson||{document:[{c:[{e:"text",t:e.body}],e:"par"}]},rteMode:k.h.RICH_TEXT},parentId:e.parent_id&&Object(be.a)(e.parent_id)?e.parent_id:null,permalink:e.context,postId:e.link_id,score:e.score,subredditId:e.subreddit_id,approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,collapsed:!1,collapsedReason:null,deletedBy:null,editedAt:null,gildings:null,goldCount:0,ignoreReports:!1,isApproved:!1,isLocked:!1,isDeleted:!1,isRemoved:!1,isScoreHidden:!1,isSpam:!1,isStickied:!1,isSaved:!1,modReports:[],modReportsDismissed:[],numReports:0,postAuthor:null,postTitle:null,sendReplies:!0,userReports:[],userReportsDismissed:[],voteState:re.a.notVoted}}},fe=e=>{switch(e){case J.c.Admin:return y.G.ADMIN;case J.c.Moderator:return y.G.MODERATOR;case J.c.Alumni:return y.G.ALUMNI_ADMIN;default:return""}},me=e=>de()((e||[]).filter(e=>le()(e)&&e.length>=2).sort(e=>e[0]).map(e=>e[1]))||J.c.None;var je=e=>{const t=[];le()(e)||(e=[e]);for(const s of e){const e=Oe(s);e&&t.push(e)}return t};s.d(t,"D",function(){return ye}),s.d(t,"kb",function(){return Ee}),s.d(t,"m",function(){return he}),s.d(t,"S",function(){return Ie}),s.d(t,"ib",function(){return Se}),s.d(t,"M",function(){return Ce}),s.d(t,"R",function(){return De}),s.d(t,"ab",function(){return Re}),s.d(t,"w",function(){return Ae}),s.d(t,"v",function(){return we}),s.d(t,"u",function(){return Pe}),s.d(t,"bb",function(){return Le}),s.d(t,"s",function(){return Ue}),s.d(t,"t",function(){return Me}),s.d(t,"Y",function(){return Be}),s.d(t,"Z",function(){return qe}),s.d(t,"sb",function(){return $e}),s.d(t,"U",function(){return Ve}),s.d(t,"i",function(){return He}),s.d(t,"h",function(){return Ke}),s.d(t,"d",function(){return We}),s.d(t,"e",function(){return Qe}),s.d(t,"c",function(){return Ye}),s.d(t,"b",function(){return ze}),s.d(t,"j",function(){return Xe}),s.d(t,"O",function(){return Je}),s.d(t,"N",function(){return Ze}),s.d(t,"X",function(){return rt}),s.d(t,"pb",function(){return nt}),s.d(t,"L",function(){return ct}),s.d(t,"I",function(){return it}),s.d(t,"eb",function(){return ot}),s.d(t,"rb",function(){return dt}),s.d(t,"T",function(){return ut}),s.d(t,"F",function(){return lt}),s.d(t,"H",function(){return bt}),s.d(t,"G",function(){return pt}),s.d(t,"E",function(){return Ot}),s.d(t,"ob",function(){return mt}),s.d(t,"mb",function(){return jt}),s.d(t,"nb",function(){return _t}),s.d(t,"lb",function(){return Et}),s.d(t,"o",function(){return ht}),s.d(t,"n",function(){return It}),s.d(t,"k",function(){return St}),s.d(t,"f",function(){return Tt}),s.d(t,"l",function(){return vt}),s.d(t,"P",function(){return Dt}),s.d(t,"r",function(){return wt}),s.d(t,"Q",function(){return Pt}),s.d(t,"qb",function(){return xt}),s.d(t,"cb",function(){return Nt}),s.d(t,"db",function(){return kt}),s.d(t,"hb",function(){return Lt}),s.d(t,"p",function(){return Ut}),s.d(t,"J",function(){return Ft}),s.d(t,"q",function(){return Gt}),s.d(t,"B",function(){return Bt}),s.d(t,"A",function(){return qt}),s.d(t,"C",function(){return $t}),s.d(t,"g",function(){return Vt}),s.d(t,"W",function(){return Kt}),s.d(t,"V",function(){return zt}),s.d(t,"gb",function(){return Xt}),s.d(t,"y",function(){return Jt}),s.d(t,"x",function(){return Zt}),s.d(t,"z",function(){return es}),s.d(t,"fb",function(){return ns}),s.d(t,"jb",function(){return as}),s.d(t,"a",function(){return cs}),s.d(t,"K",function(){return is});var ge=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const ye="COMMENT__STICKIED_COMMENT_SUCCESS",_e={},Ee=Object(n.a)(ye),he="COMMENT__MUTATED",Ie=Object(n.a)(he),Se=e=>async(t,s,{apiContext:r})=>{if(!Object(ie.I)(s()))return t(Object(l.b)()),void t(Object(b.l)({actionSource:b.a.Save,redirectUrl:Object(ae.n)(s(),{commentId:e})}));const n=s().comments.models[e];if(!n)return;const a=n.isSaved?v:T;if(t(Ie({[e]:{isSaved:!n.isSaved}})),(await a(r(),e)).ok){const r=Object(ie.Q)(s()),a=n.isSaved?Object(o.a)(r,"comment.unsavedSuccess"):Object(o.a)(r,"comment.savedSuccess"),c=Object(o.a)(r,"comment.savedUndo");t(Object(f.e)({text:a,kind:se.b.Undo,buttonText:c,buttonAction:Se(e)}))}else t(Ie({[e]:{isSaved:n.isSaved}}))},Te=e=>`viewing-comment-${e}`,ve=r.a.telemetry.commentConsumedThreshold,Ce=e=>async(t,s)=>{const n=s();if(!Object(ae.o)(n,{commentId:e})||Math.random()>r.a.telemetry.commentSampleRate)return;(({state:e,commentId:t})=>Object(q.a)(Object.assign({source:"comment",action:"view",noun:"comment"},$.defaults(e),{profile:$.profile(e),post:$.post(e,t),media:$.media(e,t),subreddit:$.subreddit(e),comment:$.comment(e,t)})))({state:n,commentId:e}),q.c.start(Te(e));const a=setTimeout(()=>(({state:e,commentId:t})=>Object(q.a)(Object.assign({source:"comment",action:"consume",noun:"comment"},$.defaults(e),{profile:$.profile(e),post:$.post(e,t),media:$.media(e,t),subreddit:$.subreddit(e),comment:$.comment(e,t)})))({state:n,commentId:e}),ve);_e[e]=a},De=(e,t)=>async(s,r)=>{const n=r(),a=Te(e);if(Object(ae.o)(n,{commentId:e})&&q.c.has(a)){const s=q.c.end(a);!t&&s<ve&&(clearTimeout(_e[e]),delete _e[e])}},Re=e=>async(t,s,{apiContext:r})=>{if(!Object(ie.I)(s()))return void t(Object(b.i)(g.a.LOGIN_MODAL_ID));const n=s().comments.models[e];if(!n)return;const a=n.isLocked?D:C;t(Ie({[e]:{isLocked:!n.isLocked}})),(await a(r(),e)).ok||t(Ie({[e]:{isLocked:n.isLocked}}))},Ae="COMMENT__MORECOMMENTS_PENDING",we="COMMENT__MORECOMMENTS_LOADED",Pe="COMMENT__MORECOMMENTS_FAILED",xe=Object(n.a)(Ae),Ne=Object(n.a)(we),ke=Object(n.a)(Pe),Le=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),i=c.moreComments.models[t],o=c.platform.currentPage,l=o&&o.routeMatch,b=l&&l.match;const p=(b?b.params:null).partialPostId;if(!p)return;const O=Object(Z.h)(p);s(xe({moreCommentsId:i.id}));const f=await((e,t,s)=>Object(_.c)(e,{data:s,endpoint:Object(S.a)(`${r.a.gatewayUrl}/desktopapi/v1/morecomments/${t}`),method:y.jb.POST,type:"json"}))(a(),O,{token:i.token});if(f.ok){const t=f.body,r=Object(F.a)(t,O,c);if(s(Ne(Object.assign({key:e,moreCommentsItem:i,shouldCollapse:r},t))),ne.d.spPoints(n())||ne.d.spSupport(n())||ne.d.spLoadtest(n())){const e=n().posts.models[O];if(e&&"subreddit"===e.belongsTo.type){const r=Object.keys(t.comments),a=r.map(e=>{return t.comments[e].authorId}),c=r.concat(e.id),i=e.belongsTo.id;var m=await Promise.all([Object(u.a)(),Object(d.a)()]),j=ge(m,2);const o=j[0],l=j[1],b=[s(o({subredditId:i,userIds:a}))];(ne.d.spSupport(n())||ne.d.spLoadtest(n()))&&b.push(s(l({subredditId:i,contentIds:c}))),await Promise.all(b)}}}else s(ke(Object.assign({moreCommentsItem:i},f.error)))},Ue="COMMENT__LIVECOMMENTS__NEWCOMMENT",Me="COMMENT__LIVECOMMENTS__UPDATECOMMENT",Fe=Object(n.a)(Ue),Ge=Object(n.a)(Ue),Be=(e,t,s,r)=>async(n,a)=>{(e=>{const t=e.cb,s=e.url,r=e.uniqueId;K&&K.uniqueId===r&&K.url===s&&K.socket.readyState===WebSocket.OPEN||(K&&Q(),Y(r||s,s,Object.assign({},W),t),window&&window.addEventListener("beforeunload",Q.bind(null,s,r)))})({uniqueId:s,url:t,cb:t=>{switch(t.payload&&t.type){case"new_comment":je(t.payload).forEach(s=>{const c=a(),i=t.payload.name,o=Object(ae.o)(c,{commentId:i});if(s){const a=((e,t,s)=>{const r={[t]:{}},n=s.author,a=s.author_flair_background_color,c=s.author_flair_richtext,i=s.author_flair_template_id,o=s.author_flair_text,d=s.author_flair_text_color,u=s.author_flair_type;if(n&&u){if(u===pe.f.Richtext){if(!a||!c)return;return{[t]:{[n]:{type:u,backgroundColor:a,cssClass:void 0,richtext:c,templateId:i,textColor:d}}}}if(u===pe.f.Text)return o?{[t]:{[n]:{type:u,backgroundColor:a,cssClass:void 0,text:o,templateId:i,textColor:d}}}:r}})(0,r,t.payload),i=t.payload.total_comment_count;if(void 0===o){const t=Object(ae.x)(c,{commentsPageKey:e});n(Fe({authorFlair:a,comment:s,commentsPageKey:e,headCommentId:t,numComments:i}))}else n(Ge({authorFlair:a,comment:s,commentsPageKey:e,numComments:i}))}})}}})},qe=(e,t)=>async()=>{Q(e,t)},$e=Object(m.b)(F.b,re.a.upvoted),Ve=Object(m.b)(F.b,re.a.downvoted),He="COMMENT__FOCUSED_TOGGLED",Ke="COMMENT__FOCUSED_SET",We="COMMENT__COLLAPSED_TOGGLED",Qe="COMMENT__COLLAPSED_UNSET",Ye="COMMENTS__HIDDEN_TOGGLED",ze="COMMENTS__HIDDEN_SET",Xe="COMMENT_FORM_FOCUS_CHANGED",Je=Object(n.a)(He),Ze=Object(n.a)(Ke),et=Object(n.a)(We),tt=Object(n.a)(Qe),st=(Object(n.a)(ze),Object(n.a)(Ye),Object(n.a)(Xe)),rt=({hasFocus:e,draftKey:t})=>async(s,r)=>{!r().comments.drafts[t]||s(st({hasFocus:e,draftKey:t}))},nt=({commentId:e,commentsPageKey:t,scrollToAndRemeasure:s})=>async(r,n)=>{const a=n(),c=Object(J.f)(e),i=Object(ae.p)(a,{commentLink:c,commentsPageKey:t}).depth,o=!a.comments.collapsed[t][e];r(et({commentId:e,commentsPageKey:t})),o&&0===i&&s(e,!0),Object(O.r)()},at=({commentId:e,commentsPageKey:t})=>async(s,r)=>{s(tt({commentId:e,commentsPageKey:t}))},ct=({commentLink:e,commentsPageKey:t,lineDepth:s,scrollToAndRemeasure:r})=>async(n,a)=>{const c=a(),i=Object(F.e)(t,e,s,c);n(et({commentId:i,commentsPageKey:t})),0===s&&r(i,!0),Object(O.r)()},it=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.comments.models[e],c=n.user.account?n.user.account.displayText:null;a&&c&&(t(Ie({[e]:{isApproved:!0,approvedBy:c,bannedBy:null,isRemoved:!1,isSpam:!1,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}})),(await((e,t)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/approve`),method:y.jb.POST,data:{id:t}}))(r(),e)).ok||t(Ie({[e]:{isApproved:a.isApproved,approvedBy:null,bannedBy:a.bannedBy,isRemoved:a.isRemoved,isSpam:a.isSpam,modNote:a.modNote,modReasonBy:a.modReasonBy,modRemovalReason:a.modRemovalReason,numReports:a.numReports||null}})),Object(O.r)())},ot=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.comments.models[e],i=a.user.account?a.user.account.displayText:null;c&&i&&(s(Ie({[e]:{approvedBy:null,bannedBy:i,isApproved:!1,isRemoved:!t,isSpam:t}})),(await((e,t,s)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/remove`),method:y.jb.POST,data:{id:t,spam:s}}))(n(),e,t)).ok||s(Ie({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam}})),Object(O.r)())},dt=e=>async(t,s,{apiContext:r})=>{const n=s().comments.models[e];if(!n)return;const a=n.ignoreReports?A:R;t(Ie({[e]:{ignoreReports:!n.ignoreReports}})),(await a(r(),e)).ok||t(Ie({[e]:{ignoreReports:n.ignoreReports}}))},ut=(e,t,s)=>async(r,n,{apiContext:c})=>{const i=n(),o=i.comments.models[e];if(!o)return;const d=o.postId,u=i.postStickiedComments.data[d],l=y.h[t];r(Ie({[e]:{distinguishType:t,isAdmin:t===y.G.ADMIN,isMod:t===y.G.MODERATOR,isStickied:!!s}})),s&&u&&u!==e&&r(Ie({[u]:{isStickied:!1}})),(await((e,t,s,r)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/distinguish/${s}`),method:y.jb.POST,data:{id:t,sticky:r}}))(c(),e,l,s||null)).ok?s&&r(Ee({id:e,postId:d,commentsPageKey:Object(a.a)(d,null,Object.assign({sort:y.t.CONFIDENCE},i.platform.currentPage.queryParams))})):(r(Ie({[e]:{distinguishType:o.distinguishType,isAdmin:o.isAdmin,isMod:o.isMod,isStickied:o.isStickied}})),r(Ie({[u]:{isStickied:i.comments.models[u].isStickied}})))},lt="COMMENT__SUBMIT_COMMENT_PENDING",bt="COMMENT__SUBMIT_REPLY_TO_POST_SUCCESS",pt="COMMENT__SUBMIT_REPLY_TO_COMMENT_SUCCESS",Ot="COMMENT__SUBMIT_COMMENT_FAILURE",ft=Object(n.a)(lt),mt=Object(n.a)(bt),jt=Object(n.a)(pt),gt=Object(n.a)(Ot),yt=(e,t,s,r)=>{const n=r.ok&&r.body,a=n&&n.comment&&n.comment.id;V.f(e,s,t,a)},_t=(e,t,s,r,n,a)=>async(c,i,{apiContext:o})=>{const d=i(),u=d.comments.submit.pending[r];if(!d.user.account||u)return;c(ft({draftKey:r,draft:n}));const l=d.user.account.displayText,b=n.commentMode,p=await L(o(),e,t,n,l,b);if(p.ok){c(mt(Object.assign({},p.body,{headCommentId:Object(ae.x)(d,{commentsPageKey:s}),commentsPageKey:s,draftKey:r})));const e=Object(ce.F)(i(),{postId:t});Object(B.a)(e.events,j.a.CommentSubmitted)}else c(gt({draftKey:r,error:p.error}));yt(i(),s,a,p),Mt||Object(O.r)()},Et=e=>async(t,s,{apiContext:r})=>{const n=e.language,a=e.parentCommentId,c=e.commentsPageKey,i=e.parentCommentDepth,o=e.draftKey,d=e.formData,u=e.editorMode,l=s(),b=l.comments.submit.pending[o];if(!l.user.account||b)return;t(ft({draftKey:o,draft:d}));const p=l.user.account.displayText,f=d.commentMode,m=await L(r(),n,a,d,p,f);m.ok?t(jt(Object.assign({},m.body,{parentCommentId:a,commentsPageKey:c,draftKey:o,depth:i+1}))):t(gt({draftKey:o,error:m.error})),yt(s(),c,u,m),Object(O.r)()},ht="COMMENT__COMMENT_REPLY_FORM_OPENED",It="COMMENT__COMMENT_REPLY_FORM_CANCELLED",St="COMMENT__COMMENT_FORM_MUTATED",Tt="COMMENT__COMMENT_DRAFT_CLEARED",vt="COMMENT__COMMENT_FORM_SWITCHED_MODE",Ct=Object(n.a)(ht),Dt=Object(n.a)(It),Rt=Object(n.a)(St),At=(Object(n.a)(Tt),Object(n.a)(vt)),wt="INITIALIZE_COMMENT_EDITOR_MODE",Pt=(Object(n.a)(wt),(e,t,s)=>async(r,n,{apiContext:a})=>{const c=e===k.h.RICH_TEXT,i=Object(ie.Q)(n());if(!t||"object"==typeof t&&Object(ee.E)(t))r(At({editorMode:e,draftKey:s,content:c?ee.i:""})),r(Object(p.c)(e));else{r(Object(p.b)(s));const n=await Object(M.a)(a(),e,c?t:JSON.stringify(t));if(n.ok){const t=n.body.output;r(Object(p.a)(s)),r(At({editorMode:e,draftKey:s,content:t})),r(Object(p.c)(e))}else r(Object(p.a)(s)),r(Object(f.e)({duration:f.a,kind:se.b.Error,text:Object(o.a)(i,"error.generic")}))}}),xt=({parentCommentId:e,commentsPageKey:t})=>async(s,r)=>{const n=r(),a=Object(c.a)(i.a.replyToComment,e);if(!Object(ie.I)(r()))return s(Object(l.b)()),void s(Object(b.l)({actionSource:b.a.Reply,redirectUrl:Object(ae.n)(r(),{commentId:e})}));if(n.comments.replyFormOpen[t]&&n.comments.replyFormOpen[t][e])return void s(Dt({parentCommentId:e,commentsPageKey:t}));let o="",d=null;const u=n.user.prefs.commentMode,p=Object(G.d)();if(p){const e=p.filter(e=>!!e&&10!==e.charCodeAt(0));if(u===k.h.MARKDOWN)o=e.map(e=>`> ${e}\n`).join("");else{const t=e.map(e=>te.r(e,null)).map(e=>te.k([e])),s=te.r("",null),r=te.k([s]);d={document:[te.c(t),r]}}}const O=n.comments.drafts[a];let f;f=p?{commentMode:u,draftType:i.a.replyToComment,rtJson:d,text:`${o}\n`}:O||{commentMode:u,draftType:i.a.replyToComment,rtJson:d,text:""},s(Ct({parentCommentId:e,commentsPageKey:t,draftKey:a,formData:f}))},Nt=e=>async(t,s)=>{t(at(e)),t(Kt(e))},kt=({parentCommentId:e,commentsPageKey:t})=>async(s,r)=>{s(Dt({parentCommentId:e,commentsPageKey:t})),s(xt({parentCommentId:e,commentsPageKey:t})),s(at({commentId:e,commentsPageKey:t}))},Lt=(e,t)=>s=>s(Rt({draftKey:e,formData:t})),Ut="COMMENT__DISABLE_AUTOFOCUS",Mt=Object(n.a)(Ut),Ft=e=>t=>t(Mt({draftKey:e})),Gt="COMMENT__EDIT_COMMENT_ENABLED",Bt="COMMENT__REQUEST_EDIT_PENDING",qt="COMMENT__REQUEST_EDIT_FAILURE",$t="COMMENT__REQUEST_EDIT_SUCCESS",Vt="COMMENT__COMMENT_EDIT_FORM_CANCELLED",Ht=Object(n.a)(Gt),Kt=({commentId:e,commentMode:t,commentsPageKey:s,draftKey:r,text:n})=>async(a,c)=>{const o=c();o.user.account&&(V.c(o),a(Ht({commentId:e,commentsPageKey:s,draftKey:r,formData:{text:n,commentMode:t,rteState:null,draftType:i.a.edit,hasFocus:!0}})))},Wt=Object(n.a)(Bt),Qt=Object(n.a)(qt),Yt=Object(n.a)($t),zt=Object(n.a)(Vt),Xt=({language:e,id:t,commentsPageKey:s,depth:r,draftKey:n,formData:a})=>async(r,c,{apiContext:i})=>{const o=c();if(!o.user.account)return;r(Wt({draftKey:n})),V.d(o);const d=o.user.account.displayText||"",u=a.commentMode,l=await(async(e,t,s,r,n,a,c)=>{const i={api_type:"json",return_rtjson:!0,thing_id:s};if(c===k.h.MARKDOWN)i.text=n.text;else{i.text=null;let e=null;n.rteState&&(e=w.a.toRichTextJSON(n.rteState).document),i.richtext_json=JSON.stringify({document:e})}return Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(Object(S.a)(`${e.apiUrl}/api/editusertext`)),method:y.jb.POST,data:i}).then(e=>e.ok?e.body.json?e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(N.a)(e)}):Object.assign({},e,{body:{comment:Object(x.a)(e.body.json.data.things[0].data,a)}}):Object.assign({},e,{body:{comment:Object(x.a)(e.body,a)}}):Object.assign({},e,{error:e.error||Object(P.a)(t)}))})(i(),e,t,0,a,d,u);if(l.ok){const e=l.body;r(Yt({commentId:t,commentsPageKey:s,draftKey:n})),r(Ie({[t]:Object.assign({},e.comment)}))}else r(Qt({draftKey:n,error:l.error}))},Jt="COMMENT__REQUEST_DELETE_PENDING",Zt="COMMENT__REQUEST_DELETE_FAILURE",es="COMMENT__REQUEST_DELETE_SUCCESS",ts=Object(n.a)(Jt),ss=Object(n.a)(Zt),rs=Object(n.a)(es),ns=(e,t,s,r)=>async(r,n,{apiContext:a})=>{const c=n();if(!c.user.account)return;r(ts({id:t})),V.a(t,c);const i=await((e,t,s)=>Object(_.c)(Object(E.a)(e,[h.a]),{endpoint:Object(I.a)(`${e.apiUrl}/api/del`),method:y.jb.POST,data:{id:t}}).then(e=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(N.a)(e)}):Object.assign({},e,{body:{}}):Object.assign({},e,{error:e.error||Object(P.a)(s)})))(a(),t,e);i.ok?r(rs({id:t,postId:s})):r(ss({id:t,error:i.error}))},as=e=>async(t,s,{apiContext:r})=>{const n=!s().comments.models[e].sendReplies;t(Ie({[e]:{sendReplies:n}})),(await Object(U.p)(r(),e,n)).ok||t(Ie({[e]:{sendReplies:!n}}))},cs="COMMENT__CHANGE_HIGHLIGHT_FILTER",is=Object(n.a)(cs)},"./src/reddit/actions/commentList.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"c",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/helpers/trackers/commentList.ts");const a="COMMENTLIST__MARKED_END",c="COMMENTLIST__UNMARKED_END",i=Object(r.a)(a),o=Object(r.a)(c),d=(e,t)=>async(s,r)=>{const a=r();e in a.profileCommentsPage.fetchedTokens?e in a.profileCommentsPage.commentIds?s(o({listingKey:e})):n.a(a,e):s(i({listingKey:e,listingName:t}))}},"./src/reddit/actions/contentGate.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"e",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"h",function(){return j}),s.d(t,"i",function(){return g}),s.d(t,"j",function(){return y}),s.d(t,"k",function(){return _}),s.d(t,"l",function(){return E}),s.d(t,"g",function(){return h});var r=s("./src/config.ts"),n=s("./node_modules/js-cookie/src/js.cookie.js"),a=s.n(n),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/constants/cookie.ts"),o=s("./src/reddit/endpoints/user/preferences.ts"),d=s("./src/reddit/selectors/user.ts");const u="CONTENTGATE__VISITED_GOLD_SUBREDDIT",l="CONTENTGATE__VISITED_PRIVATE_SUBREDDIT",b="CONTENTGATE__VISITED_QUARANTINED_SUBREDDIT",p="CONTENTGATE__SET_OVER_18_PREF",O="CONTENTGATE__VISITED_BANNED_SUBREDDIT",f="CONTENTGATE__VISITED_NONEXISTENT_SUBREDDIT",m=Object(c.a)(p),j=Object(c.a)(O),g=Object(c.a)(f),y=Object(c.a)(u),_=Object(c.a)(l),E=Object(c.a)(b),h=()=>async(e,t,{apiContext:s})=>{const n=t();if(Object(d.I)(n)&&n.platform.currentPage)await Object(o.f)(s());else{const e=new Date;e.setFullYear(e.getFullYear()+2),a.a.set(i.g,"1",{expires:e,domain:r.a.cookieDomain})}e(m({over18:!0}))}},"./src/reddit/actions/dashboard.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"e",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts");const n="DASHBOARD__COMPONENT_SELECTED",a="DASHBOARD__SUBREDDIT_SELECTED",c="DASHBOARD__SUBREDDIT_LOADED",i=Object(r.a)(n),o=Object(r.a)(a),d=Object(r.a)(c)},"./src/reddit/actions/discoveryUnit.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/makeListingKey/index.ts"),c=s("./src/reddit/actions/category.ts"),i=s("./src/reddit/actions/pages/subreddit.ts"),o=s("./src/lib/addQueryParams/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/lib/stringInterpolate/index.ts"),b=s("./src/reddit/constants/headers.ts"),p=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),O=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const f=e=>{const t=[],s={};return e.data.children.forEach(e=>{const r=Object(p.a)(e.data);t.push(r.id),s[r.id]=r}),{postIds:t,posts:s}};var m=s("./src/reddit/models/DiscoveryUnit/index.ts"),j=s("./src/reddit/selectors/category.ts"),g=s("./src/reddit/selectors/discoveryUnit.ts"),y=s("./src/reddit/selectors/listings.ts"),_=s("./src/reddit/selectors/posts.ts");s.d(t,"c",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"a",function(){return S}),s.d(t,"h",function(){return D}),s.d(t,"f",function(){return R}),s.d(t,"e",function(){return A}),s.d(t,"d",function(){return w}),s.d(t,"i",function(){return k}),s.d(t,"j",function(){return U}),s.d(t,"g",function(){return M}),s.d(t,"k",function(){return F});var E=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const h="DISCOVERY_UNIT__LIST_PENDING",I="DISCOVERY_UNIT__LIST_LOADED",S="DISCOVERY_UNIT__LIST_FAILED",T=Object(n.a)(h),v=Object(n.a)(I),C=Object(n.a)(S),D=()=>async(e,t,{apiContext:s})=>{const r=t(),n=Object(g.i)(r),a=Object(g.h)(r);if(n||a)return;e(T());const c=await(e=>Promise.resolve({ok:!0,error:null,status:200,headers:{},details:"",body:{global:{discovery_config_v1:{discovery_units:[{id:"xd_66",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_hero",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_67",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_hero",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_68",enabled:!0,layout:"large",parameters:{sort:"hot"},surface:"explore",unit_name:"posts_in_category_rails_small",unit_type:"listing",url:"/api/posts_in_category.json"},{id:"xd_69",enabled:!0,layout:"large",surface:"explore",unit_name:"posts_in_subreddit_small",unit_type:"listing",url:"/r/%{subredditName}/hot.json"},{id:"xd_70",enabled:!0,layout:"large",surface:"search",unit_name:"search_posts",unit_type:"community_category",url:"/api/posts_in_category.json"},{id:"xd_71",enabled:!0,layout:"large",surface:"search",unit_name:"search_subreddits",unit_type:"community_category",url:"/api/subreddits_in_category.json"},{id:"xd_72",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"community_banner_posts",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_83",enabled:!0,layout:"large",surface:"subreddit_listing",unit_name:"best_of_community",unit_type:"subreddit_listing",url:"/r/%{subredditName}/top.json"},{id:"xd_88",enabled:!0,layout:"large",surface:"front_page",title:"Similar communities to %{subredditName}",unit_name:"chaining_similar_subreddits_posts",unit_type:"listing"},{id:"xd_89",enabled:!0,layout:"large",surface:"front_page",title:"Mildy similar posts",unit_name:"chaining_similar_posts",unit_type:"listing"},{id:"xd_90",enabled:!0,layout:"large",surface:"comments",title:"Posts in subreddit %{subredditName}",unit_name:"posts_in_subreddit_vertical",unit_type:"listing"},{id:"xd_91",enabled:!0,layout:"large",surface:"comments",title:"Posts in recommended home",unit_name:"posts_in_rec_home",unit_type:"listing"}]}}}}))(s());if(c.ok){const t=(e=>{return{discoveryUnits:e.global.discovery_config_v1.discovery_units.reduce((e,t)=>{const s={enabled:t.enabled,experiment:t.experiment,id:t.id,index:t.index,layout:t.layout,options:t.options,parameters:t.parameters,subtitle:t.subtitle,subtitleIcon:t.subtitle_icon,surface:t.surface,title:t.title,unitName:t.unit_name,unitType:t.unit_type,url:t.url};return e[s.id]=s,e},{})}})(c.body).discoveryUnits;e(v({discoveryUnits:t}))}else e(C({error:c.error}))},R="DISCOVERY_UNIT__UNIT_DATA_PENDING",A="DISCOVERY_UNIT__UNIT_DATA_LOADED",w="DISCOVERY_UNIT__UNIT_DATA_FAILED",P=Object(n.a)(R),x=Object(n.a)(A),N=Object(n.a)(w),k=(e,t)=>async(s,n,{apiContext:c})=>{const i=n(),o=Object(a.a)(e,r.X.HOT,{category:t}),l=Object(y.h)(i,{listingKey:o}),p=!!i.listings.listingOrder.fetchedTokens[o];if(l||p)return;s(P({key:o}));const m=await((e,t)=>Object(d.c)(Object(u.a)(e,[b.a]),{endpoint:Object(O.a)(`${e.apiUrl}/api/posts_in_category.json?category=${t}`),method:r.jb.GET}))(c(),t);if(m.ok){var j=f(m.body);const e=j.postIds,t=j.posts,r=e.length>0?e.length-1:0;s(x({key:o,meta:i.meta,postIds:e,posts:t,token:e[r]}))}else s(N({key:o,error:m.error}))},L=(e,t,s)=>async(n,c,{apiContext:i})=>{const p=c(),j=((e,t)=>Object(a.a)(e.unitName,r.X.HOT,Object.assign({},e.parameters,t)))(e,t),y=Object(g.g)(p,{listingKey:j,shouldLoadMore:s});if(!y)return;const _=y.fetchedToken;if(n(P({fetchedToken:_,key:j})),!e.url)return void n(x({fetchedToken:"",key:j,meta:p.meta,token:""}));const h=t.category,I=E(t,["category"]),S=Object.assign({},I,{after:_,category_id:h}),T=await((e,t,s)=>{let n=t.url;return t.parameters&&(n=Object(o.a)(Object(l.a)(n,t.parameters),t.parameters)),s&&(n=Object(o.a)(Object(l.a)(n,s),s)),Object(d.c)(Object(u.a)(e,[b.a]),{endpoint:Object(O.a)(`${e.apiUrl}${n}`),method:r.jb.GET})})(i(),e,S);if(T.ok)switch(e.unitName){case m.e:case m.h:case m.f:case m.i:case m.k:case m.l:{var v=f(T.body);const e=v.postIds,t=v.posts;n(x({fetchedToken:_,key:j,meta:p.meta,postIds:e,posts:t,token:e[e.length-1]}));break}}else n(N({key:j,error:T.error}))},U=e=>async(t,s,{apiContext:n})=>{const c=Object(a.a)(e,r.X.HOT);Object(_.z)(s(),{listingKey:c}).length>0||await t(Object(i.f)(c,e,{},!0))},M=(e,t,s,r)=>async(n,a,{apiContext:i})=>{let o;if(await n(c.g()),!s&&!(o=Object(j.f)(a(),{categoryName:t})))return;const d=s||o&&o.id;await Promise.all([n(L(e,{category:d},r)),n(c.h(d))])},F=(e,t,s)=>async(r,n,{apiContext:a})=>{await Promise.all([r(U(t)),r(L(e,{subredditName:t},s))])}},"./src/reddit/actions/economics/ftue/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r="ECONOMICS__FTUE__TIPPING_HIGHLIGHT_VIEWED",n="ECONOMICS__FTUE__TOP_TIPPERS_VIEWED"},"./src/reddit/actions/economics/paymentSystems/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"d",function(){return c});const r="ECONOMICS__PAYMENT_SYSTEM__CARD_DELETE_SUCCESS",n="ECONOMICS__PAYMENT_SYSTEM__INFO_FAILURE",a="ECONOMICS__PAYMENT_SYSTEM__INFO_FETCHED",c="ECONOMICS__PAYMENT_SYSTEM__INFO_PENDING"},"./src/reddit/actions/economics/subredditPremium/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return o});const r="ECONOMICS__SUBREDDIT_PREMIUM__ALL_SUBSCRIPTION_DETAILS_SUCCESS",n="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_APPLIED",a="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_BADGE_TYPE_CHANGED",c="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_MODAL_OPENED",i="ECONOMICS__SUBREDDIT_PREMIUM__BADGE_MANAGEMENT_VIEW_CHANGED",o="ECONOMICS__SUBREDDIT_PREMIUM__PURCHASE_MODAL_OPENED"},"./src/reddit/actions/economics/support/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r="ECONOMICS__SUPPORT__SUPPORT_MODAL_OPENED",n="ECONOMICS__SUPPORT__TOTAL_SUPPORT_INCREASED"},"./src/reddit/actions/economics/tips/async.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r=()=>s.e("EconActions").then(s.bind(null,"./src/reddit/actions/economics/tips/thunkedActions.ts")).then(e=>e.tipDetailsFetched)},"./src/reddit/actions/economics/tips/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r="ECONOMICS__TIPS__TIP_DETAILS_SUCCESS"},"./src/reddit/actions/embedAndImage.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return i});var r=s("./src/lib/makeActionCreator/index.ts");const n="EMBEDS__UNLOADABLE",a="EMBEDS__LOADABLE",c=Object(r.a)(n),i=Object(r.a)(a)},"./src/reddit/actions/emoji.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/forEach.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/lib/uploadToS3/index.ts"),d=s("./src/reddit/constants/headers.ts");const u=async(e,t)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emojis/all`,method:a.jb.GET,type:"json"}).then(e=>(e.ok&&(e.body=(e=>{let t;const s=n()(e,(e,s)=>("snoomojis"!==s&&(t=s),n()(e,(t,s)=>{e[s]={name:s,userFlairAllowed:t.user_flair_allowed,postFlairAllowed:t.post_flair_allowed,modFlairOnly:t.mod_flair_only,url:t.url}})));return{[t]:{emojis:s[t],snoomojis:s.snoomojis}}})(e.body)),e));var l=s("./src/lib/makeActionCreator/index.ts"),b=s("./src/reddit/actions/imageUploads.ts"),p=s("./src/reddit/actions/toaster.ts"),O=s("./src/reddit/helpers/getGenericUploadError.ts"),f=s("./src/reddit/helpers/getS3KeyFromUrl/index.ts"),m=s("./src/reddit/helpers/media/index.ts"),j=s("./src/reddit/i18n/utils.ts"),g=s("./src/reddit/models/Emoji/index.ts"),y=s("./src/reddit/models/Image/index.tsx"),_=s("./src/reddit/models/Toast/index.ts"),E=s("./src/reddit/selectors/subreddit.ts");s.d(t,"h",function(){return h}),s.d(t,"d",function(){return S}),s.d(t,"c",function(){return T}),s.d(t,"g",function(){return D}),s.d(t,"f",function(){return R}),s.d(t,"a",function(){return P}),s.d(t,"p",function(){return k}),s.d(t,"o",function(){return U}),s.d(t,"k",function(){return M}),s.d(t,"l",function(){return F}),s.d(t,"i",function(){return G}),s.d(t,"j",function(){return B}),s.d(t,"b",function(){return q}),s.d(t,"m",function(){return V}),s.d(t,"e",function(){return H}),s.d(t,"n",function(){return W});const h="STRUCTURED_STYLES__NEW_EMOJI_ADDED",I=Object(l.a)(h),S="STRUCTURED_STYLES__EMOJI_DELETE_LOADED",T="STRUCTURED_STYLES__EMOJI_DELETE_FAILED",v=Object(l.a)(S),C=Object(l.a)(T),D="GET_ALL_EMOJIS_LOADED",R="GET_ALL_EMOJIS_FAILED",A=Object(l.a)(D),w=Object(l.a)(R),P="STRUCTURED_STYLES__EMOJIS_ENABLED_SETTING_LOADED",x=Object(l.a)(P),N=e=>({text:"Failed to save emoji",buttonText:"Retry",buttonAction:U(e)}),k=({imageData:e,subredditId:t})=>async(s,r,n)=>{const u=r(),l=Object(E.S)(u,{subredditId:t}).name;s(Object(b.k)(e));const p=e.file,O=await Object(m.g)(p),f=await(async(e,t,s,r)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji_asset_upload_s3.json`,method:a.jb.POST,data:{filepath:s,mimetype:r}}))(n.apiContext(),l,p.name,O);let j=!1;if(f.ok){const t=await(async(e,t,s)=>Object(o.a)(s,t))(n.apiContext(),f.body.s3UploadLease,p);if(t.ok){if(!r().imageUploads[e.id])return Object(y.d)(e),!1;const n=decodeURIComponent(t.body.PostResponse.Location),a=f.body.websocketUrl,c=Object(y.m)(e,n,a);s(Object(b.j)(c)),j=!0}else{const r=Object(y.j)(e,t.error);s(Object(b.i)(r))}}else{const t=Object(y.j)(e,f.error);s(Object(b.i)(t))}return j},L=(e,t)=>async(s,r,n)=>{const o=e.imageData,u=e.subredditId,l=e.emojiName,O=e.settings,m=Object(f.a)(o.url),j=r(),g=Object(E.S)(j,{subredditId:u}).name,_=await(async(e,t,s,r,n)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji.json`,method:a.jb.POST,data:{s3_key:s,name:r,mod_flair_only:n.modFlairOnly,post_flair_allowed:n.postFlairAllowed,user_flair_allowed:n.userFlairAllowed}}))(n.apiContext(),g,m,l,O);if(!_.ok){const r=Object(y.j)(o,_.error);s(Object(b.i)(r)),s(Object(p.e)(N(e))),t&&t.close()}return _.ok},U=e=>async(t,s,r)=>{const n=e.imageData,a=e.subredditId,c=e.emojiName,i=e.settings;if(t(Object(b.k)(n)),!n.websocketUrl)return t(Object(p.e)({text:"Could not upload emoji"}));let o;const d=new WebSocket(n.websocketUrl);return d.onopen=(async()=>{o=await L(e,d)(t,s,r)}),d.onmessage=(s=>{const r=JSON.parse(s.data);if("success"===r.type){o=!0;const e=r.payload.emoji_url,s=Object(y.n)(n,e);t(Object(b.l)(s));const d=Object(g.e)(c,s.url,a,i);t(I(d)),t(M(a))}else{const s=Object(O.a)(c),r=Object(y.j)(n,s);t(Object(b.i)(r)),t(Object(p.e)(N(e)))}d.close()}),d.onerror=(s=>{o=!1;const r=Object(O.a)(c),a=Object(y.j)(n,r);t(Object(b.i)(a)),t(Object(p.e)(N(e))),d.close()}),o},M=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(E.S)(n,{subredditId:e}).name,c=await u(r(),a);if(c.ok){const e=c.body;t(A(e))}else t(w(c.error))},F=e=>async(t,s,{apiContext:r})=>{s().emojis[e]||await t(M(e))},G=(e,t)=>async(s,r,{apiContext:n})=>{const o=r(),u=Object(E.S)(o,{subredditId:t}).name,l=await(async(e,t,s)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${s}/emoji/${t}`,method:a.jb.DELETE,type:"json"}))(n(),e,u);if(l.ok){s(v({emojiName:e,subredditId:t})),s(p.e({kind:_.b.SuccessCommunityGreen,text:Object(j.c)("Emoji successfully deleted")}))}else s(C(l.error)),s(p.e({kind:_.b.Error,text:Object(j.c)("Something went wrong")}))},B=(e,t)=>async(s,r,{apiContext:n})=>{const o=r(),u=Object(E.S)(o,{subredditId:e}).name;if((await(async(e,t,s)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/enable_emojis_in_sr.json`,method:a.jb.POST,data:{subreddit:t,enable:s}}))(n(),u,t)).ok){s(x({subredditId:e,emojisEnabled:t}))}else s(p.e({kind:_.b.Error,text:Object(j.c)("Try again later")}))},q="EMOJI_CUSTOM_SIZE_UPDATED",$=Object(l.a)(q),V=(e,t)=>async(s,r,{apiContext:n})=>{const o=r(),u=Object(E.S)(o,{subredditId:e}).name;(await(async(e,t,s)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/emoji_custom_size`,method:a.jb.POST,data:s}))(n(),u,t)).ok?s($({subredditId:e,emojiCustomSize:t})):s(p.e({kind:_.b.Error,text:Object(j.c)("Try again later")}))},H="EMOJI_PERMISSIONS_UPDATED",K=Object(l.a)(H),W=(e,t,s,r)=>async(n,o,{apiContext:u})=>{const l=o(),b=Object(E.S)(l,{subredditId:r}).name;(await(async(e,t,s,r)=>Object(c.c)(Object(i.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/v1/${s}/emoji_permissions.json`,method:a.jb.POST,data:{name:t,post_flair_allowed:r.postFlairAllowed,user_flair_allowed:r.userFlairAllowed,mod_flair_only:r.modFlairOnly}}))(u(),e,b,s)).ok?(n(K({emojiName:e,isSnoomoji:t,settings:s,subredditId:r})),n(p.e({kind:_.b.SuccessCommunityGreen,text:Object(j.c)("Emoji permissions updated")}))):n(p.e({kind:_.b.Error,text:Object(j.c)("Try again later")}))}},"./src/reddit/actions/events.ts":function(e,t,s){"use strict";s.r(t);var r=s("./src/app/strings/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/toaster.ts"),i=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),d=s("./src/reddit/constants/headers.ts");var u=(e,t,s,r,a)=>Object(i.c)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/event_post_time.json`,method:n.jb.POST,data:{id:t,event_start:s,event_end:r,event_tz:a}});var l=(e,t)=>Object(i.c)(Object(o.a)(e,[d.a]),{endpoint:`${e.apiUrl}/api/start_event_post.json`,method:n.jb.POST,data:{id:t}}),b=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/selectors/posts.ts");s.d(t,"START_EVENT_NOW_SUCCESS",function(){return O}),s.d(t,"startEventNowSuccess",function(){return f}),s.d(t,"startEventNowRequested",function(){return m}),s.d(t,"EDIT_EVENT_TIME_SUCCESS",function(){return j}),s.d(t,"editEventTimeSuccess",function(){return g}),s.d(t,"editEventTimeRequested",function(){return y});const O="START_EVENT_NOW_SUCCESS",f=Object(a.a)(O),m=e=>async(t,s,{apiContext:n})=>{const a=await l(n(),e),i=s();if(a.ok){t(f({postId:e}));const n=s(),a=Object(p.F)(n,{postId:e}),i=a&&a.title||"";t(Object(c.e)({kind:b.b.SuccessMod,text:Object(r.a)(n.user.language,"events.eventStartedSuccessfully",{title:i})}))}else t(Object(c.e)({kind:b.b.Error,text:Object(r.a)(i.user.language,"error.type.generic")}))},j="EDIT_EVENT_TIME_SUCCESS",g=Object(a.a)(j),y=(e,t)=>async(s,a,{apiContext:i})=>{const o=await u(i(),e,t.startDate,t.endDate,t.timezoneName),d=a();if(o.ok){const t=o.body,i=14400,d=Math.round(t.event_start/n.Wb);let u=t.event_end;const l={eventStart:d,eventEnd:u=u&&Math.round(u/n.Wb)||d+i,eventIsLive:t.event_is_live};s(g({postId:e,eventInfo:l}));const O=a(),f=Object(p.F)(O,{postId:e}),m=f&&f.title||"";s(Object(c.e)({kind:b.b.SuccessMod,text:Object(r.a)(O.user.language,"events.eventTimeUpdatedSuccessfully",{title:m})}))}else s(Object(c.e)({kind:b.b.Error,text:Object(r.a)(d.user.language,"error.type.generic")}))}},"./src/reddit/actions/experiments.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/lib/makeActionCreator/index.ts");s("./src/reddit/endpoints/user/index.ts");const n="EXPERIMENTS__REQUEST_LOADED",a=(Object(r.a)("EXPERIMENTS__REQUEST_PENDING"),Object(r.a)("EXPERIMENTS__REQUEST_FAILED"),Object(r.a)(n),"EXPERIMENTS__SET_EXPERIMENT_OVERRIDE"),c=Object(r.a)(a)},"./src/reddit/actions/exportImportStyles.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"d",function(){return _}),s.d(t,"e",function(){return E});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/loadWithRetries/index.ts"),c=s("./src/reddit/actions/structuredStyles.ts"),i=s("./src/reddit/actions/toaster.ts"),o=s("./src/reddit/models/StructuredStyles/index.ts"),d=s("./src/reddit/models/Toast/index.ts"),u=s("./src/reddit/selectors/subreddit.ts");const l="STRUCTURED_STYLES__EXPORT_THEME_PENDING",b="STRUCTURED_STYLES__EXPORT_THEME_LOADED",p="STRUCTURED_STYLES__EXPORT_THEME_FAILED",O=Object(r.a)(l),f=Object(r.a)(b),m=Object(r.a)(p),j=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_PENDING"),g=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_LOADED"),y=Object(r.a)("STRUCTURED_STYLES__IMPORT_THEME_FAILED"),_=e=>async(t,r)=>{t(O());const c=r(),o=c.user.language,l=Object(u.S)(c,{subredditId:e}).name,b=c.structuredStyles.models[e],p=await Object(a.a)(()=>Promise.all([s.e("vendors~ExportTheme~ImportTheme~xml2js"),s.e("vendors~ExportTheme~ImportTheme"),s.e("ExportTheme")]).then(s.bind(null,"./src/reddit/helpers/exportTheme/index.ts"))).then(e=>e.default),j=await p(b,l);j.ok?(t(f()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(n.a)(o,"structuredStyles.forms.themes.exportSuccessToast")}))):(t(m(j.error)),t(Object(i.e)({kind:d.b.Error,text:Object(n.a)(o,"structuredStyles.forms.themes.exportFailToast")})))},E=e=>async(t,r)=>{t(j());const u=r().user.language,l=await Object(a.a)(()=>Promise.all([s.e("vendors~ExportTheme~ImportTheme~xml2js"),s.e("vendors~ExportTheme~ImportTheme"),s.e("ImportTheme")]).then(s.bind(null,"./src/reddit/helpers/importTheme/index.ts"))).then(e=>e.default),b=await l(e);b.ok?(t(g()),t(Object(i.e)({kind:d.b.SuccessMod,text:Object(n.a)(u,"structuredStyles.forms.themes.importSuccessToast")})),0!==Object.keys(b.attributes).length&&t(Object(c.n)(Object(o.h)(b.attributes)))):(t(y(b.error)),t(Object(i.e)({kind:d.b.Error,text:Object(n.a)(u,"structuredStyles.forms.themes.importFailToast")})))}},"./src/reddit/actions/externalAccount.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/addQueryParams/index.ts"),c=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/constants/parameters.ts"),o=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/reddit/constants/headers.ts"),b=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");const p=e=>{return e.reduce((e,t)=>(e[t.provider]=t,e),{})};var O=s("./src/reddit/models/Toast/index.ts"),f=s("./src/reddit/models/User/index.ts"),m=s("./src/reddit/selectors/externalAccount.ts"),j=s("./src/reddit/selectors/platform.ts"),g=s("./src/reddit/selectors/subreddit.ts"),y=s("./src/reddit/selectors/user.ts");s.d(t,"l",function(){return _}),s.d(t,"k",function(){return E}),s.d(t,"j",function(){return h}),s.d(t,"i",function(){return I}),s.d(t,"h",function(){return S}),s.d(t,"g",function(){return T}),s.d(t,"o",function(){return P}),s.d(t,"p",function(){return x}),s.d(t,"b",function(){return N}),s.d(t,"c",function(){return k}),s.d(t,"a",function(){return L}),s.d(t,"n",function(){return G}),s.d(t,"e",function(){return B}),s.d(t,"f",function(){return q}),s.d(t,"d",function(){return $}),s.d(t,"m",function(){return W});const _="USER_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",E="USER_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",h="USER_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",I="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_PENDING",S="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_LOADED",T="SUBREDDIT_EXTERNAL_ACCOUNT_ACCOUNTS_FAILED",v=Object(r.a)(_),C=Object(r.a)(E),D=Object(r.a)(h),R=Object(r.a)(I),A=Object(r.a)(S),w=Object(r.a)(T),P=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(y.j)(n),c=e||a&&Object(f.f)(a);if(!c)return;if(Object(m.f)(n,{username:c}))return;t(v(c));const i=await((e,t)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/user/${t}.json`),method:o.jb.GET}))(r(),c);if(i.ok){const e=p(i.body);t(C({username:c,accountsData:e}))}else t(D(i.error))},x=()=>async(e,t,{apiContext:s})=>{const r=t(),n=Object(j.e)(r);if(!n)return;const a=r.externalAccount.api.subreddit.fetched[n],c=r.externalAccount.api.subreddit.pending[n];if(a||c)return;const i=Object(g.z)(r,{subredditName:n});if(!(i&&i.hasExternalAccount))return;e(R(n));const O=await((e,t)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/subreddit/${t}.json`),method:o.jb.GET}))(s(),n);if(O.ok){const t=p(O.body);e(A({subredditName:n,accountsData:t}))}else e(w(O.error))},N="EXTERNAL_ACCOUNT_DISCONNECT_PENDING",k="EXTERNAL_ACCOUNT_DISCONNECT_SUCCESS",L="EXTERNAL_ACCOUNT_DISCONNECT_FAILED",U=Object(r.a)(N),M=Object(r.a)(k),F=Object(r.a)(L),G=e=>async(t,s,{apiContext:r})=>{t(U({provider:e}));const n=Object(y.j)(s()),a=Object(f.f)(n),c=await((e,t)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/${t}/disconnect.json`),method:o.jb.POST}))(r(),e);c.ok?t(M({provider:e,username:a})):t(F({provider:e,error:c.error}))},B="OAUTH_FLOW_URL_PENDING",q="OAUTH_FLOW_URL_SUCCESS",$="OAUTH_FLOW_URL_FAILED",V=Object(r.a)(B),H=Object(r.a)(q),K=Object(r.a)($),W=e=>async(t,s,{apiContext:r})=>{t(V({provider:e}));const p=Object(y.Q)(s()),f=Object(a.a)(window.location.href,{[i.c]:e}),m=await((e,t,s)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/v1/external_account/${t}/connect.json`),method:o.jb.POST,data:{redirect_url:s}}))(r(),e,f);if(m.ok){const s=m.body.redirect_url;t(H({provider:e})),window.location.href=s}else t(K({provider:e,error:m.error})),t(Object(c.e)({kind:O.b.Error,text:Object(n.a)(p,"error.type.generic")}))}},"./src/reddit/actions/flairManagement/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r="FLAIR_PREVIEW_EXAMPLE_POST_CREATED",n="FLAIR_PREVIEW_EXAMPLE_POST_DELETED"},"./src/reddit/actions/frontpage.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return y}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"d",function(){return T});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/getParsedUserAgent/index.ts"),c=s("./src/reddit/constants/parameters.ts"),i=s("./src/reddit/endpoints/page/frontpage.ts"),o=s("./src/reddit/endpoints/page/subredditPage.ts"),d=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),u=s("./src/lib/makeActionCreator/index.ts"),l=s("./src/lib/makeListingKey/index.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/reddit/constants/page.ts"),O=s("./src/reddit/constants/postLayout.ts"),f=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/reddit/helpers/filterListingResponse/index.ts"),j=s("./src/reddit/selectors/frontpage.ts"),g=s("./src/reddit/selectors/monthsToMinutes.ts");const y="FRONTPAGE__MORE_POSTS_PENDING",_="FRONTPAGE__MORE_POSTS_LOADED",E="FRONTPAGE__MORE_POSTS_FAILED",h=Object(u.a)(y),I=Object(u.a)(_),S=Object(u.a)(E),T=e=>async(t,s,{apiContext:r})=>{const u=s(),y=Object(j.a)(u);var _=e.sort;const E=void 0===_?y:_,T=u.platform.currentPage?u.platform.currentPage.queryParams:{},v=Object(l.a)(p.b,E,T),C=u.listings.postOrder.loadMore[v],D=T[c.t]?T[c.t].toUpperCase():"",R=D in b.qc&&b.qc[D];if(C){const e=u.listings.postOrder.api.pending[v],s=u.listings.postOrder.fetchedTokens,l=!(!s[v]||!s[v][C.token]);if(!e&&!l){t(h({key:v,fetchedToken:C.token}));const e=!!u.platform.currentPage&&!!u.platform.currentPage.queryParams.useMockData,s=Object.assign({after:C.token,dist:C.dist},n()(T,c.j),{isMobile:Object(a.e)(u.meta.userAgent),sort:E,t:Object(d.a)(E,R),layout:O.d[Object(f.O)(u,{})],useMockData:e}),l=Object(g.e)(u),b=Object(g.g)(u),p=l&&b;if(!p){const e=u.platform.lastPage,t=e&&e.url;t&&(s.clickUrl=t)}const j=p?()=>Object(o.a)(r(),l,s):()=>Object(i.a)(r(),s),y=await j(),_=Object.assign({},y.body,Object(m.a)(u,v,y.body));y.ok?t(I(Object.assign({key:v,fetchedToken:C.token,meta:u.meta},_))):t(S(Object.assign({key:v,error:y.error,fetchedToken:C.token},_)))}}}},"./src/reddit/actions/gameOfThronesEvent/constants.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"f",function(){return c}),s.d(t,"g",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"i",function(){return d}),s.d(t,"h",function(){return u}),s.d(t,"a",function(){return l});const r="GOT_POLL_LOADED",n="GOT_POLL_PENDING",a="GOT_POLL_FAILED",c="GOT_POLL_SUBMIT_LOADED",i="GOT_POLL_SUBMIT_PENDING",o="GOT_POLL_SUBMIT_FAILED",d="GOT_SUBREDDIT_POSTS_LOADED",u="GOT_SHOW_PLEDGE_BANNER",l="GOT_HIDE_PLEDGE_BANNER"},"./src/reddit/actions/gameOfThronesEvent/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/makeListingKey/index.ts"),c=s("./src/reddit/actions/gameOfThronesEvent/constants.ts"),i=s("./src/reddit/constants/gameOfThrones.ts"),o=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/lib/omitHeaders/index.ts"),u=s("./src/reddit/constants/headers.ts");var l=s("./src/reddit/endpoints/subreddit/posts.ts"),b=s("./src/reddit/helpers/normalizePostsFromGql/index.ts"),p=s("./src/reddit/models/Post/index.ts"),O=s("./src/reddit/selectors/gameOfThrones.ts");s.d(t,"a",function(){return _}),s.d(t,"b",function(){return S}),s.d(t,"d",function(){return v}),s.d(t,"c",function(){return C});const f=Object(n.a)(c.d),m=Object(n.a)(c.c),j=Object(n.a)(c.b),g=Object(n.a)(c.i),y=()=>async(e,t,s)=>{const n=t(),a=Object(O.k)(n),c=Object(O.e)(n),l=Object(O.j)(n);if(a||c&&!l)return;e(f());let b=!1;try{const n=await(e=>Object(o.c)(Object(d.a)(e,[u.a]),{endpoint:Object(o.b)(`${e.apiUrl}/api/v1/fpolls.json`),method:r.jb.GET,forceIncludeRedditHeaders:!0}))(s.apiContext());if(n.ok){const s=n.body;e(m({data:s})),b=!0;const r=t(),a=Object(O.c)(r);a&&await e(T({first:i.a,sort:i.b,subredditName:a.name},Object(O.a)(a)))}}catch(p){b=!1}b||e(j({error:{type:"API failed or caught by try and catch"}}))},_=()=>async(e,t,s)=>e(y()),E=Object(n.a)(c.g),h=Object(n.a)(c.f),I=Object(n.a)(c.e),S=e=>async(t,s,n)=>{const a=s(),c=Object(O.e)(a),l=Object(O.f)(a),b=Object(O.l)(a);let p=!1;if(!c||!l||b)return p;t(E());try{const a=await((e,t,s,n)=>Object(o.c)(Object(d.a)(e,[u.a]),{endpoint:Object(o.b)(`${e.apiUrl}/api/v1/fpolls/${t}/${s}.json`),method:r.jb.POST,data:{answer_id:n},forceIncludeRedditHeaders:!0}))(n.apiContext(),c.id,l.id,e);if(a.ok&&!1!==a.body){t(h({answerId:e})),p=!0;const r=s(),n=Object(O.c)(r);n&&await t(T({first:i.a,sort:i.b,subredditName:n.name},Object(O.a)(n)))}}catch(f){p=!1}return p||t(I({error:{type:"API failed or caught by try and catch"}})),p},T=(e,t)=>async(s,n,{gqlContext:c})=>{try{const o=n(),d=(await Object(l.a)(c(),e)).body;const u=(e=>{const t=e.edges.filter(e=>e.node.__typename!==p.d.AdPost);return Object.assign({},e,{edges:t})})((d&&d.data&&d.data.subreddit).posts),O=Object(b.a)(u),f=e.range,m=e.sort,j=e.subredditName,y=void 0===t?Object(a.a)(j,r.X[m],{t:f}):t,_=(e=>e.reduce((e,t)=>(e[t.id]=t,e),{}))(O),E={key:y,postIds:O.map(e=>e.id),meta:o.meta,posts:_};s(g(E))}catch(i){}},v=Object(n.a)(c.h),C=Object(n.a)(c.a)},"./src/reddit/actions/global.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return u});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/raven/index.ts"),a=s("./src/reddit/actions/monthsToMinutes.ts"),c=s("./src/reddit/helpers/monthsToMinutes/index.ts"),i=s("./src/reddit/selectors/user.ts");const o="LOCAL_STORAGE_LOADED",d=Object(r.a)(o),u=e=>async(t,s)=>{let r=s();Object(i.I)(r)?Object(c.b)():t(Object(a.h)()),(r=s()).user.loid.loid||Object(n.c)("User has no LOID set");const o=e.localStorageData;o&&t(d(o))}},"./src/reddit/actions/gold/communityAwards.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return f}),s.d(t,"d",function(){return m}),s.d(t,"a",function(){return y}),s.d(t,"b",function(){return E}),s.d(t,"f",function(){return h}),s.d(t,"g",function(){return C}),s.d(t,"e",function(){return A});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/models/Gold/Award.ts"),o=s("./src/reddit/models/Toast/index.ts"),d=s("./src/reddit/selectors/activeModalId.ts"),u=s("./src/reddit/selectors/communityAwards.ts"),l=s("./src/reddit/selectors/user.ts"),b=s("./src/reddit/endpoints/gold/communityAwards.ts"),p=s("./src/reddit/constants/gold.ts"),O=s("./src/reddit/actions/gold/constants.ts");const f=(e,t,s,n,a,c)=>async(i,o,{gqlContext:d})=>{i(j());const u=Object(l.Q)(o());try{if((await Object(b.a)(d(),e,t,s,n,a,c)).error){const e=Object(r.a)(u,"communityAwards.errors.awardCreationError");await i(y(e))}}catch(p){const e=Object(r.a)(u,"communityAwards.errors.awardCreationError");await i(y(e))}},m=(e,t,s,n,a,c)=>async(i,o,{gqlContext:d})=>{i(j());const u=Object(l.Q)(o());try{if((await Object(b.b)(d(),e,t,s,n,a,c)).error){const e=Object(r.a)(u,"communityAwards.errors.awardCreationError");await i(y(e))}}catch(p){const e=Object(r.a)(u,"communityAwards.errors.awardCreationError");await i(y(e))}},j=Object(n.a)(O.d),g=Object(n.a)(O.c),y=e=>async(t,s)=>{await t(g(e)),t(Object(c.e)({kind:o.b.Error,duration:c.a,text:e}))},_=Object(n.a)(O.e),E=({award:e,subredditId:t})=>async(s,n)=>{const i=n();s(_({award:e,subredditId:t})),Object(d.a)(i)===p.a&&s(Object(a.i)(p.a));const u=Object(l.Q)(i);s(Object(c.e)({kind:o.b.SuccessCommunity,text:Object(r.a)(u,"communityAwards.creationModal.successfullyCreated")}))},h=e=>async(t,s,{gqlContext:n})=>{const a=s(),c=Object(l.Q)(a);if(!!!a.awards.manageable.order[e]){t(I({subredditId:e}));try{const s=await Object(b.f)(n(),e);if(s.ok){const r=s.body;await t(S({awards:r.data.subreddit.manageableAwards,subredditId:e}))}else{const e=Object(r.a)(c,"communityAwards.errors.manageableAwardsError");await t(v(e))}}catch(i){const e=Object(r.a)(c,"communityAwards.errors.manageableAwardsError");await t(v(e))}}},I=Object(n.a)(O.C),S=Object(n.a)(O.B),T=Object(n.a)(O.A),v=e=>async(t,s)=>{await t(T(e)),t(Object(c.e)({kind:o.b.Error,duration:c.a,text:e}))},C=e=>async(t,s,{gqlContext:r})=>{if(!!!s().awards.usable.order[e]){t(D({subredditId:e}));try{const s=await Object(b.g)(r(),e);if(s.ok){const r=s.body;return void(await t(R({awards:r.data.subreddit.usableAwards,subredditId:e})))}}catch(n){}await t(R({awards:i.f,subredditId:e}))}},D=Object(n.a)(O.J),R=Object(n.a)(O.I),A=(Object(n.a)(O.H),Object(n.a)(O.g),Object(n.a)(O.h),Object(n.a)(O.f),(e,t)=>async(s,n,{gqlContext:a})=>{s(w());const i=Object(l.Q)(n());try{if((await Object(b.e)(a(),t)).error){const e=Object(r.a)(i,"communityAwards.errors.awardDisableError");await s(N(e))}else{await s(P({awardId:t,subredditId:e}));const a=Object(u.a)(n(),t);if(!a)return;const d=Object(r.a)(i,"communityAwards.disableModal.successfullyDisabled",{awardName:a.name});s(Object(c.e)({kind:o.b.SuccessCommunity,duration:c.a,text:d}))}}catch(d){const e=Object(r.a)(i,"communityAwards.errors.awardDisableError");await s(N(e))}}),w=Object(n.a)(O.j),P=Object(n.a)(O.k),x=Object(n.a)(O.i),N=e=>async(t,s)=>{await t(x(e)),t(Object(c.e)({kind:o.b.Error,duration:c.a,text:e}))}},"./src/reddit/actions/gold/constants.ts":function(e,t,s){"use strict";s.d(t,"F",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"E",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"D",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"g",function(){return l}),s.d(t,"h",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"j",function(){return O}),s.d(t,"k",function(){return f}),s.d(t,"i",function(){return m}),s.d(t,"C",function(){return j}),s.d(t,"B",function(){return g}),s.d(t,"A",function(){return y}),s.d(t,"J",function(){return _}),s.d(t,"I",function(){return E}),s.d(t,"H",function(){return h}),s.d(t,"u",function(){return I}),s.d(t,"y",function(){return S}),s.d(t,"t",function(){return T}),s.d(t,"v",function(){return v}),s.d(t,"x",function(){return C}),s.d(t,"w",function(){return D}),s.d(t,"z",function(){return R}),s.d(t,"n",function(){return A}),s.d(t,"p",function(){return w}),s.d(t,"o",function(){return P}),s.d(t,"s",function(){return x}),s.d(t,"r",function(){return N}),s.d(t,"m",function(){return k}),s.d(t,"q",function(){return L}),s.d(t,"l",function(){return U}),s.d(t,"G",function(){return M});const r="GIVE_PREMIUM__OPEN_GIVE_PREMIUM_MODAL",n="GIVE_PREMIUM__CLOSE_GIVE_PREMIUM_MODAL",a="GILD__OPEN_GILD_MODAL",c="GILD__CLOSE_GILD_MODAL",i="GILD__OPEN_FRAMED_GILD",o="COMMUNITY_AWARDS__CREATE_AWARD_PENDING",d="COMMUNITY_AWARDS__CREATE_AWARD_SUCCESSFUL",u="COMMUNITY_AWARDS__CREATE_AWARD_FAILED",l="COMMUNITY_AWARDS__DELETE_AWARD_PENDING",b="COMMUNITY_AWARDS__DELETE_AWARD_SUCCESSFUL",p="COMMUNITY_AWARDS__DELETE_AWARD_FAILED",O="COMMUNITY_AWARDS__DISABLE_AWARD_PENDING",f="COMMUNITY_AWARDS__DISABLE_AWARD_SUCCESSFUL",m="COMMUNITY_AWARDS__DISABLE_AWARD_FAILED",j="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_PENDING",g="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_LOADED",y="COMMUNITY_AWARDS__MANAGEABLE_AWARDS_FAILED",_="COMMUNITY_AWARDS__USABLE_AWARDS_PENDING",E="COMMUNITY_AWARDS__USABLE_AWARDS_LOADED",h="COMMUNITY_AWARDS__USABLE_AWARDS_FAILED",I="GIVE_PREMIUM__GIVE_PREMIUM_PENDING",S="GIVE_PREMIUM__GIVE_PREMIUM_SUCCESSFUL",T="GIVE_PREMIUM__GIVE_PREMIUM_FAILED",v="GIVE_PREMIUM__SELECT_PACKAGE",C="GIVE_PREMIUM__SET_IS_ANONYMOUS",D="GIVE_PREMIUM__SET_INCLUDE_MESSAGE",R="GIVE_PREMIUM__UPDATE_MESSAGE",A="GILD__SELECT_GILD_TYPE",w="GILD__SET_IS_ANONYMOUS",P="GILD__SET_INCLUDE_MESSAGE",x="GILD__UPDATE_MESSAGE",N="GILD__TRIGGER_LOADER",k="GILD__GILD_PENDING",L="GILD__GILD_SUCCESSFUL",U="GILD__GILD_FAILED",M="GIVE_AWARD__SELECT_AWARD"},"./src/reddit/actions/gold/modals.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return b}),s.d(t,"b",function(){return O}),s.d(t,"d",function(){return m}),s.d(t,"c",function(){return g}),s.d(t,"a",function(){return y}),s.d(t,"f",function(){return _});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/messageIframeParent/index.ts"),a=s("./src/reddit/featureFlags/createCommunityAwards.ts"),c=s("./src/reddit/selectors/gild.ts"),i=s("./src/reddit/helpers/correlationIdTracker.ts"),o=s("./src/reddit/actions/gold/communityAwards.ts"),d=s("./src/reddit/selectors/subreddit.ts"),u=s("./src/telemetry/index.ts"),l=s("./src/reddit/actions/gold/constants.ts");const b=Object(r.a)(l.F),p=Object(r.a)(l.b),O=()=>async(e,t)=>{const r=t();e(p()),Object(i.b)(i.a.GiftPremiumFlow);const n=(await s.e("givePremiumTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"))).clickCloseModalEvent;Object(u.a)(n()(r))},f=Object(r.a)(l.E),m=e=>async(t,s)=>{const r=s();t(f(e));const n=Object(d.M)(r,{thingId:e});n&&Object(a.b)(n.name)&&Object(o.g)(n.id)},j=Object(r.a)(l.a),g=Object(r.a)(l.D),y=()=>async(e,t)=>{const r=t(),a=Object(c.d)(r);if(Object(c.h)(r)){const e="close.gild";Object(n.a)({type:e})}e(j());const o=(await s.e("gildTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/gild.ts"))).clickCloseGildModalEvent;Object(u.a)(o(a)(r)),Object(i.b)(i.a.GildingFlow)},_=()=>async()=>{Object(n.a)({type:"login.gild"})}},"./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"g",function(){return j}),s.d(t,"f",function(){return g}),s.d(t,"c",function(){return y}),s.d(t,"e",function(){return _}),s.d(t,"h",function(){return E}),s.d(t,"k",function(){return h}),s.d(t,"j",function(){return I}),s.d(t,"d",function(){return S}),s.d(t,"i",function(){return v});var r=s("./src/app/strings/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/formatApiError/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/actions/goldPurchaseModals/payment.ts"),o=s("./src/reddit/endpoints/gold/purchase.ts"),d=s("./src/reddit/helpers/correlationIdTracker.ts"),u=s("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),l=s("./src/reddit/models/Gold/Award.ts"),b=s("./src/reddit/models/Gold/Coins/index.ts"),p=s("./src/reddit/selectors/goldPurchaseModals.ts"),O=s("./src/reddit/selectors/user.ts");const f="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL",m="COIN_PURCHASE_MODAL__CLOSE_COIN_PURCHASE_MODAL",j=Object(c.a)(f),g=Object(c.a)(m),y="COIN_PURCHASE_MODAL__OPEN_COIN_PURCHASE_MODAL_TO_GILD",_=Object(c.a)(y),E=(e,t,s)=>async r=>{r(_({thingId:s}));const n=Object(b.b)(e,t),a=Object(d.c)(d.a.GoldPayment);r(C({coinPackage:n,correlationId:a}))},h=(e,t)=>async(s,n,{apiContext:c})=>{const u=n(),l=t.coins,b=t.pennies,f=Object(d.c)(d.a.GoldPayment),m=Object(O.Q)(u);let j,g;s(Object(i.stripeTokenPending)());const y=Object(p.v)(u);if(y||(j=await s(Object(i.validateAndCreateStripeToken)(e)),g=Object(p.r)(u),j))try{const e=await Object(o.g)({coins:l,context:c(),correlationId:f,language:m,pennies:b,rememberCard:g,savedCardId:y||void 0,token:j});if(e.error){const t=Object(a.a)(m,e.error,e.status);return void s(Object(i.stripeApiError)(t))}return void s(Object(i.paymentCompleted)({coins:e.body.coins?e.body.coins:0,confirmed:!1}))}catch(_){const e=Object(a.a)(m,_);s(Object(i.stripeApiError)(e))}else s(Object(i.stripeApiError)(Object(r.a)(m,"error.type.genericCardValidation")))},I=(e,t)=>async(n,c,{apiContext:b})=>{const f=c(),m=t.coins,j=t.pennies,y=Object(d.c)(d.a.GoldPayment),_=Object(O.Q)(f);let E,h;n(Object(i.stripeTokenPending)());const I=Object(p.v)(f);if(I||(E=await n(Object(i.validateAndCreateStripeToken)(e)),h=Object(p.r)(f),E))try{var S=f.gild;const e=S.gildModalThingId,t=S.isAnonymous,c=S.includeMessage,d=S.message,p=S.selectedAward;if(!e||!p.id)return void n(Object(i.stripeApiError)(Object(r.a)(_,"gold.errors.unknowngild")));const O=p.id,C={gildType:O,includeMessage:c,isAnonymous:t,message:d},D=await Object(o.f)({coins:m,context:b(),correlationId:y,gildParams:C,language:_,pennies:j,rememberCard:h,savedCardId:I||void 0,thingId:e,token:E});if(D.error){const e=Object(a.a)(_,D.error,D.status);return void n(Object(i.stripeApiError)(e))}{const t=(await s.e("gildActions").then(s.bind(null,"./src/reddit/actions/gold/gild.ts"))).gildSuccessful;n(g()),n(Object(i.paymentCompleted)({confirmed:!1}));var T=D.body;const r=T.all_awardings,a=T.coins,c=T.gildings;return void n(t({awardings:r&&r.length?Object(u.a)(r).map(e=>({award:Object(l.c)(e),total:e.count})):void 0,id:e,gildings:c,coins:a,gildType:O}))}}catch(v){const e=Object(a.a)(_,v);n(Object(i.stripeApiError)(e))}else n(Object(i.stripeApiError)(Object(r.a)(_,"error.type.genericCardValidation")))},S="COIN_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",T=Object(c.a)(S),v=({coinPackage:e,correlationId:t})=>async(s,r,{apiContext:c})=>{s(j({coinPackage:e}));const d=r(),u=n.a.paypal.buttons[`coins${e.coins}`]||n.a.paypal.buttons.coins500,l=Object(O.Q)(d);try{const e=await Object(o.d)(c(),l,u,t);if(e.error){const t=Object(a.a)(l,e.error,e.status);s(Object(i.paypalApiError)(t))}else s(T(e))}catch(b){const e=Object(a.a)(l,b);s(Object(i.paypalApiError)(e))}},C=({coinPackage:e,correlationId:t})=>async(s,c,{apiContext:d})=>{s(j({coinPackage:e}));const u=c(),l=n.a.paypal.buttons[`coinsGild${e.coins}`]||n.a.paypal.buttons.coinsGild500,b=Object(O.Q)(u);var p=u.gild;const f=p.gildModalThingId,m=p.isAnonymous,g=p.message,y=p.selectedAward.id;if(f&&y)try{const e=await Object(o.c)(d(),b,l,f,y,g,m,t);if(e.error){const t=Object(a.a)(b,e.error,e.status);s(Object(i.paypalApiError)(t))}else s(T(e))}catch(_){const e=Object(a.a)(b,_);s(Object(i.paypalApiError)(e))}else s(Object(i.paypalApiError)(Object(r.a)(b,"gold.errors.unknowngild")))}},"./src/reddit/actions/goldPurchaseModals/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"e",function(){return c}),s.d(t,"f",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"h",function(){return d}),s.d(t,"i",function(){return u}),s.d(t,"j",function(){return l}),s.d(t,"k",function(){return b}),s.d(t,"l",function(){return p}),s.d(t,"m",function(){return O}),s.d(t,"n",function(){return f}),s.d(t,"o",function(){return m}),s.d(t,"c",function(){return j}),s.d(t,"p",function(){return g}),s.d(t,"q",function(){return y}),s.d(t,"r",function(){return _});const r="GOLD_PAYMENT__CARD_NAME_EMPTY",n="GOLD_PAYMENT__CARD_NAME_INPUT",a="GOLD_PAYMENT__DELETE_SAVED_CARD",c="GOLD_PAYMENT__FETCHED_STRIPE_INFO",i="GOLD_PAYMENT__PAYMENT_COMPLETED",o="GOLD_PAYMENT__PAYPAL_API_ERROR",d="GOLD_PAYMENT__SAVED_CARDS_PENDING",u="GOLD_PAYMENT__SELECT_PAYMENT_METHOD",l="GOLD_PAYMENT__SELECT_SAVED_CARD",b="GOLD_PAYMENT__STRIPE_API_ERROR",p="GOLD_PAYMENT__STRIPE_ELEMENT_CHANGE",O="GOLD_PAYMENT__CARD_ERROR",f="GOLD_PAYMENT__STRIPE_TOKEN_PENDING",m="GOLD_PAYMENT__TOGGLE_REMEMBER_CARD",j="UPDATE_CARD_MODAL__CLOSE_UPDATE_CARD_MODAL",g="UPDATE_CARD_MODAL__UPDATE_CARD_FAILED",y="UPDATE_CARD_MODAL__UPDATE_CARD_PENDING",_="UPDATE_CARD_MODAL__UPDATE_CARD_SUCCESSFUL"},"./src/reddit/actions/goldPurchaseModals/payment.ts":function(e,t,s){"use strict";s.r(t),s.d(t,"selectPaymentMethod",function(){return u}),s.d(t,"paymentCompleted",function(){return l}),s.d(t,"cardNameInput",function(){return b}),s.d(t,"cardNameEmpty",function(){return p}),s.d(t,"cardElementChange",function(){return O}),s.d(t,"stripeTokenPending",function(){return f}),s.d(t,"stripeTokenError",function(){return m}),s.d(t,"stripeApiError",function(){return j}),s.d(t,"paypalApiError",function(){return g}),s.d(t,"validateAndCreateStripeToken",function(){return y}),s.d(t,"toggleRememberCard",function(){return _}),s.d(t,"selectSavedCard",function(){return E}),s.d(t,"_deleteSavedCard",function(){return h}),s.d(t,"deleteSavedCard",function(){return I}),s.d(t,"loadSavedCards",function(){return v});var r=s("./src/lib/raven/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/endpoints/gold/purchase.ts"),c=s("./src/reddit/actions/goldPurchaseModals/constants.ts"),i=s("./src/app/strings/index.ts"),o=s("./src/reddit/selectors/goldPurchaseModals.ts"),d=s("./src/reddit/selectors/user.ts");const u=Object(n.a)(c.i),l=Object(n.a)(c.f),b=Object(n.a)(c.b),p=Object(n.a)(c.a),O=Object(n.a)(c.l),f=Object(n.a)(c.n),m=Object(n.a)(c.m),j=Object(n.a)(c.k),g=Object(n.a)(c.g),y=e=>async(t,s)=>{const r=s(),n=Object(o.j)(r);var a=await e.createToken({name:n});const c=a.token,u=a.error;if(n.trim()){if(!u&&c)return c;t(m(u||void 0))}else{const e=Object(d.Q)(r),s=Object(i.a)(e,"gold.checkoutForm.yourCardsNameFieldIsIncomplete");t(p({message:s}))}},_=Object(n.a)(c.o),E=Object(n.a)(c.j),h=Object(n.a)(c.d),I=e=>async(t,s,{apiContext:n})=>{t(h(e));try{const t=await Object(a.a)(n(),e);if(t.error)throw new Error(t.error.type)}catch(c){Object(r.b)(c)}},S=Object(n.a)(c.h),T=Object(n.a)(c.e),v=()=>async(e,t,{apiContext:s})=>{e(S());const n=t(),c=Object(d.Q)(n);try{const t=await Object(a.b)(s(),c);if(t.error)throw new Error(t.error.type);const n=t.body.map(e=>({brand:e.brand,cardId:e.card_id,expirationMonth:e.exp_month,expirationYear:e.exp_year,last4:e.last4}));e(T(n)),n[0]&&e(E(n[0].cardId))}catch(i){Object(r.b)(i),e(T([]))}}},"./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"e",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"g",function(){return m}),s.d(t,"c",function(){return j}),s.d(t,"f",function(){return y});var r=s("./src/config.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/formatApiError/index.ts"),o=s("./src/reddit/actions/goldPurchaseModals/payment.ts"),d=s("./src/reddit/endpoints/gold/purchase.ts"),u=s("./src/reddit/helpers/correlationIdTracker.ts"),l=s("./src/reddit/selectors/user.ts");const b="PREMIUM_PURCHASE_MODAL__OPEN_PREMIUM_PURCHASE_MODAL",p="PREMIUM_PURCHASE_MODAL__CLOSE_PREMIUM_PURCHASE_MODAL",O=Object(n.a)(b),f=Object(n.a)(p),m=e=>async(t,s,{apiContext:r})=>{const n=s(),b=c.xb,p=Object(u.c)(u.a.GoldPayment),O=Object(l.Q)(n);t(Object(o.stripeTokenPending)());const f=await t(Object(o.validateAndCreateStripeToken)(e));if(f)try{const e=await Object(d.h)({context:r(),correlationId:p,language:O,pennies:b,token:f});if(e.error){const s=Object(i.a)(O,e.error);t(Object(o.stripeApiError)(s))}else t(Object(o.paymentCompleted)({confirmed:!1}))}catch(m){const e=Object(i.a)(O,m);t(Object(o.stripeApiError)(e))}else t(Object(o.stripeApiError)(Object(a.a)(O,"error.type.genericCardValidation")))},j="PREMIUM_PURCHASE_MODAL__PAYMENT_BLOB_CREATED",g=Object(n.a)(j),y=e=>async(t,s,{apiContext:n})=>{t(O());const a=s(),c=Object(l.Q)(a),u=r.a.paypal.buttons.premium;try{const s=await Object(d.e)(n(),c,u,e);if(s.error){const e=Object(i.a)(c,s.error);t(Object(o.paypalApiError)(e))}else t(g(s))}catch(b){const e=Object(i.a)(c,b);t(Object(o.paypalApiError)(e))}}},"./src/reddit/actions/governance/async.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r=()=>s.e("GovActions").then(s.bind(null,"./src/reddit/actions/governance/publicWalletsFetched.ts")).then(e=>e.default)},"./src/reddit/actions/governance/communityDetails.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/reddit/endpoints/governance/requester.ts");var i=s("./src/reddit/actions/governance/constants.ts");s.d(t,"a",function(){return d});const o=Object(r.a)(i.a),d=({subredditId:e})=>async(t,s,{apiContext:r})=>{const i=await function(e,t){return Object(c.a)(e,{endpoint:`${n.a.metaUrl}/communities/${t.subredditId}/me`,method:a.jb.GET})}(r(),{subredditId:e});i.ok&&t(o(Object.assign({subredditId:e},i.body)))}},"./src/reddit/actions/governance/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"h",function(){return u}),s.d(t,"i",function(){return l}),s.d(t,"j",function(){return b}),s.d(t,"k",function(){return p}),s.d(t,"l",function(){return O}),s.d(t,"m",function(){return f}),s.d(t,"n",function(){return m}),s.d(t,"o",function(){return j}),s.d(t,"p",function(){return g}),s.d(t,"q",function(){return y}),s.d(t,"r",function(){return _}),s.d(t,"s",function(){return E}),s.d(t,"t",function(){return h}),s.d(t,"u",function(){return I}),s.d(t,"v",function(){return S}),s.d(t,"w",function(){return T});const r="GOVERNANCE__COMMUNITY_DETAILS_SUCCESS",n="GOVERNANCE__NEW_SUBREDDIT_SUGGESTED",a="GOVERNANCE__NEW_TOP_MOD_SUGGESTED",c="GOVERNANCE__OPT_OUT_IN_PENDING",i="GOVERNANCE__OPT_OUT_MODAL_OPENED",o="GOVERNANCE__PROPOSAL_CREATION_FAILURE",d="GOVERNANCE__PROPOSAL_CREATION_PENDING",u="GOVERNANCE__PROPOSAL_CREATION_SUCCESS",l="GOVERNANCE__PROPOSAL_OPTION_VOTE_FAILURE",b="GOVERNANCE__PROPOSAL_OPTION_VOTE_PENDING",p="GOVERNANCE__PROPOSAL_OPTION_VOTE_SUCCESS",O="GOVERNANCE__PUBLIC_WALLET_INFO_FAILURE",f="GOVERNANCE__PUBLIC_WALLET_INFO_PENDING",m="GOVERNANCE__PUBLIC_WALLET_INFO_SUCCESS",j="GOVERNANCE__RELEASE_NOTES_MODAL_OPENED",g="GOVERNANCE__RELEASE_NOTES_SUCCESS",y="GOVERNANCE__TRANSFER_FAILURE",_="GOVERNANCE__TRANSFER_MODAL_OPENED",E="GOVERNANCE__TRANSFER_PENDING",h="GOVERNANCE__TRANSFER_SUCCESS",I="GOVERNANCE__WALLETS_FETCH_FAILURE",S="GOVERNANCE__WALLETS_FETCH_PENDING",T="GOVERNANCE__WALLETS_FETCH_SUCCESS"},"./src/reddit/actions/governance/errorToast.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c});var r=s("./src/reddit/actions/toaster.ts"),n=s("./src/reddit/helpers/governanceErrorText/index.ts"),a=s("./src/reddit/models/Toast/index.ts");function c(e,t){e(Object(r.e)({duration:5e3,kind:a.b.Error,text:Object(n.a)(t)}))}},"./src/reddit/actions/governance/releaseNotes.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/localStorageAvailable/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/config.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts"),d=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts"),u=s("./src/reddit/endpoints/governance/requester.ts");const l=c.a.releaseNotesSubredditMap||{t5_kzsl3:"rn_funkygoose",t5_37jgj:"rn_ethtrader",t5_2t9ha:"rn_stellar",t5_3oeyf:"rn_fortnitebr"};var b=s("./src/reddit/actions/governance/constants.ts");s.d(t,"a",function(){return f});const p=Object(a.a)(b.o),O=Object(a.a)(b.p),f=({subredditId:e})=>async(t,s,{apiContext:a})=>{if(!l[e])return;if(!Object(n.a)())return;if(!s().user.account)return;const c=(e=>`RELEASE_NOTES-${e}`)(e),b=localStorage.getItem(c);let f={};try{b&&(f=JSON.parse(b))}catch(g){return void localStorage.removeItem(c)}const m=Object.keys(f).reduce((e,t)=>f[t]>e?f[t]:e,0);if(Date.now()-r.z<m)return;const j=await function(e,t){const s=l[t.subredditId];return s?Object(u.a)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/r/${s}/new.json?limit=10&rtj=debug`,method:"get"}).then(e=>e.ok?Object.assign({},e,{body:{releaseNotes:e.body.data.children.map(e=>Object(d.a)(e.data))}}):e):Promise.resolve({ok:!1,error:{},status:404})}(a(),{subredditId:e});if(j.ok){t(O(Object.assign({subredditId:e},j.body)));const s=j.body.releaseNotes.map(e=>e.id);s.filter(e=>!f[e]).length&&t(p());const r=s.reduce((e,t)=>(e[t]=Date.now(),e),{});localStorage.setItem(c,JSON.stringify(r))}}},"./src/reddit/actions/grantUserFlair/constants.ts":function(e,t,s){"use strict";s.d(t,"i",function(){return r}),s.d(t,"g",function(){return n}),s.d(t,"f",function(){return a}),s.d(t,"l",function(){return c}),s.d(t,"k",function(){return i}),s.d(t,"j",function(){return o}),s.d(t,"h",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"c",function(){return p}),s.d(t,"d",function(){return O});const r="SUBREDDIT__FLAIRED_USERS_PENDING",n="SUBREDDIT__FLAIRED_USERS_LOADED",a="SUBREDDIT__FLAIRED_USERS_FAILED",c="SUBREDDIT__FLAIRED_USERS_SEARCH_PENDING",i="SUBREDDIT__FLAIRED_USERS_SEARCH_LOADED",o="SUBREDDIT__FLAIRED_USERS_SEARCH_FAILED",d="SUBREDDIT__FLAIRED_USERS_OWNFLAIR_CHANGED",u="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_ADDED",l="SUBREDDIT__FLAIRED_USERS_AUTHORFLAIR_CHANGED",b="SUBREDDIT__FLAIRED_USERS_DELETE_PENDING",p="SUBREDDIT__FLAIRED_USERS_DELETE_COMPLETED",O="SUBREDDIT__FLAIRED_USERS_DELETE_FAILED"},"./src/reddit/actions/harbergerTax/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"e",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"h",function(){return u});const r="HARBERGER_TAX__BANNER_MANAGE_MODAL_OPENED",n="HARBERGER_TAX__BANNER_PURCHASE_MODAL_OPENED",a="HARBERGER_TAX__BANNER_PURCHASE_FAILURE",c="HARBERGER_TAX__BANNER_PURCHASE_PENDING",i="HARBERGER_TAX__BANNER_PURCHASE_SUCCESS",o="HARBERGER_TAX__BANNER_UPDATE_FAILURE",d="HARBERGER_TAX__BANNER_UPDATE_PENDING",u="HARBERGER_TAX__BANNER_UPDATE_SUCCESS"},"./src/reddit/actions/header.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return n}),s.d(t,"f",function(){return a}),s.d(t,"j",function(){return c}),s.d(t,"k",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"c",function(){return l}),s.d(t,"g",function(){return b}),s.d(t,"h",function(){return p}),s.d(t,"i",function(){return O});var r=s("./src/lib/makeActionCreator/index.ts");const n="HEADER__SUBSCRIPTIONS_PINNED",a="HEADER__SUBSCRIPTIONS_UNPINNED",c=Object(r.a)(n),i=Object(r.a)(a),o="EXPERIMENTS__SHUFFLE_CATEGORIES",d=(Object(r.a)(o),"HEADER__DROPDOWN_CLOSED"),u="HEADER__DROPDOWN_OPENED",l="HEADER__DROPDOWN_TOGGLED",b=Object(r.a)(d),p=Object(r.a)(u),O=Object(r.a)(l)},"./src/reddit/actions/hero.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=(s("./src/reddit/actions/news.ts"),s("./src/reddit/actions/pages/news/utils.ts")),c=s("./src/reddit/actions/toaster.ts"),i=s("./src/config.ts"),o=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),l=s("./src/reddit/models/Toast/index.ts"),b=s("./src/reddit/selectors/listings.ts"),p=s("./src/reddit/selectors/news.ts");s.d(t,"b",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"d",function(){return E});const O="NEWS__NEWS_HERO_LOADED",f="NEWS__NEWS_HERO_PENDING",m="NEWS__NEWS_HERO_FAILED",j=Object(n.a)(f),g=Object(n.a)(O),y=Object(n.a)(m),_=(e,t,s,r=!0)=>async(n,l,O)=>{const f=l(),m=Object(b.d)(f,{listingKey:e}),y=f.listings.postOrder.ids[e],_=Object(b.c)(f,{listingKey:e});if(m||y&&!_)return;n(j({key:e}));const E=Object.assign({},Object(a.b)(t,s)),I=await((e,t)=>Object(d.c)(e,{endpoint:Object(u.a)(`${i.a.gatewayUrl}/desktopapi/v1/news_hero`),method:o.jb.GET,data:Object.assign({},t)}))(O.apiContext(),E),S=`error-${e}`;if(!I.ok)return h(e,n,f,I.error,S,t,s,r);var T=I.body;const v=T.posts,C=T.postIds,D=T.subreddits;n(g({availableTopics:Object(p.c)(f),key:e,meta:f.meta,postIds:C,posts:v,subreddits:D})),n(c.f(S))},E=(e,t,s,r=!0)=>async(n,a,c)=>{let i=n(_(e,t,s,r));return r||(i=i.catch(e=>Promise.resolve(e))),i},h=(e,t,s,n,a,i,o,d)=>{t(y({error:n,key:e})),d&&t(c.e({id:a,kind:l.b.Error,text:Object(r.a)(s.user.language,"news.failedToLoadHero"),buttonText:Object(r.a)(s.user.language,"listings.toast.retryButton"),buttonAction:_(e,i,o)}))}},"./src/reddit/actions/imageUploads.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"k",function(){return O}),s.d(t,"j",function(){return f}),s.d(t,"l",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"h",function(){return g}),s.d(t,"g",function(){return y}),s.d(t,"f",function(){return E}),s.d(t,"m",function(){return h});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/raven/index.ts"),a=s("./src/lib/uploadToS3/index.ts"),c=s("./src/reddit/helpers/getGenericUploadError.ts"),i=s("./src/reddit/models/Image/index.tsx"),o=s("./src/reddit/selectors/imageUploads.ts");const d="IMAGE_UPLOADS__IMAGE_UPLOAD_PENDING",u="IMAGE_UPLOADS__IMAGE_UPLOAD_LOADED",l="IMAGE_UPLOADS__IMAGE_UPLOAD_SAVED",b="IMAGE_UPLOADS__IMAGE_UPLOAD_FAILED",p="IMAGE_UPLOADS__IMAGE_UPLOAD_CANCELED",O=Object(r.a)(d),f=Object(r.a)(u),m=Object(r.a)(l),j=Object(r.a)(b),g=Object(r.a)(p),y=async(e,t,s,r)=>{if(!t.ok)throw Object(i.j)(s,t.error);let n,c=t.body;"s3UploadLease"in c&&(c=c.s3UploadLease,n=t.body.websocketUrl);const o=await Object(a.a)(s.file,c);if(o.ok){if(!e.imageUploads[s.id])return void Object(i.d)(s);const t=decodeURIComponent(o.body.PostResponse.Location);return Object(i.m)(s,t,n,r)}throw Object(i.j)(s,o.error)};function _(e){return e.split("/").pop()}const E=(e,t)=>new Promise((s,r)=>{const a=Object(o.b)(e,t);if(!a.length)return s(null);const c=a[0].websocketUrl;if(!c)return r(new Error("ImageUploads: No websocket URL found"));const i={};for(let e=0;e<a.length;e++){const t=a[e],s=_(t.url);i[s]=t}const d=a.length,u=new WebSocket(c);u.onopen=(e=>{u.onerror=null,s({websocket:u,imagesByKey:i,imageCount:d})}),u.onerror=(e=>{u.close();const t=new Error("ImageUploads: Failed to connect to websocket");Object(n.b)(t),r()})}),h=e=>(t,s,{apiContext:r})=>new Promise((s,r)=>{const a=e.websocket;let o=e.imageCount,d=e.imagesByKey;function u(){for(const e in d){const s=d[e],r=Object(i.n)(s,s.url);t(m(r))}s(),a.close()}d=Object.assign({},d);let l=setTimeout(u,6e4);a.onmessage=(e=>{clearTimeout(l);const r=JSON.parse(e.data);if(r&&"success"===r.type){const e=r.payload.url,s=_(e),n=d[s];if(!n)return;o-=1,delete n[s];const a=Object(i.n)(n,e);t(m(a))}else{const e=_(r.payload.image_key),s=d[e];if(!s)return;o-=1,delete s[e];const n=Object(c.a)(r.payload.image_key),a=Object(i.j)(s,n);t(j(a))}o?l=setTimeout(u,6e4):(a.close(),s())}),a.onerror=(e=>{clearTimeout(l);const s=Object(c.a)("websocket");for(const r in d){const e=d[r],n=Object(i.j)(e,s);t(j(n))}a.close();const o=new Error("ImageUploads: WebSocket connection failed before all messages received");Object(n.b)(o),r()})})},"./src/reddit/actions/inContextModeration.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return i});var r=s("./src/lib/makeActionCreator/index.ts");const n="INCONTEXT__BANNED",a="INCONTEXT__MUTED",c=Object(r.a)(n),i=Object(r.a)(a)},"./src/reddit/actions/inFeedChaining.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return E}),s.d(t,"c",function(){return S}),s.d(t,"a",function(){return T}),s.d(t,"d",function(){return C});var r=s("./src/telemetry/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/isFakeSubreddit/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),o=s("./src/reddit/actions/discoveryUnit.ts"),d=s("./src/reddit/actions/pages/subreddit.ts"),u=s("./src/reddit/actions/recommendations.ts"),l=s("./src/reddit/actions/subreddit/similarSubreddit.ts"),b=s("./src/reddit/constants/inFeedChaining.ts"),p=s("./src/reddit/constants/page.ts"),O=s("./src/reddit/endpoints/subreddit/similar.ts"),f=s("./src/reddit/helpers/localStorage/index.ts"),m=s("./src/reddit/helpers/trackers/discoveryUnit.ts"),j=s("./src/reddit/selectors/experiments/inFeedChaining.ts"),g=s("./src/reddit/selectors/inFeedChaining.ts"),y=s("./src/reddit/selectors/posts.ts"),_=s("./src/reddit/selectors/subreddit.ts");const E="FEED_CHAINING__CHAIN_LOADED",h=Object(c.a)(E),I=()=>{const e=Date.now()-n.z,t=Object(f.q)();return Object.keys(t).filter(s=>t[s].when>=e).map(e=>t[e])},S=({listingName:e,listingKey:t,postId:s})=>async(c,E)=>{if(!s)return;if(!(!Object(a.a)(e)||e===p.k||e===p.c))return;let S=E();const T=Object(j.a)(S);if(!T||Object(g.d)(S,{listingKey:t,postId:s})||Object(g.a)(S).length>=b.b||Object(f.p)()>=b.a||I().length>=b.b)return;const v=Object(y.w)(S,{listingKey:t,postId:s});if(v&&v.isSponsored)return;await c(Object(o.h)()),S=E();const C=Object(g.b)(S,{listingName:e});if(C){if(Object(g.e)(S,{listingName:e})){const e={postId:s,count:b.c};await c(Object(u.d)(e));const t=Object(u.c)(e);if(S=E(),Object(y.K)(S,{listingKey:t}).length<b.d)return void Object(r.a)(Object(m.b)(C,"no_chaining")(S));Object(f.a)(s),Object(r.a)(Object(m.c)(C)(S))}else{const t=Object(y.Q)(S,{postId:s});if(!t||Object(g.f)(S,{subredditId:t.id})||(e=>{return I().some(t=>t.subredditId===e)})(t.id))return;const a={subredditIds:[t.id],count:b.c,variant:Object(j.b)(T)?O.a.Factorization:void 0};await c(Object(l.b)(a));const o=Object(l.a)(a);S=E();const u=Object(_.y)(S,{key:o});if(0===u.length)return void Object(r.a)(Object(m.b)(C,"no_chaining",t)(S));if(await Promise.all(u.map(e=>c((e=>async(t,s)=>{const r=Object(i.a)(e,n.X.TOP);Object(y.z)(s(),{listingKey:r}).length>0||await t(Object(d.f)(r,e,{sort:n.X.TOP},!0))})(e.name)))),S=E(),Object(g.g)(S,{listingName:e,postId:s}).length<b.d)return void Object(r.a)(Object(m.b)(C,"other",t)(S));Object(f.a)(s,t.id),Object(r.a)(Object(m.c)(C,t)(S))}c(h({listingKey:t,postId:s}))}},T="FEED_CHAINING__CHAIN_DISMISSED",v=Object(c.a)(T),C=({listingKey:e,postId:t})=>async s=>{Object(f.b)(),s(v({listingKey:e,postId:t}))}},"./src/reddit/actions/jsApi.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="JSAPI__CONSUMER_SUBSCRIBED",a=Object(r.a)(n)},"./src/reddit/actions/leaderboard/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"d",function(){return c});const r="LEADERBOARD__DATE_RANGE_CHANGED",n="LEADERBOARD__DATE_RANGE_FETCH_FAILURE",a="LEADERBOARD__DATE_RANGE_FETCH_PENDING",c="LEADERBOARD__DATE_RANGE_FETCH_SUCCESS"},"./src/reddit/actions/login.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return l});var r=s("./src/reddit/actions/modal.ts"),n=s("./src/reddit/actions/preferences.ts"),a=s("./src/reddit/constants/modals.ts"),c=s("./src/reddit/constants/postLayout.ts"),i=s("./src/reddit/selectors/experiments/upsellSignupModal.ts");const o=e=>async(t,s)=>{t(Object(r.i)(e?a.a.LOGIN_MODAL_ID:a.a.REGISTER_MODAL_ID)),!s().user.prefs.layout&&t(Object(n.t)(c.c.Card))},d=()=>async(e,t)=>{e(o(!0))},u={showPrePrompt:!0},l=(e=u)=>async(t,s)=>{const n=s(),c=Object(i.c)(n);e.showPrePrompt&&Object(i.b)(c)?t(Object(r.i)(a.a.UPSELL_SIGNUP)):t(o(!1))}},"./src/reddit/actions/modMode.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return u});var r=s("./node_modules/js-cookie/src/js.cookie.js"),n=s.n(r),a=s("./src/config.ts"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/constants/cookie.ts");const o="MOD_MODE_TOGGLED",d=Object(c.a)(o),u=e=>async(t,s,{apiContext:r})=>{let c;if(void 0!==e)c=e;else{c="false"===n.a.get(i.c)}n.a.set(i.c,c,{domain:a.a.cookieDomain});(document.cookie.match(/mod_mode_enabled=/g)||[]).length>1&&n.a.set(i.c,"",{expires:0,path:"/"});t(d({enabled:c}))}},"./src/reddit/actions/modQueue/constants.ts":function(e,t,s){"use strict";s.d(t,"j",function(){return r}),s.d(t,"i",function(){return n}),s.d(t,"h",function(){return a}),s.d(t,"g",function(){return c}),s.d(t,"f",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"n",function(){return d}),s.d(t,"m",function(){return u}),s.d(t,"l",function(){return l}),s.d(t,"q",function(){return b}),s.d(t,"p",function(){return p}),s.d(t,"o",function(){return O}),s.d(t,"w",function(){return f}),s.d(t,"v",function(){return m}),s.d(t,"u",function(){return j}),s.d(t,"t",function(){return g}),s.d(t,"s",function(){return y}),s.d(t,"r",function(){return _}),s.d(t,"k",function(){return E}),s.d(t,"b",function(){return h}),s.d(t,"a",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"d",function(){return T});const r="MODQUEUE_PENDING",n="MODQUEUE_LOADED",a="MODQUEUE_FAILED",c="EDITED_PENDING",i="EDITED_LOADED",o="EDITED_FAILED",d="REPORTS_PENDING",u="REPORTS_LOADED",l="REPORTS_FAILED",b="SPAM_PENDING",p="SPAM_LOADED",O="SPAM_FAILED",f="UNMODERATED_PENDING",m="UNMODERATED_LOADED",j="UNMODERATED_FAILED",g="UNDOACTION_PENDING",y="UNDOACTION_LOADED",_="UNDOACTION_FAILED",E="MORE_MODERATED_SUBREDDITS_LOADED",h="ALL_MODERATED_COMMUNITIES_LOADED",I="ADD_SELECTED_ITEMS",S="BULK_SELECT_ITEMS",T="BULK_UNSELECT_ITEMS"},"./src/reddit/actions/moderatingSubreddits.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return b}),s.d(t,"b",function(){return p});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/profile/index.ts"),a=s("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),c=s("./src/reddit/models/User/index.ts"),i=s("./src/reddit/selectors/user.ts");const o="MOD_PERMS__REQUEST_LOADED",d=Object(r.a)("MOD_PERMS__REQUEST_PENDING"),u=Object(r.a)(o),l=Object(r.a)("MOD_PERMS__REQUEST_FAILED"),b=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user.account)return;if(r.isModeratorWithPostPerms)return;e(d());const n=await Object(a.a)(s());n.ok?e(u(n.body)):e(l(n.error))},p=()=>async(e,t)=>{const s=Object(i.j)(t());if(s){const t=Object(c.f)(s);await e(Object(n.b)(t))}}},"./src/reddit/actions/moderationLog/constants.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n});const r="SUBREDDIT__MODERATION_LOG_LOADED",n="SUBREDDIT__ALL_MODERATORS_LOADED"},"./src/reddit/actions/monthsToMinutes.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return o}),s.d(t,"a",function(){return d}),s.d(t,"i",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"j",function(){return f}),s.d(t,"d",function(){return m}),s.d(t,"g",function(){return g}),s.d(t,"h",function(){return y});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/constants/localStorage.ts"),a=s("./src/reddit/helpers/localStorage/index.ts"),c=s("./src/reddit/models/MonthsToMinutes/index.ts"),i=s("./src/reddit/selectors/monthsToMinutes.ts");const o="M2M_SUBSCRIPTIONS_NAMES_LOADED",d=(Object(r.a)(o),"M2M_APPLY_LOGGED_OUT_VOTE"),u=Object(r.a)(d),l="M2M_LOADED_FROM_LOCAL_STORAGE",b=Object(r.a)(l),p="M2M_EXPAND_ACCOUNT_COMPLETENESS",O=(Object(r.a)(p),"M2M_COLLAPSE_ACCOUNT_COMPLETENESS"),f=Object(r.a)(O),m="M2M_INIT_FROM_EMPTY_LOCAL_STORAGE",j=Object(r.a)(m),g=e=>({accountCompleteness:{collapsed:!1,step:c.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:{}},postsCount:0,subreddits:e.subreddits,subscriptions:[],tooltip:{},views:e.views,votes:{comments:{},posts:{}}}),y=()=>async(e,t)=>{const s=t();try{const t=Object(a.k)(n.n);if(!t)return void e(j());const o=t.loggedOutV4,d=t.loggedOutV5;let u=null;if(d?u=d:o&&(u=(e=>({accountCompleteness:{collapsed:!1,step:c.a.Initial},homeFeed:{similar:[],topBanner:{isClosed:!1,viewsCount:0},views:e.homeFeed.views,votes:e.homeFeed.votes},postsCount:0,subreddits:e.subreddits,subscriptions:e.subscriptions,tooltip:{},views:e.views,votes:{comments:e.votes.comments,posts:e.votes.posts}}))(o)),!u)return void e(j());Object(i.x)(s)||(u=g(u)),e(b(u))}catch(r){e(j())}}},"./src/reddit/actions/monthsToMinutes/accountCompleteness.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="M2M_SET_STEP",a=Object(r.a)(n)},"./src/reddit/actions/monthsToMinutes/homeFeed.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return l}),s.d(t,"h",function(){return b}),s.d(t,"b",function(){return p}),s.d(t,"g",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"e",function(){return y}),s.d(t,"d",function(){return _}),s.d(t,"i",function(){return E});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/discoveryUnit.ts"),a=s("./src/reddit/endpoints/category/subreddits.ts"),c=s("./src/reddit/endpoints/subreddit/similar.ts"),i=s("./src/reddit/models/MonthsToMinutes/index.ts"),o=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),d=s("./src/reddit/selectors/monthsToMinutes.ts"),u=s("./src/reddit/selectors/subreddit.ts");const l="M2M_SUBREDDIT_VOTED",b=Object(r.a)(l),p="M2M_SIMILAR_SUBREDDITS_LOADED",O=Object(r.a)(p),f=e=>async(t,s,{apiContext:r})=>{const n=await Object(c.b)(r(),e);if(n.error)throw new Error(n.error.type);return n.body},m=()=>async(e,t)=>{const s=t();if(!Object(d.o)(s))return;if(Object(d.c)(s)!==i.a.Initial)return;const r=Object(d.H)(s);if(r.length>=i.d)return;const n=r.map(e=>Object(u.I)(s,e)).filter(Boolean),l=i.d-n.length;try{const t=await e(f({count:l,subredditIds:n,variant:Object(d.B)(s)}));let r;if(Object(o.c)(s))r=Object(a.b)(t);else{const s=await e(f({count:l,subredditIds:n,variant:c.a.CustomModRelevant})),i=Object(c.c)([t,s],l);r=Object(a.b)(i)}r.subredditIds.length>0&&e(O(r))}catch(b){}},j=()=>async(e,t)=>{const s=t();if(Object(d.n)(s))return;const r=Object(d.C)(s);if(0===r.length)return;const a=r.filter(Boolean).join("+");await e(Object(n.j)(a))},g="M2M_CLOSE_HOME_FEED_TOP_BANNER",y=Object(r.a)(g),_="M2M_VIEW_HOME_FEED_TOP_BANNER",E=Object(r.a)(_)},"./src/reddit/actions/monthsToMinutes/initHomeFeed.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return O}),s.d(t,"c",function(){return m}),s.d(t,"b",function(){return j});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),c=s("./src/reddit/actions/page.ts"),i=s("./src/reddit/actions/subscription/index.ts"),o=s("./src/reddit/constants/posts.ts"),d=s("./src/reddit/helpers/monthsToMinutes/index.ts"),u=s("./src/reddit/models/MonthsToMinutes/index.ts"),l=s("./src/reddit/selectors/monthsToMinutes.ts"),b=s("./src/reddit/selectors/subreddit.ts"),p=s("./src/reddit/selectors/subscriptions.ts");const O="M2M_SET_HOME_FEED",f=Object(n.a)(O),m=()=>async(e,t)=>{let s=t();if(!Object(l.n)(s)){const r=Object(p.b)(s),n=Object(l.C)(s);if(r.length<u.d)for(const t of n){const r={name:t,type:o.a.SUBREDDIT};Object(b.bb)(s,{identifier:r})||await e(Object(i.d)([r],!0))}e(f(n)),s=t(),Object(d.d)(s)}},j=({shouldPrepareData:e=!0})=>async t=>{e&&t(m()),t(Object(a.b)(u.a.HomeVisited)),t(Object(c.D)()),t(Object(r.b)("/"))}},"./src/reddit/actions/monthsToMinutes/post.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return f}),s.d(t,"b",function(){return j});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),c=s("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),i=s("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),o=s("./src/reddit/actions/monthsToMinutes/tooltip.ts"),d=s("./src/reddit/actions/pages/subreddit.ts"),u=s("./src/reddit/models/MonthsToMinutes/index.ts"),l=s("./src/reddit/models/Subreddit/index.ts"),b=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),p=s("./src/reddit/selectors/monthsToMinutes.ts"),O=s("./src/reddit/selectors/posts.ts");const f="M2M_POST_VIEWED",m=Object(n.a)(f),j=e=>async(t,s)=>{let n=s();if(!Object(p.x)(n))return;const f=Object(O.Q)(n,{postId:e});if(f&&t(m({postId:e,subredditName:f.name})),Object(p.p)(n)){await t(Object(c.g)()),n=s();const e=Object(b.f)(n);if(e&&f&&!Object(l.c)(f))if(Object(p.m)(n)){t(Object(a.b)(u.a.BannerVisible)),await t(Object(i.c)()),n=s();const e=Object(p.e)(n);e&&await t(Object(d.e)(e,{sort:r.X.HOT}))}else Object(b.e)(e)&&await t(Object(d.e)(f.name,{sort:r.X.TOP}))}else Object(p.l)(n)&&t(Object(o.c)())}},"./src/reddit/actions/monthsToMinutes/reset.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return d});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/page.ts"),a=s("./src/reddit/helpers/monthsToMinutes/index.ts"),c=s("./src/reddit/selectors/monthsToMinutes.ts");const i="M2M_RESET",o=Object(r.a)(i),d=()=>async(e,t)=>{const s=Object(c.n)(t());e(o()),Object(a.a)(),s&&e(Object(n.D)())}},"./src/reddit/actions/monthsToMinutes/tooltip.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"d",function(){return b}),s.d(t,"c",function(){return p});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/models/MonthsToMinutes/index.ts"),a=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),c=s("./src/reddit/selectors/experiments/m2mV1-5.ts"),i=s("./src/reddit/selectors/monthsToMinutes.ts"),o=s("./src/reddit/selectors/runTimeEnvVars.ts");const d="M2M_TOOLTIP_ACTIVATED",u="M2M_TOOLTIP_CLOSED",l=Object(r.a)(d),b=Object(r.a)(u),p=()=>async(e,t)=>{const s=t(),r=Object(i.a)(s),d=Object(i.j)(s),u=Object(i.u)(s),b=u.total-u.beforeBanner>=n.b,p=Object(a.c)(s),O=Object(c.f)(s),f=Object(i.k)(s),m=Object(o.b)(s,f.time);!p&&Object(c.d)(O)&&r&&!d&&b&&m&&e(l({time:Date.now(),tooltipType:n.f.Home}))}},"./src/reddit/actions/multireddit/constants.ts":function(e,t,s){"use strict";s.d(t,"q",function(){return r}),s.d(t,"r",function(){return n}),s.d(t,"s",function(){return a}),s.d(t,"t",function(){return c}),s.d(t,"u",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"f",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"i",function(){return l}),s.d(t,"j",function(){return b}),s.d(t,"h",function(){return p}),s.d(t,"l",function(){return O}),s.d(t,"m",function(){return f}),s.d(t,"k",function(){return m}),s.d(t,"n",function(){return j}),s.d(t,"o",function(){return g}),s.d(t,"p",function(){return y}),s.d(t,"a",function(){return _}),s.d(t,"b",function(){return E}),s.d(t,"c",function(){return h}),s.d(t,"A",function(){return I}),s.d(t,"B",function(){return S}),s.d(t,"z",function(){return T}),s.d(t,"y",function(){return v}),s.d(t,"v",function(){return C}),s.d(t,"w",function(){return D}),s.d(t,"x",function(){return R}),s.d(t,"d",function(){return A});const r="MULTIREDDIT__MORE_POSTS_FAILED",n="MULTIREDDIT__MORE_POSTS_LOADED",a="MULTIREDDIT__MORE_POSTS_PENDING",c="MULTIREDDIT__MY_MULTIREDDITS_PENDING",i="MULTIREDDIT__MY_MULTIREDDITS_RECEIVED",o="MULTIREDDIT__CREATE_FAILURE",d="MULTIREDDIT__CREATE_PENDING",u="MULTIREDDIT__CREATE_SUCCESS",l="MULTIREDDIT__DELETE_PENDING",b="MULTIREDDIT__DELETE_SUCCESS",p="MULTIREDDIT__DELETE_FAILURE",O="MULTIREDDIT__DUPLICATE_PENDING",f="MULTIREDDIT__DUPLICATE_SUCCESS",m="MULTIREDDIT__DUPLICATE_FAILURE",j="MULTIREDDIT__EDIT_FAILURE",g="MULTIREDDIT__EDIT_PENDING",y="MULTIREDDIT__EDIT_SUCCESS",_="MULTIREDDIT__ADD_SUBREDDIT_FAILURE",E="MULTIREDDIT__ADD_SUBREDDIT_PENDING",h="MULTIREDDIT__ADD_SUBREDDIT_SUCCESS",I="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_PENDING",S="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_SUCCESS",T="MULTIREDDIT__SUBREDDIT_RECOMMENDATIONS_FAILURE",v=10,C="MULTIREDDIT__REMOVE_SUBREDDIT_FAILURE",D="MULTIREDDIT__REMOVE_SUBREDDIT_PENDING",R="MULTIREDDIT__REMOVE_SUBREDDIT_SUCCESS";var A;!function(e){e.TooManySubreddits="MULTI_TOO_MANY_SUBREDDITS"}(A||(A={}))},"./src/reddit/actions/multireddit/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/linkMatchers/customLinks.ts"),o=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/lib/makeListingKey/index.ts"),u=s("./src/reddit/actions/modal.ts"),l=s("./src/reddit/actions/page.ts"),b=s("./src/reddit/actions/toaster.ts"),p=s("./src/reddit/constants/parameters.ts"),O=s("./src/lib/makeApiRequest/index.ts"),f=s("./src/lib/omitHeaders/index.ts"),m=s("./src/reddit/constants/headers.ts"),j=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),g=s("./src/graphql/operations/AllUserMultireddits.json"),y=s("./src/lib/makeGqlRequest/index.ts"),_=s("./src/reddit/endpoints/page/multiredditListing.ts"),E=s("./src/graphql/operations/SubredditRecommendations.json"),h=s("./src/reddit/featureFlags/index.ts"),I=s("./src/reddit/helpers/filterListingResponse/index.ts"),S=s("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),T=s("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),v=s("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),C=e=>{let t=e.over_18||!1;if(!t)for(const c of e.subreddits)if(c.data.over_18){t=!0;break}let s=e.quarantine||!1;if(!s)for(const c of e.subreddits){const e=(c.data.audience_target||"").split(",");if(c.data.quarantine||e.indexOf("unsafe")>-1){s=!0;break}}const r=e.subreddits.map(e=>{const t=e.data;return{id:t.name,displayName:t.display_name.toLowerCase()}}).sort((e,t)=>e.displayName.localeCompare(t.displayName)),n=r.filter(e=>!e.displayName.startsWith(c.uc)).map(e=>e.id),a=r.filter(e=>e.displayName.startsWith(c.uc)).map(e=>e.id);return{created:e.created_utc,description:e.description_md,descriptionHtml:e.description_html,descriptionRtJson:null,displayText:e.display_name,followerCount:e.num_subscribers,icon:e.icon_url,isFavorited:!!e.is_favorited,isFollowed:!1,isNSFW:t,isQuarantined:s,name:e.name,ownerId:e.owner_id,profileIds:a,subredditCount:e.subreddits.length,subredditIds:n,url:e.path.toLowerCase(),visibility:e.visibility}},D=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),R=s("./src/reddit/i18n/utils.ts"),A=s("./src/reddit/models/Multireddit/index.ts"),w=s("./src/reddit/models/Toast/index.ts"),P=s("./src/reddit/selectors/multireddit.ts"),x=s("./src/reddit/selectors/platform.ts"),N=s("./src/reddit/selectors/subreddit.ts"),k=s("./src/reddit/selectors/user.ts"),L=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),U=s("./src/reddit/actions/multireddit/constants.ts");s.d(t,"f",function(){return B}),s.d(t,"g",function(){return V}),s.d(t,"b",function(){return Q}),s.d(t,"d",function(){return Z}),s.d(t,"a",function(){return re}),s.d(t,"i",function(){return ie}),s.d(t,"c",function(){return le}),s.d(t,"e",function(){return fe}),s.d(t,"h",function(){return ye});const M=Object(o.a)(U.q),F=Object(o.a)(U.r),G=Object(o.a)(U.s),B=e=>async(t,s,r)=>{const n=r.gqlContext;var a=e.sort;const i=void 0===a?c.X.HOT:a,o=e.multiredditName,u=e.username,l=s(),b=l.platform.currentPage,p=b?b.queryParams:{},O=Object(P.d)(l,{multiredditName:o,username:u}),f=Object(d.a)(O.url,i,p),m=l.listings.postOrder.loadMore[f];if(!m)return;const j=l.listings.postOrder.api.pending[f],g=l.listings.postOrder.fetchedTokens,y=g[f]&&g[f][m.token]||!1;if(j||y)return;t(G({key:f,fetchedToken:m.token}));const E=O.url.replace(/\/$/,""),h=p.t?p.t.toUpperCase():void 0,S={after:m.token,dist:m.dist,includeIdentity:!1,path:E,range:h,sort:i.toUpperCase()},v=await Object(_.a)(n(),S),C=v.body.data,D=Object(T.a)(C);v.ok&&C&&C.multireddit?t(F(Object.assign({fetchedToken:m.token,key:f,meta:l.meta},D,Object(I.a)(l,f,D),{multiredditsModelsState:l.multireddits.models}))):t(M(Object.assign({error:{type:c.I.NOT_FOUND_ERROR},fetchedToken:m.token,key:f},v.body,Object(I.a)(l,f,D))))},q=Object(o.a)(U.t),$=Object(o.a)(U.u),V=e=>async(t,s,{apiContext:r,gqlContext:n})=>{const a=s(),i=Object(k.j)(a);if(i&&!(!e&&Object(P.h)(a)||Object(P.i)(a)))if(t(q()),h.d.customFeeds(a)){const e=await(e=>Object(y.a)(e,Object.assign({},g)))(n());if(e.ok){const s=e.body.data.identity.allMultireddits.edges.map(e=>e.node),r=Object(S.b)(s);t($(Object.assign({},r,{multiredditsModelsState:a.multireddits.models})))}}else{const e=await(e=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi/mine.json`),data:{expand_srs:1},method:c.jb.GET}))(r());if(e.ok){const s=i.id,r=e.body.reduce((e,{data:t})=>t.subreddits.reduce((e,{data:t})=>{const s=Object(D.a)(t);return e[s.id]=s,e},e),{}),n=[],c=e.body.reduce((e,{data:t})=>{const s=C(t),r=s.url.toLowerCase();return n.push(r),e[r]=s,e},{});t($({multireddits:c,multiredditsByUser:{[s]:n},multiredditsModelsState:a.multireddits.models,profiles:{},subreddits:r}))}}},H=Object(o.a)(U.e),K=Object(o.a)(U.f),W=Object(o.a)(U.g),Q=({description:e,displayName:t,shouldNavigate:s})=>async(r,n,{apiContext:i})=>{const o=n(),d=Object(k.j)(o);if(!d)return;r(K());const l=await((e,t,s)=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi`),data:{model:JSON.stringify({description_md:s,display_name:t,visibility:"private",subreddits:[]})},method:c.jb.POST}))(i(),t,e);if(l.ok){const e=d.id;if(await r(W({multireddit:C(l.body.data),multiredditsModelsState:o.multireddits.models,userId:e})),s){r(Object(u.f)());const e=h.d.customFeeds(o)?l.body.data.path.toLowerCase():`/me/m/${l.body.data.name}`;await r(Object(a.b)(e))}r(Object(b.e)({text:Object(R.c)("Custom feed created!")}))}else r(H(l.error))},Y=()=>async(e,t,{apiContext:s})=>{const r=t(),a=Object(k.j)(r),i=Object(x.i)(r)?Object(x.m)(r):Object(x.b)(r),o=i&&i.routeMatch&&i.routeMatch.match;if(!o)return;const u=o.params,b=u.sort||c.X.HOT,O=u.multiredditName,f=u.username;if(!O)return;const m=Object(A.g)((f||a&&a.displayText||"").toLowerCase(),O.toLowerCase()),j=o.queryParams,g=Object(d.a)(m,b,j),y=p.t in j&&j[p.t].toUpperCase()||"",_=c.qc[y]||!1,E=Object(k.j)(r);(f||E&&E.displayText)&&await e(Object(l.H)(g,(f||E.displayText).toLowerCase(),O.toLowerCase(),Object.assign({},n()(j,p.j),n()(j,p.i),{sort:b,t:Object(L.a)(b,_)})))},z=Object(o.a)(U.k),X=Object(o.a)(U.l),J=Object(o.a)(U.m),Z=({description:e,displayName:t,fromName:s,fromUsername:r})=>async(n,i,{apiContext:o})=>{const d=i(),l=Object(k.j)(d);if(!l||!l.displayText)return;const p=Object(A.g)((r||l.displayText).toLowerCase(),s.toLowerCase());n(X());const g=await((e,t)=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi/copy`),data:{description_md:t.description,display_name:t.displayName,expand_srs:!0,from:t.from},method:c.jb.POST}))(o(),{from:p,displayName:t,description:e});if(g.ok){const e=C(g.body.data);n(Object(u.f)()),n(J({multireddit:e,multiredditsModelsState:d.multireddits.models,userId:l.id})),n(Object(b.e)({text:Object(R.c)("Custom feed duplicated!"),buttonText:Object(R.c)("Go there"),buttonAction:Object(a.b)(e.url)}))}else n(z(g.error)),n(Object(b.e)({text:Object(R.c)(`Something went wrong duplicating ${Object(R.b)("multiName",s)}`)}))},ee=Object(o.a)(U.b),te=Object(o.a)(U.c),se=Object(o.a)(U.a),re=({communityInfo:e,identifier:t,multiredditNames:s})=>async(r,n,{apiContext:a})=>{const o=n(),d=Object(k.j)(o);if(!d||o.multireddits.api.addSubreddit.pending)return;r(ee({name:t.name}));const l=d.displayText;if(!l)return;const p=s.map(e=>`/user/${l.toLowerCase()}/m/${e.toLowerCase()}`).join(","),g=`${"profile"===t.type?c.uc:""}${t.name}`,y=await((e,t,s)=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi/bulk_add/r/${t}`),data:{paths:s},method:c.jb.PUT}))(a(),g,p);if(y.ok){const n=Object(N.N)(o,{identifier:t})||e&&e.id||"",a=s.map(e=>Object(A.g)(l,e));r(Object(u.f)()),r(Object(b.e)({text:Object(R.c)(`Successfully added ${Object(R.b)("prefix","subreddit"===t.type?i.c.subreddit:i.c.profile)}${Object(R.b)("communityname",t.name)} to ${Object(R.b)("numcommunities",s.length)} custom ${Object(R.a)("feeds","feed","feeds",s.length)}!`)})),await r(te({communityInfo:e,id:n,multipaths:a,type:t.type})),1===s.length&&await r(Y())}else{r(se(y.error));const e=y.body&&y.body.reason===U.d.TooManySubreddits?Object(R.c)("Maximum communities reached"):Object(R.c)(`Sorry, something went wrong adding ${Object(R.b)("subredditName",t.name)}.`);r(Object(b.e)({text:e,kind:w.b.Error}))}},ne=Object(o.a)(U.w),ae=Object(o.a)(U.x),ce=Object(o.a)(U.v),ie=({id:e,multiredditName:t,name:s,type:r})=>async(n,a,{apiContext:i})=>{const o=a(),d=Object(k.j)(o);if(!d||!d.displayText||o.multireddits.api.removeSubreddit.pending)return;n(ne({id:e}));const l=d.displayText,p=Object(A.g)(l,t),g=`${"profile"===r?c.uc:""}${s}`,y=await((e,t,s)=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi${s}r/${t}`),method:c.jb.DELETE}))(i(),g,p);y.ok?(n(Object(u.f)()),n(ae({id:e,multipath:p,type:r})),n(Object(b.e)({text:Object(R.c)(`${Object(R.b)("subredditname",s)} removed from your custom feed!`),buttonText:Object(R.c)("undo"),buttonAction:re({identifier:{name:s,type:r},multiredditNames:[t]})})),n(Y())):(n(ce(y.error)),n(Object(b.e)({text:Object(R.c)(`Sorry, something went wrong removing ${Object(R.b)("subredditName",s)}.`)})))},oe=Object(o.a)(U.h),de=Object(o.a)(U.i),ue=Object(o.a)(U.j),le=e=>async(t,s,{apiContext:r})=>{const n=s();if(!Object(k.j)(n))return;t(de());const i=await((e,t)=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi${t}`),method:c.jb.DELETE}))(r(),e);i.ok?(await t(ue(e)),t(Object(u.f)()),await t(Object(a.b)("/")),t(Object(b.e)({text:Object(R.c)("Custom feed deleted!")}))):t(oe(i.error))},be=Object(o.a)(U.n),pe=Object(o.a)(U.o),Oe=Object(o.a)(U.p),fe=({description:e,displayText:t,multipath:s,visibility:r})=>async(n,a,{apiContext:i})=>{const o=a();if(!Object(k.I)(o))return;n(pe());const d=await(({context:e,description:t,displayText:s,multipath:r,visibility:n})=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:Object(j.a)(`${e.apiUrl}/api/multi${r}`),data:{model:JSON.stringify({description_md:t,display_name:s,visibility:n}),expand_srs:!0},method:c.jb.PUT}))({context:i(),description:e,displayText:t,multipath:s,visibility:r});d.ok?(await n(Oe(C(d.body.data))),n(Object(u.f)()),n(Object(b.e)({text:Object(R.c)("Custom feed updated!")}))):(n(be(d.error)),n(Object(b.e)({kind:w.b.Error,text:Object(R.c)("Something went wrong")})))},me=Object(o.a)(U.z),je=Object(o.a)(U.A),ge=Object(o.a)(U.B),ye=({multiredditName:e,username:t,toExcludeNames:s})=>async(r,n,{gqlContext:a})=>{const c=n(),i=Object(k.j)(c);if(!(t||i&&i.displayText))return;const o=Object(A.g)(t||i.displayText,e),d=c.multireddits.models[o];if(!d||!d.subredditIds)return;r(je());const u=s&&s.reduce((e,t)=>{const s=Object(N.I)(c,t)||Object(N.J)(c,t);return s?[...e,s]:e},[]),l=await((e,t)=>Object(y.a)(e,Object.assign({},E,{variables:t})))(a(),{count:U.y,subredditIds:d.subredditIds,toExclude:u});if(l.ok){const e=l.body.data;r(ge({multipath:o,subreddits:Object(v.b)(e)}))}else r(me(l.error))}},"./src/reddit/actions/news.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/reddit/actions/pages/news/index.ts"),i=s("./src/reddit/actions/toaster.ts"),o=s("./src/config.ts"),d=s("./src/lib/constants/index.ts"),u=s("./src/lib/makeApiRequest/index.ts"),l=s("./src/reddit/models/News/index.ts"),b=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/routes/news/util.ts"),O=s("./src/reddit/selectors/news.ts"),f=s("./src/reddit/selectors/user.ts");s.d(t,"d",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"c",function(){return g}),s.d(t,"a",function(){return y}),s.d(t,"f",function(){return _}),s.d(t,"e",function(){return S}),s.d(t,"g",function(){return T});const m="NEWS__NEWS_TOPIC_SELECTED",j="NEWS__NEWS_TOPICS_LOADED",g="NEWS__NEWS_TOPICS_PENDING",y="NEWS__NEWS_TOPICS_FAILED",_=Object(n.a)(m),E=Object(n.a)(j),h=Object(n.a)(g),I=Object(n.a)(y),S=(e,t)=>async(s,r)=>{const n=Object(p.b)(e,t),i=r().platform.currentPage.routeMatch.match;i&&i.url===n?s(Object(c.d)(i,!0)):s(Object(a.b)(n))},T=(e=!0)=>async(t,s,{apiContext:n})=>{const a=s(),c=Object(O.p)(a),p=Object(O.c)(a).length>0;if(c||p)return;t(h);const m=await(e=>Object(u.c)(e,{endpoint:`${o.a.gatewayUrl}/news/topics`,method:d.jb.GET}))(n());if(m.ok){const e=Object(l.d)(m.body.data||[]);t(E(e))}else t(I(m.error)),e&&t(function(e){const t=Object(f.Q)(e);return Object(i.e)(Object(i.d)(Object(r.a)(t,"news.failedToLoadTopic"),b.b.Error,Object(r.a)(t,"error.clickHere"),T()))}(s()))}},"./src/reddit/actions/notifications/constants.ts":function(e,t,s){"use strict";s.d(t,"n",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"s",function(){return c}),s.d(t,"o",function(){return i}),s.d(t,"h",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"r",function(){return u}),s.d(t,"q",function(){return l}),s.d(t,"p",function(){return b}),s.d(t,"i",function(){return p}),s.d(t,"j",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"c",function(){return g}),s.d(t,"b",function(){return y}),s.d(t,"m",function(){return _}),s.d(t,"l",function(){return E}),s.d(t,"k",function(){return h});var r=s("./src/lib/makeActionCreator/index.ts");const n="NOTIFICATIONS__SHOW_PRE_PROMPT",a="NOTIFICATIONS__HIDE_PRE_PROMPT",c=Object(r.a)(n),i=Object(r.a)(a),o="NOTIFICATIONS__PERMISSION_GRANTED",d="NOTIFICATIONS__PERMISSION_DENIED",u=Object(r.a)("NOTIFICATIONS__PERMISSION_PENDING"),l=Object(r.a)(o),b=Object(r.a)(d),p="notification-preprompt-closed",O="1";var f,m;!function(e){e[e.NotificationsSupported=0]="NotificationsSupported",e[e.BrowserUnsupported=1]="BrowserUnsupported",e[e.LocalStorageUnavailable=2]="LocalStorageUnavailable",e[e.NotAllRequiredAPIsSupported=3]="NotAllRequiredAPIsSupported"}(f||(f={})),function(e){e.Granted="granted",e.Denied="denied",e.Closed="closed",e.Default="default"}(m||(m={}));const j="PUSH__GET_PREFERENCES_PENDING",g="PUSH__GET_PREFERENCES_LOADED",y="PUSH__GET_PREFERENCES_FAILED",_="PUSH__SET_PREFERENCES_PENDING",E="PUSH__SET_PREFERENCES_LOADED",h="PUSH__SET_PREFERENCES_FAILED"},"./src/reddit/actions/nps.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");var d=s("./node_modules/@r/frames/compiled.js"),u=s("./node_modules/lodash/debounce.js"),l=s.n(u),b=function(e){document.body.appendChild(function(e){let t;function s(){d.listen("embedjail"),d.receiveMessage(t.contentWindow,"open.embedjail",function(e){var s;s=e.detail,t.style.width=s.dimensions.width,t.style.height=s.dimensions.height,t.style.display="block",t.style.position="fixed",t.style.bottom=0,t.style.zIndex=2147483647,window.addEventListener("resize",r)}),d.receiveMessage(t.contentWindow,"close.embedjail",function(e){t.parentElement.removeChild(t),d.stopListening("asknicely"),window.removeEventListener("resize",r),t=void 0}),window.addEventListener("message",function(e){"https://web.archive.org/web/20190601001601/https://live.asknice.ly"!==e.origin&&"https://reddit.asknice.ly"!==e.origin||e.data&&t&&t.contentWindow&&d.postMessage(t.contentWindow,e.data+".asknicely")})}const r=l()(function(){t&&t.contentWindow&&d.postMessage(t.contentWindow,"resize.asknicely")},500);return function(){return t=function(){const t=document.createElement("iframe");return t.src=e,t.setAttribute("allowTransparency","true"),t.style.display="block",t.style.width="100%",t.style.height="1px",t.style.background="transparent",t.style.border="none",t}(),s(),t}}(e)())};s.d(t,"c",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"d",function(){return _});const p="NPS__URL_PENDING",O="NPS__URL_LOADED",f="NPS__URL_FAILED",m=Object(r.a)(p),j=Object(r.a)(O),g=Object(r.a)(f);let y=!1;const _=()=>async(e,t,s)=>{const r=t();if(r.nps.pending)return;if(y)return;e(m());const d=r.platform.currentPage&&r.platform.currentPage.queryParams.feature||"",u=!!r.user.account,l=await((e,t,s)=>Object(c.c)(Object(i.a)(e,[o.a]),{data:{feature:t,app_name:"web2x"},endpoint:`${s?n.a.oauthUrl:n.a.apiUrl}/api/jail/asknicely${s?"":".json"}`,method:a.jb.GET}))(s.apiContext(),d,u);if(l.ok){const t=l.body;e(j(t)),t.dest&&(b(t.dest),y=!0)}else e(g())}},"./src/reddit/actions/oldSiteRules.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");s.d(t,"a",function(){return o}),s.d(t,"b",function(){return u});const o="OLD_SITE_RULES_LOADED",d=Object(r.a)(o),u=()=>async(e,t,{apiContext:s})=>{const r=await(e=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/site_rules.json`,method:n.jb.GET}))(s());if(r.ok){const t=r.body.site_rules;e(d({oldSiteRules:t}))}}},"./src/reddit/actions/originalContent.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeListingKey/index.ts"),o=s("./src/reddit/constants/originalContent.ts"),d=s("./src/reddit/constants/page.ts"),u=s("./src/reddit/constants/parameters.ts"),l=s("./src/lib/makeApiRequest/index.ts"),b=s("./src/lib/omitHeaders/index.ts"),p=s("./src/reddit/constants/headers.ts"),O=s("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),f=s("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),m=s("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var j=s("./src/reddit/helpers/r2/normalizePostFromR2/index.ts");var g=s("./src/reddit/endpoints/page/originalContentPage.ts"),y=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),_=s("./src/reddit/models/OcSubreddits/index.ts");function E(e){return{discoverable:e.discoverable,name:e.name,displayText:e.display_text,submittable:e.submittable}}var h=s("./src/reddit/selectors/originalContent.ts");s.d(t,"f",function(){return I}),s.d(t,"e",function(){return S}),s.d(t,"d",function(){return T}),s.d(t,"q",function(){return R}),s.d(t,"c",function(){return A}),s.d(t,"b",function(){return w}),s.d(t,"a",function(){return P}),s.d(t,"p",function(){return L}),s.d(t,"l",function(){return U}),s.d(t,"k",function(){return M}),s.d(t,"j",function(){return F}),s.d(t,"s",function(){return $}),s.d(t,"o",function(){return V}),s.d(t,"n",function(){return H}),s.d(t,"m",function(){return K}),s.d(t,"t",function(){return z}),s.d(t,"i",function(){return X}),s.d(t,"h",function(){return J}),s.d(t,"g",function(){return Z}),s.d(t,"r",function(){return re});const I="OC_MORE_POSTS_PENDING",S="OC_MORE_POSTS_LOADED",T="OC_MORE_POSTS_FAILED",v=Object(c.a)(I),C=Object(c.a)(S),D=Object(c.a)(T),R=e=>async(t,s,{apiContext:r})=>{const c=s(),l=c.platform.currentPage;var b=e.sort;const p=void 0===b?a.Y:b;var O=e.category;const f=void 0===O?o.b:O,m=l?l.queryParams:{},j=Object.assign({},m,{category:f}),_=Object(i.a)(d.j,p,j),E=c.listings.postOrder.loadMore[_],h=m[u.t]?m[u.t].toUpperCase():"",I=h in a.qc&&a.qc[h];if(!E)return;const S=c.listings.postOrder.api.pending[_],T=c.listings.postOrder.fetchedTokens,R=T[_]&&T[_][E.token]||!1;if(S||R)return;t(v({key:_,fetchedToken:E.token}));const A=await Object(g.a)(r(),Object.assign({after:E.token,category:f,dist:E.dist,sort:p,t:Object(y.a)(p,I)},n()(m,u.j))),w=c.listings.postOrder.ids[_],P=Object.assign({},A.body,{postIds:(A.body.postIds||[]).filter(e=>!w||!w.includes(e))});A.ok?t(C(Object.assign({key:_,fetchedToken:E.token,meta:c.meta},P))):t(D(Object.assign({key:_,error:A.error,fetchedToken:E.token},P)))},A="OC_CATEGORIES_PENDING",w="OC_CATEGORIES_LOADED",P="OC_CATEGORIES_FAILED",x=Object(c.a)(A),N=Object(c.a)(w),k=Object(c.a)(P),L=()=>async(e,t,{apiContext:s})=>{const r=t();if(Object(h.d)(r))return;if(Object(h.c)(r).length>0)return;e(x());const n=await(e=>Object(l.c)(Object(b.a)(e,[p.a]),{endpoint:`${e.apiUrl}/api/oc_categories.json`,method:a.jb.GET}))(s());if(n.ok){const t=n.body.map(E);e(N(t))}else e(k(n.error))},U="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_PENDING",M="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_LOADED",F="PAGE__ORIGINAL_CONTENT_TOP_COMMUNITIES_FAILED",G=Object(c.a)(U),B=Object(c.a)(M),q=Object(c.a)(F),$=(e=o.b)=>async(t,s,{apiContext:r})=>{t(G({category:e}));const n=await((e,t)=>Object(l.c)(Object(b.a)(e,[p.a]),{data:t,endpoint:`${e.apiUrl}/api/oc_top_subreddits.json`,method:a.jb.GET}))(r(),{category:e,count:o.e});if(n.ok){var c=Object(_.c)(n.body.data.children.map(({data:e})=>e));const s=c.subreddits,r=c.subredditsAboutInfo;t(B({category:e,subreddits:s,subredditsAboutInfo:r}))}else t(q({category:e,error:n.error}))},V="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_PENDING",H="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_LOADED",K="PAGE__ORIGINAL_CONTENT_TOP_CREATORS_FAILED",W=Object(c.a)(V),Q=Object(c.a)(H),Y=Object(c.a)(K),z=(e=o.b)=>async(t,s,{apiContext:r})=>{t(W({category:e}));const n=await((e,t)=>Object(l.c)(Object(b.a)(e,[p.a]),{data:t,endpoint:`${e.apiUrl}/api/oc_top_creators.json`,method:a.jb.GET}))(r(),{category:e});if(n.ok){var c=function(e){return e.data.children.reduce((e,{data:t})=>{if(e.users[t.name.toLowerCase()]=Object(O.a)(t),t.subreddit){const s=Object(m.a)(t.subreddit,t.name);s&&(e.profiles[s.id]=s,e.profilesAboutInfo[s.id]=Object(f.a)(t))}return e},{profiles:{},profilesAboutInfo:{},users:{}})}(n.body);const s=c.profiles,r=c.profilesAboutInfo,a=c.users;t(Q({category:e,profiles:s,profilesAboutInfo:r,users:a}))}else t(Y({category:e,error:n.error}))},X="PAGE__ORIGINAL_CONTENT_BEST_POSTS_PENDING",J="PAGE__ORIGINAL_CONTENT_BEST_POSTS_LOADED",Z="PAGE__ORIGINAL_CONTENT_BEST_POSTS_FAILED",ee=Object(c.a)(X),te=Object(c.a)(J),se=Object(c.a)(Z),re=(e=o.b)=>async(t,s,{apiContext:r})=>{const n=s(),c=n.meta,i=Object(h.a)(n,{categoryName:e});if(Object(h.b)(n,{categoryName:e})||i.length)return;t(ee({category:e}));const d=await((e,t)=>Object(l.c)(Object(b.a)(e,[p.a]),{data:t,endpoint:`${e.apiUrl}/original/${t.category}/top.json`,method:a.jb.GET}))(r(),{category:e,limit:o.a,sort:a.X.TOP,t:a.qc.WEEK});if(d.ok){const s=function(e){return e.data.children.reduce((e,{data:t})=>{const s=Object(j.a)(t);return e.posts[s.id]=s,e},{posts:{}})}(d.body).posts;t(te({category:e,meta:c,posts:s}))}else t(se({category:e,error:d.error}))}},"./src/reddit/actions/page.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/app/strings/index.ts"),i=s("./src/lib/addQueryParams/index.ts"),o=s("./src/lib/getParsedUserAgent/index.ts"),d=s("./src/reddit/actions/category.ts"),u=s("./src/reddit/actions/discoveryUnit.ts"),l=s("./src/reddit/actions/monthsToMinutes/post.ts"),b=s("./src/reddit/actions/multireddit/index.ts"),p=s("./src/reddit/actions/pages/subreddit.ts"),O=s("./src/reddit/actions/search.ts"),f=s("./src/reddit/actions/shortcuts.ts"),m=s("./src/reddit/constants/parameters.ts"),j=s("./src/reddit/constants/thumbnails.ts"),g=s("./src/reddit/endpoints/governance/posts.ts"),y=s("./src/reddit/endpoints/page/commentsPage.ts"),_=s("./src/reddit/endpoints/page/frontpage.ts"),E=s("./src/reddit/endpoints/page/multiredditListing.ts"),h=s("./src/reddit/endpoints/page/search.ts"),I=s("./src/reddit/endpoints/page/subredditPage.ts"),S=s("./src/reddit/models/Post/index.ts"),T=s("./src/reddit/selectors/experiments/railsSearchResults.ts"),v=s("./src/lib/constants/index.ts"),C=s("./src/app/models/Draft.ts"),D=s("./src/lib/makeDraftKey/index.ts"),R=s("./src/lib/opener/index.ts"),A=s("./src/reddit/models/Gold/Coins/index.ts"),w=s("./src/reddit/actions/badge.ts"),P=s("./src/reddit/actions/dashboard.ts"),x=s("./src/reddit/actions/externalAccount.ts"),N=s("./src/reddit/actions/gameOfThronesEvent/index.ts"),k=s("./src/reddit/actions/gold/modals.ts"),L=s("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),U=s("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts"),M=s("./src/reddit/actions/governance/releaseNotes.ts"),F=s("./src/reddit/actions/moderatingSubreddits.ts"),G=(s("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),s("./node_modules/history/index.js"),s("./src/lib/makeActionCreator/index.ts")),B=s("./src/reddit/actions/platform.ts"),q=s("./src/reddit/endpoints/me/index.ts"),$=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),V=s("./src/reddit/actions/pages/appeal/constants.ts");const H=Object(G.a)(V.b),K=Object(G.a)(V.a);var W=s("./src/reddit/actions/post.ts"),Q=s("./src/reddit/actions/profile/index.ts"),Y=s("./src/reddit/actions/redditEmbed.ts"),z=s("./src/reddit/actions/subreddit.ts"),X=s("./src/reddit/actions/toaster.ts"),J=s("./src/reddit/actions/users.ts"),Z=s("./src/reddit/constants/adEvents.ts"),ee=s("./src/reddit/constants/listings.ts"),te=s("./src/reddit/constants/page.ts"),se=s("./src/reddit/constants/postLayout.ts"),re=s("./src/reddit/constants/posts.ts"),ne=s("./src/reddit/contexts/PageLayer/index.tsx"),ae=s("./src/reddit/helpers/commentList/index.ts"),ce=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),ie=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),oe=s("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),de=s("./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts"),ue=s("./src/reddit/helpers/pixels.ts"),le=s("./src/reddit/models/Comment/index.ts"),be=s("./src/reddit/models/DiscoveryUnit/index.ts"),pe=s("./src/reddit/models/Multireddit/index.ts"),Oe=s("./src/reddit/models/Subreddit/index.ts"),fe=s("./src/reddit/models/Toast/index.ts"),me=s("./src/reddit/models/User/index.ts"),je=s("./src/reddit/selectors/experiments/exploreV2.ts"),ge=s("./src/reddit/selectors/experiments/postSeo.ts"),ye=s("./src/reddit/selectors/frontpage.ts"),_e=s("./src/reddit/selectors/gameOfThrones.ts"),Ee=s("./src/reddit/selectors/goldPurchaseModals.ts"),he=s("./src/reddit/selectors/monthsToMinutes.ts"),Ie=s("./src/reddit/selectors/multireddit.ts"),Se=s("./src/reddit/selectors/platform.ts"),Te=s("./src/reddit/selectors/posts.ts"),ve=s("./src/reddit/selectors/runTimeEnvVars.ts"),Ce=s("./src/reddit/selectors/subreddit.ts"),De=s("./src/reddit/selectors/user.ts"),Re=s("./src/lib/makeCommentsPageKey/index.ts"),Ae=s("./src/lib/makeListingKey/index.ts"),we=s("./src/lib/makeSearchKey/index.ts"),Pe=s("./src/lib/matchRoute/index.ts"),xe=s("./src/reddit/actions/ads/index.ts"),Ne=s("./src/reddit/actions/economics/tips/async.ts"),ke=s("./src/reddit/actions/governance/async.ts"),Le=s("./src/reddit/actions/governance/communityDetails.ts"),Ue=s("./src/reddit/featureFlags/index.ts"),Me=s("./src/reddit/helpers/canonicalUrls.ts"),Fe=s("./src/reddit/helpers/chooseVariant/index.ts"),Ge=s("./src/lib/raven/index.ts"),Be=s("./node_modules/lodash/get.js"),qe=s.n(Be),$e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ve=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const He={path:"",extraKeys:["id"],disableExtra:!1,replaceMissedObject:!1};var Ke;!function(e){e.NotEqual="ne",e.Missed="m",e.Length="l"}(Ke||(Ke={}));const We=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,Qe=(e,t,s)=>s?`${e}[${t}]`:`${(e&&`${e}.`)+t}`,Ye=e=>We(e)?"[Object]":e,ze=e=>{const t=e.o1,s=e.o2,r=e.path;var n=e.diffs;const a=void 0===n?[]:n,c=e.replaceMissedObject,i=Ve(e,["o1","o2","path","diffs","replaceMissedObject"]);if(Array.isArray(t)&&Array.isArray(s))return t.length!==s.length?[...a,{k:Ke.Length,p:r,o1:t,o2:s}]:t.reduce((n,a,c)=>[...n,...ze(Object.assign({},e,{o1:t[c],o2:s[c],path:Qe(r,((e,t,{disableExtra:s,extraKeys:r})=>s||!We(t)?e:r.reduce((e,s)=>`${e}${t[s]?`,${s}=${t[s]}`:""}`,e))(c,t[c]||s[c],i),!0)}))],a);if(We(t)&&We(s)){let n=a;const i=[];for(const a in t)i.push(a),n=n.concat(s.hasOwnProperty(a)?ze(Object.assign({},e,{o1:t[a],o2:s[a],path:Qe(r,a)})):{k:Ke.Missed,p:Qe(r,a),o1:c?Ye(t[a]):t[a]});for(const e in s)i.includes(e)||n.push({k:Ke.Missed,p:Qe(r,e),o2:c?Ye(s[e]):s[e]});return n}return t!==s?[...a,{k:Ke.NotEqual,p:r,o1:t,o2:s}]:a},Xe=e=>e[0]instanceof RegExp,Je=([e,t],s)=>e.test(s.p)&&t(s.o1,s.o2),Ze=(e,t,s)=>{const r=e.shift();if(!r||!Je(r,t))return!1;for(const a of e){var n=$e(a,2);const e=n[0],r=n[1],c=e.exec(t.p);if(!c||!r(qe()(s.expected,c[0]),qe()(s.actual,c[0])))return!1}return!0},et=e=>{if(Array.isArray(e))return e.reduce((e,t)=>e+et(t),e.length);if(!We(e))return 0;const t=Object.keys(e);return t.reduce((t,s)=>t+et(e[s]),t.length)},tt=/^(account|posts|preferences|profiles|subreddits)\.(?:(t\d{1}_[a-zA-Z0-9]+)\.)?.*$/;var st=(e,t)=>ze(Object.assign({},He,{o1:e,o2:t})),rt=s("./src/telemetry/index.ts");window.atob;const nt=window.btoa;var at,ct=s("./src/lib/makeRequest/index.ts");!function(e){e.NumberOfDiffs="numberOfDiffs",e.DetailedDiffs="detailedDiffs"}(at||(at={}));const it=e=>{switch(e){case at.NumberOfDiffs:return v.w.NUMBER_OF_DIFFS;case at.DetailedDiffs:return v.w.DETAILED_DIFFS}};function ot(e,t){return Object(ct.b)({method:v.jb.POST,endpoint:`/counters/${it(t.type)}`,data:{value:nt(JSON.stringify(Object.assign({appName:e},t.data)))},type:"json"})}var dt=async function({fetchFn:e,context:t,variables:s,normalizer:r,dataToCompare:n,responseName:a,responseTypeName:c,diffSettings:i,beforeCompare:o}){try{const u=Date.now(),l=await e(t,s);if(l.ok){const e=r(l.body.data),t=Date.now()-u;o&&o(n.response,e);const s=st(n.response,e),d=i&&i.rules?((e,t,s)=>e.filter(e=>{for(const r of t)if(Xe(r)){if(Je(r,e))return!1}else if(s&&Ze(r,e,s))return!1;return!0}))(s,i.rules,{expected:n.response,actual:e}):s,b=d.length;return((e,t,s,r,n,a)=>{const c=t?`${e}_${t}`:e;Object(rt.b)(v.o.Redesign,{type:"gql",responseName:c,duration:a}),ot(v.o.Redesign,{type:at.NumberOfDiffs,data:{responseName:c,numberOfDiffs:s,totalDiffs:r}}),ot(v.o.Redesign,{type:at.DetailedDiffs,data:Object.assign({responseName:e},n)})})(a,c,b,et(n.response),(e=>{const t={account:0,posts:0,preferences:0,profiles:0,subreddits:0},s={posts:new Set,profiles:new Set,subreddits:new Set};for(const r of e){const e=r.p.match(tt);if(!e)continue;const n=e[1],a=e[2];switch(n){case"preferences":case"account":t[n]++;break;default:s[n]&&a&&(t[n]++,s[n].add(a))}}for(const r in s)t[r]/=s[r].size||1;return t})(d),t),d.length&&Object(Ge.c)(`Compare responses: ${a}`,{extra:Object.assign({diff:d,numberOfDiffs:b},n.start&&{responsesDist:u-n.start}),settings:{serverLogging:!1}}),Object.assign({},l,{body:e})}return Object(Ge.c)(`Gql error in ${a}`,{extra:{error:l.error},settings:{serverLogging:!1}}),l}catch(d){Object(Ge.b)(d)}},ut=s("./src/reddit/helpers/timeApiRoute/index.ts"),lt=(s("./src/reddit/models/MonthsToMinutes/index.ts"),s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts")),bt=s("./src/reddit/actions/subreddit/constants.ts"),pt=s("./src/reddit/endpoints/subreddit/posts.ts"),Ot=s("./src/reddit/helpers/normalizePostsFromGql/index.ts");const ft=Object(G.a)(bt.b),mt=Object(G.a)(bt.a),jt=(e,t)=>{const s=e.edges.filter(e=>(e=>e.node.__typename!==S.d.AdPost)(e)&&(e=>!e.node.crosspostRoot)(e)&&((e,t)=>!t.hasOwnProperty(e.node.id))(e,t));return Object.assign({},e,{edges:s})};var gt=s("./src/reddit/helpers/graphql/helpers.ts"),yt=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts");s.d(t,"n",function(){return Et}),s.d(t,"j",function(){return ht}),s.d(t,"O",function(){return It}),s.d(t,"h",function(){return St}),s.d(t,"g",function(){return Tt}),s.d(t,"f",function(){return vt}),s.d(t,"s",function(){return At}),s.d(t,"N",function(){return wt}),s.d(t,"J",function(){return Pt}),s.d(t,"E",function(){return kt}),s.d(t,"d",function(){return Lt}),s.d(t,"b",function(){return Ut}),s.d(t,"a",function(){return Mt}),s.d(t,"y",function(){return Gt}),s.d(t,"x",function(){return Bt}),s.d(t,"z",function(){return qt}),s.d(t,"o",function(){return $t}),s.d(t,"w",function(){return Ht}),s.d(t,"c",function(){return Kt}),s.d(t,"F",function(){return Qt}),s.d(t,"G",function(){return Yt}),s.d(t,"t",function(){return zt}),s.d(t,"q",function(){return Xt}),s.d(t,"r",function(){return Jt}),s.d(t,"p",function(){return Zt}),s.d(t,"M",function(){return ns}),s.d(t,"L",function(){return as}),s.d(t,"i",function(){return cs}),s.d(t,"D",function(){return os}),s.d(t,"m",function(){return ds}),s.d(t,"l",function(){return us}),s.d(t,"k",function(){return ls}),s.d(t,"H",function(){return fs}),s.d(t,"I",function(){return ms}),s.d(t,"e",function(){return js}),s.d(t,"A",function(){return ys}),s.d(t,"v",function(){return _s}),s.d(t,"u",function(){return Es}),s.d(t,"K",function(){return hs}),s.d(t,"B",function(){return Is}),s.d(t,"C",function(){return Ss});var _t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const Et=25,ht=100,It=(e,t=!0)=>async(s,r,{routes:n})=>{const c=r();Object(Pe.a)(e,n,c)?s(Object(a.b)(e)):t?Object(R.b)(e,"_blank"):window.location.assign(e)},St="PAGE__FRONTPAGE_PENDING",Tt="PAGE__FRONTPAGE_LOADED",vt="PAGE__FRONTPAGE_FAILED",Ct=Object(G.a)(St),Dt=Object(G.a)(Tt),Rt=Object(G.a)(vt),At="PAGE__TRENDING_LOADED",wt=Object(G.a)(At),Pt=(e,t)=>{const s=e.user.language;return Object(c.a)(s,`title.${t}`)},xt=[/^posts\.[a-z_0-9]+/,(e,t)=>t&&Object(S.e)(t.author)],Nt=(e,t)=>async(s,r,n)=>{const a=r();if(a.listings.postOrder.api.pending[e])return;const i=se.d[Object(ne.O)(a,{})];t.isMobile=Object(o.e)(a.meta.userAgent),t.recentPostIds=a.posts.recent,t.layout=i,t.useMockData=!!a.platform.currentPage&&(!!a.platform.currentPage.queryParams.useMockData&&Object(ve.c)(a)),s(Ct({key:e}));const u=Object(he.e)(a),l=Object(he.g)(a,{expEventOverride:!1}),b=u&&l;if(b)0;else{const e=a.platform.currentPage,s=e&&e.url;s&&(t.clickUrl=s)}const p=b?()=>Object(I.a)(n.apiContext(),u,t):()=>Ue.d.useGraphQLInFrontpage(a)?Object(_.b)(n.gqlContext(),Object(_.d)(a,t),Object(De.O)(a)):Object(_.a)(n.apiContext(),t),O=b?"multireddit":"index",f=Date.now(),m=await Object(ut.a)(O,p);s(Object(B.m)(m.status));const g=`error-${e}`;if(m.ok){const c=m.body;s(Dt(Object.assign({key:e,meta:a.meta},c)));const i=[F.c()(s,r,n)];Object(je.a)(a)&&i.push(s(d.g())),await Promise.all(i),s(X.f(g)),s(Object(xe.b)(lt.a.FRONTPAGE)),b||Ue.d.useGraphQLInFrontpage(a)||!Ue.d.enableShadowMode(a)||dt(Object.assign({},((e,t)=>{const s=[v.X.CONTROVERSIAL,v.X.TOP].includes(e)&&!t?v.rc:t;return{responseName:"home_feed",responseTypeName:`${e}${s?"_"+s:""}`}})(t.sort,t.t),{fetchFn:_.c,normalizer:oe.a,variables:Object(_.d)(a,t),context:n.gqlContext(),dataToCompare:{response:c,start:f},beforeCompare:Ts,diffSettings:{rules:[[/.*/,(e,t)=>void 0===e&&[!1,null,void 0].includes(t)],[/^features$/,gt.f],[/^posts\..+\.eventsOnRender$/,gt.f],[/^posts\..+\.isRoadblock$/,gt.f],[/^posts\..+\.postCategories$/,gt.f],[/^account\.geopopular$/,gt.f],[/^account\.inChat$/,gt.f],[/^account\.showTwitter$/,gt.f],[/^posts\..*\.media\.videoPreview$/,gt.f],[/^posts\..+\.score$/,gt.g],[/^subreddits\..+\.subscribers$/,gt.g],[/^posts\..+\.upvoteRatio$/,gt.f],[/^subreddits\..+\.primaryColor$/,gt.d],[/^posts\..+\.flair\[\d{1,2}\]\.backgroundColor$/,gt.d],[/^account.showRecentPosts$/,(e,t)=>!!e===t],[/^posts\..+\.media\.resolutions\[\d+\]\.url$/,(e,t)=>Object(gt.b)(e,t,["height"])],[/^posts\..+\.media\.posterUrl$/,(e,t)=>Object(gt.b)(e,t,["height"])],[/^posts\..+\.preview\.url$/,(e,t)=>Object(gt.b)(e,t,["format"])],[/^posts\..+\.thumbnail\.url$/,(e,t)=>t===j.a.NSFW],[/^trendingSubredditIds\[\d+\]$/,gt.f],[/^subreddits\..+\.wls$/,e=>null==e],[/^subreddits\..+\.whitelistStatus$/,(e,t)=>("no_ads"===e||"null_value"===e)&&void 0===t],[/^posts\..+\.media\.obfuscated$/,gt.c],[/^posts\..+\.source\.outboundUrl$/,(e,t)=>""===e&&void 0===t||Object(gt.e)(e,t,["app_name","token"])],[/^posts\..+\.source\.outboundUrl(Created|Expiration)$/,(e,t)=>Math.abs(t-e)<1e4],[/^posts\..*\.numComments/,(e,t)=>Math.abs(t-e)<=10],[/^postFlair\..*\.displaySettings\.position/,(e,t)=>""===e&&null===t],[/^subreddits\..*\.freeFormReports$/,e=>null==e],[/^posts\..*\.sendReplies$/,(e,t)=>void 0===t],[/^posts\..+\.flair\[\d+\]\.templateId$/,(e,t)=>null===e&&void 0===t],[/^postInstances\[\d+\]$/,gt.f],[/^account\.hasAndroidSubscription$/,(e,t)=>!1===e&&void 0===t],[/^account\.hasIOSSubscription$/,(e,t)=>!1===e&&void 0===t],[/^posts\..+\.media\.content$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.media\.markdownContent$/,(e,t)=>void 0===e&&""===t],[/^posts\..+\.crosspostParentId$/,(e,t)=>null===e&&void 0===t],[/^posts\..+\.crosspostRootId$/,(e,t)=>null===e&&void 0===t],[/^account\.gildedLastMonth$/,(e,t)=>null===e&&void 0===t],[/^account\.accountIcon$/,(e,t)=>null===e&&void 0===t],[/^account\.email$/,(e,t)=>null===e&&void 0===t],[/^subreddits\..+\.communityIcon$/,(e,t)=>""===e&&void 0===t],[[/^posts\..*\.sendReplies$/,(e,t)=>!1===t],xt],[/^posts\..*\.domainOverride$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.callToAction$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.contentCategories$/,(e,t)=>null===e&&void 0===t],[/^posts\..*\.modReports$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.previewComments$/,(e,t)=>void 0===e&&t&&0===t.length],[/^posts\..*\.userReports$/,(e,t)=>void 0===e&&t&&0===t.length]]}}))}else s(Rt(Object.assign({error:m.error,key:e},m.body))),s(X.e({id:g,kind:fe.b.Error,text:Object(c.a)(a.user.language,"listings.toast.error"),buttonText:Object(c.a)(a.user.language,"listings.toast.retryButton"),buttonAction:Nt(e,t)}))},kt=(e,t)=>async(s,r,{apiContext:c})=>{const o=r();await Promise.all([Object(_e.o)(o)?s(Object(N.a)()):null,s(((e,t)=>async(s,r)=>{const c=r();if(!1===c.user.temporaryGQL.isLoggedIn&&Object(je.a)(c))return void s(Object(a.b)(Object(i.a)(ee.c[te.e.Explore],e.queryParams)));const o=Object(ye.a)(c);var d=e.params.sort;const u=void 0===d?o:d,l=Object(Ae.a)(te.b,u,e.queryParams),b=c.listings.postOrder.ids[l],p=c.listings.postOrder.api.error[l],O=c.listings.postOrder.api.pending[l],f=m.t in e.queryParams&&e.queryParams[m.t].toUpperCase()||"",j=f in v.qc&&v.qc[f];O||b&&!p&&!t?b&&(s(B.l({title:Pt(r(),"frontpage")})),c.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(xe.b)(lt.a.FRONTPAGE))})):(await s(Nt(l,Object.assign({},n()(e.queryParams,m.j),n()(e.queryParams,m.i),{sort:u,t:Object(ie.a)(u,j)}))),s(B.l({title:Pt(r(),"frontpage")})),Object(Fe.b)(c,{experimentEligibilitySelector:Fe.a,experimentName:"redesign_aa"}))})(e,t))])},Lt="PAGE__COMMENTSPAGE_PENDING",Ut="PAGE__COMMENTSPAGE_LOADED",Mt="PAGE__COMMENTSPAGE_FAILED",Ft=Object(G.a)(Lt),Gt=Object(G.a)(Ut),Bt=Object(G.a)(Mt),qt=e=>async(t,s)=>{const r=e.params.partialPostId,n=e.params.partialCommentId;const a=(e.params||"").subredditName,i=r?Object(S.h)(r):"",o=n&&Object(le.e)(n),d=e.queryParams,u=s(),b=d.instanceId;var O=Object(ce.a)(u,i);const j=O.hasSortParam,g=O.sortToUse,y=["context","depth","limit",m.e].reduce((e,t)=>{const s=parseInt(d[t]);return isNaN(s)||(e[t]=s),e},{subredditName:a,hasSortParam:j,instanceId:b,include_categories:!0});j&&(y.sort=g),t(W.j(i)),await Promise.all([Object(_e.m)(u)?t(Object(N.a)()):null,t(Ht(i,o,y,g))]);const _=s().posts.models[i];if(_){const r=((e,t)=>{const s=Object(Te.Q)(e,{postId:t});return s?Object(c.a)(e.user.language,"title.commentsPage",{postTitle:e.posts.models[t].title,subreddit:s.name}):""})(s(),i),n=Object(Ce.O)(s(),{identifier:_.belongsTo});if(_.belongsTo.type!==re.a.SUBREDDIT||_.isSponsored)_.belongsTo.type===re.a.PROFILE&&await t(Q.d(n.name));else{!!Object(Ce.R)(u,{subredditId:_.belongsTo.id})||await t(z.o(n.name))}{const e=Object(yt.f)(u);if(!Object(Se.i)(u)&&!Object(Oe.c)(n)&&Object(ge.d)(Object(ge.C)(u))){const e=Object(Ae.a)(a,v.X.TOP,{t:v.qc.WEEK}),r=Object(Te.z)(s(),{listingKey:e});r&&0!==r.length||t((e=>async(t,s,{gqlContext:r})=>{try{const a=s(),c=a.posts&&a.posts.models,i=(await Object(pt.a)(r(),e)).body,o=(i&&i.data&&i.data.subreddit).posts,d=jt(o,c);if(!d.edges.length)return;const u=Object(Ot.a)(d),l=e.range,b=e.sort,p=e.subredditName,O=Object(Ce.C)(a,{subredditName:p}).id,f=Object(Ae.a)(p,v.X[b],{t:l}),m=(e=>e.reduce((e,t)=>(e[t.id]=t,e),{}))(u),j=u.map(e=>e.id),g={[O]:(e=>e.reduce((e,t)=>(e[t.author]=t.flair.length?t.flair:null,e),{}))(u)},y={dist:o.dist,key:f,meta:a.meta,postIds:j,posts:m,providerFlair:g};t(ft(y))}catch(n){mt(n)}})({sort:v.M.TOP,subredditName:n.name,range:v.qc.WEEK.toUpperCase()}))}if(e&&!Object(Oe.c)(n)){const s=Object(he.e)(u);s&&!Object(he.n)(u)?t(Object(p.e)(s,{sort:v.X.HOT})):Object(yt.e)(e)&&t(Object(p.e)(n.name,{sort:v.X.TOP}))}t(Object(x.p)())}t(B.l({title:r}));const o=s().posts.instances[i]?e.queryParams.instanceId:_.postId;t(Object(f.c)(o))}else t(B.l({title:Pt(s(),"frontpage")}));const E=e.params.routePrefix;if(re.b[E]===re.a.PROFILE?Object(Me.c)(s(),t,e):Object(Me.d)(s(),t,e),_&&(Ue.d.spPoints(u)||Ue.d.spSupport(u)||Ue.d.spLoadtest(u))){const e=_.belongsTo.id;e&&t(Object(M.a)({subredditId:e})),e&&await t(Object(Le.a)({subredditId:e}))}Object(he.x)(s())&&await t(Object(l.b)(i))},$t="PAGE__REMOVE_COMMENT_PAGE_KEY",Vt=Object(G.a)($t),Ht=(e,t,s,r)=>async(n,a,c)=>{const i=Object(Re.a)(e,t,s),o=r===v.t.CHAT;if(o){const t=Object(Re.a)(e);await n(Vt({postKey:t}))}const d=a(),l=s.subredditName,b=d.commentsPage.keyToHeadCommentId.hasOwnProperty(i),O=d.commentsPage.api.fullyLoaded[i],f=d.commentsPage.api.error[i];if(d.commentsPage.api.pending[i]||b&&!f){if(b&&!d.sidebarPromotedPosts.firstFetch){const e=Object(Se.i)(d)?lt.a.COMMENTS_OVERLAY:lt.a.COMMENTS;window.addEventListener("load",()=>{n(Object(xe.b)(e)),Math.random()<=.01&&n(Object(xe.a)())})}if(O||n(Qt(e,t,s)),l&&(Ue.d.spPoints(a())||Ue.d.spSupport(a())||Ue.d.spLoadtest(a()))){const e=Object(Ce.I)(a(),l);e&&window.addEventListener("load",()=>{n(Object(M.a)({subredditId:e}))})}return}n(u.h());const m=d.user.prefs.commentMode;n(Ft({key:i,postId:e,commentMode:m}));const j=Object.assign({},s,o?{sort:v.t.LIVE,depth:3}:{sort:s.sort});{const t=Object(Te.F)(a(),{postId:e});t&&t.numComments&&t.numComments>ht&&(j.truncate=Et)}let _,E=await Object(ut.a)("comments",()=>Object(y.a)(c.apiContext(),e,t,j));if(n(Object(B.m)(E.status)),E.ok){const t=Object.keys(E.body.posts).filter(e=>!!E.body.posts[e].isMeta),s=E.body.posts[e];if(t.length){const e=await Object(g.a)(c.apiContext(),s.belongsTo.id,t);e.ok&&(_=e.body)}const r=Object(ae.a)(E.body,e,d);n(Gt(Object.assign({key:i,postId:e,meta:d.meta,governance:_,shouldCollapse:r},E.body)))}{const r=Object(Te.F)(a(),{postId:e});r&&E.body.comments&&Object.keys(E.body.comments).length<r.numComments?n(Qt(e,t,s)):E.ok&&n(Wt({key:i}));const c=Object(Se.i)(d)?lt.a.COMMENTS_OVERLAY:lt.a.COMMENTS;n(Object(xe.b)(c)),Math.random()<=.01&&n(Object(xe.a)())}if(E.ok){await F.c()(n,a,c),n(X.f(i));const t=Object(Te.F)(a(),{postId:e});if(Object(ue.a)(t.events,Z.a.CommentsView),Ue.d.spPoints(a())||Ue.d.spSupport(a())||Ue.d.spLoadtest(a())){const t=a().posts.models[e];if(t&&"subreddit"===t.belongsTo.type){const e=Object.keys(E.body.comments),s=e.map(e=>{return E.body.comments[e].authorId}),r=e.concat(t.id),c=t.belongsTo.id;var h=await Promise.all([Object(ke.a)(),Object(Ne.a)()]),S=_t(h,2);const i=S[0],o=S[1],d=[n(i({subredditId:c,userIds:s}))];(Ue.d.spBadges(a())||Ue.d.spLoadtest(a()))&&d.push(n(Object(w.l)({subredditId:c}))),(Ue.d.spSupport(a())||Ue.d.spLoadtest(a()))&&d.push(n(o({subredditId:c,contentIds:r}))),await Promise.all(d)}}}else l&&(n(Object(p.g)({key:i})),E=await Object(ut.a)("subreddit",()=>Object(I.a)(c.apiContext(),l,{})),n(Object(B.m)(E.status))),n(Object(p.d)(E,l)),n(Bt(Object.assign({error:E.error,key:i},E.body)))},Kt="PAGE__COMMENTSPAGE_LOADED_FULL",Wt=Object(G.a)(Kt),Qt=(e,t,s)=>async(r,n,a)=>{const c=Object(Re.a)(e,t,s),i=n(),o=await Object(y.a)(a.apiContext(),e,t,s);if(r(Object(B.m)(o.status)),o.ok){const t=Object(ae.a)(o.body,e,i);if(r(Gt(Object.assign({key:c,postId:e,meta:i.meta,shouldCollapse:t},o.body))),r(Wt({key:c})),Ue.d.spPoints(n())||Ue.d.spSupport(n())||Ue.d.spLoadtest(n())){const t=n().posts.models[e];if(t&&"subreddit"===t.belongsTo.type){const e=Object.keys(o.body.comments),s=e.map(e=>{return o.body.comments[e].authorId}),a=e.concat(t.id),c=t.belongsTo.id;var d=await Promise.all([Object(ke.a)(),Object(Ne.a)()]),u=_t(d,2);const i=u[0],l=u[1],b=[r(i({subredditId:c,userIds:s}))];(Ue.d.spSupport(n())||Ue.d.spLoadtest(n()))&&b.push(r(l({subredditId:c,contentIds:a}))),await Promise.all(b)}}}else r(Bt(Object.assign({error:o.error,key:c},o.body)))},Yt=e=>async(t,s,r)=>{await t(Object(Y.c)(e,!0))},zt=()=>async(e,t,s)=>{await e((()=>async(e,t,{apiContext:s})=>{const r=t(),n=await Object(q.a)(s());if(n.ok&&n.body)if(n.body.account)if(r.user.account&&r.user.account.isFPR){const e="https://web.archive.org/web/20190601001601/https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/my-account-was-suspended-or-locked";window.location.href=e}else e(H(n.body));else Object($.a)(e,r);else e(K(n.error))})())},Xt="SEARCH__SEARCH_PENDING",Jt="SEARCH__SEARCH_RESULTS_RECEIVED",Zt="SEARCH__SEARCH_FAILED",es=Object(G.a)(Xt),ts=Object(G.a)(Jt),ss=Object(G.a)(Zt),rs=(e,t,s,r)=>async(n,a,{apiContext:i})=>{const o=a(),l=t[m.b],b=t.category,p=Object(T.c)(o);(l||b)&&(await Promise.all([n(u.h()),n(d.g())]),b&&await Promise.all([n(d.h(b,10)),n(u.i(be.k,b))]));let f=t.type.indexOf(v.jc.Posts)>-1||!(!s||!t.restrict_sr);if(f){const t=o.listings.postOrder.ids[e],s=o.listings.postOrder.api.error[e];f=!(o.listings.postOrder.api.pending[e]||t&&!s)}let j=t.type.indexOf(v.jc.Subreddits)>-1||t.type.indexOf(v.jc.Users)>-1;if(j){const t=o.listings.listingOrder.identifiers[e],s=o.listings.listingOrder.api.error[e];j=!(o.listings.listingOrder.api.pending[e]||t&&!s)}if(!f&&!j)return void(o.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{n(Object(xe.b)(lt.a.SEARCH_RESULTS))}));t.q&&n(Object(O.h)(t.q));const g=`error-${e}`,y=t.type;n(es({key:e,type:y}));const _=await Object(ut.a)("searchResults",()=>Object(h.a)(i(),s,r,Object.assign({},t,{type:(t.type||[]).join(","),b:p})));if(_.ok){const a={key:e,type:y,meta:o.meta,searchQuery:t.q,subredditName:s,username:r};n(ts(Object.assign({categoryName:l},a,_.body))),n(X.f(g)),n(Object(xe.b)(lt.a.SEARCH_RESULTS))}else n(ss(Object.assign({key:e,error:_.error,type:y},_.body))),n(X.e({id:g,kind:fe.b.Error,text:Object(c.a)(o.user.language,"search.toast.error"),buttonText:Object(c.a)(o.user.language,"search.toast.retryButton"),buttonAction:rs(e,t,s,r)}))},ns=e=>async(t,s,r)=>{const a=Object(we.d)(n()(e.queryParams,m.p)),i=e.params.subredditName||e.params.multiredditName,o=e.params.username,d=Object(we.c)(i,o,a),u=s();await t(rs(d,a,i,o));const l=s();let b=!1;var p=a.type;const O=void 0===p?[]:p,f=O.indexOf(v.jc.Posts)>-1,j=O.indexOf(v.jc.Subreddits)>-1||O.indexOf(v.jc.Users)>-1;f&&l.listings.postOrder.api.error[d]&&(b=!0),j&&l.listings.listingOrder.api.error[d]&&(b=!0),t(b?B.l({title:Pt(u,"frontpage")}):B.l({title:((e,t)=>Object(c.a)(e.user.language,"search.title",{query:t||"None"}))(l,a.q)}))},as=(e,t,s)=>async(r,n,{routes:c})=>{const i=n(),o=(t||i.platform.currentPage).routeMatch.match,d=Object(Pe.a)(o.url,c);if(!d)return;const u=e.metaKey||e.ctrlKey||1===e.button;if(d.route&&d.route.meta&&(d.route.meta.name===v.Rb.INDEX||d.route.meta.name===v.Rb.MULTIREDDIT||d.route.meta.name===v.Rb.SUBREDDIT))u?window.open(o.url):s?r(Object(a.b)(o.url)):await r(d.route.action(o,!0));else if(d.match&&d.match.params&&d.match.params.subredditName){const e=d.match.params.subredditName,t=`/r/${e}`;if(u)window.open(t);else if(s)r(Object(a.b)(t));else{const s=Object(Ae.a)(e,v.X.HOT);await r(Object(a.b)(t)),r(Object(p.f)(s,e,{}))}}},cs="PAGE__FRONTPAGE_RELOADED",is=Object(G.a)(cs),os=e=>async(t,s,r)=>{const n=s(),a=n.platform.currentPage.routeMatch.match;Object(Ee.q)(n)||Object(Ee.d)(n)||(e||t(is()),await t(kt(a,!0)))},ds="PAGE__MULTIREDDIT_FEED_PENDING",us="PAGE__MULTIREDDIT_FEED_LOADED",ls="PAGE__MULTIREDDIT_FEED_FAILED",bs=Object(G.a)(ds),ps=Object(G.a)(us),Os=Object(G.a)(ls),fs=(e,t,s,r,n)=>async(a,i,o)=>{const d=o.gqlContext,u=i();if(u.listings.postOrder.api.pending[e])return;a(bs({key:e})),r.layout=se.d[Object(ne.O)(u,{})];const l={path:Object(pe.g)(t,s).replace(/\/$/,""),includeIdentity:!0,sort:r.sort?r.sort.toUpperCase():void 0,range:r.t?r.t.toUpperCase():void 0},p=await Object(ut.a)("multireddit",()=>Object(E.a)(d(),l)),O=p.body.data,f=`error-${e}`;if(p.ok&&O){const r=Object(de.a)(O);if(!O.multireddit)return n&&a(X.f(f)),void a(Os(Object.assign({},r,{error:{type:v.I.NOT_FOUND_ERROR},key:e})));a(ps(Object.assign({key:e,meta:u.meta},r,{account:r.account||Object(De.j)(u),multiredditsModelsState:u.multireddits.models}))),n&&a(X.f(f)),a(Object(b.h)({multiredditName:s,username:t})),window.addEventListener("load",()=>{a(Object(xe.b)(lt.a.MULTIREDDIT))})}else n&&a(X.e({id:f,kind:fe.b.Error,text:Object(c.a)(u.user.language,"listings.toast.error"),buttonText:Object(c.a)(u.user.language,"listings.toast.retryButton"),buttonAction:fs(e,t,s,r,n)}))},ms=(e,t)=>async(s,r)=>{const c=e.params.multiredditName;let o=e.params.username;if(!o){let t=r();if(t.user.session&&t.user.session.unsafeLoggedOut)return void s(Object(a.c)("/"));!t.user.account&&t.user.session&&await s(J.A());const n=(t=r()).user.account;if(!n)return void s(Object(a.c)("/"));if(Ue.d.customFeeds(t)){let t=`/user/${o=Object(me.f)(n)}/m/${c}`;const r=e.params.sort;return t+=r?`/${r}`:"",void s(Object(a.c)(Object(i.a)(t,e.queryParams)))}}var d=e.params.sort;const u=void 0===d?v.X.HOT:d,l={multiredditName:c,username:o},b=r();o||(o=b.user.account?Object(me.f)(b.user.account):"");const p=Object(pe.g)(o,c),O=Object(Ae.a)(p,u,e.queryParams),f=b.listings.postOrder.ids[O],j=b.listings.postOrder.api.error[O],g=b.listings.postOrder.api.pending[O],y=m.t in e.queryParams&&e.queryParams[m.t].toUpperCase()||"",_=y in v.qc&&v.qc[y];if(g||f&&!j&&!t)return void(f&&(s(B.l({title:Object(Ie.f)(r(),l)})),b.sidebarPromotedPosts.firstFetch||s(Object(xe.b)(lt.a.MULTIREDDIT))));await s(fs(O,o,c,Object.assign({},n()(e.queryParams,m.j),n()(e.queryParams,m.i),{sort:u,t:Object(ie.a)(u,_)}),!0));const E=r();Object(Ie.d)(E,l)&&s(B.l({title:Object(Ie.f)(r(),l)})),Object(Me.b)(E,s,e)},js="PAGE__DASHBOARD_PENDING",gs=Object(G.a)(js),ys=e=>async(t,s,r)=>{const a=s(),c=v.X.HOT;var i=e.params;const o=i.subredditName,d=i.section,u=i.component,l=Object(D.a)(C.a.replyToComment,"example-comment");t(gs({draftKey:l})),d&&u&&t(P.d(`${d}/${u}`));const b=o&&a.dashboard.subredditLoaded[o];if(o&&!b){t(P.f(o));const s=Object(Ae.a)(o,c,e.queryParams),r=m.t in e.queryParams&&e.queryParams[m.t].toUpperCase()||"",a=r in v.qc&&v.qc[r];await t(Object(p.f)(s,o,Object.assign({},n()(e.queryParams,m.j),n()(e.queryParams,m.i),{sort:c,t:Object(ie.a)(c,a)}),!0)),t(P.e(o))}else{const s=Object(Ae.a)(te.b,c,{}),r=m.t in e.queryParams&&e.queryParams[m.t].toUpperCase()||"",a=r in v.qc&&v.qc[r];await t(Nt(s,Object.assign({},n()(e.queryParams,m.j),n()(e.queryParams,m.i),{sort:c,t:Object(ie.a)(c,a)})))}},_s=e=>async(t,r)=>{const n=r();t(B.l({title:Pt(n,"coins")})),Object(De.I)(n)||await t(J.A());const c=r(),i=e.queryParams;if(i.thanks){const e=await Promise.resolve().then(s.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{i.gild&&t(L.e({thingId:"THING_ID_PLACEHOLDER"})),t(L.g({coinPackage:A.a.coins500})),t(e({confirmed:!1}))},1e3)}else if(i.qty){if(!Object(De.I)(c)||!Ue.d.canProxyGild(c))return void t(Object(a.c)("/coins"));const e=await Promise.resolve().then(s.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.selectPaymentMethod);setTimeout(()=>{const s=parseInt(i.qty),r=Object(A.c)(s);t(L.g({coinPackage:r})),t(e(v.Lb))},500)}},Es=e=>async(e,t)=>{const s=t();e(B.l({title:Pt(s,"coins")}))},hs=e=>async(t,r)=>{const n=r();if(t(B.l({title:Pt(n,"premium")})),e.queryParams.thanks){const e=await Promise.resolve().then(s.bind(null,"./src/reddit/actions/goldPurchaseModals/payment.ts")).then(e=>e.paymentCompleted);setTimeout(()=>{t(U.e()),t(e({confirmed:!1}))},1e3)}Object(De.I)(n)||await t(J.A())},Is=e=>async(t,s)=>{const r=s(),n=e.params.thingId;t(Object(k.c)(n)),Object(De.I)(r)||await t(J.A());const a=s();if(!Object(De.I)(a))return t(Object(k.f)())},Ss=e=>async(e,t)=>{const s=t();Object(De.I)(s)||await e(J.A());const r=t();if(!Object(De.I)(r))throw new Error("Failed to login")},Ts=(e,t)=>{const s={};for(const r in e.postInstances)for(const n of e.postInstances[r]){const a=e.postIds.indexOf(n),c=t.postIds[a];e.posts[n]&&t.posts[c]&&e.posts[n].postId===t.posts[c].postId&&(s[c]={postId:r,gwAdPostId:n,index:a})}for(const r in s){const e=s[r];if(t.postInstances[e.postId]){const s=t.postInstances[e.postId].indexOf(r);-1!==s&&(t.postInstances[e.postId][s]=e.gwAdPostId)}t.posts[e.gwAdPostId]=t.posts[r],delete t.posts[r],t.postIds[e.index]=e.gwAdPostId}}},"./src/reddit/actions/pages/appeal/constants.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n});const r="APPEAL_PAGE_LOADED",n="APPEAL_PAGE_FAILED"},"./src/reddit/actions/pages/collectionCommentsPage.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/makeCollectionCommentsPageKey/index.ts"),c=s("./src/reddit/actions/ads/index.ts"),i=s("./src/reddit/actions/badge.ts"),o=s("./src/reddit/actions/moderatingSubreddits.ts"),d=s("./src/reddit/actions/page.ts"),u=s("./src/reddit/actions/pages/shared.ts"),l=s("./src/reddit/actions/pages/subreddit.ts"),b=s("./src/reddit/actions/platform.ts"),p=s("./src/reddit/actions/post.ts"),O=s("./src/reddit/actions/profile/index.ts"),f=s("./src/reddit/actions/shortcuts.ts"),m=s("./src/reddit/actions/subreddit.ts"),j=s("./src/reddit/actions/toaster.ts"),g=s("./src/reddit/constants/adEvents.ts"),y=s("./src/reddit/constants/parameters.ts"),_=s("./src/reddit/constants/posts.ts"),E=s("./src/reddit/endpoints/governance/posts.ts"),h=s("./src/config.ts"),I=s("./src/lib/constants/index.ts"),S=s("./src/lib/makeApiRequest/index.ts"),T=s("./src/reddit/models/RichTextJson/addRTJParam.ts");var v=(e,t,s,r,n)=>Object(S.c)(e,{data:n,endpoint:function(e,t,s){const r=`${h.a.gatewayUrl}/desktopapi/v1/collection_postcomments`;return s?Object(T.a)(`${r}/${e}/${t}/${s}`):t?Object(T.a)(`${r}/${e}/${t}`):Object(T.a)(`${r}/${e}`)}(t,s,r),method:I.jb.GET}),C=s("./src/reddit/endpoints/page/subredditPage.ts"),D=s("./src/reddit/featureFlags/index.ts"),R=s("./src/reddit/helpers/canonicalUrls.ts"),A=s("./src/reddit/helpers/commentList/index.ts"),w=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),P=s("./src/reddit/helpers/pixels.ts"),x=s("./src/reddit/helpers/timeApiRoute/index.ts"),N=s("./src/reddit/models/Comment/index.ts"),k=s("./src/reddit/models/Post/index.ts"),L=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),U=s("./src/reddit/selectors/platform.ts"),M=s("./src/reddit/selectors/postCollection.ts"),F=s("./src/reddit/selectors/posts.ts"),G=s("./src/reddit/selectors/subreddit.ts");s.d(t,"d",function(){return B}),s.d(t,"b",function(){return q}),s.d(t,"a",function(){return $}),s.d(t,"e",function(){return W}),s.d(t,"c",function(){return Q});const B="PAGE__COLLECTIONCOMMENTSPAGE_PENDING",q="PAGE__COLLECTIONCOMMENTSPAGE_LOADED",$="PAGE__COLLECTIONCOMMENTSPAGE_FAILED",V=Object(n.a)(B),H=Object(n.a)(q),K=Object(n.a)($),W=e=>async(t,s)=>{var n=e.params;const a=n.collectionId,c=n.partialPostId,i=n.partialCommentId;var o=n.subredditName;const d=void 0===o?"":o,l=c?Object(k.h)(c):"",j=i&&Object(N.e)(i),g=e.queryParams,E=s(),h=g.instanceId;var I=Object(w.a)(E,l);const S=I.hasSortParam,T=I.sortToUse,v=["context","depth","limit",y.e].reduce((e,t)=>{const s=parseInt(g[t]);return isNaN(s)||(e[t]=s),e},{subredditName:d,hasSortParam:S,instanceId:h});S&&(v.sort=T),t(p.j(l)),await t(X(a,l,j,v));const C=s().posts.models[l];if(C){const n=((e,t)=>{const s=Object(M.q)(e,{collectionId:t});if(!s)return"";const n=Object(G.S)(e,{subredditId:s.subredditId});return n?Object(r.a)(e.user.language,"title.commentsPage",{postTitle:s.title,subreddit:n.name}):""})(s(),a),c=Object(G.O)(s(),{identifier:C.belongsTo});if(!C.isSponsored)if(C.belongsTo.type===_.a.SUBREDDIT){!!Object(G.R)(E,{subredditId:C.belongsTo.id})||await t(m.o(c.name))}else await t(O.d(c.name));t(b.l({title:n}));const i=s().posts.instances[l]?e.queryParams.instanceId:C.postId;t(Object(f.c)(i))}else t(b.l({title:Object(u.b)(s(),"frontpage")}));const D=e.params.routePrefix;_.b[D]===_.a.PROFILE?Object(R.c)(s(),t,e):Object(R.d)(s(),t,e)},Q="PAGE__COLLECTIONCOMMENTSPAGE_LOADED_FULL",Y=Object(n.a)(Q),z=(e,t,s,r)=>async(n,c,i)=>{const o=Object(a.a)(e,t,s,r),d=c();t=t||Object(M.p)(d,{collectionId:e});const u=await v(i.apiContext(),e,t,s,r);if(n(Object(b.m)(u.status)),u.ok){if(!(t=t||u.body.collections[e].primaryPostId))return;const s=Object(A.a)(u.body,t,d);n(H(Object.assign({key:o,collectionId:e,meta:d.meta,postId:t,shouldCollapse:s},u.body)));const r=d.user.prefs.commentMode;n(Y({commentMode:r,key:o,postId:t}))}else n(K(Object.assign({error:u.error,key:o},u.body)))},X=(e,t,s,r,n)=>async(u,p,O)=>{const f=Object(a.a)(e,t,s,r),m=p();t=t||Object(M.p)(m,{collectionId:e});const y=r.subredditName,_=m.commentsPage.keyToHeadCommentId.hasOwnProperty(f),h=m.commentsPage.api.fullyLoaded[f],I=m.commentsPage.api.error[f];if(m.commentsPage.api.pending[f]||_&&!I){if(_&&!m.sidebarPromotedPosts.firstFetch){const e=Object(U.i)(m)?L.a.COMMENTS_OVERLAY:L.a.COMMENTS;window.addEventListener("load",()=>{u(Object(c.b)(e))})}return void(h||n||u(z(e,t,s,r)))}const S=m.user.prefs.commentMode;u(V({key:f,collectionId:e,commentMode:S,postId:t}));const T=Object.assign({},r);{const e=t&&Object(F.F)(p(),{postId:t});e&&e.numComments&&e.numComments>d.j&&(T.truncate=d.n)}let R,w=await Object(x.a)("comments",()=>v(O.apiContext(),e,t,s,T));if(u(Object(b.m)(w.status)),w.ok&&(t=t||w.body.collections[e].primaryPostId)){const e=Object.keys(w.body.posts).filter(e=>!!w.body.posts[e].isMeta),s=Object(F.F)(p(),{postId:t});if(e.length){const t=await Object(E.a)(O.apiContext(),s.belongsTo.id,e);t.ok&&(R=t.body)}}if(!n){const n=t?Object(F.F)(p(),{postId:t}):null;n&&w.body.comments&&Object.keys(w.body.comments).length<n.numComments?u(z(e,t,s,r)):w.ok&&u(Y({commentMode:S,key:f,postId:t}));const a=Object(U.i)(m)?L.a.COMMENTS_OVERLAY:L.a.COMMENTS;u(Object(c.b)(a))}if(w.ok){if(!t)return;const e=Object(A.a)(w.body,t,m);u(Object(d.y)(Object.assign({commentMode:S,key:f,postId:t,meta:m.meta,governance:R,shouldCollapse:e},w.body))),await o.c()(u,p,O),u(j.f(f));const s=Object(F.F)(p(),{postId:t});if(Object(P.a)(s.events,g.a.CommentsView),!n&&D.d.spBadges(p())){const e=p().posts.models[t];e&&"subreddit"===e.belongsTo.type&&await u(Object(i.l)({subredditId:e.belongsTo.id}))}}else y&&(u(Object(l.g)({key:f})),w=await Object(x.a)("subreddit",()=>Object(C.a)(O.apiContext(),y,{})),u(Object(b.m)(w.status))),u(Object(l.d)(w,y)),u(K(Object.assign({error:w.error,key:f},w.body)))}},"./src/reddit/actions/pages/explore.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return T}),s.d(t,"b",function(){return v}),s.d(t,"a",function(){return C}),s.d(t,"d",function(){return x}),s.d(t,"e",function(){return N});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/makeExplorePageKey/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/category.ts"),u=s("./src/reddit/actions/discoveryUnit.ts"),l=s("./src/reddit/actions/modal.ts"),b=s("./src/reddit/actions/pages/subreddit.ts"),p=s("./src/reddit/actions/platform.ts"),O=s("./src/reddit/actions/toaster.ts"),f=s("./src/reddit/constants/explore.ts"),m=s("./src/reddit/constants/listings.ts"),j=s("./src/reddit/helpers/timeApiRoute/index.ts"),g=s("./src/reddit/models/Toast/index.ts"),y=s("./src/reddit/selectors/category.ts"),_=s("./src/reddit/selectors/discoveryUnit.ts"),E=s("./src/reddit/selectors/experiments/exploreV2.ts"),h=s("./src/reddit/selectors/listings.ts"),I=s("./src/reddit/selectors/posts.ts"),S=s("./src/reddit/selectors/user.ts");const T="PAGE__EXPLORE_PAGE_PENDING",v="PAGE__EXPLORE_PAGE_LOADED",C="PAGE__EXPLORE_PAGE_FAILED",D=Object(c.a)(T),R=Object(c.a)(v),A=Object(c.a)(C),w=(e,t,s)=>async(r,a,c)=>{const i=a(),o=Object(_.a)(i);if(!o){r(A({key:e,error:{}}));const s=Object(S.Q)(i);return void r(O.e({id:`error-${e}`,kind:g.b.Error,text:Object(n.a)(s,"listings.toast.error"),buttonText:Object(n.a)(s,"listings.toast.retryButton"),buttonAction:x(e,t)}))}const d=Object(h.j)(i,{listingKey:e}),l=d?d.token:void 0;if(d){if(!s)return;{const t=Object(h.h)(i,{listingKey:e}),s=Object(h.i)(i,{listingKey:e,token:d.token});if(t||s)return}}else{const t=Object(h.h)(i,{listingKey:e}),s=Object(h.f)(i,{listingKey:e});if(t||s)return}r(D({key:e}));const b=Object(y.e)(i),p=l?b.findIndex(e=>e.id===l)+1:0,m=b.slice(p,p+f.a);await Promise.all(m.map(e=>r(u.g(o,e.name))));const j=Math.min(p+f.a-1,b.length-1);r(R({fetchedToken:l,ids:m.map(({id:e})=>e),key:e,token:b[j].id}))},P=(e,t,s,r)=>async(a,c,i)=>{let o=c();const l=Object(_.d)(o),b=Object(y.f)(o,{categoryName:s});if(!l||!b){a(A({key:e,error:{}}));const s=Object(S.Q)(o);return void a(O.e({id:`error-${e}`,kind:g.b.Error,text:Object(n.a)(s,"listings.toast.error"),buttonText:Object(n.a)(s,"listings.toast.retryButton"),buttonAction:x(e,t)}))}const p=Object(h.j)(o,{listingKey:e}),m=p?p.token:void 0,j=Object(h.h)(o,{listingKey:e});if(p){if(!r)return;{const t=Object(h.i)(o,{listingKey:e,token:p.token});if(j||t)return}}else{const t=Object(h.f)(o,{listingKey:e});if(j||t)return}a(D({key:e})),await a(d.h(b.id)),o=c();const E=Object(y.d)(o,{categoryName:s}),I=m?E.findIndex(e=>e.id===m)+1:0,T=E.slice(I,I+f.b);await Promise.all(T.map(e=>a(u.k(l,e.name)))),a(R({fetchedToken:m,ids:T.map(({id:e})=>e),key:e,token:E[Math.min(I+f.b-1,E.length-1)].id}))},x=(e,t,s)=>async(r,n,a)=>{await Promise.all([r(u.h()),r(d.g())]);const c=t.categoryName?()=>r(P(e,t,t.categoryName,s)):()=>r(w(e,t,s));await Object(j.a)("explore",c),t.categoryName?await r(P(e,t,t.categoryName,s)):await r(w(e,t,s))},N=e=>async(t,s,c)=>{const d=s();if(!Object(E.a)(d))return void t(Object(r.b)("/"));const u=Object(i.a)(e.params);if(Object(h.h)(d,{listingKey:u}))return;const O=Object(o.a)(m.b.Popular,a.X.HOT);0===Object(I.z)(d,{listingKey:O}).length&&await t(Object(b.f)(O,m.b.Popular,{},!0)),Object(S.I)(s())?t(Object(r.b)("/")):(t(Object(l.l)({actionSource:l.a.Explore,redirectUrl:"/"})),await t(x(u,e.params)),t(p.l({title:(e=>Object(n.a)(e.user.language,"title.frontpage"))(s())})))}},"./src/reddit/actions/pages/modListing/constants.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return r}),s.d(t,"e",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"i",function(){return c}),s.d(t,"h",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"c",function(){return d}),s.d(t,"b",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"l",function(){return b}),s.d(t,"k",function(){return p}),s.d(t,"j",function(){return O});const r="PAGE__MOD_LISTING_PAGE_PENDING",n="PAGE__MOD_LISTING_PAGE_LOADED",a="PAGE__MOD_LISTING_PAGE_FAILED",c="MOD_LISTING_MORE_POSTS_PENDING",i="MOD_LISTING_MORE_POSTS_LOADED",o="MOD_LISTING_MORE_POSTS_FAILED",d="MOD_LISTING_HIDE_SUBREDDIT_SUCCESS",u="MOD_LISTING_HIDE_SUBREDDIT_PENDING",l="MOD_LISTING_HIDE_SUBREDDIT_FAILED",b="MOD_LISTING_UNHIDE_SUBREDDIT_SUCCESS",p="MOD_LISTING_UNHIDE_SUBREDDIT_PENDING",O="MOD_LISTING_UNHIDE_SUBREDDIT_FAILED"},"./src/reddit/actions/pages/modListing/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/platform.ts"),u=s("./src/reddit/actions/toaster.ts"),l=s("./src/reddit/constants/page.ts"),b=s("./src/reddit/constants/parameters.ts"),p=s("./src/config.ts"),O=s("./src/lib/makeApiRequest/index.ts"),f=s("./src/lib/omitHeaders/index.ts"),m=s("./src/reddit/constants/headers.ts"),j=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),g=s("./src/reddit/helpers/name/index.ts"),y=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),_=(e,t)=>Object(O.c)(e,{data:t,endpoint:Object(j.a)(Object(y.a)(`${p.a.gatewayUrl}/desktopapi/v1/mod`)),method:c.jb.GET});const E=(e,t,s,r)=>Object(O.c)(Object(f.a)(e,[m.a]),{endpoint:`${e.apiUrl}/api/filter/user/${t}/f/mod/${Object(g.b)(s)}`,method:r?c.jb.PUT:c.jb.DELETE,data:{model:JSON.stringify({name:Object(g.g)(s)})}}),h=(e,t,s)=>E(e,t,s,!0),I=(e,t,s)=>E(e,t,s,!1);var S=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),T=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),v=s("./src/reddit/helpers/timeApiRoute/index.ts"),C=s("./src/reddit/models/Toast/index.ts"),D=s("./src/reddit/routes/modListing/index.ts"),R=s("./src/reddit/selectors/user.ts"),A=s("./src/reddit/actions/pages/modListing/constants.ts");s.d(t,"b",function(){return L}),s.d(t,"c",function(){return G}),s.d(t,"a",function(){return Y}),s.d(t,"d",function(){return z});var w=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const P=Object(i.a)(A.f),x=Object(i.a)(A.e),N=Object(i.a)(A.d),k=(e,t)=>async(s,r,n)=>{const c=r(),i=c.listings.postOrder.api.pending[e],o=Object(R.Q)(c);if(i)return;s(P({key:e}));const d=await Object(v.a)("modListing",()=>_(n.apiContext(),t)),l=`error-${e}`;d.ok?(s(x(Object.assign({key:e,meta:c.meta},d.body))),s(u.f(l))):(s(N(Object.assign({error:d.error,key:e},d.body))),401===d.status?Object(T.a)(s,c):s(u.e({id:l,kind:C.b.Error,text:Object(a.a)(o,"listings.toast.error"),buttonText:Object(a.a)(o,"listings.toast.retryButton"),buttonAction:k(e,t)})))},L=(e,t)=>async(s,r)=>{var i=e.params.sort;const u=void 0===i?c.Y:i,p=Object(D.d)(e.path),O=p?l.g:l.f,f=Object(o.a)(O,u,e.queryParams),m=r(),j=m.listings.postOrder.ids[f],g=m.listings.postOrder.api.error[f],y=m.listings.postOrder.api.pending[f],_=Object(R.Q)(m);if(y||j&&!g&&!t)return void(j&&s(d.l({title:Object(a.a)(_,"modListing.title")})));const E=B(e.queryParams);await s(k(f,Object.assign({},n()(e.queryParams,b.j),n()(e.queryParams,b.i),{filtered:!!p||void 0,moderated_srs:!0,sort:u,t:Object(S.a)(u,E)}))),s(d.l({title:Object(a.a)(_,"modListing.title")}))},U=Object(i.a)(A.i),M=Object(i.a)(A.h),F=Object(i.a)(A.g),G=e=>async(t,s,{apiContext:r})=>{const a=s(),i=a.platform.currentPage;if(!i)return;var d=e.sort;const u=void 0===d?c.Y:d,p=i.queryParams,O=Object(D.d)(i.url),f=O?l.g:l.f,m=Object(o.a)(f,u,p),j=a.listings.postOrder.loadMore[m];if(!j)return;const g=a.listings.postOrder.api.pending[m],y=a.listings.postOrder.fetchedTokens,E=!(!y[m]||!y[m][j.token]);if(g||E)return;const h=B(p);t(U({key:m,fetchedToken:j.token}));const I=await _(r(),Object.assign({after:j.token,dist:j.dist,filtered:!!O||void 0,sort:u,t:Object(S.a)(u,h)},n()(p,b.j))),T=a.listings.postOrder.ids[m],v=Object.assign({},I.body,{postIds:(I.body.postIds||[]).filter(e=>!T||!T.includes(e))});I.ok?t(M(Object.assign({key:m,fetchedToken:j.token,meta:a.meta},v))):t(F(Object.assign({key:m,error:I.error,fetchedToken:j.token},v)))};function B(e){const t=b.t in e&&e[b.t].toUpperCase()||"";return t in c.qc&&c.qc[t]}const q=Object(i.a)(A.c),$=Object(i.a)(A.b),V=Object(i.a)(A.a),H=Object(i.a)(A.l),K=Object(i.a)(A.k),W=Object(i.a)(A.j),Q=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(R.j)(a);var i=w(t?[$,q,V,h]:[K,H,W,I],4);const o=i[0],d=i[1],u=i[2],l=i[3];if(!c||!c.displayText)return;const b=a.platform.currentPage;if(!b||!b.routeMatch)return;s(o(e));const p=await l(n(),c.displayText,e);p.ok?(await s(L(b.routeMatch.match,!0)),s(d(e))):s(u(p.body))},Y=e=>Q(e,!0),z=e=>Q(e,!1)},"./src/reddit/actions/pages/news/index.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/hero.ts"),c=s("./src/reddit/actions/news.ts"),i=s("./src/reddit/actions/pages/news/utils.ts"),o=s("./src/reddit/actions/platform.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/constants/news.ts"),l=s("./src/config.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),f=s("./src/reddit/helpers/timeApiRoute/index.ts"),m=s("./src/reddit/models/News/index.ts"),j=s("./src/reddit/models/Toast/index.ts"),g=s("./src/reddit/routes/news/util.ts"),y=s("./src/reddit/selectors/listings.ts"),_=s("./src/reddit/selectors/news.ts");s.d(t,"c",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"a",function(){return S}),s.d(t,"d",function(){return R});const E=e=>Object(r.a)(e.user.language,"listings.news.title"),h="PAGE__NEWS_PENDING",I="PAGE__NEWS_LOADED",S="PAGE__NEWS_FAILED",T=Object(n.a)(h),v=Object(n.a)(I),C=Object(n.a)(S),D=(e,t,s,r=!0)=>async(n,a,c)=>{const o=a(),u=Object(y.d)(o,{listingKey:e}),m=o.listings.postOrder.ids[e],j=Object(y.c)(o,{listingKey:e});if(u||m&&!j)return;n(T({key:e}));const g=Object.assign({},Object(i.b)(t,s)),E=await Object(f.a)("news",()=>((e,t)=>Object(p.c)(e,{endpoint:Object(O.a)(`${l.a.gatewayUrl}/desktopapi/v1/news`),method:b.jb.GET,data:Object.assign({},t)}))(c.apiContext(),g)),h=`error-${e}`;if(!E.ok)return A(e,n,o,E.error,h,t,s,r);var I=E.body;const S=I.account,C=I.features,D=I.posts,R=I.postIds,w=I.preferences,P=I.subreddits,x=I.subredditAboutInfo;n(v({account:S,activeCommunityIds:Object(i.a)(R,D),availableTopics:Object(_.c)(o),features:C,key:e,meta:o.meta,postIds:R,posts:D,preferences:w,subreddits:P,subredditsAboutInfo:x})),n(d.f(h))},R=(e,t)=>async(s,r,n)=>{await s(c.g());let i=r();const d=u.g;var l=e.params,b=l.topic;const p=void 0===b?d:b;var O=l.subtopic;const f=void 0===O?"":O,j=Object(_.c)(i);var h=Object(g.c)(j,p,f);const I=h.selectedTopic,S=h.selectedSubtopic;if(p!==d&&(!I||I.topicId===m.a)||""!==f&&!S)return void s(Object(c.e)(null,null));s(c.f({selectedTopic:I,selectedSubtopic:S})),i=r();const T=Object(_.h)(i),v=Object(_.i)(i),C=Object(y.d)(i,{listingKey:T}),R=i.listings.postOrder.ids[T],A=Object(y.c)(i,{listingKey:T});if(C||R&&!A&&!t)return R?s(o.l({title:E(i)})):void 0;const w=Object(_.n)(i);await Promise.all([w?s(Object(a.d)(v,I,S)):null,s(D(T,I,S))]);const P=r();return s(o.l({title:E(P)}))},A=(e,t,s,n,a,c,i,o)=>{t(C({error:n,key:e})),o&&t(d.e({id:a,kind:j.b.Error,text:Object(r.a)(s.user.language,"listings.toast.error"),buttonText:Object(r.a)(s.user.language,"listings.toast.retryButton"),buttonAction:D(e,c,i)}))}},"./src/reddit/actions/pages/news/utils.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return i});var r=s("./src/reddit/constants/news.ts"),n=s("./src/reddit/selectors/news.ts");const a=(e,t)=>{let s="";if(e&&t)s=`${t.subtopicId}`;else if(e&&!t){s=(e.subtopics||[]).map(e=>e.subtopicId).join(r.f)}return{subtopic_ids:s,limit:r.a,always_show_media:1}},c=(e,t)=>{const s=[];for(let n=0;n<e.length;n++){const a=t[e[n]];if(a&&"subreddit"===a.belongsTo.type&&!s.includes(a.belongsTo.id)&&s.push(a.belongsTo.id),s.length===r.b)break}return s},i=(e,t="",s="")=>{const r=Object(n.c)(e);let a=null,c=null;if(a=o(r,t)){const e=a.subtopics||[];c=o(e,s)}return{topic:a,subtopic:c}},o=(e,t)=>e.find(e=>e.name.toLowerCase()===t.toLowerCase())||null},"./src/reddit/actions/pages/originalContent.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return E}),s.d(t,"b",function(){return h}),s.d(t,"a",function(){return I}),s.d(t,"d",function(){return D});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/moderatingSubreddits.ts"),u=s("./src/reddit/actions/originalContent.ts"),l=s("./src/reddit/actions/platform.ts"),b=s("./src/reddit/actions/toaster.ts"),p=s("./src/reddit/constants/originalContent.ts"),O=s("./src/reddit/constants/page.ts"),f=s("./src/reddit/constants/parameters.ts"),m=s("./src/reddit/endpoints/page/originalContentPage.ts"),j=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),g=s("./src/reddit/helpers/timeApiRoute/index.ts"),y=s("./src/reddit/models/Toast/index.ts");const _=e=>Object(a.a)(e.user.language,"listings.originalContent.title"),E="PAGE__ORIGINAL_CONTENT_PAGE_PENDING",h="PAGE__ORIGINAL_CONTENT_PAGE_LOADED",I="PAGE__ORIGINAL_CONTENT_PAGE_FAILED",S=Object(i.a)(E),T=Object(i.a)(h),v=Object(i.a)(I),C=(e,t)=>async(s,r,n)=>{const c=r();if(c.listings.postOrder.api.pending[e])return;s(S({key:e}));const i=await Object(g.a)("originalContent",()=>Object(m.a)(n.apiContext(),t)),o=`error-${e}`;if(i.ok){s(T(Object.assign({key:e,meta:c.meta},i.body)));const a=[d.c()(s,r,n),s(u.s(t.category)),s(u.t(t.category)),s(u.p()),s(u.r(t.category))];await Promise.all(a),s(b.f(o))}else s(v(Object.assign({error:i.error,key:e},i.body))),s(b.e({id:o,kind:y.b.Error,text:Object(a.a)(c.user.language,"listings.toast.error"),buttonText:Object(a.a)(c.user.language,"listings.toast.retryButton"),buttonAction:C(e,t)}))},D=e=>async(t,s,r)=>{var a=e.params,i=a.sort;const d=void 0===i?c.X.HOT:i;var u=a.categoryName;const b=void 0===u?p.b:u,m=Object.assign({},e.queryParams,{category:b}),g=Object(o.a)(O.j,d,m),y=s(),E=y.listings.postOrder.ids[g],h=y.listings.postOrder.api.error[g],I=y.listings.postOrder.api.pending[g],S=f.t in e.queryParams&&e.queryParams[f.t].toUpperCase()||"",T=S in c.qc&&c.qc[S];if(I||E&&!h)return void(E&&t(l.l({title:_(s())})));await t(C(g,Object.assign({},n()(e.queryParams,f.j),n()(e.queryParams,f.i),{sort:d,t:Object(j.a)(d,T),category:b})));const v=s();t(l.l({title:_(v)}))}},"./src/reddit/actions/pages/partnerSubredditConnection.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return _}),s.d(t,"b",function(){return E}),s.d(t,"a",function(){return h}),s.d(t,"d",function(){return C});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makePartnerSubredditConnectionPageKey/index.ts"),d=s("./src/lib/truthyString/index.ts"),u=s("./src/reddit/actions/platform.ts"),l=s("./src/reddit/actions/profile/index.ts"),b=s("./src/reddit/endpoints/user/me.ts"),p=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),O=s("./src/reddit/helpers/timeApiRoute/index.ts"),f=s("./src/reddit/models/ExternalAccount/index.ts"),m=s("./src/reddit/models/User/index.ts"),j=s("./src/reddit/routes/partnerSubredditConnection/constants.ts"),g=s("./src/reddit/selectors/user.ts"),y=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const _="PARTNER_SUBREDDIT_CONNECTION__PAGE_PENDING",E="PARTNER_SUBREDDIT_CONNECTION__PAGE_LOADED",h="PARTNER_SUBREDDIT_CONNECTION__PAGE_FAILED",I=Object(i.a)(_),S=Object(i.a)(E),T=Object(i.a)(h),v=(e,t)=>Object(a.a)(`${j.a}/${e}`,t),C=e=>async(t,s,a)=>{const i=e.queryParams,j=e.params.page,_=i.to,E=i.userId;var h=i.isNsfw;const C=void 0===h?"":h;if(!E||!_||_!==f.a.Patreon)return void t(Object(r.c)("/"));await t((e=>async(t,s,r)=>{const n=s(),a=Object(o.a)(e),c=n.partnerSubredditConnection.api.page.pending[a],i=n.partnerSubredditConnection.api.page.fetched[a],d=n.partnerSubredditConnection.api.page.error[a];if(c||i&&!d)return;I({key:a});const u=[];u.push(Object(b.a)(r.apiContext()));var p=await Object(O.a)("partnerSubredditConnection",()=>Promise.all(u));const f=y(p,1)[0];if(f.ok){const e=f.body.account;t(S({account:e,key:a}));const s=[];if(e){const r=Object(m.f)(e);s.push(t(l.a())),s.push(t(l.b(r)))}await Promise.all(s)}else t(T({error:f.error,key:a}))})({to:_,userId:E}));const D=Object(g.j)(s());D?D.id===E?Object(g.h)(s())||Object(d.a)(C)?t(Object(r.c)(v(c.Nb.NsfwUser,i))):j!==c.Nb.WrongUser&&j!==c.Nb.NsfwUser?t(u.l({title:(e=>Object(n.a)(e.user.language,"title.partnerSubredditConnection"))(s())})):t(Object(r.c)(v(c.Nb.Create,i))):t(Object(r.c)(v(c.Nb.WrongUser,i))):Object(p.a)(t,s())}},"./src/reddit/actions/pages/postCreation.ts":function(e,t,s){"use strict";var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/app/strings/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/filterQueryParams/index.ts"),i=s("./src/lib/isFakeSubreddit/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/lib/makePostCreationPageKey/index.ts"),u=s("./src/reddit/actions/externalAccount.ts"),l=s("./src/reddit/actions/governance/communityDetails.ts"),b=s("./src/reddit/actions/originalContent.ts"),p=s("./src/reddit/actions/platform.ts"),O=s("./src/reddit/actions/post.ts"),f=s("./src/reddit/actions/postCreation/general.ts"),m=s("./src/reddit/actions/profile/index.ts"),j=s("./src/reddit/actions/subreddit.ts"),g=s("./src/reddit/actions/subredditDuplicates.ts"),y=s("./src/reddit/actions/subredditSettings.ts"),_=s("./src/config.ts"),E=s("./src/lib/makeApiRequest/index.ts"),h=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),I=s("./src/reddit/featureFlags/index.ts"),S=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),T=s("./src/reddit/helpers/timeApiRoute/index.ts"),v=s("./src/reddit/helpers/trackers/postComposer.ts"),C=s("./src/reddit/models/User/index.ts"),D=s("./src/reddit/selectors/postCollection.ts"),R=s("./src/reddit/selectors/posts.ts"),A=s("./src/reddit/selectors/subreddit.ts"),w=s("./src/reddit/selectors/user.ts");s.d(t,"c",function(){return x}),s.d(t,"b",function(){return N}),s.d(t,"a",function(){return k}),s.d(t,"d",function(){return F}),s.d(t,"e",function(){return G});var P=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const x="POST_CREATION__PAGE_PENDING",N="POST_CREATION__PAGE_LOADED",k="POST_CREATION__PAGE_FAILED",L=Object(o.a)(x),U=Object(o.a)(N),M=Object(o.a)(k),F=e=>async(t,s,r)=>{const n=e.collectionId,c=e.profileName,o=e.subredditName,p=Object(d.a)(e),O=s(),f=O.creations.api.page.pending[p],g=O.creations.api.page.fetched[p],S=O.creations.api.page.error[p];if(f||g&&!S)return;const v=[];if(t(L({key:p})),v.push(((e,t)=>Object(E.c)(e,{method:a.jb.GET,endpoint:Object(h.a)(`${_.a.gatewayUrl}/desktopapi/v1/submitpage`),data:{subreddit:t.subredditName,collection_id:t.collectionId}}))(r.apiContext(),{subredditName:o,collectionId:n})),o){!!s().subredditSettings.requirementsBySubreddit[o]||Object(i.a)(o)||v.push(t(Object(y.A)(o)))}v.push(t(b.p())),c&&(v.push(t(m.d(c))),v.push(t(m.b(c))));var D=await Object(T.a)("postCreation",()=>Promise.all(v));const R=P(D,1)[0];if(R.ok){const e=R.body;var x=e.posts;const r=void 0===x?{}:x;t(U(Object.assign({key:p,meta:O.meta},e,{posts:r})));const n=Object(w.j)(s());if(n&&n.hasUserProfile&&await t(m.d(Object(C.f)(n))),await t(u.o()),o&&!Object(i.a)(o)&&await t(j.o(o)),o&&I.d.spPoints(s())){const e=Object(A.I)(s(),o);e&&await t(Object(l.a)({subredditId:e}))}}else t(M({error:R.error,key:p}))},G=e=>async(t,s)=>{var i=e.params;const o=i.subredditName,d=i.profileName,u=e.queryParams,l=u.collection;await t(F({collectionId:l,profileName:d,subredditName:o}));const b=o?Object(A.C)(s(),{subredditName:o}):void 0;if(u.source_id)await t(((e,t)=>async(s,r)=>{const n=e.subredditName,a=e.profileName,c=[];let i;n?i=Object(A.I)(r(),n):a&&(i=Object(w.X)(r(),{userName:a})),i&&c.push(s(Object(g.b)(i,t))),c.push(s(Object(O.A)(t))),await Promise.all(c);const o=Object(R.e)(r(),{postId:t});s(Object(f.l)({postId:t,postTitle:o?o.title:""}))})(e.params,u.source_id));else if(l){const n=Object(D.q)(s(),{collectionId:l});b&&n&&n.subredditId===b.id||t(Object(r.c)(Object(c.a)(e.url,["collection"])))}const m=s();Object(w.I)(m)?(((e,t)=>{const s=e.platform.lastPage;t&&s&&s.meta&&s.meta.name===a.Rb.POST_CREATION&&v.t(e)})(s(),o),t(p.l({title:(e=>{const t=e.user.language,s=e.platform.currentPage;let r="Reddit";if(s&&s.urlParams.subredditName){const t=s.urlParams.subredditName,n=Object(A.C)(e,{subredditName:t});n&&(r=n.name)}return Object(n.a)(t,"title.submit",{subreddit:r})})(s())}))):Object(S.a)(t,m)}},"./src/reddit/actions/pages/postDraft.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/makePostDraftPageKey/index.ts"),a=s("./src/reddit/actions/profile/index.ts"),c=s("./src/config.ts"),i=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeApiRequest/index.ts"),d=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),u=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),l=s("./src/reddit/endpoints/post/draft/helpers.ts"),b=s("./src/reddit/helpers/timeApiRoute/index.ts");s.d(t,"a",function(){return p}),s.d(t,"b",function(){return j});const p="POST_DRAFT__PAGE_LOADED",O=(Object(r.a)("POST_DRAFT__PAGE_PENDING"),Object(r.a)(p)),f=Object(r.a)("POST_DRAFT__PAGE_FAILED"),m=e=>async(t,s,r)=>{const p=e.draftId,m=e.profileName,j=Object(n.a)(e),g=s(),y=g.creations.api.page.pending[j],_=g.creations.api.page.fetched[j],E=g.creations.api.page.error[j];if(y||_&&!E||!p)return;t(a.d(m));const h=await Object(b.a)("postDraft",()=>((e,t,s)=>Object(o.c)(e,{endpoint:Object(d.a)(Object(u.a)(`${c.a.gatewayUrl}/desktopapi/v1/draftpreviewpage/${s}/${t}`)),method:i.jb.GET}))(r.apiContext(),p,m));if(h.ok){const e=h.body;e.drafts[p].kind=Object(l.b)(e.drafts[p].kind),t(O(Object.assign({},e,{key:j})))}else t(f({error:h.error,key:j}))},j=e=>async(t,s,r)=>{await t(m(e.params))}},"./src/reddit/actions/pages/profileComments.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/difference.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),d=s("./src/reddit/actions/externalAccount.ts"),u=s("./src/reddit/actions/moderatingSubreddits.ts"),l=s("./src/reddit/actions/pages/profileShared.ts"),b=s("./src/reddit/actions/platform.ts"),p=s("./src/reddit/actions/profile/index.ts"),O=s("./src/reddit/actions/subreddit.ts"),f=s("./src/reddit/constants/parameters.ts"),m=s("./src/reddit/contexts/PageLayer/index.tsx"),j=s("./src/config.ts"),g=s("./src/lib/addAllowQuarantinedParam/index.ts"),y=s("./src/lib/constants/index.ts"),_=s("./src/lib/makeApiRequest/index.ts"),E=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const h=(e,t,s)=>Object(_.c)(e,{data:s,endpoint:Object(g.a)(Object(E.a)(`${j.a.gatewayUrl}/desktopapi/v1/user/${t}/comments`)),method:y.jb.GET});var I=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),S=s("./src/reddit/helpers/timeApiRoute/index.ts"),T=s("./src/reddit/selectors/profile.ts"),v=s("./src/reddit/selectors/profileComments.ts");s.d(t,"f",function(){return C}),s.d(t,"e",function(){return D}),s.d(t,"d",function(){return R}),s.d(t,"h",function(){return x}),s.d(t,"c",function(){return N}),s.d(t,"b",function(){return k}),s.d(t,"a",function(){return L}),s.d(t,"g",function(){return G});const C="PAGE__PROFILE_COMMENTS_PENDING",D="PAGE__PROFILE_COMMENTS_LOADED",R="PAGE__PROFILE_COMMENTS_FAILED",A=Object(i.a)(C),w=Object(i.a)(D),P=Object(i.a)(R),x=e=>async(t,s,r)=>{const n=e.queryParams,a=e.params;var i=Object(l.b)(n);const m=i.sort,j=i.t,g=a.profileName,y=Object(o.a)(`u_${g}`,m,e.queryParams);const _=s().profileCommentsPage,E=_.commentIds[y],v=_.api.error[y],C=_.api.pending[y];if(await t(p.d(g)),C||E&&!v){if(E){const e=Object(T.q)(s(),{profileName:g});t(b.l({title:e}))}return}const D=Object.assign({},c()(e.queryParams,[...f.j,f.f]),{sort:m,t:Object(I.a)(m,j)});t(A({key:y}));const R=await Object(S.a)("profileComments",()=>h(r.apiContext(),g,D));if(!R.ok)return t(P({account:R.body.data?R.body.data.account:null,error:R.body.reason?{type:R.body.reason}:R.error,key:y})),void t(b.m(R.status));const x=R.body;t(w(Object.assign({key:y,meta:s().meta},x))),await Promise.all([t(Object(l.c)(g)),t(Object(O.r)()),t(Object(u.b)()),t(d.o(g))])},N="PROFILE_COMMENTS__MORE_ITEMS_PENDING",k="PROFILE_COMMENTS__MORE_ITEMS_LOADED",L="PROFILE_COMMENTS__MORE_ITEMS_FAILED",U=Object(i.a)(N),M=Object(i.a)(k),F=Object(i.a)(L),G=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var i=a.routeMatch.match;const d=i.queryParams,u=i.params;var b=Object(l.b)(d);const p=b.sort,O=b.t,j=u.profileName,g=Object(o.a)(`u_${j}`,p,d),y=Object(v.d)(r,{listingKey:g});if(!y)return;const _=Object(v.b)(r,{listingKey:g}),E=Object(v.c)(r,{listingKey:g}),I=E&&E[y.token];if(_||I)return;e(U({key:g,fetchedToken:y.token}));const S=await h(s(),j,Object.assign({after:y.token,dist:y.dist,sort:p,t:O},c()(d,f.j),{layout:Object(m.O)(r,{}).toLowerCase()}));if(S.ok){const t=Object(v.f)(r,{listingKey:g}),s=Object.assign({},S.body,{commentIds:n()(S.body.commentIds,t)});e(M(Object.assign({fetchedToken:y.token,key:g,meta:r.meta},s)))}else e(F({account:S.body.data?S.body.data.account:null,error:S.error,fetchedToken:y.token,key:g}))}},"./src/reddit/actions/pages/profileModSettings.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return l});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/preferences.ts"),a=s("./src/reddit/actions/profile/index.ts"),c=s("./src/reddit/helpers/pageActionLoginRedirect.ts"),i=s("./src/reddit/models/User/index.ts"),o=s("./src/reddit/selectors/user.ts");const d="PAGE__PROFILE_MOD_SETTINGS_LOADED",u=Object(r.a)(d),l=e=>async(t,s)=>{const r=[t(n.x()),t(Object(a.d)(e.params.profileName))];await Promise.all(r);const d=Object(o.j)(s());d?(await t(Object(a.b)(Object(i.f)(d))),t(u())):Object(c.a)(t,s())}},"./src/reddit/actions/pages/profileOverview.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return T}),s.d(t,"e",function(){return v}),s.d(t,"d",function(){return C}),s.d(t,"c",function(){return D}),s.d(t,"b",function(){return R}),s.d(t,"a",function(){return A}),s.d(t,"g",function(){return U});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/reddit/actions/moderatingSubreddits.ts"),c=s("./src/reddit/actions/pages/profileShared.ts"),i=s("./src/reddit/actions/subreddit.ts"),o=s("./src/reddit/endpoints/page/profileOverviewPage.ts"),d=s("./src/lib/constants/index.ts"),u=s("./src/reddit/constants/postLayout.ts"),l=s("./src/reddit/constants/parameters.ts"),b=s("./src/reddit/contexts/PageLayer/index.tsx"),p=s("./src/reddit/selectors/listings.ts"),O=s("./src/reddit/selectors/profile.ts"),f=s("./src/reddit/selectors/profileOverviewChronoItems.ts"),m=s("./src/lib/makeActionCreator/index.ts"),j=s("./src/reddit/actions/externalAccount.ts"),g=s("./src/reddit/actions/pinnedPost.ts"),y=s("./src/reddit/actions/platform.ts"),_=s("./src/reddit/actions/profile/index.ts"),E=s("./src/reddit/actions/trophyCase.ts"),h=s("./src/reddit/featureFlags/index.ts"),I=s("./src/reddit/helpers/makeProfileListingKey/index.ts"),S=s("./src/reddit/helpers/timeApiRoute/index.ts");const T="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_PENDING",v="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_LOADED",C="PAGE__PROFILE_OVERVIEW_CONVERSATIONS_FAILED",D="PAGE__PROFILE_OVERVIEW_CHRONO_PENDING",R="PAGE__PROFILE_OVERVIEW_CHRONO_LOADED",A="PAGE__PROFILE_OVERVIEW_CHRONO_FAILED",w=Object(m.a)(T),P=Object(m.a)(v),x=Object(m.a)(C),N=Object(m.a)(D),k=Object(m.a)(R),L=Object(m.a)(A),U=e=>async(t,s,r)=>{const m=e.queryParams,T=e.params;var v=Object(c.a)(s(),m);const C=v.sort,D=v.t,R=T.profileName,A=u.d[Object(b.O)(s(),{})],U=R.toLowerCase(),F=Object.assign({},n()(e.queryParams,l.j),{sort:C,layout:A,t:D});if(await t(_.d(U)),A===u.d[u.f.Compact]){const r=Object(I.a)(U,d.sb,C,e.queryParams);if(s().profileOverviewPage.chrono.ids[r])return;await t(((e,t,s,r)=>async(r,n,a)=>{const c=n(),i=!!Object(f.f)(c,{listingKey:e}).length,d=!!Object(f.a)(c,{listingKey:e});if(Object(f.b)(c,{listingKey:e})||i&&!d)return;r(N({key:e}));const u=await Object(S.a)("profile",()=>Object(o.a)(a.apiContext(),t,s)),l=u.body,b=l.pinned;if(u.ok){r(k(Object.assign({key:e,meta:c.meta},l)));const s=Object(O.m)(c,t);r(Object(g.h)({profileId:s,pinned:b}))}else r(L({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),r(Object(y.m)(u.status))})(r,U,F))}else{const r=Object(I.a)(U,d.tb,C,e.queryParams);if(s().listings.postOrder.ids[r]&&!s().listings.postOrder.api.error[r])return;await t(((e,t,s,r)=>async(r,n,a)=>{const c=n(),i=!!c.listings.postOrder.ids[e],d=!!Object(p.c)(c,{listingKey:e});if(Object(p.d)(c,{listingKey:e})||i&&!d)return;r(w({key:e}));const u=await Object(S.a)("profile",()=>Object(o.b)(a.apiContext(),t,s)),l=u.body,b=l.pinned,f=l.postIds;if(u.ok){r(P(Object.assign({key:e,meta:c.meta,profileName:t},l,{postIds:f})));const s=Object(O.m)(c,t);r(Object(g.h)({profileId:s,pinned:b}))}else r(x({account:u.body.data?u.body.data.account:null,error:u.body.reason?{type:u.body.reason}:u.error,key:e})),r(Object(y.m)(u.status))})(r,U,F))}await t(Object(i.r)()),await t(Object(a.b)());const G=s();if(!G.platform.currentPage)return;if(200!==G.platform.currentPage.status)return;const B=Object(O.m)(s(),U);await t(E.b(U,B)),t(y.l({title:M(s(),R)}));const q=[t(_.b(U)),t(j.o(R))];h.d.customFeeds(s())&&q.push(t(_.e(R))),await Promise.all(q)},M=(e,t)=>Object(O.q)(e,{profileName:t})},"./src/reddit/actions/pages/profilePosts.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/lib/makeListingKey/index.ts"),i=s("./src/reddit/actions/externalAccount.ts"),o=s("./src/reddit/actions/moderatingSubreddits.ts"),d=s("./src/reddit/actions/pages/profileShared.ts"),u=s("./src/reddit/actions/pinnedPost.ts"),l=s("./src/reddit/actions/platform.ts"),b=s("./src/reddit/actions/profile/index.ts"),p=s("./src/reddit/actions/subreddit.ts"),O=s("./src/reddit/constants/parameters.ts"),f=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/config.ts"),j=s("./src/lib/addAllowQuarantinedParam/index.ts"),g=s("./src/lib/constants/index.ts"),y=s("./src/lib/makeApiRequest/index.ts"),_=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const E=(e,t,s)=>Object(y.c)(e,{data:s,endpoint:Object(j.a)(Object(_.a)(`${m.a.gatewayUrl}/desktopapi/v1/user/${t}/posts`)),method:g.jb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e);var h=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),I=s("./src/reddit/helpers/timeApiRoute/index.ts"),S=s("./src/reddit/selectors/listings.ts"),T=s("./src/reddit/selectors/profile.ts");s.d(t,"f",function(){return v}),s.d(t,"e",function(){return C}),s.d(t,"d",function(){return D}),s.d(t,"h",function(){return P}),s.d(t,"c",function(){return x}),s.d(t,"b",function(){return N}),s.d(t,"a",function(){return k}),s.d(t,"g",function(){return F});const v="PAGE__PROFILE_POSTS_PENDING",C="PAGE__PROFILE_POSTS_LOADED",D="PAGE__PROFILE_POSTS_FAILED",R=Object(a.a)(v),A=Object(a.a)(C),w=Object(a.a)(D),P=e=>async(t,s,r)=>{const a=e.queryParams,m=e.params;var j=Object(d.b)(a);const g=j.sort,y=j.t,_=m.profileName,v=Object(c.a)(`u_${_}`,g,a),C=s(),D=C.listings.postOrder.ids[v],P=Object(S.c)(C,{listingKey:v}),x=Object(S.d)(C,{listingKey:v});if(await t(b.d(_)),x||D&&!P){if(D){const e=Object(T.q)(s(),{profileName:_});t(l.l({title:e}))}return}const N=Object.assign({},n()(e.queryParams,[...O.j,...O.i,O.f]),{layout:Object(f.O)(C,{}).toLowerCase(),sort:g,t:Object(h.a)(g,y)});t(R({key:v}));const k=await Object(I.a)("profilePosts",()=>E(r.apiContext(),_,N));if(!k.ok)return t(w({account:k.body.data?k.body.data.account:null,error:k.body.reason?{type:k.body.reason}:k.error,key:v})),void t(l.m(k.status));const L=k.body;t(A(Object.assign({key:v,meta:s().meta},L)));const U=Object(T.m)(s(),_),M=L.pinned;t(Object(u.h)({profileId:U,pinned:M})),await Promise.all([t(Object(d.c)(_)),t(Object(p.r)()),t(Object(o.b)()),t(i.o(_))])},x="PROFILE_POSTS__MORE_POSTS_PENDING",N="PROFILE_POSTS__MORE_POSTS_LOADED",k="PROFILE_POSTS__MORE_POSTS_FAILED",L=Object(a.a)(x),U=Object(a.a)(N),M=Object(a.a)(k),F=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var i=a.routeMatch.match;const o=i.queryParams,u=i.params;var l=Object(d.b)(o);const b=l.sort,p=l.t,m=u.profileName,j=Object(c.a)(`u_${m}`,b,o),g=Object(S.g)(r,{listingKey:j});if(!g)return;const y=Object(S.d)(r,{listingKey:j}),_=Object(S.e)(r,{listingKey:j,token:g.token});if(y||_)return;e(L({key:j,fetchedToken:g.token}));const h=Object.assign({after:g.token,dist:g.dist,sort:b,t:p},n()(o,O.j),{layout:Object(f.O)(r,{}).toLowerCase()}),I=await E(s(),m,h),T=r.listings.postOrder.ids[j],v=I.body.postIds||[],C=Object.assign({},I.body,{postIds:v.filter(e=>!T||!T.includes(e))});I.ok?(e(U(Object.assign({fetchedToken:g.token,key:j,meta:r.meta},C))),await e(Object(d.c)(m))):e(M({account:I.body.data?I.body.data.account:null,error:I.error,fetchedToken:g.token,key:j}))}},"./src/reddit/actions/pages/profilePrivate/constants.ts":function(e,t,s){"use strict";s.d(t,"h",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"i",function(){return c}),s.d(t,"a",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"e",function(){return d}),s.d(t,"g",function(){return u}),s.d(t,"d",function(){return l});const r=25,n="PAGE__PROFILE_PRIVATE_PENDING",a="PAGE__PROFILE_PRIVATE_MIXED_LOADED",c="PAGE__PROFILE_PRIVATE_POSTS_LOADED",i="PAGE__PROFILE_PRIVATE_FAILED",o="MORE__PROFILE_PRIVATE_PENDING",d="MORE__PROFILE_PRIVATE_MIXED_LOADED",u="MORE__PROFILE_PRIVATE_POSTS_LOADED",l="MORE__PROFILE_PRIVATE_FAILED"},"./src/reddit/actions/pages/profileShared.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"d",function(){return j});var r=s("./node_modules/lodash/defaults.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),i=s("./src/reddit/actions/platform.ts"),o=s("./src/reddit/actions/profile/index.ts"),d=s("./src/reddit/actions/trophyCase.ts"),u=s("./src/reddit/selectors/profile.ts"),l=s("./src/lib/constants/index.ts"),b=s("./src/reddit/featureFlags/index.ts");const p={sort:l.Jb,t:l.Kb};function O(e){return n()(c()(e,["t","sort"]),p)}function f(e,t){return O(t)}const m=e=>async(t,s,r)=>{const n=[t(j(e)),t(g(e))];b.d.customFeeds(s())&&n.push(t(Object(o.e)(e))),await Promise.all(n)},j=e=>async(t,s,r)=>{const n=Object(u.m)(s(),e);await t(d.b(e,n))},g=e=>async(t,s,r)=>{const n=Object(u.q)(s(),{profileName:e});t(i.l({title:n})),await t(o.b(e))}},"./src/reddit/actions/pages/report/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return a});const r="REPORT_PAGE__FAILED",n="REPORT_PAGE__PENDING",a="REPORT_PAGE__LOADED"},"./src/reddit/actions/pages/shared.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u});var r=s("./src/app/strings/index.ts"),n=s("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),a=s("./src/reddit/helpers/routeKey/index.ts"),c=s("./src/reddit/helpers/trackers/screenview.ts"),i=s("./src/telemetry/index.ts"),o=s("./src/telemetry/models/Timer.ts");const d=(e,t)=>{const s=e.user.language;return Object(r.a)(s,`title.${t}`)},u=()=>async(e,t)=>{const s=t(),r=s.platform.currentPage;if(!r)return;const d=r.routeMatch,u=Object(n.a)(s),l=Object(a.c)(d,s,u);l&&i.c.has(l)&&Object(c.f)(d,s,o.TimerType.InApp,i.c.end(l))}},"./src/reddit/actions/pages/subreddit.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return J}),s.d(t,"c",function(){return Z}),s.d(t,"b",function(){return ee}),s.d(t,"a",function(){return te}),s.d(t,"g",function(){return se}),s.d(t,"f",function(){return ae}),s.d(t,"e",function(){return ce}),s.d(t,"h",function(){return oe});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./node_modules/lodash/some.js"),c=s.n(a),i=s("./src/app/strings/index.ts"),o=s("./src/lib/constants/index.ts"),d=s("./src/lib/isAdHocMultireddit/index.ts"),u=s("./src/lib/isFakeSubreddit/index.ts"),l=s("./src/lib/makeActionCreator/index.ts"),b=s("./src/lib/makeApiRequest/index.ts"),p=s("./src/lib/makeListingKey/index.ts"),O=s("./src/reddit/actions/ads/index.ts"),f=s("./src/reddit/actions/badge.ts"),m=s("./src/reddit/actions/category.ts"),j=s("./src/reddit/actions/contentGate.ts"),g=s("./src/reddit/actions/discoveryUnit.ts"),y=s("./src/reddit/actions/economics/tips/async.ts"),_=s("./src/reddit/actions/externalAccount.ts"),E=s("./src/reddit/actions/gameOfThronesEvent/index.ts"),h=s("./src/reddit/actions/governance/async.ts"),I=s("./src/reddit/actions/governance/communityDetails.ts"),S=s("./src/reddit/actions/governance/releaseNotes.ts"),T=s("./src/reddit/actions/moderatingSubreddits.ts"),v=s("./src/reddit/actions/platform.ts"),C=s("./src/reddit/actions/preferences.ts"),D=s("./src/reddit/actions/structuredStyles.ts"),R=s("./src/reddit/actions/subreddit.ts"),A=s("./src/reddit/actions/subredditTopContent.ts"),w=s("./src/reddit/actions/toaster.ts"),P=s("./src/reddit/constants/page.ts"),x=s("./src/reddit/constants/parameters.ts"),N=s("./src/reddit/constants/postLayout.ts"),k=s("./src/reddit/contexts/PageLayer/index.tsx"),L=s("./src/reddit/endpoints/governance/posts.ts"),U=s("./src/reddit/endpoints/page/subredditPage.ts"),M=s("./src/reddit/featureFlags/index.ts"),F=s("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),G=s("./src/reddit/helpers/getTimeSortForListing/index.ts"),B=s("./src/reddit/helpers/timeApiRoute/index.ts"),q=s("./src/reddit/models/ModeratingSubreddits/index.ts"),$=s("./src/reddit/models/Toast/index.ts"),V=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),H=s("./src/reddit/selectors/experiments/exploreV2.ts"),K=s("./src/reddit/selectors/gameOfThrones.ts"),W=s("./src/reddit/selectors/moderatorPermissions.ts"),Q=s("./src/reddit/selectors/multireddit.ts"),Y=s("./src/reddit/selectors/posts.ts"),z=s("./src/reddit/selectors/subreddit.ts"),X=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const J=(e,t)=>async s=>{if(!e.ok&&e.body){const r=e.body.data?e.body.data.account:void 0,n=e.body.data?e.body.data.features:void 0,a=t?t.toLowerCase():"";if(404===e.status)if(e.body.reason===b.a.NotFoundSubreddit)s(j.i({account:r,features:n,subredditName:a}));else if(e.body.reason===b.a.BannedSubreddit){const t=e.body.data?e.body.data.ban_message:void 0;s(j.h({banMessage:t,account:r,features:n,subredditName:a}))}if(403===e.status)if(e.body.reason===b.a.GoldSubreddit)s(j.j({account:r,features:n,subredditName:a}));else if(e.body.reason===b.a.PrivateSubreddit)s(j.k({account:r,features:n,subredditDescription:e.body.data.description,subredditName:a}));else if(e.body.reason===b.a.QuarantinedSubreddit){const t=!e.body.data||e.body.data.quarantine_requires_email_optin;s(j.l({account:r,features:n,subredditName:a,quarantineRequiresEmail:t,quarantineMessage:e.body.data.quarantineMessage,quarantineMessageHtml:e.body.data.quarantineMessageHtml}))}s(C.w({nightmode:!!r&&r.nightmode}))}},Z="PAGE__SUBREDDIT_PENDING",ee="PAGE__SUBREDDIT_LOADED",te="PAGE__SUBREDDIT_FAILED",se=Object(l.a)(Z),re=Object(l.a)(ee),ne=Object(l.a)(te),ae=(e,t,s,r)=>async(n,a,d)=>{const l=a();if(l.listings.postOrder.api.pending[e])return;const b=t!==P.e.All&&t!==P.e.Popular||!l.posts.recent.length?s:Object.assign({},s,{recentPostIds:l.posts.recent});b.layout=N.d[Object(k.O)(l,{})],n(se({key:e}));const p=await Object(B.a)("subreddit",()=>Object(U.a)(d.apiContext(),t,b));n(v.m(p.status));const j=`error-${e}`,g=p.body,E=Object(u.a)(t)||c()(g.subreddits,e=>e.name.toLowerCase()===t.toLowerCase());if(p.ok&&E){let s;const c=g.postIds.filter(e=>!!g.posts[e].isMeta);if(c.length){const e=Object.keys(g.subreddits).reduce((e,s)=>{const r=g.subreddits[s];return r.name.toLowerCase()===t.toLowerCase()?r.id:e},null);if(e){const t=await Object(L.a)(d.apiContext(),e,c);t.ok&&(s=t.body)}}if(n(re(Object.assign({key:e,meta:l.meta,governance:s},g))),!Object(u.a)(t)){const e=Object(z.I)(a(),t);!!Object(z.R)(l,{subredditId:e})||await R.o(t)(n,a,d)}const i=[T.c()(n,a,d)];if(t===P.e.Popular&&Object(H.a)(l)&&i.push(n(m.g())),await Promise.all(i),r&&n(w.f(j)),n(Object(O.b)(V.a.SUBREDDIT)),n(Object(_.p)()),M.d.spPoints(a())||M.d.spSupport(a())||M.d.spLoadtest(a())){const e=Object(z.I)(a(),t),s=l.platform.currentPage&&l.platform.currentPage.meta&&l.platform.currentPage.meta.name;if(e&&s!==o.Rb.META_BADGES_PAGE&&n(Object(S.a)({subredditId:e})),e){const t=g.postIds.map(e=>{return g.posts[e].authorId}),s=g.postIds;var I=await Promise.all([Object(h.a)(),Object(y.a)()]),D=X(I,2);const r=D[0],c=D[1],i=[n(r({subredditId:e,userIds:t}))];(M.d.spBadges(a())||M.d.spLoadtest(a()))&&i.push(n(Object(f.l)({subredditId:e}))),(M.d.spSupport(a())||M.d.spLoadtest(a()))&&i.push(n(c({subredditId:e,contentIds:s}))),await Promise.all(i)}}}else{if(403===p.status||404===p.status)return void n(J(p,t));n(ne(Object.assign({error:!p.ok&&p.error||{type:o.I.NOT_FOUND_ERROR},key:e},g)));const a=p.body.data?p.body.data.account:void 0;n(C.w({nightmode:!!a&&a.nightmode})),r&&n(w.e({id:j,kind:$.b.Error,text:Object(i.a)(l.user.language,"listings.toast.error"),buttonText:Object(i.a)(l.user.language,"listings.toast.retryButton"),buttonAction:ae(e,t,s,r)}))}},ce=(e,t,s)=>async(r,n)=>{const a=n(),c=Object(p.a)(e,t.sort,t);Object(Y.z)(a,{listingKey:c}).length>0||await r(ae(c,e,t,s))},ie=(e,t)=>{if(Object(u.a)(t)&&Object(d.a)(t)){return Object(Q.a)(e,{listingName:t}).displayText}return Object(z.U)(e,{subredditName:t})},oe=(e,t)=>async(s,r,a)=>{const c=e.params.subredditName,i=e.queryParams.styling,d=r(),l=Object(F.a)(e.params),b=Object(p.a)(c,l,e.queryParams),f=l,m=d.listings.postOrder.api.error[b],j=d.listings.postOrder.api.pending[b];let y=!!d.listings.postOrder.ids[b];const h=d.listings.postOrder.listingSort[b];h&&h.hasChanged&&(y=!1);let T=Object(z.I)(d,c);const C=(e,t)=>"true"===i&&((e,t)=>Object(W.a)(q.c.config)(e,{subredditId:t})||Object(W.a)(q.c.flair)(e,{subredditId:t}))(e,t),R=x.t in e.queryParams&&e.queryParams[x.t].toUpperCase()||"",w=R in o.qc&&o.qc[R];if(j||y&&!m&&!t){if(C(d,T)&&s(D.r(T)),y){const e=ie(r(),c);s(v.l({title:e})),window.addEventListener("load",()=>{s(Object(_.p)())}),d.sidebarPromotedPosts.firstFetch||window.addEventListener("load",()=>{s(Object(O.b)(V.a.SUBREDDIT))}),T&&(M.d.spPoints(r())||M.d.spSupport(r())||M.d.spLoadtest(r()))&&window.addEventListener("load",()=>{s(Object(S.a)({subredditId:T}))})}return}s(g.h());const P=Object.assign({},n()(e.queryParams,[...x.j,...x.i,x.f]),{sort:f,t:Object(G.a)(f,w)});await Promise.all([Object(K.n)(d)?s(Object(E.a)()):null,s(ae(b,c,P,!0))]),T=T||Object(z.I)(r(),c);const N=Object(z.z)(r(),{subredditName:c}),k=!!N&&N.userIsSubscriber;if(Object(u.a)(c)||void 0!==f||k||await s(A.d(c)),M.d.spPoints(d)||M.d.spLoadtest(d)){const e=Object(z.I)(r(),c);e&&await s(Object(I.a)({subredditId:e}))}C(r(),T)&&s(D.r(T));const L=ie(r(),c);s(v.l({title:L}))}},"./src/reddit/actions/pages/subredditWiki/constants.ts":function(e,t,s){"use strict";s.d(t,"g",function(){return r}),s.d(t,"f",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return d}),s.d(t,"h",function(){return u});const r="PAGE__SUBREDDIT_WIKI_PAGE_PENDING",n="PAGE__SUBREDDIT_WIKI_PAGE_LOADED",a="PAGE__SUBREDDIT_WIKI_PAGE_FAILED",c="index",i="pages",o="config/automoderator",d="reddit.com",u=["config/description","config/sidebar","config/stylesheet","config/submit_text"]},"./src/reddit/actions/pinnedPost.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return f}),s.d(t,"h",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"g",function(){return g}),s.d(t,"c",function(){return E}),s.d(t,"f",function(){return h}),s.d(t,"b",function(){return T}),s.d(t,"e",function(){return v}),s.d(t,"i",function(){return x});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/modal.ts"),i=s("./src/reddit/actions/toaster.ts"),o=s("./src/reddit/constants/modals.ts"),d=s("./src/reddit/endpoints/post/index.tsx"),u=s("./src/reddit/models/Toast/index.ts"),l=s("./src/reddit/selectors/posts.ts"),b=s("./src/reddit/selectors/profile.ts"),p=s("./src/reddit/selectors/user.ts"),O=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const f="PINNEDPOST__PINNED_POSTS_LOADED",m=Object(a.a)(f),j="PINNEDPOST__PIN_POST_SUCCESS",g="PINNEDPOST__UNPIN_POST_SUCCESS",y=Object(a.a)(j),_=Object(a.a)(g),E="PINNEDPOST__PIN_POST_PENDING",h="PINNEDPOST__UNPIN_POST_PENDING",I=Object(a.a)(E),S=Object(a.a)(h),T="PINNEDPOST__PIN_POST_FAILURE",v="PINNEDPOST__UNPIN_POST_FAILURE",C=Object(a.a)(T),D=Object(a.a)(v),R=(e,t)=>Object(i.e)({buttonAction:x(t,!0),buttonText:Object(r.a)(e,"posts.postPinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,"posts.postPinned")}),A=(e,t,s)=>Object(i.e)({buttonAction:x(t,!0),buttonText:Object(r.a)(e,"posts.postUnpinnedUndo"),kind:u.b.SuccessMod,text:Object(r.a)(e,s?"posts.postUnpinnedReloadPage":"posts.postUnpinned")}),w=e=>Object(i.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPost")}),P=e=>Object(i.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotUnpinPost")}),x=(e,t=!1)=>async(s,a,{apiContext:f})=>{const m=a(),j=m.posts.models[e];if(!j)return;const g=!Object(l.s)(m,{postId:e}),E=Object(p.Q)(m);if(g&&j.isRemoved)return s((e=>Object(i.e)({kind:u.b.Error,text:Object(r.a)(e,"posts.couldNotPinPostRemovedPost")}))(E));const h=j.author,T=Object(b.m)(m,h);var v=O(g?[I,y,C,R,w]:[S,_,D,A,P],5);const x=v[0],N=v[1],k=v[2],L=v[3],U=v[4];if(g){if(Object(l.M)(m,{profileName:h}).length>=n.db)return void s(Object(c.i)(o.a.PINNED_POSTS_LIMIT_REACHED))}const M=Object(l.m)(m,e,h),F=!g&&M;s(x({postId:e,profileId:T})),(await Object(d.r)(f(),e,g,!0)).ok?(s(N({postId:e,profileId:T})),t||s(L(E,e,F))):(s(k({postId:e,profileId:T})),s(U(E)))}},"./src/reddit/actions/platform.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return f}),s.d(t,"b",function(){return m}),s.d(t,"d",function(){return j}),s.d(t,"c",function(){return g}),s.d(t,"e",function(){return y}),s.d(t,"f",function(){return _}),s.d(t,"h",function(){return E}),s.d(t,"i",function(){return h}),s.d(t,"m",function(){return T}),s.d(t,"l",function(){return v}),s.d(t,"k",function(){return C}),s.d(t,"j",function(){return D}),s.d(t,"g",function(){return R});s("./node_modules/history/index.js");var r=s("./src/lib/areUrlsEqual/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/logs/errors.ts"),c=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/lib/matchRoute/index.ts"),o=(s("./src/lib/addQueryParams/index.ts"),s("./src/reddit/actions/monthsToMinutes.ts")),d=s("./src/reddit/constants/experiments.ts"),u=s("./src/reddit/constants/listings.ts"),l=s("./src/reddit/helpers/routeKey/index.ts"),b=s("./src/reddit/selectors/experiments/postSeo.ts"),p=s("./src/reddit/selectors/monthsToMinutes.ts"),O=s("./src/reddit/selectors/platform.ts");const f="PLATFORM__HISTORY_LOCATION_SET",m="PLATFORM__INITIAL_REFERRER_SET",j="PLATFORM__NAVIGATION_CONFIRMATION_REQUESTED",g="PLATFORM__NAVIGATION_CONFIRMATION_DISCARDED",y="PLATFORM__PAGE_META_SET",_="PLATFORM__PAGE_STATUS_SET",E=e=>async(t,s,r)=>{const n=s().platform.currentPage;if(!n)return;const a=Object(i.a)(n.url,e);a&&a.route.action(a.match)(t,s,r)},h=(e,t,s)=>async(a,c,i)=>{const f=c().platform.currentPage;(!s||s.route.chunk===n.r.SUBREDDIT&&u.a.has(s.match.params.subredditName.toLowerCase()))&&window.location.replace(`https://web.archive.org/web/20190601001601/https://www.reddit.com${e.pathname}${e.search}`);const m=s?Object(l.d)(s,c()):null;const j=c().user,g=s&&s.match&&s.match.queryParams,y=g&&g[`experiment_${d.O}`];Object(b.u)(c()),e.pathname.split("/").some(e=>"comments"===e),Object(O.i)(c());a(I({action:t,listingKey:m,location:e,routeMatch:s,user:j}));const _=c();if(!Object(p.x)(_)||Object(p.p)(_)||Object(p.a)(_)||a(Object(o.j)()),(!f||!Object(r.a)(f.url,e))&&s){const e=s.match;await s.route.action(e)(a,c,i)}},I=Object(c.a)(f),S=(Object(c.a)(m),Object(c.a)(y)),T=Object(c.a)(_),v=e=>async(t,s,r)=>{const n=s().platform.currentPage;if(!n)return;const a=n.key;await t(S({key:a,meta:e}))},C=Object(c.a)(j),D=Object(c.a)(g),R=()=>async(e,t,s)=>{if(window!==window.parent){Object(a.b)(s.apiContext(),{extra:{errorType:n.s.NOT_ALLOWED_ACCESS,value:"Page was unexpectedly loaded inside iframe"}});try{window.top.location.href=window.location.href}catch(r){}}}},"./src/reddit/actions/polls.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/lib/makeActionCreator/index.ts");const n="POLLS__POLL_CREATION_UPDATED",a=Object(r.a)(n)},"./src/reddit/actions/post.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./node_modules/js-cookie/src/js.cookie.js"),a=s.n(n),c=s("./src/app/strings/index.ts"),i=s("./src/lib/addQueryParams/index.ts"),o=s("./src/lib/copyToClipboard/index.ts"),d=s("./src/lib/makeActionCreator/index.ts"),u=s("./src/reddit/actions/login.ts"),l=s("./src/reddit/actions/platform.ts"),b=s("./src/reddit/actions/video.ts"),p=s("./src/reddit/actions/vote.ts"),O=s("./src/reddit/constants/cookie.ts"),f=s("./src/reddit/constants/history.ts"),m=s("./src/reddit/constants/posts.ts"),j=s("./src/reddit/helpers/overlay/index.ts"),g=s("./src/reddit/models/Media/index.ts"),y=s("./src/reddit/endpoints/post/index.tsx"),_=s("./src/lib/makeGqlRequest/index.ts"),E=s("./src/graphql/operations/RichTextPostContent.json");var h=s("./src/lib/constants/index.ts"),I=s("./src/lib/makeListingKey/index.ts"),S=s("./node_modules/react-router-redux/es/index.js"),T=s("./src/reddit/actions/modal.ts"),v=s("./src/reddit/actions/toaster.ts"),C=s("./src/reddit/constants/adEvents.ts"),D=s("./src/reddit/constants/modals.ts"),R=s("./src/reddit/endpoints/page/commentsPage.ts"),A=s("./src/reddit/helpers/pixels.ts"),w=s("./src/reddit/helpers/trackers/post.ts"),P=s("./src/reddit/models/Flair/index.ts"),x=s("./src/reddit/models/Toast/index.ts"),N=s("./src/reddit/models/User/index.ts"),k=s("./src/reddit/models/Vote/index.ts"),L=s("./src/reddit/selectors/platform.ts"),U=s("./src/reddit/selectors/user.ts"),M=s("./src/reddit/constants/viewabilityEvents.ts"),F=s("./src/reddit/selectors/posts.ts"),G=s("./src/telemetry/index.ts");s.d(t,"c",function(){return B}),s.d(t,"d",function(){return q}),s.d(t,"f",function(){return $}),s.d(t,"e",function(){return V}),s.d(t,"o",function(){return H}),s.d(t,"i",function(){return W}),s.d(t,"B",function(){return Y}),s.d(t,"G",function(){return z}),s.d(t,"D",function(){return X}),s.d(t,"J",function(){return Z}),s.d(t,"n",function(){return ee}),s.d(t,"x",function(){return se}),s.d(t,"y",function(){return re}),s.d(t,"a",function(){return ne}),s.d(t,"b",function(){return ae}),s.d(t,"z",function(){return oe}),s.d(t,"k",function(){return de}),s.d(t,"C",function(){return ue}),s.d(t,"w",function(){return le}),s.d(t,"s",function(){return be}),s.d(t,"F",function(){return pe}),s.d(t,"u",function(){return Oe}),s.d(t,"t",function(){return fe}),s.d(t,"m",function(){return me}),s.d(t,"H",function(){return je}),s.d(t,"I",function(){return ge}),s.d(t,"r",function(){return _e}),s.d(t,"g",function(){return Ee}),s.d(t,"l",function(){return Ie}),s.d(t,"j",function(){return Se}),s.d(t,"E",function(){return Te}),s.d(t,"A",function(){return Ce}),s.d(t,"q",function(){return De}),s.d(t,"v",function(){return Re}),s.d(t,"h",function(){return Ae}),s.d(t,"p",function(){return Pe});const B="POST__EXPANDED_TOGGLED",q="POST__FOCUS_CHANGED",$="POSTS__MUTATED",V="POSTS_LOADED",H=Object(d.a)(B),K=(Object(d.a)(q),Object(d.a)(V)),W="POST__STICKY_POST_SUCCESS",Q=Object(d.a)(W),Y=Object(d.a)($),z=(e,t,s,r)=>async(n,a,{apiContext:i})=>{const o=a().posts.models[e];if(!o)return;if(!Object(U.I)(a()))return n(Object(T.l)({actionSource:T.a.Hide,redirectUrl:o.permalink})),void n(Object(u.b)());n(Y({[e]:{hidden:t}}));const d=a(),l=Object(U.Q)(d);let b;if((b=t?await Object(y.g)(i(),e):await Object(y.s)(i(),e)).ok){if(r){const r=t?Object(c.a)(l,"posts.hiddenSuccess"):Object(c.a)(l,"posts.unhiddenSuccess"),a=Object(v.d)(r,x.b.Undo,Object(c.a)(l,"posts.hiddenUndo"),z(e,!t,s,!1));n(Object(v.e)(a))}}else if(n(Y({[e]:{hidden:!t}})),r){const e=Object(v.d)(Object(c.a)(l,"error.generic"),x.b.Error);n(Object(v.e)(e))}},X=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;if(!Object(U.I)(s()))return t(Object(u.b)()),void t(Object(T.l)({actionSource:T.a.Save,redirectUrl:n.permalink}));const a=n.saved?y.w:y.o;if(t(Y({[e]:{saved:!n.saved}})),(await a(r(),e)).ok){const r=Object(U.Q)(s()),a=n.saved?Object(c.a)(r,"posts.unsavedSuccess"):Object(c.a)(r,"posts.savedSuccess"),i=Object(v.d)(a,x.b.Undo,Object(c.a)(r,"posts.savedUndo"),X(e));t(Object(v.e)(i))}else t(Y({[e]:{saved:n.saved}}))},J=(e,t)=>t().posts.models[e],Z=Object(p.b)(J,k.a.upvoted),ee=Object(p.b)(J,k.a.downvoted),te=e=>`viewing-${e}`,se=e=>async(t,s)=>{const r=s();w.h(r,e),G.c.start(te(e))},re=(e,t)=>async(s,n)=>{const a=n(),c=te(e);if(G.c.has(c)){const s=G.c.end(`viewing-${e}`);!t&&s>r.a.telemetry.postConsumedThreshold&&w.a(a,e,s)}},ne="AD__IMPRESSION",ae="AD__VIEWABLE_IMPRESSION",ce=Object(d.a)(ne),ie=Object(d.a)(ae),oe=(e,t)=>async(s,r)=>{if(!e.isSponsored)return;const n=e.media&&"video"===e.media.type;if(n&&t===M.a.VideoViewable)s(Object(b.B)(e.id));else{if(!n||t!==M.a.VideoFullyViewable)return t===M.a.Impression?(s((e=>async t=>{e.isSponsored&&(Object(A.a)(e.events,C.a.Impression),t(ce({postId:e.id})))})(e)),void w.g(r(),e.id)):void s((e=>async t=>{e.isSponsored&&(Object(A.a)(e.events,C.a.ViewableImpression),t(ie({postId:e.id})))})(e));s(Object(b.A)(e.id))}},de=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.posts.models[e],c=n.user.account?n.user.account.displayText:null;a&&(t(Y({[e]:{approvedBy:c,bannedBy:null,isApproved:!0,isRemoved:!1,isSpam:!1,modNote:null,numReports:0,modRemovalReason:null,modReasonBy:null}})),(await Object(y.b)(r(),e)).ok||t(Y({[e]:{approvedBy:null,bannedBy:a.bannedBy,isApproved:a.isApproved,isRemoved:a.isRemoved,isSpam:a.isSpam,modNote:a.modNote,numReports:a.numReports||null,modRemovalReason:a.modRemovalReason,modReasonBy:a.modReasonBy}})))},ue=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.posts.models[e],i=a.user.account?a.user.account.displayText:null;c&&i&&(s(Y({[e]:{approvedBy:null,bannedBy:i,isApproved:!1,isRemoved:!t,isSpam:t}})),(await Object(y.l)(n(),e,t)).ok||s(Y({[e]:{approvedBy:c.approvedBy,bannedBy:c.bannedBy,isApproved:c.isApproved,isRemoved:c.isRemoved,isSpam:c.isSpam}})))},le=(e,t,s)=>async(r,n,{apiContext:a})=>{const i=n(),o=i.posts.models[e],d=Object(U.Q)(i);if(o)if(r(Y({[e]:{hidden:!0}})),(await Object(y.c)(a(),e)).ok){const e=Object(v.d)(Object(c.a)(d,"posts.deleteSuccess"),x.b.SuccessMod);if(s)r(Object(S.b)(t.state[f.a.CloseLocation]));else{const e=Object(L.f)(i);e&&r(Object(S.b)(e.url))}r(Object(v.e)(e))}else{r(Y({[e]:{hidden:!1}}));const t=Object(v.d)(Object(c.a)(d,"error.generic"),x.b.Error);r(Object(v.e)(t))}},be=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.isLocked?y.u:y.i;t(Y({[e]:{isLocked:!n.isLocked}})),(await a(r(),e)).ok||t(Y({[e]:{isLocked:n.isLocked}}))},pe=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.isSpoiler?y.x:y.q,c=n.isSpoiler?n.flair.filter(e=>e.type!==P.f.Spoiler):[...n.flair,{text:"spoiler",type:P.f.Spoiler}];t(Y({[e]:{isSpoiler:!n.isSpoiler,flair:c}})),(await a(r(),e)).ok||t(Y({[e]:{isSpoiler:n.isSpoiler,flair:n.flair}}))},Oe=e=>async(t,s,{apiContext:r})=>{const n=Object(F.F)(s(),{postId:e});n&&(t(Y({[e]:{isOriginalContent:!n.isOriginalContent}})),(await Object(y.k)(r(),e,!n.isOriginalContent)).ok||t(Y({[e]:{isOriginalContent:n.isOriginalContent}})))},fe=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.isNSFW?y.v:y.j,c=n.isNSFW?n.flair.filter(e=>e.type!==P.f.Nsfw):[...n.flair,{text:"nsfw",type:P.f.Nsfw}];t(Y({[e]:{isNSFW:!n.isNSFW,flair:c}})),(await a(r(),e)).ok?await t(ve(e)):t(Y({[e]:{isNSFW:n.isNSFW,flair:n.flair}}))},me=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().posts.models[e];if(!a)return;const c=h.h[t];s(Y({[e]:{distinguishType:t}})),(await Object(y.d)(n(),e,c)).ok||s(Y({[e]:{distinguishType:a.distinguishType}}))},je=e=>async(t,s,{apiContext:r})=>{const n=s().posts.models[e];if(!n)return;const a=n.ignoreReports?y.t:y.h;t(Y({[e]:{ignoreReports:!n.ignoreReports}})),(await a(r(),e)).ok||t(Y({[e]:{ignoreReports:n.ignoreReports}}))},ge=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.posts.models[e];if(!a)return;const c=!a.isStickied;t(Y({[e]:{isStickied:c}}));const i=n.subredditStickyPosts.data[a.belongsTo.id];let o;if(c&&i&&i.length>=2&&(o=i[1],t(Y({[o]:{isStickied:!1}}))),(await Object(y.r)(r(),e,c,!1)).ok){const s=a.belongsTo.id,r=ye(e,c,n.subredditStickyPosts.data[a.belongsTo.id]),i=n.subreddits.models[s].name,o=Object(I.a)(i,h.Y,{});t(Q({newStickiedPostList:r,subredditId:s,listingKey:o}))}else t(Y({[e]:{isStickied:a.isStickied}})),o&&t(Y({[o]:{isStickied:!0}}))},ye=(e,t,s)=>{const r=s?[...s]:[];return t?(r.length>=2&&r.splice(1,1,e),r):r.filter(function(t){return t!==e})},_e=e=>async(t,s,{apiContext:r})=>{const n=s().user.language;if(Object(o.a)(e)){const e=Object(v.d)(Object(c.a)(n,"posts.copyLinkSuccess"),x.b.SuccessCommunity);t(Object(v.e)(e))}else{const e=Object(v.d)(Object(c.a)(n,"error.generic"),x.b.Error);t(Object(v.e)(e))}},Ee="PREFERENCES__RECENT_POSTS_UPDATED",he=Object(d.a)(Ee),Ie=()=>async(e,t)=>{const s=t();if(!s.user.account)return;const n=Object(N.f)(s.user.account);a.a.remove(`${n}${O.h}`,{domain:r.a.cookieDomain}),e(he({postIds:[]}))},Se=e=>async(t,s)=>{const n=s();if(!n.user.account||!n.user.account.showRecentPosts||n.posts.recent.indexOf(e)>-1)return;const c=Object(N.f)(n.user.account),i=n.posts.recent?n.posts.recent.slice(0):[];i.push(e),i.length>m.e&&i.shift(),a.a.set(`${c}${O.h}`,`${i.join(",")}`,{domain:r.a.cookieDomain}),t(he({postIds:i}))},Te=e=>async(t,s,{apiContext:r})=>{const n=!s().posts.models[e].sendReplies;t(Y({[e]:{sendReplies:n}})),(await Object(y.p)(r(),e,n)).ok||t(Y({[e]:{sendReplies:!n}}))},ve=e=>async(t,s,r)=>{if(Object(F.F)(s(),{postId:e}))return;const n=await Object(R.a)(r.apiContext(),e,void 0,{limit:1,truncate:0});if(t(Object(l.m)(n.status)),n.ok){const e=n.body;t(K(e.posts))}},Ce=e=>async(t,s)=>{await t(ve(e));const r=Object(F.F)(s(),{postId:e});r&&r.crosspostRootId&&await t(ve(r.crosspostRootId))},De=e=>async(t,s,{apiContext:r})=>{const n=s();if(!Object(U.I)(n))return void t(Object(T.i)(D.a.LOGIN_MODAL_ID));const a=Object(F.F)(n,{postId:e});if(!a)return;const i=a.isFollowed;t(Y({[e]:{isFollowed:!i}}));const o=await Object(y.f)(r(),e,!a.isFollowed),d=Object(U.Q)(n);o.ok?t(Object(v.e)({kind:x.b.SuccessMod,text:Object(c.a)(d,i?"posts.event.successfullyUnfollowed":"posts.event.successfullyFollowed")})):(t(Y({[e]:{isFollowed:i}})),t(Object(v.e)({kind:x.b.Error,text:Object(c.a)(d,"posts.event.followFailed")})))},Re=({postOrComment:e,queryParams:t,clickInfo:s})=>async(r,n)=>{const a=n(),c=s&&s.hasNewTabModifier;let o=e.permalink;t&&(o=Object(i.a)(o,t)),a.user.prefs.openPostInNewTab||c?window.open(o):r(Object(j.a)(o))},Ae="RICH_TEXT_POST_CONTENT_LOADED",we=Object(d.a)(Ae),Pe=e=>async(t,s,r)=>{const n=s(),a=Object(F.F)(n,{postId:e}),i=Object(U.Q)(n);if(!(a&&a.media&&Object(g.z)(a.media)&&a.media.isRichtextPreview))return;const o=await((e,t)=>Object(_.a)(e,Object.assign({},E,{variables:t})))(r.gqlContext(),{postId:e});if(o.ok){const s=o.body.data,r=s.post&&s.post.content&&s.post.content.richtext;r&&t(we({postId:e,richtextContent:JSON.parse(r)}))}else t(Object(v.e)({kind:x.b.Error,text:Object(c.a)(i,"error.genericPage")}))}},"./src/reddit/actions/postCollection/constants.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"f",function(){return c}),s.d(t,"g",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"t",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"r",function(){return l}),s.d(t,"s",function(){return b}),s.d(t,"n",function(){return p}),s.d(t,"l",function(){return O}),s.d(t,"m",function(){return f}),s.d(t,"k",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"j",function(){return g}),s.d(t,"h",function(){return y}),s.d(t,"p",function(){return _}),s.d(t,"q",function(){return E}),s.d(t,"o",function(){return h});const r="CREATE_COLLECTION_PENDING",n="CREATE_COLLECTION_SUCCESS",a="CREATE_COLLECTION_FAILED",c="GET_SUBREDDIT_COLLECTION_SUCCESS",i="REMOVE_POST_FROM_COLLECTION_SUCCESS",o="ADD_POST_TO_COLLECTION_SUCCESS",d="UPDATE_POST_WITH_COLLECTION_ID",u="DELETE_COLLECTION_SUCCESS",l="UPDATE_COLLECTION_PENDING",b="UPDATE_COLLECTION_SUCCESS",p="UPDATE_COLLECTION_FAILED",O="UPDATE_COLLECTION_DESCRIPTION_PENDING",f="UPDATE_COLLECTION_DESCRIPTION_SUCCESS",m="UPDATE_COLLECTION_DESCRIPTION_FAILED",j="REORDER_COLLECTION_PENDING",g="REORDER_COLLECTION_SUCCESS",y="REORDER_COLLECTION_FAILED",_="UPDATE_COLLECTION_LAYOUT_PENDING",E="UPDATE_COLLECTION_LAYOUT_SUCCESS",h="UPDATE_COLLECTION_LAYOUT_FAILED"},"./src/reddit/actions/postCreation/constants.ts":function(e,t,s){"use strict";s.d(t,"J",function(){return r}),s.d(t,"K",function(){return n}),s.d(t,"m",function(){return a}),s.d(t,"n",function(){return c}),s.d(t,"A",function(){return i}),s.d(t,"G",function(){return o}),s.d(t,"H",function(){return d}),s.d(t,"l",function(){return u}),s.d(t,"F",function(){return l}),s.d(t,"q",function(){return b}),s.d(t,"P",function(){return p}),s.d(t,"o",function(){return O}),s.d(t,"y",function(){return f}),s.d(t,"C",function(){return m}),s.d(t,"t",function(){return j}),s.d(t,"c",function(){return g}),s.d(t,"b",function(){return y}),s.d(t,"d",function(){return _}),s.d(t,"e",function(){return E}),s.d(t,"f",function(){return h}),s.d(t,"g",function(){return I}),s.d(t,"h",function(){return S}),s.d(t,"i",function(){return T}),s.d(t,"j",function(){return v}),s.d(t,"k",function(){return C}),s.d(t,"r",function(){return D}),s.d(t,"Q",function(){return R}),s.d(t,"R",function(){return A}),s.d(t,"S",function(){return w}),s.d(t,"T",function(){return P}),s.d(t,"U",function(){return x}),s.d(t,"V",function(){return N}),s.d(t,"W",function(){return k}),s.d(t,"X",function(){return L}),s.d(t,"s",function(){return U}),s.d(t,"D",function(){return M}),s.d(t,"x",function(){return F}),s.d(t,"v",function(){return G}),s.d(t,"w",function(){return B}),s.d(t,"u",function(){return q}),s.d(t,"z",function(){return $}),s.d(t,"O",function(){return V}),s.d(t,"p",function(){return H}),s.d(t,"B",function(){return K}),s.d(t,"Y",function(){return W}),s.d(t,"I",function(){return Q}),s.d(t,"a",function(){return Y}),s.d(t,"E",function(){return z}),s.d(t,"M",function(){return X}),s.d(t,"N",function(){return J}),s.d(t,"L",function(){return Z});const r="SUBMIT_VALIDATION_FIELD_HAS_ERROR",n="SUBMIT_VALIDATION_FIELD_IS_VALID",a="POST_CREATION_EDIT_COMPLETE",c="POST_CREATION_EDIT_FAILED",i="POST_CREATION_PENDING_EDIT",o="POST_CREATION_START_EDITING_POST",d="POST_CREATION_STOP_EDITING_POST",u="EDITOR_CONTENT_KEY__NEW_DRAFT",l="STARTED_CONVERTING_EDITOR_CONTENT",b="FINISHED_CONVERTING_EDITOR_CONTENT",p="POST_CREATION__TOGGLE_EDITOR_MODE",O="POST_CREATION__ERRORS_NO_LONGER_VALID",f="POST_CREATION__OC_CATEGORY_SELECTED",m="POST_TITLE_FETCHED",j="INITIALIZE_EDITOR_MODE",g="POST_CREATION__CHANGE_FLAIR",y="POST_CREATION__CHANGE_EVENT_SCHEDULE",_="POST_CREATION__CHANGE_LINK_BODY",E="POST_CREATION__CHANGE_MARKDOWN_BODY",h="POST_CREATION__CHANGE_MEDIA_BODY",I="POST_CREATION__CHANGE_OC_CATEGORY",S="POST_CREATION__CHANGE_RECAPTCHA",T="POST_CREATION__CHANGE_RTE_STATE",v="POST_CREATION__CHANGE_SUBMISSION_TYPE",C="POST_CREATION__CHANGE_TITLE",D="POST_CREATION__GOV_TYPE_CHANGED",R="POST_CREATION__TOGGLE_IS_CHANGED",A="POST_CREATION__TOGGLE_IS_GOV",w="POST_CREATION__TOGGLE_IS_NSFW",P="POST_CREATION__TOGGLE_IS_OC",x="POST_CREATION__TOGGLE_IS_POLL",N="POST_CREATION__TOGGLE_IS_SPOILER",k="POST_CREATION__TOGGLE_POST_TO_TWITTER",L="POST_CREATION__TOGGLE_SEND_REPLIES",U="POST_CREATION__INITIALIZE_CROSSPOST_MODE",M="POST_CREATION__RESET_FORM",F="POST_CREATION__MODAL_TOGGLED",G="POST_CREATION__MEDIA_UPLOAD_PENDING",B="POST_CREATION__MEDIA_UPLOAD_SUCCEEDED",q="POST_CREATION__MEDIA_UPLOAD_FAILED",$="POST_CREATION__PENDING",V="POST_CREATION__SUCCEEDED",H="POST_CREATION__FAILED",K="POST_CREATION__POLL_FAILED",W="POST_CREATION__VALIDATION_FAILED",Q="POST_CREATION__SUBMIT_VALIDATION_FAILED",Y="POST_CREATION__CAPTCHA_REQUIRED",z="POST_CREATION__SET_SUBMIT_MODE",X="POST_CREATION__SUBREDDIT_CHANGE_PENDING",J="POST_CREATION__SUBREDDIT_WILL_CHANGE",Z="POST_CREATION__SUBREDDIT_CHANGE_CANCELED"},"./src/reddit/actions/postCreation/editorContent.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"d",function(){return j}),s.d(t,"c",function(){return g});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/endpoints/post/convert.ts"),i=s("./src/reddit/helpers/localStorage/index.ts"),o=s("./src/reddit/helpers/trackers/postComposer.ts"),d=s("./src/reddit/models/PostCreationForm/index.ts"),u=s("./src/reddit/models/RichTextJson/index.ts"),l=s("./src/reddit/models/Toast/index.ts"),b=s("./src/reddit/selectors/user.ts"),p=s("./src/reddit/actions/postCreation/constants.ts");const O=Object(n.a)(p.F),f=Object(n.a)(p.q),m=Object(n.a)(p.P),j=(e,t,s)=>async(n,i,{apiContext:j})=>{o.i(i(),t);const y=t===d.h.MARKDOWN,_=t===d.h.RICH_TEXT,E=Object(b.Q)(i()),h=p.l;if(y&&Object(u.E)(s))return n(m({editorKey:e,editorMode:d.h.MARKDOWN,content:""})),void n(g(t));if(_&&!s)return n(m({editorKey:e,editorMode:d.h.RICH_TEXT,content:u.i})),void n(g(t));n(O(h));const I=await Object(c.a)(j(),t,y?JSON.stringify(s):s);I.ok?(n(f(h)),n(m({editorKey:e,editorMode:t,content:I.body.output})),n(g(t))):(n(f(h)),n(Object(a.e)({duration:a.a,kind:l.b.Error,text:Object(r.a)(E,"error.generic")})))},g=e=>async(t,s)=>{const n=Object(i.f)();if(n>=3)return;const c=s().user.prefs.useMarkdown?d.h.MARKDOWN:d.h.RICH_TEXT,o=Object(b.Q)(s());if(e===c)return;const u=e===d.h.MARKDOWN?"postCreation.editorModeModeHintToast.makeMarkdownDefault":"postCreation.editorModeModeHintToast.makeRTEDefault";t(Object(a.e)({buttonAction:async()=>{window.open("/settings/feed")},buttonText:Object(r.a)(o,"postCreation.editorModeModeHintToast.button"),kind:l.b.SuccessCommunity,text:Object(r.a)(o,u)})),Object(i.E)(n+1)}},"./src/reddit/actions/postCreation/general.ts":function(e,t,s){"use strict";s.d(t,"j",function(){return j}),s.d(t,"o",function(){return _}),s.d(t,"s",function(){return E}),s.d(t,"a",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"c",function(){return T}),s.d(t,"d",function(){return v}),s.d(t,"e",function(){return C}),s.d(t,"g",function(){return D}),s.d(t,"f",function(){return R}),s.d(t,"h",function(){return A}),s.d(t,"i",function(){return w}),s.d(t,"k",function(){return P}),s.d(t,"t",function(){return x}),s.d(t,"u",function(){return N}),s.d(t,"v",function(){return k}),s.d(t,"w",function(){return L}),s.d(t,"x",function(){return U}),s.d(t,"z",function(){return M}),s.d(t,"A",function(){return F}),s.d(t,"l",function(){return G}),s.d(t,"r",function(){return B}),s.d(t,"q",function(){return $}),s.d(t,"m",function(){return V}),s.d(t,"y",function(){return H}),s.d(t,"p",function(){return K}),s.d(t,"n",function(){return W});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/isUrl/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/modal.ts"),i=s("./src/reddit/actions/subreddit.ts"),o=s("./src/reddit/contexts/PageLayer/index.tsx"),d=s("./src/reddit/endpoints/post/index.tsx"),u=s("./src/reddit/models/PostCreationForm/index.ts"),l=s("./src/reddit/routes/postCreation/constants.ts"),b=s("./src/reddit/selectors/platform.ts"),p=s("./src/reddit/selectors/postCollection.ts"),O=s("./src/reddit/selectors/postCreations.ts"),f=s("./src/reddit/selectors/subreddit.ts"),m=s("./src/reddit/actions/postCreation/constants.ts");const j=Object(a.a)(m.o),g=Object(a.a)(m.y),y=Object(a.a)(m.C),_=(Object(a.a)(m.t),e=>{switch(e){case"markdown":return"self";case"richtext":case"richText":return"self";case"media":return"media";default:return"link"}}),E=e=>async(t,s,{apiContext:r})=>{t(g(e)),Object(f.s)(s(),e).length>0||t(Object(i.p)(e))},h=Object(a.a)(m.b),I=Object(a.a)(m.c),S=Object(a.a)(m.d),T=Object(a.a)(m.e),v=Object(a.a)(m.f),C=Object(a.a)(m.g),D=Object(a.a)(m.h),R=Object(a.a)(m.i),A=Object(a.a)(m.j),w=Object(a.a)(m.k),P=Object(a.a)(m.r),x=Object(a.a)(m.Q),N=(Object(a.a)(m.R),Object(a.a)(m.S)),k=Object(a.a)(m.T),L=Object(a.a)(m.U),U=Object(a.a)(m.V),M=Object(a.a)(m.W),F=Object(a.a)(m.X),G=Object(a.a)(m.s),B=e=>async(t,s,{apiContext:r})=>{t(S(e)),Object(n.a)(e)&&t((e=>async(t,s,{apiContext:r})=>{const n=await Object(d.e)(r(),e);n.ok&&n.body&&n.body.json&&n.body.json.data&&t(y(n.body.json.data))})(e))},q=Object(a.a)(m.D),$=(e,t)=>async(s,n)=>{s(q()),s(e?Object(r.b)(l.c):Object(r.b)(Object(O.R)(n(),{pageLayer:t})))},V=Object(a.a)(c.c),H=e=>async t=>{e?e===u.d?t(V(e)):t(c.i(e)):(t(V(e)),t(c.i(e)))},K=e=>async(t,s)=>{const r=s(),n=Object(o.I)(e),a=Object(O.y)(r);if(n&&a){Object(O.J)(r)!==u.c&&t(H(u.c))}else t($(!1,e))},W=()=>async(e,t)=>{const s=t(),r=Object(b.f)(s);r&&(Object(p.m)(s,{subredditId:r.id})?e(c.i(u.a)):e(c.i(u.b)))}},"./src/reddit/actions/postCreation/subredditChange.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"a",function(){return S}),s.d(t,"d",function(){return T}),s.d(t,"c",function(){return v});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/addQueryParams/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/filterQueryParams/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/modal.ts"),d=s("./src/reddit/actions/pages/postCreation.ts"),u=s("./src/reddit/contexts/PageLayer/selectors.ts"),l=s("./src/reddit/helpers/name/index.ts"),b=s("./src/reddit/models/PostCreationForm/index.ts"),p=s("./src/reddit/routes/postCreation/index.ts"),O=s("./src/reddit/routes/postCreation/constants.ts"),f=s("./src/reddit/selectors/platform.ts"),m=s("./src/reddit/selectors/postCreations.ts"),j=s("./src/reddit/selectors/subreddit.ts"),g=s("./src/reddit/actions/postCreation/constants.ts"),y=s("./src/reddit/actions/postCreation/general.ts");const _=Object(i.a)(g.M),E=Object(i.a)(g.N),h=Object(i.a)(g.L),I=(e,t)=>async(s,r,{apiContext:n})=>{let c=r();const i=e.name,p=e.isProfile,O=Object(f.f)(c),g=O&&!p&&Object(l.a)(O.name,i),y=c.creations.api.subreddit.change.pending;if(g||y)return;const E=Object(u.v)(t);if(p||!i||!Object(m.u)(c))return void s(S(e,E));s(_(e)),await s(Object(d.d)({subredditName:i}));const h=e.allowedPostTypes||Object(j.B)(r(),{subredditName:i});if(!h)return void s(S(e,E));let I;c=r();const T=Object(m.Z)(c),v=Object(m.u)(c);if(T===a.gc.MEDIA&&v){var C=Object(m.H)(c);const e=C.mediaType,t=C.video;if("image"!==e||h.images){if("video"===e&&!h.videos){const e=t&&t.duration||0;h.images?e>a.hb&&(I=b.p.VideoWillBeRemovedTooLongForGif):I=b.p.VideoWillBeRemovedMediaNotAllowed}}else I=b.p.ImageWillBeRemoved}s(I?Object(o.i)(I):S(Object.assign({},e,{allowedPostTypes:h}),E))},S=(e,t,s=!0)=>async(a,c)=>{const i=e.name,o=e.isProfile,d=c().platform.currentPage,u=d.queryParams,l=o?p.b:p.c;let b="";b=i?l(i):Object(p.d)(d.routeMatch.match.path)&&t!==u.draft?O.a:O.c,b=Object(n.a)(b,Object.assign({},u,{draft:t||u.draft})),(t||d.url.toLowerCase()!==b.toLowerCase())&&(a(E(e)),s&&a(Object(y.t)(!0)),a(Object(r.c)(b)))},T=e=>async(t,s)=>{const a=s().platform.currentPage,c=a.queryParams,i=Object(n.a)(a.url,Object.assign({},c,{collection:e}));t(Object(r.c)(i))},v=()=>async(e,t)=>{const s=t().platform.currentPage,n=Object(c.a)(s.url,["collection"]);e(Object(r.c)(n))}},"./src/reddit/actions/postDraft.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/formatApiError/index.ts"),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/reddit/actions/postCreation/general.ts"),i=s("./src/reddit/actions/postCreation/subredditChange.ts"),o=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/contexts/PageLayer/selectors.ts"),u=s("./src/app/models/StructuredStylesImageUpload.ts"),l=s("./src/lib/makeApiRequest/index.ts"),b=s("./src/lib/omitHeaders/index.ts");var p=s("./src/reddit/constants/headers.ts"),O=s("./src/reddit/helpers/name/index.ts"),f=s("./src/reddit/models/PostDraft/index.ts"),m=s("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts"),j=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),g=s("./src/reddit/models/Subreddit/index.ts");const y=e=>{let t=e.drafts.reduce((e,t)=>{const s=(e=>{let t;return t="link"===e.kind?{kind:f.b.Link,body:e.body||void 0}:"markdown"===e.kind?{kind:f.b.Markdown,body:e.body||void 0}:{kind:f.b.RichText,body:e.body||void 0},Object.assign({subredditId:e.subreddit||void 0,contentCategory:e.content_category||void 0,created:e.created,flair:e.flair,id:e.id,isNSFW:!!e.nsfw,isOriginalContent:!!e.original_content,isSpoiler:!!e.spoiler,modified:e.modified||void 0,sendReplies:!!e.send_replies,isPublicLink:!!e.is_public_link,title:e.title||""},t)})(t);return e.postDraftIds.push(s.id),e.postDrafts[s.id]=s,e},{postDraftIds:[],postDrafts:{},profiles:{},subreddits:{}});return t=e.subreddits.reduce((e,t)=>{if(t.subreddit_type===g.b.User){const s=Object(m.a)(t,Object(O.f)(t.display_name_prefixed));e.profiles[s.id]=s}else{const s=Object(j.a)(t);e.subreddits[s.id]=s}return e},t)};var _=s("./src/reddit/endpoints/post/draft/helpers.ts"),E=s("./src/reddit/models/PostCreationForm/index.ts"),h=s("./src/reddit/helpers/trackers/postComposer.ts"),I=s("./src/reddit/models/Toast/index.ts"),S=s("./src/reddit/models/User/index.ts"),T=s("./src/reddit/selectors/postCreations.ts"),v=s("./src/reddit/selectors/postDraft.ts"),C=s("./src/reddit/selectors/profile.ts"),D=s("./src/reddit/selectors/subreddit.ts"),R=s("./src/reddit/selectors/user.ts");s.d(t,"f",function(){return A}),s.d(t,"e",function(){return w}),s.d(t,"d",function(){return P}),s.d(t,"p",function(){return L}),s.d(t,"j",function(){return U}),s.d(t,"l",function(){return M}),s.d(t,"i",function(){return F}),s.d(t,"m",function(){return G}),s.d(t,"k",function(){return B}),s.d(t,"h",function(){return q}),s.d(t,"n",function(){return $}),s.d(t,"s",function(){return z}),s.d(t,"r",function(){return X}),s.d(t,"g",function(){return J}),s.d(t,"q",function(){return ee}),s.d(t,"c",function(){return te}),s.d(t,"a",function(){return se}),s.d(t,"b",function(){return re}),s.d(t,"o",function(){return ie});const A="POST_DRAFT__LIST_PENDING",w="POST_DRAFT__LIST_LOADED",P="POST_DRAFT__LIST_FAILED",x=Object(a.a)(A),N=Object(a.a)(w),k=Object(a.a)(P),L=()=>async(e,t,{apiContext:s})=>{const n=t();if(!Object(R.j)(n)||Object(v.b)(n))return;e(x());const a=await(e=>Object(l.c)(Object(b.a)(e,[p.a]),{endpoint:`${e.apiUrl}/api/v1/drafts.json`,method:r.jb.GET}))(s());a.ok?e(N(y(a.body))):e(k(a.error))},U="POST_DRAFT__SAVE_DRAFT_PENDING",M="POST_DRAFT__SAVE_DRAFT_SUCCEEDED",F="POST_DRAFT__SAVE_DRAFT_FAILED",G="POST_DRAFT__SAVE_DRAFT_VALIDATION_FAILED",B="POST_DRAFT__SAVE_DRAFT_SUBMIT_VALIDATION_FAILED",q="POST_DRAFT__SAVE_DRAFT_CAPTCHA_REQUIRED",$="POST_CREATION__TOGGLE_DRAFT_IS_PUBLIC",V=Object(a.a)(U),H=Object(a.a)(M),K=Object(a.a)(F),W=Object(a.a)(G),Q=Object(a.a)(B),Y=Object(a.a)(q),z=Object(a.a)($),X=e=>async(t,s,{apiContext:a})=>{const c=s(),d=Object(v.g)(c),u=Object(T.Q)(c);if(d||u)return;const O=Object(v.h)(c,e);if(!O)return;t(V(O)),h.e(c,O);const f=await((e,t,s)=>Object(l.c)(Object(b.a)(e,[p.a]),{endpoint:`${e.apiUrl}/api/v1/draft`,method:s?r.jb.PUT:r.jb.POST,data:Object(_.a)(t)}).then(e=>e.body.fields&&Object(E.u)(e.body.fields[0])?Object.assign({},e,{body:{},error:{type:r.I.SUBMIT_VALIDATION_ERROR,fields:[{field:e.body.fields[0],msg:e.body.explanation}]}}):e))(a(),O,e);if(f.ok){var m=Object(_.c)(f.body);const s=m.id,r=m.draftsCount;t(H({draftId:s,draftsCount:r})),e||t(Object(i.a)(O.destSubreddit,s,!1))}else{const e=f.error;e.type===r.I.BAD_CAPTCHA_ERROR?t(Y()):e.type===r.I.VALIDATION_ERROR?t(W(e)):e.type===r.I.SUBMIT_VALIDATION_ERROR?t(Q(e)):t(K(e));const s=Object(R.Q)(c);t(Object(o.e)({duration:o.a,kind:I.b.Error,text:Object(n.a)(s,e)}))}},J="POST_DRAFT__LOAD_DRAFT",Z=Object(a.a)(J),ee=e=>async(t,s,{apiContext:r})=>{t(Z(e));let n=E.e;const a=s();if(e.subredditId){const t=Object(D.S)(a,{subredditId:e.subredditId}),s=Object(C.p)(a,{profileId:e.subredditId}),r=Object(R.j)(a);t?n={isProfile:!1,name:t.name}:s&&r&&(n={isProfile:!0,name:Object(S.f)(r)})}await t(Object(i.a)(n,e.id,!1));const c=Object(v.h)(s(),e.id);c&&h.h(s(),c)},te="POST_DELETE_DRAFT_SUCCEEDED",se="POST_DELETE_DRAFT_FAILED",re="POST_DELETE_DRAFT_PENDING",ne=Object(a.a)(te),ae=Object(a.a)(se),ce=Object(a.a)(re),ie=(e,t)=>async(s,a,{apiContext:i})=>{const p=a();if(Object(v.a)(p,e))return;const O=Object(v.d)(p,{draftId:e});O&&h.f(p,O),s(ce({draftId:e}));const f=await(async(e,t)=>Object(l.c)(Object(b.a)(e,[u.a]),{endpoint:`${e.apiUrl}/api/v1/draft?draft_id=${t}`,method:r.jb.DELETE}))(i(),e);if(f.ok){const r=Object(_.c)(f.body).draftsCount;s(ne({draftId:e,draftsCount:r}));const n=Object(d.v)(t);e===n&&s(Object(c.q)(!0,t))}else{const t=f.error,r=Object(R.Q)(a());s(ae({draftId:e,apiError:t})),s(Object(o.e)({duration:o.a,kind:I.b.Error,text:Object(n.a)(r,t)}))}}},"./src/reddit/actions/postFlair.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return f}),s.d(t,"a",function(){return y}),s.d(t,"f",function(){return I}),s.d(t,"b",function(){return C}),s.d(t,"e",function(){return w}),s.d(t,"d",function(){return P}),s.d(t,"l",function(){return L}),s.d(t,"k",function(){return U}),s.d(t,"j",function(){return M}),s.d(t,"g",function(){return F}),s.d(t,"i",function(){return G}),s.d(t,"h",function(){return B});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/post.ts"),c=s("./src/reddit/actions/postFlairStyleTemplate.ts"),i=s("./src/reddit/actions/toaster.ts"),o=s("./src/reddit/endpoints/flair/index.ts"),d=s("./src/reddit/helpers/flair.ts"),u=s("./src/reddit/models/Flair/index.ts"),l=s("./src/reddit/models/Toast/index.ts"),b=s("./src/reddit/selectors/postFlair.ts"),p=s("./src/reddit/selectors/subreddit.ts"),O=s("./src/reddit/selectors/user.ts");const f="STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_SUCCESS",m=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_PENDING"),j=Object(n.a)(f),g=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ENABLED_SETTING_FAILED"),y="STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",_=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),E=Object(n.a)(y),h=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),I="STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_SUCCESS",S=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_PENDING"),T=Object(n.a)(I),v=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_SAVETEMPLATE_FAILED"),C="STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_SUCCESS",D=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_PENDING"),R=Object(n.a)(C),A=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_DELETETEMPLATE_FAILED"),w="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_PENDING",P="STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_FAILED",x=Object(n.a)(w),N=Object(n.a)("STRUCTURED_STYLES__POSTFLAIR_REORDERTEMPLATES_SUCCESS"),k=Object(n.a)(P),L=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(p.S)(a,{subredditId:e}).name;s(m());const i=await Object(o.j)(n(),c,t);if(i.ok){s(j({subredditId:e,isEnabled:t}))}else s(g());return i.ok},U=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(p.S)(a,{subredditId:e}).name;s(_());const i=await Object(o.i)(n(),t,u.d.LinkFlair,c);if(i.ok){s(E({subredditId:e,canAssignOwn:t}))}else s(h());return i.ok},M=(e,t)=>async(s,n,{apiContext:a})=>{const d=n(),b=Object(p.S)(d,{subredditId:t}).name,f=Object(O.Q)(d);s(S());const m=await Object(o.e)(a(),e,b,u.d.LinkFlair);let j=m.ok&&!(m.body&&!1===m.body.success);if(j){const r=m.body;if(s(T({subredditId:t,template:r})),r.id){const n=e.styleTemplate,a=d.structuredStyles.flairTemplate.models[r.id];n?j=await s(Object(c.d)(t,r.id,n)):a&&(j=await s(Object(c.c)(t,r.id)))}}if(j){const e=Object(i.d)(Object(r.a)(f,"structuredStyles.forms.flair.toast.flairSaved"),l.b.SuccessMod);s(Object(i.e)(e))}else{s(v());const n=Object(i.d)(Object(r.a)(f,"structuredStyles.forms.flair.toast.flairNotSaved"),l.b.Error,Object(r.a)(f,"structuredStyles.forms.flair.toast.retryButtonText"),M(e,t));s(Object(i.e)(n))}return j},F=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),d=Object(p.S)(c,{subredditId:t}).name,u=Object(O.Q)(c);if(s(D()),(await Object(o.b)(a(),e,d)).ok){s(R({subredditId:t,templateId:e}));const n=Object(i.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairDeleted"),l.b.SuccessMod);s(Object(i.e)(n))}else{s(A());const n=Object(i.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairNotDeleted"),l.b.Error,Object(r.a)(u,"structuredStyles.forms.flair.toast.retryButtonText"),F(e,t));s(Object(i.e)(n))}},G=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),d=Object(b.c)(c,{subredditId:t}).templateIds,f=Object(p.S)(c,{subredditId:t}).name,m=Object(O.Q)(c);if(s(x({subredditId:t,templateIds:e})),(await Object(o.d)(a(),f,u.d.LinkFlair,e)).ok){s(N());const e=Object(i.d)(Object(r.a)(m,"structuredStyles.forms.flair.toast.flairReorderSuccess"),l.b.SuccessMod);s(Object(i.e)(e))}else{s(k({subredditId:t,templateIds:d}));const n=Object(i.d)(Object(r.a)(m,"structuredStyles.forms.flair.toast.flairReorderFailure"),l.b.Error,Object(r.a)(m,"structuredStyles.forms.flair.toast.retryButtonText"),G(e,t));s(Object(i.e)(n))}},B=({post:e,previewFlair:t,selectedTemplateId:s})=>async(r,n,{apiContext:c})=>{const i=e.flair.filter(e=>!Object(d.n)(e.type));if(t&&i.unshift(t),r(Object(a.B)({[e.id]:{flair:i}})),t){const r=Object(d.f)(t);Object(o.g)(c(),e.id,s,r)}else Object(o.g)(c(),e.id,"","")}},"./src/reddit/actions/postFlairStyleTemplate.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/forEach.js"),n=s.n(r),a=s("./node_modules/lodash/isEqual.js"),c=s.n(a),i=s("./node_modules/lodash/values.js"),o=s.n(i),d=s("./src/lib/makeActionCreator/index.ts"),u=s("./src/reddit/actions/imageUploads.ts"),l=s("./src/reddit/helpers/media/index.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/lib/omitHeaders/index.ts"),f=s("./src/reddit/constants/headers.ts");var m=s("./src/reddit/helpers/trackers/blade.ts"),j=s("./src/reddit/models/Image/index.tsx"),g=s("./src/reddit/selectors/subreddit.ts"),y=s("./src/telemetry/index.ts");s.d(t,"b",function(){return h}),s.d(t,"d",function(){return S}),s.d(t,"a",function(){return T}),s.d(t,"c",function(){return C});var _=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const E=({subredditId:e,flairId:t,imageKey:s,imageData:r})=>async(n,a,c)=>{const i=a(),o=Object(g.S)(i,{subredditId:e});if(!o)return!1;n(Object(u.k)(r));const d=await(async(e,t,s,r,n,a)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_style_asset_upload_s3/${s}`,method:b.jb.POST,data:{filepath:r,imagetype:n,mimetype:a}}))(c.apiContext(),o.name,t,r.file.name,s,await Object(l.g)(r.file));let m=!1;try{const e=await Object(u.g)(a(),d,r,j.a.FlairTemplates);e&&n(Object(u.j)(e)),m=!0}catch(y){if(y instanceof Error)throw y;n(Object(u.i)(y))}return m},h="POSTFLAIR_STYLETEMPLATE_SAVED_SUCCESS",I=Object(d.a)(h),S=(e,t,s)=>async(r,a,i)=>{const d=i.apiContext;let l=a();const h=s.pendingImages;let S=_(s,["pendingImages"]);const T=Object(g.S)(l,{subredditId:e});if(!T)return!1;const v=l.structuredStyles.flairTemplate.models[t];if(v&&c()(v,S))return!0;if(h){const s=[];if(n()(h,(n,a)=>{n&&s.push(r(E({flairId:t,imageData:Object(j.l)(n),imageKey:a,subredditId:e})))}),!(await Promise.all(s)).every(e=>e))return!1;S=((e,t,s)=>{const r=Object.assign({},e);return n()(t,(e,t)=>{const n=e&&s.imageUploads[e.id];n&&n.kind===j.b.TempUploaded&&(r[t]=n.url)}),r})(S,h,a())}l=a();let C=null,D=null;const R=[];try{(C=await Object(u.f)(l,j.a.FlairTemplates))&&(D=Object(u.m)(C)(r,a,i),R.push(...o()(C.imagesByKey)))}catch(x){return!1}const A=await(async(e,t,s,r)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_styles/${s}`,method:b.jb.PUT,data:r}))(d(),T.name,t,S),w=v?"edit_post_flair_template":"save_post_flair_template",P=Object(m.e)(l,w);if(A.ok){let e;if(D)try{await D,e=((e,t,s)=>{const r=Object.assign({},e);return t.forEach(e=>{const t=s.imageUploads[e.id];t&&t.kind===j.b.Uploaded&&(e.url===r.postBackgroundImage?r.postBackgroundImage=t.url:e.url===r.postPlaceholderImage&&(r.postPlaceholderImage=t.url))}),r})(S,R,a())}catch(x){e=null}else e=S;r(I({flairId:t,template:e||S}))}else C&&C.websocket.close();return Object(y.a)(Object.assign({},P,{actionInfo:Object.assign({},P.actionInfo,{success:A.ok})})),A.ok},T="POSTFLAIR_STYLETEMPLATE_DELETED_SUCCESS",v=Object(d.a)(T),C=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(g.S)(a,{subredditId:e});if(!c)return!1;const i=await(async(e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_styles/${s}`,method:b.jb.DELETE}))(n(),c.name,t),o=Object(m.e)(a,"delete_flair_template");return i.ok&&s(v({flairId:t})),Object(y.a)(Object.assign({},o,{actionInfo:Object.assign({},o.actionInfo,{success:i.ok})})),i.ok}},"./src/reddit/actions/postList.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=(s("./src/reddit/actions/embedAndImage.ts"),s("./src/reddit/actions/video.ts"),s("./src/reddit/helpers/trackers/postList.ts"));s("./src/reddit/constants/postLayout.ts"),s("./src/reddit/selectors/platform.ts"),s("./src/reddit/selectors/posts.ts");s("./src/reddit/selectors/video.ts");s.d(t,"a",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"c",function(){return d});const a="POSTLIST__MARKED_END",c="POSTLIST__UNMARKED_END",i=Object(r.a)(a),o=Object(r.a)(c),d=(e,t)=>async(s,r)=>{const a=r();e in a.listings.postOrder.fetchedTokens?e in a.listings.postOrder.ids?s(o({listingKey:e})):n.j(a,e):s(i({listingKey:e,listingName:t}))}},"./src/reddit/actions/product.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"g",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"h",function(){return O}),s.d(t,"i",function(){return E}),s.d(t,"j",function(){return h});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/governance/errorToast.ts"),a=s("./src/reddit/endpoints/governance/badges.ts"),c=s("./src/reddit/endpoints/governance/products/badges.ts");const i="PRODUCT__BADGE_PURCHASE_OPENED",o="PRODUCT__BADGE_PURCHASE_SUCCESS",d="PRODUCT__BADGE_PURCHASE_FAILURE",u="PRODUCT__BADGE_PURCHASE_PENDING",l="PRODUCT__FETCH_SUCCESS",b="PRODUCT__FETCH_FAILURE",p="PRODUCT__FETCH_PENDING",O=Object(r.a)(i),f=Object(r.a)(o),m=Object(r.a)(d),j=Object(r.a)(u),g=Object(r.a)(l),y=Object(r.a)(b),_=Object(r.a)(p),E=({productId:e})=>async(t,s,{apiContext:r})=>{const i=s(),o=i.products.models[e],d=i.user.account,u=!!i.products.api.purchase.pending[e];if(o&&o.price&&!u){t(j({productId:e}));const s=await Object(c.b)(r(),{price:o.price,products:{[e]:"1"},subredditId:o.subredditId});let i;if(s.ok&&d&&(i=await Object(a.c)(r(),o.subredditId,d.id)),s.ok){if(i&&i.ok){var l=i.body;const e=l.badges,r=l.userOwnedBadges;t(f({product:o,badges:e,userOwnedBadges:r,wallet:s.body.wallet}))}}else t(m({productId:e,error:s.error})),Object(n.a)(t,s.error)}},h=({subredditId:e})=>async(t,s,{apiContext:r})=>{t(_({subredditId:e}));const n=await Object(c.a)(r(),e);n.ok?t(g({subredditId:e,products:n.body})):t(y({subredditId:e,error:n.error}))}},"./src/reddit/actions/profile/constants.ts":function(e,t,s){"use strict";s.d(t,"k",function(){return r}),s.d(t,"j",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"a",function(){return i}),s.d(t,"l",function(){return o}),s.d(t,"m",function(){return d}),s.d(t,"f",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"d",function(){return b}),s.d(t,"i",function(){return p}),s.d(t,"h",function(){return O}),s.d(t,"g",function(){return f});const r="PROFILE__PROFILE_INFO_LOADED",n="PROFILE__PROFILE_INFO_FAILED",a="PROFILE__MODERATED_SUBREDDITS_PENDING",c="PROFILE__MODERATED_SUBREDDITS_LOADED",i="PROFILE__MODERATED_SUBREDDITS_FAILED",o="PROFILE__RECEIVED_MODERATED_SUBREDDITS_MODELS",d="PROFILE__RECEIVED_MODERATED_SUBREDDITS_SUBSCRIPTIONS",u="MORE__PROFILE_GQL_MODERATED_PENDING",l="MORE__PROFILE_GQL_MODERATED_LOADED",b="MORE__PROFILE_GQL_MODERATED_FAILED",p="PROFILE__MULTIREDDITS_PENDING",O="PROFILE__MULTIREDDITS_LOADED",f="PROFILE__MULTIREDDITS_FAILED"},"./src/reddit/actions/profile/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/reddit/actions/pages/profilePrivate/constants.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");var d=s("./src/graphql/operations/ModeratedSubreddits.json"),u=s("./src/lib/makeGqlRequest/index.ts");var l=s("./src/graphql/operations/RedditorMultireddits.json");var b=s("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),p=s("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts");var O=s("./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts"),f=s("./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts"),m=s("./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts");var j=s("./src/reddit/models/User/index.ts"),g=s("./src/reddit/selectors/profile.ts"),y=s("./src/reddit/selectors/subscriptions.ts"),_=s("./src/reddit/selectors/user.ts"),E=s("./src/reddit/actions/profile/constants.ts");s.d(t,"a",function(){return R}),s.d(t,"d",function(){return A}),s.d(t,"b",function(){return w}),s.d(t,"c",function(){return k}),s.d(t,"e",function(){return F});const h=Object(r.a)(E.k),I=Object(r.a)(E.j),S=Object(r.a)(E.c),T=Object(r.a)(E.b),v=Object(r.a)(E.a),C=Object(r.a)(E.l),D=Object(r.a)(E.m),R=()=>async(e,t,{apiContext:s})=>{const r=Object(_.j)(t());r&&r.profileId&&await e(A(Object(j.f)(r)))},A=e=>async(t,s,{apiContext:r})=>{const a=s();if(!(!Object(g.j)(a,{profileName:e})||!Object(g.h)(a,{profileName:e})))return;const d=await((e,t)=>Object(c.c)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/user/${t}/about.json`,method:n.jb.GET,data:{gilding_detail:1,awarded_detail:1,raw_json:1}}))(r(),e);d.ok?t(h(function(e){const t=e.data;return Object.assign({about:Object(f.a)(t),banner:t.subreddit&&t.subreddit.banner_img&&{height:t.subreddit.banner_size[1],url:t.subreddit.banner_img,width:t.subreddit.banner_size[0]},user:Object(O.a)(t),features:t.features},t.subreddit?{profile:Object(m.a)(t.subreddit,t.name)}:null)}(d.body))):t(I(d.body))},w=e=>async(t,s,{apiContext:r})=>{const a={profileName:e};if(Object(g.a)(s(),a))return;if(Object(g.k)(s(),a))return;t(S(a));const d=await((e,t)=>Object(c.c)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/user/${t}/moderated_subreddits.json`,method:n.jb.GET,data:{raw_json:1}}))(r(),e);if(d.ok){const r=function(e){return e?e.map(e=>({communityIcon:e.community_icon,displayText:e.sr_display_name_prefixed,icon:{height:e.icon_size?e.icon_size[1]:0,url:e.icon_img?e.icon_img:"",width:e.icon_size?e.icon_size[0]:0},id:e.name,isNSFW:e.over_18,isQuarantined:!!e.quarantine,name:"user"===e.subreddit_type?e.sr.slice(n.uc.length):e.sr,primaryColor:e.primary_color,subscribers:e.subscribers,title:e.title,type:e.subreddit_type,url:e.url,wls:e.wls})):[]}(d.body.data);t(T({profileName:e,data:r}));const a={},c={};if(r.forEach(e=>{("user"===e.type?c:a)[e.id]=e}),t(C({subreddits:a,profiles:c})),!Object(y.g)(s())){const e=(e=>{const t=e.filter(e=>e.user_is_subscriber);return{subredditOrder:t.filter(e=>"user"!==e.subreddit_type).map(e=>e.name),profileOrder:t.filter(e=>"user"===e.subreddit_type).map(e=>e.name)}})(d.body.data||[]);t(D(e))}}else t(v(d.body))},P=Object(r.a)(E.f),x=Object(r.a)(E.e),N=Object(r.a)(E.d),k=e=>async(t,s,r)=>{const n=s(),c=e.toLowerCase(),i=n.profiles.moderated.pageInfo;if(!i[c]||!i[c].hasNextPage||!i[c].endCursor)return;t(P({profileName:c}));const o=await((e,t)=>Object(u.a)(e,Object.assign({},d,{variables:t})))(r.gqlContext(),{name:c,after:i[c].endCursor,first:a.h}),l=o.body.data;if(o.ok){const e=Object(p.b)(l.redditor.moderatedSubreddits);t(x(Object.assign({profileName:c},e)))}else t(N(o.error))},L=Object(r.a)(E.i),U=Object(r.a)(E.h),M=Object(r.a)(E.g),F=(e,t)=>async(s,r,c)=>{const i=r(),o=e.toLowerCase(),d={profileName:o};if(Object(g.b)(i,d))return;if(!t&&Object(g.l)(i,d))return;const p=i.profiles.multireddits.pageInfo;if(t&&(!p[o]||!p[o].hasNextPage||!p[o].endCursor))return;s(L(d));const O=await((e,t)=>Object(u.a)(e,Object.assign({},l,{variables:t})))(c.gqlContext(),{name:o,first:t?a.h:n.Yb,after:t?p[o].endCursor:void 0}),f=O.body.data;if(O.ok){const e=f.redditorInfoByName.multireddits.edges.map(e=>e.node),t=Object(b.b)(e);s(U(Object.assign({},d,t,{pageInfo:f.redditorInfoByName.multireddits.pageInfo,multiredditsModelsState:i.multireddits.models})))}else s(M(Object.assign({},d,{error:O.error})))}},"./src/reddit/actions/profileConversations.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/difference.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),i=s("./src/lib/constants/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/reddit/actions/pages/profileShared.ts"),u=s("./src/reddit/constants/parameters.ts"),l=s("./src/reddit/constants/things.ts"),b=s("./src/config.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/reddit/models/RichTextJson/addRTJParam.ts");var f=s("./src/reddit/helpers/makeProfileListingKey/index.ts");s.d(t,"f",function(){return m}),s.d(t,"e",function(){return j}),s.d(t,"d",function(){return g}),s.d(t,"c",function(){return y}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"h",function(){return D}),s.d(t,"g",function(){return R});const m="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_PENDING",j="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_LOADED",g="PROFILE_OVERVIEW_CONVERSATIONS__MORE_POSTS_FAILED",y="PROFILE__EXTRACOMMENTS_PENDING",_="PROFILE__EXTRACOMMENTS_LOADED",E="PROFILE__EXTRACOMMENTS_FAILED",h=Object(o.a)(m),I=Object(o.a)(j),S=Object(o.a)(g),T=Object(o.a)(_),v=Object(o.a)(y),C=Object(o.a)(E),D=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var o=a.routeMatch.match;const l=o.queryParams,m=o.params;var j=Object(d.a)(r,l);const g=j.sort,y=j.t,_=m.profileName,E=_.toLowerCase(),T=Object(f.a)(E,i.tb,g,l),v=r.listings.postOrder.loadMore[T];if(!v)return;const C=r.listings.postOrder.api.pending[T],D=r.listings.postOrder.fetchedTokens,R=!(!D[T]||!D[T][v.token]);if(C||R)return;e(h({key:T,fetchedToken:v.token}));const A=await((e,t,s)=>Object(p.c)(e,{data:s,endpoint:Object(O.a)(`${b.a.gatewayUrl}/desktopapi/v1/user/${t}/conversations`),method:i.jb.GET}))(s(),_,Object.assign({after:v.token,dist:v.dist,sort:g,t:y},c()(l,u.j)));if(A.ok){const t=r.listings.postOrder.ids[T],s=Object.assign({},A.body,{postIds:n()(A.body.postIds,t)});e(I(Object.assign({fetchedToken:v.token,key:T,meta:r.meta,profileName:_},s)))}else e(S({error:A.error,fetchedToken:v.token,key:T,account:A.body.data?A.body.data.account:null}))},R=(e,t,s)=>async(r,n,{apiContext:a})=>{if(n().profileOverviewPage.conversations.extraComments.api.pending[s])return;r(v({extraCommentsId:s}));let c=t;t.startsWith(l.b)&&(c=t.slice(l.b.length));const o=s.split("-")[1],d=await((e,t,s,r)=>Object(p.c)(e,{endpoint:Object(O.a)(`${b.a.gatewayUrl}/desktopapi/v1/user/${t}/morecomments/${s}`),method:i.jb.GET,type:"json",data:{after:r,limit:14}}))(a(),e,c,o);d.ok?r(T(Object.assign({profileName:e,extraCommentsId:s},d.body))):r(C(d.body))}},"./src/reddit/actions/profileOverviewChrono.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"d",function(){return _});var r=s("./node_modules/lodash/difference.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/helpers/makeProfileListingKey/index.ts"),d=s("./src/reddit/selectors/profileOverviewChronoItems.ts"),u=s("./src/lib/constants/index.ts"),l=s("./src/reddit/constants/parameters.ts"),b=s("./src/reddit/actions/pages/profileShared.ts"),p=s("./src/reddit/endpoints/page/profileOverviewPage.ts");const O="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_PENDING",f="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_LOADED",m="PROFILE_OVERVIEW_CHRONO__MORE_ITEMS_FAILED",j=Object(i.a)(O),g=Object(i.a)(f),y=Object(i.a)(m),_=()=>async(e,t,{apiContext:s})=>{const r=t(),a=r.platform.currentPage;if(!a||!a.routeMatch)return;var i=a.routeMatch.match;const O=i.queryParams,f=i.params;var m=Object(b.a)(r,O);const _=m.sort,E=m.t,h=f.profileName,I=Object(o.a)(h,u.sb,_,O),S=Object(d.d)(r,{listingKey:I});if(!S)return;const T=Object(d.b)(r,{listingKey:I}),v=Object(d.c)(r,{listingKey:I}),C=v&&v[S.token];if(T||C)return;e(j({key:I,fetchedToken:S.token}));const D=await Object(p.a)(s(),h,Object.assign({after:S.token,dist:S.dist,sort:_,t:E},c()(O,l.j)));if(D.ok){const t=Object(d.f)(r,{listingKey:I}),s=Object.assign({},D.body,{overviewIds:n()(D.body.overviewIds,t)});e(g(Object.assign({fetchedToken:S.token,key:I,meta:r.meta},s)))}else e(y({error:D.error,fetchedToken:S.token,key:I,account:D.body.data?D.body.data.account:null}))}},"./src/reddit/actions/recommendations.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/config.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");s.d(t,"a",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return O}),s.d(t,"d",function(){return f});var d=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const u="RECOMMENDED_POSTS_FAILED",l="RECOMMENDED_POSTS_LOADED",b=Object(r.a)(l),p=Object(r.a)(u),O=e=>{var t=e.postId,s=d(e,["postId"]);return`recommended-${t}-${JSON.stringify(s)}`},f=e=>async(t,s,{apiContext:r})=>{const d=s(),u=O(e),l=await((e,t)=>{const s={enabled:t.enabled,link_id:t.postId,max_rec_age:t.maxAge,num_recs:t.count,return_subpar_recs:t.returnSubparRecs,with_ads:t.withAds};return Object(c.c)(e,{endpoint:Object(i.a)(Object(o.a)(`${n.a.gatewayUrl}/desktopapi/v1/recommended_posts`)),method:a.jb.GET,data:s})})(r(),e);l.ok?t(b(Object.assign({key:u,meta:d.meta},l.body))):t(p(l.error))}},"./src/reddit/actions/redditEmbed.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"a",function(){return i}),s.d(t,"c",function(){return l});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/endpoints/me/index.ts"),a=s("./src/reddit/helpers/pageActionLoginRedirect.ts");const c="REDDIT_EMBED_LOADED",i="REDDIT_EMBED_FAILED",o=Object(r.a)("REDDIT_EMBED_PENDING"),d=Object(r.a)(c),u=Object(r.a)(i),l=(e,t)=>async(e,s,{apiContext:r})=>{const c=s();e(o());const i=await Object(n.a)(r());i.ok&&i.body?!t||i.body.account?e(d(i.body)):Object(a.a)(e,c):e(u(i.error))}},"./src/reddit/actions/removalReasons/constants.ts":function(e,t,s){"use strict";s.d(t,"k",function(){return r}),s.d(t,"l",function(){return n}),s.d(t,"j",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"h",function(){return d}),s.d(t,"i",function(){return u}),s.d(t,"g",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"d",function(){return O}),s.d(t,"r",function(){return f}),s.d(t,"s",function(){return m}),s.d(t,"q",function(){return j}),s.d(t,"n",function(){return g}),s.d(t,"o",function(){return y}),s.d(t,"p",function(){return _}),s.d(t,"m",function(){return E}),s.d(t,"t",function(){return h});const r="REMOVALREASONS__LOAD_PENDING",n="REMOVALREASONS__LOAD_SUCCESS",a="REMOVALREASONS__LOAD_FAILED",c="REMOVALREASONS__ADD_PENDING",i="REMOVALREASONS__ADD_SUCCESS",o="REMOVALREASONS__ADD_FAILED",d="REMOVALREASONS__EDIT_PENDING",u="REMOVALREASONS__EDIT_SUCCESS",l="REMOVALREASONS__EDIT_FAILED",b="REMOVALREASONS__DELETE_PENDING",p="REMOVALREASONS__DELETE_SUCCESS",O="REMOVALREASONS__DELETE_FAILED",f="REMOVALREASONS__SUBMIT_PENDING",m="REMOVALREASONS__SUBMIT_SUCCESS",j="REMOVALREASONS__SUBMIT_FAILED",g="REMOVALREASONS__MESSAGE_PENDING",y="REMOVALREASONS__MESSAGE_PRIVATE_SUCCESS",_="REMOVALREASONS__MESSAGE_PUBLIC_SUCCESS",E="REMOVALREASONS__MESSAGE_FAILED",h="REMOVALREASONS__REMOVEDITEMS_SELECTED"},"./src/reddit/actions/reportFlow.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return g}),s.d(t,"c",function(){return y}),s.d(t,"b",function(){return _}),s.d(t,"g",function(){return S}),s.d(t,"e",function(){return T}),s.d(t,"a",function(){return v}),s.d(t,"i",function(){return R}),s.d(t,"f",function(){return A}),s.d(t,"h",function(){return x});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/login.ts"),c=s("./src/reddit/actions/modal.ts"),i=s("./src/reddit/actions/sitewideRules.ts"),o=s("./src/reddit/actions/subreddit.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/actions/users.ts"),l=s("./src/reddit/endpoints/moderator/moderatingSubreddits.ts"),b=s("./src/reddit/endpoints/post/index.tsx"),p=s("./src/reddit/helpers/isComment.ts"),O=s("./src/reddit/helpers/isPost.ts"),f=s("./src/reddit/models/Toast/index.ts"),m=s("./src/reddit/selectors/posts.ts"),j=s("./src/reddit/selectors/user.ts");const g="REPORT__PENDING",y="REPORT__LOADED",_="REPORT__FAILED",E=Object(n.a)(g),h=Object(n.a)(y),I=Object(n.a)(_),S=e=>async(t,s,{apiContext:n})=>{const a=e.id,c=s(),i=c.reportFlow.api.pending[a],o=c.reportFlow.userIsMod;if(i)return;t(E({id:a}));const u=`error-report-${a}`;(await Object(b.m)(n(),e)).ok?(t(h({id:a})),t(d.f(u)),o&&t(x())):(t(I({id:a})),t(d.e({id:u,kind:f.b.Error,text:Object(r.a)(c.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(c.user.language,"reportFlow.reportRequest.retry"),buttonAction:S(e)})))},T="REPORT_FLOW__TARGET_SET",v="REPORT_FLOW__OPENED_FROM_MODAL_PAGE",C=Object(n.a)(T),D=Object(n.a)(v),R=(e,t)=>async(s,r,{apiContext:n})=>{const d=r(),l=Object(p.a)(e);if(!Object(O.a)(e)&&!l)return;const b=l?d.comments.models[e]:d.posts.models[e];if(!b)return;if(!Object(j.I)(r()))return s(Object(a.b)()),void s(Object(c.l)({actionSource:c.a.Report,redirectUrl:b.permalink}));s(Object(u.I)(b.author));const f=Object(m.Q)(d,{postId:l?d.comments.models[e].postId:d.posts.models[e].id});d.sitewideRules&&d.sitewideRules.length||s(Object(i.b)()),f&&s(Object(o.o)(f.name,f.type)),s(C(e)),s(D(!!t)),f&&s(P(f.name))},A="REPORT_FLOW__USER_IS_MOD_SET",w=Object(n.a)(A),P=e=>async(t,s,{apiContext:r})=>{const n=await Object(l.a)(r());t(w(n.ok&&!!n.body[e]))},x=()=>async(e,t,{apiContext:s})=>{e(C(null))}},"./src/reddit/actions/reportPageRules/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r="REPORT_PAGE_RULES__LOADED"},"./src/reddit/actions/search.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/makeSearchKey/index.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/constants/parameters.ts"),l=s("./src/reddit/endpoints/page/search.ts"),b=s("./src/lib/makeApiRequest/index.ts"),p=s("./src/lib/omitHeaders/index.ts"),O=s("./src/reddit/constants/headers.ts");var f=async(e,t)=>Object(b.c)(Object(p.a)(e,[O.a]),{endpoint:`${e.apiUrl}/api/related_queries_v1.json?query=${t}`,method:c.jb.GET}),m=s("./src/reddit/models/Toast/index.ts"),j=s("./src/reddit/selectors/experiments/railsSearchResults.ts"),g=s("./src/reddit/selectors/searchResults.ts");s.d(t,"b",function(){return y}),s.d(t,"c",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"d",function(){return h}),s.d(t,"f",function(){return I}),s.d(t,"j",function(){return S}),s.d(t,"h",function(){return R}),s.d(t,"g",function(){return A}),s.d(t,"e",function(){return w}),s.d(t,"i",function(){return P});const y="SEARCH__MORE_RESULTS_PENDING",_="SEARCH__MORE_RESULTS_RECEIVED",E="SEARCH__MORE_RESULTS_FAILED",h="SEARCH__RELATED_QUERIES_RECEIVED",I="SEARCH__UPDATE_SEARCH_QUERY",S=Object(i.a)(I),T=Object(i.a)(y),v=Object(i.a)(_),C=Object(i.a)(E),D=Object(i.a)(h),R=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(g.g)(n,e);if(a&&a.length>0)return;const c=await f(r(),e);if(c.ok){const s=(e=>({relatedQueries:e.body.related_queries}))(c);t(D({query:e,relatedQueries:s.relatedQueries}))}},A=e=>async(t,s,{apiContext:r})=>{const i=s(),b=i.platform.currentPage.queryParams,p=i.platform.currentPage.urlParams.subredditName||i.platform.currentPage.urlParams.multiredditName,O=i.platform.currentPage.urlParams.username,f=Object(o.d)(n()(b,u.p)),g=Object.assign({},f,{sort:f.category?c.ic.Relevance:f.sort,t:f.category?c.qc.DAY:f.t}),y=Object(o.c)(p,O,g),_=Object(j.c)(i);let E;if(e.indexOf(c.jc.Posts)>-1){const e=i.listings.postOrder.loadMore[y];if(!e)return;const t=i.listings.postOrder.api.pending[y],s=i.listings.postOrder.fetchedTokens,r=s[y]&&s[y][e.token];if(t||r)return;E=e.token}else{if(!(e.indexOf(c.jc.Subreddits)>-1||e.indexOf(c.jc.Users)>-1))throw new Error("Should not attempt to fetch more results without a search type");{const e=i.listings.listingOrder.loadMore[y];if(!e)return;const t=i.listings.listingOrder.api.pending[y],s=i.listings.listingOrder.fetchedTokens,r=s[y]&&s[y][e.token];if(t||r)return;E=e.token}}const h=`error-${y}`;t(T({fetchedToken:E,key:y,type:e}));const I=await Object(l.a)(r(),p,O,Object.assign({},g,{after:E,type:(f.type||[]).join(","),b:_}));I.ok?(t(v(Object.assign({key:y,fetchedToken:E,meta:i.meta,subredditOrMultiName:p,type:e},I.body))),t(d.f(h))):(t(C(Object.assign({key:y,error:I.error,fetchedToken:E,meta:i.meta,type:e},I.body))),t(d.e({id:h,kind:m.b.Error,text:Object(a.a)(i.user.language,"search.toast.moreResultsError"),buttonText:Object(a.a)(i.user.language,"search.toast.retryButton"),buttonAction:A(e)})))},w="SEARCH__TYPEAHEAD_SUCCESS",P=Object(i.a)(w)},"./src/reddit/actions/shortcuts.ts":function(e,t,s){"use strict";var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/comment.ts"),c=s("./src/reddit/actions/modal.ts"),i=s("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),o=s("./src/reddit/actions/post.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/components/Comments/helpers/hiddenComments.ts"),l=s("./src/reddit/constants/elementIds.ts"),b=s("./src/reddit/constants/modals.ts"),p=s("./src/reddit/constants/postLayout.ts"),O=s("./src/reddit/constants/shortcuts.ts"),f=s("./src/reddit/helpers/getPostFromRouteMatch/index.ts"),m=s("./src/reddit/helpers/overlay/index.ts"),j=s("./src/reddit/helpers/routeKey/index.ts"),g=s("./src/reddit/helpers/trackers/lightbox.ts"),y=s("./src/reddit/selectors/telemetry.ts");const _=e=>()=>({source:"shortcuts",action:"submit",noun:e}),E=(e,t)=>s=>({source:"shortcuts",action:"submit",noun:e,post:y.post(s,t)}),h=(e,t)=>s=>({source:"shortcuts",action:"submit",noun:e,comment:y.comment(s,t)}),I=_("show_panel"),S=_("esc_close"),T=_("c_create_post");_("q_navigation");var v=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),C=s("./src/reddit/selectors/gild.ts"),D=s("./src/reddit/selectors/goldPurchaseModals.ts"),R=s("./src/reddit/selectors/listings.ts"),A=s("./src/reddit/selectors/platform.ts");s.d(t,"a",function(){return w}),s.d(t,"b",function(){return P}),s.d(t,"c",function(){return N}),s.d(t,"l",function(){return k}),s.d(t,"k",function(){return L}),s.d(t,"p",function(){return U}),s.d(t,"j",function(){return M}),s.d(t,"o",function(){return F}),s.d(t,"t",function(){return G}),s.d(t,"f",function(){return B}),s.d(t,"s",function(){return q}),s.d(t,"h",function(){return $}),s.d(t,"g",function(){return V}),s.d(t,"e",function(){return H}),s.d(t,"m",function(){return K}),s.d(t,"q",function(){return W}),s.d(t,"i",function(){return Q}),s.d(t,"n",function(){return Y}),s.d(t,"d",function(){return X}),s.d(t,"r",function(){return se});const w="SHORTCUTS__ACTIVE_COMMENT_SET",P="SHORTCUTS__ACTIVE_POST_SET",x=Object(n.a)(w),N=Object(n.a)(P),k=e=>async(t,s,{apiContext:r})=>{t(Object(c.i)(b.a.KEYBOARD_SHORTCUTS)),e(I)},L=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=a.shortcuts.activePostId,i=a.listings.activeKey,o=a.listings.postOrder.ids[i];if(!c||o.indexOf(c)<0){const e=o[0];return s(N(e)),void ee(e)}let d,u=c;do{if(!(d=Object(R.b)(a,{postId:u}))||!d.nextPost)return;u=d.nextPost.id}while(a.posts.models[u].hidden);a.shortcuts.namespace===O.d.Lightbox?(J(s,d.nextPost),e(t?g.d(c,"next_post",!0):(e=>E("n_next",e))(u))):(s(N(u)),ee(u),e((e=>E("j_next",e))(u)))},U=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId,c=n.listings.activeKey,i=n.listings.postOrder.ids[c];if(!a||i.indexOf(a)<0)return t(N(i[0])),void ee(i[0]);if(0===i.indexOf(a))return;let o,d=a;do{if(!(o=Object(R.b)(n,{postId:d}))||!o.prevPost)return;d=o.prevPost.id}while(n.posts.models[d].hidden);n.shortcuts.namespace===O.d.Lightbox?(J(t,o.prevPost),e((e=>E("p_previous",e))(d))):(t(N(d)),ee(d),e((e=>E("k_previous",e))(d)))},M=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Z(n);if(!a)return;let c;const i=n.shortcuts.activeCommentId;if(i){const e=n.comments.collapsed[a],t=n.commentsPage.keyToCommentThreadLinkSets[a];if(e[c=i])do{if(!t[c].next)return;c=t[c].next.id}while(u.b(c));else c=t[c].next.id}else{const e=n.commentsPage.keyToHeadCommentId[a];if(!e)return;c=e}t(x(c)),ee(c),e((e=>h("j_next",e))(c))},F=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Z(n);if(!a)return;let c;const i=n.shortcuts.activeCommentId;if(i&&i!==n.commentsPage.keyToHeadCommentId[a]){const e=n.commentsPage.keyToCommentThreadLinkSets[a];for(c=e[i].prev.id;u.b(c);)c=e[c].prev.id}else{const e=n.commentsPage.keyToHeadCommentId[a];if(!e||i===e)return;c=e}t(x(c)),ee(c),e((e=>h("k_previous",e))(c))},G=e=>async(t,s,{apiContext:r})=>{const n=s();var c=n.shortcuts;const i=c.activeCommentId,d=c.activePostId,u=Z(n);u&&(i&&!n.comments.collapsed[u][i]?(t(a.sb(i)),e((e=>h("a_upvote",e))(i))):d&&(t(o.J(d)),e((e=>E("a_upvote",e))(d))))},B=e=>async(t,s,{apiContext:r})=>{const n=s();var c=n.shortcuts;const i=c.activeCommentId,d=c.activePostId,u=Z(n);u&&(i&&!n.comments.collapsed[u][i]?(t(a.U(i)),e((e=>h("z_downvote",e))(i))):d&&(t(o.n(d)),e((e=>E("z_downvote",e))(d))))},q=e=>async(t,s,{apiContext:r})=>{const n=s();var c=n.shortcuts;const i=c.activeCommentId,d=c.activePostId,u=Z(n);u&&(i&&!n.comments.collapsed[u][i]?(t(a.ib(i)),e((e=>h("s_save",e))(i))):d&&(t(o.D(d)),e((e=>E("s_save",e))(d))))},$=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId;a&&!n.posts.models[a].isSponsored&&(t(o.G(a,!n.posts.models[a].hidden,n.shortcuts.namespace===O.d.Lightbox,!0)),t(L(e)),e((e=>E("h_hide",e))(a)))},V=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId,c=p.a[n.user.prefs.layout];if(a&&(c===p.f.Compact||c===p.f.Classic)){const s=n.posts.models[a].crosspostRootId;(n.posts.models[a].media||s&&n.posts.models[s]&&n.posts.models[s].media)&&(t(o.o({postId:a})),e((e=>E("x_expando",e))(a)))}},H=e=>async(t,s,{apiContext:n})=>{const c=s(),i=c.shortcuts.activeCommentId,o=Z(c);if(o&&i){if(c.comments.models[i])t(a.pb({commentId:i,commentsPageKey:o,scrollToAndRemeasure:()=>null}));else if(c.continueThreads.models[i]){const e=c.continueThreads.models[i].parentId,s=c.comments.models[e].permalink;t(Object(r.b)(s))}else t(F(e)),t(a.bb(o,i));e((e=>h("enter_comment_collapse",e))(i))}},K=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.listings.activeKey,c=n.listings.postOrder.ids[a],i=n.shortcuts.activePostId;!c||!i||c.indexOf(i)<0||(t(Object(m.a)(n.posts.models[i].permalink)),e((e=>E("enter_open_post",e))(i)))},W=e=>async(t,s,{apiContext:r})=>{const n=s(),c=Z(n),i=n.shortcuts.activeCommentId;i&&c&&c!==n.listings.activeKey&&(t(a.qb({commentsPageKey:c,parentCommentId:i})),e((e=>h("r_comment",e))(i)))},Q=e=>async(t,s,{apiContext:n})=>{const a=s();if(!a.user.account)return;const c=Object(A.f)(a),i=c?c.url:"/";t(Object(r.b)(`${i}submit`)),e(T)},Y=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.shortcuts.activePostId;if(a){const t=n.posts.models[a];if(t.source){const s=t.source.url,r=window.open(s,"_blank");r&&r.focus(),e((e=>E("l_go_to_link",e))(a))}}},z=[D.d,D.q,e=>!!Object(C.d)(e)],X=(e,t,s)=>async(n,o,{apiContext:u})=>{const l=o();for(const e of z)if(e(l))return;const b=document.activeElement,p=l.shortcuts.activeCommentId,f=Z(l);if(b&&"true"===b.contentEditable&&p&&f)n(a.P({parentCommentId:p,commentsPageKey:f})),ee(p);else if(l.activeModalId)te(O.b),n(Object(c.i)(l.activeModalId));else if(l.toaster[0])te(O.b),n(Object(d.f)(l.toaster[0].id));else if(l.shortcuts.namespace===O.d.Lightbox&&l.platform.currentPage){const e=Object(v.f)(l);if(s&&Object(v.d)(e))te(O.b),n(Object(i.b)({shouldPrepareData:!1}));else{const e=l.platform.currentPage.locationState.closeLocation;e&&(te(O.b),n(Object(r.b)(e)))}}const m=l.shortcuts.activePostId;e(t&&m?g.d(m,"close",!0):S)},J=(e,t)=>{te(O.b),e(N(t.id)),document.body.style.overflow="",ee(t.id),document.body.style.overflow="hidden",e(Object(m.a)(t.permalink));const s=document.getElementById(l.d);s&&s.scrollTo(0,0)},Z=e=>{const t=e.platform.currentPage;if(!t||!t.routeMatch)return;const s=t.routeMatch,r=Object(f.a)(e);return Object(j.c)(s,e,r)},ee=e=>{const t=document.getElementById(e);t&&t.focus()},te=e=>{const t=document.getElementById(e),s=window.scrollX,r=window.scrollY;t&&(t.focus(),window.scrollTo(s,r))},se=()=>{te(O.b)}},"./src/reddit/actions/sitewideRules.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");s.d(t,"a",function(){return d}),s.d(t,"b",function(){return b});const d="SITEWIDE_RULES_LOADED",u=Object(n.a)(d),l=Object(r.e)("reportFlow.sectionHeaders.spamAndAbuse"),b=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user||!r.user.language)return;const n=await(e=>Object(c.c)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/sitewide_rules.json`,method:a.jb.GET}))(s());if(n.ok){const t=n.body.sitewide_rules;let s=[];if(t&&t.length){const e={reasonTextToShow:l(r.user.language),nextStepReasons:[t[0],t[1]]};s.push(e),s=s.concat(t.slice(2))}e(u(s))}}},"./src/reddit/actions/structuredStyles.ts":function(e,t,s){"use strict";s.d(t,"g",function(){return v}),s.d(t,"i",function(){return A}),s.d(t,"u",function(){return w}),s.d(t,"t",function(){return N}),s.d(t,"h",function(){return k}),s.d(t,"s",function(){return F}),s.d(t,"d",function(){return G}),s.d(t,"o",function(){return q}),s.d(t,"c",function(){return $}),s.d(t,"n",function(){return H}),s.d(t,"f",function(){return K}),s.d(t,"b",function(){return Y}),s.d(t,"m",function(){return X}),s.d(t,"e",function(){return J}),s.d(t,"p",function(){return ee}),s.d(t,"a",function(){return te}),s.d(t,"l",function(){return se}),s.d(t,"j",function(){return re}),s.d(t,"v",function(){return ne}),s.d(t,"k",function(){return ae}),s.d(t,"q",function(){return ce}),s.d(t,"r",function(){return ie});var r=s("./node_modules/lodash/omit.js"),n=s.n(r),a=s("./node_modules/lodash/pick.js"),c=s.n(a),i=s("./node_modules/react-router-redux/es/index.js"),o=s("./src/lib/filterQueryParams/index.ts"),d=s("./src/lib/makeActionCreator/index.ts"),u=s("./src/reddit/actions/apiRequestState.ts"),l=s("./src/reddit/actions/imageUploads.ts"),b=s("./src/reddit/actions/modal.ts"),p=s("./src/reddit/constants/modals.ts"),O=s("./src/reddit/endpoints/moderator/structuredStyles.ts"),f=s("./src/reddit/helpers/getGenericUploadError.ts"),m=s("./src/reddit/helpers/media/index.ts"),j=s("./src/reddit/models/Image/index.tsx"),g=s("./src/reddit/models/StructuredStyles/index.ts"),y=s("./src/reddit/selectors/activeModalId.ts"),_=s("./src/reddit/selectors/platform.ts"),E=s("./src/reddit/selectors/structuredStyles.ts"),h=s("./src/reddit/selectors/subreddit.ts"),I=s("./src/reddit/selectors/user.ts"),S=s("./src/reddit/helpers/trackers/blade.ts"),T=s("./src/telemetry/index.ts");const v="STRUCTURED_STYLES__STYLES_REQUESTED_LOADED",C=Object(d.a)("STRUCTURED_STYLES__STYLES_REQUESTED_PENDING"),D=Object(d.a)(v),R=Object(d.a)("STRUCTURED_STYLES__STYLES_REQUESTED_FAILED"),A="STRUCTURED_STYLES__STYLES_UPDATED_LOADED",w=Object(d.a)(A),P={bannerBackgroundImage:["bannerBackgroundImagePosition"],bannerPositionedImage:["bannerPositionedImagePosition","secondaryBannerPositionedImage"]},x=e=>{const t=Object.assign({},e);return Object.keys(e).forEach(s=>{P[s]&&!e[s]&&P[s].forEach(e=>t[e]=null)}),t},N=(e,t,s,r)=>async(n,a,c)=>{const i=c.apiContext,o=a(),d=x(t),b=o.structuredStyles.models[e];let p;for(const e in d)if(d[e]!==b[e]){p=!0;break}if(!p)return;n(Object(u.h)(r));const m=Object(S.i)(s)(o);let g=null,y=null;try{(g=await Object(l.f)(a(),j.a.StructuredStyles))&&(y=Object(l.m)(g)(n,a,c))}catch(I){const e=Object(f.a)("webSocket");return void n(Object(u.f)(r,e))}const _=Object(h.S)(o,{subredditId:e}).name,E=await O.c(i(),_,d);if(E.ok){if(y)try{await y}catch(I){}n(Object(u.e)(r)),n(w({subredditId:e,styles:d}))}else g&&g.websocket.close(),n(Object(u.f)(r,E.error));Object(T.a)(Object.assign({},m,{actionInfo:Object.assign({},m.actionInfo,{success:E.ok})}))},k="STRUCTURED_STYLES__STYLES_RESET_LOADED",L=Object(d.a)("STRUCTURED_STYLES__STYLES_RESET_PENDING"),U=Object(d.a)(k),M=Object(d.a)("STRUCTURED_STYLES__STYLES_RESET_FAILED"),F=e=>async(t,s,{apiContext:r})=>{t(L({subredditId:e}));const n=Object(h.S)(s(),{subredditId:e}).name,a=await O.d(r(),n);if(a.ok){const r=s().structuredStyles.models[e],n=r?r.mobileKeyColor:null;t(U({subredditId:e,styles:{mobileKeyColor:n}}))}else t(M(Object.assign({subredditId:e},a.error)))},G="STRUCTURED_STYLES__EDITING_STARTED",B=Object(d.a)(G),q=e=>async(t,s,r)=>{const n=s(),a=n.structuredStyles.models[e]||{},c=Object(I.S)(n);t(B({isNightmodeOn:c,styles:a,subredditId:e})),((e,t)=>async(s,r,{apiContext:n})=>{s(C({subredditId:e}));const a=Object(h.S)(r(),{subredditId:e}).name,c=await O.a(n(),a,t);if(c.ok){let t,r,n;const a=c.body;a.data?(t=a.data.style,r=a.data.content.widgets.items,n=a.data.content.widgets.layout.sidebar.order):(t={},r={},n=[]),s(D({subredditId:e,styles:t,widgets:r,sidebar:n}))}else s(R(Object.assign({subredditId:e},c.error)))})(e,!1)(t,s,r)},$="STRUCTURED_STYLES__DRAFT_UPDATED",V=Object(d.a)($),H=e=>async(t,s,r)=>{const n=x(e),a=s();for(const e in n)if(Object(g.j)(e))if(n[e]){if("string"!=typeof n[e]){const a=n[e],c=await Object(j.e)(a);Q(e,c)(t,s,r),n[e]=""}}else{const s=Object(E.h)(a,{name:e});s&&t(Object(l.h)(s))}t(V(n))},K="STRUCTURED_STYLES__IMAGE_UPLOAD_ADDED",W=Object(d.a)(K),Q=(e,t)=>async(s,r,n)=>{const a=r(),c=a.structuredStyles.isEditing,i=Object(h.S)(a,{subredditId:c}).name;s(W({imageKey:e,uploadId:t.id})),s(Object(l.k)(t));const o=await O.b(n.apiContext(),i,t.file.name,e,await Object(m.g)(t.file));try{const n=await Object(l.g)(r(),o,t,j.a.StructuredStyles);if(n){const t=n.url;s(Object(l.j)(n)),s(V({[e]:t}))}}catch(d){if(d instanceof Error)throw d;s(Object(l.i)(d))}},Y="STRUCTURED_STYLES__DRAFT_REPLACED",z=Object(d.a)(Y),X=(e,t,s)=>async(r,a,i)=>{const o=a(),d=o.structuredStyles.models[e]||{},u=o.structuredStyles.draft,l=Object(S.h)(t)(o);if(s){const t=c()(d,s),a=n()(u,s),i=Object.assign({},a,t);r(z({subredditId:e,styles:i}))}else{r(z({subredditId:e,styles:d}))}Object(T.a)(l)},J="STRUCTURED_STYLES__EDITING_STOPPED",Z=Object(d.a)(J),ee=()=>async(e,t,s)=>{const r=t(),n=Object(I.T)(r),a=!!Object(_.a)(r);if(e(Z({nightmodeTempUpdated:n})),a)return;const c=r.platform.currentPage.url;c&&e(Object(i.c)(Object(o.a)(c,["styling","route"])))},te="STRUCTURED_STYLES__DIRTIED_BLADE_EDITOR",se=Object(d.a)(te),re="STRUCTURED_STYLES__UNDIRTIED_BLADE_EDITOR",ne=Object(d.a)(re),ae=()=>async e=>e(ee()),ce=e=>async(t,s)=>{const r=s(),n=Object(E.j)(r);!Object(y.b)(p.a.BLADE_UNSAVED_CHANGES)(r)&&n&&(Object(E.a)(r,{subredditId:e})?t(Object(b.i)(p.a.BLADE_UNSAVED_CHANGES)):t(ae()))},ie=e=>async(t,s)=>{const r=s();Object(E.j)(r)||t(Object(I.S)(r)?Object(b.i)(p.a.BLADE_NIGHTMODE):q(e))}},"./src/reddit/actions/subreddit.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/listingSort/index.ts"),o=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/lib/makeListingKey/index.ts"),u=s("./src/reddit/actions/economics/tips/async.ts"),l=s("./src/reddit/actions/modal.ts"),b=s("./src/reddit/actions/oldSiteRules.ts"),p=s("./src/reddit/actions/preferences.ts"),O=s("./src/reddit/actions/subredditRules/constants.ts"),f=s("./src/reddit/actions/toaster.ts"),m=s("./src/reddit/constants/modals.ts"),j=s("./src/reddit/constants/originalContent.ts"),g=s("./src/reddit/constants/parameters.ts"),y=s("./src/reddit/constants/postLayout.ts"),_=s("./src/reddit/contexts/PageLayer/index.tsx"),E=s("./src/reddit/endpoints/governance/posts.ts"),h=s("./src/lib/makeApiRequest/index.ts"),I=s("./src/lib/omitHeaders/index.ts"),S=s("./src/reddit/constants/headers.ts"),T=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");var v=s("./src/reddit/endpoints/modQueue/index.ts"),C=s("./src/reddit/endpoints/page/subredditPage.ts"),D=s("./src/graphql/operations/SubredditAbout.json"),R=s("./src/lib/makeGqlRequest/index.ts"),A=s("./src/reddit/endpoints/subreddit/rules.ts"),w=s("./src/reddit/endpoints/user/preferences.ts"),P=s("./src/reddit/featureFlags/index.ts"),x=s("./src/reddit/helpers/filterListingResponse/index.ts"),N=s("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),k=s("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts"),L=s("./src/reddit/i18n/utils.ts"),U=s("./src/reddit/models/OcSubreddits/index.ts"),M=s("./src/reddit/models/Subreddit/index.ts"),F=s("./src/reddit/models/Toast/index.ts"),G=s("./src/reddit/models/User/index.ts"),B=s("./src/reddit/selectors/listings.ts"),q=s("./src/reddit/selectors/oldSiteRules.ts"),$=s("./src/reddit/selectors/profile.ts"),V=s("./src/reddit/selectors/subreddit.ts"),H=s("./src/reddit/selectors/user.ts");s.d(t,"j",function(){return K}),s.d(t,"i",function(){return W}),s.d(t,"h",function(){return Q}),s.d(t,"d",function(){return Y}),s.d(t,"q",function(){return Z}),s.d(t,"o",function(){return re}),s.d(t,"s",function(){return ce}),s.d(t,"g",function(){return ie}),s.d(t,"f",function(){return oe}),s.d(t,"e",function(){return de}),s.d(t,"r",function(){return pe}),s.d(t,"l",function(){return Oe}),s.d(t,"m",function(){return fe}),s.d(t,"k",function(){return me}),s.d(t,"p",function(){return _e}),s.d(t,"b",function(){return Ee}),s.d(t,"c",function(){return he}),s.d(t,"a",function(){return Ie}),s.d(t,"t",function(){return Ce}),s.d(t,"n",function(){return De});const K="SUBREDDIT__MORE_POSTS_PENDING",W="SUBREDDIT__MORE_POSTS_LOADED",Q="SUBREDDIT__MORE_POSTS_FAILED",Y="SUBREDDIT__META_FILTER_TOGGLED",z=Object(o.a)(K),X=Object(o.a)(W),J=Object(o.a)(Q),Z=Object(o.a)(Y),ee=Object(o.a)(O.b),te=Object(o.a)(O.c),se=Object(o.a)(O.a),re=(e,t)=>async(s,r)=>{t===M.b.User?s(ne(e)):s(ae(e)),0===Object(q.a)(r()).length&&s(Object(b.b)())},ne=e=>async(t,s,{apiContext:r})=>{const n=Object($.m)(s(),e),a=await Object(A.c)(r(),e);if(a.ok){const e=a.body;t(ee({rules:e,subredditId:n}))}},ae=e=>async(t,s,{gqlContext:r})=>{const n=Object(V.I)(s(),e),c=Object(H.Q)(s());t(te());const i=await Object(A.b)(r(),e);if(i.ok){const e=i.body;t(ee({rules:e,subredditId:n}))}else{t(se());const s=`error-block-${e}`;t(f.e({id:s,kind:F.b.Error,text:Object(a.a)(c,"error.tryAgainLater")}))}},ce=e=>async(t,s,{apiContext:r})=>{const a=e.subredditName,c=Object(N.a)(e),o=s(),l=o.platform.currentPage?o.platform.currentPage.queryParams:{},b=Object(d.a)(a,c,l),p=o.listings.postOrder.loadMore[b],O=o.listings.postOrder.listingSort[b];let f=c,m=e.t;if(O&&!f){const e=Object(i.d)(O.sort);f=e.sort,m=e.timeSort}const j=o.listings.postOrder.api.pending[b],h=o.listings.postOrder.fetchedTokens,I=!(!h[b]||!h[b][p.token]);if(j||I)return;t(z({key:b,fetchedToken:p.token}));const S=Object.assign({after:p.token,dist:p.dist,layout:y.d[Object(_.O)(o,{})],sort:f,t:m},n()(l,[...g.j,g.f])),T=await Object(C.a)(r(),a,S),v=Object.assign({},T.body,Object(x.a)(o,b,T.body));if(T.ok){let e;const n=v.postIds.filter(e=>!!v.posts[e].isMeta),c=Object(V.I)(s(),a);if(n.length){const t=await Object(E.a)(r(),c,n);t.ok&&(e=t.body)}if(t(X(Object.assign({fetchedToken:p.token,key:b,meta:o.meta,governance:e},v))),P.d.spSupport(s())||P.d.spLoadtest(s())){const e=await Object(u.a)();await t(e({subredditId:c,contentIds:v.postIds}))}}else t(J(Object.assign({error:T.error,fetchedToken:p.token,key:b},v)))},ie="SUBSCRIPTION__MODERATED_SUBREDDITS_PENDING",oe="SUBSCRIPTION__MODERATED_SUBREDDITS_LOADED",de="SUBSCRIPTION__MODERATED_SUBREDDITS_FAILED",ue=Object(o.a)(ie),le=Object(o.a)(oe),be=Object(o.a)(de),pe=()=>async(e,t,{apiContext:s})=>{const r=t();if(!r.user.account||r.subreddits.moderated.api.fetched)return;e(ue());const n=await Object(v.b)(s(),c.nb.Modqueue,{moderated:!0,moderated_limit:50});n.ok?e(le(n.body)):e(be({error:n.error}))},Oe="POST_CREATION__OC_SUBREDDITS_REQUESTED",fe="POST_CREATION__OC_SUBREDDITS_SUCCEEDED",me="POST_CREATION__OC_SUBREDDITS_FAILED",je=Object(o.a)(Oe),ge=Object(o.a)(fe),ye=Object(o.a)(me),_e=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(d.a)(j.d,"",{category:e}),i=Object(B.j)(n,{listingKey:a}),o=i?i.token:void 0;if(i){const e=Object(B.h)(n,{listingKey:a}),t=Object(B.i)(n,{listingKey:a,token:i.token});if(e||t)return}t(je({key:a,fetchedToken:o}));const u=await((e,t)=>Object(h.c)(Object(I.a)(e,[S.a]),{data:t,endpoint:`${e.apiUrl}/api/oc_category_subreddits.json`,method:c.jb.GET}))(r(),{after:o,category:e});if(u.ok){var l=Object(U.c)(u.body.data.children.map(({data:e})=>e));const e=l.subreddits,s=l.subredditsAboutInfo,r=Object.keys(e);t(ge({key:a,fetchedToken:o,subreddits:e,subredditsAboutInfo:s,token:r[r.length-1]}))}else t(ye({key:a,error:u.error}))},Ee="SUBREDDIT__ABOUT_PENDING",he="SUBREDDIT__ABOUT_SUCCEEDED",Ie="SUBREDDIT__ABOUT_FAILED",Se=Object(o.a)(Ee),Te=Object(o.a)(he),ve=Object(o.a)(Ie),Ce=e=>async(t,s,{gqlContext:r})=>{const n=s();if(Object(V.z)(n,{subredditName:e})||n.subreddits.api.about.error[e.toLowerCase()]||n.subreddits.api.about.pending[e.toLowerCase()])return;t(Se({subredditName:e}));const a=await((e,t)=>Object(R.a)(e,Object.assign({},D,{variables:{subredditName:t}})))(r(),e);if(a.ok){const s=(e=>{const t=Object(k.a)(e.allowedPostTypes),s=e.moderation?e.moderation.coins:void 0;return{[e.id]:{accountsActive:e.activeCount,allOriginalContent:!1,allowedPostTypes:t,coins:s,disableContributorRequests:!1,emojisEnabled:!0,originalContentTagEnabled:!0,publicDescription:e.publicDescription.markdown,restrictCommenting:!1,restrictPosting:!0,showMedia:!0,subscribers:e.subscribersCount,userIsContributor:e.isContributor,userIsSubscriber:e.isSubscribed,usingNewModmail:!0}}})(a.body.data.subreddit);t(Te({subredditName:e,data:s}))}else t(ve({subredditName:e,error:a.error}))},De=(e,t,s)=>async(r,n,{apiContext:a})=>{const i=Object(V.I)(n(),e.substring(2)),o=Object(H.j)(n());if(o){const n=Object(G.f)(o),d=t+"\n\n   *To approve this user*, visit [the approved users page for "+e+"](https://www.reddit.com/"+e+"/about/contributors?user="+n+') and click "ADD USER".\n    Approving this user gives them permission to '+s+". You can change these community restrictions from the [community settings](/"+e+"/about/edit) page.\n\n   To get more information about this user, visit the profile page of [u/"+n+"](/u/"+n+") or reply to this message to start a conversation.",u={to:`/${e}`,subject:Object(L.c)(`I would like to join ${Object(L.b)("displayName",e)}`),text:d};if((await((e,t)=>Object(h.c)(Object(I.a)(e,[S.a]),{endpoint:Object(T.a)(`${e.apiUrl}/api/compose`),method:c.jb.POST,data:t}))(a(),u)).ok){const e=new Date,t={isContributorRequestTimestamp:e.setDate(e.getDate())};r(Object(p.B)({subredditId:i,prefs:t})),Object(w.h)(i,t,a()),r(Object(l.i)(m.a.CONTRIBUTOR_REQUEST_PENDING))}}}},"./src/reddit/actions/subreddit/constants.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return i});const r="SUBREDDIT__POSTS_LOADED",n="SUBREDDIT__POSTS_SET_FAILED",a="SUBREDDIT__SIMILAR_SUBREDDITS_PENDING",c="SUBREDDIT__SIMILAR_SUBREDDITS_LOADED",i="SUBREDDIT__SIMILAR_SUBREDDITS_FAILED"},"./src/reddit/actions/subreddit/similarSubreddit.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return b});var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/subreddit/constants.ts"),a=s("./src/reddit/endpoints/category/subreddits.ts"),c=s("./src/reddit/endpoints/subreddit/similar.ts"),i=s("./src/reddit/selectors/subreddit.ts");const o=e=>{let t=e.subredditIds.join(",");return e.count&&(t+=`--[count:'${e.count}']`),e.variant&&(t+=`--[variant:'${e.variant}']`),t.toLowerCase()},d=Object(r.a)(n.e),u=Object(r.a)(n.d),l=Object(r.a)(n.c),b=e=>async(t,s,{apiContext:r})=>{const n=s(),b=o(e),p=Object(i.x)(n,{key:b}),O=Object(i.w)(n,{key:b});if(p||O.length>0)return;t(d({key:b}));const f=await Object(c.b)(r(),e);if(f.ok){const e=Object(a.b)(f.body);t(u(Object.assign({key:b},e)))}else{const e=f.error;t(l({key:b,error:e}))}}},"./src/reddit/actions/subredditAutocomplete.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts"),o=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const d=e=>(e.ok&&(e.body.subreddits=e.body.subreddits.map(e=>{var t=e.numSubscribers,s=o(e,["numSubscribers"]);return Object.assign({subscribers:t},s)})),e);var u=s("./src/graphql/operations/SubredditTypeaheadSearch.json"),l=s("./src/lib/makeGqlRequest/index.ts"),b=s("./src/reddit/featureFlags/index.ts"),p=s("./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts"),O=s("./src/reddit/helpers/name/index.ts"),f=s("./src/reddit/selectors/subredditAutocomplete.ts");s.d(t,"c",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"d",function(){return h});const m="SUBREDDIT_AUTOCOMPLETE__PENDING",j="SUBREDDIT_AUTOCOMPLETE__LOADED",g="SUBREDDIT_AUTOCOMPLETE__FAILED",y=Object(r.a)(m),_=Object(r.a)(j),E=Object(r.a)(g),h=(e,t=!1,s=!1)=>async(r,o,{apiContext:m,gqlContext:j})=>{const g=Object(O.f)(e);if(!g)return;const h=o(),I=h.subredditAutocomplete;if(!I.api.pending[g]&&!I.models[g]&&!Object(f.c)(h,{substring:g}))if(r(y({key:g})),!t&&b.d.customFeeds(h)){const e=await((e,t)=>Object(l.a)(e,Object.assign({},u,{variables:t})))(j(),{query:g,includeNsfw:s});if(e.ok){const t=e.body.data.subredditTypeahead.subreddits.edges.map(e=>(({allowedPostTypes:e,id:t,isNsfw:s,name:r,styles:n,subscribersCount:a})=>({allowedPostTypes:Object(p.a)(e),communityIcon:n&&n.icon||"",icon:n&&n.legacyIcon&&n.legacyIcon.url||"",id:t,isNsfw:s,name:r,primaryColor:n&&n.primaryColor||"",subscribers:a}))(e.node));r(_(Object.assign({key:g},{key:g,subreddits:t})))}else r(E({key:g,error:e.error}))}else{const e=await((e,t)=>Object(a.c)(Object(c.a)(e,[i.a]),{data:t,endpoint:`${e.apiUrl}/api/subreddit_autocomplete.json`,method:n.jb.GET}).then(d))(m(),{query:g,include_over_18:s,include_profiles:t});e.ok?r(_(Object.assign({key:g},e.body))):r(E({key:g,error:e.error}))}}},"./src/reddit/actions/subredditCreation.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts");var d=(e,t)=>Object(c.c)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/provider/subreddit/connect_subreddit`,method:a.jb.POST,data:{campaign_installation_id:t.campaignInstallationId,provider:t.provider,provider_id:t.providerId,subreddit:t.subredditName}});var u=s("./src/reddit/helpers/trackers/subredditCreation.ts"),l=s("./src/reddit/selectors/subreddit.ts"),b=s("./src/telemetry/index.ts");s.d(t,"f",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"d",function(){return m}),s.d(t,"i",function(){return _}),s.d(t,"k",function(){return E}),s.d(t,"j",function(){return h}),s.d(t,"b",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"a",function(){return T}),s.d(t,"h",function(){return R});const p="SUBREDDIT__CREATE_PENDING",O="SUBREDDIT__CREATE_SUCCEEDED",f="SUBREDDIT__CREATE_FAILED",m="SUBREDDIT__CREATE_CLEARED",j=Object(n.a)(p),g=Object(n.a)(O),y=Object(n.a)(f),_=Object(n.a)(m),E=e=>async(t,s,{apiContext:n})=>{const d=s(),p=e.name,O=e.type;if(Object(l.o)(d))return;t(j({subredditName:p}));const f=await((e,t)=>Object(c.c)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/api/v1/subreddit/create_subreddit`,method:a.jb.POST,data:(e=>({public_description:e.publicDescription,name:e.name,type:e.type,over_18:e.over18,restrict_commenting:e.restrictCommenting,restrict_posting:e.restrictPosting}))(t)}))(n(),e);f.ok?(t(g({subredditName:p})),window.location.href=`${r.a.redditUrl}${f.body.path}new`,Object(b.a)(Object(u.b)(O,!0)(d))):(Object(b.a)(Object(u.b)(O,!1)(d)),t(y({subredditName:p,error:f.error})))},h=e=>async(t,s,{apiContext:r})=>{const n=s(),d=e.name;if(Object(l.o)(n))return;t(j({subredditName:d}));const u=await((e,t)=>Object(c.c)(Object(i.a)(e,[o.a]),{endpoint:`${e.apiUrl}/provider/subreddit/create_subreddit`,method:a.jb.POST,data:(e=>({campaign_installation_id:e.campaignInstallationId,description:e.description,name:e.name,provider:e.provider,provider_id:e.providerId}))(t)}))(r(),e);u.ok?t(g({subredditName:d})):t(y({subredditName:d,error:u.error}))},I="SUBREDDIT__CONNECT_TO_PARTNER_PENDING",S="SUBREDDIT__CONNECT_TO_PARTNER_SUCCEEDED",T="SUBREDDIT__CONNECT_TO_PARTNER_FAILED",v=Object(n.a)(I),C=Object(n.a)(S),D=Object(n.a)(T),R=e=>async(t,s,{apiContext:r})=>{const n=s(),a=e.subredditName;if(Object(l.n)(n))return;t(v({subredditName:a}));const c=await d(r(),e);c.ok?t(C({subredditName:a})):t(D({subredditName:a,error:c.error}))}},"./src/reddit/actions/subredditCrosspostable.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/subscription/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/lib/omitHeaders/index.ts"),o=s("./src/reddit/constants/headers.ts"),d=s("./src/reddit/selectors/subreddit.ts");s.d(t,"c",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"d",function(){return f});const u="SUBREDDIT_CROSSPOSTABLE__PENDING",l="SUBREDDIT_CROSSPOSTABLE__LOADED",b="SUBREDDIT_CROSSPOSTABLE__FAILED",p=(Object(r.a)(u),Object(r.a)(l)),O=Object(r.a)(b),f=()=>async(e,t,{apiContext:s})=>{await e(n.e());var r=t().subreddits.crosspostable;const u=r.api,l=r.ids;if(u.pending||Object.keys(l).length)return;const b=await((e,t)=>Object(c.c)(Object(i.a)(e,[o.a]),{data:t,endpoint:`${e.apiUrl}/api/crosspostable_subreddits.json`,method:a.jb.GET}))(s(),{sr_detail:!1});if(b.ok){const s=t(),r=b.body&&b.body.length?b.body.map(e=>Object(d.I)(s,e)).filter(e=>!!e).reduce((e,t)=>(e[t]=!0,e),{}):{};e(p({subredditIds:r}))}else e(O({error:b.error}))}},"./src/reddit/actions/subredditDuplicates.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/config.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/reddit/models/Post/index.ts");var o=s("./src/reddit/models/Duplicates/index.ts"),d=s("./src/reddit/models/Subreddit/index.ts"),u=s("./src/reddit/selectors/profile.ts"),l=s("./src/reddit/selectors/subreddit.ts");s.d(t,"a",function(){return b}),s.d(t,"b",function(){return O});const b="SUBREDDIT_DUPLICATES_IN_SUBREDDIT_LOADED",p=(Object(r.a)("SUBREDDIT_DUPLICATES_IN_SUBREDDIT_PENDING"),Object(r.a)(b)),O=(e,t)=>async(s,r,{apiContext:b})=>{const O=Object(l.S)(r(),{subredditId:e})||Object(u.p)(r(),{profileId:e});if(!O)return;const f={crossposts_only:!0,sort:"new",sr:Object(d.c)(O)?n.uc+O.name:O.name},m=await((e,t,s)=>Object(c.c)(e,{data:s,endpoint:`${a.a.gatewayUrl}/desktopapi/v1/duplicates/${Object(i.i)(t)}`,method:n.jb.GET}))(b(),t,f);if(m.ok){const r=m.body;s(p({distinguishKey:Object(o.a)(t,f),postIds:r.postIds,posts:r.posts,profiles:r.profiles,subreddits:r.subreddits,subredditId:e}))}}},"./src/reddit/actions/subredditModeration.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/get.js"),n=s.n(r),a=s("./src/lib/makeActionCreator/index.ts"),c=s("./src/app/strings/index.ts"),i=s("./src/reddit/actions/apiRequestState.ts"),o=s("./src/reddit/actions/modal.ts"),d=s("./src/reddit/actions/subreddit.ts"),u=s("./src/reddit/actions/toaster.ts"),l=s("./src/reddit/constants/modals.ts"),b=s("./src/lib/constants/index.ts"),p=s("./src/lib/makeApiRequest/index.ts"),O=s("./src/lib/omitHeaders/index.ts"),f=s("./src/reddit/constants/headers.ts");const m=(e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/contributors`,method:b.jb.GET,data:s}),j=(e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/banned`,method:b.jb.GET,data:s}),g=(e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/moderators`,method:b.jb.GET,data:Object.assign({},s,{count:10})}),y=(e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/moderators_invited`,method:b.jb.GET,data:Object.assign({},s,{count:50})}),_=(e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/muted`,method:b.jb.GET,data:s});var E=s("./src/reddit/helpers/normalizeUsername/index.tsx"),h=s("./src/reddit/i18n/utils.ts"),I=s("./src/reddit/models/ModeratingSubreddits/index.ts"),S=s("./src/reddit/models/SubredditModeration/index.ts"),T=s("./src/reddit/models/Toast/index.ts"),v=s("./src/reddit/models/User/index.ts"),C=s("./src/reddit/selectors/activeModalId.ts"),D=s("./src/reddit/selectors/subreddit.ts"),R=s("./src/reddit/selectors/user.ts");s.d(t,"J",function(){return A}),s.d(t,"H",function(){return w}),s.d(t,"G",function(){return P}),s.d(t,"ib",function(){return L}),s.d(t,"M",function(){return U}),s.d(t,"L",function(){return M}),s.d(t,"K",function(){return F}),s.d(t,"jb",function(){return $}),s.d(t,"I",function(){return V}),s.d(t,"N",function(){return H}),s.d(t,"ob",function(){return Q}),s.d(t,"hb",function(){return Y}),s.d(t,"e",function(){return z}),s.d(t,"d",function(){return X}),s.d(t,"c",function(){return J}),s.d(t,"V",function(){return se}),s.d(t,"h",function(){return re}),s.d(t,"g",function(){return ne}),s.d(t,"f",function(){return ae}),s.d(t,"W",function(){return de}),s.d(t,"b",function(){return ue}),s.d(t,"i",function(){return le}),s.d(t,"U",function(){return Oe}),s.d(t,"mb",function(){return fe}),s.d(t,"m",function(){return me}),s.d(t,"l",function(){return je}),s.d(t,"k",function(){return ge}),s.d(t,"Z",function(){return he}),s.d(t,"p",function(){return Ie}),s.d(t,"o",function(){return Se}),s.d(t,"n",function(){return Te}),s.d(t,"ab",function(){return Re}),s.d(t,"j",function(){return Ae}),s.d(t,"q",function(){return we}),s.d(t,"Y",function(){return Ne}),s.d(t,"nb",function(){return ke}),s.d(t,"C",function(){return Le}),s.d(t,"B",function(){return Ue}),s.d(t,"A",function(){return Me}),s.d(t,"t",function(){return qe}),s.d(t,"s",function(){return $e}),s.d(t,"r",function(){return Ve}),s.d(t,"fb",function(){return Qe}),s.d(t,"db",function(){return Ye}),s.d(t,"x",function(){return ze}),s.d(t,"w",function(){return Xe}),s.d(t,"v",function(){return Je}),s.d(t,"eb",function(){return st}),s.d(t,"a",function(){return rt}),s.d(t,"T",function(){return it}),s.d(t,"Q",function(){return ot}),s.d(t,"R",function(){return bt}),s.d(t,"lb",function(){return Ot}),s.d(t,"u",function(){return ft}),s.d(t,"cb",function(){return yt}),s.d(t,"F",function(){return _t}),s.d(t,"E",function(){return Et}),s.d(t,"D",function(){return ht}),s.d(t,"gb",function(){return vt}),s.d(t,"y",function(){return Ct}),s.d(t,"O",function(){return Rt}),s.d(t,"S",function(){return wt}),s.d(t,"z",function(){return Pt}),s.d(t,"bb",function(){return Nt}),s.d(t,"P",function(){return kt}),s.d(t,"kb",function(){return Ft}),s.d(t,"X",function(){return Gt});const A="SUBREDDIT__MUTEDUSERS_PENDING",w="SUBREDDIT__MUTEDUSERS_LOADED",P="SUBREDDIT__MUTEDUSERS_FAILED",x=Object(a.a)(A),N=Object(a.a)(w),k=Object(a.a)(P),L=(e,t={})=>async(s,r,{apiContext:n})=>{const a=r(),c=t.after||"",i=Object(S.d)(e,c),o=a.muted.fetchedTokens[i];if(a.muted.api.pending[i]||o)return;s(x({subredditId:e,fetchedToken:c}));const d=a.subreddits.models[e].name,u=await _(n(),d,t);u.ok?s(N(Object.assign({},u.body,{fetchedToken:c}))):s(k({subredditId:e,fetchedToken:c}))},U="SUBREDDIT_MUTEDUSERS_SEARCH_PENDING",M="SUBREDDIT_MUTEDUSERS_SEARCH_LOADED",F="SUBREDDIT_MUTEDUSERS_SEARCH_FAILED",G=Object(a.a)(U),B=Object(a.a)(M),q=Object(a.a)(F),$=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(G());const i=await _(n(),a,c);i.ok?s(B(i.body)):s(q(i.error))},V="SUBREDDIT_MUTEDUSERS_MUTED_SUCCESS",H="SUBREDDIT_MUTEDUSERS_UNMUTED_SUCCESS",K=Object(a.a)(V),W=Object(a.a)(H),Q=(e,t)=>async(s,r,{apiContext:a})=>{const i=r(),o=i.subreddits.models[e].url,d=await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/unfriend`,method:b.jb.POST,data:{api_type:"json",id:s,type:"muted"}}))(a(),o,t);if(d.ok)s(W({subredditId:e,userId:t}));else{const e=n()(d,"body.json.errors[0][1]",Object(c.a)(i.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Y=(e,t,s)=>async(r,a,{apiContext:i})=>{const o=a(),d=o.subreddits.models[e].url,l=o.subreddits.models[e].name;t=Object(E.a)(t);const m=await((e,t,s,r)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.jb.POST,data:{api_type:"json",name:s,note:r,type:"muted"}}))(i(),d,t,s);if(m.ok){const e={username:t};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(h.c)("Successfully muted a user")}));const s=await _(i(),l,e);s.ok&&r(K(s.body))}else{const e=n()(m,"body.json.errors[0][1]",Object(c.a)(o.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},z="SUBREDDIT__APPROVEDSUBMITTERS_PENDING",X="SUBREDDIT__APPROVEDSUBMITTERS_LOADED",J="SUBREDDIT__APPROVEDSUBMITTERS_FAILED",Z=Object(a.a)(z),ee=Object(a.a)(X),te=Object(a.a)(J),se=(e,t={})=>async(s,r,{apiContext:n})=>{const a=r(),c=t.after||"",i=Object(S.d)(e,c),o=a.approvedSubmitters.fetchedTokens[i];if(a.approvedSubmitters.api.pending[i]||o)return;s(Z({subredditId:e,fetchedToken:c}));const d=a.subreddits.models[e].name,u=await m(n(),d,t);u.ok?s(ee(Object.assign({},u.body,{fetchedToken:c}))):s(te({subredditId:e,fetchedToken:c}))},re="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_PENDING",ne="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_LOADED",ae="SUBREDDIT_APPROVEDSUBMITTERS_SEARCH_FAILED",ce=Object(a.a)(re),ie=Object(a.a)(ne),oe=Object(a.a)(ae),de=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(ce());const i=await m(n(),a,c);i.ok?s(ie(i.body)):s(oe(i.error))},ue="SUBREDDIT_APPROVEDSUBMITTERS_APPROVED_SUCCESS",le="SUBREDDIT_APPROVEDSUBMITTERS_UNAPPROVED_SUCCESS",be=Object(a.a)(ue),pe=Object(a.a)(le),Oe=(e,t)=>async(s,r,{apiContext:a})=>{const i=r(),o=i.subreddits.models[e].url,d=i.subreddits.models[e].name;t=Object(E.a)(t);const l=await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.jb.POST,data:{api_type:"json",name:s,type:"contributor"}}))(a(),o,t);if(l.ok){const e={username:t};s(Object(u.e)({kind:T.b.SuccessMod,text:Object(h.c)("Successfully added an approved submitter")}));const r=await m(a(),d,e);r.ok&&s(be(r.body))}else{const e=n()(l,"body.json.errors[0][1]",Object(c.a)(i.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},fe=(e,t)=>async(s,r,{apiContext:a})=>{const i=r(),o=i.subreddits.models[e].url,d=await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/unfriend`,method:b.jb.POST,data:{api_type:"json",id:s,type:"contributor"}}))(a(),o,t);if(d.ok)s(pe({subredditId:e,userId:t}));else{const e=n()(d,"body.json.errors[0][1]",Object(c.a)(i.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},me="SUBREDDIT__BANNEDUSERS_PENDING",je="SUBREDDIT__BANNEDUSERS_LOADED",ge="SUBREDDIT__BANNEDUSERS_FAILED",ye=Object(a.a)(me),_e=Object(a.a)(je),Ee=Object(a.a)(ge),he=(e,t={})=>async(s,r,{apiContext:n})=>{const a=r(),c=t.after||"",i=Object(S.d)(e,c),o=a.banned.fetchedTokens[i];if(a.banned.api.pending[i]||o)return;s(ye({subredditId:e,fetchedToken:c}));const d=a.subreddits.models[e].name,u=await j(n(),d,t);u.ok?s(_e(Object.assign({},u.body,{fetchedToken:c}))):s(Ee({subredditId:e,fetchedToken:c}))},Ie="SUBREDDIT_BANNEDUSERS_SEARCH_PENDING",Se="SUBREDDIT_BANNEDUSERS_SEARCH_LOADED",Te="SUBREDDIT_BANNEDUSERS_SEARCH_FAILED",ve=Object(a.a)(Ie),Ce=Object(a.a)(Se),De=Object(a.a)(Te),Re=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(ve());const i=await j(n(),a,c);i.ok?s(Ce(i.body)):s(De(i.error))},Ae="SUBREDDIT_BANNEDUSERS_BAN_SUCCESS",we="SUBREDDIT_BANNEDUSERS_UNBAN_SUCCESS",Pe=Object(a.a)(Ae),xe=Object(a.a)(we),Ne=(e,t,s)=>async(r,a,{apiContext:o})=>{const d=a(),l=d.subreddits.models[e].url,m=d.subreddits.models[e].name;t.username=Object(E.a)(t.username),r(Object(i.h)(s));const g=await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.jb.POST,data:{api_type:"json",ban_reason:s.reason,ban_message:s.banMessage,duration:s.duration,name:s.username,note:s.modNote,ban_context:s.contextId,type:"banned"}}))(o(),l,t);if(g.ok){r(Object(i.e)(s));const e={username:t.username};r(Object(u.e)({kind:T.b.SuccessMod,text:Object(h.c)("Successfully banned a user")}));const n=await j(o(),m,e);n.ok&&r(Pe(n.body))}else{r(Object(i.f)(s,g.error));const e=n()(g,"body.json.errors[0][1]",Object(c.a)(d.user.language,"error.type.generic"));r(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},ke=(e,t)=>async(s,r,{apiContext:a})=>{const i=r(),o=i.subreddits.models[e].url,d=await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/unfriend`,method:b.jb.POST,data:{api_type:"json",id:s,type:"banned"}}))(a(),o,t);if(d.ok)s(xe({subredditId:e,userId:t}));else{const e=n()(d,"body.json.errors[0][1]",Object(c.a)(i.user.language,"error.type.generic"));s(Object(u.e)({kind:T.b.Error,text:e,duration:3e3}))}},Le="SUBREDDIT__MODERATORS_PENDING",Ue="SUBREDDIT__MODERATORS_LOADED",Me="SUBREDDIT__MODERATORS_FAILED",Fe=Object(a.a)(Le),Ge=Object(a.a)(Ue),Be=Object(a.a)(Me),qe="SUBREDDIT__EDITABLEMODERATORS_PENDING",$e="SUBREDDIT__EDITABLEMODERATORS_LOADED",Ve="SUBREDDIT__EDITABLEMODERATORS_FAILED",He=Object(a.a)(qe),Ke=Object(a.a)($e),We=Object(a.a)(Ve),Qe=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(D.S)(a,{subredditId:e}).name,i=t&&t.after?t.after:"",o=t&&t.before?t.before:"",d=Object(S.d)(e,i,o),u=a.moderators.userOrder.data[d],l=a.moderators.userOrder.api.error[d];if(a.moderators.userOrder.api.pending[d]||u&&!l)return;s(Fe({subredditId:e,key:d}));const b=await g(n(),c,t);if(b.ok){const t={key:d,response:b.body,subredditId:e};s(Ge(t))}else{const t={error:b.error,subredditId:e,key:d};s(Be(t))}},Ye=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(D.S)(a,{subredditId:e}).name,i=t&&t.afterEditable?t.afterEditable:"",o=t&&t.beforeEditable?t.beforeEditable:"",d=Object(S.d)(e,i,o),u=a.moderators.editableUserOrder.data[d],l=a.moderators.editableUserOrder.api.error[d];if(a.moderators.editableUserOrder.api.pending[d]||u&&!l)return;s(He({subredditId:e,key:d}));const m=Object.assign({},t,{after:i,before:o}),j=await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/moderators_editable`,method:b.jb.GET,data:Object.assign({},s,{count:10})}))(n(),c,m);if(j.ok){const t={key:d,response:j.body,subredditId:e};s(Ke(t))}else{const t={key:d,error:j.error,subredditId:e};s(We(t))}},ze="SUBREDDIT__INVITEDMODERATORS_PENDING",Xe="SUBREDDIT__INVITEDMODERATORS_LOADED",Je="SUBREDDIT__INVITEDMODERATORS_FAILED",Ze=Object(a.a)(ze),et=Object(a.a)(Xe),tt=Object(a.a)(Je),st=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(D.S)(n,{subredditId:e}).name;if(n.moderators.invitedModerators.api.pending)return;t(Ze());const c=await y(r(),a);if(c.ok){const e=c.body;t(et(e))}else t(tt(c.error))},rt="SUBREDDIT__ADDMODERATOR__SUCCESS",nt=Object(a.a)("SUBREDDIT__ADDMODERATOR_PENDING"),at=Object(a.a)(rt),ct=Object(a.a)("SUBREDDIT__ADDMODERATOR__FAILED"),it=(e,t,s)=>async(r,n,{apiContext:a})=>{const c=n(),i=Object(D.S)(c,{subredditId:e}),o=i.name,d=i.url;t=Object(E.a)(t),r(nt());const l=Object(I.d)(s),m=await((e,t,s,r)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/friend`,method:b.jb.POST,data:{name:s,type:"moderator_invite",permissions:r,api_type:"json"}}))(a(),d,t,l);if(m.ok){const s=await y(a(),o,{username:t});if(m.ok){const t=s.body,n=t.moderatorIds[0];c.moderators.invitedModerators.models[e][n]?r(Object(u.e)({kind:T.b.SuccessCommunity,text:Object(h.c)("That user is already invited")})):(r(Object(u.e)({kind:T.b.SuccessMod,text:Object(h.c)("Successfully added a moderator")})),r(at(t)))}}else{const e=m.body.json&&m.body.json.errors;e&&e[0]&&e[0][1]&&r(Object(u.e)({kind:T.b.Error,text:e[0][1],duration:3e3})),r(ct())}},ot="SUBREDDIT__REMOVEMODERATOR__SUCCESS",dt=Object(a.a)("SUBREDDIT__REMOVEMODERATOR_PENDING"),ut=Object(a.a)(ot),lt=Object(a.a)("SUBREDDIT__REMOVEMODERATOR__FAILED"),bt="SUBREDDIT__RESIGNMODERATOR__SUCCESS",pt=Object(a.a)(bt),Ot=(e,t,s,r)=>async(n,a,{apiContext:c})=>{const i=a(),o=i.subreddits.models[e].name,d=Object(S.d)(e,s,r);if(n(dt()),(await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/unfriend`,method:b.jb.POST,data:{id:s,type:"moderator",r:t,api_type:"json"}}))(c(),o,t)).ok){n(ut({subredditId:e,userId:t,key:d}));const s=Object(R.j)(i);s&&s.id===t&&n(pt({subredditId:e,userId:t}))}else n(lt())},ft="SUBREDDIT__EDITMODERATOR__SUCCESS",mt=Object(a.a)("SUBREDDIT__EDITMODERATOR_PENDING"),jt=Object(a.a)(ft),gt=Object(a.a)("SUBREDDIT__EDITMODERATOR__FAILED"),yt=(e,t,s,r)=>async(n,a,{apiContext:c})=>{const i=a().subreddits.models[e].url;n(mt());const o=Object(I.d)(s);if((await((e,t,s,r)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/setpermissions`,method:b.jb.POST,data:{name:s,type:"moderator",permissions:r,api_type:"json"}}))(c(),i,t,o)).ok){n(jt({permissions:s,subredditId:e,userId:r}))}else n(gt())},_t="SUBREDDIT_MODERATORS_SEARCH_PENDING",Et="SUBREDDIT_MODERATORS_SEARCH_LOADED",ht="SUBREDDIT_MODERATORS_SEARCH_FAILED",It=Object(a.a)(_t),St=Object(a.a)(Et),Tt=Object(a.a)(ht),vt=(e,t)=>async(s,r,{apiContext:n})=>{const a=r().subreddits.models[e].name,c={username:Object(E.a)(t)};s(It());const i=await g(n(),a,c);i.ok?s(St(i.body)):s(Tt(i.error))},Ct="SUBREDDIT_MODERATORS_ACCEPT_INVITE_SUCCESS",Dt=Object(a.a)(Ct),Rt="SUBREDDIT_NEWMODERATORPERMISSIONS_LOADED",At=Object(a.a)(Rt),wt=e=>async(t,s,{apiContext:r})=>{const n=s(),a=n.user.account;if(!a)return;const c=n.subreddits.models[e],i=c.url,o=c.name;if((await((e,t)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}${t}api/accept_moderator_invite`,method:b.jb.POST,data:{api_type:"json"}}))(r(),i)).ok){t(Dt({subredditId:e})),t(Ye(e)),t(st(e)),t(Qe(e));const s={username:Object(v.f)(a)},n=await g(r(),o,s);if(n.ok){const s=n.body.moderators[a.id];s&&t(At({[e]:s.modPermissions}))}}},Pt="SUBREDDIT_MODERATORS_DECLINE_INVITE_SUCCESS",xt=Object(a.a)(Pt),Nt=e=>async(t,s,{apiContext:r})=>{const n=s().subreddits.models[e].name;(await((e,t)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/decline_mod_invite`,method:b.jb.POST,data:{api_type:"json"}}))(r(),n)).ok&&t(xt({subredditId:e}))},kt="SUBREDDIT__REMOVEINVITEDMODERATOR__SUCCESS",Lt=Object(a.a)("SUBREDDIT__REMOVEINVITEDMODERATOR_PENDING"),Ut=Object(a.a)(kt),Mt=Object(a.a)("SUBREDDIT__REMOVEINVITEDMODERATOR__FAILED"),Ft=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(D.S)(a,{subredditId:e}).name;s(Lt()),(await((e,t,s)=>Object(p.c)(Object(O.a)(e,[f.a]),{endpoint:`${e.apiUrl}/api/unfriend`,method:b.jb.POST,data:{id:s,type:"moderator_invite",r:t,api_type:"json"}}))(n(),c,t)).ok?s(Ut({subredditId:e,userId:t})):s(Mt())},Gt=e=>async(t,s,{apiContext:r})=>{const n=s();if(e&&!Object(C.b)(l.a.BAN_USER)(n)&&!n.subreddits.rules[e]){const s=Object(D.S)(n,{subredditId:e});await t(Object(d.o)(s.name))}t(Object(o.i)(l.a.BAN_USER))}},"./src/reddit/actions/subredditRules/constants.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"e",function(){return c}),s.d(t,"f",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"d",function(){return d});const r="SUBREDDIT__RULES_LOADED",n="SUBREDDIT__RULES_PENDING",a="SUBREDDIT__RULES_FAILED",c="SUBREDDIT__RULE_ADDED",i="SUBREDDIT__RULE_EDITED",o="SUBREDDIT__RULE_REMOVED",d="SUBREDDIT__RULES_REORDERED"},"./src/reddit/actions/subredditSettings.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return j}),s.d(t,"a",function(){return y}),s.d(t,"B",function(){return E}),s.d(t,"A",function(){return h}),s.d(t,"N",function(){return I}),s.d(t,"g",function(){return C}),s.d(t,"f",function(){return R}),s.d(t,"c",function(){return w}),s.d(t,"e",function(){return x}),s.d(t,"b",function(){return k}),s.d(t,"m",function(){return U}),s.d(t,"z",function(){return F}),s.d(t,"l",function(){return G}),s.d(t,"y",function(){return q}),s.d(t,"j",function(){return $}),s.d(t,"F",function(){return H}),s.d(t,"v",function(){return K}),s.d(t,"K",function(){return W}),s.d(t,"u",function(){return Q}),s.d(t,"J",function(){return Y}),s.d(t,"t",function(){return z}),s.d(t,"I",function(){return X}),s.d(t,"s",function(){return J}),s.d(t,"H",function(){return Z}),s.d(t,"q",function(){return ee}),s.d(t,"M",function(){return te}),s.d(t,"p",function(){return se}),s.d(t,"L",function(){return re}),s.d(t,"k",function(){return ne}),s.d(t,"x",function(){return ae}),s.d(t,"r",function(){return ce}),s.d(t,"E",function(){return ie}),s.d(t,"o",function(){return oe}),s.d(t,"n",function(){return ue}),s.d(t,"C",function(){return be}),s.d(t,"D",function(){return pe}),s.d(t,"h",function(){return Oe}),s.d(t,"G",function(){return me}),s.d(t,"w",function(){return je}),s.d(t,"i",function(){return ge}),s.d(t,"O",function(){return _e});var r=s("./node_modules/lodash/invert.js"),n=s.n(r),a=s("./src/app/strings/index.ts"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/endpoints/subreddit/settings.ts"),d=s("./src/reddit/actions/toaster.ts"),u=s("./src/reddit/helpers/trackers/submitValidation.ts"),l=s("./src/reddit/models/PostRequirements/index.ts"),b=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/models/User/index.ts"),O=s("./src/reddit/selectors/submitValidation.ts"),f=s("./src/reddit/selectors/subreddit.ts"),m=s("./src/reddit/selectors/user.ts");const j="SUBREDDIT_SETTINGS_POST_REQUIREMENTS_LOADED",g=Object(i.a)(j),y="SUBREDDIT_SETTINGS__POST_REQUIREMENTS_BY_SUBREDDIT_LOADED",_=Object(i.a)(y),E=e=>async(t,s,{apiContext:r})=>{t(L());const n=await Object(o.d)(r(),e);n&&n.ok&&t(g(n.body))},h=e=>async(t,s,{apiContext:r})=>{t(L());const n=await Object(o.d)(r(),e);n&&n.ok&&t(_({[e.toLowerCase()]:n.body}))},I=e=>async(t,s,{apiContext:r})=>{const n=s();var a=n.subredditSettings.postRequirements;const c=a.formState,i=a.initialData;if(i){t(D()),u.i(n);const s=S(c);if(null===s){const s=Object(l.a)(c),n=Object(l.c)(s,i),a=await Object(o.h)(r(),e,n);200===a.status?(t(g(s)),t(Object(d.e)({kind:b.b.SuccessCommunity,text:"Submission rules updated successfully"}))):t(N(a.body.explanation))}else t(P(s));t(A())}},S=e=>{const t=e.linkDomain,s=e.titleLength,r=e.postLength,n=e.reposts;var a=t.blacklist;const c=[];if((void 0===a?[]:a).filter(v).length&&c.push({formSection:"linkDomain",formField:"blacklist",error:"Blacklisted domains cannot include reddit hosted content."}),s.isToggled){const e=s.min,t=s.max;e&&e>300&&c.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than 300."}),e&&t&&e>t&&c.push({formSection:"titleLength",formField:"min",error:"Minimum must be less than or equal to maximum"}),t&&(t<2||t>300)&&c.push({formSection:"titleLength",formField:"max",error:"Maximum must be between 2 and 300."})}if(r.isToggled){const e=r.min,t=r.max;e&&e>4e4&&c.push({formSection:"postLength",formField:"min",error:"Minimum must be less than 40,000."}),e&&t&&e>t&&c.push({formSection:"postLength",formField:"min",error:"Minimum must be less than maximum"}),t&&(t<2||t>4e4)&&c.push({formSection:"postLength",formField:"max",error:"Maximum must be between 2 and 40,000."})}return n.isToggled&&n.days&&n.days>90&&c.push({formSection:"reposts",formField:"days",error:"Repost limit must 90 or less"}),c.length?c:null},T=/i\.redd\.it|v.redd.it/,v=e=>T.test(e),C="POST_REQUIREMENTS_UPDATE_STARTED",D=Object(i.a)(C),R="POST_REQUIREMENTS_UPDATE_FINISHED",A=Object(i.a)(R),w="POST_REQUIREMENTS_FORM_VALIDATION_FAILED",P=Object(i.a)(w),x="POST_REQUIREMENTS_UPDATE_FAILED",N=Object(i.a)(x),k="POST_REQUIREMENTS_FETCH_STARTED",L=Object(i.a)(k),U="POST_REQUIREMENTS_BODY_REQUIREMENT",M=Object(i.a)(U),F=e=>async(t,s,{apiContext:r})=>{u.d(s(),e),t(M(e))},G="POST_REQUIREMENTS_LINK_LIST_REQUIREMENT",B=Object(i.a)(G),q=e=>async(t,s,{apiContext:r})=>{u.a(s(),e),t(B(e))},$="POST_REQUIREMENTS_TOGGLE_SECTION",V=Object(i.a)($),H=e=>async(t,s,{apiContext:r})=>{const n=s(),a=Object(O.b)(n)[e].isToggled;t(V(e)),u.f(n,e,a)},K="UPDATE_TITLE_STRINGS",W=Object(i.a)(K),Q="UPDATE_TITLE_REGEX",Y=Object(i.a)(Q),z="UPDATE_TITLE_MIN_LENGTH",X=Object(i.a)(z),J="UPDATE_TITLE_MAX_LENGTH",Z=Object(i.a)(J),ee="UPDATE_POST_MIN_LENGTH",te=Object(i.a)(ee),se="UPDATE_POST_MAX_LENGTH",re=Object(i.a)(se),ne="UPDATE_LINK_DOMAINS",ae=Object(i.a)(ne),ce="UPDATE_REPOST_DAYS",ie=Object(i.a)(ce),oe="POST_REQUIREMENTS_POST_GUIDELINES_REQUIREMENT",de=Object(i.a)(oe),ue="POST_REQUIREMENTS_POST_GUIDELINES_GUIDELINE",le=Object(i.a)(ue),be=e=>async(t,s,{apiContext:r})=>{t(de(e))},pe=e=>async(t,s,{apiContext:r})=>{t(le(e))},Oe="SUBREDDIT_SETTINGS_LOADED",fe=Object(i.a)(Oe),me=(e,t)=>async(s,r,{apiContext:n})=>{if(!t||!Object(f.T)(r(),t)){const t=await Object(o.c)(n(),e);t&&t.ok&&s(fe(t.body))}},je=()=>async(e,t,{apiContext:s})=>{const r=Object(m.j)(t());r&&await e(me(c.uc+Object(p.f)(r)))},ge="SUBREDDIT_SETTINGS_UPDATE_SUCCESS",ye=Object(i.a)(ge),_e=(e,t)=>async(s,r,{apiContext:c})=>{const i=await Object(o.g)(c(),e,t),u=Object(m.Q)(r());if(i.ok){const t=Object(o.e)(i.body,n()(o.a));s(ye(Object.assign({},t,{subredditId:e}))),s(Object(d.e)({kind:b.b.SuccessCommunity,text:Object(a.a)(u,"subredditCreation.updateCommunitySuccess")}))}else s(Object(d.e)({kind:b.b.Error,text:Object(a.a)(u,"error.tryAgainLater")}))}},"./src/reddit/actions/subredditTopContent.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/preferences.ts"),a=s("./src/graphql/operations/SubredditTopContent.json"),c=s("./src/lib/makeGqlRequest/index.ts"),i=s("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts");s.d(t,"c",function(){return o}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"d",function(){return O});const o="SUBREDDIT_TOP_CONTENT__PENDING",d="SUBREDDIT_TOP_CONTENT__LOADED",u="SUBREDDIT_TOP_CONTENT__FAILED",l=Object(r.a)(o),b=Object(r.a)(d),p=Object(r.a)(u),O=e=>async(t,s,r)=>{const o=e.toLowerCase();var d=s().subreddits;const u=d.api,O=d.topContent;if(u.topContent.pending[o]||O[o])return;t(l({subredditName:o})),t(Object(n.x)());const f=await((e,t)=>Object(c.a)(e,Object.assign({},a,{variables:t})))(r.gqlContext(),{subredditName:o});if(f.ok){const e=f.body.data.subreddit;if(e){const s=Object(i.c)(e);s&&t(b(Object.assign({subredditName:o},s)))}}else t(p({subredditName:o,error:f.error}))}},"./src/reddit/actions/subscription/constants.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"h",function(){return c}),s.d(t,"i",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"e",function(){return l});const r="SUBSCRIPTION__FETCH_DATA_PENDING",n="SUBSCRIPTION__FETCH_DATA_SUCCESS",a="SUBSCRIPTION__FETCH_DATA_FAILURE",c="SUBSCRIPTION__SUBSCRIPTION_TOGGLED",i="SUBSCRIPTION__SUBSCIPTION_TOGGLE_FAILED",o="SUBSCRIPTION__ORDER_LOADED",d="SUBSCRIPTION__SUBREDDIT_FAVORITE_TOGGLED",u="SUBSCRIPTION__MULTI_FAVORITE_TOGGLED",l="SUBSCRIPTION__MULTI_FOLLOW_TOGGLED"},"./src/reddit/actions/subscription/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/app/strings/index.ts"),c=s("./src/lib/linkMatchers/customLinks.ts"),i=s("./src/reddit/actions/login.ts"),o=s("./src/reddit/actions/modal.ts"),d=s("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),u=s("./src/reddit/actions/monthsToMinutes/reset.ts"),l=s("./src/reddit/actions/subscription/constants.ts"),b=s("./src/reddit/actions/toaster.ts"),p=s("./src/reddit/constants/posts.ts"),O=s("./src/lib/makeApiRequest/index.ts"),f=s("./src/lib/omitHeaders/index.ts"),m=s("./src/reddit/constants/headers.ts");var j=s("./src/config.ts"),g=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");var y=s("./src/reddit/helpers/monthsToMinutes/index.ts"),_=s("./src/reddit/i18n/utils.ts"),E=s("./src/reddit/models/MonthsToMinutes/index.ts"),h=s("./src/reddit/models/Toast/index.ts"),I=s("./src/reddit/selectors/monthsToMinutes.ts"),S=s("./src/reddit/selectors/profile.ts"),T=s("./src/reddit/selectors/subreddit.ts"),v=s("./src/reddit/selectors/subscriptions.ts"),C=s("./node_modules/reselect/es/index.js");const D=Object(C.createSelector)(e=>e.toaster,(e,t)=>t,(e,t)=>e.find(e=>e.customToastType===t));var R=s("./src/reddit/selectors/user.ts");s.d(t,"e",function(){return k}),s.d(t,"d",function(){return L}),s.d(t,"c",function(){return M}),s.d(t,"a",function(){return G}),s.d(t,"b",function(){return q});const A=Object(_.c)("Sorry, failed to update favorites."),w=Object(n.a)(l.c),P=Object(n.a)(l.b),x=Object(n.a)(l.a),N=Object(n.a)(l.h),k=(Object(n.a)(l.i),Object(n.a)(l.g),()=>async(e,t,{apiContext:s})=>{const n=t();if(!n.user.account||n.subscriptions.api.fetched)return;e(P());const a=await(e=>Object(O.c)(e,{endpoint:`${j.a.gatewayUrl}/desktopapi/v1/subscriptions`,method:r.jb.GET}))(s());a.ok?e(w(a.body)):e(x({error:a.error}))}),L=(e,t,s)=>async(n,l,{apiContext:j})=>{const C=Object(R.Q)(l()),A=e.map(e=>e.type===p.a.SUBREDDIT?{id:Object(T.I)(l(),e.name),name:e.name,type:e.type}:{id:Object(S.m)(l(),e.name),name:`${r.uc}${e.name}`,type:e.type}),w=Object(I.x)(l())&&Object(I.n)(l());if(Object(R.I)(l()))if(n(N({identifiers:A,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:w,subredditModels:l().subreddits.models,subscriptionsCount:Object(v.c)(l()),userIsSubscriber:t,widgetId:s})),(await((e,{subredditIds:t,subredditNames:s,subscribe:n})=>Object(O.c)(Object(f.a)(e,[m.a]),{method:r.jb.POST,endpoint:Object(g.a)(`${e.apiUrl}/api/subscribe`),data:{action:n?"sub":"unsub",sr:t&&t.join(",")||void 0,sr_name:s&&s.join(",")||void 0,api_type:"json"}}))(j(),{subredditNames:A.map(({name:e})=>e),subscribe:t})).ok){if(t){const s=1===e.length?`${"subreddit"===e[0].type?c.c.subreddit:c.c.profile}${e[0].name}`:`${e.length} ${Object(_.a)("communities","community","communities",e.length)}`;n(Object(b.e)({text:1===e.length&&"profile"===e[0].type?Object(_.c)(`Sucсessfully ${t?"followed":"unfollowed"} ${Object(_.b)("communityname",s)}`):Object(_.c)(`Sucсessfully ${t?"joined":"left"} ${Object(_.b)("communityname",s)}`)}))}}else n(N({identifiers:A,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:w,subredditModels:l().subreddits.models,subscriptionsCount:Object(v.c)(l()),userIsSubscriber:!t,widgetId:s})),n(Object(b.e)(Object(b.d)(Object(a.a)(C,"profile.somethingWentWrongTryAgain"),h.b.Error)));else if(Object(I.x)(l())&&!e.some(e=>e.type===p.a.PROFILE)){let r=Object(v.c)(l());if(t&&r>=E.c)return void(D(l(),h.a.subscribeCap)||n(Object(b.e)({text:"",duration:-1,kind:h.b.Custom,customToastType:h.a.subscribeCap})));n(N({identifiers:A,nameIdentifiers:e,profileModels:l().profiles.models,shouldUpdateLoggedOutHomeFeed:w,subredditModels:l().subreddits.models,subscriptionsCount:Object(v.c)(l()),userIsSubscriber:t,widgetId:s}));const a=l();0===(r=Object(v.c)(a))?n(Object(u.b)()):Object(I.p)(a)?await n(Object(d.g)()):Object(I.n)(a)&&Object(y.d)(a)}else n(Object(o.l)({actionSource:o.a.Subscribe})),n(Object(i.b)())},U=Object(n.a)(l.f),M=e=>async(t,s,{apiContext:n})=>{const a=s(),c=Object(T.O)(a,{identifier:e});if(!c)throw new Error(`actions.subscription -- No subreddit or profile found with id ${e.id}`);const i=e.type===p.a.SUBREDDIT?c.name:`u_${c.name}`,o=a.subscriptions.favoriteSubredditOrder||[],d=a.subscriptions.favoriteProfileOrder||[],u=o.indexOf(e.id),l=d.indexOf(e.id),j=-1===u&&-1===l,g=a.subreddits.models,y=a.profiles.models;t(U({makeFavorite:j,identifier:e,subredditModels:g,profileModels:y}));const _={type:e.type,name:c.name},E=()=>Object(T.bb)(s(),{identifier:_});(E()||(await t(L([_],!0)),E()))&&((await((e,t,s)=>Object(O.c)(Object(f.a)(e,[m.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/favorite`,data:{make_favorite:s?"true":"false",sr_name:t,api_type:"json"}}))(n(),i,j)).ok||(t(U({makeFavorite:!j,identifier:e,subredditModels:g,profileModels:y})),t(Object(b.e)({text:A,kind:h.b.Error}))))},F=Object(n.a)(l.d),G=e=>async(t,s,{apiContext:n})=>{const a=s().multireddits.models,c=()=>{t(Object(b.e)({text:A,kind:h.b.Error}))},i=a[e];if(!i)return void c();const o=!i.isFavorited;t(F({makeFavorite:o,multiredditPath:e,multiredditsModelsState:a})),(await((e,t,s)=>Object(O.c)(Object(f.a)(e,[m.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/multi/favorite`,data:{make_favorite:s?"true":"false",multipath:t,api_type:"json"}}))(n(),e,o)).ok||(t(F({makeFavorite:!o,multiredditPath:e,multiredditsModelsState:a})),c())},B=Object(n.a)(l.e),q=e=>async(t,s,{apiContext:n})=>{const a=s(),c=a.multireddits.models;if(!Object(R.I)(a))return;const i=(e=!0)=>{t(Object(b.e)({text:Object(_.c)(`Sorry, failed to ${Object(_.b)("followAction",e?Object(_.c)("follow"):Object(_.c)("unfollow"))}`),kind:h.b.Error}))},o=c[e];if(!o)return void i();const d=!o.isFollowed;t(B({follow:d,multiredditPath:e,multiredditsModelsState:c})),(await((e,t,s)=>Object(O.c)(Object(f.a)(e,[m.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/multi/subscribe`,data:{action:s?"sub":"unsub",path:t,api_type:"json"},type:"json"}))(n(),e,d)).ok||(t(B({follow:!d,multiredditPath:e,multiredditsModelsState:c})),i(d))}},"./src/reddit/actions/tags.ts":function(e,t,s){"use strict";var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts");const c=e=>{const t=e.subreddit,s={global:{},[t.id]:{}};t.availableTags&&t.availableTags.edges.reduce((e,{node:t})=>(e[t.subreddit&&t.subreddit.id||"global"][t.id]=t,e),s);const r=t.tags.edges.reduce((e,{node:s})=>(e[t.id][s.tag.id]=s,e),{[t.id]:{}});return{globalSubredditTags:s.global,subredditScopedTags:{[t.id]:s[t.id]},subredditId:t.id,itemTags:r}};var i=s("./src/graphql/operations/CreateSubredditTags.json"),o=s("./src/lib/makeGqlRequest/index.ts");var d=s("./src/graphql/operations/DeleteTags.json");var u=s("./src/graphql/operations/FetchSubredditTags.json");const l=(e,{subredditId:t,pageSize:s=700,after:r,includeAvailableTags:n})=>Object(o.a)(e,Object.assign({},u,{variables:{subredditId:t,pageSize:s,after:r,includeAvailableTags:n}}));var b,p=s("./src/graphql/operations/UpdateSubredditTagStates.json");!function(e){e.TAGGED="TAGGED",e.NONE="NONE"}(b||(b={}));var O=s("./src/reddit/featureFlags/communityTopics.ts"),f=s("./src/reddit/helpers/trackers/communityTopics.ts"),m=s("./src/reddit/models/Toast/index.ts"),j=s("./src/reddit/reducers/tags/selected/index.ts"),g=s("./src/reddit/selectors/tags.ts"),y=s("./src/reddit/selectors/user.ts");s.d(t,"j",function(){return _}),s.d(t,"a",function(){return E}),s.d(t,"i",function(){return h}),s.d(t,"h",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"d",function(){return T}),s.d(t,"b",function(){return v}),s.d(t,"f",function(){return C}),s.d(t,"g",function(){return D}),s.d(t,"e",function(){return R}),s.d(t,"l",function(){return A}),s.d(t,"m",function(){return w}),s.d(t,"k",function(){return P}),s.d(t,"p",function(){return x}),s.d(t,"o",function(){return N}),s.d(t,"n",function(){return k}),s.d(t,"u",function(){return Y}),s.d(t,"t",function(){return z}),s.d(t,"s",function(){return X}),s.d(t,"r",function(){return J}),s.d(t,"q",function(){return re});const _="TAGS__REQUESTED",E="TAGS__AVAILABLE_LOADED",h="TAGS__LOADED",I="TAGS__FAILURE",S="TAGS__CREATE_REQUESTED",T="TAGS__CREATE_SUCCESS",v="TAGS__CREATE_FAILURE",C="TAGS__DELETE_REQUESTED",D="TAGS__DELETE_SUCCESS",R="TAGS__DELETE_FAILURE",A="TAGS__UPDATE_STATE_REQUESTED",w="TAGS__UPDATE_STATE_SUCCESS",P="TAGS__UPDATE_STATE_FAILURE",x="TAGS__OPTION_SELECTED",N="TAGS__OPTION_DESELECTED",k="TAGS__INPUT_CHANGED",L=Object(n.a)(_),U=Object(n.a)(E),M=Object(n.a)(h),F=Object(n.a)(I),G=Object(n.a)(S),B=Object(n.a)(T),q=Object(n.a)(v),$=Object(n.a)(C),V=Object(n.a)(D),H=Object(n.a)(R),K=Object(n.a)(A),W=Object(n.a)(w),Q=Object(n.a)(P),Y=Object(n.a)(x),z=Object(n.a)(N),X=Object(n.a)(k),J=(e,t=!1)=>async(s,n,{gqlContext:i})=>{const o=n();if(!Object(O.a)())return;s(L());const d=await l(i(),{subredditId:e});if(d.ok){const r=d.body;s(M(c(r.data))),t&&f.d(n(),e)}else s(F()),s(Object(a.e)(Object(a.d)(Object(r.a)(Object(y.Q)(o),"communityTopics.loadFailed"),m.b.Error,Object(r.a)(Object(y.Q)(o),"communityTopics.retry"),J(e,t))))},Z=e=>async(t,s,{gqlContext:n})=>{const i=s();if(!Object(O.a)())return;t(L());const o=await l(n(),{subredditId:e});if(o.ok){const e=o.body;t(U(c(e.data)))}else t(F()),t(Object(a.e)(Object(a.d)(Object(r.a)(Object(y.Q)(i),"communityTopics.loadFailed"),m.b.Error,Object(r.a)(Object(y.Q)(i),"communityTopics.retry"),Z(e))))},ee=(e,t)=>async(s,r,{gqlContext:n})=>{if(!t.length)return;s(G());const a=t.map(t=>Object.assign({subredditId:e},t)),c=await((e,t)=>Object(o.a)(e,Object.assign({},i,{variables:t})))(n(),{input:a}),d=c.body&&c.body.data||null;c.ok&&d&&d.createSubredditTags&&d.createSubredditTags.ok?s(B()):s(q())},te=(e,t)=>async(s,r,{gqlContext:n})=>{if(!t.length)return;s($());const a=await((e,t)=>Object(o.a)(e,Object.assign({},d,{variables:t})))(n(),{input:t}),c=a.body&&a.body.data||null;a.ok&&c&&c.deleteTags&&c.deleteTags.ok?s(V({subredditId:e,tags:t})):s(H())},se=(e,t)=>async(s,r,{gqlContext:n})=>{if(!t.length)return;s(K());const a=await((e,t)=>Object(o.a)(e,Object.assign({},p,{variables:t})))(n(),{input:{subredditId:e,tagStates:t}}),c=a.body&&a.body.data||null;a.ok&&c&&c.updateSubredditTagStates&&c.updateSubredditTagStates.ok?s(W()):s(Q())},re=e=>async(t,s,n)=>{const c=s(),i=Object(g.g)(c,{subredditId:e}),o=Object(g.d)(c,{subredditId:e}),d=Object(g.l)(c,{subredditId:e}),u=Object(g.m)(c,{subredditId:e}),l=i.filter(e=>!!e.id&&!!e.action).map(e=>({tagId:e.id,state:e.action===j.a.ADD?b.TAGGED:b.NONE}));if(d.length>0){const r=new Set([...Object.keys(o)]);await ee(e,d)(t,s,n),await Z(e)(t,s,n);const a=Object(g.d)(s(),{subredditId:e}),c=new Set([...Object.keys(a).filter(e=>!r.has(e))]);d.forEach(e=>{for(const t of c){const s=a[t];if(s&&s.text.toLowerCase()===e.text.toLowerCase()&&s.type===e.type)return c.delete(t),void l.push({tagId:s.id,state:b.TAGGED})}})}await Promise.all([se(e,l)(t,s,n),te(e,u)(t,s,n)]),Object(g.j)(s())&&t(Object(a.e)(Object(a.d)(Object(r.a)(Object(y.Q)(c),"communityTopics.savePartialFailed"),m.b.Error,Object(r.a)(Object(y.Q)(c),"communityTopics.retry"),re(e)))),t(J(e,!0))}},"./src/reddit/actions/tracking.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/lib/makeActionCreator/index.ts");const n="TRACKING__VIEWPORT_DATA_LOADED",a="TRACKING__VIEWPORT_DATA_UNLOADED",c=Object(r.a)(n);Object(r.a)(a)},"./src/reddit/actions/trophyCase.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./node_modules/lodash/pickBy.js"),a=s.n(n),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/omitHeaders/index.ts"),d=s("./src/lib/redditId/index.ts"),u=s("./src/reddit/constants/headers.ts");var l=(e,t)=>Object(i.c)(Object(o.a)(e,[u.a]),{method:c.jb.GET,endpoint:`${e.apiUrl}/user/${t}/trophies.json`}).then(e=>{const t=e.body&&e.body.data&&e.body.data.trophies;if(e.ok&&t){const s=a()(t.map(b),"id"),r=Object.keys(s);return Object.assign({},e,{body:{trophies:s,trophyIds:r}})}return e});const b=e=>({awardId:e.data.award_id,description:e.data.description||"",icon:e.data.icon_40||"",id:Object(d.b)(e.data.id,e.kind),name:e.data.name,url:e.data.url||""});s.d(t,"a",function(){return p}),s.d(t,"b",function(){return m});const p="TROPHYCASE__FETCH_SUCCESS",O=Object(r.a)(p),f=Object(r.a)("TROPHYCASE__FETCH_FAILED"),m=(e,t)=>async(s,r,{apiContext:n})=>{const a=await l(n(),e);a.ok?s(O(Object.assign({profileId:t,profileName:e},a.body))):s(f({profileId:t,error:a.error}))}},"./src/reddit/actions/upload.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return u}),s.d(t,"h",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"e",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"l",function(){return _}),s.d(t,"j",function(){return C}),s.d(t,"k",function(){return D}),s.d(t,"i",function(){return R});var r=s("./node_modules/lodash/get.js"),n=s.n(r),a=s("./node_modules/uuid/v4.js"),c=s.n(a),i=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/lib/uploadToS3/index.ts"),d=s("./src/reddit/models/Upload/index.ts");const u="UPLOAD_PENDING",l="UPLOAD_UPLOADING",b="UPLOAD_METADATA_CHANGED",p="UPLOAD_PROGRESS",O="UPLOAD_SUCCESS",f="UPLOAD_FAILED",m="UPLOAD_CANCELED",j="UPLOAD_REMOVED",g=Object(i.a)(u),y=Object(i.a)(l),_=Object(i.a)(b),E=Object(i.a)(p),h=Object(i.a)(O),I=Object(i.a)(f),S=Object(i.a)(m),T=Object(i.a)(j),v=new Map,C=(e,t)=>{const s=v.get(e)||[];s.push(t),v.set(e,s)},D=(e,t,s,r=!1)=>async(a,i,{apiContext:u})=>{const l=t;if(i().uploads[l]&&Object(d.d)(i().uploads[l]))return;const b=c()(),p=()=>{const e=i().uploads[l];return!e||e.id!==b||e.status===d.a.CANCELED};a(g({key:l,id:b,file:e}));var O=await s(i().uploads[l]);const f=O.uploadLease,m=O.error;if(p())return;if(m||!f)return void a(I({key:l,error:m}));let j;C(b,()=>{j&&j.abort()}),a(y({key:l}));const _=await Object(o.a)(e,f,e=>(j=e,r&&e.on("progress",e=>{if(!p()&&"upload"===e.direction){const t={percent:e.percent,total:e.total,uploaded:e.loaded};a(E({key:l,progress:t}))}}),e));if(j=null,!p())if(_.ok){const e=decodeURIComponent(_.body.PostResponse.Location);a(h({key:l,url:e}))}else{const e=n()(_,"body.Error.Message.0"),t=Object.assign({type:"ERROR"},e?{fields:[{field:"0",msg:e}]}:{});a(I({key:l,error:t}))}},R=(e,t=!1)=>(s,r)=>{const n=r().uploads[e];n&&(((e,t)=>{const s=v.get(e);s&&s.forEach(s=>s(e,t)),v.delete(e)})(n.id,t),s(t?T({key:e}):S({key:e})))}},"./src/reddit/actions/userBlocks.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"h",function(){return f}),s.d(t,"b",function(){return m}),s.d(t,"c",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"g",function(){return h});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/endpoints/accounts/index.ts"),i=s("./src/reddit/models/Toast/index.ts"),o=s("./src/reddit/selectors/user.ts");const d="USER_BLOCK__PENDING",u="USER_BLOCK__LOADED",l="USER_BLOCK__FAILED",b=Object(n.a)(d),p=Object(n.a)(u),O=Object(n.a)(l),f=e=>async(t,s,{apiContext:n})=>{const o=s();if(o.blockUser.api.pending[e])return;t(b({username:e}));const d=await Object(c.a)(n(),e),u=`error-block-${e}`;if(d.ok)d.body.name&&t(p(d.body)),t(a.f(u)),t(a.e({kind:i.b.SuccessCommunity,text:Object(r.a)(o.user.language,"settings.page.saveRequestSuccess")}));else{const s={type:d.error?d.error.type:"Unknown error",username:e};t(O(s)),t(a.e({id:u,kind:i.b.Error,text:Object(r.a)(o.user.language,"error.tryAgainLater"),buttonText:Object(r.a)(o.user.language,"reportFlow.blockUser.retry"),buttonAction:f(e)}))}},m="USER_UNBLOCK__PENDING",j="USER_UNBLOCK__SUCCESS",g="USER_UNBLOCK__FAILED",y=Object(n.a)(m),_=Object(n.a)(j),E=Object(n.a)(g),h=e=>async(t,s,{apiContext:n})=>{const d=s(),u=Object(o.j)(d),l=u?u.id:void 0;l&&(t(y({name:e})),(await Object(c.b)(n(),l,e)).ok?(t(_({name:e})),t(a.e({kind:i.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}))):(t(a.e({kind:i.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater")})),t(E({name:e}))))}},"./src/reddit/actions/userFlair.ts":function(e,t,s){"use strict";s.d(t,"i",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"d",function(){return y}),s.d(t,"b",function(){return I}),s.d(t,"h",function(){return C}),s.d(t,"c",function(){return w}),s.d(t,"g",function(){return k}),s.d(t,"f",function(){return L}),s.d(t,"e",function(){return G}),s.d(t,"o",function(){return V}),s.d(t,"n",function(){return H}),s.d(t,"m",function(){return K}),s.d(t,"l",function(){return W}),s.d(t,"j",function(){return Q}),s.d(t,"k",function(){return Y}),s.d(t,"p",function(){return z});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./node_modules/lodash/isEmpty.js"),c=s.n(a),i=s("./src/reddit/actions/authorFlair.ts"),o=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/endpoints/flair/index.ts"),u=s("./src/reddit/helpers/flair.ts"),l=s("./src/reddit/models/Flair/index.ts"),b=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/models/User/index.ts"),O=s("./src/reddit/selectors/subreddit.ts"),f=s("./src/reddit/selectors/user.ts"),m=s("./src/reddit/selectors/userFlair.ts");const j="USER_FLAIR_DATA__MUTATED",g="AUTHOR_FLAIR_DATA__MUTATED",y="STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_SUCCESS",_=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_PENDING"),E=Object(n.a)(y),h=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ENABLED_SETTING_FAILED"),I="STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_SUCCESS",S=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_PENDING"),T=Object(n.a)(I),v=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_ALLOW_ASSIGN_OWN_SETTING_FAILED"),C="STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_SUCCESS",D=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_PENDING"),R=Object(n.a)(C),A=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_SAVETEMPLATE_FAILED"),w="STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_SUCCESS",P=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_PENDING"),x=Object(n.a)(w),N=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_DELETETEMPLATE_FAILED"),k="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_PENDING",L="STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_FAILED",U=Object(n.a)(k),M=Object(n.a)("STRUCTURED_STYLES__USERFLAIR_REORDERTEMPLATES_SUCCESS"),F=Object(n.a)(L),G="USERFLAIR_FETCH_SUCCESS",B=Object(n.a)(G),q=Object(n.a)(j),$=Object(n.a)(g),V=(e,t,s,r,n)=>async(a,c,{apiContext:i})=>{const o=c(),l=o.user.account,b=l?Object(p.f)(l):void 0,f=Object(m.c)(o,{subredditId:n}),j=Object.assign({},f.displaySettings,{isUserEnabled:s}),g={userName:r,subredditId:n,applied:e,displaySettings:j};a(r===b?q(g):$(g));const y=Object(O.S)(o,{subredditId:n}),_=t&&e?Object(u.f)(e):void 0;Object(d.f)(i(),r,y.name,t,_),Object(d.h)(i(),s,y.name)},H=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(O.S)(a,{subredditId:e}).name;s(_());const i=await Object(d.k)(n(),c,t);if(i.ok){s(E({subredditId:e,isEnabled:t}))}else s(h());return i.ok},K=(e,t)=>async(s,r,{apiContext:n})=>{const a=r(),c=Object(O.S)(a,{subredditId:e}).name;s(S());const i=await Object(d.i)(n(),t,l.d.UserFlair,c);if(i.ok){s(T({subredditId:e,canAssignOwn:t}))}else s(v());return i.ok},W=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),i=Object(O.S)(c,{subredditId:t}).name,u=Object(f.Q)(c);s(D());const p=await Object(d.e)(a(),e,i,l.d.UserFlair),m=p.ok&&!(p.body&&!1===p.body.success);if(m){const e={subredditId:t,template:p.body};s(R(e));const n=Object(o.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairSaved"),b.b.SuccessMod);s(Object(o.e)(n))}else{s(A());const n=Object(o.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairNotSaved"),b.b.Error,Object(r.a)(u,"structuredStyles.forms.flair.toast.retryButtonText"),W(e,t));s(Object(o.e)(n))}return m},Q=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),i=Object(O.S)(c,{subredditId:t}).name,u=Object(f.Q)(c);if(s(P()),(await Object(d.b)(a(),e,i)).ok){s(x({subredditId:t,templateId:e}));const n=Object(o.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairDeleted"),b.b.SuccessMod);s(Object(o.e)(n))}else{s(N());const n=Object(o.d)(Object(r.a)(u,"structuredStyles.forms.flair.toast.flairNotDeleted"),b.b.Error,Object(r.a)(u,"structuredStyles.forms.flair.toast.retryButtonText"),Q(e,t));s(Object(o.e)(n))}},Y=(e,t)=>async(s,n,{apiContext:a})=>{const c=n(),i=Object(O.S)(c,{subredditId:t}).name,u=Object(m.c)(c,{subredditId:t}).templateIds,p=Object(f.Q)(c);if(s(U({subredditId:t,templateIds:e})),(await Object(d.d)(a(),i,l.d.UserFlair,e)).ok){s(M());const e=Object(o.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairReorderSuccess"),b.b.SuccessMod);s(Object(o.e)(e))}else{s(F({subredditId:t,templateIds:u}));const n=Object(o.d)(Object(r.a)(p,"structuredStyles.forms.flair.toast.flairReorderFailure"),b.b.Error,Object(r.a)(p,"structuredStyles.forms.flair.toast.retryButtonText"),Y(e,t));s(Object(o.e)(n))}},z=(e,t)=>async(s,n,{apiContext:a})=>{const u=n(),l=u.userFlair;if(l&&l[e]&&l[e].displaySettings.isEnabled&&c()(l[e].templateIds)){const n=Object(O.S)(u,{subredditId:e}).name,c=await Object(d.c)(a(),n);if(c.ok)s(B(c.body)),s(Object(i.b)({username:t,subredditId:e}));else{const e=Object(f.Q)(u),t=Object(o.d)(Object(r.a)(e,"error.type.generic"),b.b.Error);s(Object(o.e)(t))}}else s(Object(i.b)({username:t,subredditId:e}))}},"./src/reddit/actions/userWhitelist.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return o}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"g",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"a",function(){return j}),s.d(t,"h",function(){return E});var r=s("./src/app/strings/index.ts"),n=s("./src/lib/makeActionCreator/index.ts"),a=s("./src/reddit/actions/toaster.ts"),c=s("./src/reddit/endpoints/accounts/index.ts"),i=s("./src/reddit/models/Toast/index.ts");const o="USER_WHITELIST__PENDING",d="USER_WHITELIST__SUCCESS",u="USER_WHITELIST__FAILED",l=Object(n.a)(o),b=Object(n.a)(d),p=Object(n.a)(u),O=e=>async(t,s,{apiContext:n})=>{t(l());const o=await Object(c.d)(n(),e),d=s();o.ok?o.body.name&&(t(b(o.body)),t(a.e({kind:i.b.SuccessCommunity,text:Object(r.a)(d.user.language,"settings.page.saveRequestSuccess")}))):(t(p()),t(a.e({kind:i.b.Error,text:Object(r.a)(d.user.language,"error.tryAgainLater")})))},f="USER_UNWHITELIST__PENDING",m="USER_UNWHITELIST__SUCCESS",j="USER_UNWHITELIST__FAILED",g=Object(n.a)(f),y=Object(n.a)(m),_=Object(n.a)(j),E=e=>async(t,s,{apiContext:n})=>{const o=s();t(g({name:e})),(await Object(c.c)(n(),e)).ok?(t(y({name:e})),t(a.e({kind:i.b.SuccessCommunity,text:Object(r.a)(o.user.language,"settings.page.saveRequestSuccess")}))):(t(_({name:e})),t(a.e({kind:i.b.Error,text:Object(r.a)(o.user.language,"error.tryAgainLater")})))}},"./src/reddit/actions/usernameAvailable.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");var o;s.d(t,"b",function(){return o}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"f",function(){return j}),function(e){e[e.Available=0]="Available",e[e.Error=1]="Error",e[e.Pending=2]="Pending",e[e.Unavailable=3]="Unavailable"}(o||(o={}));const d="USERNAME_AVAILABLE__AVAILABLE",u="USERNAME_AVAILABLE__FAILURE",l="USERNAME_AVAILABLE__PENDING",b="USERNAME_AVAILABLE__UNAVAILABLE",p=Object(r.a)(d),O=Object(r.a)(u),f=Object(r.a)(l),m=Object(r.a)(b),j=({username:e})=>async(t,s,{apiContext:r})=>{const d=s().users.nameAvailable;if(!d[e]||d[e]===o.Error){t(f({username:e}));const s=await((e,t)=>Object(a.c)(Object(c.a)(e,[i.a]),{method:n.jb.GET,endpoint:`${e.apiUrl}/api/username_available.json?user=${t.username}`,type:"json"}))(r(),{username:e});s.ok?s.body?t(p({username:e})):t(m({username:e})):t(O({username:e}))}}},"./src/reddit/actions/vote.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/reddit/actions/login.ts"),a=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/actions/monthsToMinutes/homeFeed.ts"),i=s("./src/reddit/constants/adEvents.ts"),o=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/reddit/constants/headers.ts"),b=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");var p=s("./src/reddit/featureFlags/index.ts"),O=s("./src/reddit/helpers/favoriteCreators/index.ts"),f=s("./src/reddit/helpers/isComment.ts"),m=s("./src/reddit/helpers/isPost.ts"),j=s("./src/reddit/helpers/pixels.ts"),g=s("./src/reddit/models/Vote/index.ts"),y=s("./src/reddit/selectors/comments.ts"),_=s("./src/reddit/selectors/monthsToMinutes.ts"),E=s("./src/reddit/selectors/posts.ts"),h=s("./src/reddit/selectors/telemetry.ts"),I=s("./src/reddit/selectors/user.ts");s.d(t,"a",function(){return S}),s.d(t,"b",function(){return v});const S="VOTE__VOTE_CAST",T=Object(r.a)(S),v=(e,t)=>s=>async(r,S,{apiContext:v})=>{if(!Object(I.I)(S())&&!Object(_.x)(S()))return r(Object(a.l)({actionSource:a.a.Vote})),void r(Object(n.b)());const C=e(s,S),D=g.b(C,t),R=Object(m.a)(s)?C.postId:s;if(r(T({id:R,isInstance:!1,vote:t})),(S().posts.instances[R]||[]).forEach(e=>{r(T({id:e,isInstance:!0,vote:t}))}),D)if(Object(m.a)(s)){const e=Object(E.F)(S(),{postId:s}),r=t>0?i.a.Upvote:i.a.Downvote;Object(j.a)(e.events,r)}else if(Object(f.a)(s)){const e=Object(y.o)(S(),{commentId:s});if(e){const s=Object(E.F)(S(),{postId:e.postId}),r=t>0?i.a.CommentUpvote:i.a.CommentDownvote;Object(j.a)(s.events,r)}}const A=S();if(Object(m.a)(s)&&D===g.a.upvoted&&p.d.spFavoriteCreators(A)){const e=Object(E.F)(A,{postId:s});Object(O.c)(e.belongsTo.id,e.authorId)}if(Object(I.I)(A)){(await((e,t,s)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:Object(b.a)(`${e.apiUrl}/api/vote`),method:o.jb.POST,data:{id:t,dir:s,api_type:"json"}}))(v(),R,D)).ok||r(T({id:R,isInstance:!1,vote:t}))}else if(Object(_.x)(A)){const e=Object(h.subredditByPostOrCommentId)(A,s);e&&e.name&&r(Object(c.h)({id:s,subredditName:e.name})),await r(Object(c.g)())}}},"./src/reddit/actions/widgets.ts":function(e,t,s){"use strict";var r=s("./src/lib/makeActionCreator/index.ts"),n=s("./src/app/strings/index.ts"),a=s("./src/reddit/actions/apiRequestState.ts"),c=s("./src/reddit/actions/imageUploads.ts"),i=s("./src/reddit/actions/toaster.ts"),o=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/omitHeaders/index.ts"),l=s("./src/reddit/constants/headers.ts");var b=s("./src/reddit/helpers/getGenericUploadError.ts"),p=s("./src/reddit/helpers/media/index.ts"),O=s("./src/lib/assertNever.ts"),f=s("./src/reddit/selectors/subreddit.ts"),m=s("./src/reddit/models/Image/index.tsx"),j=s("./src/reddit/models/Toast/index.ts"),g=s("./src/reddit/models/Widgets/index.ts"),y=s("./src/reddit/selectors/user.ts");s.d(t,"c",function(){return _}),s.d(t,"h",function(){return h}),s.d(t,"e",function(){return I}),s.d(t,"j",function(){return T}),s.d(t,"d",function(){return v}),s.d(t,"i",function(){return D}),s.d(t,"b",function(){return R}),s.d(t,"l",function(){return w}),s.d(t,"f",function(){return P}),s.d(t,"g",function(){return x}),s.d(t,"a",function(){return N}),s.d(t,"k",function(){return L});const _="WIDGETS__WIDGET_CREATED",E=Object(r.a)(_),h=(e,t,s)=>async(r,p,O)=>{const _=O.apiContext;r(Object(a.h)(s));const h=p(),I=Object(f.S)(h,{subredditId:e}).name,S=Object(y.Q)(h),T=Object(g.l)(t);let v=null;try{v=await Object(c.f)(h,m.a.Widgets)}catch(D){const e=Object(b.a)("webSocket");return void r(Object(a.f)(s,e))}const C=await(async(e,t,s)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget`,method:o.jb.POST,type:"json",data:s}))(_(),I,T);if(C.ok){const o=C.body,d=o.id;if("calendar"===t.kind&&r(Object(i.e)({kind:j.b.SuccessMod,text:Object(n.a)(S,"structuredStyles.widgets.calendar.toastText.created")})),v)try{await Object(c.m)(v)(r,p,O)}catch(D){}r(E({subredditId:e,widget:o,widgetId:d})),r(Object(a.e)(s))}else v&&v.websocket.close(),r(Object(a.f)(s,C.error))},I="WIDGETS__WIDGET_UPDATED",S=Object(r.a)(I),T=(e,t,s)=>async(r,p,_)=>{const E=_.apiContext;r(Object(a.h)(s));const h=t.id,I=p(),T=Object(f.S)(I,{subredditId:e}).name,v=Object(y.Q)(I),C=Object(g.l)(t);let D=null,R=null;try{(D=await Object(c.f)(I,m.a.Widgets))&&(R=Object(c.m)(D)(r,p,_))}catch(w){const e=Object(b.a)("webSocket");return void r(Object(a.f)(s,e))}const A=await(async(e,t,s)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget/${s.id}`,method:o.jb.PUT,type:"json",data:s}))(E(),T,C);if(A.ok){const c=function(e,t,s){switch(e.kind){case"calendar":case"id-card":case"subreddit-rules":return Object.assign({},e,t);case"community-list":{const r={};for(const t of e.data)r[t.name]=t;return Object.assign({},t,{data:t.data.map(e=>{if(!("subscribers"in r[e])){const t={subredditName:e},r=Object(f.C)(s,t),n=Object(f.z)(s,t);return{name:r.name,subscribers:r?r.subscribers:void 0,iconUrl:r?r.communityIcon:void 0,isNSFW:r?r.isNSFW:void 0,isSubscribed:n?n.userIsSubscriber:void 0}}return r[e]})})}case"button":case"custom":case"image":case"menu":case"moderators":case"textarea":case"post-flair":return t;default:return Object(O.a)(e)}}(t,A.body,I);if(r(S({subredditId:e,widgetId:h,widget:c})),R)try{await R}catch(w){}"calendar"===t.kind&&r(Object(i.e)({kind:j.b.SuccessMod,text:Object(n.a)(v,"structuredStyles.widgets.calendar.toastText.updated")})),r(Object(a.e)(s))}else D&&D.websocket.close(),r(Object(a.f)(s,A.error))},v="WIDGET_DELETED",C=Object(r.a)(v),D=(e,t,s)=>async(r,n,{apiContext:c})=>{r(Object(a.h)(s));const i=t.id,b=Object(f.S)(n(),{subredditId:e}).name,p=await(async(e,t,s)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget/${s.id}`,method:o.jb.DELETE,type:"json"}))(c(),b,t);p.ok?(r(Object(a.e)(s)),r(C({subredditId:e,widgetId:i}))):r(Object(a.f)(s,p.error))},R="WIDGETS_SORTED",A=Object(r.a)(R),w=(e,t)=>async(s,r,{apiContext:n})=>{const a=Object(f.S)(r(),{subredditId:e}).name;(await(async(e,t,s)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget_order/sidebar`,method:o.jb.PATCH,type:"json",data:s}))(n(),a,t)).ok&&s(A({subredditId:e,widgetIds:t}))},P=({imageData:e})=>async(t,s,r)=>{const n=s(),a=n.structuredStyles.isEditing,i=Object(f.S)(n,{subredditId:a}).name;t(Object(c.k)(e));const b=await(async(e,t,s,r)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widget_image_upload_s3`,method:o.jb.POST,data:{filepath:s,mimetype:r}}))(r.apiContext(),i,e.file.name,await Object(p.g)(e.file));let O=!1;try{const r=await Object(c.g)(s(),b,e,m.a.Widgets);r&&(t(Object(c.j)(r)),O=!0)}catch(j){if(j instanceof Error)throw j;t(Object(c.i)(j))}return O},x=Object(r.a)("WIDGETS__STARTED_EDITING_WIDGET"),N="WIDGETS__LOADED",k=Object(r.a)(N),L=(e,t)=>async(s,r,{apiContext:n})=>{s(Object(a.h)(t));const c=Object(f.S)(r(),{subredditId:e}).name,i=await(async(e,t)=>Object(d.c)(Object(u.a)(e,[l.a]),{endpoint:`${e.apiUrl}/r/${t}/api/widgets`,method:o.jb.GET,type:"json"}))(n(),c);if(i.ok){const r=i.body;s(k({subredditId:e,widgets:r})),s(Object(a.e)(t))}else s(Object(a.f)(t,i.error))}},"./src/reddit/components/Comments/helpers/hiddenComments.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return a}),s.d(t,"c",function(){return c});let r={};function n(e){return e in r}function a(e){r[e]=!0}function c(){r={}}},"./src/reddit/constants/elementIds.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"b",function(){return c});const r="bladeContainer",n="header",a="overlayScrollContainer",c="collectionPostListScrollContainer"},"./src/reddit/constants/explore.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r=3,n=3},"./src/reddit/constants/gold.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a});const r="ModerationPage--Modal--AddAward",n="ModerationPage--Modal--DeleteAwardConfirmation",a=20},"./src/reddit/constants/inFeedChaining.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"c",function(){return c});const r=3,n=3,a=5,c=10},"./src/reddit/constants/listings.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a});s("./src/app/strings/index.ts");const r=new Set(["friends","random"]);var n;!function(e){e.All="all",e.Explore="explore",e.Home="home",e.News="news",e.Original="original",e.Popular="popular",e.SubredditCreation="subredditCreation"}(n||(n={}));const a={[n.Home]:"/",[n.Popular]:"/r/popular/",[n.All]:"/r/all/",[n.Original]:"/original/",[n.News]:"/news/",[n.Explore]:"/explore/",[n.SubredditCreation]:"/subreddits/create"}},"./src/reddit/constants/shortcuts.ts":function(e,t,s){"use strict";var r,n;s.d(t,"d",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"a",function(){return c}),function(e){e.CommentPage="CommentPage",e.Global="Global",e.Lightbox="Lightbox",e.Listing="Listing",e.Modqueue="Modqueue"}(r||(r={})),function(e){e.Close="CLOSE",e.CollapseOrLoad="COLLAPSE_OR_LOAD",e.Downvote="DOWNVOTE",e.Expando="EXPANDO",e.Hide="HIDE",e.Konami="KONAMI",e.NewPost="NEW_POST",e.NextComment="NEXT_COMMENT",e.NextPost="NEXT_POST",e.OpenIndex="OPEN_INDEX",e.OpenLightbox="OPEN_LIGHTBOX",e.OpenLink="OPEN_LINK",e.PrevComment="PREV_COMMENT",e.PrevPost="PREV_POST",e.Reply="REPLY",e.Save="SAVE",e.Upvote="UPVOTE"}(n||(n={}));const a="SHORTCUT_FOCUSABLE_DIV",c=[9,13,32]},"./src/reddit/constants/thumbnails.ts":function(e,t,s){"use strict";var r;!function(e){e.NSFW="nsfw",e.SELF="self",e.IMAGE="image",e.DEFAULT="default",e.SPOILER="spoiler"}(r||(r={})),t.a=r},"./src/reddit/constants/viewabilityEvents.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e[e.Viewable=1]="Viewable",e[e.VideoViewable=2]="VideoViewable",e[e.VideoFullyViewable=3]="VideoFullyViewable",e[e.Impression=4]="Impression"}(r||(r={}))},"./src/reddit/controls/FormFields/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return b}),s.d(t,"b",function(){return m}),s.d(t,"c",function(){return g}),s.d(t,"d",function(){return S}),s.d(t,"e",function(){return T});var r=s("./node_modules/react/index.js"),n=s.n(r),a=s("./bundled-modules/styled-components/styled-components.min.js"),c=s.n(a),i=s("./src/reddit/helpers/styles/mixins/fonts.tsx"),o=s("./src/reddit/icons/svgs/Plus/index.tsx"),d=s("./src/reddit/icons/svgs/Trash2/index.tsx"),u=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),l=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const b=c.a.input.withConfig({componentId:"s14d8grp-0"})(["background-color: ",";border: 1px solid ",";color: ",";box-sizing: border-box;height: 48px;margin-bottom: 8px;border-radius: 4px;padding: 12px 24px 4px 12px;width: 100%;&:focus {border: solid 1px #0079D3;}&:focus + label {top: 8px;left: 12px;}&:invalid + label {top: 8px;left: 12px;}"],e=>Object(u.c)(e).body,e=>Object(u.c)(e).line,e=>Object(u.c)(e).bodyText),p=c.a.label.withConfig({componentId:"s14d8grp-1"})(["","cursor: text;color: ",";position: absolute;top: ",";left: ",";transition: 0.2s;"],i.labelsFont,e=>Object(u.c)(e).actionIcon,e=>e.hasValue?"8px":"19px",e=>e.hasValue?"12px":"15px"),O=c.a.div.withConfig({componentId:"s14d8grp-2"})(["position: relative;display: inline-block;"," {background-color: ",";color: ",";padding-bottom: 12px;border-color: ","}"],b,e=>Object(u.c)(e).body,e=>Object(u.c)(e).bodyText,e=>!1===e.isValid?"#f00":"rgb(229, 229, 229)"),f=e=>{"LABEL"===e.target.tagName&&(e.target.parentElement.firstElementChild.focus(),e.stopPropagation())},m=e=>{e.label,e.children;const t=e.inputRef,s=e.className,r=l(e,["label","children","inputRef","className"]),a=void 0!==e.value&&""!==e.value;return n.a.createElement(O,{className:s,hasLabel:!!e.label,onClick:f,isValid:e.isValid},n.a.createElement(b,Object.assign({innerRef:t},r)),e.label&&n.a.createElement(p,{hasValue:a},e.label),e.children)},j=c.a.div.withConfig({componentId:"s14d8grp-3"})(["position: relative;display: inline-block;"," {background-color: ",";color: ",";padding-bottom: 0;&::placeholder {color: transparent;}&:focus {border: solid 1px ",";outline: none;&::placeholder {color: ",";}}}"],b,e=>Object(u.c)(e).body,e=>Object(u.c)(e).bodyText,e=>Object(u.c)(e).button,e=>Object(u.c)(e).metaText),g=e=>{e.label,e.children;const t=e.inputRef,s=e.className,r=e.redditStyle,a=l(e,["label","children","inputRef","className","redditStyle"]),c=void 0!==e.value&&""!==e.value;return n.a.createElement(j,{className:s,redditStyle:r,onClick:f},n.a.createElement(b,Object.assign({innerRef:t},a)),e.label&&n.a.createElement(p,{hasValue:c},e.label),e.children)},y=c()(d.b).withConfig({componentId:"s14d8grp-4"})(["height: 20px;&:hover {fill: rgb(114, 113, 113);}"]),_=c.a.div.withConfig({componentId:"s14d8grp-5"})(["position: absolute;cursor: pointer;top: 14px;right: 16px;display: inline-block;"]),E=c()(o.a).withConfig({componentId:"s14d8grp-6"})(["height: 17px;background-color: #A5A4A4;fill: white;border-radius: 3px;position: absolute;right: 16px;&:hover {background-color: rgb(114, 113, 113);}"]),h=c()(e=>n.a.createElement("div",{className:e.className,onClick:e.onClick},e.text," ",n.a.createElement(E,null))).withConfig({componentId:"s14d8grp-7"})(["background-color: ",";border: dashed 1px #ddd;color: ",";cursor: pointer;height: 32px;padding: 16px 12px 0px 12px;position: relative;border-radius: 4px;margin-bottom: 8px;"],e=>Object(u.c)(e).body,e=>Object(u.c)(e).bodyText),I=c.a.div.withConfig({componentId:"s14d8grp-8"})(["display: flex;flex-direction: column;padding: 0px 8px;"]);var S;!function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE"}(S||(S={}));class T extends n.a.Component{constructor(){super(...arguments),this.state={addingNewInputs:!1},this.addValue=(()=>{const e=this.props.values.slice();this.props.buttonOnTop?e.unshift(""):e.push(""),this.props.onChange(e),this.props.onEvent&&this.props.onEvent({action:S.ADD})}),this.updateValue=((e,t)=>{const s=this.props.values.slice();s[t]=e.target.value,this.props.onChange(s)}),this.removeValue=(e=>{const t=this.props.values.slice(),s=t[e];t.splice(e,1),this.props.onChange(t),this.props.onEvent&&this.props.onEvent({action:S.REMOVE,value:s,index:e})})}componentWillReceiveProps(e){e.values.length>this.props.values.length&&this.setState({addingNewInputs:!0})}componentDidUpdate(){this.focusedInput&&this.state.addingNewInputs&&(this.focusedInput.focus(),this.setState({addingNewInputs:!1}))}setInputRef(e,t){this.state.addingNewInputs&&(!this.props.buttonOnTop||this.props.buttonOnTop&&!t)&&(this.focusedInput=e)}renderFields(){var e=this.props;const t=e.values,s=e.disabled,r=e.label,a=e.placeholder;return t.map((e,t)=>n.a.createElement(m,{inputRef:e=>this.setInputRef(e,t),disabled:s,type:"text",label:r,onChange:e=>this.updateValue(e,t),placeholder:a,value:e,style:{paddingRight:"36px"}},n.a.createElement(_,{onClick:()=>this.removeValue(t)},n.a.createElement(y,null))))}render(){var e=this.props;const t=e.buttonOnTop,s=e.values,r=e.maxLength,a=e.addValueText,c=e.disabled;this.focusedInput=null;const i=!(!!r&&s.length>=r)&&!c;return n.a.createElement(I,{className:this.props.className},t&&i&&n.a.createElement(h,{onClick:this.addValue,text:a}),this.renderFields(),!t&&i&&n.a.createElement(h,{onClick:this.addValue,text:a}))}}},"./src/reddit/endpoints/accounts/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return u});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts");const i=async(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/block_user`,method:r.jb.POST}),o=async(e,t,s)=>Object(n.c)(Object(a.a)(e,[c.a]),{data:{name:s,container:t,type:"enemy"},endpoint:`${e.apiUrl}/api/unfriend`,method:r.jb.POST}),d=async(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/add_whitelisted?include_model`,method:r.jb.POST}),u=async(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{data:{name:t},endpoint:`${e.apiUrl}/api/remove_whitelisted`,method:r.jb.POST})},"./src/reddit/endpoints/category/categoryList.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return o});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/categories.tsx"),i=s("./src/reddit/constants/headers.ts");const o=e=>{const t={},s=[];return e.forEach((e,r)=>{const n={attr:e.category_attr,color:e.category_color||c.a[r%c.a.length],icon:e.category_icon,id:e.category_id,name:e.category_name};s.push(n.id),t[n.id]=n}),{categories:t,categoryIds:s}};t.a=(e=>Object(n.c)(Object(a.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/available_subreddit_categories.json?use_extended_categories=true`,method:r.jb.GET}))},"./src/reddit/endpoints/category/subreddits.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return d});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),i=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=e=>{const t=[],s=[],r={},n={};return e.data.children.forEach(({data:e})=>{const a=Object(i.a)(e);t.push(a.id),s.push(a.name),r[a.id]=a,n[a.id]={accountsActive:e.accounts_active,allOriginalContent:e.all_original_content,bannerBackgroundColor:e.banner_background_color,bannerBackgroundImage:e.banner_background_image,contentCategory:e.content_category,keyColor:e.key_color,originalContentTagEnabled:e.original_content_tag_enabled,publicDescription:e.public_description,subscribers:e.subscribers,userIsSubscriber:e.user_is_subscriber}}),{subredditIds:t,subredditNames:s,subreddits:r,subredditsAboutInfo:n}};t.a=((e,t,s=100)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(o.a)(`${e.apiUrl}/api/subreddits_in_category.json?category_id=${t}&limit=${s}`),method:r.jb.GET}))},"./src/reddit/endpoints/chat/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"i",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"f",function(){return m}),s.d(t,"e",function(){return j}),s.d(t,"h",function(){return g}),s.d(t,"a",function(){return _}),s.d(t,"g",function(){return h}),s.d(t,"j",function(){return I});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");const o="api/v1",d=`${o}/sendbird`;var u;!function(e){e.PUBLIC="all"}(u||(u={}));const l=10,b=10;class p extends Error{constructor(e,t){super(e),this.response=t}}const O=async(e,t,s)=>{const d={};return s&&(d.public_mode=u.PUBLIC),Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${o}/subreddit/${t}/channels`,method:n.jb.GET,data:d})},f=async(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${o}/subreddit/channels/create`,method:n.jb.POST,data:JSON.stringify({room:s.room,room_type:s.roomType,description:s.description,subreddit:s.subreddit,automute_account_age_threshold:s.minimumAcctAge,automute_on_join_duration:s.newMemberAge})}),m=async(e,t,s,d)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${o}/subreddit/channels/${t}`,method:n.jb.PUT,data:JSON.stringify({room:d.room,description:d.description,automute_account_age_threshold:d.minimumAcctAge,automute_on_join_duration:d.newMemberAge})}),j=async(e,t)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${o}/subreddit/channels/${t}`,method:n.jb.DELETE}),g=async e=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${d}/config`,method:n.jb.GET});var y,_;function E(e){const t={bannedWords:e.profanity_filter&&e.profanity_filter.keywords,regexes:e.profanity_filter&&e.profanity_filter.regex_filters,rateLimit:e.user_messages_per_channel,domains:e.domain_filter&&e.domain_filter.domains&&e.domain_filter.domains.join(", "),useDefaultProfanityFilter:e.profanity_filter&&e.profanity_filter.should_check_global,domainFilterOption:void 0};if(!1===e.allow_links)t.domainFilterOption=_.BLOCK_ALL_DOMAINS;else{var s=e.domain_filter;const r=(s=void 0===s?{type:void 0}:s).type;r===y.BLOCK_MODE?t.domainFilterOption=_.BLOCK_BANNED_DOMAINS:r===y.ALLOW_MODE?t.domainFilterOption=_.ALLOW_APPROVED_DOMAINS:t.domainFilterOption=_.ALLOW_ALL_DOMAINS}return t}async function h(e,t){const s=await Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${o}/chat/subreddit/${t}/settings`,method:n.jb.GET});if(s.ok&&s.body)return E(s.body)}async function I(e,t,s){const d=await Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${r.a.sendbirdServiceUrl}/${o}/chat/subreddit/${t}/settings`,method:n.jb.PUT,data:JSON.stringify(function(e){const t={};return e.rateLimit&&e.rateLimit>0&&(t.user_messages_per_channel=e.rateLimit,t.user_messages_per_channel_duration=b),void 0===e.bannedWords&&void 0===e.regexes&&void 0===e.useDefaultProfanityFilter||(t.profanity_filter={keywords:e.bannedWords,regex_filters:e.regexes,should_check_global:e.useDefaultProfanityFilter}),e.domainFilterOption===_.BLOCK_ALL_DOMAINS?(t.allow_links=!1,t.domain_filter={type:y.DISABLE}):e.domainFilterOption===_.ALLOW_ALL_DOMAINS?(t.allow_links=!0,t.domain_filter={type:y.DISABLE}):e.domainFilterOption===_.ALLOW_APPROVED_DOMAINS&&e.domains?(t.allow_links=!0,t.domain_filter={type:y.ALLOW_MODE,domains:e.domains.split(",")}):e.domainFilterOption===_.BLOCK_BANNED_DOMAINS&&e.domains&&(t.allow_links=!0,t.domain_filter={type:y.BLOCK_MODE,domains:e.domains.split(",")}),t}(s))});if(d.ok&&d.body)return Object.assign({},d,{body:E(d.body)});throw new p("Failed to update subreddit chat settings",d)}!function(e){e[e.BLOCK_MODE=2]="BLOCK_MODE",e[e.ALLOW_MODE=1]="ALLOW_MODE",e[e.DISABLE=0]="DISABLE"}(y||(y={})),function(e){e.ALLOW_ALL_DOMAINS="Allow all domains",e.ALLOW_APPROVED_DOMAINS="Allow links to approved domains",e.BLOCK_BANNED_DOMAINS="Block links to banned domains",e.BLOCK_ALL_DOMAINS="Block all domains"}(_||(_={}))},"./src/reddit/endpoints/economics/tips.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/config.ts"),n=s("./src/reddit/endpoints/governance/requester.ts");function a(e,t){return Object(n.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:`${r.a.metaUrl}/tips-details/${t.subredditId}`,method:"post",data:{contentIds:t.contentIds}})}},"./src/reddit/endpoints/flair/index.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"h",function(){return u}),s.d(t,"k",function(){return l}),s.d(t,"j",function(){return b}),s.d(t,"i",function(){return p}),s.d(t,"e",function(){return O}),s.d(t,"b",function(){return f}),s.d(t,"d",function(){return m}),s.d(t,"c",function(){return j}),s.d(t,"a",function(){return g});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts");const o=(e,t,s,r,o,d)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/r/${s}/api/selectflair`,method:n.jb.POST,data:{api_type:"json",flair_template_id:r,name:t,text:o,css_class:d}}),d=(e,t,s,r)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/selectflair`,method:n.jb.POST,data:{api_type:"json",flair_template_id:s,link:t,text:r}}),u=(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/r/${s}/api/setflairenabled`,method:n.jb.POST,data:{api_type:"json",flair_enabled:t}}),l=async(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/enable_sr_user_flair.json`,method:n.jb.POST,data:{subreddit:t,enabled:s}}),b=async(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/enable_sr_link_flair.json`,method:n.jb.POST,data:{subreddit:t,enabled:s}}),p=async(e,t,s,r)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/enable_sr_user_flair_self_assign.json`,method:n.jb.POST,data:{subreddit:r,flair_type:s,enabled:t}}),O=async(e,t,s,r)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/flairtemplate_v2`,method:n.jb.POST,data:{allowable_content:t.allowableContent,css_class:t.cssClass,flair_template_id:t.id,text:t.text,text_editable:t.textEditable,flair_type:r,text_color:t.textColor,background_color:t.backgroundColor,max_emojis:t.maxEmojis,mod_only:t.modOnly,r:s}}),f=async(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/deleteflairtemplate`,method:n.jb.POST,data:{flair_template_id:t,r:s}}),m=async(e,t,s,r)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/v1/${t}/flair_template_order/${s}`,method:n.jb.PATCH,type:"json",data:r}),j=async(e,t)=>Object(a.c)(e,{endpoint:`${r.a.gatewayUrl}/desktopapi/v1/subreddits/${t}/userFlair`,method:n.jb.GET,headers:{[i.a]:i.a}}),g=async(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/r/${s}/api/deleteflair`,method:n.jb.POST,data:{api_type:"json",name:t}})},"./src/reddit/endpoints/gold/communityAwards.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return f}),s.d(t,"h",function(){return m}),s.d(t,"a",function(){return j}),s.d(t,"b",function(){return g}),s.d(t,"f",function(){return y}),s.d(t,"g",function(){return _}),s.d(t,"d",function(){return E}),s.d(t,"e",function(){return h});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/makeGqlRequest/index.ts"),c=s("./src/graphql/operations/DeleteAward.json"),i=s("./src/graphql/operations/DisableAward.json"),o=s("./src/lib/omitHeaders/index.ts"),d=s("./src/lib/uploadToS3/index.ts"),u=s("./src/graphql/operations/CreateCommunityAward.json"),l=s("./src/graphql/operations/CreateModAward.json"),b=s("./src/graphql/operations/ManageableAwards.json"),p=s("./src/graphql/operations/UsableAwards.json"),O=s("./src/reddit/constants/headers.ts");const f=(e,t,s,a)=>{const c={subreddit:t,filepath:s,mimetype:a};return Object(n.c)(Object(o.a)(e,[O.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v1/community_awards/award_asset_upload_s3`,data:c})},m=async(e,t)=>Object(d.a)(t,e),j=(e,t,s,r,n,c,i)=>Object(a.a)(e,Object.assign({},u,{variables:{coinPrice:i,iconHeight:c,iconWidth:n,iconUrl:r,name:s,subredditId:t}})),g=(e,t,s,r,n,c,i)=>Object(a.a)(e,Object.assign({},l,{variables:{iconHeight:c,iconWidth:n,iconUrl:r,monthsOfPremium:i,name:s,subredditId:t}})),y=(e,t)=>Object(a.a)(e,Object.assign({},b,{variables:{subredditId:t}})),_=(e,t)=>Object(a.a)(e,Object.assign({},p,{variables:{subredditId:t}})),E=(e,t)=>Object(a.a)(e,Object.assign({},c,{variables:{awardId:t}})),h=(e,t)=>Object(a.a)(e,Object.assign({},i,{variables:{awardId:t}}))},"./src/reddit/endpoints/gold/purchase.ts":function(e,t,s){"use strict";s.d(t,"g",function(){return l}),s.d(t,"f",function(){return b}),s.d(t,"h",function(){return p}),s.d(t,"d",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"b",function(){return y});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),i=s("./src/reddit/helpers/genericServerError/index.ts"),o=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),d=s("./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts");const u=(e,t)=>e.ok?e.body.json&&e.body.json.errors.length?Object.assign({},e,{ok:!1,error:Object(d.a)(e)}):Object.assign({},e):Object.assign({},e,{error:e.error||Object(i.a)(t)}),l=async({coins:e,context:t,correlationId:s,language:i,pennies:o,rememberCard:d,token:l,savedCardId:b})=>{const p={token:l?l.id:void 0,coins:e,pennies:o,remember_card:d,card_id:b,correlation_id:s};return Object(n.c)(Object(a.a)(t,[c.a]),{method:r.jb.POST,endpoint:`${t.apiUrl}/api/v2/gold/stripe/buy_coins`,data:p}).then(e=>u(e,i))},b=async({coins:e,context:t,correlationId:s,gildParams:i,language:d,pennies:l,rememberCard:b,thingId:p,token:O,savedCardId:f})=>{const m=i.gildType,j=i.includeMessage,g=i.isAnonymous,y=i.message,_={token:O?O.id:void 0,coins:e,pennies:l,thing_id:p,gild_type:m,message:j?y:"",is_anonymous:g,remember_card:b,card_id:f,correlation_id:s};return Object(n.c)(Object(a.a)(t,[c.a]),{method:r.jb.POST,endpoint:`${t.apiUrl}/api/v2/gold/stripe/buy_coins_and_gild`,data:_}).then(e=>(e&&e.ok&&e.body&&e.body.gildings&&(e.body.gildings=Object(o.a)(e.body.gildings)),Object.assign({},e))).then(e=>u(e,d))},p=async({context:e,correlationId:t,language:s,pennies:i,token:o})=>{const d={token:o.id,pennies:i,correlation_id:t};return Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v2/gold/stripe/buy_premium_subscription`,data:d}).then(e=>u(e,s))},O=async(e,t,s,i)=>{const o={button_id:s,correlation_id:i};return Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v2/gold/paypal/initiate_coins_payment`,data:o}).then(e=>u(e,t))},f=async(e,t,s,i)=>{const o={button_id:s,correlation_id:i};return Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v2/gold/paypal/initiate_premium_payment`,data:o}).then(e=>u(e,t))},m=async(e,t,s,i,o,d,l,b)=>{const p={button_id:s,thing_id:i,gild_type:o,message:d,is_anonymous:l,correlation_id:b};return Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v2/gold/paypal/initiate_coins_and_gild_payment`,data:p}).then(e=>u(e,t))},j=async(e,t,s)=>{const i={token:s.id};return Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v2/gold/stripe/update_creditcard`,data:i}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(d.a)(e)}))},g=async(e,t)=>{const s={card_id:t};return Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:`${e.apiUrl}/api/v2/gold/stripe/delete_creditcard`,data:s}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(d.a)(e)}))},y=async(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.GET,endpoint:`${e.apiUrl}/api/v2/gold/stripe/creditcards`}).then(e=>e.ok?Object.assign({},e):Object.assign({},e,{error:Object(d.a)(e)}))},"./src/reddit/endpoints/governance/badges.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return i});var r=s("./src/config.ts"),n=s("./src/reddit/endpoints/governance/requester.ts");async function a(e,t){const s=Object(n.a)(e,{method:"get",endpoint:`${r.a.metaUrl}/badges/${t}?selected=true`}),a=await s;if(a.ok){const e={},t={},s=a.body;return Object.keys(s).forEach(r=>{const n=s[r];t[r]=n,e[n.userId]||(e[n.userId]=[]),e[n.userId].push(n.id)}),Object.assign({},a,{body:{badges:t,usersAppliedBadges:e}})}return a}async function c(e,t,s){const a=await Object(n.a)(e,{method:"get",endpoint:`${r.a.metaUrl}/badges/${t}?users=${s}`});if(a.ok){const e={},t=[],s=a.body;return Object.keys(s).forEach(r=>{const n=s[r];e[r]=n,t.push(n.id)}),Object.assign({},a,{body:{badges:e,userOwnedBadges:t}})}return a}function i(e,t,s,a=!0){return Object(n.a)(e,{method:"patch",endpoint:`${r.a.metaUrl}/badges/${t}/${s}`,data:{selected:a}})}},"./src/reddit/endpoints/governance/posts.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/config.ts"),n=(s("./src/reddit/models/Poll/index.ts"),s("./src/reddit/endpoints/governance/requester.ts"));function a(e,t,s){return Object(n.a)(e,{method:"get",endpoint:`${r.a.metaUrl}/polls/${t}?postIds=${s.join(",")}`})}},"./src/reddit/endpoints/governance/products/badges.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return c});var r=s("./src/config.ts"),n=s("./src/reddit/endpoints/governance/requester.ts");function a(e,t){return Object(n.a)(e,{method:"get",endpoint:`${r.a.metaUrl}/products/${t}?types=badge`})}function c(e,t){return Object(n.a)(e,{method:"post",endpoint:`${r.a.metaUrl}/orders`,data:t})}},"./src/reddit/endpoints/governance/requester.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/lib/makeApiRequest/index.ts");function n(e,t){return Object(r.c)(e,Object.assign({},t,{type:"json"})).then(e=>{if(e.ok)return{body:e.body,ok:!0,status:e.status};return{error:e.error&&e.error.fields&&e.error.fields[0]?e.error.fields[0].msg:Object.assign({},e.body,{code:e.status}),ok:!1,status:e.status}})}},"./src/reddit/endpoints/me/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts");const c=e=>Object(a.c)(e,{endpoint:`${r.a.gatewayUrl}/desktopapi/v1/me`,method:n.jb.GET})},"./src/reddit/endpoints/modQueue/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u});var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/omitHeaders/index.ts"),i=s("./src/reddit/constants/headers.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const d=(e,t,s)=>Object(a.c)(e,{endpoint:Object(o.a)(`${r.a.gatewayUrl}/desktopapi/v1/${t}`),method:n.jb.GET,data:Object.assign({moderated_limit:25},s)}),u=(e,t,s)=>Object(a.c)(Object(c.a)(e,[i.a]),{endpoint:`${e.apiUrl}/api/v1/modactions/${t}`,method:n.jb.POST,type:"json",data:s})},"./src/reddit/endpoints/moderator/moderatingSubreddits.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts");t.a=(async e=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/subreddit_permissions`,method:r.jb.GET}))},"./src/reddit/endpoints/page/commentsPage.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=((e,t,s,i)=>Object(a.c)(e,{data:i,endpoint:s?Object(c.a)(`${r.a.gatewayUrl}/desktopapi/v1/postcomments/${t}/${s}`):Object(c.a)(`${r.a.gatewayUrl}/desktopapi/v1/postcomments/${t}`),method:n.jb.GET,traceRequestName:"get_comments_page"}))},"./src/reddit/endpoints/page/frontpage.ts":function(e,t,s){"use strict";var r,n=s("./src/config.ts"),a=s("./src/graphql/operations/Frontpage.json"),c=s("./src/lib/constants/index.ts"),i=s("./src/lib/makeApiRequest/index.ts"),o=s("./src/lib/makeGqlRequest/index.ts"),d=s("./src/lib/performanceTimings/index.tsx");!function(e){e.Card="CARD",e.Classic="CLASSIC",e.Compact="COMPACT"}(r||(r={}));var u=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),l=s("./src/reddit/constants/postLayout.ts");function b(e){return e?l.b[e]:l.e}var p=s("./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts"),O=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),f=s("./src/reddit/selectors/user.ts");s.d(t,"c",function(){return j}),s.d(t,"d",function(){return g}),s.d(t,"b",function(){return y});var m=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const j=(e,t)=>Object(o.a)(e,Object.assign({},a,{variables:t})),g=(e,t)=>{const s=t.isMobile,n=t.layout,a=t.sort,c=t.t,i=Object(f.O)(e),o={recentPostIds:e.posts.recent,includeIdentity:i&&!e.user.account,includeFeatured:!0,adContext:{layout:n?n.toUpperCase():r.Card,reddaid:e.user.reddaid}};return a&&(o.sort=a.toUpperCase()),c&&(o.range=c.toUpperCase()),s&&(o.pageSize=b(n)),o},y=async(e,t,s)=>{const r=Date.now(),n=await j(e,t),a=Date.now();if(!n.ok)return n;const i=Date.now(),o=Object(p.a)(n.body.data),u=Date.now(),l=[{duration:a-r,logKeyType:d.a.gqlFetchTiming},{duration:u-i,logKeyType:d.a.gqlNormalizationTiming}];return Object(d.g)(c.r.FRONTPAGE,s,l),Object.assign({},n,{body:o})};t.a=((e,t)=>{let r={};if(t){const e=t.isMobile,s=t.recentPostIds,n=m(t,["isMobile","recentPostIds"]);r=Object.assign({},n,e?{limit:b(t.layout)}:{},s?{recentPostIds:s.join(",")}:{})}return t&&t.useMockData?(()=>new Promise(async e=>{const t=await s.e("MockData").then(s.bind(null,"./src/reddit/endpoints/page/mocks/frontpage.ts")).then(e=>e.default);setTimeout(()=>e(t()),2e3)}))():Object(i.c)(e,{endpoint:Object(u.a)(Object(O.a)(`${n.a.gatewayUrl}/desktopapi/v1/frontpage`)),method:c.jb.GET,data:Object.assign({},r),traceRequestName:"get_frontpage"})})},"./src/reddit/endpoints/page/multiredditListing.ts":function(e,t,s){"use strict";var r=s("./src/graphql/operations/MultiredditListing.json"),n=s("./src/lib/makeGqlRequest/index.ts");t.a=((e,t)=>Object(n.a)(e,Object.assign({},r,{variables:t})))},"./src/reddit/endpoints/page/originalContentPage.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),i=s("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=((e,t)=>Object(a.c)(e,{data:t,endpoint:Object(c.a)(Object(i.a)(`${r.a.gatewayUrl}/desktopapi/v1/original`)),method:n.jb.GET}))},"./src/reddit/endpoints/page/profileOverviewPage.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return d});var r=s("./src/config.ts"),n=s("./src/lib/addAllowQuarantinedParam/index.ts"),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeApiRequest/index.ts"),i=s("./src/reddit/models/RichTextJson/addRTJParam.ts");const o=(e,t,s)=>Object(c.c)(e,{data:s,endpoint:Object(n.a)(Object(i.a)(`${r.a.gatewayUrl}/desktopapi/v1/user/${t}/conversations`)),method:a.jb.GET}).then(e=>"pinned"in e.body?e:"postIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.postIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e),d=(e,t,s)=>Object(c.c)(e,{data:s,endpoint:Object(n.a)(Object(i.a)(`${r.a.gatewayUrl}/desktopapi/v1/user/${t}/overview`)),method:a.jb.GET}).then(e=>"pinned"in e.body?e:"overviewIds"in e.body?Object.assign({},e,{body:Object.assign({},e.body,{pinned:e.body.overviewIds.filter(t=>e.body.posts[t]&&e.body.posts[t].isPinned).reverse()})}):e)},"./src/reddit/endpoints/page/search.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/lib/search/index.ts"),i=s("./src/reddit/helpers/correlationIdTracker.ts"),o=s("./src/reddit/models/RichTextJson/addRTJParam.ts");t.a=((e,t,s,d)=>Object(a.c)(e,{data:((e,t)=>{let s=t?Object.assign({},e,{type:e.restrict_sr?"link":e.type}):e;(s=s.type?s:Object.assign({},s,{type:"link,sr,user"})).q=Object(c.a)(e.q);const r=Object(i.c)(i.a.SearchResults);return r&&(s.search_correlation_id=r),s})(d||{},t),endpoint:Object(o.a)(s?`${r.a.gatewayUrl}/desktopapi/v1/multireddits/${s}/${t}/search`:t?`${r.a.gatewayUrl}/desktopapi/v1/subreddits/${t}/search`:`${r.a.gatewayUrl}/desktopapi/v1/search`),method:n.jb.GET}))},"./src/reddit/endpoints/page/subredditPage.ts":function(e,t,s){"use strict";var r=s("./src/config.ts"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/makeApiRequest/index.ts"),c=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),i=s("./src/reddit/models/RichTextJson/addRTJParam.ts"),o=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};t.a=((e,t,s)=>Object(a.c)(e,{endpoint:Object(c.a)(Object(i.a)(`${r.a.gatewayUrl}/desktopapi/v1/subreddits/${t}`)),method:n.jb.GET,data:s&&(e=>{var t=e.recentPostIds,s=o(e,["recentPostIds"]);return t&&t.length?Object.assign({},s,{recentPostIds:t.join(",")}):s})(s)||{},traceRequestName:"get_subreddit_page"}))},"./src/reddit/endpoints/post/convert.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),i=s("./src/reddit/helpers/addRedesignIdentifier/index.ts"),o=s("./src/reddit/models/PostCreationForm/index.ts");t.a=((e,t,s)=>{const d={output_mode:"markdown"===t?t:"rtjson"};return t===o.h.MARKDOWN?d.richtext_json=s:d.markdown_text=s,Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/convert_rte_body_format`),method:r.jb.POST,data:d})})},"./src/reddit/endpoints/post/draft/helpers.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});var r=s("./src/reddit/constants/originalContent.ts"),n=s("./src/reddit/helpers/flair.ts"),a=s("./src/reddit/models/PostDraft/index.ts");const c=e=>({id:e.json.data.id,draftsCount:e.json.data.drafts_count}),i=e=>{switch(e){case"link":return a.b.Link;case"markdown":return a.b.Markdown;case"richtext":return a.b.RichText;default:return"self"}},o=e=>Object.assign({id:e.draftId||void 0},(e=>e.destSubreddit.id?{subreddit:e.destSubreddit.id,target:e.destSubreddit.isProfile?"profile":"subreddit"}:{})(e),{kind:(e=>{switch(e.kind){case a.b.Link:return"link";case a.b.Markdown:return"markdown";case a.b.RichText:return"richtext";default:return"self"}})(e),title:(e=>e.title.substring(0,300))(e),body:(e=>{switch(e.kind){case a.b.Link:case a.b.Markdown:return e.body;case a.b.RichText:return JSON.stringify({document:e.body})}})(e),spoiler:e.isSpoiler,nsfw:e.isNSFW,original_content:e.isOC,content_category:e.ocCategory===r.c?void 0:e.ocCategory||void 0},(e=>e?{flair_id:e.templateId||null,flair_text:Object(n.f)(e)||null,flair_text_color:e.textColor||null,flair_background_color:e.backgroundColor||null}:{flair_id:null,flair_text:null,flair_text_color:null,flair_background_color:null})(e.flair),{send_replies:e.sendReplies,is_public_link:e.isPublicLink})},"./src/reddit/endpoints/post/index.tsx":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeApiRequest/index.ts"),a=s("./src/lib/omitHeaders/index.ts"),c=s("./src/reddit/constants/headers.ts"),i=s("./src/reddit/helpers/addRedesignIdentifier/index.ts");var o=s("./src/reddit/helpers/reportPage/index.ts");s.d(t,"b",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"f",function(){return b}),s.d(t,"g",function(){return p}),s.d(t,"s",function(){return O}),s.d(t,"i",function(){return f}),s.d(t,"u",function(){return m}),s.d(t,"k",function(){return j}),s.d(t,"j",function(){return g}),s.d(t,"v",function(){return y}),s.d(t,"p",function(){return _}),s.d(t,"l",function(){return E}),s.d(t,"c",function(){return h}),s.d(t,"o",function(){return I}),s.d(t,"w",function(){return S}),s.d(t,"q",function(){return T}),s.d(t,"x",function(){return v}),s.d(t,"h",function(){return C}),s.d(t,"t",function(){return D}),s.d(t,"r",function(){return R}),s.d(t,"a",function(){return A}),s.d(t,"m",function(){return w}),s.d(t,"n",function(){return x});const d=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/approve`),method:r.jb.POST,data:{id:t}}),u=(e,t,s)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/distinguish/${s}`),method:r.jb.POST,data:{id:t}}),l=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/fetch_title`),method:r.jb.POST,data:{url:t,api_type:"json"}}),b=(e,t,s)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/follow_post`),method:r.jb.POST,data:{follow:s,fullname:t}}),p=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/hide`),method:r.jb.POST,data:{id:t}}),O=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/unhide`),method:r.jb.POST,data:{id:t}}),f=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/lock`),method:r.jb.POST,data:{id:t}}),m=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/unlock`),method:r.jb.POST,data:{id:t}}),j=(e,t,s)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/set_original_content`),method:r.jb.POST,data:{fullname:t,should_set_oc:s}}),g=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/marknsfw`),method:r.jb.POST,data:{id:t}}),y=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/unmarknsfw`),method:r.jb.POST,data:{id:t}}),_=(e,t,s)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/sendreplies`,method:r.jb.POST,data:{id:t,state:s}}),E=(e,t,s)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/remove`),method:r.jb.POST,data:{id:t,spam:s}}),h=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/del`),method:r.jb.POST,data:{id:t}}),I=(e,t)=>((e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/save`),method:r.jb.POST,data:{id:t}}))(e,t),S=(e,t)=>((e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/unsave`),method:r.jb.POST,data:{id:t}}))(e,t),T=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/spoiler`),method:r.jb.POST,data:{id:t}}),v=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:Object(i.a)(`${e.apiUrl}/api/unspoiler`),method:r.jb.POST,data:{id:t}}),C=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/ignore_reports`,method:r.jb.POST,data:{id:t}}),D=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/unignore_reports`,method:r.jb.POST,data:{id:t}}),R=(e,t,s,i)=>Object(n.c)(Object(a.a)(e,[c.a]),{endpoint:`${e.apiUrl}/api/set_subreddit_sticky`,method:r.jb.POST,data:{id:t,state:s,to_profile:i}});var A;!function(e){e.Rule="rule",e.SiteRule="siteRule",e.Other="other",e.FileComplaint="fileComplaint"}(A||(A={}));const w=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:Object(i.a)(`${e.apiUrl}/api/report`),data:P(t)}),P=e=>{const t={thing_id:e.id,api_type:"json"},s=e.reason;switch(s.kind){case A.Other:return Object.assign({},t,{reason:"other",other_reason:s.rule});case A.Rule:return Object.assign({},t,{reason:s.rule,rule_reason:s.rule});case A.SiteRule:default:return Object.assign({},t,{reason:"site_reason_selected",site_reason:s.rule})}},x=(e,t)=>Object(n.c)(Object(a.a)(e,[c.a]),{method:r.jb.POST,endpoint:Object(i.a)(`${e.apiUrl}/api/report`),data:N(t)}),N=e=>{const t=Object(o.a)(e);return Object.assign({},t,{api_type:"json",from_help_desk:!0})}},"./src/reddit/endpoints/subreddit/posts.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/graphql/operations/SubredditPosts.json"),n=s("./src/lib/makeGqlRequest/index.ts");const a=(e,t)=>Object(n.a)(e,Object.assign({},r,{variables:t}))},"./src/reddit/endpoints/subreddit/rules.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/camelCase.js"),n=s.n(r),a=s("./node_modules/lodash/mapKeys.js"),c=s.n(a),i=s("./src/graphql/operations/SubredditRules.json"),o=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeApiRequest/index.ts"),u=s("./src/lib/makeGqlRequest/index.ts"),l=s("./src/lib/omitHeaders/index.ts"),b=s("./src/reddit/constants/headers.ts"),p=s("./src/reddit/helpers/graphql/helpers.ts"),O=s("./src/reddit/models/Rule/index.ts");s.d(t,"b",function(){return m}),s.d(t,"c",function(){return j}),s.d(t,"a",function(){return y}),s.d(t,"f",function(){return _}),s.d(t,"d",function(){return E}),s.d(t,"e",function(){return h});const f=({rules:e})=>({rules:e.map(e=>Object.assign({},c()(e,(e,t)=>n()(t)),{kind:"link"===e.kind?"post":e.kind}))}),m=(e,t)=>Object(u.a)(e,Object.assign({},i,{variables:{subredditName:t}})).then(e=>(e.ok&&e.body&&(e.body=(e=>{return{rules:(e.data.subreddit&&e.data.subreddit.rules||[]).map(e=>({kind:O.b[e.kind],description:e.content.markdown,descriptionHtml:e.content.markdown,descriptionRichText:e.content.richtext,shortName:e.name,violationReason:e.violationReason||"",createdUtc:Object(p.k)(e.createdAt,p.a.Millis),priority:e.priority}))}})(e.body)),e)),j=(e,t)=>Object(d.c)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/user/${t}/about/rules.json`,method:o.jb.GET}).then(e=>(e.ok&&e.body.rules&&(e.body=f(e.body)),e)),g=e=>e.ok?(e.body=Object(O.g)(JSON.parse(e.body.json.data.rules)),e):e.body,y=async(e,t,s)=>Object(d.c)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/add_subreddit_rule`,method:o.jb.POST,data:{r:t,short_name:s.rule,kind:s.kind===O.a.post?"link":s.kind,violation_reason:s.reason,description:s.description,api_type:"json",raw_json:1}}).then(e=>g(e)),_=async(e,t,s,r)=>Object(d.c)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/update_subreddit_rule`,method:o.jb.POST,data:{r:t,short_name:s.rule,kind:s.kind===O.a.post?"link":s.kind,violation_reason:s.reason,description:s.description,old_short_name:r,api_type:"json",raw_json:1}}).then(e=>g(e)),E=async(e,t,s)=>Object(d.c)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/remove_subreddit_rule`,method:o.jb.POST,data:{r:t,short_name:s,api_type:"json",raw_json:1}}).then(e=>g(e)),h=async(e,t,s)=>Object(d.c)(Object(l.a)(e,[b.a]),{endpoint:`${e.apiUrl}/api/reorder_subreddit_rules`,method:o.jb.POST,data:{r:t,new_rule_order:(e=>e.map(e=>encodeURIComponent(e)).join())(s),api_type:"json",raw_json:1}}).then(e=>g(e))},"./src/reddit/helpers/adCount/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return i});var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),a=s("./src/reddit/selectors/platform.ts");const c=(e,t,s)=>[e,t,s].join("/"),i=(e,t)=>{switch(t){case n.a.SUBREDDIT:case n.a.COMMENTS_OVERLAY:case n.a.COMMENTS:{const t=Object(a.i)(e);return[c(r.d.ABOVE_THE_FOLD,t,0),c(r.d.BELOW_THE_FOLD,t,1)]}case n.a.FRONTPAGE:return[c(r.d.ABOVE_THE_FOLD,!1,0),c(r.d.BELOW_THE_FOLD,!1,1)];case n.a.MULTIREDDIT:case n.a.SEARCH_RESULTS:return[c(r.d.BELOW_THE_FOLD,!1,0)];default:return[c(r.d.ABOVE_THE_FOLD,!1,0),c(r.d.BELOW_THE_FOLD,!1,1)]}}},"./src/reddit/helpers/canonicalUrls.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return b});var r=s("./node_modules/react-router-redux/es/index.js"),n=s("./src/lib/addQueryParams/index.ts"),a=s("./src/lib/isAdHocMultireddit/index.ts"),c=s("./src/lib/isFakeSubreddit/index.ts"),i=s("./src/reddit/selectors/multireddit.ts"),o=s("./src/reddit/selectors/subreddit.ts");const d=(e,t,s)=>{const a=s.params,c=s.queryParams,o=s.url,d=a.multiredditName,u=a.username,l=Object(i.g)(e,{multiredditName:d,username:u});if(!l)return;const b=o===l,p=o.endsWith("/");if(b&&p)return;const O=p?o:`${o}/`,f=b?O:`${l}${O.substr(l.length)}`;t(Object(r.c)(Object(n.a)(f,c)))},u=(e,t,s)=>{const a=s.params,c=s.queryParams,i=s.url,d=a.subredditName;if(d){const s=`/user/${d}/`,a=i.endsWith("/"),u=Object(o.a)(e,{profileName:d});if(!u)return;const l=s===u;if(l&&a)return;const b=a?i:`${i}/`,p=l?b:b.replace(s,u);t(Object(r.c)(Object(n.a)(p,c)))}},l=(e,t)=>{let s;if(Object(c.a)(t)&&Object(a.a)(t)){const r=Object(i.a)(e,{listingName:t}).subredditIds;if(!r)return;s=`/r/${Object(o.Y)(e,{subredditIds:r}).map(e=>e.name).sort().join("+")}/`}return s},b=(e,t,s)=>{const i=s.params,d=s.queryParams,u=s.url,b=i.subredditName;if(b){const s=`/r/${b}/`,i=u.endsWith("/");let p=u;if(Object(c.a)(b)&&Object(a.a)(b)){const t=l(e,b);t&&(p=t)}else{const t=Object(o.c)(e,{subredditName:b});if(!t)return;const r=(Object(c.a)(b)?s.toLowerCase():s)===t;if(r&&i)return;const n=i?u:`${u}/`;p=r?n:n.replace(s,t)}t(Object(r.c)(Object(n.a)(p,d)))}}},"./src/reddit/helpers/commentList/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/constants/comments.ts"),n=s("./src/reddit/selectors/comments.ts"),a=s("./src/reddit/constants/experiments.ts"),c=s("./src/reddit/helpers/chooseVariant/index.ts");s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"a",function(){return l});const i=(e,t)=>t().comments.models[e],o=e=>{switch(e.commentLink.type){case r.a.Comment:return e.commentsDict[e.commentLink.id];case r.a.MoreComments:return e.moreCommentsDict[e.commentLink.id];case r.a.ContinueThread:return e.continueThreadDict[e.commentLink.id]}},d=(e,t)=>e.type===r.a.MoreComments?t[e.id].numComments:1,u=(e,t,s,r)=>{let a=Object(n.p)(r,{commentLink:t,commentsPageKey:e}),c=t;for(;a&&a.depth>s&&a.prev&&(c=a.prev,(a=Object(n.p)(r,{commentLink:c,commentsPageKey:e}))&&!(a.depth<=s)););return c.id},l=(e,t,s)=>{const r=e.commentLists,n=e.comments;if(r[t].head)return Object.keys(n).filter(e=>{const t=n[e];return!(!t.isStickied||!((e,t)=>{const s=Object(c.b)(e,{experimentEligibilitySelector:c.a,experimentName:a.e,expEventOverride:t});return!!(Object(a.zb)(s)?void 0:s)})(s))||(e=>!1!==e.collapsed)(t)})}},"./src/reddit/helpers/correlationIdTracker.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"b",function(){return d});var r,n=s("./node_modules/uuid/v4.js"),a=s.n(n);!function(e){e.Explore="Explore",e.GildingFlow="GildingFlow",e.GiftPremiumFlow="GiftPremiumFlow",e.GoldPayment="GoldPayment",e.PostComposer="PostComposer",e.PremiumSettings="PremiumSettings",e.RabbitHole="RabbitHole",e.SearchResults="SearchResults"}(r||(r={}));const c={},i=e=>c[e],o=e=>c[e]=a()(),d=e=>c[e]=void 0},"./src/reddit/helpers/economics/sortBadges.ts":function(e,t,s){"use strict";function r(e,t){if(e.placement&&!t.placement)return-1;if(t.placement&&!e.placement)return 1;if(e.position&&!t.position)return-1;if(t.position&&!e.position)return 1;let s=0;return e.placement&&t.placement&&(s=e.placement.localeCompare(t.placement)),0===s&&e.position&&t.position&&(s=e.position-t.position),0===s&&(s=e.title.localeCompare(t.title)),s}function n(e){return[...e].sort(r)}s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n})},"./src/reddit/helpers/favoriteCreators/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/config.ts"),a=s("./src/reddit/endpoints/governance/requester.ts");var c=s("./src/reddit/endpoints/economics/tips.ts");s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return O}),s.d(t,"d",function(){return f});const i={creators:{},lastFetch:0,posts:[],tippablePosts:{}},o=e=>`favorite-creators-${e}`,d=e=>{try{const s=localStorage.getItem(o(e));if(s)return Object.assign({},i,JSON.parse(s))}catch(t){}return i},u=(e,t)=>{try{return localStorage.setItem(o(e),JSON.stringify(t)),!0}catch(s){}return!1},l=e=>{const t=d(e).creators;return Object.keys(t).sort((e,s)=>t[e]-t[s]).slice(0,100)},b=e=>{const t=d(e);return{posts:t.posts,tippablePosts:t.tippablePosts}},p=async(e,t)=>{const s=d(t),i=l(t);if(i.length&&(s.lastFetch<Date.now()-5*r.kb||!s.posts.length)){const r=await function(e,t){return Object(a.a)(e,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:`${n.a.metaUrl}/favorite-creators/${t.subredditId}/posts`,method:"post",data:{creatorIds:t.creatorIds}})}(e,{subredditId:t,creatorIds:i});if(r.ok){const n=r.body.posts;s.posts=n,s.lastFetch=Date.now();const a=await Object(c.a)(e,{subredditId:t,contentIds:n.map(e=>e.id)});if(a.ok){const e=a.body,t={};n.forEach(s=>{const r=e[s.id];r&&r.amounts&&r.amounts.usdr&&r.amounts.usdr.tipsProportions&&r.amounts.usdr.tipsProportions.creator&&(t[s.id]=!0)}),s.tippablePosts=t}u(t,s)}}return{posts:s.posts,tippablePosts:s.tippablePosts}},O=(e,t)=>{const s=d(e);if(Object.keys(s.creators).length>=200&&!s.creators[t]){const t=l(e),r=t[t.length-1];delete s.creators[r]}return s.creators[t]=(s.creators[t]||0)+1,u(e,s)},f=(e,t)=>{const s=d(e);return delete s.creators[t],u(e,s)}},"./src/reddit/helpers/filterListingResponse/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/findLastIndex.js"),n=s.n(r),a=s("./src/reddit/selectors/telemetry.ts"),c=s("./src/telemetry/index.ts"),i=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};t.a=((e,t,s)=>{var r=s.postIds,o=s.posts,d=i(s,["postIds","posts"]);const u=e.listings.postOrder.ids[t],l=(r||[]).filter(e=>!u||!u.includes(e)),b=u.map(t=>e.posts.models[t]),p=b.length-(n()(b,e=>e.isSponsored)+1),O=l.map(e=>o[e]);let f;const m=[];for(let n=0;n<O.length;n++){const s=O[n];s.isSponsored&&(null==f&&p+n>=3||n-f>=3)?(f=n,m.push(s.id)):s.isSponsored?s.isSponsored&&Object(c.a)(Object.assign({source:"feed",action:"remove",noun:"ad"},a.defaults(e),{listing:a.listing(e,t)})):m.push(s.id)}return Object.assign({},d,{posts:o,postIds:m})})},"./src/reddit/helpers/genericServerError/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/app/strings/index.ts");const a=Object(n.e)("error.type.generic");t.a=(e=>({type:r.I.SERVER_ERROR,fields:[{field:"",msg:a(e)}]}))},"./src/reddit/helpers/getGenericUploadError.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/lib/constants/index.ts");function n(e){return{type:r.I.UNKNOWN_ERROR,fields:[{field:e,msg:"Image failed to upload"}]}}},"./src/reddit/helpers/getTimeSortForListing/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/listingSort/index.ts");t.a=((e,t)=>{if(e)return Object(n.a)(e)?t||r.rc:void 0})},"./src/reddit/helpers/governanceErrorText/index.ts":function(e,t,s){"use strict";function r(e){return e[0].toUpperCase()+e.slice(1)}function n(e){return"extra"in e?"string"==typeof e.extra?e.extra:Object.keys(e.extra).map(t=>e.extra[t]).map(r).join(" "):"Something wen't wrong. Please try again later."}s.d(t,"a",function(){return n})},"./src/reddit/helpers/graphql/helpers.ts":function(e,t,s){"use strict";s.d(t,"l",function(){return c}),s.d(t,"j",function(){return i}),s.d(t,"i",function(){return o}),s.d(t,"h",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"k",function(){return l}),s.d(t,"b",function(){return p}),s.d(t,"c",function(){return O}),s.d(t,"f",function(){return f}),s.d(t,"d",function(){return m}),s.d(t,"g",function(){return j}),s.d(t,"e",function(){return y});var r=s("./src/reddit/models/Gold/Award.ts"),n=s("./src/reddit/models/Gold/Gild/index.tsx"),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const c=(e,t=null)=>{try{return JSON.parse(e)}catch(s){return t}},i=e=>{switch(e){case"UP":return 1;case"DOWN":return-1;default:return 0}},o=e=>e.reduce((e,{type:t,total:s})=>{const r=Object(n.f)(t.id);return r&&(e[r]=s),e},{gid1:0,gid2:0,gid3:0}),d=e=>e.reduce((e,{award:t,total:s})=>{if(void 0!==t.icon){const n=Object(r.d)(t,s);e.push(n)}return e},[]);var u;!function(e){e[e.Seconds=3]="Seconds",e[e.Millis=0]="Millis"}(u||(u={}));const l=(e,t=u.Seconds)=>{if(!e)return 0;let s=Date.parse(e);return Number.isNaN(s)&&(s=Date.parse(e.replace("+0000","Z"))),Number.isNaN(s)||s<=0?0:s-s%Math.pow(10,t)},b=e=>{const t={},s=e.split("?")[1];if(!s)return t;const r=s.split("&");for(const i of r){var n=i.split("="),c=a(n,2);const e=c[0],s=c[1];t[e]=s}return t},p=(e,t,s=[])=>{if("string"!=typeof e||"string"!=typeof t||e.split("?")[0]!==t.split("?")[0])return!1;const r=["auto","crop",...s],n=b(e),a=b(t);return[...new Set([...Object.keys(n),...Object.keys(a)])].filter(e=>!r.includes(e)).every(e=>{switch(e){case"s":return n[e]&&a[e];case"blur":const t=parseInt(n[e]),s=parseInt(a[e]);return!isNaN(t)&&!isNaN(s)&&Math.abs(t-s)<=10;default:return n[e]===a[e]}})},O=(e,t)=>e===t||p(e,t),f=()=>!0,m=(e,t)=>e&&e.toUpperCase()===t,j=(e,t)=>Math.abs(e-t)<Math.max(20,.1*e),g=window.URL,y=(e,t,s=[])=>{try{const n=new g(e),a=new g(t);for(const e of s)n.searchParams.delete(e),a.searchParams.delete(e);return n.searchParams.sort(),a.searchParams.sort(),n.toString()===a.toString()}catch(r){return!1}}},"./src/reddit/helpers/graphql/normalizeAllowedPostTypesFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/models/Subreddit/index.ts");const n={[r.a.Image]:"images",[r.a.Link]:"links",[r.a.Spoiler]:"spoilers",[r.a.Text]:"text",[r.a.Video]:"videos"};t.a=(e=>{return Object.assign({},{images:!1,links:!1,spoilers:!1,text:!1,videos:!1},e.reduce((e,t)=>(e[n[t]]=!0,e),{}))})},"./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});var r=s("./src/reddit/models/Flair/index.ts"),n=s("./src/reddit/helpers/graphql/helpers.ts");const a=e=>{switch(e){case r.h.Dark:return r.e.Dark;case r.h.Light:return r.e.Light}},c=(e,t,s,a,c)=>{const i=[];return c===r.f.Richtext?(i.push(Object.assign({type:c,richtext:Object(n.l)(a,[])||[]},e)),t&&i.push(Object.assign({type:r.f.Text,text:t},e))):i.push(Object.assign({type:c,text:s},e)),i},i=e=>{const t=e.text,s=e.richtext;var r=e.template;const n=r.id,i=r.textColor,o=r.type,d=r.text,u=r.backgroundColor,l=r.cssClass,b=Object.assign({backgroundColor:u||"",cssClass:l},n&&{templateId:n},i&&{textColor:a(i)});return c(b,d||"",t,s,o)},o=e=>{const t=e.text,s=e.richtext,r=e.cssClass;var n=e.template;const i=n.id,o=n.textColor,d=n.type,u=n.text,l=n.backgroundColor,b=Object.assign({backgroundColor:l||"",cssClass:r},i&&{templateId:i},o&&{textColor:a(o)});return c(b,u||"",t||"",s,d)}},"./src/reddit/helpers/graphql/normalizeFrontpageFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/models/Post/index.ts"),n=s("./src/reddit/models/Live/index.ts"),a=s("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),c=s("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),i=s("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),o=s("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),d=s("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),u=s("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts");t.a=(({trendingSubreddits:e=[],identity:t,home:s,featuredAnnouncement:l,featuredLiveEvent:b,recentPosts:p=[]})=>{const O=[],f=[],m={postIds:[],postInstances:{},posts:{},postFlair:{},profiles:{},subreddits:{}},j=e=>{if(m.posts[e.id])return e.id;const t=Object(c.d)(e);m.posts[t.id]=t;const s=e.crosspostRoot;s&&s.type===r.a.Post&&s.postInfo&&j(s.postInfo);let n=t.id;switch(e.__typename){case r.d.ProfilePost:m.profiles[e.profile.id]||(m.profiles[e.profile.id]=Object(o.a)(e.profile));break;case r.d.SubredditPost:m.subreddits[e.subreddit.id]||(m.subreddits[e.subreddit.id]=Object(d.a)(e.subreddit)),m.postFlair[e.subreddit.id]||(m.postFlair[e.subreddit.id]=Object(a.a)(e.subreddit));break;case r.d.AdPost:const s=Object(c.b)(e);if(!s){n=null;break}n=s,m.posts[s]=Object.assign({},t,{id:s,permalink:`${t.permalink}?instanceId=${s}`}),m.posts[t.id]||(m.posts[t.id]=Object.assign({},t,{events:[]})),m.postInstances[e.id]||(m.postInstances[e.id]=[]),m.postInstances[e.id].push(s)}return n};for(const r of e){const e=Object(d.a)(r);m.subreddits[e.id]=e,O.push(e.id)}for(const r of s.posts.edges){const e=r.node,t=j(e);t&&m.postIds.push(t)}for(const r of p){if(!r)continue;const e=j(r);e&&f.push(e)}const g=m.postIds.length-1,y=g>=0?m.postIds[g]:"",_=s.posts.dist;return Object.assign({},m,{account:t&&Object(u.a)(t)||null,featuredLiveThread:((e,t)=>t?{announcementUrl:t.url,buttonCta:t.callToAction,description:t.description||"",icon:n.a[t.icon]&&t.icon.toLowerCase(),id:t.id,isAnnouncement:!0,numTimesDismissable:t.maxDismissCount,title:t.title,viewerCount:0}:e?{announcementUrl:"",buttonCta:"",description:e.description||"",icon:"",id:e.id,isAnnouncement:!1,numTimesDismissable:0,title:e.title,viewerCount:e.viewerCount}:null)(b,l)||{},preferences:t&&t.preferences&&Object(i.a)(t.preferences,t.interactions)||null},0!==O.length&&{trendingSubredditIds:O},0!==f.length&&{recentPostIds:f},{token:y},null!==_&&{dist:_})})},"./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/helpers/graphql/helpers.ts");const n=(e,t)=>!!e&&(e.verdict===`MOD_${t.toUpperCase()}`||e.verdict===`ADMIN_${t.toUpperCase()}`),a=e=>e&&e.length?e.map(e=>[e.reason||"",e.author&&e.author.name||""]):null,c=e=>e&&e.length?e.map(e=>[e.reason||"",e.count||0]):null;t.a=(({moderationInfo:e})=>{if(!e)return;const t=(e=>e&&e.verdictBy&&e.verdictBy.name||null)(e),s=(e=>e&&Object(r.k)(e.verdictAt)||null)(e),i=n(e,"spammed"),o=n(e,"approved"),d=n(e,"removed");var u=o?{approvedBy:t,approvedAtUTC:s}:{bannedBy:t,bannedAtUTC:s},l=u.approvedBy;const b=void 0===l?null:l;var p=u.approvedAtUTC;const O=void 0===p?null:p;var f=u.bannedBy;const m=void 0===f?null:f;var j=u.bannedAtUTC;const g=void 0===j?null:j;return Object.assign({isSpam:i,isApproved:o,isRemoved:d,ignoreReports:e.isReportingIgnored,numReports:e.reportCount||null,modNote:e.modNote,approvedBy:b,approvedAtUTC:O,bannedBy:m,bannedAtUTC:g},d&&{modReasonBy:t},{modReports:a(e.modReports)||[],userReports:c(e.userReports)||[],modReportsDismissed:a(e.dismissedModReports)||[],userReportsDismissed:c(e.dismissedUserReports)||[]})})},"./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return b});var r=s("./node_modules/lodash/forEach.js"),n=s.n(r),a=s("./node_modules/lodash/merge.js"),c=s.n(a),i=s("./src/reddit/helpers/graphql/helpers.ts"),o=s("./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts"),d=s("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),u=s("./src/reddit/models/Multireddit/index.ts");function l(e){const t={multireddits:{},multiredditsByUser:{},subreddits:{},profiles:{}};if(!e)return t;const s=e.path.toLowerCase(),r=s.endsWith("/")?s:s+"/",n={created:0,description:e.description||"",descriptionHtml:null,descriptionRtJson:e.descriptionContent?JSON.parse(e.descriptionContent.richtext):null,displayText:e.displayName,followerCount:e.followerCount,name:e.name,icon:e.icon,isFavorited:e.isFavorited,isFollowed:e.isFollowed,isNSFW:e.isNSFW||!1,isQuarantined:e.isQuarantined||!1,subredditCount:e.subredditCount,subredditIds:[],ownerId:e.ownerInfo.id,profileIds:[],url:r,visibility:e.visibility&&e.visibility.toLowerCase()||u.e.Private};function a(e,t){const s={};for(const r of e)s[r.id]||(s[r.id]=t(r)),r.isNSFW&&(n.isNSFW=!0),r.isQuarantined&&(n.isQuarantined=!0);return{normalized:s,orderedIds:e.map(e=>{return{id:e.id,name:e.name.toLowerCase()}}).sort((e,t)=>e.name.localeCompare(t.name)).map(e=>e.id)}}n.created=Object(i.k)(e.createdAt)/1e3;const c=e.profiles,l=e.subreddits;if(l){var b=a(l.edges.map(e=>e.node),d.a);const e=b.normalized,s=b.orderedIds;t.subreddits=e,n.subredditIds=s}if(c){var p=a(c.edges.map(e=>e.node),o.a);const e=p.normalized,s=p.orderedIds;t.profiles=e,n.profileIds=s}return t.multireddits[r]=n,t.multiredditsByUser[e.ownerInfo.id]=[r],t}function b(e){const t={},s={},r={},a={},i=e.map(l);for(const o of i)n()(o.multiredditsByUser,(e,t)=>{s[t]=[...s[t]||[],...e]}),c()(t,o.multireddits),c()(r,o.profiles),c()(a,o.subreddits);return{multireddits:t,multiredditsByUser:s,profiles:r,subreddits:a}}t.a=l},"./src/reddit/helpers/graphql/normalizeMultiredditListingFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),n=s("./src/reddit/helpers/graphql/normalizeMultiredditDataFromGql/index.ts"),a=s("./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts"),c=s("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts"),i=s("./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts"),o=s("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),d=s("./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts"),u=s("./src/reddit/models/Post/index.ts");t.a=(e=>{const t={account:null,dist:0,features:null,multireddits:{},multiredditsByUser:{},pageInfo:null,postFlair:{},postIds:[],postInstances:{},posts:{},preferences:null,profiles:{},subreddits:{},token:void 0};if(!e)return t;const s=e.identity,l=e.multireddit;if(s&&(t.account=Object(d.a)(s)||null,t.preferences=Object(i.a)(s.preferences,s.interactions)||null),!l)return t;const b=l.posts;if(b){t.pageInfo=b.pageInfo;for(const e of b.edges){const s=e.node;t.postIds.push(s.id);var p=s&&Object(c.a)(s);const n=p.post,i=p.crosspost;t.posts[n.id]=n,i&&(t.posts[i.id]=i),s.__typename!==u.d.DeletedProfilePost&&s.__typename!==u.d.DeletedSubredditPost&&(s.authorFlair&&(t.postFlair[n.belongsTo.id]||(t.postFlair[n.belongsTo.id]={}),t.postFlair[n.belongsTo.id][n.author]=Object(r.a)(s.authorFlair)[0]),s.__typename===u.d.SubredditPost&&(t.subreddits[s.subreddit.id]||(t.subreddits[s.subreddit.id]=Object(o.a)(s.subreddit)),t.postFlair[s.subreddit.id]||(t.postFlair[s.subreddit.id]=Object(a.a)(s.subreddit))))}}else t.pageInfo={endCursor:null,hasNextPage:!1,hasPreviousPage:!1,startCursor:null};t.postIds.length&&(t.dist=t.postIds.length),t.pageInfo.hasNextPage&&(t.token=t.pageInfo.endCursor||"");var O=Object(n.a)(l);const f=O.multireddits,m=O.multiredditsByUser,j=O.profiles,g=O.subreddits;return Object.assign({},t,{multireddits:f,multiredditsByUser:m,profiles:Object.assign({},t.profiles,j),subreddits:Object.assign({},t.subreddits,g)})})},"./src/reddit/helpers/graphql/normalizePostFlairFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/models/Flair/index.ts");function n({isEnabled:e=!1,position:t}){return{isEnabled:e,position:function(e){switch(e){case r.g.LEFT:return r.b.Left;case r.g.RIGHT:return r.b.Right;default:return null}}(t)}}t.a=(({postFlairSettings:e})=>Object.assign({},e&&{displaySettings:e&&n(e)}))},"./src/reddit/helpers/graphql/normalizePostFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/raven/index.ts"),a=s("./src/reddit/constants/adEvents.ts"),c=s("./src/reddit/constants/thumbnails.ts"),i=s("./src/reddit/helpers/graphql/normalizeFlairFromGql/index.ts"),o=s("./src/reddit/helpers/graphql/normalizeModeratorPartFromGql/index.ts");const d=/i\.redd\.it|v\.redd\.it|i\.reddituploads\.com/;var u=s("./src/reddit/models/Flair/index.ts"),l=s("./src/reddit/models/Media/index.ts");const b=e=>{switch(e){case"IMPRESSION":return a.a.Impression;case"CLICK":return a.a.Click;case"COMMENTS_VIEW":return a.a.CommentsView;case"UPVOTE":return a.a.Upvote;case"DOWNVOTE":return a.a.Downvote;case"COMMENT_SUBMITTED":return a.a.CommentSubmitted;case"VIEWABLE_IMPRESSION":return a.a.ViewableImpression;case"COMMENT_UPVOTE":return a.a.CommentUpvote;case"COMMENT_DOWNVOTE":return a.a.CommentDownvote}};var p=s("./src/reddit/models/Post/index.ts"),O=s("./src/reddit/models/PostCreationForm/index.ts"),f=s("./src/reddit/models/User/index.ts"),m=s("./src/reddit/helpers/graphql/helpers.ts");s.d(t,"c",function(){return y}),s.d(t,"b",function(){return D}),s.d(t,"d",function(){return A});var j=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const g={document:[]},y=e=>e.__typename===p.d.DeletedProfilePost||e.__typename===p.d.DeletedSubredditPost,_=[p.c.Embed,p.c.Image,p.c.Video,p.c.Gifvideo],E=e=>{var t=e.domain,s=e.url,r=j(e,["domain","url"]);if(r.__typename===p.d.AdPost||!r.isSelfPost&&!(e=>d.test(e))(t||"")){const e=r.outboundLink&&r.outboundLink.expiresAt&&Object(m.k)(r.outboundLink.expiresAt);return Object.assign({displayText:t||"",url:s||""},r.outboundLink&&{outboundUrl:r.outboundLink.url||void 0,outboundUrlCreated:e&&e-36e5||void 0,outboundUrlExpiration:e||void 0})}return null},h={small:108,medium:216,large:320,xlarge:640,xxlarge:960,xxxlarge:1080},I=(e,t)=>{const s=e&&(t?e.animated:e.still);if(!s)return[];const r=e&&e.still&&e.still.source?e.still.source.dimensions.width:0;return Object.keys(h).reduce((e,n)=>{const a=s[t?`${t}_${n}`:n];if(!a||h[n]>r)return e;const c=Object.assign({url:a.url},a.dimensions);return c?[...e,c]:e},[])},S=e=>e.authorOnlyInfo&&e.authorOnlyInfo.contentMode===p.b.Markdown?O.h.MARKDOWN:O.h.RICH_TEXT,T=e=>Math.min(e.height,e.width),v={events:[],isBlank:!1,isSponsored:!1},C=/\.gif\?(.*$)/,D=e=>{const t=e.adEvents.find(e=>b(e.type)===a.a.Impression),s=t&&t.url&&t.url.match(C);return s&&s[1]?`t3_${s[1]}`:null},R=e=>{const t=e.adEvents,s=e.callToAction,r=e.domain,n=e.isBlank;return{callToAction:s,domainOverride:r,events:(e=>e.map(({type:e,url:t})=>({url:t||"",type:b(e)})))(t),isBlank:n,isSponsored:!0}};t.a=(e=>{const t={post:A(e)},s=e.crosspostRoot;return s&&s.type===p.a.Post&&s.postInfo&&(t.crosspost=A(s.postInfo)),t});const A=e=>{const t=e.awardings,s=e.commentCount,a=e.createdAt,d=e.crosspostCount,b=e.crosspostRoot,O=e.domain,y=e.gildingTotals,h=e.id,C=e.isArchived,D=e.isHidden,A=e.isLocked,w=e.isNsfw,P=e.isOriginalContent,x=e.isSaved,N=e.isSpoiler,k=e.isStickied,L=e.liveCommentsWebsocket,U=e.permalink,M=e.score,F=e.suggestedCommentSort,G=e.title,B=e.upvoteRatio,q=e.viewCount,$=e.voteState,V=b&&(b.type===p.a.Post?b.postInfo&&b.postInfo.id:b.comment&&b.comment.id);b&&!V&&Object(n.c)("Lack of post or comment in crosspostRoot",{extra:{postId:h},settings:{serverLogging:!1}});const H=y&&Object(m.i)(y),K=t?Object(m.h)(t):void 0,W=(e=>e.__typename===p.d.SubredditPost&&e.subreddit&&e.subreddit.originalContentCategories&&0!==e.subreddit.originalContentCategories.length?e.subreddit.originalContentCategories:null)(e)||void 0,Q=Object.assign({allAwardings:K,author:r.E,authorId:"",approvedAtUTC:null,approvedBy:null,bannedAtUTC:null,bannedBy:null,belongsTo:{id:"",type:"subreddit"},contentCategories:W,created:Object(m.k)(a),crosspostParentId:V,crosspostRootId:V,distinguishType:null,domain:O||"",events:[],flair:(e=>{var t=e.flair,s=e.isNsfw,r=e.isSpoiler,n=j(e,["flair","isNsfw","isSpoiler"]);const a=[];t&&a.push(...Object(i.b)(t)),r&&a.push({text:"spoiler",type:u.f.Spoiler}),s&&a.push({text:"nsfw",type:u.f.Nsfw});let c=!1;return n.__typename===p.d.ProfilePost?c=n.profile.isQuarantined:n.__typename===p.d.SubredditPost&&(c=n.subreddit.isQuarantined),c&&a.push({text:"quarantined",type:u.f.Quarantined}),a})(e),gildings:H,goldCount:H?H.gid2:0,hidden:D,id:h,ignoreReports:!1,isApproved:!1,isArchived:C,isBlank:!1,isCrosspostable:!1,isLocked:A,isMediaOnly:!1,isMeta:!1,isNSFW:w,isOriginalContent:P,isPinned:!1,isRemoved:!1,isScoreHidden:null===M,isSpam:!1,isSpoiler:N,isSponsored:!1,isStickied:k,liveCommentsWebsocket:L,media:null,modReports:[],numComments:s||0,numCrossposts:d||0,numReports:null,permalink:`https://web.archive.org/web/20190601001601/https://www.reddit.com${U}`,postCategories:null,postId:h,previewComments:[],saved:x,score:null!==M&&M>0?M:0,sendReplies:!1,source:E(e),suggestedSort:F&&r.t[F]||null,thumbnail:{height:null,url:"",width:null},title:G||"",upvoteRatio:B,userReports:[],viewCount:q||0,voteState:$?Object(m.j)($):0},e.__typename===p.d.AdPost?R(e):v,Object(o.a)(e));if(e.__typename===p.d.DeletedProfilePost||e.__typename===p.d.DeletedSubredditPost)return Q;const Y=e.authorInfo,z=e.authorOnlyInfo,X=e.distinguishedAs,J=e.isCrosspostable,Z=e.isMediaOnly,ee=e.isPollIncluded,te=e.media,se=e.postEventInfo,re=(e=>e&&e.still&&e.still.source?Object.assign({url:e.still.source.url},e.still.source.dimensions):void 0)(te);return Object.assign({},Q,{author:Y&&(e=>e&&e.__typename!==f.d.DeletedRedditor?"name"in e&&e.name||"":r.E)(Y)||r.E,authorId:Y&&Y.id||"",belongsTo:(e=>{switch(e.__typename){case p.d.SubredditPost:return{id:e.subreddit.id,type:"subreddit"};default:return{id:e.profile.id,type:"profile"}}})(e),distinguishType:(e=>e?e.toLowerCase():null)(X),isCrosspostable:J,isMediaOnly:Z,isMeta:ee,media:((e,t)=>{const s=e.media,r=e.content,n=(e=>e.isSpoiler||e.isNsfw)(e)?s&&s.obfuscatedStill&&s.obfuscatedStill.source&&s.obfuscatedStill.source.url:null;switch(t){case l.m.VIDEO:{const e=400,r=I(s),a=s&&s.still&&s.still.source&&Object.assign({url:s.still.source.url},s.still.source.dimensions);let c;if(r.length){c=r.reduce((e,t)=>e.width>t.width?e:t);const t=r.reduce((t,s)=>T(s)>e&&a&&T(s)<T(a)?[...t,s]:t,[]);t.length&&(c=t.reduce((e,t)=>T(e)<T(t)?e:t))}else c=a;return{type:t,obfuscated:n,hlsUrl:s&&s.streaming&&s.streaming.hlsUrl||"",dashUrl:s&&s.streaming&&s.streaming.dashUrl||"",isGif:!!s&&!!s.streaming&&s.streaming.isGif,scrubberThumbSource:s&&s.streaming&&s.streaming.scrubberMediaUrl||"",width:s&&s.streaming?s.streaming.dimensions.width:0,height:s&&s.streaming?s.streaming.dimensions.height:0,posterUrl:c&&c.url||void 0}}case l.m.TEXT:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",content:"",rteMode:S(e)};case l.m.RTJSON:return{type:t,obfuscated:null,markdownContent:e.content?e.content.markdown:"",richtextContent:Object(m.l)(r.richtext,g),content:"",rteMode:S(e),mediaMetadata:e.content&&e.content.richtextMedia&&e.content.richtextMedia.length?e.content.richtextMedia:null};case l.m.IMAGE:{const r=s&&s.animated&&s.animated.gif_source?"gif":null;let a="";return"i.redd.it"===e.domain&&e.url?a=e.url:s&&s.still&&s.still.source&&(a=s.still.source.url),{type:t,obfuscated:n,resolutions:I(s,r),width:s&&s.still&&s.still.source?s.still.source.dimensions.width:0,height:s&&s.still&&s.still.source?s.still.source.dimensions.height:0,content:a}}case l.m.EMBED:return{type:t,obfuscated:n,width:s&&s.video?s.video.dimensions.width:0,height:s&&s.video?s.video.dimensions.height:0,provider:s&&s.video&&s.video.attribution&&s.video.attribution.providerName||"",content:s&&s.video&&s.video.embedUrl?s.video.embedUrl:""};case l.m.GIFVIDEO:return{type:t,obfuscated:n,resolutions:I(s,"mp4"),width:s&&s.still&&s.still.source?s.still.source.dimensions.width:0,height:s&&s.still&&s.still.source?s.still.source.dimensions.height:0,gifBackgroundImage:s&&s.still&&s.still.source?s.still.source.url:"",content:s&&s.animated&&s.animated.mp4_source?s.animated.mp4_source.url:""};default:return null}})(e,(e=>{const t=e.media;if(e.isSelfPost)return e.content&&e.content.richtext?l.m.RTJSON:l.m.TEXT;switch(t&&t.typeHint){case p.c.Image:return l.m.IMAGE;case p.c.Gifvideo:return l.m.GIFVIDEO;case p.c.Video:return l.m.VIDEO;case p.c.Embed:return l.m.EMBED;default:return null}})(e)),thumbnail:(e=>{const t=e.thumbnail?Object.assign({url:e.thumbnail.url},e.thumbnail.dimensions):{url:c.a.DEFAULT,width:null,height:null};return e.__typename===p.d.AdPost&&e.authorOnlyInfo&&t.url?t:e.isNsfw?Object.assign({},t,{url:c.a.NSFW}):e.isSpoiler?Object.assign({},t,{url:c.a.SPOILER}):e.__typename!==p.d.SubredditPost||e.subreddit.isThumbnailsEnabled?e.isSelfPost?Object.assign({},t,{url:c.a.SELF}):t:e.isSelfPost?Object.assign({},t,{url:c.a.SELF}):e.media&&e.media.typeHint&&_.includes(e.media.typeHint)?Object.assign({},t,{url:c.a.IMAGE}):Object.assign({},t,{url:c.a.DEFAULT})})(e)},re&&{preview:re},z&&{sendReplies:z.isReceivingPostReplies},se&&{eventInfo:(({isLive:e,startsAt:t,endsAt:s})=>({eventIsLive:e,eventStart:Date.parse(t),eventEnd:Date.parse(s)}))(se)})}},"./src/reddit/helpers/graphql/normalizePreferencesFromGql/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/models/User/index.ts");t.a=((e,t)=>({allowClickTracking:e.isClickTrackingEnabled,autoplayVideo:!e.isVideoAutoplayDisabled,defaultCommentSort:e.defaultCommentSort&&n.c[e.defaultCommentSort]?r.t[e.defaultCommentSort]:r.t.CONFIDENCE,geopopular:e.geopopular,hideNSFW:e.isNsfwMediaBlocked,ignoreSuggestedSort:e.isSuggestedSortIgnored,labelNSFW:e.isNsfwLabelShown,markMessagesRead:e.isMessageAutoReadEnabled,nightmode:e.isNightModeEnabled,over18:e.isNsfwContentShown,account:{openPostInNewTab:e.isNewTabOpenedForPostView,sort:e.globalCommunityPostFeedSort.range?`${e.globalCommunityPostFeedSort.sort.toLowerCase()}_${e.globalCommunityPostFeedSort.range.toLowerCase()}`:e.globalCommunityPostFeedSort.sort.toLowerCase(),stylesEnabled:e.isCommunityStylingEnabled,rememberCommunitySort:e.isCommunityPostFeedSortingPreserved,useMarkdown:e.isMarkdownDefaultEditorMode,rememberCommunityLayout:e.isCommunityLayoutPreserved,layout:e.postFeedLayout.toLowerCase(),hasSeenCustomizeFlyout:t&&t.isDefaultPostLayoutAware}}))},"./src/reddit/helpers/graphql/normalizeProfileFromGql/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return i});var r=s("./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts"),n=s("./src/reddit/models/Subreddit/index.ts"),a=s("./src/reddit/models/User/index.ts"),c=s("./src/reddit/models/WhitelistStatus/index.ts");const i=({pageInfo:e,edges:t})=>{const s={moderatedSubredditIds:[],pageInfo:e,subreddits:{}};for(const n of t){const e=n.node,t=Object(r.a)(e);s.subreddits[t.id]=t,s.moderatedSubredditIds.push(t.id)}return s};t.a=(({name:e,path:t,redditorInfo:s,styles:r,wls:i,id:o,title:d,isQuarantined:u,isNSFW:l,subscribers:b})=>{var p=r&&r.legacyIcon&&{height:r.legacyIcon.dimensions.height,icon:r.legacyIcon.url,width:r.legacyIcon.dimensions.width}||{height:null,icon:r&&r.icon||"",width:null};const O=p.height,f=p.icon,m=p.width,j=r&&r.legacyPrimaryColor,g=s&&s.__typename===a.d.AvailableRedditor&&s.prefixedName||"";return Object.assign({url:t,displayText:g,icon:{url:f,width:m,height:O},communityIcon:f,type:n.b.User,name:e.substr(2)},j&&{primaryColor:j},i&&{whitelistStatus:i.toLowerCase(),wls:c.a[i]},{id:o,title:d,isQuarantined:u,isNSFW:l,subscribers:b})})},"./src/reddit/helpers/graphql/normalizeSubredditFromGql/index.ts":function(e,t,s){"use strict";var r,n=s("./src/lib/constants/index.ts"),a=s("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts");!function(e){e.Comment="Comment",e.PostInfo="PostInfo",e.RedditorInfo="RedditorInfo",e.Subreddit="Subreddit"}(r||(r={}));var c=s("./src/reddit/models/WhitelistStatus/index.ts");s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o});const i=e=>e.subredditRecommendations.recommendations.map(d).reduce((e,t)=>(e[t.id]=t,e),{}),o=e=>{const t={posts:{},subredditTopContent:{}},s=[];if(e.__typename!==r.Subreddit)return null;const c=e.id,i=e.isSubscribed,o=e.name,d=e.topContent,u=d.posts,l=d.range;return u.forEach(e=>{var r=Object(a.a)(e);const n=r.post,c=r.crosspost,i=n.id;if(t.posts[i]=n,s.push(i),c){const e=c.id;t.posts[e]=c}}),t.subredditTopContent[o.toLowerCase()]={id:c,isSubscribed:i,name:o,postIds:s,range:n.qc[l]},t},d=e=>{const t=e.path,s=e.prefixedName,r=e.type,n=e.styles,a=e.wls,i=e.id,o=e.isQuarantined,d=e.isNSFW,u=e.name,l=e.subscribers,b=e.title,p=e.isFreeFormReportingAllowed;var O=n&&n.legacyIcon&&{height:n.legacyIcon.dimensions.height,icon:n.legacyIcon.url,width:n.legacyIcon.dimensions.width}||{height:null,icon:n&&n.icon||"",width:null};const f=O.height,m=O.icon,j=O.width,g=n&&n.primaryColor,y=n&&n.icon;return Object.assign({url:t,displayText:s,icon:{url:m,width:j,height:f}},y&&{communityIcon:y},{type:r.toLowerCase(),primaryColor:g||""},a&&{whitelistStatus:a.toLowerCase(),wls:c.a[a]},{freeFormReports:p,id:i,isQuarantined:o,isNSFW:d,name:u,subscribers:l,title:b})};t.a=d},"./src/reddit/helpers/graphql/normalizeUserFromGql/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return o});var r=s("./src/reddit/models/User/index.ts"),n=s("./src/reddit/helpers/graphql/helpers.ts"),a=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const c=e=>e&&e.unreadCount?e.unreadCount:0,i=/^u\//,o=e=>e.__typename===r.d.DeletedRedditor?null:"name"in e&&e.name||null;t.a=(e=>{var t=e.redditor,s=e.inbox,o=e.premium,d=e.preferences,u=e.coins,l=a(e,["redditor","inbox","premium","preferences","coins"]);let b={commentKarma:0,hasUserProfile:!1,id:t.id,isGold:!1,postKarma:0,url:""};if(t.__typename===r.d.AvailableRedditor){const e=t.karma,s=t.profile,r=s&&s.styles&&s.styles.legacyIcon&&s.styles.legacyIcon.url;b=Object.assign({},b,r&&{accountIcon:r},{commentKarma:e?e.fromComments:0,displayText:t.name,hasExternalAccount:t.isLinkedToExternalAccount,hasUserProfile:!!s,isGold:!!t.isGilded,postKarma:e?e.fromPosts:0,profileId:s&&s.id||void 0,url:t.prefixedName&&(e=>e.replace(i,"/user/"))(t.prefixedName)||void 0})}const p=l.interactions,O=l.modMail;return Object.assign({},b,{coins:u,created:Object(n.k)(l.createdAt,n.a.Seconds)/1e3,creddits:o?o.creddits:0,goldExpiration:(e=>e&&e.expiresAt&&Object(n.k)(e.expiresAt,n.a.Seconds)/1e3||null)(o),hasUnreadMail:c(s)>0,hasUnreadModmail:!!O&&O.isUnread,hasUnreadOldModmail:!!O&&O.isUnread,hasVerifiedEmail:!!l.isEmailVerified,inboxCount:c(s),inRedesignBeta:d.isInRedesignBeta,isEmployee:!!l.isEmployee,isFPR:!!l.isForcePasswordReset,isMod:!!l.isModerator,isSuspended:l.isSuspended,nightmode:d.isNightModeEnabled,seenLayoutSwitch:!!p&&p.isLayoutSwitchAware,seenPremiumAdblockModal:!!p&&p.isAdblockModalAware,seenRedesignModal:!!p&&p.isRedesignModalAware,seenSubredditChatFtux:!!p&&p.isSubredditChatAware,showRecentPosts:d.isRecentPostsShown,showTrending:d.isTrendingSubredditsShown},o&&o.subscription&&{hasAndroidSubscription:o.subscription.isAndroidAvailable,hasGoldSubscription:o.subscription.isGoldAvailable,hasIOSSubscription:o.subscription.isIOSAvailable,hasPaypalSubscription:o.subscription.isPaypalAvailable,hasStripeSubscription:o.subscription.isStripeAvailable},{gildedLastMonth:(e=>{const t="lastMonthGildings"in e&&e.lastMonthGildings;return t&&Object(n.i)(t)})(t)})})},"./src/reddit/helpers/makeProfileListingKey/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makeListingKey/index.ts");const a=(e,t)=>`${r.uc}${e.toLowerCase()}--private--${t}`;t.a=((e,t,s,a={})=>{const c=`${r.uc}${e}--${t}`;return Object(n.a)(c,s,a)})},"./src/reddit/helpers/normalizePostsFromGql/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});var r=s("./src/reddit/helpers/graphql/normalizePostFromGql/index.ts");const n=({edges:e})=>{const t=[];for(const s of e){const e=s.node;t.push(Object(r.d)(e))}return t}},"./src/reddit/helpers/normalizeUsername/index.tsx":function(e,t,s){"use strict";t.a=(e=>{const t=/^((\/u\/)|(u\/))/;return/^((\/u\/)|(u\/))(.+)/.test(e)?e.replace(t,""):e})},"./src/reddit/helpers/onBeforeRequestFactory/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/url/url.js"),n=s.n(r),a=s("./node_modules/js-cookie/src/js.cookie.js"),c=s.n(a),i=s("./src/config.ts"),o=s("./src/lib/constants/index.ts"),d=s("./src/reddit/selectors/subreddit.ts");const u=new RegExp("^/desktopapi/v1/(duplicates/[^/]+|frontpage|news|search|subreddits/(all|popular))(/|$)"),l=new RegExp("^/desktopapi/v1/(search|subreddits|postcomments|collection_postcomments|submitpage)(/|$)"),b=new RegExp("^/desktopapi/v1/(subreddits|postcomments|collection_postcomments)/?$"),p=new RegExp("^/desktopapi/v1/(postcomments)(/+|$)"),O=new RegExp("^/desktopapi/v1/frontpage/?$");var f=(e,t)=>{const s=new Set;e.user.session&&!e.user.session.unsafeLoggedOut&&(e.user.account||(s.add("identity"),s.add("prefs"),s.add("prefsAccount")),(e=>!u.test(e.pathname||""))(t)&&s.add("identity"),(e=>p.test(e.pathname||""))(t)&&s.add("meta")),!e.live.isFrontpageLoaded&&(e=>O.test(e.pathname||""))(t)&&s.add("featuredLiveThread");const r=t.pathname||"";if(l.test(r)||b.test(r)){const t=e.platform.currentPage&&e.platform.currentPage.urlParams.subredditName||"",r=Object(d.I)(e,t);r&&e.structuredStyles.models[r]||s.add("structuredStyles"),e.user.prefs.subreddit[r]||s.add("prefsSubreddit")}return[...s].join(",")};t.a=(e=>t=>{const s=n.a.parse(t.endpoint,!0),r=s.host,a=`${s.protocol}//${r}`,d=t.method===o.jb.GET?"data":"query",u=t[d]||{};if(a===i.a.gatewayUrl){const t=c.a.get("over18")||"";u.allow_over18=t,u.include=f(e.getState(),s)}t[d]=u})},"./src/reddit/helpers/pageActionLoginRedirect.ts":function(e,t,s){"use strict";s("./node_modules/history/index.js"),s("./src/reddit/actions/platform.ts");var r=s("./src/config.ts");t.a=((e,t)=>{const s=t.platform.currentPage&&t.platform.currentPage.url;let n=`${r.a.accountManagerOrigin}/login/`;const a=window.location.origin;s&&(n+=`?dest=${encodeURIComponent(`${a}${s}`)}`),window.location.href=n})},"./src/reddit/helpers/r2/normalizeActionableUserFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),a=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts");t.a=(e=>Object.assign({accountIcon:e.icon_img,awardedLastMonth:e.awarded_last_month?Object(n.b)(e.awarded_last_month):null,commentKarma:e.comment_karma,created:e.created,displayName:e.name,displayNamePrefixed:e.subreddit&&e.subreddit.display_name_prefixed,displayText:e.name,gildedLastMonth:e.gilded_last_month?Object(a.a)(e.gilded_last_month):null,hasUserProfile:!!e.subreddit,hideFromRobots:!!e.hide_from_robots,id:`${r.wb.ACCOUNT}_${e.id}`,isEmployee:e.is_employee,isFollowing:e.has_subscribed,isGold:e.is_gold,isAdmin:e.is_admin,isMod:e.is_mod,isNSFW:!(!e.subreddit||!e.subreddit.over_18),prefShowSnoovatar:e.pref_show_snoovatar,prefShowTwitter:e.pref_show_twitter,postKarma:e.link_karma,url:`/user/${e.name}/`,username:e.name},e.subreddit?{profileId:e.subreddit.name}:null))},"./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),t.a=(e=>e.map(e=>({awardType:e.award_type,coinPrice:e.coin_price,coinReward:e.coin_reward,count:e.count,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,iconUrl:e.icon_url,resizedIcons:e.resized_icons,id:e.id,isEnabled:e.is_enabled,name:e.name})));const r=e=>{const t=e.top_award,s=e.total_count;return{topAward:t&&(e=>{const t=e.icon_url,s=e.resized_icons;let r,n;for(const a of s||[]){const e=a.url,t=a.width;32===t&&(r={url:e}),128===t&&(n={url:e})}return{awardType:e.award_type.toUpperCase(),coinPrice:e.coin_price,coinReward:e.coin_reward,daysOfDripExtension:e.days_of_drip_extension,daysOfPremium:e.days_of_premium,description:e.description,id:e.id,isEnabled:e.is_enabled,name:e.name,icon:{url:t},icon32:r,icon128:n}})(t),totalCount:s}}},"./src/reddit/helpers/r2/normalizeCommentFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/helpers/isComment.ts"),a=s("./src/reddit/helpers/r2/normalizeAwardingsFromR2.ts"),c=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),i=s("./src/reddit/models/Vote/index.ts"),o=s("./src/reddit/models/Comment/index.ts");t.a=((e,t)=>{const s={approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,author:e.author,authorId:e.author_fullname,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,body:e.body_html,bodyMD:e.body,collapsed:e.collapsed,collapsedReason:e.collapsed_reason,created:e.created_utc,deletedBy:u(e),distinguishType:e.distinguished||"",editedAt:null,gildings:e.gildings?Object(c.a)(e.gildings):null,goldCount:e.gilded,id:e.name,ignoreReports:e.ignore_reports,isAdmin:"admin"===e.distinguished,isApproved:e.approved,isDeleted:e.author===r.E,isLocked:e.locked,isMod:"moderator"===e.distinguished,isOp:e.is_submitter,isRemoved:e.removed,isScoreHidden:e.score_hidden,isSpam:e.spam,isStickied:e.stickied,isSaved:e.isSaved,subredditId:e.subreddit_id,markdown:e.body,media:{type:"rtjson",richtextContent:d(e.rtjson),rteMode:e.rte_mode},modReports:e.mod_reports,modReportsDismissed:e.mod_reports_dismissed,numReports:e.num_reports,parentId:Object(n.a)(e.parent_id)?e.parent_id:null,permalink:e.permalink,postAuthor:e.link_author||null,postId:e.link_id,postTitle:e.link_title||null,sendReplies:e.send_replies,score:e.score,userReports:e.user_reports,userReportsDismissed:e.user_reports_dismissed,voteState:(e=>!0===e?i.a.upvoted:!1===e?i.a.downvoted:i.a.notVoted)(e.likes)};return e.all_awardings&&(s.allAwardings=Object(a.a)(e.all_awardings)),s});const d=e=>"string"==typeof e?JSON.parse(e):e,u=e=>e.author!==r.E?null:e.body===r.F?o.a.User:e.body===r.Pb?o.a.Moderator:null},"./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts":function(e,t,s){"use strict";t.a=(e=>({gid1:e.gid_1,gid2:e.gid_2,gid3:e.gid_3}))},"./src/reddit/helpers/r2/normalizePostFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/helpers/r2/normalizeGildingsFromR2/index.ts"),n=s("./src/reddit/models/Flair/index.ts"),a=s("./src/reddit/models/Media/index.ts"),c=s("./src/reddit/models/PostCreationForm/index.ts"),i=s("./src/reddit/models/Vote/index.ts");t.a=(e=>{return{author:e.author,authorId:e.author_fullname,approvedAtUTC:e.approved_at_utc,approvedBy:e.approved_by,bannedAtUTC:e.banned_at_utc,bannedBy:e.banned_by,belongsTo:{type:"user"===e.subreddit_type?"profile":"subreddit",id:e.subreddit_id||""},callToAction:e.call_to_action||null,created:1e3*e.created,crosspostParentId:e.cross_post_parent_id||null,crosspostRootId:e.cross_post_root_id||null,distinguishType:e.distinguish_type||null,domain:e.domain,domainOverride:e.domain_override||null,events:e.events||[],flair:(e=>{const t=[];return e.link_flair_richtext&&e.link_flair_richtext.length&&t.push({richtext:e.link_flair_richtext,type:n.f.Richtext,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.link_flair_text&&t.push({text:e.link_flair_text,type:n.f.Text,textColor:e.link_flair_text_color||"dark",backgroundColor:e.link_flair_background_color||"",templateId:e.link_flair_template_id}),e.spoiler&&t.push({text:"spoiler",type:n.f.Spoiler}),e.over_18&&t.push({text:"nsfw",type:n.f.Nsfw}),t})(e),gildings:e.gildings?Object(r.a)(e.gildings):null,goldCount:e.gilded||0,hidden:e.hidden,id:e.name,ignoreReports:e.ignore_reports,isApproved:e.approved,isArchived:e.archived,isBlank:e.is_blank,isCrosspostable:e.is_crosspostable,isFollowed:e.is_followed||!1,isLocked:e.locked,isMediaOnly:e.media_only,isMeta:e.is_meta,isNSFW:e.over_18,isOriginalContent:e.is_original_content,isPinned:e.pinned,isRemoved:e.removed,isSpam:e.spam,isSpoiler:e.spoiler,isSponsored:e.promoted,isStickied:e.stickied,liveCommentsWebsocket:e.liveCommentsWebsocket||e.websocket_url,media:(e=>{const t=e.preview&&e.preview.enabled;let s=!1,r=null,n={},i={};const o=e.over_18||e.spoiler;if(e.preview&&(s=!!(i=e.preview.images[0].variants).mp4,n=e.preview.images[0].source,o&&(r=i.obfuscated.source.url)),e.is_self)return Object.assign({content:e.selftext_html,type:a.m.TEXT,markdownContent:e.selftext,obfuscated:r,rteMode:e.rte_mode||c.h.RICH_TEXT},e.rtjson&&{richtextContent:e.rtjson,type:a.m.RTJSON,mediaMetadata:e.media_metadata});if(e.media&&e.media.reddit_video){const t=e.media.reddit_video;return{hlsUrl:t.hls_url,dashUrl:t.dash_url,isGif:t.is_gif,scrubberThumbSource:t.scrubber_media_url,obfuscated:r,posterUrl:t.url,width:t.width,height:t.height,type:a.m.VIDEO}}if(e.secure_media&&e.secure_media.oembed)return{content:e.secure_media_embed.media_domain_url,type:a.m.EMBED,width:e.secure_media.oembed.width,height:e.secure_media.oembed.height,obfuscated:r,provider:e.secure_media.oembed.provider_name};if(t&&s)return{content:i.mp4.source.url,type:a.m.GIFVIDEO,width:i.mp4.source.width,height:i.mp4.source.height,gifBackgroundImage:n.url,gifBackgroundResolutions:e.preview.images[0].resolutions,obfuscated:r,resolutions:i.mp4.resolutions};if(t){const t=i.gif?i.gif.resolutions:e.preview.images[0].resolutions;return{content:n.url,type:a.m.IMAGE,width:n.width,height:n.height,obfuscated:r,resolutions:t}}return null})(e),modNote:e.mod_note||null,modReports:e.mod_reports,numComments:e.num_comments,numCrossposts:e.num_crossposts||0,numReports:e.num_reports||0,permalink:`https://web.archive.org/web/20190601001601/https://www.reddit.com${e.permalink}`,postCategories:(e=>e?e.map(e=>({categoryId:e.category_id,categoryName:e.category_name})):[])(e.post_categories),preview:e.preview&&e.preview.images&&e.preview.images[0]&&e.preview.images[0].source?{url:e.preview.images[0].source.url,width:e.preview.images[0].source.width,height:e.preview.images[0].source.height}:void 0,previewComments:[],previousVisits:e.previous_visits,postId:e.name,modRemovalReason:e.mod_reason_title,modReasonBy:e.mod_reason_by,saved:e.saved,score:e.score,isScoreHidden:!!e.hide_score,sendReplies:e.send_replies,source:(e=>{const t={};if(e.promoted&&e.outbound_link||!e.is_self&&!e.is_reddit_media_domain){if(t.displayText=e.domain,t.url=e.url,e.outbound_link){const s=e.outbound_link;t.outboundUrl=s.url,t.outboundUrlExpiration=s.expiration,t.outboundUrlCreated=s.created}return t}return null})(e),suggestedSort:e.suggested_sort,thumbnail:{url:e.thumbnail,width:e.thumbnail_width,height:e.thumbnail_height},title:e.title,userReports:e.user_reports,upvoteRatio:e.upvote_ratio,viewCount:e.view_count||0,voteState:Object(i.d)(e.likes)}})},"./src/reddit/helpers/r2/normalizeProfileAboutInfoFromR2/index.ts":function(e,t,s){"use strict";t.a=(e=>({commentKarma:e.comment_karma,hasExternalAccount:e.has_external_account,postKarma:e.link_karma,prefShowTwitter:e.pref_show_twitter,publicDescription:e.subreddit?e.subreddit.public_description:"",userIsSubscriber:e.subreddit&&e.subreddit.user_is_subscriber||!1}))},"./src/reddit/helpers/r2/normalizeProfileSubredditFromR2/index.ts":function(e,t,s){"use strict";var r=s("./src/reddit/helpers/r2/normalizeSubredditFromR2/index.ts"),n=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};t.a=((e,t)=>{const s=Object(r.a)(e),a=(s.wls,n(s,["wls"]));return Object.assign({},a,{name:t})})},"./src/reddit/helpers/r2/normalizeR2APIErrors/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts");t.a=(e=>({type:(e=>{for(const t of e)switch(t[0]){case r.I.NO_STRIPE_SUBSCRIPTION:case r.I.USER_DOESNT_EXIST:case r.I.USER_REQUIRED_ERROR:case r.I.VALIDATION_ERROR:return t[0];case r.I.NO_USER:case r.I.NO_TEXT:case r.I.NO_URL:return r.I.VALIDATION_ERROR;case r.I.CREDIT_CARD_FAILURE:case r.I.CREDIT_CARD_FAILURE_GENERIC:return r.I.CREDIT_CARD_FAILURE;default:continue}return r.I.VALIDATION_ERROR})(e.body.json.errors),fields:e.body.json.errors.map(e=>({field:e[2]||"",msg:e[1]}))}))},"./src/reddit/helpers/reportPage/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return p});const r="(?:old\\.reddit\\.(?:com|local)|new\\.reddit\\.(?:com|local)|reddit\\.(?:com|local)|www\\.reddit\\.(?:com|local))",n="(?:https?://)",a=`^${n}${r}/(?:(?:r)|(?:user|u))/(?:[^/]+)/comments/(?:\\w+)/(?:[^/]+)/(\\w+)(?:/.*)?`,c=`^${n}${r}/(?:(?:r)|(?:user|u))/(?:[^/]+)/comments/(\\w+)(?:/.*)?`,i=`^${n}${r}/message/messages/(\\w+)(?:/.*)?`,o=`^${n}?(?:mod.reddit.com/mail)/(?:[^/]+)/(\\w+)(?:/)?$`,d=`^${n}?(?:mod.reddit.com/mail)/(?:[^/]+)/(\\w+)/(\\w+)(?:/)?$`,u=`(?:${c}|${a}|${i}|${o}|${d})`,l=`(?:(?:${n}?${r}/)?(?:user|u)/)?([\\w-]+)(?:/)?`,b=`(?:(?:${n}?${r}/)?(?:r)/)?([\\w-]+)(?:/)?`,p=e=>{const t=new RegExp(a),s=new RegExp(c),r=new RegExp(i),n=new RegExp(o),u=new RegExp(d);let p,O,f;if(e.thingUrl){const a=e.thingUrl.trim();if(t.test(a)){const e=t.exec(a);e&&e.length>1&&(p="t1_"+e[1])}else if(s.test(a)){const e=s.exec(a);e&&e.length>1&&(p="t3_"+e[1])}else if(r.test(a)){const e=r.exec(a);e&&e.length>1&&(p="t4_"+e[1])}else if(u.test(a)){const e=u.exec(a);e&&e.length>2&&(O=e[1],f=e[2])}else if(n.test(a)){const e=n.exec(a);e&&e.length>1&&(O=e[1])}}const m=new RegExp(l),j=new RegExp(b),g=[];let y;if(e.subredditName){const t=e.subredditName.trim();if(j.test(t)){const e=j.exec(t);e&&e.length>1&&(y=e[1])}}if(e.usernames&&e.usernames.length)for(let a=0;a<e.usernames.length;a++){const t=e.usernames[a].trim();if(m.test(t)){const e=m.exec(t);e&&e.length>1&&g.push(e[1])}}return{reason:"site_reason_selected",site_reason:e.reason.reasonText,additional_info:e.additionalInfo?e.additionalInfo.join(","):void 0,custom_text:e.customText,modmail_conv_id:O,modmail_msg_id:f,sr_name:y,thing_id:p,usernames:g.length?g.join(","):void 0}}},"./src/reddit/helpers/routeKey/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return C}),s.d(t,"d",function(){return D}),s.d(t,"f",function(){return R}),s.d(t,"e",function(){return w}),s.d(t,"a",function(){return x}),s.d(t,"b",function(){return L});var r=s("./node_modules/lodash/pick.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/lib/makeCommentsPageKey/index.ts"),i=s("./src/lib/makeExplorePageKey/index.ts"),o=s("./src/lib/makeListingKey/index.ts"),d=s("./src/lib/makePartnerSubredditConnectionPageKey/index.ts"),u=s("./src/lib/makePostCreationPageKey/index.ts"),l=s("./src/lib/makeSearchKey/index.ts"),b=s("./src/reddit/constants/postLayout.ts"),p=s("./src/reddit/helpers/makeProfileListingKey/index.ts"),O=s("./src/reddit/actions/pages/subredditWiki/constants.ts"),f=s("./src/reddit/constants/originalContent.ts"),m=s("./src/reddit/constants/page.ts"),j=s("./src/reddit/constants/parameters.ts"),g=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),y=s("./src/reddit/helpers/getSubredditSortForListingKeyCreation/index.ts"),_=s("./src/reddit/models/Comment/index.ts"),E=s("./src/reddit/models/Multireddit/index.ts"),h=s("./src/reddit/models/Post/index.ts"),I=s("./src/reddit/models/User/index.ts"),S=s("./src/reddit/routes/modListing/index.ts"),T=s("./src/reddit/selectors/frontpage.ts"),v=s("./src/reddit/selectors/news.ts");const C=(e,t,s)=>{const r=e.route.meta.name;if(!r||!a.W.has(r)&&r!==a.Rb.COINS&&r!==a.Rb.COMMENTS&&r!==a.Rb.POST_CREATION&&r!==a.Rb.PREMIUM&&r!==a.Rb.SEARCH_RESULTS&&r!==a.Rb.PARTNER_SUBREDDIT_CONNECTION&&r!==a.Rb.EXPLORE&&r!==a.Rb.SETTINGS||!s&&r===a.Rb.COMMENTS)return null;switch(r){case a.Rb.POST_CREATION:return Object(u.a)(e.match.params);case a.Rb.INDEX:case a.Rb.LISTING:case a.Rb.SUBREDDIT:case a.Rb.SUBREDDIT_WIKI:case a.Rb.ORIGINAL_CONTENT:return D(e,t);case a.Rb.PROFILE_COMMENTS:case a.Rb.PROFILE_POSTS:case a.Rb.PROFILE_OVERVIEW:case a.Rb.PROFILE_PRIVATE:return R(e,t);case a.Rb.MULTIREDDIT:return A(e,t);case a.Rb.NEWS:return w(e,t);case a.Rb.COMMENTS:return x(e,t,s);case a.Rb.SEARCH_RESULTS:return P(e);case a.Rb.COINS:case a.Rb.PREMIUM:return r;case a.Rb.SETTINGS:return k(e);case a.Rb.PARTNER_SUBREDDIT_CONNECTION:return N(e);case a.Rb.EXPLORE:return L(e);default:return null}},D=(e,t)=>{const s=e.route,r=e.match,n=s.meta.name;if(!a.W.has(n)&&n!==a.Rb.POST_CREATION&&n!==a.Rb.SUBREDDIT_WIKI)return null;const c=r.queryParams;switch(n){case a.Rb.INDEX:case a.Rb.LISTING:const s=Object(T.a)(t),b=r.params,p=b.sort?b.sort:s;return Object(o.a)(m.b,p,c);case a.Rb.PROFILE_COMMENTS:case a.Rb.PROFILE_POSTS:{const e=r.params.profileName,t=c.sort;return Object(o.a)(`u_${e}`,t,c)}case a.Rb.POST_CREATION:case a.Rb.SUBREDDIT:{const e=r.params,t=e.subredditName,s=Object(y.a)(e);return Object(o.a)(t,s,c)}case a.Rb.SUBREDDIT_WIKI:{const e=r.params.subredditName||O.a;return Object(o.a)(e,a.X.HOT,c)}case a.Rb.ORIGINAL_CONTENT:{var i=r.params,d=i.categoryName;const e=void 0===d?f.b:d;var u=i.sort;const t=void 0===u?a.X.HOT:u;return Object(o.a)(m.j,t,Object.assign({},c,{category:e}))}case a.Rb.MOD_LISTING:{var l=r.params.sort;const e=void 0===l?a.Y:l,t=Object(S.d)(r.path)?m.g:m.f;return Object(o.a)(t,e,c)}case a.Rb.MULTIREDDIT:return A(e,t);case a.Rb.NEWS:return w(e,t);case a.Rb.SEARCH_RESULTS:return C(e,t,null);default:return null}},R=(e,t)=>{const s=e.route,r=e.match,n=s.meta.name;if(!a.W.has(n)&&n!==a.Rb.POST_CREATION)return null;const c=r.params,i=r.queryParams,d=c.profileName;var u=i.sort;const l=void 0===u?a.Jb:u;switch(n){case a.Rb.PROFILE_OVERVIEW:const e=(t.user.prefs&&t.user.prefs.profileLayout?t.user.prefs.profileLayout:b.f.Large)===b.f.Compact?a.sb:a.tb;return Object(p.a)((d||"").toLowerCase(),e,l,i);case a.Rb.PROFILE_COMMENTS:case a.Rb.PROFILE_POSTS:return Object(o.a)(`u_${d}`,l,i);case a.Rb.PROFILE_PRIVATE:const s=c.listingType;return Object(p.b)(d.toLowerCase(),s);default:return null}},A=(e,t)=>{const s=e.route,r=e.match;if(s.meta.name!==a.Rb.MULTIREDDIT)return null;const n=r.params,c=r.queryParams,i=n.multiredditName;var d=n.sort;const u=void 0===d?a.X.HOT:d;let l=n.username;l||(l=t.user.account?Object(I.f)(t.user.account):"me");const b=Object(E.g)(l,i);return Object(o.a)(b,u,c)},w=(e,t)=>{const s=e.route,r=e.match;if(s.meta.name!==a.Rb.NEWS)return null;var n=r.params;const c=n.topic,i=n.subtopic;return Object(v.f)(t.user,c||"",i||"")},P=e=>{const t=e.route,s=e.match;if(t.meta.name!==a.Rb.SEARCH_RESULTS)return null;const r=s.params.subredditName,c=s.params.username,i=Object(l.d)(n()(s.queryParams,j.p));return Object(l.c)(r,c,i)},x=(e,t,s)=>{const r=e.route,n=e.match,i=r.meta.name;if(!i||i!==a.Rb.COMMENTS)return null;var o=n.params;const d=o.partialCommentId,u=o.partialPostId,l=Object(h.h)(u),b=d&&Object(_.e)(d);var p=Object(g.a)(t,l);const O=p.hasSortParam,f=p.sortToUse;return Object(c.a)(l,b,{sort:f,hasSortParam:O})},N=e=>{const t=e.route,s=e.match,r=t.meta.name;if(!r||r!==a.Rb.PARTNER_SUBREDDIT_CONNECTION)return;const n=s.queryParams;return Object(d.a)(n)},k=e=>"SettingsPage-"+e.match.params.page,L=e=>{const t=e.route,s=e.match,r=t.meta.name;if(!r||r!==a.Rb.EXPLORE)return null;const n=s.queryParams.categoryName;return Object(i.a)({categoryName:n})}},"./src/reddit/helpers/timeApiRoute/index.ts":function(e,t,s){"use strict";var r=s("./src/lib/constants/index.ts"),n=s("./src/telemetry/index.ts");t.a=async function(e,t){const s=n.c.start();try{const a=await t();return Object(n.b)(r.o.Redesign,{page:e,type:"route",duration:n.c.end(s)}),a}finally{n.c.cancel(s)}}},"./src/reddit/helpers/trackers/blade.ts":function(e,t,s){"use strict";s.d(t,"i",function(){return c}),s.d(t,"h",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"j",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"a",function(){return f}),s.d(t,"e",function(){return m}),s.d(t,"k",function(){return j});var r=s("./src/reddit/constants/blade.ts"),n=s("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>s=>Object.assign({},n.defaults(s),{source:r.d.Appearance,action:"click",noun:e,actionInfo:n.actionInfo(s,{paneName:t}),subreddit:n.subreddit(s)}),c=e=>a("save_style",e),i=e=>a("cancel_style",e),o=e=>t=>({source:r.d.Structure,action:"click",noun:e,screen:n.screen(t),subreddit:n.subreddit(t)}),d=e=>t=>({source:r.d.Appearance,action:"click",noun:e,screen:n.screen(t),subreddit:n.subreddit(t)}),u=(e,t)=>s=>({source:"colorpicker",action:"click",noun:e,actionInfo:n.actionInfo(s,{paneName:r.g[t]}),screen:n.screen(s),subreddit:n.subreddit(s)}),l=e=>t=>({source:r.h[e],action:"click",noun:"colorpicker",actionInfo:n.actionInfo(t,{paneName:r.g[e]}),screen:n.screen(t),subreddit:n.subreddit(t)}),b=e=>({screen:n.screen(e),subreddit:n.subreddit(e)}),p=()=>e=>Object.assign({source:r.d.Appearance,action:"view",noun:"blade"},b(e)),O=e=>t=>Object.assign({source:r.a[e],action:"click",noun:r.b[e]},b(t)),f=()=>e=>Object.assign({source:r.d.Appearance,action:"click",noun:"back"},b(e)),m=(e,t)=>Object.assign({},n.defaults(e),(e=>t=>Object.assign({source:r.d.PostFlairManagement,action:"click",noun:e},b(t)))(t)(e)),j=e=>t=>({source:r.d.MenuLinks,action:"click",noun:e?"wiki_link_on":"wiki_link_off",screen:n.screen(t),subreddit:n.subreddit(t),userSubreddit:n.userSubreddit(t)})},"./src/reddit/helpers/trackers/chat.ts":function(e,t,s){"use strict";s.d(t,"m",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"c",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"k",function(){return p}),s.d(t,"g",function(){return O}),s.d(t,"l",function(){return f}),s.d(t,"i",function(){return m}),s.d(t,"h",function(){return j}),s.d(t,"j",function(){return g}),s.d(t,"f",function(){return y});var r=s("./src/reddit/constants/chat.ts"),n=s("./src/reddit/selectors/telemetry.ts"),a=s("./src/telemetry/models/Event.ts");const c=e=>({screen:Object(n.screen)(e),subreddit:Object(n.subreddit)(e)}),i=()=>e=>Object.assign({source:a.b.ChatSidebarWidget,action:"view",noun:"chat_rooms",chat:Object(n.numberChannels)(e)},c(e)),o=e=>t=>Object.assign({source:a.b.ChatSidebarWidget,action:"click",noun:"view_room",chat:Object(n.channel)(t,e)},c(t)),d=e=>t=>Object.assign({source:a.b.ChatSidebarWidget,action:"click",noun:"join_room",chat:Object(n.channel)(t,e)},c(t)),u=()=>e=>Object.assign({source:a.b.ChatSidebarWidget,action:"click",noun:"view_all_rooms",chat:Object(n.numberChannels)(e)},c(e)),l=e=>t=>Object.assign({source:a.b.ChatSidebarModal,action:"click",noun:"view_room",chat:Object(n.channel)(t,e)},c(t)),b=e=>t=>Object.assign({source:a.b.ChatSidebarModal,action:"click",noun:"join_room",chat:Object(n.channel)(t,e)},c(t)),p=()=>e=>Object.assign({source:a.b.ChatSetup,action:"view",noun:"create_chat_room"},c(e)),O=e=>t=>{const s=e.channelSendbirdUrl,n=e.type;return Object.assign({source:a.b.ChatSetup,action:"submit",noun:"create_chat_room",chat:{id:s,type:r.f[n]}},c(t))},f=()=>e=>Object.assign({source:a.b.ChatSetup,action:"view",noun:"edit_chat_room"},c(e)),m=e=>t=>{const s=e.channelSendbirdUrl,n=e.type;return Object.assign({source:a.b.ChatSetup,action:"submit",noun:"edit_chat_room",chat:{id:s,type:r.f[n]}},c(t))},j=e=>t=>{const s=e.channelSendbirdUrl,n=e.type;return Object.assign({source:a.b.ChatSetup,action:"submit",noun:"delete_chat_room",chat:{id:s,type:r.f[n]}},c(t))},g=()=>e=>Object.assign({source:a.b.Nav,action:"view",noun:"orangered_06"},c(e)),y=e=>t=>Object.assign({source:"settings_privacy",action:"save",noun:"receive_chat_invites",setting:{value:e,oldValue:e},actionInfo:Object(n.actionInfo)(t,{settingValue:e})},Object(n.defaults)(t))},"./src/reddit/helpers/trackers/coins.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return i}),s.d(t,"f",function(){return o}),s.d(t,"d",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"c",function(){return p});var r=s("./src/reddit/selectors/telemetry.ts"),n=s("./node_modules/uuid/v4.js"),a=s.n(n);let c;const i=()=>c,o=()=>c=a()(),d=()=>c=void 0,u="coins_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_coins",correlationId:i()},r.defaults(e)),b=e=>t=>Object.assign({source:u,action:"click",noun:`coins_${e}`,correlationId:i()},r.defaults(t)),p=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:i()},r.defaults(e))},"./src/reddit/helpers/trackers/commentList.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var r=s("./src/telemetry/index.ts"),n=s("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>{Object(r.a)(Object.assign({action:"view",source:"commentlist",noun:"bottom"},n.defaults(e),{listing:n.listing(e,t),subreddit:n.subreddit(e)}))}},"./src/reddit/helpers/trackers/commentsPage.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return u}),s.d(t,"b",function(){return l}),s.d(t,"e",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return O}),s.d(t,"d",function(){return f});var r=s("./src/app/models/Draft.ts"),n=s("./src/telemetry/index.ts"),a=s("./src/reddit/constants/tracking.ts"),c=s("./src/reddit/selectors/comments.ts"),i=s("./src/reddit/selectors/platform.ts"),o=s("./src/reddit/selectors/telemetry.ts");const d=e=>{const t=Object(i.o)(e);return Object.assign({source:"comment_composer",action:a.d.CLICK},Object(o.defaults)(e),{screen:Object(o.screen)(e),subreddit:Object(o.subreddit)(e),post:t?Object(o.post)(e,t):null,profile:Object(o.profile)(e)})},u=(e,t,s,r)=>{const a={commentId:r,commentsPageKey:s},i=r&&Object(c.k)(e,a)||0;return Object(n.a)(Object.assign({noun:"comment"},d(e),{comment:r?Object(o.comment)(e,r):null,listing:Object(o.listing)(e,void 0,{depth:i}),commentComposer:{editorMode:t}}))},l=e=>Object(n.a)(Object.assign({noun:"cancel"},d(e))),b=(e,t)=>{t===r.a.replyToPost&&Object(n.a)(Object.assign({noun:"input"},d(e)))},p=(e,t)=>Object(n.a)(Object.assign({source:"comment",noun:"delete",action:"click"},Object(o.defaults)(t),{screen:Object(o.screen)(t),subreddit:Object(o.subreddit)(t),post:Object(o.post)(t,e)})),O=e=>Object(n.a)(Object.assign({noun:"edit"},d(e))),f=e=>Object(n.a)(Object.assign({noun:"save_edit"},d(e)))},"./src/reddit/helpers/trackers/communityTopics.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"d",function(){return l});var r=s("./src/reddit/selectors/tags.ts"),n=s("./src/reddit/selectors/telemetry.ts"),a=s("./src/telemetry/index.ts");const c=(e,t,s)=>{if(!s.id)return{content:s.displayText};const n=Object(r.b)(e)[s.id]||Object(r.d)(e,{subredditId:t})[s.id];return n?{id:n.id,content:n.text,type:n.type}:null},i=(e,t)=>Object.assign({},n.defaults(e),{subreddit:Object.assign({},n.subreddit(e)||{},{id:t},((e,t)=>Object(r.i)(e,{itemId:t}).reduce(({topicTagIds:e,topicTagContents:t,topicTagTypes:s},r)=>(e.push(r.tag.id),t.push(r.tag.text),s.push(r.tag.type),{topicTagIds:e,topicTagContents:t,topicTagTypes:s}),{topicTagIds:[],topicTagContents:[],topicTagTypes:[]}))(e,t)),source:"community_settings",action:"click"}),o=(e,t,s)=>{return!Object(r.e)(e,{subredditId:t})&&s.id?Object(a.a)(((e,t,s)=>Object.assign({},i(e,t),{topicTag:c(e,t,s),noun:"topic_auto_suggest"}))(e,t,s)):s.id?Object(a.a)(((e,t,s)=>Object.assign({},i(e,t),{topicTag:c(e,t,s),noun:"topic_auto_complete"}))(e,t,s)):Object(a.a)(((e,t,s)=>Object.assign({},i(e,t),{topicTag:c(e,t,s),noun:"topic_add_new"}))(e,t,s))},d=(e,t,s)=>Object(a.a)(Object.assign({},i(e,t),{topicTag:c(e,t,s),noun:"topic_remove"})),u=(e,t)=>Object(a.a)(Object.assign({},i(e,t),{noun:"topic_tag_field"})),l=(e,t)=>Object(a.a)(Object.assign({},i(e,t),{noun:"save"}))},"./src/reddit/helpers/trackers/discoveryUnit.ts":function(e,t,s){"use strict";s.d(t,"j",function(){return f}),s.d(t,"e",function(){return j}),s.d(t,"f",function(){return g}),s.d(t,"k",function(){return _}),s.d(t,"B",function(){return h}),s.d(t,"C",function(){return I}),s.d(t,"r",function(){return S}),s.d(t,"s",function(){return T}),s.d(t,"v",function(){return v}),s.d(t,"w",function(){return C}),s.d(t,"g",function(){return D}),s.d(t,"m",function(){return R}),s.d(t,"n",function(){return A}),s.d(t,"A",function(){return w}),s.d(t,"l",function(){return P}),s.d(t,"o",function(){return x}),s.d(t,"p",function(){return N}),s.d(t,"q",function(){return k}),s.d(t,"t",function(){return L}),s.d(t,"u",function(){return U}),s.d(t,"D",function(){return M}),s.d(t,"h",function(){return F}),s.d(t,"i",function(){return G}),s.d(t,"x",function(){return B}),s.d(t,"y",function(){return q}),s.d(t,"z",function(){return $}),s.d(t,"c",function(){return V}),s.d(t,"b",function(){return H}),s.d(t,"a",function(){return K}),s.d(t,"d",function(){return W});var r=s("./src/lib/stringInterpolate/index.ts"),n=s("./src/reddit/constants/tracking.ts"),a=s("./src/reddit/helpers/correlationIdTracker.ts"),c=s("./src/reddit/helpers/trackers/navigation.ts"),i=s("./src/reddit/models/DiscoveryUnit/index.ts"),o=s("./src/reddit/models/Widgets/index.ts"),d=s("./src/reddit/selectors/posts.ts"),u=s("./src/reddit/selectors/telemetry.ts"),l=s("./src/reddit/selectors/widgets.ts"),b=s("./src/telemetry/index.ts");const p="discovery_unit",O=(e,t,s)=>Object.assign({},u.defaults(e),{source:p,screen:u.screen(e),discoveryUnit:{id:t.id,type:t.unitType,title:t.title&&s?Object(r.a)(t.title,{subredditName:s.name}):t.title,name:t.unitName}}),f=(e,t,s)=>Object.assign({},O(e,t,s),{source:"global",action:"view",noun:"discovery_unit"}),m=(e,t)=>Object.assign({},u.defaults(e),{correlationId:Object(a.c)(a.a.SearchResults),screen:u.screen(e),noun:"search_result_discovery_unit",post:t?u.post(e,t):null,discoveryUnit:{name:i.m,id:"xd_72",type:"listing"}}),j=(e,t)=>{Object(b.a)(g(t)(e))},g=(e,t)=>s=>f(s,e,t),y=(e,t,s,r)=>"unitName"in t?O(e,t,r):((e,t,s)=>Object.assign({},u.defaults(e),{source:"search",screen:u.screen(e),search:s?Object.assign({},u.search(e,s),{structureType:u.StructureType.Trending}):null,discoveryUnit:{id:t.name,type:"listing",title:t.layout.title,name:t.name}}))(e,t,s),_=(e,t,s,r,n)=>Object.assign({},y(e,t,r,n),{action:"view",noun:"item_post",post:u.post(e,s)}),E=e=>({displayQuery:decodeURIComponent(e.searchQuery),rawQuery:e.rawQuery?decodeURIComponent(e.rawQuery):void 0,structureType:u.StructureType.Trending}),h=(e,t)=>{const s=t.post?t.post.id:void 0;Object(b.a)(Object.assign({},m(e,s),{metaSearch:E(t),source:"search",action:"click"}))},I=(e,t)=>{const s=t.post?t.post.id:void 0;Object(b.a)(Object.assign({},m(e,s),{metaSearch:E(t),source:"search",action:"view"}))},S=(e,t,s,r)=>{Object(b.a)(_(e,t,s,r))},T=(e,t,s,r)=>n=>_(n,e,t,s,r),v=(e,t,s,r)=>{const n=y(e,t,r);Object(b.a)(Object.assign({},n,Object(l.b)(e,s),{action:"view",noun:"item_subreddit"}))},C=(e,t,s)=>{Object(b.a)(Object.assign({},O(e,t),{source:p,action:n.d.CLICK,noun:"title_category",subreddit:{categoryName:Object(c.e)(s)}}))},D=(e,t)=>{Object(b.a)(Object.assign({},O(e,t),{source:p,action:n.d.CLICK,noun:"show_less_often"}))},R=(e,t,s,r)=>{Object(b.a)(A(t,s,r)(e))},A=(e,t,s,r)=>a=>{const c=y(a,e,s,r);return Object.assign({},c,{source:p,action:n.d.CLICK,noun:"item_post",post:u.post(a,t)})},w=()=>e=>t=>({source:"search",action:n.d.CLICK,noun:"item_post",post:u.post(t,e),search:{structureType:u.StructureType.Trending}}),P=(e,t)=>s=>r=>Object.assign({},e?O(r,e,t):{},{source:p,action:n.d.CLICK,noun:"item_post",post:u.post(r,s)}),x=(e,t,s,r)=>{Object(b.a)(N(t,s,r)(e))},N=(e,t,s,r)=>a=>{const c=Object(d.b)(a,{postId:t}),i=c?Object(l.b)(a,c):void 0,o=y(a,e,s,r);return Object.assign({},o,i,{source:p,action:n.d.CLICK,noun:"item_post_subreddit",post:u.post(a,t)})},k=(e,t,s)=>r=>a=>{const c=Object(d.b)(a,{postId:t}),i=c?Object(l.b)(a,c):void 0,o=y(a,e,void 0,s);return Object.assign({},o,i,{source:p,action:n.d.CLICK,noun:r?"item_post_subreddit_unsubscribe":"item_post_subreddit_subscribe",post:u.post(a,t)})},L=(e,t,s)=>{Object(b.a)(Object.assign({},O(e,t),Object(l.b)(e,s),{source:p,action:n.d.CLICK,noun:"item_subreddit"}))},U=(e,t)=>s=>r=>Object.assign({},O(r,e),Object(l.b)(r,t),{source:p,action:n.d.CLICK,noun:s?"item_subreddit_unsubscribe":"item_subreddit_subscribe"}),M=(e,t,s)=>{const r=y(e,t);Object(b.a)(Object.assign({},r,Object(l.b)(e,s),{source:"search",action:n.d.CLICK,noun:"search_result_discovery_unit_subreddit"}))},F=(e,t,s)=>{const r=y(e,t);Object(b.a)(Object.assign({},r,Object(l.b)(e,s),{source:p,action:n.d.CLICK,noun:"footer_subreddit"}))},G=(e,t)=>s=>{const r=t?Object(o.k)(t):void 0,a=r?Object(l.b)(s,r):void 0;return Object.assign({},O(s,e,t),a,{source:p,action:n.d.CLICK,noun:"footer_subreddit"})},B=(e,t,s)=>{Object(b.a)(Object.assign({},O(e,t),Object(l.b)(e,s),{source:p,action:n.d.CLICK,noun:"title_subreddit"}))},q=(e,t)=>s=>{const r=Object(o.k)(t);return Object.assign({},O(s,e,t),Object(l.b)(s,r),{source:p,action:n.d.CLICK,noun:"title_subreddit"})},$=(e,t)=>s=>r=>Object.assign({},O(r,e),Object(l.b)(r,t),{source:p,action:n.d.CLICK,noun:s?"title_subreddit_unsubscribe":"title_subreddit_subscribe"}),V=(e,t)=>s=>Object.assign({},O(s,e,t),{action:"status",actionInfo:u.actionInfo(s,{success:!0}),noun:"loading"}),H=(e,t,s)=>r=>Object.assign({},O(r,e,s),{action:"status",actionInfo:u.actionInfo(r,{reason:t,success:!1}),noun:"loading"}),K=(e,t)=>s=>Object.assign({},O(s,e,t),{action:"click",noun:"close"}),W=(e,t,s)=>r=>Object.assign({},y(r,e,t,s),{action:"click",noun:"scroll"})},"./src/reddit/helpers/trackers/lightbox.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"f",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"b",function(){return b});var r=s("./src/reddit/constants/tracking.ts"),n=s("./src/telemetry/index.ts"),a=s("./src/reddit/selectors/platform.ts"),c=s("./src/reddit/selectors/telemetry.ts");const i=(e,t,s)=>r=>({source:Object(a.i)(r)||s?"post_lightbox":"post_detail",action:"click",noun:t,post:c.post(r,e),profile:c.profile(r),screen:c.screen(r),subreddit:c.subreddit(r)}),o=(e,t)=>s=>{const r=c.currentPost(s);return r?i(r.id,e,t)(s):{source:Object(a.i)(s)||t?"post_lightbox":"post_detail",action:"click",noun:e,profile:c.profile(s),screen:c.screen(s),subreddit:c.subreddit(s)}},d=(e,t)=>s=>Object(n.a)(Object.assign({},i(e,t)(s),c.defaults(s))),u=e=>t=>({source:"id_card",action:r.d.CLICK,noun:e,post:c.currentPost(t),profile:c.profile(t),screen:c.screen(t),subreddit:c.subreddit(t),userSubreddit:c.userSubreddit(t)}),l=e=>t=>({source:"id_banner",action:r.d.CLICK,noun:e,post:c.currentPost(t),profile:c.profile(t),screen:c.screen(t),subreddit:c.subreddit(t),userSubreddit:c.userSubreddit(t)}),b=e=>({source:"id_banner",action:r.d.VIEW,noun:"id_banner",post:c.currentPost(e),profile:c.profile(e),screen:c.screen(e),subreddit:c.subreddit(e),userSubreddit:c.userSubreddit(e)})},"./src/reddit/helpers/trackers/navigation.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"e",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"c",function(){return p}),s.d(t,"f",function(){return O});var r=s("./src/reddit/selectors/telemetry.ts");const n=e=>({screen:r.screen(e),profile:r.profile(e),subreddit:r.subreddit(e)}),a=e=>t=>Object.assign({source:"nav",action:"click",noun:e},n(t)),c=(a("open_community_nav"),a("close_community_nav"),a("log_in"),a("sign_up"),a("sign_in"),e=>t=>Object.assign({source:"community_nav",action:"click",noun:`collapse_${e}`},n(t))),i=e=>t=>Object.assign({source:"community_nav",action:"click",noun:`expand_${e}`},n(t)),o=(c("favorites"),c("multireddits"),c("moderating"),c("subscribed_subreddits"),c("subscribed_profiles"),i("favorites"),i("multireddits"),i("moderating"),i("subscribed_subreddits"),i("subscribed_profiles"),/ /g),d=/&/g,u=e=>e.toLowerCase().trim().replace(o,"_").replace(d,"and"),l=e=>t=>Object.assign({},n(t),{source:"community_nav",action:"click",noun:`category_${u(e)}`}),b=e=>Object.assign({},n(e),{source:"community_nav",action:"click",noun:"category_scroll"}),p=e=>t=>Object.assign({},n(t),{source:"sort_switch",action:"click",noun:e}),O=e=>t=>Object.assign({},n(t),{source:"time_sort_switch",action:"click",noun:e})},"./src/reddit/helpers/trackers/post.ts":function(e,t,s){"use strict";s.d(t,"h",function(){return a}),s.d(t,"g",function(){return c}),s.d(t,"a",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"f",function(){return b}),s.d(t,"e",function(){return p});var r=s("./src/telemetry/index.ts"),n=s("./src/reddit/selectors/telemetry.ts");const a=(e,t)=>Object(r.a)(Object.assign({source:"post",action:"view",noun:"post"},n.defaults(e),{post:n.post(e,t),profile:n.profile(e),media:n.media(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})),c=(e,t)=>Object(r.a)(Object.assign({source:"post",action:"view",noun:"ad"},n.defaults(e),{post:n.post(e,t),media:n.media(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})),i=(e,t,s)=>Object(r.a)(Object.assign({source:"post",action:"consume",noun:"post"},n.defaults(e),{post:n.post(e,t,s),media:n.media(e,t),screen:n.screen(e),subreddit:n.subreddit(e)})),o=(e,t)=>s=>({source:"post",action:"click",noun:t,post:n.post(s,e),media:n.media(s,e),screen:n.screen(s),session:n.session(s),subreddit:n.subreddit(s)||n.subredditByPostOrCommentId(s,e)}),d=(e,t)=>s=>Object(r.a)(Object.assign({source:"post",action:"click",noun:t},n.defaults(s),{post:n.post(s,e),media:n.media(s,e),screen:n.screen(s),session:n.session(s),subreddit:n.subreddit(s)})),u=(e,t)=>({post:n.post(e,t),profile:n.profile(e)}),l=e=>t=>Object.assign({action:"pin",noun:"post",source:"profile"},u(t,e),n.defaults(t)),b=e=>t=>Object.assign({action:"unpin",noun:"post",source:"profile"},u(t,e),n.defaults(t)),p=e=>t=>Object.assign({source:"post",action:"click",noun:"pill"},n.defaults(t),{post:n.post(t,e),media:n.media(t,e),subreddit:n.subreddit(t)})},"./src/reddit/helpers/trackers/postComposer.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return j}),s.d(t,"c",function(){return g}),s.d(t,"t",function(){return y}),s.d(t,"s",function(){return _}),s.d(t,"o",function(){return E}),s.d(t,"v",function(){return h}),s.d(t,"n",function(){return I}),s.d(t,"i",function(){return S}),s.d(t,"q",function(){return T}),s.d(t,"p",function(){return v}),s.d(t,"l",function(){return C}),s.d(t,"k",function(){return D}),s.d(t,"u",function(){return R}),s.d(t,"d",function(){return A}),s.d(t,"m",function(){return w}),s.d(t,"x",function(){return P}),s.d(t,"y",function(){return x}),s.d(t,"z",function(){return N}),s.d(t,"w",function(){return k}),s.d(t,"j",function(){return U}),s.d(t,"h",function(){return M}),s.d(t,"e",function(){return F}),s.d(t,"f",function(){return G}),s.d(t,"b",function(){return B}),s.d(t,"r",function(){return q}),s.d(t,"g",function(){return $});var r=s("./src/reddit/constants/tracking.ts"),n=s("./src/reddit/helpers/correlationIdTracker.ts"),a=s("./src/reddit/helpers/media/index.ts"),c=s("./src/reddit/models/PostCreationForm/index.ts"),i=s("./src/reddit/models/PostDraft/index.ts"),o=s("./src/reddit/selectors/postDraft.ts"),d=s("./src/reddit/selectors/telemetry.ts"),u=s("./src/reddit/selectors/user.ts"),l=s("./src/telemetry/index.ts"),b=s("./src/telemetry/models/PostComposer.ts"),p=s("./src/telemetry/models/PostDraft.ts");const O={imageOnly:"image",linkOnly:"link",media:"media",poll:"self",post:"self",crosspost:"crosspost"},f=e=>Object.assign({source:"post_composer",action:r.d.CLICK},d.defaults(e),{screen:d.screen(e),correlationId:Object(n.c)(n.a.PostComposer)}),m=(e,t)=>"self"!==t?{}:{editorMode:e.user.prefs.editorMode===c.h.MARKDOWN?"markdown":"rte"},j=e=>{Object(l.a)(Object.assign({noun:"cancel"},f(e)))},g=e=>{Object(l.a)(Object.assign({noun:"discard"},f(e)))},y=e=>{Object(l.a)(Object.assign({noun:"subreddit_choice",subreddit:d.subreddit(e)},f(e)))},_=e=>{Object(l.a)(Object.assign({noun:"subreddit_selector"},f(e)))},E=(e,t)=>{Object(l.a)(Object.assign({noun:"post_type_selector",postComposer:{type:O[t]}},f(e)))},h=(e,t,s)=>{"image_upload"===t||"video_upload"===t?Object(l.a)(Object.assign({noun:t},f(e))):Object(l.a)(Object.assign({noun:"text_option",postComposer:{textType:t,finalStatus:s?"on":"off"}},f(e)))},I=(e,t,s)=>{Object(l.a)(Object.assign({noun:"post",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},m(e,t)),post:s?d.post(e,s):null},f(e)))},S=(e,t)=>{const s=t===c.h.MARKDOWN?"markdown_mode":"rte_mode";Object(l.a)(Object.assign({noun:s},f(e)))},T=(e,t)=>{Object(l.a)(Object.assign({noun:"save",subreddit:d.subreddit(e),postComposer:Object.assign({type:t},m(e,t))},f(e)))},v=(e,t)=>{const s=e.uploads[t];s.error&&Object(l.a)(Object.assign({},f(e),{noun:"media",action:"reject",actionInfo:Object.assign({},d.actionInfo(e),{reason:JSON.stringify(s.error)})}))},C=(e,t)=>{t.forEach(t=>{const s=Object(a.f)(t.type);s&&Object(l.a)(Object.assign({},f(e),{action:"drag",noun:s}))})},D=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),{noun:"input",postComposer:{inputType:s},action:t}))},R=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),{noun:s,action:Object(b.getToggleAction)(t)}))},A=e=>{Object(l.a)(Object.assign({},f(e),{noun:"hide_oc_description",action:"click"}))},w=(e,t)=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"share_profile_post_to_category",subreddit:{categoryName:t}}))},P=e=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"recommend_oc_community"}))},x=(e,t)=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"recommended_oc_category",subreddit:{categoryName:t}}))},N=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),{action:"click",noun:"recommended_oc_subreddit",subreddit:{id:s.id,name:s.name,categoryName:t}}))},k=e=>{Object(l.a)(Object.assign({},f(e),{noun:"recommend_oc_community",action:"close"}))},L=(e,t)=>{if(t){const s=d.subredditById(e,t);if(s)return{subreddit:s};const r=d.profileById(e,t);if(r)return{profile:r}}},U=(e,t)=>{const s=t.draftId,r=t.destSubreddit,n=Object(u.j)(e),a=Object(o.d)(e,{draftId:s}),c={authorId:n?n.id:void 0,createdTimestamp:a?a.created:void 0,id:s||void 0,nsfw:t.isNSFW,originalContent:t.isOC,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case i.b.Link:c.type=p.DraftType.Link,c.urlLength=t.body.length;break;case i.b.Markdown:c.type=p.DraftType.Self,c.bodyTextLength=t.body.length;break;case i.b.RichText:c.type=p.DraftType.RichText,t.documentStats&&(c.bodyTextLength=t.documentStats.textLength,c.numberRteImages=t.documentStats.rteImagesCount,c.numberRteVideos=t.documentStats.rteVideosCount);break;case i.b.Image:c.type=p.DraftType.Image;break;case i.b.Video:c.type=p.DraftType.Video}return Object.assign({postDraft:c},L(e,r.id))},M=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_load"},f(e),U(e,t)))},F=(e,t)=>{Object(l.a)(Object.assign({noun:t.draftId?"draft_update":"draft_create"},f(e),U(e,t)))},G=(e,t)=>{Object(l.a)(Object.assign({noun:"draft_delete"},f(e),((e,t)=>{const s=Object(u.j)(e),r={authorId:s?s.id:void 0,createdTimestamp:t.created,id:t.id,nsfw:t.isNSFW,originalContent:t.isOriginalContent,spoiler:t.isSpoiler,titleLength:t.title.length};switch(t.kind){case i.b.Link:r.type=p.DraftType.Link,r.urlLength=(t.body||"").length;break;case i.b.Markdown:r.type=p.DraftType.Self,r.bodyTextLength=(t.body||"").length;break;case i.b.RichText:r.type=p.DraftType.RichText}return Object.assign({postDraft:r},L(e,t.subredditId))})(e,t)))},B=e=>{Object(l.a)(Object.assign({},f(e),{noun:"social_connect_link",action:r.d.CLICK}))},q=(e,t)=>{Object(l.a)(Object.assign({},f(e),{noun:"twitter_share_checkbox",action:Object(b.getToggleAction)(t)}))},$=(e,t,s)=>{Object(l.a)(Object.assign({},f(e),U(e,t),{noun:"draft_share",action:s?"enable":"disable"}))}},"./src/reddit/helpers/trackers/premium.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"e",function(){return d}),s.d(t,"a",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"b",function(){return O});var r=s("./src/reddit/selectors/telemetry.ts"),n=s("./node_modules/uuid/v4.js"),a=s.n(n);let c;const i=()=>c,o=()=>c=a()(),d=()=>c=void 0,u="premium_marketing",l=()=>e=>Object.assign({source:u,action:"click",noun:"get_premium",correlationId:i()},r.defaults(e)),b=()=>e=>Object.assign({source:u,action:"click",noun:"price",correlationId:i()},r.defaults(e)),p=()=>e=>Object.assign({source:u,action:"click",noun:"redeem_code",correlationId:i()},r.defaults(e)),O=()=>e=>Object.assign({source:u,action:"click",noun:"manage",correlationId:i()},r.defaults(e))},"./src/reddit/helpers/trackers/screenview.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return y}),s.d(t,"c",function(){return _}),s.d(t,"j",function(){return E}),s.d(t,"k",function(){return h}),s.d(t,"i",function(){return I}),s.d(t,"l",function(){return S}),s.d(t,"b",function(){return T}),s.d(t,"g",function(){return v}),s.d(t,"d",function(){return C}),s.d(t,"e",function(){return D}),s.d(t,"a",function(){return w}),s.d(t,"h",function(){return P}),s.d(t,"m",function(){return L});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/makePostDraftPageKey/index.ts"),a=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),c=s("./src/reddit/helpers/routeKey/index.ts"),i=s("./src/reddit/helpers/trackers/postComposer.ts"),o=s("./src/reddit/helpers/trackers/profileSettings.ts"),d=s("./src/reddit/models/Comment/index.ts"),u=s("./src/reddit/models/Post/index.ts"),l=s("./src/reddit/selectors/news.ts"),b=s("./src/reddit/selectors/profile.ts"),p=s("./src/reddit/selectors/subreddit.ts"),O=s("./src/reddit/helpers/trackers/coins.ts"),f=s("./src/reddit/helpers/trackers/premium.ts"),m=s("./src/reddit/selectors/postDraft.ts"),j=s("./src/reddit/selectors/telemetry.ts"),g=s("./src/telemetry/index.ts");const y=(e,t,s,i)=>{const b=e.route.meta.name;if(b)switch(b){case r.Rb.COMMENTS:{var p=e.match.params;const r=p.partialCommentId,n=p.partialPostId,o=Object(u.h)(n),l=Object(c.a)(e,t,t.posts.models[o]);if(!l)return;const b=r&&Object(d.e)(r);const O=Object(a.a)(t,o).sortToUse;Object(g.a)(T(l,o,b,s,i,O)(t));break}case r.Rb.INDEX:case r.Rb.LISTING:case r.Rb.MULTIREDDIT:case r.Rb.SUBREDDIT:case r.Rb.ORIGINAL_CONTENT:{const n=Object(c.d)(e,t);if(!n)return;var O=e.match;const a=O.params,o=O.queryParams;var f=a.sort;const d=void 0===f?r.X.HOT:f,u=o.t;Object(g.a)(_(n,d,s,i,u)(t));break}case r.Rb.PROFILE_OVERVIEW:{const n=Object(c.f)(e,t);if(!n)return;var m=e.match;const a=m.params,o=m.queryParams;var j=a.sort;const d=void 0===j?r.Jb:j,u=o.t;Object(g.a)(E(n,d,s,i,u)(t));break}case r.Rb.PROFILE_POSTS:{const n=Object(c.f)(e,t);if(!n)return;const a=e.match.queryParams;var y=a.sort;const o=void 0===y?r.Jb:y;var S=a.t;const d=void 0===S?r.rc:S;Object(g.a)(h(n,o,s,i,d)(t));break}case r.Rb.PROFILE_COMMENTS:{const n=Object(c.f)(e,t);if(!n)return;const a=e.match.queryParams;var v=a.sort;const o=void 0===v?r.Jb:v;var C=a.t;const d=void 0===C?r.rc:C;Object(g.a)(I(n,o,s,i,d)(t));break}case r.Rb.SETTINGS:e.match.params.page===r.kc.Profile?Object(o.j)(t):Object(g.a)(N(s,i)(t));break;case r.Rb.POST_CREATION:break;case r.Rb.NEWS:const D=Object(c.e)(e,t);if(!D)return;const L=Object(l.k)(t.user);Object(g.a)(_(D,L,s,i)(t));break;case r.Rb.POST_DRAFT:{const r=e.match.params.draftId,a=Object(n.a)(e.match.params);if(!a)return;R(t,a,r,s,i);break}case r.Rb.PARTNER_SUBREDDIT_CONNECTION:Object(g.a)(A(s,i)(t));break;case r.Rb.COINS:Object(g.a)(w(s,i)(t));break;case r.Rb.PREMIUM:Object(g.a)(P(s,i)(t));break;case r.Rb.APPEAL:Object(g.a)(x(s,i)(t));break;case r.Rb.EXPLORE:{const r=Object(c.b)(e);if(!r)return;Object(g.a)(k(r,s,i)(t));break}}},_=(e,t,s,r,n)=>a=>{const c=a.listings.postOrder.api,i=!c.error[e]&&!c.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(a),{actionInfo:j.actionInfo(a,{success:i}),customFeed:j.customFeed(a),listing:j.listing(a,e,{sort:t,sortTime:n}),news:j.news(a),screen:j.screen(a),subreddit:j.subreddit(a),timer:j.timer(s,r),userSubreddit:j.userSubreddit(a),adblock:j.adblock(a)})},E=(e,t,s,r,n)=>a=>{const c=j.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const i=a.listings.postOrder.api,o=!i.error[e]&&!i.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},j.defaults(a),{actionInfo:j.actionInfo(a,{success:o}),profile:j.profile(a),screen:j.screen(a),subreddit:j.subreddit(a),timer:j.timer(s,r),userSubreddit:j.userSubreddit(a),adblock:j.adblock(a)})},h=(e,t,s,r,n)=>a=>{const c=j.listing(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const i=a.listings.postOrder.api,o=!i.error[e]&&!i.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},j.defaults(a),{actionInfo:j.actionInfo(a,{success:o}),profile:j.profile(a),screen:j.screen(a),subreddit:j.subreddit(a),timer:j.timer(s,r),userSubreddit:j.userSubreddit(a),adblock:j.adblock(a)})},I=(e,t,s,r,n)=>a=>{const c=j.profileComments(a,e);c&&(c.sort=t,n&&(c.sortTime=n));const i=a.profileCommentsPage.api,o=!i.error[e]&&!i.pending[e];return Object.assign({listing:c,source:"global",action:"view",noun:"screen"},j.defaults(a),{actionInfo:j.actionInfo(a,{success:o}),profile:j.profile(a),screen:j.screen(a),subreddit:j.subreddit(a),timer:j.timer(s,r),userSubreddit:j.userSubreddit(a),adblock:j.adblock(a)})},S=e=>(t,s)=>r=>{const n=!r.profilePrivatePage.api.error[e]&&!r.profilePrivatePage.api.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(r),{actionInfo:j.actionInfo(r,{success:n}),profile:j.profile(r),screen:j.screen(r),subreddit:j.subreddit(r),timer:j.timer(s,t),userSubreddit:j.userSubreddit(r),adblock:j.adblock(r)})},T=(e,t,s,r,n,a)=>c=>{const i=c.commentsPage.api,o=!i.error[e]&&!i.pending[e],d=Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(c),{actionInfo:j.actionInfo(c,{success:o}),post:j.post(c,t),profile:j.profile(c),screen:j.screen(c),subreddit:j.subreddit(c),timer:j.timer(r,n),userSubreddit:j.userSubreddit(c),adblock:j.adblock(c),postEvent:j.postEventI13nSelector(c,{postId:t}),postCollection:j.postCollectionI13nSelector(c,{postId:t}),listing:j.listing(c,void 0,{sort:a})});return s&&(d.comment=j.comment(c,s)),d},v=(e,t,s)=>r=>{const n=r.creations.api.page.fetched[e],a=r.platform.currentPage?r.platform.currentPage.queryParams.source_id:void 0;return Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(r),{actionInfo:j.actionInfo(r,{success:n}),post:a?j.post(r,a):void 0,screen:j.screen(r),subreddit:j.subreddit(r),timer:j.timer(t,s),userSubreddit:j.userSubreddit(r),adblock:j.adblock(r)})},C=(e,t,s)=>{Object(g.a)(Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(e),{actionInfo:j.actionInfo(e,{success:t}),screen:j.screen(e),subreddit:j.subredditById(e,Object(p.I)(e,s)),userSubreddit:j.userSubreddit(e),adblock:j.adblock(e)}))},D=(e,t,s,r)=>{Object(g.a)(Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(e),{profile:j.profileById(e,Object(b.m)(e,r)),screen:j.screen(e),subreddit:j.subredditById(e,Object(p.I)(e,s)),userSubreddit:j.userSubreddit(e),adblock:j.adblock(e)}))},R=(e,t,s,r,n)=>{const a=e.creations.api.page.pending[t],c=!e.creations.api.page.error[t]&&!a&&!!s,o=Object(m.h)(e,s);Object(g.a)(Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(e),{actionInfo:j.actionInfo(e,{success:c}),screen:j.screen(e),subreddit:j.subreddit(e),timer:j.timer(r,n),userSubreddit:j.userSubreddit(e),adblock:j.adblock(e)},o?Object(i.j)(e,o):{}))},A=(e,t)=>s=>Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(s),{actionInfo:j.actionInfo(s),screen:j.screen(s),timer:j.timer(e,t),userSubreddit:j.userSubreddit(s),adblock:j.adblock(s)}),w=(e,t)=>s=>Object.assign({source:"coins_marketing",action:"view",noun:"page",correlationId:O.e()},j.defaults(s),{timer:j.timer(e,t),adblock:j.adblock(s)}),P=(e,t)=>s=>Object.assign({source:"premium_marketing",action:"view",noun:"page",correlationId:f.f()},j.defaults(s),{timer:j.timer(e,t),adblock:j.adblock(s)}),x=(e,t)=>s=>Object.assign({source:"appeal",action:"view",noun:"page"},j.defaults(s),{timer:j.timer(e,t)}),N=(e,t)=>s=>Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(s),{actionInfo:j.actionInfo(s),timer:j.timer(e,t)}),k=(e,t,s)=>r=>{const n=r.listings.listingOrder.api,a=!n.error[e]&&!n.pending[e];return Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(r),{actionInfo:j.actionInfo(r,{success:a}),screen:j.screen(r),timer:j.timer(t,s),userSubreddit:j.userSubreddit(r),adblock:j.adblock(r)})},L=()=>e=>Object.assign({source:"global",action:"view",noun:"screen"},j.defaults(e))},"./src/reddit/helpers/trackers/submitValidation.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return o}),s.d(t,"c",function(){return d}),s.d(t,"h",function(){return b}),s.d(t,"g",function(){return p}),s.d(t,"d",function(){return f}),s.d(t,"a",function(){return m}),s.d(t,"b",function(){return j}),s.d(t,"e",function(){return _}),s.d(t,"i",function(){return E}),s.d(t,"j",function(){return h});var r=s("./src/reddit/controls/FormFields/index.tsx"),n=s("./src/reddit/selectors/telemetry.ts"),a=s("./src/telemetry/index.ts");const c=e=>Object.assign({source:"submit_validation"},n.defaults(e),{profile:n.profile(e),subreddit:n.subreddit(e)}),i={titleRegEx:"title_regex",titleStrings:"title_required_word",titleLength:"title_length",reposts:"repost_frequency",flair:"post_flair"},o=(e,t,s)=>{Object(a.a)(Object.assign({},c(e),{action:s?"deselect":"select",noun:i[t]}))},d=(e,t)=>t.action===r.d.ADD?u(e):t.action===r.d.REMOVE&&t.value&&void 0!==t.index?l(e,t.value,t.index):void 0,u=e=>{Object(a.a)(Object.assign({},c(e),{action:"add",noun:"title_required_word"}))},l=(e,t,s)=>{Object(a.a)(Object.assign({},c(e),{action:"remove",noun:"title_required_word",actionInfo:n.actionInfo(e,{settingValue:t,position:s})}))},b=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"change",noun:"title_min",actionInfo:n.actionInfo(e,{settingValue:t})}))},p=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"change",noun:"title_max",actionInfo:n.actionInfo(e,{settingValue:t})}))},O={none:"optional",required:"required",notAllowed:"not_allowed"},f=(e,t)=>{const s=O[t];Object(a.a)(Object.assign({},c(e),{action:"toggle",noun:"post_body",actionInfo:n.actionInfo(e,{settingValue:s})}))},m=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"toggle",noun:"domain",actionInfo:n.actionInfo(e,{settingValue:"none"===t?"no_filtering":t})}))},j=(e,t,s)=>{if(t.action===r.d.ADD){return g(e,"whitelist"===s?"add_whitelist":"add_blacklist")}if(t.action===r.d.REMOVE&&t.value&&void 0!==t.index){const r="whitelist"===s?"remove_whitelist":"remove_blacklist";return y(e,t.value,t.index,r)}},g=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:t,noun:"domain"}))},y=(e,t,s,r)=>{Object(a.a)(Object.assign({},c(e),{action:r,noun:"domain",actionInfo:n.actionInfo(e,{settingValue:t,position:s})}))},_=(e,t)=>{Object(a.a)(Object.assign({},c(e),{action:"change",noun:"repost_days",actionInfo:n.actionInfo(e,{settingValue:t})}))},E=e=>{Object(a.a)(Object.assign({},c(e),{action:"click",noun:"save"}))},h=e=>{Object(a.a)(Object.assign({source:"global",noun:"screen",action:"view"},n.defaults(e),{profile:n.profile(e),subreddit:n.subreddit(e)}))}},"./src/reddit/helpers/trackers/subredditCreation.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/reddit/selectors/telemetry.ts");const n=e=>t=>Object.assign({source:e,noun:"create_community_button",action:"click"},r.defaults(t),{actionInfo:r.actionInfo(t,{settingValue:t.user.account&&t.user.account.isMod?"existing_mod":"new_mod"})}),a=(e,t)=>s=>Object.assign({source:"community_form",noun:"save_community_button",action:"click"},r.defaults(s),{actionInfo:r.actionInfo(s,{settingValue:e,success:t})})},"./src/reddit/icons/svgs/Plus/index.tsx":function(e,t,s){"use strict";var r=s("./node_modules/react/index.js"),n=s.n(r);t.a=(e=>n.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20",version:"1.1"},n.a.createElement("g",{stroke:"none"},n.a.createElement("g",{transform:"translate(-34.000000, -136.000000)",fill:"inherit"},n.a.createElement("path",{d:"M45.2,147.2 L48.8,147.2 C49.46272,147.2 50,146.66272 50,146 C50,145.33728 49.46272,144.8 48.8,144.8 L45.2,144.8 L45.2,141.2 C45.2,140.53728 44.66272,140 44,140 C43.33728,140 42.8,140.53728 42.8,141.2 L42.8,144.8 L39.2,144.8 C38.53728,144.8 38,145.33728 38,146 C38,146.66272 38.53728,147.2 39.2,147.2 L42.8,147.2 L42.8,150.8 C42.8,151.46272 43.33728,152 44,152 C44.66272,152 45.2,151.46272 45.2,150.8 L45.2,147.2 Z",id:"Combined-Shape"})))))},"./src/reddit/icons/svgs/Trash2/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var r=s("./node_modules/react/index.js"),n=s.n(r),a=s("./bundled-modules/styled-components/styled-components.min.js"),c=s.n(a),i=s("./src/reddit/models/Theme/NewColorSystem/index.ts");const o=e=>n.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},n.a.createElement("path",{d:"M16.5,2H12.71l-.85-.85A.5.5,0,0,0,11.5,1h-3a.5.5,0,0,0-.35.15L7.29,2H3.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5h13a.5.5,0,0,0,.5-.5v-1A.5.5,0,0,0,16.5,2Z"}),n.a.createElement("path",{d:"M16.5,5H3.5a.5.5,0,0,0-.5.5v12A1.5,1.5,0,0,0,4.5,19h11A1.5,1.5,0,0,0,17,17.5V5.5A.5.5,0,0,0,16.5,5ZM6.75,15.5a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Zm4,0a.75.75,0,0,1-1.5,0v-7a.75.75,0,0,1,1.5,0Z"}));t.b=c()(o).withConfig({componentId:"s174ubmu-0"})(["fill: ",";"],e=>Object(i.c)(e).actionIcon)},"./src/reddit/models/ApiRequestState/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return c});var r,n=s("./node_modules/uuid/v4.js"),a=s.n(n);!function(e){e[e.Pending=0]="Pending",e[e.Complete=1]="Complete",e[e.Failed=2]="Failed"}(r||(r={}));const c=()=>a()()},"./src/reddit/models/Badge/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return o});var r,n=s("./src/config.ts"),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],r=!0,n=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);r=!0);}catch(o){n=!0,a=o}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function c(e,t,s){const r=s.media[0],n=Object.keys(r);let c={width:1/0,height:1/0,url:""};if(n.forEach(s=>{const n=r[s];var i=s.split("x").map(e=>parseInt(e)),o=a(i,2);const d=o[0],u=o[1];(d<c.width&&d>=e||u<c.height&&u>=t)&&(c={height:u,width:d,url:n})}),!c.url&&n.length){const e=Object.keys(r)[0],t=r[e];var i=e.split("x").map(e=>parseInt(e)),o=a(i,2);const s=o[0],n=o[1];c={height:n,width:s,url:t}}return c.url}function i(e){return e.startsWith("https")?e:`${n.a.assetPath}/${e}`}function o(e,t,s){const r=c(e,t,s),n=c(2*e,2*t,s);return{url:i(r),url2x:i(n)}}!function(e){e.First="p1",e.Second="p2"}(r||(r={}))},"./src/reddit/models/Badge/managementPage.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return i});var r,n,a=s("./src/reddit/models/Badge/index.ts");!function(e){e.Loyalty="loyalty",e.Achievement="achievement",e.Cosmetic="cosmetic"}(r||(r={})),function(e){e.Gallery="gallery",e.MyBadges="my-badges"}(n||(n={}));const c={[r.Loyalty]:a.a.First,[r.Achievement]:a.a.Second,[r.Cosmetic]:void 0},i=e=>e===a.a.First?r.Loyalty:e===a.a.Second?r.Achievement:r.Cosmetic},"./src/reddit/models/Comment/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"e",function(){return o}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return u}),s.d(t,"b",function(){return l});var r,n,a=s("./src/reddit/constants/comments.ts"),c=s("./src/reddit/constants/things.ts"),i=s("./src/lib/constants/index.ts");!function(e){e.User="user",e.Moderator="moderator"}(r||(r={})),function(e){e.None="",e.Friend="F",e.Submitter="S",e.Moderator="M",e.Admin="A",e.Alumni="special",e.Cake="cake"}(n||(n={}));const o=e=>`${c.a}${e}`,d=e=>({id:e,type:a.a.Comment}),u=e=>e.author===i.E;var l;!function(e){e.DeletedComment="DeletedComment",e.Comment="Comment"}(l||(l={}))},"./src/reddit/models/Duplicates/index.ts":function(e,t,s){"use strict";function r(e,t){return`${e}-sort[${t.sort}]-crossposts_only[${t.crossposts_only}]`}s.d(t,"a",function(){return r})},"./src/reddit/models/Emoji/index.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"e",function(){return i});const r=24,n=64e3,a=128,c=128,i=(e,t,s,r)=>Object.assign({name:e,url:t,subredditId:s},r)},"./src/reddit/models/ExternalAccount/index.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e.Patreon="patreon",e.Twitter="twitter"}(r||(r={}))},"./src/reddit/models/Gold/Award.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"g",function(){return i}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"b",function(){return b}),s.d(t,"h",function(){return p}),s.d(t,"c",function(){return O}),s.d(t,"d",function(){return f});var r,n=s("./src/config.ts"),a=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};!function(e){e.Global="GLOBAL",e.Moderator="MODERATOR",e.Community="COMMUNITY"}(r||(r={}));const c={awardType:r.Global,coinPrice:100,coinReward:0,description:"",daysOfDripExtension:0,icon:{url:`${n.a.assetPath}/img/gold/badges/award-silver-medium.png?v=2`},id:"gid_1",isEnabled:!0,name:"Silver",daysOfPremium:0},i={awardType:r.Global,coinPrice:500,coinReward:100,description:"",daysOfDripExtension:0,icon:{url:`${n.a.assetPath}/img/gold/badges/award-gold-medium.png?v=2`},id:"gid_2",isEnabled:!0,name:"Gold",daysOfPremium:7},o={awardType:r.Global,coinPrice:1800,coinReward:0,description:"",daysOfDripExtension:31,icon:{url:`${n.a.assetPath}/img/gold/badges/award-platinum-medium.png?v=2`},id:"gid_3",isEnabled:!0,name:"Platinum",daysOfPremium:31},d=[c,i,o],u=d.reduce((e,t)=>(e[t.id]=t,e),{});var l;!function(e){e.Global="global",e.Community="community",e.Moderator="moderator"}(l||(l={}));const b=.2;function p(e){return e.sort((e,t)=>e.awardType===r.Moderator&&t.awardType!==r.Moderator?-1:t.awardType===r.Moderator&&e.awardType!==r.Moderator?1:t.coinPrice-e.coinPrice)}function O(e){e.count;const t=e.iconUrl,s=e.resizedIcons,r=a(e,["count","iconUrl","resizedIcons"]);let n,c;for(const a of s||[]){const e=a.url,t=a.width;32===t&&(n={url:e}),128===t&&(c={url:e})}return Object.assign({},r,{icon:{url:t},icon32:n,icon128:c,awardType:r.awardType.toUpperCase()})}function f(e,t){const s=e.awardType,r=e.icon,n=e.icon32,c=e.icon128,i=a(e,["awardType","icon","icon32","icon128"]),o=[];return n&&o.push({height:32,url:n.url,width:32}),c&&o.push({height:128,url:c.url,width:128}),Object.assign({awardType:s.toLowerCase(),count:t,iconUrl:r.url,resizedIcons:o},i)}},"./src/reddit/models/Gold/Coins/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"c",function(){return c});var r=s("./src/config.ts");const n={coins500:{coins:500,pennies:199,assetPath:`${r.a.assetPath}/img/gold/coins-package-500.png`},coins1100:{coins:1100,pennies:399,assetPath:`${r.a.assetPath}/img/gold/coins-package-1100.png`},coins1800:{coins:1800,pennies:599,assetPath:`${r.a.assetPath}/img/gold/coins-package-1800.png`},coins7200:{coins:7200,pennies:1999,assetPath:`${r.a.assetPath}/img/gold/coins-package-7200.png`},coins40000:{coins:4e4,pennies:9999,assetPath:`${r.a.assetPath}/img/gold/coins-package-40000.png`},coinsVariable:{coins:1/0,pennies:1/0,assetPath:`${r.a.assetPath}/img/gold/coins-package-40000.png`}},a=(e,t)=>{for(const s in n){if("coins500"===s)continue;const r=n[s];if(t-r.coins<=e)return r}return n.coins40000},c=e=>{const t=n.coins40000;if(e<=t.coins)return a(0,e);const s=t.pennies/t.coins,r=n.coinsVariable;return r.coins=e,r.pennies=Math.ceil(s*e),r}},"./src/reddit/models/Gold/Gild/index.tsx":function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"b",function(){return a}),s.d(t,"a",function(){return d}),s.d(t,"f",function(){return l}),s.d(t,"g",function(){return p}),s.d(t,"e",function(){return f}),s.d(t,"d",function(){return m});var r,n,a,c=s("./node_modules/react/index.js"),i=s.n(c),o=s("./src/config.ts");!function(e){e.Silver="silver",e.Gold="gold",e.Platinum="platinum"}(r||(r={})),function(e){e.gid_1="gid1",e.gid_2="gid2",e.gid_3="gid3"}(n||(n={})),function(e){e.Gid1="gid_1",e.Gid2="gid_2",e.Gid3="gid_3"}(a||(a={}));const d="GildedLastMonth--Tooltip",u=new Set(Object.keys(a).map(e=>a[e])),l=e=>u.has(e)?e.replace(/_/,""):null,b={[a.Gid1]:{title:"gold.gildModal.awardSelector.silver.title",color:"#A5A4A4",cost:100,modelField:a.Gid1,benefits:["gold.gildModal.awardSelector.silver.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.silver.benefitsTitle",icon:({className:e})=>i.a.createElement("img",{className:e,src:`${o.a.assetPath}/img/gold/badges/award-silver-medium.png?v=2`}),awardMessage:"gold.gildModal.awardSelector.silver.awardMessage",enabled:!0},[a.Gid2]:{title:"gold.gildModal.awardSelector.gold.title",color:"#DDBB38",cost:500,modelField:a.Gid2,benefits:["gold.gildModal.awardSelector.gold.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.gold.benefitsTitle",icon:({className:e})=>i.a.createElement("img",{className:e,src:`${o.a.assetPath}/img/gold/badges/award-gold-medium.png?v=2`}),awardMessage:"gold.gildModal.awardSelector.gold.awardMessage",enabled:!0},[a.Gid3]:{title:"gold.gildModal.awardSelector.platinum.title",color:"#0DD2BA",cost:1800,modelField:a.Gid3,benefits:["gold.gildModal.awardSelector.platinum.benefit1"],benefitsTitle:"gold.gildModal.awardSelector.platinum.benefitsTitle",icon:({className:e})=>i.a.createElement("img",{className:e,src:`${o.a.assetPath}/img/gold/badges/award-platinum-medium.png?v=2`}),awardMessage:"gold.gildModal.awardSelector.platinum.awardMessage",enabled:!0}},p=e=>b[e],O={[a.Gid1]:0,[a.Gid2]:0,[a.Gid3]:0},f=(e,t)=>Object.assign({},e,{gildings:t||O}),m=(e,t)=>{const s={};for(const r of t)s[r.award.id]=r.total;return Object.assign({},e,{awardCountsById:s})}},"./src/reddit/models/Live/index.ts":function(e,t,s){"use strict";var r,n;s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n}),function(e){e.Ama="ama",e.Announcement="announcement",e.Document="document",e.Moderation="moderation",e.Snoo="snoo"}(r||(r={})),function(e){e.Ama="AMA",e.Announcement="ANNOUNCEMENT",e.Document="DOCUMENT",e.Moderation="MODERATION",e.Snoo="SNOO"}(n||(n={}))},"./src/reddit/models/ModQueue/index.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return d});var r=s("./src/reddit/helpers/isPost.ts"),n=s("./src/reddit/models/Flair/index.ts");const a=1;var c;!function(e){e.Approve="approve",e.Flair="flair",e.IgnoreReports="ignore_reports",e.Lock="lock",e.MarkNSFW="mark_nsfw",e.RemovalReason="removal_reason",e.Remove="remove",e.Spam="spam",e.Spoiler="spoiler",e.UnignoreReports="unignore_reports",e.Unlock="unlock",e.UnmarkNSFW="unmark_nsfw",e.Unspoiler="unspoiler"}(c||(c={}));const i={},o={ignore_reports:c.UnignoreReports,lock:c.Unlock,mark_nsfw:c.UnmarkNSFW,remove:c.Approve,spam:c.Approve,spoiler:c.Unspoiler,unignore_reports:c.IgnoreReports,unlock:c.Lock,unmark_nsfw:c.MarkNSFW,unspoiler:c.Spoiler},d=(e,t,s,a,o)=>{switch(t){case"approve":{const e={};return s.forEach(t=>{e[t]={approvedBy:a,isApproved:!0,isRemoved:!1,isSpam:!1,bannedBy:null,modNote:null,modReasonBy:null,modRemovalReason:null,numReports:0}}),e}case"flair":{const t={};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s].flair.filter(e=>e.type===n.f.Nsfw||e.type===n.f.Spoiler);o&&o.flair&&r.push(o.flair),t[s]={flair:r}}}),t}case"ignore_reports":{const e={};return s.forEach(t=>{e[t]={ignoreReports:!0}}),e}case"lock":{const e={};return s.forEach(t=>{e[t]={isLocked:!0}}),e}case"mark_nsfw":{const t={},a={text:"nsfw",type:n.f.Nsfw};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],n=r.isNSFW?r.flair:r.flair?[...r.flair,a]:{[s]:a};t[s]={isNSFW:!0,flair:n}}}),t}case"remove":{const e={};return s.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!0,isSpam:!1,bannedBy:a}}),e}case"spam":{const e={};return s.forEach(t=>{e[t]={approvedBy:null,isApproved:!1,isRemoved:!1,isSpam:!0,bannedBy:a}}),e}case"spoiler":{const t={},a={text:"spoiler",type:n.f.Spoiler};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],n=r.isSpoiler?r.flair:r.flair?[...r.flair,a]:{[s]:a};t[s]={isSpoiler:!0,flair:n}}}),t}case"unignore_reports":{const e={};return s.forEach(t=>{e[t]={ignoreReports:!1}}),e}case"unlock":{const e={};return s.forEach(t=>{e[t]={isLocked:!1}}),e}case"unmark_nsfw":{const t={};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],a=r.flair?r.flair.filter(e=>e.type!==n.f.Nsfw):null;t[s]={isNSFW:!1,flair:a}}}),t}case"unspoiler":{const t={};return s.forEach(s=>{if(Object(r.a)(s)){const r=e[s],a=r.flair?r.flair.filter(e=>e.type!==n.f.Spoiler):null;t[s]={isSpoiler:!1,flair:a}}}),t}case c.RemovalReason:{const e={};return s.forEach(t=>{e[t]={modNote:o&&o.modNote,modReasonBy:a,modRemovalReason:o&&o.removalReason}}),e}default:return i}}},"./src/reddit/models/Poll/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"f",function(){return c}),s.d(t,"e",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"d",function(){return d});var r,n,a=s("./node_modules/bignumber.js/bignumber.js");!function(e){e.GovGeneric="governance:generic",e.ReplaceTopMod="governance:replace-top-mod",e.Spinoff="governance:spin-off"}(r||(r={})),function(e){e.ByVoters="byVoters",e.ByVotingPower="byVotingPower",e.ByLockedVotingPower="byLockedVotingPower"}(n||(n={}));const c={[r.ReplaceTopMod]:()=>[{text:"Yes"},{text:"No"}],[r.Spinoff]:e=>[{text:e?`Yes, I'd like to join r/${e}`:"Yes, I'd like to join the new community"},{text:"No"}]};function i(e,t){const s=!!e.options.filter(e=>t.options[e.id].userSelected).length,r=new Date(e.endsAt).getTime()<Date.now();return s||r}function o(e,t){let s=e.options[0],r=new a.BigNumber(t.options[s.id].votes);for(const n of e.options){const e=new a.BigNumber(t.options[n.id].votes);e.isGreaterThan(r)&&(s=n,r=e)}return s}function d(e){switch(e.type){case r.GovGeneric:case r.ReplaceTopMod:case r.Spinoff:return!0;default:return!1}}},"./src/reddit/models/PostRequirements/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o});var r=s("./node_modules/lodash/isEqual.js"),n=s.n(r);const a=e=>"number"==typeof e&&e<2?null:e,c=e=>{const t={},s=e.titleRegEx,r=e.titleStrings,n=e.titleLength,c=e.postLength,i=e.linkDomain,o=e.linkListPermission,d=e.postBodyRequirement,u=e.postingGuidelines,l=e.reposts,b=e.flair;return r.isToggled?t.ruleTitleStrings=r.strings.filter(e=>!!e):t.ruleTitleStrings=[],s.isToggled?t.ruleTitleRegex=s.regex.filter(e=>!!e):t.ruleTitleRegex=[],n.isToggled?(t.ruleTitleTextMaxLength=n.max,t.ruleTitleTextMinLength=a(n.min)):(t.ruleTitleTextMaxLength=null,t.ruleTitleTextMinLength=null),c.isToggled?(t.ruleBodyTextMaxLength=c.max,t.ruleBodyTextMinLength=a(c.min)):(t.ruleBodyTextMaxLength=null,t.ruleBodyTextMinLength=null),t.ruleLinkListPermission=o,"none"!==o&&("whitelist"===o?t.ruleLinkWhitelist=i.whitelist.filter(e=>!!e):t.ruleLinkBlacklist=i.blacklist.filter(e=>!!e)),t.noopGuidelinesRequirement=u.requirement,"none"!==u.requirement&&(t.noopGuidelines=u.guidelines),l.isToggled?t.ruleLinkRepostAge=l.days:t.ruleLinkRepostAge=null,t.ruleBodyRequirement=d,t.ruleFlairRequired=b.isToggled,t},i=(e,t)=>{const s=Object.assign({},e);return s.isLoading=!1,s.titleStrings.isToggled=!!t.ruleTitleStrings.length,s.titleStrings.strings=t.ruleTitleStrings,s.titleRegEx.isToggled=!!t.ruleTitleRegex.length,s.titleRegEx.regex=t.ruleTitleRegex,s.titleLength.isToggled=null!==t.ruleTitleTextMinLength||null!==t.ruleTitleTextMaxLength,s.titleLength.min=t.ruleTitleTextMinLength,s.titleLength.max=t.ruleTitleTextMaxLength,s.postLength.isToggled=null!==t.ruleBodyTextMinLength||null!==t.ruleBodyTextMaxLength,s.postLength.min=t.ruleBodyTextMinLength,s.postLength.max=t.ruleBodyTextMaxLength,s.postingGuidelines.requirement=t.noopGuidelinesRequirement,s.postingGuidelines.guidelines=t.noopGuidelines,s.postBodyRequirement=t.ruleBodyRequirement,s.linkListPermission=t.ruleLinkListPermission,s.linkDomain.whitelist=t.ruleLinkWhitelist,s.linkDomain.blacklist=t.ruleLinkBlacklist,s.reposts.isToggled=null!==t.ruleLinkRepostAge,s.reposts.days=t.ruleLinkRepostAge,s.flair.isToggled=t.ruleFlairRequired,s},o=(e,t)=>{const s={};for(const r in e){const a=e[r];Array.isArray(a)?n()(a,t[r])||(s[r]=a):a!==t[r]&&(s[r]=a)}return s}},"./src/reddit/models/Rule/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"f",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"c",function(){return d}),s.d(t,"g",function(){return u});const r={all:"all",post:"post",comment:"comment"},n={all:"all",link:"post",comment:"comment"},a={LINK_AND_COMMENT:"all",LINK:"post",COMMENT:"comment"},c=15,i=100,o=100,d=500,u=e=>({rules:e.map(e=>({kind:n[e.kind],description:e.description,descriptionHtml:e.description_html,shortName:e.short_name,violationReason:e.violation_reason,createdUtc:e.created_utc,priority:e.priority}))})},"./src/reddit/models/SearchDiscoveryUnit/index.ts":function(e,t,s){"use strict";var r,n,a;s.d(t,"c",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a}),function(e){e.Default="DEFAULT",e.Trending="TRENDING"}(r||(r={})),function(e){e.Communities="COMMUNITIES",e.Posts="POSTS",e.Queries="QUERIES"}(n||(n={})),function(e){e.Carousel="CAROUSEL",e.Hero="HERO",e.Row="ROW",e.Widget="WIDGET"}(a||(a={}))},"./src/reddit/models/SubredditChannel/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return i}),s.d(t,"e",function(){return o});var r,n,a=s("./src/chat/models/Channel/utils/removeSendbirdPrefix.ts");!function(e){e.Public="public",e.Private="private"}(r||(r={})),function(e){e.Joined="joined",e.Invited="invited",e.Unsorted="none"}(n||(n={}));const c={channelId:"",channelSendbirdUrl:"",subredditId:"",name:"",description:"",membersCount:0,type:r.Public,channelState:n.Unsorted,minimumAcctAge:0,newMemberAge:0,isModQueue:!1},i=e=>{const t={};return e.length&&e.forEach(e=>{const s=(e=>({channelId:Object(a.a)(e.url),channelSendbirdUrl:e.url,channelState:e.member_state,subredditId:e.subreddit.id,isModQueue:e.is_modqueue,name:e.name,type:e.type,description:e.description,membersCount:e.member_count,minimumAcctAge:e.automute_account_age_threshold||0,newMemberAge:e.automute_on_join_duration||0}))(e);t[s.channelId]=s}),t},o=e=>({channelId:Object(a.a)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:n.Joined,subredditId:e.subreddit_id,isModQueue:!1,name:e.room,type:e.roomType,description:e.description,membersCount:1,minimumAcctAge:e.automute_account_age_threshold,newMemberAge:e.automute_on_join_duration})},"./src/reddit/models/Tags/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"c",function(){return a}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return i});const r=25,n=64;var a;!function(e){e.EVENT="EVENT",e.COLLECTION="COLLECTION",e.CLASSIFICATION="CLASSIFICATION",e.POST_CLASSIFICATION="POST_CLASSIFICATION",e.SUBREDDIT_CLASSIFICATION="SUBREDDIT_CLASSIFICATION",e.COMMENT_CLASSIFICATION="COMMENT_CLASSIFICATION"}(a||(a={}));const c=(e,t=!1)=>({id:e.id,displayText:e.text,selected:t}),i=(e,t=!1)=>c(e.tag,t)},"./src/reddit/models/WhitelistAndBlocked.ts":function(e,t,s){"use strict";var r;s.d(t,"a",function(){return r}),function(e){e.pending="pending",e.error="error",e.waitingForRequest="waitingForRequest"}(r||(r={}))},"./src/reddit/reducers/comments/visitHighlightingFilter/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./src/reddit/actions/comment.ts"),a=s("./src/reddit/actions/platform.ts");!function(e){e.First="First",e.Last="Last",e.None="None"}(r||(r={}));const c=r.Last;t.b=((e=c,t)=>{switch(t.type){case a.a:return c;case n.a:return t.payload.sort;default:return e}})},"./src/reddit/reducers/economics/paymentSystems/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./src/reddit/actions/economics/paymentSystems/constants.ts"),a=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};!function(e){e[e.Failure=0]="Failure",e[e.Fetched=1]="Fetched",e[e.NotFetched=2]="NotFetched",e[e.Pending=3]="Pending"}(r||(r={}));const c={status:r.NotFetched};t.b=((e=c,t)=>{switch(t.type){case n.a:if(e.status===r.Fetched&&e.data.stripe&&e.data.stripe.sources){const s=t.payload.cardId,r=e.data.stripe.sources,n=s,c=(r[n],a(r,["symbol"==typeof n?n:n+""]));return Object.assign({},e,{data:Object.assign({},e.data,{stripe:Object.assign({},e.data.stripe,{sources:c})})})}return e;case n.b:return{error:t.payload.error,status:r.Failure};case n.c:return{data:t.payload,status:r.Fetched};case n.d:return{status:r.Pending};default:return e}})},"./src/reddit/reducers/economics/subredditPremium/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./src/reddit/actions/economics/subredditPremium/constants.ts"),a=s("./src/reddit/helpers/economics/sortBadges.ts"),c=s("./src/reddit/models/Badge/index.ts"),i=s("./src/reddit/models/Badge/managementPage.ts");!function(e){e[e.NotFetched=0]="NotFetched",e[e.Fetched=1]="Fetched"}(r||(r={}));const o={};function d(e){return"userId"in e}function u(e,t,s,r){e.forEach(e=>{e.collections&&Object.keys(e.collections).forEach(n=>{let a;(a=e.placement?e.placement===c.a.First?r[i.a.Loyalty][n]:r[i.a.Achievement][n]:d(e)?r[i.a.Cosmetic][i.c.MyBadges][n]:r[i.a.Cosmetic][i.c.Gallery][n])&&(d(e)?s.has(e.id)&&a.unlocked.push(e):e.placement&&t.has(e.id)||a.locked.push(e))})})}function l(e){const t=(e,t)=>{const s=parseInt(e.price||"0"),r=parseInt(t.price||"0");return s===r?Object(a.b)(e,t):s-r};return e.locked.sort(t),e.unlocked.sort(t),e}function b(e,t){return Object.keys(e).map(t=>e[t]).filter(e=>!!e.locked.length||!!e.unlocked.length).map(l).sort((e,s)=>{const r=t[e.id],n=t[s.id];return Object(a.b)(r,n)})}t.b=((e=o,t)=>{switch(t.type){case n.a:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:{raw:s,data:function(e){const t={[i.a.Loyalty]:{},[i.a.Achievement]:{},[i.a.Cosmetic]:{[i.c.Gallery]:{},[i.c.MyBadges]:{}}};Object.keys(e.collections).forEach(s=>{const r=e.collections[s],n={description:r.description,highlight:r.extra&&r.extra.style&&r.extra.style.color,id:r.id,locked:[],title:r.title,unlocked:[]};t[i.a.Loyalty][s]=Object.assign({},n,{locked:[],unlocked:[]}),t[i.a.Achievement][s]=Object.assign({},n,{locked:[],unlocked:[]}),t[i.a.Cosmetic][i.c.Gallery][s]=Object.assign({},n,{locked:[],unlocked:[]}),t[i.a.Cosmetic][i.c.MyBadges][s]=Object.assign({},n,{locked:[],unlocked:[]})});const s=new Set;e.userOwnedBadges.forEach(t=>{const r=e.badges[t];r&&s.add(r.type)});const r=new Set(e.userOwnedBadges);return u(Object.keys(e.badges).map(t=>e.badges[t]),s,r,t),u(Object.keys(e.products).map(t=>e.products[t]),s,r,t),{collections:{[i.a.Loyalty]:b(t[i.a.Loyalty],e.collections),[i.a.Achievement]:b(t[i.a.Achievement],e.collections),[i.a.Cosmetic]:{[i.c.Gallery]:b(t[i.a.Cosmetic][i.c.Gallery],e.collections),[i.c.MyBadges]:b(t[i.a.Cosmetic][i.c.MyBadges],e.collections)}},usersAppliedBadges:Object.keys(e.usersAppliedBadges).reduce((t,s)=>(t[s]=e.usersAppliedBadges[s].map(t=>e.badges[t]),t),{}),userOwnedBadges:e.userOwnedBadges.map(t=>e.badges[t]).filter(Boolean),userIsSubscriber:e.userIsSubscriber}}(s),status:r.Fetched}})}case n.b:{var s=t.payload;const n=s.badge,a=s.placement,c=s.subredditId,i=s.userId,o=e[c];if(o&&o.status===r.Fetched){const t=(o.data.usersAppliedBadges[i]||[]).filter(e=>e.placement!==a);return t.push(n),Object.assign({},e,{[c]:Object.assign({},o,{data:Object.assign({},o.data,{usersAppliedBadges:Object.assign({},o.data.usersAppliedBadges,{[i]:t.filter(Boolean)})}),raw:Object.assign({},o.raw,{usersAppliedBadges:Object.assign({},o.raw.usersAppliedBadges,{[i]:t.filter(Boolean).map(e=>e.id)})})})})}return e}default:return e}})},"./src/reddit/reducers/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/redux/es/index.js"),n=s("./src/app/reducers/meta/index.ts"),a=s("./src/app/reducers/tooltipId/index.ts"),c=s("./src/reddit/actions/modal.ts");const i={};var o=(e=i,t)=>{switch(t.type){case c.e:return t.payload.actionSource||t.payload.redirectUrl?Object.assign({},e,t.payload):i;default:return e}},d=s("./src/reddit/actions/authorFlair.ts"),u=s("./src/reddit/actions/badge.ts"),l=s("./src/reddit/actions/economics/subredditPremium/constants.ts"),b=s("./src/reddit/actions/economics/support/constants.ts"),p=s("./src/reddit/actions/governance/constants.ts"),O=s("./src/reddit/actions/harbergerTax/constants.ts"),f=s("./src/reddit/actions/platform.ts"),m=s("./src/reddit/actions/postCreation/constants.ts"),j=s("./src/reddit/actions/product.ts"),g=s("./src/reddit/actions/reportFlow.ts"),y=s("./src/reddit/actions/structuredStyles.ts"),_=s("./src/reddit/constants/modals.ts");var E=(e=null,t)=>{switch(t.type){case c.c:{const s=t.payload;return e===s?null:s}case c.b:case m.x:case c.d:case f.a:case g.e:return null;case y.e:return e===_.a.BLADE_UNSAVED_CHANGES?null:e;case y.d:return e===_.a.BLADE_NIGHTMODE?null:e;case d.a:return e===_.a.USER_FLAIR_MODAL_ID?null:_.a.USER_FLAIR_MODAL_ID;case u.c:return _.a.BADGE_PICKER;case j.b:return _.a.BADGE_PURCHASE;case p.e:return _.a.GOVERNANCE_OPT_OUT;case p.r:return _.a.TRANSFER_POINTS;case p.o:return _.a.GOVERNANCE_RELEASE_NOTES;case O.c:return _.a.HARBERGER_TAX_BANNER_PURCHASE;case O.a:return _.a.HARBERGER_TAX_BANNER_MANAGE;case b.a:return _.a.ECONOMY_SUPPORT_MODAL;case l.f:return _.a.SUBREDDIT_PREMIUM_PURCHASE_MODAL;case l.d:return _.a.SUBREDDIT_PREMIUM_BADGE_MANAGEMENT;default:return e}},h=s("./src/reddit/actions/post.ts"),I=s("./src/reddit/actions/video.ts");const S={};var T=(e=S,t)=>{switch(t.type){case h.a:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adImpression=Date.now(),r}case h.b:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adViewableImpression=Date.now(),r}case I.d:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoViewable=Date.now(),r}case I.a:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoFullyViewable=Date.now(),r}case I.c:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoStarted=Date.now(),r}case I.b:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoPlayedWithSound=Date.now(),r}case I.q:{const s=t.payload.postId,r=Object.assign({},e);return r[s]||(r[s]={}),r[s].adVideoPlayedExpanded=Date.now(),r}case I.e:{var s=t.payload;const r=s.postId,n=s.percentage,a=Object.assign({},e);a[r]||(a[r]={});const c=`adVideoWatchedPercent${n}`;return a[r].adVideoWatchedPercent||(a[r][c]={}),a[r][c]=Date.now(),a}case I.f:{var r=t.payload;const s=r.postId,n=r.seconds,a=Object.assign({},e);a[s]||(a[s]={});const c=`adVideoWatchedSeconds${n}`;return a[s].adVideoWatchedSeconds||(a[s][c]={}),a[s][c]=Date.now(),a}default:return e}},v=s("./src/reddit/actions/apiRequestState.ts");const C={};var D=(e=C,t)=>{switch(t.type){case v.d:case v.a:case v.b:{const s=t.payload;return Object.assign({},e,{[s.apiRequestId]:s})}case v.c:{const s=t.payload;if(!(s in e))return e;if(1===Object.keys(e).length)return C;const r=Object.assign({},e);return delete r[s],r}default:return e}},R=s("./src/reddit/actions/subredditModeration.ts");var A=(e=null,t)=>{switch(t.type){case R.e:case R.d:return null;case R.c:return t.payload;default:return e}},w=s("./src/reddit/models/SubredditModeration/index.ts");const P={};var x=(e=P,t)=>{switch(t.type){case R.e:{var s=t.payload;const r=s.subredditId,n=s.fetchedToken,a=Object(w.d)(r,n);return Object.assign({},e,{[a]:!0})}case R.d:case R.c:{var r=t.payload;const s=r.subredditId,n=r.fetchedToken,a=Object(w.d)(s,n);return Object.assign({},e,{[a]:!1})}default:return e}},N=Object(r.c)({error:A,pending:x});const k={};var L=(e=k,t)=>{switch(t.type){case R.d:{var s=t.payload;const r=s.fetchedToken,n=s.subredditId,a=Object(w.d)(n,r);return Object.assign({},e,{[a]:!0})}default:return e}};const U={};var M=(e=U,t)=>{switch(t.type){case R.d:var s=t.payload;return{[s.subredditId]:s.after};default:return e}},F=s("./node_modules/lodash/merge.js"),G=s.n(F);const B={};var q=(e=B,t)=>{switch(t.type){case R.b:case R.d:{var s=t.payload;const r={[s.subredditId]:s.approvedSubmitters};return G()(Object.assign({},e),r)}case R.i:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}default:return e}};var $=(e=null,t)=>{switch(t.type){case R.h:case R.g:return null;case R.f:return t.payload;default:return e}};var V=(e=!1,t)=>{switch(t.type){case R.h:return!0;case R.g:case R.f:return!1;default:return e}},H=Object(r.c)({error:$,pending:V});var K=(e=null,t)=>{switch(t.type){case R.h:return null;case R.g:{const e=t.payload.approvedSubmitterIds[0];return e?t.payload.approvedSubmitters[e]:null}default:return e}},W=Object(r.c)({api:H,result:K});const Q={};var Y=(e=Q,t)=>{switch(t.type){case R.d:{var s=t.payload;const r=s.subredditId,n=s.approvedSubmitterIds;return e[r]?Object.assign({},e,{[r]:[...e[r],...n]}):Object.assign({},e,{[r]:n})}case R.i:{var r=t.payload;const s=r.subredditId,n=r.userId;return{[s]:e[s].filter(e=>e!==n)}}case R.b:{var n=t.payload;const s=n.subredditId,r=n.approvedSubmitterIds[0];return r&&e[s]&&-1===e[s].indexOf(r)?{[s]:[r,...e[s]]}:e}default:return e}},z=Object(r.c)({api:N,fetchedTokens:L,loadMore:M,models:q,search:W,userOrder:Y});var X=(e=null,t)=>{switch(t.type){case d.a:return t.payload;default:return e}},J=s("./node_modules/lodash/mergeWith.js"),Z=s.n(J),ee=s("./src/reddit/actions/comment.ts"),te=s("./src/reddit/actions/grantUserFlair/constants.ts"),se=s("./src/reddit/actions/modQueue/constants.ts"),re=s("./src/reddit/actions/page.ts"),ne=s("./src/reddit/actions/pages/profileComments.ts"),ae=s("./src/reddit/actions/pages/profilePosts.ts"),ce=s("./src/reddit/actions/pages/profilePrivate/constants.ts"),ie=s("./src/reddit/actions/pages/subreddit.ts"),oe=s("./src/reddit/actions/profileConversations.ts"),de=s("./src/reddit/actions/subreddit.ts"),ue=s("./src/reddit/actions/userFlair.ts"),le=s("./src/reddit/models/User/index.ts");const be={};var pe=(e=be,t)=>{switch(t.type){case ee.s:case ee.t:{const s=t.payload.authorFlair;return s?Z()(Object.assign({},e),s,(e,t,s)=>{if("richtext"===s)return t}):e}case ce.c:case ce.i:case ce.e:case ce.g:case re.r:{const s=t.payload.authorFlair;return s?G()(Object.assign({},e),s):e}case ee.v:case ie.b:case re.b:case ne.b:case ne.e:case ae.e:case ae.b:case oe.e:case de.i:{var s=t.payload;const r=s.account,n=s.authorFlair,a=s.userFlair,c=G()(Object.assign({},e),n);if(!a||!r)return c;const i=Object.keys(a)[0];return i&&Object(le.f)(r)?(c[i]||(c[i]={}),c):c}case se.i:case se.f:case se.m:case se.p:case se.v:{var r=t.payload.response;const s=r.account,n=r.authorFlair,a=r.userFlair,c=G()(Object.assign({},e),n);if(!a||!s)return c;const i=Object.keys(a)[0];return i&&Object(le.f)(s)?(c[i]||(c[i]={}),c):c}case ue.i:{var n=t.payload;const s=n.subredditId,r=n.userName,a=n.applied,c=n.displaySettings.isUserEnabled;return Object.assign({},e,{[s]:Object.assign({},e[s],{[r]:c?a:null})})}case te.h:case te.b:{var a=t.payload;const s=a.subredditId,r=a.userName,n=a.applied;return e[s]&&e[s][r]?Object.assign({},e,{[s]:Object.assign({},e[s],{[r]:n})}):e}case ue.a:{var c=t.payload;const s=c.subredditId,r=c.userName,n=c.applied,a=c.displaySettings.isEnabled;return Object.assign({},e,{[s]:Object.assign({},e[s],{[r]:a?n:null})})}default:return e}},Oe=Object(r.c)({inContext:X,models:pe}),fe=s("./src/reddit/actions/gold/constants.ts");var me=(e=null,t)=>{switch(t.type){case fe.d:case fe.e:return null;case fe.c:return t.payload;default:return e}};var je=(e=!1,t)=>{switch(t.type){case f.a:case fe.e:case fe.c:return!1;case fe.d:return!0;default:return e}},ge=Object(r.c)({error:me,pending:je}),ye=Object(r.c)({api:ge});var _e=(e=null,t)=>{switch(t.type){case fe.C:case fe.B:return null;case fe.A:return t.payload;default:return e}};const Ee={};var he=(e=Ee,t)=>{switch(t.type){case fe.C:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case fe.B:case fe.A:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},Ie=Object(r.c)({error:_e,pending:he});const Se={};var Te=(e=Se,t)=>{switch(t.type){case fe.B:{var s=t.payload;const r=s.awards,n=s.subredditId,a=r.map(e=>e.id);return Object.assign({},e,{[n]:a})}case fe.e:{var r=t.payload;const s=r.award,n=r.subredditId;if(s&&s.id){if(!e[n])return Object.assign({},e,{[n]:[s.id]});if(-1===e[n].indexOf(s.id))return Object.assign({},e,{[n]:[s.id,...e[n]]})}return e}case fe.h:{var n=t.payload;const s=n.awardId,r=n.subredditId,a=Object.assign({},e);if(a[r]){const e=a[r].indexOf(s);if(-1!==e){const t=[...a[r]];return t.splice(e,1),a[r]=t,a}}return e}default:return e}},ve=Object(r.c)({api:Ie,order:Te}),Ce=s("./src/reddit/models/Gold/Award.ts"),De=s("./src/reddit/actions/discoveryUnit.ts"),Re=s("./src/reddit/actions/frontpage.ts"),Ae=s("./src/reddit/actions/hero.ts"),we=s("./src/reddit/actions/multireddit/constants.ts"),Pe=s("./src/reddit/actions/originalContent.ts"),xe=s("./src/reddit/actions/pages/collectionCommentsPage.ts"),Ne=s("./src/reddit/actions/pages/modListing/constants.ts"),ke=s("./src/reddit/actions/pages/news/index.ts"),Le=s("./src/reddit/actions/pages/originalContent.ts"),Ue=s("./src/reddit/actions/pages/postCreation.ts"),Me=s("./src/reddit/actions/pages/profileOverview.ts"),Fe=s("./src/reddit/actions/profileOverviewChrono.ts"),Ge=s("./src/reddit/actions/recommendations.ts"),Be=s("./src/reddit/actions/search.ts");const qe={};var $e=(e=qe,t)=>{switch(t.type){case fe.B:case fe.I:{const s=t.payload.awards.reduce((e,t)=>(e[t.id]=t,e),{});return G()(Object.assign({},e),s)}case fe.e:{const s=t.payload.award;return s&&s.id?e[s.id]?G()(Object.assign({},e),{[s.id]:s}):Object.assign({},e,{[s.id]:s}):e}case fe.k:{const s=t.payload.awardId;return e[s]?Object.assign({},e,{[s]:Object.assign({},e[s],{isEnabled:!1})}):e}case xe.b:case ee.v:case Ue.b:case De.e:case Re.b:case Ae.b:case Ne.e:case Ne.h:case se.f:case se.m:case se.p:case se.v:case we.r:case ke.b:case Pe.e:case Pe.h:case Le.b:case re.b:case re.g:case re.l:case re.r:case ne.b:case ne.e:case oe.b:case oe.e:case Me.b:case Me.e:case Fe.b:case ae.b:case ae.e:case ce.c:case ce.e:case ce.i:case ce.g:case Ge.b:case Be.c:case de.i:case ie.b:{const s={},r=t.payload.posts||[],n=t.payload.comments||[];for(const e in r){const t=r[e].allAwardings||[];for(const e of t)s[e.id]=Object(Ce.c)(e)}for(const e in n){const t=n[e].allAwardings||[];for(const e of t)s[e.id]=Object(Ce.c)(e)}return Object.assign({},e,s)}default:return e}};var Ve=(e=null,t)=>{switch(t.type){case fe.J:case fe.I:return null;case fe.H:return t.payload;default:return e}};const He={};var Ke=(e=He,t)=>{switch(t.type){case fe.J:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case fe.I:case fe.H:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},We=Object(r.c)({error:Ve,pending:Ke});const Qe={};var Ye=(e=Qe,t)=>{switch(t.type){case fe.I:{var s=t.payload;const r=s.awards,n=s.subredditId,a=r.map(e=>e.id);return Object.assign({},e,{[n]:a})}default:return e}},ze=Object(r.c)({api:We,order:Ye}),Xe=Object(r.c)({create:ye,manageable:ve,models:$e,usable:ze});const Je={};var Ze=(e=Je,t)=>{switch(t.type){case u.e:case u.f:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:void 0})}case u.d:{var s=t.payload;const r=s.subredditId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const et={};var tt=(e=et,t)=>{switch(t.type){case u.e:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case u.f:case u.d:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},st=Object(r.c)({error:Ze,pending:tt});const rt={};var nt=(e=rt,t)=>{switch(t.type){case u.h:case u.i:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:void 0})}case u.g:{var s=t.payload;const r=s.subredditId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const at={};var ct=(e=at,t)=>{switch(t.type){case u.h:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case u.i:case u.g:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},it=Object(r.c)({error:nt,pending:ct}),ot=Object(r.c)({subreddit:st,user:it});const dt={};var ut=(e=dt,t)=>{switch(t.type){case l.a:case u.f:case u.i:case j.d:{const s=t.payload.badges;return Object.assign({},e,s)}default:return e}},lt=Object(r.c)({api:ot,models:ut});var bt=(e=null,t)=>{switch(t.type){case R.m:case R.l:return null;case R.k:return t.payload;default:return e}};const pt={};var Ot=(e=pt,t)=>{switch(t.type){case R.m:{var s=t.payload;const r=s.subredditId,n=s.fetchedToken,a=Object(w.d)(r,n);return Object.assign({},e,{[a]:!0})}case R.l:case R.k:{var r=t.payload;const s=r.subredditId,n=r.fetchedToken,a=Object(w.d)(s,n);return Object.assign({},e,{[a]:!1})}default:return e}},ft=Object(r.c)({error:bt,pending:Ot});const mt={};var jt=(e=mt,t)=>{switch(t.type){case R.l:{var s=t.payload;const r=s.fetchedToken,n=s.subredditId,a=Object(w.d)(n,r);return Object.assign({},e,{[a]:!0})}default:return e}},gt=s("./src/reddit/actions/inContextModeration.ts");var yt=(e=null,t)=>{switch(t.type){case gt.a:return t.payload;default:return e}};const _t={};var Et=(e=_t,t)=>{switch(t.type){case R.l:var s=t.payload;return{[s.subredditId]:s.after};default:return e}};const ht={};var It=(e=ht,t)=>{switch(t.type){case R.j:case R.l:{var s=t.payload;const r={[s.subredditId]:s.bannedUsers};return G()(Object.assign({},e),r)}case R.q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}default:return e}};var St=(e=null,t)=>{switch(t.type){case R.p:case R.o:return null;case R.n:return t.payload;default:return e}};var Tt=(e=!1,t)=>{switch(t.type){case R.p:return!0;case R.o:case R.n:return!1;default:return e}},vt=Object(r.c)({error:St,pending:Tt});var Ct=(e=null,t)=>{switch(t.type){case R.p:case R.n:return null;case R.o:{const e=t.payload.bannedUserIds[0];return e?t.payload.bannedUsers[e]:null}default:return e}},Dt=Object(r.c)({api:vt,result:Ct});const Rt={};var At=(e=Rt,t)=>{switch(t.type){case R.l:{var s=t.payload;const r=s.subredditId,n=s.bannedUserIds;return e[r]?Object.assign({},e,{[r]:[...e[r],...n]}):Object.assign({},e,{[r]:n})}case R.q:{var r=t.payload;const s=r.subredditId,n=r.userId;return{[s]:e[s].filter(e=>e!==n)}}case R.j:{var n=t.payload;const s=n.subredditId,r=n.bannedUserIds[0];return r&&e[s]&&-1===e[s].indexOf(r)?{[s]:[r,...e[s]]}:e}default:return e}},wt=Object(r.c)({api:ft,fetchedTokens:jt,inContext:yt,loadMore:Et,models:It,search:Dt,userOrder:At}),Pt=s("./src/reddit/actions/userBlocks.ts");const xt={};var Nt=(e=xt,t)=>{switch(t.type){case Pt.f:case Pt.e:{const s=t.payload.userId;return Object.assign({},e,{[s]:null})}case Pt.d:{var s=t.payload;const r=s.userId,n=s.type;return Object.assign({},e,{[r]:n})}default:return e}};const kt={};var Lt=(e=kt,t)=>{switch(t.type){case Pt.f:{const s=t.payload.userId;return Object.assign({},e,{[s]:!0})}case Pt.e:case Pt.d:{const s=t.payload.userId;return Object.assign({},e,{[s]:!1})}default:return e}},Ut=Object(r.c)({error:Nt,pending:Lt}),Mt=Object(r.c)({api:Ut}),Ft=s("./src/reddit/actions/ads/constants.ts");const Gt={isViewSafe:!0,hasBrandSafetyBeenAssessed:!1};var Bt=(e=Gt,t)=>{switch(t.type){case Ft.a:return e.isViewSafe===t.payload.isViewSafe&&e.hasBrandSafetyBeenAssessed?e:Object.assign({},e,{isViewSafe:t.payload.isViewSafe,hasBrandSafetyBeenAssessed:!0});case ie.c:case re.m:case re.h:return e.hasBrandSafetyBeenAssessed?Object.assign({},e,{hasBrandSafetyBeenAssessed:!1}):e;default:return e}},qt=s("./src/reddit/actions/category.ts");var $t=(e=null,t)=>{switch(t.type){case qt.b:case qt.c:return null;case qt.a:return t.payload.error||null;default:return e}};var Vt=(e=!1,t)=>{switch(t.type){case qt.c:return!1;case qt.b:return!0;default:return e}};var Ht=(e=!1,t)=>{switch(t.type){case qt.c:return!0;case qt.b:case qt.a:return!1;default:return e}},Kt=Object(r.c)({error:$t,loaded:Vt,pending:Ht});const Wt={};var Qt=(e=Wt,t)=>{switch(t.type){case qt.f:case qt.e:{const s=t.payload.categoryId,r=Object.assign({},e);return delete r[s],r}case qt.d:{var s=t.payload;const r=s.categoryId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Yt={};var zt=(e=Yt,t)=>{switch(t.type){case qt.f:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!1})}case qt.e:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!0})}default:return e}};const Xt={};var Jt=(e=Xt,t)=>{switch(t.type){case qt.f:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!0})}case qt.e:case qt.d:{const s=t.payload.categoryId;return Object.assign({},e,{[s]:!1})}default:return e}},Zt=Object(r.c)({error:Qt,loaded:zt,pending:Jt}),es=Object(r.c)({list:Kt,subreddits:Zt}),ts=s("./node_modules/lodash/isEmpty.js"),ss=s.n(ts);const rs=[];var ns=(e=rs,t)=>{switch(t.type){case qt.b:{const s=t.payload.categoryIds;return ss()(s)?e:s}default:return e}};const as={};var cs=(e=as,t)=>{switch(t.type){case qt.b:{const s=t.payload.categories;return ss()(s)?e:Object.assign({},e,s)}default:return e}},is=s("./node_modules/lodash/forOwn.js"),os=s.n(is),ds=s("./src/reddit/helpers/name/index.ts");const us={};var ls=(e=us,t)=>{switch(t.type){case qt.b:{const s=t.payload.categories;if(ss()(s))return e;const r={};return os()(s,e=>{r[Object(ds.f)(e.name)]=e.id}),Object.assign({},e,r)}default:return e}},bs=Object(r.c)({api:es,ids:ns,models:cs,nameToId:ls}),ps=s("./src/reddit/actions/chat/init.ts");var Os=(e=!1,t)=>{switch(t.type){case ps.a:return!0;default:return e}},fs=s("./src/reddit/actions/chat/sendbirdProxy.ts"),ms=s("./src/reddit/actions/chat/subredditChannel.ts");var js=(e=!1,t)=>{switch(t.type){case ms.b:case ms.a:return!!t.payload.isUserSubredditChatEnabled;case fs.a:return t.payload.user_subreddit_chat_enabled;default:return e}},gs=s("./src/chat/actions/promo/constants.ts");const ys={displaySubredditChatFtux:!1};var _s=(e=ys,t)=>{switch(t.type){case gs.a:{const s=t.payload;return Object.assign({},e,{[s]:!0})}case gs.b:{const s=t.payload;return Object.assign({},e,{[s]:!1})}default:return e}},Es=s("./src/reddit/actions/chat/subredditSettings.ts");const hs={subredditId:null,bannedWords:"",domains:"",rateLimit:-1,regexes:[]};var Is=(e=hs,t)=>{switch(t.type){case Es.a:return Object.assign({},t.payload);default:return e}},Ss=s("./src/reddit/actions/chat/unreadCount.ts");const Ts={apiError:null};var vs=(e=Ts,t)=>{switch(t.type){case Ss.a.REQUEST_FAILED:{const e=t.payload;return Object.assign({},Ts,{apiError:e})}case Ss.a.REQUEST_SUCCESS:case Ss.a.REQUEST_PENDING:return Ts;default:return e}};var Cs=(e=!1,t)=>{switch(t.type){case Ss.a.REQUEST_PENDING:return!0;case Ss.a.REQUEST_FAILED:case Ss.a.REQUEST_SUCCESS:return!1;default:return e}},Ds=Object(r.c)({error:vs,pending:Cs});const Rs={basicChannelCount:0,subredditChannelCount:0};var As=(e=Rs,t)=>{switch(t.type){case Ss.a.SYNC:case Ss.a.REQUEST_SUCCESS:{const e=t.payload;return Object.assign({},e)}default:return e}},ws=Object(r.c)({api:Ds,count:As}),Ps=Object(r.c)({isInited:Os,isUserSubredditChatEnabled:js,subredditSettings:Is,promos:_s,unread:ws}),xs=s("./src/reddit/actions/claimgold.ts");var Ns=(e=null,t)=>{switch(t.type){case xs.a:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg;case xs.d:case xs.e:case xs.c:return null;default:return e}};var ks=(e=!1,t)=>{switch(t.type){case xs.d:case xs.c:case xs.a:return!1;case xs.b:return!0;default:return e}};var Ls=(e=!1,t)=>{switch(t.type){case xs.b:case xs.d:case xs.c:case xs.a:return!1;case xs.f:return!0;default:return e}},Us=Object(r.c)({error:Ns,pending:ks,showLoader:Ls});var Ms=(e="",t)=>{switch(t.type){case xs.g:return t.payload;case xs.e:return"";default:return e}};var Fs=(e=!1,t)=>{switch(t.type){case xs.e:return!0;case xs.c:case xs.d:return!1;default:return e}},Gs=Object(r.c)({api:Us,code:Ms,showModal:Fs}),Bs=s("./node_modules/lodash/get.js"),qs=s.n(Bs);const $s={};var Vs=(e=$s,t)=>{switch(t.type){case ee.d:{var s=t.payload;const r=s.commentsPageKey,n=s.commentId;return Object.assign({},e,{[r]:Object.assign({},e[r],{[n]:!qs()(e,[r,n],!1)})})}case ee.e:{var r=t.payload;const s=r.commentsPageKey,n=r.commentId;return Object.assign({},e,{[s]:Object.assign({},e[s],{[n]:!1})})}case ee.v:case xe.b:case re.b:{var n=t.payload;const s=n.key,r=n.shouldCollapse;if(!r)return e;const a=r.reduce((e,t)=>Object.assign({},e,{[t]:!0}),{});return Object.assign({},e,{[s]:Object.assign({},e[s],a)})}default:return e}},Hs=s("./src/app/models/Draft.ts"),Ks=s("./src/lib/makeDraftKey/index.ts"),Ws=s("./src/reddit/models/PostCreationForm/index.ts");const Qs={};var Ys=(e=Qs,t)=>{switch(t.type){case ee.p:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:Object.assign({},e[s],{autofocusDisabled:!0})})}case ee.j:{var s=t.payload;const r=s.draftKey,n=s.hasFocus;return e[r]?Object.assign({},e,{[r]:Object.assign({},e[r],{hasFocus:n})}):e}case re.e:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:{rteState:null,draftType:Hs.a.replyToPost}})}case xe.b:case xe.c:case re.d:{var r=t.payload;const s=r.postId,n=r.commentMode,a=Object(Ks.a)(Hs.a.replyToPost,s);return Object.assign({},e,{[a]:{rteState:null,hasFocus:!1,commentMode:n,draftType:Hs.a.replyToPost}})}case re.b:{var n=t.payload;const s=n.postId,r=n.preferences;if(!r||!r.account)return e;const a=Object(Ks.a)(Hs.a.replyToPost,s),c=r.account.useMarkdown?Ws.h.MARKDOWN:Ws.h.RICH_TEXT;return Object.assign({},e,{[a]:Object.assign({},e[a],{commentMode:c})})}case ee.l:var a=t.payload;const d=a.draftKey,u=a.content,l=a.editorMode;return e[d]?Object.assign({},e,{[d]:Object.assign({},e[d],{commentMode:l,rteState:null,text:l===Ws.h.MARKDOWN?u:null,rtJson:l===Ws.h.RICH_TEXT?u:null})}):e;case ee.q:case ee.o:{var c=t.payload;const s=c.draftKey,r=c.formData;return Object.assign({},e,{[s]:Object.assign({},r,{hasFocus:!0})})}case ee.k:{var i=t.payload;const s=i.draftKey,r=i.formData;return null===e[s]?e:Object.assign({},e,{[s]:Object.assign({},e[s],r)})}case ee.f:{const s=t.payload.draftKey,r=e[s];return r&&r.draftType===Hs.a.replyToPost?Object.assign({},e,{[s]:Object.assign({},r,{rteState:null,text:""})}):Object.assign({},e,{[s]:null})}case ee.H:{const s=t.payload.draftKey,r=e[s];return Object.assign({},e,{[s]:Object.assign({},r,{rteState:null,text:""})})}case ee.G:case ee.C:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:null})}case ee.F:{var o=t.payload;const s=o.draftKey,r=o.draft;return Object.assign({},e,{[s]:r})}default:return e}};const zs={};var Xs=(e=zs,t)=>{switch(t.type){case ee.h:{const s=t.payload.commentListNodeId;return Object.assign({},e,{[s]:!0})}case ee.i:{const s=t.payload.commentListNodeId;return Object.assign({},e,{[s]:!e[s]})}default:return e}};const Js={};var Zs=(e=Js,t)=>{switch(t.type){case ee.c:{var s=t.payload;const r=s.commentListNodeIds,n=s.commentsPageKey,a=r.reduce((t,s)=>(t[s]=!qs()(e,[n,s],!1),t),{});return Object.assign({},e,{[n]:Object.assign({},e[n],a)})}case ee.b:{var r=t.payload;const s=r.commentListNodeIds,n=r.commentsPageKey,a=s.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n]:Object.assign({},e[n],a)})}case ee.v:case xe.b:case re.b:{var n=t.payload;const s=n.key,r=n.shouldHide;if(!r)return e;const a=r.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[s]:Object.assign({},e[s],a)})}default:return e}};const er={};var tr=(e=er,t)=>{switch(t.type){case ee.q:{var s=t.payload;const r=s.commentId,n=s.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!0})})}case ee.g:case ee.A:case ee.C:{var r=t.payload;const s=r.commentId,n=r.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[s]:!1})})}default:return e}},sr=s("./node_modules/lodash/isEqual.js"),rr=s.n(sr),nr=s("./node_modules/lodash/mapValues.js"),ar=s.n(nr),cr=s("./node_modules/lodash/omit.js"),ir=s.n(cr),or=s("./src/reddit/actions/bulkActions/constants.ts"),dr=s("./src/reddit/actions/vote.ts"),ur=s("./src/reddit/helpers/isComment.ts"),lr=s("./src/reddit/models/Comment/index.ts"),br=s("./src/reddit/models/Gold/Gild/index.tsx"),pr=s("./src/reddit/models/ModQueue/index.ts"),Or=s("./src/reddit/models/Vote/index.ts"),fr=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const mr={},jr=e=>t=>{for(let s=0;s<e.length;s++)t=e[s](t);return t},gr=["next","prev","depth"],yr=e=>ir()(e,gr),_r=e=>{const t=e.allAwardings,s=fr(e,["allAwardings"]);if(!t)return e;const r={};for(const n of t)r[n.id]=n.count;return Object.assign({},s,{awardCountsById:r})};var Er=(e=mr,t)=>{switch(t.type){case ee.s:case ee.t:case ee.G:case ee.H:{const s=t.payload.comment;return Object.assign({},e,{[s.id]:s})}case ee.v:case xe.b:case re.b:case ne.b:case ne.e:case Me.b:case Me.e:case oe.b:case oe.e:case Fe.b:case ce.i:case ce.g:case ce.c:case ce.e:{const s=Object.assign({},e),r=jr([yr,_r]);for(const n in t.payload.comments){const a=e[n],c=t.payload.comments[n];a?rr()(a,c)||(c.postAuthor||(c.postAuthor=a.postAuthor),c.postTitle||(c.postTitle=a.postTitle),s[n]=r(c)):s[n]=r(c)}return s}case ee.z:{const s=t.payload.id;return Object.assign({},e,{[s]:Object.assign({},e[s],{isDeleted:!0,deletedBy:lr.a.User})})}case ee.m:{const s=t.payload;return Z()(Object.assign({},e),s,(e,t)=>Object.assign({},e,t))}case dr.a:{var s=t.payload;const r=s.id,n=s.vote,a=e[r];return a?Object.assign({},e,{[r]:Object(Or.c)(a,n)}):e}case fe.q:{var r=t.payload;const s=r.awardings,n=r.gildings,a=r.id,c=e[a];return c?Object.assign({},e,{[a]:s?Object(br.d)(Object(br.e)(c,n),s):Object(br.e)(c,n)}):e}case R.l:{const s=t.payload.comments;return Object.assign({},e,s)}case se.i:case se.f:case se.m:case se.p:case se.v:{const s=t.payload.response.comments,r=jr([_r]);return Object.assign({},e,ar()(s,r))}case or.b:case se.s:{var n=t.payload;const s=n.operation,r=n.ids,a=n.username,c=n.options,i=r.filter(e=>Object(ur.a)(e)),o=Object(pr.d)(e,s,i,a,c);return Z()(Object.assign({},e),o,(e,t)=>Object.assign({},e,t))}case re.r:{const s=t.payload.comments;return Object.assign({},e,s)}default:return e}};const hr={};var Ir=(e=hr,t)=>{switch(t.type){case ee.o:{var s=t.payload;const r=s.parentCommentId,n=s.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[r]:!0})})}case ee.n:case ee.G:{var r=t.payload;const s=r.parentCommentId,n=r.commentsPageKey;return Object.assign({},e,{[n]:Object.assign({},e[n],{[s]:!1})})}default:return e}};const Sr={};var Tr=(e=Sr,t)=>{switch(t.type){case ee.n:case ee.F:case ee.B:case ee.H:case ee.G:case ee.C:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:null})}case ee.E:case ee.A:{var s=t.payload;const r=s.draftKey,n=s.error;return Object.assign({},e,{[r]:n})}case ee.x:{var r=t.payload;const s=r.id,n=r.error;return Object.assign({},e,{[s]:n})}case ee.y:case ee.z:{const s=t.payload.id;return Object.assign({},e,{[s]:null})}default:return e}};const vr={};var Cr=(e=vr,t)=>{switch(t.type){case ee.F:case ee.B:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:!0})}case ee.G:case ee.H:case ee.C:case ee.E:case ee.A:{const s=t.payload.draftKey;return Object.assign({},e,{[s]:!1})}case ee.y:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case ee.z:case ee.x:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}default:return e}},Dr=Object(r.c)({error:Tr,pending:Cr}),Rr=s("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),Ar=Object(r.c)({collapsed:Vs,drafts:Ys,focused:Xs,hidden:Zs,isEditing:tr,models:Er,replyFormOpen:Ir,submit:Dr,visitHighlightFilter:Rr.b});const wr=[];var Pr=(e=wr,t)=>{switch(t.type){case Ft.b:return t.payload;case Ft.c:default:return e}};const xr={};var Nr=(e=xr,t)=>{switch(t.type){case xe.d:case xe.b:case re.d:case re.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case xe.a:case re.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n||{}})}default:return e}};const kr={};var Lr=(e=kr,t)=>{switch(t.type){case xe.c:case re.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}};const Ur={};var Mr=(e=Ur,t)=>{switch(t.type){case xe.d:case re.d:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case xe.b:case xe.a:case re.b:case re.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Fr=Object(r.c)({error:Nr,fullyLoaded:Lr,pending:Mr}),Gr=s("./node_modules/lodash/uniqBy.js"),Br=s.n(Gr),qr=s("./node_modules/lodash/values.js"),$r=s.n(qr);const Vr={};function Hr(e){return Br()(e,"id").sort((e,t)=>e.created-t.created)}var Kr=(e=Vr,t)=>{switch(t.type){case re.b:case ee.v:case xe.b:{var s=t.payload;const r=s.comments,n=s.key,a=function(e){return $r()(e).map(e=>({id:e.id,created:e.created}))}(r),c=Hr([...e[n]?e[n]:[],...a.length?a:[]]);return Object.assign({},e,{[n]:[...c]})}case ee.s:case ee.t:case ee.H:case ee.G:{var r=t.payload,n=r.comment;const s=n.id,a=n.created,c=r.commentsPageKey;return Object.assign({},e,{[c]:[...Hr([...e[c]?e[c]:[],{id:s,created:a}])]})}default:return e}},Wr=s("./src/reddit/helpers/commentList/index.ts");const Qr={};function Yr(e){const t=e;return ar()(t,({depth:e,next:t,prev:s})=>({depth:e,next:t,prev:s}))}var zr=(e=Qr,t)=>{switch(t.type){case ee.v:{var s=t.payload;const r=s.comments,n=s.commentLists,a=s.continueThreads,c=s.key,i=s.moreCommentsItem,o=s.moreComments,d=n[i.postId],u=e[c],l={},b=u[i.id];if(b&&b.prev){const e=b.prev.id;l[e]=Object.assign({},u[e],{next:d.head||b.next})}if(b&&b.next){const e=b.next.id;l[e]=Object.assign({},u[e],{prev:d.tail||b.prev})}if(d.head&&d.tail){const e=Object(Wr.c)({commentLink:d.head,commentsDict:r,moreCommentsDict:o,continueThreadDict:a}),t=Object(Wr.c)({commentLink:d.tail,commentsDict:r,moreCommentsDict:o,continueThreadDict:a});b&&(e.prev=b.prev,t.next=b.next)}return Object.assign({},e,{[c]:Object.assign({},e[c],Yr(r),Yr(a),Yr(o),l)})}case xe.b:case re.b:{var r=t.payload;const s=r.comments,n=r.continueThreads,a=r.key,c=r.moreComments;return Object.assign({},e,{[a]:Object.assign({},e[a],Yr(s),Yr(n),Yr(c))})}case ee.s:case ee.H:{var n=t.payload;const s=n.comment,r=n.commentsPageKey,a=n.headCommentId,c=e[r],i={};let o=null;return a&&(i[a]=Object.assign({},c[a],{prev:Object(lr.f)(s.id)}),o=Object(lr.f)(a)),Object.assign({},e,{[r]:Object.assign({},e[r],i,{[s.id]:{depth:0,next:o,prev:null}})})}case ee.G:{var a=t.payload;const s=a.comment,r=a.commentsPageKey,n=a.parentCommentId,c=a.depth,i=e[r],o={};let d=null;if(!i[n])return e;const u=i[n].next;return u&&(o[u.id]=Object.assign({},i[u.id],{prev:Object(lr.f)(s.id)}),d=u),o[n]=Object.assign({},i[n],{next:Object(lr.f)(s.id)}),Object.assign({},e,{[r]:Object.assign({},e[r],o,{[s.id]:{depth:c,next:d,prev:Object(lr.f)(n)}})})}default:return e}};const Xr={};var Jr=(e=Xr,t)=>{switch(t.type){case ee.s:case ee.t:case ee.H:{var s=t.payload;const r=s.comment,n=s.commentsPageKey;return Object.assign({},e,{[n]:r.id})}case xe.b:case re.b:{var r=t.payload;const s=r.commentLists,n=r.key,a=r.postId;return Object.assign({},e,{[n]:s[a]&&s[a].head?s[a].head.id:null})}case re.o:{const s=t.payload.postKey,r=Object.keys(e).filter(e=>e.includes(s));return Object.assign({},ir()(e,r))}default:return e}};const Zr={};var en=(e=Zr,t)=>{switch(t.type){case xe.d:case xe.b:case xe.c:case re.d:{var s=t.payload;const r=s.key,n=s.postId;return Object.assign({},e,{[r]:n})}case ee.H:{var r=t.payload;const s=r.parentId,n=r.commentsPageKey;return e[n]?e:Object.assign({},e,{[n]:s})}default:return e}},tn=Object(r.c)({api:Fr,keyToChatCommentLinks:Kr,keyToCommentThreadLinkSets:zr,keyToHeadCommentId:Jr,keyToPostId:en,ads:Pr}),sn=s("./src/reddit/actions/contentGate.ts");const rn={};var nn=(e=rn,t)=>{switch(t.type){case sn.a:{const s=t.payload.subredditName;if(s){if(e[s]){const t={[s]:{goldSubreddit:!0}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[s]:{goldSubreddit:!0}})}return e}case sn.b:{var s=t.payload;const r=s.subredditDescription,n=s.subredditName;if(n){if(e[n]){const t={[n]:{privateSubreddit:!0,subredditDescription:r}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[n]:{privateSubreddit:!0,subredditDescription:r}})}return e}case sn.c:{var r=t.payload;const s=r.subredditName,n=r.quarantineRequiresEmail,a=r.quarantineMessage,c=r.quarantineMessageHtml;return s?Object.assign({},e,{[s]:Object.assign({},e[s],{quarantinedSubreddit:!0,quarantineRequiresEmail:n,quarantineMessage:a,quarantineMessageHtml:c})}):e}case sn.e:{var n=t.payload;const s=n.subredditName,r=n.banMessage;if(s){if(e[s]){const t={[s]:{subredditBanned:!0,subredditBanMessage:r}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[s]:{subredditBanned:!0,subredditBanMessage:r}})}return e}case sn.f:{const s=t.payload.subredditName;if(s){if(e[s]){const t={[s]:{subredditDoesNotExist:!0}};return Z()(Object.assign({},e),Object.assign({},t))}return Object.assign({},e,{[s]:{subredditDoesNotExist:!0}})}return e}default:return e}};const an={};var cn=(e=an,t)=>{switch(t.type){case ee.v:case xe.b:case re.b:return Object.assign({},e,t.payload.continueThreads);default:return e}},on=Object(r.c)({models:cn}),dn=s("./src/reddit/actions/postCollection/constants.ts");var un=(e=null,t)=>{switch(t.type){case c.c:case dn.d:case dn.c:case dn.s:case dn.r:return null;case dn.b:case dn.n:return t.payload;default:return e}};var ln=(e=!1,t)=>{switch(t.type){case dn.c:case dn.r:return!0;case dn.d:case dn.b:case dn.s:case dn.n:return!1;default:return e}},bn=Object(r.c)({error:un,pending:ln}),pn=Object(r.c)({createOrUpdate:bn}),On=s("./src/reddit/actions/postDraft.ts");const fn={};var mn=(e=fn,t)=>{switch(t.type){case On.c:case On.b:{const s=t.payload.draftId;return Object.assign({},e,{[s]:null})}case On.a:{var s=t.payload;const r=s.apiError,n=s.draftId;return Object.assign({},e,{[n]:r})}default:return e}};const jn={};var gn=(e=jn,t)=>{switch(t.type){case On.b:{const s=t.payload.draftId;return Object.assign({},e,{[s]:!0})}case On.c:case On.a:{const s=t.payload.draftId;return Object.assign({},e,{[s]:!1})}default:return e}},yn=Object(r.c)({error:mn,pending:gn});var _n=(e=null,t)=>{switch(t.type){case On.d:return t.payload;case On.f:case On.e:return null;default:return e}};var En=(e=!1,t)=>{switch(t.type){case On.f:return!0;case On.e:case On.d:return!1;default:return e}},hn=Object(r.c)({error:_n,pending:En});const In={apiError:null,needsCaptcha:!1,validationError:null,submitValidationError:null};var Sn=(e=In,t)=>{switch(t.type){case On.l:case On.j:return In;case On.i:{const e=t.payload;return Object.assign({},In,{apiError:e})}case On.m:{const e=t.payload;return Object.assign({},In,{validationError:e})}case On.k:{const e=t.payload;return Object.assign({},In,{submitValidationError:e})}case On.h:return Object.assign({},In,{needsCaptcha:!0});default:return e}};var Tn=(e=!1,t)=>{switch(t.type){case On.j:return!0;case On.l:case On.i:case On.m:case On.k:case On.h:return!1;default:return e}},vn=Object(r.c)({error:Sn,pending:Tn}),Cn=Object(r.c)({deleteDraft:yn,listing:hn,save:vn});const Dn={};var Rn=(e=Dn,t)=>{switch(t.type){case m.F:{const s=t.payload;return Object.assign({},e,{[s]:!0})}case m.q:{const s=t.payload;return Object.assign({},e,{[s]:!1})}default:return e}},An=Object(r.c)({pending:Rn});var wn=(e=null,t)=>{switch(t.type){case m.v:case m.w:case m.d:case m.e:case m.f:case m.j:case m.k:case m.o:case m.N:return null;case m.u:return t.payload;default:return e}};var Pn=(e=!1,t)=>{switch(t.type){case m.v:return!0;case m.w:case m.u:return!1;default:return e}},xn=Object(r.c)({error:wn,pending:Pn}),Nn=Object(r.c)({converting:An,mediaUpload:xn});const kn={};var Ln=(e=kn,t)=>{switch(t.type){case Ue.b:case Ue.c:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case Ue.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Un={};var Mn=(e=Un,t)=>{switch(t.type){case Ue.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}case Ue.b:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}};const Fn={};var Gn=(e=Fn,t)=>{switch(t.type){case Ue.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case Ue.b:case Ue.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Bn=Object(r.c)({error:Ln,fetched:Mn,pending:Gn});const qn={apiError:null,needsCaptcha:!1,pollError:void 0,validationError:null,submitValidationError:null};var $n=(e=qn,t)=>{switch(t.type){case m.O:case m.z:case m.c:case m.d:case m.e:case m.f:case m.j:case m.k:case m.o:case m.N:case m.D:return qn;case m.i:return t.payload.isContentChanged?qn:e;case m.p:{const e=t.payload;return Object.assign({},qn,{apiError:e})}case m.Y:{const e=t.payload;return Object.assign({},qn,{validationError:e})}case m.I:{const e=t.payload;return Object.assign({},qn,{submitValidationError:e})}case m.a:return Object.assign({},qn,{needsCaptcha:!0});case m.B:return Object.assign({},qn,{pollError:t.payload});default:return e}};var Vn=(e=!1,t)=>{switch(t.type){case m.z:return!0;case m.O:case m.p:case m.Y:case m.I:case m.B:case m.a:return!1;default:return e}},Hn=Object(r.c)({error:$n,pending:Vn});var Kn=(e=null,t)=>{switch(t.type){case m.A:case m.G:return null;case m.n:return t.payload;default:return e}};var Wn=(e=!1,t)=>{switch(t.type){case m.A:return!0;case m.n:case m.m:return!1;default:return e}},Qn=Object(r.c)({error:Kn,pending:Wn}),Yn=Object(r.c)({submit:Hn,update:Qn});var zn=(e=null,t)=>{switch(t.type){case m.N:case m.L:case m.M:return null;default:return e}};var Xn=(e=!1,t)=>{switch(t.type){case m.M:return!0;case m.L:case m.N:return!1;default:return e}},Jn=Object(r.c)({error:zn,pending:Xn}),Zn=Object(r.c)({change:Jn}),ea=Object(r.c)({collection:pn,draft:Cn,editor:Nn,page:Bn,post:Yn,subreddit:Zn}),ta=s("./src/reddit/actions/pages/postDraft.ts");const sa={};var ra=(e=sa,t)=>{switch(t.type){case On.e:return t.payload.postDrafts||sa;case On.c:{const s=e,r=t.payload.draftId;return ir()(s,r)}case m.O:{const s=t.payload.draftId;return s?ir()(e,s):e}case ta.a:return t.payload.drafts;default:return e}},na=s("./src/lib/constants/index.ts");const aa=e=>{if(e.payload&&e.payload.routeMatch)return e.payload.routeMatch.route.meta.name},ca=e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.queryParams};var ia=s("./src/reddit/models/PostDraft/index.ts");var oa=(e="",t)=>{switch(t.type){case m.d:return t.payload||"";case m.D:return"";case f.a:{if(aa(t)!==na.Rb.POST_CREATION)return"";const s=ca(t);return s&&s.url?s.url||"":e}case On.g:{const e=t.payload;return e.kind===ia.b.Link&&e.body||""}default:return e}};var da=(e="",t)=>{switch(t.type){case m.e:return t.payload||"";case m.D:case m.H:return"";case m.P:return t.payload.editorMode===Ws.h.MARKDOWN?t.payload.content||"":e;case f.a:{if(aa(t)!==na.Rb.POST_CREATION)return"";const s=ca(t);return s&&s.text?(e=>e?e.replace(/\+/g," "):"")(s.text):e}case On.g:{const e=t.payload;return e.kind===ia.b.Markdown&&e.body||""}default:return e}},ua=s("./src/reddit/actions/upload.ts");var la=(e=null,t)=>{switch(t.type){case m.f:return t.payload||null;case m.D:return null;case f.a:return aa(t)!==na.Rb.POST_CREATION?null:e;case On.g:return null;case ua.a:case ua.f:return t.payload.key===Ws.m?null:e;default:return e}},ba=s("./src/reddit/components/RichTextEditor/RTEState/index.tsx");const pa=ba.a.createInitial;var Oa=(e=pa(),t)=>{switch(t.type){case m.i:return t.payload.rteState;case m.D:return ba.a.createInitial();case m.P:{const s=t.payload;return s.editorMode===Ws.h.RICH_TEXT&&s.editorKey===Ws.g.POST_CREATION?ba.a.createInitial(s.content):e}case f.a:return aa(t)!==na.Rb.POST_CREATION?ba.a.createInitial():e;case On.g:{const e=t.payload;return e.kind===ia.b.RichText?ba.a.createInitial(e.body):ba.a.createInitial()}default:return e}},fa=Object(r.c)({link:oa,markdown:da,media:la,rte:Oa});var ma=(e=null,t)=>{switch(t.type){case m.b:return t.payload||null;case m.D:case On.g:case m.N:return null;case f.a:return aa(t)===na.Rb.POST_CREATION?e:null;default:return e}};var ja=(e=null,t)=>{switch(t.type){case m.c:return t.payload||null;case m.D:return null;case f.a:return aa(t)===na.Rb.POST_CREATION?e:null;case On.g:return t.payload.flair||null;default:return e}};var ga=(e=null,t)=>{switch(t.type){case m.r:return t.payload.type||null;case m.j:case m.D:case f.a:return null;default:return e}};var ya=(e=!1,t)=>{switch(t.type){case m.S:return t.payload||!1;case m.D:return!1;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;case On.g:return t.payload.isNSFW||!1;default:return e}};var _a=(e=!1,t)=>{switch(t.type){case m.T:return t.payload||!1;case m.D:return!1;case m.N:return!!t.payload.name&&e;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;case On.g:return t.payload.isOriginalContent||!1;default:return e}};var Ea=(e=!1,t)=>{switch(t.type){case m.U:return t.payload||!1;case m.D:return!1;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;default:return e}};var ha=(e=!1,t)=>{switch(t.type){case m.D:return!1;case On.n:return t.payload;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;case On.g:return t.payload.isPublicLink;default:return e}};var Ia=(e=!1,t)=>{switch(t.type){case m.V:return t.payload||!1;case m.D:return!1;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;case On.g:return t.payload.isSpoiler||!1;default:return e}};var Sa=(e="",t)=>{switch(t.type){case p.b:return t.payload.subredditName;case f.a:case m.j:case m.r:case m.D:case p.h:return"";default:return e}};var Ta=(e="",t)=>{switch(t.type){case p.c:return t.payload.username;case f.a:case m.j:case m.r:case m.D:case p.h:return"";default:return e}};var va=(e=null,t)=>{switch(t.type){case m.M:case m.N:return t.payload;case m.L:case f.a:return null;default:return e}};var Ca=(e=null,t)=>{switch(t.type){case m.g:return t.payload||null;case m.D:return null;case f.a:return aa(t)===na.Rb.POST_CREATION?e:null;case On.g:return t.payload.contentCategory||null;default:return e}},Da=s("./src/reddit/actions/polls.ts");var Ra=(e=null,t)=>{switch(t.type){case Da.a:return Object.assign({},t.payload);case p.h:case m.D:return null;default:return e}};var Aa=(e=!1,t)=>{const s=t.type,r=t.payload;switch(s){case m.W:return r||!1;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;case On.g:return!1;default:return e}};var wa=(e="",t)=>{switch(t.type){case m.h:return t.payload||"";case f.a:return aa(t)!==na.Rb.POST_CREATION?"":e;default:return e}};var Pa=(e=!0,t)=>{switch(t.type){case m.D:return!0;case m.X:return t.payload;case f.a:return aa(t)!==na.Rb.POST_CREATION||e;case On.g:return t.payload.sendReplies;default:return e}};const xa=na.gc.POST;var Na=(e=xa,t)=>{switch(t.type){case m.D:return xa;case m.s:return na.gc.CROSSPOST;case m.j:return t.payload.submissionType||xa;case f.a:{if(aa(t)!==na.Rb.POST_CREATION)return xa;const i=ca(t);if(!i)return e;var s=i.title;const o=void 0===s?"":s;var r=i.url;const d=void 0===r?"":r;var n=i.text;const u=void 0===n?"":n;var a=i.media;const l=void 0!==a&&a;var c=i.selftext;const b=void 0!==c&&c,p=o&&!u&&!b;return l?na.gc.MEDIA:d||p?na.gc.LINK_ONLY:u||b?na.gc.POST:e}case On.g:{const e=t.payload;return ia.a[e.kind]}default:return e}},ka=s("./src/reddit/models/Poll/index.ts");const La=e=>`Should ${e||"username"} become the top moderator?`,Ua=e=>e?`Should we spin-off to r/${e}?`:"Should we spin-off to a new community?";var Ma=(e="",t)=>{switch(t.type){case m.s:return t.payload.postTitle||"";case m.k:return t.payload||"";case m.C:{const s=t.payload.title;return e||s||""}case m.D:return"";case f.a:{if(aa(t)!==na.Rb.POST_CREATION)return"";const s=ca(t);return s&&s.title?(e=>e?e.replace(/\+/g," "):"")(s.title):e}case On.g:return t.payload.title;case m.r:{var s=t.payload;const r=s.oldType,n=s.type;return n===ka.a.ReplaceTopMod?La(""):n===ka.a.Spinoff?Ua(""):r===ka.a.ReplaceTopMod||r===ka.a.Spinoff?"":e}case p.c:{const e=t.payload.username;return La(e)}case p.b:{const e=t.payload.subredditName;return Ua(e)}case m.j:{const s=t.payload.extra;return!s||s.govType!==ka.a.ReplaceTopMod&&s.govType!==ka.a.Spinoff?e:""}default:return e}},Fa=Object(r.c)({body:fa,eventSchedule:ma,flair:ja,govType:ga,isNSFW:ya,isOC:_a,isPoll:Ea,isPublicLink:ha,isSpoiler:Ia,newSubreddit:Sa,newTopMod:Ta,nextSubreddit:va,ocCategory:Ca,postToTwitter:Aa,polls:Ra,recaptcha:wa,sendReplies:Pa,submissionType:Na,title:Ma});const Ga={title:null,body:null,link:null,flair:null};var Ba=(e=Ga,t)=>{switch(t.type){case m.c:case m.d:case m.e:return e[na.vb.BODY]?Object.assign({},e,{[na.vb.BODY]:null}):e;case m.i:{const s=t.payload.isContentChanged;return e[na.vb.BODY]&&s?Object.assign({},e,{[na.vb.BODY]:null}):e}case m.k:return e[na.vb.TITLE]?Object.assign({},e,{[na.vb.TITLE]:null}):e;case m.J:{var s=t.payload;const r=s.field,n=s.msg;return Object.assign({},e,{[r]:n})}case m.K:{const s=t.payload;return Object.assign({},e,{[s]:null})}case m.o:{const s=t.payload;return s?Object.assign({},e,{[s]:null}):Ga}case m.I:{const s=t.payload;if(s&&s.fields&&s.fields.length){const t=s.fields[0],r=t.field,n=t.msg;return Object.assign({},e,{[r]:n})}return e}case f.a:return aa(t)!==na.Rb.POST_CREATION?Ga:e;default:return e}};var qa=(e=!1,t)=>{switch(t.type){case m.b:case m.c:case m.d:case m.e:case m.f:case m.g:case m.k:case m.j:case m.S:case m.T:case m.V:case On.n:case m.X:return!0;case m.i:return!!t.payload.isContentChanged||e;case m.O:return!1;case m.Q:return t.payload;case f.a:return aa(t)===na.Rb.POST_CREATION&&e;case m.D:case On.l:case On.g:return!1;default:return e}};var $a=(e=null,t)=>{switch(t.type){case m.x:return e===t.payload?null:t.payload||null;case c.c:return t.payload?null:e;case f.a:return aa(t)!==na.Rb.POST_CREATION?null:e;default:return e}},Va=s("./src/reddit/routes/postCreation/index.ts");var Ha=(e=null,t)=>{const s=t.type,r=t.payload;switch(s){case m.y:return r;case m.M:return"";case f.a:return aa(t)===na.Rb.POST_CREATION&&Object(Va.d)(t.payload.routeMatch.route.path)?e:null;default:return e}};const Ka=Ws.q.Post;var Wa=(e=Ka,t)=>{switch(t.type){case m.z:return Ws.q.Post;case m.E:return t.payload;case On.j:return Ws.q.Draft;case f.a:return aa(t)!==na.Rb.POST_CREATION?Ka:e;default:return e}},Qa=Object(r.c)({fieldValidation:Ba,isChanged:qa,modalId:$a,ocCategory:Ha,submitMode:Wa});var Ya=(e="",t)=>{switch(t.type){case m.G:return t.payload.editorMode===Ws.h.MARKDOWN?t.payload.postContent||"":e;case m.H:return"";case m.P:return t.payload.editorMode===Ws.h.MARKDOWN?t.payload.content||"":e;default:return e}};const za=ba.a.createInitial;var Xa=(e=za(),t)=>{switch(t.type){case m.H:return ba.a.createInitial();case m.G:{const s=t.payload;return s.editorMode===Ws.h.RICH_TEXT&&"object"==typeof s.postContent?ba.a.createInitial(s.postContent,s.mediaMetadata):e}case m.P:{const s=t.payload;return s.editorMode===Ws.h.RICH_TEXT&&s.editorKey===Ws.g.POST_EDITING?ba.a.createInitial(s.content):e}default:return e}},Ja=Object(r.c)({markdown:Ya,rte:Xa});const Za=Ws.h.RICH_TEXT;var ec=(e=Za,t)=>{switch(t.type){case m.G:return t.payload.editorMode;case m.H:return Za;case m.P:return t.payload.editorMode;default:return e}};var tc=(e=null,t)=>{switch(t.type){case m.G:return t.payload.postId;case m.H:return null;default:return e}},sc=Object(r.c)({draft:Ja,editorMode:ec,postId:tc}),rc=Object(r.c)({api:ea,drafts:ra,formData:Fa,formState:Qa,postEditing:sc}),nc=s("./src/reddit/actions/dashboard.ts");const ac={selectedComponent:null,subredditPending:!1,subredditLoaded:{}};var cc=(e=ac,t)=>{switch(t.type){case nc.a:return Object.assign({},e,{selectedComponent:t.payload});case nc.c:{const s=t.payload,r=e.subredditLoaded[s];return Object.assign({},e,{subredditPending:!r,subredditLoaded:Object.assign({},e.subredditLoaded,{[s]:r||!1})})}case nc.b:{const s=t.payload;return Object.assign({},e,{subredditPending:!1,subredditLoaded:Object.assign({},e.subredditLoaded,{[s]:!0})})}default:return e}};var ic=(e=null,t)=>{switch(t.type){case De.b:case De.c:return null;case De.a:return t.payload.error||null;default:return e}};var oc=(e=!1,t)=>{switch(t.type){case De.c:return!1;case De.b:return!0;default:return e}};var dc=(e=!1,t)=>{switch(t.type){case De.c:return!0;case De.b:case De.a:return!1;default:return e}},uc=Object(r.c)({error:ic,loaded:oc,pending:dc}),lc=Object(r.c)({list:uc});const bc={};var pc=(e=bc,t)=>{switch(t.type){case De.b:{const s=t.payload.discoveryUnits;return ss()(s)?e:Object.assign({},e,s)}default:return e}};const Oc={};var fc=(e=Oc,t)=>{switch(t.type){case De.b:{const s=t.payload.discoveryUnits;if(ss()(s))return e;const r={};return os()(s,e=>{r[Object(ds.f)(e.unitName)]=e.id}),Object.assign({},e,r)}default:return e}},mc=Object(r.c)({api:lc,models:pc,nameToId:fc}),jc=s("./src/reddit/models/Badge/managementPage.ts");const gc={badgeType:jc.a.Cosmetic,view:jc.c.Gallery};var yc=(e=gc,t)=>{switch(t.type){case l.d:{var s=t.payload;const r=s.badge,n=s.initialView;return r||n?Object.assign({},e,{badgeType:r?Object(jc.d)(r.placement):e.badgeType,view:n}):e}case l.c:{const s=t.payload;return Object.assign({},e,{badgeType:s})}case l.e:{const s=t.payload;return Object.assign({},e,{view:s})}case c.b:return gc;default:return e}};var _c=(e=null,t)=>{switch(t.type){case l.d:return{badge:t.payload.badge};case c.b:return null;case l.f:return t.payload;default:return e}};var Ec=(e=null,t)=>{switch(t.type){case b.a:return t.payload;case c.b:return null;default:return e}},hc=s("./src/reddit/actions/economics/ftue/constants.ts");const Ic={tippingHighlightViewed:null,topTippersViewed:null};var Sc=(e=Ic,t)=>{switch(t.type){case hc.a:return Object.assign({},e,{tippingHighlightViewed:!0});case hc.b:return Object.assign({},e,{tippingHighlightViewed:!0,topTippersViewed:!0});default:return e}},Tc=s("./src/reddit/reducers/economics/paymentSystems/index.ts"),vc=s("./src/reddit/reducers/economics/subredditPremium/index.ts"),Cc=s("./src/reddit/actions/economics/tips/constants.ts"),Dc=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Rc={};var Ac=(e=Rc,t)=>{switch(t.type){case Cc.a:{var s=t.payload;const r=s.subredditId,n=s.tipData,a=e[r]||{};return Object.assign({},e,{[r]:Object.assign({},a,n)})}case b.b:{var r=t.payload;const s=r.accountId,a=r.accountUsername,c=r.anonymous,i=r.amount,o=r.contentId,d=r.subredditId,u=e[d]||{},l=u[o]||{},b=l.amounts||{usdr:{amount:"0",users:{}}},p=b.usdr,O=p.amount||"0",f=String(parseInt(O)+parseInt(i)),m=b.usdr.users||{};var n=m.anonymous;const j=void 0===n?{amount:"0",includesUser:!1,numUsers:0}:n,g=Dc(m,["anonymous"]),y=c?Object.assign({},g,{anonymous:{amount:String(parseInt(j.amount)+parseInt(i)),includesUser:!0,numUsers:j.includesUser?j.numUsers:j.numUsers+1}}):Object.assign({},m,{[s]:Object.assign({},m[s]||{},{amount:m[s]?String(parseInt(m[s].amount||"0")+parseInt(i)):i,username:a})});return Object.assign({},e,{[d]:Object.assign({},u,{[o]:Object.assign({},l,{amounts:Object.assign({},b,{usdr:Object.assign({},p,{amount:f,users:y})})})})})}default:return e}},wc=Object(r.c)({currentBadgeManagementScreen:yc,currentModalArgs:_c,currentPaymentTarget:Ec,ftue:Sc,paymentSystems:Tc.b,subredditPremium:vc.b,tipDetails:Ac}),Pc=s("./src/reddit/actions/emoji.ts"),xc=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Nc={};var kc=(e=Nc,t)=>{switch(t.type){case Pc.f:case Pc.c:return e;case Pc.g:return t.payload;case Pc.d:{var s=t.payload;const r=s.emojiName,n=s.subredditId,a=e[n].emojis,c=r,i=(a[c],xc(a,["symbol"==typeof c?c:c+""]));return Object.assign({},e,{[n]:Object.assign({},e[n],{emojis:i})})}case Pc.h:{const s=t.payload,r=e[s.subredditId].emojis,n={url:s.url,name:s.name,userFlairAllowed:s.userFlairAllowed,postFlairAllowed:s.postFlairAllowed,modFlairOnly:s.modFlairOnly},a=Object.assign({},r,{[s.name]:n});return Object.assign({},e,{[s.subredditId]:Object.assign({},e[s.subredditId],{emojis:a})})}case Pc.e:{var r=t.payload;const s=r.emojiName,n=r.isSnoomoji,a=r.settings,c=r.subredditId,i=n?"snoomojis":"emojis",o=e[c][i],d=Object.assign({},o,{[s]:Object.assign({},o[s],a)});return Object.assign({},e,{[c]:Object.assign({},e[c],{[i]:d})})}default:return e}},Lc=s("./src/reddit/actions/externalAccount.ts");const Uc={};var Mc=(e=Uc,t)=>{switch(t.type){case Lc.e:case Lc.f:{const s=t.payload.provider;return Object.assign({},e,{[s]:null})}case Lc.d:{var s=t.payload;const r=s.provider,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Fc={};var Gc=(e=Fc,t)=>{switch(t.type){case Lc.e:{const s=t.payload.provider;return Object.assign({},e,{[s]:!0})}case Lc.f:case Lc.d:{const s=t.payload.provider;return Object.assign({},e,{[s]:!1})}default:return e}},Bc=Object(r.c)({error:Mc,pending:Gc});const qc={};var $c=(e=qc,t)=>{switch(t.type){case Lc.l:case Lc.k:{const s=t.payload.provider;return Object.assign({},e,{[s]:null})}case Lc.j:{var s=t.payload;const r=s.provider,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Vc={};var Hc=(e=Vc,t)=>{switch(t.type){case Lc.b:{const s=t.payload.provider;return Object.assign({},e,{[s]:!0})}case Lc.c:case Lc.a:{const s=t.payload.provider;return Object.assign({},e,{[s]:!1})}default:return e}},Kc=Object(r.c)({error:$c,pending:Hc});const Wc={};var Qc=(e=Wc,t)=>{switch(t.type){case Lc.i:case Lc.h:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:null})}case Lc.g:{var s=t.payload;const r=s.subredditName,n=s.apiError;return Object.assign({},e,{[r]:n})}default:return e}};const Yc={};var zc=(e=Yc,t)=>{switch(t.type){case Lc.h:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:!0})}default:return e}};const Xc={};var Jc=(e=Xc,t)=>{switch(t.type){case Lc.i:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:!0})}case Lc.h:case Lc.g:{const s=t.payload.subredditName;return Object.assign({},e,{[s]:!1})}default:return e}},Zc=Object(r.c)({error:Qc,fetched:zc,pending:Jc});const ei={};var ti=(e=ei,t)=>{switch(t.type){case Lc.l:case Lc.k:{const s=t.payload.username;return Object.assign({},e,{[s]:null})}case Lc.j:{var s=t.payload;const r=s.username,n=s.apiError;return Object.assign({},e,{[r]:n})}default:return e}};const si={};var ri=(e=si,t)=>{switch(t.type){case Lc.l:{const s=t.payload.username;return Object.assign({},e,{[s]:!0})}case Lc.k:case Lc.j:{const s=t.payload.username;return Object.assign({},e,{[s]:!1})}default:return e}},ni=Object(r.c)({error:ti,pending:ri}),ai=Object(r.c)({connect:Bc,disconnect:Kc,user:ni,subreddit:Zc});const ci={};var ii=(e=ci,t)=>{switch(t.type){case Lc.h:{var s=t.payload;const r=s.subredditName,n=s.accountsData;return Object.assign({},e,{[r]:n})}default:return e}};const oi={};var di=(e=oi,t)=>{switch(t.type){case Lc.k:{var s=t.payload;const r=s.username,n=s.accountsData;return Object.assign({},e,{[r]:n})}case Lc.c:{var r=t.payload;const s=r.username,n=r.provider,a=e[s];return a&&a[n]?Object.assign({},e,{[s]:ir()(a,n)}):e}default:return e}},ui=Object(r.c)({api:ai,user:di,subreddit:ii}),li=s("./src/reddit/featureFlags/index.ts"),bi=s("./src/lib/truthyString/index.ts");const pi=li.a.reduce((e,t)=>(e[t.toLowerCase()]=t,e),{}),Oi=li.a.reduce((e,t)=>(e[t]=null,e),{});var fi=(e=Oi,t)=>{switch(t.type){case f.a:{const s=ca(t);if(void 0!==s){const t={};for(const e in s){const r=Object(li.g)(e);if(r){const n=pi[r.toLowerCase()];if(n){const r=s[e],a="string"!=typeof r||Object(bi.a)(r);t[n]=a}}}if(Object.keys(t).length>0)return Object.assign({},e,t)}return e}case li.b:{var s=t.payload;const r=s.featureName,n=s.currentValue;return n===e[r]?e:Object.assign({},e,{[r]:n})}case li.c:{var r=t.payload;const s=r.featureName,n=r.currentValue;return Object.assign({},e,{[s]:!n})}default:return e}},mi=Object(r.c)({overrides:fi});var ji=(e=null,t)=>{switch(t.type){case te.g:case te.i:return null;case te.f:return t.payload;default:return e}};var gi=(e=!1,t)=>{switch(t.type){case te.i:return!0;case te.g:case te.f:return!1;default:return e}},yi=Object(r.c)({error:ji,pending:gi});const _i={};var Ei=(e=_i,t)=>{switch(t.type){case te.g:case te.k:{var s=t.payload;const r=s.subredditId,n=s.flairedUsers;return G()(Object.assign({},e),{[r]:n})}case te.c:{var r=t.payload;const s=r.subredditId,n=r.userName,a=ir()(e[s],n);return Object.assign({},e,{[s]:a})}case te.a:case te.b:case te.h:var n=t.payload;const a=n.subredditId,c=n.userName,i=n.applied;return i?Object.assign({},e,{[a]:Object.assign({},e[a],{[c]:i})}):e;default:return e}};const hi={};var Ii=(e=hi,t)=>{switch(t.type){case te.g:{var s=t.payload;const r=s.key,n=s.pageInfo;return Object.assign({},e,{[r]:n})}default:return e}};var Si=(e=null,t)=>{switch(t.type){case te.l:case te.k:return null;case te.j:return t.payload;default:return e}};var Ti=(e=!1,t)=>{switch(t.type){case te.l:return!0;case te.k:case te.j:return!1;default:return e}},vi=Object(r.c)({error:Si,pending:Ti});var Ci=(e=null,t)=>{switch(t.type){case te.k:return t.payload.searchResult;case te.c:return e===t.payload.userName?null:e;default:return e}},Di=Object(r.c)({api:vi,result:Ci});const Ri={};var Ai=(e=Ri,t)=>{switch(t.type){case te.g:{var s=t.payload;const r=s.key,n=s.userOrder;return Object.assign({},e,{[r]:n})}case te.a:{var r=t.payload;const s=r.key,n=r.userName;if(!s)return e;if(!e[s].includes(n)){const t=[...e[s],n];return Object.assign({},e,{[s]:t})}return e}case te.c:{const s=t.payload.userName,r={};for(const t in e)r[t]=e[t].filter(e=>e!==s);return r}default:return e}},wi=Object(r.c)({api:yi,models:Ei,pageInfo:Ii,search:Di,userOrder:Ai}),Pi=s("./src/lib/makeActionCreator/index.ts");Object(Pi.a)("FONTS_FONT_FILES_PARSED");const xi=[];var Ni=(e=xi,t)=>{switch(t.type){case"FONTS_FONT_FILES_PARSED":return t.payload.fonts;default:return e}},ki=s("./src/reddit/actions/gameOfThronesEvent/constants.ts");const Li={gotPollGetError:null,gotPollSubmitError:null};var Ui=(e=Li,t)=>{switch(t.type){case ki.d:case ki.c:return Object.assign({},e,{gotPollGetError:null});case ki.b:return Object.assign({},e,{gotPollGetError:t.payload});case ki.g:case ki.f:return Object.assign({},e,{gotPollSubmitError:null});case ki.e:return Object.assign({},e,{updateDescriptionError:t.payload});default:return e}};const Mi={gotPollGetPending:!1,gotPollSubmitPending:!1};var Fi=(e=Mi,t)=>{switch(t.type){case ki.d:return Object.assign({},e,{gotPollGetPending:!0});case ki.b:case ki.c:return Object.assign({},e,{gotPollGetPending:!1});case ki.g:return Object.assign({},e,{gotPollSubmitPending:!0});case ki.e:case ki.f:return Object.assign({},e,{gotPollSubmitPending:!1});default:return e}},Gi=Object(r.c)({error:Ui,pending:Fi});const Bi={isPledgeBannerAndThronePoolClosed:!0};var qi=(e=Bi,t)=>{switch(t.type){case ki.h:return Object.assign({},e,{isPledgeBannerAndThronePoolClosed:!1});case ki.a:return Object.assign({},e,{isPledgeBannerAndThronePoolClosed:!0});default:return e}};var $i=(e=null,t)=>{switch(t.type){case ki.c:{const s=t.payload.data;return s||e}case ki.f:{const s=t.payload.answerId;if(s&&e){const t=e.polls[0],r=t.questions[0],n=Object.assign({},r,{answeredId:s}),a=Object.assign({},t,{questions:[n]});return Object.assign({},e,{polls:[a]})}return e}default:return e}},Vi=Object(r.c)({api:Gi,components:qi,models:$i});var Hi=(e=null,t)=>{switch(t.type){case fe.l:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case fe.a:case f.a:case fe.E:case fe.q:return null;default:return e}};var Ki=(e=!1,t)=>{switch(t.type){case fe.a:case f.a:case fe.q:case fe.l:return!1;case fe.m:return!0;default:return e}};var Wi=(e=!1,t)=>{switch(t.type){case fe.m:case fe.a:case f.a:case fe.q:case fe.l:return!1;case fe.r:return!0;default:return e}},Qi=Object(r.c)({error:Hi,pending:Ki,showLoader:Wi});var Yi=(e=null,t)=>{switch(t.type){case fe.D:case fe.E:return t.payload;case fe.q:case f.a:case fe.a:return null;default:return e}};const zi=br.b.Gid2;var Xi=(e=zi,t)=>{switch(t.type){case fe.n:return t.payload;case fe.E:return zi;default:return e}};var Ji=(e=!1,t)=>{switch(t.type){case fe.o:return t.payload;case fe.E:return!1;default:return e}};var Zi=(e=!1,t)=>{switch(t.type){case fe.p:return t.payload;case fe.E:return!1;default:return e}};var eo=(e=!1,t)=>{switch(t.type){case fe.D:return!0;default:return e}};var to=(e="",t)=>{switch(t.type){case fe.s:return t.payload;case fe.E:return"";default:return e}};const so=Ce.g;var ro=(e=so,t)=>{switch(t.type){case fe.G:return t.payload;case fe.E:return so;default:return e}},no=Object(r.c)({api:Qi,gildModalThingId:Yi,gildType:Xi,includeMessage:Ji,isAnonymous:Zi,isIframed:eo,message:to,selectedAward:ro});var ao=(e=null,t)=>{switch(t.type){case fe.t:return t.payload.error&&t.payload.error.fields&&t.payload.error.fields[0]&&t.payload.error.fields[0].msg||"An unknown error occurred";case fe.b:case f.a:case fe.F:case fe.y:return null;default:return e}};var co=(e=!1,t)=>{switch(t.type){case fe.b:case f.a:case fe.y:case fe.t:return!1;case fe.u:return!0;default:return e}},io=Object(r.c)({error:ao,pending:co});var oo=(e="",t)=>{switch(t.type){case fe.F:return t.payload;case f.a:case fe.b:case fe.y:return"";default:return e}},uo=Object(r.c)({api:io,givePremiumModalAccountName:oo}),lo=s("./src/reddit/actions/goldPurchaseModals/coinPurchaseModal.ts"),bo=s("./src/reddit/actions/goldPurchaseModals/constants.ts");var po=(e="selectPayment",t)=>{switch(t.type){case lo.b:return"selectPayment";case bo.f:return"paymentCompleted";default:return e}};var Oo=(e=null,t)=>{switch(t.type){case lo.a:case fe.a:case fe.q:return null;case lo.c:return t.payload&&t.payload.thingId?t.payload.thingId:e;default:return e}};var fo=(e=null,t)=>{switch(t.type){case lo.b:return t.payload.coinPackage;case bo.f:case lo.a:return null;default:return e}};var mo=(e=!1,t)=>{switch(t.type){case lo.b:return!0;case fe.E:case f.a:case lo.a:return!1;default:return e}},jo=Object(r.c)({activePage:po,gildThingId:Oo,purchasePackage:fo,showModal:mo}),go=s("./src/reddit/actions/goldPurchaseModals/premiumPurchaseModal.ts");var yo=(e="",t)=>{switch(t.type){case bo.b:return t.payload.cardName;case bo.i:return t.payload!==na.Lb?"":e;case lo.a:case go.a:case bo.c:case f.a:return"";default:return e}};var _o=(e="",t)=>{switch(t.type){case bo.l:{var s=t.payload;const r=s.error;return"cardCvc"===s.elementType?r&&r.message||"":e}case bo.i:return t.payload!==na.Lb?"":e;case lo.a:case go.a:case bo.c:case f.a:return"";default:return e}};var Eo=(e="",t)=>{switch(t.type){case bo.l:{var s=t.payload;const r=s.error;return"cardExpiry"===s.elementType?r&&r.message||"":e}case bo.i:return t.payload!==na.Lb?"":e;case lo.a:case go.a:case bo.c:case f.a:return"";default:return e}};var ho=(e="",t)=>{switch(t.type){case bo.l:{var s=t.payload;const r=s.error;return"cardNumber"===s.elementType?r&&r.message||"":e}case bo.i:return t.payload!==na.Lb?"":e;case lo.a:case go.a:case bo.c:case f.a:return"";default:return e}};var Io=(e="",t)=>{switch(t.type){case bo.a:return t.payload.message||e;case bo.b:return"";case bo.i:return t.payload!==na.Lb?"":e;case lo.a:case go.a:case bo.c:case f.a:return"";default:return e}};var So=(e="",t)=>{switch(t.type){case bo.l:{var s=t.payload;const r=s.error;return"postalCode"===s.elementType?r&&r.message||"":e}case bo.i:return t.payload!==na.Lb?"":e;case lo.a:case go.a:case bo.c:case f.a:return"";default:return e}},To=Object(r.c)({cardCvc:_o,cardExpiry:Eo,cardNumber:ho,nameOnCard:Io,postalCode:So});const vo=na.Mb;var Co=(e=vo,t)=>{switch(t.type){case lo.b:case go.b:return vo;case bo.i:return t.payload;default:return e}};var Do=(e=null,t)=>{switch(t.type){case bo.g:return t.payload||e;case bo.i:return t.payload.method===na.Mb?null:e;case lo.b:case go.b:case fe.E:return null;default:return e}};var Ro=(e="",t)=>{switch(t.type){case lo.b:case go.b:return"";case lo.d:case go.c:{const e=t.payload;return e.body&&e.body.passthrough?e.body.passthrough:""}default:return e}},Ao=Object(r.c)({errorMessage:Do,passthrough:Ro});var wo=(e=!0,t)=>{switch(t.type){case bo.o:return!e;case bo.i:return t.payload!==na.Lb||e;case lo.a:case go.a:case f.a:return!0;default:return e}};const Po=[];var xo=(e=Po,t)=>{switch(t.type){case bo.e:return t.payload;case bo.d:{const s=t.payload;return e.filter(e=>e.cardId!==s)}default:return e}};var No=(e=!1,t)=>{switch(t.type){case bo.h:return!0;case bo.e:return!1;default:return e}};var ko=(e=null,t)=>{switch(t.type){case bo.a:case bo.m:return t.payload.message||e;case bo.k:return t.payload;case bo.l:case bo.b:case bo.n:return null;case bo.i:return t.payload===na.Lb?null:e;default:return e}};var Lo=(e=!1,t)=>{switch(t.type){case bo.a:case bo.k:case bo.m:return!1;case bo.i:return t.payload!==na.Lb&&e;case bo.n:return!0;default:return e}},Uo=Object(r.c)({errorMessage:ko,pending:Lo});var Mo=(e=null,t)=>{switch(t.type){case bo.j:return t.payload;case bo.d:return t.payload===e?null:e;default:return e}},Fo=Object(r.c)({cardName:yo,cardValidation:To,paymentMethod:Co,paypal:Ao,rememberCard:wo,savedCards:xo,savedCardsPending:No,stripeToken:Uo,useSavedCard:Mo});var Go=(e="selectPayment",t)=>{switch(t.type){case go.b:return"selectPayment";case bo.f:return"paymentCompleted";default:return e}};var Bo=(e=!1,t)=>{switch(t.type){case go.b:return!0;case f.a:case go.a:return!1;default:return e}},qo=Object(r.c)({activePage:Go,showModal:Bo});var $o=(e=!1,t)=>{switch(t.type){case bo.p:case bo.r:return!1;case bo.q:return!0;default:return e}},Vo=Object(r.c)({pending:$o}),Ho=Object(r.c)({coinPurchaseModal:jo,payment:Fo,premiumPurchaseModal:qo,updateCardModal:Vo}),Ko=s("./src/app/actions/overlayEvents.ts"),Wo=s("./src/reddit/actions/header.ts");var Qo=(e=!1,t)=>{switch(t.type){case Wo.a:return!1;case Wo.b:return!0;case Wo.c:return!e;case Ko.b:return!1;default:return e}},Yo=Object(r.c)({isSubscriptionsDropdownOpen:Qo}),zo=s("./src/reddit/actions/imageUploads.ts");const Xo={};var Jo=(e=Xo,t)=>{switch(t.type){case zo.d:{const s=t.payload;return Object.assign({},e,{[s.id]:s})}case zo.c:case zo.e:case zo.b:{const s=t.payload;return e[s.id]?Object.assign({},e,{[s.id]:s}):e}case zo.a:{const s=t.payload;if(!e[s.id])return e;const r=Object.assign({},e);return delete r[s.id],r}default:return e}},Zo=s("./src/reddit/actions/emailVerificationTooltip.ts");var ed=(e=!0,t)=>{switch(t.type){case Zo.a:return!e;default:return e}},td=s("./src/reddit/actions/moderatingSubreddits.ts");var sd=(e=!1,t)=>{switch(t.type){case td.a:{if(e)return e;const s=t.payload;return Object.keys(s).some(e=>!0===s[e].posts)}case ie.b:case xe.b:case re.b:case Ue.b:{if(e)return e;const s=t.payload;return s.subredditPermissions&&s.subreddits?s.subredditPermissions.posts:e}case se.i:case se.f:case se.m:case se.p:case se.v:{if(e)return e;const s=t.payload.response,r=s.moderatingSubreddits,n=s.moderatingProfiles;let a=Object.keys(r).some(e=>!0===r[e].posts);return a||(a=Object.keys(n).some(e=>!0===r[e].posts)),a}default:return e}},rd=s("./src/reddit/actions/jsApi.ts");const nd=[];var ad=(e=nd,t)=>{switch(t.type){case rd.a:{const s=t.payload;return-1===e.indexOf(s)&&(e=[...e,s]).sort(),e}default:return e}},cd=s("./src/reddit/actions/leaderboard/constants.ts"),id=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const od={};var dd=(e=od,t)=>{switch(t.type){case cd.b:{var s=t.payload;const r=s.key,n=s.data;return Object.assign({},e,{[r]:n})}case cd.c:case cd.d:{const s=t.payload.key;return e[s],id(e,["symbol"==typeof s?s:s+""])}default:return e}},ud=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const ld={};var bd=(e=ld,t)=>{switch(t.type){case cd.b:case cd.d:{const s=t.payload.key;return e[s],ud(e,["symbol"==typeof s?s:s+""])}case cd.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}},pd=Object(r.c)({error:dd,pending:bd});const Od={};var fd=(e=Od,t)=>{switch(t.type){case cd.a:{var s=t.payload;const r=s.dateRange,n=s.subredditId;return Object.assign({},e,{[n]:r})}default:return e}};const md={};var jd=(e=md,t)=>{switch(t.type){case cd.d:{var s=t.payload;const r=s.key,n=s.data;return Object.assign({},e,{[r]:n})}default:return e}},gd=Object(r.c)({api:pd,dateRangeSelection:fd,models:jd});var yd=(e="",t)=>{switch(t.type){case f.a:return t.payload.listingKey||e;default:return e}},_d=s("./src/reddit/actions/pages/explore.ts");const Ed={};var hd=(e=Ed,t)=>{switch(t.type){case Be.b:case Be.c:case re.q:case re.r:{var s=t.payload;const r=s.key,n=s.type;return-1===n.indexOf(na.jc.Subreddits)&&-1===n.indexOf(na.jc.Users)?e:Object.assign({},e,{[r]:null})}case Be.a:case re.p:{var r=t.payload;const s=r.key,n=r.error,a=r.type;return-1===a.indexOf(na.jc.Subreddits)&&-1===a.indexOf(na.jc.Users)?e:Object.assign({},e,{[s]:n})}case De.f:case De.e:case _d.c:case _d.b:case de.l:case de.m:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case De.d:case _d.a:case de.k:{var n=t.payload;const s=n.key,r=n.error;return Object.assign({},e,{[s]:r})}default:return e}};const Id={};var Sd=(e=Id,t)=>{switch(t.type){case Be.b:case re.q:{var s=t.payload;const r=s.key,n=s.type;return-1===n.indexOf(na.jc.Subreddits)&&-1===n.indexOf(na.jc.Users)?e:Object.assign({},e,{[r]:!0})}case Be.c:case Be.a:case re.r:case re.p:{var r=t.payload;const s=r.key,n=r.type;return-1===n.indexOf(na.jc.Subreddits)&&-1===n.indexOf(na.jc.Users)?e:Object.assign({},e,{[s]:!1})}case De.f:case _d.c:case de.l:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case De.e:case De.d:case _d.b:case _d.a:case de.m:case de.k:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Td=Object(r.c)({error:hd,pending:Sd});const vd={};var Cd=(e=vd,t)=>{switch(t.type){case Be.c:{var s=t.payload;const r=s.fetchedToken,n=s.key,a=s.type;if(-1===a.indexOf(na.jc.Subreddits)&&-1===a.indexOf(na.jc.Users))return e;const c=e[n];return Object.assign({},e,{[n]:Object.assign({},c,{[r]:!0})})}case De.e:case _d.b:case de.m:{var r=t.payload;const s=r.fetchedToken,n=r.key;return Object.assign({},e,{[n]:Object.assign({},e[n],{[s]:!0})})}default:return e}};const Dd={};var Rd=(e=Dd,t)=>{switch(t.type){case Be.c:{var s=t.payload;const r=s.key,n=s.listingOrder,a=s.type;return-1===a.indexOf(na.jc.Subreddits)&&-1===a.indexOf(na.jc.Users)?e:Object.assign({},e,{[r]:e[r].concat(n)})}case re.r:{var r=t.payload;const s=r.key,n=r.listingOrder,a=r.type;return-1===a.indexOf(na.jc.Subreddits)&&-1===a.indexOf(na.jc.Users)?e:Object.assign({},e,{[s]:n})}default:return e}};const Ad={};var wd=(e=Ad,t)=>{switch(t.type){case _d.b:{var s=t.payload;const r=s.key,n=s.ids;return n&&0!==n.length?Object.assign({},e,{[r]:[...e[r]||[],...n]}):e}default:return e}},Pd=s("./src/lib/omitKey/index.ts");const xd={};var Nd=(e=xd,t)=>{switch(t.type){case Be.c:case re.r:{var s=t.payload;const r=s.key,n=s.tokens,a=s.type;return-1===a.indexOf(na.jc.Subreddits)&&-1===a.indexOf(na.jc.Users)?e:n.listings?Object.assign({},e,{[r]:{token:n.listings}}):Object(Pd.a)(e,r)}case De.e:case _d.b:case de.m:{var r=t.payload;const s=r.key,n=r.token;return Object.assign({},e,{[s]:{token:n}})}default:return e}},kd=Object(r.c)({api:Td,identifiers:Rd,ids:wd,fetchedTokens:Cd,loadMore:Nd});const Ld={};var Ud=(e=Ld,t)=>{switch(t.type){case Ae.b:case Ae.c:case ke.b:case ke.c:case Le.c:case Le.b:case re.h:case re.g:case re.m:case re.l:case ie.c:case ie.b:case Re.c:case Re.b:case Ne.e:case Ne.f:case Ne.i:case Ne.h:case we.s:case we.r:case Pe.f:case Pe.e:case ae.f:case ae.e:case ae.c:case ae.b:case oe.f:case oe.e:case Me.f:case Me.e:case de.j:case de.i:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case re.q:case re.r:case Be.b:case Be.c:{var s=t.payload;const r=s.key;return-1===s.type.indexOf(na.jc.Posts)?e:Object.assign({},e,{[r]:null})}case Ae.a:case ke.a:case re.f:case re.k:case ie.a:case Re.a:case Ne.g:case we.q:case Pe.d:case de.h:case oe.d:case Me.d:case ae.d:case ae.a:{var r=t.payload;const s=r.key,n=r.error;return Object.assign({},e,{[s]:n})}case re.p:case Be.a:{var n=t.payload;const s=n.error,r=n.key;return-1===n.type.indexOf(na.jc.Posts)?e:Object.assign({},e,{[r]:s})}default:return e}},Md=s("./src/reddit/actions/subreddit/constants.ts");const Fd={};var Gd=(e=Fd,t)=>{switch(t.type){case ke.c:case Le.c:case re.h:case re.m:case ae.f:case Me.f:case ie.c:case Re.c:case Ne.f:case Ne.i:case we.s:case Pe.f:case oe.f:case ae.c:case de.j:case Ae.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case re.q:case Be.b:{var s=t.payload;const r=s.key;return-1===s.type.indexOf(na.jc.Posts)?e:Object.assign({},e,{[r]:!0})}case Le.b:case re.g:case re.f:case re.k:case re.l:case Me.d:case Me.e:case ae.d:case ae.e:case ie.b:case ie.a:case Re.b:case Re.a:case Ne.e:case Ne.d:case Ne.h:case Ne.g:case we.r:case we.q:case ke.b:case ke.a:case Pe.e:case Pe.d:case oe.d:case oe.e:case ae.a:case ae.b:case Md.b:case de.i:case de.h:case Ae.b:case Ae.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}case re.r:case re.p:case Be.c:case Be.a:{var r=t.payload;const s=r.key;return-1===r.type.indexOf(na.jc.Posts)?e:Object.assign({},e,{[s]:!1})}default:return e}},Bd=Object(r.c)({error:Ud,pending:Gd}),qd=s("./src/reddit/actions/postList.ts");const $d={};var Vd=(e=$d,t)=>{switch(t.type){case qd.a:{var s=t.payload;const r=s.listingKey,n=s.listingName;return Object.assign({},e,{[r]:n})}case qd.b:{const s=t.payload.listingKey;return s in e?ir()(e,[s]):e}default:return e}};const Hd={};var Kd=(e=Hd,t)=>{switch(t.type){case Ne.e:case ke.b:case re.g:case re.l:case ie.b:case ae.e:case Le.b:case Ae.b:{const s=t.payload.key;return Object.assign({},e,{[s]:{}})}case Re.b:case Ne.h:case we.r:case Pe.e:case oe.e:case ae.b:case de.i:{var s=t.payload;const r=s.key,n=s.fetchedToken,a=e[r];return Object.assign({},e,{[r]:Object.assign({},a,{[n]:!0})})}case Be.c:{var r=t.payload;const s=r.fetchedToken,n=r.key;if(r.type.indexOf(na.jc.Posts)>-1){const t=e[n];return Object.assign({},e,{[n]:Object.assign({},t,{[s]:!0})})}return e}default:return e}};const Wd={};var Qd=(e=Wd,t)=>{switch(t.type){case re.h:case Ne.f:case re.m:case ae.f:case ie.c:case Me.f:case ae.f:{const s=t.payload.key;return Object.assign({},e,{[s]:[]})}case De.e:case Ne.e:case ke.b:case Le.b:case re.g:case re.l:case ie.b:case Md.b:case ki.i:case Me.e:case ae.e:case Ge.b:case Ae.b:{var s=t.payload;const r=s.key,n=s.postIds;return Object.assign({},e,{[r]:n})}case Re.b:case Ne.h:case we.r:case Pe.e:case ae.b:case oe.e:case de.i:{var r=t.payload;const s=r.key,n=r.postIds;return Object.assign({},e,{[s]:e[s].concat(n)})}case re.r:{var n=t.payload;const s=n.key,r=n.postOrder;return-1===n.type.indexOf(na.jc.Posts)?e:Object.assign({},e,{[s]:r})}case Be.c:{var a=t.payload;const s=a.key,r=a.postOrder;return-1===a.type.indexOf(na.jc.Posts)?e:Object.assign({},e,{[s]:e[s].concat(r)})}case h.i:{var c=t.payload;const s=c.newStickiedPostList,r=c.listingKey;if(!e[r])return e;const n=[...e[r]].filter(e=>!s.includes(e));return n.unshift(...s),Object.assign({},e,{[r]:n})}default:return e}},Yd=s("./src/lib/makeListingKey/index.ts"),zd=s("./src/reddit/actions/preferences.ts");const Xd={};var Jd=(e=Xd,t)=>{switch(t.type){case ie.b:{var s=t.payload;const r=s.key,n=s.listingSort;return n&&!Object(Yd.b)(r)?Object.assign({},e,{[r]:{sort:n,hasChanged:!1}}):e}case zd.a:case zd.o:{const t={};return Object.keys(e).forEach(s=>{t[s]=Object.assign({},e[s],{hasChanged:!0})}),t}default:return e}};const Zd={};var eu=(e=Zd,t)=>{switch(t.type){case re.g:case re.l:case ie.b:case Me.e:case ae.e:case Le.b:case Re.b:case Ne.e:case Ne.h:case we.r:case Pe.e:case oe.e:case ae.b:case de.i:{var s=t.payload;const r=s.key,n=s.token,a=s.dist;return n?Object.assign({},e,{[r]:{token:n,dist:a}}):Object(Pd.a)(e,r)}case Be.c:case re.r:{var r=t.payload;const s=r.key,n=r.tokens;return-1===r.type.indexOf(na.jc.Posts)?e:n.posts?Object.assign({},e,{[s]:{token:n.posts}}):Object(Pd.a)(e,s)}default:return e}},tu=Object(r.c)({api:Bd,endMarkers:Vd,fetchedTokens:Kd,ids:Qd,listingSort:Jd,loadMore:eu}),su=Object(r.c)({activeKey:yd,listingOrder:kd,postOrder:tu});var ru=(e=null,t)=>{switch(t.type){case re.g:return ss()(t.payload.featuredLiveThread)?e:t.payload.featuredLiveThread;default:return e}};var nu=(e=!1,t)=>{switch(t.type){case re.g:return!0;default:return e}},au=Object(r.c)({featured:ru,isFrontpageLoaded:nu}),cu=s("./src/reddit/reducers/mediaPlayback/index.ts");const iu={};var ou=(e=iu,t)=>{switch(t.type){case ie.b:case xe.b:case re.b:case Ue.b:{const s=t.payload;if(!s.subredditPermissions||!s.subreddits)return e;const r=Object.keys(s.subredditAboutInfo||{});if(1!==r.length)return e;const n=r[0];return Object.assign({},e,{[n]:s.subredditPermissions})}case se.i:case se.f:case se.m:case se.p:case se.v:{const s=t.payload.response,r=s.moderatingSubreddits,n=s.moderatingProfiles;return Object.assign({},e,r,n)}case de.f:case Ne.e:case se.k:{const s=t.payload,r=s.moderatingSubreddits,n=s.moderatingProfiles;return Object.assign({},e,r,n)}case R.R:{const s=t.payload.subredditId;return Object(Pd.a)(e,s)}case R.O:{const s=t.payload;return Object.assign({},e,s)}default:return e}},du=s("./src/reddit/actions/moderationLog/constants.ts");const uu={};var lu=(e=uu,t)=>{switch(t.type){case du.b:{var s=t.payload;const r=s.actionIds,n=s.key,a=s.subredditId;return Object.assign({},e,{[a]:Object.assign({},e[a]||{},{[n]:r})})}default:return e}};const bu={};var pu=(e=bu,t)=>{switch(t.type){case du.b:{var s=t.payload;const r=s.normalizedModerationLog,n=s.subredditId,a={};r.forEach(e=>{a[e.id]=e});const c={[n]:a};return G()(Object.assign({},e),c)}default:return e}},Ou=Object(r.c)({itemOrder:lu,models:pu});var fu=(e=null,t)=>{switch(t.type){case du.b:return t.payload.endCursor;default:return e}};const mu={};var ju=(e=mu,t)=>{switch(t.type){case du.b:{var s=t.payload;const r=s.hasNextPage,n=s.subredditId;return Object.assign({},e,{[n]:r})}default:return e}};const gu={};var yu=(e=gu,t)=>{switch(t.type){case du.b:{var s=t.payload;const r=s.hasPreviousPage,n=s.subredditId;return Object.assign({},e,{[n]:r})}default:return e}};const _u=[];var Eu=(e=_u,t)=>{switch(t.type){case du.a:{var s=t.payload;const r=s.normalizedModerators,n=s.subredditId;return Object.assign({},e,{[n]:r})}default:return e}};var hu=(e=null,t)=>{switch(t.type){case du.b:return t.payload.startCursor;default:return e}},Iu=Object(r.c)({actions:Ou,endCursor:fu,hasNextPage:ju,hasPreviousPage:yu,moderators:Eu,startCursor:hu});const Su={};var Tu=(e=Su,t)=>{switch(t.type){case R.s:{const s=t.payload.response,r={[s.subredditId]:s.moderators};return G()(Object.assign({},e),r)}case R.u:{var s=t.payload;const r=s.subredditId,n=s.userId,a=s.permissions,c=Object.assign({},e);return c[r][n].modPermissions=a,G()(Object.assign({},e),Object.assign({},c))}case R.Q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}case R.E:{const s=t.payload,r=s.moderators,n=s.subredditId,a=n in e?e[n]:{};return Object.assign({},e,{[n]:Object.assign({},a,r)})}default:return e}};const vu={};var Cu=(e=vu,t)=>{switch(t.type){case R.t:case R.s:{var s=t.payload;const r=s.key;return s.subredditId?Object.assign({},e,{[r]:null}):e}case R.r:{var r=t.payload;const s=r.error,n=r.key;return r.subredditId?Object.assign({},e,{[n]:s}):e}default:return e}};const Du={};var Ru=(e=Du,t)=>{switch(t.type){case R.r:case R.s:{var s=t.payload;const r=s.subredditId,n=s.key;return r?Object.assign({},e,{[n]:!1}):e}case R.t:{var r=t.payload;const s=r.subredditId,n=r.key;return s?Object.assign({},e,{[n]:!0}):e}default:return e}},Au=Object(r.c)({error:Cu,pending:Ru});const wu={};var Pu=(e=wu,t)=>{switch(t.type){case R.s:{var s=t.payload;const r=s.subredditId,n=s.response,a=s.key,c=n.moderatorIds;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[a]:c})})}case R.Q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=r.key,c=e[s][a].filter(e=>e!==n);return Object.assign({},e,{[s]:Object.assign({},e[s]||{},{[a]:c})})}default:return e}},xu=Object(r.c)({data:Pu,api:Au});var Nu=(e=null,t)=>{switch(t.type){case R.x:case R.w:return null;case R.v:return t.payload;default:return e}};var ku=(e=!1,t)=>{switch(t.type){case R.w:case R.v:return!1;case R.x:return!0;default:return e}},Lu=Object(r.c)({error:Nu,pending:ku});const Uu={};var Mu=(e=Uu,t)=>{switch(t.type){case R.w:{var s=t.payload;const r=s.subredditId,n=s.moderators;return Object.assign({},e,{[r]:n})}case R.P:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}case R.a:{const s=t.payload,r={[s.subredditId]:s.moderators};return G()(Object.assign({},e),r)}default:return e}};const Fu={};var Gu=(e=Fu,t)=>{switch(t.type){case R.w:{var s=t.payload;const r=s.subredditId,n=s.moderatorIds;return Object.assign({},e,{[r]:n})}case R.P:{var r=t.payload;const s=r.subredditId,n=r.userId,a=e[s].filter(e=>e!==n);return Object.assign({},e,{[s]:a})}case R.a:{const s=t.payload,r=s.subredditId,n=s.moderatorIds,a=[...e[r]||[],...n];return Object.assign({},e,{[r]:a})}default:return e}},Bu=Object(r.c)({api:Lu,models:Mu,userOrder:Gu}),qu=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const $u={};var Vu=(e=$u,t)=>{switch(t.type){case R.B:{var s=t.payload;const r={[s.subredditId]:s.response.invitePending};return G()(Object.assign({},e),r)}case R.y:case R.z:{const s=t.payload.subredditId;return e[s],qu(e,["symbol"==typeof s?s:s+""])}default:return e}};const Hu={};var Ku=(e=Hu,t)=>{switch(t.type){case R.s:{const e=t.payload.response;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Wu={};var Qu=(e=Wu,t)=>{switch(t.type){case R.B:{const e=t.payload.response;return{[e.subredditId]:{after:e.after,before:e.before}}}default:return e}};const Yu={};var zu=(e=Yu,t)=>{switch(t.type){case R.B:{const s=t.payload.response,r={[s.subredditId]:s.moderators};return G()(Object.assign({},e),r)}case R.u:{const s=t.payload,r=s.subredditId,n=s.userId,a=s.permissions;if(e[r]&&e[r][n]){const t=Object.assign({},e);return t[r][n].modPermissions=a,t}return e}default:return e}};var Xu=(e=null,t)=>{switch(t.type){case R.F:case R.E:return null;case R.D:return t.payload;default:return e}};var Ju=(e=!1,t)=>{switch(t.type){case R.F:return!0;case R.E:case R.D:return!1;default:return e}},Zu=Object(r.c)({error:Xu,pending:Ju});var el=(e=null,t)=>{switch(t.type){case R.F:case R.D:case R.Q:return null;case R.E:{const e=t.payload.moderatorIds[0];return e?t.payload.moderators[e]:null}case R.u:{var s=t.payload;const r=s.userId,n=s.permissions;return e&&e.id===r&&!rr()(e.modPermissions,n)?Object.assign({},e,{modPermissions:n}):e}default:return e}},tl=Object(r.c)({api:Zu,result:el});const sl={};var rl=(e=sl,t)=>{switch(t.type){case R.C:case R.B:{var s=t.payload;const r=s.subredditId,n=s.key;return r?Object.assign({},e,{[n]:null}):e}case R.A:{var r=t.payload;const s=r.error,n=r.subredditId,a=r.key;return n?Object.assign({},e,{[a]:s}):e}default:return e}};const nl={};var al=(e=nl,t)=>{switch(t.type){case R.A:case R.B:{var s=t.payload;const r=s.subredditId,n=s.key;return r?Object.assign({},e,{[n]:!1}):e}case R.C:{var r=t.payload;const s=r.subredditId,n=r.key;return s?Object.assign({},e,{[n]:!0}):e}default:return e}},cl=Object(r.c)({error:rl,pending:al});const il={};var ol=(e=il,t)=>{switch(t.type){case R.B:{var s=t.payload;const r=s.response,n=s.subredditId,a=s.key,c=r.moderatorIds;return Object.assign({},e,{[n]:Object.assign({},e[n]||{},{[a]:c})})}case R.Q:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e[s]);return Object.keys(e[s]).forEach(t=>{const r=e[s][t].filter(e=>e!==n);a[t]=r}),Object.assign({},e,{[s]:a})}default:return e}},dl=Object(r.c)({data:ol,api:cl}),ul=Object(r.c)({editableModerators:Tu,editableUserOrder:xu,invitedModerators:Bu,invitePending:Vu,loadMoreModerators:Qu,loadMoreEditableModerators:Ku,models:zu,search:tl,userOrder:dl});var ll=(e=null,t)=>{switch(t.type){case Ne.b:case Ne.k:return null;case Ne.a:case Ne.j:return t.payload;default:return e}};var bl=(e=!1,t)=>{switch(t.type){case Ne.b:case Ne.k:return!0;case Ne.c:case Ne.a:case Ne.l:case Ne.j:return!1;default:return e}},pl=Object(r.c)({error:ll,pending:bl});const Ol=[];var fl=(e=Ol,t)=>{switch(t.type){case Ne.e:{const s=t.payload.filteredSubreddits;return s||e}case Ne.j:{const s=t.payload;return[...e,s]}case Ne.k:case Ne.a:{const s=t.payload;return e.filter(e=>e!==s)}default:return e}},ml=Object(r.c)({api:pl,names:fl}),jl=Object(r.c)({filteredSubreddits:ml}),gl=s("./src/reddit/actions/modMode.ts");var yl=(e=!0,t)=>{switch(t.type){case gl.a:return t.payload.enabled;default:return e}};var _l=(e=null,t)=>{switch(t.type){case or.c:case or.b:return null;case or.a:return t.payload;default:return e}};var El=(e=!1,t)=>{switch(t.type){case or.c:return!0;case or.b:case or.a:case se.s:case se.r:return!1;default:return e}},hl=Object(r.c)({error:_l,pending:El});const Il={};var Sl=(e=Il,t)=>{switch(t.type){case se.a:{const s=t.payload.ids,r={};return s.forEach(e=>r[e]=!0),Object.assign({},e,r)}case se.d:{const s=t.payload.ids;return ir()(e,s)}case se.c:{const e=t.payload.ids,s={};return e.forEach(e=>s[e]=!0),s}default:return e}};const Tl={};var vl=(e=Tl,t)=>{switch(t.type){case or.b:{var s=t.payload;const e=s.operation,r=s.ids;return"approve"===e?Tl:{[pr.c[e]]:r}}default:return e}},Cl=Object(r.c)({api:hl,selectedItems:Sl,undoLastAction:vl});var Dl=(e=null,t)=>{switch(t.type){case se.g:case se.f:return null;case se.e:return t.payload;default:return e}};var Rl=(e=!1,t)=>{switch(t.type){case se.g:return!0;case se.f:case se.e:return!1;default:return e}},Al=Object(r.c)({error:Dl,pending:Rl});const wl={};var Pl=(e=wl,t)=>{switch(t.type){case se.f:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const xl={};var Nl=(e=xl,t)=>{switch(t.type){case se.f:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},kl=Object(r.c)({api:Al,itemOrder:Pl,loadMore:Nl});var Ll=(e=null,t)=>{switch(t.type){case Ne.e:return t.payload.moderatingSubreddits?null:e;case se.i:case se.f:case se.m:case se.p:case se.v:return t.payload.response.moderatedAfter;case se.k:return t.payload.moderatedAfter;default:return e}};const Ul=[];var Ml=(e=Ul,t)=>{switch(t.type){case se.i:case se.f:case se.m:case se.p:case se.v:return t.payload.response.listingOrder;case se.k:{const s=t.payload.listingOrder;return[...e,...s]}case Ne.e:{const s=t.payload.listingOrder;return s||e}default:return e}};var Fl=(e=!1,t)=>{switch(t.type){case se.b:return!0;default:return e}};var Gl=(e=!1,t)=>{switch(t.type){case se.k:return!0;case se.b:return!1;default:return e}},Bl=Object(r.c)({after:Ll,data:Ml,loaded:Fl,pending:Gl});var ql=(e=null,t)=>{switch(t.type){case se.j:case se.i:return null;case se.h:return t.payload;default:return e}};var $l=(e=!1,t)=>{switch(t.type){case se.j:return!0;case se.i:case se.h:return!1;default:return e}},Vl=Object(r.c)({error:ql,pending:$l});const Hl={};var Kl=(e=Hl,t)=>{switch(t.type){case se.i:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const Wl={};var Ql=(e=Wl,t)=>{switch(t.type){case se.i:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},Yl=Object(r.c)({api:Vl,itemOrder:Kl,loadMore:Ql});var zl=(e=null,t)=>{switch(t.type){case se.n:case se.m:return null;case se.l:return t.payload;default:return e}};var Xl=(e=!1,t)=>{switch(t.type){case se.n:return!0;case se.m:case se.l:return!1;default:return e}},Jl=Object(r.c)({error:zl,pending:Xl});const Zl={};var eb=(e=Zl,t)=>{switch(t.type){case se.m:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const tb={};var sb=(e=tb,t)=>{switch(t.type){case se.m:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},rb=Object(r.c)({api:Jl,itemOrder:eb,loadMore:sb});var nb=(e=null,t)=>{switch(t.type){case se.q:case se.p:return null;case se.o:return t.payload;default:return e}};var ab=(e=!1,t)=>{switch(t.type){case se.q:return!0;case se.p:case se.o:return!1;default:return e}},cb=Object(r.c)({error:nb,pending:ab});const ib={};var ob=(e=ib,t)=>{switch(t.type){case se.p:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const db={};var ub=(e=db,t)=>{switch(t.type){case se.p:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},lb=Object(r.c)({api:cb,itemOrder:ob,loadMore:ub});var bb=(e=null,t)=>{switch(t.type){case se.w:case se.v:return null;case se.u:return t.payload;default:return e}};var pb=(e=!1,t)=>{switch(t.type){case se.w:return!0;case se.v:case se.u:return!1;default:return e}},Ob=Object(r.c)({error:bb,pending:pb});const fb={};var mb=(e=fb,t)=>{switch(t.type){case se.v:{var s=t.payload;const r=s.listingKey,n=s.page,a=s.response.modqueue;return Object.assign({},e,{[r]:Object.assign({},e[r]||{},{[n]:a})})}default:return e}};const jb={};var gb=(e=jb,t)=>{switch(t.type){case se.v:{var s=t.payload;const e=s.listingKey,r=s.response.modqueue;return{[e]:r[r.length-1]||null}}default:return e}},yb=Object(r.c)({api:Ob,itemOrder:mb,loadMore:gb}),_b=Object(r.c)({bulkAction:Cl,edited:kl,moderatedCommunitiesOrder:Bl,modqueue:Yl,reports:rb,spam:lb,unmoderated:yb}),Eb=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const hb={};var Ib=(e=hb,t)=>{switch(t.type){case ee.w:{const s=t.payload.moreCommentsId;return Object.assign({},e,{[s]:null})}case ee.v:{const s=t.payload.moreCommentsItem;return Object.assign({},e,{[s.id]:null})}case ee.u:{const s=t.payload,r=s.moreCommentsItem,n=Eb(s,["moreCommentsItem"]);return Object.assign({},e,{[r.id]:n||{}})}default:return e}};const Sb={};var Tb=(e=Sb,t)=>{switch(t.type){case ee.w:{const s=t.payload.moreCommentsId;return Object.assign({},e,{[s]:!0})}case ee.u:case ee.v:{const s=t.payload.moreCommentsItem;return Object.assign({},e,{[s.id]:!1})}default:return e}},vb=Object(r.c)({error:Ib,pending:Tb});const Cb={};var Db=(e=Cb,t)=>{switch(t.type){case ee.v:case xe.b:case re.b:return Object.assign({},e,t.payload.moreComments);default:return e}},Rb=Object(r.c)({api:vb,models:Db});var Ab=(e=null,t)=>{switch(t.type){case we.b:case we.c:return null;case we.a:return t.payload;default:return e}};var wb=(e=!1,t)=>{switch(t.type){case we.a:case we.c:return!0;case we.b:return!1;default:return e}};var Pb=(e=null,t)=>{switch(t.type){case re.l:case we.a:case we.c:return null;case we.b:return t.payload.name;default:return e}},xb=Object(r.c)({error:Ab,fetched:wb,pending:Pb});var Nb=(e=null,t)=>{switch(t.type){case we.f:case we.g:return null;case we.e:return t.payload;default:return e}};var kb=(e=!1,t)=>{switch(t.type){case we.e:case we.g:return!0;case we.f:return!1;default:return e}};var Lb=(e=!1,t)=>{switch(t.type){case we.e:case we.g:return!1;case we.f:return!0;default:return e}},Ub=Object(r.c)({error:Nb,fetched:kb,pending:Lb});var Mb=(e=null,t)=>{switch(t.type){case we.i:case we.j:return null;case we.h:return t.payload;default:return e}};var Fb=(e=!1,t)=>{switch(t.type){case we.h:case we.j:return!0;case we.i:return!1;default:return e}};var Gb=(e=!1,t)=>{switch(t.type){case we.h:case we.j:return!1;case we.i:return!0;default:return e}},Bb=Object(r.c)({error:Mb,fetched:Fb,pending:Gb});var qb=(e=null,t)=>{switch(t.type){case we.l:case we.m:return null;case we.k:return t.payload;default:return e}};var $b=(e=!1,t)=>{switch(t.type){case we.k:case we.m:return!0;case we.l:return!1;default:return e}};var Vb=(e=!1,t)=>{switch(t.type){case we.k:case we.m:return!1;case we.l:return!0;default:return e}},Hb=Object(r.c)({error:qb,fetched:$b,pending:Vb});var Kb=(e=null,t)=>{switch(t.type){case we.o:case we.p:return null;case we.n:return t.payload;default:return e}};var Wb=(e=!1,t)=>{switch(t.type){case we.n:case we.p:return!0;case we.o:return!1;default:return e}};var Qb=(e=!1,t)=>{switch(t.type){case we.n:case we.p:return!1;case we.o:return!0;default:return e}},Yb=Object(r.c)({error:Kb,fetched:Wb,pending:Qb});var zb=(e=!1,t)=>{switch(t.type){case we.t:return!1;case we.u:return!0;default:return e}};var Xb=(e=!1,t)=>{switch(t.type){case we.t:return!0;case we.u:return!1;default:return e}},Jb=Object(r.c)({fetched:zb,pending:Xb});var Zb=(e=null,t)=>{switch(t.type){case we.A:case we.B:return null;case we.z:return t.payload;default:return e}};var ep=(e=!1,t)=>{switch(t.type){case we.A:case we.z:return!1;case we.B:return!0;default:return e}};var tp=(e=!0,t)=>{switch(t.type){case we.A:return!0;case we.B:case we.z:return!1;default:return e}},sp=Object(r.c)({error:Zb,fetched:ep,pending:tp});var rp=(e=null,t)=>{switch(t.type){case we.w:case we.x:return null;case we.v:return t.payload;default:return e}};var np=(e=!1,t)=>{switch(t.type){case we.v:case we.x:return!0;case we.w:return!1;default:return e}};var ap=(e=null,t)=>{switch(t.type){case we.v:case we.x:return null;case we.w:return t.payload.id;default:return e}},cp=Object(r.c)({error:rp,fetched:np,pending:ap}),ip=Object(r.c)({addSubreddit:xb,create:Ub,deleteMulti:Bb,duplicate:Hb,edit:Yb,forUser:Jb,recommendations:sp,removeSubreddit:cp}),op=s("./node_modules/lodash/union.js"),dp=s.n(op);function up(e,t,s){let r,n,a=e.length-1,c=0;for(;c<=a;){const i=s(r=e[n=(c+a)/2|0],t);if(i<0){if((c=n+1)>a)return c}else{if(!(i>0))return n;if((a=n-1)<c)return a+1}}return(c+a)/2|0}var lp=s("./src/reddit/actions/profile/constants.ts");const bp={};var pp=(e=bp,t)=>{switch(t.type){case re.l:case we.r:case we.u:case lp.h:{var s=t.payload;const r=s.multireddits,n=s.multiredditsByUser,a=s.multiredditsModelsState,c=Object.assign({},e),i=Object.assign({},r,a);for(const t in n){const s=n[t],r=e[t];c[t]=dp()(r,s).sort((e,t)=>i[e].displayText.toLowerCase()>i[t].displayText.toLowerCase()?1:-1)}return rr()(e,c)?e:c}case we.g:case we.m:{var r=t.payload;const s=r.userId,n=r.multireddit,a=e[s]?e[s].slice():[],c=up(a,n.url,(e,t)=>e>t?1:-1);return a.splice(c,0,n.url),Object.assign({},e,{[s]:a})}case we.j:{const s=t.payload;for(const t in e){const r=e[t];if(r.indexOf(s)>-1)return Object.assign({},e,{[t]:r.filter(e=>e!==s)})}return e}default:return e}},Op=s("./src/reddit/actions/subscription/constants.ts");const fp={};var mp=(e=fp,t)=>{switch(t.type){case re.l:case we.r:case we.u:case lp.h:{let s={};for(const r in t.payload.multireddits){const n=t.payload.multireddits[r];r in e&&rr()(e[n.url],n)||(s=Object.assign({},s,{[r]:n}))}return ss()(s)?e:Object.assign({},e,s)}case we.g:case we.m:{const s=t.payload.multireddit;return Object.assign({},e,{[s.url]:s})}case we.j:{const s=t.payload,r=Object.assign({},e);return delete r[s],r}case we.p:{const s=t.payload;return Object.assign({},e,{[s.url]:s})}case we.x:{var s=t.payload;const r=s.id,n=s.multipath,a=s.type,c=e[n],i="subreddit"===a?(c.subredditIds||[]).filter(e=>e!==r):c.subredditIds,o="profile"===a?(c.profileIds||[]).filter(e=>e!==r):c.profileIds;return Object.assign({},e,{[n]:Object.assign({},c,{profileIds:o,subredditIds:i})})}case Op.d:{var r=t.payload;const s=r.makeFavorite,n=r.multiredditPath;return Object.assign({},e,{[n]:Object.assign({},e[n],{isFavorited:s})})}case Op.e:{var n=t.payload;const s=n.follow,r=n.multiredditPath;return Object.assign({},e,{[r]:Object.assign({},e[r],{isFollowed:s,isFavorited:!1})})}case we.c:{var a=t.payload;const s=a.id,r=a.multipaths,n=a.type,c=r.reduce((t,r)=>{const a=e[r],c="subreddit"===n?[...a.subredditIds||[],s]:a.subredditIds,i="profile"===n?[...a.profileIds||[],s]:a.profileIds;return Object.assign({},t,{[r]:Object.assign({},a,{subredditIds:c,profileIds:i})})},{});return Object.assign({},e,c)}default:return e}};const jp={};var gp=(e=jp,t)=>{switch(t.type){case we.B:{var s=t.payload;const r=s.multipath,n=s.subreddits;return Object.assign({},e,{[r]:Object.keys(n)})}default:return e}},yp=Object(r.c)({api:ip,byUserId:pp,models:mp,recommendations:gp});var _p=(e=null,t)=>{switch(t.type){case R.J:case R.H:return null;case R.G:return t.payload;default:return e}};const Ep={};var hp=(e=Ep,t)=>{switch(t.type){case R.J:{var s=t.payload;const r=s.subredditId,n=s.fetchedToken,a=Object(w.d)(r,n);return Object.assign({},e,{[a]:!0})}case R.H:case R.G:{var r=t.payload;const s=r.subredditId,n=r.fetchedToken,a=Object(w.d)(s,n);return Object.assign({},e,{[a]:!1})}default:return e}},Ip=Object(r.c)({error:_p,pending:hp});const Sp={};var Tp=(e=Sp,t)=>{switch(t.type){case R.H:{var s=t.payload;const r=s.fetchedToken,n=s.subredditId,a=Object(w.d)(n,r);return Object.assign({},e,{[a]:!0})}default:return e}};var vp=(e=null,t)=>{switch(t.type){case gt.b:return t.payload;default:return e}};const Cp={};var Dp=(e=Cp,t)=>{switch(t.type){case R.H:var s=t.payload;return{[s.subredditId]:s.after};default:return e}};const Rp={};var Ap=(e=Rp,t)=>{switch(t.type){case R.I:case R.H:{var s=t.payload;const r={[s.subredditId]:s.mutedUsers};return G()(Object.assign({},e),r)}case R.N:{var r=t.payload;const s=r.subredditId,n=r.userId,a=Object.assign({},e);return delete a[s][n],a}default:return e}};var wp=(e=null,t)=>{switch(t.type){case R.M:case R.L:return null;case R.K:return t.payload;default:return e}};var Pp=(e=!1,t)=>{switch(t.type){case R.M:return!0;case R.L:case R.K:return!1;default:return e}},xp=Object(r.c)({error:wp,pending:Pp});var Np=(e=null,t)=>{switch(t.type){case R.M:case R.K:return null;case R.L:{const e=t.payload.mutedUserIds[0];return e?t.payload.mutedUsers[e]:null}default:return e}},kp=Object(r.c)({api:xp,result:Np});const Lp={};var Up=(e=Lp,t)=>{switch(t.type){case R.H:{var s=t.payload;const r=s.subredditId,n=s.mutedUserIds;return e[r]?Object.assign({},e,{[r]:[...e[r],...n]}):Object.assign({},e,{[r]:n})}case R.N:{var r=t.payload;const s=r.subredditId,n=r.userId;return{[s]:e[s].filter(e=>e!==n)}}case R.I:{var n=t.payload;const s=n.subredditId,r=n.mutedUserIds[0];return r&&e[s]&&-1===e[s].indexOf(r)?{[s]:[r,...e[s]]}:e}default:return e}},Mp=Object(r.c)({api:Ip,fetchedTokens:Tp,inContext:vp,loadMore:Dp,models:Ap,search:kp,userOrder:Up});const Fp={};var Gp=(e=Fp,t)=>{switch(t.type){case ke.b:var s=t.payload;const r=s.key,n=s.activeCommunityIds;return Object.assign({},e,{[r]:n});default:return e}},Bp=Object(r.c)({activeCommunityIds:Gp});var qp=(e=null,t)=>{switch(t.type){case Ae.b:case Ae.c:case ke.b:case ke.c:return null;case ke.a:case Ae.a:return t.payload;default:return e}};var $p=(e=!1,t)=>{switch(t.type){case Ae.c:case ke.c:return!0;case Ae.a:case Ae.b:case ke.a:case ke.b:return!1;default:return e}},Vp=Object(r.c)({error:qp,pending:$p}),Hp=s("./src/reddit/models/News/index.ts");const Kp={},Wp=(e,t)=>e.reduce((e,s)=>{const r=Object.assign({belongsTo:s.belongsTo,heroSource:s.preview||{},id:s.id,status:Hp.b.Latest,thumbnailUrl:s.preview&&s.preview.url||""},Qp(t,s));return e[r.id]=r,e},{}),Qp=(e,t)=>{let s,r;return e.find(e=>!(!e.subtopics||!e.subtopics.length)&&!!e.subtopics.find(n=>{if(n.subreddits&&n.subreddits.length){const a=t&&t.belongsTo&&t.belongsTo.id||"";if(a&&n.subreddits.includes(a))return s=n,r=e,!0}return!1})),{topic:r,subtopic:s}};var Yp=(e=Kp,t)=>{switch(t.type){case ke.b:case Ae.b:{var s=t.payload;const r=s.availableTopics,n=s.posts,a=Wp($r()(n),r);return Object.assign({},e,a)}default:return e}},zp=Object(r.c)({api:Vp,models:Yp}),Xp=s("./src/reddit/actions/news.ts");var Jp=(e=null,t)=>{switch(t.type){case Xp.c:case Xp.b:return null;case Xp.a:return t.payload;default:return e}};var Zp=(e=!1,t)=>{switch(t.type){case Xp.c:return!0;case Xp.a:case Xp.b:return!1;default:return e}},eO=Object(r.c)({error:Jp,pending:Zp});const tO={availableTopics:[],selectedSubtopic:null,selectedTopic:null};var sO=(e=tO,t)=>{switch(t.type){case Xp.d:var s=t.payload;const r=s.selectedTopic,n=s.selectedSubtopic;return Object.assign({},e,{selectedTopic:r,selectedSubtopic:n});case Xp.b:const a=t.payload;return Object.assign({},e,{selectedTopic:e.selectedTopic||a[0]||null,availableTopics:a});default:return e}},rO=Object(r.c)({api:eO,models:sO}),nO=Object(r.c)({topics:rO,stories:zp,communityInfo:Bp}),aO=s("./src/reddit/actions/notificationBanner.ts");var cO=(e=null,t)=>{switch(t.type){case aO.b:return t.payload.notificationBannerId;case aO.a:return null;default:return e}},iO=s("./src/reddit/actions/nps.ts");const oO={pending:!1,success:!1,dest:void 0};var dO=(e=oO,t)=>{switch(t.type){case iO.c:return Object.assign({},oO,{pending:!0});case iO.a:return oO;case iO.b:{const e=t.payload.dest;return Object.assign({},oO,{success:!0,dest:e})}default:return e}},uO=s("./src/reddit/actions/oldSiteRules.ts");const lO=[];var bO=(e=lO,t)=>{switch(t.type){case uO.a:return t.payload.oldSiteRules;default:return e}};const pO={};var OO=(e=pO,t)=>{switch(t.type){case Pe.i:case Pe.h:{const s=t.payload.category;return Object.assign({},e,{[s]:null})}case Pe.g:{var s=t.payload;const r=s.category,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const fO={};var mO=(e=fO,t)=>{switch(t.type){case Pe.i:{const s=t.payload.category;return Object.assign({},e,{[s]:!0})}case Pe.h:case Pe.g:{const s=t.payload.category;return Object.assign({},e,{[s]:!1})}default:return e}},jO=Object(r.c)({error:OO,pending:mO}),gO=Object(r.c)({api:jO});var yO=(e=null,t)=>{switch(t.type){case Pe.c:case Pe.b:return null;case Pe.a:return t.payload;default:return e}};var _O=(e=!1,t)=>{switch(t.type){case Pe.c:return!0;case Pe.b:case Pe.a:return!1;default:return e}},EO=Object(r.c)({error:yO,pending:_O});const hO={};var IO=(e=hO,t)=>{switch(t.type){case Pe.b:return 0===t.payload.length?hO:t.payload.reduce((e,t)=>(e[t.name]=t,e),{});default:return e}},SO=Object(r.c)({api:EO,models:IO});const TO={};var vO=(e=TO,t)=>{switch(t.type){case Pe.l:case Pe.k:{const s=t.payload.category;return Object.assign({},e,{[s]:null})}case Pe.j:{var s=t.payload;const r=s.category,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const CO={};var DO=(e=CO,t)=>{switch(t.type){case Pe.l:{const s=t.payload.category;return Object.assign({},e,{[s]:!0})}case Pe.k:case Pe.j:{const s=t.payload.category;return Object.assign({},e,{[s]:!1})}default:return e}},RO=Object(r.c)({error:vO,pending:DO}),AO=Object(r.c)({api:RO});const wO={};var PO=(e=wO,t)=>{switch(t.type){case Pe.o:case Pe.n:{const s=t.payload.category;return Object.assign({},e,{[s]:null})}case Pe.m:{var s=t.payload;const r=s.category,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const xO={};var NO=(e=xO,t)=>{switch(t.type){case Pe.l:{const s=t.payload.category;return Object.assign({},e,{[s]:!0})}case Pe.k:case Pe.j:{const s=t.payload.category;return Object.assign({},e,{[s]:!1})}default:return e}},kO=Object(r.c)({error:PO,pending:NO}),LO=Object(r.c)({api:kO}),UO=Object(r.c)({bestPosts:gO,categories:SO,topCommunities:AO,topCreators:LO}),MO=s("./src/reddit/actions/pages/partnerSubredditConnection.ts");const FO={};var GO=(e=FO,t)=>{switch(t.type){case MO.b:case MO.c:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case MO.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const BO={};var qO=(e=BO,t)=>{switch(t.type){case MO.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}case MO.b:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}default:return e}};const $O={};var VO=(e=$O,t)=>{switch(t.type){case MO.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case MO.b:case MO.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},HO=Object(r.c)({error:GO,fetched:qO,pending:VO}),KO=Object(r.c)({page:HO}),WO=Object(r.c)({api:KO}),QO=s("./node_modules/history/index.js"),YO=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const zO={allowNavigationCallback:null,currentPage:null,lastPage:null,referrers:{},sessionReferrer:null,metas:{}};var XO=(e=zO,t)=>{switch(t.type){case f.a:{const s=e.currentPage,r=t.payload,n=r.routeMatch,a=r.location,c=a.key,i=Object(QO.createPath)(a),o=n?((e,t,s,r)=>{const n=s.route,a=(n.action,YO(n,["action"]));return{key:e,locationState:r.state,meta:s.route.meta,queryParams:s.match.queryParams,routeMatch:Object.assign({},s,{route:a}),status:200,url:t,urlParams:s.match.params}})(c,i,n,a):((e,t)=>({key:e,locationState:{},meta:null,queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}))(c,i);let d=e.referrers;if("PUSH"===r.action){const e=s&&s.url||"";d=Object.assign({},d,{[c]:e})}else if("REPLACE"===r.action&&s&&d[s.key]){const e=s.key,t=d[e],r=YO(d,["symbol"==typeof e?e:e+""]);d=Object.assign({},r,{[c]:t})}return Object.assign({},e,{referrers:d,currentPage:o,lastPage:s})}case f.e:{const s=t.payload,r=s.key,n=s.meta;return Object.assign({},e,{metas:Object.assign({},e.metas,{[r]:n})})}case f.f:{if(!e.currentPage)return e;const s=t.payload,r=Object.assign({},e.currentPage,{status:s});return Object.assign({},e,{currentPage:r})}case xe.b:case re.b:return!e.currentPage||t.payload.postMeta,e;case f.b:return e;case f.d:{const s=t.payload.allowNavigationCallback;return Object.assign({},e,{allowNavigationCallback:s})}case f.c:return Object.assign({},e,{allowNavigationCallback:null});default:return e}},JO=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const ZO={};var ef=(e=ZO,t)=>{switch(t.type){case p.k:{const s=t.payload.pollResults.pollId;return e[s],JO(e,["symbol"==typeof s?s:s+""])}case p.j:{const s=t.payload.pollId;return e[s],JO(e,["symbol"==typeof s?s:s+""])}case p.i:{var s=t.payload;const r=s.pollId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const tf={};var sf=(e=tf,t)=>{switch(t.type){case p.k:{const s=t.payload.pollResults.pollId;return Object.assign({},e,{[s]:!1})}case p.i:{const s=t.payload.pollId;return Object.assign({},e,{[s]:!1})}case p.j:{const s=t.payload.pollId;return Object.assign({},e,{[s]:!0})}default:return e}},rf=Object(r.c)({error:ef,pending:sf}),nf=Object(r.c)({voting:rf});const af={};var cf=(e=af,t)=>{switch(t.type){case p.h:{const s=t.payload.poll;return Object.assign({},e,{[s.id]:s})}case re.g:case ie.b:case de.i:case Re.b:case xe.b:case re.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{const r=s[t].poll;return e[r.id]=r,e},{});return Object.assign({},e,t)}return e}default:return e}};const of={};var df=(e=of,t)=>{switch(t.type){case p.k:{var s=t.payload.pollResults;const r=s[ka.b.ByLockedVotingPower],n=s.pollId;return r?Object.assign({},e,{[n]:r}):e}case re.g:case ie.b:case de.i:case Re.b:case xe.b:case re.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{var r=s[t].pollResults;const n=r[ka.b.ByLockedVotingPower],a=r.pollId;return n&&(e[a]=n),e},{});return Object.assign({},e,t)}return e}default:return e}};const uf={};var lf=(e=uf,t)=>{switch(t.type){case p.k:{var s=t.payload.pollResults;const r=s[ka.b.ByVoters],n=s.pollId;return Object.assign({},e,{[n]:r})}case re.g:case ie.b:case de.i:case Re.b:case xe.b:case re.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{var r=s[t].pollResults;const n=r[ka.b.ByVoters];return e[r.pollId]=n,e},{});return Object.assign({},e,t)}return e}default:return e}};const bf={};var pf=(e=bf,t)=>{switch(t.type){case p.k:{var s=t.payload.pollResults;const r=s[ka.b.ByVotingPower],n=s.pollId;return Object.assign({},e,{[n]:r})}case re.g:case ie.b:case de.i:case Re.b:case xe.b:case re.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{var r=s[t].pollResults;const n=r[ka.b.ByVotingPower];return e[r.pollId]=n,e},{});return Object.assign({},e,t)}return e}default:return e}},Of=Object(r.c)({byLockedVotingPower:df,byVoters:lf,byVotingPower:pf});const ff={};var mf=(e=ff,t)=>{switch(t.type){case p.k:{var s=t.payload.pollResults;const r=s.pollId,n=s.rewardPoints;return n?Object.assign({},e,{[r]:n}):e}default:return e}},jf=Object(r.c)({api:nf,models:cf,results:Of,rewards:mf});const gf={reorderError:null,updateDescriptionError:null,updateLayoutError:null};var yf=(e=gf,t)=>{switch(t.type){case dn.i:case dn.j:return Object.assign({},e,{reorderError:null});case dn.h:return Object.assign({},e,{reorderError:t.payload});case dn.l:case dn.m:return Object.assign({},e,{updateDescriptionError:null});case dn.k:return Object.assign({},e,{updateDescriptionError:t.payload});case dn.p:case dn.q:return Object.assign({},e,{updateLayoutError:null});case dn.o:return Object.assign({},e,{updateLayoutError:t.payload});default:return e}};const _f={reorderPending:!1,updateDescriptionPending:!1,updateLayoutPending:!1};var Ef=(e=_f,t)=>{switch(t.type){case dn.i:return Object.assign({},e,{reorderPending:!0});case dn.h:case dn.j:return Object.assign({},e,{reorderPending:!1});case dn.l:return Object.assign({},e,{updateDescriptionPending:!0});case dn.k:case dn.m:return Object.assign({},e,{updateDescriptionPending:!1});case dn.p:return Object.assign({},e,{updateLayoutPending:!0});case dn.o:case dn.q:return Object.assign({},e,{updateLayoutPending:!1});default:return e}},hf=Object(r.c)({error:yf,pending:Ef}),If=s("./src/reddit/helpers/path/index.ts");const Sf={},Tf=e=>{const t=e.protocol,s=e.domain;return e=>{const r=Object(If.b)(e.permalink);return Object.assign({},e,{permalink:`${t}://${s}${r}`})}};var vf=(e=Sf,t)=>{switch(t.type){case Ue.b:case Ne.e:case Ne.h:case ke.b:case ne.b:case ne.e:case Me.e:case Me.b:case ae.e:case ae.b:case ie.b:case re.g:case re.l:case ie.b:case xe.b:case re.b:case h.e:case Le.b:case we.r:case Pe.e:case Pe.h:case Re.b:case oe.e:case Ge.b:case de.i:case Be.c:case Fe.b:case re.r:case dn.f:{var s=t.payload;const r=s.collections,n=s.meta;if(!r)return e;let a=r;if(n){const e=Tf(n);a=ar()(r,e)}return Object.assign({},e,a)}case dn.d:{var r=t.payload;const s=r.collection,n=r.meta;if(!s)return e;const a=s.id;let c=s;return n&&(c=Tf(n)(s)),Object.assign({},e,{[a]:c})}case dn.g:{var n=t.payload;const s=n.collectionId,r=n.postId,a=e[s];return a?Object.assign({},e,{[s]:Object.assign({},a,{postIds:a.postIds.filter(e=>e!==r)})}):e}case dn.a:{var a=t.payload;const s=a.collectionId,r=a.postId,n=e[s];return n&&r?Object.assign({},e,{[s]:Object.assign({},n,{postIds:[...n.postIds,r]})}):e}case dn.e:{const s=t.payload.collectionId,r=Object.assign({},e);return delete r[s],r}case dn.s:{var c=t.payload;const s=c.collectionId,r=c.newTitle,n=e[s];return n?Object.assign({},e,{[s]:Object.assign({},n,{title:r})}):e}case dn.j:{var i=t.payload;const s=i.collectionId,r=i.postIds,n=e[s];return n?Object.assign({},e,{[s]:Object.assign({},n,{postIds:[...r]})}):e}case dn.m:{var o=t.payload;const s=o.collectionId,r=o.newDescription,n=e[s];return n?Object.assign({},e,{[s]:Object.assign({},n,{description:r})}):e}case dn.q:{var d=t.payload;const s=d.collectionId,r=d.newLayout,n=e[s];return n?Object.assign({},e,{[s]:Object.assign({},n,{displayLayout:r})}):e}default:return e}};const Cf={};var Df=(e=Cf,t)=>{switch(t.type){case Ue.b:case dn.f:{const s=t.payload.collections;if(!s)return e;const r=Object.keys(s);if(!r.length)return e;const n=s[r[0]].subredditId;return Object.assign({},e,{[n]:r})}case dn.d:{const s=t.payload.collection,r=s.subredditId,n=e[r]||[];return Object.assign({},e,{[r]:[...n,s.id]})}case dn.e:{var s=t.payload;const r=s.collectionId,n=s.collection;if(!n)return e;const a=n&&e[n.subredditId];return a?Object.assign({},e,{[n.subredditId]:a.filter(e=>e!==r)}):e}default:return e}},Rf=Object(r.c)({models:vf,subredditToIds:Df,api:hf}),Af=s("./src/reddit/actions/postFlair.ts"),wf=s("./src/reddit/models/Flair/index.ts");const Pf={},xf={displaySettings:{isEnabled:!1,position:wf.b.Left},permissions:{canAssignOwn:!1},templateIds:[],templates:{}},Nf=(e,t)=>{if(!t)return e;const s=Object.keys(t);return 0===s.length?e:s.reduce((e,s)=>(e[s]=Object.assign({},xf,e[s],t[s]),e),Object.assign({},e))};var kf=(e=Pf,t)=>{switch(t.type){case Ue.b:case Re.b:case Ne.e:case Ne.h:case we.r:case Pe.e:case Le.b:case xe.b:case re.b:case re.g:case re.l:case re.r:case ie.b:case ne.b:case ne.e:case ce.c:case ce.i:case ce.e:case ce.g:case oe.e:case Fe.b:case Fe.b:case Me.b:case Me.e:case ae.b:case ae.e:case Ge.b:case Be.c:case Be.c:case de.i:return Nf(e,t.payload.postFlair);case Af.c:{var s=t.payload;const r=s.subredditId,n=s.isEnabled,a=e[r].displaySettings,c=Object.assign({},a,{isEnabled:n});return Object.assign({},e,{[r]:Object.assign({},e[r],{displaySettings:c})})}case Af.a:{var r=t.payload;const s=r.subredditId,n=r.canAssignOwn,a=e[s].permissions,c=Object.assign({},a,{canAssignOwn:n});return Object.assign({},e,{[s]:Object.assign({},e[s],{permissions:c})})}case Af.f:{var n=t.payload;const s=n.subredditId,r=n.template,a=e[s],c=a.templates,i=a.templateIds,o=Object.assign({},c,{[r.id]:r}),d=[...i];return d.includes(r.id)||d.push(r.id),Object.assign({},e,{[s]:Object.assign({},a,{templates:o,templateIds:d})})}case Af.b:{var a=t.payload;const s=a.subredditId,r=a.templateId,n=e[s],c=n.templates,i=n.templateIds,o=ir()(c,r),d=i.filter(e=>e!==r);return Object.assign({},e,{[s]:Object.assign({},n,{templates:o,templateIds:d})})}case Af.e:case Af.d:{const s=t.payload,r=e[s.subredditId];return Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templateIds:s.templateIds})})}case se.i:case se.f:case se.m:case se.p:case se.v:{const s=t.payload.response;return Nf(e,s.postFlair)}default:return e}};const Lf={};var Uf=(e=Lf,t)=>{switch(t.type){case Pe.h:{var s=t.payload;const r=s.category,n=s.posts;return e[r]?e:Object.assign({},e,{[r]:Object.keys(n)})}default:return e}},Mf=s("./src/reddit/actions/inFeedChaining.ts");const Ff={};var Gf=(e=Ff,t)=>{switch(t.type){case Mf.a:return Object.assign({},e,{[t.payload.postId]:t.payload.listingKey});default:return e}};const Bf={};var qf=(e=Bf,t)=>{switch(t.type){case Mf.b:return Object.assign({},e,{[t.payload.postId]:t.payload.listingKey});default:return e}},$f=Object(r.c)({dismissedIdToListingKey:Gf,idToListingKey:qf}),Vf=s("./src/reddit/actions/embedAndImage.ts");const Hf={};var Kf=(e=Hf,t)=>{switch(t.type){case Vf.b:{const s=t.payload.postId;return e[s]?Object.assign({},e,{[s]:!1}):e}case Vf.a:{const s=t.payload.postId;return Object.assign({},e,{[s]:!0})}}return e},Wf=Object(r.c)({loadable:Kf});const Qf={};var Yf=(e=Qf,t)=>{switch(t.type){case h.c:{const s=t.payload.postId;return Object.assign({},e,{[s]:!e[s]})}default:return e}};var zf=(e=null,t)=>{switch(t.type){case h.d:return t.payload.postId;default:return e}};const Xf={};var Jf=(e=Xf,t)=>{switch(t.type){case Ne.e:case Ne.h:case re.g:case ie.b:case Le.b:case Pe.e:case Pe.h:case Re.b:case oe.e:case Ge.b:case de.i:case Be.c:case re.r:return Z()(Object.assign({},e),t.payload.postInstances,(e,t)=>{if(e)return e.concat(t)});default:return e}};const Zf={};var em=(e=Zf,t)=>{switch(t.type){case p.h:{const s=t.payload.poll;return Object.assign({},e,{[s.postId]:s.id})}case re.g:case ie.b:case de.i:case Re.b:case xe.b:case re.b:{const s=t.payload.governance;if(s){const t=Object.keys(s).reduce((e,t)=>{const r=s[t];return e[t]=r.poll.id,e},{});return Object.assign({},e,t)}return e}default:return e}},tm=s("./src/reddit/actions/events.ts"),sm=s("./src/reddit/actions/flairManagement/constants.ts"),rm=s("./src/reddit/actions/monthsToMinutes.ts"),nm=s("./src/reddit/actions/subredditTopContent.ts"),am=s("./src/reddit/helpers/isPost.ts"),cm=s("./node_modules/lodash/pickBy.js"),im=s.n(cm);function om(e,t){const s=im()(t,(t,s="")=>!e[s]||!rr()(e[s],t));return Object.keys(s).length>0?Object.assign({},e,s):e}var dm=s("./src/reddit/models/Media/index.ts"),um=s("./src/reddit/models/Post/index.ts"),lm=s("./src/reddit/actions/subredditDuplicates.ts"),bm=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const pm={},Om=e=>{const t=e.protocol,s=e.domain;return e=>{const r=Object(If.b)(e.permalink);return Object.assign({},e,{permalink:`${t}://${s}${r}`})}},fm=e=>{let t=e.source;return t&&t.outboundUrlCreated&&(t=Object.assign({},t,{outboundUrlReceived:Date.now()}),e.source=t),e},mm=e=>{const t=e.allAwardings,s=bm(e,["allAwardings"]);if(!t)return e;const r={};for(const n of t)r[n.id]=n.count;return Object.assign({},s,{awardCountsById:r})},jm=e=>t=>{for(let s=0;s<e.length;s++)t=e[s](t);return t},gm=(e,t)=>{const s={},r=t.posts;return Object.keys(r).length?(Object.keys(r).map(t=>{const n=r[t],a=e[t];a&&(s[t]=a.voteState===Or.a.notVoted?Object(Or.c)(a,n):a)}),Object.assign({},e,s)):e};var ym=(e=pm,t)=>{switch(t.type){case f.a:if(aa(t)===na.Rb.COMMENTS){const s=ca(t),r=(e=>{if(e.payload&&e.payload.routeMatch&&e.payload.routeMatch.match)return e.payload.routeMatch.match.params})(t);if(s&&s.instanceId&&r&&r.partialPostId){const t=s.instanceId,n=Object(um.h)(r.partialPostId);if(e[n]&&e[t])return Object.assign({},e,{[n]:((e,t)=>Object.assign({},e,{events:t.events,source:t.source}))(e[n],e[t])})}}return e;case xe.b:case re.b:{const s=Om(t.payload.meta);return Object.assign({},e,ar()(t.payload.posts,jm([s,fm,mm,(e=>t=>{const s=e[t.id];return s&&s.events&&(t.events=s.events,t.source=s.source),t})(e),(e=>t=>{const s=e[t.id];return s&&s.isSponsored&&(t.isSponsored=s.isSponsored),t})(e)])))}case h.e:return om(e,t.payload);case lm.a:return om(e,t.payload.posts);case Ue.b:case Ne.e:case Ne.h:case ke.b:case ne.b:case ne.e:case Me.e:case Me.b:case ae.e:case ae.b:case ie.b:case re.g:case re.l:case ie.b:case Le.b:case we.r:case Pe.e:case Pe.h:case Re.b:case oe.e:case Ge.b:case Md.b:case ki.i:case de.i:case Fe.b:case Ae.b:{const s=Om(t.payload.meta);return Object.assign({},e,ar()(t.payload.posts,jm([s,fm,mm,(e=>t=>{const s=e[t.id];return t&&t.media&&s&&s.media&&Object(dm.z)(t.media)&&t.media.isRichtextPreview&&Object(dm.z)(s.media)&&!s.media.isRichtextPreview&&(t.media.richtextContent=s.media.richtextContent,t.media.isRichtextPreview=!1),t})(e)])))}case De.e:case Be.c:case re.r:{const s=Om(t.payload.meta),r=ar()(t.payload.posts,jm([s,mm,fm]));return Z()(Object.assign({},e),r,(e,t)=>Object.assign({},t,e))}case h.f:{const s=t.payload;return Z()(Object.assign({},e),s,(e,t)=>Object.assign({},e,t))}case dr.a:{var s=t.payload;const r=s.id,n=s.vote,a=e[r];return a?Object.assign({},e,{[r]:Object(Or.c)(a,n)}):e}case ee.s:case ee.H:{const s=t.payload.comment.postId,r=e[s];if(r){const n=void 0!==t.payload.numComments?t.payload.numComments:r.numComments+1;return Object.assign({},e,{[s]:Object.assign({},r,{numComments:n})})}return e}case ee.z:{const s=t.payload.postId,r=e[s];return r?Object.assign({},e,{[s]:Object.assign({},r,{numComments:r.numComments-1})}):e}case fe.q:{var r=t.payload;const s=r.id,n=r.gildings,a=r.awardings,c=e[s];return c?Object.assign({},e,{[s]:a?Object(br.d)(Object(br.e)(c,n),a):Object(br.e)(c,n)}):e}case R.l:{const s=t.payload.posts;return Object.assign({},e,s)}case se.i:case se.f:case se.m:case se.p:case se.v:{const s=t.payload.response.posts;return Object.assign({},e,ar()(s,jm([mm])))}case or.b:case se.s:{var n=t.payload;const s=n.operation,r=n.ids,a=n.username,c=n.options,i=r.filter(e=>Object(am.a)(e)),o=Object(pr.d)(e,s,i,a,c);return Z()(Object.assign({},e),o,(e,t)=>Object.assign({},e,t))}case rm.a:return gm(e,t.payload);case rm.e:{const s=t.payload;return gm(e,s.votes)}case dn.t:{var a=t.payload;const s=a.postId,r=a.collectionId,n=e[s];if(n&&r){const t=n.collectionIds||[];return t.push(r),Object.assign({},e,{[s]:Object.assign({},n,{collectionIds:[...t]})})}return e}case dn.e:{var c=t.payload;const s=c.collectionId,r=c.collection,n=r&&r.postIds||[],a={};return n.forEach(t=>{const r=e[t],n=r&&r.collectionIds;if(n){const e=n.filter(e=>e!==s);a[t]=Object.assign({},r,{collectionIds:e})}}),Object.assign({},e,a)}case dn.g:{var i=t.payload;const s=i.collectionId,r=i.postId;if(!s||!r)return e;const n=e[r],a=n&&n.collectionIds;if(!a)return e;const c=a.filter(e=>e!==s);return Object.assign({},e,{[r]:Object.assign({},n,{collectionIds:c})})}case tm.START_EVENT_NOW_SUCCESS:{const s=t.payload.postId;if(!s)return e;const r=e[s];if(!r||!r.eventInfo)return e;const n=r.eventInfo;return Object.assign({},e,{[s]:Object.assign({},r,{eventInfo:Object.assign({},n,{eventIsLive:!0})})})}case tm.EDIT_EVENT_TIME_SUCCESS:{var o=t.payload;const s=o.postId,r=o.eventInfo;if(!s||!r)return e;const n=e[s];return n?Object.assign({},e,{[s]:Object.assign({},n,{eventInfo:Object.assign({},r)})}):e}case ce.c:case ce.i:case ce.e:case ce.g:case nm.b:return Object.assign({},ar()(t.payload.posts,jm([mm])),e);case h.h:{var d=t.payload;const s=d.postId,r=d.richtextContent,n=e[s];return n&&n.media&&Object(dm.z)(n.media)?Object.assign({},e,{[s]:Object.assign({},n,{media:Object.assign({},n.media,{richtextContent:r,isRichtextPreview:!1})})}):e}case sm.a:{const s=t.payload;return Object.assign({},e,{[s.id]:s})}case sm.b:{const s=t.payload;return Object(Pd.a)(e,s)}default:return e}};const _m=[];var Em=(e=_m,t)=>{switch(t.type){case h.g:return t.payload.postIds;case Le.b:case re.g:case ie.b:{const s=t.payload.recentPostIds;return s&&s.length?s:e}default:return e}},hm=s("./src/reddit/reducers/posts/video/index.ts"),Im=Object(r.c)({bestOCPosts:Uf,chained:$f,embedAndImage:Wf,expanded:Yf,focus:zf,instances:Jf,metaMap:em,models:ym,recent:Em,video:hm.a}),Sm=s("./src/lib/reducers/addAuthentication/index.ts");const Tm={};var vm=Object(Sm.a)((e=Tm,t)=>{switch(t.type){case xe.b:case re.b:{var s=t.payload;const r=s.postId,n=s.commentLists,a=s.comments,c=n[r]&&n[r].head;return c&&a[c.id]&&a[c.id].isStickied?Object.assign({},e,{[r]:c.id}):e}case ee.D:{var r=t.payload;const e=r.id;return{[r.postId]:e}}default:return e}},Tm),Cm=Object(r.c)({data:vm});const Dm={};var Rm=(e=Dm,t)=>{switch(t.type){case j.f:case j.g:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:void 0})}case j.e:{var s=t.payload;const r=s.subredditId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Am={};var wm=(e=Am,t)=>{switch(t.type){case j.f:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case j.g:case j.e:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},Pm=Object(r.c)({error:Rm,pending:wm});const xm={};var Nm=(e=xm,t)=>{switch(t.type){case j.d:{const s=t.payload.product;return Object.assign({},e,{[s.id]:void 0})}case j.c:case O.d:case O.e:case O.g:case O.h:{const s=t.payload.productId;return Object.assign({},e,{[s]:void 0})}case j.a:case O.b:case O.f:{var s=t.payload;const r=s.productId,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const km={};var Lm=(e=km,t)=>{switch(t.type){case j.c:case O.d:{const s=t.payload.productId;return Object.assign({},e,{[s]:!0})}case j.d:{const s=t.payload.product;return Object.assign({},e,{[s.id]:!1})}case j.a:case O.b:case O.e:{const s=t.payload.productId;return Object.assign({},e,{[s]:!1})}default:return e}},Um=Object(r.c)({error:Nm,pending:Lm}),Mm=Object(r.c)({fetch:Pm,purchase:Um});var Fm=(e=null,t)=>{switch(t.type){case j.b:return t.payload.productId;case c.b:return null;default:return e}};const Gm={};var Bm=(e=Gm,t)=>{switch(t.type){case l.a:case j.g:{const s=t.payload.products;return Object.assign({},e,s)}default:return e}},qm=Object(r.c)({api:Mm,currentlyPurchasing:Fm,models:Bm});const $m={};var Vm=(e=$m,t)=>{switch(t.type){case ne.f:case ne.e:case ne.c:case ne.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case ne.d:case ne.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const Hm={};var Km=(e=Hm,t)=>{switch(t.type){case ne.f:case ne.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case ne.e:case ne.d:case ne.b:case ne.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Wm=Object(r.c)({error:Vm,pending:Km});const Qm={};var Ym=(e=Qm,t)=>{switch(t.type){case ne.e:{var s=t.payload;const r=s.key,n=s.commentIds;return Object.assign({},e,{[r]:n})}case ne.b:{var r=t.payload;const s=r.key,n=r.commentIds,a=e[s]||[];return Object.assign({},e,{[s]:a.concat(n)})}default:return e}},zm=s("./src/reddit/actions/commentList.ts");const Xm={};var Jm=(e=Xm,t)=>{switch(t.type){case zm.a:{var s=t.payload;const r=s.listingKey,n=s.listingName;return Object.assign({},e,{[r]:n})}case zm.b:{const s=t.payload.listingKey;return s in e?ir()(e,s):e}default:return e}};const Zm={};var ej=(e=Zm,t)=>{switch(t.type){case ne.e:{const s=t.payload.key;return Object.assign({},e,{[s]:{}})}case ne.b:{var s=t.payload;const r=s.key,n=s.fetchedToken,a=e[r];return Object.assign({},e,{[r]:Object.assign({},a,{[n]:!0})})}default:return e}};const tj={};var sj=(e=tj,t)=>{switch(t.type){case ne.e:case ne.b:{var s=t.payload;const r=s.key,n=s.dist,a=s.token;return a?Object.assign({},e,{[r]:{dist:n,token:a}}):Object(Pd.a)(e,r)}default:return e}},rj=Object(r.c)({api:Wm,endMarkers:Jm,fetchedTokens:ej,commentIds:Ym,loadMore:sj}),nj=s("./src/reddit/actions/pages/profileModSettings.ts");var aj=(e=!0,t)=>{switch(t.type){case nj.a:return!1;default:return e}},cj=Object(r.c)({pending:aj}),ij=Object(r.c)({api:cj});const oj={};var dj=(e=oj,t)=>{switch(t.type){case Me.c:case Me.b:case Fe.c:case Fe.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case Me.a:case Fe.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const uj={};var lj=(e=uj,t)=>{switch(t.type){case Me.c:case Fe.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case Me.b:case Me.a:case Fe.b:case Fe.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},bj=Object(r.c)({error:dj,pending:lj});const pj={};var Oj=(e=pj,t)=>{switch(t.type){case Me.b:{const s=t.payload.key;return Object.assign({},e,{[s]:{}})}case Fe.b:{var s=t.payload;const r=s.key,n=s.fetchedToken,a=e[r];return Object.assign({},e,{[r]:Object.assign({},a,{[n]:!0})})}default:return e}};const fj={};var mj=(e=fj,t)=>{switch(t.type){case Me.b:case Fe.b:{var s=t.payload;const r=s.key,n=s.overviewIds,a=e[r]||[];return Object.assign({},e,{[r]:[...a,...n]})}default:return e}};const jj={};var gj=(e=jj,t)=>{switch(t.type){case Me.b:case Fe.b:{var s=t.payload;const r=s.key,n=s.dist,a=s.token;return a?Object.assign({},e,{[r]:{dist:n,token:a}}):Object(Pd.a)(e,r)}default:return e}},yj=Object(r.c)({api:bj,fetchedTokens:Oj,ids:mj,loadMore:gj});const _j={};var Ej=(e=_j,t)=>{switch(t.type){case Me.f:case Me.e:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case Me.d:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n||{}})}default:return e}};const hj={};var Ij=(e=hj,t)=>{switch(t.type){case Me.f:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case Me.e:case Me.d:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},Sj=Object(r.c)({error:Ej,pending:Ij});const Tj={};var vj=(e=Tj,t)=>{switch(t.type){case oe.c:case oe.b:{const s=t.payload.extraCommentsId;return Object.assign({},e,{[s]:null})}case oe.a:{var s=t.payload;const r=s.extraCommentsId,n=s.error;return Object.assign({},e,{[r]:n||{}})}default:return e}};const Cj={};var Dj=(e=Cj,t)=>{switch(t.type){case oe.c:{const s=t.payload.extraCommentsId;return Object.assign({},e,{[s]:!0})}case oe.b:case oe.a:{const s=t.payload.extraCommentsId;return Object.assign({},e,{[s]:!1})}default:return e}},Rj=Object(r.c)({error:vj,pending:Dj});const Aj={};var wj=(e=Aj,t)=>{switch(t.type){case Me.e:case oe.b:case oe.e:return Object.assign({},e,t.payload.extraComments);default:return e}},Pj=Object(r.c)({api:Rj,models:wj}),xj=s("./src/lib/makeOverviewConversationsItemKey/index.ts");const Nj={};function kj(e){const t=e;return ar()(t,({depth:e,next:t,prev:s})=>({depth:e,next:t,prev:s}))}const Lj=(e,t,s)=>{const r={};for(const n in t){const e=t[n],s=e.postId;r.hasOwnProperty(s)?r[s]=Object.assign({},r[s],{[n]:e}):r[s]={[n]:e}}for(const n in s){const e=s[n],t=e.postId;r.hasOwnProperty(t)?r[t]=Object.assign({},r[t],{[n]:e}):r[t]={[t]:e}}return r};var Uj=(e=Nj,t)=>{switch(t.type){case Me.e:case oe.e:{var s=t.payload;const r=s.comments,n=s.extraComments,a=s.postIds,c=s.profileName,i=Lj(a,r,n),o={};for(const e of a)o[Object(xj.a)(e,c)]=i.hasOwnProperty(e)?kj(i[e]):{};return Object.assign({},e,o)}case oe.b:{var r=t.payload;const s=r.comments,n=r.commentLists,a=r.extraComments,c=r.extraCommentsId,i=r.postIds,o=r.profileName;if(0===i.length){const t=Object.keys(e).find(t=>void 0!==e[t][c]);if(!t)return e;const s=Object.assign({},e[t])[c].prev,r=s&&s.id||"";return Object.assign({},e,{[t]:Object.assign({},e[t],{[r]:Object.assign({},e[t][r],{next:null})})})}const d=i[0],u=kj(Lj(i,s,a)[d]),l=Object(xj.a)(d,o),b=Object.assign({},e[l]),p=b[c].prev,O=p&&p.id||"",f=n[d].head,m=f&&f.id||"",j={id:m,type:"comment"},g=Object.assign({},b,{[O]:Object.assign({},b[O],{next:j})},u,{[m]:Object.assign({},u[m],{prev:p})});return Object.assign({},e,{[l]:g})}default:return e}};const Mj={};var Fj=(e=Mj,t)=>{switch(t.type){case Me.e:case oe.e:{var s=t.payload;const r=s.commentLists,n=s.postIds,a=s.profileName,c={};for(const e of n)c[Object(xj.a)(e,a)]=r[e]&&r[e].head?r[e].head.id:null;return Object.assign({},e,c)}default:return e}};const Gj={};var Bj=(e=Gj,t)=>{switch(t.type){case Me.e:case oe.e:{var s=t.payload;const r=s.postIds,n=s.profileName,a={};for(const e of r)a[Object(xj.a)(e,n)]=e;return Object.assign({},e,a)}default:return e}},qj=Object(r.c)({api:Sj,extraComments:Pj,keyToCommentThreadLinkSets:Uj,keyToHeadCommentId:Fj,keyToPostId:Bj}),$j=Object(r.c)({chrono:yj,conversations:qj});const Vj={};var Hj=(e=Vj,t)=>(t.type,e);const Kj={};var Wj=(e=Kj,t)=>{switch(t.type){case ce.a:case ce.d:{var s=t.payload;const r=s.listingKey,n=s.error;return Object.assign({},e,{[r]:n})}case ce.b:case ce.c:case ce.i:case ce.f:case ce.e:case ce.g:{const s=t.payload.listingKey;return Object.assign({},e,{[s]:null})}default:return e}};const Qj={};var Yj=(e=Qj,t)=>{switch(t.type){case ce.b:case ce.f:{const s=t.payload.listingKey;return Object.assign({},e,{[s]:!0})}case ce.a:case ce.d:case ce.c:case ce.i:case ce.e:case ce.g:{const s=t.payload.listingKey;return Object.assign({},e,{[s]:!1})}default:return e}},zj=Object(r.c)({error:Wj,pending:Yj});const Xj={};var Jj=(e=Xj,t)=>{switch(t.type){case ce.c:case ce.i:case ce.e:case ce.g:{var s=t.payload;const r=s.listingKey,n=s.itemIds;return Object.assign({},e,{[r]:[...e[r]||[],...n]})}default:return e}};const Zj={};var eg=(e=Zj,t)=>{switch(t.type){case ce.i:case ce.c:case ce.e:case ce.g:{var s=t.payload;const r=s.pageInfo,n=s.listingKey;return r?Object.assign({},e,{[n]:r}):Zj}default:return e}},tg=Object(r.c)({api:zj,ids:Jj,pageInfo:eg}),sg=s("./src/reddit/constants/posts.ts");const rg={};var ng=(e=rg,t)=>{switch(t.type){case re.r:case Be.c:return Object.assign({},e,t.payload.profileAboutInfo);case lp.k:{const s=t.payload;return s.profile?Object.assign({},e,{[s.profile.id]:s.about}):e}case Op.h:{var s=t.payload;const r=s.identifiers,n=s.userIsSubscriber,a=r.filter(e=>e.type===sg.a.PROFILE);return a.length?a.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:n}),e),Object.assign({},e)):e}case Pe.n:{const s=t.payload.profilesAboutInfo;return s?0===Object.keys(s).length?e:Object.assign({},e,s):e}case zd.m:{const s=t.payload,r=e[s.subredditId];if(!r)return e;if(r.publicDescription===s.settings.publicDescription)return e;const n=Object.assign({},r,{publicDescription:s.settings.publicDescription});return Object.assign({},e,{[s.subredditId]:n})}default:return e}};const ag={},cg=(e,t)=>{if(!t)return e;const s=Object.keys(t);if(!s.length)return e;const r={};return s.forEach(s=>{const n=e[s],a=Object.assign({},t[s]);n&&rr()(n,a)||(r[s]=a)}),Object.keys(r).length?Object.assign({},e,r):e};var ig=(e=ag,t)=>{switch(t.type){case Re.b:case xe.b:case re.b:case re.g:case ne.b:case ne.e:case ce.c:case ce.i:case ce.e:case ce.g:case Me.b:case Me.e:case ae.e:case Fe.b:case Re.b:case Ne.e:case Ne.h:case we.u:case lp.h:case Pe.e:case Pe.n:case Be.c:case de.i:case lp.l:case oe.b:case oe.e:case re.r:case Le.b:case Ue.b:case On.e:case ta.a:case ie.b:case re.l:case Ge.b:case Op.c:return cg(e,t.payload.profiles);case Be.e:{const s=t.payload.typeaheadSuggestions;return Object.keys(s).length?cg(e,s.profiles):e}case se.i:case se.f:case se.m:case se.p:case se.v:case se.k:{const s=t.payload.response.profiles;return cg(e,s)}case lp.k:{const s=t.payload.profile;return s?cg(e,{[s.id]:s}):e}case zd.m:{const r=t.payload;var s=r.settings;const n=s.title,a=s.over18,c=e[r.subredditId];return!c||c.title===n&&c.isNSFW===a?e:Object.assign({},e,{[r.subredditId]:Object.assign({},c,{id:r.subredditId,title:n,isNSFW:a})})}default:return e}};const og={};var dg=(e=og,t)=>{switch(t.type){case lp.c:case lp.f:{const s=t.payload.profileName;return Object.assign({},e,{[(s||"").toLowerCase()]:!0})}case lp.a:case lp.b:case lp.d:case lp.e:{const s=t.payload.profileName;return Object.assign({},e,{[(s||"").toLowerCase()]:!1})}default:return e}},ug=Object(r.c)({pending:dg});const lg={};var bg=(e=lg,t)=>{switch(t.type){case lp.b:{var s=t.payload;const r=s.profileName,n=s.data.map(e=>e.id);return Object.assign({},e,{[(r||"").toLowerCase()]:n})}case lp.e:case ce.c:case ce.i:case ce.e:case ce.g:{var r=t.payload;const s=r.profileName,n=r.moderatedSubredditIds;return n?Object.assign({},e,{[s]:[...e[s]||[],...n]}):e}default:return e}};const pg={};var Og=(e=pg,t)=>{switch(t.type){case lp.e:{var s=t.payload;const r=s.pageInfo,n=s.profileName;return Object.assign({},e,{[n]:r})}case ce.c:case ce.i:{var r=t.payload;const s=r.moderatedPageInfo,n=r.profileName;return Object.assign({},e,{[n]:s})}default:return e}},fg=Object(r.c)({api:ug,models:bg,pageInfo:Og});const mg={};var jg=(e=mg,t)=>{switch(t.type){case lp.i:{const s=t.payload.profileName;return Object.assign({},e,{[s.toLowerCase()]:!0})}case lp.g:case lp.h:{const s=t.payload.profileName;return Object.assign({},e,{[s.toLowerCase()]:!1})}default:return e}},gg=Object(r.c)({pending:jg});const yg={};var _g=(e=yg,t)=>{switch(t.type){case lp.h:{var s=t.payload;const r=s.pageInfo,n=s.profileName;return Object.assign({},e,{[n]:r})}default:return e}},Eg=Object(r.c)({api:gg,pageInfo:_g}),hg=s("./src/reddit/actions/pinnedPost.ts");const Ig={};var Sg=Object(Sm.a)((e=Ig,t)=>{switch(t.type){case hg.a:{var s=t.payload;const r=s.pinned,n=s.profileId;return Object.assign({},e,{[n]:r})}case hg.d:{var r=t.payload;const s=r.postId,n=r.profileId,a=e[n]||[];return Object.assign({},e,{[n]:[...a,s].slice(-na.db)})}case hg.g:{var n=t.payload;const s=n.postId,r=n.profileId,a=e[r]||[];return Object.assign({},e,{[r]:a.filter(e=>e!==s)})}default:return e}},Ig);const Tg={};var vg=Object(Sm.a)((e=Tg,t)=>{switch(t.type){case hg.a:{var s=t.payload;const r=s.pinned,n=s.profileId;return Object.assign({},e,{[n]:r})}default:return e}},Tg);const Cg={};var Dg=Object(Sm.a)((e=Cg,t)=>{switch(t.type){case hg.c:case hg.f:{var s=t.payload;const r=s.postId,n=s.profileId,a=e[n]||[];return Object.assign({},e,{[n]:[...a,r]})}case hg.b:case hg.e:case hg.d:case hg.g:{var r=t.payload;const s=r.postId,n=r.profileId,a=e[n]||[];return Object.assign({},e,{[n]:a.filter(e=>e!==s)})}default:return e}},Cg),Rg=Object(r.c)({data:Sg,initialData:vg,pending:Dg}),Ag=s("./src/reddit/actions/trophyCase.ts");const wg={};var Pg,xg,Ng=(e=wg,t)=>{switch(t.type){case Ag.a:{var s=t.payload;const r=s.profileId,n=s.trophyIds;return Object.assign({},e,{[r]:n})}default:return e}},kg=Object(r.c)({about:ng,models:ig,moderated:fg,multireddits:Eg,pinnedPosts:Rg,trophyCases:Ng});s("./src/lib/cache/index.ts");!function(e){e.MobilePromoBanner="mobilePromoBanner",e.UpsellSignUpBannerLarge="upsellSignUpBannerLarge",e.UpsellSignUpBannerMedium="upsellSignUpBannerMedium",e.UpsellSignUpBannerSmall="upsellSignUpBannerSmall"}(Pg||(Pg={})),function(e){e[e.FrontPage=0]="FrontPage",e[e.SubredditPage=1]="SubredditPage",e[e.CommentsPage=2]="CommentsPage"}(xg||(xg={}));var Lg,Ug,Mg;!function(e){e.mobilePromoBanner="desktop_xpromo_banner"}(Lg||(Lg={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Ug||(Ug={})),function(e){e.Test1="test_1",e.Test2="test_2"}(Mg||(Mg={}));!function(e){e.welcome="signup_upsell_banner_welcome",e.join="signup_upsell_banner_redditor",e.vote="signup_upsell_banner_discuss",e.personalize="signup_upsell_banner_personalize"}(Lg||(Lg={}));Object(Pi.a)("PROMO__SHOW_PROMO"),Object(Pi.a)("PROMO__HIDE_PROMO");const Fg={mobilePromoBanner:!1,upsellSignUpBannerLarge:!1,upsellSignUpBannerMedium:!1,upsellSignUpBannerSmall:null};var Gg=(e=Fg,t)=>{switch(t.type){case"PROMO__SHOW_PROMO":{const s=t.payload.promoType;return Object.assign({},e,{[s]:!0})}case"PROMO__HIDE_PROMO":{const s=t.payload.promoType;return Object.assign({},e,{[s]:!1})}default:return e}};const Bg={};var qg=(e=Bg,t)=>{switch(t.type){case xe.b:case re.b:case ne.b:case ee.v:case ae.b:case oe.e:case oe.b:case Fe.b:case Md.b:case de.i:case ie.b:case Me.e:case Me.b:case ne.e:case ae.e:{const s=t.payload.providerFlair;return s?G()(s,e):e}default:return e}},$g=Object(r.c)({models:qg});const Vg={};var Hg=(e=Vg,t)=>{switch(t.type){case Ge.b:return Object.assign({},e,t.payload);case Ge.a:default:return e}},Kg=s("./src/reddit/actions/removalReasons/constants.ts");var Wg=(e=null,t)=>{switch(t.type){case Kg.k:case Kg.l:case Kg.b:case Kg.c:case Kg.h:case Kg.i:case Kg.e:case Kg.f:return null;case Kg.j:case Kg.a:case Kg.g:case Kg.d:return t.payload;default:return e}};var Qg=(e=!1,t)=>{switch(t.type){case Kg.k:case Kg.b:case Kg.h:case Kg.e:return!0;case Kg.l:case Kg.j:case Kg.c:case Kg.a:case Kg.i:case Kg.g:case Kg.f:case Kg.d:return!1;default:return e}},Yg=Object(r.c)({error:Wg,pending:Qg}),zg=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const Xg={};var Jg=(e=Xg,t)=>{switch(t.type){case Kg.l:{const s=t.payload.response.data;return Object.assign({},e,s)}case Kg.c:case Kg.i:{const s=t.payload.reason;return Object.assign({},e,{[s.id]:s})}case Kg.f:{const s=t.payload.reasonId;return e[s],zg(e,["symbol"==typeof s?s:s+""])}default:return e}};const Zg={};var ey=(e=Zg,t)=>{switch(t.type){case Kg.l:{var s=t.payload;const r=s.subredditId,n=s.response.order;return Object.assign({},e,{[r]:n})}case Kg.c:{var r=t.payload;const s=r.subredditId,n=r.reason;return Object.assign({},e,{[s]:[...e[s],n.id]})}case Kg.f:{var n=t.payload;const s=n.subredditId,r=n.reasonId,a=[...e[s]].filter(e=>e!==r);return Object.assign({},e,{[s]:a})}default:return e}};var ty=(e=null,t)=>{switch(t.type){case Kg.t:{var s=t.payload;const e=s.subredditId;return{itemIds:s.itemIds,subredditId:e}}default:return e}},sy=Object(r.c)({api:Yg,models:Jg,reasonOrder:ey,removedItemIds:ty});const ry={};var ny=(e=ry,t)=>{switch(t.type){case g.d:case g.c:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}case g.b:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case g.e:{const s=t.payload;return s?Object.assign({},e,{[s]:!1}):e}default:return e}};const ay={};var cy=(e=ay,t)=>{switch(t.type){case g.d:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case g.c:case g.b:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}case g.e:{const s=t.payload;return s?Object.assign({},e,{[s]:!1}):e}default:return e}};const iy={};var oy=(e=iy,t)=>{switch(t.type){case g.c:{const s=t.payload.id;return Object.assign({},e,{[s]:!0})}case g.d:case g.b:{const s=t.payload.id;return Object.assign({},e,{[s]:!1})}case g.e:{const s=t.payload;return s?Object.assign({},e,{[s]:!1}):e}default:return e}},dy=Object(r.c)({error:ny,pending:cy,success:oy});var uy=(e=!1,t)=>{switch(t.type){case g.a:return t.payload;case c.c:return!t.payload&&e;case f.a:return!1;case g.e:return!!t.payload&&e;default:return e}};var ly=(e=null,t)=>{switch(t.type){case g.e:return t.payload;case c.c:return t.payload?null:e;case f.a:return null;default:return e}};var by=(e=!1,t)=>{switch(t.type){case g.f:return t.payload;case g.e:return!1;default:return e}},py=Object(r.c)({api:dy,openedFromModalPage:uy,postOrCommentId:ly,userIsMod:by}),Oy=s("./src/reddit/actions/pages/report/constants.ts");var fy=(e=null,t)=>{switch(t.type){case Oy.a:return t.payload;case Oy.b:case Oy.c:return!1;default:return e}};var my=(e=!1,t)=>{switch(t.type){case Oy.c:return!0;case Oy.b:case Oy.a:return!1;default:return e}};var jy=(e=!1,t)=>{switch(t.type){case Oy.b:return!0;case Oy.a:case Oy.c:return!1;default:return e}},gy=Object(r.c)({error:fy,pending:my,success:jy}),yy=s("./src/reddit/actions/reportPageRules/constants.ts");const _y=[];var Ey=(e=_y,t)=>{switch(t.type){case yy.a:return t.payload;default:return e}},hy=Object(r.c)({reportPageApi:gy,reportPageRules:Ey});Object(Pi.a)("REQUEST_HOST_SET");var Iy=(e="",t)=>{switch(t.type){case"REQUEST_HOST_SET":return t.payload;default:return e}};Object(Pi.a)("RUN_TIME_ENV_VARS__IS_STAGING");const Sy={staging:!1,startTimeInMillis:(new Date).getTime()};var Ty=(e=Sy,t)=>{switch(t.type){case"RUN_TIME_ENV_VARS__IS_STAGING":return Object.assign({},e,{staging:!0});default:return e}};const vy={};var Cy=(e=vy,t)=>{switch(t.type){case Be.d:{var s=t.payload;const r=s.relatedQueries,n=s.query;if(r){const t=n?n.toLowerCase():"";return Object.assign({},e,{[t]:r})}return e}default:return e}};var Dy=(e=null,t)=>{switch(t.type){case re.r:case Be.f:{const e=t.payload.searchQuery;return e||null}default:return e}};const Ry={};var Ay=(e=Ry,t)=>{switch(t.type){case Be.e:{var s=t.payload;const r=s.order,n=s.searchQuery;return Object.assign({},e,{[n.toLowerCase()]:r})}default:return e}},wy=s("./src/reddit/models/Search/index.ts");const Py={};var xy=(e=Py,t)=>{switch(t.type){case Be.e:{const s=t.payload.typeaheadSuggestions,r={};return Object.keys(s).forEach(e=>{const t=s[e];return r[e]=Object(wy.d)(t)}),Object.assign({},e,r)}default:return e}},Ny=Object(r.c)({idsByQuery:Ay,models:xy});const ky={};var Ly=(e=ky,t)=>{switch(t.type){case re.r:{var s=t.payload;const r=s.viewTreatment,n=s.key;return r?Object.assign({},e,{[n]:r}):e}default:return e}},Uy=Object(r.c)({relatedQueries:Cy,searchQuery:Dy,typeahead:Ny,viewTreatment:Ly}),My=s("./src/reddit/models/SearchDiscoveryUnit/index.ts");const Fy={};var Gy=(e=Fy,t)=>{switch(t.type){case re.r:{var s=t.payload;const r=s.categoryName,n=s.key,a=s.listingOrder,c=s.postOrder,i=s.posts,o=s.searchQuery,d=s.subreddits,u=s.viewTreatment,l={subredditIcons:[],displayText:null,subredditOccurrences:0,searchQuery:o};if(u===My.c.Trending||r){const e=[];if(a&&a.map(t=>{!e.includes(t.id)&&d[t.id]&&(e.push(t.id),l.subredditIcons.push({url:d[t.id].icon.url,subredditName:d[t.id].name}),l.displayText||(l.displayText=d[t.id].displayText))}),c)for(let t=0;t<c.length;t++){const s=i[c[t]],r=s&&s.belongsTo?s.belongsTo.id:void 0;r&&!e.includes(r)&&d[r]&&(e.push(r),l.subredditIcons.push({url:d[r].icon.url,subredditName:d[r].name}))}d&&(l.subredditOccurrences=Object.keys(d).length-1)}return Object.assign({},e,{[n]:l})}default:return e}};const By={};var qy=(e=By,t)=>{switch(t.type){case re.r:{var s=t.payload;const r=s.key,n=s.searchDiscoveryUnits;return n&&Object.keys(n).length?Object.assign({},e,{[r]:n}):e}default:return e}};const $y={};var Vy=(e=$y,t)=>{switch(t.type){case re.r:{var s=t.payload;const r=s.key,n=s.searchDiscoveryUnitOrder;return n?Object.assign({},e,{[r]:n}):$y}default:return e}},Hy=Object(r.c)({headerContent:Gy,models:qy,order:Vy}),Ky=s("./src/reddit/actions/shortcuts.ts");var Wy=(e=null,t)=>{switch(t.type){case Ky.a:return t.payload;case f.a:return null;default:return e}};var Qy=(e=null,t)=>{switch(t.type){case Ky.b:return t.payload||null;default:return e}},Yy=s("./src/reddit/constants/history.ts"),zy=s("./src/reddit/constants/shortcuts.ts"),Xy=s("./src/reddit/helpers/history/index.ts");const Jy=zy.d.Global,Zy=e=>{switch(e.name){case"comments":return Object(Xy.b)(Yy.a.IsOverlay)?zy.d.Lightbox:zy.d.CommentPage;case"subredditCreation":return Object(Xy.b)(Yy.a.IsOverlay)?zy.d.Lightbox:Jy;case"index":case"listing":case"multireddit":case"searchResults":case"subreddit":return zy.d.Listing;case"modQueuePages":return zy.d.Modqueue;default:return Jy}};var e_=(e=Jy,t)=>{switch(t.type){case f.a:const s=t.payload;if(s.routeMatch){const e=s.routeMatch.route.meta;return Zy(e)}return Jy;default:return e}},t_=Object(r.c)({activeCommentId:Wy,activePostId:Qy,namespace:e_});var s_=(e=!1,t)=>{if(e)return e;switch(t.type){case Ft.d:case Ft.e:return!0;default:return e}},r_=s("./src/reddit/reducers/sidebarPromotedPosts/models/index.ts"),n_=Object(r.c)({firstFetch:s_,models:r_.b}),a_=s("./src/reddit/actions/sitewideRules.ts");const c_=[];var i_=(e=c_,t)=>{switch(t.type){case a_.a:return t.payload;default:return e}},o_=s("./src/reddit/models/StructuredStyles/index.ts");const d_={};var u_=(e=d_,t)=>{switch(t.type){case y.g:case y.b:case y.d:return t.payload.styles;case y.e:return d_;case y.c:{const s=t.payload;return Object.assign({},e,s)}case y.h:{const e=t.payload;return Object(o_.f)(e.styles)}default:return e}},l_=s("./src/reddit/actions/exportImportStyles.ts");var b_=(e=null,t)=>{switch(t.type){case l_.c:case l_.b:return null;case l_.a:return t.payload;default:return e}};var p_=(e=!1,t)=>{switch(t.type){case l_.c:return!0;case l_.b:case l_.a:return!1;default:return e}},O_=Object(r.c)({error:b_,pending:p_}),f_=s("./src/reddit/actions/postFlairStyleTemplate.ts");const m_={};var j_=(e=m_,t)=>{switch(t.type){case ie.b:case xe.b:case re.b:case re.r:case Be.c:case Ue.b:case ta.a:{const s=t.payload;if(!s.structuredStyles||!s.structuredStyles.data)return e;const r=s.structuredStyles.data.flairTemplate;return Object.assign({},e,r)}case f_.b:{var s=t.payload;const r=s.flairId,n=s.template;return Object.assign({},e,{[r]:n})}case f_.a:{const s=t.payload.flairId;return Object(Pd.a)(e,s)}case Af.b:{const s=t.payload.templateId;return Object(Pd.a)(e,s)}case y.h:return m_;default:return e}},g_=Object(r.c)({models:j_});const y_={};var __=(e=y_,t)=>{switch(t.type){case y.f:{const s=t.payload;return Object.assign({},e,{[s.imageKey]:s.uploadId})}case y.h:case y.e:return y_;default:return e}};var E_=(e=!1,t)=>{switch(t.type){case y.j:case y.e:return!1;case y.a:return!0;default:return e}};var h_=(e=null,t)=>{switch(t.type){case y.d:return t.payload.subredditId;case y.e:return null;case f.a:return t.payload.location.search.indexOf("styling=true")>-1?e:null;case zd.f:return null;default:return e}};const I_={};var S_=(e=I_,t)=>{switch(t.type){case ie.b:case xe.b:case re.b:case Ue.b:case ta.a:{const s=t.payload;if(!s.structuredStyles||!s.structuredStyles.data)return e;const r=Object.keys(s.subredditAboutInfo||{});if(1!==r.length)return e;const n=r[0],a=s.structuredStyles.data.style;return Object.assign({},e,{[n]:a})}case Be.c:case re.r:{const s=t.payload;if(!s.structuredStyles||!s.structuredStyles.data)return e;if(!s.subredditName)return e;let r;if(os()(s.subreddits,(e,t)=>{if(e.name.toLowerCase()===s.subredditName.toLowerCase())return r=t,!1}),!r)return e;const n=s.structuredStyles.data.style;return Object.assign({},e,{[r]:n})}case y.i:{const s=t.payload,r=e[s.subredditId];return Object.assign({},e,{[s.subredditId]:Object.assign({},r,s.styles)})}case y.g:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.styles})}case y.h:{const s=t.payload,r=Object(o_.f)(s.styles);return Object.assign({},e,{[s.subredditId]:r})}case lp.k:{const s=t.payload,r=s.banner,n=s.profile;if(!r||!n)return e;const a=e[n.id];return Object.assign({},e,{[n.id]:Object.assign({},a,{bannerBackgroundImage:r.url})})}case zd.k:{const s=t.payload;return"profileBanner"===s.key?om(e,{[s.subredditId]:{bannerBackgroundImage:s.imageUrl}}):e}case zd.j:{const s=t.payload;return"profileBanner"===s.key?om(e,{[s.subredditId]:{bannerBackgroundImage:void 0}}):e}default:return e}},T_=Object(r.c)({draft:u_,exportStyles:O_,flairTemplate:g_,imagePreviews:__,isBladeEditorDirty:E_,isEditing:h_,models:S_});Object(Pi.a)("STYLESHEETS__EXTRACTED_FROM_MANIFEST");var v_=(e="",t)=>{switch(t.type){case"STYLESHEETS__EXTRACTED_FROM_MANIFEST":return t.payload;default:return e}},C_=s("./src/reddit/actions/subredditAutocomplete.ts");const D_={};var R_=(e=D_,t)=>{switch(t.type){case C_.c:case C_.b:{const s=t.payload.key;return Object.assign({},e,{[s]:null})}case C_.a:{var s=t.payload;const r=s.key,n=s.error;return Object.assign({},e,{[r]:n})}default:return e}};const A_={};var w_=(e=A_,t)=>{switch(t.type){case C_.c:{const s=t.payload.key;return Object.assign({},e,{[s]:!0})}case C_.b:case C_.a:{const s=t.payload.key;return Object.assign({},e,{[s]:!1})}default:return e}},P_=Object(r.c)({error:R_,pending:w_});const x_={};var N_=(e=x_,t)=>{switch(t.type){case C_.b:{const s=t.payload.key;return Object.assign({},e,{[s]:t.payload})}default:return e}},k_=Object(r.c)({api:P_,models:N_});const L_={};var U_=(e=L_,t)=>{switch(t.type){case ms.c:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case ms.a:case ms.d:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}};const M_={};var F_=(e=M_,t)=>{switch(t.type){case ms.d:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!0})}case ms.a:case ms.c:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}};const G_={};var B_=(e=G_,t)=>{switch(t.type){case ms.d:{const s=t.payload.subredditId;return e[s]?e:Object.assign({},e,{[s]:!1})}case ms.a:{var s=t.payload;const r=s.subredditId,n=s.isSubredditWhitelisted;return Object.assign({},e,{[r]:n})}case ms.c:{const s=t.payload.subredditId;return Object.assign({},e,{[s]:!1})}default:return e}},q_=Object(r.c)({error:U_,pending:F_,whitelist:B_}),$_=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const V_={};var H_=(e=V_,t)=>{switch(t.type){case ms.a:return Object.assign({},e,t.payload.collection);case ms.e:{const s=t.payload.channel;return Object.assign({},e,{[s.channelId]:Object.assign({},s)})}case ms.f:{var s=t.payload;const r=s.channel,n=s.editedSubredditChannelData;return r.name=n.room,r.description=n.description,r.minimumAcctAge=r.minimumAcctAge,r.newMemberAge=r.newMemberAge,Object.assign({},e,{[r.channelId]:Object.assign({},r)})}case ms.g:{const s=t.payload;return e[s],$_(e,["symbol"==typeof s?s:s+""])}default:return e}};var K_=(e=null,t)=>{switch(t.type){case ms.h:return t.payload.channelId;case ms.g:return e===t.payload?null:e;default:return e}},W_=Object(r.c)({api:q_,models:H_,selected:K_}),Q_=s("./src/reddit/actions/monthsToMinutes/homeFeed.ts");const Y_={};var z_=(e=Y_,t)=>{switch(t.type){case xe.b:case re.b:case re.r:case ie.a:case ie.b:case Ue.b:case ta.a:case ne.b:case ne.e:case Me.b:case Me.a:case Me.e:case Me.d:case ae.e:case oe.b:case oe.e:case Be.c:{const s=t.payload.subredditAboutInfo;if(!s)return e;const r=Object.keys(s);return 0===r.length?e:r.reduce((e,t)=>(s[t]&&(e[t]?e[t]=Object.assign({},e[t],s[t]):e[t]=s[t]),e),Object.assign({},e))}case Pc.a:{var s=t.payload;const r=s.subredditId,n=s.emojisEnabled,a=e[r],c=Object.assign({},a,{emojisEnabled:n});return Object.assign({},e,{[r]:c})}case Op.h:{var r=t.payload;const s=r.identifiers,n=r.userIsSubscriber,a=s.filter(e=>e.type===sg.a.SUBREDDIT);return a.length?a.reduce((e,t)=>(e[t.id]=Object.assign({},e[t.id],{userIsSubscriber:n}),e),Object.assign({},e)):e}case qt.e:case Q_.b:case ke.b:case Pe.k:case de.m:case Md.d:{const s=t.payload.subredditsAboutInfo;if(!s)return e;const r=Object.keys(s);return 0===r.length?e:r.reduce((e,t)=>(s[t]&&(e[t]=e[t]?Object.assign({},e[t],s[t]):s[t]),e),Object.assign({},e))}case Pc.b:{const s=t.payload,r=s.emojiCustomSize,n=s.subredditId,a=e[n];if(!a)return e;const c=Object.assign({},a);if(r){const e=r.width,t=r.height;c.emojisCustomSize=[e,t]}else delete c.emojisCustomSize;return Object.assign({},e,{[n]:c})}case de.c:{const s=t.payload.data;return Object.assign({},e,s)}case fe.q:{var n=t.payload;const s=n.subredditId,r=n.subredditCoins;if(!s||!r)return e;const a=e[s];if(!a)return e;const c=Object.assign({},a,{coins:r});return Object.assign({},e,{[s]:c})}default:return e}};const X_={};var J_=(e=X_,t)=>{switch(t.type){case de.b:case de.c:{const s=t.payload.subredditName;return Object.assign({},e,{[s.toLowerCase()]:null})}case de.a:{var s=t.payload;const r=s.subredditName,n=s.error;return Object.assign({},e,{[r.toLowerCase()]:n})}default:return e}};var Z_=(e=!1,t)=>{switch(t.type){case de.b:return!0;case de.c:case de.a:return!1;default:return e}},eE=Object(r.c)({error:J_,pending:Z_}),tE=s("./src/reddit/actions/subredditCreation.ts");var sE=(e=null,t)=>{switch(t.type){case tE.a:return t.payload.error||null;case tE.b:case tE.c:return null;default:return e}};var rE=(e=null,t)=>{switch(t.type){case tE.c:return t.payload.subredditName||null;case tE.a:case tE.b:return null;default:return e}};var nE=(e=!1,t)=>{switch(t.type){case tE.b:return!0;case tE.c:case tE.a:return!1;default:return e}},aE=Object(r.c)({error:sE,lastConnectedSubredditId:rE,pending:nE});const cE={apiError:null};var iE=(e=cE,t)=>{switch(t.type){case tE.e:{const s=t.payload.error;return Object.assign({},e,{apiError:s})}case tE.d:case tE.f:case tE.g:return cE;default:return e}};var oE=(e=null,t)=>{switch(t.type){case tE.g:return t.payload.subredditName||null;case tE.f:case tE.e:return null;default:return e}};var dE=(e=!1,t)=>{switch(t.type){case tE.f:return!0;case tE.g:case tE.e:return!1;default:return e}},uE=Object(r.c)({error:iE,lastCreatedSubredditId:oE,pending:dE}),lE=s("./src/reddit/actions/subredditRules/constants.ts");var bE=(e=!1,t)=>{switch(t.type){case lE.c:return!0;case lE.a:case lE.b:return!1;default:return e}};const pE={};var OE=(e=pE,t)=>{switch(t.type){case Md.c:case Md.d:return Object.assign({},e,{[t.payload.key]:!1});case Md.e:return Object.assign({},e,{[t.payload.key]:!0});default:return e}},fE=Object(r.c)({pending:OE}),mE=s("./src/reddit/actions/pages/subredditWiki/constants.ts");const jE={};var gE=(e=jE,t)=>{switch(t.type){case mE.g:case mE.f:{const s=t.payload.options.subredditName;return Object.assign({},e,{[s.toLowerCase()]:null})}case mE.e:{const s=t.payload,r=s.options,n=s.error,a=r.subredditName;return Object.assign({},e,{[a.toLowerCase()]:n})}default:return e}};const yE={};var _E=(e=yE,t)=>{switch(t.type){case mE.g:{const s=t.payload.options.subredditName;return Object.assign({},e,{[s.toLowerCase()]:!0})}case mE.f:case mE.e:{const s=t.payload.options.subredditName;return Object.assign({},e,{[s.toLowerCase()]:!1})}default:return e}},EE=Object(r.c)({error:gE,pending:_E});const hE={};var IE=(e=hE,t)=>{switch(t.type){case nm.c:case nm.b:{const s=t.payload.subredditName;return Object.assign({},e,{[s.toLowerCase()]:null})}case nm.a:{var s=t.payload;const r=s.subredditName,n=s.error;return Object.assign({},e,{[r.toLowerCase()]:n})}default:return e}};const SE={};var TE=(e=SE,t)=>{switch(t.type){case nm.c:{const s=t.payload.subredditName;return Object.assign({},e,{[s.toLowerCase()]:!0})}case nm.b:case nm.a:{const s=t.payload.subredditName;return Object.assign({},e,{[s.toLowerCase()]:!1})}default:return e}},vE=Object(r.c)({error:IE,pending:TE}),CE=Object(r.c)({about:eE,connectToPartner:aE,create:uE,rules:bE,similar:fE,topContent:vE,wiki:EE}),DE=s("./node_modules/lodash/isNil.js"),RE=s.n(DE);const AE={};var wE=(e=AE,t)=>{switch(t.type){case de.d:{var s=t.payload;const r=s.subredditId,n=s.forceState;return Object.assign({},e,{[r]:RE()(n)?!e[r]:n})}default:return e}},PE=Object(r.c)({meta:wE});const xE={};var NE=(e=xE,t)=>{switch(t.type){case qt.e:{var s=t.payload;const r=s.categoryId,n=s.subredditIds;return ss()(n)?e:Object.assign({},e,{[r]:n})}default:return e}};const kE={};var LE=(e=kE,t)=>{switch(t.type){case we.c:{var s=t.payload;const r=s.communityInfo,n=s.id,a=s.type;return r&&"subreddit"===a?Object.assign({},e,{[n]:r}):e}default:return e}},UE=s("./src/reddit/actions/subredditCrosspostable.ts");var ME=(e=null,t)=>{switch(t.type){case UE.a:return t.payload.error;case UE.c:case UE.b:return null;default:return e}};var FE=(e=!1,t)=>{switch(t.type){case UE.c:return!0;case UE.b:case UE.a:return!1;default:return e}},GE=Object(r.c)({errors:ME,pending:FE});const BE={};var qE=(e=BE,t)=>{switch(t.type){case UE.b:{const s=t.payload.subredditIds;return rr()(e,s)?e:s}default:return e}},$E=Object(r.c)({api:GE,ids:qE});const VE={};var HE=(e=VE,t)=>{switch(t.type){case lm.a:{const s=t.payload,r=s.subredditId,n=s.distinguishKey,a=s.postIds;if(!(r in e))return Object.assign({},e,{[r]:{[n]:a}});const c=e[r];return om(c,{[n]:a})===c?e:Object.assign({},e,{[r]:Object.assign({},c,{[n]:a})})}default:return e}},KE=Object(r.c)({models:HE});const WE={};var QE=(e=WE,t)=>{switch(t.type){case p.a:{var s=t.payload;const r=s.assets,n=s.subredditId;return Object.assign({},e,{[n]:r})}case O.e:case O.h:{var r=t.payload;const s=r.subredditId,n=r.mainHeader,a=e[s]||{};return Object.assign({},e,{[s]:Object.assign({},a,{mainHeader:n})})}default:return e}};const YE={};var zE=(e=YE,t)=>{switch(t.type){case p.a:{var s=t.payload;const r=s.communityJar,n=s.subredditId;return Object.assign({},e,{[n]:r})}default:return e}};const XE={};var JE=(e=XE,t)=>{switch(t.type){case p.a:{var s=t.payload;const r=s.subredditId,n=s.distribution;return Object.assign({},e,{[r]:n})}default:return e}};const ZE={};var eh=(e=ZE,t)=>{switch(t.type){case p.a:{var s=t.payload;const r=s.subredditId,n=s.meta;return Object.assign({},e,{[r]:n})}default:return e}};const th={};var sh=(e=th,t)=>{switch(t.type){case p.p:{var s=t.payload;const r=s.subredditId,n=s.releaseNotes;return Object.assign({},e,{[r]:n})}default:return e}},rh=Object(r.c)({assets:QE,communityJar:zE,distributions:JE,meta:eh,releaseNotes:sh}),nh=s("./node_modules/lodash/isEqualWith.js"),ah=s.n(nh),ch=s("./src/lib/forceHttps/index.ts"),ih=s("./src/reddit/models/Subreddit/index.ts");const oh={},dh=(e,t)=>{return!ah()(e,t,(e,t,s)=>{if("subscribers"===s)return!0})},uh=(e,t)=>{if(!t)return e;const s=Object.keys(t);if(!s.length)return e;const r={};for(let n=0;n<s.length;n++){const a=s[n],c=e[a],i=t[a];c&&!dh(c,i)||(r[a]=i)}return Object.keys(r).length?Object.assign({},e,r):e};var lh=(e=oh,t)=>{switch(t.type){case Op.c:return((e,t)=>{const s=Object.keys(t);if(s.length){const r=Object.assign({},e);return s.forEach(s=>{const n=e[s],a=t[s],c=n?Object.assign({},n,a):Object.assign({},a);a.icon.url?c.icon.url=Object(ch.a)(a.icon.url):n&&n.icon.url?c.icon=n.icon:c.icon.url="",r[s]=c}),r}return e})(e,t.payload.subreddits||{});case qt.e:case Re.b:case Ne.e:case Ne.h:case se.k:case we.r:case we.u:case lp.h:case ke.b:case Pe.e:case Pe.k:case Le.b:case xe.b:case Q_.b:case re.b:case re.g:case re.l:case ne.b:case ne.e:case ce.c:case ce.i:case ce.e:case ce.g:case Me.b:case Me.e:case ae.b:case ae.e:case lp.e:case re.r:case ie.b:case Ue.b:case On.e:case ta.a:case lp.l:case oe.b:case oe.e:case Fe.b:case Ge.b:case Be.c:case de.f:case de.i:case de.m:case Md.d:case Ae.b:return uh(e,t.payload.subreddits||{});case se.f:case se.i:case se.m:case se.p:case se.v:{const s=t.payload.response.subreddits;return uh(e,s)}case Be.e:{const s=t.payload.typeaheadSuggestions;return uh(e,s.subreddits||{})}case rm.e:{const s=t.payload.subreddits,r={};return Object.keys(s).map(e=>{const t=s[e];r[e]=((e,t)=>({displayText:`r/${e}`,name:e,id:t,icon:{height:null,url:"",width:null},subscribers:0,title:e,type:ih.b.Public,url:`/r/${e}`,isNSFW:!1}))(t,e)}),Object.assign({},r,e)}case we.B:{const s=t.payload.subreddits;return Object.assign({},s,e)}default:return e}};var bh=(e=null,t)=>{switch(t.type){case de.e:return t.payload.error;case de.g:case de.f:return null;default:return e}};var ph=(e=!1,t)=>{switch(t.type){case de.g:case de.f:return!0;case de.e:return!1;default:return e}};var Oh=(e=!1,t)=>{switch(t.type){case de.g:return!0;case de.f:case de.e:return!1;default:return e}},fh=Object(r.c)({errors:bh,fetched:ph,pending:Oh});var mh=(e=null,t)=>{switch(t.type){case de.f:{const e=t.payload.subreddits,s=Object.keys(e);return s.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),s}default:return e}},jh=Object(r.c)({api:fh,order:mh});const gh=[];var yh=(e=gh,t)=>{switch(t.type){case de.m:{const s=t.payload.subreddits;if(!s)return e;const r=Object.keys(s);if(0===r.length)return e;const n=r.filter(t=>!e.includes(t));return 0===n.length?e:[...e,...n]}default:return e}};const _h={};var Eh=(e=_h,t)=>{switch(t.type){case j.g:{var s=t.payload;const r=s.subredditId,n=s.products,a=Object.keys(n).reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:a})}default:return e}};const hh={};var Ih=(e=hh,t)=>{switch(t.type){case lE.b:{var s=t.payload;const r=s.rules,n={[s.subredditId]:{rules:r.rules}};return Object.assign({},e,n)}case lE.e:{var r=t.payload;const s=r.rules,n=r.subredditId,a={[n]:{rules:[...e[n].rules,...s.rules]}};return Object.assign({},e,a)}case lE.f:{var n=t.payload;const s=n.rules,r=n.subredditId,a=n.oldName;s.rules.shortName!==a&&(e[r].rules=e[r].rules.filter(e=>e.shortName!==a));const c={[r]:{rules:[...s.rules,...e[r].rules]}};return c[r].rules.sort((e,t)=>e.priority-t.priority),Object.assign({},e,c)}case lE.g:case lE.d:{var a=t.payload;const s=a.rules,r={[a.subredditId]:{rules:s.rules}};return Object.assign({},e,r)}default:return e}},Sh=s("./src/reddit/actions/subredditSettings.ts");const Th={};var vh=(e=Th,t)=>{switch(t.type){case Sh.h:{const e=t.payload;return{[e.subredditId]:e}}case Sh.i:{const s=t.payload,r=e[s.subredditId]||{};return Object.assign({},e,{[s.subredditId]:Object.assign({},r,s)})}case zd.m:{const s=t.payload,r=e[s.subredditId]||{},n=Object.assign({},r,s.settings);return Object.assign({},e,{[s.subredditId]:n})}default:return e}};const Ch={};var Dh=(e=Ch,t)=>{switch(t.type){case Md.d:{var s=t.payload;const r=s.key,n=s.subredditIds;return 0===n.length?e:Object.assign({},e,{[r]:n})}default:return e}};const Rh={};var Ah=(e=Rh,t)=>{switch(t.type){case mE.f:const s=t.payload,r=s.subredditWiki,n=s.options,a=r&&r.index;if(!a)return e;const c=n.subredditName;return Object.assign({},e,{[c.toLowerCase()]:a});default:return e}};const wh={};var Ph=(e=wh,t)=>{switch(t.type){case mE.f:const r=t.payload;var s=r.options;const n=s.subredditName,a=s.wikiPageName;if(!a||!r.subredditWiki.page)return e;const c=n.toLowerCase(),i=r.subredditWiki.page;return Object.assign({},e,{[c]:Object.assign({},e[c],{[a.toLowerCase()]:i})});default:return e}},xh=Object(r.c)({listingPage:Ah,pages:Ph});const Nh={};var kh=(e=Nh,t)=>{switch(t.type){case Pe.k:{var s=t.payload;const r=s.category,n=s.subreddits;return Object.assign({},e,{[r]:Object.keys(n)})}default:return e}};const Lh={};var Uh=(e=Lh,t)=>{switch(t.type){case nm.b:{const s=t.payload.subredditTopContent;return Object.assign({},e,s)}default:return e}};const Mh=[];var Fh=(e=Mh,t)=>{switch(t.type){case Le.b:case re.g:case ie.b:{const s=t.payload.trendingSubredditIds;return s&&s.length?s:e}default:return e}},Gh=Object(r.c)({about:z_,api:CE,appliedFilters:PE,byCategory:NE,communityInfo:LE,crosspostable:$E,duplicates:KE,gov:rh,models:lh,moderated:jh,original:yh,products:Eh,rules:Ih,settings:vh,similar:Dh,subredditWiki:xh,top:kh,topContent:Uh,trending:Fh}),Bh=s("./node_modules/lodash/cloneDeep.js"),qh=s.n(Bh);const $h={titleRegEx:{regex:null},titleStrings:{strings:null},titleLength:{min:null,max:null},postLength:{min:null,max:null},postingGuidelines:{guidelines:null},postBodyRequirement:{requirement:null},linkListPermission:{permission:null},linkDomain:{whitelist:null,blacklist:null},reposts:{days:null}};var Vh=(e=$h,t)=>{const s=t.type,r=t.payload;switch(s){case Sh.c:const t=qh()(e);return r.forEach(e=>{const s=e.formSection,r=e.formField,n=e.error;t[s][r]=n}),t;case Sh.g:return $h;default:return e}},Hh=s("./src/reddit/models/PostRequirements/index.ts");const Kh={isLoading:!0,isSaving:!1,hasFormError:!1,serverError:null,titleStrings:{isToggled:!1,strings:[]},titleRegEx:{isToggled:!1,regex:[]},titleLength:{isToggled:!1,min:null,max:null},postLength:{isToggled:!1,min:null,max:null},postingGuidelines:{requirement:"none",guidelines:null},postBodyRequirement:"none",linkListPermission:"none",linkDomain:{whitelist:[],blacklist:[]},reposts:{isToggled:!1,days:null},flair:{isToggled:!1}};var Wh=(e=Kh,t)=>{const s=t.type,r=t.payload;switch(s){case Sh.b:return Object.assign({},e,{isLoading:!0});case Sh.j:const t=r;return Object.assign({},e,{[t]:Object.assign({},e[t],{isToggled:!e[t].isToggled})});case Sh.v:const n=r.map(e=>e.substring(0,40));return Object.assign({},e,{titleStrings:Object.assign({},e.titleStrings,{strings:n})});case Sh.u:const a=r.map(e=>e.substring(0,100));return Object.assign({},e,{titleRegEx:Object.assign({},e.titleRegEx,{regex:a})});case Sh.t:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{min:""!==r?parseInt(r):""})});case Sh.s:return Object.assign({},e,{titleLength:Object.assign({},e.titleLength,{max:""!==r?parseInt(r):""})});case Sh.q:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{min:""!==r?parseInt(r):""})});case Sh.p:return Object.assign({},e,{postLength:Object.assign({},e.postLength,{max:""!==r?parseInt(r):""})});case Sh.k:const c=e.linkListPermission;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{[c]:r})});case Sh.r:return Object.assign({},e,{reposts:Object.assign({},e.reposts,{days:""!==r?parseInt(r):""})});case Sh.m:return Object.assign({},e,{postBodyRequirement:r});case Sh.l:const i="none"!==r;return Object.assign({},e,{linkDomain:Object.assign({},e.linkDomain,{isToggled:i}),linkListPermission:r});case Sh.o:return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{requirement:r})});case Sh.n:const o=r&&r.length>400?r.substring(0,400):r;return Object.assign({},e,{postingGuidelines:Object.assign({},e.postingGuidelines,{guidelines:o})});case Sh.d:return Object(Hh.b)(Kh,r);case Sh.c:return Object.assign({},e,{hasFormError:!0});case Sh.e:return Object.assign({},e,{serverError:r});case Sh.g:return Object.assign({},e,{hasFormError:!1,serverError:null,isSaving:!0});case Sh.f:return Object.assign({},e,{isSaving:!1});default:return e}};var Qh=(e=null,t)=>{const s=t.type,r=t.payload;switch(s){case Sh.d:return r;default:return e}},Yh=Object(r.c)({formState:Wh,formErrors:Vh,initialData:Qh});const zh={};var Xh=(e=zh,t)=>{const s=t.type,r=t.payload;switch(s){case Sh.a:return Object.assign({},e,r);default:return e}},Jh=Object(r.c)({postRequirements:Yh,requirementsBySubreddit:Xh});const Zh={};var eI=Object(Sm.a)((e=Zh,t)=>{switch(t.type){case ie.b:{var s=t.payload;const r=s.postIds,n=s.posts,a=r.slice(0,2).reduce((e,t)=>{if(n[t].isStickied){const s=n[t].belongsTo.id;e[s]?e[s].push(t):e[s]=[t]}return e},{});return G()(Object.assign({},e),a)}case h.i:{var r=t.payload;const s=r.newStickiedPostList,n=r.subredditId;return Object.assign({},e,{[n]:s})}default:return e}},Zh),tI=Object(r.c)({data:eI});const sI=[];var rI=(e=sI,t)=>{switch(t.type){case Op.d:{var s=t.payload;const r=s.makeFavorite,n=s.multiredditsModelsState,a=s.multiredditPath;if(r){const t=[...e],s=up(t,a,(e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1);return t.splice(s,0,a),t}return e.filter(e=>e!==a)}case we.u:{const e=t.payload.multireddits;return $r()(e).filter(e=>e.isFavorited).sort((e,t)=>e.displayText.toLowerCase()>t.displayText.toLowerCase()?1:-1).map(e=>e.url)}case Op.e:{var r=t.payload;const s=r.follow,n=r.multiredditPath;return s?e:e.filter(e=>e!==n)}case we.j:{const s=t.payload;return e.filter(e=>e!==s)}default:return e}};var nI=(e=null,t)=>{switch(t.type){case Op.a:return t.payload.error;case Op.b:case Op.c:return null;default:return e}};var aI=(e=!1,t)=>{switch(t.type){case Op.b:case Op.c:case rm.e:return!0;case Op.a:return!1;default:return e}};var cI=(e=!1,t)=>{switch(t.type){case Op.b:return!0;case Op.c:case Op.a:return!1;default:return e}},iI=Object(r.c)({errors:nI,fetched:aI,pending:cI});const oI=[];var dI=(e=oI,t)=>{switch(t.type){case Op.c:{var s=t.payload;const e=s.profiles,r=s.favoriteProfileIds,n=s.favoriteSubredditIds;let a;return(a=r&&r.length?r:n?n.filter(t=>!!e[t]):[]).sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),a}case Op.f:{var r=t.payload;const s=r.makeFavorite,n=r.identifier,a=r.profileModels,c=n.id;if(n.type!==sg.a.PROFILE)return e;const i=e?e.slice():[];if(s){const e=up(i,c,(e,t)=>a[e].displayText.toLowerCase()>a[t].displayText.toLowerCase()?1:-1);i.splice(e,0,c)}else{const e=i.indexOf(c);i.splice(e,1)}return i}case Op.h:{var n=t.payload;const s=n.identifiers,r=n.userIsSubscriber,a=s.filter(t=>t.type===sg.a.PROFILE&&e.indexOf(t.id)>-1);return!a.length||r?e:a.reduce((e,t)=>{const s=e.indexOf(t.id);return e.splice(s,1),e},[...e])}default:return e}};const uI=[];var lI=(e=uI,t)=>{switch(t.type){case Op.c:{var s=t.payload;const e=s.subreddits,r=s.favoriteSubredditIds,n=r?r.filter(t=>!!e[t]):[];return n.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),n}case Op.f:{var r=t.payload;const s=r.makeFavorite,n=r.identifier,a=r.subredditModels,c=n.id;if(n.type!==sg.a.SUBREDDIT)return e;const i=e?e.slice():[];if(s){const e=up(i,c,(e,t)=>a[e].displayText.toLowerCase()>a[t].displayText.toLowerCase()?1:-1);i.splice(e,0,c)}else{const e=i.indexOf(c);i.splice(e,1)}return i}case Op.h:{var n=t.payload;const s=n.identifiers,r=n.userIsSubscriber,a=s.filter(t=>t.type===sg.a.SUBREDDIT&&e.indexOf(t.id)>-1);return!a.length||r?e:a.reduce((e,t)=>{const s=e.indexOf(t.id);return e.splice(s,1),e},[...e])}default:return e}};const bI=[],pI=e=>(t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1;var OI=(e=bI,t)=>{switch(t.type){case we.u:{const s=t.payload.multireddits,r=$r()(s).map(({url:e})=>e.toLowerCase()).sort(pI(s));return rr()(e,r)?e:r}case re.l:{var s=t.payload;const r=s.account,n=s.multireddits,a=s.multiredditsByUser,c=s.multiredditsModelsState;if(!r)return e;const i=a[r.id];if(!i||!i.length)return e;const o=Object.assign({},c,n),d=dp()(e,i).sort(pI(o));return rr()(e,d)?e:d}case Op.e:{var r=t.payload;const s=r.follow,n=r.multiredditPath,a=r.multiredditsModelsState;return s?[...e,n].sort(pI(a)):e.filter(e=>e!==n)}case we.j:{const s=t.payload;return e.filter(e=>e!==s)}case we.g:case we.m:{var n=t.payload;const s=n.multireddit,r=n.multiredditsModelsState,a=Object.assign({},r,{[s.url]:s});return[...e,s.url].sort(pI(a))}default:return e}},fI=s("./node_modules/lodash/difference.js"),mI=s.n(fI),jI=s("./node_modules/lodash/uniq.js"),gI=s.n(jI);const yI=[];var _I=(e=yI,t)=>{switch(t.type){case lp.m:{const s=t.payload.profileOrder;return gI()([...e,...s])}case Op.c:{const e=t.payload.profiles,s=Object.keys(e);return s.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),s}case Op.h:{var s=t.payload;const r=s.identifiers,n=s.profileModels,a=s.userIsSubscriber,c=r.filter(e=>e.type===sg.a.PROFILE);if(!c.length)return e;const i=c.map(e=>e.id);return a?gI()([...e,...i]).sort((e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1):mI()(e,i)}default:return e}};const EI=[];var hI=(e=EI,t)=>{switch(t.type){case lp.m:{const s=t.payload.subredditOrder;return gI()([...e,...s])}case Op.c:{const e=t.payload.subreddits,s=Object.keys(e);return s.sort((t,s)=>e[t].displayText.toLowerCase()>e[s].displayText.toLowerCase()?1:-1),s}case Op.h:{var s=t.payload;const r=s.identifiers,n=s.subredditModels,a=s.userIsSubscriber,c=r.filter(e=>e.type===sg.a.SUBREDDIT&&!!e.id);if(!c.length)return e;const i=c.map(e=>e.id);return a?gI()([...e,...i]).sort((e,t)=>n[e].displayText.toLowerCase()>n[t].displayText.toLowerCase()?1:-1):mI()(e,i)}case rm.e:return t.payload.subscriptions;default:return e}},II=Object(r.c)({api:iI,favoriteMultiOrder:rI,favoriteProfileOrder:dI,favoriteSubredditOrder:lI,multiredditOrder:OI,profileOrder:_I,subredditOrder:hI}),SI=s("./src/reddit/actions/tags.ts");const TI={pending:!1,error:!1};var vI=(e=TI,t)=>{switch(t.type){case SI.c:return Object.assign({},e,{pending:!0});case SI.d:return{error:!1,pending:!1};case SI.b:return{error:!0,pending:!1};default:return e}};const CI={pending:!1,error:!1};var DI=(e=CI,t)=>{switch(t.type){case SI.f:return Object.assign({},e,{pending:!0});case SI.g:return{error:!1,pending:!1};case SI.e:return{error:!0,pending:!1};default:return e}};const RI={pending:!1,error:!1};var AI=(e=RI,t)=>{switch(t.type){case SI.j:return Object.assign({},e,{pending:!0});case SI.i:case SI.a:return{error:!1,pending:!1};case SI.h:return{error:!0,pending:!1};default:return e}};const wI={pending:!1,error:!1};var PI=(e=wI,t)=>{switch(t.type){case SI.l:return Object.assign({},e,{pending:!0});case SI.m:return{error:!1,pending:!1};case SI.k:return{error:!0,pending:!1};default:return e}},xI=Object(r.c)({create:vI,deleteTag:DI,fetch:AI,update:PI});const NI={global:[],recommendedGlobal:[]};var kI=(e=NI,t)=>{switch(t.type){case SI.i:case SI.a:{const e=t.payload.globalSubredditTags,s=Object.keys(e).sort((t,s)=>{const r=e[t].text.toLowerCase(),n=e[s].text.toLowerCase();return r<n?-1:r>n?1:0}),r=s.filter(t=>e[t].isRecommended);return{global:s,recommendedGlobal:r}}default:return e}};const LI={globalSubredditTags:{},subredditScopedTags:{},itemTags:{},sortedItemTags:{}};var UI=(e=LI,t)=>{switch(t.type){case SI.a:{var s=t.payload;const r=s.globalSubredditTags,n=s.subredditScopedTags,a=s.subredditId;return Object.assign({},e,{globalSubredditTags:Object.assign({},e.globalSubredditTags,r),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[a]:Object.assign({},e.subredditScopedTags[a]||{},n[a]||{})})})}case SI.i:{var r=t.payload;const s=r.globalSubredditTags,n=r.subredditScopedTags,a=r.itemTags,c=r.subredditId;return{globalSubredditTags:Object.assign({},e.globalSubredditTags,s),subredditScopedTags:Object.assign({},e.subredditScopedTags,{[c]:Object.assign({},e.subredditScopedTags[c]||{},n[c]||{})}),itemTags:Object.assign({},e.itemTags,{[c]:Object.assign({},a[c]||{})}),sortedItemTags:Object.assign({},e.sortedItemTags,{[c]:(e=>$r()(e).sort((t,s)=>{const r=e[t.tag.id].tag.text.toLowerCase(),n=e[s.tag.id].tag.text.toLowerCase();return r<n?-1:r>n?1:0}))(a[c]||{})})}}case SI.g:{var n=t.payload;const s=n.subredditId,r=n.tags.reduce((e,{tagId:t})=>(delete e[t],e),Object.assign({},e.subredditScopedTags[s]||{}));return Object.assign({},e,{subredditScopedTags:Object.assign({},e.subredditScopedTags,{[s]:r})})}default:return e}},MI=s("./src/reddit/reducers/tags/selected/index.ts"),FI=Object(r.c)({api:xI,availableGlobalTagOrder:kI,models:UI,selected:MI.b}),GI=s("./src/reddit/actions/redditEmbed.ts"),BI=s("./src/reddit/actions/users.ts"),qI=s("./src/reddit/models/Theme/index.ts");const $I={current:qI.c,cached:{}};var VI=(e=$I,t)=>{switch(t.type){case sn.a:case sn.b:case sn.e:case sn.c:case sn.f:case Ne.e:case Ne.h:case ke.b:case Le.b:case xe.a:case re.a:case xe.b:case re.b:case xe.d:case re.d:case re.g:case ie.b:case re.l:case re.k:case MO.b:case Re.b:case Pe.e:case GI.b:case de.i:case Be.c:case re.r:case zd.i:case Ue.b:case ta.a:case BI.f:return t.payload&&t.payload.preferences&&t.payload.preferences.nightmode?t.payload.preferences.nightmode?{current:qI.b,cached:{}}:{current:qI.c,cached:{}}:e;case ne.d:case ne.e:case Me.a:case Me.b:case Me.d:case Me.e:case ae.d:case ae.e:{const s=t.payload.account;return s?s.nightmode?{current:qI.b,cached:{}}:{current:qI.c,cached:{}}:e}case se.h:case se.j:case se.i:case se.g:case se.f:case se.n:case se.m:case se.p:case se.q:case se.w:case se.v:return t.payload&&t.payload.response&&t.payload.response.preferences&&t.payload.response.preferences.nightmode?t.payload.response.preferences.nightmode?{current:qI.b,cached:{}}:{current:qI.c,cached:{}}:e;case zd.h:return t.payload?t.payload.nightmode?{current:qI.b,cached:{}}:{current:qI.c,cached:{}}:e;case y.d:return{current:qI.c,cached:{}};case y.e:return t.payload.nightmodeTempUpdated?{current:qI.b,cached:{}}:e;default:return e}},HI=s("./src/reddit/actions/toaster.ts");const KI=[];var WI=(e=KI,t)=>{switch(t.type){case HI.c:{const s=t.payload,r=[];let n=!1;for(const t of e){const e=t.id===s.id?s:t;r.push(e),n=n||e===s}return n||r.push(s),r}case HI.b:{const s=t.payload;return e.filter(e=>e.id!==s)}default:return e}},QI=s("./src/reddit/actions/tracking.ts");const YI={};var zI=(e=YI,t)=>{switch(t.type){case QI.a:{const s=t.payload.routeKey;return Object.assign({},e,{[s]:!0})}case QI.b:{const s=t.payload.routeKey;return Object.assign({},e,{[s]:!1})}default:return e}},XI=Object(r.c)({viewportDataLoaded:zI});var JI=(e=null,t)=>{switch(t.type){case p.s:case p.t:return null;case p.q:return t.payload.error;default:return e}};var ZI=(e=!1,t)=>{switch(t.type){case p.s:return!0;case p.q:case p.t:return!1;default:return e}},eS=Object(r.c)({error:JI,pending:ZI});var tS=(e=null,t)=>{switch(t.type){case p.r:return(t.payload?t.payload.contentId:null)||null;case c.b:case p.t:return null;default:return e}};var sS=(e="",t)=>{switch(t.type){case p.r:return(t.payload?t.payload.recipient:"")||"";case p.t:return"";default:return e}},rS=Object(r.c)({api:eS,contentId:tS,initialRecipient:sS}),nS=Object(r.c)({communityPoints:rS});const aS=[];var cS=(e=aS,t)=>{switch(t.type){case ie.b:case re.s:{const s=t.payload.items;return s||e}default:return e}},iS=Object(r.c)({models:cS});const oS={};var dS=(e=oS,t)=>{switch(t.type){case Ag.a:{const s=t.payload.trophies;return Object.assign({},e,s)}default:return e}},uS=s("./src/reddit/models/Upload/index.ts");const lS={};var bS=(e=lS,t)=>{switch(t.type){case ua.d:{var s=t.payload;const r=s.key,n=s.id,a=s.file,c=e[r],i=c&&c.file===a?Object.assign({},c.metadata):{};return Object.assign({},e,{[r]:{key:r,id:n,file:a,metadata:i,url:void 0,status:uS.a.PENDING}})}case ua.h:{const s=t.payload.key,r=e[s];return Object.assign({},e,{[s]:Object.assign({},r,{status:uS.a.UPLOADING})})}case ua.c:{var r=t.payload;const s=r.key,n=r.metadata,a=e[s];return Object.assign({},e,{[s]:Object.assign({},a,{metadata:n})})}case ua.e:{var n=t.payload;const s=n.key,r=n.progress,a=e[s];return Object.assign({},e,{[s]:Object.assign({},a,{progress:r})})}case ua.g:{var a=t.payload;const s=a.key,r=a.url,n=e[s];return Object.assign({},e,{[s]:Object.assign({},n,{status:uS.a.SUCCESS,url:r})})}case ua.b:{var c=t.payload;const s=c.key,r=c.error,n=e[s];return Object.assign({},e,{[s]:Object.assign({},n,{status:uS.a.FAILED,error:r})})}case ua.a:{const s=t.payload.key,r=e[s];return Object.assign({},e,{[s]:Object.assign({},r,{status:uS.a.CANCELED})})}case ua.f:{const s=t.payload.key,r=e[s];return r.metadata.localUrl&&window.URL.revokeObjectURL(r.metadata.localUrl),ir()(e,s)}default:return e}};const pS={};var OS=(e=pS,t)=>{switch(t.type){case p.a:{var s=t.payload;const r=s.subredditId,n=s.wallet;if(!n)return e;const a=e[r]||{};return Object.assign({},e,{[r]:Object.assign({},a,{latest:n,byDate:Object.assign({},a.byDate||{},{[n.at]:n})})})}case p.w:{const s=t.payload,r=Object.assign({},e);return Object.keys(s).forEach(t=>{const n=s[t],a=e[t],c={latest:a?a.latest.at<=n.at?n:a.latest:n,byDate:Object.assign({},a?a.byDate:{},{[n.at]:n})};r[t]=c}),r}case j.d:{var r=t.payload;const s=r.product,n=r.wallet,a=e[s.subredditId]||{};return Object.assign({},e,{[s.subredditId]:Object.assign({},a,{[n.at]:n,latest:n})})}case p.t:{var n=t.payload;const s=n.subredditId,r=n.wallet,a=e[s]||{};return Object.assign({},e,{[s]:Object.assign({},a,{[r.at]:r,latest:r})})}default:return e}},fS=s("./src/reddit/actions/pages/appeal/constants.ts");const mS=(e,t)=>!t||rr()(e,t)?e:t;var jS=Object(Sm.a)((e=null,t)=>{switch(t.type){case fS.a:case fS.b:case Oy.a:case Oy.b:case sn.a:case sn.b:case sn.c:case sn.e:case sn.f:case Ne.e:case Ne.h:case Ne.g:case we.q:case we.r:case ke.b:case Pe.d:case Pe.e:case Le.a:case Le.b:case xe.a:case re.a:case xe.b:case re.b:case re.f:case re.g:case re.k:case re.l:case ie.a:case MO.b:case ne.b:case ne.a:case ne.e:case ne.d:case ce.c:case ce.i:case Me.e:case Me.d:case Me.b:case Me.a:case ae.e:case ae.d:case ie.b:case re.p:case re.r:case Ue.b:case ta.a:case Be.a:case Be.c:case GI.a:case GI.b:case zd.i:case BI.f:return mS(e,t.payload.account);case BI.u:return e?Object.assign({},e,{email:t.payload}):e;case se.i:case se.f:case se.m:case se.p:case se.v:case se.h:case se.e:case se.l:case se.o:case se.u:{const s=t.payload.response;return s?mS(e,s.account):e}case BI.d:return e?Object.assign({},e,{seenLayoutSwitch:!0}):e;case c.d:return e?Object.assign({},e,{seenRedesignModal:!0}):e;case zd.k:case zd.j:{const s=t.payload;return e&&"profileIcon"===s.key?Object.assign({},e,{accountIcon:s.imageUrl}):e}case fe.y:case fe.q:{const s=t.payload.coins;return e?Object.assign({},e,{coins:s}):e}case bo.f:{const s=t.payload.coins;return s&&e?Object.assign({},e,{coins:s}):e}case BI.n:return e?Object.assign({},e,{seenChatPostFtux:!0}):e;default:return e}},null);var gS=(e=!1,t)=>{switch(t.type){case BI.t:return!0;case BI.u:case BI.s:return!1;default:return e}},yS=Object(r.c)({pending:gS}),_S=Object(r.c)({api:yS});var ES=(e=!1,t)=>{switch(t.type){case BI.l:return!0;case BI.m:case BI.k:return!1;default:return e}},hS=Object(r.c)({pending:ES}),IS=Object(r.c)({api:hS});var SS=(e=!1,t)=>{switch(t.type){case BI.q:return!0;default:return e}};var TS=(e=!1,t)=>{switch(t.type){case BI.p:return!0;case BI.q:case BI.o:return!1;default:return e}},vS=Object(r.c)({pending:TS,emailSent:SS}),CS=Object(r.c)({api:vS}),DS=Object(r.c)({changeEmail:_S,resetPassword:IS,sendResetEmail:CS}),RS=s("./src/reddit/models/WhitelistAndBlocked.ts");const AS={};var wS=(e=AS,t)=>{switch(t.type){case Pt.f:return Object.assign({},e,{new:RS.a.pending});case Pt.d:return Object.assign({},e,{new:RS.a.error});case Pt.e:return Object.assign({},e,{new:RS.a.waitingForRequest});case Pt.b:{const s=t.payload.name;return Object.assign({},e,{[s]:RS.a.pending})}case Pt.a:{const s=t.payload.name;return Object.assign({},e,{[s]:RS.a.error})}case Pt.c:{const s=t.payload.name;return Object.assign({},e,{[s]:RS.a.waitingForRequest})}default:return e}};const PS=[];var xS=(e=PS,t)=>{switch(t.type){case Pt.e:return[t.payload,...e];case Pt.c:{const s=t.payload.name;return e.filter(e=>e.name!==s)}case zd.i:return t.payload.blockedUsers;default:return e}},NS=Object(r.c)({api:wS,data:xS}),kS=s("./src/reddit/actions/chat/constants.ts"),LS=s("./src/reddit/actions/chat/userSettings.ts");const US=kS.a.anybody;var MS=(e=US,t)=>{switch(t.type){case LS.a:return t.payload?t.payload.invitePolicy:e;default:return e}},FS=Object(r.c)({invitePolicy:MS});const GS=(e,t)=>void 0===t||e&&t===e.count?e:Object.assign({},e,{count:t});var BS=(e=null,t)=>{switch(t.type){case Ue.b:{const s=t.payload.drafts;return e&&rr()(e,s)?e:Object.assign({},e,s)}case m.O:{const s=t.payload.response.draftsCount;return GS(e,s)}case On.e:{const s=t.payload.postDraftIds;return GS(e,s.length)}case On.c:case On.l:{const s=t.payload.draftsCount;return GS(e,s)}default:return e}},qS=s("./src/reddit/actions/global.ts");const $S={};var VS=(e=$S,t)=>{switch(t.type){case qS.a:{const s=t.payload;return null===s.local_persisted_experiments_store||void 0===s.local_persisted_experiments_store?e:s.local_persisted_experiments_store}default:return e}},HS=s("./src/reddit/actions/experiments.ts");const KS=[];var WS=(e=KS,t)=>{switch(t.type){case HS.a:return t.payload.experimentVariants.map(({id:e,experimentName:t,name:s,version:r})=>({id:parseInt(e),name:t,variant:s||void 0,version:r}));default:return e}};const QS=/^experiment_(.*)$/i,YS=e=>{const t=e.match(QS);if(null!==t)return t[1]},zS={};var XS=(e=zS,t)=>{switch(t.type){case f.a:{const s=ca(t);if(!s)return e;const r={};for(const e in s){const t=YS(e);t&&(r[t.toLowerCase()]=s[e]||"")}return ss()(r)?e:Object.assign({},e,r)}case HS.b:{var s=t.payload;const r=s.experimentName,n=s.override;return r?Object.assign({},e,{[r]:n||""}):e}default:return e}},JS=Object(r.c)({models:WS,localPersisted:VS,overrides:XS});function ZS(e,t){return t?e&&rr()(e,t)?e:t:e}const eT={};var tT=Object(Sm.a)((e=eT,t)=>{switch(t.type){case sn.a:case sn.b:case sn.c:case sn.e:case sn.f:case Ne.e:case ke.b:case Le.a:case Le.b:case xe.a:case re.a:case xe.b:case re.b:case re.f:case re.g:case re.k:case re.l:case ie.a:case MO.b:case lp.k:case ne.e:case ne.d:case Me.e:case Me.d:case Me.b:case Me.a:case ae.e:case ae.d:case ie.b:case re.p:case re.r:case Ue.b:case GI.a:case GI.b:case zd.i:case BI.f:{const s=t.payload.features;return s?ZS(e,s):e}case se.i:case se.f:case se.m:case se.p:case se.v:case se.h:case se.e:case se.l:case se.o:case se.u:{const s=t.payload.response;return s&&s.features?ZS(e,s.features):e}default:return e}},eT);var sT=(e=!1,t)=>{switch(t.type){case zd.e:return!0;case zd.d:return!1;default:return e}};var rT=(e="en",t)=>(t.type,e),nT=s("./src/reddit/actions/monthsToMinutes/reset.ts");var aT=(e=!1,t)=>{switch(t.type){case rm.e:return t.payload.accountCompleteness.collapsed;case rm.c:return!1;case rm.b:return!0;case nT.a:return!1;default:return e}},cT=s("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),iT=s("./src/reddit/models/MonthsToMinutes/index.ts");const oT=iT.a.Initial;var dT=(e=oT,t)=>{switch(t.type){case rm.e:{const s=t.payload.accountCompleteness;return e!==oT?e:s.step}case cT.a:return t.payload||e;case nT.a:return oT;default:return e}},uT=Object(r.c)({collapsed:aT,step:dT});var lT=(e=!1,t)=>{switch(t.type){case rm.e:case rm.d:return!0;default:return e}},bT=s("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts");const pT=[];var OT=(e=pT,t)=>{switch(t.type){case bT.a:case rm.f:{const s=t.payload;return s.length?s:e}case Op.h:{var s=t.payload;const r=s.nameIdentifiers,n=s.shouldUpdateLoggedOutHomeFeed,a=s.userIsSubscriber;if(!n)return e;const c=r.map(e=>Object(ds.f)(e.name));return a?[...e,...c]:e.filter(e=>-1===c.indexOf(e))}case nT.a:return pT;default:return e}};const fT=[];var mT=(e=fT,t)=>{switch(t.type){case Q_.b:return t.payload.subredditNames||fT;case rm.e:return t.payload.homeFeed.similar;case nT.a:return fT;default:return e}};var jT=(e=!1,t)=>{switch(t.type){case Q_.a:return!0;case rm.e:return t.payload.homeFeed.topBanner.isClosed;case nT.a:return!1;default:return e}};var gT=(e=0,t)=>{switch(t.type){case Q_.d:return e+1;case rm.e:return t.payload.homeFeed.topBanner.viewsCount;case nT.a:return 0;default:return e}},yT=Object(r.c)({isClosed:jT,viewsCount:gT}),_T=s("./src/reddit/actions/monthsToMinutes/post.ts");const ET=[];var hT=(e=ET,t)=>{switch(t.type){case _T.a:{const s=Object(ds.f)(t.payload.subredditName);return[s,...e.filter(e=>e!==s)]}case re.b:{var s=t.payload;const r=s.postId,n=s.posts,a=s.subreddits,c=n[r];if(!c)return e;const i=a[c.belongsTo.id];if(!i)return e;const o=Object(ds.f)(i.name);return[o,...e.filter(e=>e!==o)]}case rm.e:return gI()([...t.payload.homeFeed.views,...e]);default:return e}};const IT={};var ST=(e=IT,t)=>{switch(t.type){case Q_.c:{var s=t.payload;const r=s.id,n=s.subredditName,a=Object(ds.f)(n);return e[r]===a?e:Object.assign({},e,{[r]:a})}case rm.e:return t.payload.homeFeed.votes;case nT.a:return IT;default:return e}},TT=Object(r.c)({similar:mT,topBanner:yT,views:hT,votes:ST});var vT=(e=!1,t)=>{switch(t.type){case bT.a:case rm.f:return t.payload.length>=1||e;case re.i:return!0;case Op.h:{var s=t.payload;const r=s.subscriptionsCount,n=s.userIsSubscriber;return!(1===r&&!n)&&e}case nT.a:return!1;default:return e}};var CT=(e=0,t)=>{switch(t.type){case cT.a:{if(t.payload!==iT.a.BannerVisible)return e;const s=20;return Math.ceil(s*Math.random())+20}case rm.e:return t.payload.postsCount||0;default:return e}},DT=s("./src/reddit/actions/monthsToMinutes/tooltip.ts");const RT={[iT.f.Home]:{},[iT.f.SubscribeFeed]:{},[iT.f.SubscribeIdCard]:{},[iT.f.SubscribeReminder]:{},[iT.f.Vote]:{},[iT.f.VoteReminder]:{},[iT.f.VoteSuccess]:{}};var AT=(e=RT,t)=>{switch(t.type){case rm.e:{var s=t.payload.tooltip;const r=s.homeTooltipTime,n=s.subscribeTooltipTime,a=s.subscribeIdCardTooltipTime,c=s.voteTooltipTime;return e[iT.f.Home].time=r,e[iT.f.SubscribeFeed].time=n,e[iT.f.Vote].time=c,e[iT.f.SubscribeIdCard]={isDismissed:!0,time:a},Object.assign({},e)}case DT.a:{var r=t.payload;const s=r.postId,n=r.time,a=r.tooltipType,c={isDismissed:!1,postId:s,time:n};return Object.assign({},e,{[a]:c})}case DT.b:{const s=t.payload,r=Object.assign({},e[s]);return r.isDismissed=!0,Object.assign({},e,{[s]:r})}case dr.a:{const s=t.payload.id;let r=Object.assign({},e[iT.f.VoteSuccess]);return r.isDismissed||r.postId||(r={isDismissed:!1,postId:s}),Object.assign({},e,{[iT.f.VoteSuccess]:r})}case re.i:{const t=Object.assign({},e[iT.f.Home]);return t.isDismissed=!0,Object.assign({},e,{[iT.f.Home]:t})}case f.a:case zd.g:{const t=Object.assign({},e);return Object.keys(e).map(s=>{const r=Object.assign({},e[s]);(r.postId||r.time)&&(r.isDismissed=!0),t[s]=r}),t}case Wo.e:return Object.assign({},e,{[iT.f.Home]:Object.assign({},e[iT.f.Home],{isDismissed:!0})});case nT.a:return RT;default:return e}};const wT={beforeBanner:0,total:0};var PT=(e=wT,t)=>{switch(t.type){case re.c:return Object.assign({},e,{total:e.total+1});case cT.a:return t.payload!==iT.a.BannerVisible?e:Object.assign({},e,{beforeBanner:e.total});case rm.e:var s=t.payload.views.count;return{beforeBanner:s.beforeBanner,total:s.total+e.total};case nT.a:return Object.assign({},e,{beforeBanner:0});default:return e}};const xT=[];var NT=(e=xT,t)=>{switch(t.type){case re.b:case _T.a:{const s=t.payload.postId;return e.includes(s)?e:[...e,s]}case rm.e:{const s=t.payload;return gI()([...s.views.posts,...e])}case nT.a:return xT;default:return e}},kT=Object(r.c)({count:PT,posts:NT}),LT=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const UT={};var MT=(e=UT,t)=>{switch(t.type){case dr.a:{var s=t.payload;const r=s.id,n=s.vote;if(!Object(ur.a)(r))return e;if(e[r]===n){const t=r;return e[t],LT(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[r]:n})}case rm.e:return t.payload.votes.comments;case nT.a:return UT;default:return e}},FT=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(s[r[n]]=e[r[n]])}return s};const GT={};var BT=(e=GT,t)=>{switch(t.type){case dr.a:{var s=t.payload;const r=s.id,n=s.isInstance,a=s.vote;if(!Object(am.a)(r)||n)return e;if(e[r]===a){const t=r;return e[t],FT(e,["symbol"==typeof t?t:t+""])}return Object.assign({},e,{[r]:a})}case rm.e:return t.payload.votes.posts;case nT.a:return GT;default:return e}},qT=Object(r.c)({comments:MT,posts:BT}),$T=Object(r.c)({accountCompleteness:uT,dataLoaded:lT,feedMultiName:OT,homeFeed:TT,isFrontpageHome:vT,postsCount:CT,tooltips:AT,views:kT,votes:qT});const VT={blob:"",loid:"",loidCreated:"",version:-1};var HT=(e=VT,t)=>{switch(t.type){case BI.e:return t.payload;default:return e}},KT=s("./src/reddit/actions/notifications/constants.ts");var WT=(e=null,t)=>{switch(t.type){case KT.b:return t.payload.error||null;case KT.d:case KT.c:return null;default:return e}};var QT=(e=!1,t)=>{switch(t.type){case KT.d:return!1;case KT.c:return!0;default:return e}};var YT=(e=!1,t)=>{switch(t.type){case KT.d:return!0;case KT.c:case KT.b:return!1;default:return e}},zT=Object(r.c)({error:WT,loaded:QT,pending:YT});var XT=(e=null,t)=>{switch(t.type){case KT.k:return t.payload.error||null;case KT.m:case KT.l:return null;default:return e}};var JT=(e=!1,t)=>{switch(t.type){case KT.m:return!1;case KT.l:return!0;default:return e}};var ZT=(e=!1,t)=>{switch(t.type){case KT.m:return!0;case KT.l:case KT.k:return!1;default:return e}},ev=Object(r.c)({error:XT,loaded:JT,pending:ZT}),tv=Object(r.c)({getPreferences:zT,setPreferences:ev});var sv=(e=!1,t)=>{switch(t.type){case KT.n:return!0;case KT.e:case KT.g:case KT.h:return!1;default:return e}};const rv={chatMessages:!1,trendingPosts:!1,unreadMessages:!1};var nv=(e=rv,t)=>{switch(t.type){case KT.c:case KT.m:case KT.k:{const s=t.payload.preferences;return ss()(s)?e:s}default:return e}},av=Object(r.c)({api:tv,isPrePromptVisible:sv,preferences:nv});const cv={};var iv=(e=cv,t)=>{switch(t.type){case l.a:case u.i:{var s=t.payload;const r=s.subredditId,n=s.userOwnedBadges.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[r]:Object.assign({},e[r]||{},n)})}case j.d:{var r=t.payload;const s=r.userOwnedBadges,n=r.product,a=s.reduce((e,t)=>(e[t]=!0,e),{});return Object.assign({},e,{[n.subredditId]:Object.assign({},e[n.subredditId]||{},a)})}default:return e}},ov=s("./src/reddit/reducers/user/prefs/index.ts");var dv=(e="",t)=>{switch(t.type){case BI.g:return t.payload;default:return e}},uv=s("./src/reddit/actions/session.ts");var lv=(e=null,t)=>{switch(t.type){case uv.a:case uv.b:case uv.c:case uv.e:return t.payload;case uv.d:return null;default:return e}};var bv=(e=!1,t)=>{switch(t.type){case uv.f:return!0;default:return e}};var pv=(e="",t)=>{switch(t.type){case BI.r:return t.payload;default:return e}},Ov=s("./node_modules/lodash/shuffle.js"),fv=s.n(Ov),mv=s("./src/reddit/constants/categories.tsx");const jv=[];var gv=(e=jv,t)=>{switch(t.type){case Wo.d:return fv()(Object.keys(mv.b));default:return e}};var yv=(e=null,t)=>{switch(t.type){case HS.a:{const e=t.payload;return e.identity&&e.identity.isEmployee}default:return e}};var _v=(e=null,t)=>{switch(t.type){case HS.a:return t.payload.isLoggedIn;default:return e}},Ev=Object(r.c)({isEmployee:yv,isLoggedIn:_v});var hv=(e=null,t)=>{switch(t.type){case zd.p:{const s=t.payload.topContentDismissal;return e&&rr()(e,s)?e:Object.assign({},e,s)}default:return e}},Iv=s("./src/reddit/actions/userWhitelist.ts");const Sv={};var Tv=(e=Sv,t)=>{switch(t.type){case Iv.e:return Object.assign({},e,{new:RS.a.pending});case Iv.d:return Object.assign({},e,{new:RS.a.error});case Iv.f:return Object.assign({},e,{new:RS.a.waitingForRequest});case Iv.b:{const s=t.payload.name;return Object.assign({},e,{[s]:RS.a.pending})}case Iv.a:{const s=t.payload.name;return Object.assign({},e,{[s]:RS.a.error})}case Iv.c:{const s=t.payload.name;return Object.assign({},e,{[s]:RS.a.waitingForRequest})}default:return e}};const vv=[];var Cv=(e=vv,t)=>{switch(t.type){case Iv.f:return[t.payload,...e];case Iv.c:{const s=t.payload.name;return e.filter(e=>e.name!==s)}case zd.i:return t.payload.whitelistedUsers;default:return e}},Dv=Object(r.c)({api:Tv,data:Cv}),Rv=Object(r.c)({account:jS,accountSettings:DS,blocked:NS,chatSettings:FS,drafts:BS,experiments:JS,features:tT,isCustomizeFlyoutShowing:sT,topContentDismissalPrefsSet:hv,language:rT,loggedOutData:$T,loid:HT,notificationPrefs:av,ownedBadges:iv,prefs:ov.b,reddaid:dv,session:lv,sessionRefreshFailed:bv,sessionTracker:pv,shuffledCategories:gv,temporaryGQL:Ev,wallets:OS,whitelist:Dv});const Av={};var wv=(e=Av,t)=>{switch(t.type){case ie.b:case Ue.b:case ta.a:case xe.b:case re.b:case ue.e:return Object.assign({},e,t.payload.userFlair);case se.i:case se.f:case se.m:case se.p:case se.v:{const s=t.payload.response.userFlair,r=Object.assign({},e);return Object.keys(s).forEach(e=>{r[e]||(r[e]=s[e])}),r}case ue.i:{var s=t.payload;const r=s.subredditId,n=s.applied,a=s.displaySettings;return Object.assign({},e,{[r]:Object.assign({},e[r],{applied:n,displaySettings:a})})}case te.h:{var r=t.payload;const s=r.subredditId,n=r.applied;return Object.assign({},e,{[s]:Object.assign({},e[s],{applied:n})})}case ue.d:{var n=t.payload;const s=n.subredditId,r=n.isEnabled,a=e[s].displaySettings,c=Object.assign({},a,{isEnabled:r});return Object.assign({},e,{[s]:Object.assign({},e[s],{displaySettings:c})})}case ue.b:{var a=t.payload;const s=a.subredditId,r=a.canAssignOwn,n=e[s].permissions,c=Object.assign({},n,{canAssignOwn:r});return Object.assign({},e,{[s]:Object.assign({},e[s],{permissions:c})})}case ue.h:{const s=t.payload,r=e[s.subredditId],n=e[s.subredditId].templates,a=e[s.subredditId].templateIds,c=Object.assign({},n,{[s.template.id]:s.template}),i=[...a];return i.includes(s.template.id)||i.push(s.template.id),Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templates:c,templateIds:i})})}case ue.c:{const s=t.payload,r=e[s.subredditId],n=e[s.subredditId].templates,a=e[s.subredditId].templateIds,c=ir()(n,s.templateId),i=a.filter(e=>e!==s.templateId);return Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templates:Object.assign({},c),templateIds:i})})}case ue.g:case ue.f:{const s=t.payload,r=e[s.subredditId];return Object.assign({},e,{[s.subredditId]:Object.assign({},r,{templateIds:s.templateIds})})}default:return e}};const Pv={};var xv=(e=Pv,t)=>{switch(t.type){case BI.j:case BI.i:{const s=t.payload.username;return Object.assign({},e,{[s.toLowerCase()]:null})}case BI.h:{var s=t.payload;const r=s.username,n=s.error;return Object.assign({},e,{[r.toLowerCase()]:n})}default:return e}};var Nv=(e=!1,t)=>{switch(t.type){case BI.j:return!0;case BI.i:case BI.h:return!1;default:return e}},kv=Object(r.c)({error:xv,pending:Nv});const Lv={};var Uv=(e=Lv,t)=>{switch(t.type){case l.a:case u.f:{var s=t.payload;const r=s.subredditId,n=s.usersAppliedBadges,a=Object.keys(n).reduce((t,s)=>{const a=n[s];return t[s]=Object.assign({},e[s]||{},{[r]:a}),t},{});return Object.assign({},e,a)}case u.b:{var r=t.payload;const s=r.badgeIds,n=r.subredditId,a=r.userId;return Object.assign({},e,{[a]:Object.assign({},e[a]||{},{[n]:s})})}case u.a:{var n=t.payload;const s=n.previousBadgeIds,r=n.subredditId,a=n.userId;return Object.assign({},e,{[a]:Object.assign({},e[a]||{},{[r]:s})})}case l.b:{var a=t.payload;const s=a.badge,r=a.currentAppliedBadges,n=a.placement,c=a.subredditId,i=a.userId,o=r.filter(e=>e.placement!==n).concat(s).map(e=>e.id);return Object.assign({},e,{[i]:Object.assign({},e[i]||{},{[c]:o})})}default:return e}};const Mv={},Fv=(e,t)=>{const s=Object.keys(t);if(!s.length)return e;const r={};return s.forEach(s=>{const n=e[s],a=t[s];n&&rr()(n,a)||(r[s.toLowerCase()]=a)}),Object.keys(r).length?Object.assign({},e,r):e};var Gv=(e=Mv,t)=>{switch(t.type){case Pe.n:{const s=t.payload.users;return Fv(e,s)}case BI.i:{const s=t.payload.data;return Fv(e,s)}case lp.k:{const s=t.payload.user;return Fv(e,{[s.username]:s})}case fe.q:{var s=t.payload;const r=s.gildee,n=s.gildType;if(!r)return e;const a=e[r.toLowerCase()];if(!a)return e;const c=a.gildedLastMonth,i=Object(br.f)(n);return i?Fv(e,{[r.toLowerCase()]:Object.assign({},a,{gildedLastMonth:Object.assign({},c,{[i]:(c&&c[i]||0)+1})})}):e}default:return e}},Bv=s("./src/reddit/actions/usernameAvailable.ts");const qv={};var $v=(e=qv,t)=>{switch(t.type){case Bv.a:{const s=t.payload.username;return Object.assign({},e,{[s]:Bv.b.Available})}case Bv.c:{const s=t.payload.username;return Object.assign({},e,{[s]:Bv.b.Error})}case Bv.d:{const s=t.payload.username;return Object.assign({},e,{[s]:Bv.b.Pending})}case Bv.e:{const s=t.payload.username;return Object.assign({},e,{[s]:Bv.b.Unavailable})}default:return e}};const Vv={};var Hv=(e=Vv,t)=>{switch(t.type){case p.n:{var s=t.payload;const r=s.subredditId,n=s.wallets,a=Object.keys(n).reduce((t,s)=>{const a=e[s]||{},c=Object.assign({},a,{[r]:n[s]});return Object.assign({},t,{[s]:c})},{});return Object.assign({},e,a)}default:return e}};const Kv={};var Wv=(e=Kv,t)=>{switch(t.type){case Pe.n:{var s=t.payload;const r=s.category,n=s.users;return Object.assign({},e,{[r]:Object.keys(n)})}default:return e}},Qv=Object(r.c)({api:kv,appliedBadges:Uv,models:Gv,nameAvailable:$v,publicWallets:Hv,topOCCreators:Wv});const Yv={};var zv=(e=Yv,t)=>{switch(t.type){case xe.b:case re.b:case ie.b:case de.i:case re.r:case Ue.b:case ta.a:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets.layout.idCardWidget,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return Object.assign({},e,{[a]:r})}default:return e}},Xv=s("./src/reddit/actions/widgets.ts");const Jv={};var Zv=(e=Jv,t)=>{switch(t.type){case xe.b:case re.b:case ie.b:case de.i:case Ue.b:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets.items,n=s.data.content.widgets.layout.topbar.order.filter(e=>r[e]&&"menu"===r[e].kind);if(!n.length)return e;const a=Object.keys(t.payload.subredditAboutInfo||{});if(1!==a.length)return e;const c=a[0];return Object.assign({},e,{[c]:n[0]})}case Xv.c:{const s=t.payload;return"menu"!==s.widget.kind?e:Object.assign({},e,{[s.subredditId]:s.widgetId})}case Xv.d:{const s=t.payload;return e[s.subredditId]===s.widgetId?Object.assign({},e,{[s.subredditId]:null}):e}default:return e}},eC=s("./src/reddit/models/Widgets/index.ts");const tC={};var sC=(e=tC,t)=>{switch(t.type){case ie.b:{const s=t.payload,r=s.structuredStyles&&s.structuredStyles.data&&s.structuredStyles.data.content;if(!r)return e;const n=r.widgets;return Object.assign({},e,n.items)}case y.g:{const s=t.payload;return Object.assign({},e,s.widgets)}case y.h:{const t=Object.assign({},e);return Object.keys(t).forEach(e=>{t[e]=Object.assign({},t[e],{styles:Object(eC.o)()})}),t}case Xv.a:{const s=t.payload;return Object.assign({},e,s.widgets.items)}case Xv.e:case Xv.c:{const s=t.payload;return Object.assign({},e,{[s.widget.id]:s.widget})}case Xv.d:{const s=t.payload,r=Object.assign({},e);return delete r[s.widgetId],r}case xe.b:case re.b:case ie.b:case de.i:case re.r:case Ue.b:case ta.a:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets;return Object.assign({},e,r.items)}case Op.h:{var s=t.payload;const r=s.userIsSubscriber,n=s.nameIdentifiers,a=s.widgetId;if(!a||!e[a]||"community-list"!==e[a].kind)return Object.assign({},e);const c=r,i=e[a],o=i.data.map(e=>{const t=Object.assign({},e);return n.some(e=>e.name===t.name)&&(t.isSubscribed=c),t});return Object.assign({},e,{[a]:Object.assign({},i,{data:o})})}default:return e}};const rC={};var nC=(e=rC,t)=>{switch(t.type){case ie.b:case re.b:case de.i:case Ue.b:{const s=t.payload.structuredStyles;if(!s||!s.data)return e;const r=s.data.content.widgets.layout.moderatorWidget,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return Object.assign({},e,{[a]:r})}default:return e}};const aC={};var cC=(e=aC,t)=>{switch(t.type){case ie.b:case Ue.b:case ta.a:{const s=t.payload,r=s.structuredStyles&&s.structuredStyles.data&&s.structuredStyles.data.content;if(!r)return e;const n=Object.keys(s.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0],c=r.widgets.layout.sidebar.order;return Object.assign({},e,{[a]:c})}case y.g:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.sidebar})}case Xv.a:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.widgets.layout.sidebar.order})}case Xv.b:{const s=t.payload;return Object.assign({},e,{[s.subredditId]:s.widgetIds})}case Xv.c:{const s=t.payload;if("menu"===s.widget.kind)return e;if(!e[s.subredditId])return Object.assign({},e,{[s.subredditId]:[s.widgetId]});const r=e[s.subredditId].concat(s.widgetId);return Object.assign({},e,{[s.subredditId]:r})}case Xv.d:{const s=t.payload;if(!e[s.subredditId])return e;const r=e[s.subredditId].filter(e=>e!==s.widgetId);return Object.assign({},e,{[s.subredditId]:r})}case xe.b:case re.b:case ie.b:case re.r:case de.i:case Ue.b:case ta.a:{const s=t.payload.structuredStyles;if(!(s&&s.data&&s.data.content.widgets))return e;const r=s.data.content.widgets.layout.sidebar.order,n=Object.keys(t.payload.subredditAboutInfo||{});if(1!==n.length)return e;const a=n[0];return Object.assign({},e,{[a]:r})}default:return e}},iC=Object(r.c)({idCardIds:zv,menuIds:Zv,models:sC,moderatorIds:nC,sidebar:cC});t.a=Object(r.c)({accountManagerModalData:o,activeModalId:E,ads:T,apiRequestState:D,approvedSubmitters:z,authorFlair:Oe,awards:Xe,badges:lt,banned:wt,blockUser:Mt,brandSafety:Bt,categories:bs,chat:Ps,claimGold:Gs,comments:Ar,commentsPage:tn,contentGate:nn,continueThreads:on,creations:rc,dashboard:cc,discoveryUnits:mc,economics:wc,emojis:kc,externalAccount:ui,featureFlags:mi,flairedUsers:wi,fontFiles:Ni,gameOfThronesEvent:Vi,gild:no,goldPurchase:Ho,header:Yo,imageUploads:Jo,isEmailVerificationTooltipShowing:ed,isModeratorWithPostPerms:sd,jsApi:ad,leaderboard:gd,listings:su,live:au,mediaPlayback:cu.a,meta:n.a,moderatingSubreddits:ou,moderationLog:Iu,moderators:ul,modListingPage:jl,modModeEnabled:yl,modQueue:_b,moreComments:Rb,multireddits:yp,muted:Mp,news:nO,notificationBannerId:cO,nps:dO,oldSiteRules:bO,originalContent:UO,partnerSubredditConnection:WO,platform:XO,postCollection:Rf,polls:jf,postFlair:kf,posts:Im,postStickiedComments:Cm,givePremium:uo,products:qm,profileCommentsPage:rj,profilePrivatePage:tg,profileModSettingsPage:ij,profileOverviewPage:$j,profilePostsPage:Hj,profiles:kg,providerFlair:$g,promos:Gg,recommendations:Hg,removalReasons:sy,reportFlow:py,reportPage:hy,requestHost:Iy,runTimeEnvVars:Ty,search:Uy,searchDiscoveryUnits:Hy,shortcuts:t_,sidebarPromotedPosts:n_,sitewideRules:i_,structuredStyles:T_,stylesheets:v_,subredditAutocomplete:k_,subredditChannels:W_,subreddits:Gh,subredditSettings:Jh,subredditStickyPosts:tI,subscriptions:II,tags:FI,themes:VI,toaster:WI,tooltipId:a.a,tracking:XI,transfers:nS,trending:iS,trophies:dS,uploads:bS,user:Rv,userFlair:wv,users:Qv,widgets:iC})},"./src/reddit/reducers/sidebarPromotedPosts/models/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./src/reddit/actions/ads/constants.ts");!function(e){e[e.FRONTPAGE=0]="FRONTPAGE",e[e.COMMENTS_OVERLAY=1]="COMMENTS_OVERLAY",e[e.COMMENTS=2]="COMMENTS",e[e.SUBREDDIT=3]="SUBREDDIT",e[e.MULTIREDDIT=4]="MULTIREDDIT",e[e.SEARCH_RESULTS=5]="SEARCH_RESULTS"}(r||(r={}));const a={};t.b=((e=a,t)=>{switch(t.type){case n.f:case n.d:{const s=t.payload;return Object.assign({},e,s)}case n.e:case n.f:return e;case n.h:return a;default:return e}})},"./src/reddit/reducers/tags/selected/index.ts":function(e,t,s){"use strict";var r=s("./node_modules/lodash/uniqWith.js"),n=s.n(r),a=s("./node_modules/lodash/values.js"),c=s.n(a),i=s("./src/reddit/actions/tags.ts");const o=e=>!e.id,d=e=>!!e.id,u=(e,t)=>o(e)&&o(t)?e.displayText.toLowerCase().trim()===t.displayText.toLowerCase().trim():!(!d(e)||!d(t))&&e.id===t.id;var l,b=s("./src/reddit/models/Tags/index.ts");s.d(t,"a",function(){return l}),function(e){e.ADD="ADD",e.REMOVE="REMOVE"}(l||(l={}));const p={selectedOptions:{},deselectedOptions:{},inputByItemId:{}};t.b=((e=p,t)=>{switch(t.type){case i.i:{var s=t.payload;const r=s.subredditId,a=s.itemTags,i=n()([...(e.selectedOptions[r]||[]).map(e=>{if(!e.id){const t=c()(a[r]||{}).find(t=>e.displayText.toLowerCase().trim()===t.tag.text.toLowerCase().trim());if(t)return Object.assign({},Object(b.d)(t,!0),{action:null})}return e}),...c()(a[r]||{}).map(e=>Object.assign({},Object(b.d)(e,!0),{action:null}))],u);return Object.assign({},e,{selectedOptions:Object.assign({},e.selectedOptions,{[r]:i.map(e=>Object.assign({},e,{action:e.id?null:e.action}))}),deselectedOptions:Object.assign({},e.deselectedOptions,{[r]:[]})})}case i.p:{var r=t.payload;const s=r.subredditId,a=r.option,c=(e.deselectedOptions[s]||[]).slice(),i=c.findIndex(e=>u(e,a));let o=l.ADD;return i>-1&&(o=null,c.splice(i,1)),Object.assign({},e,{selectedOptions:Object.assign({},e.selectedOptions,{[s]:n()([...e.selectedOptions[s]||[],Object.assign({},a,{action:o})],u)}),deselectedOptions:Object.assign({},e.deselectedOptions,{[s]:c})})}case i.o:{var a=t.payload;const s=a.subredditId,r=a.option,n=(e.deselectedOptions[s]||[]).slice(),c=(e.selectedOptions[s]||[]).slice(),i=c.findIndex(e=>u(e,r));return i>-1&&(null===c[i].action&&n.push(Object.assign({},c[i],{action:l.REMOVE})),c.splice(i,1)),Object.assign({},e,{selectedOptions:Object.assign({},e.selectedOptions,{[s]:c}),deselectedOptions:Object.assign({},e.deselectedOptions,{[s]:n})})}case i.n:{var o=t.payload;const s=o.subredditId,r=o.input;return Object.assign({},e,{inputByItemId:Object.assign({},e.inputByItemId,{[s]:r})})}default:return e}})},"./src/reddit/reducers/user/prefs/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var r,n=s("./node_modules/lodash/isEqual.js"),a=s.n(n),c=s("./node_modules/lodash/merge.js"),i=s.n(c),o=s("./node_modules/lodash/pick.js"),d=s.n(o),u=s("./src/lib/constants/index.ts"),l=s("./src/reddit/actions/comment.ts"),b=s("./src/reddit/actions/contentGate.ts"),p=s("./src/reddit/actions/frontpage.ts"),O=s("./src/reddit/actions/header.ts"),f=s("./src/reddit/actions/modQueue/constants.ts"),m=s("./src/reddit/actions/originalContent.ts"),j=s("./src/reddit/actions/page.ts"),g=s("./src/reddit/actions/pages/collectionCommentsPage.ts"),y=s("./src/reddit/actions/pages/modListing/constants.ts"),_=s("./src/reddit/actions/pages/news/index.ts"),E=s("./src/reddit/actions/pages/originalContent.ts"),h=s("./src/reddit/actions/pages/partnerSubredditConnection.ts"),I=s("./src/reddit/actions/pages/postCreation.ts"),S=s("./src/reddit/actions/pages/postDraft.ts"),T=s("./src/reddit/actions/pages/profileComments.ts"),v=s("./src/reddit/actions/pages/profileOverview.ts"),C=s("./src/reddit/actions/pages/profilePosts.ts"),D=s("./src/reddit/actions/pages/subreddit.ts"),R=s("./src/reddit/actions/postCreation/constants.ts"),A=s("./src/reddit/actions/postDraft.ts"),w=s("./src/reddit/actions/preferences.ts"),P=s("./src/reddit/actions/redditEmbed.ts"),x=s("./src/reddit/actions/search.ts"),N=s("./src/reddit/actions/structuredStyles.ts"),k=s("./src/reddit/actions/subreddit.ts"),L=s("./src/reddit/actions/users.ts"),U=s("./src/reddit/constants/postLayout.ts"),M=s("./src/reddit/constants/preferences.ts"),F=s("./src/reddit/constants/theme.ts"),G=s("./src/reddit/models/PostCreationForm/index.ts"),B=s("./src/reddit/models/PostDraft/index.ts"),q=s("./src/reddit/models/User/index.ts");!function(e){e.Whitelisted="whitelisted",e.Everyone="everyone"}(r||(r={}));const $=[...["acceptPrivateMessages","allowClickTracking","autoplayVideo","collapseReadMessages","defaultCommentSort","emailDigests","emailUnreadMessages","emailUnsubscribe","geopopular","hideAds","hideFromRobots","hideNSFW","highlightComments","ignoreSuggestedSort","inBeta","labelNSFW","markMessagesRead","nightmode","over18","showMessagesInInbox","showNotifications","showTwitter","showUsernameMentionNotifications","showActiveCommunities"],...M.a],V={acceptPrivateMessages:void 0,allowClickTracking:!1,autoplayVideo:!0,collapsedTraySections:q.a,commentMode:G.h.RICH_TEXT,layout:U.c.Card,rememberCommunityLayout:!1,defaultCommentSort:u.t.CONFIDENCE,editorMode:G.h.RICH_TEXT,featuresViewedHistory:q.b,geopopular:void 0,globalTheme:F.a,hamburgerTray:void 0,hasSeenCustomizeFlyout:!0,hideNSFW:!0,ignoreSuggestedSort:!1,labelNSFW:!0,markMessagesRead:!0,nightmode:!1,openPostInNewTab:!1,over18:!1,profileLayout:void 0,showActiveCommunities:!0,showTwitter:!1,sort:u.Z.Hot,stylesEnabled:!0,subreddit:{},subscriptionsPinned:void 0,topContentDismissalTime:0,topContentTimesDismissed:0,rememberCommunitySort:!1,useMarkdown:!1},H={isContributorRequestTimestamp:0,stylesEnabled:!0,layout:void 0,sort:void 0},K=(e,t)=>{if(!t)return e;const s=d()(Object.assign({},t.account,t),$),r=t.subreddit,n=Object.assign({},e.subreddit);Object.keys(r||{}).forEach(e=>{n[e]=Object.assign({},H,r&&r[e])});const c=Object.assign({},e,s,{subreddit:n});if(c.useMarkdown!==e.useMarkdown){const e=c.useMarkdown?G.h.MARKDOWN:G.h.RICH_TEXT;c.editorMode=e,c.commentMode=e}return a()(c,e)?e:c},W=(e,t,s)=>K(e,{subreddit:{[t]:Object.assign({},H,e.subreddit[t],s)}});t.b=((e=V,t)=>{switch(t.type){case l.l:case l.r:{const s=t.payload.editorMode;return Object.assign({},e,{commentMode:s})}case R.t:case R.P:{const s=t.payload.editorMode;return Object.assign({},e,{editorMode:s})}case O.e:return Object.assign({},e,{subscriptionsPinned:!0});case O.f:return Object.assign({},e,{subscriptionsPinned:!1});case A.g:{const s=t.payload.kind;return Object.assign({},e,{editorMode:s===B.b.Markdown?G.h.MARKDOWN:G.h.RICH_TEXT})}case w.g:{const s=t.payload.layout;return e.layout===s?e:Object.assign({},e,{layout:s})}case w.n:{var s=t.payload;const r=s.layout,n=s.subredditId;return W(e,n,{layout:r})}case w.e:return Object.assign({},e,{hasSeenCustomizeFlyout:!0});case w.l:return e.profileLayout===t.payload.profileLayout?e:Object.assign({},e,{profileLayout:t.payload.profileLayout});case b.d:return Object.assign({},e,{over18:!0});case w.b:return void 0!==t.payload?Object.assign({},e,{autoplayVideo:t.payload.autoplayVideo}):e;case w.h:return void 0!==t.payload?Object.assign({},e,{nightmode:t.payload.nightmode}):e;case w.p:if(void 0!==t.payload){var r=t.payload;const s=r.topContentDismissalTime,n=r.topContentTimesDismissed;return Object.assign({},e,{topContentDismissalTime:s,topContentTimesDismissed:n})}return e;case N.d:return t.payload.isNightmodeOn?Object.assign({},e,{nightmode:!1,nightmodeTempUpdated:!0}):e;case N.e:return t.payload.nightmodeTempUpdated?Object.assign({},e,{nightmode:!0,nightmodeTempUpdated:!1}):e;case w.f:return void 0!==t.payload?Object.assign({},e,{hamburgerTray:t.payload.set}):Object.assign({},e,{hamburgerTray:!e.hamburgerTray});case w.c:return void 0!==t.payload?Object.assign({},e,{collapsedTraySections:i()({},e.collapsedTraySections,t.payload)}):e;case L.b:case L.c:return Object.assign({},e,{featuresViewedHistory:i()({},e.featuresViewedHistory,t.payload)});case b.a:case b.b:case b.e:case b.c:case b.f:case y.e:case y.h:case _.b:case E.b:case g.a:case j.a:case g.b:case j.b:case g.d:case j.d:case j.g:case D.b:case j.l:case j.k:case h.b:case T.e:case v.e:case v.b:case C.e:case p.b:case m.e:case k.i:case x.c:case P.b:case I.b:case S.a:case w.i:case j.r:case w.a:case L.f:return t.payload&&t.payload.preferences?K(e,t.payload.preferences):e;case w.o:{var n=t.payload;const s=n.subredditId,r=n.prefs;return W(e,s,r)}case T.d:case v.d:case v.a:case C.d:if(t.payload&&t.payload.account){const s=t.payload.account.nightmode;if(e.nightmode!==s)return Object.assign({},e,{nightmode:s})}return e;case f.h:case f.j:case f.i:case f.g:case f.f:case f.n:case f.m:case f.p:case f.q:case f.w:case f.v:return t.payload&&t.payload.response&&t.payload.response.preferences?K(e,t.payload.preferences):e;case w.m:{const s=t.payload.additional.showActiveCommunities;return e.showActiveCommunities!==s?Object.assign({},e,{showActiveCommunities:s}):e}default:return e}})},"./src/reddit/routes/modListing/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return u});var r=s("./node_modules/lodash/flatten.js"),n=s.n(r),a=s("./src/lib/constants/index.ts"),c=s("./src/reddit/actions/pages/modListing/index.ts");const i="/r/mod",o="/me/f/mod",d=[i,o],u=e=>e.startsWith(o),l=n()(d.map(e=>Object.keys(a.X).map(t=>`${e}/:sort(${a.X[t]})?`))).map(e=>({path:e,action:c.b,chunk:a.r.MOD_LISTING,exact:!0,meta:{name:a.Rb.MOD_LISTING},pretfetches:[a.r.SUBREDDIT,a.r.COMMENTS_PAGE]}));t.c=l},"./src/reddit/routes/partnerSubredditConnection/constants.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r="/subreddits/connect"},"./src/reddit/routes/postCreation/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return d});var r=s("./src/lib/constants/index.ts"),n=s("./src/reddit/actions/pages/postCreation.ts"),a=s("./src/reddit/routes/postCreation/constants.ts");const c=[a.c,a.d,a.b,a.a],i=e=>a.d.replace(/:subredditName/,e),o=e=>a.b.replace(/:profileName/,e),d=e=>e.split("?")[0]===a.a,u=c.map(e=>({path:e,action:n.e,chunk:r.r.POST_CREATION,exact:!0,meta:{name:r.Rb.POST_CREATION},prefetches:[r.r.COMMENTS_PAGE]}));t.a=u},"./src/reddit/selectors/brandSafety.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return b}),s.d(t,"e",function(){return p}),s.d(t,"b",function(){return O});var r=s("./src/lib/constants/index.ts"),n=s("./src/lib/isFakeSubreddit/index.ts"),a=s("./src/reddit/contexts/PageLayer/selectors.ts"),c=s("./src/reddit/models/WhitelistStatus/index.ts"),i=s("./src/reddit/selectors/posts.ts"),o=s("./src/reddit/selectors/subreddit.ts");const d=new Set([r.X.NEW,r.X.RISING,r.X.CONTROVERSIAL]),u=e=>e.brandSafety.hasBrandSafetyBeenAssessed,l=(e,{postId:t})=>{const s=Object(i.F)(e,{postId:t}),r=Object(i.Q)(e,{postId:t});return!(!s||!r)&&(r.wls===c.a.ALL_ADS&&!s.isNSFW)},b=e=>e.brandSafety.isViewSafe,p=e=>!e.brandSafety.isViewSafe,O=(e,t)=>{const s=t.listingName,r=t.pageLayer,i=Object(o.C)(e,{subredditName:s}),u=Object(a.b)(e,{pageLayer:r});return(!u||!d.has(u))&&(!(i||!Object(n.a)(s))||!!i&&i.wls===c.a.ALL_ADS)}},"./src/reddit/selectors/claimgold.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n});const r=e=>e.claimGold.code,n=e=>e.claimGold.showModal},"./src/reddit/selectors/communityAwards.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"d",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"g",function(){return d}),s.d(t,"f",function(){return u});var r=s("./src/lib/objectSelector/index.ts");const n=e=>e.awards.create.api.pending,a=Object(r.a)((e,{subredditId:t})=>{const s=e.awards.manageable.order[t];return s?s.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),c=(e,{subredditId:t})=>e.awards.manageable.api.pending[t],i=(e,t)=>t.reduce((t,s)=>{const r=e.awards.models[s];return r&&t.push(r),t},[]),o=(e,t)=>e.awards.models[t],d=Object(r.a)((e,{subredditId:t})=>{const s=e.awards.usable.order[t];return s?s.map(t=>e.awards.models[t]).filter(e=>e.isEnabled):[]}),u=(e,{subredditId:t})=>e.awards.usable.api.pending[t]},"./src/reddit/selectors/experiments/inFeedChaining.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return u}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return b}),s.d(t,"d",function(){return p});var r=s("./node_modules/reselect/es/index.js"),n=s("./src/reddit/constants/experiments.ts"),a=s("./src/reddit/helpers/chooseVariant/index.ts"),c=s("./src/reddit/selectors/experiments/utils.ts"),i=s("./src/reddit/selectors/user.ts");const o=Object(r.createSelector)(e=>Object(a.b)(e,{experimentEligibilitySelector:i.I,experimentName:n.jb}),c.a),d=Object(r.createSelector)(e=>Object(a.b)(e,{experimentEligibilitySelector:e=>!Object(i.I)(e),experimentName:n.kb}),c.a),u=Object(r.createSelector)(o,d,(e,t)=>e||t),l=Object(r.createSelector)(u,e=>!!e),b=e=>e===n.ob.FactorizationSimilar,p=e=>e===n.ob.SimilarPost},"./src/reddit/selectors/experiments/postSeo.ts":function(e,t,s){"use strict";s.d(t,"C",function(){return u}),s.d(t,"p",function(){return l}),s.d(t,"c",function(){return b}),s.d(t,"f",function(){return p}),s.d(t,"s",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"A",function(){return m}),s.d(t,"q",function(){return j}),s.d(t,"B",function(){return g}),s.d(t,"t",function(){return y}),s.d(t,"o",function(){return _}),s.d(t,"r",function(){return E}),s.d(t,"u",function(){return h}),s.d(t,"v",function(){return I}),s.d(t,"i",function(){return S}),s.d(t,"j",function(){return T}),s.d(t,"a",function(){return v}),s.d(t,"b",function(){return C}),s.d(t,"w",function(){return D}),s.d(t,"e",function(){return R}),s.d(t,"k",function(){return A}),s.d(t,"y",function(){return w}),s.d(t,"h",function(){return P}),s.d(t,"g",function(){return x}),s.d(t,"z",function(){return N}),s.d(t,"l",function(){return k}),s.d(t,"m",function(){return L}),s.d(t,"n",function(){return U}),s.d(t,"x",function(){return M});var r=s("./node_modules/reselect/es/index.js"),n=s("./src/reddit/constants/experiments.ts"),a=s("./src/reddit/helpers/chooseVariant/index.ts"),c=s("./src/reddit/selectors/experiments/utils.ts"),i=s("./src/reddit/selectors/meta.ts"),o=s("./src/reddit/selectors/user.ts");const d=e=>{return"reddit.com"!==Object(i.f)(e).split(".").splice(1).join(".")},u=e=>{const t=d(e);return Object(a.b)(e,{experimentName:n.N,experimentEligibilitySelector:e=>!Object(o.I)(e)&&t})},l=e=>e===n.X.LeftRightRailSwap,b=e=>e===n.X.DUOnBottom,p=e=>e===n.X.ListingOnBottom,O=e=>e===n.X.ListingOnBottom||e===n.X.DUOnBottom,f=e=>e===n.X.ListingOnBottom||e===n.X.DUOnBottom,m=e=>{const t=d(e);return Object(a.b)(e,{experimentName:n.U,experimentEligibilitySelector:e=>!Object(o.I)(e)&&t})},j=e=>e===n.db.Treatment,g=e=>{const t=d(e);return Object(a.b)(e,{experimentName:n.V,experimentEligibilitySelector:e=>!Object(o.I)(e)&&t})},y=e=>e===n.eb.Truncate,_=e=>e===n.eb.SmallBanner,E=e=>e===n.eb.Both,h=e=>{const t=d(e);return Object(a.b)(e,{experimentName:n.O,experimentEligibilitySelector:()=>t})},I=e=>{const t=d(e);return Object(a.b)(e,{experimentName:n.P,experimentEligibilitySelector:()=>t})},S=e=>e===n.Z.NoActions,T=e=>e===n.Z.NoAds,v=e=>e===n.Z.NoWidgets,C=e=>e===n.Z.Combined,D=e=>{const t=d(e);return Object(a.b)(e,{experimentName:n.Q,experimentEligibilitySelector:()=>t})},R=e=>e===n.ab.IdCard,A=e=>e===n.ab.RailSwap,w=e=>{const t=d(e);return Object(c.a)(Object(a.b)(e,{experimentName:n.S,experimentEligibilitySelector:()=>t}))},P=e=>e===n.bb.Narrow,x=e=>e===n.bb.NarrowCard,N=e=>{const t=d(e);return Object(c.a)(Object(a.b)(e,{experimentName:n.T,experimentEligibilitySelector:()=>t}))},k=e=>e===n.cb.SeeMoreComments,L=e=>e===n.cb.SeeMorePosts,U=e=>e===n.cb.SeeRecommended,M=Object(r.createSelector)(e=>Object(a.b)(e,{experimentName:n.R,experimentEligibilitySelector:e=>d(e)}),c.a)},"./src/reddit/selectors/experiments/railsSearchResults.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});var r=s("./src/reddit/constants/experiments.ts"),n=s("./src/reddit/helpers/chooseVariant/index.ts"),a=s("./src/reddit/selectors/user.ts");const c=e=>Object(a.G)(e)||r.lb.Treatment1===Object(n.b)(e,{experimentEligibilitySelector:n.a,experimentName:r.gb}),i=e=>r.mb.Treatment1===Object(n.b)(e,{experimentEligibilitySelector:n.a,experimentName:r.hb}),o=e=>r.r.Disabled===Object(n.b)(e,{experimentEligibilitySelector:n.a,experimentName:r.o})},"./src/reddit/selectors/experiments/upsellSignupModal.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return d});var r=s("./node_modules/reselect/es/index.js"),n=s("./src/reddit/constants/experiments.ts"),a=s("./src/reddit/helpers/chooseVariant/index.ts"),c=s("./src/reddit/selectors/experiments/utils.ts");const i=Object(r.createSelector)(e=>Object(a.b)(e,{experimentEligibilitySelector:e=>!e.user.temporaryGQL.isLoggedIn,experimentName:n.f}),c.a),o=e=>e===n.j.CustomMessageNewUI||e===n.j.CustomMessageNewUIEmail,d=e=>e===n.j.CustomMessageNewUIEmail},"./src/reddit/selectors/externalAccount.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"e",function(){return l}),s.d(t,"a",function(){return b}),s.d(t,"d",function(){return p});var r=s("./src/reddit/constants/posts.ts"),n=s("./src/reddit/models/ExternalAccount/index.ts"),a=s("./src/reddit/models/User/index.ts"),c=s("./src/reddit/selectors/user.ts");const i=(e,{username:t})=>!!e.externalAccount.api.user.pending[t],o=(e,{username:t})=>e.externalAccount.user[t],d=e=>{const t=Object(c.j)(e);if(!t)return;const s=Object(a.f)(t),r=o(e,{username:s});return r?r.twitter:void 0},u=e=>!!e.externalAccount.api.connect.pending[n.a.Twitter],l=(e,{profileName:t})=>{if(!t)return null;const s=o(e,{username:t});if(!s)return null;const r=s[n.a.Twitter];if(!r)return null;const i=Object(c.j)(e);if(!(i&&Object(a.f)(i).toLowerCase()===t.toLowerCase()))return r;const d=Object(c.gb)(e,{userName:t});return d?d.prefShowTwitter?r:null:r},b=(e,t)=>{if(Object(c.j)(e)){const s=p(e,t);if(s)return!!s.currentUserIsSupporter}return!1},p=(e,t)=>{const s=t.name,a=t.type;let c;return a===r.a.SUBREDDIT?c=((e,{subredditName:t})=>e.externalAccount.subreddit[t])(e,{subredditName:s}):a===r.a.PROFILE&&(c=o(e,{username:s})),c?c[n.a.Patreon]:null}},"./src/reddit/selectors/gameOfThrones.ts":function(e,t,s){"use strict";s.d(t,"q",function(){return f}),s.d(t,"t",function(){return m}),s.d(t,"s",function(){return j}),s.d(t,"r",function(){return g}),s.d(t,"w",function(){return y}),s.d(t,"v",function(){return _}),s.d(t,"u",function(){return E}),s.d(t,"p",function(){return h}),s.d(t,"o",function(){return I}),s.d(t,"n",function(){return S}),s.d(t,"m",function(){return T}),s.d(t,"e",function(){return C}),s.d(t,"d",function(){return D}),s.d(t,"f",function(){return R}),s.d(t,"b",function(){return A}),s.d(t,"c",function(){return w}),s.d(t,"a",function(){return P}),s.d(t,"k",function(){return x}),s.d(t,"j",function(){return N}),s.d(t,"l",function(){return k}),s.d(t,"h",function(){return L}),s.d(t,"g",function(){return U}),s.d(t,"i",function(){return M});var r=s("./src/lib/env/index.ts"),n=s("./src/lib/makeListingKey/index.ts"),a=s("./src/reddit/constants/experiments.ts"),c=s("./src/reddit/constants/gameOfThrones.ts"),i=s("./src/reddit/featureFlags/index.ts"),o=s("./src/reddit/helpers/chooseVariant/index.ts");const d=e=>i.d.gameOfThronesEvent(e),u=e=>{const t=Object(r.b)()?a.y:a.z,s=a.B.GOTEnabled;return Object(o.b)(e,{experimentEligibilitySelector:o.a,experimentName:t})===s},l=e=>{const t=e.platform&&e.platform.currentPage;return"1"===(t&&t.queryParams||{}).should_show_got_event},b=e=>!!e.user.temporaryGQL.isLoggedIn,p=e=>i.d.isGOTPriorPremiereWeek(e),O=e=>i.d.isGOTRepeatActive(e),f=e=>d(e)&&!!A(e)||l(e)&&!!A(e),m=e=>d(e)&&u(e)&&p(e)&&!A(e)||l(e)&&!A(e),j=e=>d(e)&&p(e)&&!A(e)&&L(e),g=e=>d(e)&&u(e)&&!b(e)&&!A(e)&&U(e),y=e=>d(e)&&u(e)&&O(e)&&!A(e),_=e=>d(e)&&(e=>i.d.isAfterGOTPremiere(e))(e)&&(e=>i.d.isBeforeGOTEnd(e))(e)&&!A(e)&&L(e),E=e=>d(e)&&u(e)&&b(e)&&!A(e)&&U(e),h=e=>d(e)&&O(e)&&!!A(e)||l(e),I=e=>d(e)||l(e),S=e=>d(e)&&L(e),T=e=>d(e)&&U(e),v=e=>e.gameOfThronesEvent.models,C=e=>{const t=v(e);return t&&t.polls&&t.polls[0]?t.polls[0]:null},D=e=>{const t=v(e);if(t&&t.polls&&t.polls[0]){return t.polls[0].questions[0].answers}return null},R=e=>{const t=v(e);if(t&&t.polls&&t.polls[0]){return t.polls[0].questions[0]}return null},A=e=>{const t=v(e);if(t&&t.polls&&t.polls[0]){const e=t.polls[0],s=e.questions[0].answers,r=e.questions[0].answeredId;let n=null;return s.forEach(e=>{e.id===r&&(n=e)}),n}return null},w=e=>{const t=A(e);let s=null;return t&&(s=t.subreddit),s},P=e=>Object(n.a)(`gameOfThronesCommunityEvent--${e.name}`,c.b),x=e=>{return e.gameOfThronesEvent.api.pending.gotPollGetPending},N=e=>{return e.gameOfThronesEvent.api.error.gotPollGetError},k=e=>{return e.gameOfThronesEvent.api.pending.gotPollSubmitPending},L=e=>{const t=e.platform.currentPage;if(t){const e=t.meta,s=t.urlParams,r="subreddit"===(e&&e.name||""),n="gameofthrones"===(s&&s.subredditName||"").toLowerCase();return r&&n}return!1},U=e=>{const t=e.platform.currentPage;if(t){const e=t.meta,s=t.urlParams,r="comments"===(e&&e.name||""),n="gameofthrones"===(s&&s.subredditName||"").toLowerCase();return r&&n}return!1},M=e=>{return e.gameOfThronesEvent.components.isPledgeBannerAndThronePoolClosed}},"./src/reddit/selectors/gild.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"c",function(){return n}),s.d(t,"i",function(){return a}),s.d(t,"f",function(){return c}),s.d(t,"g",function(){return i}),s.d(t,"h",function(){return o}),s.d(t,"b",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"a",function(){return l});const r=e=>e.gild.gildModalThingId,n=(e,t)=>e.gild.gildModalThingId===t,a=e=>e.gild.gildType,c=e=>e.gild.includeMessage,i=e=>e.gild.isAnonymous,o=e=>e.gild.isIframed,d=e=>e.gild.message,u=e=>e.gild.api.pending,l=e=>e.gild.api.error},"./src/reddit/selectors/goldPurchaseModals.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return n}),s.d(t,"d",function(){return a}),s.d(t,"c",function(){return c}),s.d(t,"p",function(){return i}),s.d(t,"q",function(){return o}),s.d(t,"u",function(){return d}),s.d(t,"e",function(){return u}),s.d(t,"j",function(){return l}),s.d(t,"s",function(){return b}),s.d(t,"t",function(){return p}),s.d(t,"r",function(){return O}),s.d(t,"v",function(){return f}),s.d(t,"h",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"k",function(){return g}),s.d(t,"m",function(){return y}),s.d(t,"n",function(){return _}),s.d(t,"l",function(){return E}),s.d(t,"o",function(){return h}),s.d(t,"g",function(){return I}),s.d(t,"f",function(){return S});const r=e=>e.goldPurchase.coinPurchaseModal.activePage,n=e=>e.goldPurchase.coinPurchaseModal.gildThingId||void 0,a=e=>e.goldPurchase.coinPurchaseModal.showModal,c=e=>e.goldPurchase.coinPurchaseModal.purchasePackage,i=e=>e.goldPurchase.premiumPurchaseModal.activePage,o=e=>e.goldPurchase.premiumPurchaseModal.showModal,d=e=>e.goldPurchase.updateCardModal.pending,u=e=>e.goldPurchase.payment.paymentMethod,l=e=>e.goldPurchase.payment.cardName,b=e=>e.goldPurchase.payment.savedCardsPending,p=e=>e.goldPurchase.payment.savedCards,O=e=>e.goldPurchase.payment.rememberCard,f=e=>e.goldPurchase.payment.useSavedCard,m=e=>e.goldPurchase.payment.cardValidation.cardCvc,j=e=>e.goldPurchase.payment.cardValidation.cardExpiry,g=e=>e.goldPurchase.payment.cardValidation.cardNumber,y=e=>e.goldPurchase.payment.cardValidation.nameOnCard,_=e=>e.goldPurchase.payment.cardValidation.postalCode,E=e=>e.goldPurchase.payment.stripeToken.errorMessage,h=e=>e.goldPurchase.payment.stripeToken.pending,I=e=>e.goldPurchase.payment.paypal.passthrough,S=e=>e.goldPurchase.payment.paypal.errorMessage},"./src/reddit/selectors/imageUploads.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return a});var r=s("./src/reddit/models/Image/index.tsx");const n=e=>e.imageUploads,a=(e,t)=>{const s=n(e),a=[];for(const n in s){const e=s[n];e.kind===r.b.TempUploaded&&e.context===t&&a.push(e)}return a}},"./src/reddit/selectors/inFeedChaining.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return g}),s.d(t,"c",function(){return y}),s.d(t,"a",function(){return _}),s.d(t,"f",function(){return E}),s.d(t,"e",function(){return h}),s.d(t,"g",function(){return T}),s.d(t,"b",function(){return v});var r=s("./node_modules/reselect/es/index.js"),n=s("./src/lib/constants/index.ts"),a=s("./src/lib/isFakeSubreddit/index.ts"),c=s("./src/lib/makeListingKey/index.ts"),i=s("./src/lib/objectSelector/index.ts"),o=s("./src/reddit/actions/recommendations.ts"),d=s("./src/reddit/actions/subreddit/similarSubreddit.ts"),u=s("./src/reddit/constants/inFeedChaining.ts"),l=s("./src/reddit/endpoints/subreddit/similar.ts"),b=s("./src/reddit/models/DiscoveryUnit/index.ts"),p=s("./src/reddit/selectors/discoveryUnit.ts"),O=s("./src/reddit/selectors/experiments/inFeedChaining.ts"),f=s("./src/reddit/selectors/posts.ts"),m=s("./src/reddit/selectors/subreddit.ts");const j=[],g=(e,t)=>{const s=e.posts.chained.idToListingKey[t.postId];return t.listingKey===s},y=(e,t)=>{const s=e.posts.chained.dismissedIdToListingKey[t.postId];return t.listingKey===s},_=Object(r.createSelector)(e=>e.posts.chained.idToListingKey,e=>Object.keys(e).filter(t=>e[t])),E=(e,{subredditId:t})=>{return _(e).some(s=>{const r=Object(f.Q)(e,{postId:s});return!!r&&r.id===t})},h=(e,{listingName:t})=>{const s=Object(O.a)(e);return!!s&&(Object(O.d)(s)||!!t&&!Object(a.a)(t))},I=(e,{subredditName:t})=>{const s=Object(c.a)(t,n.X.TOP),r=Object(f.z)(e,{listingKey:s});if(0===r.length)return;const a=Object(f.F)(e,{postId:r[0]});return a&&!a.hidden?a:void 0},S=(e,{postId:t,variant:s})=>{const r=((e,{postId:t,variant:s})=>{const r=Object(f.F)(e,{postId:t});if(!r)return j;const n=Object(d.a)({subredditIds:[r.belongsTo.id],count:u.c,variant:Object(O.b)(s)?l.a.Factorization:void 0});return Object(m.y)(e,{key:n})})(e,{postId:t,variant:s}),n=[];for(const a of r){const t=a.name,s=I(e,{subredditName:t});s&&n.push(s.id)}return n},T=Object(i.a)((e,{listingName:t,postId:s})=>{const r=Object(O.a)(e);return r?h(e,{listingName:t})?((e,{postId:t})=>{const s=Object(o.c)({postId:t,count:u.c});return Object(f.z)(e,{listingKey:s})})(e,{postId:s}):S(e,{postId:s,variant:r}):j}),v=(e,{listingName:t})=>{if(!Object(O.a)(e))return;const s=h(e,{listingName:t})?b.b:b.c;return Object(p.f)(e,{unitName:s})}},"./src/reddit/selectors/meta.ts":function(e,t,s){"use strict";s.d(t,"e",function(){return a}),s.d(t,"a",function(){return c}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return d}),s.d(t,"f",function(){return u});var r=s("./node_modules/reselect/es/index.js"),n=s("./src/lib/getParsedUserAgent/index.ts");const a=e=>`${e.meta.protocol}://${e.meta.domain}`,c=e=>e.meta.country,i=Object(r.createSelector)(e=>e.meta.userAgent,e=>Object(n.b)(e)),o=Object(r.createSelector)(e=>e.meta.userAgent,e=>Object(n.f)(e)),d=Object(r.createSelector)(e=>e.meta.userAgent,e=>Object(n.d)(e)),u=e=>e.meta&&e.meta.sessionReferrerDomain},"./src/reddit/selectors/oldSiteRules.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});const r=e=>e.oldSiteRules},"./src/reddit/selectors/originalContent.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"c",function(){return m}),s.d(t,"h",function(){return j}),s.d(t,"g",function(){return y}),s.d(t,"f",function(){return _}),s.d(t,"i",function(){return E}),s.d(t,"k",function(){return h}),s.d(t,"j",function(){return I}),s.d(t,"a",function(){return S}),s.d(t,"b",function(){return T});var r=s("./node_modules/lodash/values.js"),n=s.n(r),a=s("./node_modules/reselect/es/index.js"),c=s("./src/app/strings/index.ts"),i=s("./src/lib/objectSelector/index.ts"),o=s("./src/reddit/constants/originalContent.ts"),d=s("./src/reddit/selectors/profile.ts"),u=s("./src/reddit/selectors/user.ts");const l=[],b=Object(c.e)("postCreation.modifiers.originalContentCategories.none"),p=Object(c.e)("postCreation.modifiers.originalContentCategories.best"),O=e=>e.originalContent.categories.api.pending,f=e=>e.originalContent.categories.models,m=Object(a.createSelector)(f,e=>n()(e).sort((e,t)=>e.name.localeCompare(t.name))),j=Object(a.createSelector)(m,e=>e.filter(e=>e.submittable)),g=Object(a.createSelector)(m,e=>e.filter(e=>e.discoverable)),y=Object(a.createSelector)(g,e=>e.reduce((e,t)=>(e[t.name]=t,e),{})),_=Object(a.createSelector)(u.Q,g,(e,t)=>[{discoverable:!0,name:o.b,displayText:p(e),submittable:!1},...t]),E=Object(a.createSelector)(u.Q,j,(e,t)=>[{discoverable:!1,name:o.c,displayText:b(e),submittable:!0},...t]),h=(e,{categoryName:t})=>e.users.topOCCreators[t]||l,I=Object(i.a)((e,{userNames:t})=>t.map(t=>{return{user:Object(u.gb)(e,{userName:t}),profile:Object(d.j)(e,{profileName:t})}})),S=(e,{categoryName:t})=>e.posts.bestOCPosts[t]||l,T=(e,{categoryName:t})=>e.originalContent.bestPosts.api.pending[t]},"./src/reddit/selectors/profileOverviewChronoItems.ts":function(e,t,s){"use strict";var r=s("./src/lib/objectSelector/index.ts"),n=s("./src/reddit/models/Flair/index.ts"),a=s("./src/reddit/models/PostCreationForm/index.ts");n.f.Text,n.f.Spoiler,n.f.Text,n.f.Spoiler,a.h.RICH_TEXT,n.f.Text,n.f.Spoiler,a.h.RICH_TEXT,n.f.Text,n.f.Spoiler,a.h.RICH_TEXT;var c=s("./src/reddit/helpers/isComment.ts");s.d(t,"f",function(){return i}),s.d(t,"e",function(){return d}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return b}),s.d(t,"a",function(){return p}),s.d(t,"b",function(){return O}),s.d(t,"d",function(){return f}),s.d(t,"c",function(){return m});const i=Object(r.a)((e,{listingKey:t})=>{const s=e.posts.models;return o(e,{listingKey:t}).filter(e=>{if(Object(c.a)(e))return!0;{const t=s[e];return t&&!t.hidden}})}),o=Object(r.a)((e,{listingKey:t})=>{const s=e.profileOverviewPage.chrono.ids[t];return s?[...s]:[]}),d=Object(r.a)((e,{listingKey:t})=>{return i(e,{listingKey:t}).reduce((t,s)=>{const r=Object(c.a)(s)?e.comments.models[s].postId:s;return t[s]=r,t},{})}),u=(Object(r.a)((e,{listingKey:t})=>{const s=e.posts.models;return u(e,{listingKey:t}).filter(e=>{const t=s[e];return t&&!t.hidden})}),Object(r.a)((e,{listingKey:t})=>{return i(e,{listingKey:t}).map(t=>Object(c.a)(t)?e.comments.models[t].postId:t)})),l=Object(r.a)((e,{listingKey:t})=>{const s=e.posts.models,r=u(e,{listingKey:t}),n={};return r.forEach(e=>n[e]=s[e]),n}),b=Object(r.a)((e,{listingKey:t})=>{const s=e.comments.models,r=i(e,{listingKey:t}),n={};return r.forEach(e=>!!Object(c.a)(e)&&(n[e]=s[e])),n}),p=(e,{listingKey:t})=>e.profileOverviewPage.chrono.api.error[t],O=(e,{listingKey:t})=>e.profileOverviewPage.chrono.api.pending[t],f=(e,{listingKey:t})=>e.profileOverviewPage.chrono.loadMore[t],m=(e,{listingKey:t})=>e.profileOverviewPage.chrono.fetchedTokens[t]},"./src/reddit/selectors/searchResults.ts":function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"e",function(){return a}),s.d(t,"b",function(){return c}),s.d(t,"f",function(){return i}),s.d(t,"i",function(){return o}),s.d(t,"c",function(){return d}),s.d(t,"h",function(){return u}),s.d(t,"a",function(){return l}),s.d(t,"g",function(){return b});const r=[],n=(e,{listingKey:t})=>e.listings.listingOrder.api.error[t],a=(e,{listingKey:t})=>e.listings.listingOrder.api.pending[t],c=(e,{listingKey:t})=>e.listings.listingOrder.identifiers[t]||[],i=(e,{listingKey:t})=>e.listings.listingOrder.loadMore[t],o=e=>{const t=e.search.searchQuery;if(!t)return r;const s=e.search.typeahead.idsByQuery[t.toLowerCase()];if(!s)return r;const n=[];return s.forEach(t=>{n.push(e.search.typeahead.models[t])}),n},d=e=>e.search.typeahead.idsByQuery,u=e=>{const t=e.listings.activeKey;return e.search.viewTreatment[t]},l=e=>{const t=e.listings.activeKey;if(t)return e.searchDiscoveryUnits.headerContent[t]},b=(e,t)=>t?e.search.relatedQueries[t.toLowerCase()]:r},"./src/reddit/selectors/submitValidation.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"a",function(){return n}),s.d(t,"c",function(){return a});const r=e=>e.subredditSettings.postRequirements.formState,n=e=>e.subredditSettings.postRequirements.formErrors,a=e=>e.creations.formState.fieldValidation},"./src/reddit/selectors/tags.ts":function(e,t,s){"use strict";s.d(t,"j",function(){return c}),s.d(t,"k",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"h",function(){return d}),s.d(t,"b",function(){return p}),s.d(t,"d",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"f",function(){return m}),s.d(t,"i",function(){return j}),s.d(t,"a",function(){return g}),s.d(t,"g",function(){return y}),s.d(t,"l",function(){return _}),s.d(t,"m",function(){return E});var r=s("./node_modules/lodash/values.js"),n=s.n(r),a=s("./src/reddit/models/Tags/index.ts");const c=e=>e.tags.api.create.error||e.tags.api.deleteTag.error||e.tags.api.fetch.error||e.tags.api.update.error,i=e=>e.tags.api.create.pending||e.tags.api.deleteTag.pending||e.tags.api.fetch.pending||e.tags.api.update.pending,o=(e,{subredditId:t})=>e.tags.selected.inputByItemId[t]||"",d=(e,{subredditId:t})=>e.tags.selected.selectedOptions[t]||[],u=(e,{subredditId:t})=>e.tags.selected.deselectedOptions[t]||[],l={},b={},p=e=>e.tags.models.globalSubredditTags,O=(e,{subredditId:t})=>e.tags.models.subredditScopedTags[t]||b,f=(e,t)=>{const s=n()(t);for(let r=0;r<s.length;r++)if(s[r].text.toLowerCase().trim()===e.toLowerCase().trim())return s[r];return null},m=(e,{itemId:t})=>e.tags.models.itemTags[t]||l,j=(e,{itemId:t})=>e.tags.models.sortedItemTags[t]||[],g=(e,{thingId:t})=>n()(((e,{thingId:t})=>{const s=o(e,{subredditId:t})?(e=>e.tags.availableGlobalTagOrder.global.map(t=>e.tags.models.globalSubredditTags[t]))(e):(e=>e.tags.availableGlobalTagOrder.recommendedGlobal.map(t=>e.tags.models.globalSubredditTags[t]))(e),r=d(e,{subredditId:t}),n=s.reduce((e,t)=>(e[t.id]=Object(a.e)(t),e),{});return r.reduce((e,t)=>(t.id&&e[t.id]&&(e[t.id].selected=!0),e),n)})(e,{thingId:t})).filter(e=>!e.selected),y=(e,{subredditId:t})=>d(e,{subredditId:t}).concat(u(e,{subredditId:t})),_=(e,{subredditId:t})=>d(e,{subredditId:t}).filter(e=>!e.id&&!!e.action).map(e=>({text:e.displayText,type:a.c.CLASSIFICATION})),E=(e,{subredditId:t})=>{const s=O(e,{subredditId:t});return u(e,{subredditId:t}).filter(e=>!!e.id&&!!s[e.id]).map(e=>({tagId:e.id}))}},"./src/reddit/selectors/userFlair.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"a",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return d}),s.d(t,"b",function(){return u});var r=s("./src/lib/objectSelector/index.ts"),n=s("./src/reddit/models/Flair/index.ts"),a=s("./src/reddit/selectors/moderatorPermissions.ts");const c=(e,{subredditId:t})=>e.userFlair[t],i=(e,{subredditId:t})=>!e.userFlair[t]||e.userFlair[t].displaySettings.isEnabled,o=(e,{subredditId:t})=>e.userFlair[t]?e.userFlair[t].displaySettings.position:n.b.Right,d=Object(r.a)((e,{subredditId:t})=>{const s=c(e,{subredditId:t});if(s)return{type:n.d.UserFlair,displaySettings:s.displaySettings,permissions:s.permissions}}),u=(e,{subredditId:t})=>{const s=i(e,{subredditId:t}),r=d(e,{subredditId:t}),n=c(e,{subredditId:t});if(!s||!r||!n)return!1;if(n.applied)return!0;const o=Object(a.c)(e,{subredditId:t}),u=r.permissions.canUserChange;return!!n.templateIds.find(e=>{return!n.templates[e].modOnly||o})&&u}},"./src/reddit/selectors/widgets.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"j",function(){return u}),s.d(t,"c",function(){return l}),s.d(t,"h",function(){return b}),s.d(t,"d",function(){return p}),s.d(t,"e",function(){return O}),s.d(t,"i",function(){return f}),s.d(t,"g",function(){return m}),s.d(t,"f",function(){return j}),s.d(t,"b",function(){return g});var r=s("./src/lib/objectSelector/index.ts"),n=s("./src/reddit/constants/posts.ts"),a=s("./src/reddit/helpers/name/index.ts"),c=s("./src/reddit/models/Widgets/index.ts"),i=s("./src/reddit/selectors/profile.ts"),o=s("./src/reddit/selectors/subreddit.ts");const d=e=>e.widgets.models,u=Object(r.a)((e,t)=>Object(c.t)(t)?e.widgets.models[t.widgetId]:Object(c.n)(t.widgetKind)),l=(e,t)=>{let s=t.subredditId;if(!s&&t.subredditName&&(s=Object(o.I)(e,t.subredditName)),s){const t=((e,t)=>e.widgets.idCardIds[t.subredditId])(e,{subredditId:s});if(t)return e.widgets.models[t]}return null},b=(e,t)=>e.widgets.sidebar[t.subredditId]||[],p=(e,t)=>e.widgets.menuIds[t.subredditId],O=(e,t)=>{const s=p(e,t);return s?e.widgets.models[s]:null},f=(e,t)=>{return e.widgets.sidebar[t.subredditId].reduce((t,s)=>{const r=e.widgets.models[s];return r&&t.push(r.kind),t},[])},m=(e,t)=>{const s=b(e,t);for(const r of s){const t=e.widgets.models[r];if("subreddit-rules"===t.kind)return t}return null},j=(e,t)=>{const s=b(e,t).map(t=>e.widgets.models[t]).filter(e=>"post-flair"===e.kind);return s.length?s:null},g=Object(r.a)((e,t)=>{if(t.type===n.a.PROFILE){const s=Object(i.j)(e,{profileName:t.name});return s?{profile:{id:s.id,name:Object(a.f)(s.name)}}:{}}const s=Object(o.C)(e,{subredditName:t.name});return{subreddit:{categoryName:Object(o.z)(e,{subredditName:t.name}).contentCategory,id:s.id,name:Object(a.f)(s.name)}}})}}]);
//# sourceMappingURL=Governance~Reddit.ad92304a2f7fa4d8c209.js.map

}
/*
     FILE ARCHIVED ON 00:16:01 Jun 01, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:59:58 Feb 20, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.095
  exclusion.robots.policy: 0.08
  cdx.remote: 0.145
  esindex: 0.016
  LoadShardBlock: 226.984 (6)
  PetaboxLoader3.datanode: 231.822 (8)
  load_resource: 303.892 (2)
  PetaboxLoader3.resolve: 231.905 (2)
*/