var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([["CommentsPage","Explore~ModListing~ModQueuePages~Multireddit~OriginalContent~ProfileComments~ProfileOverview~Profile~c3b7dea1","PostDraft~RichTextEditor~StructuredStyles","Explore~InFeedChaining","PostDraft~ProfileSnoobuilder"],{"./node_modules/autosize/dist/autosize.js":function(e,t,s){var n,o,r;o=[t,e],void 0===(r="function"==typeof(n=function(e,t){"use strict";var s,n,o="function"==typeof Map?new Map:(s=[],n=[],{has:function(e){return s.indexOf(e)>-1},get:function(e){return n[s.indexOf(e)]},set:function(e,t){-1===s.indexOf(e)&&(s.push(e),n.push(t))},delete:function(e){var t=s.indexOf(e);t>-1&&(s.splice(t,1),n.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(l){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,s=e.clientWidth,n=null,a=function(){e.clientWidth!==s&&m()},i=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",m,!1),e.removeEventListener("keyup",m,!1),e.removeEventListener("autosize:destroy",i,!1),e.removeEventListener("autosize:update",m,!1),Object.keys(t).forEach(function(s){e.style[s]=t[s]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",i,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",m,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",m,!1),e.addEventListener("autosize:update",m,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:i,update:m}),"vertical"===(c=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===c.resize&&(e.style.resize="horizontal"),t="content-box"===c.boxSizing?-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),isNaN(t)&&(t=0),m()}var c;function d(t){var s=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=s,e.style.overflowY=t}function l(){var n=e.style.height,o=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var a=e.scrollHeight+t;0!==e.scrollHeight?(e.style.height=a+"px",s=e.clientWidth,o.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)):e.style.height=n}function m(){l();var t=Math.round(parseFloat(e.style.height)),s=window.getComputedStyle(e,null),o="content-box"===s.boxSizing?Math.round(parseFloat(s.height)):e.offsetHeight;if(o!==t?"hidden"===s.overflowY&&(d("scroll"),l(),o="content-box"===s.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==s.overflowY&&(d("hidden"),l(),o="content-box"===s.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==o){n=o;var a=r("autosize:resized");try{e.dispatchEvent(a)}catch(i){}}}}function i(e){var t=o.get(e);t&&t.destroy()}function c(e){var t=o.get(e);t&&t.update()}var d=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((d=function(e){return e}).destroy=function(e){return e},d.update=function(e){return e}):((d=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return a(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},d.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.exports=d})?n.apply(t,o):n)||(e.exports=r)},"./node_modules/computed-style/dist/computedStyle.commonjs.js":function(e,t){e.exports=function(e,t,s){return((s=window.getComputedStyle)?s(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},"./node_modules/line-height/lib/line-height.js":function(e,t,s){var n=s("./node_modules/computed-style/dist/computedStyle.commonjs.js");e.exports=function(e){var t=n(e,"line-height"),s=parseFloat(t,10);if(t===s+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=n(e,"line-height"),s=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(s*=4,s/=3):-1!==t.indexOf("mm")?(s*=96,s/=25.4):-1!==t.indexOf("cm")?(s*=96,s/=2.54):-1!==t.indexOf("in")?s*=96:-1!==t.indexOf("pc")&&(s*=16),s=Math.round(s),"normal"===t){var r=e.nodeName,a=document.createElement(r);a.innerHTML="&nbsp;","TEXTAREA"===r.toUpperCase()&&a.setAttribute("rows","1");var i=n(e,"font-size");a.style.fontSize=i,a.style.padding="0px",a.style.border="0px";var c=document.body;c.appendChild(a),s=a.offsetHeight,c.removeChild(a)}return s}},"./node_modules/lodash/_baseDelay.js":function(e,t){var s="Expected a function";e.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError(s);return setTimeout(function(){e.apply(void 0,n)},t)}},"./node_modules/lodash/compact.js":function(e,t){e.exports=function(e){for(var t=-1,s=null==e?0:e.length,n=0,o=[];++t<s;){var r=e[t];r&&(o[n++]=r)}return o}},"./node_modules/lodash/defer.js":function(e,t,s){var n=s("./node_modules/lodash/_baseDelay.js"),o=s("./node_modules/lodash/_baseRest.js")(function(e,t){return n(e,1,t)});e.exports=o},"./node_modules/lodash/random.js":function(e,t,s){var n=s("./node_modules/lodash/_baseRandom.js"),o=s("./node_modules/lodash/_isIterateeCall.js"),r=s("./node_modules/lodash/toFinite.js"),a=parseFloat,i=Math.min,c=Math.random;e.exports=function(e,t,s){if(s&&"boolean"!=typeof s&&o(e,t,s)&&(t=s=void 0),void 0===s&&("boolean"==typeof t?(s=t,t=void 0):"boolean"==typeof e&&(s=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=r(e),void 0===t?(t=e,e=0):t=r(t)),e>t){var d=e;e=t,t=d}if(s||e%1||t%1){var l=c();return i(e+l*(t-e+a("1e-"+((l+"").length-1))),t)}return n(e,t)}},"./node_modules/lodash/times.js":function(e,t,s){var n=s("./node_modules/lodash/_baseTimes.js"),o=s("./node_modules/lodash/_castFunction.js"),r=s("./node_modules/lodash/toInteger.js"),a=9007199254740991,i=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>a)return[];var s=i,d=c(e,i);t=o(t),e-=i;for(var l=n(d,t);++s<e;)t(s);return l}},"./node_modules/lodash/uniqueId.js":function(e,t,s){var n=s("./node_modules/lodash/toString.js"),o=0;e.exports=function(e){var t=++o;return n(e)+t}},"./node_modules/react-autosize-textarea/lib/TextareaAutosize.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},a=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),i=m(s("./node_modules/react/index.js")),c=m(s("./node_modules/react-autosize-textarea/node_modules/prop-types/index.js")),d=m(s("./node_modules/autosize/dist/autosize.js")),l=m(s("./node_modules/line-height/lib/line-height.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(o=n=function(e){function t(){var e,s,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return s=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={lineHeight:null},n.dispatchEvent=function(e){var t=document.createEvent("Event");t.initEvent(e,!0,!1),n.textarea.dispatchEvent(t)},n.getValue=function(e){var t=e.valueLink,s=e.value;return t?t.value:s},n.updateLineHeight=function(){n.setState({lineHeight:(0,l.default)(n.textarea)})},n.onChange=function(e){n.currentValue=e.target.value,n.props.onChange&&n.props.onChange(e)},n.saveDOMNodeRef=function(e){var t=n.props.innerRef;t&&t(e),n.textarea=e},n.getLocals=function(){var e=n,t=e.props,s=(t.onResize,t.maxRows),o=(t.onChange,t.style),a=(t.innerRef,p(t,["onResize","maxRows","onChange","style","innerRef"])),i=e.state.lineHeight,c=e.saveDOMNodeRef,d=s&&i?i*s:null;return r({},a,{saveDOMNodeRef:c,style:d?r({},o,{maxHeight:d}):o,onChange:n.onChange})},u(n,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,s=t.onResize;"number"==typeof t.maxRows?(this.updateLineHeight(),setTimeout(function(){return(0,d.default)(e.textarea)})):(0,d.default)(this.textarea),s&&this.textarea.addEventListener("autosize:resized",this.props.onResize)}},{key:"componentWillUnmount",value:function(){this.props.onResize&&this.textarea.removeEventListener("autosize:resized",this.props.onResize),this.dispatchEvent("autosize:destroy")}},{key:"render",value:function(){var e=this.getLocals(),t=e.children,s=e.saveDOMNodeRef,n=p(e,["children","saveDOMNodeRef"]);return i.default.createElement("textarea",r({},n,{ref:s}),t)}},{key:"componentDidUpdate",value:function(){this.getValue(this.props)!==this.currentValue&&this.dispatchEvent("autosize:update")}}]),t}(),n.defaultProps={rows:1},o);t.default=h,h.propTypes={rows:c.default.number,maxRows:c.default.number,onResize:c.default.func,innerRef:c.default.func}},"./node_modules/react-autosize-textarea/lib/index.js":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=s("./node_modules/react-autosize-textarea/lib/TextareaAutosize.js"),r=(n=o)&&n.__esModule?n:{default:n};t.default=r.default},"./node_modules/react-autosize-textarea/node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,s){"use strict";var n=s("./node_modules/react-autosize-textarea/node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}e.exports=function(){function e(e,t,s,o,r,a){if(a!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return s.checkPropTypes=o,s.PropTypes=s,s}},"./node_modules/react-autosize-textarea/node_modules/prop-types/index.js":function(e,t,s){e.exports=s("./node_modules/react-autosize-textarea/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-autosize-textarea/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,s){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/lib/humanizeDate/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s("./src/app/strings/index.ts");function o(e,t,s){const o=new Date(1e3*e);return`${Object(n.a)(t,`time.monthName.${o.getMonth()}`)} ${s?o.getDate()+", ":""}${o.getFullYear()}`}},"./src/lib/linkMatchers/index.ts":function(e,t,s){"use strict";var n=s("./node_modules/linkify-it/index.js"),o=s.n(n),r=s("./node_modules/tlds/index.js"),a=s.n(r),i=s("./src/lib/linkMatchers/customLinks.ts"),c=s("./node_modules/lodash/values.js"),d=s.n(c);const l=e=>d()(i.b).includes(e.substring(1)),m=["//","ftp:","http:","https:","mailto:"],p=e=>((e,t)=>(t.forEach(t=>e.add(t,null)),e))(e,m);s.d(t,"c",function(){return u}),s.d(t,"d",function(){return b}),s.d(t,"g",function(){return g}),s.d(t,"a",function(){return C}),s.d(t,"b",function(){return O}),s.d(t,"e",function(){return f}),s.d(t,"f",function(){return E});const u=o()().tlds(a.a).set({fuzzyIP:!0}),h=o()().set({fuzzyIP:!0}).add(i.f.mention.prefix,i.f.mention.config),b=p(o()()).set({fuzzyLink:!1,fuzzyEmail:!1}).add(i.f.subreddit.prefix,i.f.subreddit.config).add(i.f.subredditFull.prefix,i.f.subreddit.config),g=p(o()()).set({fuzzyLink:!1,fuzzyEmail:!1}).add(i.f.profile.prefix,i.f.profile.config).add(i.f.profileFull.prefix,i.f.profile.config),x=o()().tlds(a.a).set({fuzzyIP:!0}).add(i.f.subreddit.prefix,i.f.subreddit.config).add(i.f.subredditFull.prefix,i.f.subreddit.config).add(i.f.profile.prefix,i.f.profile.config).add(i.f.profileFull.prefix,i.f.profile.config).add(i.f.mention.prefix,i.f.mention.config),v=u.normalize;u.normalize=(e=>{v.call(u,e),!e.schema&&e.url.startsWith("http:")&&(e.url=`https:${e.url.slice(5)}`)});const C=(e,t)=>{return(x.match(e)||[]).filter(e=>{const s=l(e.text);return!s||s&&t})},O=e=>{return[...g.match(e)||[],...h.match(e)||[]].map(e=>!l(e.text)&&e.text.replace(i.a,"")).filter(e=>e)},f=(e,t)=>{const s=e.match(t);if(s&&1===s.length&&0===s[0].index&&s[0].lastIndex===t.length)return s[0]},E=e=>{const t=u.match(e);if(t&&1===t.length&&0===t[0].index){const s=t[0];return s.lastIndex===e.length?s:((e,t)=>{const s=e.substring(t.lastIndex);if(/.*\/\/.*\/.*/.test(t.url)&&/^(\?|\!)+$/.test(s))return t.lastIndex+=s.length,t.url+=s,t})(e,s)}}},"./src/lib/setInterval/index.ts":function(e,t,s){"use strict";t.a=function(e,t,...s){let n,o=!1;const r=async()=>{s&&s.length?await e.call(window,...s):await e.call(window),o||(n=window.setTimeout(r,t))};return n=window.setTimeout(r,t),()=>{o=!0,window.clearTimeout(n)}}},"./src/reddit/actions/subreddit/inlineEditing.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return v}),s.d(t,"a",function(){return C});var n=s("./src/lib/makeActionCreator/index.ts"),o=s("./src/reddit/actions/structuredStyles/index.ts"),r=s("./src/reddit/actions/subreddit/constants.ts"),a=s("./src/reddit/actions/toaster.ts"),i=s("./src/reddit/constants/blade.ts"),c=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),d=s("./src/reddit/i18n/utils.ts"),l=s("./src/reddit/models/Image/index.tsx"),m=s("./src/reddit/models/Toast/index.ts"),p=s("./src/reddit/selectors/structuredStyles.ts"),u=s("./src/reddit/selectors/subreddit.ts"),h=s("./src/telemetry/index.ts");const b=Object(n.a)(r.p),g=Object(n.a)(r.q),x=Object(n.a)(r.o),v=(e,t,s)=>async(n,o,r)=>{const a=Object(u.G)(o(),{subredditName:e});if(a)return C(a,t,s)(n,o,r)},C=(e,t,s)=>async(n,r,u)=>{const v=await Object(l.e)(t);n(b());const C=r();try{await Object(o.g)("communityIcon",v,e.id)(n,r,u)}catch(f){return Object(h.a)(Object(c.c)(C,"something went wrong with the uploading the image")),n(Object(a.e)({kind:m.b.Error,text:Object(d.c)("Error uploading image, please try again later")})),void n(x())}const O=Object(p.d)(r(),{name:"communityIcon"});if(!O)return Object(h.a)(Object(c.c)(C,"image is null")),n(Object(a.e)({kind:m.b.Error,text:Object(d.c)("Error uploading image, please try again later")})),void n(x());await Object(o.k)(e.id,{communityIcon:O},i.b.idCard,s)(n,r,u),n(Object(a.e)({kind:m.b.SuccessCommunity,text:Object(d.c)("Successfully updated Community Icon!")})),n(g())}},"./src/reddit/components/AdLinkWrapper/index.m.less":function(e,t,s){e.exports={AdLinkWrapper:"LniF5nGHFXZ6i7_mQiEaT",adLinkWrapper:"LniF5nGHFXZ6i7_mQiEaT"}},"./src/reddit/components/AdLinkWrapper/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/AdLinkWrapper/index.m.less"),o=s.n(n);const r=s("./src/lib/lessComponent.tsx").a.div("AdLinkWrapper",o.a);t.a=r},"./src/reddit/components/BackToTop/index.m.less":function(e,t,s){e.exports={container:"_365FiUZ11efXHV7l7fNp6K",button:"_1m03hmspTHlre1O1CXbY9Y"}},"./src/reddit/components/BannerAd/index.m.less":function(e,t,s){e.exports={Container:"_1rmObrmUCfC5t42SbwkzYC",container:"_1rmObrmUCfC5t42SbwkzYC",LoadingHitbox:"_1n3f5S4VH-64I6tr3YDSy2",loadingHitbox:"_1n3f5S4VH-64I6tr3YDSy2"}},"./src/reddit/components/BannerAd/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/constants/index.ts"),d=s("./src/lib/doubleclickForPublishers/index.ts"),l=s("./src/lib/intersectionObserver/index.ts"),m=s("./src/lib/objectSelector/index.ts"),p=s("./src/reddit/helpers/createBannerProperties/index.ts"),u=s("./src/reddit/selectors/subreddit.ts"),h=s("./src/reddit/components/TrackingHelper/index.tsx"),b=s("./src/reddit/helpers/trackers/ads.ts"),g=s("./src/reddit/components/BannerAd/index.m.less"),x=s.n(g),v=s("./src/lib/lessComponent.tsx");const C=v.a.div("Container",x.a),O=v.a.div("LoadingHitbox",x.a),f=e=>setTimeout(()=>{throw e},0);class E extends o.a.Component{constructor(){super(...arguments),this.frame=null,this.loader=null,this.refreshedAt=1/0,this.isWithinLoadingDistance=!1}componentDidCatch(e){f(e)}defineSlot(){var e=this.props;const t=e.id,s=e.slot,n=e.properties;var o=e.sizes;const r=void 0===o?[]:o;try{return this.frame&&d.a(this.frame,{id:t,slot:s,properties:n,sizes:r})}catch(a){f(a)}}destroySlot(){try{this.frame&&d.b(this.frame)}catch(e){f(e)}}async componentDidMount(){this.props.sendEvent(Object(b.a)());try{await this.defineSlot()}catch(e){f(e)}this.loader&&l.a(this.loader,e=>{this.frame&&d.e(this.frame,{viewable:e.intersectionRatio>.5}),this.isWithinLoadingDistance=!0,this.refresh(this.props),this.loader&&l.b(this.loader)})}componentWillUnmount(){this.loader&&l.b(this.loader),this.destroySlot()}refresh(e){this.isWithinLoadingDistance&&(this.refreshedAt=Date.now(),this.frame&&d.d(this.frame,{id:e.id,slot:e.slot,properties:e.properties,sizes:e.sizes}))}componentWillReceiveProps(e){this.props.refreshKey!==e.refreshKey&&Date.now()-this.refreshedAt>6e3&&this.refresh(e)}render(){var e=this.props;const t=e.id,s=e.slot,n=e.className;return s?o.a.createElement(C,{"data-slot":s},o.a.createElement(O,{key:`${t}-loadinghitbox`,innerRef:e=>{this.loader=e}}),o.a.createElement("div",{"data-before-content":this.props.dataBeforeContent,key:`${t}-div`,className:n,ref:e=>{this.frame=e},id:t})):o.a.createElement("div",{className:n})}}E.defaultProps={sizes:[c.e]};t.a=Object(r.b)(()=>Object(a.c)({properties:Object(m.a)((e,t)=>{const s=e.platform.currentPage;if(!s)return{};const n=`${e.meta.protocol}://${e.meta.domain}`;return Object(p.b)(t.placement,e.user,Object(i.a)(`${n}${s.url}`,s.queryParams),Object(u.G)(e,{subredditName:t.listingName}),t.position)}),slot:(e,t)=>{const s=e.platform.currentPage;return s&&s.meta?d.c(t.listingName,s.meta.name):""}}))(Object(h.b)(E))},"./src/reddit/components/BlankPost/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return m});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/reselect/es/index.js"),a=s("./src/reddit/components/AdViewability/index.tsx"),i=s("./src/reddit/connectors/PostViewable/index.ts"),c=s("./src/reddit/selectors/posts.ts"),d=s("./src/lib/classNames/index.ts");const l=Object(i.a)(()=>Object(r.c)({post:c.J})),m=({className:e,post:t,onPostViewable:s})=>t.isSponsored?o.a.createElement(a.a,{onViewable:e=>s(t,e),children:o.a.createElement("div",{className:Object(d.a)(e,`Blank ${t.id}`)}),trackVideoMetrics:!1}):null;t.b=l(m)},"./src/reddit/components/CallToActionButton/index.m.less":function(e,t,s){e.exports={CallToActionButton:"_2pjSQOdNtYd1I2W0Z1Im8I",callToActionButton:"_2pjSQOdNtYd1I2W0Z1Im8I",mNotCardView:"_33VrFkg3gJpkL8AlPfcHUE"}},"./src/reddit/components/CallToActionButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/controls/OutboundLink/styled.tsx"),i=s("./src/reddit/components/CallToActionButton/index.m.less"),c=s.n(i),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};t.a=(e=>{var t=e.className,s=d(e,["className"]);return o.a.createElement(a.a,Object.assign({className:Object(r.a)(t,c.a.CallToActionButton,{[c.a.mNotCardView]:s.isNotCardView})},s))})},"./src/reddit/components/CharacterCountdown/index.m.less":function(e,t,s){e.exports={container:"s5ap8yh1b4ZfwxvHizW3f",mOverflow:"_19JhaP1slDQqu2XgT3vVS0"}},"./src/reddit/components/CharacterCountdown/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/StructuredStyles/StyledComponents/forms.ts"),i=s("./src/reddit/i18n/utils.ts"),c=s("./src/reddit/components/CharacterCountdown/index.m.less"),d=s.n(c);t.a=(e=>o.a.createElement(a.b,{className:Object(r.a)(e.className,d.a.container,e.text.length>e.maxChars?d.a.mOverflow:null)},`${e.maxChars-e.text.length} ${Object(i.c)("Characters")}`))},"./src/reddit/components/ClassicPost/Placeholder.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return O});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/components/PostLeftRail/index.tsx"),d=s("./src/reddit/components/VerticalVotes/votes.tsx"),l=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/reddit/helpers/styles/mixins/loading.ts"),p=s("./src/reddit/models/Vote/index.ts"),u=s("./src/reddit/helpers/styles/mixins/index.m.less"),h=s.n(u),b=s("./src/reddit/components/ClassicPost/placeholder.m.less"),g=s.n(b);const x=Object(l.w)(),v=Object(a.c)({isFakeSubreddit:l.B}),C=Object(r.b)(v),O=e=>{const t={interactive:!1,voteState:p.a.notVoted};return o.a.createElement("div",{className:Object(i.a)(e.className,g.a.emptyVerticalVotes)},o.a.createElement(d.d,Object.assign({key:"u"},t)),e.children,o.a.createElement(d.c,Object.assign({key:"d"},t)))},f=()=>o.a.createElement(O,null,o.a.createElement("div",{className:g.a.emptyScore,key:"s"}));t.b=x(C(e=>o.a.createElement("div",{className:Object(i.a)(e.className,h.a.classicPostStyles,h.a.classicAndCompactPlaceholderStyles)},o.a.createElement(c.b,null,o.a.createElement(f,null)),o.a.createElement("div",{className:g.a.mainBody},o.a.createElement("div",{className:g.a.thumbnailContainer},o.a.createElement("div",{className:Object(i.a)(g.a.thumbnail,Object(m.c)(e))})),o.a.createElement("div",{className:g.a.content},o.a.createElement("div",{key:"a"},o.a.createElement("div",{key:"aa",className:Object(i.a)(g.a.title,Object(m.c)(e))}),o.a.createElement("div",{key:"ab",className:Object(i.a)(g.a.meta,Object(m.c)(e))})),o.a.createElement("div",{key:"f",className:g.a.flatlist},o.a.createElement("div",{key:"fa",className:Object(i.a)(g.a.flatlistExpando,Object(m.c)(e))}),o.a.createElement("div",{key:"fb",className:g.a.flatlistSeparator}),o.a.createElement("div",{key:"fc",className:Object(i.a)(g.a.flatListItemOne,Object(m.c)(e))}),o.a.createElement("div",{key:"fd",className:Object(i.a)(g.a.flatListItemTwo,Object(m.c)(e))})))))))},"./src/reddit/components/ClassicPost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/config.ts"),a=s("./src/lib/classNames/index.ts"),i=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/getShortenedLink.ts"),d=s("./src/reddit/components/AdLinkWrapper/index.tsx"),l=s("./src/reddit/components/CallToActionButton/index.tsx"),m=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),p=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),u=s("./src/reddit/components/ExpandoButton/index.tsx"),h=s("./src/reddit/components/Flatlist/index.tsx"),b=s("./src/reddit/components/JSAPIContainers/index.tsx"),g=s("./src/reddit/components/LargePost/index.tsx"),x=s("./src/reddit/components/ModModeReports/index.tsx"),v=s("./src/reddit/components/ModModeReports/helpers.ts"),C=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),O=s("./src/reddit/components/PostContainer/index.tsx"),f=s("./src/reddit/components/PostMedia/index.tsx"),E=s("./src/reddit/components/PostMeta/index.tsx"),y=s("./src/reddit/components/PostOverflowMenu/index.tsx"),j=s("./src/reddit/components/PostTitle/index.tsx"),P=s("./src/reddit/components/PostTopMeta/index.tsx"),w=s("./src/reddit/controls/OutboundLink/styled.tsx"),I=s("./src/reddit/models/Media/index.ts"),S=s("./src/reddit/components/ClassicPost/Thumbnail.tsx"),T=s("./node_modules/react-redux/es/index.js"),k=s("./node_modules/reselect/es/index.js"),_=s("./src/reddit/actions/post.ts"),N=s("./src/reddit/actions/tooltip.ts"),L=s("./src/reddit/models/Vote/index.ts"),M=s("./src/reddit/contexts/InsideOverlay.tsx"),R=s("./src/reddit/contexts/PageLayer/index.tsx"),F=s("./src/reddit/selectors/activeModalId.ts"),B=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),A=s("./src/reddit/selectors/experiments/removeOc.ts"),D=s("./src/reddit/selectors/moderatorPermissions.ts"),V=s("./src/reddit/selectors/monthsToMinutes.ts"),W=s("./src/reddit/selectors/postFlair.ts"),H=s("./src/reddit/selectors/posts.ts"),U=s("./src/reddit/selectors/user.ts");const z={autoplayPref:U.b,activeModalId:F.a,crosspost:H.c,currentUser:U.k,isActive:H.f,isCurrentUserProfilePost:H.g,isExpanded:H.i,isFrontpageHome:V.g,isInRemoveOcExperiment:A.a,isM2MHomeRedirectEnabled:B.c,isMeta:(e,{postId:t})=>Object(H.n)(e,t),language:U.T,moderatorPermissions:D.h,modModeEnabled:R.R,post:H.J,poll:(e,t)=>{const s=e.posts.metaMap[t.postId];return s?e.polls.models[s]:null},showEditFlair:W.a,showMedia:R.t,subredditOrProfile:H.U,userIsOp:U.jb,flairStyleTemplate:R.T},K=(e,{listingKey:t,listingName:s,postId:n})=>({handleVote:t=>{const s=t===L.a.upvoted?Object(_.N)(n):Object(_.o)(n);e(s)},onIgnoreReports:()=>e(Object(_.L)(n)),onOpenReportsDropdown:t=>e(Object(N.e)({tooltipId:t}))}),G=Object(T.b)(()=>Object(k.c)(z),K,(e,t,s)=>Object.assign({},e,t,s,{formatTitle:e=>e.title}));var q=s("./src/lib/LRUCache/index.ts");const J=Object(R.w)({searchQuery:R.X}),Y=new q.a(250),Q=Object(T.b)(()=>Object(k.c)(z),K,(e,t,s)=>Object.assign({},e,t,s,{formatTitle:(e=>{const t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e=>{const s=`${e.id}-${t}`;let n=Y.get(s);if(void 0===n){const r=new RegExp(`(\\b${t}\\b)`,"gi"),a=e.title.split(r);for(let e=1;e<a.length;e+=2)a[e]=o.a.createElement("em",{style:{fontWeight:700}},a[e]);n=o.a.createElement("span",{style:{fontWeight:"normal"}},o.a.Children.toArray(a)),Y.set(s,n)}return n}})(s.searchQuery||"")}));var X=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),Z=s("./src/reddit/helpers/hasModFullPermissions/index.ts"),$=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),ee=s("./src/reddit/helpers/styles/mixins/index.tsx"),te=s("./src/reddit/helpers/styles/mixins/index.m.less"),se=s.n(te),ne=s("./src/reddit/components/ClassicPost/index.m.less"),oe=s.n(ne);s.d(t,"a",function(){return de});const re=16;const ae=(e,t,s)=>s?e.crosspostRootId?o.a.createElement("div",{className:oe.a.crosspostMediaWrapper},ie(e,t)):ie(e,t):null,ie=(e,t)=>o.a.createElement(f.a,{isExpando:!0,isListing:!0,isNotCardView:!0,scrollerItemRef:t,shouldLoad:!0,shouldPause:!1,showFull:!0,showCentered:!0,post:e}),ce=Object(i.a)(class extends o.a.Component{componentDidUpdate(e){this.props.onSizeChanged&&e.isExpanded!==this.props.isExpanded&&this.props.onSizeChanged(this.props.post.id)}render(){var e=this.props;const t=e.className,s=e.currentUser,n=e.handleVote,i=e.isExpanded,f=e.isMeta,T=e.inSubredditOrProfile,k=e.eventFactory,_=e.flairStyleTemplate,N=e.formatTitle,L=e.isCheckboxSelected,M=e.isCurrentUserProfilePost,R=e.isInRemoveOcExperiment,F=e.isFrontpage,B=e.isFrontpageHome,A=e.isM2MHomeRedirectEnabled,D=e.isOverlay,V=e.language,W=e.moderatorPermissions,H=e.modModeEnabled,U=e.onClickPost,z=e.onIgnoreReports,K=e.onOpenReportsDropdown,G=e.poll,q=e.post,J=e.redditStyle,Y=e.scrollerItemRef,Q=e.showBulkActionCheckbox,te=e.showEditFlair,ne=e.showMedia,ie=e.subredditOrProfile,ce=e.toggleCheckbox,de=e.userIsOp,le=J?void 0:_,me=this.props.crosspost||void 0,pe=Object($.a)(W),ue=Object(X.a)(W),he=Object(Z.a)(W),be=H&&$.a,ge=!!q.media&&q.media.type===I.o.RTJSON,xe=de&&ge,ve=T&&!ne,Ce={flairStyleTemplate:le,post:q,inSubredditOrProfile:T,isCurrentUserProfilePost:M,isInRemoveOcExperiment:R,shouldShowSubscribeButton:!(F&&B),subredditOrProfile:ie,showOCCategories:!0,language:V},Oe=o.a.createElement(O.a,{className:Object(a.a)(se.a.classicPostStyles,oe.a.postContainer,Object(ee.a)(this.props),t),style:Object.assign({},Object(ee.d)(this.props),Object(ee.b)(this.props.flairStyleTemplate)),post:q,onClick:U,eventFactory:k},Object(g.b)(q,n,Q,L,ce,le,J),o.a.createElement(C.a,{flairStyleTemplate:le},o.a.createElement(p.a,{className:oe.a.eventMeta,post:q,language:V}),o.a.createElement("div",{className:oe.a.mainBody},o.a.createElement("div",{className:ve?oe.a.expandoContainer:oe.a.thumbnailContainer},!ve&&o.a.createElement(S.a,{className:oe.a.classicThumbnail,crosspost:me&&q,isMeta:f,post:me||q,redditStyle:J,templatePlaceholderImage:le&&le.postPlaceholderImage}),o.a.createElement(u.a,{crosspost:me,className:oe.a.rightExpando,isExpanded:!!i,post:q,useMediaIcons:!1})),o.a.createElement("div",{className:oe.a.content,"data-click-id":"body",style:{paddingBottom:`${re}px`}},o.a.createElement(j.c,{className:G?oe.a.titleWithPoll:void 0,format:N,poll:G,post:q,redditStyle:J,size:j.b.Medium,titleColor:le&&le.postTitleColor,isM2MHomeRedirectEnabled:A,isOverlay:D},q.source&&!me&&o.a.createElement(w.a,{href:q.source.url,isSponsored:q.isSponsored,source:q.source},Object(c.a)(q))),o.a.createElement(E.a,Object.assign({key:"PostMeta"},Ce)),H&&pe&&Object(v.c)(q)&&o.a.createElement(x.a,{language:V,onIgnoreReports:z,reportable:q}),o.a.createElement("div",{className:oe.a.spacer}),q.source&&q.source.url&&q.isSponsored&&o.a.createElement(d.a,{className:oe.a.adLinkWrapper},o.a.createElement(w.a,{href:q.source.url.replace(r.a.redditUrl,""),isSponsored:q.isSponsored,source:q.source},q.source.displayText),q.callToAction&&o.a.createElement(l.a,{href:q.source.url.replace(r.a.redditUrl,""),isSponsored:q.isSponsored,source:q.source},q.callToAction)),o.a.createElement("div",{className:oe.a.flatlistContainer},o.a.createElement(u.a,{className:oe.a.leftExpando,crosspost:me,isExpanded:!!i,post:q,useMediaIcons:!1}),o.a.createElement(m.a,{className:oe.a.horizontalVotes,compact:!1,flairStyleTemplate:le,model:q,onVoteClick:n}),o.a.createElement(h.a,{className:oe.a.flatlistSeparator}),o.a.createElement(h.c,{className:oe.a.flatlist,currentUser:s,hasModFlairPerms:ue,hasModPostPerms:pe,hasModFullPerms:he,isOverlay:!!D,language:V,modModeEnabled:H,onIgnoreReports:z,onOpenReportsDropdown:K,post:q,showEditPost:xe,showEditFlair:te,tooltipType:D?P.c.Lightbox:void 0,useFlatlistBreakpoints:Object(y.h)({editPost:!be,save:!be,hide:!be,report:!be})})),o.a.createElement(b.d,{postId:q.id}))),ae(q,Y,i)));return o.a.createElement(o.a.Fragment,null,Oe)}}),de=(e=>J(Q(e)))(ce);t.b=(e=>G(Object(M.b)(e)))(ce)},"./src/reddit/components/ClassicPost/placeholder.m.less":function(e,t,s){e.exports={thumbnailContainer:"_3cwq18vPueuAxRSrd1foNB",mainBody:"_1jxw1P65tWXN5u8kVHlX-n",content:"_2KR7fLQx_7rIv8QaoeXKZw",emptyScore:"_6w7aNMh3t6UMe07Q6oWFE",emptyVerticalVotes:"_1Xs9oeessHWcuF0VTVxRnl",thumbnail:"_2XOZ5bYpLdswvBAYUNa-ly",title:"n3AVRrP7HOfc0gAtGFpfv",meta:"_1BoNlCqTsaeLXkuZbADxyl",flatlist:"_1IgQuZI8L6A0NcShWmf08y",flatlistExpando:"_2AMaFX8Gwojg29X4_nOnaL",flatlistSeparator:"oljBm1Q059l3l84VHO9VM",flatListItemOne:"_2xeK0Acj_38O5kqiHgp7VC",flatListItemTwo:"_3WphuhFsMSKk2tQyD3fZeI"}},"./src/reddit/components/Collection/PostAndPostEventMeta/index.m.less":function(e,t,s){e.exports={postEventMeta:"UORiCb6Mik-agLw97Owil",Metadata:"YxCA1Mpgi_ThsEnFr_EFv",metadata:"YxCA1Mpgi_ThsEnFr_EFv"}},"./src/reddit/components/Collection/PostAndPostEventMeta/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return p}),s.d(t,"b",function(){return u});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/prettyPrintNumber/index.ts"),a=s("./src/app/strings/index.ts"),i=s("./src/lib/lessComponent.tsx"),c=s("./src/reddit/components/EventPost/PostEventMeta/index.tsx"),d=s("./src/reddit/helpers/postEvent.ts"),l=s("./src/reddit/components/Collection/PostAndPostEventMeta/index.m.less"),m=s.n(l);const p=i.a.wrapped(e=>o.a.createElement("span",{className:e.className},e.children),"Metadata",m.a),u=({post:e,language:t})=>Object(d.a)(e)?o.a.createElement(c.a,{className:m.a.postEventMeta,language:t,post:e}):o.a.createElement(o.a.Fragment,null,!e.isScoreHidden&&o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{"data-click-id":"score"},Object(a.c)(t,"posts.points.noun",e.score,{count:Object(r.b)(e.score)})),o.a.createElement(p,null,"·")),o.a.createElement(p,{"data-click-id":"comments"},Object(a.c)(t,"posts.comments.noun",e.numComments,{count:Object(r.b)(e.numComments)})))},"./src/reddit/components/Collection/PostItem/index.m.less":function(e,t,s){e.exports={postTitle:"_1bvyZ0jB0C8Lx6TlraZXE3",postContent:"_3giZKNlG6qJzee7UY1xsIJ",active:"_12zSt_pMIevRkRY1y7z0ZD",isProfilePage:"_3yF2XCFhSO-O3pN8ebYN1G",postBody:"_2L4qX-0aH7jj8yNe2FGxg-",bottomline:"NlMXOVW9HTmozMDSBJduL",postContainer:"rF1mJN5TPvOeX-Rs9PA04",postBodyWrapper:"_3LxyuVXMtCzPGToR6G4aUP",galleryPostContainer:"LbSOjrpQSZxNlzkqgp8IK",galleryPostOverlay:"_32s7Ik6Mvi_xJ6Q7PXN7cS",galleryPostImage:"_71EQniEmTXC8cbuXDlo2y",gallerySelectedBorder:"_3TY5O5VX0o1EJLeXO2CBIz",isNightmodeOn:"_3ToKa6hKRy0knGHXUZW0tI",isSelectedPost:"dKiTp-99N-ixy1MUgoxzt",galleryBottomLine:"_3juAZ5nip3xhlLYoa0eJHl",isScoreHidden:"_1gE7DLti39Ow23AU39DRyi",gallerySeparator:"_1REIFRRcgS4gb1OzCUiDdF",scrollToContainer:"R4W5__5pno6HuOR6cXIcW",blurBackground:"_1EmOtGLOIj5jVny00MsYDq",timelineThumbnail:"N7ZDF05PM85cnjxy8A9Kj",timelineThumbnailOverride:"_2qHZln2Y6YL5GXxpgP4Qf4",galleryThumbnailPlaceholder:"_3HsMbUHP3qlXSnSNv10i__",thumbnailContainerClassName:"_22Rd8vdnxySvffllxDpbGs",galleryPostPlaceholderThumbnailOverride:"_2XLoayiHEZSUCfwO0UAbso",commonThumbnailOverride:"_2tS9NgDPCzFiHnYMa3o1SV"}},"./src/reddit/components/Collection/index.m.less":function(e,t,s){e.exports={collectionTitleWrapper:"_10IcBRrmressbhblq2bqiU",isProfilePage:"_40cmCHyGWf1SgOpyoChQS",collectionTitle:"tFfYP5FF1o5CEXQ15uH7d",collectionMetaData:"_1-c9t8ecl06D08Su9pk4ni",collectionBy:"_17sTscKExP8XIU91kNOF2U",collectionTitleOptions:"_1IA_VhTzcdVBgjp_pZllHj",postListWrapper:"_2T_gfh-4AolUQ4rcgj8LV3",collectionDescription:"_1qekGnwXQb9ZXUYpC2vI3o",collectionList:"_3DA4B_0rR_osY0zjBQbJ8d",author:"_3fYAYBseZm3AMr8S-Q5ZoJ",overflowMenu:"_3LbMCmvXBCx5DLWUsYvKdV",postCount:"_1LY03RHQAwDBI6w3IOLqwg",galleryContainer:"_3sH08_Dk83Y6-vyvIc9ttc"}},"./src/reddit/components/CommentCreation/Loader.m.less":function(e,t,s){e.exports={spacer:"_25blA2uobENRg70NGewwpP",isTopLevelComment:"_1chAIcRfDnelKBQkWMIXfl",byline:"_1KZHWcRRAqnSYcyX8FzWOK"}},"./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.m.less":function(e,t,s){e.exports={Wrapper:"_2GTMVdV2t3ka_zfkVHHo95",wrapper:"_2GTMVdV2t3ka_zfkVHHo95",LiveStreamingWrapper:"_2PreAn-l2nVweCX4t-mfuy",liveStreamingWrapper:"_2PreAn-l2nVweCX4t-mfuy",Copy:"_3xhJYY30L68x0pxk-8uTYD",copy:"_3xhJYY30L68x0pxk-8uTYD",LiveStreamingCopy:"_11HjWCkxXrGJ_6388VQT0L",liveStreamingCopy:"_11HjWCkxXrGJ_6388VQT0L",SignupLink:"_1k97Y32qzGNtuVGyt73TpR",signupLink:"_1k97Y32qzGNtuVGyt73TpR",LiveStreamingSignupLink:"_2aWoCIxf0NRE4nRAy6aFDQ",liveStreamingSignupLink:"_2aWoCIxf0NRE4nRAy6aFDQ",LoginLink:"_3fM1M9rFBqKwfG-KJLnxPY",loginLink:"_3fM1M9rFBqKwfG-KJLnxPY"}},"./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/isSimpleClick/index.ts"),i=s("./src/lib/lessComponent.tsx"),c=s("./src/lib/loginHref/index.ts"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/controls/Button/index.tsx"),m=s("./src/reddit/helpers/trackers/authControls.ts"),p=s("./src/reddit/i18n/components.tsx"),u=s("./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.m.less"),h=s.n(u);const b=i.a.div("Wrapper",h.a),g=i.a.span("Copy",h.a),x=i.a.wrapped(l.g,"SignupLink",h.a),v=i.a.wrapped(l.j,"LoginLink",h.a);t.a=Object(d.b)(({className:e,isLiveStreaming:t,location:s,openLoginModal:n,openRegisterModal:i,origin:d,sendEvent:l})=>o.a.createElement(b,{className:Object(r.a)(e,{[h.a.LiveStreamingWrapper]:t})},o.a.createElement(g,{className:Object(r.a)({[h.a.LiveStreamingCopy]:t})},o.a.createElement(p.c,null,"What are your thoughts? Log in or Sign up")),o.a.createElement(v,{href:Object(c.a)(s,d,"/login"),onClick:e=>{Object(a.a)(e)&&(e.preventDefault(),e.stopPropagation(),n(),l(Object(m.a)("user_convert")))},"data-redditstyle":!0},o.a.createElement(p.c,null,"log in")),o.a.createElement(x,{className:Object(r.a)({[h.a.LiveStreamingSignupLink]:t}),href:Object(c.a)(s,d,"/register"),onClick:e=>{Object(a.a)(e)&&(e.preventDefault(),e.stopPropagation(),i(),l(Object(m.c)("user_convert")))},"data-redditstyle":!0},o.a.createElement(p.c,null,"sign up"))))},"./src/reddit/components/CommentModModeDropdown/index.m.less":function(e,t,s){e.exports={StyledDropdown:"_1PC9CIsUh5fq8cQdx3iMRr",styledDropdown:"_1PC9CIsUh5fq8cQdx3iMRr"}},"./src/reddit/components/CommentModModeDropdown/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/comment.ts"),c=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/controls/Dropdown/index.tsx"),m=s("./src/reddit/helpers/trackers/modTools.ts"),p=s("./src/reddit/selectors/tooltip.ts"),u=s("./src/app/strings/index.ts"),h=s("./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx"),b=e=>o.a.createElement(h.e,null,!e.comment.isApproved&&o.a.createElement(h.c,{displayText:e.comment.approvedBy?Object(u.a)(e.language,"modTools.approved"):Object(u.a)(e.language,"modTools.approve"),onClick:e.onApproveComment},o.a.createElement(h.a,null)),!e.comment.bannedBy&&o.a.createElement(o.a.Fragment,null,o.a.createElement(h.c,{displayText:e.comment.isRemoved?Object(u.a)(e.language,"modTools.removed"):Object(u.a)(e.language,"modTools.remove"),onClick:e.onRemoveComment},o.a.createElement(h.g,null)),o.a.createElement(h.c,{displayText:e.comment.isSpam?Object(u.a)(e.language,"modTools.removedAsSpam"):Object(u.a)(e.language,"modTools.removeAsSpam"),onClick:e.onSpamComment},o.a.createElement(h.h,null)),o.a.createElement(h.c,{displayText:e.comment.isLocked?Object(u.a)(e.language,"modTools.unlockComment"):Object(u.a)(e.language,"modTools.lockComment"),onClick:e.onLockComment},o.a.createElement(h.f,null)))),g=s("./src/reddit/components/CommentModModeDropdown/index.m.less"),x=s.n(g);const v=s("./src/lib/lessComponent.tsx").a.wrapped(l.a,"StyledDropdown",x.a),C=Object(a.c)({isDropdownOpen:(e,{tooltipId:t})=>Object(p.b)(t)(e)}),O=Object(r.b)(C,(e,{comment:t})=>({onApproveComment:()=>e(Object(i.I)(t.id)),onLockComment:()=>e(Object(i.ab)(t.id)),onRemoveComment:()=>e(Object(i.eb)(t.id,!1)),onSpamComment:()=>e(Object(i.eb)(t.id,!0))})),f=Object(c.a)(v),E=O(Object(d.b)(e=>{const t=e.comment,s=e.isDropdownOpen,n=e.language,r=e.onApproveComment,a=e.onLockComment,i=e.onRemoveComment,c=e.onSpamComment,d=e.sendEvent,l=e.tooltipId;return o.a.createElement(f,{isOpen:s,tooltipId:l},o.a.createElement(b,{language:n,onApproveComment:()=>{r(),d(Object(m.c)("approve",t.id))},onRemoveComment:()=>{i(),d(Object(m.c)("remove",t.id))},onSpamComment:()=>{c(),d(Object(m.c)("spam",t.id))},onLockComment:()=>{a(),d(Object(m.c)(t.isLocked?"unlock":"lock",t.id))},comment:t}))}));t.a=E},"./src/reddit/components/CommentSort/CommentSort.m.less":function(e,t,s){e.exports={ArrowRight:"MlDDYVMi-2rh-DLw02r7m",arrowRight:"MlDDYVMi-2rh-DLw02r7m",container:"_2ulKn_zs7Y3LWsOqoFLHPo",mHasOtherDiscussions:"_3iO3U_i4YUx-2qahK_BTu1",ContestMode:"_3dAMO_XZMVp2K1JSO53ohA",contestMode:"_3dAMO_XZMVp2K1JSO53ohA",ToggleSwitch:"JVPG0c9TNru5TLSq9sdUG",toggleSwitch:"JVPG0c9TNru5TLSq9sdUG",DropdownTriangle:"_2MGxQvIhmM2I5CzPdSJTtM",dropdownTriangle:"_2MGxQvIhmM2I5CzPdSJTtM",hideCommentSort:"uAIheeoxWlq57lu5ghv43",HighlightWrapper:"_201SpO3todaXvcWUHaLymN",highlightWrapper:"_201SpO3todaXvcWUHaLymN",HoverSpan:"_2F9bYmeSNl8BmxB0RxG4Cv",hoverSpan:"_2F9bYmeSNl8BmxB0RxG4Cv",Info:"_1urK6AxAk9Sl76RgLUHOqh",info:"_1urK6AxAk9Sl76RgLUHOqh",OtherDiscussionsLink:"_3ho7cstbT7nk18_UjhL-yK",otherDiscussionsLink:"_3ho7cstbT7nk18_UjhL-yK",Row:"zW82EsY6Pakxpq4WWvsUG",row:"zW82EsY6Pakxpq4WWvsUG",SetSort:"_1Pn7_008tGFVitpaAxNI9b",setSort:"_1Pn7_008tGFVitpaAxNI9b",SingleCommentText:"_2iOrDLLjWlyPdmGh4fQMuE",singleCommentText:"_2iOrDLLjWlyPdmGh4fQMuE",SortLink:"_2C0TYCrsi0B3m8sQW0hmFv",sortLink:"_2C0TYCrsi0B3m8sQW0hmFv",Title:"_1MfL8RlT7Bsr76qYvR-nqM",title:"_1MfL8RlT7Bsr76qYvR-nqM",OtherDiscussionsTitle:"EWbXJkk31abU3uDUZEwjk",otherDiscussionsTitle:"EWbXJkk31abU3uDUZEwjk",Tooltip:"_2PA6P-upB6MB4B4I4WgZGA",tooltip:"_2PA6P-upB6MB4B4I4WgZGA",ViewFullLinkContainer:"_2Cjk95J3a3LyPUHsLEhO37",viewFullLinkContainer:"_2Cjk95J3a3LyPUHsLEhO37",ViewFullLinkOrOverlayLink:"_3P3T6fdpdL6GGPyCM7zs9q",viewFullLinkOrOverlayLink:"_3P3T6fdpdL6GGPyCM7zs9q",SortPicker:"_1nMYOibX9neGRqvcaCrPDz",sortPicker:"_1nMYOibX9neGRqvcaCrPDz",HighlightPicker:"_1n6gZPmNQU56UBglU718cx",highlightPicker:"_1n6gZPmNQU56UBglU718cx"}},"./src/reddit/components/CommentSort/OtherDiscussionsLink/index.m.less":function(e,t,s){e.exports={CommentIcon:"fLzaTyzSAeAH-ffsLzR8N",commentIcon:"fLzaTyzSAeAH-ffsLzR8N",OtherDiscussionsLink:"_193nwpaY0lYYFHsp0d3_2a",otherDiscussionsLink:"_193nwpaY0lYYFHsp0d3_2a",LinkComponent:"_2JcXLTUmbIjgJvoocAerfy",linkComponent:"_2JcXLTUmbIjgJvoocAerfy"}},"./src/reddit/components/Comments/Comment/ExpandButton/index.m.less":function(e,t,s){e.exports={Component:"_3XgXkbSTt-EadyaLszfRVf",component:"_3XgXkbSTt-EadyaLszfRVf"}},"./src/reddit/components/Comments/Comment/Flatlist/index.m.less":function(e,t,s){e.exports={ModActionsMenu:"_3IuprPPEDVWAHB_tWQFgad",modActionsMenu:"_3IuprPPEDVWAHB_tWQFgad",ViewReportsDropdown:"_1JwG70oEVxaFNeRI-8q_bd",viewReportsDropdown:"_1JwG70oEVxaFNeRI-8q_bd",supportButton:"_2YUu8EV4OahSxJwgb9xLbr",CommentIcon:"_1g4YvNNIFoV_5_EhsVfyRy",commentIcon:"_1g4YvNNIFoV_5_EhsVfyRy",DeleteIcon:"_2qXI-HGs_7CGNGoWfJJlra",deleteIcon:"_2qXI-HGs_7CGNGoWfJJlra",ModActionsIcon:"Ze7v50JhGmg3GbjEqSkxe",modActionsIcon:"Ze7v50JhGmg3GbjEqSkxe",Report:"tfULaYlP83dV84XOxX3YE",report:"tfULaYlP83dV84XOxX3YE",IgnoreReport:"_1QhRdH9FgEwuJIYiBlnog8",ignoreReport:"_1QhRdH9FgEwuJIYiBlnog8",OverflowMenuSpacer:"hrV8gUgmt0V7wM2wgZ81l",overflowMenuSpacer:"hrV8gUgmt0V7wM2wgZ81l",modModeEnabled:"_3Zh-H4HnMp24XdYQLnvThv",DropdownRow:"uoWjzSc1sqcAD_cLV6MWa",dropdownRow:"uoWjzSc1sqcAD_cLV6MWa",iconWrapper:"jap7xdwXZKV3I9Oj8GdgQ",Flatlist:"_1LXnp2ufrzN6ioaTLTjGQ1",flatlist:"_1LXnp2ufrzN6ioaTLTjGQ1",Button:"_374Hkkigy4E4srsI2WktEd",button:"_374Hkkigy4E4srsI2WktEd",ModToolsFlatlist:"_2sGRD7t2kAbCLKrZ6UjoMW",modToolsFlatlist:"_2sGRD7t2kAbCLKrZ6UjoMW"}},"./src/reddit/components/Comments/Comment/TopMeta/index.m.less":function(e,t,s){e.exports={badgeIconStyle:"_2MlVoXUc3Eo3KGWDukM9xn",modBadgeIconStyle:"_1kqPGnOAdnd9gPUXDU2_AS",DonationAmount:"_3sY3k4LLYR5dbXRxnGkhwG",donationAmount:"_3sY3k4LLYR5dbXRxnGkhwG",RightPositionedAuthorFlair:"_zMIUk6t-WDI7fxfkvD02",rightPositionedAuthorFlair:"_zMIUk6t-WDI7fxfkvD02",EditedText:"uMVXpG5M2xxHNW2g94S8K",editedText:"uMVXpG5M2xxHNW2g94S8K",MetaSeparator:"yJGcpQjpmA13QcuUz2h0B",metaSeparator:"yJGcpQjpmA13QcuUz2h0B",publicPoints:"_2LXcsgibmlCEsBPk8MLy7e",AuthorHoverCard:"_16AAktgl_rVbXAeiWU9CQd",authorHoverCard:"_16AAktgl_rVbXAeiWU9CQd",Component:"_36uQqfCEixcb8d3_aWB5H6",component:"_36uQqfCEixcb8d3_aWB5H6",AdminIcon:"_2IdAWdzNdIq-LUdJv0lpD6",adminIcon:"_2IdAWdzNdIq-LUdJv0lpD6",Approve:"_34mJxMS9sOCTo8dtFMQOLR",approve:"_34mJxMS9sOCTo8dtFMQOLR",Lock:"_3ATarJMtY0XRI9Lgu7e7DC",lock:"_3ATarJMtY0XRI9Lgu7e7DC",AdminEmeritus:"xIZgDbR-AMck1mC6sZI1m",adminEmeritus:"xIZgDbR-AMck1mC6sZI1m",Automoderator:"EytgzUMjj1jcbKtFsodey",automoderator:"EytgzUMjj1jcbKtFsodey",removed:"_2jIbl66ymb_twdJlZslQ-e",CakeIcon:"_1HLCDx7CkNvQgmNroGXenu",cakeIcon:"_1HLCDx7CkNvQgmNroGXenu",Moderator:"_174Mk1p6pYIrr6f1y6b4fn",moderator:"_174Mk1p6pYIrr6f1y6b4fn",Remove:"_1DQWCB93pHPVVJCXOGsblO",remove:"_1DQWCB93pHPVVJCXOGsblO",Report:"_2wYWDvjfG1JR6VNK9ryPFk",report:"_2wYWDvjfG1JR6VNK9ryPFk",Spam:"_3kK86gdpll9ihjOPWJE6f2",spam:"_3kK86gdpll9ihjOPWJE6f2",Op:"_2pZswNTz_uW46hN02djL7j",op:"_2pZswNTz_uW46hN02djL7j",Contractor:"_1hbZy7yehvtj0w4ec-2u3Y",contractor:"_1hbZy7yehvtj0w4ec-2u3Y",MetaLink:"_1sA-1jNHouHDpgCp1fCQ_F",metaLink:"_1sA-1jNHouHDpgCp1fCQ_F",StickiedText:"_1eNQE7Kj1TEqCLAn1BUKJy",stickiedText:"_1eNQE7Kj1TEqCLAn1BUKJy",DeletedText:"_2Wu4MNMVl4bsJ9iVnQz0dF",deletedText:"_2Wu4MNMVl4bsJ9iVnQz0dF",RemovalReason:"Gtgj2P-Js5aSN72H6Mqms",removalReason:"Gtgj2P-Js5aSN72H6Mqms",container:"_3ezOJqKdLbgkHsXcfvS5SA",collapsed:"_2k27lgIDltx9kOzVGXt48i",liveStreaming:"_1iUed95f0HTc84gBtoOxdc",metaText:"_3_GZIIN1xcMEC5AVuv4kfa"}},"./src/reddit/components/Comments/Comment/TopMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/reddit/actions/tooltip.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/constants/index.ts"),m=s("./src/lib/humanizeDateTime/index.ts"),p=s("./src/lib/lessComponent.tsx"),u=s("./src/lib/timeAgo/index.ts"),h=s("./src/reddit/components/AuthorLink/index.tsx"),b=s("./src/reddit/components/AwardBadges/index.tsx"),g=s("./src/reddit/components/Economics/SubredditPremium/Badges/UserDisplay/index.tsx"),x=s("./src/reddit/components/Economics/SubredditPremium/Badges/UsernameDisplay/index.tsx"),v=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),C=s("./src/reddit/featureFlags/index.ts"),O=s("./src/reddit/selectors/economics.ts"),f=s("./src/reddit/components/Economics/TopTippers/Icon/index.tsx"),E=s("./src/reddit/components/Economics/TopTippers/CommentUsername/index.m.less"),y=s.n(E);const j=e=>{switch(e){case 1:return{color:"#FF2500",fontWeight:700};case 2:return{color:"#FF7300",fontWeight:700};case 3:return{color:"#FFA200",fontWeight:700};default:return{}}};var P=Object(r.b)(()=>Object(a.c)({post:(e,{contentId:t})=>e.posts.models[t],tippers:(e,t)=>{if(C.d.spTopTippers(e))return Object(O.m)(e,t)}}))(function(e){if(e.tippers&&e.tippers.allTippers.has(e.userId)){const t=e.tippers.topTippers.ranking[e.userId]||5,s=o.a.cloneElement(o.a.Children.only(e.children),{style:j(t)});return o.a.createElement("div",{className:y.a.container},o.a.createElement(f.a,{className:y.a.badge,creatorId:e.creatorId||e.post&&e.post.authorId,rank:t,subredditId:e.subredditId}),s)}return e.children}),w=s("./src/reddit/components/Flair/index.tsx"),I=s("./src/reddit/components/Governance/UserPublicPointsDisplay/async.tsx"),S=s("./src/reddit/components/Hovercards/AuthorHovercard/index.tsx"),T=s("./src/reddit/components/InfoTextTooltip/index.tsx"),k=s("./src/reddit/components/JSAPIContainers/index.tsx"),_=s("./src/reddit/components/PostTopMeta/index.tsx"),N=s("./src/reddit/helpers/isRemoved.ts"),L=s("./src/reddit/helpers/modTooltipTemplates/index.ts"),M=s("./src/reddit/helpers/showReportIndicator/index.ts"),R=s("./src/reddit/i18n/utils.ts"),F=s("./src/reddit/actions/comment.ts"),B=s("./src/reddit/actions/removalReasons/index.ts"),A=s("./src/reddit/models/Comment/index.ts"),D=s("./src/reddit/models/Flair/index.ts"),V=s("./src/reddit/icons/fonts/Admin/index.tsx"),W=s("./src/reddit/icons/fonts/Approve/index.tsx"),H=s("./src/reddit/icons/fonts/Lock/index.tsx"),U=s("./src/reddit/icons/fonts/helpers.tsx"),z=s("./src/reddit/icons/fonts/Op/index.m.less"),K=s.n(z);var G=p.a.wrapped(e=>o.a.createElement("i",{className:`${Object(U.b)("op")} ${e.className}`,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.a.createElement(U.a,null,e.desc)),"OpIcon",K.a),q=s("./src/reddit/icons/fonts/Remove/index.tsx"),J=s("./src/reddit/icons/fonts/Report/index.tsx"),Y=s("./src/reddit/icons/fonts/Spam/index.tsx"),Q=s("./src/reddit/icons/svgs/Automoderator/index.tsx"),X=s("./src/reddit/icons/svgs/Cake/index.tsx"),Z=s("./src/reddit/icons/svgs/Moderate/index.tsx"),$=s("./src/reddit/controls/MetaData/index.tsx"),ee=s("./src/reddit/selectors/subreddit.ts"),te=s("./src/reddit/selectors/userFlair.ts"),se=s("./src/reddit/components/Comments/Comment/TopMeta/index.m.less"),ne=s.n(se),oe=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const re=p.a.wrapped(w.b,"RightPositionedAuthorFlair",ne.a),ae=p.a.wrapped(V.a,"AdminIcon",ne.a),ie=p.a.wrapped(W.a,"Approve",ne.a),ce=p.a.wrapped(H.a,"Lock",ne.a),de=p.a.div("AdminEmeritus",ne.a),le=p.a.wrapped(Q.a,"Automoderator",ne.a),me=p.a.wrapped(X.a,"CakeIcon",ne.a),pe=p.a.wrapped(Z.a,"Moderator",ne.a),ue=p.a.wrapped(q.a,"Remove",ne.a),he=p.a.wrapped(J.a,"Report",ne.a),be=p.a.wrapped(Y.a,"Spam",ne.a),ge=p.a.wrapped(G,"Op",ne.a),xe=p.a.wrapped(V.a,"Contractor",ne.a),ve=p.a.a("MetaLink",ne.a),Ce=p.a.wrapped($.a,"EditedText",ne.a),Oe=p.a.wrapped($.a,"StickiedText",ne.a),fe=p.a.span("DeletedText",ne.a),Ee=p.a.wrapped($.a,"MetaSeparator",ne.a),ye=p.a.wrapped(S.b,"AuthorHoverCard",ne.a),je=p.a.a("RemovalReason",ne.a),Pe=p.a.wrapped(g.b,"Component",ne.a),we=Object(i.d)("comment.children"),Ie=Object(i.d)("comment.moreThanChildren"),Se=e=>(t,{comment:s,renderedInOverlay:n})=>`${e}${s.id}${n?"inOverlay":""}`,Te=Object(i.e)("comment.tooltips.admin"),ke=Object(i.e)("comment.tooltips.cakeday"),_e=Object(i.e)("comment.tooltips.adminEmeritus"),Ne=Object(i.e)("comment.tooltips.moderator"),Le=Object(i.e)("comment.tooltips.op"),Me=Object(i.e)("comment.tooltips.contractor"),Re=Object(r.b)(()=>Object(a.c)({adminTooltipId:Se("CommentTopMeta--Admin--"),cakedayTooltipId:Se("CommentTopMeta--cakeday--"),adminEmeritusTooltipId:Se("CommentTopMeta--AdEm--"),automodTooltipId:Se("CommentTopMeta--Automod--"),approveTooltipId:Se("CommentTopMeta--Approve--"),createdTooltipId:Se("CommentTopMeta--Created--"),contractorTooltipId:Se("CommentTopMeta--Contractor--"),gildedTooltipId:Se("CommentTopMeta--Gold--"),lockedTooltipId:Se("CommentTopMeta--Locked--"),modTooltipId:Se("CommentTopMeta--Mod--"),opTooltipId:Se("CommentTopMeta--OP--"),removeTooltipId:Se("CommentTopMeta--Remove--"),reportTooltipId:Se("CommentTopMeta--Report--"),spamTooltipId:Se("CommentTopMeta--Spam--"),subredditDisplayText:(e,t)=>{const s=Object(ee.P)(e,{commentId:t.comment.id});return s?s.displayText:""},topTippersEnabled:C.d.spTopTippers,flairPosition:(e,{comment:t})=>Object(te.d)(e,{subredditId:t.subredditId})}),(e,t)=>({onCreatedClick:()=>{window.addEventListener("focus",function s(){((e,t,s)=>{window.removeEventListener("focus",s),e(Object(F.O)({commentListNodeId:t})),window.setTimeout(()=>e(Object(F.O)({commentListNodeId:t})),5e3)})(e,t.comment.id,s)})},onHideTooltip:()=>e(Object(c.f)()),onShowTooltip:t=>e(Object(c.d)({tooltipId:t})),openRemovalReasonModal:()=>e(Object(B.d)(t.comment.subredditId,[t.comment.id]))}));t.a=Re(e=>{const t=e.adminEmeritusTooltipId,s=e.adminTooltipId,n=e.approveTooltipId,r=e.automodTooltipId,a=e.cakedayTooltipId,i=e.children,c=e.className,m=e.collapsed,p=e.comment,u=e.commentsPageKey,h=e.contractorTooltipId,g=e.compact,C=e.flair,O=e.flairPosition,f=e.isLivestreaming,E=e.ignoreLock,y=e.language,j=e.lockedTooltipId,P=e.modTooltipId,S=e.onHideTooltip,T=e.onShowTooltip,N=e.opTooltipId,L=e.openRemovalReasonModal,M=e.patreonPatronFlair,R=e.removeTooltipId,F=e.renderContractorBadge,B=e.renderedInOverlay,V=e.reportTooltipId,W=e.spamTooltipId,H=e.subredditDisplayText,U=e.topTippersEnabled;if(p.isDeleted)return o.a.createElement(Fe,Object.assign({},e,{className:Object(d.a)(c,ne.a.container,{[ne.a.collapsed]:m})}));if(m)return o.a.createElement(Be,Object.assign({},e,{className:Object(d.a)(c,ne.a.container,{[ne.a.collapsed]:m})}));const z=O===D.b.Left;return o.a.createElement("div",{className:Object(d.a)(c,ne.a.container,{[ne.a.collapsed]:m,[ne.a.liveStreaming]:f})},C&&z&&o.a.createElement(w.b,{flair:C,forceSmallEmojis:g}),M&&z&&o.a.createElement(w.b,{flair:M,forceSmallEmojis:g}),!Object(A.d)(p)&&o.a.createElement(Pe,{showAddCustom:!0,subredditId:p.subredditId,userId:p.authorId,uniqueIdentifier:p.id}),o.a.createElement(ye,{postOrComment:p,tooltipType:B?_.c.Lightbox:void 0},o.a.createElement(x.b,{ignore:Object(A.d)(p)||!!p.distinguishType&&p.distinguishType!==l.D.NONE,subredditId:p.subredditId,userId:p.authorId},o.a.createElement(De,{comment:p,isLivestreaming:f,isStrong:!!g,isAuthorDeleted:Object(A.d)(p),topTippersEnabled:U},i&&i))),C&&!z&&o.a.createElement(re,{flair:C,forceSmallEmojis:g}),M&&!z&&o.a.createElement(re,{flair:M,forceSmallEmojis:g}),!g&&o.a.createElement(I.a,{className:ne.a.publicPoints,contentId:p.id,subredditId:p.subredditId,userId:p.authorId,username:p.author}),o.a.createElement(o.a.Fragment,null,o.a.createElement(k.b,{commentId:p.id}),o.a.createElement(k.a,{commentId:p.id,commentsPageKey:u}),o.a.createElement(He,Object.assign({},{comment:p,compact:g,adminTooltipId:s,adminEmeritusTooltipId:t,cakedayTooltipId:a,contractorTooltipId:h,language:y,modTooltipId:P,onHideTooltip:S,onShowTooltip:T,opTooltipId:N,renderContractorBadge:F,subredditDisplayText:H}))),!g&&o.a.createElement(o.a.Fragment,null,!p.isDeleted&&o.a.createElement($.b,{className:ne.a.metaText,isScoreHidden:p.isScoreHidden,language:y,score:p.score}),o.a.createElement($.c,{className:ne.a.metaText,key:"scoreCreatedSeparator"}),o.a.createElement(Ve,Object.assign({key:"Created"},e)),p.isStickied&&ze(y),p.editedAt&&Ae(y,p.editedAt)),o.a.createElement(o.a.Fragment,null,o.a.createElement(Ue,Object.assign({},{comment:p,approveTooltipId:n,automodTooltipId:r,ignoreLock:E,language:y,lockedTooltipId:j,onHideTooltip:S,onShowTooltip:T,openRemovalReasonModal:L,removeTooltipId:R,reportTooltipId:V,spamTooltipId:W})),o.a.createElement(v.a,{className:ne.a.DonationAmount,contentId:p.id,subredditId:p.subredditId})),o.a.createElement(b.a,{tooltipType:B?_.c.Lightbox:void 0,thing:p}))});const Fe=e=>{const t=e.language,s=e.childrenInfo,n=e.collapsed,r=e.className,a=e.comment;return o.a.createElement("div",{className:r},o.a.createElement(fe,null,a.deletedBy===A.a.User?Object(i.a)(t,"comment.commentDeletedByAuthor"):Object(i.a)(t,"comment.commentDeletedByMod")),o.a.createElement(Ve,Object.assign({key:"Created"},e)),n&&We({childrenInfo:s,language:t}))},Be=e=>{const t=e.comment,s=e.language,n=e.className,r=e.childrenInfo;return o.a.createElement("div",{className:n},o.a.createElement("div",null,o.a.createElement(De,{comment:t,isAuthorDeleted:Object(A.d)(t),topTippersEnabled:!1})),o.a.createElement($.b,{className:ne.a.metaText,isScoreHidden:t.isScoreHidden,language:s,score:t.score}),o.a.createElement($.c,{className:ne.a.metaText,key:"scoreCreatedSeparator"}),o.a.createElement(Ve,Object.assign({key:"Created"},e)),We({childrenInfo:r,language:s}))},Ae=(e,t)=>o.a.createElement(n.Fragment,null,o.a.createElement($.c,{className:ne.a.metaText}),o.a.createElement(Ce,null,Object(i.a)(e,"comment.edited",{time:Object(u.b)(e,t)}))),De=e=>{const t=o.a.createElement(h.a,{author:e.comment.author,isAdmin:e.comment.isAdmin,isAdminEmeritus:e.comment.distinguishType===l.D.ALUMNI_ADMIN,isAuthorDeleted:e.isAuthorDeleted,isLivestreaming:e.isLivestreaming,isMod:e.comment.isMod,isOp:e.comment.isOp,isStrong:e.isStrong,style:e.style},e.children&&e.children,e.comment.author);return e.topTippersEnabled?o.a.createElement(P,{contentId:e.comment.postId,subredditId:e.comment.subredditId,userId:e.comment.authorId},t):t};class Ve extends o.a.PureComponent{constructor(){super(...arguments),this.onShowCreatedTooltip=(()=>this.props.onShowTooltip(this.props.createdTooltipId))}render(){const e=this.props,t=e.comment,s=e.language,n=e.onCreatedClick,r=oe(e,["comment","language","onCreatedClick"]);return o.a.createElement(ve,{href:t.permalink,id:r.createdTooltipId,onClick:n,onMouseEnter:this.onShowCreatedTooltip,onMouseLeave:r.onHideTooltip,rel:"nofollow",target:"_blank"},o.a.createElement("span",null,Object(u.b)(s,t.created)),Ke(r.createdTooltipId,Object(m.a)(t.created)))}}const We=e=>{var t=e.childrenInfo||{hasContinueThread:!1,numChildren:0};const s=t.hasContinueThread,n=t.numChildren;return o.a.createElement(Ee,{className:ne.a.metaText},"(",s?Ie(e.language,n,{numChildren:n}):we(e.language,n,{numChildren:n}),")")};class He extends o.a.PureComponent{constructor(){super(...arguments),this.onShowCakedayTooltip=(()=>this.props.onShowTooltip(this.props.cakedayTooltipId)),this.onShowAdminTooltip=(()=>this.props.onShowTooltip(this.props.adminTooltipId)),this.onShowAdminEmeritusTooltip=(()=>this.props.onShowTooltip(this.props.adminEmeritusTooltipId)),this.onShowModTooltip=(()=>this.props.onShowTooltip(this.props.modTooltipId)),this.onShowOpTooltip=(()=>this.props.onShowTooltip(this.props.opTooltipId)),this.onShowContractorTooltip=(()=>this.props.onShowTooltip(this.props.contractorTooltipId))}render(){const e=this.props,t=e.comment,s=oe(e,["comment"]);return o.a.createElement(n.Fragment,null,t.isAuthorCakeday&&o.a.createElement(me,{"aria-label":ke(s.language),id:s.cakedayTooltipId,onMouseEnter:this.onShowCakedayTooltip,onMouseLeave:s.onHideTooltip}),t.isAuthorCakeday&&Ke(s.cakedayTooltipId,ke(s.language)),t.isAdmin&&o.a.createElement(ae,{desc:Te(s.language),id:s.adminTooltipId,onMouseEnter:this.onShowAdminTooltip,onMouseLeave:s.onHideTooltip}),t.isAdmin&&Ke(s.adminTooltipId,Te(s.language)),t.distinguishType===l.D.ALUMNI_ADMIN&&o.a.createElement(de,{"aria-label":_e(s.language),children:"Δ",id:s.adminEmeritusTooltipId,onMouseEnter:this.onShowAdminEmeritusTooltip,onMouseLeave:s.onHideTooltip}),t.distinguishType===l.D.ALUMNI_ADMIN&&Ke(s.adminEmeritusTooltipId,_e(s.language)),t.isMod&&o.a.createElement(pe,{desc:Ne(s.language,{displayText:s.subredditDisplayText}),id:s.modTooltipId,onMouseEnter:this.onShowModTooltip,onMouseLeave:s.onHideTooltip}),t.isMod&&Ke(s.modTooltipId,Ne(s.language,{displayText:s.subredditDisplayText})),t.isOp&&o.a.createElement(ge,{desc:Le(s.language),id:s.opTooltipId,onMouseEnter:this.onShowOpTooltip,onMouseLeave:s.onHideTooltip}),t.isOp&&Ke(s.opTooltipId,Le(s.language)),s.renderContractorBadge&&o.a.createElement(xe,{desc:Me(s.language),id:s.contractorTooltipId,onMouseEnter:this.onShowContractorTooltip,onMouseLeave:s.onHideTooltip}),s.renderContractorBadge&&Ke(s.contractorTooltipId,Me(s.language)))}}class Ue extends o.a.PureComponent{constructor(){super(...arguments),this.onShowApproveTooltip=(()=>this.props.onShowTooltip(this.props.approveTooltipId)),this.onShowRemoveTooltip=(()=>this.props.onShowTooltip(this.props.removeTooltipId)),this.onShowSpamTooltip=(()=>this.props.onShowTooltip(this.props.spamTooltipId)),this.onShowAutomodTooltip=(()=>this.props.onShowTooltip(this.props.automodTooltipId)),this.onShowReportTooltip=(()=>this.props.onShowTooltip(this.props.reportTooltipId))}render(){const e=this.props,t=e.comment,s=oe(e,["comment"]);return o.a.createElement(n.Fragment,null,(t.approvedBy||t.isApproved)&&o.a.createElement(ie,{desc:Object(L.a)(s.language,t),id:s.approveTooltipId,onMouseEnter:this.onShowApproveTooltip,onMouseLeave:s.onHideTooltip}),(t.approvedBy||t.isApproved)&&Ke(s.approveTooltipId,Object(L.a)(s.language,t)),Object(N.a)(t)&&o.a.createElement(ue,{desc:Object(L.c)(s.language,t),id:s.removeTooltipId,onMouseEnter:this.onShowRemoveTooltip,onMouseLeave:s.onHideTooltip}),Object(N.a)(t)&&Ke(s.removeTooltipId,Object(L.c)(s.language,t)),Object(N.a)(t)&&t.isRemoved&&!t.modNote&&!t.modRemovalReason&&o.a.createElement(je,{onClick:s.openRemovalReasonModal},Object(i.a)(s.language,"modTools.addARemovalReason")),Object(N.a)(t)&&!(t.isRemoved&&!t.modNote&&!t.modRemovalReason)&&o.a.createElement(je,{onMouseEnter:this.onShowRemoveTooltip,onMouseLeave:s.onHideTooltip},Object(i.a)(s.language,"modTools.removalReason")),t.isLocked&&!s.ignoreLock&&o.a.createElement(ce,{desc:Object(R.c)("Locked"),id:s.lockedTooltipId,onMouseEnter:()=>{s.onShowTooltip(s.lockedTooltipId)},onMouseLeave:s.onHideTooltip}),t.bannedBy&&t.isSpam&&o.a.createElement(be,{desc:Object(L.e)(s.language,t),id:s.spamTooltipId,onMouseEnter:this.onShowSpamTooltip,onMouseLeave:s.onHideTooltip}),t.bannedBy&&t.isSpam&&Ke(s.spamTooltipId,Object(L.e)(s.language,t)),("AutoModerator"===t.bannedBy||"AutoModerator"===t.approvedBy)&&o.a.createElement(le,{className:Object(d.a)({[ne.a.removed]:!!t.bannedBy}),desc:Object(L.b)(s.language),id:s.automodTooltipId,key:s.automodTooltipId,onMouseEnter:this.onShowAutomodTooltip,onMouseLeave:s.onHideTooltip}),("AutoModerator"===t.bannedBy||"AutoModerator"===t.approvedBy)&&Ke(s.automodTooltipId,Object(L.b)(s.language)),Object(M.a)(t)&&o.a.createElement(he,{desc:Object(L.d)(s.language,t.numReports),id:s.reportTooltipId,onMouseEnter:this.onShowReportTooltip,onMouseLeave:s.onHideTooltip}),Object(M.a)(t)&&Ke(s.reportTooltipId,Object(L.d)(s.language,t.numReports)))}}const ze=e=>o.a.createElement(n.Fragment,null,o.a.createElement($.c,{className:ne.a.metaText}),o.a.createElement(Oe,null,Object(i.a)(e,"comment.stickied"))),Ke=(e,t)=>o.a.createElement(T.c,{tooltipId:e,text:t})},"./src/reddit/components/Comments/Comment/index.m.less":function(e,t,s){e.exports={ExpandButton:"_1nGapmdexvR0BuOkfAi6wa",expandButton:"_1nGapmdexvR0BuOkfAi6wa",ErrorText:"_3XArRVBsKuWegVHX9CQjH-",errorText:"_3XArRVBsKuWegVHX9CQjH-",CommentBody:"_3cjCphgls6DH-irkVaA0GM",commentBody:"_3cjCphgls6DH-irkVaA0GM",EditCommentForm:"JchsqHyN3thfSnN8dUM3",editCommentForm:"JchsqHyN3thfSnN8dUM3",VerticalVotes:"kB7GZ7EzNg1Msq-nEnY0z",verticalVotes:"kB7GZ7EzNg1Msq-nEnY0z",voteButton:"_2m5vzALl8kQdr9kwIFUo5t",upDownVote:"_22nWXKAY6OzAfK5GcUqWV2",CommentContentWrapper:"_3tw__eCCe7j-epNCKGXUKk",commentContentWrapper:"_3tw__eCCe7j-epNCKGXUKk",isPendingDeletion:"_2R8NbVFaqNnBbuA7o2osje",isRemoved:"_2zA6eSGIr_oQU7np0uNqoB",isLocked:"t8jgOblBrQTKWHnVy0zGD",isActive:"_1vvFtxiq5874iIdCUYlL-d",isCollapsed:"BjX6VVsz_8JJDN1Ap9_IL",highlightComment:"_2ym9uYDdCxu8P4UFCLNCgE",CommentWrapper:"P8SGAKMtRxNwlmLz1zdJu",commentWrapper:"P8SGAKMtRxNwlmLz1zdJu",focused:"_1Sy9NCNbLA9uJZj-qgUrMG",topLevel:"_1z5rdmX8TDr6mqwNv7A70U",TopMeta:"_1S45SPAIb30fsXtEcKPSdt",topMeta:"_1S45SPAIb30fsXtEcKPSdt",collapsed:"_3c9Go6433BnvYx8_7MkPnt",CommentCreation:"_2jhbZV6mVCM5Ma7Z376DW2",commentCreation:"_2jhbZV6mVCM5Ma7Z376DW2"}},"./src/reddit/components/Comments/CommentListNode/index.m.less":function(e,t,s){e.exports={CommentListNodeWrapper:"_3sf33-9rVAO_v4y0pIW_CH",commentListNodeWrapper:"_3sf33-9rVAO_v4y0pIW_CH",isHidden:"_2csJ1c6CZ_3VQ75SVdUAwt"}},"./src/reddit/components/Comments/ContinueThreadLink/index.m.less":function(e,t,s){e.exports={ArrowRight:"egHA5MD_goQfvgLP3zgST",arrowRight:"egHA5MD_goQfvgLP3zgST",HoverSpan:"_2bsN7AuzEexqxXD-vhOkM7",hoverSpan:"_2bsN7AuzEexqxXD-vhOkM7",Wrapper:"_3ndawrYzcvjHPJFYUHijfP",wrapper:"_3ndawrYzcvjHPJFYUHijfP",isActive:"btJMgy_2EOVvOVP-DikGZ",LinkOrOverlayLink:"b57A3J7QBa7TvY8XeupVn",linkOrOverlayLink:"b57A3J7QBa7TvY8XeupVn"}},"./src/reddit/components/Comments/MoreCommentsItem/index.m.less":function(e,t,s){e.exports={MoreCommentsItemWrapper:"_3_mqV5-KnILOxl1TvgYtCk",moreCommentsItemWrapper:"_3_mqV5-KnILOxl1TvgYtCk",MoreComments:"_2HYsucNpMdUpYlGBMviq8M",moreComments:"_2HYsucNpMdUpYlGBMviq8M",MoreCommentsInteractive:"_23013peWUhznY89KuYPZKv",moreCommentsInteractive:"_23013peWUhznY89KuYPZKv",isActive:"l7--vTMsoEqrU8pjG52TF"}},"./src/reddit/components/Comments/States/index.m.less":function(e,t,s){e.exports={CommentsPlaceholderContainer:"_2o0N1VHuLszWHqY5A8iayv",commentsPlaceholderContainer:"_2o0N1VHuLszWHqY5A8iayv",CommentPlaceholder:"_2114DnVtHe_0MtbEW85tnL",commentPlaceholder:"_2114DnVtHe_0MtbEW85tnL",VoteColumn:"_3j7WNOCzFwCp1SXZGJP1-V",voteColumn:"_3j7WNOCzFwCp1SXZGJP1-V",TextColumn:"_3tQxKBNuEJsKH_mPQEy34W",textColumn:"_3tQxKBNuEJsKH_mPQEy34W",StateContainer:"TbMmDiSaSaBQFF9F3FGe8",stateContainer:"TbMmDiSaSaBQFF9F3FGe8",CommentsIcon:"_1-f8S_KoiOmIpA8kGxOgfh",commentsIcon:"_1-f8S_KoiOmIpA8kGxOgfh",SnooFacepalm:"_2AxaYiv6EkZse5msRZqowQ",snooFacepalm:"_2AxaYiv6EkZse5msRZqowQ",EmptyTitle:"_39dVqXnozb8JxasPyFPu6C",emptyTitle:"_39dVqXnozb8JxasPyFPu6C",ErrorTitle:"_2Nj40mHW74FkFefq6oqWkb",errorTitle:"_2Nj40mHW74FkFefq6oqWkb",EmptyText:"_2x3Avx0lbWMcic-5bE_guO",emptyText:"_2x3Avx0lbWMcic-5bE_guO",LoadingFullPage:"_3kZ_esGcijvfnM9KjA27vj",loadingFullPage:"_3kZ_esGcijvfnM9KjA27vj",Upvote:"_1lwmFW6D9PmeT_QA-R5F_0",upvote:"_1lwmFW6D9PmeT_QA-R5F_0",Downvote:"_32W1DnzyRkYXP82ZO96H0V",downvote:"_32W1DnzyRkYXP82ZO96H0V",TopMetaPlaceholder:"_24vSs1yG3YhINbU6QRiFR9",topMetaPlaceholder:"_24vSs1yG3YhINbU6QRiFR9",CommentBodyPlaceholder:"_3S0qviXPTlIEUjYjSKT_Lb",commentBodyPlaceholder:"_3S0qviXPTlIEUjYjSKT_Lb"}},"./src/reddit/components/Comments/States/index.tsx":function(e,t,s){"use strict";s.d(t,"c",function(){return T}),s.d(t,"b",function(){return k}),s.d(t,"g",function(){return _}),s.d(t,"e",function(){return N}),s.d(t,"d",function(){return L}),s.d(t,"f",function(){return M}),s.d(t,"a",function(){return U});var n=s("./node_modules/lodash/times.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./src/app/strings/index.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/lessComponent.tsx"),m=s("./src/reddit/actions/page.ts"),p=s("./src/reddit/components/Media/LoadingIcon/index.tsx"),u=s("./src/reddit/controls/Button/index.tsx"),h=s("./src/reddit/helpers/describeApiError/index.ts"),b=s("./src/reddit/helpers/path/index.ts"),g=s("./src/reddit/helpers/styles/mixins/loading.ts"),x=s("./src/reddit/i18n/components.tsx"),v=s("./src/reddit/icons/fonts/Downvote/index.tsx"),C=s("./src/reddit/icons/fonts/Upvote/index.tsx"),O=s("./src/reddit/icons/svgs/Comments/index.tsx"),f=s("./src/reddit/icons/svgs/SnooFacepalm/index.tsx"),E=s("./src/reddit/components/Comments/States/index.m.less"),y=s.n(E);const j=l.a.wrapped(O.a,"CommentsIcon",y.a),P=l.a.wrapped(f.a,"SnooFacepalm",y.a),w=l.a.p("EmptyTitle",y.a),I=l.a.p("ErrorTitle",y.a),S=l.a.p("EmptyText",y.a),T=({className:e,isChat:t})=>a.a.createElement("div",{className:Object(d.a)(y.a.StateContainer,e)},a.a.createElement(j,null),a.a.createElement(w,null,a.a.createElement(x.c,null,"no ",t?"messages":"comments"," yet")),a.a.createElement(S,null,a.a.createElement(x.c,null,"Be the first to share what you think!"))),k=()=>a.a.createElement("div",{className:y.a.StateContainer},a.a.createElement(j,null),a.a.createElement(w,null,a.a.createElement(x.c,null,"no other discussions yet")),a.a.createElement(S,null,a.a.createElement(x.c,null,"Be the first to post the same link or crosspost in another community!"))),_=({link:e})=>a.a.createElement("div",{className:y.a.StateContainer},a.a.createElement(j,null),a.a.createElement(w,null,a.a.createElement(x.c,null,"That comment is missing")),a.a.createElement(u.h,{to:Object(b.b)(e)},a.a.createElement(x.c,null,"View all comments"))),N=Object(i.b)(null,(e,{postId:t,commentId:s,sort:n})=>({onClick:()=>e(Object(m.s)(t,s,{sort:n},n))}))(({apiError:e,language:t,onClick:s})=>a.a.createElement("div",{className:y.a.StateContainer},a.a.createElement(P,null),a.a.createElement(I,null,e?Object(h.a)({apiError:e,language:t,isLoggedOut:!1}):Object(c.a)(t,"comment.error")),a.a.createElement(u.f,{onClick:s},a.a.createElement(x.c,null,"retry")))),L=()=>a.a.createElement("div",null,"500"),M=l.a.wrapped(({className:e})=>a.a.createElement("div",{className:e},a.a.createElement(p.a,null)),"LoadingFullPage",y.a),R=l.a.div("CommentsPlaceholderContainer",y.a),F=l.a.div("CommentPlaceholder",y.a),B=l.a.div("VoteColumn",y.a),A=l.a.div("TextColumn",y.a),D=l.a.wrapped(C.a,"Upvote",y.a),V=l.a.wrapped(v.a,"Downvote",y.a),W=()=>a.a.createElement("div",{className:Object(d.a)(y.a.TopMetaPlaceholder,Object(g.a)({isLoading:!0}))}),H=()=>a.a.createElement("div",{className:Object(d.a)(y.a.CommentBodyPlaceholder,Object(g.a)({isLoading:!0}))}),U=()=>a.a.createElement(R,null,o()(10,e=>a.a.createElement(F,{key:e},a.a.createElement(B,null,a.a.createElement(D,null),a.a.createElement(V,null)),a.a.createElement(A,null,a.a.createElement(W,null),a.a.createElement(H,null)))))},"./src/reddit/components/Comments/ThreadLines/index.m.less":function(e,t,s){e.exports={Line:"_36AIN2ppxy_z-XSDxTvYj5",line:"_36AIN2ppxy_z-XSDxTvYj5",LineContainer:"_1DooEIX-1Nj5rweIc5cw_E",lineContainer:"_1DooEIX-1Nj5rweIc5cw_E",ShortLineContainer:"_3Wv3am0TXfTcugZJ6niui",shortLineContainer:"_3Wv3am0TXfTcugZJ6niui"}},"./src/reddit/components/Comments/index.m.less":function(e,t,s){e.exports={Scroller:"_1YCqQVO-9r-Up6QPB9H6_4",scroller:"_1YCqQVO-9r-Up6QPB9H6_4"}},"./src/reddit/components/CommentsChat/Comment/ChatIcon/index.m.less":function(e,t,s){e.exports={icon:"_3SwKz63oDhqTWK_aG-xnXF",Userpic:"_1c_u99Y2cLg7hhjeq50Op6",userpic:"_1c_u99Y2cLg7hhjeq50Op6",TrashIcon:"_2xUH_6ZFDwVzDXthdBMEyN",trashIcon:"_2xUH_6ZFDwVzDXthdBMEyN",ProfileIcon:"_2OVsvDCTt2OzgIct4dAykk",profileIcon:"_2OVsvDCTt2OzgIct4dAykk"}},"./src/reddit/components/CommentsChat/Comment/ChatIcon/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./bundled-modules/styled-components/styled-components.min.js"),c=s.n(i),d=s("./src/lib/lessComponent.tsx"),l=s("./src/config.ts"),m=s("./node_modules/lodash/memoize.js"),p=s.n(m),u=s("./src/lib/constants/index.ts"),h=["FF4500","0DD3BB","24A0ED","FFB000","FF8717","46D160","25B79F","0079D3","4856A3","C18D42","A06A42","46A508","008985","7193FF","7E53C1","FFD635","DDBD37","D4E815","94E044","FF66AC","DB0064","FF585B","EA0027","A5A4A4","545452"],b=s("./src/reddit/components/CommentsChat/Comment/ChatIcon/index.m.less"),g=s.n(b);const x=d.a.div("Userpic",g.a);var v=p()(e=>{const t=e.userId,s=l.a.processingAvatarImageUrl;var n=(e=>{const t=h.length,s=parseInt(e,36),n=s%20+1,o=Math.floor(s/20)%t;return{avatar:("0"+n).slice(-2),color:h[o]}})((e=>e.replace(u.mb.ACCOUNT+"_",""))(t));const r=n.avatar,a=n.color,i=`${s}/avatar_default_${r}_${a}.png`;return o.a.createElement(x,{style:{backgroundImage:`url(${i})`,backgroundColor:`#${a}`}})}),C=s("./src/reddit/icons/svgs/Redditor/index.tsx"),O=s("./src/reddit/icons/svgs/Trash2/index.tsx"),f=s("./src/reddit/models/Theme/NewColorSystem/index.ts");const E=d.a.img("Userpic",g.a),y=Object(i.css)(["."," {fill: ",";border: 1px solid ",";}."," {color: ",";fill: ",";}"],g.a.TrashIcon,e=>Object(f.a)(e).actionIcon,e=>Object(f.a)(e).actionIcon,g.a.ProfileIcon,e=>Object(f.a)(e).actionIcon,e=>Object(f.a)(e).actionIcon),j=Object(a.c)({account:e=>e.user.account}),P=Object(r.b)(j);t.a=c()(P(({account:e,className:t,height:s,isLivestreaming:n,trash:r,userId:a,width:i})=>{const c=n?36:20,d={height:s||c,width:i||c,minWidth:i||c};return r?o.a.createElement("div",{className:t,style:d},o.a.createElement(O.b,{className:g.a.TrashIcon})):a?o.a.createElement("div",{className:t,style:d},e&&e.accountIcon&&e.id===a?o.a.createElement(E,{src:e.accountIcon,alt:"user icon"}):o.a.createElement(v,{userId:a})):o.a.createElement("div",{className:t,style:d},e&&e.accountIcon?o.a.createElement(E,{src:e.accountIcon,alt:"user icon"}):o.a.createElement(C.a,{className:g.a.ProfileIcon}))})).withConfig({componentId:"s1eyfl5t-0"})(["",""],y)},"./src/reddit/components/CommentsChat/Comment/Menu/index.m.less":function(e,t,s){e.exports={Menu:"_5my6mpNfA-0tUAWEfSqKg",menu:"_5my6mpNfA-0tUAWEfSqKg",Livestreaming:"_3BiWoByLkhvgOFD5mQKC3P",livestreaming:"_3BiWoByLkhvgOFD5mQKC3P",MenuItem:"_2w0PAV-r7nSn2rWmPNSgkZ",menuItem:"_2w0PAV-r7nSn2rWmPNSgkZ",MenuItemPermalink:"_2aYTbUyyYyWA0n00oUWj1v",menuItemPermalink:"_2aYTbUyyYyWA0n00oUWj1v",FlagIcon:"_269qxNSrwp7r6TRmz330pB",flagIcon:"_269qxNSrwp7r6TRmz330pB",EditIcon:"_3PW1UsfpSAMxomcTcf_ikU",editIcon:"_3PW1UsfpSAMxomcTcf_ikU",TrashIcon:"y5OXD3zhZe6eOjDY_te9N",trashIcon:"y5OXD3zhZe6eOjDY_te9N",ModerateIcon:"_3F-lOXATknFM_Vw8fVMhbq",moderateIcon:"_3F-lOXATknFM_Vw8fVMhbq"}},"./src/reddit/components/CommentsChat/Comment/index.m.less":function(e,t,s){e.exports={Menu:"_2qe0ML8CXcWe4YSyvE9LgB",menu:"_2qe0ML8CXcWe4YSyvE9LgB",CommentWrapper:"_1cLn4fCD5gseRsUmt4bMvC",commentWrapper:"_1cLn4fCD5gseRsUmt4bMvC",LivestreamingCommentWrapper:"_2eTWiuSXGVaOGc5m6zQgeI",livestreamingCommentWrapper:"_2eTWiuSXGVaOGc5m6zQgeI",livestreamingTimeStamp:"_3tm5nGCrgdKGC7teW20lkz",Time:"_3zcUapb9ifA8a4OWCpuUSq",time:"_3zcUapb9ifA8a4OWCpuUSq",ErrorText:"_2juClHvsqBfQddQtKSlF6V",errorText:"_2juClHvsqBfQddQtKSlF6V",RichTextJson:"_1E4TbYahRPkKEc1TNmQX-K",richTextJson:"_1E4TbYahRPkKEc1TNmQX-K",Livestreaming:"_24c_0WdNkjV_cdd2RJ6AmK",livestreaming:"_24c_0WdNkjV_cdd2RJ6AmK",TopMeta:"SJ4qRd99ApBBSiNYdfSoh",topMeta:"SJ4qRd99ApBBSiNYdfSoh",ChatIcon:"_3vCuaD6pLcosMuwzU6nhAB",chatIcon:"_3vCuaD6pLcosMuwzU6nhAB",DeleteText:"_3NYb7Rn0lpswKMy5MQyLQd",deleteText:"_3NYb7Rn0lpswKMy5MQyLQd"}},"./src/reddit/components/CommentsChat/MessageInput/Loader.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./bundled-modules/styled-components/styled-components.min.js"),a=s.n(r),i=s("./src/higherOrderComponents/makeAsync.tsx"),c=s("./src/lib/loadWithRetries/index.ts"),d=s("./src/reddit/helpers/styles/components/index.tsx"),l=s("./src/reddit/helpers/styles/mixins/loading.ts");const m=a.a.div.withConfig({componentId:"nirr5x-0"})(["padding: 10px 20px 10px 40px;box-sizing: border-box;display: flex;"]),p=a()(Object(d.a)()).withConfig({componentId:"nirr5x-1"})(["","height: 25px;width: 25px;border-radius: 4px;margin-right: 10px;display: flex;"],l.b),u=a()(Object(d.a)()).withConfig({componentId:"nirr5x-2"})(["","border-radius: 4px;display: block;height: 25px;width: 100%;"],l.b),h=Object(i.a)({ErrorComponent:()=>o.a.createElement(m,null,o.a.createElement(p,{gradientType:"comments",isLoading:!0}),o.a.createElement(u,{gradientType:"comments",isLoading:!0})),getComponent:()=>Object(c.a)(()=>Promise.all([s.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),s.e("vendors~ChatMessageInput~FlairEdit~PostCreation~RichTextEditor"),s.e("vendors~ChatMessageInput"),s.e("ChatMessageInput~ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNot~3a34166c"),s.e("ChatMessageInput~RichTextEditor"),s.e("ChatMessageInput")]).then(s.bind(null,"./src/reddit/components/CommentsChat/MessageInput/index.tsx")).then(e=>e.default)),LoadingComponent:({isLivestreaming:e})=>e?null:o.a.createElement(m,null,o.a.createElement(p,{gradientType:"comments",isLoading:!0}),o.a.createElement(u,{gradientType:"comments",isLoading:!0}))});t.a=(e=>o.a.createElement(h,Object.assign({},e)))},"./src/reddit/components/CommentsChat/Scroller/index.m.less":function(e,t,s){e.exports={NewComments:"_3GhW7Cq0eM7vr_gXsZP1XK",newComments:"_3GhW7Cq0eM7vr_gXsZP1XK",show:"Tptm_9duqsvpN1p297GT0",ButtonWrapper:"ol-vdNEpF-pHpwSKyGQDF",buttonWrapper:"ol-vdNEpF-pHpwSKyGQDF",ScrollerWrapper:"_2HUS1KWemnPFcYeDdGcB5k",scrollerWrapper:"_2HUS1KWemnPFcYeDdGcB5k",LivestreamingWrapper:"_2kV0SeyyPoyl4Cfm2Fi2UI",livestreamingWrapper:"_2kV0SeyyPoyl4Cfm2Fi2UI",ScrollerSection:"_3nKpelf5u6QAnrZcGbvig_",scrollerSection:"_3nKpelf5u6QAnrZcGbvig_",loading:"_2Nsq1nyEjWMCKSWs72G7lx",loadingAnimation:"_3UzA6Pu2MzcZW0QPQnTHux",ChunkPlaceholder:"_1qabk5TtS1HAm0eXfcUmxv",chunkPlaceholder:"_1qabk5TtS1HAm0eXfcUmxv",top:"ZuYs_5l7Qf6T91OUOD4pG"}},"./src/reddit/components/CommentsChat/index.tsx":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/setInterval/index.ts"),c=s("./src/lib/timeAgo/index.ts"),d=s("./src/reddit/actions/comment.ts"),l=s("./src/reddit/components/Comments/States/index.tsx"),m=s("./node_modules/lodash/defer.js"),p=s.n(m),u=s("./src/lib/classNames/index.ts"),h=s("./src/lib/lessComponent.tsx"),b=s("./src/lib/makeDraftKey/index.ts"),g=s("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),x=s("./src/reddit/components/CommentsChat/Comment/ChatIcon/index.tsx"),v=s("./src/lib/humanizeDateTime/index.ts"),C=s("./src/reddit/actions/postCreation/general.ts"),O=s("./src/reddit/actions/reportFlow.ts"),f=s("./src/reddit/actions/tooltip.ts"),E=s("./src/reddit/components/InfoTextTooltip/index.tsx"),y=s("./src/reddit/constants/tracking.ts"),j=s("./src/reddit/selectors/telemetry.ts"),P=s("./src/telemetry/models/Event.ts");const w=e=>({screen:Object(j.screen)(e),profile:Object(j.profile)(e),subreddit:Object(j.subreddit)(e)}),I=(e,t)=>s=>({action:"load",noun:e,post:Object(j.post)(s,t),source:P.b.ChatView,subreddit:Object(j.subreddit)(s)});var S=s("./src/reddit/i18n/utils.ts"),T=s("./src/reddit/components/CommentsChat/Comment/Menu/index.m.less"),k=s.n(T);const _=h.a.button("MenuItem",k.a),N=h.a.a("MenuItemPermalink",k.a),L=({children:e,comment:t,onClick:s,onHideTooltip:n,onShowTooltip:r,sendEvent:a,tooltipId:i,tooltipText:c,trackingNoun:d})=>o.a.createElement(_,{id:i,onMouseEnter:r.bind(void 0,i),onMouseLeave:n.bind(void 0,i),onClick:e=>{s(e),d&&(a(((e,t)=>s=>Object.assign({source:"comment",action:y.d.CLICK,noun:e,post:Object(j.post)(s,t),comment:Object(j.comment)(s,t)},w(s)))(d,t.id)),a(((e,t)=>s=>Object.assign({source:"comment_overflow_menu",action:y.d.CLICK,noun:e,post:Object(j.post)(s,t),comment:Object(j.comment)(s,t)},w(s)))(d,t.id)))}},e,o.a.createElement(E.c,{tooltipId:i,text:c})),M=e=>o.a.createElement(L,Object.assign({onClick:e.onHideTooltip,tooltipId:e.tooltipId,tooltipText:Object(S.c)("Moderate")},e),o.a.createElement(N,{href:e.comment.permalink,rel:"nofollow",target:"_blank"},e.children));var R=s("./src/reddit/components/ConfirmUserActionModal/index.tsx"),F=s("./src/reddit/components/ReportFlow/index.tsx"),B=s("./src/reddit/components/TrackingHelper/index.tsx"),A=s("./src/reddit/icons/svgs/Edit/index.m.less"),D=s.n(A);var V=e=>o.a.createElement("svg",{className:Object(u.a)(D.a.edit,e.className),viewBox:"4 4 12 12"},o.a.createElement("g",{transform:"translate(-68.000000, -207.000000)"},o.a.createElement("path",{d:"M74,221.73128 L76.2632,221.73128 C76.4752,221.73128 76.6784,221.64728 76.8288,221.49688 L83.2968,215.02808 C83.6096,214.71528 83.6096,214.20968 83.2968,213.89688 L81.0344,211.63448 C80.7216,211.32168 80.216,211.32168 79.9032,211.63448 L73.4344,218.10328 C73.284,218.25288 73.2,218.45608 73.2,218.66888 L73.2,220.93128 C73.2,221.37368 73.5584,221.73128 74,221.73128"}))),W=s("./src/reddit/icons/svgs/Flag/index.tsx"),H=s("./src/reddit/icons/svgs/Moderate/index.tsx"),U=s("./src/reddit/icons/svgs/Trash2/index.tsx"),z=s("./src/reddit/models/PostDraft/index.ts"),K=s("./src/reddit/selectors/activeModalId.ts"),G=s("./src/reddit/selectors/moderatorPermissions.ts"),q=s("./src/reddit/selectors/user.ts");const J=h.a.wrapped(W.a,"FlagIcon",k.a),Y=h.a.wrapped(V,"EditIcon",k.a),Q=h.a.wrapped(H.a,"ModerateIcon",k.a),X=h.a.wrapped(U.b,"TrashIcon",k.a),Z=e=>(t,{comment:s})=>`${e}${s.id}`,$=e=>`Comment-${e}--Modal--DeleteComment`,ee=Object(a.c)({currentUser:q.k,isDeleteModalOpen:(e,{comment:t})=>Object(K.a)(e)===$(t.id),isMod:(e,{comment:t})=>!!Object(G.h)(e,{postId:t.postId}),reportFlowIsOpen:(e,{comment:t})=>e.reportFlow.postOrCommentId===t.id,deleteTooltipId:Z("CommentChatPost--Delete--"),editTooltipId:Z("CommentChatPost--Edit--"),reportTooltipId:Z("CommentChatPost--Report--"),createTooltipId:Z("CommentChatPost--Create--"),moderateTooltipId:Z("CommentChatPost--Moderate--")});var te=Object(r.b)(ee,(e,{comment:t,commentsPageKey:s,isLivestreaming:n,language:o})=>({onReportClick:()=>e(Object(O.i)(t.id,void 0,n)),onHideTooltip:()=>e(Object(f.f)()),onShowTooltip:t=>e(Object(f.d)({tooltipId:t})),deleteComment:()=>s&&e(Object(d.fb)(o,t.id,t.postId,s)),onDeleteClick:()=>{e(Object(C.m)($(t.id)))},onEditClick:()=>{const n=t.media&&t.media.rteMode;s&&e(Object(d.W)({commentId:t.id,draftKey:Object(b.a)(z.c.edit,t.id),text:t.bodyMD||"",commentMode:n,commentsPageKey:s}))},toggleDeleteCommentModal:()=>e(Object(C.m)($(t.id)))}))(Object(B.b)(e=>{const t=e.comment,s=e.className,n=e.createTooltipId,r=e.currentUser,a=e.deleteComment,i=e.deleteTooltipId,d=e.editTooltipId,l=e.isDeleteModalOpen,m=e.isLivestreaming,p=e.isMod,h=e.language,b=e.moderateTooltipId,g=e.onDeleteClick,x=e.onEditClick,C=e.onReportClick,O=e.reportFlowIsOpen,f=e.reportTooltipId,E=e.toggleDeleteCommentModal,y=e.timestampUpdateTrigger,j=!!r&&r.id===t.authorId;return o.a.createElement("div",{className:s},o.a.createElement("div",{className:Object(u.a)(k.a.Menu,{[k.a.Livestreaming]:m})},p&&!m&&o.a.createElement(M,Object.assign({},e,{tooltipId:b,tooltipText:Object(S.c)("Moderate")}),o.a.createElement(Q,null)),!j&&o.a.createElement(L,Object.assign({onClick:C,tooltipId:f,tooltipText:Object(S.c)("Report"),trackingNoun:"report"},e),o.a.createElement(J,null)),O&&o.a.createElement(F.a,{commentId:t.id,useLiveStreamingFlow:m,overlayCustomStyles:F.b,postId:t.postId,withOverlay:!0}),j&&!m&&o.a.createElement(L,Object.assign({onClick:x,tooltipId:d,tooltipText:Object(S.c)("Edit"),trackingNoun:"edit"},e),o.a.createElement(Y,null)),j&&!m&&o.a.createElement(L,Object.assign({onClick:g,tooltipId:i,tooltipText:Object(S.c)("Delete"),trackingNoun:"delete"},e),o.a.createElement(X,null)),l&&o.a.createElement(R.a,{actionText:Object(S.c)("delete"),cancelActionText:Object(S.c)("keep"),headerText:Object(S.c)("Delete comment"),modalText:Object(S.c)("Are you sure you want to delete your comment?"),onConfirm:a,toggleModal:E,withOverlay:!0})),!m&&o.a.createElement(M,Object.assign({},e,{tooltipId:n,tooltipText:Object(v.a)(t.created),timestampUpdateTrigger:y}),Object(c.b)(h,t.created)))})),se=s("./src/reddit/components/CommentsChat/MessageInput/Loader.tsx"),ne=s("./src/reddit/components/RichTextJson/index.tsx"),oe=s("./src/reddit/contexts/PageLayer/index.tsx"),re=s("./src/reddit/controls/ErrorText/index.tsx"),ae=s("./src/reddit/helpers/getRichTextContent.ts"),ie=s("./src/reddit/i18n/components.tsx"),ce=s("./src/reddit/selectors/comments.ts"),de=s("./src/reddit/components/CommentsChat/Comment/index.m.less"),le=s.n(de);const me=h.a.wrapped(re.a,"ErrorText",le.a),pe=h.a.wrapped(g.a,"TopMeta",le.a),ue=h.a.span("DeleteText",le.a);var he=Object(oe.w)()(Object(r.b)(()=>Object(a.c)({comment:ce.o,errorMsgs:ce.E,flair:ce.e,isActive:(e,{commentId:t})=>Boolean(e.shortcuts.activeCommentId&&t===e.shortcuts.activeCommentId),isEditing:ce.z,language:q.T,patreonPatronFlair:ce.f,subreddit:oe.s}))(({childrenInfo:e,comment:t,commentsPageKey:s,errorMsgs:n,flair:r,isActive:a,isEditing:i,isLivestreaming:d,language:l,patreonPatronFlair:m,postId:h,renderedInOverlay:g,sendEvent:v,timestampUpdateTrigger:C})=>{if(!t)return null;const O=o.a.createRef();a&&p()(()=>O.current&&O.current.focus());const f=!i&&!t.isDeleted;return o.a.createElement("div",{ref:O,tabIndex:0,className:Object(u.a)({[le.a.CommentWrapper]:!d,[le.a.LivestreamingCommentWrapper]:d})},i&&o.a.createElement(se.a,{key:"chatCommentsForm",isLivestreaming:d,language:l,postId:h,sendEvent:v,draftKey:Object(b.a)(z.c.edit,t.id),commentsPageKey:s,isEditing:i,comment:t}),f&&o.a.createElement(o.a.Fragment,null,o.a.createElement(pe,{childrenInfo:e,collapsed:!1,comment:t,commentsPageKey:s,compact:!0,flair:r,isLivestreaming:d,language:l,patreonPatronFlair:m,renderedInOverlay:g,ignoreLock:!0},o.a.createElement(x.a,{className:Object(u.a)(le.a.ChatIcon,{[le.a.Livestreaming]:d}),isLivestreaming:d,userId:t.authorId})),d&&o.a.createElement("span",{className:le.a.livestreamingTimeStamp},Object(c.b)(l,t.created)),o.a.createElement(ne.a,{className:Object(u.a)(le.a.RichTextJson,{[le.a.Livestreaming]:d}),content:Object(ae.a)(t),key:`rich-text-${t.id}`,renderingObjectInfo:t,useExplicitTextColor:d}),o.a.createElement(te,{key:"Menu",className:le.a.Menu,comment:t,commentsPageKey:s,isLivestreaming:d,language:l,timestampUpdateTrigger:C})),t.isDeleted&&o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{className:Object(u.a)(le.a.ChatIcon,{[le.a.Livestreaming]:d}),trash:!0}),o.a.createElement(ue,null,o.a.createElement(ie.c,null,"deleted"))),f&&n&&n.map(e=>o.a.createElement(me,{language:l},e)))})),be=s("./node_modules/lodash/debounce.js"),ge=s.n(be),xe=s("./node_modules/lodash/first.js"),ve=s.n(xe),Ce=s("./node_modules/lodash/isEqual.js"),Oe=s.n(Ce),fe=s("./node_modules/lodash/last.js"),Ee=s.n(fe),ye=s("./src/reddit/controls/Button/index.tsx"),je=s("./src/reddit/components/CommentsChat/Scroller/index.m.less"),Pe=s.n(je),we=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Ie=h.a.div("ButtonWrapper",Pe.a),Se=({top:e})=>o.a.createElement("span",{className:Object(u.a)(Pe.a.ChunkPlaceholder,{[Pe.a.top]:e})},Object(S.c)("Loading...")),Te=e=>{var t=e.className,s=e.isLivestreaming,n=e.isLoading,r=e.setRef,a=we(e,["className","isLivestreaming","isLoading","setRef"]);return o.a.createElement("div",{ref:r,className:Object(u.a)(t,Pe.a.ScrollerWrapper,{[Pe.a.loading]:n,[Pe.a.LivestreamingWrapper]:s})},!n&&a.isPrevLoading&&!s&&o.a.createElement(Se,{top:!0}),a.children,!n&&a.isNextLoading&&!s&&o.a.createElement(Se,null))};var ke=class extends o.a.Component{constructor(e){super(e),this._ref=o.a.createRef(),this._refBeforeActiveComments=o.a.createRef(),this._refNextActiveComments=o.a.createRef(),this.chunkSize=50,this.loadedMore=!1,this.scrollTop=(()=>this.$ref?Math.floor(this.$ref.scrollTop):0),this.scrollHeight=(()=>this.$ref?this.$ref.scrollHeight:0),this.clientHeight=(()=>this.$ref?this.$ref.clientHeight:0),this.scrolledPosition=(()=>this.scrollHeight()-this.clientHeight()-this.scrollTop()),this.scrolledToTop=(()=>0===this.scrollTop()),this.scrolledToBottom=((e=0)=>e>=this.scrolledPosition()),this.scrollToLastBottomChunk=(()=>{const e=this.state.chunks.length-1;e!==this.state.activeChunkIndex?this.setState({activeChunkIndex:e},this.scrollToBottom):this.scrollToBottom()}),this.addScrollListener=(()=>this.$ref&&this.$ref.addEventListener("scroll",this.onScroll)),this.removeScrollListener=(()=>this.$ref&&this.$ref.removeEventListener("scroll",this.onScroll)),this.shouldLoadMoreData=(()=>{this.props.loadMore&&this.scrolledToTop()&&this.props.loadMore(),this.loadedMore=!(!this.scrolledToTop()||!this.props.hasMoreComments)}),this.debounceSetNextTopChunk=ge()(()=>this.setNextTopChunk(),1,{leading:!1,trailing:!0}),this.debounceSetNextBottomChunk=ge()(()=>this.setNextBottomChunk(),1,{leading:!1,trailing:!0}),this.debounceShouldLoadMoreData=ge()(()=>this.shouldLoadMoreData(),1,{leading:!1,trailing:!0}),this.onScroll=(()=>{this.setNextTopChunk(),this.setNextBottomChunk(),this.shouldLoadMoreData(),this.hideNewComments()}),this.state={initialized:!1,list:this.props.children,chunks:this.splitChunks([...this.props.children]),activeChunkIndex:0,newCommentsCount:0}}get $ref(){return this._ref.current}get $refBeforeActiveComments(){return this._refBeforeActiveComments.current}get $refNextActiveComments(){return this._refNextActiveComments.current}scrollTo(e){this.$ref&&(this.$ref.scrollTo?this.$ref.scrollTo({top:e}):this.$ref.scrollTop=e)}scrollToBottom(){this.$ref&&(this.$ref.scrollTo?this.$ref.scrollTo({top:this.scrollHeight()-this.clientHeight()}):this.$ref.scrollTop=this.scrollHeight())}scrolledToFirstTopChunk(){return!this.props.hasMoreComments&&this.state.activeChunkIndex<=1}scrolledToLastBottomChunk(){const e=this.state.chunks.length-1;return this.state.activeChunkIndex+1>=e}hideNewComments(e){(this.state.newCommentsCount>0&&this.scrolledToBottom()||e)&&this.setState({newCommentsCount:0})}splitChunks(e){const t=[];for(;e.length;)t.push(e.splice(0,this.chunkSize));return t}setNextBottomScroll(){const e=this.$refNextActiveComments?this.$refNextActiveComments.clientHeight:0;this.scrollTo(this.scrollHeight()-this.clientHeight()-e)}setNextBottomChunk(){if(this.scrolledToBottom()){const e=this.state.activeChunkIndex+1,t=this.state.chunks.length-1,s=e<t?e:t;this.setState({activeChunkIndex:s},this.setNextBottomScroll)}}setNextTopScroll(){this.scrollTo(this.$refBeforeActiveComments&&this.$refBeforeActiveComments.clientHeight||0)}setNextTopChunk(){if(this.scrolledToTop()){const e=this.state.activeChunkIndex-1,t=this.state.chunks.length-1,s=t>e?e:t;e>=0&&this.setState({activeChunkIndex:s},this.setNextTopScroll)}}getChunkIndexOnUpdate(e,t){if(this.props&&this.props.children.length&&this.props.children[0]&&this.props.children.length-e.children.length>1){const e=t.length-this.state.chunks.length,s=this.state.activeChunkIndex+e;if(e>1)return s}}componentDidMount(){this.addScrollListener(),this.scrollToLastBottomChunk(),this.setState({initialized:!0})}componentWillUnmount(){this.removeScrollListener()}getSnapshotBeforeUpdate(e){const t=e.children.length!==this.props.children.length||!Oe()(ve()(e.children),ve()(this.props.children))||!Oe()(Ee()(e.children),Ee()(this.props.children));return t?{childrenAreNotEqual:t,scrolledBottom:this.scrolledToBottom(30)}:null}componentDidUpdate(e,t,s){if(s&&s.childrenAreNotEqual){const t=this.splitChunks([...this.props.children]),n=this.getChunkIndexOnUpdate(e,t),o=this.props.children.length-e.children.length;this.setState({list:this.props.children,chunks:t,activeChunkIndex:n||this.state.activeChunkIndex,newCommentsCount:this.scrolledToBottom()||1!==o||this.loadedMore?this.state.newCommentsCount:this.state.newCommentsCount+o},()=>{n&&this.setNextTopScroll(),s&&s.scrolledBottom&&this.scrollToLastBottomChunk(),this.loadedMore=!1})}}render(){var e=this.props;const t=e.className,s=e.isLivestreaming,n=this.state.newCommentsCount>0?Object(u.a)([Pe.a.NewComments,Pe.a.show]):Pe.a.NewComments;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Te,{className:t,key:"chatScroller",chunkSize:this.chunkSize,isLoading:!this.state.initialized||!!this.props.isLoading,isPrevLoading:!this.scrolledToFirstTopChunk(),isLivestreaming:s,isNextLoading:!this.scrolledToLastBottomChunk(),setRef:this._ref},o.a.createElement("div",{key:"beforeActiveCommentsSection",ref:this._refBeforeActiveComments,className:Pe.a.ScrollerSection},this.state.chunks[this.state.activeChunkIndex-1]),o.a.createElement("div",{key:"activeCommentsSection",className:Pe.a.ScrollerSection},this.state.chunks[this.state.activeChunkIndex]),o.a.createElement("div",{key:"nextActiveCommentsSection",ref:this._refNextActiveComments,className:Pe.a.ScrollerSection},this.state.chunks[this.state.activeChunkIndex+1])),o.a.createElement(Ie,null,o.a.createElement(ye.f,{className:n,onClick:()=>{this.scrollToLastBottomChunk(),this.hideNewComments(!0)}},this.state.newCommentsCount," ",Object(S.c)(`NEW ${Object(S.a)("COMMENTS",["COMMENT","COMMENTS"],this.state.newCommentsCount)}`),"↓")))}},_e=s("./src/reddit/selectors/posts.ts");s.d(t,"COMMENT_TIMESTAMP_UPDATE_INTERVAL",function(){return Ne});const Ne=6e4,Le=Object(a.c)({chatCommentLinks:ce.h,liveCommentsWebsocket:_e.H,moreCommentsLink:ce.D}),Me=Object(r.b)(Le,(e,t)=>({onLiveCommentsSubscribe:(s,n,o)=>e(Object(d.Y)(s,n,o,t.subredditId)),offLiveCommentsSubscribe:(t,s)=>e(Object(d.Z)(t,s)),loadMoreComments:s=>e(Object(d.bb)(t.commentsPageKey,s))}));t.default=Me(Object(B.b)(class extends o.a.Component{constructor(e){super(e),this._refScroller=o.a.createRef(),this._timestampUpdater=null,this.scrollToBottom=(()=>{this._refScroller&&this._refScroller.current&&this._refScroller.current.scrollToLastBottomChunk()}),this.loadMoreComments=this.loadMoreComments.bind(this),this.state={timestampUpdateTrigger:Date.now()}}isTimestampUpdateNeeded(){const e=this.props.chatCommentLinks.slice(-1).pop(),t=e&&e.created;return!!t&&Object(c.a)(t)<2}deferTimestampUpdate(){this._timestampUpdater&&this._timestampUpdater(),this._timestampUpdater=Object(i.a)(()=>{this.isTimestampUpdateNeeded()?this.setState({timestampUpdateTrigger:Date.now()}):this._timestampUpdater&&this._timestampUpdater()},Ne)}componentWillMount(){var e=this.props;const t=e.commentsPageKey,s=e.liveCommentsWebsocket,n=e.onLiveCommentsSubscribe,o=e.postId;s&&(n(t,s,o),this._subscribedPostId=o,this._subscribedLiveCommentsWebsocket=s)}componentWillUnmount(){const e=this.props.offLiveCommentsSubscribe;this._subscribedPostId&&this._subscribedLiveCommentsWebsocket&&(e(this._subscribedLiveCommentsWebsocket,this._subscribedPostId),this._timestampUpdater&&this._timestampUpdater())}shouldComponentUpdate(e,t){var s=this.props;const n=s.chatCommentLinks,o=s.commentsPageKey,r=s.isLoading,a=s.postId,i=this.state.timestampUpdateTrigger;return e.postId!==a||e.isLoading!==r||e.commentsPageKey!==o||e.chatCommentLinks&&e.chatCommentLinks.length>n.length||t.timestampUpdateTrigger!==i}componentDidUpdate(e){var t=this.props;const s=t.commentsPageKey,n=t.liveCommentsWebsocket,o=t.offLiveCommentsSubscribe,r=t.onLiveCommentsSubscribe,a=t.postId;a!==e.postId&&(this._subscribedPostId&&this._subscribedLiveCommentsWebsocket&&o(this._subscribedLiveCommentsWebsocket,this._subscribedPostId),a&&n&&(r(s,n,a),this._subscribedPostId=a,this._subscribedLiveCommentsWebsocket=n)),this.deferTimestampUpdate()}loadMoreComments(){var e=this.props;const t=e.moreCommentsLink,s=e.postId,n=e.sendEvent;t&&!t.pending&&(this.props.loadMoreComments(t.moreCommentId),n(I("history",s)))}render(){var e=this.props;const t=e.chatCommentLinks,s=e.className,n=e.commentsPageKey,r=e.emptyStateClassName,a=e.isLivestreaming,i=e.isLoading,c=e.postId,d=e.renderedInOverlay,m=e.sendEvent,p=this.state.timestampUpdateTrigger,u=!(t&&t.length||i);return o.a.createElement(o.a.Fragment,null,u?o.a.createElement(l.c,{className:r,isChat:!0}):o.a.createElement(ke,{className:s,ref:this._refScroller,key:"comments-chat-scroller",isLivestreaming:a,isLoading:i,loadMore:this.loadMoreComments,hasMoreComments:!!this.props.moreCommentsLink},t.map(e=>o.a.createElement(he,{key:`scroll-node-${e.id}`,commentId:e.id,commentsPageKey:n,isLivestreaming:a,postId:c,renderedInOverlay:!!d,sendEvent:m,timestampUpdateTrigger:p}))),this.props.children&&this.props.children({scrollToBottom:this.scrollToBottom}))}}))},"./src/reddit/components/CommentsPageAd/index.m.less":function(e,t,s){e.exports={CommentsPageAdContainer:"_1kZq41JJsyWtpgT1oGyVko",commentsPageAdContainer:"_1kZq41JJsyWtpgT1oGyVko",BannerAd:"_3-iuIC1F_FWNnxkCPyySXD",bannerAd:"_3-iuIC1F_FWNnxkCPyySXD"}},"./src/reddit/components/CommentsPageSidebar/index.m.less":function(e,t,s){e.exports={communityTipJar:"_3Rb_UoC2j8wE4ckG7Yqy2K",communityTokens:"LRXVBnaKV0QUa_v8PZe5Q",leaderboard:"_2Bw_-Pd7_PSh46KT8HivGh",inFeedAd:"_2vWBnEHUdKqzj9DabP66L1",outerWrapper:"_31AVRNJbVMh2DUFRrpCQcD"}},"./src/reddit/components/CommentsWrapper/index.m.less":function(e,t,s){e.exports={ContentWrapper:"_1ump7uMrSA43cqok14tPrG",contentWrapper:"_1ump7uMrSA43cqok14tPrG",TruncatedComments:"_1oTUrVtKJk1ue0r3fe31kJ",truncatedComments:"_1oTUrVtKJk1ue0r3fe31kJ",MoreCommentsButton:"j9NixHqtN2j8SKHcdJ0om",moreCommentsButton:"j9NixHqtN2j8SKHcdJ0om"}},"./src/reddit/components/CommunitySettings/helpers.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return r}),s.d(t,"i",function(){return a}),s.d(t,"j",function(){return i}),s.d(t,"l",function(){return c}),s.d(t,"k",function(){return d}),s.d(t,"f",function(){return l}),s.d(t,"e",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"b",function(){return u}),s.d(t,"g",function(){return h}),s.d(t,"m",function(){return b});const n=500,o=0,r=1440,a=36600,i=1e9,c={Disabled:"disabled","Mods only":"modonly",Anyone:"anyone"},d=["Wiki is disabled for all users except mods","Only mods, approved wiki contributors, or those on a page's edit list may edit","Anyone who can submit to the community may edit"],l={Any:"any","Links only":"link","Text posts only":"self"},m=["Any post type is allowed","Only links to external sites are allowed","Only text posts are allowed"],p={Low:"low","High (default)":"high",All:"all"},u={"Low (default)":"low",High:"high",All:"all"},h={"none (recommended)":null,best:"confidence",old:"old",top:"top","q&a":"qa","live (beta)":"live",controversial:"controversial",new:"new"},b=(e,t)=>Object.keys(e).find(s=>e[s]===t)},"./src/reddit/components/CompactPost/Placeholder/index.m.less":function(e,t,s){e.exports={emptyScore:"_3RRgbzXvoZ4MUYm45lAqp7",emptyVotes:"_2rSb53hAOWG9j6R_ToxoSJ",wrapper:"_2wuOxz4--LcoxCYSrpCBlx",expandoContainer:"_3CIl2qTD30RwYsMAGO2Y2S",expando:"_2UCpUVZ4aSncQhvkrQW_0i",subredditIconContainer:"_2IJnSguizdehDk_JnTKrdK",topLine:"_1OQE_XsSHzM7AtjVQahjoI",title:"_28eZmJsl2bogBZ2KPmeoFO",meta:"_24dJJDh8muEbehYysONmV1",comments:"_2-iJVRFJK-xC7a7xgBF-T5",ellipsis:"_1IFRAIwzfwChKq85FhLG69",flatList:"_3HxvQvODjYEHa-X5AuQinY"}},"./src/reddit/components/CompactPost/Placeholder/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/components/SubredditIcon/index.tsx"),d=s("./src/reddit/components/VerticalVotes/votes.tsx"),l=s("./src/reddit/contexts/PageLayer/index.tsx"),m=s("./src/reddit/helpers/styles/mixins/loading.ts"),p=s("./src/reddit/models/Vote/index.ts"),u=s("./src/reddit/helpers/styles/mixins/index.m.less"),h=s.n(u),b=s("./src/reddit/components/CompactPost/Placeholder/index.m.less"),g=s.n(b);const x=Object(l.w)(),v=Object(a.c)({isFakeSubreddit:l.B}),C=Object(r.b)(v),O=e=>{const t={interactive:!1,voteState:p.a.notVoted};return o.a.createElement("div",{className:g.a.emptyVotes},o.a.createElement(d.d,Object.assign({key:"u"},t)),o.a.createElement("div",{key:"s",className:g.a.emptyScore}),o.a.createElement(d.c,Object.assign({key:"d"},t)))},f=e=>o.a.createElement(c.a,{className:Object(m.a)(e)}),E=e=>o.a.createElement("div",{className:g.a.flatList},o.a.createElement("div",{className:Object(i.a)(g.a.comments,Object(m.c)(e))}),o.a.createElement("div",{className:Object(i.a)(g.a.ellipsis,Object(m.c)(e))}));t.a=x(C(e=>o.a.createElement("div",{className:Object(i.a)(e.className,h.a.compactPostStyles,h.a.classicAndCompactPlaceholderStyles)},o.a.createElement("div",{className:g.a.wrapper},o.a.createElement(O,Object.assign({key:"c"},e)),o.a.createElement("div",{key:"a",className:g.a.expandoContainer},o.a.createElement("div",{className:Object(i.a)(g.a.expando,Object(m.a)(e))})),o.a.createElement("div",{key:"d",className:g.a.subredditIconContainer},o.a.createElement(f,{isLoading:!1})),o.a.createElement("div",{key:"e",className:g.a.topLine},o.a.createElement("div",{key:"ea",className:Object(i.a)(g.a.title,Object(m.c)(e))}),o.a.createElement("div",{key:"eb",className:Object(i.a)(g.a.meta,Object(m.c)(e))})),o.a.createElement(E,Object.assign({key:"f"},e))))))},"./src/reddit/components/CompactPost/index.m.less":function(e,t,s){e.exports={hideAboveSmallTablet:"FX_aWE8xMirpzniJDh7I9",verticalVotes:"WAapGmF_gr09J509Af-gC",responsiveExpandoButton:"_3gazhzxd2iBGYb2k67_HTw",mHideAboveSmallTablets:"_2zV_ARVPrYN10xmbbb_4Lu",responsiveMeta:"_1xomvNxK4aHGoGa-YDw1Mc",hideBelowSmallTablet:"z_7pbLL4hZp6ikYkq0prE",horizontalVotes:"_37nbKm3ee5NGx6e-LXErLD",mHideBelowSmallTablets:"_3x_hdVQw5uJh6xeAGoZock",postTopMeta:"_1ghZRP5m5xDLh0up1rFt0e",commentsLink:"Nz0lkWnnj2V_4iBKE0WL7",adLinkWrapper:"_4Dt8djtbHlJ5uCZDX_SeV",content:"_1B7SUGHK0QDoHimxX2a9D0",leftRail:"_2r9FABr2qYEUDyZoenhn6N",bulkActionCheckbox:"_44ehKZ_pl1NGGaaTYouZR",subredditIcon:"_1kWbgdOrvSeXIZZRIw4uBS",topLine:"_2ZjElFi3ORaU3VPrwmdoCp",postBadges:"_126a2ACB41algqMEwA34TF",flatList:"_3jwri54NGT-SRatPIZYiMo",expandedContentWrapper:"_12wy0ZFFaS3a49145uXWXt",crosspostMediaWrapper:"_2fCIreZsKBNS3esgsKKksM",compactWrapper:"YA9IzN0YR-G5_oD5EUydl",compactPostRow:"WnMeTcero48dKo501T-19",donationAmount:"_1TjU-e4dgCSlbuHHatC0G9",leftRailWrapper:"_3YgWdffoKyCp7UaGAEQpoo",proposalMetaData:"_1_B8IWlNlt5jJVg4cKy7nL",isEvent:"_1csviRG5jI9xOrcsmpbfwt",chain:"_1el-fLKTUXg-19pIbGUHgk",modToolsFlatlist:"_20p7Nh6bZU7MOqYuB2uJcy",postContainer:"_2bHVWuR_l_wVivC3FKfLFf"}},"./src/reddit/components/CompactPost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=(s("./node_modules/react-router-dom/es/index.js"),s("./node_modules/reselect/es/index.js")),i=s("./src/config.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/constants/postLayout.ts"),p=s("./src/reddit/helpers/showReportIndicator/index.ts"),u=s("./src/reddit/helpers/styles/mixins/index.tsx"),h=s("./src/reddit/helpers/trackers/post.ts"),b=s("./src/reddit/models/Media/index.ts"),g=s("./src/reddit/models/User/index.ts"),x=s("./src/reddit/models/Vote/index.ts"),v=s("./src/reddit/actions/post.ts"),C=s("./src/reddit/actions/postFlair.ts"),O=s("./src/reddit/actions/tooltip.ts"),f=s("./src/reddit/selectors/activeModalId.ts"),E=s("./src/reddit/selectors/moderatorPermissions.ts"),y=s("./src/reddit/selectors/postFlair.ts"),j=s("./src/reddit/selectors/posts.ts"),P=s("./src/reddit/selectors/user.ts"),w=s("./src/reddit/components/AdLinkWrapper/index.tsx"),I=s("./src/reddit/components/AwardBadges/index.tsx"),S=s("./src/reddit/components/CallToActionButton/index.tsx"),T=s("./src/reddit/components/CommentsChat/LiveIcon/index.tsx"),k=s("./src/reddit/components/CommentsLink/index.tsx"),_=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),N=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),L=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),M=s("./src/reddit/components/ExpandoButton/index.tsx"),R=s("./src/reddit/components/Flatlist/index.tsx"),F=s("./src/reddit/components/JSAPIContainers/index.tsx"),B=s("./src/reddit/components/ModActionsMenu/index.tsx"),A=s("./src/reddit/components/ModModeReports/index.tsx"),D=s("./src/reddit/components/ModModeReports/helpers.ts"),V=s("./src/reddit/components/ModToolsFlatlist/index.tsx"),W=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),H=s("./src/reddit/components/PostBadges/index.tsx"),U=s("./src/reddit/components/PostContainer/index.tsx"),z=s("./src/reddit/components/PostFlairPicker/index.tsx"),K=s("./src/reddit/components/PostLeftRail/index.tsx"),G=s("./src/reddit/components/PostMedia/index.tsx"),q=s("./src/reddit/components/PostModModeDropdown/index.tsx"),J=s("./src/reddit/components/PostOverflowMenu/index.tsx"),Y=s("./src/reddit/components/PostTitle/index.tsx"),Q=s("./src/reddit/components/PostTopMeta/index.tsx"),X=s("./src/reddit/components/RestrictedFlatlistButton/index.tsx"),Z=s("./src/reddit/components/SponsoredLabel/index.tsx"),$=(s("./src/reddit/components/SubredditIcon/index.tsx"),s("./src/reddit/components/VerticalVotes/index.tsx")),ee=s("./src/reddit/components/ViewReportsDropdown/index.tsx"),te=s("./src/reddit/contexts/InsideOverlay.tsx"),se=s("./src/reddit/contexts/PageLayer/index.tsx"),ne=s("./src/reddit/controls/Checkbox/index.tsx"),oe=s("./src/reddit/controls/MetaData/index.tsx"),re=s("./src/reddit/controls/OutboundLink/styled.tsx"),ae=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),ie=s("./src/reddit/helpers/hasModFullPermissions/index.ts"),ce=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),de=s("./src/reddit/helpers/postEvent.ts"),le=s("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),me=s("./src/reddit/icons/fonts/Report/index.tsx"),pe=s("./src/reddit/helpers/styles/mixins/index.m.less"),ue=s.n(pe),he=s("./src/reddit/components/CompactPost/index.m.less"),be=s.n(he),ge=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const xe=e=>{var t=e.isCompact,s=ge(e,["isCompact"]);return o.a.createElement(M.a,Object.assign({className:Object(c.a)(be.a.responsiveExpandoButton,{[be.a.mHideAboveSmallTablets]:!!t,[be.a.mHideBelowSmallTablets]:!t})},s))},ve=Object(r.b)(()=>Object(a.c)({activeModalId:f.a,crosspost:j.c,currentUser:P.k,flairStyleTemplate:se.T,isActive:j.f,isExpanded:j.i,language:P.T,layout:se.P,moderatorPermissions:E.h,modModeEnabled:se.R,poll:(e,t)=>{const s=e.posts.metaMap[t.postId];if(s)return e.polls.models[s]},post:j.J,showEditFlair:y.a,subredditOrProfile:j.U,userIsOp:P.jb}),(e,{listingKey:t,listingName:s,postId:n})=>({dispatchFlairChanged:({post:t,previewFlair:s,selectedTemplateId:n})=>e(Object(C.h)({post:t,previewFlair:s,selectedTemplateId:n})),handleVote:t=>{const s=t===x.a.upvoted?Object(v.N)(n):Object(v.o)(n);e(s)},onIgnoreReports:()=>e(Object(v.L)(n)),onOpenReportsDropdown:t=>e(Object(O.e)({tooltipId:t}))}),(e,t,s)=>Object.assign({},s,e,t,{onFlairChanged:({previewFlair:s,selectedTemplateId:n})=>t.dispatchFlairChanged({post:e.post,previewFlair:s,selectedTemplateId:n})}));const Ce=e=>o.a.createElement(W.a,{className:be.a.expandedContentWrapper,flairStyleTemplate:e.flairStyleTemplate},e.post.crosspostRootId?o.a.createElement("div",{className:be.a.crosspostMediaWrapper},Oe(e.post,e.scrollerItemRef)):Oe(e.post,e.scrollerItemRef)),Oe=(e,t)=>o.a.createElement(G.a,{isExpando:!0,isListing:!0,isNotCardView:!0,scrollerItemRef:t,shouldLoad:!0,shouldPause:!1,showFull:!0,showCentered:!0,post:e}),fe=(e,t,s,n)=>o.a.createElement(xe,{crosspost:t,isCompact:n,isExpanded:s,post:e,useMediaIcons:!0}),Ee=(e,t,s)=>o.a.createElement("div",{className:be.a.responsiveMeta},o.a.createElement(oe.b,{isScoreHidden:e.scoreHidden,language:s,score:e.score}),o.a.createElement(oe.c,null),Object(oe.d)(e.numComments,s),o.a.createElement(oe.c,null),t&&o.a.createElement("a",{href:t.url},o.a.createElement(oe.a,null,t.displayText)),e.isSponsored&&[o.a.createElement(Z.a,{key:"label"}),o.a.createElement(oe.c,{key:"separator"})],!e.isSponsored&&o.a.createElement(oe.a,null," Posted by "),o.a.createElement(Q.b,{post:e}));t.a=ve(Object(l.b)(Object(te.b)(Object(d.a)(class extends o.a.Component{componentDidUpdate(e){this.props.onSizeChanged&&e.isExpanded!==this.props.isExpanded&&this.props.onSizeChanged(this.props.post.id)}render(){var e=this.props;const t=e.activeModalId,s=e.className,n=e.currentProfileName,r=e.crosspost,a=e.currentUser,d=e.eventFactory,l=e.flairStyleTemplate,x=e.handleVote;var v=e.isCheckboxSelected;const C=void 0!==v&&v,O=e.isCommentsPage,f=e.isCommentPermalink,E=e.isExpanded,y=e.isOriginalPage,j=e.isOverlay,P=e.isProfilePostListing;var M=e.inSubredditOrProfile;const G=void 0!==M&&M,Z=e.language,te=e.layout,se=e.moderatorPermissions,oe=e.modModeEnabled,pe=e.onClickPost,he=e.onFlairChanged,ge=e.onIgnoreReports,xe=e.poll,ve=e.post,Oe=e.subredditOrProfile,ye=e.userIsOp,je=e.hideModTools,Pe=e.scrollerItemRef,we=e.showBulkActionCheckbox,Ie=e.showEditFlair,Se=e.toggleCheckbox,Te=e.tooltipType,ke=e.sendEvent,_e=!!ve.media&&ve.media.type===b.o.RTJSON,Ne=ye&&_e,Le=Object(z.b)(ve.id),Me=Object(ce.a)(se),Re=Object(ae.a)(se),Fe=Object(ie.a)(se),Be=`-mod-actions-menu-${ve.id}`,Ae=!!a&&Object(g.f)(a)===ve.author,De=Object(D.c)(ve),Ve=Object(R.e)("View--Reports",ve.id,Te),We=Object(D.a)(ve),He=!(j||O||f),Ue=e=>ke(Object(h.d)(ve.id,e)),ze=o.a.createElement(U.a,{className:Object(c.a)(ue.a.compactPostStyles,be.a.postContainer,Object(u.a)(this.props),s),style:Object.assign({},Object(u.d)(this.props),Object(u.b)(this.props.flairStyleTemplate)),post:ve,onClick:pe,eventFactory:d},o.a.createElement("div",{className:be.a.compactWrapper},o.a.createElement("div",{className:be.a.leftRailWrapper},o.a.createElement("div",{className:be.a.leftRail,style:{borderColor:Object(K.c)({isRemoved:!!ve.bannedBy,isReported:Object(p.a)(ve),isSponsored:ve.isSponsored,theme:this.props.theme})}},we&&o.a.createElement(ne.a,{className:be.a.bulkActionCheckbox,isCheckboxSelected:C,toggleCheckbox:Se}),o.a.createElement($.a,{className:be.a.verticalVotes,compact:!0,flairStyleTemplate:l,model:ve,onVoteClick:x}),o.a.createElement(_.a,{className:be.a.horizontalVotes,compact:!1,flairStyleTemplate:l,model:ve,onVoteClick:x}))),o.a.createElement(W.a,{className:Object(c.a)(be.a.content,{[be.a.isEvent]:Object(de.a)(ve)}),flairStyleTemplate:l},o.a.createElement(L.a,{isCompactMode:!0,language:Z,post:ve}),o.a.createElement("div",{className:be.a.compactPostRow},!je&&fe(ve,r,E,!1),!G&&!ve.isSponsored&&o.a.createElement(F.h,{type:ve.belongsTo.type,id:ve.belongsTo.id}),o.a.createElement("div",{className:be.a.topLine,"data-click-id":"body"},o.a.createElement(Y.c,{post:ve,poll:xe,size:Y.b.Small,titleColor:l&&l.postTitleColor,isOverlay:!1}),Ee(ve,Oe,Z),o.a.createElement(Q.d,{className:be.a.postTopMeta,flairStyleTemplate:l,language:Z,post:ve,showOCCategories:y,showSub:!!Oe&&!G&&!ve.isSponsored,subredditOrProfile:Oe}),o.a.createElement(H.a,{className:be.a.postBadges,displayText:Oe?Oe.displayText:null,inSubredditOrProfile:G,language:Z,post:ve}),Oe&&o.a.createElement(N.a,{className:be.a.donationAmount,contentId:ve.id,subredditId:Oe.id}),o.a.createElement(I.a,{tooltipType:Te,thing:ve})),He&&o.a.createElement("div",null,o.a.createElement(T.a,{className:be.a.liveDiscussionIcon,isMod:Me,postId:ve.postId})),o.a.createElement("div",{className:be.a.flatList},o.a.createElement(k.a,{className:be.a.commentsLink,hasModPostPerms:Me,isCommentsPage:O,isCommentPermalink:f,isOverlay:j,postId:ve.id,modModeEnabled:oe,numComments:ve.numComments,type:m.f.Compact}),o.a.createElement(V.a,{className:be.a.modToolsFlatlist,isOverlay:!1,language:Z,layout:te,modModeEnabled:oe,post:ve,sendEvent:ke,showIconsOnly:!0}),Me&&o.a.createElement(B.a,{dropdownId:Be,onClick:()=>Ue("post_mod_action_menu")},o.a.createElement(R.b,null),o.a.createElement(q.a,{canEditFlair:Re&&Ie,hasModPostPerms:Me,hasModFullPerms:Fe,isOverlay:!1,isPostAuthor:Ae,language:Z,modModeEnabled:oe,post:ve,tooltipId:Be})),Me&&De&&!oe&&o.a.createElement(X.c,{text:`${We}`,onClick:()=>{this.props.onOpenReportsDropdown(Ve),Ue("post_report_menu")},id:Ve},o.a.createElement(ee.a,{model:ve,onIgnoreReports:()=>{ge(),Ue(ve.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:Ve}),ve.ignoreReports?o.a.createElement(le.a,null):o.a.createElement(me.a,null)),o.a.createElement(J.g,{currentProfileName:n,isCommentsPage:O,isOverlay:!1,isProfilePostListing:P,layout:te,permalink:ve.permalink,postId:ve.postId,sendEvent:ke,showEditPost:Ne,showEditFlair:Ie,dropdownId:`${ve.id}-overflow-menu`,useFlatlistBreakpoints:Object(J.h)({share:!1,editPost:!1,save:!1,gild:!1,hide:!1,report:!1})}),!je&&fe(ve,r,E,!0))),ve.source&&ve.source.url&&ve.isSponsored&&o.a.createElement(w.a,{className:be.a.adLinkWrapper},o.a.createElement(re.a,{href:ve.source.url.replace(i.a.redditUrl,""),isSponsored:ve.isSponsored,source:ve.source},ve.source.displayText),ve.callToAction&&o.a.createElement(S.a,{href:ve.source.url.replace(i.a.redditUrl,""),isSponsored:ve.isSponsored,source:ve.source,isNotCardView:!0},ve.callToAction)),oe&&Me&&De&&o.a.createElement("div",{className:be.a.compactPostRow},o.a.createElement(A.a,{language:Z,onIgnoreReports:ge,reportable:ve})),o.a.createElement(F.d,{postId:ve.id}))),E&&o.a.createElement(Ce,{post:ve,scrollerItemRef:Pe,flairStyleTemplate:l}),t===Le&&o.a.createElement(z.a,{flairs:ve.flair,subredditId:ve.belongsTo.id,language:Z,modalId:Le,onFlairChanged:he}));return o.a.createElement(o.a.Fragment,null,ze)}}))))},"./src/reddit/components/ContentTooltip/index.m.less":function(e,t,s){e.exports={StyledTooltipContainer:"_2uSuNRa3OeptFDJCKQ3vU6",styledTooltipContainer:"_2uSuNRa3OeptFDJCKQ3vU6",fadeIn:"_2bkYZH_kJx5pIHW0Ts5P6e",caretOnBottom:"_1rF-A55THyDL-rQ9ZUDQ4_",caretOnTop:"_1MHCyMQAMeqRqf5DPWWeq3",caretOnLeft:"nVD-oexLbZI_4QjhrkLFz",caretOnRight:"KRVDnoE1RIC5qyqQLXxGG"}},"./src/reddit/components/ContentTooltip/index.tsx":function(e,t,s){"use strict";var n=s("./src/higherOrderComponents/addOverlayEvents.tsx"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/higherOrderComponents/asTooltip.tsx"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/CSSVariableProvider/withTheme.tsx"),m=s("./src/lib/fastdom/index.ts"),p=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),u=s("./src/reddit/selectors/tooltip.ts"),h=s("./src/reddit/components/ContentTooltip/index.m.less"),b=s.n(h);const g={height:200,width:200},x=e=>{switch(e){case"top":return"bottom";case"right":return"left";case"left":return"right";case"bottom":default:return"top"}},v=Object(l.a)(e=>{const t=e.children,s=e.className,n=e.style,o=e.caretPosition,a=e.caretColor;return r.a.createElement("div",{className:Object(d.a)(s,b.a.StyledTooltipContainer,{[b.a.caretOnTop]:"top"===o,[b.a.caretOnLeft]:"left"===o,[b.a.caretOnRight]:"right"===o,[b.a.caretOnBottom]:"bottom"===o}),style:Object.assign({},n,{"--contentTooltip-caretColor":a&&a[o]?a[o]:Object(p.a)(e).body})},t)}),C=Object(i.c)({isOpen:(e,{tooltipId:t})=>Object(u.b)(t)(e)}),O=Object(c.a)(v,[n.a.Click,n.a.Keydown]),f=Object(a.b)(C);t.a=f(class extends r.a.Component{constructor(e){super(e),this.checkAndSetPosition=(()=>{var e=this.props;const t=e.tooltipId;var s=e.tooltipSizeEstimate;const n=void 0===s?g:s;m.a.read(()=>{const e=document.getElementById(t);if(!e)return;const s=e.getBoundingClientRect();if("undefined"==typeof window)return void this.setState({position:this.props.defaultTooltipPosition});let o=!0;switch(this.props.defaultTooltipPosition){case"bottom":o=window.innerHeight-s.bottom>n.height;break;case"left":o=s.left>n.width;break;case"right":o=s.right<=window.innerWidth-n.width;break;case"top":default:o=s.top>n.height}this.setState({position:o?this.props.defaultTooltipPosition:x(this.props.defaultTooltipPosition)})})}),this.state={position:null}}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.checkAndSetPosition(),e.isOpen&&!this.props.isOpen&&this.setState({position:null})}getPositions(e){switch(e||this.props.defaultTooltipPosition){case"bottom":return{tooltipPosition:["center","top"],targetPosition:["center","bottom"],caretPosition:"top"};case"left":return{tooltipPosition:["right","center"],targetPosition:["left","center"],caretPosition:"right"};case"right":return{tooltipPosition:["left","center"],targetPosition:["right","center"],caretPosition:"left"};case"top":default:return{tooltipPosition:["center","bottom"],targetPosition:["center","top"],caretPosition:"bottom"}}}render(){const e=this.state.position;var t=this.getPositions(e);const s=t.targetPosition,n=t.tooltipPosition,o=t.caretPosition;return r.a.createElement(O,Object.assign({},this.props,{caretPosition:o,targetPosition:s,tooltipPosition:n}))}})},"./src/reddit/components/ContributorRequestFlow/ContributorRequestButton.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/components/IdCard/index.tsx"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/constants/modals.ts"),m=s("./src/reddit/controls/Button/index.tsx"),p=s("./src/reddit/helpers/trackers/restrictedCommunity.ts"),u=s("./src/reddit/i18n/utils.ts"),h=s("./src/reddit/models/SubredditRestrictions/index.ts"),b=s("./src/reddit/selectors/subreddit.ts");const g=Object(a.c)({restrictions:b.r});t.a=Object(r.b)(g,e=>({openContributorRequestModal:()=>e(Object(i.i)(l.a.CONTRIBUTOR_REQUEST))}))(Object(d.b)(class extends o.a.Component{constructor(){super(...arguments),this.onRequest=(()=>{this.props.sendEvent(Object(p.a)(this.props.eventSource)),this.props.openContributorRequestModal()})}render(){const e=this.props.smallButton?m.f:c.c;return o.a.createElement(e,{className:this.props.className,onClick:this.onRequest},this.props.eventSource===h.b.Comment?Object(u.c)("Request to comment"):Object(u.c)("Request to post"))}}))},"./src/reddit/components/CreatePostButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./src/reddit/actions/login.ts"),i=s("./src/reddit/actions/modal.ts"),c=s("./src/reddit/constants/page.ts"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/helpers/getSubredditUrl/index.ts"),m=s("./src/reddit/i18n/utils.ts"),p=s("./src/reddit/selectors/telemetry.ts"),u=s("./src/reddit/selectors/user.ts"),h=s("./node_modules/reselect/es/index.js"),b=s("./src/reddit/components/TrackingHelper/index.tsx"),g=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const x=Object(h.c)({isLoggedIn:u.L}),v=Object(r.b)(x,e=>({openLoginModal:()=>{e(Object(i.k)({actionSource:i.a.Post})),e(Object(a.b)())}}));t.a=v(Object(b.b)(e=>{var t=e.customLabel,s=e.isContributorRequestPending,n=e.isLoggedIn,r=e.listingName,a=e.openLoginModal,i=e.sendEvent,u=e.submissionType,h=e.subreddit,b=g(e,["customLabel","isContributorRequestPending","isLoggedIn","listingName","openLoginModal","sendEvent","submissionType","subreddit"]);const x=u?`?${u}`:"",v=`${Object(l.a)(h)||(e=>e===c.g?"/original/":"")(r)||"/"}submit${x}`;return o.a.createElement(d.h,Object.assign({},b,{onClick:e=>{i(e=>({action:"click",noun:"create_post",source:"id_card",screen:Object(p.screen)(e),subreddit:Object(p.subreddit)(e),actionInfo:Object(p.actionInfo)(e)})),n||(a(),e.preventDefault())},to:v}),s?Object(m.c)("Draft post"):t||Object(m.c)("Create post"))}))},"./src/reddit/components/CrosspostBox/index.m.less":function(e,t,s){e.exports={mediaContainer:"P8p9Nku0-ZbYCsaCOSE2t",cleanup:"pi06-siFxDP4WMO06Bg0X",Container:"_2ED-O3JtIcOqp8iIL1G5cg",container:"_2ED-O3JtIcOqp8iIL1G5cg",PostMetaWrapper:"_1u_4ufj_H3WJW2TXEZ6a3n",postMetaWrapper:"_1u_4ufj_H3WJW2TXEZ6a3n",PostTitle:"_2akYJO5RtMK_ptA408seyG",postTitle:"_2akYJO5RtMK_ptA408seyG",FlatList:"_3Dd3XvAr-WcOJyMTx4y35x",flatList:"_3Dd3XvAr-WcOJyMTx4y35x",FlatItem:"_2Pkdj4FrQFtK8COeODi_kK",flatItem:"_2Pkdj4FrQFtK8COeODi_kK",FlatListDotSpacer:"_3w73P89exX_1mpdhQCURo6",flatListDotSpacer:"_3w73P89exX_1mpdhQCURo6",LinkContainer:"CsZ0mP84ULF0bBJJa0PFy",linkContainer:"CsZ0mP84ULF0bBJJa0PFy",Content:"_379A_08LTBsR4c8POTldR_",content:"_379A_08LTBsR4c8POTldR_",ThumbnailContainer:"_7bo--rwqP4Z7K1s_8dGPX",thumbnailContainer:"_7bo--rwqP4Z7K1s_8dGPX"}},"./src/reddit/components/CrosspostBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/app/strings/index.ts"),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/permalinkToOverlayLocation/index.ts"),m=s("./src/lib/prettyPrintNumber/index.ts"),p=s("./src/reddit/components/Media/index.tsx"),u=s("./src/reddit/components/PostMeta/index.tsx"),h=s("./src/reddit/components/PostTitle/index.tsx"),b=s("./src/reddit/components/SourceLink/index.tsx"),g=s("./src/reddit/components/Thumbnail/index.tsx"),x=s("./src/reddit/selectors/experiments/removeOc.ts"),v=s("./src/reddit/selectors/posts.ts"),C=s("./src/reddit/selectors/user.ts"),O=s("./src/reddit/components/CrosspostBox/index.m.less"),f=s.n(O),E=s("./src/lib/lessComponent.tsx");const y=E.a.div("Container",f.a),j=E.a.div("PostMetaWrapper",f.a),P=E.a.wrapped(h.c,"PostTitle",f.a),w=E.a.div("FlatList",f.a),I=E.a.div("FlatItem",f.a),S=E.a.span("FlatListDotSpacer",f.a),T=E.a.wrapped(y,"LinkContainer",f.a),k=E.a.div("Content",f.a),_=E.a.div("ThumbnailContainer",f.a),N=Object(i.c)({isCurrentUserProfilePost:v.g,isInRemoveOcExperiment:x.a,language:C.T,post:v.J,shouldOpenPostInNewTab:C.X,subreddit:v.U}),L=Object(r.b)(N);t.a=L(e=>{const t=e.className,s=e.isCurrentUserProfilePost,n=e.isInRemoveOcExperiment,r=e.mediaProps,a=e.post,i=e.postCleanupVariant,c=e.subreddit,l=e.language;if(!a)return null;const m={post:a,hideGildCta:!0,inSubredditOrProfile:!1,isCurrentUserProfilePost:s,isInRemoveOcExperiment:n,postCleanupVariant:i,shouldShowSubscribeButton:!1,subredditOrProfile:c,language:l,tooltipType:`CrosspostBox--${r.isListing}`},p=Object(d.a)({[f.a.cleanup]:!!i},t);return a&&!a.media?o.a.createElement(T,{className:p},o.a.createElement(k,null,o.a.createElement(j,null,o.a.createElement(u.a,Object.assign({},m))),M(a),!i&&a.source&&o.a.createElement(b.a,{post:a}),!i&&F(e)),A(e)):o.a.createElement(y,{className:p},o.a.createElement(j,null,o.a.createElement(u.a,Object.assign({},m))),M(a),R(e),!i&&F(e))});const M=e=>o.a.createElement(P,{isCrosspost:!0,post:e,shouldLinkWrap:!0,size:h.b.Small}),R=e=>{const t=e.mediaProps,s=e.post,n=e.postCleanupVariant,r=Object.assign({},t,{post:s,postCleanupVariant:n,crosspost:t.post});return o.a.createElement("div",null,o.a.createElement(p.a,Object.assign({},r,{className:Object(d.a)(f.a.mediaContainer,{[f.a.cleanup]:!!n})})))},F=e=>{const t=e.language,s=e.post.score;return o.a.createElement(w,null,o.a.createElement(I,null,Object(c.c)(t,"posts.points.noun",s,{count:Object(m.b)(s)})),o.a.createElement(S,null),o.a.createElement(I,null,B(e)))},B=e=>{const t=e.language,s=e.post,n=e.shouldOpenPostInNewTab,r=s.numComments;return o.a.createElement(a.a,{"data-click-id":"comments",to:Object(l.a)(s.permalink,!0),target:n?"_blank":void 0},Object(c.c)(t,"posts.comments.noun",r,{count:Object(m.b)(r)}))},A=e=>o.a.createElement(_,{className:Object(d.a)({[f.a.cleanup]:!!e.postCleanupVariant})},o.a.createElement(g.a,{post:e.post}))},"./src/reddit/components/DiscoveryUnit/Community/index.m.less":function(e,t,s){e.exports={layout:"_1Yi7fbTTde5XeZybixm6FR",iconContainer:"gWdCEy56VxHUE2mBMBOW6",subscribeIcon:"_12F_RRHdGrCd7fUWkfqSgn",subscribeButton:"OSpYRUTaGaz3fjrn4W5P9","m-plus":"_1W0rkLvS4zAsV3hodtwlET",mPlus:"_1W0rkLvS4zAsV3hodtwlET",textContainer:"_1_5Q3J1CP2DOHmfGlUHZf3",icon:"_2wcnJRvYkbVflIjjKlL5UQ",name:"_2vd1AsQKSbwADj27oRcCpI",subscribers:"_2vCu8MDznHrM1jxVe1QlBk",right:"_2RT-YVauGr7kW3UYPzKHiy",visitCommunity:"_18hknfXm8lfBF7Ukdz7q_p",description:"_2DMxsEeoABpUf9b0cmcofA",descriptionLine:"_3TPTU-e7e845VpQqN3B9ni",plusIcon:"_1IK16jx0Si95U3hxV79faK"}},"./src/reddit/components/DiscoveryUnit/CommunityBannerDiscoveryUnit/index.m.less":function(e,t,s){e.exports={container:"VuaKi33qnpAH4bchSySjL",communityData:"_1vjofeGsSalO_tPtbA-Rsy",communityMetaContainer:"BO4LwQYlhgt566CET-3Qp",communityTitle:"PX6LTNgPFv2yczyATnpIT",contentWrapper:"cVjBu6OFTtUXx0zxt9RJr",metaData:"_3L-bbDIk1RL32RytOhNdWP",linkContainer:"_1tMOUAgNSAV2vTpb2S4pJy",moreFrom:"_2af5a7_SqL-RhzjEabfd7c",postContainer:"_1_eLUV1Uad3E0iM94kO45P",subredditIcon:"_1EXY3UqsJSp2wWPbLJvmug"}},"./src/reddit/components/DiscoveryUnit/CommunityDiscoveryUnit/Header/index.m.less":function(e,t,s){e.exports={container:"_2dSBAHye3fbqraa1p5ZHjf",oldContainer:"_2tUSgy_QpIUolzp6P3y9jI",communityTextContainer:"_3CQ2tVriX8JfwqcUnTc5Z8",communityName:"_13RjkznfGSernpq60e9ZIs",banner:"_2-wTy8-lqic7zMBKrT7FxF",community:"hiYn8MYOEE8uwxibysUbZ",icon:"HTqrlS5dYIDAjSeV_6W90",titleLink:"hJraobLo3g_uUgQfsL6pR",viewCommunity:"_2A9SyrBWUkxo6nHGHumhG_",join:"_3DnF4vwqqOplZEQwRfjqfI",joinButton:"_36-9K5RMtuAgvbe1PkUJko"}},"./src/reddit/components/DiscoveryUnit/CommunityDiscoveryUnit/index.m.less":function(e,t,s){e.exports={container:"_1QapNARHIKz6Yv0mVLyPk8",title:"_2B0veRtcLwhW_-bCroePZu",titlePlaceholder:"_3Jn8Dx-EG2T_eHvpdabj3U",communityBackground:"qGbh3OrQUpcTrHVaNpMsH",seeAllPosts:"sRaBZJC2a9xlvuGlo94Ax",communityDescriptionPlaceholder:"_3NcA_rukDRB5TqzQICuPLH",arrowPlaceholder:"_3ZmbzIBG1qhWBz9EWQhVCB",arrowRight:"_2btkPnjLA_oKMNv24bgrF0"}},"./src/reddit/components/DiscoveryUnit/CommunityDiscoveryUnit/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/constants/index.ts"),d=s("./src/lib/makeListingKey/index.ts"),l=s("./src/reddit/actions/discoveryUnit.ts"),m=s("./src/reddit/components/DiscoveryUnit/Layout/index.tsx"),p=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/index.tsx"),u=s("./src/reddit/helpers/trackers/discoveryUnit.ts"),h=s("./src/reddit/models/Widgets/index.ts"),b=s("./src/reddit/selectors/discoveryUnit.ts"),g=s("./src/reddit/selectors/experiments/exploreV2.ts"),x=s("./src/reddit/selectors/listings.ts"),v=s("./src/reddit/selectors/subreddit.ts"),C=s("./src/reddit/selectors/user.ts"),O=s("./src/app/strings/index.ts"),f=s("./node_modules/react-router-dom/es/index.js"),E=s("./src/reddit/i18n/components.tsx"),y=s("./src/reddit/components/SubredditIcon/index.tsx"),j=s("./src/reddit/components/SubscribeButton/index.tsx"),P=s("./src/reddit/connectors/connectToLanguage.ts"),w=s("./src/reddit/constants/posts.ts"),I=s("./src/reddit/helpers/name/index.ts");var S=e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 12 12",version:"1.1"},o.a.createElement("path",{d:"M10.8 4.4H7.6V1.2a.8.8 0 0 0-.8-.8H5.2a.8.8 0 0 0-.8.8v3.2H1.2a.8.8 0 0 0-.8.8v1.6a.8.8 0 0 0 .8.8h3.2v3.2a.8.8 0 0 0 .8.8h1.6a.8.8 0 0 0 .8-.8V7.6h3.2a.8.8 0 0 0 .8-.8V5.2a.8.8 0 0 0-.8-.8",fill:"currentColor",fillRule:"evenodd"})),T=s("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),k=s("./src/reddit/models/Subreddit/index.ts"),_=s("./src/reddit/components/DiscoveryUnit/Community/index.m.less"),N=s.n(_);var L=Object(P.a)(e=>{const t=e.nameClassName,s=e.subredditAboutInfo,n=e.subredditOrProfile,r=e.textContainerClassName,a={name:n.name,type:Object(k.c)(n)?w.a.PROFILE:w.a.SUBREDDIT},c=s?s.publicDescription:"";return o.a.createElement("div",{className:Object(i.a)(N.a.container,e.className)},o.a.createElement(T.a,{className:N.a.layout},o.a.createElement("div",{className:N.a.iconContainer},o.a.createElement(y.b,{className:N.a.icon,redditStyle:!0,subredditOrProfile:n}),e.showSubscribeSmallIcon&&o.a.createElement(j.a,{className:N.a.subscribeIcon,getEventFactory:e.getSubscribeEventFactory,icon:!0,identifier:a,small:!0})),o.a.createElement("div",{className:Object(i.a)(N.a.textContainer,r)},o.a.createElement(f.a,{className:Object(i.a)(N.a.name,t),to:n.url,onMouseDown:e.onClick},Object(I.b)(n.displayText||n.name)),!e.showDescriptionLine&&!!c&&o.a.createElement("p",{className:N.a.description,title:c},c),(e.showDescriptionLine||!c)&&!!n.subscribers&&o.a.createElement("p",{className:N.a.subscribers},Object(O.c)(e.language,"listings.subscribers",n.subscribers))),o.a.createElement("div",{className:N.a.right},!e.showSubscribeSmallIcon&&o.a.createElement(o.a.Fragment,null,e.showVisitLink&&o.a.createElement(f.a,{className:N.a.visitCommunity,to:n.url,onMouseDown:e.onClick},o.a.createElement(E.c,null,"Visit Community")),o.a.createElement(j.a,{border:!!e.showSubscribeBlueButton,className:Object(i.a)(e.showSubscribeBlueButton||e.showSubscribeLargeIcon?void 0:N.a.subscribeButton,{[N.a["m-plus"]]:e.showSubscribeBlueButton}),getEventFactory:e.getSubscribeEventFactory,identifier:a,icon:e.showSubscribeLargeIcon,small:!e.showSubscribeLargeIcon},e.showSubscribeBlueButton&&o.a.createElement(S,{className:N.a.plusIcon}))))),e.showDescriptionLine&&o.a.createElement("p",{className:N.a.descriptionLine,title:c},c))}),M=s("./src/lib/lessComponent.tsx"),R=s("./src/reddit/components/PostCreationForm/OCCommunities/SubredditList/Placeholder.tsx"),F=M.a.wrapped(R.a,"placeholder",N.a),B=(s("./src/reddit/components/DiscoveryUnit/Layout/Posts/Placeholder.tsx"),s("./src/reddit/components/DiscoveryUnit/CommunityDiscoveryUnit/index.m.less")),A=s.n(B);const D=e=>o.a.createElement("div",{className:Object(i.a)(A.a.titlePlaceholder,e.className)},o.a.createElement(F,{isLoading:!1}));var V=s("./src/reddit/controls/InternalLink/index.tsx"),W=s("./src/reddit/models/Theme/index.ts"),H=s("./src/reddit/components/DiscoveryUnit/CommunityDiscoveryUnit/Header/index.m.less"),U=s.n(H);var z=Object(r.b)(null,(e,{discoveryUnit:t})=>({trackTitleSubredditClick:s=>e((e,n)=>u.I(n(),t,s))}))(class extends o.a.Component{constructor(){super(...arguments),this.getCommunityInfo=(()=>{var e=this.props;const t=e.subreddit,s=e.subredditAboutInfo;if(t)return Object(h.j)(t,s)}),this.trackCommunityClick=(()=>{const e=this.getCommunityInfo();e&&this.props.trackTitleSubredditClick(e)})}render(){var e=this.props;const t=e.discoveryUnit,s=e.exploreV2Variant,n=e.subreddit,r=e.subredditAboutInfo,a=this.getCommunityInfo();if(!n||!r||!a)return o.a.createElement("div",{className:U.a.container},o.a.createElement(D,null));const i=u.K(t,a);if(Object(g.c)(s)){const e=Object(W.g)(Object(W.h)(r.bannerBackgroundColor,n.primaryColor,r.keyColor),r.bannerBackgroundImage,void 0);return o.a.createElement("div",{className:U.a.oldContainer},e&&o.a.createElement("div",{className:U.a.banner,style:{background:e}}),o.a.createElement(L,{className:U.a.community,getSubscribeEventFactory:i,nameClassName:U.a.communityName,onClick:this.trackCommunityClick,showDescriptionLine:!0,showSubscribeBlueButton:!0,showVisitLink:!0,subredditOrProfile:n,subredditAboutInfo:r,textContainerClassName:U.a.communityTextContainer}))}return o.a.createElement("div",{className:U.a.container},o.a.createElement(y.b,{className:U.a.icon,redditStyle:!0,subredditOrProfile:n}),o.a.createElement(V.a,{className:U.a.titleLink,to:n.url,onMouseDown:this.trackCommunityClick},o.a.createElement("div",{className:U.a.communityName},n.name),o.a.createElement("div",{className:U.a.viewCommunity},o.a.createElement(E.c,null,"View Community"))),o.a.createElement("div",{className:U.a.join},o.a.createElement(j.a,{className:U.a.joinButton,getEventFactory:i,identifier:{name:n.name,type:w.a.SUBREDDIT},small:!0})))}});s.d(t,"a",function(){return K});const K=Object(r.b)(()=>{const e=Object(b.e)();return Object(a.c)({exploreV2Variant:e=>Object(g.a)(e),language:C.T,isDataPending:(e,{subredditName:t,discoveryUnit:{unitName:s}})=>{const n=Object(d.a)(s,c.P.HOT,{subredditName:t});return Object(x.h)(e,{listingKey:n})},postIds:(t,{subredditName:s,discoveryUnit:{unitName:n},listingKey:o})=>e(t,{listingKey:o,unitName:n,subredditName:s}),subreddit:v.G,subredditAboutInfo:v.D})},(e,{subredditName:t,discoveryUnit:s})=>({loadData:()=>{e(l.k(s,t))},trackFooterSubredditClick:t=>e((e,n)=>{u.s(n(),s,t)})}),(e,t,s)=>Object.assign({},e,t,s,{trackFooterSubredditClick:()=>{if(!e.subreddit)return;const s=Object(h.j)(e.subreddit);t.trackFooterSubredditClick(s)}}));t.b=K(class extends o.a.Component{constructor(){super(...arguments),this.postRefs=new Set,this.setPostRef=((e,t)=>{this.postRefs.add(e)}),this.pauseContent=(()=>{this.postRefs.forEach(e=>e&&e.pauseContent())}),this.stopContent=(()=>{this.postRefs.forEach(e=>e&&e.stopContent())}),this.focusContent=(()=>{}),this.loadContent=(()=>{}),this.unmountContent=(()=>{this.postRefs.forEach(e=>e&&e.unmountContent())}),this.contentIsHeavyToMount=(()=>!!Array.from(this.postRefs).find(e=>!!e&&e.contentIsHeavyToMount()))}componentDidMount(){this.props.loadData(),this.props.onView(this.props.discoveryUnit),this.props.scrollerItemRef&&this.props.scrollerItemRef(this)}componentWillUnmount(){this.props.scrollerItemRef&&this.props.scrollerItemRef(void 0)}render(){var e=this.props;const t=e.discoveryUnit,s=e.exploreV2Variant,n=e.language,r=e.subreddit,a=e.subredditAboutInfo;return o.a.createElement("div",{className:Object(i.a)(this.props.className,A.a.container)},o.a.createElement(m.a,{exploreV2Variant:s,header:o.a.createElement(z,{discoveryUnit:t,exploreV2Variant:s,language:n,subreddit:r,subredditAboutInfo:a})},o.a.createElement(p.a,{discoveryUnit:t,isLoading:!r||this.props.isDataPending,onPostView:this.props.onPostView,postIds:this.props.postIds,scrollerItemRef:this.setPostRef,shouldUseSmallCardLayout:!0,showSubreddit:!1})))}})},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Loader.tsx":function(e,t,s){"use strict";var n=s("./src/higherOrderComponents/makeAsync.tsx"),o=s("./src/lib/loadWithRetries/index.ts");const r=Object(n.a)({getComponent:()=>Object(o.a)(()=>Promise.all([s.e("Explore~InFeedChaining"),s.e("InFeedChaining")]).then(s.bind(null,"./src/reddit/components/DiscoveryUnit/InFeedChaining/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null});t.a=r},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/Body/index.m.less":function(e,t,s){e.exports={body:"_1TdTKnpCL4r-8b_P6N_s2H",thumbnailWrapper:"_1GhzoJvAGDHDieNmaBbc1j",thumbnail:"_29LP0yOv3qdH7Hw0i42rY1",thumbnailContainer:"_3D4UF6ZAO5wiwsAaqGPFD_",thumbnailLinkIcon:"_3nmCxKiXx-UyUgMfxQMQYO",bodyWrapper:"_2DMHAzKjqjnl-PBICpGvvP",mediaWrapper:"_2nVhK4TJW8rFpCW0J71MeZ",textWrapper:"_3HyzG7Bun5vaTrdBWvTTmT",postTitle:"_1ft5B5IP2RM9FAOkd6O_30",postTitleCompact:"_2y0S2HAq5enRe-8puwGqvp",flexSpacer:"_2pXLfUYWqtorJfsnyUPLpy"}},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/Footer/index.m.less":function(e,t,s){e.exports={footer:"_16DxRuw4PntaiR7Mb8IpKz",metaText:"_2OKlRpghzNcnid45bc1QFg"}},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/Header/index.m.less":function(e,t,s){e.exports={header:"_1eoxIROAsv7YNisHStsspM",icon:"_1r7shGI3FRi8x8jB0wJFIw",iconLink:"_2aYABiczSUxClJTIX1tUoW",name:"_3n6BCmTgHdb1J5H2L_XX4A",link:"_3ZwhnERcT6sV1cfCBsQmAP",subscribe:"_1NVoS5Yuc3mBX9AM0jW19e"}},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/index.m.less":function(e,t,s){e.exports={container:"_2-uI1CWUC-WOhm-MolZUT8",background:"_2KsrA9nTjIN0VD69GqImgf"}},"./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/reselect/es/index.js"),a=s("./src/lib/classNames/index.ts"),i=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/reddit/components/JSAPIContainers/index.tsx"),d=s("./src/reddit/components/MiniCardPost/index.tsx"),l=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),m=s("./src/reddit/components/PostContainer/index.tsx"),p=s("./src/reddit/helpers/styles/mixins/index.tsx"),u=s("./src/reddit/models/Subreddit/index.ts"),h=s("./src/config.ts"),b=s("./src/lib/isUrl/index.ts"),g=s("./src/reddit/components/Media/index.tsx"),x=s("./src/reddit/components/MiniCardPost/Thumbnail/index.tsx"),v=s("./src/reddit/components/PostTitle/index.tsx"),C=s("./src/reddit/helpers/canPreviewSelfText/index.ts"),O=s("./src/reddit/helpers/getRichTextContent.ts"),f=s("./src/reddit/helpers/postHasSelfText/index.ts"),E=s("./src/reddit/models/Media/index.ts"),y=s("./src/reddit/components/MiniCardPost/index.m.less"),j=s.n(y),P=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/Body/index.m.less"),w=s.n(P);const I=`${h.a.assetPath}/img/link-placeholder.png`;var S=e=>{const t=e.autoplayPref,s=e.availableWidth,n=e.className,r=e.crosspostRoot,i=e.flairStyleTemplate,c=e.forceLoadMedia,d=e.post,l=e.scrollerItemRef,m=e.shouldPause;const p=(r||d).media,u=p&&o.a.createElement(g.a,{autoplayPref:t,availableWidth:s,className:j.a.media,"data-redditstyle":!0,forceAspectRatio:E.c,imageBoxClassName:j.a.mediaImageBox,imageBoxContentImageClassName:j.a.mediaImageBoxContentImage,isListing:!0,isMiniCard:!0,isMiniCardHQPreviews:!0,isNotCardView:!0,post:r||d,scrollerItemRef:l,shouldLoad:c,shouldPause:m,showCentered:!1,showFull:!1});let h,y=!0;const P=!!d.source&&Object(b.a)(d.source.url)||!!d.thumbnail&&Object(b.a)(d.thumbnail.url);return!p&&P?(y=!1,h=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:w.a.flexSpacer}),o.a.createElement("div",{className:w.a.mediaWrapper},o.a.createElement(x.a,{className:w.a.thumbnailWrapper,thumbnailClassName:w.a.thumbnail,thumbnailContainerClassName:w.a.thumbnailContainer,thumbnailLinkIconClassName:w.a.thumbnailLinkIcon,"data-redditstyle":!0,post:d,showPlaceholderContentType:!i||!i.postPlaceholderImage,templatePlaceholderImage:i?i.postPlaceholderImage:I,usePreview:!0})))):p&&u?p.type!==E.o.RTJSON&&p.type!==E.o.TEXT?(y=!1,h=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:w.a.flexSpacer}),o.a.createElement("div",{className:w.a.mediaWrapper},u))):h=Object(f.a)(d)||Object(O.b)(d)&&Object(C.a)(d)?o.a.createElement("div",{className:w.a.textWrapper},u):o.a.createElement("div",{className:w.a.flexSpacer}):h=o.a.createElement("div",{className:w.a.flexSpacer}),o.a.createElement("div",{className:Object(a.a)(w.a.body,n)},o.a.createElement(v.c,{className:y?w.a.postTitle:w.a.postTitleCompact,"data-redditstyle":!0,hideSourceLink:!0,post:d,size:v.b.Large,showNSFWSpoilerFlairsOnly:!0,titleColor:i&&i.postTitleColor}),h)},T=s("./src/app/strings/index.ts"),k=s("./src/lib/prettyPrintNumber/index.ts"),_=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/Footer/index.m.less"),N=s.n(_);var L=e=>{const t=e.className,s=e.language,n=e.post;return o.a.createElement("div",{className:Object(a.a)(N.a.footer,t)},o.a.createElement("span",{className:N.a.metaText},Object(T.c)(s,"posts.points.noun",n.score,{count:Object(k.b)(n.score)})),o.a.createElement("span",{className:N.a.metaText},Object(T.c)(s,"posts.comments.noun",n.numComments,{count:Object(k.b)(n.numComments)})))},M=s("./src/reddit/components/SubredditIcon/index.tsx"),R=s("./src/reddit/components/SubscribeButton/index.tsx"),F=s("./src/reddit/components/Widgets/CommunityList/helpers.ts"),B=s("./src/reddit/constants/posts.ts"),A=s("./src/reddit/controls/InternalLink/index.tsx"),D=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/Header/index.m.less"),V=s.n(D);var W=e=>{const t=e.className,s=e.getSubscribeEventFactory,n=e.onSubredditOrProfileClick,r=e.shouldShowSubscribeButton,i=e.subredditOrProfile,c=Object(u.c)(i)?B.a.PROFILE:B.a.SUBREDDIT;return o.a.createElement("div",{className:Object(a.a)(V.a.header,t)},o.a.createElement(A.a,{className:V.a.iconLink,"data-redditstyle":!0,to:i.url,onMouseDown:n},o.a.createElement(M.b,{className:V.a.icon,subredditOrProfile:i})),o.a.createElement("div",{className:V.a.name},o.a.createElement(A.a,{className:V.a.link,"data-redditstyle":!0,to:i.url,onMouseDown:n},Object(F.b)(i.displayText||i.name,c))),r&&o.a.createElement(R.a,{className:V.a.subscribe,"data-redditstyle":!0,getEventFactory:s,icon:!0,identifier:{name:i.name,type:c},small:!0}))},H=s("./src/reddit/helpers/styles/mixins/index.m.less"),U=s.n(H),z=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/index.m.less"),K=s.n(z),G=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const q=Object(r.a)(e=>e.subredditOrProfile,e=>e.subscribedProfiles,e=>e.subscribedSubreddits,(e,t,s)=>{if(!e)return!1;return(Object(u.c)(e)?t:s).some(t=>t.id===e.id)});t.a=Object(d.a)(Object(i.a)(class extends o.a.Component{constructor(){super(...arguments),this.trackSubredditOrProfileClicked=(e=>{e.stopPropagation(),this.props.onSubredditOrProfileClick(this.props.postId)}),this.getSubscribeEventFactory=(e=>{const t=this.props.getSubscribeEventFactory(this.props.postId);if(t)return t(e)})}render(){const e=this.props,t=e.className,s=G(e,["className"]),n=s.eventFactory,r=s.flairStyleTemplate,i=s.language,d=s.onClickPost,u=s.post,h=s.subredditOrProfile,b=s.subscribedProfiles,g=s.subscribedSubreddits,x=!q({subredditOrProfile:h,subscribedProfiles:b,subscribedSubreddits:g});return o.a.createElement(m.a,{className:Object(a.a)(K.a.container,U.a.largeAndMediumActiveStyles,U.a.largeAndMediumPostStyles,U.a.mUseRedditTheme,j.a.postContainer,Object(p.a)(this.props),t),eventFactory:n,onClick:d,post:u,style:Object.assign({},Object(p.b)(this.props.flairStyleTemplate),Object(p.d)(this.props))},o.a.createElement(l.a,{className:K.a.background,"data-redditstyle":!0,flairStyleTemplate:r},h&&o.a.createElement(W,{getSubscribeEventFactory:this.getSubscribeEventFactory,onSubredditOrProfileClick:this.trackSubredditOrProfileClicked,subredditOrProfile:h,shouldShowSubscribeButton:x}),o.a.createElement(S,Object.assign({},s)),o.a.createElement(L,{"data-redditstyle":!0,language:i,post:u})),o.a.createElement(c.d,{postId:u.id}))}}))},"./src/reddit/components/DiscoveryUnit/Layout/Posts/LargePost/Placeholder/index.m.less":function(e,t,s){e.exports={container:"_1Um_rXui0lpe-Cb9ODsUz8",thumbnail:"_2ilcai8VLJQ4KV-4Vr9AhG",titleContainer:"_209JNAgNuTpt_9rNZ_-I5H",title:"yS5_DQC3UhJ6Wt-w0vmPJ",subreddit:"_29KiFeb0JZyGt_srMMDGe8",subredditIcon:"_2kXB1RuItuBoLcEoACutFY",subredditName:"_2Wu0-V5-MJRkAJSLNLG5nr",comments:"_2Wpo4vJYSV_vEH7f9YqriD",share:"tcl1OVwD_ZXnDYCaBv5jr",ellipsis:"_37PjXi-35JTLdRok2sdRmc",flatlist:"aw61cZLZoC0Ieeh3OwHhb",emptyVotes:"_28ZqO3ZWuT39TwPWv_354q",emptyScore:"OBuQ1-AfejFbRfXmxYvTe",placeholder:"_1UnNUULmr-PvFKHHwyQZDY"}},"./src/reddit/components/DiscoveryUnit/Layout/Posts/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/SubredditIcon/index.tsx"),i=s("./src/reddit/components/VerticalVotes/votes.tsx"),c=s("./src/reddit/helpers/styles/mixins/loading.ts"),d=s("./src/reddit/layout/row/Inline/index.tsx"),l=s("./src/reddit/models/Vote/index.ts"),m=s("./src/reddit/helpers/styles/mixins/index.m.less"),p=s.n(m),u=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/LargePost/Placeholder/index.m.less"),h=s.n(u),b=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const g=e=>{const t={interactive:!1,voteState:l.a.notVoted};return o.a.createElement("div",{className:Object(r.a)(h.a.emptyVotes,e.className)},o.a.createElement(i.d,Object.assign({},t)),o.a.createElement("div",{className:Object(r.a)(h.a.emptyScore,Object(c.c)(e))}),o.a.createElement(i.c,Object.assign({},t)))};var x=e=>{var t=e.className,s=e.showSubreddit,n=b(e,["className","showSubreddit"]);return o.a.createElement("div",{className:Object(r.a)(h.a.container,h.a.placeholder,p.a.largeAndMediumPostStyles,t)},s&&o.a.createElement(d.a,{className:h.a.subreddit},o.a.createElement(a.a,{className:Object(r.a)(h.a.subredditIcon,Object(c.a)({isLoading:!1}))}),o.a.createElement("div",{className:Object(r.a)(h.a.subredditName,Object(c.c)(n))})),o.a.createElement("div",{className:h.a.titleContainer},o.a.createElement("div",{className:Object(r.a)(h.a.title,Object(c.c)(n))}),o.a.createElement("div",{className:Object(r.a)(h.a.title,Object(c.c)(n))})),o.a.createElement("div",{className:Object(r.a)(h.a.thumbnail,Object(c.c)(n))}),o.a.createElement(d.a,{className:h.a.flatlist},o.a.createElement(g,Object.assign({},n)),o.a.createElement("div",{className:Object(r.a)(h.a.comments,Object(c.c)(n))}),o.a.createElement("div",{className:Object(r.a)(h.a.share,Object(c.c)(n))}),o.a.createElement("div",{className:Object(r.a)(h.a.ellipsis,Object(c.c)(n))})))},v=s("./node_modules/react-redux/es/index.js"),C=s("./node_modules/reselect/es/index.js"),O=s("./src/reddit/contexts/PageLayer/index.tsx"),f=s("./src/reddit/components/MiniPost/index.m.less"),E=s.n(f),y=s("./src/reddit/components/MiniPost/Placeholder.m.less"),j=s.n(y),P=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const w=Object(O.w)(),I=Object(C.c)({isFakeSubreddit:O.B});var S=w(Object(v.b)(I)(e=>{var t=e.className,s=e.showSubreddit,n=P(e,["className","showSubreddit"]);const a=Object(c.a)(n);return o.a.createElement("div",{className:Object(r.a)(E.a.container,t)},o.a.createElement("div",{className:j.a.mainBody},o.a.createElement("div",{className:j.a.thumbnailContainer},o.a.createElement("div",{className:Object(r.a)(j.a.thumbnail,a)})),o.a.createElement("div",{className:j.a.content},o.a.createElement("div",null,o.a.createElement("div",{className:Object(r.a)(j.a.title,a)}),s&&o.a.createElement("div",{className:Object(r.a)(j.a.meta,a)})),o.a.createElement("div",{className:j.a.flatlist},o.a.createElement("div",{className:Object(r.a)(j.a.flatlistExpando,a)}),o.a.createElement("div",{className:j.a.flatlistSeparator}),o.a.createElement("div",{className:Object(r.a)(j.a.flatlistItemOne,a)}),o.a.createElement("div",{className:Object(r.a)(j.a.flatlistItemTwo,a)})))))})),T=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/index.m.less"),k=s.n(T);t.a=(e=>o.a.createElement("div",{className:Object(r.a)(k.a.container,e.className)},e.shouldUseSmallCardLayout?o.a.createElement("div",{className:k.a.largePosts},o.a.createElement(x,{className:k.a.largePost,isLoading:!1,showSubreddit:e.showSubreddit}),o.a.createElement(x,{className:k.a.largePost,isLoading:!1,showSubreddit:e.showSubreddit}),o.a.createElement(x,{className:k.a.largePost,isLoading:!1,showSubreddit:e.showSubreddit}),o.a.createElement(x,{className:k.a.largePost,isLoading:!1,showSubreddit:e.showSubreddit})):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:k.a.topPosts},o.a.createElement(x,{className:k.a.topPost,isLoading:!1,showSubreddit:e.showSubreddit})),o.a.createElement("div",{className:k.a.smallPosts},o.a.createElement(S,{className:k.a.smallPost,isLoading:!1,showSubreddit:e.showSubreddit}),o.a.createElement(S,{className:k.a.smallPost,isLoading:!1,showSubreddit:e.showSubreddit}),o.a.createElement(S,{className:k.a.smallPost,isLoading:!1,showSubreddit:e.showSubreddit})))))},"./src/reddit/components/DiscoveryUnit/Layout/Posts/TinyPost/index.m.less":function(e,t,s){e.exports={container:"_1xJMMSscxwnaWI-bX2-vZg",postTitle:"_1CuX0kE5vltrOr795mB75",thumbnail:"_1e6EtaUy_iviqsHB0M7kmI",meta:"_4JNqFJyhO_GLBkYzolRen",topRow:"_2FBbnHnqVWC-nDWw-wL_w-",thumbnailContainer:"vJ5tAMxvuAXjDbOfrfz43"}},"./src/reddit/components/DiscoveryUnit/Layout/Posts/TopPostsPlaceholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/reddit/components/SubredditIcon/index.tsx"),l=s("./src/reddit/components/VerticalVotes/votes.tsx"),m=s("./src/reddit/contexts/PageLayer/index.tsx"),p=s("./src/reddit/helpers/styles/mixins/loading.ts"),u=s("./src/reddit/layout/row/Inline/index.tsx"),h=s("./src/reddit/models/Vote/index.ts"),b=s("./src/reddit/helpers/styles/mixins/index.m.less"),g=s.n(b),x=s("./src/reddit/components/MiniCardPost/Placeholder/index.m.less"),v=s.n(x),C=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const O=Object(m.w)(),f=Object(i.c)({isFakeSubreddit:m.B}),E=Object(a.b)(f),y=e=>{const t={interactive:!1,voteState:h.a.notVoted};return o.a.createElement("div",{className:Object(r.a)(v.a.emptyVotes,e.className)},o.a.createElement(l.d,Object.assign({},t)),o.a.createElement("div",{className:Object(r.a)(v.a.emptyScore,Object(p.c)({isLoading:e.isLoading}))}),o.a.createElement(l.c,Object.assign({},t)))};var j=O(E(Object(c.a)(e=>{var t=e.className,s=e.isLoading,n=e.showSubreddit,a=C(e,["className","isLoading","showSubreddit"]);return o.a.createElement("div",{className:Object(r.a)(v.a.container,g.a.largeAndMediumPostStyles,t)},o.a.createElement("div",{className:Object(r.a)(v.a.thumbnail,Object(p.c)({isLoading:s}))}),o.a.createElement("div",{className:v.a.content},o.a.createElement("div",{className:v.a.titleContainer},o.a.createElement("div",{className:Object(r.a)(v.a.title,Object(p.c)({isLoading:s}))}),o.a.createElement("div",{className:Object(r.a)(v.a.title,Object(p.c)({isLoading:s}))})),n&&o.a.createElement(u.a,{className:v.a.subreddit},o.a.createElement(d.a,Object.assign({className:Object(r.a)(Object(p.c)({isLoading:!1}))},a)),o.a.createElement("div",{className:Object(r.a)(v.a.subredditName,Object(p.c)({isLoading:s}))})),o.a.createElement(u.a,null,o.a.createElement(y,Object.assign({isLoading:s},a)),o.a.createElement("div",{className:Object(r.a)(v.a.comments,Object(p.c)({isLoading:s}))}),o.a.createElement("div",{className:Object(r.a)(v.a.share,Object(p.c)({isLoading:s}))}),o.a.createElement("div",{className:Object(r.a)(v.a.ellipsis,Object(p.c)({isLoading:s}))}))))}))),P=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/index.m.less"),w=s.n(P);t.a=(e=>o.a.createElement("div",{className:Object(r.a)(w.a.container,e.className)},o.a.createElement("div",{className:w.a.largePosts},o.a.createElement(j,{className:w.a.topPostLargePost,isLoading:!0,showSubreddit:e.showSubreddit}),o.a.createElement(j,{className:w.a.topPostLargePost,isLoading:!0,showSubreddit:e.showSubreddit}),o.a.createElement(j,{className:w.a.topPostLargePost,isLoading:!0,showSubreddit:e.showSubreddit}))))},"./src/reddit/components/DiscoveryUnit/Layout/Posts/index.m.less":function(e,t,s){e.exports={container:"_380AW2tV1AjseFZoaW2xp3",topPosts:"_3RDCFf4elKrhJHKKZkPPD",topPostsLargePostsContainer:"_1iE8_7IcegvYg_Wg3A0jTR",largePosts:"_2jBymLZmAms1MelhCFZsUI","m-large":"_2lujqkV5X6gCVwiA3jxvA1",mLarge:"_2lujqkV5X6gCVwiA3jxvA1","m-subreddit":"_3UFkxiq8tu1X9rAES7YEk7",mSubreddit:"_3UFkxiq8tu1X9rAES7YEk7",topPostLargePosts:"_1B27sUe973sxluKyC6_HnP",topPost:"_3_Nr3saSmaO8BeqrN2u7Pb",largePost:"_21q6EU8IrGnKgnRi9Fcrko",topPostLargePost:"_3rjlIRqkC_nm_BoSlEQ8u-",smallPosts:"_1XdjckgSGhgpGEGUohL62w",smallPost:"_69IUkr5xucpVcbGP5l070"}},"./src/reddit/components/DiscoveryUnit/Layout/Posts/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Post/index.tsx"),c=s("./src/reddit/components/MiniPost/index.tsx"),d=s("./src/reddit/helpers/overlay/index.ts"),l=s("./src/reddit/helpers/trackers/discoveryUnit.ts"),m=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/Placeholder.tsx"),p=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/TopPostsPlaceholder.tsx"),u=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/index.m.less"),h=s.n(u);const b=4,g=1,x=3,v=[],C=Object(r.b)(null,(e,{discoveryUnit:t})=>({openOverlay:t=>e(Object(d.a)(t.permalink)),trackPostClick:s=>e((e,n)=>t?l.x(n(),t,s):null),trackPostSubredditClick:s=>e((e,n)=>t?l.z(n(),t,s):null)}));t.a=C(class extends o.a.Component{constructor(){super(...arguments),this.getItemPostSubredditSubscribeEventFactory=(e=>{const t=this.props.discoveryUnit;if(t)return l.B(t,e)})}componentDidMount(){this.trackPostsViewed(this.props)}componentWillReceiveProps(e){this.props.postIds!==e.postIds&&this.trackPostsViewed(e)}trackPostsViewed(e){if(e.isLoading||0===e.postIds.length)return;const t=e.shouldUseSmallCardLayout?b:g+x;e.postIds.slice(0,t).forEach(t=>this.props.discoveryUnit?e.onPostView(this.props.discoveryUnit,t):null)}render(){var e=this.props;const t=e.discoveryUnit,s=e.shouldUseSmallCardLayout,n=this.props.showTopPosts||!!s;if(this.props.isLoading||0===this.props.postIds.length)return this.props.showTopPosts?o.a.createElement(p.a,{shouldUseSmallCardLayout:n,showSubreddit:this.props.showSubreddit}):o.a.createElement(m.a,{shouldUseSmallCardLayout:n,showSubreddit:this.props.showSubreddit});const r=Object(a.a)({[h.a["m-large"]]:n,[h.a["m-subreddit"]]:this.props.showSubreddit}),d=n?b:g,u=n?0:x,C=this.props.postIds.slice(0,d),O=this.props.postIds.slice(d,d+u),f=1===C.length?h.a.topPosts:h.a.largePosts,E=1===C.length?h.a.topPost:h.a.largePost,y=l.w(t),j={className:Object(a.a)(E,r),eventFactory:y,forceLoadMedia:!0,onClickPost:(e,t)=>{this.props.openOverlay(t),this.props.trackPostClick(t.id)},showMetaLine:this.props.showSubreddit&&!n,showSubscribeBlock:this.props.showSubreddit&&n,onSubredditOrProfileClick:this.props.trackPostSubredditClick};return o.a.createElement("div",{className:Object(a.a)(h.a.container,this.props.className)},o.a.createElement("div",{className:Object(a.a)(f,r)},C.map(e=>o.a.createElement(i.a,Object.assign({},j,{getSubscribeEventFactory:this.getItemPostSubredditSubscribeEventFactory,key:e,postId:e,scrollerItemRef:this.props.scrollerItemRef,subscribedProfiles:v,subscribedSubreddits:v})))),O.length>0&&o.a.createElement("div",{className:h.a.smallPosts},O.map(e=>o.a.createElement(c.a,{className:h.a.smallPost,containerOnClick:()=>this.props.trackPostClick(e),key:e,postId:e,showSubreddit:this.props.showSubreddit,subredditOnClick:()=>this.props.trackPostSubredditClick(e),thumbnailOnClick:()=>this.props.trackPostClick(e)}))))}})},"./src/reddit/components/DiscoveryUnit/Layout/index.m.less":function(e,t,s){e.exports={container:"_3lILa1kmfAauhn7UzHzjLJ",heroContainer:"_2xvhS-vDti9NRsRHMeqFmX",smallContainer:"_11h2c3EwgJFkGto36dozz7",oldContainer:"_24S-GP9dX3BODxJwehVvRx",header:"_3UiOKr6dA-zB_4O4l14Icx",bodyHidePadding:"M4vA4bj3WWpggduxPTpBA",body:"_1l2RfnlEvwmRPfDwe46NRR"}},"./src/reddit/components/DiscoveryUnit/Layout/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/constants/elementClassNames.ts"),i=s("./src/reddit/selectors/experiments/exploreV2.ts"),c=s("./src/reddit/components/DiscoveryUnit/Layout/index.m.less"),d=s.n(c);t.a=(e=>o.a.createElement("div",{className:Object(r.a)(Object(i.c)(e.exploreV2Variant)?d.a.oldContainer:e.exploreV2Variant?Object(r.a)(d.a.smallContainer,a.b):d.a.heroContainer,e.className)},o.a.createElement("div",{className:Object(r.a)(d.a.header,e.headerClassName)},e.header),o.a.createElement("div",{className:Object(r.a)(e.hidePadding?d.a.bodyHidePadding:d.a.body,e.bodyClassName)},e.children)))},"./src/reddit/components/Economics/CommunityTipJar/async.m.less":function(e,t,s){e.exports={loading:"_3gWqsGamiiRTC2h_yOIcgS"}},"./src/reddit/components/Economics/CommunityTipJar/async.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/makeAsync.tsx"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/featureFlags/component.tsx"),c=s("./src/reddit/components/Economics/CommunityTipJar/async.m.less"),d=s.n(c);const l=Object(r.a)({ErrorComponent:()=>null,LoadingComponent:({className:e})=>o.a.createElement("div",{className:Object(a.a)(e,d.a.loading)}),getComponent:()=>Promise.all([s.e("vendors~CoinsPurchaseModal~EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~Ec~61cbc843"),s.e("EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~EconomicsEntryPointsPostFlatl~c734f0e1"),s.e("EconomicsCommunityTipJar")]).then(s.bind(null,"./src/reddit/components/Economics/CommunityTipJar/index.tsx")).then(e=>e.default)});t.a=Object(i.a)("spCommunityTipJar",l)},"./src/reddit/components/Economics/TopTippers/CommentUsername/index.m.less":function(e,t,s){e.exports={badge:"_17rA6EEcc6RUglkZkHnYGO",container:"EorVQyBcpl50FYvpH-VTa"}},"./src/reddit/components/Economics/TopTippers/Icon/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/config.ts");const a=new Set(["t2_ktrtg"]);t.a=(e=>o.a.createElement("img",{className:e.className,src:((e=5,t)=>`${r.a.assetPath}/img/badges/topTippers/${t}/rank-${e}.png`)(e.rank,e.creatorId&&a.has(e.creatorId)?e.creatorId:e.subredditId)}))},"./src/reddit/components/EventPost/EventMetaHeader/index.m.less":function(e,t,s){e.exports={container:"_2A1Ng1fBxjU-qYqbEJn_sm",EventMetaWrapper:"_55hUWVhbF34AzbWr7SAMi",eventMetaWrapper:"_55hUWVhbF34AzbWr7SAMi",eventFollowButton:"_2XCKBYzBTZpjOAFEWv1tSy",isCompact:"_2gNxoOe_xKaMk0mmYMQCGs"}},"./src/reddit/components/EventPost/EventMetaHeader/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/eventTools/index.ts"),i=s("./src/lib/lessComponent.tsx"),c=s("./src/reddit/components/EventPost/PostEventMeta/index.tsx"),d=s("./src/reddit/components/PostFollow/index.tsx"),l=s("./src/reddit/helpers/postCollection.ts"),m=s("./src/reddit/helpers/postEvent.ts"),p=s("./src/reddit/components/EventPost/EventMetaHeader/index.m.less"),u=s.n(p);const h=i.a.div("EventMetaWrapper",u.a);t.a=(({className:e,isCompactMode:t,language:s,post:n})=>{if(!Object(m.a)(n))return null;const i=n&&n.eventInfo,p=Object(l.a)(n),b=i&&Object(a.c)(i.eventStart,i.eventEnd);return o.a.createElement("div",{className:Object(r.a)(u.a.container,e,{[u.a.isCompact]:!!t})},o.a.createElement(h,{className:u.a.eventMetaWrapper},o.a.createElement(c.a,{language:s,post:n}),!p&&b&&o.a.createElement(d.a,{className:u.a.eventFollowButton,post:n,isEventFollow:!0})))})},"./src/reddit/components/EventPost/PostEventMeta/index.m.less":function(e,t,s){e.exports={PostEventFutureText:"_3rtq7SfSLd-e5fAEgn373L",postEventFutureText:"_3rtq7SfSLd-e5fAEgn373L",PostEventPastText:"_1j5EnaNrX7PuyCnmpT-8o0",postEventPastText:"_1j5EnaNrX7PuyCnmpT-8o0",PostEventNowText:"BGfronFwr_0rXxOJmxp10",postEventNowText:"BGfronFwr_0rXxOJmxp10",Container:"_3NIcD2Vr2xrSAq08U14kCy",container:"_3NIcD2Vr2xrSAq08U14kCy",CalendarIcon:"LEz3F0HfvMpdo96occzKU",calendarIcon:"LEz3F0HfvMpdo96occzKU",LiveIcon:"_3ArSA7Spw15WyF9ld4p6ZJ",liveIcon:"_3ArSA7Spw15WyF9ld4p6ZJ",LoadingState:"_27_KVVxYHZ7v44CE2vg8bT",loadingState:"_27_KVVxYHZ7v44CE2vg8bT"}},"./src/reddit/components/EventPost/PostEventMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/eventTools/index.ts"),a=s("./src/app/strings/index.ts"),i=s("./src/lib/constants/index.ts");function c(e,t){return e.toLocaleDateString(t,{month:"numeric",day:"numeric"})}var d=s("./src/reddit/helpers/styles/mixins/loading.ts"),l=s("./src/reddit/icons/fonts/Calendar/index.tsx"),m=s("./src/reddit/icons/fonts/Live/index.tsx"),p=s("./src/reddit/components/EventPost/PostEventMeta/index.m.less"),u=s.n(p),h=s("./src/lib/lessComponent.tsx");const b=h.a.span("PostEventFutureText",u.a),g=h.a.span("PostEventPastText",u.a),x=h.a.span("PostEventNowText",u.a),v=h.a.span("Container",u.a),C=h.a.wrapped(l.a,"CalendarIcon",u.a),O=h.a.wrapped(m.a,"LiveIcon",u.a),f=h.a.div("LoadingState",u.a);t.a=class extends n.Component{constructor(e){super(e),this.state={mounted:!1}}componentDidMount(){this.setState({mounted:!0})}render(){var e=this.props;const t=e.className,s=e.language,n=e.post.eventInfo;if(!n)return null;const l=n.eventEnd,m=n.eventIsLive,p=n.eventStart,u=Object(r.e)(p,l);let h,E;if(this.state.mounted||u===r.a.Live)h=function(e,t,s,n){const o=Object(r.e)(e,t),d=new Date(e*i.Db);let l;return o===r.a.Live||n?Object(a.a)(s,"posts.event.inProgress"):(o===r.a.Future?l=Object(r.d)(e)?Object(a.a)(s,"posts.event.today"):Object(r.b)(e)>=5?c(d,s):function(e,t){return e.toLocaleDateString(t,{weekday:"long"})}(d,s):o===r.a.Past&&(l=Object(r.d)(e)?Object(a.a)(s,"posts.event.today"):c(d,s)),`${l} @ ${function(e,t){return e.toLocaleTimeString(t,{hour12:!0,hour:"numeric",minute:"2-digit"}).replace(/ /g,"").toUpperCase()}(d,s)}`)}(p,l,s,m);else{const e=Object(d.a)({isLoading:!0});h=o.a.createElement(f,{className:e})}if(m)E=o.a.createElement(x,null,o.a.createElement(O,null),h);else if(u===r.a.Future)E=o.a.createElement(b,null,o.a.createElement(C,null),h);else{if(u!==r.a.Past)return null;E=o.a.createElement(g,null,o.a.createElement(C,null),h)}return o.a.createElement(v,{className:t},E)}}},"./src/reddit/components/ExpandoButton/index.m.less":function(e,t,s){e.exports={outer:"RvLtAcdRtbOQbhFB7MD_T",icon:"saNpcHve-34zjaa0cbIxW",hideOnHover:"_25HJpaEPiVNq6Ss3Ad7dp9",showOnHover:"_2S05CzViTnl3I2ekCABqFo",outboundLinkIcon:"_1zB4YvOwHPxdPEXG2CYhKB"}},"./src/reddit/components/ExpandoButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/permalinkToOverlayLocation/index.ts"),d=s("./src/reddit/i18n/utils.ts"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/controls/OutboundLink/index.tsx"),p=s("./src/reddit/helpers/postHasSelfText/index.ts"),u=s("./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.tsx"),h=s("./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.tsx"),b=s("./src/reddit/icons/fonts/helpers.tsx"),g=s("./src/reddit/icons/fonts/Expandos/Media/Lightbox/index.m.less"),x=s.n(g);var v=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:`${Object(b.b)("expandoMediaLightbox")} ${e.className}`,onClick:e.onClick}),"LightboxIcon",x.a),C=s("./src/reddit/icons/fonts/Expandos/Media/Video/index.tsx"),O=s("./src/reddit/icons/fonts/Gif/index.tsx"),f=s("./src/reddit/icons/fonts/Link/index.tsx"),E=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),y=s("./src/reddit/icons/fonts/Photos/index.tsx"),j=s("./src/reddit/icons/fonts/Text/index.tsx"),P=s("./src/reddit/models/Media/index.ts"),w=s("./src/reddit/components/ExpandoButton/index.m.less"),I=s.n(w);const S=Object(r.b)(null,(e,t)=>({toggle:()=>e(Object(l.p)({postId:t.post.id}))})),T=e=>{const t=Object(i.a)(I.a.icon,I.a.hideOnHover);switch(e){case P.o.GIFVIDEO:return o.a.createElement(O.a,{className:t});case P.o.IMAGE:return o.a.createElement(y.a,{className:t});case P.o.TEXT:case P.o.RTJSON:return o.a.createElement(j.a,{className:t});case P.o.VIDEO:return o.a.createElement(C.a,{className:t});case P.o.EMBED:default:return o.a.createElement(f.a,{className:t})}};t.a=S(e=>{const t=e.className,s=e.crosspost,n=e.isExpanded,r=e.post,l=e.toggle,b=e.useMediaIcons,g=s||r;return g.media&&("rtjson"!==g.media.type&&"text"!==g.media.type||Object(p.a)(g))?o.a.createElement("button",{"aria-expanded":n,"aria-haspopup":!0,"aria-label":Object(d.c)("Expand content"),className:Object(i.a)(t,I.a.outer),"data-click-id":n?"expando_close":"expando_open",onClick:l},n?o.a.createElement(u.a,{className:I.a.icon}):b?o.a.createElement(o.a.Fragment,null,T(g.media&&g.media.type),o.a.createElement(h.a,{className:Object(i.a)(I.a.icon,I.a.showOnHover)})):o.a.createElement(h.a,{className:I.a.icon})):g.source&&g.source.url?o.a.createElement(m.a,{"aria-label":Object(d.c)("Open external content"),className:Object(i.a)(t,I.a.outer),"data-click-id":"expando_open",href:g.source.url,isSponsored:r.isSponsored,source:r.source,target:"_blank"},o.a.createElement(E.a,{className:Object(i.a)(I.a.icon,I.a.outboundLinkIcon)})):o.a.createElement(a.a,{"aria-label":Object(d.c)("View content"),className:Object(i.a)(t,I.a.outer),"data-click-id":"expando_open",to:Object(c.a)(g.permalink),rel:"nofollow"},o.a.createElement(v,{className:I.a.icon}))})},"./src/reddit/components/FakeBannerAd/index.m.less":function(e,t,s){e.exports={BannerContainer:"_4ELfhcLRELWhYrOp6R4se",bannerContainer:"_4ELfhcLRELWhYrOp6R4se",FakeBannerAdImage:"_3q7Cs0j3hSEoS6omo8egL_",fakeBannerAdImage:"_3q7Cs0j3hSEoS6omo8egL_"}},"./src/reddit/components/FocusableContent/index.m.less":function(e,t,s){e.exports={FocusableContent:"_3MknXZVbkWU8JL9XGlzASi",focusableContent:"_3MknXZVbkWU8JL9XGlzASi",isFocused:"_3F2J0fSnCI3ZvF_tBSaV0s",noBorder:"_1CpUVAt2tGEwaaBV3nZNJs"}},"./src/reddit/components/FocusableContent/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/reddit/components/FocusableContent/index.m.less"),c=s.n(i);t.a=a.a.wrapped(e=>o.a.createElement("div",{className:Object(r.a)(e.className,{[c.a.isFocused]:e.isFocused,[c.a.noBorder]:e.noBorder})},e.children),"FocusableContent",c.a)},"./src/reddit/components/FollowButton/Tooltip.m.less":function(e,t,s){e.exports={StyledHelpfulTooltip:"_32Nlqz6qRWd4rAzj2trUYq",styledHelpfulTooltip:"_32Nlqz6qRWd4rAzj2trUYq"}},"./src/reddit/components/FollowButton/index.m.less":function(e,t,s){e.exports={button:"_2nvX_gR9FhSQ1lY6b1bWFW",layout:"_3lvJB_SaoWUqdHyOufnmZ6",icon:"Z6QJrMufwPMvNNas6O93V",isFollowed:"_1nLAsZM0WKJYVf5HdfvyaK"}},"./src/reddit/components/Governance/CommunityCard/CommunityTokens/Risk/index.m.less":function(e,t,s){e.exports={alertIcon:"_281dcYAIoQvZtLs7iI7QLT",risk:"_1r7M4su-D_hCOMd066XY3J",riskBody:"_12gDkO_ygs4ikCeyu5bcVg",riskTitle:"_3iYb38SYPwjAd1VG859AKs"}},"./src/reddit/components/Governance/CommunityCard/CommunityTokens/index.m.less":function(e,t,s){e.exports={overflowingText:"_3s4m8dsZEYcHZ4ojNFUV0R",cell:"_1-v1Zgj9IOmc-oaS_dfHfI",cellBottomLine:"_1YrPtUZyIgZmt7BoC3IOjC",cellContainer:"_3y3jYnCjkWtjpibBnc9e3l",cellTopLine:"-pS2f0b04dtavABCVdrie",explanation:"_1n5fyOsQxmVlxXd1xuw6fH",title:"_2Q8Se5aIjJDpE5JnGoGI5R",token:"_2tQrDQoIjV3V6CMgrLYXU3",tokenCell:"_2rBuuOwPxb-X6wEPWDBmYH",sendButton:"_3D1PJ7suYE-Ph7W5jTZJ5k"}},"./src/reddit/components/Governance/CommunityCard/LatestProposals/index.m.less":function(e,t,s){e.exports={container:"_3WnHen22bLKwTkOL3W6F_D",link:"_3LjXe6j5_bQ3U8GZLY0HYO",showAll:"eRbX9WCebKIuLXdJIwNjK",title:"_3il8HJMlHzKppQleJjuboQ"}},"./src/reddit/components/Governance/CommunityCard/SubredditValue/index.m.less":function(e,t,s){e.exports={overflowingText:"jsNcHmrnNEHR43pSqktT_",arrowUp:"_3iBuIXhlae1tHvSYZBq-0c",arrowDown:"_1HKTC4jl1TGS1wYqr-Wf28",explanation:"_3PBhQhus1c5B4SLOIyHP3z",title:"_293Q3OQ9umYHGIfr0X1AxK",valueContainer:"_28-EJ5nvhRIx5LBgLx4F1i",valueChange:"CRJ7CAZUtszmWPxUTU8qP"}},"./src/reddit/components/Governance/CommunityCard/index.m.less":function(e,t,s){e.exports={loading:"Jfh68QhZqpLgByZUbKyD1",section:"_3o2O8sLNM51xpdzuDH-ocD"}},"./src/reddit/components/Governance/CommunityCard/index.tsx":function(e,t,s){"use strict";var n,o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),d=s("./src/reddit/i18n/utils.ts"),l=s("./src/reddit/selectors/gov.ts"),m=s("./src/app/strings/index.ts"),p=s("./src/lib/constants/index.ts"),u=s("./src/lib/prettyPrintNumber/index.ts"),h=s("./src/reddit/actions/governance/index.ts"),b=s("./src/reddit/components/Governance/Token/index.tsx"),g=s("./src/reddit/controls/Button/index.tsx"),x=s("./src/reddit/helpers/governance/tokens.ts"),v=s("./src/reddit/i18n/components.tsx");!function(e){e.Initial="initial_distribution",e.Mod="moderator_election"}(n||(n={}));var C=s("./src/reddit/icons/svgs/QuarantineWarning/index.tsx"),O=s("./src/reddit/components/Governance/CommunityCard/CommunityTokens/Risk/index.m.less"),f=s.n(O);function E(e){return r.a.createElement("div",{className:f.a.risk},r.a.createElement("div",{className:f.a.riskTitle},r.a.createElement(C.a,{className:f.a.alertIcon}),e.title),r.a.createElement("div",{className:f.a.riskBody},e.body))}var y=s("./src/reddit/components/Governance/CommunityCard/CommunityTokens/index.m.less"),j=s.n(y);function P(e,t){return r.a.createElement("div",{className:j.a.cell},r.a.createElement("div",{className:j.a.cellTopLine},e),r.a.createElement("div",{className:j.a.cellBottomLine},t))}const w=Object(i.c)({tokenName:l.j,tokenDisplayConversion:l.i,language:e=>e.user.language});var I=Object(a.b)(w,e=>({onOpenTransferModal:()=>e(Object(h.h)())}))(function(e){const t=e.className,s=e.distribution,o=e.language,a=e.onOpenTransferModal,i=e.subredditId,c=e.tokenDisplayConversion,d=e.tokenName,l=e.wallet,h=l&&l.inactive&&function(e,t,s){const o=e.actionScheduledAt-Date.now(),r=Math.max(1,Math.floor(o/p.w)),a=1!==r?"gov.pointsDecay.inactive.time.plural":"gov.pointsDecay.inactive.time.singular",i=Object(m.a)(t,a,{numDays:r});switch(e.reason){case n.Initial:return{title:Object(m.a)(t,"gov.pointsDecay.inactive.title",{tokenName:s}),body:Object(m.a)(t,"gov.pointsDecay.inactive.body",{time:i,tokenName:s})};case n.Mod:return{title:Object(m.a)(t,"gov.pointsDecay.election.title"),body:Object(m.a)(t,"gov.pointsDecay.election.body",{time:i,tokenName:s})}}}(l.inactive,o,d);return r.a.createElement("div",{className:t},r.a.createElement("div",{className:j.a.title},d),r.a.createElement("div",{className:j.a.cellContainer},l&&P(r.a.createElement("div",{className:j.a.tokenCell},r.a.createElement(b.a,{className:j.a.token,subredditId:i}),Object(u.a)(Object(x.a)(l.amount,c))),Object(m.a)(o,"sidebar.gov.yourTokens",{tokenName:d})),s&&P(Object(u.a)(Object(x.a)(s.totalAvailable,c)),Object(m.a)(o,"sidebar.gov.tokensIssued"))),h&&r.a.createElement(E,{body:h.body,title:h.title}),r.a.createElement("div",{className:j.a.explanation},Object(m.a)(o,"sidebar.gov.tokenExplanation",{tokenName:d})),l&&r.a.createElement(g.i,{className:j.a.sendButton,onClick:a},r.a.createElement(v.c,null,"send")))}),S=s("./node_modules/react-router-dom/es/index.js"),T=s("./src/lib/classNames/index.ts"),k=s("./src/lib/permalinkToOverlayLocation/index.ts"),_=s("./src/reddit/actions/subreddit.ts"),N=s("./src/reddit/contexts/PageLayer/index.tsx"),L=s("./src/reddit/components/Governance/CommunityCard/LatestProposals/index.m.less"),M=s.n(L);const R=Object(i.c)({proposals:(e,t)=>Object.keys(e.polls.models).map(t=>e.polls.models[t]).filter(e=>e.subredditId===t.subredditId).sort((e,t)=>e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0).map(t=>e.posts.models[t.postId]).filter(Boolean).slice(0,5)});var F=Object(N.w)()(Object(a.b)(R,(e,t)=>({onFilterProposals:()=>e(Object(_.q)({subredditId:t.subredditId,forceState:!0}))}))(function(e){return Object(N.J)(e.pageLayer)&&e.proposals.length?r.a.createElement("div",{className:Object(T.a)(e.className,M.a.container)},r.a.createElement("div",{className:M.a.title},r.a.createElement(v.c,null,"Latest Polls")),e.proposals.map(e=>r.a.createElement(S.a,{className:M.a.link,key:e.permalink,title:e.title,to:Object(k.a)(e.permalink)},e.title)),r.a.createElement("a",{className:M.a.showAll,onClick:e.onFilterProposals},r.a.createElement(v.c,null,"show all"))):null})),B=s("./src/reddit/icons/svgs/Triangle/index.tsx"),A=s("./src/reddit/components/Governance/CommunityCard/SubredditValue/index.m.less"),D=s.n(A);const V="#4CB350",W="#EA0027";const H=Object(i.c)({language:e=>e.user.language,meta:(e,t)=>e.subreddits.gov.meta[t.subredditId]});var U=Object(a.b)(H)(function(e){return e.meta&&e.meta.subredditValue&&e.meta.subredditValue.value?r.a.createElement("div",{className:e.className},r.a.createElement("div",{className:D.a.title},r.a.createElement(v.c,null,"Subreddit Value")),r.a.createElement("div",{className:D.a.valueContainer},r.a.createElement("span",{className:D.a.value},Object(u.a)(e.meta.subredditValue.value)),e.meta.subredditValue.change&&(e.meta.subredditValue.change>0?r.a.createElement(B.a,{className:D.a.arrowUp,style:{fill:V}}):r.a.createElement(B.a,{className:D.a.arrowDown,style:{fill:W}})),e.meta.subredditValue.change&&r.a.createElement("span",{className:D.a.valueChange,style:{color:e.meta.subredditValue.change>0?V:W}},Object(m.a)(e.language,"sidebar.gov.subredditValueChange",{subredditValueChange:(100*e.meta.subredditValue.change).toFixed(1)}))),r.a.createElement("div",{className:D.a.explanation},r.a.createElement(v.c,null,"Estimate based on number of users and user engagement"))):null}),z=s("./src/reddit/components/Governance/CommunityCard/index.m.less"),K=s.n(z);const G=Object(i.c)({tokenName:l.j,distribution:(e,t)=>e.subreddits.gov.distributions[t.subredditId],wallet:l.d,subreddit:(e,t)=>e.subreddits.models[t.subredditId]});t.a=Object(a.b)(G)(function(e){return r.a.createElement(c.a,{className:e.className,title:Object(d.c)("Subreddit Points")},e.distribution?r.a.createElement(o.Fragment,null,r.a.createElement(U,{className:K.a.section,subredditId:e.subredditId}),r.a.createElement(I,{className:K.a.section,distribution:e.distribution,subredditId:e.subredditId,wallet:e.wallet}),e.subreddit&&r.a.createElement(F,{className:K.a.section,subredditId:e.subreddit.id})):r.a.createElement("div",{className:K.a.loading}))})},"./src/reddit/components/Governance/Proposal/NoProposalError/index.m.less":function(e,t,s){e.exports={container:"_2y2WPgX5vi2SAfi_nz_Q7B"}},"./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/i18n/components.tsx"),i=s("./src/reddit/components/Governance/Proposal/NoProposalError/index.m.less"),c=s.n(i);t.a=function(e){return o.a.createElement("div",{className:Object(r.a)(c.a.container,e.className)},o.a.createElement(a.c,null,"Error: Could not load poll"))}},"./src/reddit/components/Governance/Proposal/ResultsSelector/DecisionThreshold/index.m.less":function(e,t,s){e.exports={emptyPie:"_3FcFVjZN0xHslbheCZ6YtB",fullPie:"_51DvHNRm7RdZvtEr4YB90",checkIcon:"b6nqW0WFO2M4SexVBxfHU",container:"_1QSw_HlkZ06PQ4H_Gl5Qmi",decisionIcon:"tIv0l4mIAasOfzH_1MZzr",decisionThreshold:"vdDwj3MECrKPWOzGvwtX4",pie:"_1kLHoqYVgmdy-N798MqUkD",pieContainer:"_19t_3cFD9b1D_z7gV6r1Lf",pieInvertedMask:"_240PIKFetxH16NIbed3MhP",pieMask:"faQEx7XG3jztMB7Ba0IzB",pieSwap:"sBNylAozOUua3KlWKF9bf",text:"_3kJ7s4NNHNqugbRuUIg9B9"}},"./src/reddit/components/Governance/Proposal/ResultsSelector/Tab/index.m.less":function(e,t,s){e.exports={container:"_1399Kcm0dM3RnJzlAPzZsE",selectable:"_3-DDU6UwhIWiQZZtZLB8nv",selected:"biqV2RX059eee3GcVedKg"}},"./src/reddit/components/Governance/Proposal/ResultsSelector/index.m.less":function(e,t,s){e.exports={container:"_16Gygedl8JROR3rsORhsAq"}},"./src/reddit/components/Governance/Proposal/index.m.less":function(e,t,s){e.exports={container:"_3agF4JIMydb6n5U8QiQ6Tv",govIcon:"Biin4hWHcVT2EfDytVnNn",poll:"_2-Y0QlWKQ9uE8EEq087km1",resultsSelector:"_31DHxzl3U6nsgzY4XJjCSD",votingReward:"_2JVvMYg8RBHtf5C2szMdV7"}},"./src/reddit/components/Governance/Proposal/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/bignumber.js/bignumber.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),l=s("./src/reddit/components/Governance/Token/index.tsx"),m=s("./src/reddit/components/Governance/VotingReward/index.m.less"),p=s.n(m);function u(e){return a.a.createElement("div",{className:Object(d.a)(p.a.container,e.className)},a.a.createElement("div",{className:p.a.pill},a.a.createElement(l.a,{className:p.a.token,subredditId:e.subredditId}),a.a.createElement("span",{className:p.a.amount},"+",e.amount)))}var h,b=s("./src/reddit/actions/governance/index.ts"),g=s("./src/reddit/models/Poll/index.ts"),x=s("./src/reddit/selectors/gov.ts"),v=s("./src/reddit/components/Poll/MetaData/index.tsx"),C=s("./src/lib/bigNumberUtils/percent.ts"),O=s("./src/lib/prettyPrintNumber/index.ts"),f=s("./src/reddit/helpers/governance/tokens.ts"),E=s("./src/reddit/icons/svgs/CircleCheck/index.tsx"),y=s("./src/reddit/components/Poll/ResultOption/index.m.less"),j=s.n(y);!function(e){e[e.Count=0]="Count",e[e.Percent=1]="Percent"}(h||(h={}));var P=function(e){const t=e.poll.options.filter(t=>t.id===e.optionId)[0],s=e.result.totalVotes,o=e.result.options[e.optionId],r=new n.BigNumber(s).isZero()?0:Object(C.a)(o.votes,s),i=Object(f.b)(o.votes,e.tokenDisplayConversion);return a.a.createElement("div",{className:Object(d.a)(e.className,j.a.container),title:e.displayType===h.Count?o.votes:`${r.toFixed(2)}% (${i} ${e.tokenName})`},a.a.createElement("div",{className:j.a.bar,style:{opacity:e.isWinningOption?.3:void 0,width:`${r}%`}}),a.a.createElement("div",{className:Object(d.a)(j.a.count,{[j.a.hide]:e.displayType!==h.Count,[j.a.show]:e.displayType===h.Count})},Object(O.b)(parseInt(o.votes))),a.a.createElement("div",{className:Object(d.a)(j.a.percent,{[j.a.hide]:e.displayType===h.Count,[j.a.show]:e.displayType!==h.Count})},`${r.toFixed(1)}%`),a.a.createElement("div",{className:j.a.text},t.text),o.userSelected&&a.a.createElement(E.a,{className:j.a.check}))},w=s("./src/reddit/components/Poll/ClosedPoll/index.m.less"),I=s.n(w);const S=Object(c.c)({tokenName:x.j,tokenDisplayConversion:x.i,language:e=>e.user.language});var T=Object(i.b)(S)(function(e){let t;return e.poll.options.forEach(s=>{t||(t=s);const o=e.result.options[s.id],r=e.result.options[t.id];new n.BigNumber(r.votes).isLessThan(new n.BigNumber(o.votes))&&(t=s)}),a.a.createElement("div",{className:e.className},e.poll.options.map((s,n)=>a.a.createElement(P,{key:n,className:I.a.option,displayType:e.displayType,isWinningOption:s===t,optionId:s.id,poll:e.poll,result:e.result,tokenName:e.tokenName,tokenDisplayConversion:e.tokenDisplayConversion})),a.a.createElement(v.a,{className:I.a.metaData,language:e.language,poll:e.poll}))}),k=s("./node_modules/lodash/isNil.js"),_=s.n(k),N=s("./src/reddit/constants/elementClassNames.ts"),L=s("./src/reddit/controls/Button/index.tsx"),M=s("./src/reddit/controls/LoadingIcon/index.tsx"),R=s("./src/reddit/i18n/components.tsx"),F=s("./src/reddit/components/Poll/OpenPoll/index.m.less"),B=s.n(F);function A(e){return"INPUT"===e.tagName}const D=Object(c.c)({language:e=>e.user.language,userIsLoggedIn:e=>!!e.user.account});var V=Object(i.b)(D)(class extends a.a.Component{constructor(){super(...arguments),this.state={optionIsSelected:!1},this.handleOptionSelected=(()=>this.setState({optionIsSelected:!0}))}render(){return a.a.createElement("form",{className:this.props.className,onSubmit:e=>{e.preventDefault();const t=e.currentTarget,s=function(e){for(const t of e)if(t.checked)return parseInt(t.value)}(Array.from(t.elements).filter(A));_()(s)||this.props.onVoteSelection(this.props.poll.options[s])}},a.a.createElement("div",null,this.props.poll.options.map((e,t)=>a.a.createElement("label",{key:t,className:B.a.option},a.a.createElement("input",{className:B.a.optionRadio,onChange:this.handleOptionSelected,type:"radio",name:"proposal",value:t}),a.a.createElement("div",{className:B.a.optionText},e.text)))),a.a.createElement("div",{className:B.a.controlRow},a.a.createElement("div",{className:B.a.buttonContainer},a.a.createElement(L.i,{className:N.n,disabled:this.props.voteInProgress||!this.props.userIsLoggedIn||!this.state.optionIsSelected,type:"submit"},this.props.voteInProgress?a.a.createElement(M.a,{className:B.a.loadingIcon,sizePx:20}):a.a.createElement(r.Fragment,null,this.props.votingIcon,a.a.createElement(R.c,null,"vote"))),!this.props.userIsLoggedIn&&a.a.createElement("div",{className:B.a.loggedOutTooltip},a.a.createElement(R.c,null,"You must be logged in to vote"))),a.a.createElement(v.a,{className:B.a.metaData,language:this.props.language,poll:this.props.poll})))}}),W=s("./src/reddit/components/Poll/index.m.less"),H=s.n(W);const U=Object(c.c)({poll:(e,t)=>e.polls.models[t.pollId],result:(e,t)=>e.polls.results[t.resultType][t.pollId],voteInProgress:(e,t)=>!!e.polls.api.voting.pending[t.pollId]});var z=Object(i.b)(U,(e,t)=>({onVoteSelection:s=>e(Object(b.f)(t.pollId,s.id))}))(function(e){const t=e.poll,s=e.result,n=e.subredditId;return t?a.a.createElement("div",{className:e.className},e.title&&a.a.createElement("div",{className:H.a.title},e.title),s&&Object(g.e)(t,s)?a.a.createElement(T,{displayType:e.displayType,poll:t,result:s,subredditId:n}):a.a.createElement(V,{poll:t,onVoteSelection:e.onVoteSelection,voteInProgress:e.voteInProgress,votingIcon:e.votingIcon})):null}),K=s("./src/reddit/icons/svgs/GovSmall/index.tsx"),G=s("./src/reddit/i18n/utils.ts"),q=s("./src/app/strings/index.ts"),J=e=>a.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20"},a.a.createElement("g",null,a.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7771 0.961401C10.3769 0.466643 9.62244 0.466642 9.22221 0.961401L8.71391 1.58973C8.42377 1.9484 7.92591 2.06204 7.50887 1.86478L6.77829 1.51921C6.20302 1.2471 5.52329 1.57445 5.37735 2.19386L5.19202 2.98051C5.08623 3.42955 4.68698 3.74795 4.22565 3.75117L3.41748 3.75681C2.78112 3.76125 2.31073 4.3511 2.44801 4.97249L2.62234 5.76165C2.72186 6.21213 2.50029 6.67222 2.08605 6.87528L1.36036 7.23101C0.788947 7.51112 0.621066 8.24665 1.01436 8.74695L1.51383 9.38231C1.79895 9.745 1.79895 10.2557 1.51383 10.6184L1.01436 11.2537C0.621067 11.754 0.788947 12.4895 1.36036 12.7697L2.08605 13.1254C2.50029 13.3284 2.72186 13.7885 2.62234 14.239L2.44801 15.0282C2.31073 15.6496 2.78112 16.2394 3.41748 16.2439L4.22565 16.2495C4.68698 16.2527 5.08623 16.5711 5.19202 17.0202L5.37735 17.8068C5.52329 18.4262 6.20302 18.7536 6.77829 18.4815L7.50887 18.1359C7.92591 17.9386 8.42376 18.0523 8.71391 18.4109L9.22221 19.0393C9.62244 19.534 10.3769 19.534 10.7771 19.0393L11.2854 18.4109C11.5756 18.0523 12.0734 17.9386 12.4905 18.1359L13.221 18.4815C13.7963 18.7536 14.476 18.4262 14.622 17.8068L14.8073 17.0202C14.9131 16.5711 15.3124 16.2527 15.7737 16.2495L16.5819 16.2439C17.2182 16.2394 17.6886 15.6496 17.5513 15.0282L17.377 14.239C17.2775 13.7885 17.499 13.3284 17.9133 13.1254L18.639 12.7697C19.2104 12.4895 19.3783 11.754 18.985 11.2537L18.4855 10.6184C18.2004 10.2557 18.2004 9.745 18.4855 9.38231L18.985 8.74695C19.3783 8.24665 19.2104 7.51112 18.639 7.23101L17.9133 6.87528C17.499 6.67222 17.2775 6.21213 17.377 5.76165L17.5513 4.97249C17.6886 4.3511 17.2182 3.76125 16.5819 3.75681L15.7737 3.75117C15.3124 3.74795 14.9131 3.42956 14.8073 2.98051L14.622 2.19386C14.476 1.57445 13.7963 1.2471 13.221 1.51921L12.4905 1.86478C12.0734 2.06204 11.5756 1.94841 11.2854 1.58973L10.7771 0.961401ZM12.5231 7.71779L13.0827 8.27779C13.2391 8.43419 13.2391 8.68699 13.0827 8.84339L9.44271 12.4834C9.36471 12.5614 9.26231 12.6006 9.1599 12.6006C9.0575 12.6006 8.95551 12.5614 8.8771 12.4834L6.9171 10.5234C6.7607 10.3674 6.7607 10.1142 6.9171 9.95779L7.4771 9.39779C7.6335 9.24139 7.8867 9.24139 8.0427 9.39779L9.1599 10.515L11.9575 7.71779C12.0323 7.64259 12.1339 7.60059 12.2403 7.60059C12.3463 7.60059 12.4479 7.64259 12.5231 7.71779Z"}))),Y=s("./src/reddit/selectors/user.ts"),Q=s("./src/reddit/components/Governance/Proposal/ResultsSelector/DecisionThreshold/index.m.less"),X=s.n(Q);function Z(e){return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:X.a.text},a.a.createElement(R.c,null,"Achieved Decision Threshold")),a.a.createElement("div",{className:X.a.decisionIcon,title:e.votes},a.a.createElement(J,{className:X.a.decisionThreshold})))}function $(e){return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:X.a.text},Object(q.a)(e.language,"polls.decisionThreshold",{amount:Object(O.b)(parseInt(e.threshold))})),a.a.createElement(ee,{percent:e.percent}))}function ee(e){const t=Math.floor(e.percent/100*360);return a.a.createElement("div",{className:X.a.pieContainer,title:`${e.percent}%`},a.a.createElement("div",{className:X.a.pie}),a.a.createElement("div",{className:X.a.pieInvertedMask}),a.a.createElement("div",{className:Object(d.a)(X.a.pieMask,{[X.a.pieSwap]:e.percent>=50}),style:{transform:e.percent<50?`rotate(${t}deg)`:`rotate(${t-180}deg)`}}))}const te=Object(c.c)({language:Y.T,poll:(e,{pollId:t})=>e.polls.models[t],pollResult:(e,{pollId:t})=>e.polls.results.byVotingPower[t]});var se=Object(i.b)(te)(function(e){if(!(e.poll&&e.poll.decisionThreshold&&e.pollResult))return null;const t=Object(g.c)(e.poll,e.pollResult),s=new o.a(e.pollResult.options[t.id].votes),n=e.poll.decisionThreshold,r=s.isGreaterThanOrEqualTo(new o.a(n)),i=Object(C.a)(e.pollResult.options[t.id].votes,n);return a.a.createElement("div",{className:Object(d.a)(X.a.container,e.className)},r?a.a.createElement(Z,{language:e.language,votes:s.toString()}):a.a.createElement($,{language:e.language,threshold:n,percent:i}))}),ne=s("./src/reddit/components/Governance/Proposal/ResultsSelector/Tab/index.m.less"),oe=s.n(ne);function re(e){return a.a.createElement("a",{className:Object(d.a)(e.className,oe.a.container,{[oe.a.selectable]:!!e.selectable,[oe.a.selected]:!!e.selectable&&!!e.isSelected}),onClick:e.onSelect,title:e.tooltipText},e.text)}var ae=s("./src/reddit/components/Governance/Proposal/ResultsSelector/index.m.less"),ie=s.n(ae);const ce=new Set(["t5_37jgj"]);const de=Object(c.c)({tokenName:x.j,tokenDisplayConversion:x.i,distribution:(e,{subredditId:t})=>e.subreddits.gov.distributions[t],language:e=>e.user.language,poll:(e,{pollId:t})=>e.polls.models[t],pollIsClosed:(e,{pollId:t,resultsByVoters:s})=>{const n=e.polls.models[t];return!!(n&&s&&Object(g.e)(n,s))},wallet:x.d});var le=Object(i.b)(de)(function(e){const t=e.distribution,s=e.poll,o=e.resultsByLockedVotingPower,r=e.resultsByVoters,i=e.resultsByVotingPower,c=e.tokenDisplayConversion,l=e.tokenName,m=e.wallet,p=i?i.totalVotes:"0",u=o?o.totalVotes:"0",h=!new n.BigNumber(p).isZero()&&m&&t?Object(C.a)(p,t.totalAvailable):0,b=r?r.totalVotes:"0",x=Object(f.b)(u,c),v=Object(f.b)(p,c),E=Object(O.b)(parseInt(b));return a.a.createElement("div",{className:Object(d.a)(e.className,ie.a.container)},a.a.createElement("div",null,a.a.createElement(re,{isSelected:e.currentResultType===g.b.ByVotingPower,selectable:e.pollIsClosed,text:`${v} ${l}`,tooltipText:Object(q.a)(e.language,"polls.votingBreakdown",{tokenName:l,count:Object(f.b)(p,c),percent:h.toFixed(2)}),onSelect:()=>e.onChangeResultType&&e.onChangeResultType(g.b.ByVotingPower)}),o&&ce.has(e.subredditId)&&a.a.createElement(re,{isSelected:e.currentResultType===g.b.ByLockedVotingPower,selectable:e.pollIsClosed,text:`${x} ${Object(G.c)("Locked")} ${l}`,onSelect:()=>e.onChangeResultType&&e.onChangeResultType(g.b.ByLockedVotingPower)}),a.a.createElement(re,{isSelected:e.currentResultType===g.b.ByVoters,selectable:e.pollIsClosed,text:Object(q.c)(e.language,"polls.numVotes",parseInt(b),{count:E}),onSelect:()=>e.onChangeResultType&&e.onChangeResultType(g.b.ByVoters)})),Object(g.d)(s)&&a.a.createElement(se,{pollId:e.pollId,subredditId:e.subredditId}))}),me=s("./src/reddit/components/Governance/Proposal/index.m.less"),pe=s.n(me);function ue(e,t){return t===g.b.ByVotingPower?e.resultsByVotingPower:e.resultsByVoters}const he=Object(c.c)({language:e=>e.user.language,poll:(e,t)=>e.polls.models[t.pollId],pollReward:(e,t)=>e.polls.rewards[t.pollId],resultsByLockedVotingPower:(e,t)=>e.polls.results.byLockedVotingPower[t.pollId],resultsByVoters:(e,t)=>e.polls.results.byVoters[t.pollId],resultsByVotingPower:(e,t)=>e.polls.results.byVotingPower[t.pollId]});t.a=Object(i.b)(he)(class extends a.a.Component{constructor(){super(...arguments),this.state={displayReward:!1,resultType:g.b.ByVotingPower},this.handleResultTypeChange=(e=>this.setState({resultType:e}))}componentDidUpdate(e,t){if(this.props.pollReward&&!new n.BigNumber(this.props.pollReward).isZero()){const s=ue(e,t.resultType),n=ue(this.props,this.state.resultType);if(s&&n){const t=!Object(g.e)(e.poll,s),o=Object(g.e)(this.props.poll,n);t&&o&&this.setState({displayReward:!0})}}}render(){return a.a.createElement("div",{className:Object(d.a)(this.props.className,pe.a.container)},a.a.createElement(le,{className:pe.a.resultsSelector,currentResultType:this.state.resultType,pollId:this.props.pollId,resultsByLockedVotingPower:this.props.resultsByLockedVotingPower,resultsByVoters:this.props.resultsByVoters,resultsByVotingPower:this.props.resultsByVotingPower,subredditId:this.props.subredditId,onChangeResultType:this.handleResultTypeChange}),a.a.createElement(z,{key:this.props.pollId,className:pe.a.poll,displayType:this.state.resultType===g.b.ByVoters?h.Count:h.Percent,pollId:this.props.pollId,resultType:this.state.resultType,subredditId:this.props.subredditId,votingIcon:Object(g.d)(this.props.poll)?a.a.createElement(K.a,{className:pe.a.govIcon}):void 0}),this.props.pollReward&&this.state.displayReward&&a.a.createElement(u,{amount:this.props.pollReward,className:pe.a.votingReward,subredditId:this.props.subredditId}))}})},"./src/reddit/components/Governance/VotingReward/index.m.less":function(e,t,s){e.exports={amount:"_2uGwXKrmP9OljxIhbSCOjc",container:"dVX1qcOidD13L5NRRKOPb",pill:"_2tKg0JJT2prOVVIOrtS2JP",pillAnim:"_3qV2ZaEJd_k1NSZDxMjK-g",token:"_3dLs5lIwl_kKHq589IyKz5",tokenRotation:"_1C5oqr8CA_wteJsqqSRq0B"}},"./src/reddit/components/HeaderImage/index.m.less":function(e,t,s){e.exports={Planet:"xAmHTHwvPxxv5jpbb68XN",planet:"xAmHTHwvPxxv5jpbb68XN",SubredditIcon:"_3rnV85Ep3gNSeNzlSEJ0eC",subredditIcon:"_3rnV85Ep3gNSeNzlSEJ0eC",HeaderText:"_2wzi-W7JiZ7A6U6aFvfvSR",headerText:"_2wzi-W7JiZ7A6U6aFvfvSR",HeaderUrl:"_36MHhLdcmnzdWt0OMdNlwd",headerUrl:"_36MHhLdcmnzdWt0OMdNlwd",Container:"_2L5G9B5yaoqW3IegiYN-FL",container:"_2L5G9B5yaoqW3IegiYN-FL",HeaderContainer:"_2RkQc9Gtsq3cPQNZLYv4zc",headerContainer:"_2RkQc9Gtsq3cPQNZLYv4zc",fullScreenDisabled:"_1yF58T8cn1Lb1f5no79sl8",useOverlay:"_1lDljcXh3IMpCeypDtnDAr",HeaderContent:"_2ejRlONMr5WoDRgyd4GRyM",headerContent:"_2ejRlONMr5WoDRgyd4GRyM",hoverHeaderContent:"wyBqMGsbezX5QI0xVtegK",PositionedImage:"_26j3FxU4jTfjqi8m96HMmI",positionedImage:"_114maV-96nVPek5oReA0kO",hoverPositionedImage:"_2L0wcm3McgWbJBT9_UHWyU"}},"./src/reddit/components/HeaderImage/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-router-dom/es/index.js"),a=s("./src/lib/classNames/index.ts"),i=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/lessComponent.tsx"),d=s("./src/reddit/constants/screenWidths.ts"),l=s("./src/reddit/helpers/getSubredditIcon/index.ts"),m=s("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),p=s("./src/reddit/models/Theme/index.ts"),u=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),h=s("./src/reddit/components/HeaderImage/index.m.less"),b=s.n(h);const g=c.a.wrapped(m.a,"Planet",b.a),x=c.a.div("SubredditIcon",b.a),v=c.a.div("PositionedImage",b.a),C=c.a.div("HeaderContent",b.a),O=c.a.div("HeaderContainer",b.a),f=c.a.span("HeaderText",b.a),E=c.a.wrapped(r.a,"HeaderUrl",b.a),y=c.a.span("Container",b.a),j=Object(i.a)(e=>{const t=Object(p.e)(e.headerText,e.prefixedHeaderText,Object(u.a)(e).banner.communityNameFormat||""),s=Object(l.a)(e),n=Object(u.a)(e).banner.positionedImageAlignment,r=Object(u.a)(e).banner.positionedImage,i=Object(u.a)(e).banner.secondaryBannerPositionedImage;let c;switch(n){case"right":c={right:"-8px"};break;case"centered":c={left:"50%",transform:"translate(-50%, -50%)"};break;default:c={left:"-8px"}}const m=!!r&&!!i&&"left"===n,h=Object(p.g)(Object(u.a)(e).banner.backgroundColor,Object(u.a)(e).banner.backgroundImage,Object(u.a)(e).banner.backgroundImagePosition),j=parseInt(Object(u.a)(e).banner.iconDimensions.customSize,10),P=`${4+j}px`;return o.a.createElement(y,{style:{background:h,backgroundPosition:"center top",height:`${Object(u.a)(e).banner.height}px`}},o.a.createElement(E,{className:e.className,to:e.url},o.a.createElement(O,{className:Object(a.a)({[b.a.fullScreenDisabled]:!e.disableFullscreen,[b.a.useOverlay]:!!Object(u.a)(e).navBar.useOverlay}),style:{maxWidth:e.disableFullscreen?`${e.maxWidth||d.a}px`:"100%"}},!e.isTopBannerVariant&&o.a.createElement(C,{className:Object(a.a)({[b.a.hoverHeaderContent]:m})},e.theme&&Object(u.a)(e).banner.showCommunityIcon&&(s?o.a.createElement(x,{style:{backgroundImage:`url(${s})`,borderRadius:`${Object(u.a)(e).banner.iconDimensions.borderRadius}px`,height:P,width:P}}):o.a.createElement(g,{style:{padding:`${Object(u.a)(e).banner.iconDimensions.padding}px`,borderRadius:`${Object(u.a)(e).banner.iconDimensions.borderRadius}px`,height:P,width:P}})),o.a.createElement(f,{style:{paddingTop:32===j?"4px":"14px"}},t)),o.a.createElement(v,{className:Object(a.a)(b.a.PositionedImage,{[b.a.positionedImage]:!!r,[b.a.hoverPositionedImage]:!!r&&!!i}),style:Object.assign({},c,{height:`${Object(u.a)(e).banner.positionedImageHeight}px`})}))))});t.a=j},"./src/reddit/components/IdCard/CommunityOptions/index.m.less":function(e,t,s){e.exports={container:"_3Qx5bBCG_O8wVZee9J-KyJ",content:"_2NbKFI9n3wPM76pgfAPEsN",stylesToggle:"_2btz68cXFBI3RWcfSNwbmJ",disabled:"QgBK4ECuqpeR2umRjYcP2",expandButton:"_4OtOUaGIjjp2cNJMUxme_",TertiaryButton:"_1ra1vBLrjtHjhYDZ_gOy8F",tertiaryButton:"_1ra1vBLrjtHjhYDZ_gOy8F"}},"./src/reddit/components/IdCard/DescriptionBlock/index.m.less":function(e,t,s){e.exports={descriptionContainer:"_1EPynDYoibfs7nDggdH7Gq",truncated:"_3-0c12FCnHoLz34dQVveax",description:"_1zPvgKHteTOub9dKkvrOl4",topBannerVariant:"_1_7E7dc5jZDkGlj_5P719R",showMore:"_1dp4_svQVkkuV143AIEKsf",ellipsis:"_5VBcBVybCfosCzMJlXzC3",showFullDescriptionButton:"_3YNtuKT-Is6XUBvdluRTyI",transition:"_2ZTVnRPqdyKo1dA7Q7i4EL",noTransition:"k51Bu_pyEfHQF6AAhaKfS",editableDescriptionContainer:"_2qi_L6gKnhyJ0ZxPmwbDFK",activeEditableDescriptionContainer:"_3GG6tRGPPJiejLqt2AZfh4",defaultEditableDescriptionContainer:"IzSmZckfdQu5YP9qCsdWO",emptyDescription:"_1YvJWALkJ8iKZxUU53TeNO",editableDescriptionControlRow:"_3adDzm8E3q64yWtEcs5XU7",characterCountdown:"_3jyKpErOrdUDMh0RFq5V6f",save:"dqhlvajEe-qyxij0jNsi0",cancel:"_12nHw-MGuz_r1dQx5YPM2v",editableDescription:"_3zTJ9t4vNwm1NrIaZ35NS6",activeEditableDescription:"_2JIiUcAdp9rIhjEbIjcuQ-",loadingIcon:"_2I2LpaEhGCzQ9inJMwliNO",pencil:"_42Nh7O6pFcqnA6OZd3bOK",tooltip:"voBVX1iPkvafjXv9Ymq9e"}},"./src/reddit/components/IdCard/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/IdCard/placeholder.m.less"),i=s.n(a),c=s("./src/lib/lessComponent.tsx"),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const l=c.a.wrapped(e=>{e.isLoading,e.gradientType;var t=d(e,["isLoading","gradientType"]);return o.a.createElement("div",Object.assign({},t))},"Shimmer",i.a),m=c.a.div("Container",i.a);t.a=(({isLoading:e})=>o.a.createElement(m,{className:i.a.container},o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.banner}),o.a.createElement("div",{className:i.a.title},o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.icon}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.name})),o.a.createElement("div",{className:i.a.counts},o.a.createElement("div",{className:i.a.side},o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.count}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.text})),o.a.createElement("div",{className:i.a.side},o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.count}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.text}))),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:Object(r.a)(i.a.desc,i.a.one)}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:Object(r.a)(i.a.desc,i.a.two)}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:Object(r.a)(i.a.desc,i.a.three)}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:Object(r.a)(i.a.desc,i.a.four)}),o.a.createElement(l,{gradientType:"posts",isLoading:e,className:i.a.subscribe})))},"./src/reddit/components/IdCard/helpers.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"b",function(){return m}),s.d(t,"a",function(){return p});var n=s("./src/app/strings/index.ts"),o=s("./src/config.ts"),r=s("./src/reddit/constants/listings.ts"),a=s("./src/reddit/constants/page.ts");const i=e=>e&&e.toLowerCase()===r.b.Popular,c=e=>e&&e.toLowerCase()===r.b.All,d=e=>e&&e===a.c,l=e=>e&&e===a.g,m=(e,t=40,s=68)=>({height:s,image:e,width:t}),p=({language:e,listingName:t,isM2MEnabled:s,subreddit:a,idCardWidget:p,shouldRenderSuperbOwlIcon:u})=>{let h,b,g,x,v,C;const O=p&&p.subscribersText||Object(n.a)(e,"structuredStyles.widgets.id-card.subscribersText"),f=p&&p.currentlyViewingText||Object(n.a)(e,"structuredStyles.widgets.id-card.currentlyViewingText");let E,y;const j=u?"snoo-superbowl@2x.png":"snoo-home@2x.png";if(d(t))if(h=`${o.a.assetPath}/img/id-cards/home-banner@2x.png`,g=m(`url('${o.a.assetPath}/img/id-cards/${j}')`),C=r.c[r.b.Home],s)x=Object(n.a)(e,"listings.populatedHome.title"),b=Object(n.a)(e,"listings.populatedHome.longDescription");else{b=Object(n.a)(e,"listings.home.longDescription");const t=Object(n.a)(e,"listings.home.title");x=t.charAt(0).toUpperCase()+t.slice(1)}else if(c(t))h=`${o.a.assetPath}/img/id-cards/banner@2x.png`,b=Object(n.a)(e,"listings.all.longDescription"),g=m(`url('${o.a.assetPath}/img/id-cards/${j}')`),x="r/all",C=r.c[r.b.All];else if(l(t)){h=`${o.a.assetPath}/img/id-cards/oc-banner@2x.png`,b=Object(n.a)(e,"listings.originalContent.longDescription"),g=m(`url('${o.a.assetPath}/img/id-cards/snoo-oc@2x.png')`,68);const t=Object(n.a)(e,"listings.originalContent.title");x=t.charAt(0).toUpperCase()+t.slice(1),v=Object(n.a)(e,"listings.originalContent.titleSecondary"),C=r.c[r.b.Original]}else i(t)?(h=`${o.a.assetPath}/img/id-cards/banner@2x.png`,b=Object(n.a)(e,"listings.popular.longDescription"),g=m(`url('${o.a.assetPath}/img/id-cards/${j}')`),x="r/popular",C=r.c[r.b.Popular]):t&&(b=p&&p.description,g=m(""),x=a.displayText,C=a.url,y=p&&p.subscribersCount,E=p&&p.currentlyViewingCount);return Object.assign({snooBackground:g,description:b,titleText:x,titleSecondaryText:v,url:C,subscribersCount:y,subscribersText:O,currentlyViewingText:f,currentlyViewingCount:E},h?{bannerBackgroundImage:h}:{})}},"./src/reddit/components/IdCard/index.m.less":function(e,t,s){e.exports={categoryContainer:"_2cn386lOe1A_DTmBUA-qSM",icon:"_2XJvPvYIEYtcS4ORsDXwa3",subredditIcon:"_2Vkdik1Q8k0lBEhhA_lRKE",largeSubredditIcon:"eGjjbHtkgFc-SYka3LM3M",premium:"_2PSfNW-9rTB3HiXizNtUZn",metaTextContainer:"j9k2MUR13FjoBBeLo1C1m",metaText:"_3Evl5aOozId3QVjs7iry2c",memberIcon:"_1qhTBEK-QmJbvMP4ckhAbh",headerButtonsContainer:"_3nzVPnRRnrls4DOXO_I0fn",overflowButton:"_1LAmcxBaaqShJsi8RNT-Vp",topBannerVariant:"_10q-yEqoaW9SJFYTZZHsei",communityCoinCount:"_2bWoGvMqVhMWwhp4Pgt4LP",coinIcon:"tWeTbHFf02PguTEonwJD0",coinsTooltipContent:"_2AbGMsrZJPHrLm9e-oyW1E",helpIcon:"_1cB7-TWJtfCxXAqqeyVb2q",Banner:"hpxKmfWP2ZiwdKaWpefMn",banner:"hpxKmfWP2ZiwdKaWpefMn",Title:"_20Kb6TX_CdnePoT8iEsls6",title:"_20Kb6TX_CdnePoT8iEsls6",TitleShifted:"t9oUK2WY0d28lhLAh3N5q",titleShifted:"t9oUK2WY0d28lhLAh3N5q",AdorableSnoo:"_2KqgQ5WzoQRJqjjoznu22o",adorableSnoo:"_2KqgQ5WzoQRJqjjoznu22o",TitleLink:"_2D7eYuDY6cYGtybECmsxvE",titleLink:"_2D7eYuDY6cYGtybECmsxvE",TitleText:"_19bCWnxeTjqzBElWZfIlJb",titleText:"_19bCWnxeTjqzBElWZfIlJb",TitleTextShiftedContainer:"_2TC7AdkcuxFIFKRO_VWis8",titleTextShiftedContainer:"_2TC7AdkcuxFIFKRO_VWis8",TitleTextWithSecondaryTitle:"_35WVFxUni5zeFkPk7O4iiB",titleTextWithSecondaryTitle:"_35WVFxUni5zeFkPk7O4iiB",TitleSecondaryTextShifted:"_2il64Y8eNV46CRaPNTRL4N",titleSecondaryTextShifted:"_2il64Y8eNV46CRaPNTRL4N",UserCounts:"_7kAMkb9SAVF8xJ3L53gcW",userCounts:"_7kAMkb9SAVF8xJ3L53gcW",Online:"_3_HlHJ56dAfStT19Jgl1bF",online:"_3_HlHJ56dAfStT19Jgl1bF",Count:"_3XFx6CfPlg-4Usgxm0gK8R",count:"_3XFx6CfPlg-4Usgxm0gK8R",CountMetaText:"_34InTQ51PAhJivuc_InKjJ",countMetaText:"_34InTQ51PAhJivuc_InKjJ",UserType:"_29_mu5qI8E1fq6Uq5koje8",userType:"_29_mu5qI8E1fq6Uq5koje8",WidgetHeader:"_2BY2-wxSbNFYqAy98jWyTC",widgetHeader:"_2BY2-wxSbNFYqAy98jWyTC",Description:"_3sGbDVmLJd_8OV8Kfl7dVv",description:"_3sGbDVmLJd_8OV8Kfl7dVv",Buttons:"_1qiHDKK74j6hUNxM0p9ZIp",buttons:"_1qiHDKK74j6hUNxM0p9ZIp",RequestButton:"_36GxpQyxUKhq8m_dGYqIBE",requestButton:"_36GxpQyxUKhq8m_dGYqIBE",SubscribeButton:"_1eMniuqQCoYf3kOpyx83Jj",subscribeButton:"_1eMniuqQCoYf3kOpyx83Jj",CreateAccountButton:"_2wIWA7CTxkwjuDQ4-Msi_r",createAccountButton:"_2wIWA7CTxkwjuDQ4-Msi_r",CreatePostButton:"_326PJFFRv8chYfOlaEYmGt",createPostButton:"_326PJFFRv8chYfOlaEYmGt",CreateCommunityButton:"Jy6FIGP1NvWbVjQZN7FHA",createCommunityButton:"Jy6FIGP1NvWbVjQZN7FHA",VisitCommunityButton:"_1cDoUuVvel5B1n5wa3K507",visitCommunityButton:"_1cDoUuVvel5B1n5wa3K507",ModSettings:"_2_w8DCFR-DCxgxlP1SGNq5",modSettings:"_2_w8DCFR-DCxgxlP1SGNq5",ModToolsLink:"_1aS-wQ7rpbcxKT0d5kjrbh",modToolsLink:"_1aS-wQ7rpbcxKT0d5kjrbh",CategoryContainer:"_2cn386lOe1A_DTmBUA-qSM",titleTextContainer:"_2Zdkj7cQEO3zSGHGK2XnZv",editIconText:"wzFxUZxKK8HkWiEhs0tyE",iconFilePicker:"_3R24jLERJTaoRbM_vYd9v0"}},"./src/reddit/components/IdCard/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/es/index.js"),i=s("./node_modules/react-router-redux/es/index.js"),c=s("./src/reddit/actions/subreddit/inlineEditing.ts"),d=s("./src/reddit/selectors/experiments/inlineSubredditEditing.ts"),l=s("./node_modules/reselect/es/index.js"),m=s("./src/app/strings/index.ts"),p=s("./src/lib/classNames/index.ts"),u=s("./src/lib/CSSVariableProvider/withTheme.tsx"),h=s("./src/lib/isFakeSubreddit/index.ts"),b=s("./src/lib/prettyPrintNumber/index.ts"),g=s("./src/reddit/actions/tooltip.ts"),x=s("./src/reddit/actions/modal.ts"),v=s("./src/reddit/actions/multireddit/index.ts"),C=s("./src/reddit/actions/subscription/index.ts"),O=s("./src/reddit/components/CategoryTagList/index.tsx"),f=s("./src/higherOrderComponents/makeAsync.tsx"),E=s("./src/lib/loadWithRetries/index.ts"),y=Object(f.a)({getComponent:()=>Object(E.a)(()=>Promise.all([s.e("AdminCommunityTopics~Reddit"),s.e("AdminCommunityTopics")]).then(s.bind(null,"./src/reddit/components/CommunityTopics/AdminCommunityTopics/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),j=s("./src/reddit/components/CommunityType/index.tsx"),P=s("./src/reddit/components/ContributorRequestFlow/ContributorRequestButton.tsx"),w=s("./src/lib/isSimpleClick/index.ts"),I=s("./src/reddit/actions/login.ts"),S=s("./src/reddit/components/TrackingHelper/index.tsx"),T=s("./src/reddit/constants/accountManager.ts"),k=s("./src/reddit/constants/listings.ts"),_=s("./src/reddit/controls/Button/index.tsx"),N=s("./src/reddit/helpers/makeAccountManagerUrl/index.ts"),L=s("./src/reddit/helpers/trackers/monthsToMinutes.ts"),M=s("./src/reddit/i18n/components.tsx"),R=s("./src/reddit/selectors/meta.ts"),F=s("./src/reddit/selectors/user.ts");const B=Object(l.c)({isLoggedIn:F.L,origin:R.f});var A=Object(r.b)(B,e=>({openRegisterModal:()=>{e(Object(x.k)({actionSource:x.a.IdCard,redirectUrl:k.c[k.b.Home]})),e(Object(I.b)())}}))(Object(S.b)(class extends o.a.Component{constructor(){super(...arguments),this.onClick=(e=>{Object(w.a)(e)&&(e.stopPropagation(),e.preventDefault(),this.props.sendEvent(Object(L.f)()),this.props.openRegisterModal())})}render(){const e=this.props.origin;return o.a.createElement(_.g,{href:Object(N.a)(T.a.Register,e),onClick:this.onClick},o.a.createElement(M.c,null,"Create an account"))}})),D=s("./src/reddit/components/CreateCommunityButton/index.tsx"),V=s("./src/reddit/components/CreatePostButton/index.tsx"),W=s("./src/reddit/featureFlags/component.tsx");const H=Object(f.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("EconomicsSubredditPremiumCommunityCard").then(s.bind(null,"./src/reddit/components/Economics/SubredditPremium/CommunityCard/index.tsx")).then(e=>e.default)});var U=Object(W.a)("spPremium",H),z=s("./node_modules/react-autosize-textarea/lib/index.js"),K=s.n(z),G=s("./src/reddit/actions/subredditSettings.ts"),q=s("./src/reddit/components/CharacterCountdown/index.tsx"),J=s("./src/reddit/components/CommunitySettings/helpers.ts"),Y=s("./src/reddit/components/ContentTooltip/index.tsx"),Q=s("./src/lib/fastdom/index.ts"),X=s("./src/lib/lessComponent.tsx"),Z=s("./src/reddit/components/IdCard/DescriptionBlock/index.m.less"),$=s.n(Z);const ee=X.a.div("DescriptionContainer",$.a);var te=class extends o.a.Component{constructor(e){super(e),this.containerRef=null,this.textRef=null,this.showFullDescription=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({shouldTruncateDescription:!1})}),this.setContainerRef=(e=>this.containerRef=e),this.setTextRef=(e=>this.textRef=e),this.state={shouldDisplayShowMore:!1,shouldTruncateDescription:e.shouldTruncateDescription}}componentDidMount(){this.state.shouldTruncateDescription&&Q.a.read(()=>{this.containerRef&&this.textRef&&this.textRef.offsetHeight>this.containerRef.offsetHeight&&this.setState({shouldDisplayShowMore:!0})})}render(){var e=this.props;const t=e.children,s=e.description,n=e.isTopBannerVariant,r=e.subreddit;var a=this.state;const i=a.shouldDisplayShowMore,c=a.shouldTruncateDescription,d=o.a.createElement(M.c,null,r&&`Welcome to r/${r.name}`);return o.a.createElement(ee,{className:Object(p.a)($.a.descriptionContainer,c&&$.a.truncated),"data-redditstyle":!0,innerRef:this.setContainerRef},o.a.createElement("div",{className:Object(p.a)($.a.description,{[$.a.topBannerVariant]:n}),ref:this.setTextRef},s||d,t),c&&i&&o.a.createElement("div",{className:$.a.showMore},o.a.createElement(M.c,null,"..."),o.a.createElement(_.n,{className:$.a.showFullDescriptionButton,onClick:this.showFullDescription},o.a.createElement(M.c,null,"MORE"))))}},se=s("./src/reddit/components/InlineSubredditEditing/InstructionalTooltipContent.tsx"),ne=s("./src/higherOrderComponents/asModal/index.tsx"),oe=s("./src/reddit/components/ModalStyledComponents/index.tsx"),re=s("./src/reddit/controls/TextButton/index.tsx"),ae=s("./src/reddit/layout/twoCol/ExpandLeft/index.tsx");const ie=Object(r.b)(null,e=>({closeModal:()=>e(Object(x.g)("subreddit-unsaved-changes-modal"))}));var ce=Object(ne.a)(ie(class extends o.a.Component{constructor(){super(...arguments),this.onDiscardClick=(async()=>{this.props.onDiscard(),this.props.closeModal()}),this.onCancelClick=(()=>{this.props.onCancel(),this.props.closeModal()}),this.onSaveClick=(()=>{this.props.onSave(),this.props.closeModal()})}render(){return o.a.createElement(oe.c,null,o.a.createElement(oe.g,null,o.a.createElement(ae.a,null,o.a.createElement(oe.n,null,o.a.createElement(M.c,null,"Save changes before leaving?")),o.a.createElement(re.a,{onClick:this.onCancelClick},o.a.createElement(oe.b,null)))),o.a.createElement(oe.j,null,o.a.createElement(oe.m,null,o.a.createElement(M.c,null,"You have made some changes to your community, do you wish to leave this menu without saving?"))),o.a.createElement(oe.e,null,o.a.createElement(oe.a,{onClick:this.onDiscardClick,"data-redditstyle":!0},o.a.createElement(M.c,null,"Discard")),o.a.createElement(oe.o,{onClick:this.onSaveClick,"data-redditstyle":!0},o.a.createElement(M.c,null,"Save"))))}})),de=s("./src/reddit/constants/tooltips.ts"),le=s("./src/reddit/controls/LoadingIcon/index.tsx"),me=s("./src/reddit/helpers/localStorage/index.ts"),pe=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),ue=s("./src/reddit/i18n/utils.ts"),he=s("./src/reddit/icons/svgs/Pencil/index.tsx"),be=s("./src/reddit/selectors/activeModalId.ts"),ge=s("./src/reddit/selectors/subreddit.ts");const xe=6,ve=Object(l.c)({apiPending:ge.Y,unsavedChangesModalIsOpen:Object(be.b)("subreddit-unsaved-changes-modal")});var Ce=Object(r.b)(ve,(e,{subreddit:t})=>({updateSubredditSettings:s=>e(Object(G.Q)(t.id,s,!0)),openUnsavedChangesModal:()=>{e(Object(g.f)()),e(Object(x.h)("subreddit-unsaved-changes-modal"))},onShowTooltip:()=>{e(Object(g.d)({tooltipId:de.a}))}}))(Object(S.b)(class extends o.a.Component{constructor(e){super(e),this.textAreaRef=null,this.containerRef=o.a.createRef(),this.isSaving=!1,this.setTextAreaRef=(e=>{this.textAreaRef=e}),this.handleOnFocus=(e=>{if(e.preventDefault(),e.stopPropagation(),!this.state.editing){const t=e.target!==this.textAreaRef?()=>this.focusTextArea():void 0;this.setState({editing:!0},t),this.props.sendEvent(pe.a)}}),this.focusTextArea=(()=>{this.textAreaRef&&this.textAreaRef.focus&&this.textAreaRef.focus({preventScroll:!0})}),this.handleOnBlur=(e=>{e.relatedTarget===this.textAreaRef||e.target.contains(e.relatedTarget)||e.relatedTarget===this.containerRef.current||(e.preventDefault(),e.stopPropagation(),this.stopEditing(!0,!1))}),this.onCancel=(()=>{this.setState({description:this.props.description},()=>this.stopEditing(!1,!0))}),this.onSave=(()=>{this.props.updateSubredditSettings({publicDescription:this.state.description}),this.isSaving=!0,this.stopEditing(!1,!0);const e=this.state.description,t=this.props.description;this.props.sendEvent(Object(pe.d)(e,t))}),this.state={description:e.description||"",editing:!1,tooltipDismissed:!0}}componentDidMount(){this.setState({tooltipDismissed:Object(me.k)(this.props.subreddit.id)},()=>{this.tooltipEnabled()&&this.props.onShowTooltip()})}tooltipEnabled(){return this.props.isTopBannerVariant&&!this.state.tooltipDismissed&&!this.props.isCommentsPage}hasFocus(){return!!document.activeElement&&(document.activeElement===this.containerRef.current||this.containerRef.current&&this.containerRef.current.contains(document.activeElement))}componentWillReceiveProps(e){!e.apiPending&&this.props.apiPending&&(this.isSaving=!1),e.description===this.props.description||this.hasPendingChanges()||this.setState({description:e.description})}stopEditing(e,t){e&&this.hasPendingChanges()&&!this.isSaving&&this.props.openUnsavedChangesModal(),this.setState({editing:!1}),t&&this.containerRef.current&&this.containerRef.current.blur()}renderInactiveDescription(){const e=this.props.apiPending?o.a.createElement(le.a,{className:$.a.loadingIcon,sizePx:xe}):void 0;return this.state.description?o.a.createElement(o.a.Fragment,null,o.a.createElement(te,{description:this.state.description,shouldTruncateDescription:this.props.shouldTruncateDescription,subreddit:this.props.subreddit,isTopBannerVariant:this.props.isTopBannerVariant},o.a.createElement(he.a,{className:$.a.pencil}),e)):o.a.createElement("div",{className:$.a.emptyDescription},o.a.createElement(M.c,null,"Add description"),e)}renderTextArea(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{innerRef:this.setTextAreaRef,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,placeholder:Object(ue.c)("Tell us about your community"),className:Object(p.a)($.a.editableDescription,$.a.activeEditableDescription),onChange:e=>this.setState({description:e.currentTarget.value}),maxLength:J.c,value:this.state.description}),o.a.createElement("div",{className:$.a.editableDescriptionControlRow},o.a.createElement(q.a,{className:$.a.characterCountdown,maxChars:J.c,text:this.state.description}),o.a.createElement("span",{className:$.a.cancel,onClick:this.onCancel},Object(ue.c)("Cancel")),o.a.createElement("span",{className:$.a.save,onClick:this.onSave},Object(ue.c)("Save"))))}hasPendingChanges(){return this.state.description!==this.props.description}getContainerClassNames(){if(!this.state.editing&&this.state.description)return[$.a.defaultEditableDescriptionContainer];const e=[$.a.editableDescriptionContainer];return this.state.editing&&e.push($.a.activeEditableDescriptionContainer),e}renderTooltip(){return o.a.createElement(Y.a,{className:$.a.tooltip,tooltipId:de.a,defaultTooltipPosition:"left",tooltipSizeEstimate:{height:150,width:320}},o.a.createElement(se.a,{includeIcon:!1,subredditId:this.props.subreddit.id}))}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:this.tooltipEnabled()?de.a:void 0,ref:this.containerRef,className:Object(p.a)(...this.getContainerClassNames()),tabIndex:0,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur},this.state.editing?this.renderTextArea():this.renderInactiveDescription(),this.props.unsavedChangesModalIsOpen&&o.a.createElement(ce,{withOverlay:!0,ignoreDefaultFocus:!0,onCancel:this.focusTextArea,onDiscard:this.onCancel,onSave:this.onSave})),this.tooltipEnabled()&&this.renderTooltip())}})),Oe=s("./src/reddit/components/InfoTextTooltip/index.tsx"),fe=s("./src/reddit/components/OverflowMenu/index.tsx"),Ee=s("./src/reddit/components/SubredditIcon/index.tsx"),ye=s("./src/reddit/components/SubredditIcon/EditableSubredditIcon.tsx"),je=s("./src/reddit/components/SubscribeButton/index.tsx"),Pe=s("./src/reddit/components/Widgets/Base/index.tsx"),we=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),Ie=s("./src/reddit/constants/modals.ts"),Se=s("./src/reddit/constants/page.ts"),Te=s("./src/reddit/constants/posts.ts"),ke=s("./src/reddit/controls/Dropdown/Row.tsx"),_e=s("./src/reddit/controls/ImageInput/index.tsx"),Ne=s("./src/reddit/featureFlags/index.ts"),Le=s("./src/reddit/helpers/awards/isEligibleForCommunityAwards.ts"),Me=s("./src/reddit/helpers/getFakeUserIcons.ts"),Re=s("./src/reddit/helpers/trackers/lightbox.ts"),Fe=s("./src/reddit/helpers/trackers/modHub.ts"),Be=s("./src/reddit/icons/fonts/Coin/index.tsx"),Ae=s("./src/reddit/icons/fonts/helpers.tsx"),De=s("./src/reddit/icons/fonts/ModSettings/index.m.less"),Ve=s.n(De);var We=X.a.wrapped(e=>o.a.createElement("i",{className:`${Object(Ae.b)("modSettings")} ${e.className}`}),"ModSettings",Ve.a),He=s("./src/reddit/icons/svgs/Help/index.tsx"),Ue=s("./src/reddit/models/ApiRequestState/index.ts"),ze=s("./src/reddit/models/SubredditRestrictions/index.ts"),Ke=s("./src/reddit/selectors/category.ts"),Ge=s("./src/reddit/selectors/comments.ts"),qe=s("./src/reddit/selectors/experiments/categories.ts"),Je=s("./src/reddit/constants/experiments.ts"),Ye=s("./src/reddit/helpers/chooseVariant/index.ts");const Qe=e=>Object(Ye.b)(e,{experimentEligibilitySelector:Ye.a,experimentName:Je.g})===Je.m.Treatment;var Xe=s("./src/reddit/selectors/experiments/feedFilters.ts"),Ze=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),$e=s("./src/reddit/selectors/listings.ts"),et=s("./src/reddit/selectors/moderatorPermissions.ts"),tt=s("./src/reddit/selectors/monthsToMinutes.ts"),st=s("./src/reddit/selectors/structuredStyles.ts"),nt=s("./src/reddit/selectors/subscriptions.ts"),ot=s("./src/reddit/selectors/widgets.ts"),rt=s("./src/reddit/actions/preferences.ts"),at=s("./src/reddit/actions/authorFlair.ts"),it=s("./src/reddit/actions/badge.ts"),ct=s("./src/reddit/components/Badges/UserDisplay/index.tsx"),dt=s("./src/reddit/components/Flair/index.tsx"),lt=s("./src/reddit/models/User/index.ts"),mt=s("./src/reddit/selectors/userFlair.ts"),pt=s("./src/reddit/components/SidebarFlairSettings/index.m.less"),ut=s.n(pt);const ht=X.a.div("FlairSettingsContainer",ut.a),bt=X.a.div("FlairPreview",ut.a),gt=X.a.wrapped(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},o.a.createElement("title",{id:`${e.title}-title`},e.title),o.a.createElement("g",null,o.a.createElement("path",{fill:"inherit",d:"M8.1168,3.0832 L10.9168,5.8832 C11.0728,6.0392 11.0728,6.2928 10.9168,6.4488 L4.0824,13.2832 C4.0072,13.3584 3.9056,13.4 3.8,13.4 L1,13.4 C0.7784,13.4 0.6,13.2216 0.6,13 L0.6,10.2 C0.6,10.0944 0.6416,9.9928 0.7168,9.9176 L7.5512,3.0832 C7.7072,2.9272 7.9608,2.9272 8.1168,3.0832 Z M13.5168,2.152 C13.9848,2.62 13.9848,3.3808 13.5168,3.8488 L12.048,5.3176 C11.9696,5.396 11.8672,5.4352 11.7656,5.4352 C11.6632,5.4352 11.5608,5.396 11.4824,5.3176 L8.6824,2.5176 C8.5264,2.3616 8.5264,2.108 8.6824,1.952 L10.1512,0.4832 C10.6192,0.0152 11.38,0.0152 11.848,0.4832 L13.5168,2.152 Z"}))),"EditPencil",ut.a),xt=X.a.div("PreviewTitle",ut.a),vt=X.a.wrapped(dt.b,"FlairComponent",ut.a),Ct=X.a.wrapped(_.n,"TertiaryButton",ut.a),Ot=X.a.wrapped(Ct,"IconButton",ut.a),ft=X.a.span("Username",ut.a),Et=Object(W.a)("spBadges",ct.a),yt=Object(l.c)({badgesEnabled:Ne.d.spBadges,currentUser:F.k,language:F.T,userFlairData:mt.c,userHasBadge:(e,t)=>{const s=e.user.account;if(s){return!!((e.users.appliedBadges[s.id]||{})[t.subredditId]||[]).length}return!1}}),jt=Object(r.b)(yt,(e,{subredditId:t})=>({onToggleModal:s=>e(Object(at.b)({username:s,subredditId:t})),onToggleBadgeModal:()=>e(Object(it.j)())})),Pt=e=>o.a.createElement(Ot,{onClick:e.onClick},o.a.createElement(gt,null)),wt=e=>o.a.createElement(Ct,{onClick:e.onClick},e.userFlairData.displaySettings.isEnabled?e.userFlairData.applied||e.userHasBadge?Object(m.a)(e.language,"flair.editUserFlairAndBadge"):Object(m.a)(e.language,"flair.addUserFlairAndBadge"):e.userHasBadge?Object(m.a)(e.language,"flair.editUserBadge"):Object(m.a)(e.language,"flair.addUserBadge"));var It=jt(Object(S.b)(class extends o.a.Component{constructor(){super(...arguments),this.onFlairLinkClick=(()=>{const e=this.props.currentUser?Object(lt.f)(this.props.currentUser):null;this.props.onToggleModal(e),this.props.sendEvent(Object(Re.b)("user_flair_picker"))})}render(){var e=this.props;const t=e.badgesEnabled,s=e.currentUser,n=e.language,r=e.onToggleBadgeModal,a=e.subredditId,i=e.userFlairData,c=e.userHasBadge;return s&&i?o.a.createElement(ht,null,o.a.createElement(xt,null,o.a.createElement(M.c,null,"user flair preview"),o.a.createElement(Pt,{onClick:this.onFlairLinkClick})),o.a.createElement(bt,null,c&&o.a.createElement(Et,{className:ut.a.badge,subredditId:a,uniqueIdentifier:a}),o.a.createElement(ft,null,`u/${s.displayText}`),i.applied&&i.displaySettings.isUserEnabled&&o.a.createElement(vt,{flair:i.applied,forceSmallEmojis:!0})),t?o.a.createElement(wt,{userFlairData:i,userHasBadge:c,language:n,onClick:r}):null):null}})),St=s("./src/reddit/controls/ToggleSwitch/index.tsx"),Tt=s("./src/reddit/helpers/trackers/idCard.ts"),kt=s("./src/reddit/icons/svgs/ChevronDown/index.tsx"),_t=s("./src/reddit/icons/svgs/ChevronUp/index.tsx"),Nt=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M17.71,10.29,14.95,7.54a7,7,0,0,0-9.9,0L2.29,10.29a1,1,0,0,0,1.41,1.41L6.46,8.95c.07-.07.14-.11.21-.17a4,4,0,1,0,6.65,0c.07.06.15.11.21.17l2.76,2.76a1,1,0,0,0,1.41-1.41Z"})),Lt=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M4.59 8l-2.3 2.29A1 1 0 0 0 3.7 11.7L6 9.41zM6 11a4 4 0 0 0 5.34 3.75l-5.1-5.1A4 4 0 0 0 6 11zM18.71 17.29l-5-5A3.87 3.87 0 0 0 14 11a4 4 0 0 0-.68-2.22c.07.06.15.11.21.17l2.76 2.76a1 1 0 0 0 1.41-1.41l-2.75-2.76A7 7 0 0 0 7.42 6L2.71 1.29a1 1 0 0 0-1.42 1.42l16 16a1 1 0 0 0 1.41-1.41z"})),Mt=s("./src/reddit/components/IdCard/CommunityOptions/index.m.less"),Rt=s.n(Mt);const Ft=X.a.wrapped(_.n,"TertiaryButton",Rt.a),Bt=Object(l.c)({shouldShowFlairPicker:mt.b,stylesDisabledForSubreddit:F.eb,stylesDisabledGlobally:F.fb});var At=Object(r.b)(Bt,e=>({updateSubredditPrefs:(t,s)=>{e(Object(rt.G)(t,s))}}))(class extends o.a.Component{constructor(e){super(e),this.onContainerClick=(e=>{e.stopPropagation()}),this.onExpandButtonClick=(()=>{this.setState({isOpen:!this.state.isOpen})}),this.onToggleStylesSwitch=(()=>{const e=!!this.props.stylesDisabledForSubreddit;this.props.sendEvent(Object(Tt.c)(e)),this.props.updateSubredditPrefs(this.props.subredditId,{stylesEnabled:e})}),this.state={isOpen:!1}}render(){var e=this.props;const t=e.isOverlay,s=e.shouldShowFlairPicker,n=e.stylesDisabledForSubreddit,r=e.stylesDisabledGlobally,a=e.subredditId,i=this.state.isOpen,c=i?o.a.createElement("div",{className:Rt.a.content},o.a.createElement("div",{className:Object(p.a)(Rt.a.stylesToggle,{[Rt.a.disabled]:r}),title:r?Object(ue.c)("This is unavailable because themes have been disabled globally in your user settings"):void 0},o.a.createElement("label",{className:Rt.a.stylesToggleLabel},n?o.a.createElement(Lt,null):o.a.createElement(Nt,null),o.a.createElement(M.c,null,"Community theme")),o.a.createElement(St.a,{disabled:r,on:!n,onToggle:this.onToggleStylesSwitch})),s&&!t&&o.a.createElement(It,{subredditId:a})):null;return o.a.createElement("div",{className:Rt.a.container,onClick:this.onContainerClick},o.a.createElement(Ft,{className:Rt.a.expandButton,onClick:this.onExpandButtonClick},o.a.createElement(M.c,null,"Community options"),i?o.a.createElement(_t.a,null):o.a.createElement(kt.a,null)),c)}}),Dt=s("./src/reddit/components/IdCard/helpers.ts"),Vt=s("./src/reddit/components/IdCard/Placeholder.tsx"),Wt=s("./src/reddit/components/IdCard/index.m.less"),Ht=s.n(Wt);s.d(t,"f",function(){return zt}),s.d(t,"a",function(){return Gt}),s.d(t,"b",function(){return cs}),s.d(t,"c",function(){return ls}),s.d(t,"g",function(){return Os}),s.d(t,"d",function(){return fs});const Ut="IDCARD_OVERFLOW_DROPDOWN_ID",zt=e=>!Object(h.a)(e)||Object(Dt.c)(e)||Object(Dt.d)(e)||Object(Dt.f)(e)||Object(Dt.e)(e),Kt=X.a.div("Banner",Ht.a),Gt=e=>{const t=e.bannerBackgroundImage;return o.a.createElement(Kt,{style:t&&t.length?{backgroundImage:`url(${t})`}:void 0})},qt=X.a.div("Title",Ht.a),Jt=X.a.wrapped(qt,"TitleShifted",Ht.a),Yt=X.a.wrapped(({className:e,children:t,shouldRenderSuperbOwlIcon:s,snooBackground:n})=>o.a.createElement("div",{className:e,title:s?"r/SuperbOwl":"",style:{background:n.image,backgroundSize:`${n.width}px ${n.height}px`,height:n.height,width:n.width}},t),"AdorableSnoo",Ht.a),Qt=X.a.wrapped(a.a,"TitleLink",Ht.a),Xt=X.a.span("TitleText",Ht.a),Zt=X.a.div("TitleTextShiftedContainer",Ht.a),$t=e=>{const t=e.children,s=e.hasSecondaryTitle?Ht.a.TitleTextWithSecondaryTitle:"";return o.a.createElement(Zt,{className:s},t)},es=X.a.wrapped(Xt,"TitleSecondaryTextShifted",Ht.a),ts=X.a.div("UserCounts",Ht.a),ss=X.a.wrapped(we.a,"ThemedWidget",Ht.a),ns=X.a.div("Online",Ht.a),os=X.a.p("Count",Ht.a),rs=X.a.span("CountMetaText",Ht.a),as=X.a.p("UserType",Ht.a),is=X.a.wrapped(Pe.a,"WidgetHeader",Ht.a),cs=X.a.p("Description",Ht.a),ds=X.a.div("Buttons",Ht.a),ls=X.a.wrapped(_.f,"RequestButton",Ht.a),ms=X.a.wrapped(je.a,"SubscribeButton",Ht.a),ps=X.a.wrapped(A,"CreateAccountButton",Ht.a),us=X.a.wrapped(V.a,"CreatePostButton",Ht.a),hs=X.a.wrapped(D.a,"CreateCommunityButton",Ht.a),bs=X.a.wrapped(_.k,"VisitCommunityButton",Ht.a),gs=X.a.wrapped(We,"ModSettings",Ht.a),xs=X.a.wrapped(a.a,"ModToolsLink",Ht.a),vs=X.a.div("CategoryContainer",Ht.a),Cs=Object(r.b)(()=>Object(l.c)({postCategories:(e,t)=>Object(Ke.s)(e,t.postId),commentsApiError:(e,{commentsPageKey:t})=>t?Object(Ge.c)(e,{commentsPageKey:t}):null,commentsApiPending:(e,{commentsPageKey:t})=>!!t&&Object(Ge.d)(e,{commentsPageKey:t}),favoriteSubredditsIds:nt.a,feedFilterVariant:Xe.a,frontpageIsHome:e=>Object(tt.g)(e),idCardWidget:(e,t)=>Object(ot.d)(e,{subredditName:t.listingName}),isContributorRequestPending:e=>Object(ge.i)(e,ze.e.Post),isCustomFeedsEnabled:Ne.d.customFeeds,isInCustomPostCreationPromptExperiment:Qe,isLoggedIn:F.L,isM2MEnabled:tt.y,language:F.T,listingApiError:(e,{listingKey:t})=>t?Object($e.c)(e,{listingKey:t}):null,listingApiPending:(e,{listingKey:t})=>!!t&&Object($e.d)(e,{listingKey:t}),m2mHomeRedirectVariant:Ze.f,moderatorPermissions:(e,t)=>{const s=Object(ge.M)(e,t.listingName);if(s)return Object(et.i)(e,{subredditId:s})},isInCategoriesExperiment:qe.a,showContributorRequestFlow:e=>Object(ge.y)(e,ze.e.Post),shouldRenderSuperbOwlIcon:Ne.d.superbOwl,subreddit:(e,t)=>Object(ge.G)(e,{subredditName:t.listingName}),subredditAboutInfo:(e,t)=>Object(ge.D)(e,{subredditName:t.listingName}),subredditCoins:(e,{listingName:t})=>Object(ge.I)(e,{subredditName:t}),subredditIcon:(e,t)=>Object(st.q)(e,{subredditName:t.listingName}),adminCommunityTopicsEnabled:Ne.d.adminCommunityTopics,subredditInlineEditingEnabled:(e,{listingName:t})=>{const s=Object(ge.G)(e,{subredditName:t});return!!s&&Object(d.a)(e,{subredditId:s.id})}}),(e,t)=>({addToMultiClicked:()=>{e(Object(v.g)(!0,!0)),e(Object(x.h)(Ie.a.MULTIREDDIT_ADD_SUBREDDIT))},dispatchPush:t=>e(Object(i.b)(t)),toggleFavorite:t=>e(Object(C.c)({id:t,type:Te.a.SUBREDDIT})),toggleTooltip:t=>e(Object(g.e)({tooltipId:t})),onCommunityIconSelected:(s,n)=>{e(Object(c.b)(t.listingName,s,n))}}),(e,t,s)=>Object.assign({},e,t,s,{isEligibleForCommunityAwards:Object(Le.a)(e.subreddit),isFavoriteSubreddit:!!e.subreddit&&e.favoriteSubredditsIds.indexOf(e.subreddit.id)>-1,onContainerClick:()=>s.isOverlay&&t.dispatchPush(e.subreddit.url),onToggleFavoriteClick:()=>t.toggleFavorite(e.subreddit.id)}));const Os=({titleText:e,titleSecondaryText:t,snooBackground:s,shouldRenderSuperbOwlIcon:n})=>o.a.createElement(Jt,null,o.a.createElement(Yt,{snooBackground:s,shouldRenderSuperbOwlIcon:n}),o.a.createElement($t,{hasSecondaryTitle:!!t},o.a.createElement(Xt,null,e),t&&o.a.createElement(es,null,t))),fs=e=>{const t=e.canEditIcon,s=e.isTargetBlank,n=e.largeSubredditIcon,r=e.linkUrl,a=e.subredditIcon,i=e.titleText,c=e.primaryColor,d=e.subreddit,l=e.onOpenFilePicker,m=a.url?o.a.createElement(M.c,null,"Update icon"):o.a.createElement(M.c,null,"Add icon");return o.a.createElement(qt,{className:e.className},t&&d?o.a.createElement(ye.a,{className:n?Ht.a.largeSubredditIcon:Ht.a.subredditIcon,key:a.url,iconUrl:a.url,primaryColor:c,subreddit:d,inTopBar:!1}):o.a.createElement(Ee.b,{className:n?Ht.a.largeSubredditIcon:Ht.a.subredditIcon,key:a.url,iconUrl:a.url,primaryColor:c}),o.a.createElement("div",{className:Ht.a.titleTextContainer},r?o.a.createElement(Qt,Object.assign({key:r,to:r,onClick:e=>e.stopPropagation()},s?{target:"_blank"}:{}),o.a.createElement(Xt,{title:i},i)):o.a.createElement(Xt,{key:i},i),t&&d&&l&&o.a.createElement("div",{className:Ht.a.editIconText,onClick:l},m)))},Es=(e,t,s)=>{const n=Object(Me.a)(e.name),r=t>1?"members":"member";return o.a.createElement("span",{className:Ht.a.metaTextContainer},n.map(({color:e,image:t},s)=>o.a.createElement("img",{alt:0===s?Object(ue.c)("Members icons"):"",className:Ht.a.memberIcon,key:t,src:t,style:{backgroundColor:e}})),o.a.createElement(rs,{className:Ht.a.metaText},o.a.createElement(M.c,null,o.a.createElement(M.b,{name:"subscribersCount"},`${Object(b.b)(t).toUpperCase()} `),o.a.createElement(M.b,{name:"members"},r))),o.a.createElement(rs,{className:Ht.a.metaText},o.a.createElement(M.c,null,o.a.createElement(M.b,{name:"viewingCount"},Object(b.b)(s))," online")))},ys=(e,t,s,n,r,a,i)=>o.a.createElement(ts,null,o.a.createElement("div",{onMouseEnter:()=>i(s),onMouseLeave:()=>i(s)},o.a.createElement(os,null,Object(b.b)(e)),o.a.createElement(as,{id:s},t),o.a.createElement(Oe.c,{caretOnTop:!0,text:`${Object(b.b)(e,!0)} ${t}`,tooltipId:s})),o.a.createElement(ns,{onMouseEnter:()=>i(a),onMouseLeave:()=>i(a)},o.a.createElement(os,null,Object(b.b)(n)),o.a.createElement(as,{id:a},r),o.a.createElement(Oe.c,{caretOnTop:!0,text:`${Object(b.b)(n,!0)} ${r}`,tooltipId:a})));t.e=Object(S.b)(Cs(Object(u.a)(class extends o.a.Component{constructor(){super(...arguments),this.iconFilePickerRef=null,this.setIconFilePickerRef=(e=>this.iconFilePickerRef=e),this.onClickModTools=(()=>this.props.sendEvent(Object(Fe.a)())),this.handleVisitCommunityClick=(()=>this.props.sendEvent(Object(Re.b)("visit"))),this.getListingNameToUse=(()=>{var e=this.props;const t=e.frontpageIsHome,s=e.isLoggedIn,n=e.listingName;return s||n!==Se.c||t?n:k.b.Popular}),this.onIconImageSelected=(e=>{this.props.onCommunityIconSelected(e,Object(Ue.b)())}),this.openIconFilePicker=(()=>{this.iconFilePickerRef&&this.iconFilePickerRef.click(),this.props.sendEvent(pe.b)}),this.renderCreatePostButtons=(()=>{var e=this.props;const t=e.isContributorRequestPending,s=e.isInCustomPostCreationPromptExperiment,n=e.listingName,r=e.subreddit,a=e.subredditAboutInfo,i=s&&!!a&&!!a.submitLinkLabel;return o.a.createElement(o.a.Fragment,null,o.a.createElement(us,{customLabel:s?a&&a.submitTextLabel:void 0,isContributorRequestPending:t,listingName:n,subreddit:r}),i&&!t&&o.a.createElement(us,{customLabel:a&&a.submitLinkLabel,listingName:n,submissionType:"url",subreddit:r}))}),this.renderButtons=(()=>{var e=this.props;const t=e.feedFilterVariant,s=e.isLoggedIn,n=e.isM2MEnabled,r=e.isMinimal,a=e.isOverlay,i=e.isSubmissionPage,c=e.listingName,d=e.showContributorRequestFlow,l=e.subreddit,m=this.getListingNameToUse(),p=Object(h.a)(m),u=!s&&n&&Object(Dt.d)(c),b=r&&l&&!a,g=Object(Xe.f)(t),x=!s&&g,v=!(x||b||u||i||a);return o.a.createElement(ds,null,!x&&!p&&!b&&o.a.createElement(ms,{getEventFactory:e=>Object(Re.b)(e?"unsubscribe":"subscribe"),id:`subscribe-button-${l.id}`,identifier:{name:l.name,type:"subreddit"},onClick:e=>e.stopPropagation()}),u&&o.a.createElement(ps,null),v&&(!p&&d?o.a.createElement(P.a,{eventSource:ze.b.IdCard}):this.renderCreatePostButtons()),s&&!i&&!a&&!l&&c!==Se.g&&o.a.createElement(hs,{eventSource:"id_card"}),b&&o.a.createElement(bs,{onClick:this.handleVisitCommunityClick,to:l.url},o.a.createElement(M.c,null,"Visit Community")))})}render(){var e=this.props;const t=e.addToMultiClicked,s=e.className,n=e.commentsApiError,r=e.commentsApiPending,a=e.feedFilterVariant,i=e.idCardWidget,c=e.isCommentsPage,d=e.isCustomFeedsEnabled,l=e.isEligibleForCommunityAwards,u=e.isInCategoriesExperiment,b=e.isLoggedIn,g=e.isM2MEnabled,x=e.isMinimal,v=e.isOverlay,C=e.isSubmissionPage,f=e.language,E=e.listingApiError,P=e.listingApiPending,w=e.m2mHomeRedirectVariant,I=e.moderatorPermissions,S=e.onContainerClick,T=e.postCategories,k=e.postId,_=e.shouldRenderSuperbOwlIcon,N=e.subreddit,L=e.subredditCoins,R=e.subredditIcon,F=e.toggleTooltip,B=e.subredditInlineEditingEnabled,A=this.getListingNameToUse(),D=Object(h.a)(A);if(!D&&!i)return o.a.createElement(Vt.a,{isLoading:r&&!n||P&&!E});var V=Object(Dt.a)({language:f,listingName:A,isM2MEnabled:g,subreddit:N,idCardWidget:i,shouldRenderSuperbOwlIcon:_});const W=V.bannerBackgroundImage,H=V.currentlyViewingCount,z=V.currentlyViewingText,K=V.description,G=V.snooBackground,q=V.subscribersCount,J=V.subscribersText,Y=V.titleText,Q=V.titleSecondaryText,X=V.url,Z=D||v||C,$=!D&&N.id?N.id:"",ee=`IdCard--Subscribers--${v}--${$}`,se=`IdCard--CurrentlyViewing--${v}--${$}`,ne=`IdCard--CoinCoint--${v}--${$}`,oe=x&&!v,re=!!v&&Object(Ze.e)(w),ae=Object(Xe.f)(a),ie=!v&&B;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ss,{className:s,onClick:v?S:void 0,headerButton:o.a.createElement("div",{className:Object(p.a)(Ht.a.headerButtonsContainer,{[Ht.a.topBannerVariant]:ae})},!Z&&N&&I&&o.a.createElement(xs,{to:I.posts?`${N.url}about/modqueue`:`${N.url}about/`,onClick:this.onClickModTools},o.a.createElement(gs,null),o.a.createElement(M.c,null,"Mod tools")),d&&b&&o.a.createElement(fe.b,{className:Ht.a.overflowButton,dropdownId:Ut,targetPosition:["right","bottom"],tooltipPosition:["right","top"]},o.a.createElement(ke.b,{className:Ht.a.dropdownRow,displayText:Object(ue.c)("Add to Custom Feed"),onClick:t}),o.a.createElement(ke.b,{className:Ht.a.dropdownRow,displayText:this.props.isFavoriteSubreddit?Object(ue.c)("Remove from Favorites"):Object(ue.c)("Add to Favorites"),onClick:this.props.onToggleFavoriteClick}))),redditStyle:ae||D||C,title:Z?void 0:Object(m.a)(f,"sidebar.subreddit.title")},Z&&o.a.createElement(Gt,{bannerBackgroundImage:W}),!ae||D||c?D?Os({titleText:Y,titleSecondaryText:Q,snooBackground:G,shouldRenderSuperbOwlIcon:_}):o.a.createElement(fs,{isTargetBlank:C,linkUrl:D?void 0:X,subredditIcon:R,canEditIcon:ie,subreddit:N,titleText:Y,onOpenFilePicker:this.openIconFilePicker}):null,!D&&!oe&&ys(q,J,ee,H,z,se,F),!D&&o.a.createElement(j.a,{subreddit:N}),l&&I&&void 0!==L&&o.a.createElement("div",{className:Ht.a.communityCoinCount},o.a.createElement(Be.a,{className:Ht.a.coinIcon}),o.a.createElement(M.c,null,o.a.createElement(M.b,{name:"number-community-coins"},L.toLocaleString())," Coins"),o.a.createElement("span",{id:ne,onMouseLeave:()=>F(ne),onMouseEnter:()=>F(ne)},o.a.createElement(He.a,{className:Ht.a.helpIcon})),o.a.createElement(Oe.c,{tooltipId:ne},o.a.createElement("p",{className:Ht.a.coinsTooltipContent},o.a.createElement(M.c,null,"The community gets Coins from Awards given by members")))),!D&&ie?o.a.createElement(Ce,{description:K,shouldTruncateDescription:re,isTopBannerVariant:ae,isCommentsPage:!!c,subreddit:N}):o.a.createElement(te,{description:K,isTopBannerVariant:ae,shouldTruncateDescription:re,subreddit:N}),!D&&oe&&!re&&Es(N,q,H),!re&&this.renderButtons(),u&&T&&k&&(c||v)&&o.a.createElement(vs,null,o.a.createElement(is,null,o.a.createElement(M.c,null,"Discover more in:")),o.a.createElement(O.a,{postId:k,inLightboxHeader:!0,postCategories:T})),!D&&b&&o.a.createElement(At,{isOverlay:v,sendEvent:this.props.sendEvent,subredditId:N.id}),$&&b&&o.a.createElement(U,{className:Ht.a.premium,subredditId:$}),ie&&o.a.createElement(_e.a,{key:"icon-file-picker",className:Ht.a.iconFilePicker,inputRef:this.setIconFilePickerRef,multiple:!1,onChange:this.onIconImageSelected}),!D&&b&&this.props.adminCommunityTopicsEnabled&&o.a.createElement(y,{key:"admin-community-topics",subredditId:$})))}})))},"./src/reddit/components/IdCard/placeholder.m.less":function(e,t,s){e.exports={container:"_3Tqjvz23rS-5hNHwFjEkoG",banner:"c_dVyWK3BXRxSN3ULLJ_t",title:"_1OQL3FCA9BfgI57ghHHgV3",icon:"_33jgwegeMTJ-FJaaHMeOjV",name:"_1wQQNkVR4qNpQCzA19X4B6",counts:"_39IvqNe6cqNVXcMFxFWFxx",side:"_29TSdL_ZMpyzfQ_bfdcBSc",count:"JEV9fXVlt_7DgH-zLepBH",text:"_3YCOmnWpGeRBW_Psd5WMPR",desc:"_2iO5zt81CSiYhWRF9WylyN",one:"_2E9u5XvlGwlpnzki78vasG",two:"fDElwzn43eJToKzSCkejE",three:"_2kNB7LAYYqYdyS85f8pqfi",four:"_1XmngqAPKZO_1lDBwcQrR7",subscribe:"_3XbVvl-zJDbcDeEdSgxV4_",Shimmer:"_3640Mx-3jD362-XXyVwXur",shimmer:"_3640Mx-3jD362-XXyVwXur",gradientAnimation:"_3XkHjK4wMgxtjzC1TvoXrb",Container:"_3Tqjvz23rS-5hNHwFjEkoG"}},"./src/reddit/components/InfoBanners/BannerBase/index.m.less":function(e,t,s){e.exports={IconWrapper:"_2p07tPrx9WpxDTQJ5cmVNe",iconWrapper:"_2p07tPrx9WpxDTQJ5cmVNe",TextWrapper:"_2jpm-rNr0Hniw6BX3NWMVe",textWrapper:"_2jpm-rNr0Hniw6BX3NWMVe",leftSideRectangle:"_3TLlMYjrPH9Kl9522LpSxb",wrapper:"_1DUKbp8va6vxOv9zemBDBi",subtitle:"_2J85dtk0HKQBLk8HTSWduv",title:"Nt8TnDvJ2BsL8KWcFQKy5"}},"./src/reddit/components/InfoBanners/BannerBase/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/InfoBanners/BannerBase/index.m.less"),i=s.n(a),c=s("./src/lib/lessComponent.tsx");const d=c.a.div("IconWrapper",i.a),l=c.a.div("TextWrapper",i.a);t.a=(e=>{const t=e.className,s=e.color,n=e.icon,a=e.subtitle,c=e.title;return o.a.createElement("div",{className:Object(r.a)(t,i.a.wrapper),style:s&&{borderColor:s}||{}},o.a.createElement("div",{className:i.a.leftSideRectangle,style:s&&{backgroundColor:s}||{}}),n?o.a.createElement(d,null,n):o.a.createElement(d,null),o.a.createElement(l,null,o.a.createElement("div",{className:i.a.title},c),a&&o.a.createElement("div",{className:i.a.subtitle},a)))})},"./src/reddit/components/InfoBanners/CommentThreadArchivedBanner/index.m.less":function(e,t,s){e.exports={archivedIcon:"FX4s8TaqjCaeEOCIqjzX4",bannerBase:"_3fW3jPcxIdUoKJwCNjtvG0"}},"./src/reddit/components/InfoBanners/CommentThreadLockedBanner/index.m.less":function(e,t,s){e.exports={lockIcon:"_26YMkU38Pb6t5wXIJSne-H",bannerBase:"jf95ZrrjIs2i--Ud8Kvb7"}},"./src/reddit/components/InfoBanners/ContestModeEnabledBanner/index.m.less":function(e,t,s){e.exports={contestModeEnabled:"_3Jf9vrUhPCp1M6DPL_bjy9",TrophyIcon:"_3v30vS-N87epKUIqWSlBm1",trophyIcon:"_3v30vS-N87epKUIqWSlBm1"}},"./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.m.less":function(e,t,s){e.exports={container:"_3UJGTKmHd4TVKyOdhiMAJ1",rawHtmlDisplay:"s2P-f2c3l2Irco5Ru0S5J",link:"_1eRb8-B7kEgkwxWFSWuVUk",icon:"WCZvfrkaO-Zq7vsDKOAdS"}},"./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),d=s("./src/reddit/constants/colors.ts"),l=s("./src/reddit/controls/InternalLink/index.tsx"),m=s("./src/reddit/i18n/components.tsx"),p=s("./src/reddit/i18n/utils.ts"),u=s("./src/reddit/icons/svgs/QuarantineWarning/index.tsx"),h=s("./src/reddit/selectors/subreddit.ts"),b=s("./src/reddit/selectors/user.ts"),g=s("./src/reddit/components/InfoBanners/BannerBase/index.tsx"),x=s("./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.m.less"),v=s.n(x);const C=o.a.createElement(u.a,{className:v.a.icon}),O=Object(a.c)({language:b.T,subreddit:h.G,subredditAboutInfo:h.D}),f=Object(r.b)(O);t.a=f(e=>{const t=e.subreddit,s=e.subredditAboutInfo,n=e.language;if(!t||!t.isQuarantined)return null;const r=s&&s.quarantineMessageHtml,a=s&&s.quarantineMessage||Object(i.a)(n,"contentGate.quarantinedSubreddit.quarantineMsg");return o.a.createElement(g.a,{className:v.a.container,color:d.a.quarantine,icon:C,subtitle:o.a.createElement("span",null,o.a.createElement(m.c,null,"This community is")," ",o.a.createElement("a",{className:v.a.link,href:"https://web.archive.org/web/20190901080902/https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits",target:"_blank"},o.a.createElement(m.c,null,"quarantined")),": ",r?o.a.createElement(c.a,{className:v.a.rawHtmlDisplay,html:r}):a," ",o.a.createElement(l.a,{className:v.a.link,to:"/"},o.a.createElement(m.c,null,"Click to return home."))),title:Object(p.c)("Community Quarantined")})})},"./src/reddit/components/InlineSubredditEditing/InstructionalTooltipContent.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/tooltip.ts"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/helpers/localStorage/index.ts"),m=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),p=s("./src/reddit/i18n/components.tsx"),u=s("./src/reddit/selectors/widgets.ts"),h=s("./src/reddit/components/InlineSubredditEditing/index.m.less"),b=s.n(h);const g=Object(a.c)({idCardWidget:(e,{subredditId:t})=>Object(u.d)(e,{subredditId:t})}),x=e=>e.includeIcon?e.idCardWidget&&e.idCardWidget.description?o.a.createElement(p.c,null,"Edit your description and custom icon"):o.a.createElement(p.c,null,"Add a community description and custom icon"):e.idCardWidget&&e.idCardWidget.description?o.a.createElement(p.c,null,"Edit your description"):o.a.createElement(p.c,null,"Add a community description"),v=e=>e.includeIcon?o.a.createElement(p.c,null,"Tell us about your community and upload a custom avatar so users can easily identify your community"):o.a.createElement(p.c,null,"Tell us more about your community.");t.a=Object(r.b)(g,(e,{subredditId:t})=>({onDismissTooltip:()=>{e(Object(i.f)()),Object(l.L)(t,!0)}}))(Object(c.b)(class extends o.a.Component{componentDidMount(){this.props.sendEvent(m.e)}render(){const e=x(this.props),t=v(this.props);return o.a.createElement("div",{className:b.a.tooltipContent,onClick:e=>{e.preventDefault(),e.stopPropagation()}},o.a.createElement("span",{className:b.a.topRow},o.a.createElement("h3",{className:b.a.title},e)),o.a.createElement("p",{className:b.a.tooltipBody},t),o.a.createElement(d.f,{className:b.a.gotIt,onClick:this.props.onDismissTooltip},o.a.createElement(p.c,null,"Got it")))}}))},"./src/reddit/components/InlineSubredditEditing/index.m.less":function(e,t,s){e.exports={tooltipContent:"RrvkJ7ntzKYyaCOxMJ1RM",title:"BE2vGjFTJ80XkdBpRRr0p",tooltipBody:"_2yezzi8dgIemh3F2q_kvcp",topRow:"_1JfvdiRxYTSKf1IIe7DUvM",gotIt:"_1MHKCZd72tAgyoZWvIYM-G"}},"./src/reddit/components/LargePost/index.m.less":function(e,t,s){e.exports={container:"_1RYN-7H8gYctjOQeL8p2Q7",cleanup:"_2HwPR24IIw4IfokTKITWYP",topCompactPost:"_34QdMmLlbOcjhKm_jp-r3s",bottomCompactPost:"_2IWrSJK7OQ27rTgV_N2Zu4",backgroundWrapper:"_11R7M_VOgKO1RJyRSRErT3",isEvent:"_3js7RHbLSHKV13qUFCVIhb",postTopLine:"_3AqkwOBtveV6CQYV3yFO9o",postTopLineIcon:"_3YspU2K5Lib6LG9SMGL0US",flatListContainer:"_1ixsU4oQRnNfZ91jhBU74y",noProposal:"_3KYCJ3N4w1YmvpFMo_3zcn",postMediaWrapper:"STit0dLageRsa2yR4te_b",postTitle:"_3wiKjmhpIpoTE2r5KCm2o6",proposal:"_2dkCPUHQTdBWU2B0dYnkRb",hasNotVoted:"_3COAjvFMb0tRTTAI3nxufG",chain:"_39yVNiqPz4VPgNZTlpA5fx",sourceLink:"_1aRYBET5hd5Y3H8aLlYAQU",adLinkWrapper:"_115kZaIAhrTbhLHOXtz01X",horizontalVotes:"uFwpR-OdmueYZxdY_rEDX"}},"./src/reddit/components/LargePost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/constants/index.ts"),c=s("./src/config.ts"),d=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),l=s("./src/reddit/helpers/hasModFullPermissions/index.ts"),m=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),p=s("./src/reddit/helpers/showReportIndicator/index.ts"),u=s("./src/reddit/helpers/styles/mixins/index.tsx"),h=s("./src/reddit/actions/inFeedChaining.ts"),b=s("./src/reddit/actions/post.ts"),g=s("./src/reddit/actions/tooltip.ts"),x=s("./src/reddit/models/Media/index.ts"),v=s("./src/reddit/models/Poll/index.ts"),C=s("./src/reddit/models/Post/index.ts"),O=s("./src/reddit/models/Vote/index.ts"),f=s("./src/reddit/selectors/activeModalId.ts"),E=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),y=s("./src/reddit/selectors/experiments/postCleanup.ts"),j=s("./src/reddit/selectors/experiments/removeOc.ts"),P=s("./src/reddit/selectors/inFeedChaining.ts"),w=s("./src/reddit/selectors/moderatorPermissions.ts"),I=s("./src/reddit/selectors/monthsToMinutes.ts"),S=s("./src/reddit/selectors/posts.ts"),T=s("./src/reddit/selectors/user.ts"),k=s("./src/lib/classNames/index.ts"),_=s("./src/reddit/components/AdLinkWrapper/index.tsx"),N=s("./src/reddit/components/CallToActionButton/index.tsx"),L=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),M=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Loader.tsx"),R=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),F=s("./src/reddit/components/Flatlist/index.tsx"),B=s("./src/reddit/components/Governance/Proposal/index.tsx"),A=s("./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx"),D=s("./src/reddit/components/JSAPIContainers/index.tsx"),V=s("./src/reddit/components/ModModeReports/index.tsx"),W=s("./src/reddit/components/ModModeReports/helpers.ts"),H=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),U=s("./src/reddit/components/PostCleanup/PostFooter/index.tsx"),z=s("./src/reddit/components/PostContainer/index.tsx"),K=s("./src/reddit/components/PostLeftRail/index.tsx"),G=s("./src/reddit/components/PostMedia/index.tsx"),q=s("./src/reddit/components/PostOverflowMenu/index.tsx"),J=s("./src/reddit/i18n/components.tsx"),Y=s("./src/reddit/icons/fonts/Sticky/index.tsx"),Q=s("./src/reddit/components/PostPinnedHeader/index.m.less"),X=s.n(Q);var Z=()=>o.a.createElement("div",{className:X.a.container},o.a.createElement(Y.a,{className:X.a.pinnedIcon}),o.a.createElement("span",{className:X.a.metaText},o.a.createElement(J.c,null,"pinned by moderators"))),$=s("./src/reddit/components/PostTitle/index.tsx"),ee=s("./src/reddit/components/PostTopLine/index.tsx"),te=s("./src/reddit/components/SourceLink/index.tsx"),se=s("./src/reddit/components/VerticalVotes/index.tsx"),ne=s("./src/reddit/contexts/InsideOverlay.tsx"),oe=s("./src/reddit/contexts/PageLayer/index.tsx"),re=s("./src/reddit/controls/Checkbox/index.tsx"),ae=s("./src/reddit/controls/OutboundLink/styled.tsx"),ie=s("./src/reddit/helpers/isCrosspost.ts"),ce=s("./src/reddit/helpers/postEvent.ts"),de=s("./src/reddit/selectors/experiments/pinnedPosts.ts"),le=s("./src/reddit/constants/experiments.ts"),me=s("./src/reddit/helpers/chooseVariant/index.ts"),pe=s("./src/reddit/helpers/getRichTextContent.ts");const ue=Object(a.a)(S.O,e=>e.some(pe.b)),he=Object(a.a)(ue,e=>e),be=(e,t)=>Object(me.b)(e,{experimentName:le.u,experimentEligibilitySelector:e=>{const s=t.listingKey;return!!s&&he(e,{listingKey:s})}});var ge=s("./src/reddit/selectors/postFlair.ts"),xe=s("./src/reddit/helpers/styles/mixins/index.m.less"),ve=s.n(xe),Ce=s("./src/reddit/components/LargePost/index.m.less"),Oe=s.n(Ce);s.d(t,"b",function(){return Pe});const fe=(e,t)=>{const s=t.listingKey;return s?Object(S.O)(e,{listingKey:s}):void 0},Ee=(e,t)=>{const s=t.listingKey;return s?Object(S.D)(e,{listingKey:s}):void 0},ye=Object(r.b)(()=>Object(a.c)({autoplayPref:T.b,activeModalId:f.a,currentUser:T.k,hideNSFWPref:T.B,flairStyleTemplate:oe.T,isCurrentUserProfilePost:S.g,isFrontpageHome:I.g,isInRemoveOcExperiment:j.a,isM2MHomeRedirectEnabled:E.c,language:T.T,isActive:S.f,isPostChainDismissed:P.c,isPostChained:P.d,moderatorPermissions:w.h,modModeEnabled:oe.R,pinnedPostVariant:de.c,poll:(e,t)=>{const s=e.posts.metaMap[t.postId];return s?e.polls.models[s]:null},pollResult:(e,t)=>{const s=e.posts.metaMap[t.postId];return s?e.polls.results.byVoters[s]:null},post:S.J,posts:fe,postCleanupVariant:y.e,postHeightVariant:be,postIds:Ee,showEditFlair:ge.a,subredditOrProfile:S.U,userIsOp:T.jb}),(e,{listingKey:t,listingName:s,postId:n})=>({chainPost:()=>{s&&t&&e(Object(h.d)({listingKey:t,listingName:s,postId:n}))},handleVote:t=>{const s=t===O.a.upvoted?Object(b.N)(n):Object(b.o)(n);e(s)},onIgnoreReports:()=>e(Object(b.L)(n)),onOpenReportsDropdown:t=>e(Object(g.e)({tooltipId:t}))})),je=(e,t)=>{const s=Date.now()-i.Wb;return!!(e&&t.created&&t.created<s)},Pe=(e,t,s=!1,n=!1,r=(()=>{}),a,i)=>{const c=`upvote-button-${e.id}`;return o.a.createElement(K.b,{isRemoved:!!e.bannedBy,isReported:Object(p.a)(e),isSponsored:e.isSponsored,redditStyle:i},s&&o.a.createElement(re.a,{isCheckboxSelected:n,toggleCheckbox:r}),o.a.createElement(se.a,{flairStyleTemplate:a,model:e,onVoteClick:t,redditStyle:i,upvoteTooltipId:c}))};t.a=ye(Object(ne.b)(e=>{const t=e.autoplayPref,s=e.availableWidth,n=e.chainPost,r=e.className,a=e.currentUser,i=e.eventFactory,p=e.flairStyleTemplate,h=e.forceLoadMedia,b=e.hideNSFWPref;var g=e.inSubredditOrProfile;const O=void 0!==g&&g,f=e.isCurrentUserProfilePost,E=e.isFrontpage,j=e.isFrontpageHome,P=e.isInRemoveOcExperiment,w=e.isM2MHomeRedirectEnabled,I=e.isOriginalPage,S=e.isOverlay,T=e.isPostChainDismissed,J=e.isPostChained,Y=e.language,Q=e.listingKey,X=e.listingName,se=e.moderatorPermissions,ne=e.modModeEnabled,oe=e.onClickPost,re=e.onIgnoreReports,me=e.onOpenReportsDropdown,pe=e.poll,ue=e.pollResult,he=e.post,be=e.postCleanupVariant,ge=e.postHeightVariant,xe=e.scrollerItemRef,Ce=e.showEditFlair,fe=e.subredditOrProfile,Ee=e.userIsOp,ye=!!e.redditStyle||!!e["data-redditstyle"],we=ye?void 0:p,Ie=Object(m.a)(se),Se=ne&&Ie,Te=Object(d.a)(se),ke=Object(l.a)(se),_e=Object(W.c)(he),Ne=!!he.media&&he.media.type===x.o.RTJSON,Le=Ee&&Ne,Me=s?s-K.a:void 0,Re=!!ue&&!!Object.keys(ue.options).filter(e=>ue.options[e].userSelected).length,Fe=!(E&&j),Be=!!be,Ae=Object(k.a)({[Oe.a.cleanup]:Be}),De=Object(y.c)(be)&&Object(y.b)(he),Ve=(e=>e===le.tb.OnlyTitles)(ge)&&!Object(ie.a)(he),We=(e=>e===le.tb.MediumHeight)(ge)&&!Object(ie.a)(he),He=(e=>{const t=e.pinnedPostVariant,s=e.post,n=e.postIds,o=e.posts,r=Object(de.a)(t),a=Object(de.b)(t);if(!r&&!a||!Object(C.i)(s))return;const i=je(a,s),c=r||i,d=n&&0===n.indexOf(s.id),l=n&&1===n.indexOf(s.id),m=o&&o[0],p=m&&je(a,m),u=c||l&&p,h=o&&o[1]&&Object(C.i)(o[1]),b=c&&d;return{hasTopCompactPostStyles:b&&h,hasBottomCompactPostStyles:c&&l||p&&l,hideStickiedTooltip:u,isCompactPinnedPost:c,showPinnnedHeader:b}})(e),Ue=o.a.createElement(z.a,{className:Object(k.a)(Oe.a.container,Ae,r,ve.a.largeAndMediumPostStyles,ve.a.largeAndMediumActiveStyles,Object(u.a)(e),{[ve.a.mUseRedditTheme]:ye,promotedvideolink:he.isSponsored&&!(he.media&&x.a.has(he.media.type)),[Oe.a.topCompactPost]:He&&He.hasTopCompactPostStyles,[Oe.a.bottomCompactPost]:He&&He.hasBottomCompactPostStyles}),style:Object(u.b)(e.flairStyleTemplate),post:he,onClick:oe,onPostContentClick:n,eventFactory:i},!be&&Pe(he,e.handleVote,e.showBulkActionCheckbox,e.isCheckboxSelected,e.toggleCheckbox,we,ye),o.a.createElement(H.a,{className:Object(k.a)(Oe.a.backgroundWrapper,{[Oe.a.isEvent]:Object(ce.a)(he)},Ae),flairStyleTemplate:we,post:he,redditStyle:ye,shouldDisplayBadge:Be},o.a.createElement(R.a,{post:he,language:Y}),He&&He.showPinnnedHeader&&o.a.createElement(Z,null),o.a.createElement(ee.a,{className:Object(k.a)(Oe.a.postTopLine,Ae),hideNSFWPref:b,iconClassName:Object(k.a)(Oe.a.postTopLineIcon,Ae),inSubredditOrProfile:O,isCompactPinnedPost:He&&He.hideStickiedTooltip,isCurrentUserProfilePost:f,isInRemoveOcExperiment:P,isOverlay:!!S,language:Y,post:he,postCleanupVariant:be,shouldShowAwards:!Be,shouldShowPostOverflow:Be,shouldShowSubscribeButton:Fe,showOCCategories:I,showSubreddit:!O&&!he.isSponsored,subredditOrProfile:fe}),o.a.createElement($.c,{className:Object(k.a)(Oe.a.postTitle,Ae),post:he,redditStyle:ye,size:$.b.Large,titleColor:we&&we.postTitleColor,isM2MHomeRedirectEnabled:w,isOverlay:S}),he.source&&!he.isSponsored&&!Be&&o.a.createElement(te.a,{className:Object(k.a)(Oe.a.sourceLink,Ae),post:he}),o.a.createElement("div",{className:Object(k.a)(Oe.a.postMediaWrapper,{[Oe.a.votedContent]:Re})},(!He||!He.isCompactPinnedPost)&&o.a.createElement(G.a,{isListing:!0,isMediumHeight:We,isNotCardView:!!S,isTitleOnly:Ve,showCentered:!0,flairStyleTemplate:we,post:he,postCleanupVariant:be,availableWidth:Me,shouldLoad:h,scrollerItemRef:xe,autoplayPref:t})),pe&&o.a.createElement(B.a,{className:Object(k.a)(Oe.a.proposal,{[Oe.a.hasNotVoted]:!ue||!Object(v.e)(pe,ue)}),pollId:pe.id,subredditId:he.belongsTo.id}),he.isMeta&&!pe&&o.a.createElement(A.a,{className:Oe.a.noProposal}),he.source&&he.source.url&&he.isSponsored&&o.a.createElement(_.a,{className:Oe.a.adLinkWrapper},o.a.createElement(ae.a,{href:he.source.url.replace(c.a.redditUrl,""),isSponsored:he.isSponsored,source:he.source},he.source.displayText),he.callToAction&&o.a.createElement(N.a,{href:he.source.url.replace(c.a.redditUrl,""),isSponsored:he.isSponsored,source:he.source},he.callToAction)),ne&&Ie&&_e&&o.a.createElement(V.a,{language:Y,onIgnoreReports:re,reportable:he}),o.a.createElement(D.d,{postId:he.id}),Be?o.a.createElement(U.a,{flairStyleTemplate:we,inSubredditOrProfile:O,isOverlay:!!S,onPostClick:oe,post:he,postCleanupVariant:be,showSource:Object(ie.a)(he)||De||!!he.source&&!he.isSponsored}):o.a.createElement("div",{className:Oe.a.flatListContainer},o.a.createElement(L.a,{className:Oe.a.horizontalVotes,compact:!1,flairStyleTemplate:we,model:he,onVoteClick:e.handleVote}),o.a.createElement(F.c,{currentUser:a,hasModFlairPerms:Te,hasModFullPerms:ke,hasModPostPerms:Ie,isOverlay:!!S,language:Y,modModeEnabled:ne,onIgnoreReports:re,onOpenReportsDropdown:me,post:he,showEditPost:Le,showEditFlair:Ce,useFlatlistBreakpoints:Object(q.h)({editPost:!Se,save:!Se,hide:!1,report:!1})}))));return o.a.createElement(o.a.Fragment,null,Ue,J&&!T&&o.a.createElement(M.a,{className:Oe.a.chain,listingKey:Q,listingName:X,postId:he.id}))}))},"./src/reddit/components/LargePost/placeholder.m.less":function(e,t,s){e.exports={content:"_1yYeg-XN7v7i06TrK8Lh13",emptyVerticalVotes:"_3Qm3gV6v4Y9YWuQgCqMvJr",emptyScore:"y9vamInQ4LrXndusvhkBl",topLine:"_3QuUl4wSXyqVEAkIgGaLXl",topMetaOne:"_3vDeGQp8VifbnDC95HagCL",topMetaTwo:"Nci_4K-inwrSvpM-HSgWy",title:"_1QxTngAAL4xURgv5RVNOq1",media:"_2cFr_UVzM0pQGvZVL2Pmx5",flatlist:"_33_7mRxP4egdr8CL9OMSdb",flatlistItemOne:"_EVV9UvUf3cYf-HtTUL33",flatListItemTwo:"_2Ovk4TwuzZDamFhAj_X5Nl"}},"./src/reddit/components/LinkOrOverlayLink/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-router-dom/es/index.js"),a=s("./src/reddit/controls/OverlayLink/index.tsx"),i=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};t.a=(e=>{const t=e.isOverlay,s=i(e,["isOverlay"]),n=t?a.a:r.a;return o.a.createElement(n,Object.assign({},s,{children:s.children,className:s.className,onClick:s.onClick,to:s.to}))})},"./src/reddit/components/ListingPostList/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/PostList/index.tsx"),o=s("./src/reddit/connectors/PostList/index.ts");t.a=Object(o.a)(n.a)},"./src/reddit/components/M2M/HomeUpsellBanner/index.m.less":function(e,t,s){e.exports={container:"_2G5of74buLKKF1dS4x6IoA",border:"_2YO0TITW9xRlNDao69MsiU",line:"_4bOmNzC1_4BRrPDxBbnAN",layout:"_3UIdLVrftJ71FXSaPhJyVS",image:"_3M1pfamWS8Lw2VXrgbavha",snoo:"_2sb-teu23AhOMfNAKC3qoa",text:"_2roBErbdJWIJXvS6s4p-yP",homeTitle:"_1IEpq4IWE2e9TLSs2mnm5V",homeDescription:"_2uW5PN5bw5INtwsywZCpVb",seeMore:"_9HPppEn9FG4g69hhXI0-U"}},"./src/reddit/components/M2M/SidebarPostFeed/index.m.less":function(e,t,s){e.exports={subredditTitle:"SyzlGcMiQQXEyjzU1jbX0",subredditLink:"_2e7tdHMEHAQEPE6vBnwScn",footer:"_1UmEMTtjhg9-uGRTGr_4Vt"}},"./src/reddit/components/MediumPost/index.m.less":function(e,t,s){e.exports={mainBody:"yn9v_hQEhjlRNZI0xspbA",modModeReports:"_3RpVs_MuohyWxfQ8DMI1hz",postTitle:"_2wImphGg_1LcEF5MiErvRx",cleanup:"_2YZLN634ExXdPJptEe2ukt",subscribeButton:"_2as7ZiIO6VQmOoNUm62veu",thumbnailContainer:"_17nmfaMf1Rq20sVfEmle0O",mShowingButtonOrOverflow:"yIt5UPS176eVebNGNRQtf",content:"_32pB7ODBwG3OSx1u_17g58",horizontalVotes:"_1Lt8O-wG_BSSv9bpz5gmwV",flatlistContainer:"XrvmOG7SxKlAJj71Fwi2y",backgroundWrapper:"_2uazWzYzM0Qndpz5tFu3EX",container:"_3xuFbFM3vrCqdGuKGhhhn0",postTopLine:"_19FXLmA1qUDe4wbcLaK7nC",postTopLineIcon:"_1P6vLQ3zq2X8yq_r3T0kSt",leftPadding:"i7Fs9tR9IvW9lWlOG_yrY",chain:"vLpzNkGe1yVXuRgtBVQWk",thumbnailContainerRow:"ly1p6kYBCM7ZqoRjGeAhw",postOverflow:"x4YOGJe9jA6wgzmbyKZK0",sourceLink:"_14UY4Nyj6iqO72F1Vg2goC",postSource:"_2BgmOVmNwratQ_mDI9DaHR"}},"./src/reddit/components/MediumPost/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return ae});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/config.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/actions/inFeedChaining.ts"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/actions/tooltip.ts"),p=s("./src/reddit/components/AdLinkWrapper/index.tsx"),u=s("./src/reddit/components/CallToActionButton/index.tsx"),h=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),b=s("./src/reddit/components/DiscoveryUnit/InFeedChaining/Loader.tsx"),g=s("./src/reddit/components/FlairWrapper/index.tsx"),x=s("./src/reddit/components/Flatlist/index.tsx"),v=s("./src/reddit/components/JSAPIContainers/index.tsx"),C=s("./src/reddit/components/LargePost/index.tsx"),O=s("./src/reddit/components/ModModeReports/index.tsx"),f=s("./src/reddit/components/ModModeReports/helpers.ts"),E=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),y=s("./src/reddit/components/PostCleanup/PostFooter/index.tsx"),j=s("./src/reddit/components/PostCleanup/PostOverflowButton/index.tsx"),P=s("./src/reddit/components/PostCleanup/PostSource/index.tsx"),w=s("./src/reddit/components/PostContainer/index.tsx"),I=s("./src/reddit/components/PostOverflowMenu/index.tsx"),S=s("./src/reddit/components/PostTitle/index.tsx"),T=s("./src/reddit/components/PostTopLine/index.tsx"),k=s("./src/reddit/components/PostTopMeta/index.tsx"),_=s("./src/reddit/components/SourceLink/index.tsx"),N=s("./src/reddit/components/SubscribeButton/Inline.tsx"),L=s("./src/reddit/components/Thumbnail/index.tsx"),M=s("./src/reddit/constants/posts.ts"),R=s("./src/reddit/contexts/InsideOverlay.tsx"),F=s("./src/reddit/contexts/PageLayer/index.tsx"),B=s("./src/reddit/controls/OutboundLink/styled.tsx"),A=s("./src/reddit/helpers/canRenderThumbnail.ts"),D=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),V=s("./src/reddit/helpers/hasModFullPermissions/index.ts"),W=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),H=s("./src/reddit/helpers/styles/mixins/index.tsx"),U=s("./src/reddit/helpers/trackers/post.ts"),z=s("./src/reddit/models/Subreddit/index.ts"),K=s("./src/reddit/models/Vote/index.ts"),G=s("./src/reddit/selectors/experiments/categories.ts"),q=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),J=s("./src/reddit/selectors/experiments/postCleanup.ts"),Y=s("./src/reddit/selectors/experiments/removeOc.ts"),Q=s("./src/reddit/selectors/inFeedChaining.ts"),X=s("./src/reddit/selectors/moderatorPermissions.ts"),Z=s("./src/reddit/selectors/monthsToMinutes.ts"),$=s("./src/reddit/selectors/postFlair.ts"),ee=s("./src/reddit/selectors/posts.ts"),te=s("./src/reddit/selectors/user.ts"),se=s("./src/reddit/helpers/styles/mixins/index.m.less"),ne=s.n(se),oe=s("./src/reddit/components/MediumPost/index.m.less"),re=s.n(oe);const ae=({crosspost:e,post:t,forceShowNSFW:s,isOverlay:n,redditStyle:r,shouldShowPostOverflow:a,shouldShowSubscribeButton:i,subredditOrProfile:d,templatePlaceholderImage:l})=>o.a.createElement("div",{className:Object(c.a)(re.a.thumbnailContainer,{[re.a.cleanup]:!!a,[re.a.mShowingButtonOrOverflow]:a||i})},o.a.createElement("div",{className:re.a.thumbnailContainerRow},i&&d&&o.a.createElement(N.a,{className:re.a.subscribeButton,getEventFactory:e=>Object(U.d)(t.id,e?"unsubscribe":"subscribe"),identifier:{name:d.name,type:Object(z.c)(d)?M.a.PROFILE:M.a.SUBREDDIT},postId:t.id}),a&&o.a.createElement(j.a,{className:re.a.postOverflow,isOverlay:n,post:t})),o.a.createElement(L.a,{crosspost:e,post:t,redditStyle:r,forceShowNSFW:s,templatePlaceholderImage:l})),ie=Object(r.b)(()=>Object(a.c)({crosspost:ee.c,currentUser:te.k,flairStyleTemplate:F.T,hideNSFWPref:te.B,isActive:ee.f,isCurrentUserProfilePost:ee.g,isFrontpageHome:Z.g,isInRemoveOcExperiment:Y.a,isM2MHomeRedirectEnabled:q.c,isPostChainDismissed:Q.c,isPostChained:Q.d,language:te.T,moderatorPermissions:X.h,modModeEnabled:F.R,post:ee.J,postCleanupVariant:J.e,showEditFlair:$.a,showMedia:F.t,isInCategoriesExperiment:G.a,subredditOrProfile:ee.U}),(e,{listingKey:t,listingName:s,postId:n})=>({chainPost:()=>{s&&t&&e(Object(d.d)({listingKey:t,listingName:s,postId:n}))},handleVote:t=>t===K.a.upvoted?e(Object(l.N)(n)):e(Object(l.o)(n)),onIgnoreReports:()=>e(Object(l.L)(n)),onOpenReportsDropdown:t=>e(Object(m.e)({tooltipId:t}))}));t.b=ie(Object(R.b)(e=>{const t=e.chainPost,s=e.className,n=e.crosspost,r=e.currentUser,a=e.eventFactory,d=e.flairStyleTemplate,l=e.hideNSFWPref;var m=e.inSubredditOrProfile;const j=void 0!==m&&m,N=e.isCheckboxSelected,L=e.isCommentsPage,M=e.isCurrentUserProfilePost,R=e.isFrontpage,F=e.isFrontpageHome,U=e.isInRemoveOcExperiment,z=e.isM2MHomeRedirectEnabled,K=e.isOriginalPage,G=e.isOverlay,q=e.isPostChainDismissed,J=e.isPostChained,Y=e.language,Q=e.listingKey,X=e.listingName,Z=e.moderatorPermissions,$=e.modModeEnabled,ee=e.onClickPost,te=e.onIgnoreReports,se=e.onOpenReportsDropdown,oe=e.post,ie=e.postCleanupVariant,ce=e.redditStyle,de=e.showBulkActionCheckbox,le=e.showEditFlair,me=e.showMedia,pe=e.sendEvent,ue=e.subredditOrProfile,he=e.toggleCheckbox,be=ce?void 0:d,ge=Object(W.a)(Z),xe=$&&ge,ve=Object(D.a)(Z),Ce=Object(V.a)(Z),Oe=Object(f.c)(oe),fe=Object(A.a)(oe),Ee=j&&!me,ye=Ee&&!!oe.source&&!n,je=!(R&&F||M),Pe=!!ie,we=Object(c.a)({[re.a.cleanup]:Pe}),Ie=o.a.createElement(w.a,{className:Object(c.a)(re.a.container,we,s,ne.a.largeAndMediumPostStyles,ne.a.largeAndMediumActiveStyles,Object(H.a)(e),{[ne.a.mUseRedditTheme]:e.redditStyle||e["data-redditstyle"]}),style:Object(H.b)(e.flairStyleTemplate),post:oe,onClick:ee,onPostContentClick:t,eventFactory:a},!ie&&Object(C.b)(oe,e.handleVote,de,N,he,be,ce),o.a.createElement(E.a,{className:Object(c.a)(re.a.backgroundWrapper,we),flairStyleTemplate:be,post:oe,redditStyle:ce,shouldDisplayBadge:Pe},o.a.createElement("article",{className:re.a.mainBody},o.a.createElement("div",{className:re.a.content,"data-click-id":"body"},o.a.createElement(T.a,{className:Object(c.a)(re.a.postTopLine,we),hideNSFWPref:l,iconClassName:Object(c.a)(re.a.postTopLineIcon,we),inSubredditOrProfile:j,isCurrentUserProfilePost:M,isInRemoveOcExperiment:U,isOverlay:!!G,language:Y,post:oe,postCleanupVariant:ie,shouldShowAwards:!Pe,shouldShowPostOverflow:Pe&&Ee,shouldShowSubscribeButton:!1,showCornerOutboundLink:ye,showOCCategories:K,showSubreddit:!j&&!oe.isSponsored,subredditOrProfile:ue}),o.a.createElement(S.c,{className:Object(c.a)(re.a.postTitle,we),post:oe,redditStyle:ce,size:S.b.Large,titleColor:be&&be.postTitleColor,isM2MHomeRedirectEnabled:z,isOverlay:G}),L&&(oe.flair&&oe.flair.length>0||e.isInCategoriesExperiment)&&o.a.createElement(g.a,{className:L?re.a.leftPadding:null,disableFlair:!L,post:oe,sendEvent:pe,showCategoryTag:e.isInCategoriesExperiment&&L}),oe.source&&!oe.isSponsored&&!n&&(Pe?o.a.createElement(P.a,{className:re.a.postSource,inSubredditOrProfile:j,post:oe}):o.a.createElement(_.a,{className:Object(c.a)(re.a.sourceLink,we),isCommentsPage:L,post:oe}))),!Ee&&fe&&o.a.createElement(ae,{crosspost:n?oe:void 0,isOverlay:G,post:n||oe,redditStyle:ce,shouldShowPostOverflow:Pe,shouldShowSubscribeButton:je&&!j,subredditOrProfile:ue,templatePlaceholderImage:be&&be.postPlaceholderImage})),oe.source&&oe.source.url&&oe.isSponsored&&o.a.createElement(p.a,null,o.a.createElement(B.a,{href:oe.source.url.replace(i.a.redditUrl,""),isSponsored:oe.isSponsored,source:oe.source},oe.source.displayText),oe.callToAction&&o.a.createElement(u.a,{href:oe.source.url.replace(i.a.redditUrl,""),isSponsored:oe.isSponsored,source:oe.source,isNotCardView:!0},oe.callToAction)),$&&ge&&Oe&&o.a.createElement(O.a,{className:re.a.modModeReports,language:Y,onIgnoreReports:te,reportable:oe}),o.a.createElement(v.d,{postId:oe.id}),Pe?o.a.createElement(y.a,{flairStyleTemplate:be,inSubredditOrProfile:j,isOverlay:!!G,onPostClick:ee,post:oe,postCleanupVariant:ie}):o.a.createElement("div",{className:re.a.flatlistContainer},o.a.createElement(h.a,{className:re.a.horizontalVotes,compact:!1,flairStyleTemplate:be,redditStyle:ce,model:oe,onVoteClick:e.handleVote}),o.a.createElement(x.c,{currentUser:r,hasModFlairPerms:ve,hasModFullPerms:Ce,hasModPostPerms:ge,isOverlay:!!G,language:Y,modModeEnabled:$,onIgnoreReports:te,onOpenReportsDropdown:se,post:oe,showEditFlair:le,tooltipType:G?k.c.Lightbox:void 0,useFlatlistBreakpoints:Object(I.h)({editPost:!xe,save:!xe,hide:!1,report:!1})}))));return o.a.createElement(o.a.Fragment,null,Ie,J&&!q&&o.a.createElement(b.a,{className:re.a.chain,listingKey:Q,listingName:X,postId:oe.id}))}))},"./src/reddit/components/MiniCardPost/Flatlist/index.m.less":function(e,t,s){e.exports={flatlistContainer:"_3TV1zxvLEbF8phHfZ17hyU",shareIcon:"_2-No1ECt3Twm8oRh3GhL5T",shareMenu:"_1Y9kO8WxKheHpQbgAgYk9P",shareText:"_3ZNfZZMmSFZUWWm-nHK327",HorizontalVotes:"c9IwhuiqPbgYHi-fLlAUH",horizontalVotes:"c9IwhuiqPbgYHi-fLlAUH",score:"_3O9hIPB_M3zadlrD7rXaEG",ShareButton:"_3VIaRwebVBflQjPct1Wz6l",shareButton:"_3VIaRwebVBflQjPct1Wz6l"}},"./src/reddit/components/MiniCardPost/MetaLine/index.m.less":function(e,t,s){e.exports={container:"_35Bx3s8VlFspHwPlg1MaHt",subredditNameLink:"_20yDd2SHTuiJkQnTV4zehJ",subredditIcon:"_32Ni_aGBoPzRxNSy5eC_ck",CrosspostIcon:"y4hzYjyQqdKpwuDyNnLeW",crosspostIcon:"y4hzYjyQqdKpwuDyNnLeW"}},"./src/reddit/components/MiniCardPost/MetaLine/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/config.ts"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/components/QuarantinedLabel/index.tsx"),d=s("./src/reddit/components/SubredditIcon/index.tsx"),l=s("./src/reddit/components/SubredditNameLink/index.tsx"),m=s("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),p=s("./src/reddit/helpers/name/index.ts"),u=s("./src/reddit/icons/fonts/Crosspost/index.tsx"),h=s("./src/reddit/components/MiniCardPost/MetaLine/index.m.less"),b=s.n(h);const g=s("./src/lib/lessComponent.tsx").a.wrapped(u.a,"CrosspostIcon",b.a);t.a=(e=>{const t=e.className,s=e.crosspostSubredditOrProfile,n=e.hideNSFWPref,u=e.language,h=e.post,x=e.subredditOrProfile,v=Object(m.a)({subredditOrProfile:x}),C=x&&x.isNSFW&&n&&"user"===x.type?`${a.a.assetPath}/img/avatar_over18.png`:v.url;return o.a.createElement("div",{className:Object(i.a)(b.a.container,t)},o.a.createElement(l.a,{className:b.a.subredditNameLink,onMouseDown:e.onCommunityClick,to:x.url},o.a.createElement(d.b,{className:b.a.subredditIcon,primaryColor:v.color,iconUrl:C}),o.a.createElement("span",null,x.displayText)),((e,t,s)=>{if(s)return o.a.createElement("div",{role:"img","aria-label":Object(r.a)(e,"posts.crosspostedByFrom",{by:Object(p.c)(t),from:s.displayText})},o.a.createElement(g,null))})(u,h.author,s),x&&x.isQuarantined&&o.a.createElement(c.a,null))})},"./src/reddit/components/MiniCardPost/Placeholder/index.m.less":function(e,t,s){e.exports={container:"qxO-jkRl1-0EUFMSW12Wx",thumbnail:"_10app6y4qukOnb1vd3WjaL",content:"Dmp1nT-wBa1YnTs1m5Qh-",titleContainer:"_3zDhT2pkq9c_2I1Wc0TC7W",title:"_1baTc1hWul6JGRus85W_n9",subreddit:"_1QAmOEgKAW-xepM1iAQ1vt",subredditIcon:"_2kjKnQFVUV8rujMRQ0FJcM",subredditName:"_1gWkHloK0RuxI3PqEBqAlk",comments:"_3Se1TreUiuh_QYZKmggj-E",share:"_1auh4Ct-kA4za4GqRMTChm",ellipsis:"_3KZqW8v85dlRDNmHXcrU5X",emptyScore:"_1vYoQQMevPpZ7Szpl9imM",emptyVotes:"zNcTz0MkZAJvitPlo_eI7"}},"./src/reddit/components/MiniCardPost/Thumbnail/index.m.less":function(e,t,s){e.exports={container:"_1HoOlmppFDBC4s5XWY-Qcd",thumbnail:"_1XZerRCUnHmbtEN1gqPwnw",thumbnailContainer:"_3fS9xUAmm4zWkzfM1ce7Jk",thumbnailLinkIcon:"_2JCMpuchwaEmL9S0QsJ9Ok",thumbnailLinkText:"_2vJWD7kgxbAQRGL328NxHg",thumbnailOutboundLinkIcon:"_4GTpE-l9TNXVeix3ZOE-_"}},"./src/reddit/components/MiniCardPost/Thumbnail/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/Thumbnail/index.tsx"),i=s("./src/reddit/components/MiniCardPost/Thumbnail/index.m.less"),c=s.n(i);t.a=(e=>{const t=e.post.source;return o.a.createElement("div",{className:Object(r.a)(c.a.container,e.className)},o.a.createElement(a.a,{className:Object(r.a)(c.a.thumbnail,e.thumbnailClassName),containerClassName:Object(r.a)(c.a.thumbnailContainer,e.thumbnailContainerClassName),linkIconClassName:Object(r.a)(c.a.thumbnailLinkIcon,e.thumbnailLinkIconClassName),linkTextClassName:c.a.thumbnailLinkText,outboundLinkIconClassName:c.a.thumbnailOutboundLinkIcon,post:e.post,showContentType:e.showPlaceholderContentType,templatePlaceholderImage:e.templatePlaceholderImage,text:t?t.url:"",usePreview:e.usePreview}))})},"./src/reddit/components/MiniCardPost/index.m.less":function(e,t,s){e.exports={flexSpacer:"_3FMwep96W9D-wkC9u2Pc0L",backgroundWrapper:"_2yVioz8mzc0YBV2JyNXzRj",innerContainer:"_3mrITcnODXcvMf9oonBXeD",metaLine:"_20xUo-97VDWkydk8rn74dR",media:"_1qlC_L_v_Aher9NBsvBIMR",mediaWrapper:"_1UmG626eNsebZt_eyKdDL4",postTitleCompact:"_3wSK3_gZiuaUZtqPKu9z3M",mediaImageBox:"Xqhz61TRPUo_ek11O2hcV",mediaImageBoxContentImage:"_2t6Z9GgOnrWn2b5Ndv_T5K",postContainer:"_3Ud8ZDEFc0kXFg6R9KhDPS"}},"./src/reddit/components/MiniCardPost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/lib/isUrl/index.ts"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/actions/postFlair.ts"),p=s("./src/reddit/actions/tooltip.ts"),u=s("./src/reddit/components/JSAPIContainers/index.tsx"),h=s("./src/reddit/components/Media/index.tsx"),b=s("./src/reddit/components/PostBackgroundWrapper/index.tsx"),g=s("./src/reddit/components/PostContainer/index.tsx"),x=s("./src/reddit/components/PostFlairPicker/index.tsx"),v=s("./src/reddit/components/PostTitle/index.tsx"),C=s("./src/reddit/contexts/PageLayer/index.tsx"),O=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),f=s("./src/reddit/helpers/hasModFullPermissions/index.ts"),E=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),y=s("./src/reddit/helpers/styles/mixins/index.tsx"),j=s("./src/reddit/models/Media/index.ts"),P=s("./src/reddit/models/Vote/index.ts"),w=s("./src/reddit/selectors/activeModalId.ts"),I=s("./src/reddit/selectors/moderatorPermissions.ts"),S=s("./src/reddit/selectors/postFlair.ts"),T=s("./src/reddit/selectors/posts.ts"),k=s("./src/reddit/selectors/user.ts"),_=s("./src/reddit/components/CommentsLink/index.tsx"),N=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),L=s("./src/reddit/components/Flatlist/index.tsx"),M=s("./src/reddit/components/ModActionsMenu/index.tsx"),R=s("./src/reddit/components/PostModModeDropdown/index.tsx"),F=s("./src/reddit/components/PostOverflowMenu/index.tsx"),B=s("./src/reddit/components/ShareMenu/index.tsx"),A=s("./src/reddit/components/TrackingHelper/index.tsx"),D=s("./src/reddit/constants/postLayout.ts"),V=s("./src/reddit/helpers/trackers/post.ts"),W=s("./src/reddit/i18n/components.tsx"),H=s("./src/reddit/icons/fonts/Share/index.tsx"),U=s("./src/reddit/models/User/index.ts"),z=s("./src/reddit/components/MiniCardPost/Flatlist/index.m.less"),K=s.n(z),G=s("./src/lib/lessComponent.tsx");const q="-MiniCardModMenu",J="-MiniCardOverflowMenu",Y="-MiniCardShareMenu",Q=G.a.wrapped(N.a,"HorizontalVotes",K.a),X=G.a.button("ShareButton",K.a),Z=Object(C.w)({currentProfileName:C.j,isCommentPermalink:C.y,isCommentsPage:C.z,isProfilePostListing:C.M,pageLayer:e=>e}),$=Object(a.c)({layout:C.P,subreddit:C.s});var ee=Z(Object(r.b)($,{})(Object(A.b)(e=>{const t=e.currentProfileName,s=e.className,n=e.currentUser,r=e.handleVote,a=e.hasModFlairPerms,c=e.hasModFullPerms,d=e.hasModPostPerms,l=e.isCommentsPage,m=e.isCommentPermalink,p=e.isOverlay,u=e.isProfilePostListing,h=e.isSticky,b=e.language,g=e.layout,x=e.modModeEnabled,v=e.onCommentsClick,C=e.post,O=e.sendEvent,f=e.showEditFlair,E=e.showEditPost,y=e.subreddit,j=e=>O(Object(V.d)(C.id,e)),P=C.postId,w=Object(L.d)(q,C.id,p,h),I=!!n&&Object(U.f)(n)===C.author;return o.a.createElement("div",{className:Object(i.a)(K.a.flatlistContainer,s)},o.a.createElement(Q,{compact:!1,model:C,onVoteClick:r,scoreClassName:K.a.score}),o.a.createElement(_.a,{hasModPostPerms:d,isCommentsPage:l,isCommentPermalink:m,isOverlay:p,postId:C.id,modModeEnabled:x,numComments:C.numComments,type:D.f.Compact,onClick:v}),o.a.createElement(B.a,{className:K.a.shareMenu,dropdownId:Object(L.d)(Y,C.id,p,h),permalink:C.permalink,post:C,sendEventWithName:j,subreddit:y},o.a.createElement(X,null,o.a.createElement(H.a,{className:K.a.shareIcon}),o.a.createElement("span",{className:K.a.shareText},o.a.createElement(W.c,null,"share")))),d&&o.a.createElement(M.a,{dropdownId:w,onClick:()=>j("post_mod_action_menu")},o.a.createElement(L.b,{className:K.a.modActionsIcon}),o.a.createElement(R.a,{canEditFlair:a&&!!f,hasModPostPerms:d,hasModFullPerms:c,isOverlay:!!p,isPostAuthor:I,language:b,modModeEnabled:x,post:C,tooltipId:w})),o.a.createElement(F.g,{currentProfileName:t,isCommentsPage:l,isOverlay:!!p,isProfilePostListing:u,layout:g,pageLayer:e.pageLayer,permalink:C.permalink,postId:P,dropdownId:Object(L.d)(J,C.id,p,h),isFixed:h,sendEvent:O,showEditPost:!!E,showEditFlair:!!f,useFlatlistBreakpoints:Object(F.h)({editPost:!1,save:!1,hide:!1,report:!1})}))}))),te=s("./src/reddit/components/MiniCardPost/MetaLine/index.tsx"),se=s("./src/reddit/components/MiniCardPost/Thumbnail/index.tsx"),ne=s("./src/reddit/helpers/styles/mixins/index.m.less"),oe=s.n(ne),re=s("./src/reddit/components/MiniCardPost/index.m.less"),ae=s.n(re);s.d(t,"a",function(){return ce});const ie=Object(C.w)(),ce=Object(r.b)(()=>Object(a.c)({activeModalId:w.a,autoplayPref:k.b,crosspostRoot:T.c,crosspostSubredditOrProfile:T.d,currentUser:k.k,flairStyleTemplate:C.T,hideNSFWPref:k.B,isActive:T.f,language:k.T,moderatorPermissions:I.h,modModeEnabled:C.R,post:T.J,showEditFlair:S.a,subredditOrProfile:T.U,userIsOp:k.jb}),(e,{postId:t})=>({dispatchFlairChanged:({post:t,previewFlair:s,selectedTemplateId:n})=>e(Object(m.h)({post:t,previewFlair:s,selectedTemplateId:n})),handleVote:s=>{const n=s===P.a.upvoted?Object(l.N)(t):Object(l.o)(t);e(n)},onIgnoreReports:()=>e(Object(l.L)(t)),onOpenReportsDropdown:t=>e(Object(p.e)({tooltipId:t}))}),(e,t,s)=>Object.assign({},s,e,t,{onFlairChanged:({previewFlair:s,selectedTemplateId:n})=>t.dispatchFlairChanged({post:e.post,previewFlair:s,selectedTemplateId:n})}));t.b=ie(ce(Object(c.a)(e=>{const t=e.autoplayPref,s=e.availableWidth,n=e.className,r=e.crosspostRoot,a=e.crosspostSubredditOrProfile,c=e.currentUser,l=e.eventFactory,m=e.flairStyleTemplate,p=e.forceLoadMedia,C=e.hideNSFWPref,P=e.language,w=e.moderatorPermissions,I=e.modModeEnabled,S=e.onClickPost,T=e.post,k=e.scrollerItemRef,_=e.shouldPause;var N=e.showMetaLine;const L=void 0===N||N,M=e.showEditFlair,R=e.subredditOrProfile,F=e.userIsOp;const B=(r||T).media,A=B&&B.type,D=Object(x.b)(T.id),V=A===j.o.RTJSON,W=F&&V,H=Object(E.a)(w),U=Object(O.a)(w),z=Object(f.a)(w),K=B&&A!==j.o.RTJSON&&A!==j.o.TEXT,G=!B&&!!T.source&&Object(d.a)(T.source.url),q=B&&o.a.createElement(h.a,{autoplayPref:t,availableWidth:s,className:ae.a.media,imageBoxClassName:ae.a.mediaImageBox,imageBoxContentImageClassName:ae.a.mediaImageBoxContentImage,forceAspectRatio:j.c,isListing:!0,isMiniCard:!0,isNotCardView:!0,post:r||T,scrollerItemRef:k,shouldPause:_,shouldLoad:p,showCentered:!0,showFull:!1});return o.a.createElement(g.a,{className:Object(i.a)(ae.a.postContainer,oe.a.largeAndMediumActiveStyles,oe.a.largeAndMediumPostStyles,Object(y.a)(e),n),style:Object.assign({},Object(y.b)(e.flairStyleTemplate),Object(y.d)(e)),post:T,onClick:S,eventFactory:l},o.a.createElement(b.a,{className:ae.a.backgroundWrapper,flairStyleTemplate:m},K&&q,o.a.createElement("div",{className:ae.a.innerContainer},G&&o.a.createElement(se.a,{post:T,templatePlaceholderImage:m?m.postPlaceholderImage:void 0}),o.a.createElement(v.c,{className:ae.a.postTitleCompact,disableFlair:!0,hideSourceLink:!0,post:T,size:v.b.Large,titleColor:m&&m.postTitleColor}),L&&R&&o.a.createElement(te.a,{className:ae.a.metaLine,crosspostSubredditOrProfile:a,hideNSFWPref:C,language:P,post:T,subredditOrProfile:R}),!K&&o.a.createElement("div",{className:ae.a.mediaWrapper},q),o.a.createElement("div",{className:ae.a.flexSpacer}),o.a.createElement(ee,{currentUser:c,handleVote:e.handleVote,hasModFlairPerms:U,hasModFullPerms:z,hasModPostPerms:H,language:P,modModeEnabled:I,post:T,showEditFlair:M,showEditPost:W}))),e.activeModalId===D&&o.a.createElement(x.a,{flairs:T.flair,subredditId:T.belongsTo.id,language:P,modalId:D,onFlairChanged:e.onFlairChanged}),o.a.createElement(u.d,{postId:T.id}))})))},"./src/reddit/components/MiniPost/Placeholder.m.less":function(e,t,s){e.exports={mainBody:"_1iWtuuUHkBngUkXCzQxRWr",content:"_3Bt7SHL8LO7QbB1nW5iupq",thumbnailContainer:"_297BVYpcD81QhoAq3WuGUu",thumbnail:"zG5njkykLlmCac7gbMihR",title:"_1mvDLlwr_OvF5KQt7O2146",meta:"kn1-9VJceNYTm1pd1lbhz",flatlist:"_3gYuesxVXigdPTpt771UTv",flatlistExpando:"_2l4TUT_829DNf_UrOvIqYr",flatlistSeparator:"_2_zfU16O2oGHCYGfo_9sHm",flatlistItemOne:"_2Q82wp6g3AwabUkfge537x",flatlistItemTwo:"_2VsXwRSxFEdjjedoryiCNh"}},"./src/reddit/components/MiniPost/index.m.less":function(e,t,s){e.exports={container:"_3fWuhJ6bVet7XJT5A0mZM2",title:"_2uR1aBUWmKIo8Fcg-D7bPi",thumbnailContainer:"tN3XUE_42h_qcAw7KSnlh",postDetails:"_2mURCICbBWv1kFMX2GPzA_",subAndMeta:"_3GMQrxl5pvXDUEFvUjr9Qh",isSingleLine:"dZATEZTPQCHPtvhujPV0L",separator:"_2q6RJ3jSwGkeuWcg6aU-nY",meta:"KoclPkialOte6pOEsb4vx"}},"./src/reddit/components/MiniPost/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/prettyPrintNumber/index.ts"),l=s("./src/lib/timeAgo/index.ts"),m=s("./src/reddit/components/SubredditNameLink/index.tsx"),p=s("./src/reddit/components/Thumbnail/index.tsx"),u=s("./src/reddit/helpers/overlay/index.ts"),h=s("./src/reddit/selectors/posts.ts"),b=s("./src/reddit/selectors/subreddit.ts"),g=s("./src/reddit/selectors/user.ts"),x=s("./src/reddit/components/MiniPost/index.m.less"),v=s.n(x);const C=Object(a.a)(e=>e,h.J,h.c,g.T,(e,t,s,n)=>{return{crosspost:s,language:n,post:t,subredditOrProfile:Object(b.S)(e,{identifier:t.belongsTo})}}),O=Object(r.b)(C,(e,t)=>({openLightbox:t=>e(Object(u.a)(t.permalink))}));t.a=O(class extends o.a.PureComponent{constructor(){super(...arguments),this.onClickContainer=(()=>{var e=this.props;const t=e.containerOnClick,s=e.openLightbox,n=e.openLinksNewTab,o=e.post;n?window.open(o.permalink):s(o),t&&t()}),this.onClickSubreddit=(e=>{var t=this.props;const s=t.openLinksNewTab,n=t.subredditOnClick,o=t.subredditOrProfile;e.stopPropagation(),s&&o&&(e.preventDefault(),window.open(o.url)),n&&n()}),this.onClickThumbnail=(e=>{const t=this.props.thumbnailOnClick;e.stopPropagation(),t&&t()})}render(){var e=this.props;const t=e.className,s=e.post;var n=e.showSubreddit;const r=void 0!==n&&n,a=e.subredditOrProfile,u=e.subredditSameLine;return o.a.createElement("div",{className:Object(c.a)(v.a.container,t),onClick:this.onClickContainer},o.a.createElement("div",{className:v.a.thumbnailContainer,onClick:this.onClickThumbnail},o.a.createElement(p.a,{post:s})),o.a.createElement("div",{className:v.a.postDetails},o.a.createElement("p",{className:v.a.title,title:s.title},s.title),o.a.createElement("div",{className:Object(c.a)(v.a.subAndMeta,{[v.a.isSingleLine]:u})},r&&a&&a.displayText&&o.a.createElement(m.a,{to:a.url,onClick:this.onClickSubreddit},a.displayText),u&&o.a.createElement("div",{className:v.a.separator}),o.a.createElement("div",null,o.a.createElement("span",{className:v.a.meta},Object(i.c)(this.props.language,"posts.points.noun",s.score,{count:Object(d.b)(s.score)})),o.a.createElement("span",{className:v.a.meta},Object(i.c)(this.props.language,"posts.comments.noun",s.numComments,{count:Object(d.b)(s.numComments)})),o.a.createElement("span",{className:v.a.meta},Object(l.b)(this.props.language,s.created/1e3,!0,!0))))))}})},"./src/reddit/components/ModModeReports/index.m.less":function(e,t,s){e.exports={Text:"_1gNngyeM0l7oKkuGjoSTm",text:"_1gNngyeM0l7oKkuGjoSTm",Placeholder:"_1oYW-msczpGlYVcXmyEu9j",placeholder:"_1oYW-msczpGlYVcXmyEu9j"}},"./src/reddit/components/ModModeReports/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/makeAsync.tsx"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/lib/loadWithRetries/index.ts"),c=s("./src/reddit/i18n/components.tsx"),d=s("./src/reddit/components/ModModeReports/index.m.less"),l=s.n(d);const m=a.a.div("Text",l.a),p=a.a.div("Placeholder",l.a),u=Object(r.a)({ErrorComponent:({className:e})=>o.a.createElement(p,{className:e}),getComponent:()=>Object(i.a)(()=>s.e("ModerationDropdowns").then(s.bind(null,"./src/reddit/components/ModModeReports/_ModModeReports.tsx")).then(e=>e.default)),LoadingComponent:({className:e})=>o.a.createElement(p,{className:e},o.a.createElement(m,null,o.a.createElement(c.c,null,"Loading reports…")))});t.a=(e=>o.a.createElement(u,Object.assign({},e)))},"./src/reddit/components/NativeBannerAd/index.m.less":function(e,t,s){e.exports={BannerAdImage:"tk5Gqiw2uQ1xL-VWicKBG",bannerAdImage:"tk5Gqiw2uQ1xL-VWicKBG"}},"./src/reddit/components/Poll/ClosedPoll/index.m.less":function(e,t,s){e.exports={metaData:"_3NpICHyFK-vnQ5_1ZcNtNn",option:"_1YnhQ_-VBuRiYmNRfa798"}},"./src/reddit/components/Poll/OpenPoll/index.m.less":function(e,t,s){e.exports={buttonContainer:"_3vyz17dpfnySBJJyBF9IqH",loggedOutTooltip:"_3YsZUGQHAWfxmTN8wbFYPd",controlRow:"_1YKCRAHpaqTk8N5LBvZ9_A",loadingIcon:"_2RQF5_CKHRDPDOJ-TwwXFy",metaData:"_28wp7DzoykykevfZW56u3_",option:"_3nN8pAR2tWvzxcstONuzMH",optionRadio:"_1d_v-dIPu8uuwF0UTaQNmF",optionText:"_3grr_S6IK0w2iyC7Ocv5u9"}},"./src/reddit/components/Poll/ResultOption/index.m.less":function(e,t,s){e.exports={bar:"_2mybT6Ih7gVf5B6COa9kd2","m-winning":"_1kOO45KEOZraWGZ-cUgKq-",mWinning:"_1kOO45KEOZraWGZ-cUgKq-",check:"_3CF-7jBH1KihljB9AqaU04",container:"_3uG88YeFdY0J8n4v07jkf9",count:"_1VDLlB8Ys3WO8XWSZfhomw",percent:"_1Ot3PH7267obvD1i_V2D00",hide:"_3G6ZB4S9YZ26E49tE8zLJQ",show:"iV9AWdqazd5c9IHXNEQXX",text:"_3PfYu2DtunAwYpv53tmvOb"}},"./src/reddit/components/Poll/index.m.less":function(e,t,s){e.exports={title:"_3xG1v2CUdyxRoHrB7dgiFw"}},"./src/reddit/components/PostBadges/index.m.less":function(e,t,s){e.exports={icon:"_3vju76MdF2FaGmELBeiJ_r",approveIcon:"_1knR9NIIXdSFC9IeFN11JL",automoderator:"_2etEb_0bRB9axAqF3uX28S",lockIcon:"_3wTfn3Meg1rXJ-qd2jUWMt",modIcon:"_SMl46gACTEszA_4A0Qfs",removeIcon:"_3yuF1RnBRJL4OS_STsoXcC",reportIcon:"_3guZWUAROueft8TPPGDZ-R",spamIcon:"_2BWw37nLL0rX6n7xcXciyD",stickyIcon:"NI8uZ-19oHf9gPO8jOvFu",isRemoved:"_27iLVqax1FuPWTymkSkKAq",archivedIcon:"_2WSiH2JwZq4bXuvrDn-cgU",addRemovalReason:"COGitU-ItwLZG_fP5rsdE",removalReason:"_16Ih3bzeELRlI6AWeW-nFy"}},"./src/reddit/components/PostBadges/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./src/reddit/i18n/components.tsx"),i=s("./src/reddit/i18n/utils.ts"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/app/strings/index.ts"),l=s("./src/lib/classNames/index.ts"),m=s("./src/lib/constants/index.ts"),p=s("./src/reddit/actions/removalReasons/index.ts"),u=s("./src/reddit/actions/tooltip.ts"),h=s("./src/reddit/components/InfoTextTooltip/index.tsx"),b=s("./src/reddit/components/RestrictedFlatlistButton/index.tsx"),g=s("./src/reddit/constants/posts.ts"),x=s("./src/reddit/contexts/PageLayer/index.tsx"),v=s("./src/reddit/helpers/isRemoved.ts"),C=s("./src/reddit/helpers/modTooltipTemplates/index.ts"),O=s("./src/reddit/helpers/showReportIndicator/index.ts"),f=s("./src/reddit/models/Post/index.ts"),E=s("./src/reddit/selectors/posts.ts"),y=s("./src/reddit/icons/fonts/Approve/index.tsx"),j=s("./src/reddit/icons/fonts/Archived/index.tsx"),P=s("./src/reddit/icons/fonts/Lock/index.tsx"),w=s("./src/reddit/icons/fonts/Remove/index.tsx"),I=s("./src/reddit/icons/fonts/Report/index.tsx"),S=s("./src/reddit/icons/fonts/Spam/index.tsx"),T=s("./src/reddit/icons/fonts/Sticky/index.tsx"),k=s("./src/reddit/icons/svgs/Automoderator/index.tsx"),_=s("./src/reddit/icons/svgs/Moderate/index.tsx"),N=s("./src/reddit/components/PostBadges/index.m.less"),L=s.n(N);const M=e=>o.a.createElement("span",Object.assign({className:L.a.removalReason},e),e.children),R=Object(d.e)("posts.archived"),F=Object(d.e)("modTools.commentsLocked"),B=Object(d.e)("modTools.moderatorOf"),A=Object(d.e)("modTools.stickiedPost"),D=Object(d.e)("modTools.pinnedPost"),V=(e,t,s)=>{const n=`PostBadges--${e}--${t}`;return s?`${n}--${s}`:n},W=Object(x.w)({isProfilePostListing:x.M,isSubreddit:x.N,pageLayer:e=>e}),H=Object(c.c)({isPinned:(e,{post:t})=>Object(E.q)(e,{postId:t.id}),modModeEnabled:x.R}),U=Object(r.b)(H,(e,t)=>({onHideTooltip:()=>e(Object(u.f)()),onOpenRemovalReasonModal:()=>e(Object(p.d)(t.post.belongsTo.id,[t.post.id])),onShowTooltip:t=>()=>e(Object(u.d)({tooltipId:t}))}));t.a=W(U(({className:e,displayText:t,isCompactPinnedPost:s,isSubreddit:r,inSubredditOrProfile:c,isPinned:d,isProfilePostListing:p,language:u,modModeEnabled:x,onHideTooltip:E,onOpenRemovalReasonModal:N,onShowTooltip:W,post:H,tooltipType:U})=>{const z={caretOnTop:!1},K=H.isRemoved&&!H.modRemovalReason&&!H.modNote&&H.belongsTo.type===g.a.SUBREDDIT,G=V("Approve",H.id,U),q=V("Archived",H.id,U),J=V("Automod",H.id,U),Y=V("Lock",H.id,U),Q=V("Mod",H.id,U),X=V("Remove",H.id,U),Z=V("Report",H.id,U),$=V("Spam",H.id,U),ee=V("Sticky",H.id,U),te=V("Pinned",H.id,U);return o.a.createElement("div",{className:e},H.isArchived&&o.a.createElement(n.Fragment,null,o.a.createElement(j.a,{className:L.a.archivedIcon,desc:R(u),id:q,onMouseEnter:W(q),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:q,text:R(u)},z))),H.isLocked&&o.a.createElement(n.Fragment,null,o.a.createElement(P.a,{className:L.a.lockIcon,desc:F(u),id:Y,onMouseEnter:W(Y),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:Y,text:F(u)},z))),r&&Object(f.i)(H)&&!s&&o.a.createElement(n.Fragment,null,o.a.createElement(T.a,{className:L.a.stickyIcon,desc:A(u),id:ee,onMouseEnter:W(ee),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:ee,text:A(u)},z))),p&&d&&o.a.createElement(n.Fragment,null,o.a.createElement(T.a,{className:L.a.stickyIcon,desc:D(u),id:te,onMouseEnter:W(te),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:te,text:D(u)},z))),c&&t&&H.distinguishType===m.D.MODERATOR&&o.a.createElement(n.Fragment,null,o.a.createElement(_.a,{className:L.a.modIcon,desc:B(u,{displayText:t}),id:Q,onMouseEnter:W(Q),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:Q,text:B(u,{displayText:t})},z))),(H.isApproved||H.approvedBy)&&o.a.createElement(n.Fragment,null,o.a.createElement(y.a,{className:L.a.approveIcon,desc:Object(C.a)(u,H),id:G,onMouseEnter:W(G),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:G,text:Object(C.a)(u,H)},z))),Object(v.a)(H)&&o.a.createElement(n.Fragment,null,o.a.createElement(w.a,{className:L.a.removeIcon,desc:Object(C.c)(u,H),id:X,onMouseEnter:W(X),onMouseLeave:E}),K&&o.a.createElement(b.a,{className:L.a.addRemovalReason,onClick:N,text:Object(i.c)("Add a removal reason")}),(H.modRemovalReason||H.modNote)&&o.a.createElement(M,{onMouseEnter:W(X),onMouseLeave:E},o.a.createElement(a.c,null,"Removal reason")),o.a.createElement(h.c,Object.assign({tooltipId:X,text:Object(C.c)(u,H)},z))),H.bannedBy&&H.isSpam&&o.a.createElement(n.Fragment,null,o.a.createElement(S.a,{className:L.a.spamIcon,desc:Object(C.e)(u,H),id:$,onMouseEnter:W($),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:$,text:Object(C.e)(u,H)},z))),("AutoModerator"===H.approvedBy||"AutoModerator"===H.bannedBy)&&o.a.createElement(n.Fragment,null,o.a.createElement(k.a,{className:Object(l.a)(L.a.automoderator,!!H.bannedBy&&L.a.isRemoved),desc:Object(C.b)(u),id:J,onMouseEnter:W(J),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:J,text:Object(C.b)(u)},z))),Object(O.a)(H)&&!x&&o.a.createElement(n.Fragment,null,o.a.createElement(I.a,{className:L.a.reportIcon,desc:Object(C.d)(u,H.numReports),id:Z,onMouseEnter:W(Z),onMouseLeave:E}),o.a.createElement(h.c,Object.assign({tooltipId:Z,text:Object(C.d)(u,H.numReports)},z))))}))},"./src/reddit/components/PostCleanup/PostFooter/PostActions/index.m.less":function(e,t,s){e.exports={Container:"_2n8JO4D-9w27mvvMz7eoLa",container:"_2n8JO4D-9w27mvvMz7eoLa",Votes:"_140iPQTo8eNRZaAoRr-ljZ",votes:"_140iPQTo8eNRZaAoRr-ljZ",IconButton:"_3-G-XipzVMfmMIVtaD0eKG",iconButton:"_3-G-XipzVMfmMIVtaD0eKG",outline:"_16GylOfOHFDnbXCwDVs1ys",UpvoteButton:"_1MqJfqxqHbzCvDidY9Xeit",upvoteButton:"_1MqJfqxqHbzCvDidY9Xeit",DownvoteButton:"_3LMc9vpVtA-cSs6j4kkZON",downvoteButton:"_3LMc9vpVtA-cSs6j4kkZON",voted:"Tn6uBwTHUKRnNX6wSiF14",dark:"_3R0FZIAcGQSWGGx47edHqn",nightmode:"d7yGPxvJkGFgfsWDC040-",CommentsLink:"TBv4c13C8itC6CF_F-Bfu",commentsLink:"TBv4c13C8itC6CF_F-Bfu",comment:"X0tyE4P6DCRRv1Uls_VHP",ShareMenu:"GqgZyUXRG8Qkm5kYPQIKl",shareMenu:"GqgZyUXRG8Qkm5kYPQIKl"}},"./src/reddit/components/PostCleanup/PostFooter/PostActions/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/polished/dist/polished.es.js"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/reddit/actions/post.ts"),m=s("./src/reddit/components/CommentsLink/index.tsx"),p=s("./src/reddit/components/CompactPost/HorizontalVotes/index.tsx"),u=s("./src/reddit/components/Flatlist/index.tsx"),h=s("./src/reddit/components/ShareMenu/index.tsx"),b=s("./src/reddit/components/TrackingHelper/index.tsx"),g=s("./src/reddit/contexts/PageLayer/index.tsx"),x=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),v=s("./src/reddit/helpers/styles/smartTextColor.ts"),C=s("./src/reddit/helpers/trackers/post.ts"),O=s("./src/reddit/i18n/utils.ts"),f=s("./src/reddit/icons/fonts/Share/index.tsx"),E=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=s("./src/reddit/models/Vote/index.ts"),j=s("./src/reddit/selectors/experiments/postCleanup.ts"),P=s("./src/reddit/selectors/user.ts"),w=s("./src/reddit/components/PostCleanup/PostFooter/PostActions/index.m.less"),I=s.n(w);const S=.1,T=.2,k=Object(g.w)(),_=Object(i.c)({currentSubreddit:g.s,isNightmode:P.V}),N=Object(a.b)(_,(e,{post:t})=>({handleVote:s=>{const n=s===y.a.upvoted?Object(l.N)(t.id):Object(l.o)(t.id);e(n)}}));t.a=k(N(Object(b.b)(Object(d.a)(class extends r.a.Component{constructor(){super(...arguments),this.sendEventWithName=(e=>{var t=this.props;const s=t.post;(0,t.sendEvent)(Object(C.d)(s.id,e))})}render(){var e=this.props;const t=e.className,s=e.currentSubreddit,o=e.flairStyleTemplate,a=e.handleVote,i=e.isNightmode,d=e.isOverlay,l=e.post,b=e.postCleanupVariant;var g=e.showCommentsLink;const C=void 0===g||g,P=Object(j.d)(b),w=Object(j.a)(b),k=Object(c.a)(I.a.IconButton,{[I.a.outline]:P,[I.a.nightmode]:i,[I.a.dark]:Object(v.b)(Object(x.a)(this.props))}),_={className:I.a.Votes,downvoteButtonClassName:Object(c.a)(k,I.a.DownvoteButton,{[I.a.voted]:l.voteState===y.a.downvoted}),upvoteButtonClassName:Object(c.a)(k,I.a.UpvoteButton,{[I.a.voted]:l.voteState===y.a.upvoted})},N=Object(E.a)(this.props),L=Object(n.j)(.8,N.voteText.downvote),M=Object(n.j)(.8,N.voteText.upvote),R=Object(n.g)(N.navIcon,i?T:S);return r.a.createElement("div",{className:Object(c.a)(I.a.Container,t),style:{"--postcleanup-postfooter-postactions-downvote-active":L,"--postcleanup-postfooter-postactions-upvote-active":M,"--postcleanup-postfooter-postactions-iconbutton-background":R}},r.a.createElement(p.a,Object.assign({},_,{compact:P,flairStyleTemplate:o,model:l,onVoteClick:a,postCleanupVariant:b,shouldShowScore:!1})),C&&r.a.createElement(m.a,{className:Object(c.a)(k,I.a.CommentsLink,{[I.a.comment]:w}),hasModPostPerms:!1,isCommentPermalink:!1,isCommentsPage:!1,isOverlay:!1,modModeEnabled:!1,numComments:l.numComments,postId:l.id,shouldShowIcon:!w,shouldShowText:w,text:Object(O.c)("Add a comment...")}),r.a.createElement(h.a,{className:Object(c.a)(k,I.a.ShareMenu),dropdownId:Object(u.d)("-share-menu",l.id,d),permalink:l.permalink,post:l,sendEventWithName:this.sendEventWithName,subreddit:s},r.a.createElement("button",{"data-click-id":"share"},r.a.createElement(f.a,{className:I.a.ShareIcon}))))}}))))},"./src/reddit/components/PostCleanup/PostFooter/PostAwards/index.m.less":function(e,t,s){e.exports={AwardBadges:"_2kfB-M9dcSRpo7MfG-NSA6",awardBadges:"_2kfB-M9dcSRpo7MfG-NSA6",AwardItem:"_2x8HcYcgEraA1ZzwFuedV7",awardItem:"_2x8HcYcgEraA1ZzwFuedV7",AwardShowAll:"_2_XfDaGw-CkQBiyIGjPxF1",awardShowAll:"_2_XfDaGw-CkQBiyIGjPxF1",AwardIcon:"fun-2HuYOUpeXFqw59bnX",awardIcon:"fun-2HuYOUpeXFqw59bnX"}},"./src/reddit/components/PostCleanup/PostFooter/PostAwards/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/AwardBadges/index.tsx"),i=s("./src/reddit/components/PostTopMeta/index.tsx"),c=s("./src/reddit/components/PostCleanup/PostFooter/PostAwards/index.m.less"),d=s.n(c);t.a=class extends o.a.Component{constructor(){super(...arguments),this.onShowAllClick=(e=>{var t=this.props;const s=t.onPostClick,n=t.post;s&&s(e,n)})}render(){var e=this.props;const t=e.children,s=e.className,n=e.isOverlay,c=e.post,l=e.postCleanupVariant;var m=e.showAllAwards;const p=void 0!==m&&m;return o.a.createElement(a.a,{className:Object(r.a)(d.a.AwardBadges,s),forceShowAllAwards:p,iconClassName:d.a.AwardIcon,itemClassName:d.a.AwardItem,onShowAllClick:this.onShowAllClick,postCleanupVariant:l,showAllClassName:d.a.AwardShowAll,thing:c,tooltipType:n?i.c.Lightbox:void 0},t)}}},"./src/reddit/components/PostCleanup/PostFooter/PostNumbers/index.m.less":function(e,t,s){e.exports={Container:"SazdBVH5x2tirUn-sW1XW",container:"SazdBVH5x2tirUn-sW1XW",Text:"_2VXI7UcWJORfAhvPzqg7pU",text:"_2VXI7UcWJORfAhvPzqg7pU"}},"./src/reddit/components/PostCleanup/PostFooter/PostNumbers/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/CSSVariableProvider/withTheme.tsx"),i=s("./src/lib/prettyPrintNumber/index.ts"),c=s("./src/reddit/components/PostTopMeta/index.tsx"),d=s("./src/reddit/controls/MetaSeparator/index.tsx"),l=s("./src/reddit/i18n/components.tsx"),m=s("./src/reddit/components/PostCleanup/PostFooter/PostNumbers/index.m.less"),p=s.n(m);t.a=Object(a.a)(e=>{const t=e.className,s=e.post,n={color:Object(c.e)(e)};return o.a.createElement("div",{className:Object(r.a)(p.a.Container,t)},!s.isScoreHidden&&o.a.createElement("span",{className:p.a.Text,style:n},Object(i.b)(s.score)," ",o.a.createElement(l.a,{count:s.score,name:"upvotes",plural:"upvotes",singular:"upvote"})),!s.isScoreHidden&&o.a.createElement(d.b,null),o.a.createElement("span",{className:p.a.Text,style:n},Object(i.b)(s.numComments)," ",o.a.createElement(l.a,{count:s.numComments,name:"comments",plural:"comments",singular:"comment"})))})},"./src/reddit/components/PostCleanup/PostFooter/index.m.less":function(e,t,s){e.exports={Container:"_1ndd2NJUnNw5faXILwt2UP",container:"_1ndd2NJUnNw5faXILwt2UP",TopLine:"_3VI8akTuwLWFuePDsp3655",topLine:"_3VI8akTuwLWFuePDsp3655",BottomLine:"_2fvtAzrfEi_jj7bZQOweyG",bottomLine:"_2fvtAzrfEi_jj7bZQOweyG",PostSource:"KM_vv2RbRIUJn80IMsc6E",postSource:"KM_vv2RbRIUJn80IMsc6E"}},"./src/reddit/components/PostCleanup/PostFooter/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/PostCleanup/PostSource/index.tsx"),i=s("./src/reddit/components/PostCleanup/PostFooter/PostActions/index.tsx"),c=s("./src/reddit/components/PostCleanup/PostFooter/PostAwards/index.tsx"),d=s("./src/reddit/components/PostCleanup/PostFooter/PostNumbers/index.tsx"),l=s("./src/reddit/components/PostCleanup/PostFooter/index.m.less"),m=s.n(l);t.a=(e=>{const t=e.className,s=e.flairStyleTemplate,n=e.inSubredditOrProfile,l=e.isOverlay,p=e.onPostClick,u=e.post,h=e.postCleanupVariant,b=e.showSource;return o.a.createElement("div",{className:Object(r.a)(m.a.Container,t)},b&&o.a.createElement(a.a,{className:m.a.PostSource,inSubredditOrProfile:n,post:u}),o.a.createElement("div",{className:m.a.TopLine},o.a.createElement(d.a,{flairStyleTemplate:s,post:u}),o.a.createElement(c.a,{isOverlay:l,onPostClick:p,post:u,postCleanupVariant:h})),o.a.createElement("div",{className:m.a.BottomLine},o.a.createElement(i.a,{flairStyleTemplate:s,isOverlay:l,post:u,postCleanupVariant:h})))})},"./src/reddit/components/PostCleanup/PostOverflowButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/Flatlist/index.tsx"),c=s("./src/reddit/components/PostOverflowMenu/index.tsx"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/contexts/PageLayer/index.tsx");const m=Object(l.w)({currentProfileName:l.j,isProfilePostListing:l.M}),p=Object(a.c)({layout:l.P}),u=Object(r.b)(p);t.a=m(u(Object(d.b)(e=>{const t=e.className,s=e.currentProfileName,n=e.isOverlay,r=e.isProfilePostListing,a=e.layout,d=e.pageLayer,l=e.post,m=e.sendEvent;return o.a.createElement(c.g,{className:t,currentProfileName:s,dropdownId:Object(i.d)("-overflow-menu",l.id,n),isCommentsPage:!1,isFixed:!1,isOverlay:!!n,isProfilePostListing:r,layout:a,modModeWithPost:!1,pageLayer:d,permalink:l.permalink,postId:l.postId,sendEvent:m,showEditPost:!1,showEditFlair:!1,useFlatlistBreakpoints:Object(c.h)({hide:!1,report:!1,save:!1})})})))},"./src/reddit/components/PostCleanup/PostSource/index.m.less":function(e,t,s){e.exports={PostSource:"_2YSJGRYpdQn7xsyL__VGfB",postSource:"_2YSJGRYpdQn7xsyL__VGfB",link:"_2pe5PZpFyvAUXEb6hvP1Hz",Icon:"V-F1B6xToDtp0RQfo-3iI",icon:"V-F1B6xToDtp0RQfo-3iI",Text:"_30mI8k88kEB3UAZbdJtRjT",text:"_30mI8k88kEB3UAZbdJtRjT",truncated:"cYSdhyqEs6-UahsGwnRMN"}},"./src/reddit/components/PostCleanup/PostSource/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/controls/OutboundLink/index.tsx"),i=s("./src/reddit/icons/svgs/Link/index.tsx"),c=s("./src/reddit/components/PostCleanup/PostSource/index.m.less"),d=s.n(c);t.a=(e=>{const t=e.className,s=e.inSubredditOrProfile,n=e.post.source;if(!n)return null;const c=n.displayText,l=n.url;return l?o.a.createElement(a.a,{className:Object(r.a)(d.a.PostSource,{[d.a.link]:s},t),href:l,isSponsored:!1,source:n},o.a.createElement(i.a,{className:d.a.Icon}),o.a.createElement("div",{className:Object(r.a)(d.a.Text,{[d.a.truncated]:!c})},c||l)):null})},"./src/reddit/components/PostContent/index.m.less":function(e,t,s){e.exports={content:"_3UMN4RCVY5288m_fOZlkcg",controlsContainer:"_1hwEKkB_38tIoal6fcdrt9",cleanup:"_2fcwx_zQTSngBfo-AIRJvb",awardsContainer:"_2T8ew90GqOeSh5AlK7-i66",postNumbers:"_1svxG6WJ6vr-T9iN3rf5M6",flatlistContainer:"UPYG6UwB7XqTeGj4a4vBr",mainBody:"_3MC4c3Q_Y41YKtl1TcvyMt",leftPadding:"_1mK-LVHGTTlcFpMsjItjYJ",noProposal:"_13LHQz0igp-olmn_mDhJ7B",postContainer:"_2rszc84L136gWQrkwH6IaM",hasEventMeta:"qpc-hx5EvongRjYhe0TOO",PostTitle:"_2v9pwVh0VUYrmhoMv1tHPm",postTitle:"_2v9pwVh0VUYrmhoMv1tHPm",ExpandoButton:"_1sq8G2ap3_yMYvXINVLxFm",expandoButton:"_1sq8G2ap3_yMYvXINVLxFm",ClassicExpandoMotion:"_2w7fkGYeZk22ZtKCTcGj_T",classicExpandoMotion:"_2w7fkGYeZk22ZtKCTcGj_T",ClassicPostMedia:"_3l9ryDzeuWyQEv-5287xPH",classicPostMedia:"_3l9ryDzeuWyQEv-5287xPH",FullWidthFlatlist:"_3P3ghhoNky7Bzspbfw7--R",fullWidthFlatlist:"_3P3ghhoNky7Bzspbfw7--R",ProposalContainer:"_1a2Qb0YJU4-QdYRoANb0J-",proposalContainer:"_1a2Qb0YJU4-QdYRoANb0J-",isEditing:"_1_-TcT_H2BAsf4uFtfvDf9",LargePostMedia:"_1Ap4F5maDtT1E1YuCiaO0r",largePostMedia:"_1Ap4F5maDtT1E1YuCiaO0r",isCommentsPage:"D3IL3FD0RFy_mkKLPwL4",ClassicThumbnail:"_2yiWJ30hPmljAALgG9InUz",classicThumbnail:"_2yiWJ30hPmljAALgG9InUz",ThumbLink:"_3SCgQPuxXigmV7fEOhNHCN",thumbLink:"_3SCgQPuxXigmV7fEOhNHCN"}},"./src/reddit/components/PostContent/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/helpers/canRenderThumbnail.ts"),m=s("./src/reddit/models/User/index.ts"),p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(s.push(a.value),!t||s.length!==t);n=!0);}catch(c){o=!0,r=c}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=s("./src/reddit/helpers/hasModFlairPermissions/index.ts"),h=s("./src/reddit/helpers/hasModFullPermissions/index.ts"),b=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),g=s("./src/reddit/helpers/path/index.ts"),x=s("./src/reddit/helpers/trackers/lightbox.ts"),v=s("./src/reddit/helpers/trackers/post.ts"),C=s("./src/reddit/actions/post.ts"),O=s("./src/reddit/actions/tooltip.ts"),f=s("./node_modules/lodash/find.js"),E=s.n(f),y=s("./node_modules/react-motion/lib/react-motion.js");const j={stiffness:300,damping:5,precision:.005},P={},w=(e=[],t)=>{const s=E()(e,{key:"expando_content"}),n=s&&s.style?s.style.opacity:0;return t?n>=1?[{key:"expando_content",style:{opacity:1}}]:n>0?[{key:"expando_content",style:{opacity:Object(y.spring)(1,j)}}]:[{key:"expando_content",style:{opacity:.1}}]:n<.1?[]:[{key:"expando_content",style:{opacity:Object(y.spring)(0,j)}}]};var I=s("./src/reddit/models/Media/index.ts"),S=s("./src/reddit/models/Vote/index.ts"),T=s("./src/reddit/selectors/activeModalId.ts"),k=s("./src/reddit/selectors/experiments/categories.ts"),_=s("./src/reddit/selectors/experiments/followPost.ts"),N=s("./src/reddit/selectors/experiments/removeOc.ts"),L=s("./src/reddit/selectors/moderatorPermissions.ts"),M=s("./src/reddit/selectors/postCreations.ts"),R=s("./src/reddit/selectors/posts.ts"),F=s("./src/reddit/selectors/user.ts"),B=s("./src/reddit/components/ClassicPost/Thumbnail.tsx"),A=s("./src/reddit/components/EventPost/EventMetaHeader/index.tsx"),D=s("./src/reddit/components/ExpandoButton/index.tsx"),V=s("./src/reddit/components/FlairWrapper/index.tsx"),W=s("./src/reddit/components/Flatlist/index.tsx"),H=s("./src/reddit/components/Governance/Proposal/index.tsx"),U=s("./src/reddit/components/Governance/Proposal/NoProposalError/index.tsx"),z=s("./src/reddit/components/JSAPIContainers/index.tsx"),K=s("./src/reddit/components/LargePost/index.tsx"),G=s("./src/reddit/components/MediumPost/index.tsx"),q=s("./src/reddit/components/ModModeReports/index.tsx"),J=s("./src/reddit/components/ModModeReports/helpers.ts"),Y=s("./src/reddit/components/PostCleanup/PostFooter/PostActions/index.tsx"),Q=s("./src/reddit/components/PostCleanup/PostFooter/PostAwards/index.tsx"),X=s("./src/reddit/components/PostCleanup/PostFooter/PostNumbers/index.tsx"),Z=s("./src/reddit/components/PostContainer/index.tsx"),$=s("./src/higherOrderComponents/makeAsync.tsx"),ee=s("./src/lib/loadWithRetries/index.ts"),te=s("./src/reddit/components/RichTextEditor/Placeholder.tsx");const se=Object($.a)({ErrorComponent:()=>o.a.createElement(te.a,{isLoading:!1,toolbarPosition:"top"}),getComponent:()=>Object(ee.a)(()=>Promise.all([s.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),s.e("vendors~ChatMessageInput~FlairEdit~PostCreation~RichTextEditor"),s.e("vendors~PostCreation~RichTextEditor"),s.e("PostDraft~RichTextEditor~StructuredStyles"),s.e("ChatMessageInput~RichTextEditor"),s.e("RichTextEditor")]).then(s.bind(null,"./src/reddit/components/PostEditForm/index.tsx")).then(e=>e.default)),LoadingComponent:()=>o.a.createElement(te.a,{isLoading:!0,toolbarPosition:"top"})});var ne=e=>o.a.createElement(se,Object.assign({},e)),oe=s("./src/reddit/components/PostMedia/index.tsx"),re=s("./src/reddit/components/PostOverflowMenu/index.tsx"),ae=s("./src/reddit/components/PostTitle/index.tsx"),ie=s("./src/reddit/components/PostTopLine/index.tsx"),ce=s("./src/reddit/components/PostTopMeta/index.tsx"),de=s("./src/reddit/components/SourceLink/index.tsx"),le=s("./src/reddit/constants/componentTestIds.ts"),me=s("./src/reddit/contexts/PageLayer/index.tsx"),pe=s("./src/reddit/helpers/postEvent.ts"),ue=s("./src/reddit/selectors/postFlair.ts"),he=s("./src/app/strings/index.ts"),be=s("./src/lib/prettyPrintNumber/index.ts"),ge=s("./src/reddit/components/PostContent/viewCount.m.less"),xe=s.n(ge);var ve,Ce=({post:e,language:t,showViewCount:s})=>{var n=((e,t)=>{const s=Math.round(100*e.upvoteRatio),n=Object(be.b)(e.viewCount);return{upvotePercentString:Object(he.a)(t,"posts.percentUpvoted",{percentUpvoted:s}),viewCountString:Object(he.c)(t,"posts.numViews.noun",e.viewCount,{count:n})}})(e,t);const r=n.upvotePercentString,a=n.viewCountString,i=s&&!!e.viewCount;return o.a.createElement("div",{className:xe.a.viewCounts},i&&o.a.createElement("span",null,a),i&&!!e.upvoteRatio&&o.a.createElement("span",{className:xe.a.dotSpacer}),!!e.upvoteRatio&&o.a.createElement("span",null,r))},Oe=s("./src/reddit/components/PostContent/index.m.less"),fe=s.n(Oe);!function(e){e[e.CLASSIC=0]="CLASSIC",e[e.LARGE=1]="LARGE",e[e.MEDIUM=2]="MEDIUM"}(ve||(ve={}));const Ee=d.a.wrapped(ae.c,"PostTitle",fe.a),ye=d.a.wrapped(D.a,"ExpandoButton",fe.a),je=d.a.wrapped(class extends o.a.Component{constructor(e){super(e),this.onSizeChanged=(()=>(this.props.onSizeChanged&&this.props.onSizeChanged(),P)),this.state={expanded:e.shouldExpand,renderTransitionMotion:e.shouldExpand}}componentWillReceiveProps(e){e.shouldExpand&&!this.state.renderTransitionMotion?this.setState(()=>({renderTransitionMotion:!0}),()=>{setTimeout(()=>{this.setState({expanded:!0})})}):e.shouldExpand!==this.state.expanded&&this.setState({expanded:e.shouldExpand})}render(){var e=this.state;const t=e.renderTransitionMotion,s=e.expanded;if(!t)return!1;var n=this.props;const r=n.className,a=n.content;return o.a.createElement(y.TransitionMotion,{styles:e=>w(e,s),didLeave:this.onSizeChanged,willEnter:this.onSizeChanged},e=>o.a.createElement("div",{className:r},e.map(e=>o.a.createElement("div",{key:e.key,style:e.style},a))))}},"ClassicExpandoMotion",fe.a),Pe=d.a.wrapped(W.c,"FullWidthFlatlist",fe.a),we=d.a.wrapped(B.a,"ClassicThumbnail",fe.a),Ie=Object(me.w)({isCommentsPage:me.z,isOriginalPage:me.E,pageLayer:e=>e}),Se=Object(r.b)(()=>Object(i.c)({activeModalId:T.a,flairStyleTemplate:me.T,currentUser:F.k,crosspost:R.c,followPostVariant:_.a,hideNSFWPref:F.B,isCurrentUserProfilePost:R.g,isExpanded:R.i,isInRemoveOcExperiment:N.a,post:R.J,language:F.T,metaId:(e,t)=>e.posts.metaMap[t.postId],moderatorPermissions:L.h,modModeEnabled:me.R,isInCategoriesExperiment:k.a,showEditFlair:ue.a,subredditOrProfile:R.U,isEditing:M.C,userIsOp:F.jb}),(e,{postId:t})=>({onIgnoreReports:()=>e(Object(C.L)(t)),onOpenReportsDropdown:t=>e(Object(O.e)({tooltipId:t})),onVoteClick:s=>{const n=s===S.a.upvoted?Object(C.N)(t):Object(C.o)(t);e(n)}})),Te=d.a.wrapped(a.a,"ThumbLink",fe.a),ke=({post:e,templatePlaceholderImage:t})=>e.source?o.a.createElement(we,{post:e,forceShowNSFW:!0,templatePlaceholderImage:t}):o.a.createElement(Te,{to:Object(g.b)(e.permalink)},o.a.createElement(we,{post:e,forceShowNSFW:!0})),_e=(e,t,s)=>o.a.createElement(je,{content:o.a.createElement(oe.a,{className:fe.a.ClassicPostMedia,isListing:!1,isNotCardView:!0,post:e,shouldLoad:!0,showFull:!0,showCentered:!0,scrollerItemRef:s}),shouldExpand:!!t});t.a=Ie(Se(e=>{const t=e.className,s=e.crosspost,n=e.currentUser,r=e.flairStyleTemplate,a=e.followPostVariant,i=e.hideNSFWPref,d=e.isCommentsPage,g=e.isCurrentUserProfilePost,C=e.isEditing,O=e.isExpanded,f=e.isInRemoveOcExperiment,E=e.isOriginalPage,y=e.isOverlay,j=e.language,P=e.metaId,w=e.moderatorPermissions,S=e.modModeEnabled,T=e.onIgnoreReports,k=e.onOpenReportsDropdown,_=e.onVoteClick,N=e.post,L=e.postCleanupVariant,M=e.scrollerItemRef,R=e.sendEvent,F=e.showEditFlair,B=e.subredditOrProfile,D=e.userIsOp,$=Object(b.a)(w),ee=Object(u.a)(w),te=Object(h.a)(w),se=((e,t,s)=>{var n=e?[Object(m.f)(e)===s.author,e.isEmployee]:[!1,!1],o=p(n,2);const r=o[0],a=o[1];return r||t||a})(n,$||ee,N),me=!!N.media&&(N.media.type===I.o.RTJSON||N.media.type===I.o.TEXT),ue=D&&me,he=Object(J.c)(N);let be;const ge=!(S&&b.a),xe=Object(re.h)({hide:ge,editPost:ge,save:ge,report:ge}),Oe=o.a.createElement(Ee,{post:N,size:ae.b.ExtraLarge,showCategoryTag:y,isOverlay:y,disableVisited:!0,isCommentsPage:!0}),je=o.a.createElement(Ce,{post:N,language:j,showViewCount:se}),we=(e=>{const t=e.crosspost,s=e.isCommentPermalink,n=e.post;return s?ve.CLASSIC:t?ve.LARGE:n.media?ve.LARGE:ve.MEDIUM})(e),Ie=!!a,Se=Object(c.a)({[fe.a.cleanup]:!!L});return we===ve.CLASSIC?be=o.a.createElement("div",{"data-test-id":le.e},Object(K.b)(N,_),o.a.createElement("div",{className:fe.a.mainBody},o.a.createElement("div",{className:fe.a.content},o.a.createElement(ie.a,{hideNSFWPref:i,inSubredditOrProfile:!0,isCommentsPage:d,isCurrentUserProfilePost:g,isInRemoveOcExperiment:f,isOverlay:!!y,language:j,post:N,shouldShowFollowButton:Ie,shouldShowSubscribeButton:!1,showOCCategories:E,showSubreddit:!!y&&!N.isSponsored,subredditOrProfile:B}),Oe,o.a.createElement(V.a,{className:d?fe.a.leftPadding:null,post:N,showCategoryTag:e.isInCategoriesExperiment&&d,sendEvent:R}),S&&$&&he&&o.a.createElement(q.a,{language:j,onIgnoreReports:T,reportable:N}),o.a.createElement(z.d,{postId:N.id}),o.a.createElement("div",{className:fe.a.FlatlistContainer},o.a.createElement(ye,{crosspost:s||void 0,isExpanded:!!O,post:N,useMediaIcons:!1}),_e(N,O,M),o.a.createElement(Pe,{currentUser:n,hasModFlairPerms:ee,hasModFullPerms:te,hasModPostPerms:$,isOverlay:y,language:j,onIgnoreReports:T,onOpenReportsDropdown:k,modModeEnabled:S,post:N,showUpvotePercent:!0,showViewCount:se,useFlatlistBreakpoints:xe}))),Object(l.a)(N)&&o.a.createElement(ke,{post:N,templatePlaceholderImage:r&&r.postPlaceholderImage}))):we===ve.MEDIUM?be=o.a.createElement("div",{"data-test-id":le.e},!L&&Object(K.b)(N,_),o.a.createElement("div",{className:fe.a.mainBody},o.a.createElement("div",{className:fe.a.content},o.a.createElement(ie.a,{hideNSFWPref:i,inSubredditOrProfile:!0,isCommentsPage:d,isCurrentUserProfilePost:g,isInRemoveOcExperiment:f,isOverlay:!!y,language:j,post:N,postCleanupVariant:L,shouldShowAwards:!L,shouldShowFollowButton:Ie,shouldShowSubscribeButton:!1,showOCCategories:E,showSubreddit:!!y&&!N.isSponsored,subredditOrProfile:B}),Oe,N.source&&o.a.createElement(de.a,{post:N,isCommentsPage:d}),o.a.createElement(V.a,{className:d?fe.a.leftPadding:null,post:N,showCategoryTag:e.isInCategoriesExperiment&&d,sendEvent:R}),S&&$&&he&&o.a.createElement(q.a,{language:j,onIgnoreReports:T,reportable:N})),Object(l.a)(N)&&o.a.createElement(G.a,{post:N,forceShowNSFW:!0,isOverlay:!0,shouldShowPostOverflow:!!L,templatePlaceholderImage:r&&r.postPlaceholderImage})),o.a.createElement(z.d,{postId:N.id}),L&&o.a.createElement("div",{className:fe.a.awardsContainer},o.a.createElement(Q.a,{isOverlay:y,post:N,postCleanupVariant:L,showAllAwards:!0},o.a.createElement(X.a,{className:fe.a.postNumbers,flairStyleTemplate:r,post:N}))),o.a.createElement("div",{className:Object(c.a)(fe.a.controlsContainer,Se)},L?o.a.createElement(Y.a,{flairStyleTemplate:r,isOverlay:y,post:N,postCleanupVariant:L,showCommentsLink:!1}):o.a.createElement(W.c,{currentUser:n,hasModFlairPerms:ee,hasModFullPerms:te,hasModPostPerms:$,isOverlay:y,language:j,modModeEnabled:S,onIgnoreReports:T,onOpenReportsDropdown:k,post:N,showEditPost:ue,showEditFlair:F,tooltipType:y?ce.c.Lightbox:void 0,useFlatlistBreakpoints:xe}),je)):we===ve.LARGE&&(be=o.a.createElement("div",{"data-test-id":le.e},!L&&Object(K.b)(N,_),o.a.createElement(ie.a,{hideNSFWPref:i,inSubredditOrProfile:!0,isCommentsPage:d,isCurrentUserProfilePost:g,isInRemoveOcExperiment:f,isOverlay:!!y,language:j,post:N,postCleanupVariant:L,shouldShowAwards:!L,shouldShowFollowButton:Ie,shouldShowPostOverflow:!!L,shouldShowSubscribeButton:!1,showOCCategories:E,showSubreddit:!!y&&!N.isSponsored,subredditOrProfile:B}),Oe,((e,t,s,n)=>e.source&&!t&&(s||n))(N,s,y,d)&&o.a.createElement(de.a,{post:N,isCommentsPage:d}),o.a.createElement(V.a,{className:d?fe.a.leftPadding:null,post:N,showCategoryTag:e.isInCategoriesExperiment&&d,sendEvent:R}),C?o.a.createElement(ne,{post:N}):o.a.createElement(oe.a,{className:Object(c.a)(fe.a.LargePostMedia,{[fe.a.isCommentsPage]:d}),isCommentsPage:!0,isListing:!1,isNotCardView:y,isOverlay:y,post:N,postCleanupVariant:L,shouldLoad:!0,showFull:!0,shouldPause:!y,showCentered:!0,scrollerItemRef:M}),P&&B?o.a.createElement("div",{className:Object(c.a)(fe.a.ProposalContainer,{[fe.a.isEditing]:C})},o.a.createElement(H.a,{pollId:P,subredditId:B.id})):null,N.isMeta&&!P&&o.a.createElement(U.a,{className:fe.a.noProposal}),S&&$&&he&&o.a.createElement(q.a,{language:j,onIgnoreReports:T,reportable:N}),o.a.createElement(z.d,{postId:N.id}),L&&o.a.createElement("div",{className:fe.a.awardsContainer},o.a.createElement(Q.a,{isOverlay:y,post:N,postCleanupVariant:L,showAllAwards:!0},o.a.createElement(X.a,{className:fe.a.postNumbers,flairStyleTemplate:r,post:N}))),o.a.createElement("div",{className:Object(c.a)(fe.a.controlsContainer,Se)},L?o.a.createElement(Y.a,{flairStyleTemplate:r,isOverlay:y,post:N,postCleanupVariant:L,showCommentsLink:!1}):o.a.createElement(W.c,{currentUser:n,hasModFlairPerms:ee,hasModFullPerms:te,hasModPostPerms:$,isOverlay:y,language:j,modModeEnabled:S,onIgnoreReports:T,onOpenReportsDropdown:k,post:N,showEditPost:ue,showEditFlair:F,tooltipType:y?ce.c.Lightbox:void 0,useFlatlistBreakpoints:xe}),je))),o.a.createElement(Z.a,{className:Object(c.a)(t,fe.a.postContainer,{[fe.a.hasEventMeta]:Object(pe.a)(N)},Se),post:N,eventFactory:y?x.c:v.d},o.a.createElement(A.a,{post:N,language:j}),be)}))},"./src/reddit/components/PostContent/viewCount.m.less":function(e,t,s){e.exports={dotSpacer:"_3g_cwSqBe5o5mAuhfMeGu5",viewCounts:"t4Hq30BDzTeJ85vREX7_M"}},"./src/reddit/components/PostCreationForm/OCCommunities/SubredditList/Placeholder.m.less":function(e,t,s){e.exports={SubredditIconContainer:"_1Th6L6-l3uPNIZwV5IjU-K",subredditIconContainer:"_1Th6L6-l3uPNIZwV5IjU-K",LoadingSubredditIcon:"_3OikM6DlkaT22JuqnXh6E3",loadingSubredditIcon:"_3OikM6DlkaT22JuqnXh6E3",Main:"_3-uUg7k8vxMv0LkL3I4-Sr",main:"_3-uUg7k8vxMv0LkL3I4-Sr",Title:"_1YnSG1--GxKUkJujAhI7lh",title:"_1YnSG1--GxKUkJujAhI7lh",Secondary:"_1k2PxoDKXXQyWl4HaVMCH7",secondary:"_1k2PxoDKXXQyWl4HaVMCH7",Container:"_1S9mueKUcVSmRSY8WEa5RQ",container:"_1S9mueKUcVSmRSY8WEa5RQ"}},"./src/reddit/components/PostCreationForm/OCCommunities/SubredditList/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/SubredditIcon/index.tsx"),i=s("./src/reddit/helpers/styles/mixins/loading.ts"),c=s("./src/reddit/components/PostCreationForm/OCCommunities/SubredditList/Placeholder.m.less"),d=s.n(c),l=s("./src/lib/lessComponent.tsx"),m=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const p=l.a.div("SubredditIconContainer",d.a),u=l.a.wrapped(e=>o.a.createElement(a.a,{className:e.className}),"LoadingSubredditIcon",d.a),h=l.a.div("Main",d.a),b=l.a.div("Container",d.a);t.a=l.a.wrapped(e=>{var t=e.className,s=m(e,["className"]);return o.a.createElement(b,{className:t},o.a.createElement(p,null,o.a.createElement(u,Object.assign({className:Object(r.a)(d.a.LoadingSubredditIcon,Object(i.a)(s))},s))),o.a.createElement(h,null,o.a.createElement("div",Object.assign({className:Object(r.a)(d.a.Title,Object(i.a)(s),Object(i.c)(s))},s)),o.a.createElement("div",Object.assign({className:Object(r.a)(d.a.Secondary,Object(i.a)(s),Object(i.c)(s))},s))))},"Component",d.a)},"./src/reddit/components/PostFollow/index.m.less":function(e,t,s){e.exports={collectionFollow:"_1yF34mDRcD_ii0n-Ak0OdI",isFollowed:"gBrTiaH_Z7HT5D96vnUfJ",isEventFollow:"_1iTFEDTdpF-KFmOZvDuGHH"}},"./src/reddit/components/PostFollow/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return h});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/post.ts"),d=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/components/Translated/index.tsx"),m=s("./src/reddit/helpers/trackers/postCollection.ts"),p=s("./src/reddit/components/PostFollow/index.m.less"),u=s.n(p);const h=Object(r.b)(()=>Object(a.c)({}),(e,{post:t})=>({onFollow:()=>e(Object(c.r)(t.id))}))(Object(d.b)(class extends o.a.Component{constructor(e){super(e),this.onFollowClick=(()=>{var e=this.props;const t=e.isEventFollow,s=e.onFollow;var n=e.post;const o=n.id,r=n.isFollowed,a=e.sendEvent,i=!!r;a(t?Object(m.o)({postId:o,isFollowed:i}):Object(m.g)({postId:o,isFollowed:i})),s&&s()}),this.onMouseEnter=(()=>{const e=this.props.post;e&&e.isFollowed&&this.setState({isHovered:!0})}),this.onMouseLeave=(()=>{const e=this.props.post;e&&e.isFollowed&&this.setState({isHovered:!1})}),this.state={isHovered:!1}}render(){var e=this.props;const t=e.className,s=e.isEventFollow,n=e.post,r=this.state.isHovered,a=n.isFollowed;let c=a?"collection.follow.followed":"collection.follow.follow";return a&&r&&(c="collection.follow.unfollow"),o.a.createElement("button",{className:Object(i.a)(u.a.collectionFollow,{[u.a.isFollowed]:!!n.isFollowed,[u.a.isEventFollow]:s},t),onClick:this.onFollowClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.a.createElement(l.a,{msgId:c}))}}))},"./src/reddit/components/PostList/LoadMore.m.less":function(e,t,s){e.exports={Component:"_3tBFh6Ty3gSaxW4gcm6hZ_",component:"_3tBFh6Ty3gSaxW4gcm6hZ_"}},"./src/reddit/components/PostList/LoadMore.tsx":function(e,t,s){"use strict";var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/components/PostList/Placeholder.tsx"),r=s("./src/reddit/components/PostList/LoadMore.m.less"),a=s.n(r);t.a=n.a.wrapped(o.a,"Component",a.a)},"./src/reddit/components/PostList/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/constant.js"),o=s.n(n),r=s("./node_modules/lodash/times.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),d=s("./node_modules/react-redux/es/index.js"),l=s("./node_modules/reselect/es/index.js"),m=s("./src/lib/fastdom/index.ts"),p=s("./src/lib/intersectionObserver/index.ts"),u=s("./src/reddit/constants/postLayout.ts"),h=s("./src/reddit/components/ClassicPost/Placeholder.tsx"),b=s("./src/reddit/components/CompactPost/Placeholder/index.tsx"),g=s("./src/lib/classNames/index.ts"),x=s("./src/reddit/components/PostLeftRail/index.tsx"),v=s("./src/reddit/components/SubredditIcon/index.tsx"),C=s("./src/reddit/components/VerticalVotes/votes.tsx"),O=s("./src/reddit/contexts/PageLayer/index.tsx"),f=s("./src/reddit/helpers/styles/mixins/loading.ts"),E=s("./src/reddit/models/Vote/index.ts"),y=s("./src/reddit/helpers/styles/mixins/index.m.less"),j=s.n(y),P=s("./src/reddit/components/LargePost/placeholder.m.less"),w=s.n(P),I=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const S=Object(O.w)(),T=Object(l.c)({isFakeSubreddit:O.B}),k=Object(d.b)(T),_=e=>{const t={interactive:!1,voteState:E.a.notVoted};return c.a.createElement("div",{className:w.a.emptyVerticalVotes},c.a.createElement(C.d,Object.assign({key:"u"},t)),c.a.createElement("div",{className:w.a.emptyScore,key:"s"}),c.a.createElement(C.c,Object.assign({key:"d"},t)))},N=e=>{var t=e.isLoading,s=I(e,["isLoading"]);return c.a.createElement(v.b,Object.assign({className:Object(f.a)({isLoading:t})},s))};var L=S(k(e=>{var t=e.className,s=(e.dispatch,e.pageLayer,I(e,["className","dispatch","pageLayer"]));return c.a.createElement("div",{className:Object(g.a)(j.a.baseLargeAndMediumPostStyles,t)},c.a.createElement(x.b,{key:"a"},c.a.createElement(_,Object.assign({},s))),c.a.createElement("div",{className:w.a.content,key:"b"},c.a.createElement("div",{className:w.a.topLine,key:"ba"},s.isFakeSubreddit&&c.a.createElement(N,{key:"baa",isLoading:!1}),c.a.createElement("div",{key:"bab",className:Object(g.a)(w.a.topMetaOne,Object(f.c)(s))}),c.a.createElement("div",{key:"bac",className:Object(g.a)(w.a.topMetaTwo,Object(f.c)(s))})),c.a.createElement("div",{key:"bb",className:Object(g.a)(w.a.title,Object(f.c)(s))})),c.a.createElement("div",{key:"c",className:Object(g.a)(w.a.media,Object(f.a)(s))}),c.a.createElement("div",{className:w.a.content,key:"d"},c.a.createElement("div",{className:w.a.flatlist},c.a.createElement("div",{className:Object(g.a)(w.a.flatlistItemOne,Object(f.c)(s))}),c.a.createElement("div",{className:Object(g.a)(w.a.flatListItemTwo,Object(f.c)(s))}))))}));const M={[u.f.Large]:[L,2],[u.f.Classic]:[h.b,10],[u.f.Compact]:[b.a,30]};var R=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(s.push(a.value),!t||s.length!==t);n=!0);}catch(c){o=!0,r=c}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const F=.1,B=Object(l.c)({loadingPostComponentForLayout:()=>(function(e){return M[e]})}),A=Object(d.b)(B);t.a=A(class extends c.a.Component{constructor(){super(...arguments),this.mounted=!1,this.state={visible:!1},this.setWrapperRef=(e=>{e!==this.wrapperRef&&(this.wrapperRef&&p.b(this.wrapperRef),e&&p.a(e,this.updateVisibleState)),this.wrapperRef=e}),this.updateVisibleState=(e=>{const t=e.intersectionRatio>=F;m.a.write(()=>{this.mounted&&this.setState(e=>e.visible!==t?{visible:t}:null)})})}componentDidMount(){document.documentElement.scrollTop=document.body.scrollTop=0,this.mounted=!0}componentWillUnmount(){this.mounted=!1,this.wrapperRef&&p.b(this.wrapperRef)}render(){var e=this.props;const t=e.className,s=e.countOverride,n=e.isLoading,r=e.layout,i=e.loadingPostComponentForLayout,d=this.state.visible;var l=i(r),m=R(l,2);const p=m[0],u=m[1],h=s||u,b=o()(c.a.createElement(p,{isLoading:n&&d})),g=a()(h,b);return c.a.createElement("div",{className:t,ref:this.setWrapperRef},c.a.Children.toArray(g))}})},"./src/reddit/components/PostList/SomethingWrong.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/reddit/connectors/connectToLanguage.ts"),i=s("./src/reddit/controls/Button/index.tsx"),c=s("./src/reddit/helpers/describeApiError/index.ts"),d=s("./src/reddit/i18n/components.tsx"),l=s("./src/reddit/components/PostList/index.m.less"),m=s.n(l);t.a=Object(a.a)(e=>{const t=e.language,s=e.onTryAgain,n=e.apiError;let a=Object(r.a)(t,"posts.somethingWentWrongWhileLoading");return n&&(a=Object(c.a)({apiError:n,language:t,isLoggedOut:!1})),o.a.createElement("div",{className:m.a.somethingWrong},o.a.createElement("div",{className:m.a.somethingWrongText},a),s&&o.a.createElement(i.f,{onClick:s},o.a.createElement(d.c,null,"Try again")))})},"./src/reddit/components/PostList/index.m.less":function(e,t,s){e.exports={placeholder:"FohHGMokxXLkon1aacMoi",seeMoreButton:"_1Uj2L1UhJuirkaXINcf9S8",seeMorePostsText:"_2DB_2VI3a-y6nk57R2aWVo",somethingWrong:"zfoxmi0VvZvMZu1rHVbMX",somethingWrongText:"Ii7DEkcMDxQHElTHeeaci",postList:"rpBJOHq2PR60pnwJlUyP0",truncatedPostList:"QBfRw7Rj8UkxybFpX-USO",SeeMore:"_1yJOfuD_qgqaaG8ZIFbQVc",seeMore:"_1yJOfuD_qgqaaG8ZIFbQVc",ArrowRight:"wakXAw7uCIqmSRV84RKMW",arrowRight:"wakXAw7uCIqmSRV84RKMW"}},"./src/reddit/components/PostList/index.tsx":function(e,t,s){"use strict";s.d(t,"b",function(){return K}),s.d(t,"a",function(){return J});var n=s("./node_modules/history/index.js"),o=s("./node_modules/lodash/debounce.js"),r=s.n(o),a=s("./node_modules/lodash/last.js"),i=s.n(a),c=s("./node_modules/react/index.js"),d=s.n(c),l=s("./node_modules/react-dom/index.js"),m=s("./src/lib/addQueryParams/index.ts"),p=s("./src/lib/classNames/index.ts"),u=s("./src/lib/constants/index.ts"),h=s("./src/lib/lessComponent.tsx"),b=s("./src/lib/opener/index.ts"),g=s("./src/lib/raven/index.ts"),x=s("./src/reddit/components/PostList/LoadMore.tsx"),v=s("./src/reddit/components/PostList/SomethingWrong.tsx"),C=s("./src/reddit/components/Scroller/Simple.tsx"),O=s("./src/reddit/components/Translated/index.tsx"),f=s("./src/reddit/constants/adEvents.ts"),E=s("./src/reddit/constants/componentSizes.ts"),y=s("./src/reddit/constants/postLayout.ts"),j=s("./src/reddit/controls/InternalLink/index.tsx"),P=s("./src/reddit/helpers/getClickInfo.ts"),w=s("./src/reddit/helpers/pixels.ts"),I=s("./src/reddit/icons/svgs/ArrowRight/index.tsx"),S=s("./src/reddit/models/Media/index.ts"),T=s("./src/reddit/helpers/brandSafety/index.ts"),k=s("./src/lib/LRUCache/index.ts"),_=s("./src/telemetry/index.ts"),N=s("./src/telemetry/models/Timer.ts"),L=s("./src/reddit/components/PostList/index.m.less"),M=s.n(L),R=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const F=500,B=new k.a(F),A=new k.a(F),D=new k.a(F),V={LARGE:1,MEDIUM:1,CLASSIC:3,COMPACT:5},W=h.a.div("SeeMore",M.a),H=h.a.wrapped(I.a,"ArrowRight",M.a),U=(e,t,s,n,o,r)=>{const a=`entered-${e}-${t}-${s?`last-${n}-${o}`:""}`;let i=B.get(a);return void 0===i&&(i=(()=>{s&&r.onBottomViewed(n,o),r.trackOnPostEnteredViewport(e,t)}),B.set(a,i)),i},z=(e,t,s)=>{const n=`left-${e}-${t}`;let o=A.get(n);return void 0===o&&(o=(n=>{s.trackOnPostExitedViewport(e,t,n)}),A.set(n,o)),o},K=(e,t)=>{const s=`click-${e}`;let n=D.get(s);return void 0===n&&(n=((e,s)=>{s.isSponsored&&Object(w.a)(s.events,f.a.Click),s.isSponsored&&s.source&&s.source.outboundUrl?Object(b.b)(s.source.outboundUrl,b.a.BLANK):t.openPost({postOrComment:s,clickInfo:Object(P.a)(e)})}),D.set(s,n)),n},G=(e,t)=>{if(e.isBlank)return 0;switch(t){case y.f.Medium:return 188;case y.f.Classic:return 96;case y.f.Compact:return 32;default:return 200}},q=(e,t)=>{const s=[...e];return Object.keys(t).map(e=>parseInt(e,10)).sort((e,t)=>t-e).forEach(e=>{s.splice(e,0,t[e])}),s};class J extends d.a.Component{constructor(){super(...arguments),this.didRenderLastVisibleChild=!1,this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.scrollChildCache=new k.a(F),this.updateScrollerRef=(e=>{const t=e&&Object(l.findDOMNode)(e);this.scrollerRef=t instanceof Element?t:void 0}),this.setLastVisibleChildRendered=(()=>{this.didRenderLastVisibleChild=!0,this.checkAndSendScreenview()}),this.onScrollPause=(e=>{this.dispatchBrandSafety(e)}),this.dispatchBrandSafety=r()(({getVisibleItemsInViewport:e})=>{var t=this.props;const s=t.postsById,n=t.subredditsById,o=e(),r=[];o.forEach(e=>r.push(e.id));const a=r.map(e=>s[e]).filter(Boolean),i=a.map(e=>n[e.belongsTo.id]).filter(e=>void 0!==e);this.props.adBrandSafetyStatusReceived(Object(T.a)(a,i))},u.d,{leading:!0})}componentWillMount(){this.timerId&&_.c.cancel(this.timerId),this.props.postIds.length&&(this.timerId=_.c.start())}componentDidMount(){if(this.checkAndSendScreenview(),this.timerId){const e=_.c.end(this.timerId);setTimeout(()=>Object(_.b)(u.l.Redesign,{type:"mount",component:"postList",duration:e}),0)}}componentWillUpdate(e){this.timerId&&_.c.cancel(this.timerId),e.postIds.length&&(this.timerId=_.c.start()),(e.listingKey!==this.props.listingKey||e.postIds.length!==this.props.postIds.length&&!this.isListLongEnough())&&(this.didRenderLastVisibleChild=!1)}componentDidUpdate(e){if(this.checkAndSendScreenview(),this.timerId&&_.c.has(this.timerId)){const e=_.c.end(this.timerId);if(e<10)return;setTimeout(()=>Object(_.b)(u.l.Redesign,{duration:e,type:"mount",component:"postList"}),0)}}componentWillUnmount(){this.timerId&&_.c.cancel(this.timerId),this.scrollerRef=null,this.didRenderLastVisibleChild=!1}isListLongEnough(){const e=this.scrollerRef&&Array.from(this.scrollerRef.children),t=e&&i()(e);return t&&t.getBoundingClientRect().bottom>window.innerHeight}shouldSendScreenview(){var e=this.props;const t=e.apiError,s=e.listingKey,n=e.viewportDataLoaded;return _.c.has(s)&&(t||!this.renderingPlaceholder&&(this.renderingEmpty||this.didRenderLastVisibleChild&&(n||this.isListLongEnough())))}checkAndSendScreenview(){var e=this.props;const t=e.listingKey,s=e.listingViewed,n=e.sendEvent;if(!this.shouldSendScreenview())return;const o=_.c.end(t);setTimeout(()=>{n(s(o,N.TimerType.InApp))},0)}showPlaceholder(){var e=this.props;const t=e.apiError,s=e.apiPending;return!e.disablePlaceholder&&(Boolean(t)||!1!==s)}hasPosts(){return this.props.postIds.length>0}isLoadingMore(){var e=this.props;const t=e.loadMore,s=e.postIds;return Boolean(t&&t.token)&&s.length>0}shouldComponentUpdate(e){const t=this.props,s=t.postsById,n=R(t,["postsById"]),o=e.postsById,r=R(e,["postsById"]),a=Object.keys(n),i=Object.keys(r);if(i.length!==a.length)return!0;if(i.some(e=>n[e]!==r[e]))return!0;if(s===o)return!1;if(this.props.postIds&&this.props.postIds.length){var c=this.props;const e=c.layout,t=c.postComponentForLayout;return this.props.postIds.some((n,r)=>{const a=0===r;return t(s[n],e,a)!==t(o[n],e,a)})}return!1}scrollChildForPost(e,t,s,n){var o=this.props;const r=o.currentProfileName,a=o.isCommentPermalink,i=o.isCommentsPage,c=o.isFrontpage,l=o.isOriginalPage,m=o.isProfilePostListing,p=o.listingKey,h=o.listingName,b=o.pageLayer,x=o.postClickEvent,v=o.redditStyle,C=`post-${n}-${e}-${t}-${s?"last-index":""}-${h}-${p}`;let O;if(void 0===(O=this.scrollChildCache.get(C))){var f=this.props;const o=f.inSubredditOrProfile,E=f.postsById,j=E[e],P=j.crosspostRootId&&E[j.crosspostRootId]?E[j.crosspostRootId]:j;j.crosspostRootId&&!E[j.crosspostRootId]&&Object(g.c)("Crosspost parent details are missing",{extra:{description:`Post ${j.id} is crosspost of ${j.crosspostRootId}, `+`but ${j.crosspostRootId} details are missing in the state`,errorType:u.p.API}});const w=this.props.postComponentForLayout(P,n,0===t),I=`post-list-item-[layout: ${n}]-[postId: ${e}]`,T=U(e,n,s,p,h,this.props),k=z(e,n,this.props),_=K(e,this.props),N=P.media&&P.media.type===S.o.EMBED?P.media.provider:null;O={estHeight:G(j,n),id:e,isFocusable:!(!P.media||n!==y.f.Large)&&(S.d.has(P.media.type)&&(!N||!S.r.has(N))&&!P.isSpoiler&&!P.isNSFW),trackOnEnteredViewport:T,trackOnExitedViewport:k,render:({className:t,height:n,width:u,remeasure:g,setScrollerChildRef:C,shouldLoadInitially:O})=>d.a.createElement(w,{className:t,currentProfileName:r,key:I,availableWidth:u,eventFactory:x,forceLoadMedia:O,inSubredditOrProfile:o,isCommentPermalink:a,isCommentsPage:i,isFrontpage:c,isProfilePostListing:m,listingKey:p,listingName:h,pageLayer:b,isOriginalPage:l,last:s,onClickPost:_,onSizeChanged:g,postId:e,redditStyle:v,sendEvent:this.props.sendEvent,scrollerItemRef:C})},this.scrollChildCache.set(C,O)}return O}render(){return this.hasPosts()?(this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.renderList()):this.showPlaceholder()?(this.renderingEmpty=!1,this.renderingPlaceholder=!0,this.renderPlaceholder()):(this.renderingEmpty=!0,this.renderingPlaceholder=!1,this.renderEmpty())}renderEmpty(){const e=this.props.noPostsComponent;return d.a.createElement(e,null)}renderPlaceholder(){var e=this.props;const t=e.apiError,s=e.className,n=e.disablePlaceholder,o=e.layout,r=e.onTryAgain,a=e.postListPlaceholderComponent;if(n)return;const i=a;return d.a.createElement("div",{className:M.a.placeholder},d.a.createElement(i,{className:s,isLoading:!t,layout:o}),!!t&&d.a.createElement(v.a,{apiError:t,onTryAgain:r}))}renderLoadMore(){var e=this.props;const t=e.apiError,s=e.apiPending,n=e.disablePlaceholder,o=e.layout,r=e.loadMoreClassName,a=e.onLoadMore;if(!n)return d.a.createElement("div",{className:M.a.placeholder},d.a.createElement(x.a,{className:r,isLoading:!!s,layout:o,countOverride:V[o]}),!!t&&d.a.createElement(v.a,{apiError:t,onTryAgain:a}))}renderList(){var e=this.props;const t=e.scrollContentContainerRef,s=e.enableElementHiding,o=e.getScrollContainer,r=e.injectChildren,a=e.isTruncated,i=e.layout,l=e.location,h=e.loadMore,b=e.postIds,g=e.onLoadMore;let x=b.map((e,t,s)=>{const n=t===b.length-1;return this.scrollChildForPost(e,t,n,i)});r&&(x=q(x,r));const v=this.props.measureScrollFPS?`post-listings-${i}`:void 0,f=l?Object(n.createPath)(l):null,y=f||a;return d.a.createElement(c.Fragment,null,d.a.createElement(C.a,{innerRef:this.updateScrollerRef,className:y?M.a.truncatedPostList:Object(p.a)(M.a.postList,this.props.className),contentContainerRef:t,dataKey:this.props.listingKey,disableScrollCache:!0,getContainer:o,enableElementHiding:s,key:this.props.listingKey,layoutKey:this.props.layout,loadMoreToken:h&&h.token?h.token:void 0,onLastVisibleChildRendered:this.setLastVisibleChildRendered,onLoadMore:g,onScroll:this.onScrollPause,preventScrollOnMount:this.props.preventScrollOnMount,trackingName:v,viewportTopPadding:E.g},x),f&&d.a.createElement(W,{className:M.a.seeMoreButton},d.a.createElement(j.a,{className:M.a.seeMorePostsText,to:Object(m.a)(f,{type:u.Kb.Posts})},d.a.createElement(O.a,{msgId:"search.seeMorePosts"}),d.a.createElement(H,null))),this.isLoadingMore()&&this.renderLoadMore())}}J.defaultProps={enableElementHiding:!0,listingKey:"",listingName:"",listingViewed:()=>()=>({}),noPostsComponent:d.a.Fragment}},"./src/reddit/components/PostMedia/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/CrosspostBox/index.tsx"),a=s("./src/reddit/components/Media/index.tsx");t.a=(e=>{const t=e.post,s=e.postCleanupVariant;return t.crosspostRootId?o.a.createElement(r.a,{postCleanupVariant:s,postId:t.crosspostRootId,mediaProps:Object.assign({},e,{crosspost:t,primaryContent:!1})}):o.a.createElement(a.a,Object.assign({},Object.assign({},e,{primaryContent:!!e.showFull})))})},"./src/reddit/components/PostMeta/index.m.less":function(e,t,s){e.exports={donationAmount:"_1x9gNS8wlrugqgwofOEcGq",metaContainer:"Ywkt6EDfNWINeTr9lP29H",postTopMeta:"iaAYGvTNtknkTxuHArCzL",subredditName:"_1L0pdcPf58t25Jy6ljHIKR"}},"./src/reddit/components/PostMeta/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/AwardBadges/index.tsx"),a=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),i=s("./src/reddit/components/Hovercards/SubredditHovercard/index.tsx"),c=s("./src/reddit/components/JSAPIContainers/index.tsx"),d=s("./src/reddit/components/OCCategoryList/index.tsx"),l=s("./src/reddit/components/PostBadges/index.tsx"),m=s("./src/reddit/components/PostTopMeta/index.tsx"),p=s("./src/reddit/components/QuarantinedLabel/index.tsx"),u=s("./src/reddit/components/SubredditNameLink/index.tsx"),h=s("./src/reddit/components/SubscribeButton/Inline.tsx"),b=s("./src/reddit/constants/posts.ts"),g=s("./src/reddit/controls/MetaSeparator/index.tsx"),x=s("./src/reddit/helpers/trackers/post.ts"),v=s("./src/reddit/models/Subreddit/index.ts"),C=s("./src/reddit/components/PostMeta/index.m.less"),O=s.n(C);t.a=(e=>{const t=e.flairStyleTemplate,s=e.hideGildCta,n=e.inSubredditOrProfile,C=e.isCurrentUserProfilePost,f=e.isInRemoveOcExperiment,E=e.language,y=e.post,j=e.postCleanupVariant,P=e.shouldShowSubscribeButton,w=e.showOCCategories,I=e.subredditOrProfile,S=e.tooltipType;return o.a.createElement("div",{className:O.a.metaContainer},!f&&w&&y.contentCategories&&o.a.createElement(d.a,{categoryNames:y.contentCategories}),!n&&!y.isSponsored&&I&&o.a.createElement(i.a,{postId:y.id,subredditName:I.name},o.a.createElement(u.a,{className:O.a.subredditName,"data-click-id":"subreddit",to:I.url},I.displayText)),I&&I.isQuarantined&&o.a.createElement(p.a,null),!n&&!y.isSponsored&&I&&P&&!C&&o.a.createElement(h.a,{getEventFactory:e=>Object(x.d)(y.id,e?"unsubscribe":"subscribe"),identifier:{name:I.name,type:Object(v.c)(I)?b.a.PROFILE:b.a.SUBREDDIT},postId:y.id,small:!0}),!n&&!y.isSponsored&&o.a.createElement(g.b,null),!n&&!y.isSponsored&&o.a.createElement(c.h,{type:y.belongsTo.type,id:y.belongsTo.id}),o.a.createElement(m.d,{className:O.a.postTopMeta,flairStyleTemplate:t,language:E,post:y,postCleanupVariant:j,showSponsorIcon:!0,tooltipType:S}),o.a.createElement(l.a,{displayText:I?I.displayText:null,inSubredditOrProfile:!!n,language:E,post:y,tooltipType:S}),I&&o.a.createElement(a.a,{className:O.a.donationAmount,contentId:y.id,subredditId:I.id}),o.a.createElement(r.a,{hideCta:s,thing:y,tooltipType:S}))})},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.m.less":function(e,t,s){e.exports={ListContainer:"VHCAEHBEuD8bln8MDFl35",listContainer:"VHCAEHBEuD8bln8MDFl35",Icon:"_3WbGqnEpw_ds1P508Qawma",icon:"_3WbGqnEpw_ds1P508Qawma",DropdownRow:"x_9o8pHUgKrlsT51QhLnG",dropdownRow:"x_9o8pHUgKrlsT51QhLnG",CheckboxMenuItem:"_9csa2XobkeFZUX8Fc_FNY",checkboxMenuItem:"_9csa2XobkeFZUX8Fc_FNY"}},"./src/reddit/components/PostModModeDropdown/DropdownHelpers.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return h}),s.d(t,"d",function(){return b}),s.d(t,"f",function(){return g}),s.d(t,"g",function(){return x}),s.d(t,"h",function(){return v}),s.d(t,"i",function(){return C}),s.d(t,"b",function(){return O}),s.d(t,"c",function(){return f}),s.d(t,"e",function(){return E});var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/controls/CheckboxMenuItem/index.tsx"),r=s("./src/reddit/controls/Dropdown/Row.tsx"),a=s("./src/reddit/icons/fonts/Approve/index.tsx"),i=s("./src/reddit/icons/fonts/Envelope/index.tsx"),c=s("./src/reddit/icons/fonts/Lock/index.tsx"),d=s("./src/reddit/icons/fonts/Remove/index.tsx"),l=s("./src/reddit/icons/fonts/Spam/index.tsx"),m=s("./src/reddit/icons/fonts/Tag/index.tsx"),p=s("./src/reddit/components/PostModModeDropdown/DropdownHelpers.m.less"),u=s.n(p);const h=n.a.wrapped(a.a,"Icon",u.a),b=n.a.wrapped(i.a,"Icon",u.a),g=n.a.wrapped(c.a,"Icon",u.a),x=n.a.wrapped(d.a,"Icon",u.a),v=n.a.wrapped(l.a,"Icon",u.a),C=n.a.wrapped(m.a,"Icon",u.a),O=n.a.wrapped(o.b,"CheckboxMenuItem",u.a),f=n.a.wrapped(r.b,"DropdownRow",u.a),E=n.a.div("ListContainer",u.a)},"./src/reddit/components/PostPinnedHeader/index.m.less":function(e,t,s){e.exports={container:"_203iZ8LUuIrz_IJbiOAJDH",pinnedIcon:"_2xKvAjjyhpXElWBVqyWyml",metaText:"rewiG9XNj_xqkQDcyR88j"}},"./src/reddit/components/PostTopLine/index.m.less":function(e,t,s){e.exports={donationAmount:"_1SRZN02bVXzHIIMqGwlZD7",everythingElseWrapper:"cZPZhMe-UCZ8htPodMyJ5",eventMeta:"_28_NUs_O8Nh1DCErsNLCHk",outboundLinkIcon:"_3z6z1xnp828wcarJXfzzjr",postBadges:"_2wFk1qX4e1cxk8Pkw1rAHk",postTopMeta:"nU4Je7n-eSXStTBAPMYt8",subredditIcon:"_1WX5Y5qFVBTdr6hCPpARDB",subredditIconWrapper:"_2dr_3pZUCk8KfJ-x0txT_l",followPost:"_2dQWElMH3F-0U9e25bPo1f",Container:"BiNC74axuTz66dlnEgicY",container:"BiNC74axuTz66dlnEgicY",PostOverflow:"_2tLA78PLrLx5lz5Jj6cR",postOverflow:"_2tLA78PLrLx5lz5Jj6cR",OutboundLink:"ZH9AvMqL-Qq_nAA1RFcAY",outboundLink:"ZH9AvMqL-Qq_nAA1RFcAY",cleanup:"_6LzJl-zEFQOvMbUBej-0T"}},"./src/reddit/components/PostTopLine/index.tsx":function(e,t,s){"use strict";var n=s("./src/config.ts"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/components/AwardBadges/index.tsx"),c=s("./src/reddit/components/Economics/Support/DonationAmount/async.tsx"),d=s("./node_modules/react-redux/es/index.js"),l=s("./node_modules/reselect/es/index.js"),m=s("./src/lib/constants/index.ts"),p=s("./src/app/strings/index.ts"),u=s("./src/reddit/controls/Button/index.tsx"),h=s("./src/reddit/icons/svgs/Notify/index.tsx"),b=s("./src/reddit/components/FollowButton/index.m.less"),g=s.n(b),x=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};var v=e=>{var t=e.className,s=e.isFollowed,n=e.language,o=x(e,["className","isFollowed","language"]);const i=s?u.i:u.f;return r.a.createElement(i,Object.assign({},o,{className:Object(a.a)(g.a.button,t),"data-redditstyle":!0}),r.a.createElement("div",{className:g.a.layout},r.a.createElement(h.a,{className:Object(a.a)(g.a.icon,{[g.a.isFollowed]:s})}),Object(p.a)(n,s?"followPost.followed":"followPost.follow")))},C=s("./src/reddit/components/TrackingHelper/index.tsx"),O=s("./src/reddit/helpers/localStorage/index.ts"),f=s("./src/reddit/selectors/telemetry.ts");const E=()=>e=>Object.assign({},f.defaults(e),{source:"follow_post_pd",action:"view",noun:"button"}),y=()=>e=>Object.assign({},f.defaults(e),{source:"follow_post_pd",action:"click",noun:"button"}),j=()=>e=>Object.assign({},f.defaults(e),{source:"follow_post_pd",action:"view",noun:"tooltip"});var P=s("./src/reddit/selectors/experiments/followPost.ts"),w=s("./src/reddit/selectors/user.ts"),I=s("./src/reddit/i18n/utils.ts"),S=s("./src/higherOrderComponents/addOverlayEvents.tsx"),T=s("./src/reddit/components/HelpfulTooltip/index.tsx"),k=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),_=s("./src/reddit/components/FollowButton/Tooltip.m.less"),N=s.n(_),L=s("./src/lib/lessComponent.tsx");const M=["right","bottom"],R=["right","top"],F=L.a.wrapped(T.a,"StyledHelpfulTooltip",N.a);const B=Object(k.a)(Object(C.b)(class extends r.a.Component{componentDidMount(){this.props.sendEvent(j())}render(){return r.a.createElement(F,Object.assign({},this.props,{text:Object(I.c)("Want to know when new popular comments come in? Follow this post for updates.")}))}}),[S.a.Click,S.a.Keydown,S.a.Resize]);var A=e=>r.a.createElement(B,Object.assign({},e,{isFixed:!1,targetPosition:M,tooltipPosition:R}));const D="follow-post",V=Object(l.c)({followPostVariant:P.a,language:w.T});var W=Object(d.b)(V)(Object(C.b)(class extends r.a.Component{constructor(){super(...arguments),this.state={isFollowed:!1,isTooltipDismissed:!1,isTooltipOpened:!1},this.toggleFollowed=(()=>{this.props.sendEvent(y()),this.setState(e=>{const t=!e.isFollowed;Object(O.T)(this.props.postId,t);let s=e.isTooltipDismissed;return Object(P.c)(this.props.followPostVariant)&&(s=!0,Object(O.I)(!0)),{isFollowed:t,isTooltipDismissed:s}})}),this.showTooltip=(()=>{Object(P.b)(this.props.followPostVariant)&&this.setState(e=>e.isTooltipOpened?null:{isTooltipOpened:!0})}),this.hideTooltip=(()=>{Object(P.b)(this.props.followPostVariant)&&this.setState(e=>e.isTooltipOpened?{isTooltipOpened:!1}:null)}),this.dismissTooltip=(()=>{Object(O.I)(!0),this.setState({isTooltipDismissed:!0})})}componentDidMount(){this.props.sendEvent(E());const e=Object(O.i)();this.setState({isFollowed:!!e.followedPosts[this.props.postId],isTooltipDismissed:e.tooltipDismissed}),!e.tooltipDismissed&&Object(P.c)(this.props.followPostVariant)&&Date.now()-e.tooltipLastSeenTime>=m.w&&setTimeout(()=>{Object(O.J)(Date.now()),this.setState({isTooltipOpened:!0})},2e3)}render(){var e=this.props;const t=e.followPostVariant,s=e.language,n=Object(P.b)(t)||Object(P.c)(t)&&!this.state.isTooltipDismissed;return r.a.createElement("div",{className:this.props.className,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,onMouseMove:this.showTooltip},r.a.createElement(v,{"data-redditstyle":!0,id:D,isFollowed:this.state.isFollowed,language:s,onClick:this.toggleFollowed}),n&&r.a.createElement(A,{hideCloseButton:Object(P.b)(t),isOpen:this.state.isTooltipOpened,language:s,onCloseClick:this.dismissTooltip,tooltipId:D}))}})),H=s("./src/reddit/components/JSAPIContainers/index.tsx"),U=s("./src/reddit/components/OCCategoryList/index.tsx"),z=s("./src/reddit/components/PostBadges/index.tsx"),K=s("./src/reddit/components/PostCleanup/PostOverflowButton/index.tsx"),G=s("./src/reddit/components/PostTopMeta/index.tsx"),q=s("./src/reddit/components/SubredditIcon/index.tsx"),J=s("./src/reddit/components/SubredditNameLink/index.tsx"),Y=s("./src/reddit/components/SubscribeButton/Inline.tsx"),Q=s("./src/reddit/constants/posts.ts"),X=s("./src/reddit/controls/OutboundLink/index.tsx"),Z=s("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),$=s("./src/reddit/helpers/trackers/post.ts"),ee=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),te=s("./src/reddit/models/Media/index.ts"),se=s("./src/reddit/models/Subreddit/index.ts"),ne=s("./src/reddit/components/PostTopLine/index.m.less"),oe=s.n(ne);const re=L.a.div("Container",oe.a);t.a=(e=>{const t=e.className,s=e.flairStyleTemplate,o=e.hideNSFWPref,d=e.iconClassName,l=e.inSubredditOrProfile,m=e.isCurrentUserProfilePost,p=e.isCommentsPage,u=e.isInRemoveOcExperiment,h=e.isOverlay,b=e.language,g=e.isCompactPinnedPost,x=e.post,v=e.postCleanupVariant;var C=e.shouldShowAwards;const O=void 0===C||C,f=e.shouldShowFollowButton,E=e.shouldShowPostOverflow,y=e.shouldShowSubscribeButton,j=e.showCornerOutboundLink,P=e.showOCCategories,w=e.showSubreddit,I=e.subredditOrProfile,S=Object(Z.a)({subredditOrProfile:I}),T=I&&I.isNSFW&&o&&"user"===I.type;return r.a.createElement(re,{className:t},!u&&P&&x.contentCategories&&r.a.createElement(U.a,{categoryNames:x.contentCategories}),w&&I&&r.a.createElement("div",{className:oe.a.subredditIconWrapper},r.a.createElement(J.a,{"data-click-id":"subreddit",to:I.url},r.a.createElement(q.b,{className:Object(a.a)(oe.a.subredditIcon,d),primaryColor:S.color,iconUrl:T?`${n.a.assetPath}/img/avatar_over18.png`:S.url}))),r.a.createElement("div",{className:oe.a.everythingElseWrapper},w&&r.a.createElement(H.h,{type:x.belongsTo.type,id:x.belongsTo.id}),r.a.createElement(G.d,{className:oe.a.postTopMeta,flairStyleTemplate:s,tooltipType:h?G.c.Lightbox:void 0,inSubredditOrProfile:l,isCommentsPage:p,language:b,post:x,postCleanupVariant:v,showSponsorIcon:!0,showSub:w,subredditOrProfile:I}),r.a.createElement(z.a,{className:oe.a.postBadges,displayText:I?I.displayText:null,inSubredditOrProfile:l,language:b,isCompactPinnedPost:g,post:x,tooltipType:h?G.c.Lightbox:void 0}),I&&r.a.createElement(c.a,{className:oe.a.donationAmount,contentId:x.id,subredditId:I.id}),O&&r.a.createElement(i.a,{forceShowAllAwards:p,tooltipType:h?G.c.Lightbox:void 0,thing:x}),f&&r.a.createElement(W,{className:oe.a.followPost,postId:x.id})),I&&w&&y&&!m&&r.a.createElement(Y.a,{getEventFactory:e=>Object($.d)(x.id,e?"unsubscribe":"subscribe"),identifier:{name:I.name,type:Object(se.c)(I)?Q.a.PROFILE:Q.a.SUBREDDIT},postId:x.id},"Subscribe"),j&&r.a.createElement(X.a,{className:Object(a.a)(oe.a.OutboundLink,{[oe.a.cleanup]:!!v}),isSponsored:x.isSponsored,href:Object(te.B)(e.post),source:x.source},r.a.createElement(ee.a,{className:oe.a.outboundLinkIcon})),E&&r.a.createElement(K.a,{className:oe.a.PostOverflow,isOverlay:h,post:x}))})},"./src/reddit/components/ProfileIdCard/Highlight.m.less":function(e,t,s){e.exports={Container:"_2fN55zgax6VM7DyEl9pOmM",container:"_2fN55zgax6VM7DyEl9pOmM",Body:"_3KNaG9-PoXf4gcuy5_RCVy",body:"_3KNaG9-PoXf4gcuy5_RCVy",Title:"_26kBTuLE_sSZzRBwU7HLij",title:"_26kBTuLE_sSZzRBwU7HLij",Label:"_1hNyZSklmcC7R_IfCUcXmZ",label:"_1hNyZSklmcC7R_IfCUcXmZ"}},"./src/reddit/components/ProfileIdCard/Highlights.m.less":function(e,t,s){e.exports={icon:"_2fopwfsUIdZKFtFUEsud9r",Container:"_3odBTM7RqvRgN1nvkf5k8B",container:"_3odBTM7RqvRgN1nvkf5k8B"}},"./src/reddit/components/ProfileIdCard/Preview.m.less":function(e,t,s){e.exports={BannerWrapper:"_2xyDZKy2cesRk-qhNei4mr",bannerWrapper:"_2xyDZKy2cesRk-qhNei4mr",BannerImage:"_39u8lkB0jifV2dCyGxhTst",bannerImage:"_39u8lkB0jifV2dCyGxhTst",SnooIcon:"_39rt5SOMKEB5MI0D3j7M5S",snooIcon:"_39rt5SOMKEB5MI0D3j7M5S",Widget:"_27SH1SRzjtOk_2NB2YC-FR",widget:"_27SH1SRzjtOk_2NB2YC-FR",UserTitle:"_3W1eUu5jHdcamkzFiJDITJ",userTitle:"_3W1eUu5jHdcamkzFiJDITJ",PremiumIcon:"_2LDCmPsDet63TXFgOSOkkT",premiumIcon:"_2LDCmPsDet63TXFgOSOkkT",Description:"bVfceI5F_twrnRcVO1328",description:"bVfceI5F_twrnRcVO1328",userName:"_2hgZVu2K-pvoghsBGGbJ7P",Actions:"GQV0F7lQiMOV6EofzopdJ",actions:"GQV0F7lQiMOV6EofzopdJ",CloseIcon:"t8u6KWjSIjLFBXsDU3u5M",closeIcon:"t8u6KWjSIjLFBXsDU3u5M",LoadingIconStyled:"mtxpTbJWwD6VP05MIdrPa",loadingIconStyled:"mtxpTbJWwD6VP05MIdrPa"}},"./src/reddit/components/ProfileIdCard/Preview.tsx":function(e,t,s){"use strict";var n=s("./src/config.ts"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./src/lib/lessComponent.tsx"),i=s("./src/reddit/components/Widgets/Base/index.tsx"),c=s("./src/reddit/controls/InternalLink/index.tsx"),d=s("./src/reddit/controls/LoadingIcon/index.tsx"),l=s("./src/reddit/i18n/utils.ts"),m=s("./src/reddit/icons/svgs/Admin/index.tsx"),p=s("./src/reddit/icons/svgs/Close/index.tsx"),u=s("./src/reddit/icons/svgs/Premium/index.tsx"),h=s("./src/reddit/layout/twoCol/Dynamic/index.tsx"),b=s("./src/reddit/components/ProfileIdCard/AwardedLastMonth.tsx"),g=s("./node_modules/react-redux/es/index.js"),x=s("./node_modules/reselect/es/index.js"),v=s("./src/lib/humanizeDate/index.ts"),C=s("./src/lib/prettyPrintNumber/index.ts"),O=s("./src/lib/timeAgo/index.ts"),f=s("./src/reddit/contexts/InsideOverlay.tsx"),E=s("./src/reddit/icons/svgs/Cake/index.tsx"),y=s("./src/reddit/icons/svgs/Karma/index.tsx"),j=s("./src/reddit/icons/svgs/User/index.tsx"),P=s("./src/reddit/selectors/profile.ts"),w=s("./src/reddit/selectors/user.ts"),I=s("./src/reddit/actions/tooltip.ts"),S=s("./src/reddit/components/InfoTextTooltip/index.tsx"),T=s("./src/reddit/components/ProfileIdCard/Highlight.m.less"),k=s.n(T);const _=Object(x.c)({language:w.T}),N=a.a.div("Container",k.a),L=a.a.div("Body",k.a),M=a.a.h5("Title",k.a),R=a.a.span("Label",k.a);var F=Object(g.b)(_,e=>({toggleTooltip:t=>e(Object(I.e)({tooltipId:t}))}))(Object(f.b)(class extends r.a.Component{constructor(){super(...arguments),this.toggleTooltip=(()=>{var e=this.props;const t=e.toggleTooltip,s=e.tooltipId;t&&s&&t(s)})}render(){var e=this.props;const t=e.icon,s=e.label,n=e.title,o=e.tooltip,a=e.tooltipId,i=a&&o?{id:a,onMouseEnter:this.toggleTooltip,onMouseLeave:this.toggleTooltip}:{};return r.a.createElement(N,null,r.a.createElement(M,null,n),r.a.createElement(L,null,t,r.a.createElement(R,Object.assign({key:"label"},i),s)),a&&o&&r.a.createElement(S.c,{caretOnTop:!0,tooltipId:a,text:o}))}})),B=s("./src/reddit/components/ProfileIdCard/Highlights.m.less"),A=s.n(B);const D=Object(x.a)(P.j,(e,{profileName:t})=>Object(w.kb)(e,t),w.T,(e,t,s)=>({commentKarma:t?t.commentKarma:0,language:s,postKarma:t?t.postKarma:0,profileCreated:t?t.created:0,subscribers:e&&e.subscribers||0})),V=a.a.div("Container",A.a);function W(e,t){return`profile--id-card--highlight-tooltip-${e?"-overlay":""}-${t}`}var H=Object(g.b)(D)(Object(f.b)(e=>{const t=e.profileCreated,s=e.isOverlay,n=e.language,o=e.commentKarma,a=e.postKarma,i=e.subscribers,c=W(s,"karma"),d=W(s,"cakeday"),m=Object(l.c)(`${Object(l.b)("postKarmaNumber",Object(C.b)(a,!0))} Post Karma`),p=Object(l.c)(`${Object(l.b)("commentKarmaNumber",Object(C.b)(o,!0))} Comment Karma`);return r.a.createElement(V,null,r.a.createElement(F,{icon:r.a.createElement(y.a,{className:A.a.icon,key:"karma"}),label:Object(C.b)(o+a,!0),title:Object(l.c)("Karma"),tooltipId:c,tooltip:`${m}\n${p}`}),r.a.createElement(F,{icon:r.a.createElement(E.a,{className:A.a.icon,key:"cakeDay"}),label:Object(v.a)(t,n,!0),title:Object(l.c)("Cake day"),tooltipId:d,tooltip:Object(O.b)(n,t)}),i>0&&r.a.createElement(F,{icon:r.a.createElement(j.a,{className:A.a.icon,key:"followers"}),title:Object(l.c)("Followers"),label:Object(C.b)(i,!0)}))})),U=s("./src/reddit/components/ProfileIdCard/index.m.less"),z=s.n(U),K=s("./src/reddit/components/ProfileIdCard/Preview.m.less"),G=s.n(K);s.d(t,"a",function(){return ae});var q=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const J=a.a.div("BannerWrapper",G.a),Y=a.a.div("BannerImage",G.a),Q=a.a.div("SnooIcon",G.a),X=a.a.wrapped(i.b,"Widget",G.a),Z=a.a.h4("UserTitle",G.a),$=a.a.wrapped(u.a,"PremiumIcon",G.a),ee=a.a.div("Description",G.a),te=e=>{var t=e.url,s=q(e,["url"]);return t?r.a.createElement(c.a,Object.assign({},s,{className:G.a.userName,to:t})):r.a.createElement("span",Object.assign({},s,{className:G.a.userName}))},se=a.a.wrapped(h.a,"Actions",G.a),ne=a.a.wrapped(p.a,"CloseIcon",G.a),oe=a.a.wrapped(d.a,"LoadingIconStyled",G.a),re=()=>r.a.createElement(oe,{sizePx:20});class ae extends r.a.PureComponent{renderAwardedLastMonth(){var e=this.props;const t=e.recentAwardings,s=e.username;return t?r.a.createElement(b.a,{recentAwardings:t,username:s}):null}render(){var e=this.props;const t=e.actions,s=e.bannerBackgroundImage,o=e.className,a=e.footer,i=e.isEmployee,c=e.isGold,d=e.isOverlay,p=e.profileIcon,u=e.publicDescription,h=e.title,b=e.url,g=e.username,x=e.isDefaultIcon,v=e.isDeletingIcon,C=e.isDeletingBanner,O=e.onDeleteIcon,f=e.onDeleteBanner,E=e.editMode;return r.a.createElement(X,{className:o},r.a.createElement(J,null,s&&r.a.createElement(Y,{style:{backgroundImage:`url(${s})`}}),E&&s&&(C?r.a.createElement(re,null):r.a.createElement(ne,{onClick:f}))),r.a.createElement("div",{className:z.a.SnooIconWrapper},r.a.createElement(Q,{style:{backgroundImage:`url(${p})`}}),E&&!x&&(v?r.a.createElement(re,null):r.a.createElement(ne,{onClick:O}))),h&&r.a.createElement(Z,null,h),r.a.createElement(te,{url:b},`u/${g}`),i&&r.a.createElement(m.a,{className:z.a.adminIcon}),c&&r.a.createElement("a",{title:Object(l.c)(`${Object(l.b)("username",g)} has Reddit Premium`),href:`${n.a.redditUrl}/premium`},r.a.createElement($,null)),r.a.createElement(ee,null,u),r.a.createElement(H,{profileName:g,isOverlay:d}),this.renderAwardedLastMonth(),r.a.createElement(se,null,t),a)}}},"./src/reddit/components/ProfileIdCard/footer.m.less":function(e,t,s){e.exports={container:"_2jvbIljd1r6tRUsfoDij_y",expandContainer:"_1HKW6ri9nK1INtj09BfFfM",expandButton:"_34I-V8v9TxMwIW1R6Rbi3A",menuItem:"_2j70PtPj9zrWOU8NshwTg-",redditStyle:"_38vTQxawhhbbhD8rZc36N5",givePremium:"_7kzwf5CKQ1ZMORHN3w7Cm",Shimmer:"_1-2CAwx45SgG4EsI1-GWZh",shimmer:"_1-2CAwx45SgG4EsI1-GWZh"}},"./src/reddit/components/ProfileIdCard/index.tsx":function(e,t,s){"use strict";var n=s("./src/config.ts"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/reddit/actions/subscription/index.ts"),d=s("./src/reddit/components/ProfileIdCard/Preview.tsx"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/constants/posts.ts"),p=s("./src/reddit/controls/Button/index.tsx"),u=s("./src/reddit/featureFlags/index.ts"),h=s("./src/reddit/i18n/components.tsx"),b=s("./src/reddit/selectors/platform.ts"),g=s("./src/reddit/selectors/profile.ts"),x=s("./src/reddit/selectors/structuredStyles.ts"),v=s("./src/reddit/selectors/tooltip.ts"),C=s("./src/reddit/selectors/user.ts"),O=s("./node_modules/lodash/compact.js"),f=s.n(O),E=s("./src/lib/classNames/index.ts"),y=s("./src/reddit/actions/gold/modals.ts"),j=s("./src/reddit/actions/profile/index.ts"),P=s("./src/higherOrderComponents/makeAsync.tsx"),w=s("./src/lib/loadWithRetries/index.ts");var I=Object(P.a)({getComponent:()=>Object(w.a)(()=>s.e("GivePremiumModal").then(s.bind(null,"./src/reddit/components/GivePremiumModal/index.tsx"))).then(e=>e.default),ErrorComponent:()=>null,LoadingComponent:()=>null}),S=s("./src/reddit/controls/InternalLink/index.tsx"),T=s("./src/reddit/controls/OutboundLink/index.tsx"),k=s("./src/reddit/helpers/correlationIdTracker.ts"),_=s("./src/reddit/helpers/styles/mixins/loading.ts"),N=s("./src/reddit/i18n/utils.ts"),L=s("./src/reddit/models/Gold/Premium/index.ts"),M=s("./src/reddit/selectors/premium.ts"),R=s("./src/reddit/components/ProfileIdCard/footer.m.less"),F=s.n(R),B=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const A=Object(i.c)({areModeratedSubredditsPending:g.a,coinsToSpend:C.d,givePremiumModalIsOpen:M.c,hasFetchedModerators:g.k,isEmployee:C.I,isLoggedIn:C.L,language:C.T}),D=e=>{var t=e.isLoading,s=B(e,["isLoading"]);return r.a.createElement("div",Object.assign({},s,{className:Object(E.a)(F.a.Shimmer,Object(_.c)({isLoading:t}))}))};var V=Object(a.b)(A,(e,{profileName:t})=>({onClickGivePremium:()=>e(Object(y.e)(t)),onModeratorsRequested:()=>e(Object(j.b)(t))}))(class extends r.a.Component{constructor(){super(...arguments),this.state={expanded:!1},this.clickGivePremium=(async()=>{var e=this.props;const t=e.onClickGivePremium,n=e.sendEvent;Object(k.d)(k.a.GiftPremiumFlow),t(),n((0,(await s.e("givePremiumTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/givePremium.ts"))).clickGivePremiumEvent)())}),this.moreOptionsToggled=(()=>{!this.state.expanded&&this.canLoadMods()&&this.props.onModeratorsRequested(),this.setState(({expanded:e})=>({expanded:!e}))})}canLoadMods(){return this.props.isLoggedIn&&!this.props.isOwnProfile&&!this.props.hasFetchedModerators&&!this.props.areModeratedSubredditsPending}isLoadingMods(){return this.props.isLoggedIn&&!this.props.isOwnProfile&&(!this.props.hasFetchedModerators||this.props.areModeratedSubredditsPending)}render(){var e=this.props;const t=e.hasSubreddit,s=e.coinsToSpend,o=e.givePremiumModalIsOpen,a=e.isLoggedIn,i=e.isOwnProfile,c=e.profileName,d=e.allowViewSnoovatar,l=e.isEmployee,m=e.isModerator,u=this.state.expanded,b=function({allowViewSnoovatar:e,hasSubreddit:t,isOwnProfile:s,isModerator:o,profileName:r}){return f()([(s||o)&&t?{text:Object(N.c)("Profile Moderation"),url:`/user/${r}/about/edit/moderation`,isInternalLink:!0}:void 0,s?void 0:{text:Object(N.c)("Send Message"),url:`${n.a.redditUrl}/message/compose/?to=${r}`},!s&&e?{text:Object(N.c)("View Snoovatar"),url:`${n.a.redditUrl}/user/${r}/snoo`}:void 0,s?void 0:{text:Object(N.c)("Report User"),url:"https://web.archive.org/web/20190901080902/https://www.reddithelp.com/en/categories/rules-reporting/account-and-community-restrictions/what-should-i-do-if-i-see-something-i"}])}({allowViewSnoovatar:d,hasSubreddit:t,isOwnProfile:i,isModerator:m,profileName:c}),g=a&&Object(L.b)(s,l).length&&!i||l;if(0===b.length&&!g)return null;const x=(u?b:[]).map(e=>e.isInternalLink?r.a.createElement(S.a,{key:e.url,to:e.url,className:F.a.menuItem},e.text):r.a.createElement(T.a,{key:e.url,href:e.url,isSponsored:!1,source:void 0,className:F.a.menuItem},e.text));if(this.state.expanded&&g){const e=r.a.createElement("button",{className:Object(E.a)(F.a.menuItem,F.a.givePremium),key:"give-premium",onClick:this.clickGivePremium},r.a.createElement(h.c,null,"Give Premium"));x.length?x.splice(1,0,e):x.unshift(e)}this.state.expanded&&this.isLoadingMods()&&(x.unshift(r.a.createElement("div",{className:F.a.menuItem,key:"loading-1"},r.a.createElement(D,{isLoading:this.props.areModeratedSubredditsPending}))),x.unshift(r.a.createElement("div",{className:F.a.menuItem,key:"loading-2"},r.a.createElement(D,{isLoading:this.props.areModeratedSubredditsPending}))));const v=u?Object(N.c)("Fewer Options"):Object(N.c)("More Options");return r.a.createElement("div",{className:F.a.container},x,r.a.createElement("div",{className:F.a.expandContainer},r.a.createElement(p.n,{className:F.a.expandButton,onClick:this.moreOptionsToggled},v)),o&&r.a.createElement(I,null))}});var W=s("./src/reddit/components/ProfileIdCard/index.m.less"),H=s.n(W);const U=Object(i.c)({account:C.k,activeTooltipId:v.a,currentUserHasSubreddit:C.h,hideNSFWPref:C.B,isModerator:g.f,profile:g.j,profileAboutInfo:g.h,structuredStyle:(e,t)=>Object(x.n)(e,Object(g.m)(e,t.profileName)),userHasSubreddit:(e,{profileName:t})=>Object(C.ib)(e,{userName:t}),userInChat:u.d.userInChat,user:(e,{profileName:t})=>Object(C.hb)(e,{userName:t}),page:b.b}),z=({username:e,currentUserHasSubreddit:t})=>r.a.createElement("div",{className:H.a.actionItem},r.a.createElement(p.h,{className:H.a.button,to:t?`/user/${e}/submit`:"/submit"},r.a.createElement(h.c,null,"New post"))),K=({profileName:e,onToggleFollow:t,userIsSubscriber:s})=>r.a.createElement("div",{className:H.a.actionItem},s?r.a.createElement(p.i,{className:H.a.button,onClick:()=>t(e,s)},r.a.createElement(h.c,null,"Unfollow")):r.a.createElement(p.f,{className:H.a.button,onClick:()=>t(e,s)},r.a.createElement(h.c,null,"Follow"))),G=({userId:e})=>r.a.createElement("div",{className:H.a.actionItem},r.a.createElement(p.g,{className:H.a.button,target:"_blank",href:`${n.a.redditUrl}/chat/user_id/${e}`},r.a.createElement(h.c,null,"Chat")));t.a=Object(a.b)(U,e=>({onToggleFollow:(t,s)=>e(Object(c.d)([{name:t,type:m.a.PROFILE}],!s))}))(Object(l.b)(e=>{const t=e.account,s=e.currentUserHasSubreddit,o=e.hideNSFWPref,a=e.isModerator,i=e.isOverlay,c=e.isSubmissionPage,l=e.onToggleFollow,m=e.profile,p=e.profileAboutInfo,u=e.sendEvent,h=e.structuredStyle,b=e.userHasSubreddit,g=e.userInChat,x=e.user,v=e.page;if(!x)return null;const C=x.accountIcon,O=x.awardedLastMonth,f=x.id,E=x.isEmployee,y=x.isGold,j=x.prefShowSnoovatar,P=x.username,w=!!t&&t.id===f,I=h&&h.bannerBackgroundImage,S=m&&m.isNSFW&&o,T=!(!p||!p.userIsSubscriber),k=`/user/${P}/`,_=v&&v.url===k;return r.a.createElement(d.a,{isEmployee:E,isGold:y,isOverlay:i,publicDescription:p?p.publicDescription:void 0,title:m?m.title:void 0,url:_?null:k,username:P,recentAwardings:O,actions:r.a.createElement(r.a.Fragment,null,w&&!c&&z({username:P,currentUserHasSubreddit:s}),!w&&b&&K({profileName:P,onToggleFollow:l,userIsSubscriber:T}),!!t&&!w&&g&&G({userId:f})),footer:r.a.createElement(V,{hasSubreddit:b,isModerator:a,isOwnProfile:w,allowViewSnoovatar:j,profileName:P,sendEvent:u}),profileIcon:S?`${n.a.assetPath}/img/avatar_over18_square.png`:C,bannerBackgroundImage:S?void 0:I})}))},"./src/reddit/components/RecommendedPostList/Footer/index.m.less":function(e,t,s){e.exports={footer:"_1khvWSB4GNuM2XwSjluHzO",background:"_3P_3k_jLv_J8ieIol9GqFL",layout:"_3CzLjB_82xAxB3iyad5yLM",arrow:"_3P6Ag4hY0u5ujhvLSAAVUH"}},"./src/reddit/components/RecommendedPostList/index.m.less":function(e,t,s){e.exports={topPostsHeader:"_1UbFWXvPTlrPngGxKndM-h",smallBanner:"_3O03kg0NTHcVFAyOQNoptz",footer:"Cvt0D6iVwU5TI0SY2nIGC",textBanner:"_1_-Wwc76dn19ch_lxyp8hf",container:"_2l7c_Oz0UVsamALvPrlznq",redditStyle:"_3f1Tk2rNUQGOPokixOdO6a",homeUpsellBanner:"HxVtNYGfeayfU1THFnAzK",homeUpsellBannerBorder:"_3afoK8x8kiKzCgwyofmvxu",postList:"_13FxmZ1xHIcRd_CuOaiyfo",loadMore:"_2gnvYSohivzo1V12YQI8DY"}},"./src/reddit/components/ResizeSensor/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return i});var n=s("./node_modules/raf/index.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r);class i extends a.a.Component{constructor(e){super(e),this.isIE=(()=>/Trident/.test(navigator.userAgent)),this.setContainerRef=(e=>{this.containerRef||(this.containerRef=e,this.createSensor())}),this.handleResize=(()=>{void 0!==this.frame&&o.a.cancel(this.frame),this.frame=o()(this.props.onResize)}),this.containerRef=e.containerRef}shouldComponentUpdate(){return!1}componentDidMount(){this.createSensor()}createSensor(){if(!this.containerRef||this.sensor)return;this.sensor=document.createElement("object"),this.sensor.setAttribute("style","\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      overflow: hidden;\n      pointer-events: none;\n      z-index: -1;\n    "),this.sensor.setAttribute("tabindex","-1"),this.sensor.onload=(()=>{this.props.onResize(),this.sensor&&this.sensor.contentDocument&&this.sensor.contentDocument.defaultView&&this.sensor.contentDocument.defaultView.addEventListener("resize",this.handleResize)}),this.sensor.type="text/html";const e=this.isIE();e&&this.containerRef.appendChild(this.sensor),this.sensor.data="about:blank",e||this.containerRef.appendChild(this.sensor),this.props.onResize()}componentWillUnmount(){this.sensor&&(this.sensor&&this.sensor.contentDocument&&this.sensor.contentDocument.defaultView&&this.sensor.contentDocument.defaultView.removeEventListener("resize",this.handleResize),this.containerRef&&this.containerRef.removeChild(this.sensor))}render(){return a.a.createElement("div",{ref:this.setContainerRef})}}},"./src/reddit/components/RichTextEditor/Placeholder.m.less":function(e,t,s){e.exports={content:"_3Yo9aCwUoJBBuPKwf3r5cP",prompt:"_3CuuiBuYvA4VXTClabDCUK",toolbar:"_31gqZmjkDlF5-81EKQ7w_Y",topToolbar:"_6rO7u4xvTeWjMNR68asbw",bottomToolbar:"_2Qh8N3s0Z7NWIPCVBDCcxH"}},"./src/reddit/components/RichTextEditor/Placeholder.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/FocusableContent/index.tsx"),i=s("./src/reddit/helpers/styles/mixins/loading.ts"),c=s("./src/reddit/components/RichTextEditor/Placeholder.m.less"),d=s.n(c);t.a=(({className:e,isLoading:t,toolbarPosition:s})=>o.a.createElement("div",{className:e},o.a.createElement(a.a,{isFocused:!1},"top"===s&&o.a.createElement("div",{className:Object(r.a)(d.a.toolbar,d.a.topToolbar,Object(i.a)({isLoading:t}))}),o.a.createElement("div",{className:d.a.content},o.a.createElement("div",{className:Object(r.a)(d.a.prompt,Object(i.a)({isLoading:!0}))})),"bottom"===s&&o.a.createElement("div",{className:Object(r.a)(d.a.toolbar,d.a.bottomToolbar,Object(i.a)({isLoading:t}))}))))},"./src/reddit/components/Scroller/Simple.m.less":function(e,t,s){e.exports={Hidden:"wwHbgRV0ZXGp5CHHlpo5u",hidden:"wwHbgRV0ZXGp5CHHlpo5u"}},"./src/reddit/components/Scroller/Simple.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/debounce.js"),o=s.n(n),r=s("./node_modules/lodash/isNil.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),d=s("./node_modules/react-dom/index.js"),l=s("./node_modules/react-redux/es/index.js"),m=s("./node_modules/request-idle-callback/index.js"),p=s("./node_modules/reselect/es/index.js"),u=s("./src/lib/constants/index.ts"),h=s("./src/lib/fastdom/index.ts"),b=s("./node_modules/lodash/throttle.js"),g=s.n(b);const x=500,v=1e3,C=40;var O;!function(e){e.Max10="0-10",e.Max20="11-20",e.Max30="21-30",e.Max40="31-40",e.Max50="41-50",e.Max60="51-60"}(O||(O={}));const f=()=>({[O.Max10]:0,[O.Max20]:0,[O.Max30]:0,[O.Max40]:0,[O.Max50]:0,[O.Max60]:0}),E=[O.Max10,O.Max20,O.Max30,O.Max40,O.Max50,O.Max60],y=e=>({eventHandler:e});function j({fn:e,subscriber:t,timeout:s}){const n=[];let o,r,a;const i=()=>{if(n.length<C)return;const e=f(),s=Math.min(v,n.length),o=n.splice(0,s);n.splice(0,n.length);const r=o[s-1]-o[0];for(let t=o.shift();o.length>0;t=o.shift()){const s=o[0]-t,n=Math.min(60,Math.ceil(1e3/s));e[n<=10?O.Max10:60===n?O.Max60:E[Math.ceil(n/10)-1]]+=s}const a=f();for(const t in e)a[t]=e[t]/r;t(a)},c=()=>{void 0!==a&&(window.clearTimeout(a),a=void 0)},d=()=>{void 0!==o&&(cancelAnimationFrame(o),o=void 0),void 0!==r&&(window.clearInterval(r),r=void 0),c(),i()},l=()=>{o=requestAnimationFrame(()=>{n.push(performance.now()),l()})},m=g()(()=>{c(),a=window.setTimeout(d,s)},u.H);return{cleanup:d,eventHandler:t=>{void 0===r?(l(),m(),r=window.setInterval(i,x)):m(),e(t)}}}var P=s("./src/lib/scheduler/index.ts"),w=s("./src/lib/domUtils/index.ts"),I=s("./src/lib/LinkedListMap/index.ts");const S=(e,t)=>e<0?t+e:e%t;class T{constructor(e){this.head=0,this.size=0,this.maxSize=e,this.items=new Array(e)}push(e){return this.items[this.head]=e,this.head=S(this.head+1,this.maxSize),this.size<this.maxSize&&this.size++,this}pop(){if(this.size>0){const e=S(this.head-1,this.maxSize),t=this.items[e];return this.items[e]=void 0,this.head=e,this.size--,t}}forEach(e){let t=this.size<this.maxSize?S(this.head-this.size,this.maxSize):this.head;for(let s=0;s<this.size;s++)e(this.items[t],s,this.size),t=(t+1)%this.maxSize}map(e){const t=new Array(this.size);return this.forEach((s,n,o)=>{t[n]=e(s,n,o)}),t}getEntries(){const e=new Array(this.size);return this.forEach((t,s)=>{e[s]=t}),e}clear(){const e=this.size;for(let t=0;t<e;t++)this.pop()}}var k=()=>document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset||0;class _{constructor({top:e,height:t,heightWithMargin:s}){this.height=t,this.heightWithMargin=s,this.top=e,this.bottom=this.top+this.height}contains(e){return!(e.top<=this.top||e.bottom>=this.bottom)}intersects(e){return!(e.bottom<=this.top||e.top>=this.bottom)}intersectsBorder(e){return e.top<=this.top&&e.bottom>=this.top||e.bottom>=this.bottom&&e.top<=this.bottom}containsTop(e){return!(e.top<this.top||e.top>this.bottom)}isAbove(e){return e.top>this.bottom}isBelow(e){return e.bottom<this.top}}const N=({buffer:e,container:t}={})=>{const s=a()(e)?1e3:e;if("undefined"!=typeof window&&t){const e=t===document?k():t.scrollTop;return new _({top:e,height:window.innerHeight})}return new _({top:0,height:s})};var L=s("./src/reddit/components/ResizeSensor/index.tsx"),M=s("./src/reddit/constants/componentSizes.ts"),R=s("./src/reddit/constants/elementClassNames.ts"),F=s("./src/reddit/contexts/InsideOverlay.tsx"),B=s("./src/reddit/selectors/platform.ts"),A=s("./src/telemetry/helpers/sendEvent.ts"),D=s("./src/telemetry/helpers/sendTiming.ts"),V=s("./src/reddit/components/Scroller/Simple.m.less"),W=s.n(V);const H=M.h,U=5*u.H,z=3,K=Object(p.c)({isOverlayOpen:B.i}),G=Object(l.b)(K),q={};function J(e){let t=0;do{t+=e.offsetTop||0,e=e.offsetParent}while(e);return t}const Y=10,Q=.9,X=.9,Z=1.8,$=5,ee=1500,te=2*u.H,se=400,ne=8,oe=5*u.H,re=30,ae="object"==typeof performance&&"function"==typeof performance.now,ie=()=>ae?performance.now():Date.now();function ce(e,t){return I.a.fromArray(e.children.map((e,s)=>{const n=t&&t.get(e.id);return n?(n.isFocusable=!!e.isFocusable,n.trackOnEnteredViewport=e.trackOnEnteredViewport,n.trackOnExitedViewport=e.trackOnExitedViewport,n):{el:null,id:e.id,index:s,isFocusable:!!e.isFocusable,itemRef:void 0,focused:!1,loaded:!t&&s<$,rectangle:void 0,trackOnEnteredViewport:e.trackOnEnteredViewport,trackOnExitedViewport:e.trackOnExitedViewport}}),"id")}t.a=G(Object(F.b)(class extends c.a.Component{constructor(e){super(e),this.lastRenderPosition=0,this.lastScrollTime=-1,this.resetCanFocusTimer=-1,this.unmountItemsIdleId=null,this.scrollingQuickly=!1,this.visibleChildrenCount=0,this.isRenderableChildrenStateChangePending=!1,this.parentOffsetTop=void 0,this.containerOffsetTop=void 0,this.distanceToTop=void 0,this.measurementsInvalid=!1,this.viewport=void 0,this.mountableViewport=void 0,this.needsToPauseViewportItems=!0,this.updateRenderableChildrenWhenIdleHandle=null,this.requestUpdateWhenIdleCallbackHandle=null,this.pendingScollHandlerRead=null,this.pendingResizeHandlerRead=null,this.renderableViewport=void 0,this.sendFPSData=(e=>{const t={name:this.props.trackingName};A.b.enqueue(new P.a({args:[e,t],cb:(e,t)=>Object(D.a)(u.l.Redesign,{data:e,meta:t,type:"scrollfps"})}))}),this.getVisibleChildren=(()=>{let e=0;const t=ee+(this.props.viewportTopPadding?this.props.viewportTopPadding:0),s=[];let n=this.nextVisibleChildrenIndex;for(;e<t&&n<this.props.children.length;){const t=this.props.children[n];s.push(t),e+=t.estHeight,n++}return this.visibleChildrenCount=s.length,s}),this.setRenderableChildrenIndexIncrement=(()=>{if(this.props.children[0]){const e=this.props.children[0].estHeight;this.renderableChildrenIndexIncrement=Math.min(Math.ceil(se/e),ne)}else this.renderableChildrenIndexIncrement=ne}),this.updateRenderableChildrenWhenIdle=(()=>{this.cancelPopulateRenderableChildrenWhenIdle(),this.hasScrolledWithinThreshold()||(this.timeoutForUpdateIdleCallback=oe,Object(m.cancelIdleCallback)(this.requestUpdateWhenIdleCallbackHandle),this.requestUpdateWhenIdleCallbackHandle=Object(m.requestIdleCallback)(()=>{const e=Math.ceil(this.renderableChildrenIndexIncrement/2);this.populateRenderableChildrenFromProps(!1,e)})),this.state.renderableChildren.length<this.props.children.length&&this.schedulePopulateRenderableChildrenWhenIdle()}),this.hasScrolledWithinThreshold=(()=>!!this.lastScrollTime&&ie()-this.lastScrollTime<te),this.populateRenderableChildrenFromProps=((e=!1,t=this.renderableChildrenIndexIncrement,s)=>{const n=s||this.props.children;if(this.state.renderableChildren.length<n.length||e)if(this.hasScrolledWithinThreshold())h.a.read(()=>{clearTimeout(this.updateRenderableChildrenHandle),this.updateRenderableChildrenHandle=setTimeout(()=>{this.populateRenderableChildrenFromProps(e,this.renderableChildrenIndexIncrement,s?n:void 0)},te)});else{this.nextVisibleChildrenIndex+t<=n.length?this.nextVisibleChildrenIndex+=t:this.nextVisibleChildrenIndex=n.length;const e=n.slice(0,this.nextVisibleChildrenIndex);e.length&&(this.lastVisibleElId=e[e.length-1].id),h.a.write(()=>{this.setState({renderableChildren:e})}),this.isRenderableChildrenStateChangePending=!0}}),this.lastElementIsAboutToBeVisible=(()=>!!(this.lastVisibleEl&&this.lastVisibleEl.getBoundingClientRect().top<window.innerHeight+se)),this.getRenderableChildrenIndexIncrement=((e=re)=>{let t=0,s=this.state.renderableChildren.length;for(;t<e&&s<this.props.children.length;)t+=this.props.children[s].estHeight,s++;const n=s-this.state.renderableChildren.length;return Math.max(this.renderableChildrenIndexIncrement,n)}),this.schedulePopulateRenderableChildrenWhenIdle=(()=>{!this.props.isOverlayOpen||this.props.isOverlay?this.updateRenderableChildrenWhenIdleHandle=setTimeout(()=>{this.updateRenderableChildrenWhenIdle()},this.timeoutForUpdateIdleCallback):this.cancelPopulateRenderableChildrenWhenIdle()}),this.cancelPopulateRenderableChildrenWhenIdle=(()=>{clearTimeout(this.updateRenderableChildrenWhenIdleHandle),Object(m.cancelIdleCallback)(this.requestUpdateWhenIdleCallbackHandle)}),this.callOnScrollForItemsChanged=o()(()=>{this.handleScroll()},u.H),this.pauseAllElements=(()=>{const e=this.getItemsInViewportWithFilter(this.loadedChildRefFilter),t=[];e.forEach(e=>{const s=e.itemRef;s&&(e.focused=!1,t.push(s.pauseContent))}),h.a.write(()=>{t.forEach(e=>e())})}),this.elementIsVisible=(e=>!!this.viewport&&this.viewport.intersects(e)),this.getItemsInViewportWithFilter=(e=>{this.updateViewportInfo();const t=new I.a("id");return this.state.renderableChildren.forEach(s=>{const n=this.childMap.get(s.id);n&&e(n)&&t.push(n)}),t}),this.visibleChildRefFilter=(e=>{const t=this.getChildRectangle(e);return t&&this.elementIsVisible(t)||!1}),this.loadedChildRefFilter=(e=>e.loaded),this.resetScrollFramerateAndFocus=(()=>{this.scrollContainer&&(this.pixelsPerMSRing.clear(),this.lastScrollTime=-1,this.needsToPauseViewportItems=!0,null===this.unmountItemsIdleId&&(this.unmountItemsIdleId=Object(m.requestIdleCallback)(this.unmountItemsWhileIdle)),setTimeout(this.handleScroll,u.H))}),this.setContainerRef=(e=>{this.containerRef=e,this.props.innerRef&&this.props.innerRef(e)}),this.getChildRectangle=(e=>{const t=e.el;if(!t)return;if(e.rectangle&&!this.measurementsInvalid)return e.rectangle;if(void 0===this.parentOffsetTop){const e=t.offsetParent;this.parentOffsetTop=e.offsetTop;const s=e.getBoundingClientRect().top;this.distanceToTop=s+this.getScrollTop()}const s=t.offsetTop+(this.parentOffsetTop||0),n=t.clientHeight,o=`${t.scrollHeight}px`,r=new _({top:s,height:n,heightWithMargin:o});return e.rectangle=r,r}),this.handleResize=(e=>{this.fpsMeter&&this.fpsMeter.eventHandler(e);for(const t in this.hiddenChildren)this.remeasureWhenShown[t]=!0;this.measurementsInvalid=!0,this.callOnScrollForItemsChanged()}),this.getTotalOffsetTop=(()=>this.containerRef?J(this.containerRef):0),this.handleContentContainerResize=o()(()=>{this.pendingResizeHandlerRead||(this.pendingResizeHandlerRead=h.a.read(()=>{const e=this.getTotalOffsetTop();e!==this.containerOffsetTop&&(this.containerOffsetTop=e,this.handleResize()),this.pendingResizeHandlerRead=null}))},u.H),this.handleScroll=(()=>{this.pendingScollHandlerRead||(this.pendingScollHandlerRead=h.a.read(()=>{if(clearTimeout(this.resetCanFocusTimer),this.cancelPopulateRenderableChildrenWhenIdle(),Object(w.b)()||!this.scrollContainer)return void(this.pendingScollHandlerRead=null);this.updateScrollMetrics();const e=this.getAveragePixelsPerMilliSecond(),t=e<Q,s=e<X,n=e<Z;if(this.scrollContainer&&!this.loadMoreFired&&this.props.onLoadMore){let e=!1;if(void 0!==this.props.loadMoreToken&&void 0!==this.viewport&&this.nextVisibleChildrenIndex>=this.props.children.length){const t=this.getTotalOffsetTop();e=!!this.containerRef&&this.containerRef.offsetHeight+t-this.viewport.bottom<=this.viewport.height}if(e){const e=this.props.onLoadMore;setTimeout(e),this.loadMoreFired=!0}}this.populateRenderableChildrenIfLastChildIsVisible();const o=new I.a("id");let r,a;const i=[];this.state.renderableChildren.forEach(e=>{const c=this.childMap.get(e.id);let d;if(c&&c.el){if(!(d=this.getChildRectangle(c)))return;const e=c.id;this.elementIsHideable(d)?void 0===this.hiddenChildren[e]&&(this.childrenToHide[e]=d.heightWithMargin):void 0!==this.hiddenChildren[e]&&(this.childrenToShow[e]=!0)}if(!c||!c.el||!c.rectangle)return void(this.measurementsInvalid&&c&&this.getChildRectangle(c));const l=c.id,m=c.itemRef,p=c.trackOnEnteredViewport,u=!!this.itemsInViewport.get(l);if(this.elementIsUnmountable(d))m&&u&&c.loaded&&c.isFocusable&&i.push(m.pauseContent);else if(m&&this.loadItemIfPossible(c,m,t,s,n,i),this.elementIsVisible(d)){o.push(c),!u&&p&&A.b.enqueue(new P.a({cb:p,args:void 0}));const e=this.elementIsFocused(d);e&&!a&&(a=c.id),t&&c.isFocusable&&!r&&e?(r=c.id,c.focused||(c.focused=!0,m&&i.push(m.focusContent))):c.loaded&&c.isFocusable&&(c.focused||this.needsToPauseViewportItems)&&(c.focused=!1,m&&i.push(m.pauseContent))}else u&&c.loaded&&c.isFocusable&&(c.focused=!1,m&&i.push(m.stopContent))}),h.a.write(()=>{i.forEach(e=>e()),this.props.enableElementHiding&&this.hideOrShowChildren()}),this.itemsInViewport.forEach(({id:e,trackOnExitedViewport:t})=>{t&&!o.has(e)&&A.b.enqueue(new P.a({cb:t,args:[!1]}))}),this.itemsInViewport=o,this.canFocusItems=t,this.focusedChild=r,this.primaryChild=a,this.measurementsInvalid=!1,this.needsToPauseViewportItems=!1,t?null===this.unmountItemsIdleId&&(this.unmountItemsIdleId=Object(m.requestIdleCallback)(this.unmountItemsWhileIdle)):(this.resetCanFocusTimer=setTimeout(this.resetScrollFramerateAndFocus,U),null!==this.unmountItemsIdleId&&(Object(m.cancelIdleCallback)(this.unmountItemsIdleId),this.unmountItemsIdleId=null)),this.props.onScroll&&this.props.onScroll({getVisibleItemsInViewport:()=>this.getItemsInViewportWithFilter(this.visibleChildRefFilter),primaryChild:this.primaryChild?this.childMap.get(this.primaryChild):void 0}),this.timeoutForUpdateIdleCallback=4*oe,this.schedulePopulateRenderableChildrenWhenIdle(),this.pendingScollHandlerRead=null}))}),this.unmountItemsWhileIdle=(e=>{if(!this.scrollContainer)return;const t=[];if(this.state.renderableChildren.forEach(e=>{const s=this.childMap.get(e.id);if(!s||!s.el||!s.itemRef)return;const n=this.getChildRectangle(s);n&&this.elementIsUnmountable(n)&&s.loaded&&t.push(s)}),!t.length)return;const s=Math.min(Math.ceil(e.timeRemaining()/z),t.length),n=[];for(let o=0;o<s;o++){const e=t[o];n.push(e.itemRef.unmountContent),e.loaded=!1,e.focused=!1}Object(d.unstable_batchedUpdates)(()=>{this.scrollContainer&&n.forEach(e=>e())}),s<t.length?this.unmountItemsIdleId=Object(m.requestIdleCallback)(this.unmountItemsWhileIdle):this.unmountItemsIdleId=null}),this.hideOrShowChildren=o()(()=>{for(const e in this.childrenToHide){const t=this.childrenToHide[e];void 0!==t&&(this.hideChild(e,t),this.childrenToHide[e]=void 0)}for(const e in this.childrenToShow)void 0!==this.childrenToShow[e]&&(this.showChild(e),this.childrenToShow[e]=void 0)},u.H),this.hideChild=((e,t)=>{const s=this.childMap.get(e);if(!s||!s.el)return;const n=s.el.firstChild;n&&(t!==s.el.style.height&&(s.el.style.height=t),n.classList.add(W.a.Hidden),this.hiddenChildren[e]=`${t}px`,s.loaded&&h.a.write(()=>{s.itemRef&&s.itemRef.unmountContent()}))}),this.showChild=(e=>{const t=this.childMap.get(e);if(!t||!t.el)return;const s=t.el.firstChild;s&&(this.remeasureWhenShown[t.id]&&(this.measurementsInvalid=!0,this.remeasureWhenShown[t.id]=void 0),t.el.style.height=null,s.classList.remove(W.a.Hidden),void 0!==this.hiddenChildren[e]&&(this.hiddenChildren[e]=void 0))}),this.getStylesForOuterWrapper=(e=>{if(void 0!==this.hiddenChildren[e])return{height:this.hiddenChildren[e]}}),this.remeasureChild=(e=>{this.measurementsInvalid=!0}),this.scrollToChild=((e,t)=>{this.measurementsInvalid=!0,h.a.read(()=>{const s=this.childMap.get(e);if(s&&s.el&&this.scrollContainer){if(s.rectangle=void 0,t&&this.isScrollChildTopVisible(e))return;const n=this.getScrollTop()+s.el.getBoundingClientRect().top-(this.props.scrollToChildPadding||0)-(this.props.viewportTopPadding||0);setTimeout(()=>{this.scrollContainer&&(Object(w.c)(this.scrollContainer,n),this.callOnScrollForItemsChanged())},u.H)}})}),this.isScrollChildTopVisible=(e=>{const t=this.childMap.get(e);if(t&&t.el&&this.scrollContainer){var s=this.props,n=s.scrollToChildPadding;const e=void 0===n?0:n;var o=s.viewportTopPadding;const r=void 0===o?0:o,a=window.innerHeight-r,i=t.el.getBoundingClientRect().top;return i>=r+e&&i<a}return!1}),this.childMap=ce(e),this.containerRef=null,this.itemsInViewport=new I.a("id"),this.loadMoreFired=!1,this.pixelsPerMSRing=new T(Y),this.wrapperRefFNs={},this.childRefFns={},this.childrenToHide={},this.childrenToShow={},this.canFocusItems=!0,this.focusedChild=void 0,this.hiddenChildren={},this.nextVisibleChildrenIndex=0,this.lastVisibleEl=null,this.lastVisibleElId=null,this.remeasureWhenShown={},this.timeoutForUpdateIdleCallback=oe;const t=this.getVisibleChildren();t.length&&(this.lastVisibleElId=t[t.length-1].id),this.nextVisibleChildrenIndex=t.length,this.updateRenderableChildrenHandle=null,this.state={renderableChildren:t},this.setRenderableChildrenIndexIncrement(),this.validateScrollPreservationProps(e),this.validateLoadMoreProps(e)}populateRenderableChildrenIfLastChildIsVisible(){this.isRenderableChildrenStateChangePending||this.state.renderableChildren.length<this.props.children.length&&h.a.read(()=>{if(!this.isRenderableChildrenStateChangePending&&this.lastElementIsAboutToBeVisible()){const e=this.getRenderableChildrenIndexIncrement();this.populateRenderableChildrenFromProps(!1,e)}})}setupScrollHandler(){this.fpsMeter=this.props.trackingName?j({fn:this.handleScroll,subscriber:this.sendFPSData,timeout:U}):y(this.handleScroll),this.scrollContainer&&this.scrollContainer.addEventListener("scroll",this.fpsMeter.eventHandler),window.addEventListener("resize",this.handleResize)}cleanupScrollHandler(){this.fpsMeter&&("function"==typeof this.fpsMeter.cleanup&&this.fpsMeter.cleanup(),this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.fpsMeter.eventHandler),window.removeEventListener("resize",this.handleResize),this.pendingScollHandlerRead&&(h.a.clear(this.pendingScollHandlerRead),this.pendingScollHandlerRead=null),this.pendingResizeHandlerRead&&(h.a.clear(this.pendingResizeHandlerRead),this.pendingResizeHandlerRead=null))}componentDidMount(){this.props.getContainer?this.scrollContainer=this.props.getContainer()||document:this.scrollContainer=document,this.props.onScroll&&this.props.onScroll({getVisibleItemsInViewport:()=>this.getItemsInViewportWithFilter(this.visibleChildRefFilter),primaryChild:void 0}),this.props.disableScrollCache&&!this.props.preventScrollOnMount&&Object(w.c)(this.scrollContainer,0),this.setupScrollHandler(),h.a.write(()=>{if(!this.props.disableScrollCache){const e=this.getCacheKey(),t=q[e];a()(t)||(q[e]=void 0,this.scrollContainer&&Object(w.c)(this.scrollContainer,t))}this.callOnScrollForItemsChanged(),this.props.onLastVisibleChildRendered&&this.props.onLastVisibleChildRendered()}),h.a.read(()=>{this.containerOffsetTop=this.getTotalOffsetTop()}),this.schedulePopulateRenderableChildrenWhenIdle()}componentDidUpdate(e){if(this.isRenderableChildrenStateChangePending=!1,this.measurementsInvalid=!0,this.scrollTargetId&&(this.scrollToChild(this.scrollTargetId,!1),this.scrollTargetId=void 0),this.didLayoutAloneChange(e,this.props)){this.callExitedViewportForUnmount(),this.focusedChild=void 0,this.childrenToShow={},this.childrenToHide={},this.hiddenChildren={},this.childMap.forEach(e=>{e.loaded=!1,e.focused=!1}),this.setRenderableChildrenIndexIncrement(),this.populateRenderableChildrenFromProps(!0),this.callOnScrollForItemsChanged();const e=this.getVisibleChildren();this.visibleChildrenCount=e.length,this.schedulePopulateRenderableChildrenWhenIdle()}this.populateRenderableChildrenIfLastChildIsVisible(),e.trackingName!==this.props.trackingName&&(this.cleanupScrollHandler(),this.setupScrollHandler())}shouldComponentUpdate(e){return e.isOverlayOpen===this.props.isOverlayOpen}componentWillReceiveProps(e){this.validateScrollPreservationProps(e)&&this.validateLoadMoreProps(e)&&this.didLayoutAloneChange(this.props,e)&&this.hasBeenScrolled()&&this.handleScroll(),e.loadMoreToken!==this.props.loadMoreToken&&(this.loadMoreFired=!1,this.loadMoreEl=null),e.isOverlayOpen!==this.props.isOverlayOpen&&e.isOverlayOpen&&!this.props.isOverlay&&h.a.read(this.pauseAllElements),e.isOverlayOpen===this.props.isOverlayOpen||e.isOverlayOpen||this.props.isOverlay||this.resetScrollFramerateAndFocus(),this.childMap=ce(e,this.childMap);const t=e.children.length<this.props.children.length,s=e.children.length===this.props.children.length&&e.children.some((e,t)=>e.id!==this.props.children[t].id);this.populateRenderableChildrenFromProps(t||s,this.renderableChildrenIndexIncrement,e.children),this.schedulePopulateRenderableChildrenWhenIdle()}componentWillUnmount(){if(this.callExitedViewportForUnmount(),this.cleanupScrollHandler(),clearTimeout(this.updateRenderableChildrenHandle),this.cancelPopulateRenderableChildrenWhenIdle(),this.scrollContainer&&!this.props.disableScrollCache){const e=this.getCacheKey();q[e]=this.lastRenderPosition}this.childMap=new I.a("id"),this.itemsInViewport=new I.a("id"),this.wrapperRefFNs={},this.childRefFns={},this.containerRef=null,this.loadMoreEl=void 0,this.scrollContainer=void 0,this.unmountItemsIdleId&&(Object(m.cancelIdleCallback)(this.unmountItemsIdleId),this.unmountItemsIdleId=null)}didLayoutAloneChange(e,t){return"string"==typeof e.layoutKey&&"string"==typeof t.layoutKey&&e.layoutKey!==t.layoutKey&&"string"==typeof e.dataKey&&"string"==typeof t.layoutKey&&e.dataKey===t.dataKey}elementIsFocused(e){if(!this.viewport)return!1;const t=this.distanceToTop?this.distanceToTop:0,s=this.parentOffsetTop?this.parentOffsetTop:0,n=e.bottom+t-s,o=e.top+t-s,r=Math.min(this.viewport.bottom,n)-Math.max(this.viewport.top,o),a=r/e.height,i=r/this.viewport.height;return a>.75||i>.9}getFirstItemInViewport(){for(const e of this.props.children){const t=e.id,s=this.childMap.get(t);if(s){const e=this.getChildRectangle(s);if(e&&this.elementIsVisible(e))return s}}}elementIsUnmountable(e){return!!this.mountableViewport&&!this.mountableViewport.intersects(e)}elementIsHideable(e){return!!this.renderableViewport&&!this.renderableViewport.intersects(e)}getCacheKey(){return this.props.children.map(e=>e.id).join("-")}getScrollTop(){return this.scrollContainer?this.scrollContainer===document?k():this.scrollContainer.scrollTop:0}updateViewportInfo(){if(this.scrollContainer){this.viewport=N({buffer:0,container:this.scrollContainer});var e=this.props.viewportTopPadding;const t=void 0===e?0:e,s=window.innerHeight-t,n=2*s;this.mountableViewport=new _({top:this.viewport.top-n,height:this.viewport.height+2*n});const o=4*s;this.renderableViewport=new _({top:this.viewport.top-o,height:this.viewport.height+2*o})}}updateScrollMetrics(){this.updateViewportInfo();const e=ie(),t=this.getScrollTop(),s=Math.abs(this.lastRenderPosition-t),n=e-this.lastScrollTime,o=this.lastScrollTime>-1;this.lastScrollTime=e,this.lastRenderPosition=t,o?this.pixelsPerMSRing.push(s/n):this.lastScrollTime=e}getAveragePixelsPerMilliSecond(){if(this.pixelsPerMSRing.size>1){let e=0;return this.pixelsPerMSRing.forEach(t=>e+=t),e/this.pixelsPerMSRing.size}return 0}_wrapperRefFN(e,t){const s=this.childMap.get(e);s&&(s.el=t),this.lastVisibleElId===e&&(this.lastVisibleEl=t)}getWrapperRefFN(e){let t=this.wrapperRefFNs[e];return t||(t=(t=>{this._wrapperRefFN(e,t)}),this.wrapperRefFNs[e]=t),t}_childRefFn(e,t,s){const n=this.childMap.get(e);n&&(n.itemRef=t,n.loaded=!!t&&(void 0!==s?s:n.loaded),this.callOnScrollForItemsChanged())}getChildRefFn(e){let t=this.childRefFns[e];return t||(t=((t,s)=>{this._childRefFn(e,t,s)}),this.childRefFns[e]=t),t}loadItemIfPossible(e,t,s,n,o,r){if(t.contentIsHeavyToMount()?n:o){const n=!e.isFocusable||s;!e.loaded&&n&&(e.loaded=!0,r.push(t.loadContent))}}callExitedViewportForUnmount(){this.itemsInViewport.forEach(({id:e,trackOnExitedViewport:t})=>{t&&A.b.enqueue(new P.a({cb:t,args:[!0]}))})}hasBeenScrolled(){if(!this.containerRef)return!1;var e=this.props.viewportTopPadding;const t=void 0===e?0:e,s=J(this.containerRef);return this.getScrollTop()+t-s>0}render(){const e=this.props.contentContainerRef;return c.a.createElement("div",{className:this.props.className,ref:this.setContainerRef},this.state.renderableChildren.map((e,t)=>c.a.createElement("div",{key:`scroller-${e.id}`,ref:this.getWrapperRefFN(e.id),style:this.getStylesForOuterWrapper(e.id)},c.a.createElement("div",{className:this.hiddenChildren[e.id]?W.a.Hidden:void 0},e.render({className:R.j,height:e.estHeight,placeholderRecommended:!1,remeasure:this.remeasureChild,scrollToAndRemeasure:this.scrollToChild,setScrollerChildRef:this.getChildRefFn(e.id),shouldLoadInitially:t<$,width:H})))),!!e&&c.a.createElement(L.a,{containerRef:e,onResize:this.handleContentContainerResize}))}validateScrollPreservationProps(e){return"string"!=typeof e.layoutKey||void 0!==e.dataKey}validateLoadMoreProps(e){return void 0===e.onLoadMore||"loadMoreToken"in e}}))},"./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less":function(e,t,s){e.exports={bodyWrapper:"TRQWddBXkEbkcG_ubUuna",mediaWrapper:"_1Gl3uwbMHh5VhlU0JATHu0",textWrapper:"YH565aQWcKKY53qc9qHsm",meta:"_363wpVC6QeLO7Vq0SwQcOg",metaWrapper:"_232eNhzD3iKHOssx14WnYG",thumbnail:"_3ot5Uav1x5Oa8hH19Mlogk",trendingPost:"_3GfG_jvS9X-90Q_8zU4uCu","m-background":"_3Y1KnhioRYkYGb93uAKhBZ",mBackground:"_3Y1KnhioRYkYGb93uAKhBZ",flatlist:"_2i5CgtwVkYOwV-M92BNHuo",title:"_10WwrR6QeKoqfxT3UBj0Qq",titleNoDescription:"_2RETtzv0N74uYf3vCRgQsj",spacer:"dnGYcjdXDdH17kki2-FYy",description:"_2Jjv0TAohMSydVpAgyhjhA",flexSpacer:"_2X1uOOj7bjYyM2hV3o5Eou",flair:"_1efPRBcLSuPJJM0TacTA5c",backgroundWrapper:"_3HD3Y7jXWPyFxKKnIJCHq3",innerContainer:"_UTUAdpYopauDszuTA48r",relatedSubredditMetaData:"_2JhihdjWU24No-68VLJ7D-",subredditIcon:"_2Gqx0g4kdUGTdMQSR1fSfC",promoted:"_24W4uRK86b7o0CPxNTzhIW"}},"./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/polished/dist/polished.es.js"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./src/lib/addQueryParams/index.ts"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/lib/permalinkToOverlayLocation/index.ts"),l=s("./src/lib/prettyPrintNumber/index.ts"),m=s("./src/reddit/components/FlairWrapper/index.tsx"),p=s("./src/reddit/components/MiniCardPost/index.tsx"),u=s("./src/reddit/components/Translated/index.tsx"),h=s("./src/reddit/components/TrendingSearches/TrendingItemViewability.tsx"),b=s("./src/reddit/contexts/PageLayer/index.tsx"),g=s("./src/reddit/controls/InternalLink/index.tsx"),x=s("./src/reddit/controls/Search/RelatedSubredditMetaData.tsx"),v=s("./src/reddit/helpers/name/index.ts"),C=s("./src/reddit/i18n/components.tsx"),O=s("./src/reddit/models/Flair/index.ts"),f=s("./src/reddit/models/Theme/index.ts"),E=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),y=s("./src/reddit/components/MiniCardPost/index.m.less"),j=s.n(y),P=s("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less"),w=s.n(P);const I=e=>e.type===O.f.Spoiler,S=Object(b.w)();t.a=S(Object(p.a)(Object(c.a)(e=>{const t=e.backgroundWrapperClassName,s=e.descriptionClassName,o=e.innerContainerClassName,c=e.onPostClick,p=e.trendingPost,b=e.trendingSearch;var O=e.showSubredditMeta;const y=void 0===O||O,P=e.showSubredditName,S=e.subredditOrProfile,T=!b||b.isWhitelisted,k=T&&p&&p.preview&&p.preview.url||void 0,_=p&&p.isSponsored?"promoted_trend":"trending",N=b?Object(a.a)("/search",{q:b.rawQuery,source:_}):p&&Object(d.a)(p.permalink)||"",L=b?b.subredditInfo&&b.subredditInfo.icon:S&&S.icon.url,M=b?b.subredditInfo&&b.subredditInfo.displayText:S&&(S.displayText||S.name),R=p?p.flair.filter(I):[],F=p?p.score:0,B=p?p.numComments:0,A=p&&p.isSponsored,D=Object(E.a)(e).body,V=`linear-gradient(\n      ${Object(n.g)(D,.2)},\n      ${Object(n.g)(D,.3)},\n      ${Object(n.g)(D,.4)},\n      ${Object(n.g)(D,.6)},\n      ${Object(n.g)(D,.8)},\n      ${D}\n    )`,W=r.a.createElement("div",{className:Object(i.a)(w.a.trendingPost,{[w.a["m-background"]]:!!k})},r.a.createElement(g.a,{to:N},r.a.createElement("div",{className:Object(i.a)(w.a.backgroundWrapper,j.a.backgroundWrapper,t),style:{background:Object(f.g)(Object(E.a)(e).body,k||Object(E.a)(e).banner.backgroundImage,"cover"),"--SearchDiscoveryUnits-TrendingPosts-Post-background":V}},A&&r.a.createElement("div",{className:w.a.promoted},r.a.createElement(C.c,null,"promoted")),r.a.createElement("div",{className:Object(i.a)(w.a.innerContainer,j.a.innerContainer,o),onClick:c},r.a.createElement("h2",{className:p?w.a.title:w.a.titleNoDescription},e.title),p&&T?r.a.createElement("div",{className:Object(i.a)(w.a.description,s)},R.length>0&&r.a.createElement(m.a,{className:w.a.flair,titleFlair:R,nowrap:!0,post:p,showCategoryTag:!1}),p.title):r.a.createElement("div",{className:w.a.spacer}),y&&L&&M&&r.a.createElement(x.a,{className:w.a.relatedSubredditMetaData,iconClassName:w.a.subredditIcon,iconUrl:L||void 0,suffix:r.a.createElement(u.a,{msgId:"search.subredditMetaData.andMore",replacements:{displayText:M}})}),!y&&p&&r.a.createElement("div",{className:w.a.metaLine},P&&M&&r.a.createElement("span",{className:w.a.meta},Object(v.b)(M)),r.a.createElement("span",{className:w.a.meta},r.a.createElement(C.c,null,`${Object(l.b)(F)} `,r.a.createElement(C.a,{count:F,name:"score",plural:"points",singular:"point"}))),r.a.createElement("span",{className:w.a.meta},r.a.createElement(C.c,null,`${Object(l.b)(B)} `,r.a.createElement(C.a,{count:B,name:"numComments",plural:"comments",singular:"comment"}))))))));return A?r.a.createElement(h.a,{post:p,children:W}):W})))},"./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.m.less":function(e,t,s){e.exports={sideBarStyle:"wYQbYt3FNY5w9oBiYrHzv",BannerAd:"_2UMQXLQOtNVy_JO9ghou6",bannerAd:"_2UMQXLQOtNVy_JO9ghou6",ThemedWidget:"avKlJzxZU3brq4nAX0_i1",themedWidget:"avKlJzxZU3brq4nAX0_i1",SidebarAdPlaceholder:"NqMdak8MgbuSVZAABdAw9",sidebarAdPlaceholder:"NqMdak8MgbuSVZAABdAw9"}},"./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/app/strings/index.ts"),c=s("./src/reddit/components/BannerAd/index.tsx"),d=s("./src/config.ts"),l=s("./node_modules/lodash/random.js"),m=s.n(l),p=s("./src/reddit/components/FakeBannerAd/index.m.less"),u=s.n(p),h=s("./src/lib/lessComponent.tsx");const b=h.a.div("BannerContainer",u.a),g=h.a.wrapped(e=>o.a.createElement("img",{className:e.className,src:e.src}),"FakeBannerAdImage",u.a),x=[{img:"/img/house-ads/btc.png",href:"/r/btc"},{img:"/img/house-ads/campfirecooking.png",href:"/r/campfirecooking"},{img:"/img/house-ads/casualconversation.png",href:"/r/casualconversation"},{img:"/img/house-ads/fantrailers.png",href:"/r/fantrailers"},{img:"/img/house-ads/rubberducks.png",href:"/r/advertising"},{img:"/img/house-ads/casualconversation.png",href:"/r/casualconversation"},{img:"/img/house-ads/fantrailers.png",href:"/r/fantrailers"},{img:"/img/house-ads/imaginarycolorscapes.png",href:"/r/imaginarycolorscapes"},{img:"/img/house-ads/imaginarydragons.png",href:"/r/imaginarydragons"},{img:"/img/house-ads/oldschoolcelebs.png",href:"/r/oldschoolcelebs"}];var v=()=>{const e=m()(0,x.length-1);var t=x[e];const s=t.img,n=t.href;return o.a.createElement(b,{className:"GoogleAd HomeAds InArticleAd LeftAd SidebarAd ad-300-250 ad-banner adbar adbox1 ads-area adsense-ad box_ad googad","data-before-content":Object(i.a)("en","sidebar.sponsored")},o.a.createElement("a",{href:d.a.redditUrl+n,target:"_blank"},o.a.createElement(g,{src:d.a.assetPath+s})))},C=s("./src/lib/constants/index.ts"),O=s("./src/reddit/components/PostMedia/index.tsx"),f=s("./src/reddit/components/PostTitle/index.tsx"),E=s("./src/reddit/components/PostTopMeta/index.tsx"),y=s("./src/lib/CSSVariableProvider/withTheme.tsx"),j=s("./src/lib/getShortenedLink.ts"),P=s("./src/lib/opener/index.ts"),w=s("./src/reddit/actions/ads/index.ts"),I=s("./src/reddit/components/PostContainer/index.tsx"),S=s("./src/reddit/constants/adEvents.ts"),T=s("./src/reddit/contexts/InsideOverlay.tsx"),k=s("./src/reddit/contexts/PageLayer/index.tsx"),_=s("./src/reddit/controls/OutboundLink/styled.tsx"),N=s("./src/reddit/helpers/adCount/index.ts"),L=s("./src/reddit/helpers/pixels.ts"),M=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),R=s("./src/reddit/helpers/styles/smartTextColor.ts"),F=s("./src/reddit/helpers/truncateStringWithEllipsis.ts"),B=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),A=s("./src/reddit/models/NewStructuredStyles/index.ts"),D=s("./src/reddit/models/Theme/index.ts"),V=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),W=s("./src/reddit/models/Media/index.ts"),H=s("./src/reddit/components/NativeBannerAd/index.m.less"),U=s.n(H);const z=h.a.wrapped(e=>o.a.createElement("img",{className:e.className,src:e.src}),"BannerAdImage",U.a);class K extends o.a.Component{render(){const e=this.props.post;if(!e.media)return null;const t=e.media&&!Object(W.F)(e.media)?e.media.content:"",s=e.media.type;if(!t||!s)return null;switch(s){case C.fb.IMAGE:return o.a.createElement(z,{src:t});default:return null}}}var G=s("./src/reddit/components/SidebarNativeAd/index.m.less"),q=s.n(G);const J=h.a.wrapped(E.d,"PostTopMeta",q.a),Y=h.a.div("BannerAdContainer",q.a),Q=({children:e})=>o.a.createElement("div",null,e),X=h.a.div("PromotedPostContainer",q.a),Z=h.a.wrapped(B.a,"OutboundLinkIcon",q.a),$=h.a.div("SourceLinkWrapper",q.a),ee=h.a.div("TopLine",q.a),te=h.a.wrapped(f.c,"PostTitle",q.a),se=h.a.div("PostMediaWrapper",q.a),ne=h.a.div("BackgroundWrapper",q.a),oe=h.a.wrapped(I.a,"PostContainer",q.a),re=640,ae=Object(k.w)({isOriginalPage:k.E,pageLayer:e=>e}),ie=(e,t)=>{Object(L.a)(t.events,S.a.Click),t.source?t.source.outboundUrl?Object(P.b)(t.source.outboundUrl,P.a.BLANK):Object(P.b)(t.source.url,P.a.BLANK):Object(P.b)(t.permalink,P.a.BLANK)},ce=e=>Object(F.a)(e.title,100),de=e=>{if(e.post.isMediaOnly)return{};const t=Object(R.a)(Object(M.a)(e),A.a.actionIcon,A.b.actionIcon);return{color:t,fill:t}},le=e=>({background:Object(D.g)(Object(V.a)(e).body,null,null)||""});var me=Object(r.b)(null,(e,t)=>({refreshSidebarPromotedPost:()=>{const s=t.placement,n=t.placementIndex,o=t.isOverlay;e(Object(w.c)(Object(N.a)(s,!!o,n)))}}))(ae(Object(T.b)(Object(y.a)(class extends o.a.Component{constructor(){super(...arguments),this.refreshedAt=1/0}refresh(e){this.refreshedAt=Date.now(),this.props.refreshSidebarPromotedPost()}componentDidMount(){this.refreshedAt=Date.now()}componentWillReceiveProps(e){this.props.refreshKey!==e.refreshKey&&Date.now()-this.refreshedAt>6e3&&this.refresh(e)}render(){var e=this.props;const t=e.post,s=e.className,n=e.eventFactory,r=e.isOverlay;let a,c,d={};return t.isBlank?(a=Q,c=null):t.isMediaOnly?(a=Y,d={"data-before-content":Object(i.a)("en","sidebar.sponsored")},c=o.a.createElement(K,{post:t})):(a=X,c=o.a.createElement(ne,{style:le(this.props)},o.a.createElement(ee,null,o.a.createElement(J,{tooltipType:r?E.c.Lightbox:void 0,language:C.y,post:t,showSponsorIcon:!0,hideSource:!0,showTimestamp:!1})),o.a.createElement(te,{post:t,size:f.b.Large,format:ce}),t.source&&o.a.createElement($,null,o.a.createElement(_.a,{href:t.source.url,isSponsored:!0,source:t.source},Object(j.a)(t),o.a.createElement(Z,null))),o.a.createElement(se,null,t.media&&o.a.createElement(O.a,{isListing:!0,isNotCardView:!0,showCentered:!0,post:t,availableWidth:re,shouldLoad:!0})))),o.a.createElement(a,Object.assign({},d),o.a.createElement(oe,{className:s,post:t,onClick:ie,eventFactory:n,style:de(this.props)},c))}})))),pe=s("./src/reddit/components/SidebarSpacer/index.tsx"),ue=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),he=s("./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.m.less"),be=s.n(he);const ge=Object(a.c)({post:(e,t)=>{const s=t.placement,n=t.placementIndex,o=!!t.isOverlay;return e.sidebarPromotedPosts.models[Object(N.a)(s,o,n)]},pending:e=>!e.sidebarPromotedPosts.firstFetch}),xe=Object(r.b)(ge),ve=h.a.wrapped(c.a,"BannerAd",be.a),Ce=h.a.wrapped(ue.a,"ThemedWidget",be.a),Oe=h.a.div("SidebarAdPlaceholder",be.a),fe=(e,t,s)=>{let n="";return t&&(n+="overlay-"),n+=`sidebar-${e}`,null!=s&&(n+=`-${s}`),n},Ee=e=>!(!e||e.isBlank)&&(!e.isMediaOnly||!!(e.media&&Object(W.C)(e.media)&&e.media.content)),ye=e=>!!e&&e.isBlank;t.a=xe(class extends o.a.Component{render(){var e=this.props;const t=e.className,s=e.pending,n=e.post,r=e.isOverlay,a=e.placementIndex,c=e.refreshKey,d=e.listingName,l=e.placement,m=e.sizes,p=e.position,u=e.redditStyle,h=e.forcePlaceholder,b=e.forceHouseAd,g=e.waitForProgrammatic;return h||s||!Ee(n)&&g?o.a.createElement(pe.a,null,o.a.createElement(Ce,{className:t,contentOnly:!0,redditStyle:u},o.a.createElement(Oe,{"data-before-content":Object(i.a)("en","sidebar.sponsored")}))):b?o.a.createElement(pe.a,null,o.a.createElement(v,null)):Ee(n)?o.a.createElement(pe.a,null,o.a.createElement(me,{post:n,refreshKey:c,listingName:d,placement:l,placementIndex:a})):o.a.createElement(pe.a,null,o.a.createElement(Ce,{className:this.props.className,contentOnly:!0,redditStyle:u},ye(n)&&o.a.createElement(me,{post:n,refreshKey:c,listingName:d,placement:l,placementIndex:a}),o.a.createElement(ve,{id:fe(l,r,a),sizes:m,placement:l,listingName:d,refreshKey:c,position:p,dataBeforeContent:Object(i.a)("en","sidebar.sponsored")})))}})},"./src/reddit/components/SidebarFlairSettings/index.m.less":function(e,t,s){e.exports={badge:"_2a172ppKObqWfRHr8eWBKV",FlairSettingsContainer:"_39-woRduNuowN7G4JTW4I8",flairSettingsContainer:"_39-woRduNuowN7G4JTW4I8",FlairPreview:"_3AOoBdXa2QKVKqIEmG7Vkb",flairPreview:"_3AOoBdXa2QKVKqIEmG7Vkb",EditPencil:"vzEDg-tM8ZDpEfJnbaJuU",editPencil:"vzEDg-tM8ZDpEfJnbaJuU",PreviewTitle:"r51dfG6q3N-4exmkjHQg_",previewTitle:"r51dfG6q3N-4exmkjHQg_",FlairComponent:"_2ygXHcy_x6RG74BMk0UKkN",flairComponent:"_2ygXHcy_x6RG74BMk0UKkN",TertiaryButton:"_2BnLYNBALzjH6p_ollJ-RF",tertiaryButton:"_2BnLYNBALzjH6p_ollJ-RF",IconButton:"_1-25VxiIsZFVU88qFh-T8p",iconButton:"_1-25VxiIsZFVU88qFh-T8p",Username:"_3BmRwhm18nr4GmDhkoSgtb",username:"_3BmRwhm18nr4GmDhkoSgtb"}},"./src/reddit/components/SidebarFooter/index.m.less":function(e,t,s){e.exports={Widget:"_2wqyhtudP4weVGsZdVXJgt",widget:"_2wqyhtudP4weVGsZdVXJgt",LinkContainer:"_1KrMye71CT332tKKKUWAj6",linkContainer:"_1KrMye71CT332tKKKUWAj6",Link:"_3Eyh3vRo5o4IfzVZXhaWAG",link:"_3Eyh3vRo5o4IfzVZXhaWAG",Legal:"_2mxcijCp8JSi_h_m9WTLTq",legal:"_2mxcijCp8JSi_h_m9WTLTq",LegalLink:"gY4PcvdDXqLzp7GDX3SEi",legalLink:"gY4PcvdDXqLzp7GDX3SEi"}},"./src/reddit/components/SidebarFooter/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),i=s("./src/reddit/i18n/utils.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/layout/threeCol/Equal/index.m.less"),l=s.n(d);var m=e=>o.a.createElement("div",{className:Object(c.a)(l.a.threeColumns,e.className)},o.a.createElement("div",{className:l.a.column},e.children[0]),o.a.createElement("div",{className:l.a.column},e.children[1]),o.a.createElement("div",{className:l.a.column},e.children[2])),p=s("./src/reddit/components/SidebarFooter/index.m.less"),u=s.n(p);const h=r.a.a("Link",u.a),b=r.a.div("Legal",u.a),g=r.a.a("LegalLink",u.a);t.a=(e=>o.a.createElement(a.a,{className:u.a.Widget,redditStyle:e.redditStyle,contentOnly:!0},o.a.createElement(m,{className:u.a.LinkContainer},o.a.createElement("div",null,o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://about.reddit.com"},Object(i.c)("about")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://about.reddit.com/careers/"},Object(i.c)("careers")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://about.reddit.com/press/"},Object(i.c)("press"))),o.a.createElement("div",null,o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://www.redditinc.com/advertising"},Object(i.c)("advertise")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/http://www.redditblog.com/"},Object(i.c)("blog")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://www.reddithelp.com"},Object(i.c)("help"))),o.a.createElement("div",null,o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://www.reddit.com/mobile/download"},Object(i.c)("The Reddit App")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://www.reddit.com/coins"},Object(i.c)("Reddit coins")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/https://www.reddit.com/premium"},Object(i.c)("Reddit premium")),o.a.createElement(h,{href:"https://web.archive.org/web/20190901080902/http://redditgifts.com/"},Object(i.c)("Reddit gifts")))),o.a.createElement(b,null,o.a.createElement("div",null," ",o.a.createElement(g,{href:"https://web.archive.org/web/20190901080902/https://www.redditinc.com/policies/content-policy"}," ",Object(i.c)("Content policy")),o.a.createElement("span",null,"|"),o.a.createElement(g,{href:"https://web.archive.org/web/20190901080902/https://www.reddit.com/help/privacypolicy"}," ",Object(i.c)("Privacy policy"))),o.a.createElement("div",null,o.a.createElement(g,{href:"https://web.archive.org/web/20190901080902/https://www.redditinc.com/policies/user-agreement"}," ",Object(i.c)("User agreement")),o.a.createElement("span",null,"|"),o.a.createElement(g,{href:"https://web.archive.org/web/20190901080902/https://www.reddit.com/help/healthycommunities/"}," ",Object(i.c)("Mod policy"))),o.a.createElement("div",null,Object(i.c)("© 2019 Reddit, Inc. All rights reserved")))))},"./src/reddit/components/SidebarNativeAd/index.m.less":function(e,t,s){e.exports={PostTopMeta:"_3AEXgAHaL2MFPHNuqOhEIE",postTopMeta:"_3AEXgAHaL2MFPHNuqOhEIE",BannerAdContainer:"_2c-vsdp-tGBM0QBPbMrQFy",bannerAdContainer:"_2c-vsdp-tGBM0QBPbMrQFy",PromotedPostContainer:"_3zZKTUxTxtgzF9ilawHBK-",promotedPostContainer:"_3zZKTUxTxtgzF9ilawHBK-",OutboundLinkIcon:"_32E2t93Jat5cKH_mcrBYWl",outboundLinkIcon:"_32E2t93Jat5cKH_mcrBYWl",SourceLinkWrapper:"oh3GXRqFb0Uvz5YUITfaW",sourceLinkWrapper:"oh3GXRqFb0Uvz5YUITfaW",TopLine:"_1kNrrHG9HK0nS07e9SmLEe",topLine:"_1kNrrHG9HK0nS07e9SmLEe",PostTitle:"_1j3PvrSrLpQFwf1wyUgEGj",postTitle:"_1j3PvrSrLpQFwf1wyUgEGj",PostMediaWrapper:"_39qBPkK3qVaXIie5LYoVdo",postMediaWrapper:"_39qBPkK3qVaXIie5LYoVdo",BackgroundWrapper:"_2c4IeOXoWvRb5OhOoDmy93",backgroundWrapper:"_2c4IeOXoWvRb5OhOoDmy93",PostContainer:"_2UoyU3i2ufwgr3Cy2lz5Jf",postContainer:"_2UoyU3i2ufwgr3Cy2lz5Jf"}},"./src/reddit/components/SidebarPostList/SmallPost/index.m.less":function(e,t,s){e.exports={container:"_2Wmv4UCfYcoQRIQ7DR-8e0",title:"_1ZcONreWbFJQojnbZ7ZkiL",redditStyle:"_1ggvQDlV2MNRE0-n1WzILz",mainLine:"_3cuOT24TIop8Fh5DSts5E",thumbnailContainer:"_3fpi7LgBdg5MRE8fUA1fUO",titleSingle:"_3fZTKIoM8CcO5vNlGhJhcO",flair:"_1Cs6tR96P3hmYwreAY1R50",metaLine:"_1DGZ9-YDQE3YM0S99RbxE-",meta:"_2LPptzmLnsGYCvTOkdxjs-"}},"./src/reddit/components/SidebarPostList/index.m.less":function(e,t,s){e.exports={largePostBackgroundWrapper:"_34WXoo5OYSyzgryGEzGK7K",container:"_2K-Su893lCn5wiAfwsyN_l",redditStyle:"J6mb4DTFFTNxjXy9E9vbS",largePostDescription:"_2m8gRHpmUg1pl7zoge-EZr",largePostInnerContainer:"_1dMiuQc05SF7vBB-4UrKVJ",smallPost:"v6T3Dl7XBqOqskg3JfuUz",SeeMore:"_5LqPadYZq-K1Mqq5FXV0",seeMore:"_5LqPadYZq-K1Mqq5FXV0"}},"./src/reddit/components/SidebarPostList/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/isFakeSubreddit/index.ts"),d=s("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.tsx"),l=s("./src/reddit/controls/Button/index.tsx"),m=s("./src/reddit/helpers/name/index.ts"),p=s("./src/reddit/helpers/overlay/index.ts"),u=s("./src/reddit/i18n/components.tsx"),h=s("./src/reddit/selectors/experiments/topPosts.ts"),b=s("./src/reddit/selectors/posts.ts"),g=s("./node_modules/@researchgate/react-intersection-observer/lib/es/index.js");const x=.99;var v=class extends o.a.Component{constructor(){super(...arguments),this.onVisibilityChange=(e=>{var t=this.props;const s=t.onPostVisible,n=t.postId;s&&e.isIntersecting&&e.intersectionRatio>=x&&s(n)})}render(){return o.a.createElement(g.a,{threshold:x,rootMargin:"0px 0px 0px 0px",onChange:this.onVisibilityChange},this.props.children)}},C=s("./src/lib/isUrl/index.ts"),O=s("./src/lib/prettyPrintNumber/index.ts"),f=s("./src/reddit/components/FlairWrapper/index.tsx"),E=s("./src/reddit/components/Thumbnail/index.tsx"),y=s("./src/reddit/models/Flair/index.ts"),j=s("./src/reddit/selectors/user.ts"),P=s("./src/reddit/components/SidebarPostList/SmallPost/index.m.less"),w=s.n(P);const I=e=>e.type===y.f.Nsfw||e.type===y.f.Spoiler,S=Object(a.c)({language:j.T,post:b.J});var T=Object(r.b)(S,e=>({openLightbox:t=>e(Object(p.a)(t.permalink))}))(class extends o.a.PureComponent{constructor(){super(...arguments),this.onClickContainer=(()=>{var e=this.props;const t=e.openLightbox,s=e.post,n=e.containerOnClick;t(s),n&&n(s.id)}),this.onClickThumbnail=(e=>{var t=this.props;const s=t.post,n=t.thumbnailOnClick;e.stopPropagation(),n&&n(s.id)})}render(){var e=this.props;const t=e.className,s=e.post,n=e.redditStyle,r={post:s},a=Object(C.a)(Object(E.b)(r)),c=s.flair.filter(I);return o.a.createElement("div",{className:Object(i.a)(w.a.container,t,{[w.a.redditStyle]:n}),onClick:this.onClickContainer},o.a.createElement("div",{className:w.a.mainLine},a&&o.a.createElement("div",{className:w.a.thumbnailContainer,onClick:this.onClickThumbnail},o.a.createElement(E.a,Object.assign({},r))),o.a.createElement("div",{className:Object(i.a)(w.a.title,!a&&w.a.titleSingle),title:s.title},c.length>0&&o.a.createElement(f.a,{className:w.a.flair,titleFlair:c,nowrap:!0,post:s,showCategoryTag:!1}),s.title)),o.a.createElement("div",{className:w.a.metaLine},o.a.createElement("span",{className:w.a.meta},`${Object(O.b)(s.score)} `,o.a.createElement(u.a,{count:s.score,name:"score",plural:"points",singular:"point"})),o.a.createElement("span",{className:w.a.meta},`${Object(O.b)(s.numComments)} `,o.a.createElement(u.a,{count:s.numComments,name:"numComments",plural:"comments",singular:"comment"}))))}}),k=s("./src/reddit/components/SidebarPostList/index.m.less"),_=s.n(k),N=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(s.push(a.value),!t||s.length!==t);n=!0);}catch(c){o=!0,r=c}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const L=10,M=2,R=Object(a.c)({posts:Object(a.a)(b.O,e=>e.filter(e=>!e.isSponsored))}),F=Object(r.b)(R,e=>({openPost:t=>e(Object(p.a)(t.permalink))}));t.a=F(class extends o.a.Component{constructor(){super(...arguments),this.state={chunkIdx:0},this.openLargePost=(()=>{var e=this.props;const t=e.onPostClick,s=e.openPost,n=e.posts,o=N(n,1)[0];o&&(s(o),t&&t(o.id))}),this.showMorePosts=(()=>{this.setState((e,t)=>{const s=Math.ceil(t.posts.length/L);return{chunkIdx:e.chunkIdx<s-1?e.chunkIdx+1:0}},this.props.onShowMoreClick)}),this.renderSmallPost=(e=>{var t=this.props;const s=t.onPostClick,n=t.onPostVisible,r=t.redditStyle,a=t.smallPostClassName;return o.a.createElement(v,{onPostVisible:n,postId:e.id},o.a.createElement(T,{className:Object(i.a)(_.a.smallPost,a),containerOnClick:s,key:e.id,postId:e.id,redditStyle:r,thumbnailOnClick:s}))})}render(){var e=this.props;const t=e.children,s=e.className,n=e.listingName,r=e.onPostVisible,a=e.posts,p=e.redditStyle,b=e.showMoreButton,g=e.topPostsVariant,x=this.state.chunkIdx;if(0===a.length)return null;const C=Object(h.a)(g),O=Object(h.b)(g),f=C||O,E=a.slice(x*L,(x+1)*L);var y,j=(y=E,Array.isArray(y)?y:Array.from(y));const P=j[0],w=j.slice(1),I=f?E.slice(0,M):w.slice(0,M),S=f?E.slice(M):w.slice(M);return o.a.createElement("div",{className:Object(i.a)(_.a.container,s,{[_.a.redditStyle]:p})},!f&&o.a.createElement(v,{onPostVisible:r,postId:P.id},o.a.createElement(d.a,{backgroundWrapperClassName:_.a.largePostBackgroundWrapper,descriptionClassName:_.a.largePostDescription,innerContainerClassName:_.a.largePostInnerContainer,"data-redditstyle":p,onPostClick:this.openLargePost,postId:P.id,showSubredditMeta:!1,showSubredditName:Object(c.a)(Object(m.f)(n)),trendingPost:P})),I.map(this.renderSmallPost),t,S.map(this.renderSmallPost),b&&o.a.createElement(l.n,{className:_.a.SeeMore,onClick:this.showMorePosts},o.a.createElement(u.c,null,"See More")))}})},"./src/reddit/components/SidebarSpacer/index.m.less":function(e,t,s){e.exports={Component:"_2vEf-C2keJaBMY9qk_BxVn",component:"_2vEf-C2keJaBMY9qk_BxVn"}},"./src/reddit/components/SidebarSpacer/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/SidebarSpacer/index.m.less"),o=s.n(n),r=s("./src/lib/lessComponent.tsx");t.a=r.a.div("Component",o.a)},"./src/reddit/components/SidebarStickyBottom/index.m.less":function(e,t,s){e.exports={Container:"_1oRQu-aolgpPPJDblUGTw5",container:"_1oRQu-aolgpPPJDblUGTw5",BackToTop:"_3Tc8YYRhVDX9vlR0XePZfH",backToTop:"_3Tc8YYRhVDX9vlR0XePZfH",StickyStyles:"_1vYrJH5uc57mZQJPN4l34E",stickyStyles:"_1vYrJH5uc57mZQJPN4l34E",LargeOffset:"_2Fh9XKrAUp6CQHSgW98LEb",largeOffset:"_2Fh9XKrAUp6CQHSgW98LEb"}},"./src/reddit/components/SidebarStickyBottom/index.tsx":function(e,t,s){"use strict";var n=s("./src/lib/classNames/index.ts"),o=s("./node_modules/lodash/throttle.js"),r=s.n(o),a=s("./node_modules/react/index.js"),i=s.n(a),c=s("./src/lib/constants/index.ts"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/i18n/components.tsx"),m=s("./src/reddit/components/BackToTop/index.m.less"),p=s.n(m),u=e=>i.a.createElement("div",{className:Object(n.a)(e.className,p.a.container),style:e.style},i.a.createElement(d.f,{className:p.a.button,onClick:()=>window.scroll(0,0)},i.a.createElement(l.c,null,"Back to top"))),h=s("./src/reddit/components/SidebarFooter/index.tsx"),b=s("./src/reddit/constants/componentSizes.ts"),g=s("./src/reddit/contexts/PageLayer/index.tsx"),x=s("./src/reddit/selectors/experiments/categoriesPlacement.ts"),v=s("./src/reddit/components/SidebarStickyBottom/index.m.less"),C=s.n(v),O=s("./src/lib/lessComponent.tsx"),f=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const E=c.e[1]+24,y=b.g+8+152+32+16,j=y+E+8,P=O.a.div("Container",C.a),w=O.a.wrapped(e=>{var t=e.className,s=f(e,["className"]);return i.a.createElement(u,Object.assign({className:t,style:{top:"calc(100vh - 40px)"}},s))},"BackToTop",C.a),I=({categoriesPlacementVariant:e,children:t,className:s,isSticky:o})=>i.a.createElement("div",{className:Object(n.a)(s,{[C.a.StickyStyles]:o,[C.a.LargeOffset]:Object(x.f)(e)})},t);const S=Object(g.w)();t.a=S(class extends a.Component{constructor(e){super(e),this.containerEl=null,this.windowHeight=1/0,this.getStickyContents=(()=>({shouldAdSticky:this.windowHeight>j,shouldFooterSticky:this.windowHeight>y})),this.updateState=(()=>{if(this.isHidden())return;var e=this.getStickyContents();const t=e.shouldAdSticky,s=e.shouldFooterSticky;t===this.state.isAdSticky&&s===this.state.isFooterSticky||this.setState({isAdSticky:t,isFooterSticky:s})}),this.updateMeasurements=(()=>{this.windowHeight=window.innerHeight}),this.handleResize=r()(()=>{this.updateMeasurements(),this.updateState()},c.H),this.setWrapperRef=(e=>this.containerEl=e||null),this.state={isAdSticky:!0,isFooterSticky:!0}}isHidden(){return!this.containerEl||null===this.containerEl.offsetParent}componentDidMount(){this.isHidden()||this.handleResize(),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){var e=this.props;const t=e.adComponent,s=e.categoriesPlacementVariant,n=e.hideFooter,o=this.state.isAdSticky&&!!t;return i.a.createElement(P,{innerRef:this.setWrapperRef},i.a.createElement(I,{categoriesPlacementVariant:s,isSticky:o},t,!n&&i.a.createElement(h.a,null)),!this.props.hideBackToTop&&i.a.createElement(w,null))}})},"./src/reddit/components/SourceLink/index.m.less":function(e,t,s){e.exports={OutboundLinkIcon:"_2WV2dTLgPlEXLVEmIexAxf",outboundLinkIcon:"_2WV2dTLgPlEXLVEmIexAxf",SourceLinkWrapper:"_10wC0aXnrUKfdJ4Ssz-o14",sourceLinkWrapper:"_10wC0aXnrUKfdJ4Ssz-o14","m-comment":"_1-PD0_zreH-KVwpFoCLvQF",mComment:"_1-PD0_zreH-KVwpFoCLvQF"}},"./src/reddit/components/SourceLink/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/getShortenedLink.ts"),i=s("./src/reddit/controls/OutboundLink/styled.tsx"),c=s("./src/reddit/helpers/styles/components/index.tsx"),d=s("./src/reddit/icons/fonts/OutboundLink/index.tsx"),l=s("./src/reddit/components/SourceLink/index.m.less"),m=s.n(l),p=s("./src/lib/lessComponent.tsx");const u=p.a.wrapped(d.a,"OutboundLinkIcon",m.a),h=p.a.wrapped(Object(c.a)(),"SourceLinkWrapper",m.a);t.a=(e=>{const t=e.className,s=e.post,n=e.isCommentsPage,c=s.source,d=s.isSponsored;return c?o.a.createElement(h,{className:Object(r.a)({[m.a["m-comment"]]:n},t),isCommentsPage:!!n},o.a.createElement(i.a,{href:c.url,isSponsored:d,source:c},Object(a.a)(s),o.a.createElement(u,null))):null})},"./src/reddit/components/StructuredStyles/StyledComponents/forms.m.less":function(e,t,s){e.exports={FormPage:"_9ZuQyDXhFth1qKJF4KNm8",formPage:"_9ZuQyDXhFth1qKJF4KNm8",HomePageTitle:"_1JmnMJclrTwTPpAip5U_Hm",homePageTitle:"_1JmnMJclrTwTPpAip5U_Hm",HomePageBreadcrumb:"_2iNJX36LR2tMHx_unzEkVM",homePageBreadcrumb:"_2iNJX36LR2tMHx_unzEkVM",HomePageGroup:"_306gA2lxjCHX44ssikUp3O",homePageGroup:"_306gA2lxjCHX44ssikUp3O",FormPageTitle:"_1Omf6afKRpv3RKNCWjIyJ4",formPageTitle:"_1Omf6afKRpv3RKNCWjIyJ4",FormPageSection:"_2Ss7VGMX-UPKt9NhFRtgTz",formPageSection:"_2Ss7VGMX-UPKt9NhFRtgTz",FormGroup:"_3vWu4F9B4X4Yc-Gm86-FMP",formGroup:"_3vWu4F9B4X4Yc-Gm86-FMP",FormGroupTitle:"_2qAEe8HGjtHsuKsHqNCa9u",formGroupTitle:"_2qAEe8HGjtHsuKsHqNCa9u",FormElement:"c5RWd-O3CYE-XSLdTyjtI",formElement:"c5RWd-O3CYE-XSLdTyjtI",FormGroupDescription:"_3whORKuQps-WQpSceAyHuF",formGroupDescription:"_3whORKuQps-WQpSceAyHuF",FormItem:"_1Qk-ka6_CJz1fU3OUfeznu",formItem:"_1Qk-ka6_CJz1fU3OUfeznu",FormElementTitle:"_3ds8Wk2l32hr3hLddQshhG",formElementTitle:"_3ds8Wk2l32hr3hLddQshhG",FormElementDescription:"_1h0r6vtgOzgWtu-GNBO6Yb",formElementDescription:"_1h0r6vtgOzgWtu-GNBO6Yb",FormElementError:"horIoLCod23xkzt7MmTpC",formElementError:"horIoLCod23xkzt7MmTpC",FormElementSubGroup:"_33Iw1wpNZ-uhC05tWsB9xi",formElementSubGroup:"_33Iw1wpNZ-uhC05tWsB9xi",FormListItem:"_2M7LQbQxH40ingJ9h9RslL",formListItem:"_2M7LQbQxH40ingJ9h9RslL"}},"./src/reddit/components/StructuredStyles/StyledComponents/forms.ts":function(e,t,s){"use strict";s.d(t,"k",function(){return a}),s.d(t,"p",function(){return i}),s.d(t,"n",function(){return c}),s.d(t,"o",function(){return d}),s.d(t,"m",function(){return l}),s.d(t,"l",function(){return m}),s.d(t,"f",function(){return p}),s.d(t,"h",function(){return u}),s.d(t,"a",function(){return h}),s.d(t,"g",function(){return b}),s.d(t,"i",function(){return g}),s.d(t,"e",function(){return x}),s.d(t,"b",function(){return v}),s.d(t,"c",function(){return C}),s.d(t,"d",function(){return O}),s.d(t,"j",function(){return f});var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/components/StructuredStyles/StyledComponents/forms.m.less"),r=s.n(o);const a=n.a.section("FormPage",r.a),i=n.a.h1("HomePageTitle",r.a),c=n.a.button("HomePageBreadcrumb",r.a),d=n.a.div("HomePageGroup",r.a),l=n.a.h1("FormPageTitle",r.a),m=n.a.div("FormPageSection",r.a),p=n.a.div("FormGroup",r.a),u=n.a.h2("FormGroupTitle",r.a),h=n.a.div("FormElement",r.a),b=n.a.div("FormGroupDescription",r.a),g=n.a.div("FormItem",r.a),x=n.a.h3("FormElementTitle",r.a),v=n.a.div("FormElementDescription",r.a),C=n.a.div("FormElementError",r.a),O=n.a.div("FormElementSubGroup",r.a),f=n.a.li("FormListItem",r.a)},"./src/reddit/components/SubredditIcon/EditableSubredditIcon.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/subreddit/inlineEditing.ts"),d=s("./src/reddit/actions/tooltip.ts"),l=s("./src/reddit/components/ContentTooltip/index.tsx"),m=s("./src/reddit/components/InlineSubredditEditing/InstructionalTooltipContent.tsx"),p=s("./src/reddit/components/TrackingHelper/index.tsx"),u=s("./src/reddit/constants/tooltips.ts"),h=s("./src/reddit/controls/ImageInput/index.tsx"),b=s("./src/reddit/controls/LoadingIcon/index.tsx"),g=s("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),x=s("./src/reddit/helpers/localStorage/index.ts"),v=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),C=s("./src/reddit/i18n/components.tsx"),O=s("./src/reddit/i18n/utils.ts"),f=s("./src/reddit/icons/svgs/Plus/index.tsx"),E=e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 17",version:"1.1"},o.a.createElement("path",{d:"M8.566 5.835l2.4 2.4a.8.8 0 0 1-1.132 1.131L8.8 8.332V13.6a.8.8 0 1 1-1.6 0V8.332L6.166 9.366a.8.8 0 0 1-1.132-1.131l2.4-2.4a.803.803 0 0 1 1.132 0zm3.091-2.292A3.547 3.547 0 0 1 15.2 7.085a.8.8 0 0 1-1.6 0 1.945 1.945 0 0 0-2.318-1.904.802.802 0 0 1-.869-.43A4.206 4.206 0 0 0 6.628 2.4 4.233 4.233 0 0 0 2.4 6.629a.8.8 0 0 1-1.6 0A5.835 5.835 0 0 1 6.628.799a5.788 5.788 0 0 1 4.941 2.745l.088-.001z",id:"a"})),y=s("./src/reddit/models/ApiRequestState/index.ts"),j=s("./src/reddit/selectors/experiments/inlineSubredditEditing.ts"),P=s("./src/reddit/components/SubredditIcon/index.m.less"),w=s.n(P),I=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};class S extends o.a.Component{constructor(e){super(e),this.state={tooltipDismissed:!0}}componentDidMount(){this.setState({tooltipDismissed:Object(x.k)(this.props.subredditId)})}render(){const e=this.props,t=e.subredditId,s=e.className,n=e.inTopBar,r=(e.tooltipDisabled,I(e,["subredditId","className","inTopBar","tooltipDisabled"])),a=[s,w.a.inTopBar,w.a.iconContainer];return n?a.push(w.a.emptyEditableIconInTopBar):a.push(w.a.editableIcon,w.a.emptyEditableIcon),o.a.createElement("span",Object.assign({},r,{id:this.props.tooltipDisabled?void 0:u.a,className:Object(i.a)(...a)}),n?o.a.createElement(E,{className:w.a.emptyUploadButton}):o.a.createElement(f.a,{className:w.a.emptyPlusButton}),this.props.children,!this.state.tooltipDismissed&&!this.props.tooltipDisabled&&o.a.createElement(l.a,{className:w.a.tooltip,tooltipId:u.a,defaultTooltipPosition:"left",tooltipSizeEstimate:{height:150,width:320}},o.a.createElement(m.a,{includeIcon:!n,subredditId:t})))}}const T=e=>{const t=e.iconColor,s=e.className,n=e.alt,r=e.role,a=e.onClick,c=e.inTopBar,d=e.src;return o.a.createElement("span",{className:w.a.iconContainer},o.a.createElement("img",{onClick:a,role:r,alt:n,src:d,className:Object(i.a)(s,{[w.a.editableIcon]:!c}),style:{backgroundColor:t||""}}),e.children)},k=Object(a.c)({isLoading:j.b});t.a=Object(r.b)(k,(e,t)=>({onFileSelected:(s,n)=>{e(Object(c.a)(t.subreddit,s,n))},onShowTooltip:()=>{e(Object(d.d)({tooltipId:u.a}))}}))(Object(p.b)(class extends o.a.PureComponent{constructor(e){super(e),this.inputRef=null,this.openImageUpload=(()=>{this.inputRef&&this.inputRef.click(),this.props.sendEvent(v.b)}),this.setInputRef=(e=>this.inputRef=e),this.renderImageUploader=(()=>o.a.createElement(h.a,{className:w.a.imageUploader,inputRef:this.setInputRef,multiple:!1,onChange:e=>{const t=Object(y.b)();this.setState({apiRequestId:t}),this.props.onFileSelected(e,t)}})),this.state={apiRequestId:null}}componentDidMount(){this.props.inTopBar||this.props.onShowTooltip()}renderEditButton(){const e=Object(g.a)({subredditOrProfile:this.props.subreddit}).url;return this.props.inTopBar?o.a.createElement("span",{className:w.a.clickableUploadText,onClick:this.openImageUpload},e?o.a.createElement(C.c,null,"Update icon"):o.a.createElement(C.c,null,"Add icon")):null}getSharedProps(){return{onClick:this.openImageUpload,role:"presentation",className:this.props.className}}renderEditableIcon(){var e=Object(g.a)({subredditOrProfile:this.props.subreddit});const t=e.url,s=e.color,n=o.a.createElement(o.a.Fragment,null,o.a.createElement(T,Object.assign({src:t,alt:Object(O.c)("Subreddit icon"),iconColor:s,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader());return this.props.linkTo?o.a.createElement("a",{href:this.props.linkTo},n):n}renderEmptyState(){return this.props.linkTo?o.a.createElement("a",{href:this.props.linkTo},o.a.createElement(S,Object.assign({subredditId:this.props.subreddit.id,tooltipDisabled:this.props.inTopBar,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader()):o.a.createElement(o.a.Fragment,null,o.a.createElement(S,Object.assign({subredditId:this.props.subreddit.id,tooltipDisabled:this.props.inTopBar,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader())}renderSpinner(){if(this.props.isLoading){const e=[w.a.loadingIcon];let t=22;return this.props.inTopBar&&(e.push(w.a.loadingIconInTopBar),t=32),o.a.createElement(b.a,{className:Object(i.a)(...e),sizePx:t})}return null}render(){const e=Object(g.a)({subredditOrProfile:this.props.subreddit}).url?this.renderEditableIcon():this.renderEmptyState(),t=this.renderEditButton();return t?o.a.createElement("div",{className:w.a.flexContainer},e,t):e}}))},"./src/reddit/components/SubredditNav/index.m.less":function(e,t,s){e.exports={metaNavLink:"_3K8jBMDp0QPnKaJK8FVP6a",navLinkStyles:"_2NJL-agPg8YnfLMLdMbED5",subNavTitle:"_2wtKbmW1aPrT3MyHoaupQh",navLink:"_1O30sSXmfkKMRZqSaESf0S",topBannerVariant:"uGdFXCHH-nwVp4gU3UaTw",mActive:"_1YpJV_aDQqujwuofx9-eAX",navDropdownIcon:"_3u_CcXw7slod9vNJKIlYvx",subNavLink:"_1p4TpHzWWRAkGYYw9_jU-B",subNavContainer:"hcJJEc0gVBKH5pWCFgdET",subNavList:"_1T423RClx-mTPxfuiCw4UN",mIsOpen:"_2azsE3I8rle1m5FBqLLHpN",outerContainer:"_1gVVmSnHZpkUgVShsn7-ua",innerContainer:"_1_TJAX-8zAT3vVN1Iz7cys"}},"./src/reddit/components/SubredditNav/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/TrackingHelper/index.tsx"),c=s("./src/reddit/contexts/PageLayer/index.tsx"),d=s("./src/reddit/featureFlags/component.tsx"),l=s("./src/reddit/selectors/user.ts"),m=s("./src/reddit/selectors/widgets.ts"),p=s("./src/reddit/actions/subreddit.ts"),u=s("./src/reddit/i18n/components.tsx"),h=s("./node_modules/react-router-dom/es/index.js"),b=s("./src/lib/classNames/index.ts"),g=s("./src/reddit/icons/svgs/Dropdown/index.tsx"),x=s("./src/reddit/components/SubredditNav/index.m.less"),v=s.n(x),C=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const O=(e,t,s)=>Object(b.a)(e,{[v.a.mActive]:t},{[v.a.topBannerVariant]:s}),f=e=>{var t=e.children,s=e.isActive,n=e.isTopBannerVariant,r=C(e,["children","isActive","isTopBannerVariant"]);return o.a.createElement("div",Object.assign({className:O(v.a.subNavTitle,s,n)},r),o.a.createElement("span",null,t),o.a.createElement(g.b,{className:v.a.navDropdownIcon}))},E=e=>{e.className;var t=e.isActive,s=e.to,n=e.isTopBannerVariant,r=C(e,["className","isActive","to","isTopBannerVariant"]);const a=O(v.a.navLink,t,n);return s?o.a.createElement(h.a,Object.assign({className:a,to:s},r)):o.a.createElement("a",Object.assign({className:a},r))},y=e=>{e.className;var t=e.isActive,s=C(e,["className","isActive"]);return o.a.createElement(h.a,Object.assign({className:O(v.a.navLink,t)},s))},j=e=>{e.className;var t=e.isActive,s=C(e,["className","isActive"]);return o.a.createElement("a",Object.assign({className:O(v.a.subNavLink,t)},s))},P=e=>{var t=e.className,s=C(e,["className"]);return o.a.createElement("div",Object.assign({className:Object(b.a)(v.a.subNavContainer,t)},s))},w=e=>{var t=e.className,s=e.isOpen,n=C(e,["className","isOpen"]);return o.a.createElement("div",Object.assign({className:Object(b.a)(v.a.subNavList,t,{[v.a.mIsOpen]:s})},n))};const I=Object(a.c)({isActive:(e,t)=>!!e.subreddits.appliedFilters.meta[t.subredditId],subreddit:(e,t)=>e.subreddits.models[t.subredditId]});var S=Object(c.w)()(Object(r.b)(I,(e,t)=>({onTurnOnMetaFilter:()=>e(Object(p.q)({subredditId:t.subredditId,forceState:!0}))}))(function(e){const t=e.pageLayer,s=e.subreddit;return s?o.a.createElement(y,{className:v.a.metaNavLink,to:s.url,isActive:e.isActive,onClick:s=>{Object(c.J)(t)&&s.preventDefault(),e.onTurnOnMetaFilter()}},o.a.createElement(u.c,null,"Polls")):null})),T=s("./src/lib/linkMatchers/index.ts");var k=class extends o.a.Component{constructor(){super(...arguments),this.state={isOpen:!1},this.handleOpen=(e=>this.setState(()=>({isOpen:!0}))),this.handleClose=(e=>this.setState(()=>({isOpen:!1})))}render(){const e=this.props,t=this.state;return o.a.createElement(P,{onClick:this.handleOpen,onMouseLeave:this.handleClose},o.a.createElement(f,{isActive:e.isActive,isTopBannerVariant:e.isTopBannerVariant},e.label),o.a.createElement(w,{isOpen:t.isOpen,"aria-hidden":!t.isOpen,role:"list"},e.children))}};const _=e=>{const t=e.url&&Object(T.e)(T.c,e.url);return t?t.url:e.url};var N=e=>e.menuItem.url?o.a.createElement(E,{href:_(e.menuItem),isActive:!!e.isActive,isTopBannerVariant:e.isTopBannerVariant},e.menuItem.text):o.a.createElement(k,{isActive:!!e.isActive,isTopBannerVariant:e.isTopBannerVariant,label:e.menuItem.text},e.menuItem.children&&e.menuItem.children.map(e=>o.a.createElement(j,{key:`${e.text}-${_(e)}`,role:"listitem",href:_(e),target:"_blank",rel:"nofollow"},e.text))),L=s("./src/lib/constants/index.ts");const M=Object(c.w)(),R=[L.zb.SUBREDDIT,L.zb.COMMENTS,L.zb.COLLECTION_COMMENTS],F=Object(a.c)({isMetaFilterEnabled:(e,t)=>!!e.subreddits.appliedFilters.meta[t.subredditId],isPostsRoute:(e,t)=>!!t.pageLayer&&!!t.pageLayer.meta&&R.indexOf(t.pageLayer.meta.name)>-1});var B=M(Object(r.b)(F,(e,t)=>({onTurnOffMetaFilter:()=>e(Object(p.q)({subredditId:t.subredditId,forceState:!1}))}))(function(e){const t=e.homeUrl,s=e.isMetaFilterEnabled,n=e.isPostsRoute,r=e.isTopBannerVariant,a=e.onTurnOffMetaFilter,i=n&&!s;return o.a.createElement(E,{to:t,isActive:i,isTopBannerVariant:r,onClick:e=>{s&&(e.preventDefault(),a())}},o.a.createElement(u.c,null,"Posts"))})),A=s("./src/lib/CSSVariableProvider/withTheme.tsx"),D=s("./src/higherOrderComponents/makeAsync.tsx");var V=Object(D.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("HarbergerTaxBannerPurchaseCTA").then(s.bind(null,"./src/reddit/components/Governance/HarbergerTax/BannerPurchaseCTA/index.tsx")).then(e=>e.default)}),W=s("./src/reddit/constants/postLayout.ts"),H=s("./src/reddit/constants/screenWidths.ts"),U=s("./src/reddit/models/Theme/index.ts"),z=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),K=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const G=Object(A.a)(e=>{var t=e.className,s=e.children,n=e.isTopBannerVariant,r=K(e,["className","children","isTopBannerVariant"]);const a=Object(z.a)(r);return o.a.createElement("div",{className:Object(b.a)(v.a.outerContainer,t),style:{position:a.navBar.useOverlay&&!n?"absolute":"static",background:n?"inherit":Object(U.g)(a.navBar.backgroundColor,a.navBar.backgroundImage,"tiled")}},s)});var q=e=>o.a.createElement(G,{className:e.className,isTopBannerVariant:e.isTopBannerVariant},o.a.createElement("div",{className:v.a.innerContainer,style:{maxWidth:e.disableFullscreen||e.layout===W.f.Large?`${e.maxWidth||H.a}px`:"100%"}},o.a.createElement("div",null,e.children),o.a.createElement(V,null))),J=s("./src/reddit/components/Translated/index.tsx"),Y=s("./src/reddit/constants/wiki.ts"),Q=s("./src/reddit/helpers/trackers/subredditWiki.ts");var X=e=>{const t=e.homeUrl,s=e.isTopBannerVariant,n=e.pageLayer,r=!!n&&!!n.meta&&n.meta.name===L.zb.SUBREDDIT_WIKI,a=`wiki/${Y.i}`,i=t.endsWith("/")?t+a:`${t}/${a}`;return o.a.createElement(E,{isActive:r,isTopBannerVariant:s,to:i,onClick:()=>e.sendEvent(Object(Q.g)())},o.a.createElement(J.a,{msgId:"structuredStyles.forms.menuLinks.wikiHomeLinkLabel"}))};const Z=Object(d.a)("spPolls",S),$=Object(c.w)(),ee=Object(a.c)({language:l.T,layout:c.P,widget:m.f}),te=Object(r.b)(ee);t.a=$(te(Object(i.b)(e=>o.a.createElement(q,{className:e.subredditNavContainerClassName,isTopBannerVariant:e.isTopBannerVariant,layout:e.layout,disableFullscreen:e.disableFullscreen,maxWidth:e.maxWidth},e.subredditId&&o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{homeUrl:e.homeUrl,isTopBannerVariant:e.isTopBannerVariant,subredditId:e.subredditId}),o.a.createElement(Z,{subredditId:e.subredditId})),e.widget&&o.a.createElement(o.a.Fragment,null,e.widget.showWiki&&o.a.createElement(X,{homeUrl:e.homeUrl,isTopBannerVariant:e.isTopBannerVariant,pageLayer:e.pageLayer,sendEvent:e.sendEvent}),!!e.widget.data.length&&e.widget.data.map((t,s)=>o.a.createElement(N,{isActive:!1,isTopBannerVariant:e.isTopBannerVariant,key:s,menuItem:t})))))))},"./src/reddit/components/SubscribeButton/Inline.m.less":function(e,t,s){e.exports={SubscribeInternalButton:"QvUHhznbRVbKaK8dZGZVV",subscribeInternalButton:"QvUHhznbRVbKaK8dZGZVV",UnsubscribeButton:"_3gteUGkVlyl5VuSsNQJaz1",unsubscribeButton:"_3gteUGkVlyl5VuSsNQJaz1",isLarge:"_2jGEuWB6HWtIbTjMG68OXY",ButtonSpacer:"vXXjS_s-Ic4QZpFsPjThV",buttonSpacer:"vXXjS_s-Ic4QZpFsPjThV",Checkmark:"_2qm48d8K8lTcwSJiHL9KLT",checkmark:"_2qm48d8K8lTcwSJiHL9KLT",Plus:"_2zcGm9WDxG67GYyNNvHzlA",plus:"_2zcGm9WDxG67GYyNNvHzlA",unsubscribeButtonHoverStyles:"_1tZ_edPYFuF6jhuTr_iPEE"}},"./src/reddit/components/SubscribeButton/Inline.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/reddit/components/TrackingHelper/index.tsx"),i=s("./src/reddit/connectors/SubscribeButton/index.ts"),c=s("./src/reddit/controls/Button/index.tsx"),d=s("./src/reddit/icons/svgs/Checkmark/index.tsx"),l=s("./src/reddit/icons/svgs/Plus/index.tsx"),m=s("./src/reddit/components/SubscribeButton/helpers/actionTemplateSource.ts"),p=s("./src/reddit/components/SubscribeButton/Inline.m.less"),u=s.n(p),h=s("./src/lib/classNames/index.ts"),b=s("./src/lib/lessComponent.tsx"),g=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const x=b.a.wrapped(e=>{var t=e.small,s=e.shouldReverseColor,n=g(e,["small","shouldReverseColor"]);const r=s?c.i:c.f;return o.a.createElement(r,Object.assign({},n,{className:Object(h.a)(n.className,{[u.a.isLarge]:!t})}))},"SubscribeInternalButton",u.a),v=b.a.wrapped(e=>{var t=e.small,s=(e.belongsToType,e.shouldReverseColor),n=g(e,["small","belongsToType","shouldReverseColor"]);const r=s?c.f:c.i;return o.a.createElement(r,Object.assign({},n,{className:Object(h.a)(n.className,{[u.a.isLarge]:!t})}))},"UnsubscribeButton",u.a),C=b.a.wrapped(d.a,"Checkmark",u.a),O=b.a.wrapped(l.a,"Plus",u.a),f=b.a.div("ButtonSpacer",u.a);t.a=Object(i.a)(Object(a.b)(class extends o.a.Component{constructor(e){super(e),this.onMouseEnter=(()=>{this.setState({isHovered:!0})}),this.onMouseLeave=(()=>{this.setState({isHovered:!1})}),this.onClick=(e=>{const t=this.props;if(t.userIsSubscriber?t.onUnsubscribe():(this.setState({hasJustSubscribed:!0}),t.onSubscribe()),t.onClick&&t.onClick(e),t.getEventFactory){const e=t.getEventFactory(t.userIsSubscriber);e&&t.sendEvent(e)}}),this.state={hasJustSubscribed:!1,isHovered:!1}}componentDidMount(){this.props.onSubscriptionsRequested()}render(){const e=this.props,t=e.className,s=e.identifier,n=e.language,a=(e.onSubscribe,e.onUnsubscribe,e.postId);e.sendEvent;var i=e.small;const c=void 0!==i&&i,d=(e.subscribeReminderTooltipId,e.subscribeTooltipId,e.userIsSubscriber),l=e.doNotHideOtherSubscribeButtons,p=g(e,["className","identifier","language","onSubscribe","onUnsubscribe","postId","sendEvent","small","subscribeReminderTooltipId","subscribeTooltipId","userIsSubscriber","doNotHideOtherSubscribeButtons"]),b=this.state.isHovered;let E=d?Object(r.a)(n,`subscriptions.${Object(m.a)({type:s.type})}.subscribed`):Object(r.a)(n,`subscriptions.${Object(m.a)({type:s.type})}.subscribe`);return d&&b&&(E=Object(r.a)(n,`subscriptions.${Object(m.a)({type:s.type})}.unsubscribe`)),d?this.state.hasJustSubscribed||l?o.a.createElement(v,Object.assign({className:Object(h.a)(t,{[u.a.isLarge]:!c,[u.a.unsubscribeButtonHoverStyles]:!c}),onClick:this.onClick,small:c,belongsToType:s.type,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},p),c&&o.a.createElement(C,null),!c&&!b&&o.a.createElement(C,null),!c&&E):c?null:o.a.createElement(f,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(x,Object.assign({className:Object(h.a)(t,{[u.a.isLarge]:!c}),onClick:this.onClick,small:c},p,{id:`subscribe-button-${a}`,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),o.a.createElement(O,null),!c&&E))}}))},"./src/reddit/components/Widgets/AdRules/index.m.less":function(e,t,s){e.exports={Rule:"_3NwusXLUvLTrYmCFOYpDIA",rule:"_3NwusXLUvLTrYmCFOYpDIA",RuleIndex:"McQvObPSnfCkWc6C-ti6P",ruleIndex:"McQvObPSnfCkWc6C-ti6P",RuleTitle:"_2-jOphPs-FiWN_Da514451",ruleTitle:"_2-jOphPs-FiWN_Da514451"}},"./src/reddit/components/Widgets/Base/index.m.less":function(e,t,s){e.exports={WidgetBackground:"_3Im6OD67aKo33nql4FpSp_",widgetBackground:"_3Im6OD67aKo33nql4FpSp_",WidgetHeader:"lnK0-OzG7nLFydTWuXGcY",widgetHeader:"lnK0-OzG7nLFydTWuXGcY"}},"./src/reddit/components/Widgets/Base/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return m});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/SEOTitle/index.tsx"),i=s("./src/reddit/components/Widgets/Base/index.m.less"),c=s.n(i),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const l=r.a.div("WidgetBackground",c.a),m=r.a.wrapped(e=>{var t=e.children,s=d(e,["children"]);return o.a.createElement("div",Object.assign({},s),o.a.createElement(a.b,{type:a.a.Widget},t))},"WidgetHeader",c.a);t.b=(e=>o.a.createElement("div",{className:e.className},o.a.createElement(l,null,e.children)))},"./src/reddit/components/Widgets/Button/index.m.less":function(e,t,s){e.exports={RawHTMLDisplay:"_3ZOXjQGKlSNE3Pk7JFNRS_",rawHtmlDisplay:"_3ZOXjQGKlSNE3Pk7JFNRS_",imageButton:"_1dcH2atgEZb6EIz1hPypif",textButton:"_3VvVLJHakguGRWc5JxUX40",textButtonHoverText:"_1csPJVJm94zTUzhy65Kbxo",vanishingTextButtonText:"_2rUZkzEG2dvopABpvgI8Zx"}},"./src/reddit/components/Widgets/Button/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),c=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),d=s("./src/reddit/controls/Button/index.tsx"),l=s("./src/reddit/controls/OutboundLink/index.tsx"),m=s("./src/lib/CSSVariableProvider/withTheme.tsx"),p=s("./src/lib/lessComponent.tsx"),u=s("./src/lib/linkMatchers/index.ts"),h=s("./src/reddit/models/Image/index.tsx"),b=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),g=s("./src/reddit/models/Widgets/index.ts"),x=s("./src/reddit/selectors/structuredStyles.ts"),v=s("./src/reddit/selectors/user.ts"),C=s("./src/reddit/components/Widgets/Button/index.m.less"),O=s.n(C);const f=Object(m.a)(e=>{const t=e.button,s=e.overrideColors,n=Object(b.a)(e).button;return o.a.createElement(d.i,{className:(e=>e.kind===g.g.Image?O.a.imageButton:O.a.textButton)(t),style:((e,t,s)=>{let n={},o={};n=e.kind===g.g.Image?{"--widget-button-background-image":`url('${e.url}')`}:((e,t,s)=>{let n=e.color,o=e.fillColor,r=e.textColor;return t&&(n=r=s,o="transparent"),{"--widget-button-background-color":`${o||"transparent"}`,"--widget-button-border":`1px solid ${n}`,"--widget-button-color":`${r||n}`}})(e,t,s);const r=e.hoverState||e;if(r.kind===g.g.Image)o={"--widget-button-hover-background-image":`url('${r.url}')`,"--widget-button-hover-border":"none"};else{let e=r.color,n=r.fillColor,a=r.textColor;t&&(e=a=s,n="transparent"),o={"--widget-button-hover-background-color":`${n||"transparent"}`,"--widget-button-hover-background-image":"none","--widget-button-hover-border":`1px solid ${e}`,"--widget-button-hover-color":`${a||e}`}}return Object.assign({},n,o)})(t,s,n)},t.kind===g.g.Text&&o.a.createElement("span",{className:t.hoverState?O.a.vanishingTextButtonText:void 0},t.text),t.hoverState&&t.hoverState.kind===g.g.Text&&o.a.createElement("span",{className:O.a.textButtonHoverText},t.hoverState.text))}),E=e=>o.a.createElement(l.a,{href:(e=>{const t=Object(g.p)(e),s=Object(u.e)(u.c,t);return s?s.url:e.url})(e.button),isSponsored:!1,source:null},o.a.createElement(f,Object.assign({},e))),y=p.a.wrapped(i.a,"RawHTMLDisplay",O.a),j=Object(r.b)(()=>Object(a.c)({forceRedditStyle:x.m,isNightmodeOn:v.V}));t.a=j(e=>o.a.createElement(c.a,{styles:e.widget.styles,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},e.widget.descriptionHtml&&o.a.createElement(y,{html:e.widget.descriptionHtml}),e.widget.buttons.filter(e=>!(e.kind===g.g.Image&&e.url===h.c||e.hoverState&&e.hoverState.kind===g.g.Image&&e.hoverState.url===h.c)).map(t=>o.a.createElement(E,{key:`${t.text}-${t.url}`,button:t,overrideColors:e.forceRedditStyle||e.isNightmodeOn}))))},"./src/reddit/components/Widgets/Calendar/index.m.less":function(e,t,s){e.exports={RawHTMLDisplay:"_7Td52eDF6kOI7wbyoOGJV",rawHtmlDisplay:"_7Td52eDF6kOI7wbyoOGJV",EventContainer:"_1HzK-HxwbuIwNX-GXaBGDW",eventContainer:"_1HzK-HxwbuIwNX-GXaBGDW",EventTitle:"cCvnKc1bpNZv2J-DkHYuZ",eventTitle:"cCvnKc1bpNZv2J-DkHYuZ",EventDate:"_2VXwUwmJin6h1Pov4foGGE",eventDate:"_2VXwUwmJin6h1Pov4foGGE",EventLocation:"_3GYOq7iFgxtdLjpjVzjwko",eventLocation:"_3GYOq7iFgxtdLjpjVzjwko",EventDescription:"_2ZLwdDhx3dBm-ZVn7MXBYA",eventDescription:"_2ZLwdDhx3dBm-ZVn7MXBYA",ToggleDescription:"J6pcR7wS5Fc3tWloQuCxS",toggleDescription:"J6pcR7wS5Fc3tWloQuCxS"}},"./src/reddit/components/Widgets/CommunityList/SubredditList.tsx":function(e,t,s){"use strict";var n=s("./src/app/strings/index.ts"),o=s("./node_modules/react/index.js"),r=s.n(o),a=s("./node_modules/react-router-dom/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/prettyPrintNumber/index.ts"),d=s("./src/reddit/components/Flair/index.tsx"),l=s("./src/reddit/components/Hovercards/SubredditHovercard/index.tsx"),m=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),p=s("./src/reddit/components/SubredditNameLink/index.tsx"),u=s("./src/reddit/components/SubscribeButton/index.tsx"),h=s("./node_modules/react-redux/es/index.js"),b=s("./node_modules/reselect/es/index.js"),g=s("./src/reddit/actions/subscription/index.ts"),x=s("./src/reddit/selectors/user.ts");const v=Object(b.c)({language:x.T});var C=Object(h.b)(v,(e,t)=>{const s=t.widget.id||void 0;return{onSubscribe:()=>e(g.d([t.identifier],!0,s)),onSubscriptionsRequested:()=>e(g.e()),onUnsubscribe:()=>e(g.d([t.identifier],!1,s))}})(s("./src/reddit/components/SubscribeButton/Base.tsx").a),O=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),f=s("./src/reddit/connectors/connectToLanguage.ts"),E=s("./src/reddit/constants/componentSizes.ts"),y=s("./src/reddit/controls/Button/index.tsx"),j=s("./src/reddit/controls/LoadingIcon/index.tsx"),P=s("./src/reddit/helpers/trackers/customFeeds.ts"),w=s("./src/reddit/i18n/utils.ts"),I=s("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),S=s("./src/reddit/icons/svgs/Multireddit/index.tsx"),T=s("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),k=s("./src/reddit/models/Flair/index.ts"),_=s("./src/reddit/components/Widgets/CommunityList/helpers.ts"),N=s("./src/reddit/components/Widgets/CommunityList/index.m.less"),L=s.n(N);s.d(t,"b",function(){return M}),s.d(t,"a",function(){return B});const M=e=>r.a.createElement(O.a,{className:e.className,noGradient:!0,styles:e.widget&&e.widget.styles,title:e.title,truncateThreshold:e.truncateThreshold,widgetKind:e.widget&&e.widget.kind},r.a.createElement("div",{className:L.a.container},e.isLoading?r.a.createElement(j.a,{className:L.a.loadingIcon,sizePx:32}):r.a.createElement(r.a.Fragment,null,e.isError?r.a.createElement("p",{className:L.a.errorMsg},e.errorMsg||Object(w.c)("Something went wrong.")):r.a.createElement(r.a.Fragment,null,e.subredditName&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:L.a.container},r.a.createElement("div",{className:L.a.customFeedContainer},r.a.createElement(S.a,{className:L.a.customFeedIcon}),r.a.createElement("div",{className:L.a.customFeedDescriptionContainer},r.a.createElement("p",{className:L.a.customFeedTitle},Object(w.c)(`r/${Object(w.b)("subredditName",e.subredditName)} related communities Custom Feed`)),r.a.createElement("p",{className:L.a.customFeedDescription},e.widget?e.widget.descriptionHtml?r.a.createElement(m.a,{html:e.widget.descriptionHtml}):e.widget.description:Object(w.c)(`Handpicked communities from the moderators of ${Object(w.b)("subredditName",e.subredditName)}`))))),r.a.createElement(y.k,{className:L.a.secondaryLinkButton,onClick:()=>e.sendEvent(Object(P.a)()),to:(e=>`/r/${e.communities.map(e=>e.name).sort().join("+")}`)(e)},Object(w.c)("View custom feed"))),e.communities.map(t=>r.a.createElement(B,Object.assign({key:t.name},t,{getSubscribeEventFactory:e.getSubscribeEventFactoryHandler?e.getSubscribeEventFactoryHandler(t):void 0,widget:e.widget,sendEvent:e.sendEvent,type:t.type,buttonDisabled:e.itemButtonDisabled,isLoading:e.loadingItemName&&e.loadingItemName.toLowerCase()===t.name.toLowerCase()||!1,isNSFW:t.isNSFW,onCommunityNameClick:e.getClickEventFactory?()=>e.sendEvent(e.getClickEventFactory(t)):void 0,subredditName:e.subredditName,tertiaryButtonText:e.tertiaryButtonText,useTertiaryButton:e.useTertiaryButton,showTertiaryButtonOnHover:e.showTertiaryButtonOnHover,onTertiaryButtonClick:e.onTertiaryButtonClick}))),e.bottomButtonText&&e.onBottomButtonClick&&r.a.createElement(y.n,{className:L.a.bottomButton,onClick:e.onBottomButtonClick},e.bottomButtonText))))),R=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:L.a.iconContainer},e.communityIcon||e.iconUrl?r.a.createElement("img",{alt:Object(w.c)("Subreddit icon"),className:L.a.subredditIcon,src:e.communityIcon||e.iconUrl}):r.a.createElement(I.a,{className:L.a.planetIcon,"data-redditstyle":!0})),r.a.createElement("div",{className:L.a.communityDescriptionContainer},r.a.createElement(l.a,{subredditName:e.name},r.a.createElement(p.a,{className:L.a.communityName,"data-click-id":"subreddit",to:Object(_.a)(e.name,e.type)},Object(_.b)(e.name,e.type))),r.a.createElement("div",{className:L.a.communityInfoContainer},!!e.subscribers&&r.a.createElement("p",{className:L.a.subscriberCount},Object(n.c)(e.language,"listings.subscribers",e.subscribers,{count:Object(c.b)(e.subscribers)})),e.isNSFW&&r.a.createElement(d.b,{flair:{type:k.f.Nsfw,text:"nsfw"}})))),F=e=>r.a.createElement(T.a,{widthRight:E.v},r.a.createElement("div",{className:L.a.iconContainer},e.communityIcon||e.iconUrl?r.a.createElement("img",{alt:Object(w.c)("Subreddit icon"),className:L.a.subredditIcon,src:e.communityIcon||e.iconUrl}):r.a.createElement(I.a,{className:L.a.planetIcon,"data-redditstyle":!0})),r.a.createElement("div",{className:L.a.communityDescriptionContainer},r.a.createElement(a.a,{className:L.a.communityName,to:Object(_.a)(e.name,e.type),onClick:e.onCommunityNameClick},Object(_.b)(e.name,e.type)),r.a.createElement("div",{className:L.a.communityInfoContainer},!!e.subscribers&&r.a.createElement("p",{className:L.a.subscriberCount},Object(n.c)(e.language,"listings.subscribers",e.subscribers,{count:Object(c.b)(e.subscribers)})),e.isNSFW&&r.a.createElement(d.b,{flair:{type:k.f.Nsfw,text:"nsfw"}}))),e.useTertiaryButton&&e.tertiaryButtonText&&e.onTertiaryButtonClick?e.isLoading?r.a.createElement(j.a,{className:Object(i.a)(L.a.communityCta,L.a.smallLoadingIcon),sizePx:12}):r.a.createElement(y.n,{className:Object(i.a)(L.a.communityCta,{[L.a.showOnHover]:e.showTertiaryButtonOnHover}),disabled:e.buttonDisabled,onClick:()=>e.onTertiaryButtonClick(e)},e.tertiaryButtonText):e.widget?r.a.createElement(C,{disabled:e.buttonDisabled,getEventFactory:e.getSubscribeEventFactory,identifier:{name:e.name,type:e.type},sendEvent:e.sendEvent,small:!0,userIsSubscriber:!!e.isSubscribed,widget:e.widget}):r.a.createElement(u.a,{disabled:e.buttonDisabled,identifier:{name:e.name,type:e.type},getEventFactory:e.getSubscribeEventFactory,small:!0})),B=Object(f.a)(e=>r.a.createElement("div",{className:L.a.communityItemContainer},e.subredditName?r.a.createElement(R,Object.assign({},e)):r.a.createElement(F,Object.assign({},e)),!!e.description&&r.a.createElement("p",{title:e.description,className:L.a.communityDescription},e.description)))},"./src/reddit/components/Widgets/CommunityList/helpers.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return a});var n=s("./src/reddit/constants/posts.ts"),o=s("./src/reddit/helpers/name/index.ts");function r(e,t){return(t===n.a.PROFILE?"/user/":"/r/")+e+"/"}function a(e,t){return t===n.a.PROFILE?Object(o.c)(e):Object(o.b)(e)}},"./src/reddit/components/Widgets/CommunityList/index.m.less":function(e,t,s){e.exports={communityItemContainer:"_3NFddqqrzfM8noBES52Qcy",communityCta:"_1edkK552-3m7bXOdDxtLx_",smallLoadingIcon:"_32ZA09sNmrGEXkOPMOCLst",showOnHover:"_1kul3JsqY5kjVe9kzGy4bV",communityDescription:"_2IANzA2n-6eA5T8Tz0TEVE",communityName:"_3BFvyrImF3et_ZF21Xd8SC",container:"_3-1jy8hD77zNJUdEMxDrXC",isTruncated:"_3idiZ5DFVkbhhKjDBTQeq-",customFeedContainer:"_3r8MBq96DnAfulvJ4X4V2r",customFeedDescription:"_2UccMjIFx7UxMmeYaVdVZ1",customFeedDescriptionContainer:"_34S2UWralXHrf-0psMjKd2",customFeedIcon:"feoBuWJRniuZXJ8nXfP99",customFeedTitle:"_1ebuux0T60RYhd2wSZjvtB",iconContainer:"_19EKcu4yel161081OGs8w9",iconStyles:"_9p_iPxnOh7HnkcLhtSCDs",planetIcon:"_3GFjQrq7t7DpW__ZFpU7xf",secondaryLinkButton:"_1Yi_hbFvk7YS9Op3tGVQq9",subredditIcon:"_2BR7Oy0CAj5EiSDYQ--CAE",subscriberCount:"e0X82913OdCTkFf2HU-WL",textArea:"_3X2QmclgxJpDGOG7vui_8z",textButton:"_3k6fSIkIt6-LCDmLz7Didp",trashIcon:"_3T0iddL64wHJU4Ri4QU80I",loadingIcon:"_1S__kHcDfbOdA2sCV8sn9U",errorMsg:"_2AlaL9JsHLdMUnGFOPta5H",bottomButton:"_1aWHRawTuRl2HMpanJbrrb",leftAligned:"T4XQNeAXcz6U72tv0Z5Z6"}},"./src/reddit/components/Widgets/ConnectedAccounts/Account/index.m.less":function(e,t,s){e.exports={icon:"_1zLylbOLqdzG2C4JhdkEVQ",patreonLogo:"_3mKraSoIJUnWOE1E84gnuC",twitterLogo:"_1N1dJvzR-m3nNoVl8cxHul",link:"JqNsQRTEcAPCq8_G0O5mO",name:"_28fbIV1TS_oSVjfzjWnM0f",linkDescription:"_2Y1Xv08xrWbsDZuEvIuRKo",patreonIcon:"YXsfN-WeG5XMpfiJtslB-",linkTitle:"elMVR2YfkbHdFTihhlUK4",linkIcon:"oi2L0mBSRAULcOPEtjXSh",description:"KKNu_jB7N6A-PuBrW0WoR",visitButton:"NBL39n3gjYvG4c9qlXJIk"}},"./src/reddit/components/Widgets/ConnectedAccounts/index.m.less":function(e,t,s){e.exports={account:"_25M-5tlJjQOChCI8sg84QU"}},"./src/reddit/components/Widgets/ConnectedAccounts/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/components/SidebarSpacer/index.tsx"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),d=s("./src/reddit/components/Widgets/Base/index.tsx"),l=s("./src/reddit/constants/posts.ts"),m=s("./src/reddit/helpers/trackers/profileSettings.ts"),p=s("./src/reddit/helpers/trackers/providers.ts"),u=s("./src/reddit/i18n/components.tsx"),h=s("./src/reddit/models/ExternalAccount/index.ts"),b=s("./src/reddit/selectors/externalAccount.ts"),g=s("./src/reddit/selectors/user.ts"),x=s("./src/lib/addQueryParams/index.ts"),v=s("./src/reddit/controls/OutboundLink/index.tsx"),C=s("./src/reddit/i18n/utils.ts"),O=s("./src/reddit/icons/svgs/OutboundLink/index.tsx"),f=s("./src/reddit/icons/svgs/Patreon/index.tsx"),E=s("./src/reddit/icons/svgs/Twitter/index.tsx"),y=s("./src/reddit/layout/twoCol/ExpandRight/index.tsx"),j=s("./src/reddit/components/Widgets/ConnectedAccounts/Account/index.m.less"),P=s.n(j);var w=e=>{const t=e.account,s=e.clickEvent,n=e.currentUserIsPatronOfSubredditOrProfile,r=e.provider;let a,i=t.username,c=P.a.icon,d="",l=t.link;if(r===h.a.Twitter)a=o.a.createElement(E.a,{className:P.a.twitterLogo}),d="View on Twitter",i=`@${t.username}`;else{if(r!==h.a.Patreon)return null;a=o.a.createElement(f.a,{className:P.a.patreonLogo}),n?(d=Object(C.c)("Thank you for being a patron!"),l=Object(x.a)(t.link,{utm_campaign:"reddit_patreon_widget",utm_content:"thank_you"})):(d=Object(C.c)("Get exclusive Patreon flair by becoming a patron"),l=Object(x.a)(t.link,{utm_campaign:"reddit_patreon_widget",utm_content:"become_patron"})),c=`${P.a.icon} ${P.a.patreonIcon}`}return o.a.createElement(y.a,null,o.a.createElement("span",{className:c},a),o.a.createElement(v.a,{className:P.a.link,href:l,isSponsored:!1,source:void 0,onClick:s},o.a.createElement("div",{className:P.a.linkTitle},o.a.createElement("span",{className:P.a.name},i),o.a.createElement(O.a,{className:P.a.linkIcon})),o.a.createElement("div",{className:P.a.linkDescription},d)))},I=s("./src/reddit/components/Widgets/ConnectedAccounts/index.m.less"),S=s.n(I);const T=Object(a.c)({currentUserIsPatronOfSubredditOrProfile:(e,{subredditOrProfile:t})=>Object(b.a)(e,t),patreonAccount:(e,{subredditOrProfile:t})=>Object(b.d)(e,t),twitterAccount:(e,{subredditOrProfile:t})=>t.type===l.a.PROFILE?Object(b.e)(e,{profileName:t.name}):null,user:(e,{subredditOrProfile:t})=>t.type===l.a.PROFILE?Object(g.hb)(e,{userName:t.name}):null}),k=Object(r.b)(T,e=>({trackTwitterAccountClicked:t=>e((e,s)=>m.k(s(),t))}),(e,t,s)=>Object.assign({},s,e,t,{onTwitterAccountClicked:()=>t.trackTwitterAccountClicked(e.user)}));t.a=Object(c.b)(k(e=>{const t=e.currentUserIsPatronOfSubredditOrProfile,s=e.onTwitterAccountClicked,n=e.patreonAccount,r=e.sendEvent,a=e.twitterAccount;return a||n?o.a.createElement(i.a,null,o.a.createElement(d.b,null,o.a.createElement(d.a,null,o.a.createElement(u.c,null,"Connected accounts")),a&&o.a.createElement("div",{className:S.a.account},o.a.createElement(w,{provider:h.a.Twitter,account:a,clickEvent:s})),n&&o.a.createElement("div",{className:S.a.account},o.a.createElement(w,{provider:h.a.Patreon,account:n,currentUserIsPatronOfSubredditOrProfile:t,clickEvent:()=>r(Object(p.c)())})))):null}))},"./src/reddit/components/Widgets/Image/ImageFrame.m.less":function(e,t,s){e.exports={ImageFrame:"_3NeWg805wFgqPuE_-LZKN4",imageFrame:"_3NeWg805wFgqPuE_-LZKN4"}},"./src/reddit/components/Widgets/Image/StyledImage.m.less":function(e,t,s){e.exports={StyledImage:"_3WqRAmto46uhALFWnn8-Pa",styledImage:"_3WqRAmto46uhALFWnn8-Pa"}},"./src/reddit/components/Widgets/Moderator/index.m.less":function(e,t,s){e.exports={ModeratorListItem:"_1Y_VNBcV1dWk6Y7xcJHQyQ",moderatorListItem:"_1Y_VNBcV1dWk6Y7xcJHQyQ",Username:"ULWj94BYSOqoJDetxgcnU",username:"ULWj94BYSOqoJDetxgcnU",MessageModsLink:"_3qzNYRLcf8lEELXhDHff5z",messageModsLink:"_3qzNYRLcf8lEELXhDHff5z",topBannerVariant:"_19ZGeJIZMul_6qBFbDRS0c",FlairComponent:"_1vh4u-B3eHXE3-ko0huS20",flairComponent:"_1vh4u-B3eHXE3-ko0huS20",InternalLink:"_2GrMpxDnqcoKtPHot56EWQ",internalLink:"_2GrMpxDnqcoKtPHot56EWQ",LinkContainer:"_2pf-KRzaHwj_TjBcOIDrWG",linkContainer:"_2pf-KRzaHwj_TjBcOIDrWG"}},"./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.m.less":function(e,t,s){e.exports={DropdownRow:"JoWBeMWu_l8J_Hn6Udz_j",dropdownRow:"JoWBeMWu_l8J_Hn6Udz_j"}},"./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/noop.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/react-router-redux/es/index.js"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/actions/modal.ts"),m=s("./src/reddit/actions/post.ts"),p=s("./src/reddit/actions/postCollection/index.ts"),u=s("./src/reddit/components/ConfirmUserActionModal/index.tsx"),h=s("./src/reddit/components/OverflowMenu/index.tsx"),b=s("./src/reddit/controls/Dropdown/Row.tsx"),g=s("./src/reddit/i18n/utils.ts"),x=s("./src/reddit/selectors/activeModalId.ts"),v=s("./src/reddit/selectors/postCollection.ts"),C=s("./node_modules/reselect/es/index.js"),O=s("./src/reddit/components/TrackingHelper/index.tsx"),f=s("./src/reddit/helpers/trackers/postCollection.ts"),E=s("./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.m.less"),y=s.n(E);const j=d.a.wrapped(b.b,"DropdownRow",y.a);let P;const w=Object(x.b)("DELETE_COLLECTION_CONFM_MODAL_ID"),I=Object(x.b)("EDIT_POST_COLLECTION_MODAL_ID"),S=Object(C.c)({createPostUrl:v.d,isDeleteConfirmModalOpen:w,isEditCollectionModalOpen:I,shouldShowCollectionEditOptions:v.s}),T=Object(i.b)(S,(e,t)=>({copyLink:()=>e(Object(m.s)(t.permalink)),onCreatePost:s=>{t.shouldShowCreatePost&&e(Object(c.b)(s))},onRemoveCollection:()=>e(Object(p.c)(t.collectionId,t.isSubmitPage)),onToggleDeleteConfirmModal:()=>e(l.i("DELETE_COLLECTION_CONFM_MODAL_ID")),onToggleEditModal:async()=>{P||(P=await Promise.all([s.e("vendors~HarbergerTaxManageModal~ModerationPages~PostCreation~Settings~StructuredStyles~editCollectio~95c124cf"),s.e("editCollectionModal")]).then(s.bind(null,"./src/reddit/components/EditCollectionModal/index.tsx")).then(e=>e.EditCollectionModal)),e(l.i("EDIT_POST_COLLECTION_MODAL_ID"))}}));t.a=T(Object(O.b)(e=>{const t=e.className,s=e.collectionId,n=e.copyLink,r=e.createPostUrl,i=e.isDeleteConfirmModalOpen,c=e.isEditCollectionModalOpen,d=e.onCreatePost,l=e.onRemoveCollection,m=e.onToggleDeleteConfirmModal,p=e.onToggleEditModal,b=e.shouldShowCollectionEditOptions,x=e.shouldShowCreatePost,v=e.targetPosition,C=e.tooltipPosition,O=e.sendEvent;return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.b,{className:t,dropdownId:`collection-menu-${s}-${x?1:2}`,onClick:o.a,targetPosition:v,tooltipPosition:C},a.a.createElement(j,{onClick:n,displayText:Object(g.c)("Copy collection link")}),b&&a.a.createElement(a.a.Fragment,null,a.a.createElement(j,{onClick:()=>{O(Object(f.l)(s)),p()},displayText:Object(g.c)("Edit")}),a.a.createElement(j,{onClick:()=>{O(Object(f.k)(s)),m()},displayText:Object(g.c)("Delete collection")}),x&&a.a.createElement(j,{onClick:()=>{d(r)},displayText:Object(g.c)("Create post")}))),c&&P&&a.a.createElement(P,{collectionId:s,onClose:p,onEditSuccess:p}),i&&a.a.createElement(u.a,{actionText:Object(g.c)("Yes, Delete"),headerText:Object(g.c)("Delete Collection"),modalText:Object(g.c)("Are you sure you want to delete this collection? The posts within the collection won't be deleted."),onConfirm:l,toggleModal:m,trackClick:o.a}))}))},"./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.m.less":function(e,t,s){e.exports={DropdownRow:"_3V8ByF4idIiROiWQ9i468R",dropdownRow:"_3V8ByF4idIiROiWQ9i468R"}},"./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/noop.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./src/lib/lessComponent.tsx"),c=s("./src/reddit/components/LinkOrOverlayLink/index.tsx"),d=s("./src/reddit/components/OverflowMenu/index.tsx"),l=s("./src/reddit/controls/Dropdown/Row.tsx"),m=s("./src/reddit/i18n/utils.ts"),p=s("./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.m.less"),u=s.n(p);const h=i.a.wrapped(l.b,"DropdownRow",u.a);t.a=(e=>{const t=e.isFutureEvent,s=e.onAddEventStartTime,n=e.onEditStartTime,r=e.onStartEventNow,i=e.postPermalink,l=e.shouldShowAddEventStartTime,p=e.targetPosition,u=e.tooltipPosition;return a.a.createElement(d.b,{className:e.className,dropdownId:e.dropdownId,onClick:o.a,targetPosition:p,tooltipPosition:u},l&&s&&a.a.createElement(h,{onClick:s,displayText:Object(m.c)("Add event start time")}),t&&r&&a.a.createElement(h,{onClick:r,displayText:Object(m.c)("Start event now")}),t&&n&&a.a.createElement(h,{onClick:n,displayText:Object(m.c)("Edit start time")}),a.a.createElement(h,{onClick:e.onRemoveClick,displayText:Object(m.c)("Remove from collection")}),i&&a.a.createElement(c.a,{target:"_blank",rel:"noopener noreferrer",isOverlay:!1,to:i},a.a.createElement(h,{displayText:Object(m.c)("View post")})))})},"./src/reddit/components/Widgets/PostFlair/index.m.less":function(e,t,s){e.exports={WidgetContent:"_2NAcQAOfOGlsoihoqpSHTh",widgetContent:"_2NAcQAOfOGlsoihoqpSHTh",TertiaryButton:"_1nkSNshm5FPoOguxeVwxcD",tertiaryButton:"_1nkSNshm5FPoOguxeVwxcD",StyledFlair:"ij57zT3Rtmsew_4V8vYmY",styledFlair:"ij57zT3Rtmsew_4V8vYmY",cloudDisplay:"l8B49A4v1dhWGGEwM7vYA",flairFilter:"_1Dpo5nORF-CHLCeoDHpZuR",flairFilterContainer:"qHKWh5t-0ZHqZ00w567bU",flairFilterButton:"_1Uh_u9ypgpntBJ_2RC1Ge3"}},"./src/reddit/components/Widgets/PostFlair/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react-router-dom/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/Flair/index.tsx"),m=s("./src/reddit/components/TrackingHelper/index.tsx"),p=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),u=s("./src/reddit/contexts/PageLayer/index.tsx"),h=s("./src/reddit/controls/Button/index.tsx"),b=s("./src/reddit/helpers/correlationIdTracker.ts"),g=s("./src/reddit/helpers/flair.ts"),x=s("./src/reddit/helpers/trackers/postFlair.ts"),v=s("./src/reddit/i18n/utils.ts"),C=s("./src/reddit/models/Widgets/index.ts"),O=s("./src/reddit/selectors/experiments/feedFilters.ts"),f=s("./src/reddit/selectors/subreddit.ts"),E=s("./src/reddit/components/Widgets/PostFlair/index.m.less"),y=s.n(E),j=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const P=25,w=129,I=Object(u.w)({filterName:e=>Object(u.U)(e).f,url:e=>Object(u.Y)(e)}),S=Object(i.c)({feedFilterVariant:O.a,subredditId:(e,t)=>Object(f.M)(e,t.subredditName)}),T=Object(r.b)(S),k=d.a.div("WidgetContent",y.a),_=d.a.wrapped(h.n,"TertiaryButton",y.a),N=e=>{var t=e.display,s=e.isFlairFilter,n=e.onMouseDown,r=j(e,["display","isFlairFilter","onMouseDown"]);return o.a.createElement("li",{className:Object(c.a)(y.a.StyledFlair,t===C.e.Cloud&&y.a.cloudDisplay,{[y.a.flairFilter]:s}),onMouseDown:n},o.a.createElement(l.b,Object.assign({},r,{isFlairFilter:s,forceSmallEmojis:!0})))};t.a=I(T(Object(a.e)(Object(m.b)(class extends o.a.Component{constructor(e){super(e),this.flairListRef=o.a.createRef(),this.trackFlairWidgetClick=(e=>{Object(O.b)(this.props.feedFilterVariant)&&this.props.sendEvent(Object(x.f)(e))}),this.trackFlairWidgetClear=(e=>this.props.sendEvent(Object(x.c)(e))),this.trackFlairOverflowClick=(()=>{Object(O.b)(this.props.feedFilterVariant)&&this.props.sendEvent(Object(x.d)())}),this.onClick=(e=>{const t={id:this.props.subredditId,eventType:"subreddit",originElement:"post_flair_widget",postFlairName:e};Object(b.d)(b.a.SearchResults),this.props.sendEvent(Object(x.b)(t))}),this.onToggleCollapse=(()=>this.setState(e=>({isCollapsed:!e.isCollapsed}))),this.handleCloseClick=((e,t)=>{e.preventDefault(),this.trackFlairWidgetClear(t),this.props.history.replace({pathname:`/r/${this.props.subredditName}`,search:""})}),this.getSelectedFlair=(e=>e.find(e=>Object(g.j)(e)===this.props.filterName)),this.getFlairsFromIds=(e=>e.map(e=>this.props.widget.templates[e]&&Object(g.c)(this.props.widget.templates[e]))),this.state={isCollapsed:!0}}componentDidMount(){const e=Object(O.b)(this.props.feedFilterVariant),t=this.flairListRef.current&&this.flairListRef.current.offsetHeight;e&&t&&t>w&&this.setState({hasOverflow:!0})}renderButton(e){const t=e?"See more":"View more flair",s=e?"See less":"View less flair",n=e?h.n:_;return o.a.createElement(n,{className:e&&y.a.flairFilterButton,onMouseDown:this.trackFlairOverflowClick,onClick:this.onToggleCollapse},this.state.isCollapsed?Object(v.c)(t):Object(v.c)(s))}renderFlairs(e,t){var s=this.props;const n=s.subredditName,r=s.widget;return o.a.createElement("ul",{ref:this.flairListRef},e.map(e=>o.a.createElement(N,{key:e.templateId,display:r.display,flair:e,isFlairFilter:t,large:t,onClick:t?void 0:this.onClick,onMouseDown:()=>this.trackFlairWidgetClick(e),subredditName:n,to:Object(g.e)(this.props.url,Object(g.j)(e))})))}renderFlairFilters(e,t){const s=this.state.isCollapsed?w:"none";return o.a.createElement("div",{className:y.a.flairFilterContainer,style:{maxHeight:s}},this.renderFlairs(e,t))}renderSelectedFlairFilter(e){var t=this.props;const s=t.subredditName,n=t.widget;return o.a.createElement("ul",null,o.a.createElement(N,{key:e.templateId,display:n.display,flair:e,isFlairFilter:!0,isSelected:!0,large:!0,onCloseClick:t=>this.handleCloseClick(t,e),subredditName:s,to:Object(g.e)(this.props.url,Object(g.j)(e))}))}render(){var e=this.props;const t=e.feedFilterVariant,s=e.filterName,n=e.widget;var r=this.state;const a=r.hasOverflow,i=r.isCollapsed,c=Object(O.b)(t),d=i&&!c?n.order.slice(0,P):n.order,l=this.getFlairsFromIds(d),m=s&&this.getSelectedFlair(l)||void 0,u=n.order.length>d.length||a&&!m;return o.a.createElement(p.a,{styles:n.styles,title:n.shortName,truncateThreshold:this.props.truncateThreshold,widgetKind:n.kind},o.a.createElement(k,null,m&&this.renderSelectedFlairFilter(m),c&&!m&&this.renderFlairFilters(l,c),!m&&!c&&this.renderFlairs(l,c),u&&this.renderButton(c)))}}))))},"./src/reddit/components/Widgets/SubredditRules/Rule/index.m.less":function(e,t,s){e.exports={RawHTMLDisplay:"_2vztYwRKSDZV2ISjSixByA",rawHtmlDisplay:"_2vztYwRKSDZV2ISjSixByA",Chevron:"_2U-LBUvfr1W6MEMTGXgzmh",chevron:"_2U-LBUvfr1W6MEMTGXgzmh",RuleShortName:"_8ZLJI1-ZiP7pHJ_yO1L4Z",ruleShortName:"_8ZLJI1-ZiP7pHJ_yO1L4Z",pointerCursor:"_3osxlOKfiylmgqNqsW7erB",RuleIndex:"_36D5hmBSZbFxkFMkiWg6cY",ruleIndex:"_36D5hmBSZbFxkFMkiWg6cY",RuleTitle:"tbIApBd2DM_drfZQJjIum",ruleTitle:"tbIApBd2DM_drfZQJjIum",RuleDescription:"_2QhEclR_DjIrTv_oNU5MMN",ruleDescription:"_2QhEclR_DjIrTv_oNU5MMN"}},"./src/reddit/components/Widgets/SubredditRules/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),i=s("./src/reddit/connectors/connectToLanguage.ts"),c=s("./src/lib/classNames/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),m=s("./src/reddit/helpers/dom/index.ts"),p=s("./src/reddit/icons/svgs/ChevronDown/index.tsx"),u=s("./src/reddit/icons/svgs/ChevronUp/index.tsx"),h=s("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),b=s("./src/reddit/models/Widgets/index.ts"),g=s("./src/reddit/components/Widgets/SubredditRules/Rule/index.m.less"),x=s.n(g);const v=d.a.div("RuleShortName",x.a),C=d.a.div("RuleIndex",x.a),O=d.a.div("RuleTitle",x.a),f=d.a.div("RuleDescription",x.a),E=d.a.wrapped(l.a,"RawHTMLDisplay",x.a);class y extends o.a.Component{constructor(e){super(e),this.onClick=(()=>{Object(m.f)()||this.setState({isVisible:!this.state.isVisible})}),this.state={isVisible:this.shouldShowFullDisplay(e)}}shouldShowFullDisplay(e){return e.display===b.f.FULL}render(){const e=this.props,t=this.state,s=this.onClick,n=this.shouldShowFullDisplay,r=!n(e)&&!!e.rule.descriptionHtml;return o.a.createElement(v,{className:Object(c.a)({[x.a.pointerCursor]:r}),onClick:n(e)||!e.rule.descriptionHtml?void 0:s},o.a.createElement(h.a,null,o.a.createElement(C,null,`${e.humanIndex}.`),o.a.createElement(O,null,`${e.rule.shortName}`),o.a.createElement("div",null,!n(e)&&e.rule.descriptionHtml&&(t.isVisible?o.a.createElement(u.a,{className:x.a.Chevron}):o.a.createElement(p.a,{className:x.a.Chevron})))),t.isVisible&&o.a.createElement(f,null,o.a.createElement(E,{html:e.rule.descriptionHtml})))}}s.d(t,"a",function(){return j});const j=Object(i.a)(e=>e.rules.length>0?o.a.createElement(a.a,{className:e.className,styles:e.styles,title:Object(r.a)(e.language,"structuredStyles.widgets.subreddit-rules.subredditRules",{subreddit:e.subredditName}),redditStyle:e.redditStyle},e.rules.map(function(t,s){return o.a.createElement(y,{key:`rule${t.shortName}${t.createdUtc}`,rule:t,display:e.display,humanIndex:s+1})})):null);t.b=(e=>o.a.createElement(j,{rules:e.widget.data||[],subredditName:e.subredditName,display:e.widget.display,redditStyle:e.redditStyle,styles:e.widget.styles}))},"./src/reddit/components/Widgets/TextArea/index.m.less":function(e,t,s){e.exports={WidgetContent:"_1UXMWx5AOkqbZJ00ctnRu",widgetContent:"_1UXMWx5AOkqbZJ00ctnRu",RawHTMLDisplay:"_1-yyC7m50efEvz4Q5I7jn5",rawHtmlDisplay:"_1-yyC7m50efEvz4Q5I7jn5"}},"./src/reddit/components/Widgets/ThemedWidget/index.m.less":function(e,t,s){e.exports={widgetBackground:"_1G4yU68P50vRZ4USXfaceV",clickable:"_2mtWlchu4uQf339v56bSha",redditStyle:"_2QeqBqfT5UbHBoViZUt-wX",truncatedGradient:"_1lvCNVth3dt5y8lu3vT95L",widgetHeader:"_ZhON3a3vplThB8NFwuJn",headerExp:"_1kKGybsCNXyvQc_qJCQIQe",widgetTitle:"_2sggAEfRQLyoAl4J__5twU",widgetContent:"TmgZY6tDcdErbE5d7E0HJ",widgetContentOnly:"_3RPJ8hHnfFohktLZca18J6",truncated:"r5dzQq7dgZyAmve8abbbt",seeMore:"_3dbp6Cm9uKkkIBr9EsU-qS"}},"./src/reddit/components/Widgets/ThemedWidget/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/reddit/components/SEOTitle/index.tsx"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/contexts/PageLayer/index.tsx"),p=s("./src/reddit/controls/Button/index.tsx"),u=s("./src/reddit/selectors/telemetry.ts");const h=(e,t)=>s=>Object.assign({source:"community_widgets",action:"click",noun:"see_more",widget:Object(u.widget)(s,{subredditId:e,widgetKind:t})},u.defaults);var b=s("./src/reddit/i18n/components.tsx"),g=s("./src/reddit/selectors/experiments/feedFilters.ts"),x=s("./src/reddit/selectors/experiments/topPosts.ts"),v=s("./src/reddit/selectors/structuredStyles.ts"),C=s("./src/reddit/selectors/user.ts"),O=s("./src/reddit/models/Theme/index.ts"),f=s("./src/reddit/models/Theme/NewColorSystem/index.ts");const E=e=>e.styles&&e.styles.backgroundColor?e.styles.backgroundColor:Object(f.a)(e).widgetColors.sidebarWidgetBackgroundColor,y=e=>e.styles&&e.styles.headerColor?e.styles.headerColor:Object(f.a)(e).widgetColors.sidebarWidgetHeaderColor,j=e=>{const t=E(e);return Object(O.f)(t)},P=e=>{const t=y(e);return Object(O.f)(t)};var w=s("./src/reddit/components/Widgets/ThemedWidget/index.m.less"),I=s.n(w);const S=Object(m.w)(),T=Object(r.b)(()=>Object(a.c)({feedFilterVariant:g.a,forceRedditStyle:(e,t)=>{const s=Object(m.o)(e,t)||void 0,n=t.redditStyle||Object(v.m)(e,{subredditId:s}),o=Object(C.V)(e);return n||o},subredditId:m.o,topPostVariant:x.d}));t.a=S(T(Object(c.a)(Object(l.b)(class extends o.a.Component{constructor(){super(...arguments),this.contentRef=o.a.createRef(),this.state={isTruncated:!1},this.handleSeeMoreClick=(()=>{var e=this.props;const t=e.subredditId,s=e.widgetKind;t&&s&&this.props.sendEvent(h(t,s)),this.setState({isTruncated:!1})})}componentDidMount(){const e=this.contentRef.current,t=e&&e.offsetHeight;this.props.truncateThreshold&&t&&t>this.props.truncateThreshold&&this.setState({isTruncated:!0})}getWidgetBackgroundStyles(){const e={};return e.backgroundColor=E(this.props),e.color=e.fill=j(this.props),e}getWidgetHeaderStyles(){const e={};return e.backgroundColor=y(this.props),e.color=e.fill=P(this.props),e}render(){var e=this.props;const t=e.children,s=e.className,n=e.contentOnly,r=e.feedFilterVariant,a=e.forceRedditStyle,c=e.headerButton,l=e.onClick,m=e.title,u=e.topPostVariant,h=e.truncateThreshold,x=n?I.a.widgetContentOnly:I.a.widgetContent,v=Object(g.f)(r),C=!!u,O=!a&&this.props.styles&&!v&&!C,f=O?this.getWidgetBackgroundStyles():{},E=O?this.getWidgetHeaderStyles():{};return o.a.createElement("div",{className:Object(i.a)(s,I.a.widgetBackground,{[I.a.redditStyle]:a,[I.a.clickable]:!!l,[I.a.truncatedGradient]:this.state.isTruncated&&!this.props.noGradient}),"data-redditstyle":a,onClick:l,style:f},m&&o.a.createElement("div",{className:Object(i.a)(I.a.widgetHeader,{[I.a.headerExp]:v||C}),style:E},o.a.createElement("div",{className:Object(i.a)(I.a.widgetTitle,{[I.a.headerExp]:v||C})},o.a.createElement(d.b,{type:d.a.Widget},m)),c),o.a.createElement("div",{className:Object(i.a)(x,{[I.a.truncated]:this.state.isTruncated}),ref:this.contentRef,style:{maxHeight:this.state.isTruncated?h:"none"}},t),this.state.isTruncated&&o.a.createElement(p.n,{className:I.a.seeMore,onClick:this.handleSeeMoreClick},o.a.createElement(b.c,null,"See More")))}}))))},"./src/reddit/components/Widgets/Widget/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/components/Widgets/Button/index.tsx"),a=s("./node_modules/react-redux/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/humanizeDate/index.ts"),d=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),m=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),p=s("./src/reddit/controls/TextButton/index.tsx"),u=s("./src/reddit/i18n/utils.ts"),h=s("./src/reddit/selectors/user.ts"),b=s("./src/reddit/components/Widgets/Calendar/index.m.less"),g=s.n(b);const x=100,v={isExpanded:!1},C=d.a.wrapped(l.a,"RawHTMLDisplay",g.a),O=d.a.div("EventContainer",g.a),f=d.a.div("EventTitle",g.a),E=d.a.div("EventDate",g.a),y=d.a.div("EventLocation",g.a),j=d.a.div("EventDescription",g.a),P=d.a.wrapped(p.a,"ToggleDescription",g.a);class w extends o.a.Component{constructor(e){super(e),this.toggleDescriptionView=(()=>{this.setState({isExpanded:!this.state.isExpanded})}),this.state=v}render(){const e=this.props,t=this.state;return e.text.length>x?o.a.createElement(j,null,t.isExpanded?e.text:e.text.slice(0,x),o.a.createElement(P,{onClick:this.toggleDescriptionView},t.isExpanded?Object(u.c)("read less"):Object(u.c)("...read more"))):o.a.createElement(j,null,e.text)}}const I=Object(i.c)({language:h.T});var S=Object(a.b)(I)(e=>o.a.createElement(m.a,{styles:e.widget.styles,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},e.widget.data.map((t,s)=>o.a.createElement(O,{key:`${s}-${t.title}`},o.a.createElement(f,null,t.titleHtml?o.a.createElement(C,{html:t.titleHtml}):t.title),e.widget.configuration.showDate&&t.startTime&&o.a.createElement(E,null,Object(c.a)(t.startTime,e.language,!0),!t.allDay&&e.widget.configuration.showTime&&o.a.createElement("span",null," • ",(e=>{const t=new Date(1e3*e),s=t.getHours(),n=t.getMinutes();return n<10?`${s}:0${n}`:`${s}:${n}`})(t.startTime)," ")),t.location&&e.widget.configuration.showLocation&&o.a.createElement(y,null,t.locationHtml?o.a.createElement(C,{html:t.locationHtml}):t.location),t.description&&e.widget.configuration.showDescription&&o.a.createElement(w,{language:e.language,text:t.description}))))),T=s("./src/reddit/components/TrackingHelper/index.tsx"),k=s("./src/reddit/components/Widgets/CommunityList/SubredditList.tsx");var _=Object(T.b)(e=>o.a.createElement(k.b,{className:e.className,communities:e.widget.data,sendEvent:e.sendEvent,subredditName:e.subredditName,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widget:e.widget}));const N=Object(i.c)({stylesheet:e=>e.stylesheets}),L=Object(a.b)(N),M=(e,t,s)=>`<head>\n  <link rel="stylesheet" href="${e}">\n  <link rel="stylesheet" href="${t}">\n  <base target="_blank">\n</head>\n<body>${s}</body>`;var R=L(class extends o.a.Component{constructor(){super(...arguments),this.storeRef=(e=>{this.iframe=e})}shouldComponentUpdate(e){return(e.widget.stylesheetUrl!==this.props.widget.stylesheetUrl||e.widget.textHtml&&e.widget.textHtml!==this.props.widget.textHtml)&&(this.renderIframeContent(e),this.writeIFrameDocument()),e.widget.height!==this.props.widget.height}writeIFrameDocument(){this.iframe&&this.iframe.contentWindow&&void 0!==this.iframeContent&&(this.iframe.contentWindow.document.open(),this.iframe.contentWindow.document.write(this.iframeContent),this.iframe.contentWindow.document.close())}componentWillMount(){this.renderIframeContent(this.props)}componentDidMount(){this.iframe&&this.iframe.contentWindow&&this.iframeContent&&(this.iframe.contentWindow.document.body&&this.iframe.contentWindow.document.body.childNodes.length||this.writeIFrameDocument())}renderIframeContent(e){e.widget.stylesheetUrl&&e.widget.textHtml&&(this.iframeContent=M(e.stylesheet,e.widget.stylesheetUrl,e.widget.textHtml))}render(){const e=this.props;return o.a.createElement(m.a,{contentOnly:!0,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},o.a.createElement("iframe",{ref:this.storeRef,width:"100%",height:e.widget.height||300,srcDoc:this.iframeContent}))}}),F=s("./src/reddit/controls/OutboundLink/index.tsx"),B=s("./src/reddit/models/Image/index.tsx"),A=s("./src/reddit/components/Widgets/Image/ImageFrame.m.less"),D=s.n(A);var V=d.a.div("ImageFrame",D.a),W=s("./src/reddit/components/Widgets/Image/StyledImage.m.less"),H=s.n(W);var U=d.a.img("StyledImage",H.a);var z=class extends o.a.Component{constructor(e){super(e),this.state={imageIndex:this.getRandomIndex(e)}}getRandomIndex(e){if(!e.widget.data.length)return-1;let t=Math.floor(Math.random()*e.widget.data.length);if(e.widget.data[t].url===B.c){t=-1;for(let t=0;t<e.widget.data.length;t++)if(e.widget.data[t].url!==B.c)return t}return t}componentWillReceiveProps(e){const t=this.props,s=this.state;e.subredditName===t.subredditName&&e.widget.data[s.imageIndex]&&e.widget.data[s.imageIndex]===t.widget.data[s.imageIndex]||this.setState(t=>({imageIndex:this.getRandomIndex(e)}))}render(){const e=this.props,t=this.state;if(t.imageIndex<0)return null;const s=e.widget.data[t.imageIndex],n=o.a.createElement(V,null,o.a.createElement(U,{alt:Object(u.c)("Widget image"),src:s.url}));return s.linkUrl?o.a.createElement(F.a,{href:s.linkUrl,isSponsored:!1,source:null},n):n}},K=s("./node_modules/react-router-dom/es/index.js"),G=s("./src/reddit/components/Flair/index.tsx"),q=s("./src/reddit/controls/InternalLink/index.tsx"),J=s("./src/reddit/icons/fonts/Envelope/index.tsx"),Y=s("./src/reddit/models/Flair/index.ts"),Q=s("./src/reddit/components/Widgets/Moderator/index.m.less"),X=s.n(Q);const Z=d.a.div("ModeratorListItem",X.a),$=d.a.div("Username",X.a),ee=d.a.a("MessageModsLink",X.a),te=d.a.wrapped(G.b,"FlairComponent",X.a),se=e=>o.a.createElement($,null,`u/${e}`),ne=d.a.wrapped(q.a,"InternalLink",X.a),oe=d.a.div("LinkContainer",X.a);var re=e=>{const t=e.isTopBannerVariant,s=e.subredditName,n=e.widget;return o.a.createElement(m.a,{styles:n.styles,title:Object(u.c)("Moderators"),headerButton:o.a.createElement(ee,{className:t&&X.a.topBannerVariant,href:`https://web.archive.org/web/20190901080902/https://reddit.com/message/compose?to=/r/${s}`,target:"_blank"},o.a.createElement(J.a,null))},n.mods.map(e=>o.a.createElement(Z,{key:e.name},(e=>o.a.createElement(K.a,{to:`/user/${e.name}/`},se(e.name)))(e),o.a.createElement(te,{flair:(e=>e.authorFlairType===Y.f.Richtext?{backgroundColor:e.authorFlairBackgroundColor,richtext:e.authorFlairRichText,textColor:e.authorFlairTextColor,type:e.authorFlairType}:{backgroundColor:e.authorFlairBackgroundColor,text:e.authorFlairText||"",textColor:e.authorFlairTextColor,type:e.authorFlairType})(e),forceSmallEmojis:!0}))),o.a.createElement(oe,null,o.a.createElement(ne,{to:`/r/${s}/about/moderators/`},Object(u.c)("View All Moderators"))))},ae=s("./src/reddit/components/Widgets/PostFlair/index.tsx"),ie=s("./src/reddit/components/Widgets/SubredditRules/index.tsx"),ce=s("./src/reddit/components/Widgets/TextArea/index.m.less"),de=s.n(ce);const le=d.a.div("WidgetContent",de.a),me=d.a.wrapped(l.a,"RawHTMLDisplay",de.a);var pe=e=>o.a.createElement(m.a,{styles:e.widget.styles,title:e.widget.shortName,truncateThreshold:e.truncateThreshold,widgetKind:e.widget.kind},o.a.createElement(le,null,o.a.createElement(me,{html:e.widget.textHtml||""}))),ue=s("./src/reddit/components/Widgets/Base/index.tsx"),he=e=>o.a.createElement(ue.b,null,"This widget hasn't been implemented yet!");t.a=(e=>{const t=function(e){switch(e.kind){case"moderators":return re;case"textarea":return pe;case"button":return r.a;case"subreddit-rules":return ie.b;case"community-list":return _;case"calendar":return S;case"image":return z;case"custom":return R;case"post-flair":return ae.a;default:return he}}(e.widget);return o.a.createElement(t,{isTopBannerVariant:e.isTopBannerVariant,widget:e.widget,subredditName:e.subredditName,truncateThreshold:e.truncateThreshold})})},"./src/reddit/connectors/PostList/index.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return O}),s.d(t,"d",function(){return E}),s.d(t,"b",function(){return j});var n=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),r=s("./src/reddit/actions/ads/index.ts"),a=s("./src/reddit/actions/post.ts"),i=s("./src/reddit/actions/postList.ts"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),d=s("./src/reddit/contexts/PageLayer/index.tsx"),l=s("./src/reddit/helpers/postComponentForLayout/index.tsx"),m=s("./src/reddit/helpers/trackers/post.ts"),p=s("./src/reddit/components/PostList/Placeholder.tsx"),u=s("./src/reddit/featureFlags/index.ts"),h=s("./src/reddit/selectors/experiments/postCleanup.ts"),b=s("./src/reddit/selectors/listings.ts"),g=s("./src/reddit/selectors/monthsToMinutes.ts"),x=s("./src/reddit/selectors/posts.ts"),v=s("./src/reddit/selectors/subreddit.ts"),C=s("./src/reddit/selectors/tracking.ts");function O(){return Object(d.w)({currentProfileName:d.j,isCommentPermalink:d.y,isCommentsPage:d.z,isFrontpage:d.C,isOriginalPage:d.E,isProfilePostListing:d.M,pageLayer:e=>e})}const f=O(),E={apiError:b.c,apiPending:b.d,m2mIsEnabled:g.y,measureScrollFPS:u.d.measureScrollFPS,layout:(e,t)=>t.forcedLayout||Object(d.P)(e,t),loadMore:b.g,postsById:x.T,postIds:(e,{listingKey:t,listingName:s,inSubredditOrProfile:n})=>Object(x.G)(e,t,s,n),postCleanupVariant:h.e,subredditsById:v.db,viewportDataLoaded:C.a,postListPlaceholderComponent:()=>p.a},y=Object(o.c)(E),j=(e,t)=>({onBottomViewed:(t,s)=>e(i.c(t,s)),adBrandSafetyStatusReceived:t=>{e(r.d({isViewSafe:t}))},openPost:t=>{e(a.x(t))},trackOnPostEnteredViewport:(t,s)=>{e(a.A(t))},trackOnPostExitedViewport:(t,s,n)=>{e(a.B(t,n))}}),P=Object(n.b)(y,j,(e,t,s)=>Object.assign({},e,t,s,{postClickEvent:m.d,postComponentForLayout:(t,s,n)=>Object(l.b)(t,s,n,e.postCleanupVariant)}));t.a=(e=>Object(c.b)(f(P(e))))},"./src/reddit/connectors/connectToLanguage.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i});var n=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),r=s("./src/reddit/selectors/user.ts");const a=Object(o.c)({language:r.T});function i(e){return Object(n.b)(a)(e)}},"./src/reddit/contexts/TrackCommentsPageClick.ts":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=o.a.createContext(()=>()=>{})},"./src/reddit/controls/Checkbox/index.m.less":function(e,t,s){e.exports={Checkbox:"_2nBuBcqz2x0pSPNZfAPkF",checkbox:"_2nBuBcqz2x0pSPNZfAPkF",mActive:"tLupTGll01Uj0qzkNAjEB",mActiveRedditStyle:"_3zu1ZycuCQZ6UeSogWYVka",mDisabled:"_2hst4PduZ_m486CeR0rkEm",mDisabledRedditStyle:"_2MFHixazvnGgoOmoOzwbIu",CheckboxSizing:"_1yJa2uREsO-mxGPj5tbxXy",checkboxSizing:"_1yJa2uREsO-mxGPj5tbxXy"}},"./src/reddit/controls/Checkbox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/Checkbox/index.tsx");var i=e=>o.a.createElement("svg",Object.assign({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("g",{transform:"translate(-32.000000, -173.000000)"},o.a.createElement("g",{transform:"translate(32.000000, 173.000000)"},o.a.createElement("path",{d:"M0,3.34755033 C0,1.49874933 1.5032506,0 3.34755033,0 L16.6524497,0 C18.5012507,0 20,1.5032506 20,3.34755033 L20,16.6524497 C20,18.5012507 18.4967494,20 16.6524497,20 L3.34755033,20 C1.49874933,20 0,18.4967494 0,16.6524497 L0,3.34755033 Z M4.5,8.5 C4.22385763,8.5 4,8.72385763 4,9 L4,11 C4,11.2761424 4.22385763,11.5 4.5,11.5 L15.5,11.5 C15.7761424,11.5 16,11.2761424 16,11 L16,9 C16,8.72385763 15.7761424,8.5 15.5,8.5 L4.5,8.5 Z"})))),c=s("./src/reddit/icons/svgs/CheckboxSelected/index.tsx"),d=s("./src/reddit/controls/Checkbox/index.m.less"),l=s.n(d),m=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const p=e=>t=>{const s=t.className,n=t.disabled,a=t.redditStyle,i=t["data-redditstyle"],c=m(t,["className","disabled","redditStyle","data-redditstyle"]),d=((e,t,s)=>{const n=!(!t&&!s);let o="";return o=e?n?l.a.mDisabledRedditStyle:l.a.mDisabled:n?l.a.mActiveRedditStyle:l.a.mActive})(n,a,i);return o.a.createElement(e,Object.assign({className:Object(r.a)(l.a.Checkbox,d,s)},c))},u=p(c.a),h=p(i);t.a=(e=>{const t=e.isHalfCheckboxSelected?h:e.isCheckboxSelected?u:a.a;return o.a.createElement("button",{"aria-checked":e.isHalfCheckboxSelected?"mixed":e.isCheckboxSelected,className:e.className,onClick:t=>{e.toggleCheckbox&&(t.stopPropagation(),e.toggleCheckbox())},disabled:e.disabled},o.a.createElement(t,{className:Object(r.a)(l.a.CheckboxSizing,e.className),"data-redditstyle":e.redditStyle,disabled:e.disabled,style:e.checkBoxStyle}))})},"./src/reddit/controls/ImageInput/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s("./node_modules/react/index.js"),o=s.n(n);class r extends o.a.Component{constructor(e){super(e),this.onFileInput=(e=>{const t=e.currentTarget.files,s=this.props.multiple?[...t]:t[0];this.props.onChange(s),this.setState(()=>({value:s}))}),this.state={value:e.value||""}}componentWillReceiveProps(e){this.setState(()=>({value:e.value||""}))}render(){const e=this.props,t=this.state,s="string"==typeof t.value?t.value:"",n="object"==typeof t.value?t.value:null,r=s||n;return o.a.createElement("div",{className:e.className},s&&o.a.createElement("input",{id:e.inputId,ref:e.inputRef,name:e.name,readOnly:!0,type:"text",value:s,tabIndex:e.tabIndex}),!r&&o.a.createElement("input",{id:e.inputId,ref:e.inputRef,name:e.name,type:"file",onChange:this.onFileInput,accept:"image/x-png,image/jpeg",multiple:e.multiple||!1,tabIndex:e.tabIndex}))}}},"./src/reddit/controls/MetaData/index.m.less":function(e,t,s){e.exports={metaText:"_2ETuFsVzMBxiHia6HfJCTQ"}},"./src/reddit/controls/MetaData/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return p}),s.d(t,"c",function(){return u}),s.d(t,"b",function(){return b}),s.d(t,"d",function(){return g});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/app/strings/index.ts"),a=s("./src/lib/lessComponent.tsx"),i=s("./src/lib/prettyPrintNumber/index.ts"),c=s("./src/reddit/i18n/utils.ts"),d=s("./src/reddit/controls/MetaData/index.m.less"),l=s.n(d),m=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const p=a.a.span("metaText",l.a),u=e=>o.a.createElement(p,Object.assign({},e)," · "),h=Object(r.d)("comment.point"),b=e=>{var t=e.isScoreHidden,s=e.language,n=e.score,r=m(e,["isScoreHidden","language","score"]);const a=t?Object(c.c)("Score hidden"):h(s,n,{count:Object(i.b)(n)});return o.a.createElement(p,Object.assign({},r),a)},g=(e,t)=>{const s=Object(r.c)(t,"posts.comments.noun",e,{count:Object(i.b)(e)});return o.a.createElement(p,null,s)}},"./src/reddit/controls/OverlayLink/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/controls/UnstyledInternalLink/index.tsx"),a=s("./src/reddit/helpers/overlay/index.ts"),i=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};t.a=(e=>{const t=e.children,s=e.className,n=e.to,c=i(e,["children","className","to"]),d=Object(a.b)(n);return o.a.createElement(r.a,Object.assign({className:s,to:d},c),t)})},"./src/reddit/featureFlags/component.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return d});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/featureFlags/index.ts"),c=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};function d(e,t,s){const n=Object(a.c)({featureEnabled:t=>i.d[e](t)});return Object(r.b)(n)(e=>{const n=e.featureEnabled,r=(e.dispatch,c(e,["featureEnabled","dispatch"]));return n?o.a.createElement(t,Object.assign({},r)):void 0!==s?o.a.createElement(s,Object.assign({},r)):null})}},"./src/reddit/helpers/awards/isEligibleForCommunityAwards.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s("./src/reddit/models/Subreddit/index.ts");const o=new Set(["goins","gold_testing","lssgoldnormal","maymodsguide1","maymodsguide2","venkman_bookclub"]),r=new Set([n.b.Private]),a=e=>!!e&&(!!o.has(e.name)||!e.isNSFW&&!e.isQuarantined&&!r.has(e.type))},"./src/reddit/helpers/brandSafety/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s("./src/reddit/models/WhitelistStatus/index.ts");const o=(e,t)=>{const s=e.some(e=>e.isNSFW),o=t.some(e=>e.wls===n.a.NO_ADS);return!s&&!o}},"./src/reddit/helpers/createBannerProperties/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s("./src/lib/isFakeSubreddit/index.ts"),o=s("./src/reddit/constants/postLayout.ts");const r=Math.floor(100*Math.random());var a;!function(e){e.FIRST="first",e.MIDDLE="middle",e.BOTTOM="bottom"}(a||(a={}));t.b=((e,t,s,a,i)=>{const c={subreddit_screen:!1,logged_in:!!t.account,placement:e,platform:"redesign",full_url:s,layout:o.a[t.prefs.layout]};return a&&!Object(n.a)(a.name)&&(c.subreddit=a.name,c.subreddit_screen=!0),c.wls=6,c.whitelist_status="all_ads",c.percentage=c.random_number=r,i&&(c.position=i),c})},"./src/reddit/helpers/describeApiError/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s("./src/app/strings/index.ts"),o=s("./src/lib/constants/index.ts");function r({apiError:e,isLoggedOut:t,language:s}){switch(e.type){case o.F.AUTHORIZATION_ERROR:return t?Object(n.a)(s,"error.type.notLoggedIn"):Object(n.a)(s,"error.type.notAuthorized");case o.F.VALIDATION_ERROR:return Object(n.a)(s,"error.type.validation");case o.F.NOT_FOUND_ERROR:return Object(n.a)(s,"error.type.notFound");case o.F.SERVER_ERROR:return Object(n.a)(s,"error.type.server");case o.F.LIKELY_UBLOCK_ERROR:return Object(n.a)(s,"error.type.blocked");default:return Object(n.a)(s,"error.type.generic")}}},"./src/reddit/helpers/getClickInfo.ts":function(e,t,s){"use strict";t.a=(e=>({hasNewTabModifier:!(!e.metaKey&&!e.ctrlKey&&1!==e.button)}))},"./src/reddit/helpers/getFakeUserIcons.ts":function(e,t,s){"use strict";var n=s("./node_modules/lodash/memoize.js"),o=s.n(n),r=s("./src/reddit/constants/categories.tsx"),a=s("./src/config.ts");const i=Array.from({length:20}).map((e,t)=>`${a.a.assetPath}/img/snoovatars/snoovatar_${t+1}.png`),c=[];t.a=o()((e,t=3)=>{if(!e||!t)return c;const s=Array.from(e).reduce((e,t)=>e+t.charCodeAt(0),0);return Array.from({length:t}).map((e,t)=>({color:r.a[(s+t)%r.a.length],image:i[(s+t)%i.length]}))},(e,t=3)=>`${e}_${t}`)},"./src/reddit/helpers/getSubredditIcon/index.ts":function(e,t,s){"use strict";var n=s("./src/reddit/models/Theme/NewColorSystem/index.ts");t.a=(e=>e.theme&&Object(n.a)(e).banner.iconImage?String(Object(n.a)(e).banner.iconImage):e.subredditOrProfile?e.subredditOrProfile.communityIcon||e.subredditOrProfile.icon.url:e.subreddit?e.subreddit.communityIcon||e.subreddit.icon.url:void 0)},"./src/reddit/helpers/governance/tokens.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return a});var n=s("./node_modules/bignumber.js/bignumber.js"),o=s("./src/lib/prettyPrintNumber/index.ts");function r(e,t){const s=new n.BigNumber(e),o=new n.BigNumber(t);return s.dividedBy(o).decimalPlaces(2).toString()}function a(e,t){return Object(o.b)(parseInt(r(e,t),10))}},"./src/reddit/helpers/makeAccountManagerUrl/index.ts":function(e,t,s){"use strict";var n=s("./src/config.ts");t.a=((e,t)=>{let s=`${n.a.accountManagerOrigin}/${e}/`;return t&&(s=`${s}?dest=${encodeURIComponent(t)}`),s})},"./src/reddit/helpers/postComponentForLayout/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return b}),s.d(t,"b",function(){return x});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/logs/console.ts"),a=s("./src/reddit/components/BlankPost/index.tsx"),i=s("./src/reddit/components/ClassicPost/index.tsx"),c=s("./src/reddit/components/CompactPost/index.tsx"),d=s("./src/reddit/components/LargePost/index.tsx"),l=s("./src/reddit/components/MediumPost/index.tsx"),m=s("./src/reddit/constants/postLayout.ts"),p=s("./src/reddit/models/Media/index.ts"),u=s("./src/reddit/selectors/experiments/postCleanup.ts");const h={[m.f.Large]:d.a,[m.f.Medium]:l.b,[m.f.Classic]:i.b,[m.f.Compact]:c.a},b=e=>o.a.createElement(a.b,Object.assign({},e)),g=e=>!e.media||e.media.type===p.o.EMBED&&!(p.b.has(e.media.provider)||(e=>e.source&&e.source.url&&e.source.url.startsWith("https://web.archive.org/web/20190901080902/https://www.mcdonalds.com")&&e.isSponsored)(e));function x(e,t,s,n){if(e.isBlank)return b;const o=Object(u.c)(n)&&Object(u.b)(e);t===m.f.Large&&g(e)&&!o&&(t=m.f.Medium);const a=h[t];return void 0===a?(Object(r.a)(void 0,`Could not find component for layout ${t}.`),b):s&&e.isSponsored&&t===m.f.Large?l.b:a}},"./src/reddit/helpers/trackers/idCard.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return c}),s.d(t,"c",function(){return d});var n=s("./src/reddit/constants/tracking.ts"),o=s("./src/reddit/selectors/telemetry.ts"),r=s("./src/reddit/selectors/widgets.ts"),a=s("./src/telemetry/index.ts");const i=e=>{Object(a.a)(Object.assign({},o.defaults(e),{action:n.d.CLICK,noun:"multi_detail",source:"id_card"}))},c=(e,t,s)=>{var i=Object(r.b)(e,t);const c=i.subreddit,d=i.profile;Object(a.a)(Object.assign({},o.defaults(e),{action:n.d.CLICK,noun:"multi_detail_subreddit",profile:d,source:"id_card",subreddit:Object.assign({},c,{categoryName:s})}))},d=e=>t=>({action:n.d.CLICK,source:"id_card",noun:e?"enable_community_styles":"disable_community_styles",subreddit:o.subreddit(t)})},"./src/reddit/helpers/trackers/modHub.ts":function(e,t,s){"use strict";s.d(t,"b",function(){return r}),s.d(t,"c",function(){return a}),s.d(t,"a",function(){return i});var n=s("./src/reddit/selectors/telemetry.ts");const o=e=>({screen:n.screen(e),subreddit:n.subreddit(e),userSubreddit:n.userSubreddit(e)}),r=e=>t=>Object.assign({source:"mod_hub_nav",action:"click",noun:e},o(t)),a=()=>e=>Object.assign({source:"breadcrumb",action:"click",noun:"subreddit"},o(e)),i=()=>e=>Object.assign({source:"id_card",action:"click",noun:"mod_hub_nav"},o(e))},"./src/reddit/helpers/trackers/providers.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return r}),s.d(t,"c",function(){return a});var n=s("./src/reddit/selectors/telemetry.ts");const o=()=>e=>Object.assign({source:"oauth_patreon",action:"click",noun:"connect_community"},n.defaults(e)),r=()=>e=>Object.assign({source:"oauth_patreon",action:"click",noun:"create_community"},n.defaults(e)),a=()=>e=>Object.assign({source:"sidebar",action:"click",noun:"patreon_link"},n.defaults(e))},"./src/reddit/helpers/trackers/restrictedCommunity.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return r});var n=s("./src/reddit/selectors/telemetry.ts");const o=e=>t=>Object.assign({},n.defaults(t),{source:e,action:"click",noun:"request_restricted_approval_button",subreddit:n.subreddit(t)}),r=e=>t=>Object.assign({},n.defaults(t),{source:"request_restricted_approval_form",action:"click",noun:e,subreddit:n.subreddit(t)})},"./src/reddit/helpers/trackers/subredditWiki.ts":function(e,t,s){"use strict";s.d(t,"f",function(){return a}),s.d(t,"g",function(){return i}),s.d(t,"m",function(){return d}),s.d(t,"d",function(){return l}),s.d(t,"k",function(){return m}),s.d(t,"q",function(){return p}),s.d(t,"r",function(){return u}),s.d(t,"c",function(){return h}),s.d(t,"j",function(){return b}),s.d(t,"p",function(){return g}),s.d(t,"e",function(){return x}),s.d(t,"b",function(){return v}),s.d(t,"i",function(){return C}),s.d(t,"a",function(){return O}),s.d(t,"h",function(){return f}),s.d(t,"l",function(){return E}),s.d(t,"n",function(){return j}),s.d(t,"o",function(){return P});var n=s("./src/reddit/models/SubredditWikiPage/index.ts"),o=s("./src/reddit/selectors/telemetry.ts");const r=e=>Object.assign({},o.defaults(e),{subreddit:o.subreddit(e),userSubreddit:o.userSubreddit(e)}),a=()=>e=>Object.assign({source:"wiki",action:"click",noun:"edit"},r(e)),i=()=>e=>Object.assign({source:"menu_links_bar",action:"click",noun:"wiki"},r(e)),c=e=>t=>Object.assign({source:"wiki",action:"click",noun:e},r(t)),d=(e=!1)=>c(e?"create_wiki_page":"save_wiki_page"),l=c("compare_wiki_pages"),m=c("revert_wiki_page"),p=c("view_wiki_page"),u=c("view_source"),h=c("add_wiki_page_contributor"),b=c("remove_wiki_page_contributor"),g=c("save_wiki_page_settings"),x=c("copy_url"),v=c("add_wiki_subreddit_contributor"),C=c("remove_wiki_subreddit_contributor"),O=c("ban_wiki_contributor"),f=c("unban_wiki_contributor"),E=e=>c(e?"show_wiki_revision":"hide_wiki_revision"),y={[n.a.Inherit]:"subreddit_wiki_perms",[n.a.Contributors]:"only_wiki_contributors",[n.a.Mods]:"only_mods"},j=e=>t=>Object.assign({},r(t),{source:"wiki",action:"click",noun:"hide_show_page",actionInfo:o.actionInfo(t,{settingValue:e?"show":"hide"})}),P=e=>t=>Object.assign({},r(t),{source:"wiki",action:"click",noun:"editing_permissions",actionInfo:o.actionInfo(t,{settingValue:y[e]})})},"./src/reddit/icons/fonts/Archived/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/fonts/helpers.tsx"),i=s("./src/reddit/icons/fonts/commonStyles.m.less"),c=s.n(i);t.a=(e=>o.a.createElement("i",{className:Object(r.a)(Object(a.b)("archived"),c.a.archivedIcon,e.className),id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.a.createElement(a.a,null,e.desc)))},"./src/reddit/icons/fonts/Envelope/index.m.less":function(e,t,s){e.exports={Envelope:"gsQG-L1wCCIUe8dJEOA6C",envelope:"gsQG-L1wCCIUe8dJEOA6C"}},"./src/reddit/icons/fonts/Envelope/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/icons/fonts/helpers.tsx"),a=s("./src/reddit/icons/fonts/Envelope/index.m.less"),i=s.n(a);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:`${Object(r.b)("envelope")} ${e.className}`}),"Envelope",i.a);t.a=c},"./src/reddit/icons/fonts/Expand/index.m.less":function(e,t,s){e.exports={Expand:"_3wtzqtIQz3ef53grMdBKpl",expand:"_3wtzqtIQz3ef53grMdBKpl"}},"./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.m.less":function(e,t,s){e.exports={CollapseIcon:"_3D7Ev4BX__nKnbqb-KPpvI",collapseIcon:"_3D7Ev4BX__nKnbqb-KPpvI"}},"./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/icons/fonts/helpers.tsx"),a=s("./src/reddit/icons/fonts/Expandos/Arrows/Collapse/index.m.less"),i=s.n(a);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:`${Object(r.b)("expandoArrowCollapse")} ${e.className}`,onClick:e.onClick,title:e.title}),"CollapseIcon",i.a);t.a=c},"./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.m.less":function(e,t,s){e.exports={ExpandIcon:"QOwFub52NskNmv0MdMa2_",expandIcon:"QOwFub52NskNmv0MdMa2_"}},"./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/reddit/icons/fonts/helpers.tsx"),a=s("./src/reddit/icons/fonts/Expandos/Arrows/Expand/index.m.less"),i=s.n(a);const c=s("./src/lib/lessComponent.tsx").a.wrapped(e=>o.a.createElement("i",{className:`${Object(r.b)("expandoArrowExpand")} ${e.className}`,onClick:e.onClick,title:e.title}),"ExpandIcon",i.a);t.a=c},"./src/reddit/icons/fonts/Expandos/Media/Lightbox/index.m.less":function(e,t,s){e.exports={LightboxIcon:"_1RQFWa5zHMcVoJ2MvnnGM3",lightboxIcon:"_1RQFWa5zHMcVoJ2MvnnGM3"}},"./src/reddit/icons/fonts/ModSettings/index.m.less":function(e,t,s){e.exports={ModSettings:"_3-SW6hQX6gXK9G4FM74obr",modSettings:"_3-SW6hQX6gXK9G4FM74obr"}},"./src/reddit/icons/fonts/Op/index.m.less":function(e,t,s){e.exports={OpIcon:"_3mrrZsVUDI2b3p1rpkjbph",opIcon:"_3mrrZsVUDI2b3p1rpkjbph"}},"./src/reddit/icons/svgs/ArrowRight/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 11.4 11.4",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{fill:"inherit",d:"m11.17929,5.99479c0.08081,-0.19519 0.08081,-0.41599 0,-0.61118c-0.0408,-0.0984 -0.0992,-0.1864 -0.17361,-0.2608l-4.79963,-4.79911c-0.31283,-0.3128 -0.81847,-0.3128 -1.1313,0c-0.31283,0.31279 -0.31283,0.81918 0,1.13118l3.43471,3.43433l-7.66949,0c-0.44244,0 -0.80007,0.3584 -0.80007,0.79999c0,0.44159 0.35763,0.79999 0.80007,0.79999l7.66949,0l-3.43471,3.43433c-0.31283,0.3128 -0.31283,0.81919 0,1.13118c0.15601,0.156 0.36083,0.2344 0.56565,0.2344c0.20482,0 0.40964,-0.0784 0.56565,-0.2344l4.79963,-4.79911c0.07441,-0.0744 0.13281,-0.1624 0.17361,-0.2608"}))))},"./src/reddit/icons/svgs/Cake/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:e.className,viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M37.5,22.5V20h-35v15c0,1.4,1.1,2.5,2.5,2.5h30c1.4,0,2.5-1.1,2.5-2.5v0H6.2C5.6,35,5,34.5,5,33.8l0,0c0-0.7,0.6-1.2,1.2-1.2h31.3V30H6.2C5.6,30,5,29.5,5,28.8v0c0-0.7,0.6-1.2,1.2-1.2h31.3V25H6.2C5.6,25,5,24.5,5,23.8v0c0-0.7,0.6-1.2,1.2-1.2H37.5z"}),o.a.createElement("path",{d:"M22.5,6c0,1.4-1.1,2.5-2.5,2.5S17.5,7.4,17.5,6S20,0,20,0S22.5,4.6,22.5,6z"}),o.a.createElement("path",{d:"M20,15L20,15c-0.7,0-1.3-0.6-1.3-1.2v-2.5c0-0.7,0.6-1.2,1.2-1.2h0c0.7,0,1.2,0.6,1.2,1.2v2.5C21.2,14.5,20.7,15,20,15z"}),o.a.createElement("path",{d:"M22.8,11.3v2.3c0,1.4-1,2.7-2.5,2.9c-1.6,0.2-3-1.1-3-2.7v-5c0,0,0-0.1,0-0.1l-0.8-0.4c-0.9-0.4-2-0.3-2.7,0.4L2.5,18.5h35L22.8,11.3z"})))))},"./src/reddit/icons/svgs/ChevronDown/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},o.a.createElement("g",null,o.a.createElement("polygon",{fill:"inherit",points:"11.0584 4.0602 6.0292 9.0894 1 4.0602 2.0608 3 6.0292 6.9684 9.9982 3"}))))},"./src/reddit/icons/svgs/ChevronUp/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("polygon",{fill:"inherit",transform:"translate(6.029200, 6.044700) scale(1, -1) translate(-6.029200, -6.044700)",points:"11.0584 4.0602 6.0292 9.0894 1 4.0602 2.0608 3 6.0292 6.9684 9.9982 3"}))))},"./src/reddit/icons/svgs/CircleCheck/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M20.5 10.5C20.5 16.0228 16.0228 20.5 10.5 20.5C4.97715 20.5 0.5 16.0228 0.5 10.5C0.5 4.97715 4.97715 0.5 10.5 0.5C16.0228 0.5 20.5 4.97715 20.5 10.5ZM9.35975 14.8725L15.2398 8.71852L15.2418 8.72352C15.5868 8.36252 15.5868 7.77752 15.2418 7.41752C14.8968 7.05752 14.3388 7.05752 13.9938 7.41752L8.73675 12.9175L7.00675 11.1075C6.66175 10.7475 6.10375 10.7465 5.75875 11.1075C5.41375 11.4685 5.41375 12.0535 5.75875 12.4135L8.11175 14.8735C8.28475 15.0535 8.50975 15.1435 8.73675 15.1435C8.85356 15.143 8.96904 15.1187 9.07615 15.0721C9.18326 15.0256 9.27975 14.9576 9.35975 14.8725Z",fill:"inherit"})))},"./src/reddit/icons/svgs/Comments/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M15 4V3a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h1V6a2 2 0 0 1 2-2z"}),o.a.createElement("path",{d:"M17 5H6a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h3.36l1.76 1.83a.5.5 0 0 0 .75 0L13.64 16H17a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"})))},"./src/reddit/icons/svgs/Edit/index.m.less":function(e,t,s){e.exports={edit:"_3TGaJCWUjkbNuBqTHvrC05"}},"./src/reddit/icons/svgs/Flag/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("polygon",{fill:"inherit",points:"0 20 20 20 20 0 0 0",opacity:"0"}),o.a.createElement("path",{fill:"inherit",d:"M11.71875,3.14525 C14.60125,1.54375 18.75025,3.48025 18.75025,3.48025 L18.75025,13.55475 C18.75025,13.55475 14.86875,11.81975 11.71875,13.21975 C8.70525,14.55925 4.68725,12.88475 4.68725,12.88475 L4.68725,2.81025 C4.68725,2.81025 8.70525,4.81925 11.71875,3.14525 Z M2.75,18.75 C2.232,18.75 2,18.3305 2,17.8125 L2,2.8125 C2,2.2945 2.232,1.875 2.75,1.875 C3.268,1.875 3.5,2.2945 3.5,2.8125 L3.5,17.8125 C3.5,18.3305 3.268,18.75 2.75,18.75 Z"})))},"./src/reddit/icons/svgs/GovSmall/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:"M8.5,0.2l6.2,3c0.5,0.3,0.6,0.9,0.3,1.4C14.9,4.8,14.6,5,14.2,5H1.8c-0.6,0-1-0.4-1-1 c0-0.4,0.2-0.7,0.5-0.9l6.2-3C7.9,0,8.1,0,8.5,0.2z"}),o.a.createElement("path",{d:"M2,12h12c0.6,0,1,0.4,1,1l0,0c0,0.6-0.4,1-1,1H2c-0.6,0-1-0.4-1-1l0,0C1,12.4,1.4,12,2,12z"}),o.a.createElement("path",{d:"M3.8,6h0.5C4.7,6,5,6.3,5,6.8v3.5C5,10.7,4.7,11,4.2,11H3.8C3.3,11,3,10.7,3,10.3V6.8C3,6.3,3.3,6,3.8,6z"}),o.a.createElement("path",{d:"M7.8,6h0.5C8.7,6,9,6.3,9,6.8v3.5C9,10.7,8.7,11,8.2,11H7.8C7.3,11,7,10.7,7,10.3V6.8 C7,6.3,7.3,6,7.8,6z"}),o.a.createElement("path",{d:"M11.8,6h0.5C12.7,6,13,6.3,13,6.8v3.5c0,0.4-0.3,0.8-0.8,0.8h-0.5c-0.4,0-0.8-0.3-0.8-0.8V6.8 C11,6.3,11.3,6,11.8,6z"}))))},"./src/reddit/icons/svgs/Info/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,style:e.style,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",onClick:e.onClick},o.a.createElement("g",null,o.a.createElement("path",{d:"M10,8.5 C10.553,8.5 11,8.948 11,9.5 L11,13.5 C11,14.052 10.553,14.5 10,14.5 C9.447,14.5 9,14.052 9,13.5 L9,9.5 C9,8.948 9.447,8.5 10,8.5 Z M10.7002,5.79 C10.8012,5.89 10.8702,6 10.9212,6.12 C10.9712,6.24 11.0002,6.37 11.0002,6.5 C11.0002,6.57 10.9902,6.63 10.9802,6.7 C10.9712,6.76 10.9502,6.82 10.9212,6.88 C10.9002,6.94 10.8702,7 10.8302,7.05 C10.7902,7.11 10.7502,7.16 10.7002,7.21 C10.6602,7.25 10.6102,7.29 10.5512,7.33 C10.5002,7.37 10.4402,7.4 10.3812,7.42 C10.3202,7.45 10.2612,7.47 10.1902,7.48 C10.1312,7.49 10.0602,7.5 10.0002,7.5 C9.7402,7.5 9.4802,7.39 9.2902,7.21 C9.1102,7.02 9.0002,6.77 9.0002,6.5 C9.0002,6.37 9.0302,6.24 9.0802,6.12 C9.1312,5.99 9.2002,5.89 9.2902,5.79 C9.5202,5.56 9.8702,5.46 10.1902,5.52 C10.2612,5.53 10.3202,5.55 10.3812,5.58 C10.4402,5.6 10.5002,5.63 10.5512,5.67 C10.6102,5.71 10.6602,5.75 10.7002,5.79 Z M10,16 C6.691,16 4,13.309 4,10 C4,6.691 6.691,4 10,4 C13.309,4 16,6.691 16,10 C16,13.309 13.309,16 10,16 M10,2 C5.589,2 2,5.589 2,10 C2,14.411 5.589,18 10,18 C14.411,18 18,14.411 18,10 C18,5.589 14.411,2 10,2"}))))},"./src/reddit/icons/svgs/Link/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{fill:"inherit",d:"M18.4773727,1.51993937 C19.4600354,2.50135191 20.0013751,3.80656808 20.0013751,5.19554812 C20.0013751,6.58577837 19.4600354,7.89099453 18.4773727,8.87240707 C17.9885417,9.35998782 17.1984109,9.35998782 16.7095799,8.87240707 C16.2207489,8.38357611 16.2207489,7.59094484 16.7095799,7.10461429 C17.2196644,6.59452982 17.500961,5.91691759 17.500961,5.19554812 C17.500961,4.47542886 17.2196644,3.79781663 16.7095799,3.28773215 C15.6569056,2.23755822 13.9453721,2.23755822 12.8926978,3.28773215 L8.62324066,7.55843946 C7.57181653,8.6111138 7.57181653,10.3226473 8.62324066,11.3753216 C9.11207162,11.8629024 9.11207162,12.6555336 8.62324066,13.1431144 C8.37945029,13.3869048 8.05939728,13.509425 7.73934427,13.509425 C7.41929127,13.509425 7.09923826,13.3869048 6.85544788,13.1431144 C4.82886225,11.1152785 4.82886225,7.81723232 6.85544788,5.79064668 L11.124905,1.51993937 C13.1502404,-0.505396058 16.4495368,-0.507896472 18.4773727,1.51993937 Z M11.3753215,6.8540728 C11.8641524,6.36524184 12.6542833,6.36524184 13.1431142,6.8540728 C15.1696999,8.88065844 15.1696999,12.1799549 13.1431142,14.2065405 L8.87240693,18.4772478 C7.89099439,19.4586603 6.58452801,20 5.19679818,20 C3.80781814,20 2.50135177,19.4586603 1.51993923,18.4772478 C-0.50664641,16.4506622 -0.50664641,13.1513657 1.51993923,11.1247801 C2.00877019,10.6359491 2.80015125,10.6359491 3.28773201,11.1247801 C3.77656297,11.6136111 3.77656297,12.4037419 3.28773201,12.8925729 C2.23505767,13.9452472 2.23505767,15.6567807 3.28773201,16.709455 C4.34040635,17.7621294 6.05193981,17.7621294 7.10461415,16.709455 L11.3753215,12.4387477 C12.4279958,11.3860734 12.4279958,9.67453992 11.3753215,8.62186558 C10.8864905,8.13303462 10.8864905,7.34290376 11.3753215,6.8540728 Z"}))))},"./src/reddit/icons/svgs/Notify/index.m.less":function(e,t,s){e.exports={icon:"_7fz7O_5kpe94rgtJU-zES"}},"./src/reddit/icons/svgs/Notify/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/constants/colors.ts"),i=s("./src/reddit/icons/svgs/Notify/index.m.less"),c=s.n(i);t.a=(e=>o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -1 23 20",className:Object(r.a)(c.a.icon,e.className)},o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("polygon",{fill:"none",points:"0 20 20 20 20 .001 0 .001"}),o.a.createElement("path",{fill:"inherit",d:"M17.0066821,15.4208756 C17.3661858,15.7881442 17.1117467,16.4167476 16.6028685,16.4167476 L3.3720345,16.4167476 C2.86361308,16.4167476 2.60871716,15.7881442 2.9682209,15.4208756 L2.99106104,15.3975421 C3.81467634,14.5561376 4.27741749,13.4146649 4.27741749,12.2246585 L4.27741749,8.19170369 C4.27741749,5.37768868 6.24806442,3.03500952 8.85595115,2.52214012 C8.85275353,2.48713993 8.84544468,2.45307308 8.84544468,2.41667289 C8.84544468,1.77266945 9.35660693,1.25 9.98745148,1.25 C10.618296,1.25 11.1294583,1.77266945 11.1294583,2.41667289 C11.1294583,2.45307308 11.1221494,2.48713993 11.1189518,2.52214012 C13.7268385,3.03500952 15.6974855,5.37768868 15.6974855,8.19170369 L15.6974855,12.2246585 C15.6974855,13.4146649 16.1602266,14.5561376 16.9838419,15.3975421 L17.0066821,15.4208756 Z M9.98754284,18.75 C9.05109727,18.75 8.24758128,18.1736636 7.89492959,17.3499925 L12.0801561,17.3499925 C11.7275044,18.1736636 10.9239884,18.75 9.98754284,18.75 Z"}),o.a.createElement("circle",{cx:"18",cy:"3",r:"5",fill:e.isUnread?"white":"none"}),o.a.createElement("circle",{cx:"18",cy:"3",r:"4",fill:e.isUnread?a.a.orangered:"none"}))))},"./src/reddit/icons/svgs/Triangle/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,style:e.style,viewBox:"0 0 10 8",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:"M4.152 1.3568C4.54367 0.730128 5.45633 0.730129 5.848 1.3568L9.04375 6.47C9.46003 7.13605 8.98119 8 8.19575 8H1.80425C1.01881 8 0.539969 7.13605 0.956249 6.47L4.152 1.3568Z"}))))},"./src/reddit/icons/svgs/Twitter/index.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s("./node_modules/react/index.js"),o=s.n(n);function r(e){return o.a.createElement("svg",{className:e.className,viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fill:"inherit",d:"M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23"}))}},"./src/reddit/icons/svgs/User/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(e=>o.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M12,11 C15.309,11 18,13.691 18,17 C18,17.553 17.552,18 17,18 L3,18 C2.448,18 2,17.553 2,17 C2,13.691 4.691,11 8,11 L12,11 Z M10,9.7334 C7.868,9.7334 6.133,7.9994 6.133,5.8664 L6.133,4.8664 C6.133,2.7344 7.868,1.0004 10,1.0004 C12.132,1.0004 13.867,2.7344 13.867,4.8664 L13.867,5.8664 C13.867,7.9994 12.132,9.7334 10,9.7334 Z"})))},"./src/reddit/layout/page/Lightbox/index.m.less":function(e,t,s){e.exports={lightboxContainer:"_1npCwF50X2J7Wt82SZi6J0",mIsCollectionLayout:"_2mmpCGz_MbQyZXoaIL_u6I",lightboxContent:"u35lf2ynn4jHsVUwPmNU",mIsFakeOverlay:"_2gEUIJsfk7ZZ0euRwRyv08",mNotCollectionLayout:"Dx3UxiK86VcfkFQVHNXNi",lightboxSidebar:"_2Xq-4oyrEvHjL5U_EeMnK8",fakeOverlay:"_1QwQLdEXq0cZZb7vcte4KK",fakeOverlayContainer:"_3OGqXkiUb_0ZMlksb26boO",fakeOverlayContent:"_3KaECfUAGLfWQPO5eNjMNl",fakeOverlayLightboxHeaderWrapper:"_9BEqyBVXtRCQxyeYwqJMB",narrow:"_1VToppe137NbqV5o2PhSdN",showEmailCollectionTopBanner:"_3OK04qjEdZ58OtlYbAUkNv",showFPR:"Hpitc80wLQqDqDh9A37wr",showFpr:"Hpitc80wLQqDqDh9A37wr",showM2MTopBanner:"_2JeiDGY0Jbv_7O9hAUUm-J",showSuspended:"_39xFv40KohPmMxYVnMJmp"}},"./src/reddit/layout/threeCol/Equal/index.m.less":function(e,t,s){e.exports={column:"_2JMzGBtZeqQHk7IewdlO59",threeColumns:"_2du12th8ewFAKMFR1DSpiW"}},"./src/reddit/layout/threeCol/ExpandCenter/index.m.less":function(e,t,s){e.exports={leftAndRight:"_3P6gMBKOhtWWrytWm-8hc",center:"CEs01bewsmQQV7LRLaHib",expandedCenterContainer:"_2FZY7HXlkf-PdemHbQoAEt"}},"./src/reddit/layout/threeCol/ExpandCenter/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/warnOnChildrenCount/index.tsx"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/layout/threeCol/ExpandCenter/index.m.less"),c=s.n(i);t.a=Object(r.a)(e=>o.a.createElement("div",{className:Object(a.a)(c.a.expandedCenterContainer,e.className)},o.a.createElement("div",{className:c.a.leftAndRight,style:{flexBasis:e.widthLeft}},Array.isArray(e.children)&&e.children[0]),o.a.createElement("div",{className:c.a.center},Array.isArray(e.children)&&e.children[1]),o.a.createElement("div",{className:c.a.leftAndRight,style:{flexBasis:e.widthRight}},Array.isArray(e.children)&&e.children[2])),3)},"./src/reddit/layout/twoCol/Dynamic/index.m.less":function(e,t,s){e.exports={dynamicTwoCol:"_3lhzE6Cg3SSeQGIHuLjILb"}},"./src/reddit/layout/twoCol/Dynamic/index.tsx":function(e,t,s){"use strict";var n=s("./src/lib/lessComponent.tsx"),o=s("./src/reddit/layout/twoCol/Dynamic/index.m.less"),r=s.n(o);t.a=n.a.div("dynamicTwoCol",r.a)},"./src/reddit/layout/twoCol/ExpandRight/index.m.less":function(e,t,s){e.exports={left:"_3YRHtGWABKh4OVO3s5gJwt",right:"_1IPWlMFPB_zPPajVPKk5Dy",expandRightContainer:"_2CUZHyZpRYmdvLE9tOI-2L"}},"./src/reddit/layout/twoCol/ExpandRight/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./src/higherOrderComponents/warnOnChildrenCount/index.tsx"),a=s("./src/lib/classNames/index.ts"),i=s("./src/reddit/layout/twoCol/ExpandRight/index.m.less"),c=s.n(i),d=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};t.a=Object(r.a)(e=>{const t=e.className,s=e.children,n=e.heightLeft,r=e.widthLeft,i=e.gutter,l=d(e,["className","children","heightLeft","widthLeft","gutter"]);return o.a.createElement("div",Object.assign({className:Object(a.a)(c.a.expandRightContainer,t)},l),o.a.createElement("div",{className:c.a.left,style:{flexBasis:r,height:n,marginRight:i}},Array.isArray(s)&&s[0]),o.a.createElement("div",{className:c.a.right},Array.isArray(s)&&s[1]))},2)},"./src/reddit/models/Gold/Premium/index.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return r}),s.d(t,"c",function(){return a});var n=s("./src/app/strings/index.ts");const o={PREMIUM_1_MONTH:{priceInCoins:1800,monthsOfPremium:1},PREMIUM_3_MONTHS:{priceInCoins:5400,monthsOfPremium:3},PREMIUM_6_MONTHS:{priceInCoins:10800,monthsOfPremium:6},PREMIUM_12_MONTHS:{priceInCoins:21600,monthsOfPremium:12}},r=(e,t=!1)=>{const s=[];for(const n in o){const r=o[n];(r.priceInCoins<=e||t)&&s.push(r)}return s},a=(e,t)=>1===e.monthsOfPremium?Object(n.a)(t,"gold.givePremiumToUserModal.monthDetail",{months:e.monthsOfPremium,coins:e.priceInCoins.toLocaleString()}):Object(n.a)(t,"gold.givePremiumToUserModal.monthsDetail",{months:e.monthsOfPremium,coins:e.priceInCoins.toLocaleString()})},"./src/reddit/models/SubredditWikiPage/index.ts":function(e,t,s){"use strict";var n,o;s.d(t,"b",function(){return n}),s.d(t,"a",function(){return o}),function(e){e.MayNotView="MAY_NOT_VIEW",e.PageNotCreated="PAGE_NOT_CREATED",e.PageNotFound="PAGE_NOT_FOUND",e.RestrictedPage="RESTRICTED_PAGE",e.Unknown="UNKNOWN",e.Valid="VALID",e.WikiDisabled="WIKI_DISABLED"}(n||(n={})),function(e){e.Inherit="INHERIT_SUBREDDIT_PERMS",e.Contributors="CONTRIBUTORS",e.Mods="MODS"}(o||(o={}))},"./src/reddit/pages/CommentsPage/OtherDiscussions/index.m.less":function(e,t,s){e.exports={Container:"ylSOkbhJXzLxdygG02Py-",container:"ylSOkbhJXzLxdygG02Py-"}},"./src/reddit/pages/CommentsPage/index.m.less":function(e,t,s){e.exports={HoverSpan:"_3HHkjKrBuOWf53D6PSkUCg",hoverSpan:"_3HHkjKrBuOWf53D6PSkUCg",promoBanner:"_25nFZKgLc-Z-1ua1YEzuCL",ArrowLeft:"_2JF0SDT7n7L7Rx67eH2VtS",arrowLeft:"_2JF0SDT7n7L7Rx67eH2VtS",ViewParentCommentsContainer:"_31bFOr-47JqoH9x02_aCez",viewParentCommentsContainer:"_31bFOr-47JqoH9x02_aCez",DetailsPageSidebar:"RffBqG1xCvuy1r49wYhLr",detailsPageSidebar:"RffBqG1xCvuy1r49wYhLr",MoreCommentsButton:"_1ibjfCIu5PPqcaOiPleMRD",moreCommentsButton:"_1ibjfCIu5PPqcaOiPleMRD",PageContentWrapper:"uI_hDmU5GSiudtABRz_37",pageContentWrapper:"uI_hDmU5GSiudtABRz_37",LargePageContent:"_3vh3MfGCp46QUOtwrgRgUk",largePageContent:"_3vh3MfGCp46QUOtwrgRgUk",CommentsPaneWrapper:"_2M2wOqmeoPVvcSsJ6Po9-V",commentsPaneWrapper:"_2M2wOqmeoPVvcSsJ6Po9-V",mIsInOverlay:"_3287nL7j7epK9JmDC3N1VR",CollectionBodyWrapper:"_3cBG1RcjxrEO-gLlwkn87S",collectionBodyWrapper:"_3cBG1RcjxrEO-gLlwkn87S",TopTippers:"BBdV-resbdJaej9EwC62l",topTippers:"BBdV-resbdJaej9EwC62l",TopTippersBenefits:"_3gq4Yi5Naapk0e9-GpLyo8",topTippersBenefits:"_3gq4Yi5Naapk0e9-GpLyo8",ChatLoggedOutForm:"_20TbWqEmJ0wq_AV7La7GWd",chatLoggedOutForm:"_20TbWqEmJ0wq_AV7La7GWd",linkOrOverlay:"_3ESARWIM5mvpU75z8umLxi"}},"./src/reddit/pages/CommentsPage/index.tsx":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/lodash/get.js"),o=s.n(n),r=s("./node_modules/lodash/throttle.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),d=s("./node_modules/react-redux/es/index.js"),l=s("./node_modules/react-router-redux/es/index.js"),m=s("./node_modules/reselect/es/index.js"),p=s("./src/reddit/components/LinkOrOverlayLink/index.tsx"),u=s("./src/reddit/helpers/path/index.ts"),h=s("./src/reddit/i18n/utils.ts"),b=s("./src/reddit/icons/svgs/ArrowRight/index.tsx"),g=s("./src/reddit/models/PostDraft/index.ts"),x=s("./src/telemetry/index.ts"),v=s("./src/telemetry/models/Timer.ts"),C=s("./src/lib/classNames/index.ts"),O=s("./src/lib/constants/index.ts"),f=s("./src/lib/domUtils/index.ts"),E=s("./src/lib/fastdom/index.ts"),y=s("./src/lib/lessComponent.tsx"),j=s("./src/lib/makeDraftKey/index.ts"),P=s("./src/lib/makeListingKey/index.ts"),w=s("./src/lib/performanceTimings/index.tsx"),I=s("./src/reddit/actions/comment.ts"),S=s("./src/lib/makeActionCreator/index.ts"),T=s("./src/reddit/actions/commentsListTruncated/constants.ts");const k=Object(S.a)(T.a);var _=s("./src/reddit/actions/login.ts"),N=s("./src/reddit/actions/monthsToMinutes/accountCompleteness.ts"),L=s("./src/reddit/actions/page.ts"),M=s("./src/reddit/actions/tooltip.ts"),R=s("./src/app/strings/index.ts"),F=s("./src/reddit/actions/postCollection/index.ts"),B=s("./src/reddit/components/AuthorLink/index.tsx"),A=s("./src/reddit/components/PostFollow/index.tsx"),D=s("./src/reddit/components/SEOTitle/index.tsx"),V=s("./src/reddit/components/TrackingHelper/index.tsx"),W=s("./src/reddit/components/Translated/index.tsx"),H=s("./src/reddit/components/Widgets/PostCollection/CollectionOverflowMenu/index.tsx"),U=s("./src/reddit/constants/componentSizes.ts"),z=s("./src/reddit/constants/elementIds.ts"),K=s("./src/reddit/contexts/PageLayer/index.tsx"),G=s("./src/reddit/controls/MetaSeparator/index.tsx"),q=s("./src/reddit/helpers/postCollection.ts"),J=s("./src/reddit/models/Post/index.ts"),Y=s("./src/reddit/models/PostCollection/index.ts"),Q=s("./src/reddit/selectors/postCollection.ts"),X=s("./src/reddit/selectors/posts.ts"),Z=s("./node_modules/react-router-dom/es/index.js"),$=s("./src/lib/prettyPrintNumber/index.ts"),ee=s("./src/lib/timezone/index.ts"),te=s("./src/reddit/actions/modal.ts"),se=s("./src/reddit/components/ClassicPost/Thumbnail.tsx"),ne=s("./src/reddit/components/Collection/PostAndPostEventMeta/index.tsx"),oe=s("./src/reddit/components/PostContainer/index.tsx"),re=s("./src/reddit/components/Widgets/PostCollection/PostItem/OverflowMenu/index.tsx"),ae=s("./src/reddit/helpers/postEvent.ts"),ie=s("./src/reddit/helpers/trackers/postCollection.ts"),ce=s("./src/reddit/models/PostCreationForm/index.ts"),de=s("./src/reddit/selectors/activeModalId.ts"),le=s("./src/reddit/selectors/user.ts"),me=s("./src/reddit/components/Collection/PostItem/index.m.less"),pe=s.n(me),ue=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(s.push(a.value),!t||s.length!==t);n=!0);}catch(c){o=!0,r=c}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();let he,be;const ge=e=>`${e}--collectionItem`,xe=e=>{const t=e.activeModalId,s=e.addEventStartTime,n=e.eventFactory,o=e.isFutureEvent,r=e.isNightmodeOn,a=e.isOverlay,i=e.isSelectedPost,d=e.language,l=e.onPostSelection,m=e.onRemovePost,p=e.onStartEventNow,h=e.onPostTitleClick,b=e.post,g=e.shouldShowCollectionPostEdits,x=e.shouldShowThumbnail,v=e.style,O=e.toggleEditStartTimeModal,f=e.updateSelectedPostRef,E=e.isProfilePage;return c.a.createElement(oe.a,{className:Object(C.a)(pe.a.postContainer,{[pe.a.isNightmodeOn]:r,[pe.a.isSelectedPost]:i,[pe.a.isProfilePage]:E}),makePostContainerId:ge,post:b,onClick:l,eventFactory:n,style:v},c.a.createElement("div",{ref:i&&f||void 0},c.a.createElement("div",{className:Object(C.a)(pe.a.postContent,{[pe.a.active]:i})},x&&c.a.createElement(se.a,{className:pe.a.timelineThumbnail,classNameInnerThumbnail:Object(C.a)(pe.a.timelineThumbnailOverride,pe.a.commonThumbnailOverride),post:b}),c.a.createElement("div",{className:pe.a.postBodyWrapper},c.a.createElement("div",{className:pe.a.postBody,"data-click-id":"body"},c.a.createElement(Z.a,{to:Object(u.b)(b.permalink),className:pe.a.postTitle,style:{WebkitBoxOrient:"vertical"},title:b.title,onClick:h},b.title)),c.a.createElement("div",{className:pe.a.bottomline},c.a.createElement(ne.b,{post:b,language:d}),g&&c.a.createElement(re.a,{onRemoveClick:m,dropdownId:`collection-post-item-${b.id}`,isFutureEvent:o,onStartEventNow:p,onEditStartTime:O,onAddEventStartTime:O,shouldShowAddEventStartTime:!Object(ae.a)(b)}))))),t===Object(ce.r)(b.id,a,ce.j.COLLECTION_INFO_POST)&&he&&c.a.createElement(he,{onChange:s,onClose:O,schedule:Object(ee.c)(b),shouldShowDeleteButton:!1}))},ve=se.a,Ce=e=>{const t=e.activeModalId,s=e.addEventStartTime,n=e.eventFactory,o=e.galleryThumbnail,r=e.isFutureEvent,a=e.isNightmodeOn,i=e.isOverlay,d=e.isSelectedPost,l=e.language,m=e.onPostSelection,p=e.onRemovePost,u=e.onStartEventNow,h=e.post,b=e.shouldShowCollectionPostEdits,g=e.style,x=e.toggleEditStartTimeModal,v=e.updateSelectedPostRef,O=e.isProfilePage,f=o&&o.url||"",E=h.isSpoiler||h.isNSFW,y=h.isScoreHidden;return c.a.createElement(oe.a,{className:Object(C.a)(pe.a.galleryPostContainer,{[pe.a.isSelectedPost]:d,[pe.a.isNightmodeOn]:a,[pe.a.isProfilePage]:O}),makePostContainerId:ge,post:h,onClick:m,eventFactory:n,style:g},c.a.createElement("div",{className:pe.a.scrollToContainer,ref:d&&v||void 0},f?c.a.createElement("div",{className:Object(C.a)(pe.a.galleryPostImage,{[pe.a.blurBackground]:E}),style:{backgroundImage:`url('${f}')`}}):c.a.createElement(ve,{className:pe.a.galleryThumbnailPlaceholder,thumbnailContainerClassName:pe.a.thumbnailContainerClassName,classNameInnerThumbnail:Object(C.a)(pe.a.galleryPostPlaceholderThumbnailOverride,pe.a.commonThumbnailOverride),post:h}),a&&c.a.createElement("div",{className:pe.a.gallerySeparator}),d&&c.a.createElement("div",{className:pe.a.gallerySelectedBorder}),c.a.createElement("div",{className:pe.a.galleryPostOverlay},c.a.createElement("div",{className:Object(C.a)(pe.a.galleryBottomLine,{[pe.a.isScoreHidden]:y})},!y&&c.a.createElement(ne.a,{"data-click-id":"score"},Object(R.c)(l,"posts.points.noun",h.score,{count:Object($.b)(h.score)})),b&&c.a.createElement(re.a,{onRemoveClick:p,dropdownId:`collection-post-item-${h.id}`,isFutureEvent:r,onStartEventNow:u,onEditStartTime:x,onAddEventStartTime:x,shouldShowAddEventStartTime:!Object(ae.a)(h)})))),t===Object(ce.r)(h.id,i,ce.j.COLLECTION_INFO_POST)&&he&&c.a.createElement(he,{onChange:s,onClose:x,schedule:Object(ee.c)(h),shouldShowDeleteButton:!1}))};var Oe=Object(K.w)({currentProfileName:K.j,isCommentsPage:K.z,isProfilePostListing:K.M,isProfilePage:K.L,pageLayer:e=>e})(Object(d.b)(()=>Object(m.c)({activeModalId:de.a,galleryThumbnail:Q.e,isFutureEvent:Q.i,language:le.T,layout:K.P,post:X.J,shouldShowCollectionPostEdits:Q.s,subredditOrProfile:X.U}),(e,{collectionId:t,postId:n,isSelectedPost:o,isOverlay:r})=>({onRemovePostFromCollection:()=>e(Object(F.g)(t,n,o)),onStartEventNow:async()=>{be||(be=await Promise.resolve().then(s.bind(null,"./src/reddit/actions/events.ts"))),e(be.startEventNowRequested(n))},toggleEditStartTimeModal:async()=>{if(!he||!be){var t=await Promise.all([s.e("schedulePickerModal").then(s.bind(null,"./src/reddit/components/PostCreationForm/SchedulePickerModal/index.tsx")).then(e=>e.default),Promise.resolve().then(s.bind(null,"./src/reddit/actions/events.ts"))]),o=ue(t,2);he=o[0],be=o[1]}e(te.i(Object(ce.r)(n,r,ce.j.COLLECTION_INFO_POST)))},addEventStartTime:t=>{be&&e(be.editEventTimeRequested(n,t))}}))(Object(V.b)(class extends c.a.PureComponent{constructor(){super(...arguments),this.onPostSelection=((e,t)=>{var s=this.props;const n=s.onClickPost,o=s.postId;(0,s.sendEvent)(Object(ie.h)(o)),n&&n(e,t)}),this.onRemovePost=(()=>{var e=this.props;const t=e.post,s=e.sendEvent;this.props.onRemovePostFromCollection(),s(Object(ie.p)(t.id))}),this.onStartEventNow=(()=>{var e=this.props;const t=e.post,s=e.sendEvent;this.props.onStartEventNow(),s(Object(ie.i)(t.id))}),this.onPostTitleClick=(e=>{const t=this.props.post;e.preventDefault(),this.onPostSelection(e,t)})}render(){var e=this.props;const t=e.displayLayout;return e.post?t===Y.a.TIMELINE?c.a.createElement(xe,Object.assign({},this.props,{onPostSelection:this.onPostSelection,onRemovePost:this.onRemovePost,onStartEventNow:this.onStartEventNow,onPostTitleClick:this.onPostTitleClick})):c.a.createElement(Ce,Object.assign({},this.props,{onPostSelection:this.onPostSelection,onRemovePost:this.onRemovePost,onStartEventNow:this.onStartEventNow})):c.a.createElement("div",{className:pe.a.postContainer})}}))),fe=s("./src/reddit/components/Collection/index.m.less"),Ee=s.n(fe);const ye=e=>c.a.createElement(B.a,{author:e.author,className:Ee.a.author,"data-click-id":"user",isAuthorDeleted:e.isDeleted,isUnstyled:!0},`u/${e.author}`),je=100,Pe=e=>({top:(e=>{return e.isOverlay?U.p+U.c:U.g+U.c})(e),maxHeight:`calc(100vh - ${U.g+(e.isOverlay?U.p:0)+U.c+5}px)`});var we=Object(K.w)({isProfilePage:K.L,pageLayer:e=>e})(Object(d.b)(()=>Object(m.c)({collection:Q.n,displayLayout:Q.a,followPost:(e,{postId:t})=>{const s=Object(Q.n)(e,{postId:t}),n=s&&(s.primaryPostId||s.postIds[0]);return n&&Object(X.J)(e,{postId:n})||null},post:X.J,shouldShowThumbnail:(e,{postId:t})=>{const s=Object(Q.n)(e,{postId:t});return!(!s||!s.id)&&Object(Q.t)(e,{collectionId:s.id})}}),(e,t)=>({onOpenPost:t=>e(Object(F.f)(t))}))(Object(V.b)(class extends c.a.Component{constructor(){super(...arguments),this.selectedPostRef=null,this.onClickPost=((e,t)=>{this.props.onOpenPost(t)}),this.updateSelectedPostRef=(e=>{this.selectedPostRef=e})}componentDidMount(){const e=document.getElementById(z.b);if(e){const t=this.selectedPostRef;let s;s=t?t.offsetTop-je:0,E.a.write(()=>{Object(f.c)(e,s)})}}render(){var e=this.props;const t=e.collection,s=e.displayLayout,n=e.followPost,o=e.isNightmodeOn,r=e.isOverlay,a=e.language,i=e.post,d=e.postId,l=e.shouldShowThumbnail,m=e.isProfilePage;if(!i||!t)return null;var p=t.author;const u=void 0===p?"":p;var h=t.description;const b=void 0===h?"":h;var g=t.postIds;const x=void 0===g?[]:g,v=t.id;return Object(q.a)(i)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Object(C.a)(Ee.a.collectionTitleWrapper,{[Ee.a.isProfilePage]:m})},c.a.createElement("div",{className:Ee.a.collectionMetaData},c.a.createElement("span",{className:Ee.a.collectionBy},c.a.createElement(W.a,{msgId:"collection.collectionBy"})),c.a.createElement(ye,{author:u,isDeleted:Object(J.f)(u)}),c.a.createElement(G.a,{isSmall:!0}),c.a.createElement("span",{className:Ee.a.postCount},Object(R.c)(a,"postCreation.postsCount",x.length))),c.a.createElement("div",{className:Ee.a.collectionTitleOptions},c.a.createElement("span",{className:Ee.a.collectionTitle},c.a.createElement(D.b,{type:D.a.Collection},t.title)),n&&c.a.createElement(A.a,{post:n,isEventFollow:m}),c.a.createElement(H.a,{className:Ee.a.overflowMenu,collectionId:v,isSubmitPage:!1,permalink:t.permalink,shouldShowCreatePost:!0}))),c.a.createElement("div",{className:Ee.a.postListWrapper},c.a.createElement("div",{id:z.b,style:Pe(this.props),className:Ee.a.collectionList},b&&b.trim()&&c.a.createElement("div",{className:Ee.a.collectionDescription},b),c.a.createElement("div",{className:Object(C.a)({[Ee.a.galleryContainer]:s===Y.a.GALLERY})},x.map(e=>c.a.createElement(Oe,{collectionId:v,postId:e,key:e,isSelectedPost:d===e,updateSelectedPostRef:this.updateSelectedPostRef,isOverlay:r,isNightmodeOn:o,onClickPost:this.onClickPost,shouldShowThumbnail:l,displayLayout:s}))))))}}))),Ie=s("./src/reddit/components/BannerAd/index.tsx"),Se=s("./src/reddit/components/BlankPost/index.tsx"),Te=s("./src/reddit/connectors/PostViewable/index.ts"),ke=s("./src/reddit/featureFlags/index.ts"),_e=s("./src/reddit/selectors/brandSafety.ts"),Ne=s("./src/reddit/components/CommentsPageAd/index.m.less"),Le=s.n(Ne);const Me=Object(m.c)({canShowAds:(e,t)=>{const s=Object(_e.a)(e,t),n=!ke.d.rabbitHole(e)&&!Object(K.L)(t.pageLayer)&&!Object(le.A)(e),o=e.meta.isSessionSeo&&!Object(le.L)(e);return s&&n&&(o||Object(le.I)(e))},ads:e=>e.commentsPage.ads}),Re=Object(Te.a)(Me),Fe=Object(K.w)(),Be=y.a.wrapped(Ie.a,"BannerAd",Le.a),Ae=(e,t)=>{let s="";return t&&(s+="overlay-"),s+=`comment-${e}`},De=y.a.div("CommentsPageAdContainer",Le.a);var Ve=Fe(Re(class extends c.a.Component{constructor(){super(...arguments),this.container=null,this.state={enoughSpace:!1,hasBeenAssessed:!1},this.checkAvailableSpace=a()(()=>{E.a.read(()=>{if(this.container){const e=O.f[0],t=this.container.clientWidth;!this.state.enoughSpace&&this.state.hasBeenAssessed||E.a.write(()=>{this.setState({enoughSpace:t>e,hasBeenAssessed:!0})})}})},O.H)}componentDidMount(){this.props.canShowAds&&(this.checkAvailableSpace(),window.addEventListener("resize",this.checkAvailableSpace))}componentWillUnmount(){window.removeEventListener("resize",this.checkAvailableSpace)}render(){if(!this.props.canShowAds)return null;var e=this.props;const t=e.isOverlay,s=e.refreshKey,n=e.listingName,o=e.placement,r=e.onPostViewable;return c.a.createElement(De,{innerRef:e=>{this.container=e}},this.props.ads.length>0&&c.a.createElement(Se.a,{post:this.props.ads[0],onPostViewable:r}),this.state.enoughSpace&&c.a.createElement(Be,{id:Ae(o,t),sizes:[O.f],placement:o,listingName:n,refreshKey:s,dataBeforeContent:Object(R.a)("en","posts.sponsored")}))}})),We=s("./src/reddit/components/ContentGate/index.tsx"),He=s("./src/reddit/components/Hovercards/AuthorHovercard/index.tsx"),Ue=s("./node_modules/lodash/noop.js"),ze=s.n(Ue),Ke=s("./src/reddit/actions/monthsToMinutes/initHomeFeed.ts"),Ge=s("./src/reddit/actions/subreddit.ts"),qe=s("./src/reddit/components/ListingPostList/index.tsx"),Je=s("./src/config.ts"),Ye=s("./src/reddit/controls/Button/index.tsx"),Qe=s("./src/reddit/i18n/components.tsx"),Xe=s("./src/reddit/components/M2M/HomeUpsellBanner/index.m.less"),Ze=s.n(Xe);const $e=`${Je.a.assetPath}/img/snoomoji/snoo.png`;var et=e=>{const t=e.borderClassName,s=e.className,n=e.isCompact,o=e.onSeeMoreClick;return c.a.createElement("div",{className:Object(C.a)(Ze.a.container,s),"data-redditstyle":!0},c.a.createElement("div",{className:Object(C.a)(Ze.a.border,t)}),!n&&c.a.createElement("div",{className:Ze.a.line}),c.a.createElement("div",{className:Ze.a.layout},!n&&c.a.createElement("div",{className:Ze.a.image},c.a.createElement("img",{className:Ze.a.snoo,src:$e})),c.a.createElement("div",{className:Ze.a.text},c.a.createElement("div",{className:Ze.a.homeTitle},c.a.createElement(Qe.c,null,"Recommended posts for you")),c.a.createElement("div",{className:Ze.a.homeDescription},c.a.createElement(Qe.c,null,"Based on other posts you've viewed"))),!n&&c.a.createElement(Ye.f,{className:Ze.a.seeMore,"data-redditstyle":!0,onClick:o},c.a.createElement(Qe.c,null,"See more"))))},tt=s("./src/reddit/constants/page.ts"),st=s("./src/reddit/constants/postLayout.ts"),nt=s("./src/reddit/helpers/trackers/lightbox.ts"),ot=s("./src/reddit/helpers/trackers/screenview.ts"),rt=s("./src/reddit/selectors/experiments/m2mHomeRedirect.ts"),at=s("./src/reddit/selectors/experiments/postSeo.ts"),it=s("./src/reddit/selectors/monthsToMinutes.ts"),ct=s("./src/lib/CSSVariableProvider/withTheme.tsx"),dt=s("./src/reddit/constants/listings.ts"),lt=s("./src/reddit/controls/InternalLink/index.tsx"),mt=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),pt=s("./src/reddit/components/RecommendedPostList/Footer/index.m.less"),ut=s.n(pt);var ht=Object(ct.a)(e=>{const t=e.className,s=e.onClick,n=e.shouldDisplaySeeMore,o=e.shouldNavigateToHome,r=e.subredditOrProfile,a=r.primaryColor,i=!o&&a||Object(mt.a)(Object.assign({},e,{redditStyle:!0})).button,d=n?"See more":"Continue browsing";return c.a.createElement(lt.a,{className:Object(C.a)(ut.a.footer,t),onMouseDown:s,to:o?dt.c[dt.b.Home]:r.url,style:{backgroundColor:i}},c.a.createElement("div",{className:ut.a.background}),c.a.createElement("div",{className:ut.a.layout},o?c.a.createElement(Qe.c,null,"See more recommended"):c.a.createElement(Qe.c,null,d," in ",c.a.createElement(Qe.b,{name:"subredditName"},r.displayText)),c.a.createElement(b.a,{className:ut.a.arrow})))}),bt=s("./src/reddit/components/RecommendedPostList/index.m.less"),gt=s.n(bt);const xt=Object(m.a)((e,{isOverlay:t})=>t,rt.f,at.m,at.l,(e,t,s,n)=>!e&&!Object(rt.e)(t)&&(Object(at.d)(s)||Object(at.g)(n))),vt=Object(m.c)({m2mDataLoaded:it.d,m2mHomeMultiName:it.e,m2mHomeRedirectVariant:rt.f,postSEOVariant:at.m,postSEOV2TruncatedVariant:at.l,shouldShowHomeUpsell:it.A,shouldShowSubredditUpsell:xt});var Ct=Object(d.b)(vt,e=>({goToHomeFeed:()=>e(Object(Ke.b)({shouldPrepareData:!1})),loadMorePosts:t=>e(Object(Ge.v)({sort:O.P.HOT,subredditName:t}))}))(Object(V.b)(class extends c.a.Component{constructor(e){super(e),this.isHomeUpsellVisible=(()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell),this.scrollContainer=(()=>this.props.isOverlay?document.getElementById(z.d):null),this.onViewed=((e,t)=>Object(ot.d)(this.listingKey(),O.P.TOP,t,e,O.Pb.WEEK)),this.onFooterClick=(e=>{this.isHomeUpsellVisible()&&(e.preventDefault(),this.props.goToHomeFeed()),this.props.sendEvent(Object(nt.d)("recommended_footer"))}),this.loadMoreHomeFeedPosts=(()=>{var e=this.props;const t=e.loadMorePosts,s=e.m2mHomeMultiName;s&&t(s)}),this.state={shouldShowHomeUpsell:e.shouldShowHomeUpsell}}listingKey(){var e=this.props;const t=e.m2mHomeMultiName,s=e.subredditOrProfile;return this.isHomeUpsellVisible()?Object(P.a)(t,O.P.HOT):Object(P.a)(s.name,O.P.TOP,{t:O.Pb.WEEK})}renderHomeBanner(){return c.a.createElement(et,{borderClassName:gt.a.homeUpsellBannerBorder,className:gt.a.homeUpsellBanner,onSeeMoreClick:this.props.goToHomeFeed})}renderSmallBanner(){const e=this.props.subredditOrProfile.name;return c.a.createElement("div",{className:gt.a.smallBanner},c.a.createElement(Qe.c,null,"More posts from the ",c.a.createElement(Qe.b,{name:"name"},e)," community"))}renderTextBanner(){const e=this.props.subredditOrProfile.name;return c.a.createElement("span",{className:gt.a.textBanner},c.a.createElement(Qe.c,null,"More from ",c.a.createElement(Qe.b,{name:"name"},e)))}renderBanner(){return this.isHomeUpsellVisible()?this.renderHomeBanner():this.renderSmallBanner()}render(){var e=this.props;const t=e.contentContainerRef,s=e.m2mDataLoaded,n=e.m2mHomeRedirectVariant,o=e.shouldShowSubredditUpsell,r=e.subredditOrProfile,a=this.isHomeUpsellVisible();if(!(a&&s||o))return null;const i=a&&Object(rt.a)(n);return c.a.createElement("div",{className:Object(C.a)(gt.a.container,{[gt.a.redditStyle]:a})},this.renderBanner(),c.a.createElement(qe.a,{className:gt.a.postList,redditStyle:a,disablePlaceholder:!i,forcedLayout:st.f.Large,getScrollContainer:this.scrollContainer,isTruncated:!0,listingKey:this.listingKey(),listingName:tt.d.PostDetail,listingViewed:this.onViewed,loadMoreClassName:gt.a.loadMore,noPostsComponent:()=>null,onLoadMore:i?this.loadMoreHomeFeedPosts:ze.a,preventScrollOnMount:!0,inSubredditOrProfile:!a,scrollContentContainerRef:t}),!i&&c.a.createElement(ht,{className:gt.a.footer,"data-redditstyle":a,onClick:this.onFooterClick,shouldNavigateToHome:a,subredditOrProfile:r}))}})),Ot=s("./src/reddit/constants/history.ts"),ft=s("./src/reddit/constants/keycodes.ts"),Et=s("./src/reddit/constants/posts.ts"),yt=s("./src/reddit/constants/screenWidths.ts"),jt=s("./src/reddit/contexts/TrackCommentsPageClick.ts"),Pt=s("./src/reddit/featureFlags/profileCollections.ts"),wt=s("./src/reddit/models/Comment/index.ts"),It=s("./src/reddit/models/Media/index.ts"),St=s("./src/reddit/models/Subreddit/index.ts"),Tt=s("./src/reddit/selectors/comments.ts");const kt=e=>e.commentsListTruncated;var _t=s("./src/reddit/selectors/discoveryUnit.ts"),Nt=s("./src/reddit/selectors/experiments/chatPost.ts"),Lt=s("./src/reddit/selectors/experiments/postCleanup.ts"),Mt=s("./src/reddit/selectors/meta.ts"),Rt=s("./src/reddit/selectors/moderatorPermissions.ts"),Ft=s("./src/reddit/selectors/telemetry.ts"),Bt=s("./src/reddit/selectors/tooltip.ts"),At=s("./src/higherOrderComponents/makeAsync.tsx"),Dt=s("./src/lib/loadWithRetries/index.ts"),Vt=s("./src/reddit/components/RichTextEditor/Placeholder.tsx"),Wt=s("./src/reddit/helpers/styles/mixins/loading.ts"),Ht=s("./src/reddit/components/CommentCreation/Loader.m.less"),Ut=s.n(Ht);const zt=({isTopLevelComment:e,children:t})=>c.a.createElement("div",{children:t,className:Object(C.a)(Ut.a.spacer,{[Ut.a.isTopLevelComment]:e})}),Kt=()=>c.a.createElement("div",{className:Object(C.a)(Ut.a.byline,Object(Wt.a)({isLoading:!0}))}),Gt=Object(At.a)({ErrorComponent:({isTopLevelComment:e})=>c.a.createElement(zt,{isTopLevelComment:e},c.a.createElement(Kt,null),c.a.createElement(Vt.a,{isLoading:!1,toolbarPosition:"bottom"})),getComponent:()=>Object(Dt.a)(()=>Promise.all([s.e("vendors~Chat~ChatMessageInput~CollectionCommentsPage~CommentsPage~Frontpage~PostCreation~RedesignCha~0aefb917"),s.e("vendors~ChatMessageInput~FlairEdit~PostCreation~RichTextEditor"),s.e("vendors~PostCreation~RichTextEditor"),s.e("PostDraft~RichTextEditor~StructuredStyles"),s.e("ChatMessageInput~RichTextEditor"),s.e("RichTextEditor")]).then(s.bind(null,"./src/reddit/components/CommentCreation/index.tsx")).then(e=>e.default)),LoadingComponent:({isTopLevelComment:e})=>c.a.createElement(zt,{isTopLevelComment:e},c.a.createElement(Kt,null),c.a.createElement(Vt.a,{isLoading:!0,toolbarPosition:"bottom"}))});var qt=e=>c.a.createElement(Gt,Object.assign({},e)),Jt=s("./src/reddit/components/CommentCreation/LoggedOutCommentForm/index.tsx"),Yt=s("./node_modules/lodash/isEqual.js"),Qt=s.n(Yt),Xt=s("./src/reddit/constants/comments.ts"),Zt=s("./src/reddit/constants/elementClassNames.ts"),$t=s("./src/reddit/icons/fonts/helpers.tsx"),es=s("./src/reddit/icons/fonts/Expand/index.m.less"),ts=s.n(es);var ss=y.a.wrapped(e=>c.a.createElement("i",{className:`${Object($t.b)("expand")} ${e.className}`}),"Expand",ts.a),ns=s("./src/reddit/components/Comments/Comment/ExpandButton/index.m.less"),os=s.n(ns),rs=y.a.wrapped(e=>c.a.createElement("button",Object.assign({},e),c.a.createElement(ss,null)),"Component",os.a),as=s("./node_modules/lodash/defer.js"),is=s.n(as),cs=s("./src/lib/makeCommentPermalink/index.ts"),ds=s("./src/reddit/actions/gold/modals.ts"),ls=s("./src/reddit/actions/reportFlow.ts"),ms=s("./src/reddit/helpers/correlationIdTracker.ts"),ps=s("./src/reddit/helpers/hasModPostPermissions/index.ts"),us=s("./src/reddit/components/CommentModModeDropdown/index.tsx"),hs=s("./src/reddit/components/Comments/Comment/ModToolsFlatlist/index.tsx"),bs=s("./src/reddit/components/ConfirmUserActionModal/index.tsx"),gs=s("./src/reddit/components/DistinguishCommentDropdown/index.tsx"),xs=s("./src/reddit/selectors/economics.ts");const vs=Object(At.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>Promise.all([s.e("vendors~CoinsPurchaseModal~EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~Ec~61cbc843"),s.e("EconomicsCommunityTipJar~EconomicsEntryPointsCommentFlatlistSupportCTA~EconomicsEntryPointsPostFlatl~c734f0e1"),s.e("EconomicsEntryPointsCommentFlatlistSupportCTA")]).then(s.bind(null,"./src/reddit/components/Economics/EntryPoints/CommentFlatlistSupportCTA/index.tsx")).then(e=>e.default)});var Cs=Object(d.b)(()=>Object(m.c)({featureEnabled:ke.d.spSupport,userAcceptsSupport:(e,t)=>{const s=e.comments.models[t.contentId];return!!s&&Object(xs.g)(e,{contentId:s.id,subredditId:s.subredditId})}}))(function(e){return e.featureEnabled&&e.userAcceptsSupport?c.a.createElement(vs,Object.assign({},e)):null}),Os=s("./src/reddit/components/ModActionsMenu/index.tsx"),fs=s("./src/reddit/components/ModModeReports/helpers.ts"),Es=s("./src/reddit/components/OverflowMenu/index.tsx"),ys=s("./src/reddit/components/ReportFlow/index.tsx"),js=s("./src/reddit/components/ShareMenu/index.tsx"),Ps=s("./src/reddit/components/ViewReportsDropdown/index.tsx"),ws=s("./src/reddit/controls/CheckboxMenuItem/index.tsx"),Is=s("./src/reddit/helpers/trackers/modTools.ts"),Ss=s("./src/reddit/layout/row/Inline/index.tsx"),Ts=s("./src/reddit/icons/fonts/Comment/index.tsx"),ks=s("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),_s=s("./src/reddit/icons/fonts/ModActions/index.tsx"),Ns=s("./src/reddit/icons/fonts/Report/index.tsx"),Ls=s("./src/reddit/icons/svgs/Trash2/index.tsx"),Ms=s("./src/reddit/components/Comments/Comment/Flatlist/index.m.less"),Rs=s.n(Ms);const Fs=y.a.wrapped(Ts.a,"CommentIcon",Rs.a),Bs=y.a.wrapped(Ls.b,"DeleteIcon",Rs.a),As=y.a.wrapped(_s.a,"ModActionsIcon",Rs.a),Ds=y.a.wrapped(Ns.a,"Report",Rs.a),Vs=y.a.wrapped(ks.a,"IgnoreReport",Rs.a),Ws=y.a.wrapped(Os.a,"ModActionsMenu",Rs.a),Hs=y.a.div("OverflowMenuSpacer",Rs.a),Us=y.a.wrapped(Es.a,"DropdownRow",Rs.a),zs=y.a.wrapped(Ss.a,"Flatlist",Rs.a),Ks=y.a.button("Button",Rs.a),Gs=y.a.wrapped(hs.c,"ModToolsFlatlist",Rs.a),qs=y.a.wrapped(Ps.a,"ViewReportsDropdown",Rs.a),Js=e=>`Comment-${e}--Modal--DeleteComment`,Ys=e=>`Distinguish--Dropdown--${e}`,Qs=e=>`${e}-overflow-menu`,Xs=e=>`View--Reports--${e}`,Zs=Object(m.c)({activeTooltipId:Bt.a,currentUser:le.k,isConfirmModalOpen:(e,{comment:t})=>Object(de.a)(e)===Js(t.id),isPendingDeletion:(e,{comment:t})=>Object(Tt.A)(e,{commentId:t.id}),isLoggedIn:le.L,postIsArchived:(e,{comment:t})=>Object(X.E)(e,{postId:t.postId}),postIsLocked:(e,{comment:t})=>Object(X.F)(e,{postId:t.postId}),postPermalink:(e,{comment:t})=>Object(X.I)(e,{postId:t.postId}),reportFlowIsOpen:(e,{comment:t})=>e.reportFlow.postOrCommentId===t.id,sendRepliesToggled:(e,{comment:t})=>Object(Tt.G)(e,{commentId:t.id}),subredditOrProfile:(e,{comment:t})=>Object(X.U)(e,{postId:t.postId})});var $s=Object(d.b)(Zs,(e,{comment:t,commentsPageKey:s,language:n})=>({deleteComment:()=>s&&e(Object(I.fb)(n,t.id,t.postId,s)),handleDelete:()=>{e(Object(te.i)(Js(t.id))),e(Object(M.e)({tooltipId:Qs(t.id)}))},handleEdit:()=>{const n=t.media&&t.media.rteMode;s&&e(Object(I.W)({commentId:t.id,draftKey:Object(j.a)(g.c.edit,t.id),text:t.bodyMD||"",commentMode:n,commentsPageKey:s}))},handleReply:()=>s&&e(Object(I.qb)({parentCommentId:t.id,commentsPageKey:s})),onDistinguishComment:(s,n)=>e(Object(I.T)(t.id,s,n)),onGildClick:()=>e(Object(ds.d)(t.id)),onIgnoreReports:()=>e(Object(I.rb)(t.id)),onReportClick:()=>e(Object(ls.i)(t.id)),onToggleSave:()=>e(Object(I.ib)(t.id)),onToggleDistinguishDropdown:()=>e(Object(M.e)({tooltipId:Ys(t.id)})),onToggleReportsDropdown:()=>e(Object(M.e)({tooltipId:Xs(t.id)})),toggleDeleteCommentModal:()=>e(Object(te.i)(Js(t.id))),toggleSendReplies:()=>e(Object(I.jb)(t.id))}))(Object(V.b)(class extends c.a.Component{constructor(){super(...arguments),this.sendCommentEventWithName=(e=>this.props.sendEvent(Object(nt.c)(this.props.comment.postId,`comment_${e}`))),this.sendCommentModEventWithName=(e=>this.props.sendEvent(Object(Is.a)(e,this.props.comment.id))),this.sendCommentReportEvent=(e=>this.props.sendEvent(Object(Is.e)(e,this.props.comment.id))),this.handleSave=(()=>{this.props.comment.isSaved?this.sendCommentModEventWithName("unsave"):this.sendCommentModEventWithName("save"),this.props.onToggleSave()}),this.handleEdit=(()=>{this.props.sendEvent(Object(Is.d)("edit",this.props.comment.id)),this.props.handleEdit()}),this.handleGild=(async()=>{Object(ms.d)(ms.a.GildingFlow),this.props.onGildClick();const e=(await s.e("gildTrackers").then(s.bind(null,"./src/reddit/helpers/trackers/gild.ts"))).clickGildEvent;this.props.sendEvent(e(this.props.comment.id))}),this.handleDelete=(()=>{this.props.sendEvent(Object(Is.d)("delete",this.props.comment.id)),this.props.toggleDeleteCommentModal()}),this.handleReportClick=(()=>{this.props.sendEvent(Object(Is.a)("report",this.props.comment.id)),this.props.onReportClick()}),this.handleDistinguishToggle=(()=>{this.props.sendEvent(Object(Is.a)("mod_distinguish_menu",this.props.comment.id)),this.props.onToggleDistinguishDropdown()}),this.sendCommentDistinguishEvent=(e=>this.props.sendEvent(Object(Is.b)(e,this.props.comment.id)))}render(){var e=this.props;const t=e.comment,s=e.className,n=e.currentUser,o=e.deleteComment,r=e.handleReply,a=e.isLoggedIn,d=e.isPendingDeletion,l=e.language,m=e.onDistinguishComment,p=e.onIgnoreReports,u=e.onToggleReportsDropdown,b=e.moderatorPermissions,g=e.modModeEnabled,x=e.postIsArchived,v=e.postIsLocked,O=e.postPermalink,f=e.sendEvent,E=e.subreddit,y=e.toggleDeleteCommentModal,j=e.toggleSendReplies,P=e.trackClick,w=Object(ps.a)(b),I=!!n&&n.displayText===t.author,S=!!n&&n.isEmployee,T=v||x||w&&a||t.isLocked?w&&a:a,k=Object(fs.a)(t);return c.a.createElement(i.Fragment,null,c.a.createElement(zs,{className:s},T&&c.a.createElement(Ks,{onClick:()=>{r(),is()(()=>P("reply")())},disabled:d},c.a.createElement(Fs,null),c.a.createElement(Qe.c,null,"Reply")),n&&!I&&c.a.createElement(Cs,{className:Rs.a.supportButton,contentId:t.id,subredditId:t.subredditId,targetName:t.author}),n&&!I&&c.a.createElement(Ks,{onClick:this.handleGild},c.a.createElement(Qe.c,null,"Give Award")),c.a.createElement(js.a,{dropdownId:`${t.id}-comment-share-menu`,permalink:Object(cs.a)(O,t.id),sendEventWithName:this.sendCommentEventWithName,subreddit:E},c.a.createElement(Ks,{onClick:()=>this.sendCommentEventWithName("share")},c.a.createElement(Qe.c,null,"share"))),!I&&c.a.createElement(Ks,{onClick:this.handleReportClick,disabled:d},c.a.createElement(Qe.c,null,"report")),c.a.createElement(Ks,{onClick:this.handleSave},t.isSaved?Object(R.a)(l,"comment.unsaveComment"):Object(R.a)(l,"comment.saveComment")),I&&c.a.createElement(Ks,{onClick:this.handleEdit},c.a.createElement(Qe.c,null,"edit")),I&&c.a.createElement(Hs,{className:Object(C.a)({[Rs.a.modModeEnabled]:g})},c.a.createElement(Es.b,{dropdownId:Qs(t.id),onClick:()=>f(Object(Is.a)("comment_overflow_menu",t.id))},c.a.createElement(Us,{displayText:Object(h.c)("Delete comment"),iconWrapperClassName:Rs.a.iconWrapper,onClick:this.handleDelete},c.a.createElement(Bs,null)),c.a.createElement(ws.a,{text:Object(h.c)("Send me reply notifications"),onClick:j,isSelected:this.props.sendRepliesToggled}))),this.props.isConfirmModalOpen&&c.a.createElement(bs.a,{actionText:Object(h.c)("delete"),cancelActionText:Object(h.c)("keep"),headerText:Object(h.c)("Delete comment"),modalText:Object(h.c)("Are you sure you want to delete your comment?"),onConfirm:o,toggleModal:y,trackClick:()=>{},withOverlay:!0}),w&&(g?c.a.createElement(Gs,{comment:t,isCommentAuthor:I,language:l}):c.a.createElement(Ws,{dropdownId:`${t.id}-mod-actions-menu`,inCommentFlatlist:!0,onClick:()=>f(Object(Is.a)("comment_mod_action_menu",t.id))},c.a.createElement(As,null),c.a.createElement(us.a,{comment:t,language:l,tooltipId:`${t.id}-mod-actions-menu`}))),Object(fs.c)(t)&&!g&&c.a.createElement(hs.b,{text:`${k}`,onClick:()=>{u(),this.sendCommentModEventWithName("comment_report_menu")},selected:this.props.activeTooltipId===Xs(t.id),id:Xs(t.id)},c.a.createElement(qs,{model:t,onIgnoreReports:()=>{p(),this.sendCommentReportEvent(t.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:Xs(t.id)}),t.ignoreReports?c.a.createElement(Vs,null):c.a.createElement(Ds,null)),w&&!g&&I&&!S&&!t.bannedBy&&c.a.createElement(hs.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===Ys(t.id)},c.a.createElement(hs.a,null),c.a.createElement(gs.a,{isAdminDistinguished:t.isAdmin,isDropdownOpen:this.props.activeTooltipId===Ys(t.id),isModDistinguished:t.isMod,isStickied:t.isStickied,isTopLevelComment:!t.parentId,isUserEmployee:S,isUserMod:w,onDistinguishComment:m,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:Ys(t.id)})),I&&S&&!t.bannedBy&&c.a.createElement(hs.b,{onClick:this.handleDistinguishToggle,selected:this.props.activeTooltipId===Ys(t.id)},c.a.createElement(hs.a,null),c.a.createElement(gs.a,{isAdminDistinguished:t.isAdmin,isDropdownOpen:this.props.activeTooltipId===Ys(t.id),isModDistinguished:t.isMod,isStickied:t.isStickied,isTopLevelComment:!t.parentId,isUserEmployee:S,isUserMod:w,onDistinguishComment:m,sendEventWithName:this.sendCommentDistinguishEvent,tooltipId:Ys(t.id)}))),this.props.reportFlowIsOpen&&c.a.createElement(ys.a,{withOverlay:!0,commentId:this.props.comment.id,overlayCustomStyles:ys.b,postId:this.props.comment.postId}))}})),en=s("./src/reddit/components/Comments/Comment/TopMeta/index.tsx"),tn=s("./src/reddit/components/GildModal/Loader.tsx"),sn=s("./src/reddit/components/ModModeReports/index.tsx"),nn=s("./src/reddit/components/RichTextJson/index.tsx"),on=s("./src/reddit/components/VerticalVotes/index.tsx"),rn=s("./src/reddit/helpers/getRichTextContent.ts"),an=s("./src/reddit/constants/componentTestIds.ts"),cn=s("./src/reddit/controls/ErrorText/index.tsx"),dn=s("./src/reddit/controls/InvisibleScreenReaderText/index.tsx"),ln=s("./src/reddit/models/Vote/index.ts"),mn=s("./src/reddit/selectors/gild.ts"),pn=s("./src/reddit/reducers/comments/visitHighlightingFilter/index.ts"),un=s("./src/reddit/components/Comments/Comment/index.m.less"),hn=s.n(un),bn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(s.push(a.value),!t||s.length!==t);n=!0);}catch(c){o=!0,r=c}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),gn=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const xn=y.a.wrapped(rs,"ExpandButton",hn.a),vn=y.a.wrapped(cn.a,"ErrorText",hn.a),Cn=y.a.wrapped(on.a,"VerticalVotes",hn.a),On=y.a.wrapped(en.a,"TopMeta",hn.a),fn=y.a.div("CommentContentWrapper",hn.a),En=y.a.div("CommentWrapper",hn.a),yn=y.a.div("CommentBody",hn.a),jn=y.a.wrapped(qt,"CommentCreation",hn.a),Pn=y.a.wrapped(jn,"EditCommentForm",hn.a),wn=Object(K.w)()(Object(d.b)(()=>Object(m.c)({comment:(e,t)=>Object(Tt.o)(e,t),currentProfileModPermissions:K.i,depth:(e,t)=>Object(Tt.k)(e,t),collapsed:Tt.i,flair:Tt.e,focused:Tt.u,gildModalIsOpen:(e,{commentId:t})=>Object(mn.c)(e,t),isEditing:Tt.z,isLoggedIn:le.L,isPendingDeletion:Tt.A,language:le.T,moderatorPermissions:(e,t)=>{const s=Object(Tt.o)(e,t);return s?Object(Rt.i)(e,{subredditId:s.subredditId}):null},modModeEnabled:K.R,errorMsgs:Tt.E,patreonPatronFlair:Tt.f,replyFormOpen:Tt.H,subreddit:K.s,subredditType:Tt.J,highlightComment:(e,{commentId:t})=>{const s=Object(Tt.r)(e);if(s===pn.a.None)return!1;const n=Object(Tt.o)(e,{commentId:t});if(!n)return!1;const o=Object(le.s)(e),r=!!Object(Rt.h)(e,{postId:n.postId}),a=Object(X.J)(e,{postId:n.postId});if(!a||!a.previousVisits||a.previousVisits.length<2)return!1;const i=s===pn.a.Last?a.previousVisits[a.previousVisits.length-1]:a.previousVisits[0];return(r||o)&&n.created>i}}),(e,{commentId:t,commentsPageKey:s,scrollToAndRemeasure:n,trackClick:o})=>({onCollapseClick:()=>e(Object(I.pb)({commentId:t,commentsPageKey:s,scrollToAndRemeasure:n})),onIgnoreReports:()=>e(Object(I.rb)(t)),onVoteClick:s=>{var n=s===ln.a.upvoted?[Object(I.tb)(t),"upvote_comment"]:[Object(I.U)(t),"downvote_comment"],r=bn(n,2);const a=r[0],i=r[1];o(i)(),e(a)}}))(({childrenInfo:e,clearHovered:t,comment:s,commentsPageKey:n,collapsed:o,currentProfileModPermissions:r,depth:a,errorMsgs:d,flair:l,focused:m,gildModalIsOpen:p,highlightComment:u,isActive:b,isEditing:x,isLoggedIn:v,isPendingDeletion:O,language:f,moderatorPermissions:E,modModeEnabled:y,onCollapseClick:P,onIgnoreReports:w,onLineMouseOver:S,onVoteClick:T,patreonPatronFlair:k,replyFormOpen:_,subreddit:N,trackClick:L,renderedInOverlay:M,subredditType:F})=>{const B=!x&&!s.isDeleted&&!!d&&d.length>0,A=Object(j.a)(g.c.edit,s.id),D=Object(j.a)(g.c.replyToComment,s.id),V=Object(ps.a)(E),W=s.authorIsContractor&&F===St.b.EmployeesOnly,H=s.isLocked;return c.a.createElement(En,{className:Object(C.a)(`Comment ${s.id}`,{[hn.a.focused]:m,[hn.a.topLevel]:!a})},o&&c.a.createElement(xn,{className:s.id,onClick:()=>{t(),P(),L("collapse")()},onMouseOver:()=>S(s.id),onMouseOut:t}),!o&&!s.isDeleted&&c.a.createElement(Cn,{compact:!0,downvoteButtonClassName:hn.a.voteButton,downvoteClassName:hn.a.upDownVote,model:s,onVoteClick:T,upvoteButtonClassName:hn.a.voteButton,upvoteClassName:hn.a.upDownVote}),c.a.createElement(fn,{className:Object(C.a)({[hn.a.highlightComment]:u,[hn.a.isActive]:b,[hn.a.isCollapsed]:o,[hn.a.isLocked]:H,[hn.a.isPendingDeletion]:O,[hn.a.isRemoved]:!!s.bannedBy})},c.a.createElement(dn.a,null,Object(R.a)(f,"comment.level",{level:a+1})),c.a.createElement(On,{childrenInfo:e,className:Object(C.a)({[hn.a.collapsed]:o}),collapsed:o,comment:s,commentsPageKey:n,flair:l,language:f,patreonPatronFlair:k,renderedInOverlay:M,renderContractorBadge:W}),!o&&c.a.createElement(i.Fragment,null,x&&c.a.createElement(Pn,{autofocus:!0,commentsPageKey:n,depth:a,draftType:g.c.edit,draftKey:A,rtJson:Object(rn.a)(s),mediaMetadata:s.media&&s.media.mediaMetadata||void 0,isTopLevelComment:!1,parentCommentId:s.id,submitAction:e=>Object(I.gb)({language:f,id:s.id,commentsPageKey:n,depth:a,draftKey:A,formData:e}),submitButtonText:Object(h.c)("save edits")}),!x&&!s.isDeleted&&c.a.createElement(yn,{"data-test-id":an.d},c.a.createElement(nn.a,{content:Object(rn.a)(s),mediaMetadata:s.media&&s.media.mediaMetadata,renderingObjectInfo:s})),y&&V&&Object(fs.c)(s)&&c.a.createElement(sn.a,{language:f,onIgnoreReports:w,reportable:s}),!x&&!s.isDeleted&&v&&c.a.createElement($s,{comment:s,commentsPageKey:n,language:f,modModeEnabled:y,moderatorPermissions:r||E,subreddit:N,trackClick:L}),B&&d.map(e=>c.a.createElement(vn,{language:f},e)),_&&c.a.createElement(jn,{autofocus:!0,commentsPageKey:n,depth:a,draftType:g.c.replyToComment,draftKey:D,isTopLevelComment:!1,parentCommentId:s.id,submitAction:(e,t)=>{var o=e.validate,r=gn(e,["validate"]);return o?Object(I.ub)({commentsPageKey:n,draftKey:D,language:f,parentCommentDepth:a,parentCommentId:s.id,formData:r,editorMode:t}):Object(I.lb)({commentsPageKey:n,draftKey:D,language:f,parentCommentDepth:a,parentCommentId:s.id,formData:r,editorMode:t})},submitButtonText:Object(h.c)("Reply")}))),p&&c.a.createElement(tn.a,null))}));var In=e=>c.a.createElement(jt.a.Consumer,null,t=>c.a.createElement(wn,Object.assign({},e,{trackClick:t}))),Sn=s("./src/reddit/contexts/InsideOverlay.tsx"),Tn=s("./src/reddit/components/Comments/ContinueThreadLink/index.m.less"),kn=s.n(Tn);const _n=y.a.div("Wrapper",kn.a),Nn=y.a.wrapped(b.a,"ArrowRight",kn.a),Ln=y.a.wrapped(p.a,"LinkOrOverlayLink",kn.a),Mn=y.a.span("HoverSpan",kn.a),Rn=Object(m.c)({language:le.T,permalink:(e,t)=>Object(Tt.n)(e,{commentId:Object(Tt.t)(e,t).parentId})});var Fn=Object(d.b)(Rn)(Object(Sn.b)(({isActive:e,isOverlay:t,permalink:s})=>c.a.createElement(_n,{className:Object(C.a)({[kn.a.isActive]:e})},c.a.createElement(Ln,{isOverlay:!!t,to:Object(u.b)(s)},c.a.createElement(Mn,null,c.a.createElement(Qe.c,null,"Continue this thread"))," ",c.a.createElement(Nn,null))))),Bn=s("./src/reddit/components/Comments/MoreCommentsItem/index.m.less"),An=s.n(Bn);const Dn=y.a.div("MoreCommentsItemWrapper",An.a),Vn=y.a.p("MoreComments",An.a),Wn=y.a.wrapped(Vn,"MoreCommentsInteractive",An.a),Hn=Object(m.c)({moreCommentsItem:Tt.B,moreCommentsPending:Tt.C,language:le.T});var Un=Object(d.b)(Hn,(e,t)=>({moreCommentsClicked:()=>e(Object(I.bb)(t.commentsPageKey,t.moreCommentsId))}))(({language:e,isActive:t,moreCommentsClicked:s,moreCommentsItem:n,moreCommentsPending:o})=>c.a.createElement(Dn,null,o?c.a.createElement(Vn,null,c.a.createElement(Qe.c,null,"loading...")):c.a.createElement(jt.a.Consumer,null,o=>c.a.createElement(Wn,{className:Object(C.a)({[An.a.isActive]:t}),onClick:()=>{s(),o("load_more_comment")()}},Object(R.c)(e,"comment.moreReply",n.numComments,{numComments:n.numComments}))))),zn=s("./node_modules/lodash/times.js"),Kn=s.n(zn),Gn=s("./src/reddit/components/Comments/ThreadLines/index.m.less"),qn=s.n(Gn);const Jn=y.a.wrapped(e=>c.a.createElement("div",Object.assign({},e),c.a.createElement("i",{className:Zt.l})),"Line",qn.a),Yn=y.a.div("LineContainer",qn.a),Qn=y.a.div("ShortLineContainer",qn.a);var Xn=e=>{const t=e.collapsed,s=e.depth,n=e.onLineClick,o=e.onLineMouseOver,r=e.onLineMouseOut,a=e.onShortLineClick,i=e.parentNodeIds,d=e.type;return c.a.createElement(Yn,null,Kn()(s+1,e=>e===s?d!==Xt.a.Comment||t?null:c.a.createElement(Qn,{key:i[e]},c.a.createElement(Jn,{className:i[e],onClick:a,onMouseOver:()=>o(i[e]),onMouseOut:()=>r(i[e])})):c.a.createElement(Jn,{className:i[e],key:i[e],onClick:n(e),onMouseOver:()=>o(i[e]),onMouseOut:()=>r(i[e])})))},Zn=s("./src/reddit/components/Comments/CommentListNode/index.m.less"),$n=s.n(Zn);const eo=y.a.div("CommentListNodeWrapper",$n.a),to=e=>{const t=document.querySelectorAll(`.${e}`);if(t&&t.length)for(let s=0;s<t.length;s++)t[s].classList.add(Zt.g)},so=()=>{const e=document.querySelectorAll(`.${Zt.g}`);if(e&&e.length)for(let t=0;t<e.length;t++)e[t].classList.remove(Zt.g)};var no=Object(d.b)(()=>Object(m.c)({collapsed:(e,{commentLink:t,commentsPageKey:s})=>!(!e.comments.collapsed[s]||!e.comments.collapsed[s][t.id]),commentListNode:(e,t)=>Object(Tt.m)(e,t),depth:(e,t)=>Object(Tt.k)(e,t),isActive:(e,{commentLink:t})=>!!e.shortcuts.activeCommentId&&t.id===e.shortcuts.activeCommentId}),(e,{commentLink:t,commentsPageKey:s,scrollToAndRemeasure:n})=>({onLineClick:o=>()=>{e(Object(I.L)({commentLink:t,commentsPageKey:s,lineDepth:o,scrollToAndRemeasure:n}))},onShortLineClick:()=>e(Object(I.pb)({commentId:t.id,commentsPageKey:s,scrollToAndRemeasure:n}))}))(e=>{const t=e.childrenInfo,s=e.className,n=e.collapsed,o=e.commentLink,r=e.commentsPageKey,a=e.depth,i=e.isActive,d=e.isHidden,l=e.onLineClick,m=e.onShortLineClick,p=e.parentNodeIds,u=e.renderedInOverlay,h=e.scrollToAndRemeasure;return c.a.createElement(eo,{className:Object(C.a)(s,{[$n.a.isHidden]:d}),id:o.id,style:{paddingLeft:a*(U.y+U.x)+(o.type===Xt.a.Comment?U.y:0)},tabIndex:-1},c.a.createElement(Xn,{collapsed:n,depth:a,onLineClick:l,onLineMouseOver:to,onLineMouseOut:so,onShortLineClick:m,type:o.type,parentNodeIds:p}),oo({childrenInfo:t,clearHovered:so,commentLink:o,commentsPageKey:r,onLineMouseOver:to,isActive:i,renderedInOverlay:u,scrollToAndRemeasure:h}))});const oo=({childrenInfo:e,clearHovered:t,commentLink:s,commentsPageKey:n,isActive:o,onLineMouseOver:r,renderedInOverlay:a,scrollToAndRemeasure:i})=>{switch(s.type){case Xt.a.Comment:return c.a.createElement(In,{childrenInfo:e,clearHovered:t,commentId:s.id,commentsPageKey:n,isActive:o,onLineMouseOver:r,renderedInOverlay:a,scrollToAndRemeasure:i});case Xt.a.MoreComments:return c.a.createElement(Un,{commentsPageKey:n,isActive:o,moreCommentsId:s.id});case Xt.a.ContinueThread:return c.a.createElement(Fn,{id:s.id,isActive:o})}};var ro=s("./src/reddit/components/Comments/helpers/hiddenComments.ts"),ao=s("./src/reddit/components/Comments/States/index.tsx"),io=s("./src/reddit/components/Scroller/Simple.tsx"),co=s("./src/reddit/helpers/commentList/index.ts"),lo=s("./src/lib/LRUCache/index.ts"),mo=s("./src/reddit/components/Comments/index.m.less"),po=s.n(mo);const uo=U.g+10,ho=65,bo=y.a.wrapped(io.a,"Scroller",po.a),go=Object(m.c)({allCollapsed:Tt.a,commentLinks:Tt.l,commentThreadLinkSet:Tt.q,language:le.T,measureScrollFPS:ke.d.measureScrollFPS,moreComments:Tt.b,postPermalink:X.I}),xo=Object(d.b)(go,(e,t)=>({onCommentEnteredViewport:t=>e(Object(I.M)(t)),onCommentLeftViewport:(t,s)=>e(Object(I.R)(t,s))})),vo=new lo.a(500),Co=new lo.a(500),Oo=(e,t)=>{const s=`entered-${e}`;let n=vo.get(s);return void 0===n&&(n=(()=>{t.onCommentEnteredViewport(e)}),vo.set(s,n)),n},fo=(e,t)=>{const s=`left-${e}`;let n=Co.get(s);return void 0===n&&(n=(s=>{t.onCommentLeftViewport(e,s)}),Co.set(s,n)),n};var Eo=xo(class extends c.a.Component{constructor(e){super(e),this.getParentNodeIds=(e=>{var t=this.props;const s=t.commentLinks,n=t.commentThreadLinkSet;if(this.parentNodeIdsMap[e.id])return this.parentNodeIdsMap[e.id];const o=n[e.id].depth,r=s.findIndex(t=>t.id===e.id);if(0===o||0===r)return this.parentNodeIdsMap[e.id]=[e.id],this.parentNodeIdsMap[e.id];const a=s[r-1],i=this.parentNodeIdsMap[a.id].slice();return this.parentNodeIdsMap[e.id]=i.filter(e=>n[e].depth<o),this.parentNodeIdsMap[e.id].push(e.id),this.parentNodeIdsMap[e.id]}),this.getChildrenInfo=(e=>this.childrenInfoMap[e]||void 0),this.parentNodeIdsMap={},ro.c(),this.childrenInfoMap={}}componentWillMount(){var e=this.props;const t=e.commentLinks,s=e.allCollapsed,n=e.commentThreadLinkSet,o=e.moreComments;this.timerId&&x.c.cancel(this.timerId),t.length&&(this.timerId=x.c.start()),this.findHiddenNodes(t,s,n,o)}componentDidMount(){this.timerId&&Object(x.b)(O.l.Redesign,{type:"mount",component:"commentsList",duration:x.c.end(this.timerId)})}componentWillReceiveProps(e){const t=e.allCollapsed,s=e.commentsPageKey,n=e.commentLinks,o=e.commentThreadLinkSet,r=e.moreComments;(s!==this.props.commentsPageKey||n.length>this.props.commentLinks.length||!Qt()(t,this.props.allCollapsed))&&this.findHiddenNodes(n,t,o,r)}shouldComponentUpdate(e){var t=this.props;const s=t.commentsPageKey,n=t.commentLinks,o=t.allCollapsed;return e.commentsPageKey!==s||e.commentLinks.length>n.length||!Qt()(e.allCollapsed,o)||e.commentLinks.some((e,t)=>e.id!==n[t].id)}componentWillUpdate(e){this.timerId&&x.c.cancel(this.timerId),e.commentLinks.length&&(this.timerId=x.c.start())}componentDidUpdate(e){this.timerId&&Object(x.b)(O.l.Redesign,{type:"mount",component:"commentsList",duration:x.c.end(this.timerId)})}componentWillUnmount(){this.timerId&&x.c.cancel(this.timerId)}findHiddenNodes(e,t,s,n){if(!t||!Object.keys(t).length)return;let o=null,r=1/0,a=0,i=!1;ro.c();for(let c=0;c<e.length;c++){const d=e[c];o&&(s[d.id].depth>r?(ro.a(d.id),a+=Object(co.d)(d,n),d.type===Xt.a.ContinueThread&&(i=!0)):(this.childrenInfoMap[o]={numChildren:a,hasContinueThread:i},o=null,r=1/0,a=0,i=!1)),!o&&t[d.id]&&(o=d.id,r=s[d.id].depth)}}render(){return this.props.commentLinks.length?this.renderList():this.renderEmptyState()}getScrollChild(e,t){var s=this.props;const n=s.onCommentEnteredViewport,o=s.onCommentLeftViewport,r=Oo(e.id,{onCommentEnteredViewport:n,onCommentLeftViewport:o}),a=fo(e.id,{onCommentEnteredViewport:n,onCommentLeftViewport:o});return{estHeight:ro.b(e.id)?0:ho,id:e.id,trackOnEnteredViewport:r,trackOnExitedViewport:a,render:({placeholderRecommended:t,height:s,width:n,scrollToAndRemeasure:o})=>t?c.a.createElement("div",{style:{height:s,backgroundColor:"#fff"}}):c.a.createElement(no,{childrenInfo:this.getChildrenInfo(e.id),commentLink:e,commentsPageKey:this.props.commentsPageKey,id:e.id,isHidden:ro.b(e.id),scrollToAndRemeasure:o,renderedInOverlay:!!this.props.renderedInOverlay,parentNodeIds:this.getParentNodeIds(e)})}}renderList(){let e;this.props.measureScrollFPS&&(e=`comments-${this.props.renderedInOverlay?"lightbox":"page"}`);const t=this.props.commentLinks.map((e,t)=>this.getScrollChild(e,t));return c.a.createElement(bo,{className:Object(C.a)(po.a.Scroller,this.props.className),disableScrollCache:this.props.renderedInOverlay,key:this.props.commentsPageKey,getContainer:()=>this.props.renderedInOverlay?document.getElementById(z.d):null,preventScrollOnMount:!0,scrollToChildPadding:uo,trackingName:e},t)}renderEmptyState(){return this.props.commentId?c.a.createElement(ao.g,{link:this.props.postPermalink}):c.a.createElement(ao.c,null)}}),yo=s("./src/reddit/components/CommentsChat/index.tsx"),jo=s("./src/reddit/components/CommentsChat/MessageInput/Loader.tsx"),Po=s("./src/reddit/actions/post.ts"),wo=s("./src/reddit/actions/toaster.ts"),Io=s("./src/lib/makeApiRequest/index.ts"),So=s("./src/lib/omitHeaders/index.ts"),To=s("./src/reddit/constants/headers.ts"),ko=s("./src/reddit/models/Toast/index.ts");const _o=(e,t)=>async(s,n,{apiContext:o})=>{const r=await(async(e,t,s)=>Object(Io.b)(Object(So.a)(e,[To.a]),{endpoint:`${e.apiUrl}/api/set_suggested_sort/`,method:O.cb.POST,data:{api_type:"json",id:t,sort:s}}))(o(),e,t),a=`error-block-${t}`,i=`success-block-${t}`;if(r.ok){s(Object(Po.E)({[e]:{suggestedSort:t}}));const n=t?Object(h.c)("Suggested sort is on."):Object(h.c)("Suggested sort is off.");s(wo.e({id:i,kind:ko.b.SuccessCommunityGreen,text:n}))}else s(wo.e({id:a,kind:ko.b.Error,text:Object(h.c)("Try again later"),buttonText:Object(h.c)("Retry"),buttonAction:_o(e,t)}))};var No=s("./src/reddit/actions/otherDiscussions/constants.ts");const Lo=(e,t)=>Object.assign({},Object(Ft.defaults)(e),{media:Object(Ft.media)(e,t),profile:Object(Ft.profile)(e),subreddit:Object(Ft.subreddit)(e)||Object(Ft.subredditByPostOrCommentId)(e,t)});var Mo=s("./src/reddit/components/CommentSort/OtherDiscussionsLink/index.m.less"),Ro=s.n(Mo);const Fo=Object(m.c)({postPermalink:X.I});var Bo=Object(d.b)(Fo)(Object(V.b)(e=>{const t=e.className,s=e.isOverlay,n=e.onOtherDiscussions,o=e.otherDiscussionsCount,r=e.postId,a=e.postPermalink,i=o>0,d=Object(u.b)(Object(No.e)(a));return c.a.createElement("div",{className:Object(C.a)(t,Ro.a.OtherDiscussionsLink)},i&&!n&&c.a.createElement(p.a,{className:Ro.a.LinkComponent,isOverlay:s,onClick:()=>e.sendEvent((e=>t=>Object.assign({source:"post",action:"click",noun:"other_discussions",post:Object(Ft.post)(t,e)},Lo(t,e)))(r)),to:d},c.a.createElement(Qe.c,null,"View discussions in ",c.a.createElement(Qe.b,{name:"otherDiscussionsCount"},o)," other",c.a.createElement(Qe.a,{name:"communities",singular:" community",plural:" communities",count:o}))),n&&c.a.createElement(p.a,{className:Ro.a.LinkComponent,isOverlay:s,onClick:()=>e.sendEvent((e=>t=>Object.assign({source:"other_discussions",action:"click",noun:"dismiss",post:Object(Ft.post)(t,e)},Lo(t,e)))(r)),to:Object(u.b)(a)},c.a.createElement(Ts.a,{className:Ro.a.commentIcon,role:"presentation"}),c.a.createElement(Qe.c,null,"Return to comments")))})),Ao=s("./src/reddit/components/InfoTextTooltip/index.tsx"),Do=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),Vo=s("./src/reddit/controls/Dropdown/index.tsx"),Wo=s("./src/reddit/controls/Dropdown/Row.tsx"),Ho=s("./src/reddit/controls/ToggleSwitch/index.tsx");s("./src/telemetry/models/Event.ts");const Uo=(e,t,s,n,o)=>r=>({source:"comment_sort",action:"click",noun:e,actionInfo:{pageType:t?"post_detail":"home"},listing:Object(Ft.listing)(r,void 0,{oldSort:s,sort:n,source:o}),userSubreddit:Object(Ft.userSubreddit)(r)}),zo=(e,t)=>s=>({source:"comment_highlighting",action:t,noun:e}),Ko=e=>({subreddit:Object(Ft.subreddit)(e),userSubreddit:Object(Ft.userSubreddit)(e)}),Go=e=>t=>Object.assign({source:"contest_mode",action:"click",noun:e?"enable":"disable"},Ko);var qo=s("./src/reddit/icons/svgs/Dropdown/index.tsx"),Jo=s("./src/reddit/icons/svgs/Info/index.tsx"),Yo=s("./src/reddit/constants/experiments.ts"),Qo=s("./src/reddit/helpers/chooseVariant/index.ts");var Xo=s("./src/reddit/components/CommentSort/CommentSort.m.less"),Zo=s.n(Xo);const $o=Object(Do.a)(Vo.a),er=y.a.wrapped(qo.b,"DropdownTriangle",Zo.a),tr=y.a.div("HighlightWrapper",Zo.a),sr=y.a.wrapped(Wo.b,"Row",Zo.a),nr=y.a.div("Title",Zo.a),or=e=>e===pn.a.First?Object(h.c)("First Visit"):e===pn.a.Last?Object(h.c)("Last Visit"):"None";var rr=class extends c.a.Component{constructor(){super(...arguments),this.track=(()=>{var e=this.props;const t=e.trackHighlight,s=e.selectedSort;s!==pn.a.None&&t(s===pn.a.Last?"since_last_visit":"since_first_visit","view")}),this.onDropdownClick=((e,t)=>{this.props.trackHighlight(e,"click"),this.props.changeHighlightSort(t)}),this.onDropdownClickFirst=(()=>{this.onDropdownClick("since_first_visit",pn.a.First)}),this.onDropdownClickLast=(()=>{this.onDropdownClick("since_last_visit",pn.a.Last)}),this.onDropdownClickNone=(()=>{this.onDropdownClick("do_not_highlight",pn.a.None)})}componentDidMount(){this.track()}componentWillUpdate(e){e.selectedSort!==this.props.selectedSort&&this.track()}render(){var e=this.props;const t=e.highlightIsOpen,s=e.id,n=e.onOpen,o=e.selectedSort;return c.a.createElement(tr,null,c.a.createElement(nr,{onClick:n},Object(h.c)("highlight comments since")),c.a.createElement(sr,{onClick:n,displayText:or(o),id:s}),c.a.createElement(er,{onClick:n}),c.a.createElement($o,{isOpen:t,renderContentsHidden:!0,tooltipId:s},c.a.createElement(Wo.b,{displayText:or(pn.a.First),isSelected:o===pn.a.First,onClick:this.onDropdownClickFirst}),c.a.createElement(Wo.b,{displayText:or(pn.a.Last),isSelected:o===pn.a.Last,onClick:this.onDropdownClickLast}),c.a.createElement(Wo.b,{displayText:or(pn.a.None),isSelected:o===pn.a.None,onClick:this.onDropdownClickNone})))}};const ar="CommentSort--SortPicker",ir="CommentSort--HighlightPicker",cr="CommentSort--Tooltip",dr=Object(Do.a)(Vo.a),lr=y.a.wrapped(b.a,"ArrowRight",Zo.a),mr=y.a.button("ContestMode",Zo.a),pr=y.a.wrapped(qo.b,"DropdownTriangle",Zo.a),ur=y.a.span("HoverSpan",Zo.a),hr=y.a.wrapped(Jo.a,"Info",Zo.a),br=y.a.wrapped(p.a,"ViewFullLinkOrOverlayLink",Zo.a),gr=y.a.div("OtherDiscussionsTitle",Zo.a),xr=y.a.wrapped(Wo.b,"Row",Zo.a),vr=y.a.button("SetSort",Zo.a),Cr=y.a.div("SingleCommentText",Zo.a),Or=y.a.button("SortLink",Zo.a),fr=y.a.div("Title",Zo.a),Er=y.a.wrapped(Ho.a,"ToggleSwitch",Zo.a),yr=y.a.wrapped(Ao.c,"Tooltip",Zo.a),jr=y.a.div("ViewFullLinkContainer",Zo.a),Pr=({isOverlay:e,postPermalink:t})=>c.a.createElement(jr,null,c.a.createElement(Cr,null,Object(h.c)("Single comment thread.")," "),c.a.createElement(br,{isOverlay:e,to:Object(u.b)(t)},c.a.createElement(ur,null,Object(h.c)("View all comments"))," ",c.a.createElement(lr,null))),wr=Object(m.c)({commentPermalink:(e,{commentId:t})=>t&&Object(Tt.n)(e,{commentId:t}),contestModeIsEnabled:X.B,contestModeModalIsOpen:Object(de.b)("CommentSort--ContestMode--Modal"),dropdownIsOpen:Object(Bt.b)(ar),highlightIsOpen:Object(Bt.b)(ir),hasModeratorPostPermissions:(e,{postId:t})=>{const s=Object(Rt.h)(e,{postId:t});return!!s&&s.posts},isInOtherDiscussionsExperiment:e=>{return Object(le.I)(e)||Object(Qo.b)(e,{experimentEligibilitySelector:Qo.a,experimentName:Yo.gb})===Yo.hb.Show},otherDiscussionsCount:X.z,postPermalink:X.I,showCommentHighlighter:(e,{postId:t})=>{const s=Object(le.s)(e),n=!!Object(Rt.h)(e,{postId:t}),o=Object(X.J)(e,{postId:t});return(n||s)&&!!o&&!!o.previousVisits&&o.previousVisits.length>1},selectedHighlightSort:Tt.r});var Ir=Object(d.b)(wr,(e,{postId:t})=>({changeHighlightSort:t=>e(Object(I.K)({sort:t})),onOpenDropdown:()=>e(Object(M.e)({tooltipId:ar})),onOpenHighlightDropdown:t=>{e(Object(M.e)({tooltipId:ir})),t()},onSetSuggestedSort:s=>e(_o(t,s)),hideTooltip:()=>e(Object(M.f)()),setContestMode:s=>e(Object(Po.I)(s,t)),showTooltip:()=>e(Object(M.e)({tooltipId:cr})),toggleContestModeModal:()=>e(Object(te.i)("CommentSort--ContestMode--Modal"))}))(Object(V.b)(class extends c.a.Component{constructor(){super(...arguments),this.tooltipTargetElement=null,this.sendCommentSortEvent=((e,t,s,n)=>this.props.sendEvent(Uo(e,this.props.isOverlay,t,s,n))),this.onOpenDropdownClick=(()=>{this.props.onOpenDropdown(),this.sendCommentSortEvent("sorting",void 0,this.props.sort,"post_detail")}),this.onSortOptionClick=(e=>this.sendCommentSortEvent("sort_by",this.props.sort,e,"post_detail")),this.clearSortOnClick=(()=>{this.props.onSetSuggestedSort(null),this.sendCommentSortEvent("clear_suggested_sort",this.props.sort)}),this.setSortOnClick=(()=>{const e=this.props.suggestedSort||void 0;this.props.onSetSuggestedSort(this.props.sort),this.sendCommentSortEvent("set_suggested_sort",e,this.props.sort)}),this.setTooltipTargetRef=(e=>this.tooltipTargetElement=e),this.onOpenHighlightSelector=(()=>{this.props.onOpenHighlightDropdown(zo("dropdown","click"))}),this.setContestMode=(()=>{this.props.sendEvent(Go(!this.props.contestModeIsEnabled)),this.props.setContestMode(!this.props.contestModeIsEnabled)})}render(){var e=this.props;const t=e.changeHighlightSort,s=e.className,n=e.commentId,o=e.commentPermalink,r=e.contestModeModalIsOpen,a=e.contestModeIsEnabled,i=e.dropdownIsOpen,d=e.elementRef,l=e.hideTooltip,m=e.highlightIsOpen,p=e.hasModeratorPostPermissions,b=e.isInOtherDiscussionsExperiment,g=e.isOverlay,x=e.location,v=e.onOtherDiscussions,f=e.otherDiscussionsCount,E=e.postId,y=e.postPermalink,j=e.selectedHighlightSort,P=e.showCommentHighlighter,w=e.sort,I=e.suggestedSort,S=e.showTooltip,T=e.toggleContestModeModal,k=!x.search.includes(O.q.CONFIDENCE),_=w===O.q.CONFIDENCE&&k,N=p&&!_&&w!==O.q.CHAT,L=Object(h.c)(" (suggested)"),M=I&&w===I&&!_?O.s[w]+L:O.s[w],R=a?Object(h.c)("End contest mode?"):Object(h.c)("Start contest?"),F=a?Object(h.c)("End"):Object(h.c)("Start"),B=a?Object(h.c)("Ending contest mode will make comment vote scores visible and disable random comment ordering."):Object(h.c)("Starting a contest will hide comment vote scores and randomize the order of the comments for non-mods."),A=a&&!p,D=f>0,V=D?f:0;return c.a.createElement("div",{className:Object(C.a)(s,Zo.a.container,{[Zo.a.hideCommentSort]:!P&&A,[Zo.a.mHasOtherDiscussions]:D&&b}),ref:d},!A&&!v&&c.a.createElement(fr,{onClick:this.onOpenDropdownClick},Object(h.c)("Sort by")),!A&&v&&c.a.createElement(gr,null,c.a.createElement(Qe.c,null,c.a.createElement(Qe.b,{name:"otherDiscussionsCount"},V)," other",c.a.createElement(Qe.a,{name:"discussions",singular:" discussion",plural:" discussions",count:f}))),!v&&!A&&c.a.createElement(c.a.Fragment,null,c.a.createElement(xr,{className:Object(C.a)(Zo.a.SortPicker,Zo.a.Row),onClick:this.onOpenDropdownClick,displayText:M,id:ar,noHover:!0}),c.a.createElement(pr,{onClick:this.onOpenDropdownClick}),c.a.createElement(dr,{isOpen:i,renderContentsHidden:!0,tooltipId:ar},[O.q.CONFIDENCE,O.q.TOP,O.q.NEW,O.q.CONTROVERSIAL,O.q.OLD,O.q.QA].map(e=>{const t=o||y,s=Object(u.b)(t),n=e===O.q.CHAT?s:`${s}?sort=${e}`;return c.a.createElement(br,{isOverlay:g,key:e,onClick:()=>this.onSortOptionClick(e),role:"menuitem",tabIndex:-1,to:n},c.a.createElement(Wo.b,{displayText:I&&e===I?O.s[e]+L:O.s[e],isSelected:w===e,skipRoleAttr:!0}))}))),N&&!A&&(I?c.a.createElement(Or,{onClick:w!==I?this.setSortOnClick:this.clearSortOnClick},w!==I?Object(h.c)("Set new suggested sort"):Object(h.c)("Clear suggested sort")):c.a.createElement(vr,null,c.a.createElement(Or,{onClick:this.setSortOnClick},Object(h.c)("Set as suggested sort")),c.a.createElement("span",{id:cr,onMouseEnter:S,onMouseLeave:l},c.a.createElement(yr,{text:Object(h.c)("Suggested sort defaults Redditors to a specific way of sorting comments within this post"),tooltipId:cr}),c.a.createElement(hr,null)))),p&&!v&&c.a.createElement(mr,{onClick:this.props.toggleContestModeModal},Object(h.c)("Contest"),c.a.createElement(Er,{on:a})),P&&c.a.createElement(rr,{changeHighlightSort:t,highlightIsOpen:m,id:ir,onOpen:this.onOpenHighlightSelector,selectedSort:j,trackHighlight:zo}),n&&Pr(this.props),r&&c.a.createElement(bs.a,{actionText:F,headerText:R,modalText:B,onConfirm:this.setContestMode,toggleModal:T,withOverlay:!0}),!A&&b&&c.a.createElement(Bo,{className:Zo.a.OtherDiscussionsLink,isOverlay:g,onOtherDiscussions:v,otherDiscussionsCount:f,postId:E}))}})),Sr=s("./src/lib/memoizeByReference/index.ts"),Tr=s("./src/lib/objectSelector/index.ts"),kr=s("./src/reddit/components/Economics/CommunityTipJar/async.tsx"),_r=s("./src/reddit/components/Governance/CommunityCard/index.tsx");var Nr=Object(At.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("GovernanceLeaderboard").then(s.bind(null,"./src/reddit/components/Governance/Leaderboard/index.tsx")).then(e=>e.default)}),Lr=s("./src/reddit/components/IdCard/index.tsx"),Mr=s("./src/reddit/components/SidebarPostList/index.tsx"),Rr=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),Fr=s("./src/reddit/helpers/name/index.ts"),Br=s("./src/reddit/helpers/trackers/discoveryUnit.ts"),Ar=s("./src/reddit/selectors/subreddit.ts"),Dr=s("./src/reddit/components/M2M/SidebarPostFeed/index.m.less"),Vr=s.n(Dr);const Wr=Object(m.a)((e,t)=>t.subredditName,it.B,it.e,(e,t,s)=>t?Object(P.a)(s,O.P.HOT):Object(P.a)(e,O.P.TOP)),Hr=Object(m.c)({discoveryUnit:it.z,listingKey:Wr,m2mDataLoaded:it.d,m2mHomeMultiName:it.e,posts:(e,t)=>{const s=Wr(e,t);return Object(X.O)(e,{listingKey:s})},shouldShowHomeUpsell:it.B,subreddit:Ar.G});var Ur=Object(d.b)(Hr,e=>({goToHomeFeed:()=>e(Object(Ke.b)({shouldPrepareData:!1}))}))(Object(V.b)(class extends c.a.Component{constructor(e){super(e),this.trackViewed=(()=>{var e=this.props;const t=e.discoveryUnit,s=e.subreddit;t&&this.props.sendEvent(Object(Br.g)(t,s))}),this.trackTitleSubredditClicked=(()=>{var e=this.props;const t=e.discoveryUnit,s=e.subreddit;t&&this.props.sendEvent(Object(Br.J)(t,s))}),this.trackPostClicked=(e=>{var t=this.props;const s=t.discoveryUnit,n=t.subreddit;s&&this.props.sendEvent(Object(Br.y)(s,e,void 0,n))}),this.trackPostViewed=(e=>{var t=this.props;const s=t.discoveryUnit,n=t.subreddit;s&&this.props.sendEvent(Object(Br.D)(s,e,void 0,n))}),this.trackFooterClicked=(()=>{var e=this.props;const t=e.discoveryUnit,s=e.subreddit;t&&this.props.sendEvent(Object(Br.t)(t,s))}),this.isHomeUpsellVisible=(()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell),this.onFooterClick=(e=>{const t=this.props.goToHomeFeed;this.isHomeUpsellVisible()&&(e.preventDefault(),t()),this.trackFooterClicked()}),this.state={shouldShowHomeUpsell:e.shouldShowHomeUpsell}}componentDidMount(){this.trackViewed()}render(){var e=this.props;const t=e.children,s=e.className,n=e.listingKey,o=e.m2mDataLoaded,r=e.m2mHomeMultiName,a=e.posts,i=e.subreddit,d=e.subredditName;if(!o||!i||0===a.length)return null;const l=this.isHomeUpsellVisible(),m=Object(Fr.b)(i&&(i.displayText||i.name)||d),p=l?r:d;return c.a.createElement(Rr.a,{className:s,contentOnly:!0,redditStyle:l},l?c.a.createElement(et,{isCompact:!0}):c.a.createElement("div",{className:Vr.a.subredditTitle},c.a.createElement(Qe.c,null,"Top posts in "),c.a.createElement(lt.a,{className:Vr.a.subredditLink,onMouseDown:this.trackTitleSubredditClicked,to:i.url},m)),c.a.createElement(Mr.a,{className:Vr.a.posts,listingKey:n,listingName:p||"",onPostClick:this.trackPostClicked,onPostVisible:this.trackPostViewed},c.a.createElement("div",{className:Vr.a.ad},t)),c.a.createElement(ht,{className:Vr.a.footer,onClick:this.onFooterClick,shouldDisplaySeeMore:!0,shouldNavigateToHome:l,subredditOrProfile:i}))}})),zr=s("./src/reddit/components/ProfileIdCard/index.tsx"),Kr=s("./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx"),Gr=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};var qr=Object(d.b)((e,{postId:t,commentsPageKey:s})=>({canShowAd:Object(_e.a)(e,{postId:t})&&!Object(le.A)(e),waitForProgrammatic:Object(Tt.d)(e,{commentsPageKey:s})}))(e=>{var t=e.canShowAd,s=(e.postId,e.commentsPageKey,Gr(e,["canShowAd","postId","commentsPageKey"]));return t?c.a.createElement(Kr.a,Object.assign({},s)):null}),Jr=s("./src/reddit/components/SidebarFooter/index.tsx"),Yr=s("./src/reddit/components/SidebarSpacer/index.tsx"),Qr=s("./src/reddit/components/SidebarStickyBottom/index.tsx"),Xr=s("./src/reddit/components/Widgets/AdRules/index.m.less"),Zr=s.n(Xr);const $r=y.a.div("Rule",Zr.a),ea=y.a.div("RuleIndex",Zr.a),ta=y.a.div("RuleTitle",Zr.a),sa=["Keep language civil","Comments must be relevant to the Promoted Post and contribute to discussion","Comments can offer feedback or criticism, but personal or other attacks on the advertiser or its products may be removed","No impersonating or masquerading as celebrities, brands, or other users. To verify yourself in a Promoted Post's thread, message the user promoting the post"];var na=e=>c.a.createElement(Rr.a,{className:e.className,title:Object(h.c)("Rules for Reddit Ads"),redditStyle:!0},sa.map((e,t)=>c.a.createElement($r,{key:t},c.a.createElement(ea,null,t+1,"."),c.a.createElement(ta,null,Object(h.c)(e))))),oa=s("./src/reddit/components/Widgets/ConnectedAccounts/index.tsx"),ra=s("./src/reddit/components/Widgets/Widget/index.tsx"),aa=s("./src/reddit/featureFlags/component.tsx"),ia=s("./src/reddit/helpers/createBannerProperties/index.ts"),ca=s("./src/reddit/components/CommentsPageSidebar/index.m.less"),da=s.n(ca);const la=Object(aa.a)("spPoints",_r.a),ma=Object(aa.a)("spLeaderboard",Nr),pa=Object(m.c)({isLoggedIn:le.L,m2mHomeRedirectVariant:rt.f,postSEOV2IdCardVariant:at.k,shouldShowHomeUpsell:it.B,widgets:Object(Tr.a)(Ar.z)});var ua=Object(d.b)(pa)(class extends c.a.Component{constructor(e){super(e),this.isHomeUpsellVisible=(()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell),this.getSubredditOrProfileNameIdentifier=Object(Sr.a)((e,t)=>({name:e,type:t})),this.state={isMounted:!1,shouldShowHomeUpsell:e.shouldShowHomeUpsell}}componentDidMount(){this.setState({isMounted:!0})}shouldComponentUpdate(e,t){return this.props.subredditName!==e.subredditName||!Qt()(this.props.widgets,e.widgets)}renderFooter(e){var t=this.props;const s=t.commentsPageKey,n=t.isOverlay,o=t.subredditName,r=t.post,a=t.postSEOV2IdCardVariant,i=!Object(at.c)(a)&&!Object(at.e)(a);return n?c.a.createElement(c.a.Fragment,null,c.a.createElement(qr,{postId:r.id,isOverlay:n,listingName:o,placement:O.c.BELOW_THE_FOLD,placementIndex:e,position:ia.a.BOTTOM,refreshKey:r.id,sizes:O.m,commentsPageKey:s}),c.a.createElement(Jr.a,null)):c.a.createElement(Qr.a,{adComponent:i?c.a.createElement(qr,{postId:r.id,isOverlay:n,listingName:o,placement:O.c.BELOW_THE_FOLD,placementIndex:e,position:ia.a.BOTTOM,refreshKey:r.id,sizes:O.m,commentsPageKey:s}):null})}render(){var e=this.props;const t=e.className,s=e.commentsPageKey,n=e.isLoggedIn,o=e.isOverlay,r=e.m2mHomeRedirectVariant,a=e.post,i=e.postSEOV2IdCardVariant,d=e.subredditId,l=e.subredditName,m=e.widgets;let p=0;const u=Object(at.c)(i)||Object(at.e)(i),h=Object(J.j)(a)&&Object(rt.e)(r),b=this.isHomeUpsellVisible(),g=c.a.createElement(qr,{postId:a.id,redditStyle:b,isOverlay:o,listingName:l,placement:O.c.ABOVE_THE_FOLD,placementIndex:p++,position:ia.a.FIRST,refreshKey:a.id,sizes:O.h,commentsPageKey:s});return c.a.createElement("div",{className:Object(C.a)(da.a.outerWrapper,t)},Object(J.h)(a)?c.a.createElement(zr.a,{profileName:l,isOverlay:o||!1}):c.a.createElement(Lr.e,{commentsPageKey:s,isCommentsPage:!0,isOverlay:o,listingName:l,postId:a.id,rememberPosition:a.numComments>0,isMinimal:u}),h&&c.a.createElement(Yr.a,null,c.a.createElement(Ur,{"data-redditstyle":b,isOverlay:o,subredditName:l},c.a.createElement("div",{className:da.a.inFeedAd},g))),c.a.createElement(kr.a,{className:da.a.communityTipJar,subredditId:d}),c.a.createElement(oa.a,{subredditOrProfile:this.getSubredditOrProfileNameIdentifier(l,a.belongsTo.type)}),c.a.createElement(la,{className:da.a.communityTokens,subredditId:d,uniqueId:a.id}),c.a.createElement(ma,{className:da.a.leaderboard,subredditId:d,uniqueId:a.id}),!h&&g,n&&m.map((e,t)=>c.a.createElement(Yr.a,{key:`widgetSpacer${t}`},c.a.createElement(ra.a,{subredditName:l,widget:e}))),a.isSponsored&&c.a.createElement(Yr.a,null,c.a.createElement(na,null)),this.renderFooter(p++))}}),ha=s("./src/reddit/components/CommentsWrapper/index.m.less"),ba=s.n(ha);const ga=Object(m.c)({m2mHomeRedirectVariant:rt.f,postSEOVariant:at.m,postSEOV2TruncatedVariant:at.l,shouldShowHomeUpsell:it.A}),xa=Object(d.b)(ga),va=e=>{return Object(at.i)(e.postSEOV2TruncatedVariant)||Object(at.g)(e.postSEOV2TruncatedVariant)?"500px":Object(at.h)(e.postSEOVariant)?"1000px":e.shouldShowHomeUpsell?"1000px":void 0};var Ca=Object(ct.a)(xa(class extends c.a.Component{constructor(e){super(e),this.isHomeUpsellVisible=(()=>this.props.isOverlay?this.state.shouldShowHomeUpsell:this.props.shouldShowHomeUpsell),this.state={shouldShowHomeUpsell:e.shouldShowHomeUpsell}}render(){const e=this.isHomeUpsellVisible(),t=!(!this.props.subredditOrProfile||Object(St.c)(this.props.subredditOrProfile)),s=Object(at.h)(this.props.postSEOVariant)||Object(at.g)(this.props.postSEOV2TruncatedVariant)||Object(at.i)(this.props.postSEOV2TruncatedVariant)&&Object(at.d)(this.props.postSEOVariant),n=!Object(rt.e)(this.props.m2mHomeRedirectVariant)&&(s||e),o=this.props.isCommentsListTruncated&&(!this.props.isOverlay||e)&&this.props.numberOfComments>=3&&t&&n,r=o&&!this.props.apiPending,a=o?ba.a.TruncatedComments:"";return c.a.createElement("div",{onClick:this.props.onClick,ref:this.props.innerRef},c.a.createElement("div",{className:Object(C.a)(ba.a.ContentWrapper,this.props.className,a),style:{"--commentswrapper-gradient-color":Object(mt.a)(this.props).body,maxHeight:o?va(Object.assign({},this.props,{shouldShowHomeUpsell:e,shouldTruncateComments:o})):"unset"}},this.props.children),r&&c.a.createElement(Ye.i,{className:ba.a.MoreCommentsButton,onClick:this.props.handleViewAllCommentsClick},e?c.a.createElement(Qe.c,null,"Load more responses"):c.a.createElement(Qe.c,null,"View entire discussion (",c.a.createElement(Qe.b,{name:"numberOfComments"},Object($.b)(this.props.numberOfComments))," comments)")))}})),Oa=s("./src/lib/intersectionObserver/index.ts"),fa=s("./src/reddit/components/Thumbnail/index.tsx"),Ea=s("./src/reddit/controls/OverlayLink/index.tsx"),ya=s("./src/reddit/helpers/overlay/index.ts"),ja=s("./src/reddit/components/DiscoveryUnit/Layout/Posts/TinyPost/index.m.less"),Pa=s.n(ja);const wa=Object(m.c)({language:le.T,post:X.J});var Ia=Object(d.b)(wa,(e,t)=>({onClickPost:s=>{e(Object(ya.a)(s.permalink)),e((e,n)=>Br.x(n(),t.discoveryUnit,s.id))}}))(class extends c.a.Component{onClickPost(){this.props.onClickPost(this.props.post)}render(){const e=this.props;return c.a.createElement(oe.a,{className:Object(C.a)(e.className,Pa.a.container),onClick:()=>e.onClickPost(e.post),post:e.post},c.a.createElement("div",{className:Pa.a.topRow},c.a.createElement("div",{className:Pa.a.thumbnailContainer},c.a.createElement(fa.a,{className:Pa.a.thumbnail,post:e.post})),c.a.createElement(Ea.a,{to:e.post.permalink,className:Pa.a.postTitle},e.post.title)),c.a.createElement("div",{className:Pa.a.meta},c.a.createElement("div",null,Object(R.c)(e.language,"posts.points.noun",e.post.score,{count:Object($.b)(e.post.score)})),c.a.createElement(G.a,null),c.a.createElement("div",null,Object(R.c)(e.language,"posts.comments.noun",e.post.numComments,{count:Object($.b)(e.post.numComments)}))))}}),Sa=s("./src/reddit/components/SubredditIcon/index.tsx"),Ta=s("./src/reddit/components/SubscribeButton/index.tsx"),ka=s("./src/reddit/models/Theme/index.ts"),_a=s("./src/reddit/components/DiscoveryUnit/CommunityDiscoveryUnit/index.tsx"),Na=s("./src/reddit/components/DiscoveryUnit/CommunityBannerDiscoveryUnit/index.m.less"),La=s.n(Na);var Ma=Object(ct.a)(Object(_a.a)(class extends c.a.Component{constructor(){super(...arguments),this.ref=null,this.setRef=(e=>{this.ref=e})}componentDidMount(){this.props.loadData(),this.ref&&Oa.a(this.ref,e=>{e.isIntersecting&&this.props.onView(this.props.discoveryUnit)})}componentWillUnmount(){this.ref&&Oa.b(this.ref)}render(){return!!this.props.subredditAboutInfo&&!!this.props.subreddit&&c.a.createElement("div",{className:Object(C.a)(this.props.className,La.a.container),ref:this.setRef,style:{background:Object(ka.g)(Object(mt.a)(this.props).banner.backgroundColor,Object(mt.a)(this.props).banner.backgroundImage,Object(mt.a)(this.props).banner.backgroundImagePosition)}},c.a.createElement("div",{className:La.a.contentWrapper},c.a.createElement("div",{className:La.a.communityMetaContainer},c.a.createElement(lt.a,{className:La.a.linkContainer,to:this.props.subreddit.url},c.a.createElement(Sa.b,{className:La.a.subredditIcon,subredditOrProfile:this.props.subreddit}),c.a.createElement("div",{className:La.a.communityData},c.a.createElement("div",{className:La.a.communityTitle},this.props.subreddit.displayText),c.a.createElement("div",{className:La.a.metaData},`${Object($.b)(this.props.subredditAboutInfo.subscribers)} `,c.a.createElement(W.a,{msgId:"structuredStyles.widgets.id-card.subscribersText"})))),c.a.createElement(Ta.a,{identifier:{name:this.props.subredditName,type:"subreddit"},getEventFactory:e=>Object(nt.a)(e?"unsubscribe":"subscribe"),onClick:e=>e.stopPropagation()})),c.a.createElement("div",{className:La.a.moreFrom},c.a.createElement(W.a,{msgId:"comment.moreFromThisCommunity"})),c.a.createElement("div",{className:La.a.postContainer},this.props.postIds.map(e=>c.a.createElement(Ia,{discoveryUnit:this.props.discoveryUnit,key:e,postId:e})))))}})),Ra=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Fa=Object(At.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("EconomicsTopTippersPostLeaderboard").then(s.bind(null,"./src/reddit/components/Economics/FTUE/TopTippersBenefits/index.tsx")).then(e=>e.default)});const Ba=Object(m.c)({featureEnabled:ke.d.spTopTippers});var Aa=Object(d.b)(Ba)(function(e){e.featureEnabled;const t=Ra(e,["featureEnabled"]);return e.featureEnabled?c.a.createElement(Fa,Object.assign({},t)):null}),Da=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Va=Object(At.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("EconomicsTopTippersPostLeaderboard").then(s.bind(null,"./src/reddit/components/Economics/TopTippers/PostLeaderboard/index.tsx")).then(e=>e.default)});const Wa=Object(m.c)({featureEnabled:ke.d.spTopTippers});var Ha=Object(d.b)(Wa)(function(e){e.featureEnabled;const t=Da(e,["featureEnabled"]);return e.featureEnabled?c.a.createElement(Va,Object.assign({},t)):null}),Ua=s("./src/reddit/components/HeaderImage/index.tsx"),za=s("./src/reddit/components/Hovercards/helpers.ts"),Ka=s("./src/reddit/constants/colors.ts"),Ga=s("./src/reddit/icons/fonts/Archived/index.tsx"),qa=s("./src/reddit/components/InfoBanners/BannerBase/index.tsx"),Ja=s("./src/reddit/components/InfoBanners/CommentThreadArchivedBanner/index.m.less"),Ya=s.n(Ja);const Qa=c.a.createElement(Ga.a,{className:Ya.a.archivedIcon});var Xa=()=>c.a.createElement(qa.a,{className:Ya.a.bannerBase,color:Ka.a.locked,icon:Qa,subtitle:Object(h.c)("New comments cannot be posted and votes cannot be cast"),title:Object(h.c)("This thread is archived")}),Za=s("./src/reddit/components/InfoBanners/CommentThreadLockedBanner/index.m.less"),$a=s.n(Za);const ei=c.a.createElement(e=>c.a.createElement("svg",{className:e.className,id:e.id,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M16,9H15V7A5,5,0,0,0,5,7V9H4a1,1,0,0,0-1,1v7a1,1,0,0,0,1,1H16a1,1,0,0,0,1-1V10A1,1,0,0,0,16,9ZM7,7a3,3,0,0,1,6,0V9H7Z"})),{className:$a.a.lockIcon});var ti=e=>{const t=e.subredditName,s=e.language,n=t?"comment.threadLocked.title":"comment.threadLocked.simpleTitle";return c.a.createElement(qa.a,{className:$a.a.bannerBase,color:Ka.a.locked,icon:ei,subtitle:Object(h.c)("New comments cannot be posted"),title:Object(R.a)(s,n,{subredditName:t})})},si=s("./src/reddit/components/InfoBanners/ContestModeEnabledBanner/index.m.less"),ni=s.n(si);const oi=y.a.wrapped(e=>c.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40"},c.a.createElement("g",null,c.a.createElement("path",{d:"M32,7.8l0.5-5.3h-25L8,7.8c-3.2,0.8-5.5,3.7-5.5,7.2v0.1c0,4,3.1,7.2,7,7.4l0,0c0.3,2.8,2.7,5,5.5,5h0.1\n        c1.3,0,2.4,1.1,2.4,2.4v0.1c0,1.3-1.1,2.4-2.4,2.4H15c-2.7,0-4.9,2.2-4.9,4.9v0.1h20v-0.1c0-2.7-2.2-4.9-4.9-4.9h-0.1\n        c-1.3,0-2.4-1.1-2.4-2.4v-0.1c0-1.3,1.1-2.4,2.4-2.4H25c2.8,0,5.2-2.2,5.5-5l0,0c3.9-0.2,7-3.4,7-7.4v-0.1\n        C37.5,11.5,35.2,8.6,32,7.8z M4.5,15.1v-0.1c0-2.4,1.6-4.4,3.7-5.1l1.1,10.7C6.6,20.1,4.5,17.9,4.5,15.1z M35.5,15.1\n        c0,2.8-2.1,5.1-4.8,5.4l1.1-10.7c2.2,0.7,3.7,2.8,3.7,5.1V15.1z"}))),"TrophyIcon",ni.a);var ri=Object(ct.a)(e=>{const t=e.hasModeratorPostPermissions,s=e.theme,n=t?Object(h.c)("Comments are in random ordering and vote scores are hidden to non-mods"):Object(h.c)("Comments are in random ordering and vote scores are hidden");return c.a.createElement(qa.a,{className:ni.a.contestModeEnabled,color:s&&s.newCommunityTheme.linkText,icon:c.a.createElement(oi,null),subtitle:n,title:Object(h.c)("This post has contest mode enabled")})}),ai=s("./src/reddit/components/InfoBanners/QuarantinedSubredditBanner/index.tsx"),ii=s("./src/reddit/components/PostContent/index.tsx"),ci=s("./src/reddit/components/PostTopMeta/index.tsx"),di=s("./src/reddit/components/SubredditNav/index.tsx"),li=s("./src/reddit/helpers/getSubredditErrorProps/index.ts"),mi=s("./src/reddit/helpers/getSubredditUrl/index.ts"),pi=s("./src/reddit/helpers/history/index.ts"),ui=s("./src/reddit/layout/page/Lightbox/index.m.less"),hi=s.n(ui);const bi=e=>c.a.createElement("div",{tabIndex:e.tabIndex,ref:e.innerRef,className:Object(C.a)(hi.a.lightboxContainer,{[hi.a.mIsCollectionLayout]:e.isCollectionLayout,[hi.a.fakeOverlayContainer]:e.isFakeOverlay&&!e.isCollectionLayout})},e.children),gi=e=>c.a.createElement("div",{className:Object(C.a)(hi.a.lightboxContent,{[hi.a.mNotCollectionLayout]:!e.isCollectionLayout,[hi.a.mIsFakeOverlay]:e.isFakeOverlay,[hi.a.fakeOverlayContent]:e.isFakeOverlay&&!e.isCollectionLayout})},e.children),xi=e=>c.a.createElement("div",{className:Object(C.a)(hi.a.lightboxSidebar,{[hi.a.mIsFakeOverlay]:e.isFakeOverlay,[hi.a.mIsCollectionLayout]:e.isCollectionLayout})},e.children);var vi=class extends c.a.PureComponent{constructor(){super(...arguments),this.container=null,this.setContainerRef=(e=>{this.container=e,this.props.containerRef&&this.props.containerRef(e)})}render(){var e=this.props;const t=e.content,s=e.contentBanner,n=e.isCollectionLayout,o=e.isFakeOverlay,r=e.sidebar;return c.a.createElement(bi,{innerRef:this.setContainerRef,isCollectionLayout:n,isFakeOverlay:o,tabIndex:-1},c.a.createElement(gi,{isCollectionLayout:n,isFakeOverlay:o,redditStyle:!0},s,t),r&&c.a.createElement(xi,{isCollectionLayout:n,isFakeOverlay:o},r))}},Ci=s("./src/reddit/components/AlertBanner/heights.ts"),Oi=s("./src/reddit/components/AppRouter/index.tsx"),fi=s("./src/reddit/components/LightboxHeader/index.tsx"),Ei=s("./src/reddit/selectors/experiments/m2mV1-5.ts"),yi=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const ji=Object(d.b)(()=>Object(m.c)({isM2MTopBannerVariant:e=>Object(Ei.e)(Object(Ei.f)(e))||Object(rt.c)(e),showAccountCompletenessBanner:e=>{const t=Object(rt.c)(e),s=Object(Ei.f)(e);return!(!t&&!s)&&!!Object(it.l)(e)&&(t||Object(Ei.e)(s)||Object(Ei.a)(s)||Object(Ei.b)(s)&&!Object(it.a)(e))},showFPR:le.J,showSuspended:le.P})),Pi=Object(ct.a)(e=>{var t=e.className,s=e.isCollectionLayout,n=e.theme,o=yi(e,["className","isCollectionLayout","theme"]);const r=Object(mt.a)(Object.assign({theme:n},o));return c.a.createElement("div",Object.assign({className:Object(C.a)(hi.a.fakeOverlay,t),style:{"--fakelightbox-overlay-background":Object(ka.g)(r.canvas,r.canvasImgUrl,r.canvasImgPosition),"--fakelightbox-overlay-max-width":s?`${U.i}px`:`${U.j}px`}},o))});var wi=ji(e=>{const t=e.isM2MTopBannerVariant&&e.showAccountCompletenessBanner;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pi,{isCollectionLayout:!e.isCollectionLayout,onClick:e.handleFakeLightboxOverlayClick}),c.a.createElement(Oi.a,{className:Object(C.a)(hi.a.fakeOverlayLightboxHeaderWrapper,{[hi.a.narrow]:!e.isCollectionLayout},Object(Ci.b)(hi.a,Object.assign({},e,{showM2MTopBanner:t})))},c.a.createElement(fi.a,{post:e.post,onCloseClick:e.handleFakeLightboxClick})),c.a.createElement(vi,Object.assign({},e)))}),Ii=s("./src/reddit/layout/page/Listing/index.tsx"),Si=s("./src/reddit/models/MonthsToMinutes/index.ts"),Ti=s("./src/reddit/selectors/listings.ts"),ki=s("./src/reddit/pages/CommentsPage/OtherDiscussions/index.m.less"),_i=s.n(ki);const Ni=y.a.div("Container",_i.a);var Li=Object(d.b)(()=>Object(m.c)({apiError:(e,{postId:t})=>Object(Ti.c)(e,{listingKey:Object(P.a)(t,null,{isOtherDiscussions:!0})}),apiPending:(e,{postId:t})=>Object(Ti.d)(e,{listingKey:Object(P.a)(t,null,{isOtherDiscussions:!0})}),otherDiscussionsCount:X.z}))(e=>{const t=e.apiError,s=e.apiPending,n=e.commentSort,o=e.language,r=e.postId,a=Object(P.a)(r,null,{isOtherDiscussions:!0});return c.a.createElement(Ni,null,t&&c.a.createElement(ao.e,{apiError:t,commentId:null,language:o,postId:r,sort:n}),s&&!t&&c.a.createElement(ao.f,null),!s&&!t&&c.a.createElement(qe.a,{enableElementHiding:!1,forcedLayout:st.f.Compact,listingKey:a,listingName:tt.d.OtherDiscussions,listingViewed:(e,t)=>Object(ot.d)(a,n,t,e),noPostsComponent:()=>c.a.createElement(ao.b,null),inSubredditOrProfile:!1,preventScrollOnMount:!0}))}),Mi=s("./src/reddit/pages/CommentsPage/withPageSorting.tsx"),Ri=s("./src/reddit/pages/CommentsPage/index.m.less"),Fi=s.n(Ri);s.d(t,"CommentsPage",function(){return Gi});var Bi=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};const Ai=y.a.wrapped(b.a,"ArrowLeft",Fi.a),Di=y.a.span("HoverSpan",Fi.a),Vi=y.a.div("ViewParentCommentsContainer",Fi.a),Wi=({condition:e,wrap:t,children:s})=>e?t(s):s,Hi=80,Ui=200,zi=80,Ki=32;const Gi=Object(K.w)()(Object(d.b)(()=>Object(m.c)({apiError:Tt.c,apiPending:Tt.d,canCommentAsModerator:(e,{postId:t})=>{const s=Object(X.U)(e,{postId:t});return!!(s&&s.id&&e.moderatingSubreddits[s.id])},canTriggerACBanner:it.m,comment:Tt.o,communityBannerDiscoveryUnit:_t.c,contentGateInfo:(e,{subredditName:t})=>Object(le.f)(e,t),contestModeIsEnabled:X.B,currentUserShowNSFW:le.Y,fullyLoaded:Tt.v,hasModeratorPostPermissions:Rt.b,headComment:Tt.y,isChatPost:Nt.b,isCommentsListTruncated:kt,isLoggedIn:le.L,isNightmodeOn:le.V,isTooltipOpen:(e,t)=>!!Object(Bt.a)(e),language:le.T,m2mHomeRedirectVariant:rt.f,m2mIsEnabled:it.y,origin:Mt.f,post:Tt.F,postCleanupVariant:Lt.e,postSEOVariant:at.m,postSEOV2IdCardVariant:at.k,profileCollectionsEnabled:Pt.a,subredditOrProfile:X.U,userHovercardIsOpen:(e,t)=>Object(Bt.b)(Object(za.b)({itemId:t.postId,tooltipIdPrefix:He.a,tooltipType:ci.c.StickyPost}))(e),userPrefs:le.lb}),(e,t)=>({expandCommentsList:()=>e(k()),setCommentFocus:t=>e(I.N({commentListNodeId:t})),fullyLoadComments:()=>e(Object(L.B)(t.postId,void 0,{subredditName:t.subredditName})),onHideTooltip:()=>e(Object(M.f)()),onToggleTooltip:t=>e(Object(M.e)({tooltipId:t})),openLoginModal:()=>e(Object(_.a)()),openRegisterModal:()=>e(Object(_.b)()),showACBanner:()=>e(N.b(Si.a.BannerVisible)),goToSubredditPage:t=>e(Object(l.b)(t)),sendChatPostExposureEvent:(t,s)=>e((e,n)=>Object(Nt.c)(n(),t,s))}))(Object(V.b)(class extends c.a.Component{constructor(e){super(e),this.collectionPostWrapperRef=null,this.didRenderLoading=!1,this.needsUpdatedMeasurements=!0,this.scrollY=null,this.recheckScrollTimer=-1,this.postPaused=!0,this.setPostScrollItemRef=(e=>{this.postScrollItemRef=e,setTimeout(this.handleScroll)}),this.handleScroll=a()(()=>{if(!this.scrollContainerEl)return;this.needsUpdatedMeasurements&&this.updateMeasurements();const e=this.didScrollPastPost,t=this.scrollContainerEl,s=this.scrollPostThreshold;var n=this.props;const o=n.userHovercardIsOpen,r=n.onToggleTooltip,a=n.post,i=n.postId;clearTimeout(this.recheckScrollTimer),this.recheckScrollTimer=-1;const c=t===window?t.scrollY:t?t.scrollTop:0,d=null!==this.scrollY&&Math.abs(c-this.scrollY)>Hi,l=a&&a.media&&a.media.type===It.o.EMBED?a.media.provider:null,m=a&&a.media&&It.d.has(a.media.type)&&(!l||!It.r.has(l));this.scrollY=c,!e&&void 0!==s&&c>=s&&(this.didScrollPastPost=!0,this.props.canTriggerACBanner&&this.props.showACBanner()),e&&void 0!==s&&c<s&&(this.didScrollPastPost=!1,o&&E.a.write(()=>{r(Object(za.b)({itemId:i,tooltipIdPrefix:He.a,tooltipType:ci.c.StickyPost}))})),m&&this.postScrollItemRef&&(this.postPaused||!d&&!this.didScrollPastPost?this.postPaused&&!this.didScrollPastPost&&(d?this.recheckScrollTimer=setTimeout(this.handleScroll,4*O.H):(this.postPaused=!1,E.a.write(this.postScrollItemRef.focusContent))):(this.postPaused=!0,E.a.write(this.postScrollItemRef.pauseContent)))},O.H),this.sendEventWithName=(e=>()=>this.props.sendEvent(Object(nt.c)(this.props.postId,e))),this.updateWindowHeight=(()=>{this.needsUpdatedMeasurements=!0,this.handleScroll()}),this.updateCommentSortRef=(e=>{this.commentSortRef=e,this.needsUpdatedMeasurements=!0}),this.updateCommentFormRef=(e=>{this.commentFormRef=e,this.needsUpdatedMeasurements=!0}),this.updateCollPostWrapperRef=(e=>{this.collectionPostWrapperRef=e}),this.handleViewAllCommentsClick=(()=>{this.props.expandCommentsList(),this.sendEventWithName("view_all_comments")()}),this.handleFakeLightboxClick=(()=>{const e=Object(mi.a)(this.props.subredditOrProfile);this.props.goToSubredditPage(e)}),this.handleFakeLightboxOverlayClick=(()=>{this.handleFakeLightboxClick(),this.sendEventWithName("post__click__overlay")()}),this.handleContentClick=(()=>{this.props.isCommentsListTruncated&&this.props.expandCommentsList()}),this.handleFindKeyPress=(e=>{const t=e.key===ft.b.F||e.keyCode===ft.a.F,s=e.ctrlKey||e.metaKey;t&&s&&this.props.expandCommentsList()}),this.setLayoutRef=(e=>{this.setState({layoutRef:e})}),this.didScrollPastPost=e.shouldScrollToComments&&!!e.post&&!!e.post.numComments,this.state={layoutRef:null}}componentWillMount(){var e=this.props;const t=e.commentId,s=e.setCommentFocus;t&&s(t)}componentDidMount(){const e=this.commentFormRef,t=this.commentSortRef;var s=this.props;const n=s.isLoggedIn,o=s.isOverlay,r=s.post,a=s.shouldScrollToComments;o?(this.scrollContainerEl=document.getElementById(z.d),a&&(e||t)&&r&&r.numComments?this.scrollToComments():E.a.write(()=>{setTimeout(()=>{Object(f.c)(this.scrollContainerEl,0)})})):this.scrollContainerEl=window,this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),E.a.read(()=>{this.props.isOverlay||Object(w.d)(w.c.CommentsPage,n)}),this.sendChatPostExposureEvent()}componentWillReceiveProps(e){e.postId!==this.props.postId&&(this.didRenderLoading=!1),e.commentId&&e.commentId!==this.props.commentId&&this.props.setCommentFocus(e.commentId)}componentWillUpdate(e){this.removeListeners(e)}componentDidUpdate(e){if(this.needsUpdatedMeasurements=!0,this.addListeners(),this.checkAndSendScreenview(),e.postId!==this.props.postId){const e=this.props.post&&Object(q.a)(this.props.post);this.props.post&&this.props.post.numComments?E.a.read(this.handleScroll):E.a.write(()=>{e||Object(f.c)(this.scrollContainerEl,0),E.a.read(this.handleScroll)}),this.props.isOverlay&&!e&&E.a.write(()=>{setTimeout(()=>{Object(f.c)(this.scrollContainerEl,0)})});const t=this.collectionPostWrapperRef;if(e&&t){const e=U.c+(this.props.isOverlay?U.p:0),s=t.getBoundingClientRect().top;let n;const o=(n=this.props.isOverlay?document.getElementById(z.d):document.getElementsByTagName("body")[0])&&n.getBoundingClientRect().top,r=Math.abs(o-s),a=this.props.isOverlay?Ki:r-e;(this.props.isOverlay?n&&n.scrollTop||0:window.pageYOffset)>=a&&E.a.write(()=>{setTimeout(()=>{this.props.isOverlay?Object(f.c)(n,a):Object(f.c)(document,a)})})}}}componentWillUnmount(){this.removeListeners(),this.needsUpdatedMeasurements=!1,this.scrollContainerEl=void 0}updateMeasurements(){this.needsUpdatedMeasurements=!1,this.windowHeight=window.innerHeight,this.commentFormRef?this.scrollPostThreshold=this.commentFormRef.offsetTop:this.commentSortRef?this.scrollPostThreshold=this.commentSortRef.offsetTop:this.scrollPostThreshold=Ui}addListeners(){this.props.isOverlay&&window.addEventListener("resize",this.updateWindowHeight),this.props.isCommentsListTruncated&&window.addEventListener("keydown",this.handleFindKeyPress),this.scrollContainerEl&&this.scrollContainerEl.addEventListener("scroll",this.handleScroll)}removeListeners(e){this.props.isOverlay&&window.removeEventListener("resize",this.updateWindowHeight),e&&this.props.isCommentsListTruncated!==e.isCommentsListTruncated&&window.removeEventListener("keydown",this.handleFindKeyPress),this.scrollContainerEl&&this.scrollContainerEl.removeEventListener("scroll",this.handleScroll)}scrollToComments(){E.a.read(()=>{const e=document.getElementById(z.d);if(e){let t,s;this.commentFormRef?(t=this.commentFormRef.offsetTop-zi,s=this.commentFormRef.offsetParent):this.commentSortRef?(t=this.commentSortRef.offsetTop-zi,s=this.commentSortRef.offsetParent):t=0,s&&(t+=s.offsetTop),E.a.write(()=>{Object(f.c)(e,t),this.needsUpdatedMeasurements=!0,setTimeout(()=>E.a.read(this.handleScroll))})}})}shouldSendScreenview(){var e=this.props;const t=e.apiError,s=e.apiPending,n=e.commentsPageKey;return x.c.has(n)&&(t||!s||this.listLongEnoughForScreenView())}listLongEnoughForScreenView(){return!!this.commentSortRef&&this.commentSortRef.getBoundingClientRect().bottom>window.innerHeight}checkAndSendScreenview(){E.a.read(()=>{var e=this.props;const t=e.commentId,s=e.commentsPageKey,n=e.postId,o=e.sendEvent,r=e.sort;if(!this.shouldSendScreenview())return;const a=x.c.end(s);o(Object(ot.b)(s,n,t,v.TimerType.InApp,a,r))})}sendChatPostExposureEvent(){var e=this.props;const t=e.sendChatPostExposureEvent,s=e.hasModeratorPostPermissions;t(e.isChatPost,s)}isCommentPermalink(){return void 0!==this.props.commentId}renderPageError(){var e=this.props;const t=e.contentGateInfo,s=e.currentUserShowNSFW,n=e.isOverlay,o=e.post,r=e.subredditName,a=!(!o||!o.isNSFW||s),i=Object(li.a)(t,a,r);if(!i)return null;let d=c.a.createElement(We.b,Object.assign({},i));return n&&(d=c.a.createElement(vi,{content:d})),d}render(){var e=this.props;const t=e.apiError,s=e.apiPending,n=e.closeLocation,o=e.commentsPageKey,r=e.isNightmodeOn,a=e.isLoggedIn,i=e.isOverlay,d=e.language,l=e.post,m=e.postCleanupVariant,p=e.postId,u=e.postSEOVariant,h=e.postSEOV2IdCardVariant,b=e.sendEvent,g=e.subredditName,x=e.subredditOrProfile,v=e.profileCollectionsEnabled,f=Object(at.f)(u),E=Object(at.e)(h),y=f||E;if(!l){if(s)return c.a.createElement(ao.f,null);const e=this.renderPageError();return e||(t?c.a.createElement(ao.d,null):c.a.createElement(ao.f,null))}{const e=this.renderPageError();if(e)return e}const j=this.isCommentPermalink(),w=l.belongsTo.type===Et.a.PROFILE,I=Object(q.a)(l)&&(!w||v),S=!a;return c.a.createElement(Ji,{closeLocation:n,commentsPageKey:o,containerRef:this.setLayoutRef,handleFakeLightboxClick:this.handleFakeLightboxClick,handleFakeLightboxOverlayClick:this.handleFakeLightboxOverlayClick,isLoggedIn:a,isOverlay:i,isSwapVariant:y,post:l,subredditOrProfile:x,shouldFitPageToContent:S,isCollectionLayout:I},x&&x.isQuarantined&&c.a.createElement(ai.a,{subredditName:x.name}),c.a.createElement("div",{className:Object(C.a)(Fi.a.PageContentWrapper,{[Fi.a.LargePageContent]:I}),key:"PostContentWrapper"},I&&c.a.createElement(we,{isOverlay:i,language:d,isNightmodeOn:r,postId:p}),c.a.createElement(Wi,{condition:I,wrap:e=>c.a.createElement("div",{ref:this.updateCollPostWrapperRef,className:Fi.a.CollectionBodyWrapper},e)},c.a.createElement(ii.a,{isCommentPermalink:j,isExclusivePost:!0,isOverlay:i,postCleanupVariant:m,postId:p,redditStyle:i,scrollerItemRef:this.setPostScrollItemRef,sendEvent:b}),x&&c.a.createElement(Ha,{className:Fi.a.TopTippers,contentId:p,creatorId:l.authorId,subredditId:x.id}),x&&c.a.createElement(Aa,{className:Fi.a.TopTippersBenefits,contentId:p,creatorId:l.authorId,subredditId:x.id}),c.a.createElement(Ve,{listingName:g||"",isOverlay:i,placement:O.c.ABOVE_THE_FOLD,postId:p}),this.renderCommentPanes())),Object(at.a)(u)&&x&&!i&&c.a.createElement(Ma,{discoveryUnit:this.props.communityBannerDiscoveryUnit,listingKey:Object(P.a)(x.name,O.P.TOP,{t:O.Pb.WEEK}),onPostView:(e,t)=>this.props.sendEvent(s=>Br.v(s,e,t)),onView:e=>this.props.sendEvent(t=>Object.assign({},Br.u(t,e),{post:Ft.currentPost(t)})),subredditName:x.name}),x&&!Object(St.c)(x)&&c.a.createElement(Ct,Object.assign({},this.props,{contentContainerRef:this.state.layoutRef,subredditOrProfile:x})))}renderCommentPanes(){var e=this.props;const t=e.apiError,s=e.apiPending,n=e.canCommentAsModerator,o=e.commentId,r=e.commentsPageKey,a=e.contestModeIsEnabled,i=e.fullyLoaded,d=e.hasModeratorPostPermissions,l=e.headComment,m=e.isChatPost,b=e.isLoggedIn,x=e.isOverlay,v=e.language,O=e.location,f=e.onOtherDiscussions,E=e.openLoginModal,y=e.openRegisterModal,P=e.origin,w=e.post,S=e.postId,T=e.sendEvent,k=e.sort,_=e.subredditOrProfile,N=e.subredditName;if(!w)return null;const L=this.isCommentPermalink(),M=[],R=w.isLocked&&!n,F=!L&&!w.isArchived;if(R)M.push(c.a.createElement(ti,{key:"commentThreadBanner",subredditName:N,language:v}));else if(w.isArchived)M.push(c.a.createElement(Xa,{key:"commentThreadBanner"}));else if(F&&!m&&!f)if(b){const e=Object(j.a)(g.c.replyToPost,S);M.push(c.a.createElement(qt,{autofocus:!1,isTopLevelComment:!0,depth:0,draftKey:e,draftType:g.c.replyToPost,editorElementRef:this.updateCommentFormRef,key:"form"+e,parentCommentId:"replyToPost",submitAction:(t,s)=>{var n=t.validate,o=Bi(t,["validate"]);return n?I.vb(v,S,r,e,o,s):I.nb(v,S,r,e,o,s)},submitButtonText:Object(h.c)("comment")}))}else M.push(c.a.createElement(Jt.a,{key:"loggedOutCommentForm",language:v,location:O,openLoginModal:E,openRegisterModal:y,origin:P}));return a&&M.push(c.a.createElement(ri,{hasModeratorPostPermissions:d,key:"contestModeBanner"})),!m&&M.push(c.a.createElement(Ir,{commentId:o,elementRef:this.updateCommentSortRef,isOverlay:x,key:"commentSort",location:O,onOtherDiscussions:f,postId:S,sort:k,suggestedSort:w.suggestedSort})),!s||l||m||f?!t||l||f?f?M.push(c.a.createElement(Li,{language:v,postId:S,commentSort:k})):m?_&&_.id&&M.push(c.a.createElement(yo.default,{commentId:o,commentsPageKey:r,isLoading:s&&!l||!i&&s,key:"commentsChat",postId:S,renderedInOverlay:x,subredditId:_.id},({scrollToBottom:e})=>b?c.a.createElement(jo.a,{key:"chatCommentsForm",language:v,postId:S,draftKey:Object(j.a)(g.c.replyToPost,S),commentsPageKey:r,isEditing:!1,scrollToBottom:e,sendEvent:T}):c.a.createElement(Jt.a,{key:"loggedOutCommentForm",className:Fi.a.ChatLoggedOutForm,language:v,location:O,openLoginModal:E,openRegisterModal:y,origin:P}))):(M.push(c.a.createElement("div",{className:Object(C.a)(Fi.a.CommentsPaneWrapper,{[Fi.a.mIsInOverlay]:x}),key:"commentsPaneWrapper"},L&&l&&null!==l.parentId&&c.a.createElement(Vi,null,c.a.createElement(p.a,{className:Fi.a.linkOrOverlay,isOverlay:x,to:Object(u.b)(l.permalink+"?context=8&depth=9")},c.a.createElement(Ai,null)," ",c.a.createElement(Di,null,c.a.createElement(Qe.c,null,"Show parent comments")))),c.a.createElement(Ca,Object.assign({},this.props,{isCommentsListTruncated:this.props.isCommentsListTruncated,handleViewAllCommentsClick:this.handleViewAllCommentsClick,numberOfComments:w.numComments,onClick:this.handleContentClick}),c.a.createElement(Eo,{commentId:o,commentsPageKey:r,postId:S,renderedInOverlay:x})))),t&&l?M.push(c.a.createElement(ao.e,{key:"commentsErrorState",language:v,postId:S,commentId:o,sort:k,apiError:t})):!i&&s&&M.push(c.a.createElement(ao.a,{key:"commentsPlaceholder"}))):M.push(c.a.createElement(ao.e,{language:v,postId:S,commentId:o,sort:k,apiError:t})):(this.didRenderLoading=!0,M.push(c.a.createElement(ao.a,{key:"commentsPlaceholder"}))),c.a.createElement(jt.a.Provider,{value:this.sendEventWithName},M)}}))),qi=y.a.wrapped(ua,"DetailsPageSidebar",Fi.a),Ji=e=>{const t=e.children,s=e.commentsPageKey,n=e.containerRef,o=e.handleFakeLightboxClick,r=e.handleFakeLightboxOverlayClick,a=e.isCollectionLayout,i=e.isLoggedIn,d=e.isOverlay,l=e.isSwapVariant,m=e.post,p=e.shouldFitPageToContent,u=e.subredditOrProfile;if(!i&&!d)return c.a.createElement(wi,{containerRef:n,content:t,isCollectionLayout:a,handleFakeLightboxClick:o,handleFakeLightboxOverlayClick:r,isFakeOverlay:!0,post:m,sidebar:u&&c.a.createElement(ua,{commentsPageKey:s,isOverlay:!0,post:m,subredditName:u.name,subredditId:u.id})});if(d)return c.a.createElement(vi,{containerRef:n,content:t,isCollectionLayout:a,sidebar:u&&c.a.createElement(ua,{commentsPageKey:s,isOverlay:!0,post:m,subredditName:u.name,subredditId:u.id})});const h=i||a?U.j:yt.a;return c.a.createElement(Ii.a,{containerRef:n,maxWidth:U.j,fitPageToContent:p,content:t,disableFullscreen:!0,isPageSwapped:l,isCollectionLayout:a,navBar:u&&c.a.Children.toArray([c.a.createElement(Ua.a,{disableFullscreen:!0,headerText:u.name,maxWidth:h,prefixedHeaderText:u.displayText,subredditOrProfile:u,url:u.url}),!Object(St.c)(u)&&c.a.createElement(di.a,{disableFullscreen:!0,homeUrl:u.url,maxWidth:h,subredditId:u.id})]),sidebar:u&&c.a.createElement(qi,{commentsPageKey:s,post:m,subredditName:u.name,subredditId:u.id})})};t.default=Object(Mi.a)(e=>{const t=e.location.state,s=o()(t,Ot.a.IsOverlay,!1),n=o()(t,Ot.a.CloseLocation,null),r=o()(t,Ot.a.ScrollOnLoad,!1);r&&Object(pi.c)(Ot.a.ScrollOnLoad);var a=e.match.params;const i=a.partialCommentId,d=a.partialPostId,l=a.subredditName,m=Object(J.k)(d),p=i&&Object(wt.e)(i);return c.a.createElement(Gi,{closeLocation:n,commentId:p,commentsPageKey:e.commentsPageKey,isOverlay:s,location:e.location,onOtherDiscussions:e.onOtherDiscussions,postId:m,shouldScrollToComments:r,sort:e.sort,subredditName:l})})},"./src/reddit/pages/CommentsPage/withPageSorting.tsx":function(e,t,s){"use strict";s.d(t,"a",function(){return C});var n=s("./node_modules/lodash/fromPairs.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/extractQueryParams/index.ts"),l=s("./src/lib/makeCommentsPageKey/index.ts"),m=s("./src/reddit/actions/otherDiscussions/constants.ts"),p=s("./src/reddit/helpers/getCommentsPageSort/index.ts"),u=s("./src/reddit/models/Comment/index.ts"),h=s("./src/reddit/models/Post/index.ts");const b=e=>{const t=e.match.params.partialPostId;return t&&Object(h.k)(t)},g=(e,t,s)=>{const n=b(e),r=(e=>{const t=e.match.params.partialCommentId;return t&&Object(u.e)(t)})(e),a=(e=>{const t=e.location.search;return o()([...Object(d.a)(t)])})(e),i={depth:a.depth&&parseInt(a.depth,10)||void 0,context:a.context&&parseInt(a.context,10)||void 0,hasSortParam:t,sort:s};return Object(l.a)(n,r,i)},x=Object(c.c)({commentsPageSort:(e,t)=>{const s=b(t);return Object(p.a)(e,s)}}),v=Object(i.b)(x);function C(e){return v(t=>{var s=t.commentsPageSort;const n=s.hasSortParam,o=s.sortToUse,r=g(t,n,o),i=Object(m.d)(t.match.path),c=Object.assign({},t,{commentsPageKey:r,hasSortParam:n,onOtherDiscussions:i,sort:o});return a.a.createElement(e,Object.assign({},c))})}},"./src/reddit/selectors/experiments/followPost.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"c",function(){return a}),s.d(t,"b",function(){return i});var n=s("./src/reddit/constants/experiments.ts"),o=s("./src/reddit/helpers/chooseVariant/index.ts");const r=e=>Object(o.b)(e,{experimentEligibilitySelector:o.a,experimentName:n.M}),a=e=>e===n.P.FollowPostTooltip,i=e=>e===n.P.FollowPostTooltipHover},"./src/reddit/selectors/premium.ts":function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return r}),s.d(t,"b",function(){return a});const n=e=>!!e.givePremium.givePremiumModalAccountName,o=e=>e.givePremium.givePremiumModalAccountName,r=e=>e.givePremium.api.error||"",a=e=>e.givePremium.api.pending},"./src/reddit/selectors/tracking.ts":function(e,t,s){"use strict";s.d(t,"a",function(){return n});const n=(e,{listingKey:t})=>e.tracking.viewportDataLoaded[t]}}]);
//# sourceMappingURL=CommentsPage.cbe3f2c28ab29b824d6e.js.map

}
/*
     FILE ARCHIVED ON 08:09:02 Sep 01, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 23:58:08 Feb 19, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.09
  exclusion.robots.policy: 0.08
  cdx.remote: 0.14
  esindex: 0.02
  LoadShardBlock: 134.759 (6)
  PetaboxLoader3.datanode: 156.995 (8)
  load_resource: 190.847 (2)
  PetaboxLoader3.resolve: 100.184 (2)
*/