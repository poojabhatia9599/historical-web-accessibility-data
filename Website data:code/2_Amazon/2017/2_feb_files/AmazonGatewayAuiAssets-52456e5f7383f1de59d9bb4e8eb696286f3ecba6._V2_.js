var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(function(m){var h=window.AmazonUIPageJS||window.P,t=h._namespace||h.attributeErrors,g=t?t("AmazonGatewayAuiAssets"):h;g.guardFatal?g.guardFatal(m)(g,window):g.execute(function(){m(g,window)})})(function(m,h,t){m.when("A").register("sg-jsutil",function(g){var k=g.$;return{safeCall:function(g,f){return k.isFunction(g)?g(f):f}}});m.when("A","load").execute("ah-inst-img-size",function(g){function k(a){if(!a)return null;var b=d(a).attr("src");a=d(a).data("a-hires");return b===a?null:b}function n(a){"object"===
typeof c.ue&&"function"===typeof c.ue.count&&c.ue&&c.ue.count(a,(c.ue.count(a)||0)+1)}function f(a,b){n("gw-img-size-invoke");d.ajax({type:"HEAD",async:!0,url:a,success:function(a,d,c){n("gw-img-size-success");g.trigger(b,parseInt(c.getResponseHeader("Content-Length"),10))},error:function(a,d,b){n("gw-img-size-error")}})}function e(a,b){0<a.length&&(B[b]={count:a.length,totalSize:0,images:a},d(B[b].images).each(function(a,d){var e=b+"_"+a;g.on(e,function(a){isNaN(a)||(--B[b].count,B[b].totalSize+=
a,0===B[b].count&&c.ue&&c.ue.count(b,B[b].totalSize))});f(d,e)}))}function b(a,d){var b=g.$(a);(b=0>=b.length?null:k(b[0]))&&e([b],d)}function a(a,b){b=b||a.length;var c=[];d(a.slice(0,b)).each(function(a,b){var d=k(b);if(!d)return[];c.push(d)});return c}var d=g.$,c=h,B=[];m.execute("inst-cf-img",function(){n("gw-inst-img");b(".gw-critical-content img","gw-cf-img-size")});m.when("x1").execute("inst-x1-img",function(){m.execute("inst-x1-rec-img",function(){var b=1;d("#gw-content-grid .feed-carousel .feed-carousel-shelf").slice(0,
2).each(function(c,f){if(2>=b){var g="gw-shoveler-img-size-"+b++,k=d(f).find("img");6<=k.length&&(k=a(k,6),e(k,g))}})});m.execute("inst-x1-unrec-img",function(){var d=g.$("#desktop-unrec-col-2 img"),d=a(d);e(d,"gw-dpt-img-size");b("#desktop-unrec-col-3 .image-map-before img","gw-slate-img-size");b("#desktop-unrec-sidekick #dotd-image img","gw-dotd-img-size")})})});m.when("A").register("dombinder",function(g){function k(b,a){var d=0;a=a.split(".");for(var c=a.length;d<c;d++)b=b&&b[a[d]];
return b}function n(b){return f.map(f(b).data("bind").split(","),function(a){a=a.split(":");var d=f.trim(a[0]),c=f.trim(a[1]),g=e[d];if(g)return g.init&&g.init(b,c),function(a){g.update(b,c,a)}})}var f=g.$,e={text:{update:function(b,a,d){f(b).text(k(d,a)||"")}},html:{update:function(b,a,d){f(b).html(k(d,a)||"")}},href:{update:function(b,a,d){f(b).attr("href",k(d,a)||"")}},trimText:{update:function(b,a,d){b=f(b);d=b.text();if(d.length>a){for(var c=a-4;0<=c&&0<"[.,-/#!$%^&*;:{}=-_`~()] ".indexOf(d[c]);)c--;
b.text(d.substring(0,0<=c?c+1:a-3)+"...")}}},value:{update:function(b,a,d){f(b).val(k(d,a)||"")}},visible:{update:function(b,a,d){var c=!1;"!"===a.charAt(0)&&(c=!0,a=a.substring(1));a=!!k(d,a);c!==a?f(b).show():f(b).hide()}},css:{init:function(b,a){var d=f(b),c=d.data("dombcss")||[];c[a]="";d.data("dombcss",c)},update:function(b,a,d){b=f(b);var c=b.data("dombcss"),e=c[a];d=k(d,a);e!==d&&(c[a]=d,e&&b.removeClass(e),d&&b.addClass(d))}},attr:{init:function(b,a){var d=f(b),c=d.data("dombattr")||[];c[a]=
{};d.data("dombattr",c)},update:function(b,a,d){var c=f(b);b=c.data("dombattr");var e=b[a];d=k(d,a);e!==d&&(b[a]=d,e&&f.each(e,function(a,b){c.removeAttr(a)}),d&&f.each(d,function(a,b){c.attr(a,b)}))}}};return{init:function(b){var a={$root:b,bindings:[]};b.find("[data-bind]").each(function(){f.each(n(this),function(b,c){a.bindings.push(c)})});return a},update:function(b,a){f.each(b.bindings,function(b,c){c(a)})}}});m.when("jQuery").register("gwAjax",function(g){return function(k,n){function f(b,
c,f){"object"===typeof h.ue&&"function"===typeof h.ue.count&&e(n.errorCounter||"gwAjaxError");"function"===typeof h.ueLogError&&h.ueLogError({logLevel:"WARN",attribution:"gwAjax-"+(n.id||k),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:k,"params-data":n.params||n.data}):"")});"function"===typeof a&&a(b,c,f)}function e(a){"object"===typeof h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||0)+1)}n=g.extend(!0,{},n);var b=n.success,a=n.error;n.success=function(a,
c,e){a.error?f(a,c,e):"function"===typeof b&&b(a,c,e)};n.error=f;n.data=n.params?n.params:n.data;e("gwAjaxCall");n.ajaxCounter&&e(n.ajaxCounter);return g.ajax(k,n)}});m.when("jQuery","gw-hud-punt").execute("gw-hud-sidekick",function(g){g("#gw-hud-grid").css({display:"none"})});m.when("A","sg-jsutil","a-modal","gw-productdb","productdb-binding-helper","sg-media-builder","gw-sims","gw-popover-data").register("gw-popover",function(g,k,n,f,e,b,a,d){function c(a,b){h.uet&&h.uet(a,
b,{wb:1})}function B(a){if(h.ue&&"function"===typeof h.ue.count)return h.ue.count(a)||0}function z(a){h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||0)+1)}function l(a){return a.closest("*[data-sgproduct]").data("sgproduct")}function x(a,b){u[a.asin]&&u[a.asin].isResolved()?y.resetSimData():(u[a.asin]=p.Deferred(),a&&a.asin&&b?y.fetch(a,b,u[a.asin]):u[a.asin].reject())}var p=g.$,r={},u={};if(!p("html").hasClass("a-touch")){k=p('<span style="display: none" />').appendTo("body");
var v=p("#gw-popover-wrapper"),q=new e(f,v),w=n.create(k,{name:"gw-asin-popover",width:"90%","max-width":900,height:590,popoverLabel:d.popoverLabel,closeButton:!1}),y=new a(q),A=p("#gw-quick-look-btn");p("#a-page").delegate("li[data-sgproduct]","mouseenter",function(a){p(a.currentTarget).append(A);p(a.currentTarget).find("[title]").removeAttr("title");A.addClass("active")});A.mouseenter(function(){var a=p(this),b=l(a),a=a.siblings().children("a").attr("href");x(b,a)});p(".bestsellers .listRow a").mouseenter(function(){var a=
p(this),b=l(a),a=a.attr("href");x(b,a);!b||!b.asin||r[b.asin]&&r[b.asin].isResolved()||!(a=f.get(b.asin))||(r[b.asin]=p.Deferred(),r[b.asin].resolve(a))});m.when("gwAjax").execute(function(a){var b={};p("#a-page").delegate(".fresh-shoveler li[data-sgproduct]","mouseenter mousemove",function(d){d=p(d.currentTarget);var c=d.data("sgproduct").asin;if(!r[c]||!r[c].isResolved()){var e=[];d.add(d.prev("li[data-sgproduct]")).add(d.next("li[data-sgproduct]")).each(function(){var a=p(this).data("sgproduct");
if(a&&a.asin){var d=f.get(a.asin),c=(d=!(!b[a.asin]&&d&&d.loading))&&1500<g.now()-b[a.asin];if(!d||c)e.push(a.asin),b[a.asin]=g.now()}});r[c]=p.Deferred();e.length?(a("/gp/gw/ajax/pdb.html",{id:"quicklook-pdb",data:{swn:"productdb-ajax",sa:'{"asins": ["'+e.join('","')+'"]}',oe:'{"isDesktop":1,"isTablet":0,"isMobile":0}',rrid:h.ue_id}}).done(function(a){f._add(a);for(var d=0;d<e.length;d++)b[e[d]]=Infinity;r[c].resolve(a)}).fail(r[c].reject),z("freshHoverCount")):r[c].resolve()}})});p("#a-page").delegate("li[data-sgproduct]",
"mouseleave",function(a){A.removeClass("active")});var C="#a-popover-"+w.attrs("id")+" ";n=p.map([".a-popover-header { display: none; }",".a-popover-inner { padding: 0px !important; margin: 0px !important; overflow: hidden !important; height: 100% !important; }"],function(a){return C+a}).join(" ");p("head").append("<style>"+n+"</style>");g.on("a:popover:hide:gw-asin-popover",function(a){h.history.state&&h.history.state.popup&&h.history.back();q.clear()});p(h).bind("popstate",function(){w.hide()});
return{show:function(a,d){z("freshPopOverOn");c("bb","popoverLatency"+B("freshPopOverOn"));h.history&&h.history.pushState&&h.history.pushState({popup:1},"");q.setAsin(a,{beforeUpdate:function(f){if(f.loading)return z("freshPopOverLoading"),f;var e=(new b(f.images[0])).autoCrop().scaleXY(500,400).build(),e={url:d,image:e,actionUrl:{action:"/gp/product/handle-buy-box/"+function(a){return a.substring(a.indexOf("/ref=")+1,a.length)}(d)}};f.reviews&&(e.reviews=p.extend({},f.reviews,{url:d+"#customerReviews"}));
p.when(u[a],r[a]).done(function(b,d){y.showSims(a,b)});u[a].fail(y.setNoSimView);c("cf","popoverLatency"+B("freshPopOverOn"));return p.extend({},f,e)}});w.show()},hide:function(){w.hide()}}}});m.when("A","sg-media-builder","gw-productdb").register("gw-sims",function(g,k,n){var f=g.$;return function(e){function b(a,b){h.uet&&h.uet(a,b,{wb:1})}function a(a){if(h.ue&&"function"===typeof h.ue.count)return h.ue.count(a)||0}function d(a){h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||
0)+1)}function c(){if(!C){C=!0;D.hide();G.show();F.animate({height:"100%"},300);var d=0,c=0,e=0,g=parseInt(G.css("width"),10),l=G.find(".sims-img-link");l.each(function(a,b){d+=b.clientWidth;g<d?f(b).hide():(c=d,e+=1)});var k=g-c;0<k&&(k=Math.floor(20+k/e-1),20<k&&l.css({"padding-right":k/2+"px","padding-left":k/2+"px"}));l="popoverLatency"+a("freshPopOverOn");b("be",l);h.uex&&h.uex("ld",l,{wb:1})}}function g(){0===--q&&c()}function z(a,b){var c=f("<a>"),g=f("<div>");c.attr("class","sims-img-link");
g.addClass("sims-img-border");b&&c.addClass("selected");c.click(function(){d("freshPopOverSimsClick");G.find(".sims-img-link").removeClass("selected");f(this).addClass("selected");e.clear();e.setAsin(a.asin,{beforeUpdate:function(b){b=f.extend(!0,{},a);var c=a.url;if(b.loading)d("freshPopOverLoading");else{var e=(new k(b.images[0])).autoCrop().scaleXY(500,400).build(),e={url:c,image:e,actionUrl:{action:"/gp/product/handle-buy-box/"+x(c)}};b.reviews&&(e.reviews=f.extend({},b.reviews,{url:c+"#customerReviews"}));
b=f.extend({},b,e)}return b}})});return c.append(g)}function l(){f.each(w,function(a,b){b.url=b.url.replace(/ref=gw_pdb_pdt-[\d]+/,x(y)+"&gw_sims-"+a)})}function x(a){return 0<=a.indexOf("redirect.html?")?a.replace(/.*redirect.html|(token|location)=.*?&/g,""):a.substring(a.indexOf("/ref=")+1,a.length)}function p(){C=!1;l();var a=[];q=w.length>q?q:w.length;f(w).each(function(b,d){d.loading=!1;if(d.images[0].src){var c=(new k(d.images[0])).autoCrop().scaleXY(130,100).build().src,e=f("<img>");e.attr("src",
c);e.attr("class","sims-img");e.load(g);c=f("<div>");c.attr("class","sims-img-container");var l=f("<div>");l.addClass("sims-img-overlay");f(c).append(l);c.append(e);e=z(d,0===b);e.append(c);a.push(e)}return b<q-1});q=a.length;f(a).each(function(a,b){G.append(b)});setTimeout(c,A)}function r(){m.when("gw-popover").execute(function(a){a.hide()})}function u(){D.hide();F.addClass("hidden");E.bind("click",r)}function v(){G.empty();F.add(D).removeAttr("style");F.removeClass("hidden");E.unbind("click",r);
D.show();G.hide();q=8;w=[]}var q,w,y,A=1E4,C=!1,E=f("#sims-section"),F=E.find(".sims-wrapper"),D=E.find(".sims-loading"),G=E.find(".sims-details");f("#gw-asin-popover");return{fetch:function(d,c,f){b("af","popoverLatency"+a("freshPopOverOn"));v();y=c;d.url=y;w.push(d);c=n.get(d.asin);setTimeout(f.reject,A);c.sims?f.resolve(c.sims):m.when("gwAjax").execute(function(a){a("/gp/gw/ajax/pdb.html",{id:"quicklook-sims-pdb",data:{swn:"productdb-ajax",sa:'{"asins": [], "entityId":"'+d.asin+'","datasetId": "purchase"}',
oe:'{"isDesktop":1,"isTablet":0,"isMobile":0}',rrid:h.ue_id}}).done(function(a){if(a&&a.p&&0<a.p.length){var b=d.asin,c=a.p;c&&(n.get(b).sims||n.addSims(b,c));return f.resolve(a.p)}return f.reject()}).fail(f.reject)});return f},setNoSimView:u,showSims:function(a,b){var c=n.get(a);c.loading?d("freshPopOverSimLoadBeforePrimeAsin"):w=c.sims?f.merge([c],c.sims):f.merge([c],b);4<w.length?p():(d("simsLessThanThreshold"),u())},resetSimData:v,setWaitPeriod:function(a){A=a}}}});m.when("A").execute(function(g){var k=
g.$,n,f;if(!g.$("html").hasClass("a-touch"))if(h.cvox)h.ue&&h.ue.tag&&h.ue.tag("screenReaderOn");else{k("#a-page").delegate("*[data-sgproduct] #gw-quick-look-btn","click",function(b){e(b)});k("#a-page").delegate(".bestseller-list *[data-sgproduct]","click",function(b){e(b)});m.when("gw-popover").execute(function(b){n=b;k("#gw-popover-close").click(function(){n.hide()});f&&n.show.apply(n,f)});var e=function(b){if(!(1<b.which||b.shiftKey||b.altKey||b.metaKey||b.ctrlKey)){var a,d;k(b.target).parents(".bestseller-list").length?
(a=k(b.currentTarget).data("sgproduct"),d=k(b.target).closest("a").attr("href")):(a=k("#gw-quick-look-btn").closest("*[data-sgproduct]").data("sgproduct"),d=k("#gw-quick-look-btn").siblings().children("a").attr("href"));var c=[a.asin,d];a.asin&&d&&(b.preventDefault(),n?n.show.apply(n,c):f=c)}}}});m.when("A","sg-jsutil","dombinder").register("productdb-binding-helper",function(g,k,n){return function(f,e){function b(a,b){n.update(l,c(b.beforeUpdate,a));a.loading||c(b.load,a)}function a(a){d();
h=function(){a(g)};g.pdb_observe(h)}function d(){g&&h&&(g.pdb_unobserve(h),h=null)}var c=k.safeCall,g=null,h=null,l=n.init(e);this.setAsin=function(c,e){e=e||{};d();g=f.get(c);b(g,e);g.loading&&a(function(a){b(a,e)});return g};this.clear=function(){d();g={};n.update(l,g)}}});h.P&&m.when("jQuery","afterLoad").register("gw-resource-logger",function(g){return{instrumentResources:function(k){var n;n=!1;if(g.isArray(k)&&!g.isEmptyObject(k)){n=!0;for(var f=0;f<k.length;f++){var e=k[f];if("id"in e&&"regex"in
e&&"initiator"in e){if(!("string"===typeof e.id&&"string"===typeof e.initiator&&e.regex instanceof RegExp)){n=!1;break}}else{n=!1;break}}}f=h.performance&&"function"===typeof h.performance.getEntriesByType&&"undefined"!==typeof h.performance.getEntriesByType("resource")&&"undefined"!==typeof h.ue;if(n&&f){n=Array(k.length);for(f=0;f<n.length;f++)n[f]=!1;for(e=f=0;e<h.performance.getEntriesByType("resource").length&&f<k.length;e++)for(var b=h.performance.getEntriesByType("resource")[e],a=b.name,d=
b.initiatorType,c=0;c<k.length;c++)if(!n[c]){var B=k[c].regex;if(d===k[c].initiator&&B.test(a)){a=k[c].id;d=b;b=d.duration;h.ue.count&&(h.ue.count(a+":duration",b),h.ue.count(a+":startTime",d.startTime));h.ue.tag&&(d=void 0,d=50>b?a+":cached":a+":notCached",h.ue.tag(d));n[c]=!0;f++;break}}}}}});m.register("sg-media-builder",function(){return function(g){var k=this,n=g.src,f=[];k.build=function(){var e=f.join("_");return{src:n.replace(/\.([^.]+)$/,"._"+e+"_.$1"),alt:g.alt}};k.autoCrop=
function(){f.push("AC");return k};k.scaleX=function(e){f.push("SX"+e);return k};k.scaleY=function(e){f.push("SY"+e);return k};k.upScaleX=function(e){f.push("UX"+e);return k};k.upScaleY=function(e){f.push("UY"+e);return k};k.scaleXY=function(f,b){return k.upScaleX(f).scaleY(b)}}});m.when("A","gwAjax").register("shogunProductDB",function(g,k){function n(b){var a=[];e[b]={loading:!0,pdb_observe:function(b){a.push(b)},pdb_unobserve:function(b){a=g.$.grep(a,function(a){return a!==b})},_trigger:function(){g.$.each(a,
function(){this.call(e[b])})}};return e[b]}function f(b,a){this.ajaxUrl=b;this.experienceStr=a;this._add=function(a){a.p&&g.$.each(a.p,function(a,b){if(b.asin){var d=e[b.asin]||n(b.asin);g.$.extend(d,b,{loading:!1,error:!1});d._trigger(b)}})};this.addSims=function(a,b){if(b){var f=e[a]||n(a);g.$.extend(f,{sims:b});f._trigger(a)}};this._ajax=function(d,c){var f=g.$.extend(!0,{},b,{params:{sa:JSON.stringify(d),oe:a}});h.ue_sid&&(f.url+="/"+h.ue_sid);h.ue_id&&(f.params.rrid=h.ue_id);return k(f.url,{method:f.method,
params:f.params,success:c.success,error:c.error,id:"gw-jslibs-"+c.id})};this.get=function(a){return a in e?e[a]:n(a)}}var e={};return function(b,a){return new f(b,a)}});m.when("jQuery","p-detect").register("component-feed-carousel",function(g,k){var n=g.extend(!0,{},k);g.each({pointerPrefix:function(){return"onmspointerup"in document||"onpointerup"in document?"onpointerup"in document?"pointer":"MSPointer":!1},actionMode:function(){var b=n.capabilities.pointerPrefix;return b?b:n.capabilities.touch?
"touch":"mouse"}},function(b,a){n.capabilities[b]=a()});var f={};g.each({start:{mouse:"down",touch:"start",pointer:"down",MSPointer:"Down"},end:{mouse:"up",touch:"end",pointer:"up",MSPointer:"Up"}},function(b,a){var d=n.capabilities.actionMode,c="string"===typeof a?a:a[d];f[b]=c?d+c:a.mouse===t?"":"mouse"+a.mouse});n.action=f;var e=function(b,a,d){this.init(b,a,d)};e.prototype={init:function(b,a,d){var c=this;g("html").hasClass("a-touch")&&b.addClass("feed-carousel-touch");c.adjustMarginOnChange=
!0;c.defaultCssRightMargin=null;c.minItems=a||10;c.imgClass=".product-image";c.$carousel=b;c.cfMinItems=d||6;c.cfFired=!1;c.shovelerReadyFired=!1;c.slotId=c.getSlotId();c.touch=c.$carousel.hasClass("feed-carousel-touch");c.ajaxSource=c.$carousel.parent().hasClass("ajaxSource");c.$shelf=c.$carousel.find(".feed-carousel-shelf");c.$viewport=c.$carousel.find(".feed-carousel-viewport");c.$spinner=c.$carousel.find(".spinner");c.$left=g(".feed-carousel-control.feed-left",b);c.$right=g(".feed-carousel-control.feed-right",
b);c.$buttons=g(".feed-carousel-control",b);c.$thumb=g(".feed-scrollbar-thumb",b);c.shelfLeft=-1*parseInt(c.$shelf.css("left"),10);c.calcWidth=g("html").hasClass("a-lt-ie9");c.noOpacity=g("html").hasClass("a-lt-ie9");c.$left.attr("aria-hidden",!0);c.$right.attr("aria-hidden",!0);c.bindEvents();c.$carousel.data("Carousel",c);c.$carousel.trigger("change");c.token=!1;c.lock=function(){c.token=!0};c.unlock=function(){c.token=!1};c.locked=function(){return c.token};m.when("gw-first-carousel").execute(function(){c.first=
c.$carousel.hasClass("first-carousel");c.shouldControlsOn()?c.showControls():c.hideControls()})},getSlotId:function(){var b=this.$carousel.closest(".gw-widget-instrument");return 0<b.length?g(b[0]).attr("id"):null},bindEvents:function(){function b(a){return n.capabilities.pointerPrefix&&-1<g.inArray(a.originalEvent.pointerType,[2,"touch"])||"touch"===n.capabilities.actionMode}var a=this,d=g("body");a.$buttons.ready(function(b){a.shovelerReadyFired||(a.slotId&&(b=a.slotId.toString()+"-active",h.GWI&&
h.GWI.recordLatency(b),h.GWI&&h.GWI.register(b)),a.shovelerReadyFired=!0)});a.$carousel.change(function(b){a.updateItems();a.updateSpinner();a.updateShelf();a.updateControls();null===a.defaultCssRightMargin&&a.$shelf.children("li").first()&&(a.defaultCssRightMargin=parseInt(a.$shelf.children("li").first().css("margin-right"),10));a.adjustMarginOnChange&&a.adjustCardMargin()});a.$left.click(function(b){b.preventDefault();a.changePage(-1);a.slotId&&a.logCounter("gw-"+a.slotId.toString()+"-left")});
a.$right.click(function(b){b.preventDefault();a.changePage(1);a.slotId&&a.logCounter("gw-"+a.slotId.toString()+"-right")});a.bindImageLoadEvents(a.$shelf);var c;g(h).resize(function(){clearTimeout(c);c=setTimeout(function(){var b=a.getDimensions(),b=Math.max(Math.min(b.shelfLeft,b.maxLeft),0);a.moveShelf(b)},100)});a.$thumb.mousedown(function(b){var c=b.clientX;1===b.which&&(b.preventDefault(),a.$carousel.addClass("scrolling"),d.bind("mousemove.feed-carousel",function(b){var d=a.getDimensions(),d=
Math.max(Math.min(d.shelfLeft+1/d.pageRatio*(b.clientX-c),d.maxLeft),0);c=b.clientX;a.moveShelf(d)}),g(document).bind("selectstart.feed-carousel",function(){return!1}))});d.add(h).mouseup(function(b){a.$carousel.removeClass("scrolling");a.$carousel.hasClass("hovering")||a.hideControls();d.unbind("mousemove.feed-carousel");g(document).unbind("selectstart.feed-carousel")});a.$carousel.hover(function(){a.$carousel.addClass("hovering");clearTimeout(a.hoverTimer);a.hoverTimer=setTimeout(function(){a.$carousel.hasClass("hovering")&&
!a.$carousel.hasClass("touching")?a.showControls():a.$carousel.removeClass("touching")},300)},function(){a.$carousel.removeClass("hovering touching");clearTimeout(a.hoverTimer);a.$carousel.hasClass("scrolling")||(a.hoverTimer=setTimeout(function(){a.$carousel.hasClass("hovering")||a.hideControls()},600))});a.$carousel.bind(n.action.start,function(d){b(d)&&(a.$carousel.addClass("touching"),clearTimeout(a.touchTimer),a.touchTimer=setTimeout(function(){a.$carousel.removeClass("touching")},5E3))});a.$carousel.bind(n.action.end,
function(d){b(d)&&(a.$carousel.removeClass("touching"),clearTimeout(a.touchTimer),clearTimeout(a.hoverTimer))});a.$viewport.scroll(function(){a.shelfLeft=a.$viewport.scrollLeft();a.updateControls()})},bindImageLoadEvents:function(b){var a=this;g(a.imgClass,b).one("load",function(){a.$carousel.trigger("change")})},getDimensions:function(){var b=this.$shelf.width(),a=this.shelfLeft,d=this.$carousel.width();return{pageWidth:d,shelfWidth:b,shelfLeft:a,pageRatio:d/b,leftRatio:a/b,maxLeft:b-d}},updateItems:function(){var b=
this,a=b.$shelf.find(".feed-carousel-card"),d=function(a){return"none"===a.css("display")};a.each(function(a,f){var e=g(f);if(!d(e))return!0;e.attr("aria-setsize",b.$shelf.find(".feed-carousel-card").size());e.attr("aria-posinset",a+1);e.attr("aria-hidden",!1);e.attr("role","listitem");return 0>=e.find(b.imgClass).filter(function(){return!this.complete}).length?(e.css("display","inline-block"),a+1>=b.cfMinItems&&!b.cfFired&&(b.slotId&&(e=b.slotId.toString()+"-visible",h.GWI&&h.GWI.recordLatency(e),
h.GWI&&h.GWI.register(e)),b.cfFired=!0),!0):!1});b.$items=a.filter(function(){return!d(g(this))})},updateShelf:function(){var b=0;this.calcWidth&&(this.$shelf.children().each(function(){b+=g(this).outerWidth(!0)}),this.$shelf.width(b));this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},updateSpinner:function(){this.size()<this.minItems&&this.ajaxSource?this.$spinner.show():(this.size()<this.minItems&&"object"===typeof h.ue&&"function"===
typeof h.ue.count&&h.ue.count("shovelerNotEnoughItem",(h.ue.count("shovelerNotEnoughItem")||0)+1),this.$spinner.hide())},updateControls:function(){this.updateArrows();this.updateScrollThumb()},shouldControlsOn:function(){return this.first&&!this.touch},showControls:function(b){this.$thumb.add(this.$buttons).stop(!0,!0).fadeIn({duration:300,complete:b,queue:!1})},hideControls:function(b){var a=this.$thumb;this.shouldControlsOn()||(a=a.add(this.$buttons));a.stop(!0,!0).fadeOut({duration:300,complete:b,
queue:!1})},appendCards:function(b){this.$shelf.append(b);this.bindImageLoadEvents(b);this.$carousel.trigger("change")},updateArrows:function(){var b=this,a=b.getDimensions();g.each([{$e:b.$left,enabled:0<a.shelfLeft},{$e:b.$right,enabled:a.shelfLeft<a.maxLeft}],function(a,c){var f=c.$e;c.enabled?f.removeClass("feed-control-disabled"):f.addClass("feed-control-disabled");b.noOpacity&&(c.enabled?f.css("opacity","1"):f.css("opacity","0.5"))})},updateScrollThumb:function(){var b=this.getDimensions(),
a=b.leftRatio*b.pageWidth,b=Math.min(b.pageRatio*b.pageWidth,b.pageWidth);this.$thumb.width(b).each(function(){g(this).animate({left:a},0)})},logCounter:function(b){"object"===typeof h.ue&&"function"===typeof h.ue.count&&(h.ue.count(b,(h.ue.count(b)||0)+1),h.ue.count("gw-shoveler-click",1))},changePage:function(b){var a=this.getDimensions(),d=this.alignWithItem(a.shelfLeft+b*a.pageWidth),d=Math.min(0>b?d.right:d.left,a.maxLeft);this.locked()||(this.lock(),a.shelfLeft===d?(this.bounce(this.$shelf,
-30*b),this.bounce(this.$thumb,6*b)):this.moveShelf(d,400))},moveShelf:function(b,a){function d(){c.updateArrows();c.unlock()}var c=this;a=a||0;c.shelfLeft=b;if(c.touch)c.$viewport.animate({scrollLeft:b},a,"swing",d);else{var f=c.getDimensions(),f=b/f.shelfWidth*f.pageWidth;c.$shelf.animate({left:-b},a,"swing",d);c.$thumb.animate({left:f},a,"swing",function(){c.updateScrollThumb();c.unlock()})}},getItems:function(){return this.$items},size:function(){return this.getItems().length},alignWithItem:function(b){if(0>
b)return{left:0,right:0};var a=this,d=a.getItems(),c=d.map(function(){var d=a.cardPosition(g(this));if(b>=d.left&&b<=d.right)return d}).get(0);return c?c:a.cardPosition(d.last())},cardPosition:function(b){var a=b.position().left;b=a+b.outerWidth(!0);return{left:a,right:b}},bounce:function(b,a){function d(a){var b={};b[c.touch?"left":"marginLeft"]=a;return b}var c=this;b.each(function(){var b=g(this);b.animate(d(a),400,"swing",function(){b.animate(d(0),100,"swing",c.unlock)})})},setCardMargin:function(b){this.$shelf.children("li").first()&&
this.$shelf.children("li").first().css("margin-right")!==b+"px"&&(this.$shelf.children("li").css("margin-right",b+"px"),this.updateShelf())},adjustCardMargin:function(b){b=b===t||null===b?this.defaultCssRightMargin:b;this.setCardMargin(b);var a=this.getDimensions(),a=0>a.maxLeft?Math.ceil(-a.maxLeft/this.size()):b;this.setCardMargin(a<b?b:a)}};return{createCarousel:function(b,a,d){g(b).each(function(b,f){var k=g(f);new e(k,a,d)})}}});m.register("billboard-widget",function(){return function(g,
k){m.when("gwi-util").execute(function(n){function f(){for(var d=0;d<a.length;++d)if(!a[d].complete)return;n.logScope(b.visible);n.logScope(b.active)}k=k||[];var e;e=n.getParent(g);var b=n.gwiData(e),a=[];for(e=0;e<k.length;++e)(function(b){var c=new Image;c.onload=f;c.src=k[b];a[b]=c})(e);f()})}});m.register("gwi-util",function(){return{logScope:function(g){var k=h.GWI;g&&k&&(k.recordLatency(g),k.register(g))},getParent:function(g){return(g=document.getElementById(g))&&g.parentElement},
gwiData:function(g){var k;if(k=g)g=g.getAttribute("data-gwi"),k=h.JSON&&JSON.parse&&JSON.parse(g);return k||{}}}})});

}
/*
     FILE ARCHIVED ON 23:17:47 Jan 31, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 21:36:01 Dec 11, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 146.968
  exclusion.robots: 0.073
  exclusion.robots.policy: 0.063
  cdx.remote: 0.063
  esindex: 0.01
  LoadShardBlock: 118.033 (3)
  PetaboxLoader3.datanode: 136.611 (5)
  load_resource: 379.918 (2)
  PetaboxLoader3.resolve: 321.411 (2)
*/