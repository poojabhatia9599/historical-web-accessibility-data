var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("wafer-sticky",[],e):"object"==typeof exports?exports["wafer-sticky"]=e():(t.wafer=t.wafer||{},t.wafer.wafers=t.wafer.wafers||{},t.wafer.wafers["wafer-sticky"]=e())}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="https://web.archive.org/web/20221231205440/https://s.yimg.com/aaq/wf/",e(e.s="./src/entry.js")}({"./src/entry.js":function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},l=function(){function t(t,e){var o=[],i=!0,n=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(o.push(s.value),!e||o.length!==e);i=!0);}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),y=window.wafer,p=y.constants,d=y.utils,h=y.WaferBaseClass,b=d.findAncestor,v=p.ATTR_PREFIX,g=function(t){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.selector;i(this,e);var s=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,{selector:r},{})),a=t.getAttribute(v+"sticky-boundary"),f=t.getAttribute(v+"sticky-target"),u=t.getAttribute(v+"sticky-position"),y=(t.getAttribute(v+"sticky-offset")||"").split(" "),p=l(y,4),d=p[0],h=p[1],g=p[2],m=p[3];s._util=c({},s._util,{elem:t,targetElem:f&&(a&&b(t,a)||document.body).querySelector(f)||t,offsetBottom:void 0!==m&&m,offsetLeft:void 0!==h&&h,offsetRight:void 0!==g&&g,offsetTop:void 0!==d&&d,stickyPosition:u});var w=s._util.targetElem,k=w.style,_=k.bottom,O=k.left,j=k.position,S=k.right,P=k.top,E=w.getBoundingClientRect(),x=E.height,T=t.getBoundingClientRect(),R=T.height;return s._util.stickyAllowed=x<=R,s._state={isSticky:!1,previousPositionValue:{bottom:_,left:O,position:j,right:S,top:P}},s}return r(e,t),u(e,[{key:"addSticky",value:function(){var t=this._util,e=t.offsetLeft,o=t.offsetRight,i=t.offsetTop,n=t.stickyPosition,r=t.targetElem,s={};"bottom"===n?s.bottom="0":i&&(s.top=i),e?s.left=e:o&&(s.right=o),this._state.isSticky=!0,Object.assign(r.style,{position:"fixed"},s),r.classList.add("sticky-active")}},{key:"makeStickyFlow",value:function(){var t=this._util,e=t.elem,o=t.offsetBottom,i=t.offsetLeft,n=t.offsetRight,r=t.stickyPosition,s=t.targetElem,a=e.getBoundingClientRect(),f=s.getBoundingClientRect(),c=f.height,l=a.bottom,u={};"bottom"===r?u.bottom=parseInt(o,10)+"px":u.top=l-c-parseInt(o,10)+"px",i?u.left=i:n&&(u.right=n),this._state.isSticky=!0,Object.assign(s.style,{position:"fixed"},u),s.classList.add("sticky-flow")}},{key:"removeSticky",value:function(){if(this._state.isSticky){var t=this._util.targetElem;t.classList.remove("sticky-flow","sticky-active"),this._state.isSticky=!1,Object.assign(t.style,this._state.previousPositionValue)}}},{key:"config",get:function(){var t=this._util,e=t.offsetBottom,o=t.offsetTop,i=t.stickyAllowed,n=t.targetElem;return{isSticky:this._state.isSticky,offsetBottom:e,offsetTop:o,stickyAllowed:i,targetElem:n}}}]),e}(h),m=g,w=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),k=window.wafer,_=k.base,O=k.controllers,j=k.utils,S=j.elementInView,P=j.throttle,E=O.WaferBaseController,x=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.root,i=void 0===o?document:o,n=t.selector,r=t.validateDelay,f=void 0===r?15:r;s(this,e);var c=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{root:i,selector:n,props:{selector:n},WaferClass:m}));return c._validateWithThrottle=P(function(){c.validate()},f,c),c.sync(),c}return f(e,t),w(e,[{key:"handleScroll",value:function(){this._validateWithThrottle()}},{key:"handleResize",value:function(){this._validateWithThrottle()}},{key:"didSync",value:function(){var t=this._state,e=t.elementInstances,o=t.mounted;0!==e.size&&!o&&(this._state.mounted=!0)}},{key:"willValidate",value:function(t){var e=this._state.elementInstances;t.forEach(function(t){var o=e.get(t),i=o.instance,n=S(t,{},_.viewport),r=i.config,s=r.isSticky,a=r.stickyAllowed;if(!n||!a)return void(s&&i.removeSticky());var f=i.config.targetElem,c=f.getBoundingClientRect(),l=c.height,u=t.getBoundingClientRect(),y=u.bottom,p=u.top,d=i.config,h=d.offsetTop,b=d.offsetBottom;b=b&&parseInt(b,10),h=h&&parseInt(h,10),y-(l+b+h)<0?i.makeStickyFlow():s&&p-h>=0?i.removeSticky():p-h<0&&i.addSticky()})}}]),e}(E),T=x;e.default=new T({selector:".wafer-sticky"})}})});

}
/*
     FILE ARCHIVED ON 20:54:40 Dec 31, 2022 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:02:07 Jan 24, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  exclusion.robots: 0.063
  exclusion.robots.policy: 0.055
  cdx.remote: 0.084
  esindex: 0.009
  LoadShardBlock: 229.929 (6)
  PetaboxLoader3.datanode: 223.219 (8)
  load_resource: 180.118 (2)
  PetaboxLoader3.resolve: 89.298 (2)
*/