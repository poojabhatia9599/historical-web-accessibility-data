!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){var t={exports:{}};return e(t,t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},i=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),r=function(e){try{return!!e()}catch(e){return!0}},o=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(e){var t=s(this,e);return!!t&&t.enumerable}:a},u=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},l={}.toString,f=function(e){return l.call(e).slice(8,-1)},d="".split,h=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==f(e)?d.call(e,""):Object(e)}:Object,p=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return h(p(e))},w=function(e){return"object"==typeof e?null!==e:"function"==typeof e},m=function(e,t){if(!w(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!w(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!w(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!w(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},g=function(e){return Object(p(e))},y={}.hasOwnProperty,b=function(e,t){return y.call(g(e),t)},k=i.document,A=w(k)&&w(k.createElement),S=function(e){return A?k.createElement(e):{}},x=!o&&!r((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),C=Object.getOwnPropertyDescriptor,E={f:o?C:function(e,t){if(e=v(e),t=m(t,!0),x)try{return C(e,t)}catch(e){}if(b(e,t))return u(!c.f.call(e,t),e[t])}},I=function(e){if(!w(e))throw TypeError(String(e)+" is not an object");return e},R=Object.defineProperty,P={f:o?R:function(e,t,n){if(I(e),t=m(t,!0),I(n),x)try{return R(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},O=o?function(e,t,n){return P.f(e,t,u(1,n))}:function(e,t,n){return e[t]=n,e},L=function(e,t){try{O(i,e,t)}catch(n){i[e]=t}return t},T="__core-js_shared__",j=i[T]||L(T,{}),N=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return N.call(e)});var U,V,M,_=j.inspectSource,D=i.WeakMap,F="function"==typeof D&&/native code/.test(_(D)),B=t((function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.13.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),W=0,H=Math.random(),q=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++W+H).toString(36)},z=B("keys"),Y=function(e){return z[e]||(z[e]=q(e))},G={},$="Object already initialized",J=i.WeakMap;if(F||j.state){var K=j.state||(j.state=new J),Q=K.get,X=K.has,Z=K.set;U=function(e,t){if(X.call(K,e))throw new TypeError($);return t.facade=e,Z.call(K,e,t),t},V=function(e){return Q.call(K,e)||{}},M=function(e){return X.call(K,e)}}else{var ee=Y("state");G[ee]=!0,U=function(e,t){if(b(e,ee))throw new TypeError($);return t.facade=e,O(e,ee,t),t},V=function(e){return b(e,ee)?e[ee]:{}},M=function(e){return b(e,ee)}}var te,ne,ie={set:U,get:V,has:M,enforce:function(e){return M(e)?V(e):U(e,{})},getterFor:function(e){return function(t){var n;if(!w(t)||(n=V(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},re=t((function(e){var t=ie.get,n=ie.enforce,r=String(String).split("String");(e.exports=function(e,t,o,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||b(o,"name")||O(o,"name",t),(s=n(o)).source||(s.source=r.join("string"==typeof t?t:""))),e!==i?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=o:O(e,t,o)):u?e[t]=o:L(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||_(this)}))})),oe=i,ae=function(e){return"function"==typeof e?e:void 0},se=function(e,t){return arguments.length<2?ae(oe[e])||ae(i[e]):oe[e]&&oe[e][t]||i[e]&&i[e][t]},ce=Math.ceil,ue=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ue:ce)(e)},fe=Math.min,de=function(e){return e>0?fe(le(e),9007199254740991):0},he=Math.max,pe=Math.min,ve=function(e,t){var n=le(e);return n<0?he(n+t,0):pe(n,t)},we=function(e){return function(t,n,i){var r,o=v(t),a=de(o.length),s=ve(i,a);if(e&&n!=n){for(;a>s;)if((r=o[s++])!=r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},me={includes:we(!0),indexOf:we(!1)},ge=me.indexOf,ye=function(e,t){var n,i=v(e),r=0,o=[];for(n in i)!b(G,n)&&b(i,n)&&o.push(n);for(;t.length>r;)b(i,n=t[r++])&&(~ge(o,n)||o.push(n));return o},be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ke=be.concat("length","prototype"),Ae={f:Object.getOwnPropertyNames||function(e){return ye(e,ke)}},Se={f:Object.getOwnPropertySymbols},xe=se("Reflect","ownKeys")||function(e){var t=Ae.f(I(e)),n=Se.f;return n?t.concat(n(e)):t},Ce=function(e,t){for(var n=xe(t),i=P.f,r=E.f,o=0;o<n.length;o++){var a=n[o];b(e,a)||i(e,a,r(t,a))}},Ee=/#|\.prototype\./,Ie=function(e,t){var n=Pe[Re(e)];return n==Le||n!=Oe&&("function"==typeof t?r(t):!!t)},Re=Ie.normalize=function(e){return String(e).replace(Ee,".").toLowerCase()},Pe=Ie.data={},Oe=Ie.NATIVE="N",Le=Ie.POLYFILL="P",Te=Ie,je=E.f,Ne=function(e,t){var n,r,o,a,s,c=e.target,u=e.global,l=e.stat;if(n=u?i:l?i[c]||L(c,{}):(i[c]||{}).prototype)for(r in t){if(a=t[r],o=e.noTargetGet?(s=je(n,r))&&s.value:n[r],!Te(u?r:c+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;Ce(a,o)}(e.sham||o&&o.sham)&&O(a,"sham",!0),re(n,r,a,e)}},Ue=se("navigator","userAgent")||"",Ve=i.process,Me=Ve&&Ve.versions,_e=Me&&Me.v8;_e?ne=(te=_e.split("."))[0]<4?1:te[0]+te[1]:Ue&&(!(te=Ue.match(/Edge\/(\d+)/))||te[1]>=74)&&(te=Ue.match(/Chrome\/(\d+)/))&&(ne=te[1]);var De,Fe=ne&&+ne,Be=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())||!Symbol.sham&&Fe&&Fe<41})),We=Be&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,He=B("wks"),qe=i.Symbol,ze=We?qe:qe&&qe.withoutSetter||q,Ye=function(e){return b(He,e)&&(Be||"string"==typeof He[e])||(Be&&b(qe,e)?He[e]=qe[e]:He[e]=ze("Symbol."+e)),He[e]},Ge=Ye("match"),$e=function(e){var t;return w(e)&&(void 0!==(t=e[Ge])?!!t:"RegExp"==f(e))},Je=function(e){if($e(e))throw TypeError("The method doesn't accept regular expressions");return e},Ke=Ye("match"),Qe=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Ke]=!1,"/./"[e](t)}catch(e){}}return!1},Xe=E.f,Ze="".endsWith,et=Math.min,tt=Qe("endsWith"),nt=!(tt||(De=Xe(String.prototype,"endsWith"),!De||De.writable));function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){ot(o,i,r,a,s,"next",e)}function s(e){ot(o,i,r,a,s,"throw",e)}a(void 0)}))}}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ut(e,t,n){return t&&ct(e.prototype,t),n&&ct(e,n),e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}Ne({target:"String",proto:!0,forced:!nt&&!tt},{endsWith:function(e){var t=String(p(this));Je(e);var n=arguments.length>1?arguments[1]:void 0,i=de(t.length),r=void 0===n?i:et(de(n),i),o=String(e);return Ze?Ze.call(t,o,r):t.slice(r-o.length,r)===o}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var mt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},yt=function(e,t,n){if(gt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},bt=Array.isArray||function(e){return"Array"==f(e)},kt=Ye("species"),At=function(e,t){var n;return bt(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!bt(n.prototype)?w(n)&&null===(n=n[kt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},St=[].push,xt=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,f){for(var d,p,v=g(c),w=h(v),m=yt(u,l,3),y=de(w.length),b=0,k=f||At,A=t?k(c,y):n||a?k(c,0):void 0;y>b;b++)if((s||b in w)&&(p=m(d=w[b],b,v),e))if(t)A[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:St.call(A,d)}else switch(e){case 4:return!1;case 7:St.call(A,d)}return o?-1:i||r?r:A}},Ct={forEach:xt(0),map:xt(1),filter:xt(2),some:xt(3),every:xt(4),find:xt(5),findIndex:xt(6),filterOut:xt(7)},Et=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))},It=Ct.forEach,Rt=Et("forEach")?[].forEach:function(e){return It(this,e,arguments.length>1?arguments[1]:void 0)};for(var Pt in mt){var Ot=i[Pt],Lt=Ot&&Ot.prototype;if(Lt&&Lt.forEach!==Rt)try{O(Lt,"forEach",Rt)}catch(e){Lt.forEach=Rt}}var Tt,jt=Object.keys||function(e){return ye(e,be)},Nt=o?Object.defineProperties:function(e,t){I(e);for(var n,i=jt(t),r=i.length,o=0;r>o;)P.f(e,n=i[o++],t[n]);return e},Ut=se("document","documentElement"),Vt=Y("IE_PROTO"),Mt=function(){},_t=function(e){return"<script>"+e+"</"+"script>"},Dt=function(){try{Tt=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Dt=Tt?function(e){e.write(_t("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Tt):((t=S("iframe")).style.display="none",Ut.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(_t("document.F=Object")),e.close(),e.F);for(var n=be.length;n--;)delete Dt.prototype[be[n]];return Dt()};G[Vt]=!0;var Ft=Object.create||function(e,t){var n;return null!==e?(Mt.prototype=I(e),n=new Mt,Mt.prototype=null,n[Vt]=e):n=Dt(),void 0===t?n:Nt(n,t)},Bt=Ye("unscopables"),Wt=Array.prototype;null==Wt[Bt]&&P.f(Wt,Bt,{configurable:!0,value:Ft(null)});var Ht,qt,zt,Yt=function(e){Wt[Bt][e]=!0},Gt={},$t=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Jt=Y("IE_PROTO"),Kt=Object.prototype,Qt=$t?Object.getPrototypeOf:function(e){return e=g(e),b(e,Jt)?e[Jt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Kt:null},Xt=Ye("iterator"),Zt=!1;[].keys&&("next"in(zt=[].keys())?(qt=Qt(Qt(zt)))!==Object.prototype&&(Ht=qt):Zt=!0),(null==Ht||r((function(){var e={};return Ht[Xt].call(e)!==e})))&&(Ht={}),b(Ht,Xt)||O(Ht,Xt,(function(){return this}));var en={IteratorPrototype:Ht,BUGGY_SAFARI_ITERATORS:Zt},tn=P.f,nn=Ye("toStringTag"),rn=function(e,t,n){e&&!b(e=n?e:e.prototype,nn)&&tn(e,nn,{configurable:!0,value:t})},on=en.IteratorPrototype,an=function(){return this},sn=function(e,t,n){var i=t+" Iterator";return e.prototype=Ft(on,{next:u(1,n)}),rn(e,i,!1),Gt[i]=an,e},cn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return I(n),function(e){if(!w(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),un=en.IteratorPrototype,ln=en.BUGGY_SAFARI_ITERATORS,fn=Ye("iterator"),dn="keys",hn="values",pn="entries",vn=function(){return this},wn=function(e,t,n,i,r,o,a){sn(n,t,i);var s,c,u,l=function(e){if(e===r&&v)return v;if(!ln&&e in h)return h[e];switch(e){case dn:case hn:case pn:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[fn]||h["@@iterator"]||r&&h[r],v=!ln&&p||l(r),w="Array"==t&&h.entries||p;if(w&&(s=Qt(w.call(new e)),un!==Object.prototype&&s.next&&(Qt(s)!==un&&(cn?cn(s,un):"function"!=typeof s[fn]&&O(s,fn,vn)),rn(s,f,!0))),r==hn&&p&&p.name!==hn&&(d=!0,v=function(){return p.call(this)}),h[fn]!==v&&O(h,fn,v),Gt[t]=v,r)if(c={values:l(hn),keys:o?v:l(dn),entries:l(pn)},a)for(u in c)(ln||d||!(u in h))&&re(h,u,c[u]);else Ne({target:t,proto:!0,forced:ln||d},c);return c},mn="Array Iterator",gn=ie.set,yn=ie.getterFor(mn),bn=wn(Array,"Array",(function(e,t){gn(this,{type:mn,target:v(e),index:0,kind:t})}),(function(){var e=yn(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");Gt.Arguments=Gt.Array,Yt("keys"),Yt("values"),Yt("entries");var kn={};kn[Ye("toStringTag")]="z";var An="[object z]"===String(kn),Sn=Ye("toStringTag"),xn="Arguments"==f(function(){return arguments}()),Cn=An?f:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Sn))?n:xn?f(t):"Object"==(i=f(t))&&"function"==typeof t.callee?"Arguments":i},En=An?{}.toString:function(){return"[object "+Cn(this)+"]"};An||re(Object.prototype,"toString",En,{unsafe:!0});var In=i.Promise,Rn=function(e,t,n){for(var i in t)re(e,i,t[i],n);return e},Pn=Ye("species"),On=function(e){var t=se(e),n=P.f;o&&t&&!t[Pn]&&n(t,Pn,{configurable:!0,get:function(){return this}})},Ln=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Tn=Ye("iterator"),jn=Array.prototype,Nn=function(e){return void 0!==e&&(Gt.Array===e||jn[Tn]===e)},Un=Ye("iterator"),Vn=function(e){if(null!=e)return e[Un]||e["@@iterator"]||Gt[Cn(e)]},Mn=function(e){var t=e.return;if(void 0!==t)return I(t.call(e)).value},_n=function(e,t){this.stopped=e,this.result=t},Dn=function(e,t,n){var i,r,o,a,s,c,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=yt(t,l,1+f+h),v=function(e){return i&&Mn(i),new _n(!0,e)},w=function(e){return f?(I(e),h?p(e[0],e[1],v):p(e[0],e[1])):h?p(e,v):p(e)};if(d)i=e;else{if("function"!=typeof(r=Vn(e)))throw TypeError("Target is not iterable");if(Nn(r)){for(o=0,a=de(e.length);a>o;o++)if((s=w(e[o]))&&s instanceof _n)return s;return new _n(!1)}i=r.call(e)}for(c=i.next;!(u=c.call(i)).done;){try{s=w(u.value)}catch(e){throw Mn(i),e}if("object"==typeof s&&s&&s instanceof _n)return s}return new _n(!1)},Fn=Ye("iterator"),Bn=!1;try{var Wn=0,Hn={next:function(){return{done:!!Wn++}},return:function(){Bn=!0}};Hn[Fn]=function(){return this},Array.from(Hn,(function(){throw 2}))}catch(e){}var qn,zn,Yn,Gn=function(e,t){if(!t&&!Bn)return!1;var n=!1;try{var i={};i[Fn]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},$n=Ye("species"),Jn=function(e,t){var n,i=I(e).constructor;return void 0===i||null==(n=I(i)[$n])?t:gt(n)},Kn=/(?:iphone|ipod|ipad).*applewebkit/i.test(Ue),Qn="process"==f(i.process),Xn=i.location,Zn=i.setImmediate,ei=i.clearImmediate,ti=i.process,ni=i.MessageChannel,ii=i.Dispatch,ri=0,oi={},ai="onreadystatechange",si=function(e){if(oi.hasOwnProperty(e)){var t=oi[e];delete oi[e],t()}},ci=function(e){return function(){si(e)}},ui=function(e){si(e.data)},li=function(e){i.postMessage(e+"",Xn.protocol+"//"+Xn.host)};Zn&&ei||(Zn=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return oi[++ri]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},qn(ri),ri},ei=function(e){delete oi[e]},Qn?qn=function(e){ti.nextTick(ci(e))}:ii&&ii.now?qn=function(e){ii.now(ci(e))}:ni&&!Kn?(Yn=(zn=new ni).port2,zn.port1.onmessage=ui,qn=yt(Yn.postMessage,Yn,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&Xn&&"file:"!==Xn.protocol&&!r(li)?(qn=li,i.addEventListener("message",ui,!1)):qn=ai in S("script")?function(e){Ut.appendChild(S("script")).onreadystatechange=function(){Ut.removeChild(this),si(e)}}:function(e){setTimeout(ci(e),0)});var fi,di,hi,pi,vi,wi,mi,gi,yi={set:Zn,clear:ei},bi=/web0s(?!.*chrome)/i.test(Ue),ki=E.f,Ai=yi.set,Si=i.MutationObserver||i.WebKitMutationObserver,xi=i.document,Ci=i.process,Ei=i.Promise,Ii=ki(i,"queueMicrotask"),Ri=Ii&&Ii.value;Ri||(fi=function(){var e,t;for(Qn&&(e=Ci.domain)&&e.exit();di;){t=di.fn,di=di.next;try{t()}catch(e){throw di?pi():hi=void 0,e}}hi=void 0,e&&e.enter()},Kn||Qn||bi||!Si||!xi?Ei&&Ei.resolve?((mi=Ei.resolve(void 0)).constructor=Ei,gi=mi.then,pi=function(){gi.call(mi,fi)}):pi=Qn?function(){Ci.nextTick(fi)}:function(){Ai.call(i,fi)}:(vi=!0,wi=xi.createTextNode(""),new Si(fi).observe(wi,{characterData:!0}),pi=function(){wi.data=vi=!vi}));var Pi,Oi,Li,Ti,ji=Ri||function(e){var t={fn:e,next:void 0};hi&&(hi.next=t),di||(di=t,pi()),hi=t},Ni=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=gt(t),this.reject=gt(n)},Ui={f:function(e){return new Ni(e)}},Vi=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Mi="object"==typeof window,_i=yi.set,Di=Ye("species"),Fi="Promise",Bi=ie.get,Wi=ie.set,Hi=ie.getterFor(Fi),qi=In&&In.prototype,zi=In,Yi=qi,Gi=i.TypeError,$i=i.document,Ji=i.process,Ki=Ui.f,Qi=Ki,Xi=!!($i&&$i.createEvent&&i.dispatchEvent),Zi="function"==typeof PromiseRejectionEvent,er="unhandledrejection",tr=!1,nr=Te(Fi,(function(){var e=_(zi)!==String(zi);if(!e&&66===Fe)return!0;if(Fe>=51&&/native code/.test(zi))return!1;var t=new zi((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[Di]=n,!(tr=t.then((function(){}))instanceof n)||!e&&Mi&&!Zi})),ir=nr||!Gn((function(e){zi.all(e).catch((function(){}))})),rr=function(e){var t;return!(!w(e)||"function"!=typeof(t=e.then))&&t},or=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;ji((function(){for(var i=e.value,r=1==e.state,o=0;n.length>o;){var a,s,c,u=n[o++],l=r?u.ok:u.fail,f=u.resolve,d=u.reject,h=u.domain;try{l?(r||(2===e.rejection&&ur(e),e.rejection=1),!0===l?a=i:(h&&h.enter(),a=l(i),h&&(h.exit(),c=!0)),a===u.promise?d(Gi("Promise-chain cycle")):(s=rr(a))?s.call(a,f,d):f(a)):d(i)}catch(e){h&&!c&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&sr(e)}))}},ar=function(e,t,n){var r,o;Xi?((r=$i.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),i.dispatchEvent(r)):r={promise:t,reason:n},!Zi&&(o=i["on"+e])?o(r):e===er&&function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},sr=function(e){_i.call(i,(function(){var t,n=e.facade,i=e.value;if(cr(e)&&(t=Vi((function(){Qn?Ji.emit("unhandledRejection",i,n):ar(er,n,i)})),e.rejection=Qn||cr(e)?2:1,t.error))throw t.value}))},cr=function(e){return 1!==e.rejection&&!e.parent},ur=function(e){_i.call(i,(function(){var t=e.facade;Qn?Ji.emit("rejectionHandled",t):ar("rejectionhandled",t,e.value)}))},lr=function(e,t,n){return function(i){e(t,i,n)}},fr=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,or(e,!0))},dr=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Gi("Promise can't be resolved itself");var i=rr(t);i?ji((function(){var n={done:!1};try{i.call(t,lr(dr,n,e),lr(fr,n,e))}catch(t){fr(n,t,e)}})):(e.value=t,e.state=1,or(e,!1))}catch(t){fr({done:!1},t,e)}}};if(nr&&(Yi=(zi=function(e){Ln(this,zi,Fi),gt(e),Pi.call(this);var t=Bi(this);try{e(lr(dr,t),lr(fr,t))}catch(e){fr(t,e)}}).prototype,(Pi=function(e){Wi(this,{type:Fi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Rn(Yi,{then:function(e,t){var n=Hi(this),i=Ki(Jn(this,zi));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=Qn?Ji.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&or(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),Oi=function(){var e=new Pi,t=Bi(e);this.promise=e,this.resolve=lr(dr,t),this.reject=lr(fr,t)},Ui.f=Ki=function(e){return e===zi||e===Li?new Oi(e):Qi(e)},"function"==typeof In&&qi!==Object.prototype)){Ti=qi.then,tr||(re(qi,"then",(function(e,t){var n=this;return new zi((function(e,t){Ti.call(n,e,t)})).then(e,t)}),{unsafe:!0}),re(qi,"catch",Yi.catch,{unsafe:!0}));try{delete qi.constructor}catch(e){}cn&&cn(qi,Yi)}Ne({global:!0,wrap:!0,forced:nr},{Promise:zi}),rn(zi,Fi,!1),On(Fi),Li=se(Fi),Ne({target:Fi,stat:!0,forced:nr},{reject:function(e){var t=Ki(this);return t.reject.call(void 0,e),t.promise}}),Ne({target:Fi,stat:!0,forced:nr},{resolve:function(e){return function(e,t){if(I(e),w(t)&&t.constructor===e)return t;var n=Ui.f(e);return(0,n.resolve)(t),n.promise}(this,e)}}),Ne({target:Fi,stat:!0,forced:ir},{all:function(e){var t=this,n=Ki(t),i=n.resolve,r=n.reject,o=Vi((function(){var n=gt(t.resolve),o=[],a=0,s=1;Dn(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=Ki(t),i=n.reject,r=Vi((function(){var r=gt(t.resolve);Dn(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var hr=function(e){return function(t,n){var i,r,o=String(p(t)),a=le(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=o.charCodeAt(a))<55296||i>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?e?o.charAt(a):i:e?o.slice(a,a+2):r-56320+(i-55296<<10)+65536}},pr={codeAt:hr(!1),charAt:hr(!0)},vr=pr.charAt,wr="String Iterator",mr=ie.set,gr=ie.getterFor(wr);wn(String,"String",(function(e){mr(this,{type:wr,string:String(e),index:0})}),(function(){var e,t=gr(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=vr(n,i),t.index+=e.length,{value:e,done:!1})}));var yr=Ye("iterator"),br=Ye("toStringTag"),kr=bn.values;for(var Ar in mt){var Sr=i[Ar],xr=Sr&&Sr.prototype;if(xr){if(xr[yr]!==kr)try{O(xr,yr,kr)}catch(e){xr[yr]=kr}if(xr[br]||O(xr,br,Ar),mt[Ar])for(var Cr in bn)if(xr[Cr]!==bn[Cr])try{O(xr,Cr,bn[Cr])}catch(e){xr[Cr]=bn[Cr]}}}var Er="init",Ir="onClick",Rr="onContentWillChange",Pr="onContentChange",Or="onContentDidChange",Lr="onViewerWillOpen",Tr="onViewerOpened",jr="onViewerClosed",Nr="onViewerDidClose",Ur={__proto__:null,init:Er,onClick:Ir,onContentWillChange:Rr,onContentChange:Pr,onContentDidChange:Or,onViewerWillOpen:Lr,onViewerOpened:Tr,onViewerClosed:jr,onViewerDidClose:Nr},Vr=function(){function e(t){st(this,e),this.handlers={};var n=this.dispatch.bind(this);t.forEach((function(e){return e.dispatch=n})),this.mapPluginHandlers(t)}return ut(e,[{key:"mapPluginHandlers",value:function(e){for(var t in Ur)if(t in Ur){this.handlers[t]=[];var n,i=wt(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(t in r){var o=r[t].bind(r);this.handlers[t].push(o)}}}catch(e){i.e(e)}finally{i.f()}}}},{key:"init",value:function(e){this.dispatch(Er,e)}},{key:"dispatch",value:function(e){for(var t=[],n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o,a=wt(this.handlers[e]);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.apply(void 0,i);c instanceof Promise&&t.push(c)}}catch(e){a.e(e)}finally{a.f()}return Promise.all(t)}}]),e}();t((function(e){var t=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof w?t:w,o=Object.create(r.prototype),a=new R(i||[]);return o._invoke=function(e,t,n){var i=f;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=l(e,t,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function w(){}function m(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,k=b&&b(b(P([])));k&&k!==n&&i.call(k,o)&&(y=k);var A=g.prototype=w.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,o,a,s){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function C(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=A.constructor=g,g.constructor=m,m.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[a]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new x(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(A),c(A,s,"Generator"),A[o]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:P(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var Mr=function(e,t,n){var i=m(t);i in e?P.f(e,i,u(0,n)):e[i]=n},_r=Ye("species"),Dr=function(e){return Fe>=51||!r((function(){var t=[];return(t.constructor={})[_r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Fr=Ye("isConcatSpreadable"),Br=9007199254740991,Wr="Maximum allowed index exceeded",Hr=Fe>=51||!r((function(){var e=[];return e[Fr]=!1,e.concat()[0]!==e})),qr=Dr("concat"),zr=function(e){if(!w(e))return!1;var t=e[Fr];return void 0!==t?!!t:bt(e)};Ne({target:"Array",proto:!0,forced:!Hr||!qr},{concat:function(e){var t,n,i,r,o,a=g(this),s=At(a,0),c=0;for(t=-1,i=arguments.length;t<i;t++)if(zr(o=-1===t?a:arguments[t])){if(c+(r=de(o.length))>Br)throw TypeError(Wr);for(n=0;n<r;n++,c++)n in o&&Mr(s,c,o[n])}else{if(c>=Br)throw TypeError(Wr);Mr(s,c++,o)}return s.length=c,s}});var Yr=function(e,t,n){var i,r;return cn&&"function"==typeof(i=t.constructor)&&i!==n&&w(r=i.prototype)&&r!==n.prototype&&cn(e,r),e},Gr=function(){var e=I(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function $r(e,t){return RegExp(e,t)}var Jr={UNSUPPORTED_Y:r((function(){var e=$r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:r((function(){var e=$r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Kr=P.f,Qr=Ae.f,Xr=ie.enforce,Zr=Ye("match"),eo=i.RegExp,to=eo.prototype,no=/a/g,io=/a/g,ro=new eo(no)!==no,oo=Jr.UNSUPPORTED_Y;if(o&&Te("RegExp",!ro||oo||r((function(){return io[Zr]=!1,eo(no)!=no||eo(io)==io||"/a/i"!=eo(no,"i")})))){for(var ao=function(e,t){var n,i=this instanceof ao,r=$e(e),o=void 0===t;if(!i&&r&&e.constructor===ao&&o)return e;ro?r&&!o&&(e=e.source):e instanceof ao&&(o&&(t=Gr.call(e)),e=e.source),oo&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=Yr(ro?new eo(e,t):eo(e,t),i?this:to,ao);oo&&n&&(Xr(a).sticky=!0);return a},so=function(e){e in ao||Kr(ao,e,{configurable:!0,get:function(){return eo[e]},set:function(t){eo[e]=t}})},co=Qr(eo),uo=0;co.length>uo;)so(co[uo++]);to.constructor=ao,ao.prototype=to,re(i,"RegExp",ao)}On("RegExp");var lo=RegExp.prototype.exec,fo=B("native-string-replace",String.prototype.replace),ho=lo,po=function(){var e=/a/,t=/b*/g;return lo.call(e,"a"),lo.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),vo=Jr.UNSUPPORTED_Y||Jr.BROKEN_CARET,wo=void 0!==/()??/.exec("")[1];(po||wo||vo)&&(ho=function(e){var t,n,i,r,o=this,a=vo&&o.sticky,s=Gr.call(o),c=o.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),wo&&(n=new RegExp("^"+c+"$(?!\\s)",s)),po&&(t=o.lastIndex),i=lo.call(a?n:o,l),a?i?(i.input=i.input.slice(u),i[0]=i[0].slice(u),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:po&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),wo&&i&&i.length>1&&fo.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i});var mo=ho;Ne({target:"RegExp",proto:!0,forced:/./.exec!==mo},{exec:mo});var go="toString",yo=RegExp.prototype,bo=yo.toString,ko=r((function(){return"/a/b"!=bo.call({source:"a",flags:"b"})})),Ao=bo.name!=go;(ko||Ao)&&re(RegExp.prototype,go,(function(){var e=I(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in yo)?Gr.call(e):n)}),{unsafe:!0});var So=Ye("iterator"),xo=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[So]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Co=Object.assign,Eo=Object.defineProperty,Io=!Co||r((function(){if(o&&1!==Co({b:1},Co(Eo({},"a",{enumerable:!0,get:function(){Eo(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=Co({},e)[n]||jt(Co({},t)).join("")!=i}))?function(e,t){for(var n=g(e),i=arguments.length,r=1,a=Se.f,s=c.f;i>r;)for(var u,l=h(arguments[r++]),f=a?jt(l).concat(a(l)):jt(l),d=f.length,p=0;d>p;)u=f[p++],o&&!s.call(l,u)||(n[u]=l[u]);return n}:Co,Ro=function(e,t,n,i){try{return i?t(I(n)[0],n[1]):t(n)}catch(t){throw Mn(e),t}},Po=function(e){var t,n,i,r,o,a,s=g(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=Vn(s),h=0;if(f&&(l=yt(l,u>2?arguments[2]:void 0,2)),null==d||c==Array&&Nn(d))for(n=new c(t=de(s.length));t>h;h++)a=f?l(s[h],h):s[h],Mr(n,h,a);else for(o=(r=d.call(s)).next,n=new c;!(i=o.call(r)).done;h++)a=f?Ro(r,l,[i.value,h],!0):i.value,Mr(n,h,a);return n.length=h,n},Oo=2147483647,Lo=/[^\0-\u007E]/,To=/[.\u3002\uFF0E\uFF61]/g,jo="Overflow: input needs wider integers to process",No=Math.floor,Uo=String.fromCharCode,Vo=function(e){return e+22+75*(e<26)},Mo=function(e,t,n){var i=0;for(e=n?No(e/700):e>>1,e+=No(e/t);e>455;i+=36)e=No(e/35);return No(i+36*e/(e+38))},_o=function(e){var t,n,i=[],r=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&i.push(Uo(n));var c=i.length,u=c;for(c&&i.push("-");u<r;){var l=Oo;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var f=u+1;if(l-o>No((Oo-a)/f))throw RangeError(jo);for(a+=(l-o)*f,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>Oo)throw RangeError(jo);if(n==o){for(var d=a,h=36;;h+=36){var p=h<=s?1:h>=s+26?26:h-s;if(d<p)break;var v=d-p,w=36-p;i.push(Uo(Vo(p+v%w))),d=No(v/w)}i.push(Uo(Vo(d))),s=Mo(a,f,u==c),a=0,++u}}++a,++o}return i.join("")},Do=function(e){var t=Vn(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return I(t.call(e))},Fo=se("fetch"),Bo=se("Headers"),Wo=Ye("iterator"),Ho="URLSearchParams",qo="URLSearchParamsIterator",zo=ie.set,Yo=ie.getterFor(Ho),Go=ie.getterFor(qo),$o=/\+/g,Jo=Array(4),Ko=function(e){return Jo[e-1]||(Jo[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},Qo=function(e){try{return decodeURIComponent(e)}catch(t){return e}},Xo=function(e){var t=e.replace($o," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(Ko(n--),Qo);return t}},Zo=/[!'()~]|%20/g,ea={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ta=function(e){return ea[e]},na=function(e){return encodeURIComponent(e).replace(Zo,ta)},ia=function(e,t){if(t)for(var n,i,r=t.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),e.push({key:Xo(i.shift()),value:Xo(i.join("="))}))},ra=function(e){this.entries.length=0,ia(this.entries,e)},oa=function(e,t){if(e<t)throw TypeError("Not enough arguments")},aa=sn((function(e,t){zo(this,{type:qo,iterator:Do(Yo(e).entries),kind:t})}),"Iterator",(function(){var e=Go(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),sa=function(){Ln(this,sa,Ho);var e,t,n,i,r,o,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(zo(l,{type:Ho,entries:f,updateURL:function(){},updateSearchParams:ra}),void 0!==u)if(w(u))if("function"==typeof(e=Vn(u)))for(n=(t=e.call(u)).next;!(i=n.call(t)).done;){if((a=(o=(r=Do(I(i.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in u)b(u,c)&&f.push({key:c,value:u[c]+""});else ia(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},ca=sa.prototype;Rn(ca,{append:function(e,t){oa(arguments.length,2);var n=Yo(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){oa(arguments.length,1);for(var t=Yo(this),n=t.entries,i=e+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){oa(arguments.length,1);for(var t=Yo(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){oa(arguments.length,1);for(var t=Yo(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){oa(arguments.length,1);for(var t=Yo(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){oa(arguments.length,1);for(var n,i=Yo(this),r=i.entries,o=!1,a=e+"",s=t+"",c=0;c<r.length;c++)(n=r[c]).key===a&&(o?r.splice(c--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var e,t,n,i=Yo(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=Yo(this).entries,i=yt(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new aa(this,"keys")},values:function(){return new aa(this,"values")},entries:function(){return new aa(this,"entries")}},{enumerable:!0}),re(ca,Wo,ca.entries),re(ca,"toString",(function(){for(var e,t=Yo(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(na(e.key)+"="+na(e.value));return n.join("&")}),{enumerable:!0}),rn(sa,Ho),Ne({global:!0,forced:!xo},{URLSearchParams:sa}),xo||"function"!=typeof Fo||"function"!=typeof Bo||Ne({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,r=[e];return arguments.length>1&&(w(t=arguments[1])&&(n=t.body,Cn(n)===Ho&&((i=t.headers?new Bo(t.headers):new Bo).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=Ft(t,{body:u(0,String(n)),headers:u(0,i)}))),r.push(t)),Fo.apply(this,r)}});var ua,la={URLSearchParams:sa,getState:Yo},fa=pr.codeAt,da=i.URL,ha=la.URLSearchParams,pa=la.getState,va=ie.set,wa=ie.getterFor("URL"),ma=Math.floor,ga=Math.pow,ya="Invalid scheme",ba="Invalid host",ka="Invalid port",Aa=/[A-Za-z]/,Sa=/[\d+-.A-Za-z]/,xa=/\d/,Ca=/^(0x|0X)/,Ea=/^[0-7]+$/,Ia=/^\d+$/,Ra=/^[\dA-Fa-f]+$/,Pa=/[\0\t\n\r #%/:?@[\\]]/,Oa=/[\0\t\n\r #/:?@[\\]]/,La=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ta=/[\t\n\r]/g,ja=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return ba;if(!(n=Ua(t.slice(1,-1))))return ba;e.host=n}else if(Ha(e)){if(t=function(e){var t,n,i=[],r=e.toLowerCase().replace(To,".").split(".");for(t=0;t<r.length;t++)n=r[t],i.push(Lo.test(n)?"xn--"+_o(n):n);return i.join(".")}(t),Pa.test(t))return ba;if(null===(n=Na(t)))return ba;e.host=n}else{if(Oa.test(t))return ba;for(n="",i=Po(t),r=0;r<i.length;r++)n+=Ba(i[r],Ma);e.host=n}},Na=function(e){var t,n,i,r,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=c[i]))return e;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=Ca.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?Ia:8==o?Ea:Ra).test(r))return e;a=parseInt(r,o)}n.push(a)}for(i=0;i<t;i++)if(a=n[i],i==t-1){if(a>=ga(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*ga(256,3-i);return s},Ua=function(e){var t,n,i,r,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&Ra.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,u>6)return;for(i=0;d();){if(r=null,i>0){if(!("."==d()&&i<4))return;f++}if(!xa.test(d()))return;for(;xa.test(d());){if(o=parseInt(d(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;f++}c[u]=256*c[u]+r,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},Va=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=ma(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Ma={},_a=Io({},Ma,{" ":1,'"':1,"<":1,">":1,"`":1}),Da=Io({},_a,{"#":1,"?":1,"{":1,"}":1}),Fa=Io({},Da,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ba=function(e,t){var n=fa(e,0);return n>32&&n<127&&!b(t,e)?e:encodeURIComponent(e)},Wa={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ha=function(e){return b(Wa,e.scheme)},qa=function(e){return""!=e.username||""!=e.password},za=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Ya=function(e,t){var n;return 2==e.length&&Aa.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Ga=function(e){var t;return e.length>1&&Ya(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$a=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Ya(t[0],!0)||t.pop()},Ja=function(e){return"."===e||"%2e"===e.toLowerCase()},Ka={},Qa={},Xa={},Za={},es={},ts={},ns={},is={},rs={},os={},as={},ss={},cs={},us={},ls={},fs={},ds={},hs={},ps={},vs={},ws={},ms=function(e,t,n,i){var r,o,a,s,c,u=n||Ka,l=0,f="",d=!1,h=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(La,"")),t=t.replace(Ta,""),r=Po(t);l<=r.length;){switch(o=r[l],u){case Ka:if(!o||!Aa.test(o)){if(n)return ya;u=Xa;continue}f+=o.toLowerCase(),u=Qa;break;case Qa:if(o&&(Sa.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return ya;f="",u=Xa,l=0;continue}if(n&&(Ha(e)!=b(Wa,f)||"file"==f&&(qa(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Ha(e)&&Wa[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=us:Ha(e)&&i&&i.scheme==e.scheme?u=Za:Ha(e)?u=is:"/"==r[l+1]?(u=es,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=ps)}break;case Xa:if(!i||i.cannotBeABaseURL&&"#"!=o)return ya;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=ws;break}u="file"==i.scheme?us:ts;continue;case Za:if("/"!=o||"/"!=r[l+1]){u=ts;continue}u=rs,l++;break;case es:if("/"==o){u=os;break}u=hs;continue;case ts:if(e.scheme=i.scheme,o==ua)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Ha(e))u=ns;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=vs;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=hs;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=ws}break;case ns:if(!Ha(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=hs;continue}u=os}else u=rs;break;case is:if(u=rs,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case rs:if("/"!=o&&"\\"!=o){u=os;continue}break;case os:if("@"==o){d&&(f="%40"+f),d=!0,a=Po(f);for(var v=0;v<a.length;v++){var w=a[v];if(":"!=w||p){var m=Ba(w,Fa);p?e.password+=m:e.username+=m}else p=!0}f=""}else if(o==ua||"/"==o||"?"==o||"#"==o||"\\"==o&&Ha(e)){if(d&&""==f)return"Invalid authority";l-=Po(f).length+1,f="",u=as}else f+=o;break;case as:case ss:if(n&&"file"==e.scheme){u=fs;continue}if(":"!=o||h){if(o==ua||"/"==o||"?"==o||"#"==o||"\\"==o&&Ha(e)){if(Ha(e)&&""==f)return ba;if(n&&""==f&&(qa(e)||null!==e.port))return;if(s=ja(e,f))return s;if(f="",u=ds,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),f+=o}else{if(""==f)return ba;if(s=ja(e,f))return s;if(f="",u=cs,n==ss)return}break;case cs:if(!xa.test(o)){if(o==ua||"/"==o||"?"==o||"#"==o||"\\"==o&&Ha(e)||n){if(""!=f){var g=parseInt(f,10);if(g>65535)return ka;e.port=Ha(e)&&g===Wa[e.scheme]?null:g,f=""}if(n)return;u=ds;continue}return ka}f+=o;break;case us:if(e.scheme="file","/"==o||"\\"==o)u=ls;else{if(!i||"file"!=i.scheme){u=hs;continue}if(o==ua)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",u=vs;else{if("#"!=o){Ga(r.slice(l).join(""))||(e.host=i.host,e.path=i.path.slice(),$a(e)),u=hs;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=ws}}break;case ls:if("/"==o||"\\"==o){u=fs;break}i&&"file"==i.scheme&&!Ga(r.slice(l).join(""))&&(Ya(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=hs;continue;case fs:if(o==ua||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Ya(f))u=hs;else if(""==f){if(e.host="",n)return;u=ds}else{if(s=ja(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",u=ds}continue}f+=o;break;case ds:if(Ha(e)){if(u=hs,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=ua&&(u=hs,"/"!=o))continue}else e.fragment="",u=ws;else e.query="",u=vs;break;case hs:if(o==ua||"/"==o||"\\"==o&&Ha(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?($a(e),"/"==o||"\\"==o&&Ha(e)||e.path.push("")):Ja(f)?"/"==o||"\\"==o&&Ha(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Ya(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==ua||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=vs):"#"==o&&(e.fragment="",u=ws)}else f+=Ba(o,Da);break;case ps:"?"==o?(e.query="",u=vs):"#"==o?(e.fragment="",u=ws):o!=ua&&(e.path[0]+=Ba(o,Ma));break;case vs:n||"#"!=o?o!=ua&&("'"==o&&Ha(e)?e.query+="%27":e.query+="#"==o?"%23":Ba(o,Ma)):(e.fragment="",u=ws);break;case ws:o!=ua&&(e.fragment+=Ba(o,_a))}l++}},gs=function(e){var t,n,i=Ln(this,gs,"URL"),r=arguments.length>1?arguments[1]:void 0,a=String(e),s=va(i,{type:"URL"});if(void 0!==r)if(r instanceof gs)t=wa(r);else if(n=ms(t={},String(r)))throw TypeError(n);if(n=ms(s,a,null,t))throw TypeError(n);var c=s.searchParams=new ha,u=pa(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},o||(i.href=bs.call(i),i.origin=ks.call(i),i.protocol=As.call(i),i.username=Ss.call(i),i.password=xs.call(i),i.host=Cs.call(i),i.hostname=Es.call(i),i.port=Is.call(i),i.pathname=Rs.call(i),i.search=Ps.call(i),i.searchParams=Os.call(i),i.hash=Ls.call(i))},ys=gs.prototype,bs=function(){var e=wa(this),t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==r?(u+="//",qa(e)&&(u+=n+(i?":"+i:"")+"@"),u+=Va(r),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},ks=function(){var e=wa(this),t=e.scheme,n=e.port;if("blob"==t)try{return new gs(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Ha(e)?t+"://"+Va(e.host)+(null!==n?":"+n:""):"null"},As=function(){return wa(this).scheme+":"},Ss=function(){return wa(this).username},xs=function(){return wa(this).password},Cs=function(){var e=wa(this),t=e.host,n=e.port;return null===t?"":null===n?Va(t):Va(t)+":"+n},Es=function(){var e=wa(this).host;return null===e?"":Va(e)},Is=function(){var e=wa(this).port;return null===e?"":String(e)},Rs=function(){var e=wa(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ps=function(){var e=wa(this).query;return e?"?"+e:""},Os=function(){return wa(this).searchParams},Ls=function(){var e=wa(this).fragment;return e?"#"+e:""},Ts=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&Nt(ys,{href:Ts(bs,(function(e){var t=wa(this),n=String(e),i=ms(t,n);if(i)throw TypeError(i);pa(t.searchParams).updateSearchParams(t.query)})),origin:Ts(ks),protocol:Ts(As,(function(e){var t=wa(this);ms(t,String(e)+":",Ka)})),username:Ts(Ss,(function(e){var t=wa(this),n=Po(String(e));if(!za(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=Ba(n[i],Fa)}})),password:Ts(xs,(function(e){var t=wa(this),n=Po(String(e));if(!za(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=Ba(n[i],Fa)}})),host:Ts(Cs,(function(e){var t=wa(this);t.cannotBeABaseURL||ms(t,String(e),as)})),hostname:Ts(Es,(function(e){var t=wa(this);t.cannotBeABaseURL||ms(t,String(e),ss)})),port:Ts(Is,(function(e){var t=wa(this);za(t)||(""==(e=String(e))?t.port=null:ms(t,e,cs))})),pathname:Ts(Rs,(function(e){var t=wa(this);t.cannotBeABaseURL||(t.path=[],ms(t,e+"",ds))})),search:Ts(Ps,(function(e){var t=wa(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ms(t,e,vs)),pa(t.searchParams).updateSearchParams(t.query)})),searchParams:Ts(Os),hash:Ts(Ls,(function(e){var t=wa(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ms(t,e,ws)):t.fragment=null}))}),re(ys,"toJSON",(function(){return bs.call(this)}),{enumerable:!0}),re(ys,"toString",(function(){return bs.call(this)}),{enumerable:!0}),da){var js=da.createObjectURL,Ns=da.revokeObjectURL;js&&re(gs,"createObjectURL",(function(e){return js.apply(da,arguments)})),Ns&&re(gs,"revokeObjectURL",(function(e){return Ns.apply(da,arguments)}))}rn(gs,"URL"),Ne({global:!0,forced:!xo,sham:!o},{URL:gs});var Us=E.f,Vs="".startsWith,Ms=Math.min,_s=Qe("startsWith"),Ds=!_s&&!!function(){var e=Us(String.prototype,"startsWith");return e&&!e.writable}();Ne({target:"String",proto:!0,forced:!Ds&&!_s},{startsWith:function(e){var t=String(p(this));Je(e);var n=de(Ms(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return Vs?Vs.call(t,i,n):t.slice(n,n+i.length)===i}});var Fs=me.includes;Ne({target:"Array",proto:!0},{includes:function(e){return Fs(this,e,arguments.length>1?arguments[1]:void 0)}}),Yt("includes");var Bs=Ye("species"),Ws=RegExp.prototype,Hs=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),qs="$0"==="a".replace(/./,"$0"),zs=Ye("replace"),Ys=!!/./[zs]&&""===/./[zs]("a","$0"),Gs=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),$s=function(e,t,n,i){var o=Ye(e),a=!r((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=a&&!r((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Bs]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!s||"replace"===e&&(!Hs||!qs||Ys)||"split"===e&&!Gs){var c=/./[o],u=n(o,""[e],(function(e,t,n,i,r){var o=t.exec;return o===mo||o===Ws.exec?a&&!r?{done:!0,value:c.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:qs,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ys}),l=u[0],f=u[1];re(String.prototype,e,l),re(Ws,o,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}i&&O(Ws[o],"sham",!0)},Js=pr.charAt,Ks=function(e,t,n){return t+(n?Js(e,t).length:1)},Qs=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==f(e))throw TypeError("RegExp#exec called on incompatible receiver");return mo.call(e,t)},Xs=Jr.UNSUPPORTED_Y,Zs=[].push,ec=Math.min,tc=4294967295;$s("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(p(this)),r=void 0===n?tc:n>>>0;if(0===r)return[];if(void 0===e)return[i];if(!$e(e))return t.call(i,e,r);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,u+"g");(o=mo.call(f,i))&&!((a=f.lastIndex)>l&&(c.push(i.slice(l,o.index)),o.length>1&&o.index<i.length&&Zs.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=r));)f.lastIndex===o.index&&f.lastIndex++;return l===i.length?!s&&f.test("")||c.push(""):c.push(i.slice(l)),c.length>r?c.slice(0,r):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=p(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,r,n):i.call(String(r),t,n)},function(e,r){var o=n(i,e,this,r,i!==t);if(o.done)return o.value;var a=I(e),s=String(this),c=Jn(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Xs?"g":"y"),f=new c(Xs?"^(?:"+a.source+")":a,l),d=void 0===r?tc:r>>>0;if(0===d)return[];if(0===s.length)return null===Qs(f,s)?[s]:[];for(var h=0,p=0,v=[];p<s.length;){f.lastIndex=Xs?0:p;var w,m=Qs(f,Xs?s.slice(p):s);if(null===m||(w=ec(de(f.lastIndex+(Xs?p:0)),s.length))===h)p=Ks(s,p,u);else{if(v.push(s.slice(h,p)),v.length===d)return v;for(var g=1;g<=m.length-1;g++)if(v.push(m[g]),v.length===d)return v;p=h=w}}return v.push(s.slice(h)),v}]}),Xs),$s("match",1,(function(e,t,n){return[function(t){var n=p(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var r=I(e),o=String(this);if(!r.global)return Qs(r,o);var a=r.unicode;r.lastIndex=0;for(var s,c=[],u=0;null!==(s=Qs(r,o));){var l=String(s[0]);c[u]=l,""===l&&(r.lastIndex=Ks(o,de(r.lastIndex),a)),u++}return 0===u?null:c}]})),Ne({target:"String",proto:!0,forced:!Qe("includes")},{includes:function(e){return!!~String(p(this)).indexOf(Je(e),arguments.length>1?arguments[1]:void 0)}});var nc=[].join,ic=h!=Object,rc=Et("join",",");Ne({target:"Array",proto:!0,forced:ic||!rc},{join:function(e){return nc.call(v(this),void 0===e?",":e)}});var oc=!Gn((function(e){Array.from(e)}));Ne({target:"Array",stat:!0,forced:oc},{from:Po});var ac=Ct.findIndex,sc="findIndex",cc=!0;sc in[]&&Array(1).findIndex((function(){cc=!1})),Ne({target:"Array",proto:!0,forced:cc},{findIndex:function(e){return ac(this,e,arguments.length>1?arguments[1]:void 0)}}),Yt(sc);var uc=["finance.yahoo.com","news.yahoo.com","sports.yahoo.com"],lc=new RegExp(/rs="([^"]*)"/),fc={lmsid:"lmsid",lpstaid:"lpstaid",lu:"lu",pct:"pageContentType",pd:"pageDesign",pl:"pl",pt:"pageType",revsp:"revsp",ver:"appName"},dc=function(e){return new Promise((function(t){return setTimeout(t,e)}))},hc=function e(t,n){var i=n.className,r=n.id,o=n.tagName;if(t)return i&&!t.classList.contains(i)||r&&r!==t.id||o&&t.tagName!==o?e(t.parentElement,{className:i,id:r,tagName:o}):t},pc=function(e){if(!e||e.startsWith("/"))return e;var t=new URL(e),n=t.hostname,i=t.pathname;if(uc.includes(n)&&n!==window.location.hostname){var r=dt(n.split("."),1)[0];return"/".concat(r).concat(i)}return i},vc=function(e){return new URL(e).hostname||""};function wc(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];void 0!==i&&t.push("".concat(n,"=").concat(i))}return t.join("&")}function mc(e){var t="p.gif";return"finance"!==e&&"news"!==e||(t="_td_api/beacon/error"),t}var gc=function e(t){if(t)return t.hasAttribute("data-uuid")?t.getAttribute("data-uuid"):t.hasAttribute("data-wf-caas-uuid")?t.getAttribute("data-wf-caas-uuid"):e(t.parentElement)},yc=function(e,t){var n,i=e,r=wt(t.split("."));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!i||!i.hasOwnProperty(o))return;i=i[o]}}catch(e){r.e(e)}finally{r.f()}return i},bc=function(){var e=window.location,t=e.hostname,n=e.port,i=e.protocol;return"localhost"!==t&&"4443"!==n&&"http:"!==i},kc=function(){var e,t,n;return(null===(e=window.vzm)||void 0===e||null===(t=e.getPageContext)||void 0===t?void 0:t.call(e))||(null===(n=window.YAHOO)||void 0===n?void 0:n.context)},Ac=function(e){var t=kc(),n=(null==t?void 0:t.bucket)||(null==t?void 0:t.bucketId)||"";return{pg:{device:t.device||"",intl:t.intl||"",property:e,rid:t.rid,test:n}}},Sc=function(e){if(e&&e.parentElement){var t=hc(e.parentElement,{id:"content-articles-wrapper"});if(t){var n=t.querySelectorAll("div.wafer-caas,div.wafer-caas-complete");return Array.from(n).findIndex((function(t){return t===e}))+1}}},xc=function(e){var t,n,i;return window.wafer.features.isPWA&&(t="apptype",n="pwa",(i=new URL(e)).searchParams.set(t,n),e=i.href),e},Cc=function(){function e(){var t=this;st(this,e),document.getElementById("content-viewer-template")||window.wafer.ready((function(){t.bootstrap()}))}var t;return ut(e,[{key:"init",value:function(){}},{key:"bootstrap",value:(t=at(regeneratorRuntime.mark((function e(){var t,n,i,r,o,a,s,c,u,l,f,d,h,p,v,w,m,g,y,b,k,A,S,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kc(),i=null==n?void 0:n.apptype,r=(null==n?void 0:n.region)||"US",o=null==n?void 0:n.device,a=null==n?void 0:n.contentSite,s=null===(t=window.rapidInstance)||void 0===t?void 0:t.getRapidAttribute("keys"),c=s.site,u=void 0===c?"fp":c,l=ft(s,["site"]),f=(null==n?void 0:n.lang)||l.lang||"en-US",d={contentSite:a,device:o,lang:f,region:r,site:u},h=bc()?"":"https://www.yahoo.com",p=a?"/".concat(a,"/layouts"):"/layouts",v=wc({apptype:i,device:o,lang:f,region:r,site:u}),w="".concat(h).concat(p,"?").concat(v),e.prev=12,e.next=15,window.wafer.utils.fetchWithCache(w,{cacheStrategy:"cacheFirst",cacheTtl:1e3,credentials:"include"});case 15:y=e.sent,b=y.configs,k=y.layout,document.body.insertAdjacentHTML("beforeend",k),window.adsConfig=window.adsConfig||b.ads,null!==(m=b.viewer)&&void 0!==m&&null!==(g=m.rightRail)&&void 0!==g&&g.disableSidekick&&b.ads&&(window.adsConfig=b.ads),window.YAHOO.viewer.init(rt({context:d},b.viewer)),e.next=31;break;case 24:e.prev=24,e.t0=e.catch(12),window.YAHOO.viewer.init({context:d}),A=(null==n?void 0:n.site)||"fp",S=mc(A),x="/".concat(S,"?error=layout_fetch_failed&message=").concat(null===e.t0||void 0===e.t0?void 0:e.t0.message),window.wafer.utils.fireBeacon(x,{useNavigator:!1,useTimestamp:!1});case 31:window.wafer.base.sync(document.body);case 32:case"end":return e.stop()}}),e,null,[[12,24]])}))),function(){return t.apply(this,arguments)})}]),e}(),Ec=function(){function e(){st(this,e)}var t,n,i;return ut(e,[{key:"init",value:function(){"function"==typeof yc(window,"s.t")&&(this.adobeAnalytics=window.s,window.wafer.on("caas:article:inview",this.adobeAnalytics.t))}},{key:"onContentDidChange",value:(i=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adobeAnalytics&&(this.adobeAnalytics.prop53="Modal");case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onClick",value:(n=at(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adobeAnalytics&&(t=this.adobeAnalytics.pna||"",n=window.location.hostname.split(".",1),this.adobeAnalytics.pageName="net|".concat(n,"|").concat(t));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onViewerClosed",value:(t=at(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adobeAnalytics&&(t=this.adobeAnalytics.pna||"",n=window.location.hostname.split(".",1),this.adobeAnalytics.pageName="net|".concat(n,"|").concat(t),this.adobeAnalytics.prop53="Modal Close",this.adobeAnalytics.t(),this.adobeAnalytics.clearVars());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Ic=Ct.filter,Rc=Dr("filter");Ne({target:"Array",proto:!0,forced:!Rc},{filter:function(e){return Ic(this,e,arguments.length>1?arguments[1]:void 0)}});var Pc=Math.floor,Oc="".replace,Lc=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Tc=/\$([$&'`]|\d{1,2})/g,jc=function(e,t,n,i,r,o){var a=n+e.length,s=i.length,c=Tc;return void 0!==r&&(r=g(r),c=Lc),Oc.call(o,c,(function(o,c){var u;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":u=r[c.slice(1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var f=Pc(l/10);return 0===f?o:f<=s?void 0===i[f-1]?c.charAt(1):i[f-1]+c.charAt(1):o}u=i[l-1]}return void 0===u?"":u}))},Nc=Math.max,Uc=Math.min;$s("replace",2,(function(e,t,n,i){var r=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=i.REPLACE_KEEPS_$0,a=r?"$":"$0";return[function(n,i){var r=p(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!r&&o||"string"==typeof i&&-1===i.indexOf(a)){var s=n(t,e,this,i);if(s.done)return s.value}var c=I(e),u=String(this),l="function"==typeof i;l||(i=String(i));var f=c.global;if(f){var d=c.unicode;c.lastIndex=0}for(var h=[];;){var p=Qs(c,u);if(null===p)break;if(h.push(p),!f)break;""===String(p[0])&&(c.lastIndex=Ks(u,de(c.lastIndex),d))}for(var v,w="",m=0,g=0;g<h.length;g++){p=h[g];for(var y=String(p[0]),b=Nc(Uc(le(p.index),u.length),0),k=[],A=1;A<p.length;A++)k.push(void 0===(v=p[A])?v:String(v));var S=p.groups;if(l){var x=[y].concat(k,b,u);void 0!==S&&x.push(S);var C=String(i.apply(void 0,x))}else C=jc(y,u,b,k,S,i);b>=m&&(w+=u.slice(m,b)+C,m=b+y.length)}return w+u.slice(m)}]}));var Vc=Ct.map,Mc=Dr("map");Ne({target:"Array",proto:!0,forced:!Mc},{map:function(e){return Vc(this,e,arguments.length>1?arguments[1]:void 0)}});var _c="AUTO",Dc=["INARTICLE","INARTICLE-1","WIDGET","WIDGET-1"],Fc=function(){function e(){st(this,e),this.event="homepage-viewer",this.viewportEvent="homepage-viewer-viewport",this.onScrollHandle=null,this.viewportAdPositions=[],this.viewportAdFetchSlotIndex=[],this.viewportPreviousAdFetchSlotIndex=[],this.pageContext={},this.perArticleAdPositions=[]}return ut(e,[{key:"init",value:function(e){var t,n;(e&&(this.site=e.context.site||"fp"),this.pageContext=kc()||{},window.adsConfig)?this.config=window.adsConfig:(new Image).src="/".concat(mc(this.site),"?error=no_ads_config");this.rotateIndexPageAds=(null==e||null===(t=e.ads)||void 0===t?void 0:t.rotateIndexPageAds)||!1,this.perArticleRREnabled=(null===(n=e.rightRail)||void 0===n?void 0:n.disableSidekick)||!1,window.wafer.on("caas:article:init",this.displayAds.bind(this)),window.wafer.on("caas:article:init",this.setWaferState.bind(this)),this.perArticleRREnabled&&window.wafer.on("caas:article:inview",this.fetchPerArticleAds.bind(this))}},{key:"onClick",value:function(e){"slideshow"===e.type&&window.DARLA&&!window.DARLA.inProgress()&&window.DARLA.event("slideshow")}},{key:"getAdBlockConfig",value:function(){var e,t,n,i;if(this.config){var r=JSON.parse(JSON.stringify(this.config)),o=r.viewerPositionMeta.positions,a=(null===(e=r.strings)||void 0===e?void 0:e.advertisement)||"Advertisement";null!==(t=r.viewerViewportAdFetch)&&void 0!==t&&t.slots&&null!==(n=r.viewerViewportAdFetch.slots[0])&&void 0!==n&&null!==(i=n.positions)&&void 0!==i&&i.length&&(r.viewerViewportAdFetch.slots.forEach((function(e){var t;null!==(t=e.positions)&&void 0!==t&&t.length&&(o=o.concat(e.positions))})),r.viewerViewportAdFetch.slots=[]),r.viewerPositionMeta.positions=o.filter((function(e){var t;return null!==(t=r.viewerPositionMeta)&&void 0!==t&&t.enableUBAMON?!e.id.startsWith("INARTICLE")&&!e.id.startsWith("MAST")&&!e.id.startsWith("FSRVY"):!(e.id.startsWith("INARTICLE")||e.id.startsWith("MAST")||e.id.startsWith("MON")||e.id.startsWith("MON2")||e.id.startsWith("FSRVY"))}));var s,c=wt(r.viewerPositionMeta.positions);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=document.getElementById(u.clean),f=document.getElementById(u.dest);if(l&&l.parentNode&&f){u.id="UBA"+u.id;var d=document.createElement("div");d.id="viewer-"+u.id+"-base",d.style.width="100%",d.className="uba-container",u.clean=u.clean.replace("-","-UBA"),l.id=u.clean,u.dest=u.dest.replace("-","-UBA"),f.id=u.dest,l.parentNode.insertBefore(d,l),d.appendChild(l);var h=document.createElement("span");h.innerText=a,h.style.color="#787d82",h.style.display="block",h.style.fontSize="11px",h.style.marginBottom="3px",h.style.marginLeft="auto",h.style.marginRight="auto",u.id.indexOf("LDRB")>=0?h.style.width="728px":h.style.width="100%",d.insertBefore(h,l)}}}catch(e){c.e(e)}finally{c.f()}return r}}},{key:"getConfig",value:function(){return document.cookie.includes("thamba=2")?this.getAdBlockConfig():this.config}},{key:"onViewerClosed",value:function(){var e,t,n,i;(window.DARLA&&window.DARLA.inProgress()&&window.DARLA.abort(),this.onScrollHandle&&(window.wafer.removeListener("scroll",this.onScrollHandle),this.onScrollHandle=null),null!==(e=this.config)&&void 0!==e&&e.viewerResetAutoEventOnClose&&null!==(t=this.darlaAutoEvent)&&void 0!==t&&t.ps)&&(null===(n=window.DARLA)||void 0===n||n.add(_c,this.darlaAutoEvent));this.rotateIndexPageAds&&(null===(i=window.DARLA)||void 0===i||i.event("adFetch"))}},{key:"addPosition",value:function(e){var t=[],n=window.location.protocol+"//"+window.location.host;window.location.pathname&&(n+=window.location.pathname);var i,r=wt(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.push(o.id),o.meta||(o.meta={}),o.meta.hostURL=n,window.DARLA.addPos(o)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"addViewportDarlaEvent",value:function(e){var t;null===(t=window.DARLA)||void 0===t||t.add(this.viewportEvent,{name:this.viewportEvent,ps:e.join(","),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId})}},{key:"fetchPerArticleAds",value:function(e){if(window.DARLA&&(this.getPerArticleAdPositions(e),this.perArticleAdPositions.length)){var t,n,i,r=null==e||null===(t=e.meta)||void 0===t?void 0:t.data,o=null==r?void 0:r.adMeta;this.spaceId=null==o?void 0:o.spaceid;var a=(null==o?void 0:o.site_attribute)||"";null!==(n=this.config)&&void 0!==n&&null!==(i=n.viewerPositionMeta)&&void 0!==i&&i.siteAttributes&&(this.siteAttribute=a+" "+this.config.viewerPositionMeta.siteAttributes),window.DARLA.inProgress()?this.delayFetchAds(this.displayPerArticleAds,20):this.displayPerArticleAds()}}},{key:"displayAds",value:function(e){var t,n,i,r=this,o=this.getConfig();if(window.DARLA&&o){window.DARLA.inProgress()&&window.DARLA.abort(),this.contentSite=e.meta.data.adMeta&&e.meta.data.adMeta.site||"",this.spaceId=e.meta.data.spaceId;var a=[],s=e.meta.data.adMeta&&e.meta.data.adMeta.site_attribute||"",c=this.pageContext.bucket||this.pageContext.bucketId,u=c?"Y-BUCKET="+c:"";s.indexOf("page_template")<0&&(s+=" page_template=modal"),this.siteAttribute=o.viewerPositionMeta.siteAttributes+" "+s+" "+u;var l=JSON.parse(JSON.stringify(o.viewerPositionMeta.positions)),f=[];if(o.viewerPositionMeta&&(f=this.addPosition(l)),null!==(t=o.viewerViewportAdFetch)&&void 0!==t&&t.slots&&null!==(n=o.viewerViewportAdFetch.slots[0])&&void 0!==n&&null!==(i=n.positions)&&void 0!==i&&i.length&&(this.viewportAdPositions=o.viewerViewportAdFetch.slots.map((function(e){return rt(rt({},e),{},{fetched:!1})})),this.viewportAdPositions.forEach((function(e){a=a.concat(r.addPosition(e.positions))}))),this.isViewportAdFetchEnabled()&&a.length?(this.onScrollHandle=this.handleScrollEvent.bind(this),window.wafer.on("scroll",this.onScrollHandle)):f=f.concat(a),window.DARLA.add(this.event,{name:this.event,ps:f.join(","),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId,ult:Ac(this.contentSite)}),window.DARLA.add("slideshow",{name:"slideshow",ps:o.viewerPositionMeta.slideshowPositions,ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId,ult:Ac(this.contentSite)}),!document.cookie.includes("thamba=2")){window.DARLA.stopAuto();var d={autoDDG:1,autoIV:1,autoMax:25,autoRT:1e4,autoStart:1,name:_c,ps:f.concat(a).reduce((function(e,t){return Dc.includes(t)||(e[t]={autoIV:1,autoMax:25,autoRT:1e4}),e}),{}),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId,ult:Ac(this.contentSite)};this.config.viewerPositionMeta.groupRotation&&(d.groups=this.config.viewerPositionMeta.groupRotation),this.darlaAutoEvent=window.DARLA.evtSettings(_c),window.DARLA.add(_c,d),window.DARLA.startAuto()}window.DARLA.event(this.event)}}},{key:"getPerArticleAdPositions",value:function(e){var t=e.elem,n=e.meta,i=(n=void 0===n?{}:n).data,r=(i=void 0===i?{}:i).uuid,o=void 0===r?"":r,a=Sc(t);if(!(!a||a<2||a>3)){var s=[],c=t.querySelector("#caas-art-".concat(o," #viewer-LREC-iframe")),u=1===a?"":"-".concat(a);c&&c.parentElement&&(c.parentElement.id="viewer-LREC".concat(u),c.id="viewer-LREC".concat(u,"-iframe"),s.push("LREC-".concat(a)));var l=t.querySelector("#caas-art-".concat(o," #viewer-LREC2-iframe"));l&&l.parentElement&&(l.parentElement.id="viewer-LREC2".concat(u),l.id="viewer-LREC2".concat(u,"-iframe"),s.push("LREC2-".concat(a))),this.perArticleAdPositions=s}}},{key:"displayPerArticleAds",value:function(){var e,t=this;if(window.DARLA&&null!==(e=this.perArticleAdPositions)&&void 0!==e&&e.length){var n,i,r=null===(n=this.config)||void 0===n||null===(i=n.viewerPositionMeta)||void 0===i?void 0:i.positions.filter((function(e){return-1!==t.perArticleAdPositions.indexOf(e.id)})),o=[],a=window.location.protocol+"//"+window.location.host;if(window.location.pathname&&(a+=window.location.pathname),null!=r&&r.length){var s,c=wt(r);try{for(c.s();!(s=c.n()).done;){var u=s.value;o.push(u.id),u.meta||(u.meta={}),u.meta.hostURL=a,window.DARLA.addPos(u)}}catch(e){c.e(e)}finally{c.f()}window.DARLA.add(this.event,{name:this.event,ps:this.perArticleAdPositions,ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId}),window.DARLA.event(this.event)}}}},{key:"setWaferState",value:function(e){var t=e.meta.data,n=t.adMeta,i=t.spaceId,r=function(e){if(e){var t=e.match(lc);if(t.length>=2){var n,i={},r=wt(t[1].split(";"));try{for(r.s();!(n=r.n()).done;){var o=n.value;(o=o.split(":")).length>=2&&fc[o[0]]&&(i[fc[o[0]]]=o[1])}}catch(e){r.e(e)}finally{r.f()}return i}}return null}(n.site_attribute);window.wafer.state={viewerMainArticlePubBlob:JSON.stringify(r).replace(/\"/g,'\\"'),viewerMainArticleSpaceId:parseInt(i,10)}}},{key:"getPendingViewportAdSlotIndex",value:function(){var e=[];return this.viewportAdPositions.forEach((function(t,n){t.fetched||e.push(n)})),e}},{key:"getPositionsAndMarkSlot",value:function(){var e=this,t=[];return this.viewportAdFetchSlotIndex.forEach((function(n){var i,r,o;null!==(i=e.viewportAdPositions[n])&&void 0!==i&&null!==(r=i.positions)&&void 0!==r&&r.length&&(t=t.concat(null===(o=e.viewportAdPositions[n])||void 0===o?void 0:o.positions.map((function(e){return e.id}))),e.viewportAdPositions[n].fetched=!0)})),t}},{key:"isViewportAdFetchEnabled",value:function(){var e,t,n,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.config;if(!this.contentSite||!r||i&&document.cookie.includes("thamba=2"))return!1;if(null!==(e=r.viewerViewportAdFetch)&&void 0!==e&&e.slots&&null!==(t=r.viewerViewportAdFetch.slots[0])&&void 0!==t&&null!==(n=t.positions)&&void 0!==n&&n.length){var o,a=(null===(o=r.viewerViewportAdFetch)||void 0===o?void 0:o.sites)||[];return-1!==a.indexOf(this.contentSite)}return!1}},{key:"isAdPositionsInViewport",value:function(e){var t=!1;return e.forEach((function(e){var n=document.getElementById(e.clean);!t&&n&&(t=window.wafer.utils.elementInView(n,{},window.wafer.base.viewport))})),t}},{key:"isSlotPositionsInViewport",value:function(e){var t=this,n=!1;return e.forEach((function(e){var i,r=null===(i=t.viewportAdPositions[e])||void 0===i?void 0:i.positions,o=r&&t.isAdPositionsInViewport(r);o&&!t.viewportAdFetchSlotIndex.includes(e)&&t.viewportAdFetchSlotIndex.push(e),!n&&o&&(n=!0)})),n}},{key:"displayViewportAds",value:function(){if(window.DARLA){var e=window.DARLA.evtSettings(this.event),t=this.getPositionsAndMarkSlot();if(!t.length)return;e&&(e.ps="".concat(e.ps,",").concat(t.join(",")),window.DARLA.add(this.event,e)),this.addViewportDarlaEvent(t),this.viewportPreviousAdFetchSlotIndex=this.viewportAdFetchSlotIndex,this.viewportAdFetchSlotIndex=[],window.DARLA.event(this.viewportEvent)}}},{key:"delayFetchAds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e)var n=1,i=setInterval((function(){var r;n>t?(clearInterval(i),null!==(r=window.DARLA)&&void 0!==r&&r.inProgress()&&(window.DARLA.abort(),e())):window.DARLA&&!window.DARLA.inProgress()&&(clearInterval(i),e());n++}),500)}},{key:"onScrollViewportFetch",value:function(){var e,t=this,n=this.getPendingViewportAdSlotIndex();if(this.onScrollHandle&&!n.length&&(window.wafer.removeListener("scroll",this.onScrollHandle),this.onScrollHandle=null),this.isSlotPositionsInViewport(n)){var i,r=null===(e=window.DARLA)||void 0===e?void 0:e.inProgress();if(r)if(r!==this.event)null===(i=window.DARLA)||void 0===i||i.abort(),r===this.viewportEvent&&this.viewportPreviousAdFetchSlotIndex.length&&(this.viewportPreviousAdFetchSlotIndex.forEach((function(e){t.viewportAdFetchSlotIndex.includes(e)||t.viewportAdFetchSlotIndex.push(e)})),this.viewportPreviousAdFetchSlotIndex=[]),this.displayViewportAds();else this.delayFetchAds(this.displayViewportAds);else this.viewportPreviousAdFetchSlotIndex=[],this.displayViewportAds()}}},{key:"handleScrollEvent",value:function(){var e=this;"function"==typeof requestAnimationFrame?(this.scrollAnimationFrameTimer&&cancelAnimationFrame(this.scrollAnimationFrameTimer),this.scrollAnimationFrameTimer=requestAnimationFrame((function(){e.onScrollViewportFetch()}))):this.onScrollViewportFetch()}}]),e}(),Bc=function(){function e(){st(this,e),this.pageContainer="atomic",this.viewerContainer="viewer",this.aft2MaxWaitTime=6e3}return ut(e,[{key:"init",value:function(e){null!=e&&e.yaft&&(e.yaft.pageContainer&&(this.pageContainer=e.yaft.pageContainer),e.yaft.viewerContainer&&(this.viewerContainer=e.yaft.viewerContainer),e.yaft.aft2MaxWaitTime&&(this.aft2MaxWaitTime=e.yaft.aft2MaxWaitTime))}},{key:"onViewerOpened",value:function(){this.onTransitionStart(this.viewerContainer)}},{key:"onContentChange",value:function(){this.onTransitionRenderStart()}},{key:"onViewerClosed",value:function(){this.onTransitionStart(this.pageContainer)}},{key:"onViewerDidClose",value:function(){this.onTransitionRenderStart()}},{key:"onTransitionStart",value:function(e){var t=window.YAFT;t&&t.AFT2&&(t.AFT2.start(),t.updateConfig({maxWaitTime:this.aft2MaxWaitTime,modulesAft2Container:e}),t.adPosLoadTimes=[])}},{key:"onTransitionRenderStart",value:function(){var e=window,t=e.rapidInstance,n=e.YAFT;t&&n&&n.AFT2&&n.AFT2.end((function(e,n){if(!n){var i=Math.round(e.aft),r=e.visuallyComplete,o={perf_commontime:{afterPageLoad:{AFT:i,AFT2:i,STR:Math.round(e.startRender),VIC:r}}};t.beaconPerformanceData(o)}}))}}]),e}();var Wc=function(){function e(){st(this,e),this.clusterUuids=[]}var t;return ut(e,[{key:"init",value:function(e){if(function(e){var t,n;return 1===(null===(t=e.rightRail)||void 0===t||null===(n=t.moduleConfig)||void 0===n?void 0:n.length)}(e)&&e.rightRail.disableSidekick){this.config=e;var t=this.initRightRail.bind(this);window.wafer.on("caas:article:fetch",t)}}},{key:"onContentChange",value:(t=at(regeneratorRuntime.mark((function e(t){var n,i,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.cluster,i=void 0===n?[]:n,this.clusterUuids=[],r=wt(i);try{for(r.s();!(o=r.n()).done;)(a=o.value).uuid&&this.clusterUuids.push(a.uuid)}catch(e){r.e(e)}finally{r.f()}case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initRightRail",value:function(e){var t=e.elem;if(null==t?void 0:t.classList.contains("wafer-caas-complete")){var n=t.getElementsByClassName("caas-dynamic-placeholder")[0];if(n){var i=dt(this.config.rightRail.moduleConfig,1)[0],r=i.classes,o=i.rmp,a=i.xhrPathPrefix,s=void 0===a?"/nel_ms/_rcv/remote":a,c=o.ctrl,u=o.m_id,l=o.config,f=r.modClasses,d=r.successClassName;if(o&&!n.classList.contains(d)){var h=e.meta.data,p=h.spaceId,v=h.uuid,w=this.config.context,m=w.site,g=w.region,y=w.lang,b=w.device,k=w.rid;this.clusterUuids.includes(v)||this.clusterUuids.push(v);var A=wc({ctrl:c,device:b,lang:y,m_id:u,m_mode:"json",region:g,rid:k,site:m}),S=bc()?"":"https://www.yahoo.com",x="".concat(S).concat(s,"?").concat(A),C=rt(rt({},l),{},{ncpQueryParams:rt(rt({},l.ncpQueryParams),{},{dedupUuids:this.clusterUuids.join(),device:b,site:m,spaceId:p,uuid:v})}),E=JSON.stringify({config:C,ctrl:c,m_id:u,m_mode:"json"}),I=C?"data-wf-body=".concat(E):"";n.innerHTML='<div class="wafer-fetch '+"".concat(f,' "')+'data-wf-trigger="viewport" data-wf-cache-ttl="300" data-wf-trigger-offset="300 0" '+'data-wf-url="'.concat(x,'" ').concat(I,"></div>"),n.classList.add(d),window.wafer.base.sync(n)}}}}}]),e}(),Hc=P.f,qc=Function.prototype,zc=qc.toString,Yc=/^\s*function ([^ (]*)/,Gc="name";o&&!(Gc in qc)&&Hc(qc,Gc,{configurable:!0,get:function(){try{return zc.call(this).match(Yc)[1]}catch(e){return""}}});var $c=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};$s("search",1,(function(e,t,n){return[function(t){var n=p(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var r=I(e),o=String(this),a=r.lastIndex;$c(a,0)||(r.lastIndex=0);var s=Qs(r,o);return $c(r.lastIndex,a)||(r.lastIndex=a),null===s?-1:s.index}]}));var Jc=function(){function e(){var t,n,i=this;st(this,e),this.logCaasEvent=function(e){window.wafer.on(e,(function(t){var n=t&&t.meta||{},r="/".concat(i.infoBeaconUri,"?error=").concat(e,"&meta=").concat(JSON.stringify(n));window.wafer.utils.fireBeacon(r,{useNavigator:!1,useTimestamp:!1})}))};var r=null!==(t=null===(n=window.YAHOO)||void 0===n?void 0:n.context)&&void 0!==t?t:{},o=r.apptype,a=r.bucket,s=r.rid;this.context={apptype:o,bucket:a,client:"1",rid:s}}var t,n,i;return ut(e,[{key:"init",value:function(e){e&&(this.site=e.context.site||"fp"),this.infoBeaconUri=mc(this.site);var t=this.beaconPageView.bind(this);window.wafer.on("caas:article:inview",t),window.wafer.on("caas:article:init",t),window.wafer.on("log",this.beaconLog.bind(this)),this.logCaasEvent("caas:prefetch:failed")}},{key:"onClick",value:function(e){"article"===e.type&&(this.uuid=e.payload.uuid,this.t0=Date.now())}},{key:"onContentWillChange",value:(i=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.t1=Date.now();case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onContentChange",value:(n=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.t2=Date.now();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onContentDidChange",value:(t=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.t3=Date.now(),this.beaconClk2Cnt();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onViewerOpened",value:function(){this.beacon({beaconType:"homepage_viewer",info:"show_viewer"})}},{key:"onViewerClosed",value:function(){this.beacon({beaconType:"homepage_viewer",info:"close_viewer"})}},{key:"beaconLog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.name;if(e.type,"WaferCaas"===n||"BrowserType"===n&&t.slow){var i="/".concat(this.infoBeaconUri,"?error=log&meta=").concat(JSON.stringify(t));window.wafer.utils.fireBeacon(i,{useNavigator:!1,useTimestamp:!1})}}},{key:"beaconPageView",value:function(e){var t,n=new Image,i=new URL("/pageview",window.location.origin),r=null===(t=e.meta.data.adMeta)||void 0===t?void 0:t.site;i.search=wc(rt(rt({},this.context),{},{property:r})),n.src=i.toString()}},{key:"beaconClk2Cnt",value:function(){this.beacon({code:"homepage_viewer_clk2cnt",t0:this.t0,t1_t0:Math.floor(this.t1-this.t0),t2_t1:Math.floor(this.t2-this.t1),t3_t2:Math.floor(this.t3-this.t2),time:Math.floor(this.t3-this.t0),uuid:this.uuid})}},{key:"beacon",value:function(e){var t=new Image;t.src="/".concat(this.infoBeaconUri,"?").concat(wc(e))}}]),e}(),Kc=!r((function(){return Object.isExtensible(Object.preventExtensions({}))})),Qc=t((function(e){var t=P.f,n=q("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++i,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!w(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!b(e,n)){if(!r(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!b(e,n)){if(!r(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return Kc&&a.REQUIRED&&r(e)&&!b(e,n)&&o(e),e}};G[n]=!0})),Xc=P.f,Zc=Qc.fastKey,eu=ie.set,tu=ie.getterFor;!function(e,t,n){var o=-1!==e.indexOf("Map"),a=-1!==e.indexOf("Weak"),s=o?"set":"add",c=i[e],u=c&&c.prototype,l=c,f={},d=function(e){var t=u[e];re(u,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(a&&!w(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!w(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!w(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Te(e,"function"!=typeof c||!(a||u.forEach&&!r((function(){(new c).entries().next()})))))l=n.getConstructor(t,e,o,s),Qc.REQUIRED=!0;else if(Te(e,!0)){var h=new l,p=h[s](a?{}:-0,1)!=h,v=r((function(){h.has(1)})),m=Gn((function(e){new c(e)})),g=!a&&r((function(){for(var e=new c,t=5;t--;)e[s](t,t);return!e.has(-0)}));m||((l=t((function(t,n){Ln(t,l,e);var i=Yr(new c,t,l);return null!=n&&Dn(n,i[s],{that:i,AS_ENTRIES:o}),i}))).prototype=u,u.constructor=l),(v||g)&&(d("delete"),d("has"),o&&d("get")),(g||p)&&d(s),a&&u.clear&&delete u.clear}f[e]=l,Ne({global:!0,forced:l!=c},f),rn(l,e),a||n.setStrong(l,e,o)}("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,i){var r=e((function(e,a){Ln(e,r,t),eu(e,{type:t,index:Ft(null),first:void 0,last:void 0,size:0}),o||(e.size=0),null!=a&&Dn(a,e[i],{that:e,AS_ENTRIES:n})})),a=tu(t),s=function(e,t,n){var i,r,s=a(e),u=c(e,t);return u?u.value=n:(s.last=u={index:r=Zc(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=u),i&&(i.next=u),o?s.size++:e.size++,"F"!==r&&(s.index[r]=u)),e},c=function(e,t){var n,i=a(e),r=Zc(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return Rn(r.prototype,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,o?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),i=c(t,e);if(i){var r=i.next,s=i.previous;delete n.index[i.index],i.removed=!0,s&&(s.next=r),r&&(r.previous=s),n.first==i&&(n.first=r),n.last==i&&(n.last=s),o?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=a(this),i=yt(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),Rn(r.prototype,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),o&&Xc(r.prototype,"size",{get:function(){return a(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=tu(t),o=tu(i);wn(e,t,(function(e,t){eu(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),On(t)}}),Ne({target:"Object",stat:!0,forced:Object.assign!==Io},{assign:Io});var nu=r((function(){jt(1)}));Ne({target:"Object",stat:!0,forced:nu},{keys:function(e){return jt(g(e))}});var iu=Dr("slice"),ru=Ye("species"),ou=[].slice,au=Math.max;Ne({target:"Array",proto:!0,forced:!iu},{slice:function(e,t){var n,i,r,o=v(this),a=de(o.length),s=ve(e,a),c=ve(void 0===t?a:t,a);if(bt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!bt(n.prototype)?w(n)&&null===(n=n[ru])&&(n=void 0):n=void 0,n===Array||void 0===n))return ou.call(o,s,c);for(i=new(void 0===n?Array:n)(au(c-s,0)),r=0;s<c;s++,r++)s in o&&Mr(i,r,o[s]);return i.length=r,i}});var su=c.f,cu=function(e){return function(t){for(var n,i=v(t),r=jt(i),a=r.length,s=0,c=[];a>s;)n=r[s++],o&&!su.call(i,n)||c.push(e?[n,i[n]]:i[n]);return c}},uu={entries:cu(!0),values:cu(!1)}.values;Ne({target:"Object",stat:!0},{values:function(e){return uu(e)}});var lu=function(){function e(t){st(this,e),this.className=t.targetClassName,this.clusters=[],this.clusterSize=t.clusterSize,this.headerAnchorId="",this.home=new URL(location.href),this.isViewerClosed=!0,this.ntkClusterSize=t.ntkClusterSize,this.tagName=t.targetTagName}return ut(e,[{key:"init",value:function(e){var t;null!=e&&null!==(t=e.clickHandler)&&void 0!==t&&t.clusterSize&&(this.clusterSize=e.clickHandler.clusterSize);var n=this.handleClick.bind(this),i=document.getElementById("header-logo");i?this.headerAnchorId="header-logo":(i=document.getElementById("ybar-logo"))&&(this.headerAnchorId="ybar-logo");var r=this.handleCaaSClickLink.bind(this);document.body.addEventListener("click",n,{capture:!0}),window.wafer.on("caas:link:clicked",r),window.wafer.on("caas:yahooLink:clicked",r),this.viewerNode=document.getElementById("viewer")}},{key:"getArticles",value:function(e,t){var n,i={},r=wt(e.querySelectorAll("[data-wf-caas-uuid]"));try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.getAttribute("data-wf-caas-uuid");if(a!==t){var s=o.getAttribute("href")||"",c=pc(s);a&&c&&(i[a]={pathname:c,uuid:a})}}}catch(e){r.e(e)}finally{r.f()}return i}},{key:"onViewerClosed",value:function(){this.clusters=[],this.isViewerClosed=!0}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href)}},{key:"onViewerOpened",value:function(){this.isViewerClosed=!1}},{key:"getElementComposedMap",value:function(e){for(var t=e,n=new Map;t;)n.set(t,!0),t=t.parentElement;return n}},{key:"getClusterSize",value:function(e){return 0===Math.max(this.clusterSize,this.ntkClusterSize)?0:hc(e,{className:"ntktdv2"})?this.ntkClusterSize:hc(e,{className:"yns-notifications"})?0:this.clusterSize}},{key:"handleCaaSClickLink",value:function(e){var t=e.meta.data;if(t.isComment){var n=t.uuid;return this.dispatch(Ir,{payload:{uuid:n},type:"comments"})}var i=t.sec;if(t.href){var r=t.pos,o=t.slk;return this.dispatch(Ir,{payload:{pos:r,ylk:Object.assign({sec:i,slk:o},t.params)},type:"link"}),void(window.open(t.href,t.target).opener=null)}if("sshow"===i){var a=t.pos,s=t.sec,c=t.slk;this.dispatch(Ir,{payload:{pos:a,ylk:Object.assign({sec:s,slk:c},t.params)},type:"slideshow"})}}},{key:"handleClick",value:function(e){if(yc(window,"wafer.wafers.wafer-caas")){var t=e.target,n=t&&t.id;if(!this.isViewerClosed){if(hc(t,{id:"header-back-button",tagName:"A"}))return e.preventDefault(),e.stopPropagation(),this.dispatch(Ir,{type:"back"});var i=this.headerAnchorId&&hc(t,{id:this.headerAnchorId,tagName:"A"});if(i){var r=pc(i.href);if(this.home.pathname!==r)return;return e.preventDefault(),e.stopPropagation(),this.dispatch(Ir,{type:"close"})}if(hc(t,{id:"closebtn",tagName:"BUTTON"}))return this.dispatch(Ir,{type:"close"});if("Overlay"===n)return this.dispatch(Ir,{type:"overlay"})}var o=hc(t,{className:this.className,tagName:this.tagName});if(o){if(e.ctrlKey||e.metaKey)return;"function"==typeof e.preventDefault&&e.preventDefault();var a=!!hc(e.target,{className:"js-stream-comments-button"}),s=o.getAttribute("href")||"",c=pc(s),u=this.getClusterArticles(o),l=gc(o),f={cluster:u,expandComments:a,isHpViewer:!0,pathname:c,refererUrl:window.location.href,uuid:l};this.dispatch(Ir,{payload:f,type:"article"})}var d=this.getElementComposedMap(t);if(this.viewerNode&&d.has(this.viewerNode)){var h=document.getElementById("content-viewer");if(h&&!d.has(h))return this.dispatch(Ir,{type:"close"});var p=this.viewerNode.getElementsByClassName("viewer-wrapper")[0];if(p&&!d.has(p))return this.dispatch(Ir,{type:"close"})}}}},{key:"getClusterArticles",value:function(e){var t=this.getClusterSize(e);if(0===t)return[];var n=hc(e,{className:"article-cluster-boundary"})||hc(e,{className:"drawer-fetch-target",tagName:"DIV"})||hc(e,{className:"stream-item",tagName:"LI"})||hc(e,{className:"js-stream-content",tagName:"LI"})||hc(e,{className:"tdv2-wafer-ntk-desktop",tagName:"DIV"})||hc(e,{className:"aside-sticky",tagName:"DIV"})||hc(e,{id:"Page"});if(!n)return[];var i=e.getAttribute("data-wf-caas-uuid")||e.getAttribute("data-uuid")||"";if(!i){var r=hc(e,{className:"js-stream-content",tagName:"LI"});i=r&&(r.getAttribute("data-wf-caas-uuid")||r.getAttribute("data-uuid"))||""}for(var o=this.getArticles(n,i),a=n.nextElementSibling;Object.keys(o).length<t&&a;)Object.assign(o,this.getArticles(a,i)),a=a.nextElementSibling;for(var s=n.previousElementSibling;Object.keys(o).length<t&&s;)Object.assign(o,this.getArticles(s,i)),s=s.previousElementSibling;return this.clusters=Object.values(o).slice(0,t),this.clusters}}]),e}(),fu=Ae.f,du={}.toString,hu="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pu=function(e){return hu&&"[object Window]"==du.call(e)?function(e){try{return fu(e)}catch(e){return hu.slice()}}(e):fu(v(e))},vu=r((function(){return!Object.getOwnPropertyNames(1)}));Ne({target:"Object",stat:!0,forced:vu},{getOwnPropertyNames:pu});var wu=function(){function e(t){st(this,e),this.isEnabled=!0;var n=kc();this.comments={},this.config=t,this.expanded=!1,this.region=(null==n?void 0:n.region)||"US",this.lang=(null==n?void 0:n.lang)||"en-US",this.site="fp"}var t,n,i;return ut(e,[{key:"init",value:function(e){var t;if(null!=e&&null!==(t=e.spotIm)&&void 0!==t&&t.enabled)this.isEnabled=!1;else{e&&(this.region=e.context.region,this.lang=e.context.lang,this.site=e.context.site);var n=this.initCommentsOnView.bind(this);window.wafer.on("caas:article:inview",n),window.wafer.on("caas:article:init",n)}}},{key:"onContentChange",value:(i=at(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.expanded=t.expandComments;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onClick",value:(n=at(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled){e.next=2;break}return e.abrupt("return");case 2:if("comments"!==t.type){e.next=16;break}if(n=t.payload.uuid,e.t0=this.comments[n],e.t0){e.next=9;break}return e.next=8,this.initCommentsOnClick(n);case 8:e.t0=e.sent;case 9:if(!(i=e.t0)||!i.instance){e.next=16;break}return i.instance.expand(),e.next=14,dc(100);case 14:document.getElementById(i.id).scrollIntoView({behavior:"smooth"});case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onViewerDidClose",value:function(){Object.values(this.comments).forEach((function(e){var t;null===(t=e.instance)||void 0===t||t.destroy()})),this.comments={},this.expanded=!1}},{key:"getCommentsNodeId",value:function(e){var t,n=window.wafer.base._state,i=wt(Object.getOwnPropertyNames(n));try{for(i.s();!(t=i.n()).done;){var r=t.value;if(n[r]===e){var o=document.querySelector('[data-wf-state-caas-uuid="[state.'.concat(r,']"]'));if(o)return o.getAttribute("data-comments-id")}}}catch(e){i.e(e)}finally{i.f()}}},{key:"getRapidBucket",value:function(){var e,t;return(null===(e=window.rapidPageConfig)||void 0===e||null===(t=e.rapidConfig)||void 0===t?void 0:t.test_id)||""}},{key:"getRapidKeys",value:function(){return window.rapidInstance?window.rapidInstance.getRapidAttribute("keys"):{}}},{key:"getRapidSpaceId",value:function(){return window.rapidInstance?window.rapidInstance.getRapidAttribute("spaceid"):""}},{key:"getCanvassCommentsParams",value:function(e){var t=e.commentSectionId,n=e.hostedType,i=e.spaceId,r=e.title,o=e.url,a=e.uuid,s="hosted"===n?"yahoo_content":"yahoo_offnet",c=this.getRapidKeys(),u=i||this.getRapidSpaceId(),l=c._rid,f=c.site,d=void 0===f?"fp":f,h=this.config.device,p="news"===this.site?"redesign":"",v="news"===this.site?"Ff(YahooSans)":"";return{bucket:this.getRapidBucket(),context:a,contextDisplayText:r,contextUrl:o,device:h,lang:this.lang,namespace:s,prid:l,rapid:window.rapidInstance,rapidKeys:c,region:this.region,sectionId:t,site:d,spaceid:u,theme:p,themeContainerClasses:v,useRelativeHostName:!0}}},{key:"initComments",value:function(e,t,n){var i=window.YAHOO.CanvassComments,r=this.config.rmp;if(!r){if(!i)return;var o=new i(t,n);return this.expanded=!1,this.comments[e]={id:t,instance:o}}var a=document.getElementById(t);if(a){this.comments[e]={id:t};var s="".concat(r.xhrPathPrefix,"?m_id=").concat(r.m_id,"&ctrl=").concat(r.ctrl,"&m_mode=json&rid=").concat(n.prid)+"&context=".concat(e,"&device=").concat(n.device,"&site=").concat(n.site,"&region=").concat(n.region,"&lang=").concat(n.lang),c=r.config?"data-wf-body=".concat(JSON.stringify(r)):"";a.innerHTML='<div class="wafer-fetch" data-wf-trigger="onLoad" data-wf-cache-strategy="cacheFirst" data-wf-replace="1" '+'data-wf-url="'.concat(s,'" ').concat(c,"></div>"),window.wafer.base.sync(a)}}},{key:"initCommentsOnView",value:function(e){if(window.YAHOO){var t=e.meta.data,n=t.uuid;if(!t.commentsAllowed)return;if(this.comments[n])return;var i=e.elem.getAttribute("data-comments-id"),r=this.getCanvassCommentsParams(t);r.expanded=this.expanded,this.initComments(n,i,r)}}},{key:"initCommentsOnClick",value:(t=at(regeneratorRuntime.mark((function e(t){var n,i,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.wafer.caas.getData([t]);case 2:if(n=e.sent,i=dt(n,1),(r=i[0]).commentsAllowed){e.next=7;break}return e.abrupt("return");case 7:if((o=this.getCanvassCommentsParams(r)).expanded=!0,!(a=this.getCommentsNodeId(t))){e.next=12;break}return e.abrupt("return",this.initComments(t,a,o));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),mu=function(){function e(){st(this,e)}var t,n;return ut(e,[{key:"init",value:function(e){var t,n;if(window.rapidInstance){window._comscore=window._comscore||[],this.c14=(null===(t=window.YAHOO)||void 0===t||null===(n=t.comscore)||void 0===n?void 0:n.c14)||"-1",this.spaceId=window.rapidInstance.getRapidAttribute("spaceid");var i=this.beaconPageView.bind(this);window.wafer.on("caas:article:inview",i)}}},{key:"onViewerDidClose",value:function(){if(window.rapidInstance){var e=new URL(location.pathname,location.origin).toString();this.beaconComscore(this.spaceId,e)}}},{key:"beaconPageView",value:(n=at(regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.meta.data,i=n.spaceId,r=n.url,this.beaconComscore(i,r);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"beaconComscore",value:(t=at(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window._comscore=window._comscore||[],window._comscore.push({c1:2,c14:this.c14,c2:"7241469",c5:t,c7:n}),null===(i=window.COMSCORE)||void 0===i||i.purge();case 3:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),gu=function(){function e(){st(this,e),this.home=new URL(location.href),this.c2sSessionId="",this.c2sArticleIndex=0,this.c2sElements=[],this.onScroll=null}return ut(e,[{key:"init",value:function(e){e&&(this.site=e.context.site||"fp"),this.infoBeaconUri=mc(this.site),window.adsConfig&&(this.config=window.adsConfig),this.config&&this.config.viewerPositionMeta&&this.config.viewerPositionMeta.c2siframe&&(window.wafer.on("caas:article:init",this.articleInit.bind(this)),window.wafer.on("caas:article:inview",this.articleInview.bind(this)))}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href)}},{key:"onViewerClosed",value:function(){this.onScroll&&(window.removeEventListener("scroll",this.onScroll),this.onScroll=null)}},{key:"articleInit",value:function(e){this.config.viewerPositionMeta.c2siframe&&this.config.viewerPositionMeta.c2siframe.sites.indexOf(e.meta.data.adMeta.site)>=0&&(this.c2sSessionId=Date.now()+"_"+Math.random().toString().substr(2,5),this.c2sArticleIndex=0,this.c2sElements=[])}},{key:"articleInview",value:function(e){this.c2sArticleIndex++;var t="qa5.www.yahoo.com"===this.home.host&&this.home.searchParams.has("c2sallowall");e.elem&&e.elem.querySelector&&e.elem.querySelector(".js-c2smodule")||this.config.viewerPositionMeta.c2siframe&&(t||e.meta&&e.meta.data&&e.meta.data.adMeta.site&&this.config.viewerPositionMeta.c2siframe.sites.indexOf(e.meta.data.adMeta.site)>=0)&&this.loadC2siframe(e)}},{key:"loadC2siframe",value:function(e){var t=this,n=e.elem.querySelector(".caas-body");if(n){var i=document.createElement("iframe");i.setAttribute("class","js-c2smodule"),i.setAttribute("frameborder","no"),i.setAttribute("scrolling","no"),i.setAttribute("allowtransparency","true"),i.setAttribute("async","true"),i.setAttribute("tabindex","-1"),i.style.marginTop="20px",i.style.width="100%";var r=e.meta.data.uuid,o=new URL(this.config.viewerPositionMeta.c2siframe.url);o.searchParams.append("uuid",r),o.searchParams.append("sid",String(this.c2sSessionId)),o.searchParams.append("iid",String(this.c2sArticleIndex)),i.setAttribute("src",o.href);var a=Date.now(),s=setTimeout((function(){i.style.display="none",window.wafer.utils.fireBeacon("/"+t.infoBeaconUri+"?type=c2siframe-timedout&uuid="+r,{useNavigator:!1,useTimestamp:!1})}),this.config.viewerPositionMeta.c2siframe.timeout||5e3);i.addEventListener("load",this.handleOnload.bind(this,r,s,a),!1),window.addEventListener("message",this.handlePostMessage.bind(this,r,i),!1),n.appendChild(i),this.c2sElements.push(i),!this.onScroll&&i.contentWindow&&i.contentWindow.postMessage&&(this.onScroll=this.handleScroll.bind(this),"function"==typeof requestAnimationFrame?window.wafer.on("scroll",(function(){return requestAnimationFrame(t.onScroll)})):window.wafer.on("scroll",this.onScroll))}}},{key:"handleOnload",value:function(e,t,n){clearTimeout(t),window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-loaded&uuid="+e+"&latency="+(Date.now()-n),{useNavigator:!1,useTimestamp:!1})}},{key:"handlePostMessage",value:function(e,t,n){if(e&&t){var i=n;if(i.data&&"c2sDisplay"===i.data.event&&i.data.articleId===e){var r=i.data.terms||[];i.data.height&&(t.style.height=i.data.height+"px"),window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-renderd-searchitems&uuid="+e+"&widget="+escape(n.data.widget)+"&flavor="+escape(n.data.flavor||"")+"&count="+r.length+"&terms="+escape(JSON.stringify(r)),{useNavigator:!1,useTimestamp:!1})}}}},{key:"handleScroll",value:function(){this.c2sElements.forEach((function(e){window.wafer.utils.elementInView(e,{},window.wafer.base.viewport)?e.contentWindow.postMessage("c2s-node-visible","*"):e.contentWindow.postMessage("c2s-node-not-visible","*")}))}}]),e}();!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var yu=function(){function e(){st(this,e)}return ut(e,[{key:"onViewerDidClose",value:function(){dispatchEvent(new CustomEvent("viewerClosed"))}},{key:"onViewerOpened",value:function(e){var t={detail:{uuid:e.uuid}};dispatchEvent(new CustomEvent("viewerOpened",t))}},{key:"onContentChange",value:function(e){var t={detail:{uuid:e.uuid}};dispatchEvent(new CustomEvent("viewerContentChanged",t))}}]),e}(),bu=function(){function e(){st(this,e)}return ut(e,[{key:"init",value:function(){this.shouldDeeplink=!document.getElementById("content-viewer-template")}},{key:"onClick",value:function(e){var t;this.shouldDeeplink&&"article"===e.type&&null!==(t=e.payload)&&void 0!==t&&t.pathname&&(window.location.pathname=e.payload.pathname)}}]),e}();Date.now||(Date.now=function(){return(new Date).getTime()});var ku=function(){function e(){st(this,e)}var t,n;return ut(e,[{key:"init",value:function(){var e;this.mainView=document.getElementById("Masterwrap")||document.getElementById("MainView")||(null===(e=document.getElementById("YDC-Col1"))||void 0===e?void 0:e.parentElement),this.viewer=document.getElementById("content-viewer"),this.viewerParent=document.getElementById("viewer"),this.listener=function(e){27===e.keyCode&&history.back()}}},{key:"onContentWillChange",value:function(){window.wafer.state={showViewer:Date.now()}}},{key:"onContentChange",value:(n=at(regeneratorRuntime.mark((function e(t){var n,i,r,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cluster,r=void 0===i?[]:i,o=t.expandComments,a=t.uuid,s=r.map((function(e){return e.uuid})),c=o?"1":"0",(n=this.viewer.classList).remove.apply(n,ht([0,1,2,3,4,5,6].map((function(e){return"cluster".concat(e)})))),this.viewer.classList.add("cluster".concat(r.length)),e.next=7,dc(1);case 7:return window.wafer.state={viewerClusterArticleId1:s[0],viewerClusterArticleId2:s[1],viewerClusterArticleId3:s[2],viewerClusterArticleId4:s[3],viewerClusterArticleId5:s[4],viewerClusterArticleId6:s[5],viewerMainArticleCollapsed:c,viewerMainArticleId:a},e.next=10,dc(1);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onViewerOpened",value:(t=at(regeneratorRuntime.mark((function e(){var t,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.wafer.base.lock(this.mainView),n=this.mainView.getBoundingClientRect(),i=n.left,r=n.top,this.mainView.setAttribute("aria-hidden","true"),Object.assign(this.mainView.style,{left:i+"px",position:"fixed",top:r+"px",visibility:"hidden"}),null===(t=this.viewerParent)||void 0===t||t.setAttribute("aria-hidden","false"),document.documentElement.classList.add("modal-open","Panel-open","viewer-open"),e.next=8,dc(5);case 8:window.addEventListener("keydown",this.listener);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onViewerClosed",value:function(){var e;null===(e=this.viewerParent)||void 0===e||e.setAttribute("aria-hidden","true"),this.mainView.style.visibility="",this.viewer.classList.remove("wafer-template-success"),window.wafer.base.destroy(this.viewer),this.viewer.innerHTML="",document.documentElement.classList.remove("modal-open","Panel-open","viewer-open"),this.mainView.removeAttribute("aria-hidden"),Object.assign(this.mainView.style,{left:"",position:"",top:""}),window.wafer.base.unlock(this.mainView),window.wafer.base.sync(this.mainView),window.removeEventListener("keydown",this.listener),window.wafer.state={showViewer:"wf-state-reset",viewerClusterArticleId1:"wf-state-reset",viewerClusterArticleId2:"wf-state-reset",viewerClusterArticleId3:"wf-state-reset",viewerClusterArticleId4:"wf-state-reset",viewerClusterArticleId5:"wf-state-reset",viewerClusterArticleId6:"wf-state-reset",viewerMainArticleCollapsed:"wf-state-reset",viewerMainArticleId:"wf-state-reset",viewerMainArticlePubBlob:"wf-state-reset"}}}]),e}(),Au=function(){function e(){st(this,e),this.trackedItemsInViewer={}}return ut(e,[{key:"init",value:function(e){var t=this;e&&(this.meta={assetid:window.location.pathname,section:"Yahoo!",type:"static"}),this.nSdkInstance=window.nSdkInstance,this.nSdkNseNo=window.nSdkNseNo,window.wafer.on("caas:article:inview",(function(e){e.meta&&e.meta.data&&e.meta.data.uuid&&!t.trackedItemsInViewer[e.meta.data.uuid]&&(t.nielsenSpaEvent("caas:article:inview"),t.trackedItemsInViewer[e.meta.data.uuid]=!0)}))}},{key:"onViewerOpened",value:function(){this.nSdkNseNo=window.nSdkNseNo,this.trackedItemsInViewer={}}},{key:"onViewerDidClose",value:function(){this.trackedItemsInViewer={},this.nielsenSpaEvent("viewerClosed")}},{key:"nielsenSpaEvent",value:function(e){var t=window.location;this.nSdkInstance&&void 0!==this.nSdkNseNo&&this.meta&&(this.nSdkInstance.ggPM("staticend",this.meta),this.nSdkNseNo=++this.nSdkNseNo,this.meta.referrerURL=this.meta.pageURL||t.href,this.meta.pageURL="page_"+this.nSdkNseNo+"_"+t.href,this.meta.assetid=t.pathname,this.nSdkInstance.ggPM("staticstart",this.meta),"viewerClosed"===e&&(window.nSdkNseNo=this.nSdkNseNo))}}]),e}(),Su={article:"story",cavideo:"video",photoset:"story",preview:"story",slideshow:"story"},xu=function(){function e(t){st(this,e),this.articleUrl="",this.refererUrl="",this.config=t,this.homeUrl=window.location.href,this.spaceid="",this.keys={}}var t,n,i,r;return ut(e,[{key:"init",value:function(){var e,t;window.wafer.on("caas:article:init",this.updateRapidAttributes.bind(this)),window.wafer.on("caas:article:inview",this.beacon.bind(this)),this.keys=null===(e=window.rapidInstance)||void 0===e?void 0:e.getRapidAttribute("keys"),this.spaceid=null===(t=window.rapidInstance)||void 0===t?void 0:t.getRapidAttribute("spaceid")}},{key:"onViewerWillOpen",value:function(){this.homeUrl=location.href}},{key:"onClick",value:function(e){"slideshow"===e.type?this.onSlideshowClick(e):"link"===e.type&&this.onLinkClick(e)}},{key:"onViewerClosed",value:(r=at(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.rapidInstance){e.next=2;break}return e.abrupt("return");case 2:t=this.spaceid,n={_R:this.articleUrl,_w:this.homeUrl,navtype:"client"},i="desktop"===this.config.device?{elm:"btn",elmt:"cl",itc:0,rspns:"cl",tar:vc(this.homeUrl)}:{elm:"backbtn",itc:0,tar:vc(this.homeUrl),tar_uri:"/"},window.rapidInstance.beaconClick("hl-viewer","desktop"===this.config.device?"close":"close-back-btn",0,i,"",void 0,{dwell:"stop"}),window.YAHOO&&window.YAHOO.i13n&&(window.YAHOO.i13n.SPACEID=parseInt(t,10)),window.rapidInstance.clearRapidAttribute(["keys"]),window.rapidInstance.setRapidAttribute({keys:Object.assign({},this.keys,n),spaceid:t}),window.rapidInstance.beaconPageview(n);case 10:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onContentWillChange",value:(i=at(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refererUrl=t.refererUrl;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"beacon",value:(n=at(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beaconDwellStop();case 2:this.beaconModalContent(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateRapidAttributes",value:function(e){var t;if(window.rapidInstance){var n=e.elem,i=e.meta.data,r=i.adMeta,o=i.contentType,a=i.canonicalUrl,s=i.hostedType,c=i.previewLink,u=i.publisher,l=i.spaceId,f=i.url,d=i.uuid,h="hosted"===s;this.articleUrl=a||!h&&c||f;var p={_R:this.refererUrl||this.homeUrl,_w:this.articleUrl,navtype:"client",p_cpos:Sc(e.elem),p_hosted:h?"onnet":"offnet",pcp:u,pct:Su[o]||o,pd:"modal",prefcnt:this.config.clusterSize+1,pstaid:d,pt:"content",rspns:"nav",site:(null==r?void 0:r.site)||this.keys.site,slk:e.meta.data.title};"mainArticle"!==n.id&&(p.expn="perpetual-post"),null===(t=window.rapidInstance)||void 0===t||t.setRapidAttribute({keys:p,spaceid:l}),window.YAHOO&&window.YAHOO.i13n&&(window.YAHOO.i13n.SPACEID=parseInt(l,10))}}},{key:"beaconModalContent",value:function(e){if(window.rapidInstance){var t=e.elem.id;this.updateRapidAttributes(e),window.rapidInstance.beaconPageview(),window.rapidInstance.isModuleTracked(t)?window.rapidInstance.refreshModule(t,!1,!0):window.rapidInstance.addModules(t,!1,{setViewability:!0})}}},{key:"beaconDwellStop",value:(t=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){window.rapidInstance&&window.rapidInstance.beaconClick("rapidDwell","",0,{},"",e,{dwell:"stop"})})));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"onSlideshowClick",value:function(e){if(window.rapidInstance){var t=e.payload,n=t.pos,i=t.ylk;window.rapidInstance.beaconClick("sshow",i.slk,n,i,i.outcm,void 0,{dwell:"stop"}),window.rapidInstance.beaconPageview({pct:"slideshow"})}}},{key:"onLinkClick",value:function(e){if(window.rapidInstance){var t=e.payload,n=t.pos,i=t.ylk;window.rapidInstance.beaconClick("content-canvas",i.slk,n,i,i.outcm)}}}]),e}(),Cu=window.performance&&"clearMarks"in window.performance,Eu=function(){function e(){st(this,e)}return ut(e,[{key:"init",value:function(e){}},{key:"onClick",value:function(e){Cu&&"article"===e.type&&performance.mark("article_link_clicked")}},{key:"onViewerClosed",value:function(){Cu&&performance.clearMarks("article_link_clicked")}}]),e}(),Iu=function(){function e(){st(this,e),this.home=new URL(location.href),this.isViewerClosed=!0}var t,n,i;return ut(e,[{key:"init",value:function(e){var t=this;e&&(this.site=e.context.site||"fp",e.retainSearchParams&&(this.retainSearchParams=e.retainSearchParams),this.navigationTimeout=e.navigationTimeout),this.infoBeaconUri=mc(this.site);var n=document.querySelector('link[rel="canonical"]');n&&(this.canonicalEl=n,this.canonicalElStartVal=n.getAttribute("href")),window.addEventListener("popstate",this.onPopState.bind(this)),window.wafer.on("caas:article:init",(function(){t.dispatch(Or,t.payload)})),window.wafer.on("caas:article:inview",(function(e){t.navigateFailureTimeout&&clearTimeout(t.navigateFailureTimeout);for(var n=e.meta.data,i=n.homepageUrl||n.url,r=0,o=[t.payload].concat(ht(t.payload.cluster));r<o.length;r++){var a=o[r];if(a.uuid===n.uuid&&a.pathname){i=a.pathname;break}}i!==location.pathname&&t.replaceState(t.payload,i)})),window.wafer.on("caas:article:error",(function(e){var n=window.wafer.base._state.viewerMainArticleId,i=e.meta,r=i.url;i.uuid===n?t.onNavigateFailure(r,"fetcherror"):t.onClusterArticleFailure(r)})),window.wafer.on("caas:sidekick:error",(function(e){var n=new Image,i=wc({error:"sidekick_error",url:e.meta.url});n.src="/".concat(t.infoBeaconUri,"?").concat(i)}))}},{key:"onClusterArticleFailure",value:function(e){this.beaconFailure("cluster_article_failure",e)}},{key:"onNavigateFailure",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=n&&":".concat(n),this.beaconFailure("navigate_failure".concat(n),e),setTimeout((function(){if(!t.isViewerClosed){var e="";"frontpage"!==t.site&&"fp"!==t.site||(e="?.tsrc=fp_deeplink");var n="".concat(t.payload.pathname).concat(e);n=xc(n),window.location.href=n}}),500)}},{key:"beaconFailure",value:function(e,t){var n=new Image,i=wc(rt({error:e,url:t},kc()));n.src="/".concat(this.infoBeaconUri,"?").concat(i)}},{key:"onClick",value:function(e){var t=this;switch(e.type){case"article":var n=e.payload;this.navigateFailureTimeout=window.setTimeout((function(){var e=location.origin+n.pathname;t.onNavigateFailure(e,"timeout")}),this.navigationTimeout||2e3),this.isViewerClosed&&this.dispatch(Lr),this.navigateToArticle(n),this.pushState(n,n.pathname),this.canonicalEl&&this.canonicalEl.setAttribute("href",location.href);break;case"back":this.onHeaderBackButtonClicked();break;case"close":case"overlay":this.navigateHome(),this.pushState({},this.home.href)}}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href)}},{key:"navigateToArticle",value:(i=at(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.payload=t,e.next=3,this.dispatch(Rr,t);case 3:if(!this.isViewerClosed){e.next=7;break}return e.next=6,this.dispatch(Tr,t);case 6:this.isViewerClosed=!1;case 7:return e.next=9,this.dispatch(Pr,t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onHeaderBackButtonClicked",value:function(){history.back()}},{key:"navigateHome",value:(n=at(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isViewerClosed){e.next=2;break}return e.abrupt("return");case 2:return this.isViewerClosed=!0,this.canonicalEl&&this.canonicalElStartVal&&this.canonicalEl.setAttribute("href",this.canonicalElStartVal),e.next=6,this.dispatch(jr);case 6:setTimeout((function(){return t.dispatch(Nr)}),0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onPopState",value:(t=at(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.history.state||{},window.location.href!==this.home.href){e.next=6;break}return e.next=4,this.navigateHome();case 4:e.next=7;break;case 6:t.isHpViewer&&this.navigateToArticle(t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getHrefWithQueryParams",value:function(e){var t=this,n=new URL(e,location.origin);return this.retainSearchParams&&this.retainSearchParams.length&&this.retainSearchParams.forEach((function(e){if(!n.searchParams.has(e)&&t.home.searchParams.has(e)){var i=String(t.home.searchParams.get(e));n.searchParams.append(e,i)}})),n.href}},{key:"pushState",value:function(e,t){history.pushState(e,"",this.getHrefWithQueryParams(t))}},{key:"replaceState",value:function(e,t){history.replaceState(e,"",this.getHrefWithQueryParams(t))}}]),e}(),Ru=function(){function e(){st(this,e),this.home=new URL(location.href),this.scrollHistory={}}return ut(e,[{key:"onContentWillChange",value:function(e){var t=location.pathname;t!==e.pathname&&this.saveScrollPosition(t)}},{key:"onContentChange",value:function(e){this.restoreScrollPosition(e.pathname)}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href),window.history&&(window.history.scrollRestoration="manual")}},{key:"onViewerClosed",value:function(){var e=location.pathname;e!==this.home.pathname&&this.saveScrollPosition(e)}},{key:"onViewerDidClose",value:function(){var e=location.pathname;this.restoreScrollPosition(e),window.history&&(window.history.scrollRestoration="auto")}},{key:"saveScrollPosition",value:function(e){this.scrollHistory[e]={x:window.pageXOffset,y:window.pageYOffset}}},{key:"restoreScrollPosition",value:function(e){var t=this.scrollHistory[e]||{},n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r;window.scrollTo(i,o)}}]),e}(),Pu=function(){function e(){st(this,e),this.count="12",this.sidekickUrl=this.getSidekickUrl(),this.clusterUuids=[]}var t;return ut(e,[{key:"init",value:function(e){var t;if(null===(t=e.rightRail)||void 0===t||!t.disableSidekick){var n=this.initSidekick.bind(this);window.wafer.on("caas:article:init",n)}}},{key:"onContentChange",value:(t=at(regeneratorRuntime.mark((function e(t){var n,i,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.wafer.state={sidekick:"wf-state-reset"},n=t.cluster,i=void 0===n?[]:n,this.clusterUuids=[],r=wt(i);try{for(r.s();!(o=r.n()).done;)(a=o.value).uuid&&this.clusterUuids.push(a.uuid)}catch(e){r.e(e)}finally{r.f()}case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onViewerClosed",value:function(){window.wafer.state={sidekick:"wf-state-reset"}}},{key:"isLongArticle",value:function(e){return"hosted"===e.hostedType&&"slideshow"!==e.contentType&&"video"!==e.contentType}},{key:"getSidekickUrl",value:function(){var e=bc()?location.origin:"https://www.yahoo.com",t=new URL(e);return t.pathname="/caas/sidekick/sidekick",t}},{key:"initSidekick",value:function(e){var t=this,n=e.meta.data,i=n.spaceId,r=n.uuid,o=n.ycts,a=r;at(regeneratorRuntime.mark((function e(){var n,s,c,u,l,f,d,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.wafer.caas.getData([r].concat(ht(t.clusterUuids)));case 2:n=e.sent,s=n.filter(t.isLongArticle),t.count=s.length>1?"12":"6",c="",u=wt(n);try{for(u.s();!(l=u.n()).done;)f=l.value,(d=f.uuid)&&-1===a.indexOf(d)&&(a="".concat(a,",").concat(d)),(h=yc(f,"adMeta.site"))&&(c=c?"".concat(c,",").concat(h):h)}catch(e){u.e(e)}finally{u.f()}p={count:t.count,property:c,spaceId:i,uuid:a,ycts:o},t.sidekickUrl.search=new URLSearchParams(p).toString(),window.wafer.state={sidekick:t.sidekickUrl.toString()};case 11:case"end":return e.stop()}}),e)})))()}}]),e}(),Ou=function(){function e(t){st(this,e),this.config=t,this.onScroll=this.onScroll.bind(this),this.activeSticky=this.getStickyNode(t.pageStickyNode),this.stickyBottom=t.pageStickyBottom}return ut(e,[{key:"init",value:function(){var e=this;window.wafer.ready((function(){"function"==typeof requestAnimationFrame?window.wafer.on("scroll",(function(){return requestAnimationFrame(e.onScroll)})):window.wafer.on("scroll",e.onScroll)}),window)}},{key:"onViewerOpened",value:function(){this.activeSticky=this.getStickyNode(this.config.viewerStickyNode),this.stickyBottom=this.config.viewerStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}},{key:"onContentDidChange",value:function(){this.activeSticky=this.getStickyNode(this.config.viewerStickyNode),this.stickyBottom=this.config.viewerStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}},{key:"onViewerClosed",value:function(){this.activeSticky=this.getStickyNode(this.config.pageStickyNode),this.stickyBottom=this.config.pageStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}},{key:"getStickyNode",value:function(e){return document.querySelector(e)}},{key:"onScroll",value:function(){if(window.pageYOffset>0?document.body.classList.add("has-scrolled"):document.body.classList.remove("has-scrolled"),this.activeSticky&&this.activeSticky.parentElement){var e=this.activeSticky.getBoundingClientRect(),t=e.bottom,n=e.height,i=this.viewerContainerNode?this.viewerContainerNode.getBoundingClientRect().bottom:0,r="fixed"===this.activeSticky.style.position&&!this.activeSticky.parentElement.classList.contains("sticky-flow");if(n<window.innerHeight)return;if(this.viewerContainerNode&&i<window.innerHeight){var o=window.innerHeight-i+this.stickyBottom;Object.assign(this.activeSticky.style,{bottom:o+"px",position:"fixed"}),this.activeSticky.parentElement.classList.remove("sticky-active"),this.activeSticky.parentElement.classList.add("sticky-flow")}else r?window.pageYOffset<n-window.innerHeight+this.config.rightRailTop&&(Object.assign(this.activeSticky.style,{bottom:"",position:""}),this.activeSticky.parentElement.classList.remove("sticky-active")):t<window.innerHeight&&(Object.assign(this.activeSticky.style,{bottom:this.stickyBottom+"px",position:"fixed"}),this.activeSticky.parentElement.classList.add("sticky-active"),this.activeSticky.parentElement.classList.remove("sticky-flow"))}}},{key:"rightRail",get:function(){return document.getElementsByClassName("viewer-aside")[0]}}]),e}(),Lu=function(){function e(){st(this,e),this.title=document.title}return ut(e,[{key:"init",value:function(){window.wafer.on("caas:article:inview",(function(e){document.title=e.meta.data.title}))}},{key:"onViewerClosed",value:function(){document.title=this.title}}]),e}(),Tu=function(){function e(){st(this,e),this.playingVideos=[]}return ut(e,[{key:"onViewerOpened",value:function(){var e,t;this.playingVideos=[];var n,i=wt((null===(e=window.context)||void 0===e||null===(t=e.getStore("VideoPlayerStore"))||void 0===t?void 0:t.getVideoPlayers())||[]);try{for(i.s();!(n=i.n()).done;){var r=n.value.player;r.controls.isPlaying()&&(this.playingVideos.push(r),r.controls.pause())}}catch(e){i.e(e)}finally{i.f()}}},{key:"onViewerDidClose",value:function(){var e,t=wt(this.playingVideos);try{for(t.s();!(e=t.n()).done;){e.value.controls.play()}}catch(e){t.e(e)}finally{t.f()}this.playingVideos=[]}}]),e}(),ju=function(){function e(){st(this,e)}return ut(e,[{key:"init",value:function(e){}},{key:"onClick",value:function(e){window.postMessage({action:"y:homepage:click",props:{type:e.type}},"*")}}]),e}(),Nu=function(){function e(){st(this,e),this.missedArticleInViewEvents=[],this.isEnabled=!1,this.isScriptLoaded=!1,this.comments={}}var t,n,i,r,o,a,s;return ut(e,[{key:"init",value:(s=at(regeneratorRuntime.mark((function e(t){var n,i,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!==(n=t.spotIm)&&void 0!==n&&n.enabled){e.next=2;break}return e.abrupt("return");case 2:this.isEnabled=!0,i=t.spotIm,r=i.config,o=i.spotImJsUrl,this.spotImConfig=r,this.spotImJsUrl=o,a=this.onArticleInView.bind(this),window.wafer.on("caas:article:inview",a);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"loadSpotIm",value:(a=at(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var i=document.createElement("script");i.async=!0,i.src=t.spotImJsUrl,i.onload=e,i.onerror=n,document.body.appendChild(i)})));case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"onViewerOpened",value:(o=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled){e.next=2;break}return e.abrupt("return");case 2:this.loadSpotImIfNeeded();case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onContentWillChange",value:(r=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.missedArticleInViewEvents=[];case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadSpotImIfNeeded",value:(i=at(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isScriptLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.loadSpotIm();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("spotIm js file load error",e.t0);case 10:this.isScriptLoaded=!0,this.processMissedEvents();case 12:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return i.apply(this,arguments)})},{key:"processMissedEvents",value:(n=at(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.missedArticleInViewEvents.length){e.next=2;break}return e.abrupt("return");case 2:this.missedArticleInViewEvents.forEach((function(e){return t.onArticleInView(e)})),this.missedArticleInViewEvents=[];case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onViewerDidClose",value:function(){this.comments={},this.missedArticleInViewEvents=[]}},{key:"initComments",value:function(e,t){var n=document.getElementById(e);if(n){var i=t.url,r=t.uuid,o=this.spotImConfig.pitcEnabled,a=rt(rt({},this.spotImConfig),{},{url:i,uuid:r}),s="mainArticleIdComments"===n.id,c={detail:{config:rt(rt({},a),{},{pitcEnabled:!1}),elem:n,isMain:s}};if(dispatchEvent(new CustomEvent("initSpotImComments",c)),o&&s){var u=document.getElementById("viewer-spotIm-pitc-root");dispatchEvent(new CustomEvent("initSpotImPitc",{detail:{config:a,elem:u}}))}this.comments[r]={commentsNode:n,id:e}}}},{key:"onArticleInView",value:function(e){this.isScriptLoaded?this.initCommentsOnView(e):this.missedArticleInViewEvents.push(e)}},{key:"initCommentsOnView",value:function(e){if(window.YAHOO){var t=e.meta.data,n=t.uuid;if(!t.commentsAllowed)return;if(this.comments[n])return;var i=e.elem.getAttribute("data-comments-id");this.initComments(i,t)}}},{key:"onClick",value:(t=at(regeneratorRuntime.mark((function e(t){var n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled){e.next=2;break}return e.abrupt("return");case 2:"comments"===t.type&&(r=t.payload.uuid,null==(o=null===(n=this.comments[r])||void 0===n?void 0:n.commentsNode)||null===(i=o.scrollIntoView)||void 0===i||i.call(o,{behavior:"smooth",block:"center"}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Uu=[new xu({clusterSize:2,device:"desktop"}),new Fc,new Bc,new Jc,new lu({clusterSize:2,ntkClusterSize:5,targetClassName:"js-content-viewer",targetTagName:"A"}),new gu,new wu({device:"desktop",rmp:{config:{ui:{enableFeedback:!1}},ctrl:"CanvassMessage",m_id:"tdv2-applet-canvass.message",m_mode:"json",xhrPathPrefix:"/nel_ms/_td/remote"}}),new yu,new bu,new ku,new Pu,new Wc,new Iu,new Ou({pageStickyBottom:30,pageStickyNode:"#Aside .aside-sticky",rightRailTop:91,viewerContainerNode:"#content-articles-wrapper",viewerStickyBottom:60,viewerStickyNode:"#viewer-aside .aside-sticky"}),new Ru,new Lu,new Ec,new mu,new Au,new Eu,new Tu,new ju,new Nu,new Cc];window.YAHOO.viewer=new Vr(Uu)}();
//# sourceMappingURL=desktop_1.9.200.js.map
