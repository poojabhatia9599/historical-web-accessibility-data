var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(){"use strict";const e="init",t="onClick",i="onContentWillChange",s="onContentChange",n="onContentDidChange",o="onViewerWillOpen",a="onViewerOpened",r="onViewerClosed",c="onViewerDidClose";var d={__proto__:null,init:e,onClick:t,onContentWillChange:i,onContentChange:s,onContentDidChange:n,onViewerWillOpen:o,onViewerOpened:a,onViewerClosed:r,onViewerDidClose:c};const l=["finance.yahoo.com","news.yahoo.com","sports.yahoo.com"],h=new RegExp(/rs="([^"]*)"/),w={lmsid:"lmsid",lpstaid:"lpstaid",lu:"lu",pct:"pageContentType",pd:"pageDesign",pl:"pl",pt:"pageType",revsp:"revsp",ver:"appName"},p=e=>new Promise((t=>setTimeout(t,e))),m=(e,{className:t,id:i,tagName:s})=>{if(e)return t&&!e.classList.contains(t)||i&&i!==e.id||s&&e.tagName!==s?m(e.parentElement,{className:t,id:i,tagName:s}):e},u=e=>{if(!e||e.startsWith("/"))return e;const{hostname:t,pathname:i}=new URL(e);if(l.includes(t)&&t!==window.location.hostname){const[e]=t.split(".");return`/${e}${i}`}return i},f=e=>{const{hostname:t}=new URL(e);return t||""};function g(e){const t=new URLSearchParams;for(const i in e)i in e&&t.append(i,e[i]);return t.toString()}function v(e){let t="p.gif";return"finance"!==e&&"news"!==e||(t="_td_api/beacon/error"),t}const y=e=>{if(e)return e.hasAttribute("data-uuid")?e.getAttribute("data-uuid"):e.hasAttribute("data-wf-caas-uuid")?e.getAttribute("data-wf-caas-uuid"):y(e.parentElement)},A=(e,t)=>{let i=e;for(const e of t.split(".")){if(!i||!i.hasOwnProperty(e))return;i=i[e]}return i},C=()=>{const{hostname:e,port:t,protocol:i}=window.location;return"localhost"!==e&&"4443"!==t&&"http:"!==i},S=()=>window.vzm?.getPageContext?.()||window.YAHOO?.context;const b="AUTO",k=["INARTICLE","INARTICLE-1","WIDGET","WIDGET-1"];const I={article:"story",cavideo:"video",photoset:"story",preview:"story",slideshow:"story"};const V=window.performance&&"clearMarks"in window.performance;const P=[new class{constructor(e){this.articleUrl="",this.refererUrl="",this.config=e,this.homeUrl=window.location.href,this.spaceid="",this.keys={}}init(){window.wafer.on("caas:article:init",this.updateRapidAttributes.bind(this)),window.wafer.on("caas:article:inview",this.beacon.bind(this)),this.keys=window.rapidInstance?.getRapidAttribute("keys"),this.spaceid=window.rapidInstance?.getRapidAttribute("spaceid")}onViewerWillOpen(){this.homeUrl=location.href}onClick(e){"slideshow"===e.type?this.onSlideshowClick(e):"link"===e.type&&this.onLinkClick(e)}async onViewerClosed(){if(!window.rapidInstance)return;const e=this.spaceid,t={_R:this.articleUrl,_w:this.homeUrl,navtype:"client",pt:"home"};window.rapidInstance.beaconClick("hl-viewer","close",0,{elm:"btn",elmt:"cl",itc:0,rspns:"cl",tar:f(this.homeUrl)},"",void 0,{dwell:"stop"}),window.YAHOO&&window.YAHOO.i13n&&(window.YAHOO.i13n.SPACEID=parseInt(e,10)),window.rapidInstance.clearRapidAttribute(["keys"]),window.rapidInstance.setRapidAttribute({keys:Object.assign({},this.keys,t),spaceid:e}),window.rapidInstance.beaconPageview(t)}async onContentWillChange(e){this.refererUrl=e.refererUrl}getArticlePCpos(e){const t=m(e.parentElement,{id:"content-articles-wrapper"}).querySelectorAll("div.wafer-caas,div.wafer-caas-complete");return Array.from(t).findIndex((t=>t===e))+1}async beacon(e){await this.beaconDwellStop(),this.beaconModalContent(e)}updateRapidAttributes(e){if(!window.rapidInstance)return;const{elem:t,meta:{data:i}}=e,{contentType:s,homepageUrl:n,hostedType:o,publisher:a,spaceId:r,url:c,uuid:d}=i;this.articleUrl=n||c;const l={_R:this.refererUrl||this.homeUrl,_w:this.articleUrl,navtype:"client",p_cpos:this.getArticlePCpos(e.elem),p_hosted:"hosted"===o?"onnet":"offnet",pcp:a,pct:I[s]||s,pd:"modal",prefcnt:this.config.clusterSize+1,pstaid:d,pt:"content",rspns:"nav",slk:e.meta.data.title};"mainArticle"!==t.id&&(l.expn="perpetual-post"),window.rapidInstance?.setRapidAttribute({keys:l,spaceid:r}),window.YAHOO&&window.YAHOO.i13n&&(window.YAHOO.i13n.SPACEID=parseInt(r,10))}beaconModalContent(e){if(!window.rapidInstance)return;const{elem:{id:t}}=e;this.updateRapidAttributes(e),window.rapidInstance.beaconPageview(),window.rapidInstance.isModuleTracked(t)?window.rapidInstance.refreshModule(t,!1,!0):window.rapidInstance.addModules(t,!1,{setViewability:!0})}async beaconDwellStop(){return new Promise((e=>{window.rapidInstance&&window.rapidInstance.beaconClick("rapidDwell","",0,{},"",e,{dwell:"stop"})}))}onSlideshowClick(e){if(!window.rapidInstance)return;const{pos:t,ylk:i}=e.payload;window.rapidInstance.beaconClick("sshow",i.slk,t,i,i.outcm,void 0,{dwell:"stop"}),window.rapidInstance.beaconPageview({pct:"slideshow"})}onLinkClick(e){if(!window.rapidInstance)return;const{pos:t,ylk:i}=e.payload;window.rapidInstance.beaconClick("hl-viewer",i.slk,t,i,i.outcm)}}({clusterSize:2}),new class{constructor(){this.event="homepage-viewer",this.viewportEvent="homepage-viewer-viewport",this.onScrollHandle=null,this.viewportAdPositions=[],this.viewportAdFetchSlotIndex=[],this.viewportPreviousAdFetchSlotIndex=[]}init(e){if(e&&(this.site=e.context.site||"fp"),window.adsConfig)this.config=window.adsConfig;else{(new Image).src=`/${v(this.site)}?error=no_ads_config`}this.rotateIndexPageAds=e?.ads?.rotateIndexPageAds||!1,window.wafer.on("caas:article:init",this.displayAds.bind(this)),window.wafer.on("caas:article:init",this.setWaferState.bind(this))}onClick(e){"slideshow"===e.type&&window.DARLA&&!window.DARLA.inProgress()&&window.DARLA.event("slideshow")}getAdBlockConfig(){if(!this.config)return;const e=JSON.parse(JSON.stringify(this.config));let t=e.viewerPositionMeta.positions;e.viewerViewportAdFetch?.slots&&e.viewerViewportAdFetch.slots[0]?.positions?.length&&(e.viewerViewportAdFetch.slots.forEach((e=>{e.positions?.length&&(t=t.concat(e.positions))})),e.viewerViewportAdFetch.slots=[]),e.viewerPositionMeta.positions=t.filter((e=>!(e.id.startsWith("INARTICLE")||e.id.startsWith("MAST")||e.id.startsWith("MON")||e.id.startsWith("MON2")||e.id.startsWith("FSRVY"))));for(const t of e.viewerPositionMeta.positions){const e=document.getElementById(t.clean),i=document.getElementById(t.dest);if(e&&e.parentNode&&i){t.id="UBA"+t.id;const s=document.createElement("div");s.id="viewer-"+t.id+"-base",s.style.width="100%",s.className="uba-container",t.clean=t.clean.replace("-","-UBA"),e.id=t.clean,t.dest=t.dest.replace("-","-UBA"),i.id=t.dest,e.parentNode.insertBefore(s,e),s.appendChild(e);const n=document.createElement("span");n.innerText="Advertisement",n.style.color="#787d82",n.style.display="block",n.style.fontSize="11px",n.style.marginBottom="3px",n.style.marginLeft="auto",n.style.marginRight="auto",t.id.indexOf("LDRB")>=0?n.style.width="728px":n.style.width="100%",s.insertBefore(n,e)}}return e}getConfig(){return document.cookie.includes("thamba=2")?this.getAdBlockConfig():this.config}onViewerClosed(){window.DARLA&&window.DARLA.inProgress()&&window.DARLA.abort(),this.onScrollHandle&&(window.wafer.removeListener("scroll",this.onScrollHandle),this.onScrollHandle=null),this.config?.viewerResetAutoEventOnClose&&this.darlaAutoEvent?.ps&&window.DARLA?.add(b,this.darlaAutoEvent),this.rotateIndexPageAds&&window.DARLA?.event("adFetch")}addPosition(e){const t=[];let i=window.location.protocol+"//"+window.location.host;window.location.pathname&&(i+=window.location.pathname);for(const s of e)t.push(s.id),s.meta||(s.meta={}),s.meta.hostURL=i,window.DARLA.addPos(s);return t}addViewportDarlaEvent(e){window.DARLA?.add(this.viewportEvent,{name:this.viewportEvent,ps:e.join(","),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId})}displayAds(e){this.contentSite=e.meta.data.adMeta&&e.meta.data.adMeta.site||"",this.spaceId=e.meta.data.spaceId;const t=this.getConfig();if(!window.DARLA||!t)return;window.DARLA.inProgress()&&window.DARLA.abort();const i=S();let s=[],n=[],o=e.meta.data.adMeta&&e.meta.data.adMeta.site_attribute||"";const a=i.bucket||i.bucketId,r=a?"Y-BUCKET="+a:"",c=JSON.parse(JSON.stringify(t.viewerPositionMeta.positions));o.indexOf("page_template")<0&&(o+=" page_template=modal"),this.siteAttribute=t.viewerPositionMeta.siteAttributes+" "+o+" "+r,t.viewerPositionMeta&&(s=this.addPosition(c)),t.viewerViewportAdFetch?.slots&&t.viewerViewportAdFetch.slots[0]?.positions?.length&&(this.viewportAdPositions=t.viewerViewportAdFetch.slots.map((e=>({...e,fetched:!1}))),this.viewportAdPositions.forEach((e=>{n=n.concat(this.addPosition(e.positions))}))),this.isViewportAdFetchEnabled()&&n.length?(this.onScrollHandle=this.handleScrollEvent.bind(this),window.wafer.on("scroll",this.onScrollHandle)):s=s.concat(n);const d={pg:{device:i.device||"",intl:i.intl||"",property:this.contentSite,rid:i.rid,test:a}};if(window.DARLA.add(this.event,{name:this.event,ps:s.join(","),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId,ult:d}),window.DARLA.add("slideshow",{name:"slideshow",ps:t.viewerPositionMeta.slideshowPositions,ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId}),!document.cookie.includes("thamba=2")){window.DARLA.stopAuto();const e={autoDDG:1,autoIV:1,autoMax:25,autoRT:1e4,autoStart:1,name:b,ps:s.concat(n).reduce(((e,t)=>(k.includes(t)||(e[t]={autoIV:1,autoMax:25,autoRT:1e4}),e)),{}),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId};this.config.viewerPositionMeta.groupRotation&&(e.groups=this.config.viewerPositionMeta.groupRotation),this.darlaAutoEvent=window.DARLA.evtSettings(b),window.DARLA.add(b,e),window.DARLA.startAuto()}window.DARLA.event(this.event)}setWaferState(e){const{adMeta:t,spaceId:i}=e.meta.data,s=function(e){if(e){const t=e.match(h);if(t.length>=2){const e={},i=t[1].split(";");for(let t of i)t=t.split(":"),t.length>=2&&w[t[0]]&&(e[w[t[0]]]=t[1]);return e}}return null}(t.site_attribute);window.wafer.state={viewerMainArticlePubBlob:JSON.stringify(s).replace(/\"/g,'\\"'),viewerMainArticleSpaceId:parseInt(i,10)}}getPendingViewportAdSlotIndex(){const e=[];return this.viewportAdPositions.forEach(((t,i)=>{t.fetched||e.push(i)})),e}getPositionsAndMarkSlot(){let e=[];return this.viewportAdFetchSlotIndex.forEach((t=>{this.viewportAdPositions[t]?.positions?.length&&(e=e.concat(this.viewportAdPositions[t]?.positions.map((e=>e.id))),this.viewportAdPositions[t].fetched=!0)})),e}isViewportAdFetchEnabled(e=!0){const t=this.config;if(!this.contentSite||!t||e&&document.cookie.includes("thamba=2"))return!1;if(t.viewerViewportAdFetch?.slots&&t.viewerViewportAdFetch.slots[0]?.positions?.length){return-1!==(t.viewerViewportAdFetch?.sites||[]).indexOf(this.contentSite)}return!1}isAdPositionsInViewport(e){let t=!1;return e.forEach((e=>{const i=document.getElementById(e.clean);!t&&i&&(t=window.wafer.utils.elementInView(i,{},window.wafer.base.viewport))})),t}isSlotPositionsInViewport(e){let t=!1;return e.forEach((e=>{const i=this.viewportAdPositions[e]?.positions,s=i&&this.isAdPositionsInViewport(i);s&&!this.viewportAdFetchSlotIndex.includes(e)&&this.viewportAdFetchSlotIndex.push(e),!t&&s&&(t=!0)})),t}displayViewportAds(){if(window.DARLA){const e=window.DARLA.evtSettings(this.event),t=this.getPositionsAndMarkSlot();if(!t.length)return;e&&(e.ps=`${e.ps},${t.join(",")}`,window.DARLA.add(this.event,e)),this.addViewportDarlaEvent(t),this.viewportPreviousAdFetchSlotIndex=this.viewportAdFetchSlotIndex,this.viewportAdFetchSlotIndex=[],window.DARLA.event(this.viewportEvent)}}delayFetchViewportAds(){let e=1;const t=setInterval((()=>{e>2?(clearInterval(t),window.DARLA?.inProgress()&&(window.DARLA.abort(),this.displayViewportAds())):window.DARLA&&!window.DARLA.inProgress()&&(clearInterval(t),this.displayViewportAds()),e++}),500)}onScrollViewportFetch(){const e=this.getPendingViewportAdSlotIndex();if(this.onScrollHandle&&!e.length&&(window.wafer.removeListener("scroll",this.onScrollHandle),this.onScrollHandle=null),!this.isSlotPositionsInViewport(e))return;const t=window.DARLA?.inProgress();t?t!==this.event?(window.DARLA?.abort(),t===this.viewportEvent&&this.viewportPreviousAdFetchSlotIndex.length&&(this.viewportPreviousAdFetchSlotIndex.forEach((e=>{this.viewportAdFetchSlotIndex.includes(e)||this.viewportAdFetchSlotIndex.push(e)})),this.viewportPreviousAdFetchSlotIndex=[]),this.displayViewportAds()):this.delayFetchViewportAds():(this.viewportPreviousAdFetchSlotIndex=[],this.displayViewportAds())}handleScrollEvent(){"function"==typeof requestAnimationFrame?(this.scrollAnimationFrameTimer&&cancelAnimationFrame(this.scrollAnimationFrameTimer),this.scrollAnimationFrameTimer=requestAnimationFrame((()=>{this.onScrollViewportFetch()}))):this.onScrollViewportFetch()}},new class{constructor(){this.pageContainer="atomic",this.viewerContainer="viewer",this.aft2MaxWaitTime=6e3}init(e){e?.yaft&&(e.yaft.pageContainer&&(this.pageContainer=e.yaft.pageContainer),e.yaft.viewerContainer&&(this.viewerContainer=e.yaft.viewerContainer),e.yaft.aft2MaxWaitTime&&(this.aft2MaxWaitTime=e.yaft.aft2MaxWaitTime))}onViewerOpened(){this.onTransitionStart(this.viewerContainer)}onContentChange(){this.onTransitionRenderStart()}onViewerClosed(){this.onTransitionStart(this.pageContainer)}onViewerDidClose(){this.onTransitionRenderStart()}onTransitionStart(e){const{YAFT:t}=window;t&&t.AFT2&&(t.AFT2.start(),t.updateConfig({maxWaitTime:this.aft2MaxWaitTime,modulesAft2Container:e}),t.adPosLoadTimes=[])}onTransitionRenderStart(){const{rapidInstance:e,YAFT:t}=window;e&&t&&t.AFT2&&t.AFT2.end(((t,i)=>{if(i)return;const s=Math.round(t.aft),n=t.visuallyComplete,o={perf_commontime:{afterPageLoad:{AFT:s,AFT2:s,STR:Math.round(t.startRender),VIC:n}}};e.beaconPerformanceData(o)}))}},new class{constructor(){this.logCaasEvent=e=>{window.wafer.on(e,(t=>{const i=t&&t.meta||{},s=`/${this.infoBeaconUri}?error=${e}&meta=${JSON.stringify(i)}`;window.wafer.utils.fireBeacon(s,{useNavigator:!1,useTimestamp:!1})}))}}init(e){e&&(this.site=e.context.site||"fp"),this.infoBeaconUri=v(this.site);const t=this.beaconPageView.bind(this);window.wafer.on("caas:article:inview",t),window.wafer.on("caas:article:init",t),window.wafer.on("log",this.beaconLog.bind(this)),this.logCaasEvent("caas:prefetch:failed")}onClick(e){"article"===e.type&&(this.uuid=e.payload.uuid,this.t0=Date.now())}async onContentWillChange(){this.t1=Date.now()}async onContentChange(){this.t2=Date.now()}async onContentDidChange(){this.t3=Date.now(),this.beaconClk2Cnt()}onViewerOpened(){this.beacon({beaconType:"homepage_viewer",info:"show_viewer"})}onViewerClosed(){this.beacon({beaconType:"homepage_viewer",info:"close_viewer"})}beaconLog({meta:e,name:t,type:i}={}){if("WaferCaas"===t||"BrowserType"===t&&e.slow){const t=`/${this.infoBeaconUri}?error=log&meta=${JSON.stringify(e)}`;window.wafer.utils.fireBeacon(t,{useNavigator:!1,useTimestamp:!1})}}beaconPageView(){const e=new Image,t=new URL("/pageview",window.location.origin);t.search=new URLSearchParams({bucket:"bucket",rid:"rid"}).toString(),e.src=t.toString()}beaconClk2Cnt(){this.beacon({code:"homepage_viewer_clk2cnt",t0:this.t0,t1_t0:Math.floor(this.t1-this.t0),t2_t1:Math.floor(this.t2-this.t1),t3_t2:Math.floor(this.t3-this.t2),time:Math.floor(this.t3-this.t0),uuid:this.uuid})}beacon(e){(new Image).src=`/${this.infoBeaconUri}?${g(e)}`}},new class{constructor(e){this.className=e.targetClassName,this.clusters=[],this.clusterSize=e.clusterSize,this.headerAnchorId="",this.home=new URL(location.href),this.isViewerClosed=!0,this.ntkClusterSize=e.ntkClusterSize,this.tagName=e.targetTagName}init(e){e?.clickHandler?.clusterSize&&(this.clusterSize=e.clickHandler.clusterSize);const t=this.handleClick.bind(this);let i=document.getElementById("header-logo");i?(this.headerAnchorId="header-logo",i.addEventListener("click",t)):(i=document.getElementById("ybar-logo"),i&&(this.headerAnchorId="ybar-logo",i.addEventListener("click",t)));const s=this.handleCaaSClickLink.bind(this);document.body.addEventListener("click",t),window.wafer.on("caas:link:clicked",s),window.wafer.on("caas:yahooLink:clicked",s),this.viewerNode=document.getElementById("viewer")}getArticles(e,t){const i={},s=e.querySelectorAll("[data-wf-caas-uuid]");for(const e of s){const s=e.getAttribute("data-wf-caas-uuid");if(s===t)continue;const n=e.getAttribute("href")||"",o=u(n);s&&o&&(i[s]={pathname:o,uuid:s})}return i}onViewerClosed(){this.clusters=[],this.isViewerClosed=!0}onViewerWillOpen(){this.home=new URL(location.href)}onViewerOpened(){this.isViewerClosed=!1}getElementComposedMap(e){let t=e;const i=new Map;for(;t;)i.set(t,!0),t=t.parentElement;return i}getClusterSize(e){return 0===Math.max(this.clusterSize,this.ntkClusterSize)?0:m(e,{className:"ntktdv2"})?this.ntkClusterSize:m(e,{className:"yns-notifications"})?0:this.clusterSize}handleCaaSClickLink(e){const i=e.meta.data;if(i.isComment){const e=i.uuid;return this.dispatch(t,{payload:{uuid:e},type:"comments"})}const{sec:s}=i;if(i.href){const{pos:e,slk:n}=i;return this.dispatch(t,{payload:{pos:e,ylk:Object.assign({sec:s,slk:n},i.params)},type:"link"}),void(window.open(i.href,i.target).opener=null)}if("sshow"===s){const{pos:e,sec:s,slk:n}=i;this.dispatch(t,{payload:{pos:e,ylk:Object.assign({sec:s,slk:n},i.params)},type:"slideshow"})}}handleClick(e){if(!A(window,"wafer.wafers.wafer-caas"))return;const i=e.target,s=i&&i.id;if(!this.isViewerClosed){if(m(i,{id:"header-back-button",tagName:"A"}))return e.preventDefault(),this.dispatch(t,{type:"back"});const n=this.headerAnchorId&&m(i,{id:this.headerAnchorId,tagName:"A"});if(n){const i=u(n.href);if(this.home.pathname!==i)return;return e.preventDefault(),e.stopPropagation(),this.dispatch(t,{type:"close"})}if(m(i,{id:"closebtn",tagName:"BUTTON"}))return this.dispatch(t,{type:"close"});if("Overlay"===s)return this.dispatch(t,{type:"overlay"})}const n=m(i,{className:this.className,tagName:this.tagName});if(n){if(e.ctrlKey||e.metaKey)return;"function"==typeof e.preventDefault&&e.preventDefault();const i=!!m(e.target,{className:"js-stream-comments-button"}),s=n.getAttribute("href")||"",o=u(s),a=this.getClusterArticles(n),r=y(n),c={cluster:a,expandComments:i,isHpViewer:!0,pathname:o,refererUrl:window.location.href,uuid:r};this.dispatch(t,{payload:c,type:"article"})}const o=this.getElementComposedMap(i);if(this.viewerNode&&o.has(this.viewerNode)){const e=document.getElementById("content-viewer");if(e&&!o.has(e))return this.dispatch(t,{type:"close"});const i=this.viewerNode.getElementsByClassName("viewer-wrapper")[0];if(i&&!o.has(i))return this.dispatch(t,{type:"close"})}}getClusterArticles(e){const t=this.getClusterSize(e);if(0===t)return[];const i=m(e,{className:"article-cluster-boundary"})||m(e,{className:"drawer-fetch-target",tagName:"DIV"})||m(e,{className:"stream-item",tagName:"LI"})||m(e,{className:"js-stream-content",tagName:"LI"})||m(e,{className:"tdv2-wafer-ntk-desktop",tagName:"DIV"})||m(e,{className:"aside-sticky",tagName:"DIV"})||m(e,{id:"Page"});if(!i)return[];let s=e.getAttribute("data-wf-caas-uuid")||e.getAttribute("data-uuid")||"";if(!s){const t=m(e,{className:"js-stream-content",tagName:"LI"});s=t&&(t.getAttribute("data-wf-caas-uuid")||t.getAttribute("data-uuid"))||""}const n=this.getArticles(i,s);let o=i.nextElementSibling;for(;Object.keys(n).length<t&&o;)Object.assign(n,this.getArticles(o,s)),o=o.nextElementSibling;let a=i.previousElementSibling;for(;Object.keys(n).length<t&&a;)Object.assign(n,this.getArticles(a,s)),a=a.previousElementSibling;return this.clusters=Object.values(n).slice(0,t),this.clusters}}({clusterSize:2,ntkClusterSize:5,targetClassName:"js-content-viewer",targetTagName:"A"}),new class{constructor(){this.home=new URL(location.href),this.c2sSessionId="",this.c2sArticleIndex=0,this.c2sElements=[],this.onScroll=null}init(e){e&&(this.site=e.context.site||"fp"),this.infoBeaconUri=v(this.site),window.adsConfig&&(this.config=window.adsConfig),this.config&&this.config.viewerPositionMeta&&this.config.viewerPositionMeta.c2siframe&&(window.wafer.on("caas:article:init",this.articleInit.bind(this)),window.wafer.on("caas:article:inview",this.articleInview.bind(this)))}onViewerWillOpen(){this.home=new URL(location.href)}onViewerClosed(){this.onScroll&&(window.removeEventListener("scroll",this.onScroll),this.onScroll=null)}articleInit(e){this.config.viewerPositionMeta.c2siframe&&this.config.viewerPositionMeta.c2siframe.sites.indexOf(e.meta.data.adMeta.site)>=0&&(this.c2sSessionId=Date.now()+"_"+Math.random().toString().substr(2,5),this.c2sArticleIndex=0,this.c2sElements=[])}articleInview(e){this.c2sArticleIndex++;const t="qa5.www.yahoo.com"===this.home.host&&this.home.searchParams.has("c2sallowall");e.elem&&e.elem.querySelector&&e.elem.querySelector(".js-c2smodule")||this.config.viewerPositionMeta.c2siframe&&(t||e.meta&&e.meta.data&&e.meta.data.adMeta.site&&this.config.viewerPositionMeta.c2siframe.sites.indexOf(e.meta.data.adMeta.site)>=0)&&this.loadC2siframe(e)}loadC2siframe(e){const t=e.elem.querySelector(".caas-body");if(t){const i=document.createElement("iframe");i.setAttribute("class","js-c2smodule"),i.setAttribute("frameborder","no"),i.setAttribute("scrolling","no"),i.setAttribute("allowtransparency","true"),i.setAttribute("async","true"),i.setAttribute("tabindex","-1"),i.style.marginTop="20px",i.style.width="100%";const s=e.meta.data.uuid,n=new URL(this.config.viewerPositionMeta.c2siframe.url);n.searchParams.append("uuid",s),n.searchParams.append("sid",String(this.c2sSessionId)),n.searchParams.append("iid",String(this.c2sArticleIndex)),i.setAttribute("src",n.href);const o=Date.now(),a=setTimeout((()=>{i.style.display="none",window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-timedout&uuid="+s,{useNavigator:!1,useTimestamp:!1})}),this.config.viewerPositionMeta.c2siframe.timeout||5e3);i.addEventListener("load",this.handleOnload.bind(this,s,a,o),!1),window.addEventListener("message",this.handlePostMessage.bind(this,s,i),!1),t.appendChild(i),this.c2sElements.push(i),!this.onScroll&&i.contentWindow&&i.contentWindow.postMessage&&(this.onScroll=this.handleScroll.bind(this),"function"==typeof requestAnimationFrame?window.wafer.on("scroll",(()=>requestAnimationFrame(this.onScroll))):window.wafer.on("scroll",this.onScroll))}}handleOnload(e,t,i){clearTimeout(t),window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-loaded&uuid="+e+"&latency="+(Date.now()-i),{useNavigator:!1,useTimestamp:!1})}handlePostMessage(e,t,i){if(!e||!t)return;const s=i;if(s.data&&"c2sDisplay"===s.data.event&&s.data.articleId===e){const n=s.data.terms||[];s.data.height&&(t.style.height=s.data.height+"px"),window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-renderd-searchitems&uuid="+e+"&widget="+escape(i.data.widget)+"&flavor="+escape(i.data.flavor||"")+"&count="+n.length+"&terms="+escape(JSON.stringify(n)),{useNavigator:!1,useTimestamp:!1})}}handleScroll(){this.c2sElements.forEach((e=>{window.wafer.utils.elementInView(e,{},window.wafer.base.viewport)?e.contentWindow.postMessage("c2s-node-visible","*"):e.contentWindow.postMessage("c2s-node-not-visible","*")}))}},new class{constructor(e){this.isEnabled=!0;const t=S();this.comments={},this.config=e,this.expanded=!1,this.region=t?.region||"US",this.lang=t?.lang||"en-US",this.site="fp"}init(e){if(e?.spotIm?.enabled)return void(this.isEnabled=!1);e&&(this.region=e.context.region,this.lang=e.context.lang,this.site=e.context.site);const t=this.initCommentsOnView.bind(this);window.wafer.on("caas:article:inview",t),window.wafer.on("caas:article:init",t)}async onContentChange(e){this.expanded=e.expandComments}async onClick(e){if(this.isEnabled&&"comments"===e.type){const t=e.payload.uuid,i=this.comments[t]||await this.initCommentsOnClick(t);if(i&&i.instance){i.instance.expand(),await p(100);document.getElementById(i.id).scrollIntoView({behavior:"smooth"})}}}onViewerDidClose(){Object.values(this.comments).forEach((e=>{e.instance?.destroy()})),this.comments={},this.expanded=!1}getCommentsNodeId(e){const t=window.wafer.base._state;for(const i of Object.getOwnPropertyNames(t)){if(t[i]===e){const e=document.querySelector(`[data-wf-state-caas-uuid="[state.${i}]"]`);if(e){return e.getAttribute("data-comments-id")}}}}getRapidBucket(){return window.rapidPageConfig?.rapidConfig?.test_id||""}getRapidKeys(){return window.rapidInstance?window.rapidInstance.getRapidAttribute("keys"):{}}getRapidSpaceId(){return window.rapidInstance?window.rapidInstance.getRapidAttribute("spaceid"):""}getCanvassCommentsParams(e){const{commentSectionId:t,hostedType:i,spaceId:s,title:n,url:o,uuid:a}=e,r="hosted"===i?"yahoo_content":"yahoo_offnet",c=this.getRapidKeys(),d=s||this.getRapidSpaceId(),{_rid:l,site:h="fp"}=c,{device:w}=this.config,p="news"===this.site?"redesign":"",m="news"===this.site?"Ff(YahooSans)":"";return{bucket:this.getRapidBucket(),context:a,contextDisplayText:n,contextUrl:o,device:w,lang:this.lang,namespace:r,prid:l,rapid:window.rapidInstance,rapidKeys:c,region:this.region,sectionId:t,site:h,spaceid:d,theme:p,themeContainerClasses:m,useRelativeHostName:!0}}initComments(e,t,i){const{CanvassComments:s}=window.YAHOO,{rmp:n}=this.config;if(!n){if(!s)return;const n=new s(t,i);return this.expanded=!1,this.comments[e]={id:t,instance:n}}{const s=document.getElementById(t);if(!s)return;this.comments[e]={id:t};const o=`${n.xhrPathPrefix}?m_id=${n.m_id}&ctrl=${n.ctrl}&m_mode=json&rid=${i.prid}&context=${e}&device=${i.device}&site=${i.site}&region=${i.region}&lang=${i.lang}`,a=n.config?`data-wf-body=${JSON.stringify(n)}`:"";s.innerHTML=`<div class="wafer-fetch" data-wf-trigger="onLoad" data-wf-cache-strategy="cacheFirst" data-wf-replace="1" data-wf-url="${o}" ${a}></div>`,window.wafer.base.sync(s)}}initCommentsOnView(e){if(window.YAHOO){const t=e.meta.data,i=t.uuid;if(!t.commentsAllowed)return;if(this.comments[i])return;const s=e.elem.getAttribute("data-comments-id"),n=this.getCanvassCommentsParams(t);n.expanded=this.expanded,this.initComments(i,s,n)}}async initCommentsOnClick(e){const[t]=await window.wafer.caas.getData([e]);if(!t.commentsAllowed)return;const i=this.getCanvassCommentsParams(t);i.expanded=!0;const s=this.getCommentsNodeId(e);return s?this.initComments(e,s,i):void 0}}({device:"desktop",rmp:{config:{ui:{enableFeedback:!1}},ctrl:"CanvassMessage",m_id:"tdv2-applet-canvass.message",m_mode:"json",xhrPathPrefix:"/nel_ms/_td/remote"}}),new class{onViewerClosed(){dispatchEvent(new CustomEvent("viewerClosed"))}onViewerOpened(e){const t={detail:{uuid:e.uuid}};dispatchEvent(new CustomEvent("viewerOpened",t))}onContentChange(e){const t={detail:{uuid:e.uuid}};dispatchEvent(new CustomEvent("viewerContentChanged",t))}},new class{init(){this.shouldDeeplink=!document.getElementById("content-viewer-template")}onClick(e){this.shouldDeeplink&&"article"===e.type&&e.payload?.pathname&&(window.location.pathname=e.payload.pathname)}},new class{init(){this.mainView=document.getElementById("Masterwrap")||document.getElementById("MainView")||document.getElementById("YDC-Col1")?.parentElement,this.viewer=document.getElementById("content-viewer"),this.viewerParent=document.getElementById("viewer"),this.listener=e=>{27===e.keyCode&&history.back()}}onContentWillChange(){window.wafer.state={showViewer:Date.now()}}async onContentChange(e){const{cluster:t=[],expandComments:i,uuid:s}=e,n=t.map((e=>e.uuid)),o=i?"1":"0";this.viewer.classList.remove(...[0,1,2,3,4,5,6].map((e=>`cluster${e}`))),this.viewer.classList.add(`cluster${t.length}`),await p(1),window.wafer.state={viewerClusterArticleId1:n[0],viewerClusterArticleId2:n[1],viewerClusterArticleId3:n[2],viewerClusterArticleId4:n[3],viewerClusterArticleId5:n[4],viewerClusterArticleId6:n[5],viewerMainArticleCollapsed:o,viewerMainArticleId:s},await p(1)}async onViewerOpened(){window.wafer.base.lock(this.mainView);const{top:e}=this.mainView.getBoundingClientRect();this.mainView.setAttribute("aria-hidden","true"),Object.assign(this.mainView.style,{position:"fixed",top:e+"px",visibility:"hidden"}),this.viewerParent?.setAttribute("aria-hidden","false"),document.documentElement.classList.add("modal-open","Panel-open","viewer-open"),await p(5),window.addEventListener("keydown",this.listener)}onViewerClosed(){this.viewerParent?.setAttribute("aria-hidden","true"),this.mainView.style.visibility="",this.viewer.classList.remove("wafer-template-success"),window.wafer.base.destroy(this.viewer);for(const e of this.viewer.children)this.viewer.removeChild(e);document.documentElement.classList.remove("modal-open","Panel-open","viewer-open"),this.mainView.removeAttribute("aria-hidden"),Object.assign(this.mainView.style,{position:"",top:""}),window.wafer.base.unlock(this.mainView),window.wafer.base.sync(this.mainView),window.removeEventListener("keydown",this.listener),window.wafer.state={showViewer:"wf-state-reset",viewerClusterArticleId1:"wf-state-reset",viewerClusterArticleId2:"wf-state-reset",viewerClusterArticleId3:"wf-state-reset",viewerClusterArticleId4:"wf-state-reset",viewerClusterArticleId5:"wf-state-reset",viewerClusterArticleId6:"wf-state-reset",viewerMainArticleCollapsed:"wf-state-reset",viewerMainArticleId:"wf-state-reset",viewerMainArticlePubBlob:"wf-state-reset"}}},new class{constructor(){this.count="12",this.sidekickUrl=this.getSidekickUrl(),this.clusterUuids=[]}init(){const e=this.initSidekick.bind(this);window.wafer.on("caas:article:init",e)}async onContentChange(e){window.wafer.state={sidekick:"wf-state-reset"};const{cluster:t=[]}=e;this.clusterUuids=[];for(const e of t)e.uuid&&this.clusterUuids.push(e.uuid)}onViewerClosed(){window.wafer.state={sidekick:"wf-state-reset"}}isLongArticle(e){return"hosted"===e.hostedType&&"slideshow"!==e.contentType&&"video"!==e.contentType}getSidekickUrl(){const e=C()?location.origin:"https://web.archive.org/web/20210201120316/https://www.yahoo.com",t=new URL(e);return t.pathname="/caas/sidekick/sidekick",t}initSidekick(e){const{adMeta:t,spaceId:i,uuid:s,ycts:n,wikiids:o}=e.meta.data,a=A(t,"site_attribute")||"";let r=s;(async()=>{const e=await window.wafer.caas.getData([s,...this.clusterUuids]),t=e.filter(this.isLongArticle);this.count=t.length>1?"12":"6";let c="";for(const t of e){const{uuid:e}=t;e&&-1===r.indexOf(e)&&(r=`${r},${e}`);const i=A(t,"adMeta.site");i&&(c=c?`${c},${i}`:i)}this.sidekickUrl.search=new URLSearchParams({count:this.count,property:c,siteAttribute:a,spaceId:i,uuid:r,wikis:o,ycts:n}).toString(),window.wafer.state={sidekick:this.sidekickUrl.toString()}})()}},new class{constructor(){this.home=new URL(location.href),this.isViewerClosed=!0}init(e){e&&(this.site=e.context.site||"fp",e.retainSearchParams&&(this.retainSearchParams=e.retainSearchParams)),this.infoBeaconUri=v(this.site);const t=document.querySelector('link[rel="canonical"]');t&&(this.canonicalEl=t,this.canonicalElStartVal=t.getAttribute("href")),window.addEventListener("popstate",this.onPopState.bind(this)),window.wafer.on("caas:article:init",(()=>{this.dispatch(n,this.payload)})),window.wafer.on("caas:article:inview",(e=>{this.navigateFailureTimeout&&clearTimeout(this.navigateFailureTimeout);const{data:t}=e.meta;for(const e of[this.payload,...this.payload.cluster])if(e.uuid===t.uuid&&e.pathname)return void this.replaceState(this.payload,e.pathname);const i=t.homepageUrl||t.url;this.replaceState(this.payload,i)})),window.wafer.on("caas:article:error",(e=>{const{viewerMainArticleId:t}=window.wafer.base._state,{url:i,uuid:s}=e.meta;s===t?this.onNavigateFailure(i):this.onClusterArticleFailure(i)})),window.wafer.on("caas:sidekick:error",(e=>{const t=new Image,i=g({error:"sidekick_error",url:e.meta.url});t.src=`/${this.infoBeaconUri}?${i}`}))}onClusterArticleFailure(e){this.beaconFailure("cluster_article_failure",e)}onNavigateFailure(e){this.beaconFailure("navigate_failure",e),setTimeout((()=>{this.isViewerClosed||(window.location.href=this.payload.pathname)}),500)}beaconFailure(e,t){const i=new Image,s=g({error:e,url:t});i.src=`/${this.infoBeaconUri}?${s}`}onClick(e){switch(e.type){case"article":const t=e.payload;this.navigateFailureTimeout=window.setTimeout((()=>{const e=location.origin+t.pathname;this.onNavigateFailure(e)}),2e3),this.isViewerClosed&&this.dispatch(o),this.navigateToArticle(t),this.pushState(t,t.pathname),this.canonicalEl&&this.canonicalEl.setAttribute("href",location.href);break;case"back":this.onHeaderBackButtonClicked();break;case"close":case"overlay":this.navigateHome()}}onViewerWillOpen(){this.home=new URL(location.href)}async navigateToArticle(e){this.payload=e,await this.dispatch(i,e),this.isViewerClosed&&(await this.dispatch(a,e),this.isViewerClosed=!1),await this.dispatch(s,e)}onHeaderBackButtonClicked(){history.back()}async navigateHome(){this.isViewerClosed||(this.isViewerClosed=!0,this.pushState({},this.home.href),this.canonicalEl&&this.canonicalElStartVal&&this.canonicalEl.setAttribute("href",this.canonicalElStartVal),await this.dispatch(r),setTimeout((()=>this.dispatch(c)),0))}async onPopState(){const e=window.history.state||{};window.location.href===this.home.href?await this.navigateHome():e.isHpViewer&&this.navigateToArticle(e)}getHrefWithQueryParams(e){const t=new URL(e,location.origin);return this.retainSearchParams&&this.retainSearchParams.length&&this.retainSearchParams.forEach((e=>{if(!t.searchParams.has(e)&&this.home.searchParams.has(e)){const i=String(this.home.searchParams.get(e));t.searchParams.append(e,i)}})),t.href}pushState(e,t){history.pushState(e,"",this.getHrefWithQueryParams(t))}replaceState(e,t){history.replaceState(e,"",this.getHrefWithQueryParams(t))}},new class{constructor(e){this.config=e;const t=this.onScroll.bind(this);window.wafer.ready((()=>{"function"==typeof requestAnimationFrame?window.wafer.on("scroll",(()=>requestAnimationFrame(t))):window.wafer.on("scroll",t)}),window),this.activeSticky=this.getStickyNode(e.pageStickyNode),this.stickyBottom=e.pageStickyBottom,this.config.pageStickyNode=e.pageStickyNode,this.viewerContainerNode=void 0}onViewerOpened(){this.activeSticky=this.getStickyNode(this.config.viewerStickyNode),this.stickyBottom=this.config.viewerStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}onContentDidChange(){this.activeSticky=this.getStickyNode(this.config.viewerStickyNode),this.stickyBottom=this.config.viewerStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}onViewerClosed(){this.activeSticky=this.getStickyNode(this.config.pageStickyNode),this.stickyBottom=this.config.pageStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}getStickyNode(e){return document.querySelector(e)}onScroll(){if(window.pageYOffset>0?document.body.classList.add("has-scrolled"):document.body.classList.remove("has-scrolled"),this.activeSticky&&this.activeSticky.parentElement){const{bottom:e,height:t}=this.activeSticky.getBoundingClientRect(),i=this.viewerContainerNode?this.viewerContainerNode.getBoundingClientRect().bottom:0,s="fixed"===this.activeSticky.style.position&&!this.activeSticky.parentElement.classList.contains("sticky-flow");if(t<window.innerHeight)return;if(this.viewerContainerNode&&i<window.innerHeight){const e=window.innerHeight-i+this.stickyBottom;Object.assign(this.activeSticky.style,{bottom:e+"px",position:"fixed"}),this.activeSticky.parentElement.classList.remove("sticky-active"),this.activeSticky.parentElement.classList.add("sticky-flow")}else s?window.pageYOffset<t-window.innerHeight+this.config.rightRailTop&&(Object.assign(this.activeSticky.style,{bottom:"",position:""}),this.activeSticky.parentElement.classList.remove("sticky-active")):e<window.innerHeight&&(Object.assign(this.activeSticky.style,{bottom:this.stickyBottom+"px",position:"fixed"}),this.activeSticky.parentElement.classList.add("sticky-active"),this.activeSticky.parentElement.classList.remove("sticky-flow"))}}get rightRail(){return document.getElementsByClassName("viewer-aside")[0]}}({pageStickyBottom:30,pageStickyNode:"#Aside .aside-sticky",rightRailTop:91,viewerContainerNode:"#content-articles-wrapper",viewerStickyBottom:60,viewerStickyNode:"#viewer-aside .aside-sticky"}),new class{constructor(){this.scrollHistory={}}onContentWillChange(){const{pathname:e}=location;this.scrollHistory[e]=window.pageYOffset}onContentChange(e){this.restoreScrollPosition(e.pathname)}onViewerClosed(){const{pathname:e}=location;this.restoreScrollPosition(e)}restoreScrollPosition(e){const t=this.scrollHistory[e]||0;window.scrollTo(0,t)}},new class{constructor(){this.title=document.title}init(){window.wafer.on("caas:article:inview",(e=>{document.title=e.meta.data.title}))}onViewerClosed(){document.title=this.title}},new class{init(){"function"==typeof A(window,"s.t")&&(this.adobeAnalytics=window.s,window.wafer.on("caas:article:inview",this.adobeAnalytics.t))}async onContentDidChange(){this.adobeAnalytics&&(this.adobeAnalytics.prop53="Modal")}async onClick(){if(this.adobeAnalytics){const e=this.adobeAnalytics.pna||"",t=window.location.hostname.split(".",1);this.adobeAnalytics.pageName=`net|${t}|${e}`}}async onViewerClosed(){if(this.adobeAnalytics){const e=this.adobeAnalytics.pna||"",t=window.location.hostname.split(".",1);this.adobeAnalytics.pageName=`net|${t}|${e}`,this.adobeAnalytics.prop53="Modal Close",this.adobeAnalytics.t(),this.adobeAnalytics.clearVars()}}},new class{init(e){if(!window.rapidInstance)return;window._comscore=window._comscore||[],this.c14=window.YAHOO?.comscore?.c14||"-1",this.spaceId=window.rapidInstance.getRapidAttribute("spaceid");const t=this.beaconPageView.bind(this);window.wafer.on("caas:article:inview",t)}onViewerClosed(){if(!window.rapidInstance)return;const e=new URL(location.pathname,location.origin).toString();this.beaconComscore(this.spaceId,e)}async beaconPageView(e){const{spaceId:t,url:i}=e.meta.data;this.beaconComscore(t,i)}async beaconComscore(e,t){window._comscore=window._comscore||[],window._comscore.push({c1:2,c14:this.c14,c2:"7241469",c5:e,c7:t}),window.COMSCORE?.purge()}},new class{constructor(){this.trackedItemsInViewer={}}init(e){e&&(this.meta={assetid:window.location.pathname,section:"Yahoo!",type:"static"}),this.nSdkInstance=window.nSdkInstance,this.nSdkNseNo=window.nSdkNseNo,window.wafer.on("caas:article:inview",(e=>{e.meta&&e.meta.data&&e.meta.data.uuid&&!this.trackedItemsInViewer[e.meta.data.uuid]&&(this.nielsenSpaEvent("caas:article:inview"),this.trackedItemsInViewer[e.meta.data.uuid]=!0)}))}onViewerOpened(){this.nSdkNseNo=window.nSdkNseNo,this.trackedItemsInViewer={}}onViewerClosed(){this.trackedItemsInViewer={},this.nielsenSpaEvent("viewerClosed")}nielsenSpaEvent(e){var t=window.location;this.nSdkInstance&&void 0!==this.nSdkNseNo&&this.meta&&(this.nSdkInstance.ggPM("staticend",this.meta),this.nSdkNseNo=++this.nSdkNseNo,this.meta.referrerURL=this.meta.pageURL||t.href,this.meta.pageURL="page_"+this.nSdkNseNo+"_"+t.href,this.meta.assetid=t.pathname,this.nSdkInstance.ggPM("staticstart",this.meta),"viewerClosed"===e&&(window.nSdkNseNo=this.nSdkNseNo))}},new class{init(e){}onClick(e){V&&"article"===e.type&&performance.mark("article_link_clicked")}onViewerClosed(){V&&performance.clearMarks("article_link_clicked")}},new class{constructor(){this.playingVideos=[]}onViewerOpened(){this.playingVideos=[];const e=window.context?.getStore("VideoPlayerStore")?.getVideoPlayers()||[];for(const{player:t}of e)t.controls.isPlaying()&&(this.playingVideos.push(t),t.controls.pause())}onViewerDidClose(){for(const e of this.playingVideos)e.controls.play();this.playingVideos=[]}},new class{constructor(){}init(e){}onClick(e){window.postMessage({action:"y:homepage:click",props:{type:e.type}},"*")}},new class{constructor(){this.isEnabled=!1,this.comments={}}async init(e){if(!e?.spotIm?.enabled)return;this.isEnabled=!0;const{config:t,spotImJsUrl:i}=e.spotIm;this.spotImConfig=t;const s=this.initCommentsOnView.bind(this);window.wafer.on("caas:article:inview",s);const n=document.createElement("script");n.async=!0,n.src=i,document.body.appendChild(n)}onViewerDidClose(){this.comments={}}initComments(e,t){const i=document.getElementById(e);if(!i)return;const{url:s,uuid:n}=t,{launcherUrl:o,spotId:a,pitcEnabled:r}=this.spotImConfig,c={...this.spotImConfig,launcherSrc:o+a,url:s,uuid:n},d="mainArticleIdComments"===i.id,l={detail:{config:{...c,pitcEnabled:!1},elem:i,isMain:d}};if(dispatchEvent(new CustomEvent("initSpotImComments",l)),r&&d){const e=document.getElementById("viewer-spotIm-pitc-root");dispatchEvent(new CustomEvent("initSpotImPitc",{detail:{config:c,elem:e}}))}this.comments[n]={commentsNode:i,id:e}}initCommentsOnView(e){if(window.YAHOO){const t=e.meta.data,i=t.uuid;if(!t.commentsAllowed)return;if(this.comments[i])return;const s=e.elem.getAttribute("data-comments-id");this.initComments(s,t)}}async onClick(e){if(this.isEnabled&&"comments"===e.type){const t=e.payload.uuid;this.comments[t]?.commentsNode?.scrollIntoView?.({behavior:"smooth",block:"center"})}}},new class{constructor(){document.getElementById("content-viewer-template")||window.wafer.ready((()=>{this.bootstrap()}))}init(){}async bootstrap(){const e=S(),t=e?.region||"US",i=e?.device,s=e?.contentSite,{site:n="fp",...o}=window.rapidInstance?.getRapidAttribute("keys"),a=e?.lang||o.lang||"en-US",r={contentSite:s,device:i,lang:a,region:t,site:n},c=`${C()?"":"https://web.archive.org/web/20210201120316/https://www.yahoo.com"}${s?`/${s}/layouts`:"/layouts"}?device=${i}&lang=${a}&region=${t}&site=${n}`;try{const{configs:e,layout:t}=await window.wafer.utils.fetchWithCache(c,{cacheStrategy:"cacheFirst",cacheTtl:1e3,credentials:"include"});document.body.insertAdjacentHTML("beforeend",t),window.adsConfig=window.adsConfig||e.ads,window.YAHOO.viewer.init({context:r,...e.viewer})}catch(t){window.YAHOO.viewer.init({context:r});const i=`/${v(e?.site||"fp")}?error=layout_fetch_failed&message=${t?.message}`;window.wafer.utils.fireBeacon(i,{useNavigator:!1,useTimestamp:!1})}window.wafer.base.sync(document.body)}}];window.YAHOO.viewer=new class{constructor(e){this.handlers={};const t=this.dispatch.bind(this);e.forEach((e=>e.dispatch=t)),this.mapPluginHandlers(e)}mapPluginHandlers(e){for(const t in d)if(t in d){this.handlers[t]=[];for(const i of e)if(t in i){const e=i[t].bind(i);this.handlers[t].push(e)}}}init(t){this.dispatch(e,t)}dispatch(e,...t){const i=[];for(const s of this.handlers[e]){const e=s(...t);e instanceof Promise&&i.push(e)}return Promise.all(i)}}(P)}();
//# sourceMappingURL=desktop_1.9.10.modern.js.map


}
/*
     FILE ARCHIVED ON 12:03:16 Feb 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 17:09:07 Dec 14, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 200.019
  exclusion.robots: 0.157
  exclusion.robots.policy: 0.143
  cdx.remote: 0.1
  esindex: 0.014
  LoadShardBlock: 145.344 (3)
  PetaboxLoader3.datanode: 116.281 (5)
  load_resource: 306.407 (2)
  PetaboxLoader3.resolve: 221.771 (2)
*/