(function(){var t=window;var W=document;var B=t.YAHOO||{};var w=t.DARLA||null;var e=t&&t.wafer;var Z;var m="viewerClosed";var ah="viewerOpened";var N="homepage-viewer";var h="pageVisibilityChange";var ad="scroll";var ak="adRotateEvt";var u="AUTO";var T="tabswitch";var D="darlaReadyOnAsync";var G;var F="my-ads";var r=F+"LREC2-config";var Y=F+"UBALREC2-config";var U="sticky-lrec2-footer";var q="my-adsLREC4-base";var ae="2023538075";var af=100;var j;var s;var f;var I;var H;var p={};var v;var am;var a={"INARTICLE-1":true};var l="native-leaderboard-ad";var ai="gemini-ad-refresh";var ag="pencil_ad_cluster_container";var J=5000;var R=3;var ac;var Q=true;var ao;var k;var i=false;var M;var g=0;var E=Date.now||function(){return new Date().getTime();};if(!e){return;}e.ready(function(){Z=e.base||{};if(!w){t.addEventListener(D,function ap(){L();});return;}L();});function V(aq){var ap=["autorotate","disablerotation","lrec2selectiveenabled","lrec4enabled","mon2enabled"];for(var ar=0;ar<ap.length;ar++){aq[ap[ar]]=!!+aq[ap[ar]];}}function c(ap){if(!ap||typeof ap!=="string"){return"";}var ar;try{ar=JSON.parse(ap);}catch(aq){return"";}return ar;}function L(){v=W.getElementById(r)||W.getElementById(Y);if(!v||!v.dataset){return;}j=c(JSON.stringify(v.dataset));if(!j||!j.config){return;}V(j);am=c(j.config);if(!am){return;}f=W.getElementById(F+am.pos);I=W.getElementById(F+"LDRB2");if(f){p.lrec=true;}if(I){p.ldrb2=true;H=c(I.dataset.config);}if(!w||!f){return;}G={offsetX:0,offsetY:parseInt(j.offset,10)||af};e.on(ad,A);t.addEventListener(ah,function ap(){i=true;});t.addEventListener(m,function at(){i=false;K();});setTimeout(function(){an();b();A();},300);var aq=W.getElementsByClassName(l);if(aq&&aq.length>0){ac=aq[0];}var ar=W.getElementsByClassName(ag);if(ar&&ar.length>0){setTimeout(function(){aa(ar[0]);},J);}if(typeof window.stageAdVideoPlaying!=="undefined"){s=W.getElementById("Masterwrap");al();if(window.stageAdVideoPlaying){if(Q){o();Q=false;}window.onStageVideoComplete=function(){if(!Q){z();Q=true;}window.stageAdVideoPlaying=false;};}}}function o(){if(Z){Z.pauseVideo("stage-ad");}}function z(){if(Z){Z.resumeVideo("stage-ad");Z.sync(W.getElementById("Masterwrap"));}}function al(){if(s){var ap=s.getBoundingClientRect();if(ap.y<=120){if(!Q){z();Q=true;}}else{if(window.stageAdVideoPlaying&&Q){o();Q=false;}}}}function n(ap,aq){if(!ap){return false;}aq=aq||{};return e.utils.elementInView(ap,aq,Z.viewport);}function A(ap){if(i){return;}if(n(f,G)&&p.lrec){x();p.lrec=false;}if(n(I,{offsetX:0,offsetY:300})&&p.ldrb2){ab();p.ldrb2=false;}if(!p.lrec&&!p.ldrb2){e.removeListener(ad,A);}if(s&&window.stageAdVideoPlaying){al();}}function b(){k=parseInt(j.tabswitchrotate,10)||0;if(!k){return;}ao=E();e.on(h,X);e.on("caas:article:init",function(ap){M=ap;});if(window.addEventListener){window.addEventListener("focus",function(){X({isActive:true});});window.addEventListener("blur",function(){X({isActive:false});});}}function y(aq,aB,aC){var av=aB[aq].extrapositions&&aB[aq].extrapositions.split(",")||[];if(aB[aq].inview){var az=true;var at=[].concat(aB[aq].inview.split(","));for(var au=0;au<at.length;au++){var ap=at[au];var ax=w.posSettings(ap);if(ax){var aA=document.getElementById(ax.dest);if(!n(aA)){az=false;}}}if(az){var aw=[].concat(at,av);for(au=0;au<aw.length;au++){nAdPos=aw[au];if(aC.indexOf(nAdPos)<0){aC.push(nAdPos);}}}}else{for(var ar=0;ar<av.length;ar++){var ay=av[ar];if(aC.indexOf(ay)<0){aC.push(ay);}}}}function X(aG){if(!aG.isActive){ao=E();return;}if(aG.isActive){var ap=E();if(ap-ao<k||!w||w.inProgress()){return;}if(!t._darlaAutoEvt){t._darlaAutoEvt=aj();}var ax=t._darlaAutoEvt.ps;var aA=["MON"];var ar=[];var aC=j.adboostgrouprotation;var aq;if(aC){try{aq=JSON.parse(aC);}catch(aH){}}var aD=j.vieweradboostgrouprotation;var aB;if(aD){try{aB=JSON.parse(aD);}catch(aH){}}if(t.pageloadValidAds&&t.pageloadValidAds.indexOf("UBALREC")>=0){aA.push("UBALREC");aA.push("UBALREC2");aA.push("UBALREC3-9");}if(t.pageloadValidAds&&t.pageloadValidAds.indexOf("UBALDRB")>=0){aA.push("UBALDRB");}var au={};if(i){var aw=w.evtSettings("homepage-viewer");if(aw&&aw.ps){aA=aw.ps.split(",");}au=w.evtSettings("AUTO");}else{for(var aI in ax){if(ax.hasOwnProperty(aI)){aA.push(aI);}}}for(var aF=0;aF<aA.length;aF++){var at=aA[aF];var az=w.posSettings(at);if(az&&az.dest){var av=document.getElementById(az.dest);if(av&&!a[at]&&n(av,0)&&av.offsetHeight>1){ar.push(at);if(!i&&aq&&aq[at]){y(at,aq,ar);}else{if(i&&aB&&aB[at]){y(at,aB,ar);}}}}}if(ar.length){var ay=au.sa||t._darlaAutoEvt.sa;if(j.togglesa&&g%2===0){ay=j.togglesa;}g++;var aE={ps:ar.join(","),name:T,sp:au.sp||t._darlaAutoEvt.sp,sa:ay,ssl:t._darlaAutoEvt.ssl,secure:t._darlaAutoEvt.secure,ref:t.location.href,npv:1,property:"fp",ult:au.ult||t._darlaAutoEvt.ult,experience:t._darlaAutoEvt.experience};t.DARLA.add(aE);t.DARLA.event(T);}return;}}function ab(){var ar="LDRB2";var at="fetch_selective_ad_"+ar.toLowerCase();var ap=S(ar,at);var aq=w.inProgress();if(aq){if(aq===N){w.abort();}else{setTimeout(ab,500);return;}}w.add(ap);w.addPos([H]);w.event(at);}function x(){if(!j){return;}var aw=am;var aB;var aE;var ax;var aD="";var aA;var az;var aG=[aw];var at=j.lrec4pos||"LREC4";var aI=F+at;var aC=W.getElementById(aI);var ar=aC&&aC.dataset&&aC.dataset.config;var ay=ar&&c(ar)||C(at,aI,aI+"-iframe",300,250);var av=j.mon2pos||"MON2";var ap=F+av;var aF=W.getElementById(ap);var aH=aF&&aF.dataset&&aF.dataset.config;var aq=aH&&c(aH)||C(av,ap,ap+"-iframe",300,600);if(aw){aB=aw.pos;aw.id=aB;aD+=aB;}if(j.lrec4enabled){aE=ay.pos;aD+=","+aE;aG.unshift(ay);}if(j.mon2enabled){ax=aq.pos;aD+=","+ax;aG.push(aq);}az="fetch_selective_ad_"+aB.toLowerCase();aA=S(aD,az);if(w.inProgress()){var au=w.inProgress();if(au&&au===N){w.abort();w.add(aA);w.addPos(aG);w.event(az);}else{P();return;}}else{if(j.lrec2selectiveenabled){w.add(aA);w.addPos([aG]);w.event(az);}}an();}function K(){if(!w||!t.pageloadNonCollapsedAds){return;}var aD;var aF=[];var aC=t.pageloadNonCollapsedAds;var aE=["LREC","MAST","LDRB","UBALDRB","UBALREC","UBALREC3-9"];for(var au=0;au<aE.length;au++){var aq=aE[au];if(aC.indexOf(aq)>=0){var az=W.getElementById(F+aq);if(az&&n(az)){aF.push(aq);}}}if(aF.length){aD=S(aF,ak);if((!j||(j&&!j.concatadpositions))){O(aD,true);}}else{if(aC.indexOf("FPAD")>=0&&t.safeframeOptinPositions&&t.safeframeOptinPositions.FPAD){aD=S("FPAD",ak);var ax=w.config();var av=W.getElementById(F+"FPAD");var aA=!!(ax&&ax.positions&&ax.positions.FPAD);if(aA&&av&&n(av)){O(aD);}}}if(!j){return;}var ap=W.getElementById(U);var at=W.getElementById(q);if(ap&&n(ap)||at&&n(at)){var aB=[];var aw=c(j.config);var aG=aw&&aw.pos||"";aG&&aB.push(aG);if(j.mon2enabled){aB.push("MON2");if(j.lrec4enabled&&j.lrec4pos){aB.push(j.lrec4pos);}}else{if(j.lrec4enabled&&j.lrec4pos){aB.push(j.lrec4pos);}}if(aB.length){var ar="fetch_selective_ad_"+aG.toLowerCase();var ay=S(aB.join(","),ar);w.add(ay);w.event(ar);}}else{if(j.concatadpositions&&aD){O(aD,true);}}an();if(ac){if(n(ac)){d();}}}function P(){var ap=0;var at=j.fetchlaterretrycount||20;var ar=j.fetchlaterretryabort==="1";var aq=setInterval(function(){if(ap>at){clearInterval(aq);if(ar){w.abort();x();}return;}if(!w.inProgress()){clearInterval(aq);x();}ap++;},500);}function C(au,ar,aq,at,ap){return{pos:au,clean:ar,dest:aq,w:at,h:ap,metaSize:true,supports:false};}function S(au,aw,ay){var ax=B.context||{};var az={pg:{property:"fp",test:ax.bucketId,intl:ax.intl,rid:ax.rid,device:ax.device}};var aq={ps:au,name:aw,sp:ax.spaceid||ae,ssl:ax.isSsl||1,secure:1,ref:t.location.href,npv:1,property:"fp",ult:az,experience:{pt:"index",pd:"modal",rid:ax.rid||"",sid:B.i13n&&B.i13n.currentSID||"",bucket:ax.bucketId||""}};for(var at in ay){if(ay.hasOwnProperty(at)){aq[at]=ay[at];}}if(t.bucketSAEnabled){var ar=ax.bucketId&&'Y-BUCKET="'+ax.bucketId+'"'||"";if(t.facCustomTimout&&t.facCustomTimout>0){ar+=" ctout="+t.facCustomTimout;}if(t.flSAKey&&"undefined"!==t.flInstalled){ar+=" "+t.flSAKey+"="+t.flInstalled;}if(t.segBlob){var av="";var ap="";for(var aA in t.segBlob){if(t.segBlob.hasOwnProperty(aA)){av+=ap+aA+":"+t.segBlob[aA];ap=";";}}ar+=' rs="'+av+'"';}ar+=" "+(t.customSiteAttr||"");aq.sa=ar;}return aq;}function aj(){var az=!!+j.disablerotation;var ax={};var aq=j.currentpos.toLowerCase();j[aq+"enabled"]=true;var ap=j.defaultrt;var ay=t.pageloadNonCollapsedAds||[];var av=[aq,"lrec4","mon2","mast","ldrb","lrec","mon","mfpad"];if(az||aq.toUpperCase().indexOf("UBA")!==-1){return null;}for(var ar=0;ar<av.length;ar++){var au=av[ar];if(j[au+"enabled"]||(j[au+"rt"]&&ay.indexOf(au.toUpperCase())!==-1)){ax[au.toUpperCase()]={autoIV:1,autoMax:25,autoRT:j[au+"rt"]||ap};}}var at={autoStart:1,autoMax:25,autoRT:j.autoeventrt,autoIV:1,autoDDG:1};if(j.grouprotation){try{at.groups=JSON.parse(j.grouprotation);}catch(aw){}}return S(ax,u,at);}function an(){if(j.autorotate){if(w&&w.inProgress()){setTimeout(function(){an();},500);}else{t._darlaAutoEvt=aj();if(w&&t._darlaAutoEvt){w.add(t._darlaAutoEvt);if(!w.isAutoOn()){w.startAuto();}}}}}function d(){if(!ac){return;}var ap=ac.getElementsByClassName(ai);if(ap&&ap.length>0){ap=ap[0];var at=ap.getAttribute("data-url");var aq=ap.getAttribute("data-body");if(at&&aq&&window.wafer&&window.wafer.utils&&window.wafer.utils.fetchWithCache){window.wafer.utils.fetchWithCache(at,{body:aq,cache:0}).then(function ar(av){if(av&&av.html){ap.innerHTML=av.html;var au=ap.getElementsByClassName(l);if(au&&au.length>0){ac.replaceWith(au[0]);var aw=W.getElementsByClassName(l);if(aw&&aw.length>0){ac=aw[0];window.wafer.base.sync(ac.parentElement);}var ax=W.getElementsByClassName(ag);if(ax&&ax.length>0){setTimeout(function(){aa(ax[0]);},J);}}}});}}}function O(aq,ap){ap=ap||false;if(w.inProgress()){if(w.inProgress()===N){w.abort();if(ap&&t._darlaAutoEvt&&t._darlaAutoEvt.ps){w.add(t._darlaAutoEvt);}w.add(aq);w.event(ak);}}else{if(ap&&t._darlaAutoEvt&&t._darlaAutoEvt.ps){w.add(t._darlaAutoEvt);}w.add(aq);w.event(ak);}}function aa(ax){if(!n(ax)){return;}var au=ax.getElementsByClassName("pac_image");var ap=ax.getElementsByClassName("pac_headline");var at=ax.getElementsByClassName("pac_anchor");var av=au.length;var aq=1;var ar=1;if(!av){return;}(function aw(){if(!n(ax)||ar>R){return;}else{for(var ay=0;ay<av;ay++){if(au[ay]&&au[ay].className.indexOf("Op(0.5)")<0){au[ay].className+=" Op(0.5)";}if(ap[ay]&&ap[ay].className.indexOf("D(n)")<0){ap[ay].className+=" D(n)";}if(at[ay]&&at[ay].className.indexOf("D(n)")<0){at[ay].className+=" D(n)";}if(au[aq]){au[aq].className=au[aq].className.replace(" Op(0.5)","");ap[aq].className=ap[aq].className.replace(" D(n)","");at[aq].className=at[aq].className.replace(" D(n)","");}}if(aq>=av-1){aq=0;ar++;}else{aq++;}setTimeout(aw,J);}})();}})();/* Copyright (c) 2021, Yahoo! Inc.  All rights reserved. */
