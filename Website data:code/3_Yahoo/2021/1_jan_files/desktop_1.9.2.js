!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){var t={exports:{}};return e(t,t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),i=function(e){try{return!!e()}catch(e){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c={f:s&&!a.call({1:2},1)?function(e){var t=s(this,e);return!!t&&t.enumerable}:a},u=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},l={}.toString,f=function(e){return l.call(e).slice(8,-1)},h="".split,d=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==f(e)?h.call(e,""):Object(e)}:Object,p=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return d(p(e))},w=function(e){return"object"==typeof e?null!==e:"function"==typeof e},m=function(e,t){if(!w(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!w(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!w(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!w(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},g={}.hasOwnProperty,y=function(e,t){return g.call(e,t)},b=r.document,k=w(b)&&w(b.createElement),S=function(e){return k?b.createElement(e):{}},A=!o&&!i((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,C={f:o?x:function(e,t){if(e=v(e),t=m(t,!0),A)try{return x(e,t)}catch(e){}if(y(e,t))return u(!c.f.call(e,t),e[t])}},E=function(e){if(!w(e))throw TypeError(String(e)+" is not an object");return e},I=Object.defineProperty,R={f:o?I:function(e,t,n){if(E(e),t=m(t,!0),E(n),A)try{return I(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},O=o?function(e,t,n){return R.f(e,t,u(1,n))}:function(e,t,n){return e[t]=n,e},P=function(e,t){try{O(r,e,t)}catch(n){r[e]=t}return t},L="__core-js_shared__",T=r[L]||P(L,{}),j=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(e){return j.call(e)});var N,V,U,M=T.inspectSource,_=r.WeakMap,D="function"==typeof _&&/native code/.test(M(_)),F=t((function(e){(e.exports=function(e,t){return T[e]||(T[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),B=0,W=Math.random(),H=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++B+W).toString(36)},q=F("keys"),z=function(e){return q[e]||(q[e]=H(e))},Y={},G=r.WeakMap;if(D){var $=T.state||(T.state=new G),K=$.get,J=$.has,Q=$.set;N=function(e,t){return t.facade=e,Q.call($,e,t),t},V=function(e){return K.call($,e)||{}},U=function(e){return J.call($,e)}}else{var X=z("state");Y[X]=!0,N=function(e,t){return t.facade=e,O(e,X,t),t},V=function(e){return y(e,X)?e[X]:{}},U=function(e){return y(e,X)}}var Z,ee={set:N,get:V,has:U,enforce:function(e){return U(e)?V(e):N(e,{})},getterFor:function(e){return function(t){var n;if(!w(t)||(n=V(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},te=t((function(e){var t=ee.get,n=ee.enforce,i=String(String).split("String");(e.exports=function(e,t,o,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||y(o,"name")||O(o,"name",t),(s=n(o)).source||(s.source=i.join("string"==typeof t?t:""))),e!==r?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=o:O(e,t,o)):u?e[t]=o:P(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||M(this)}))})),ne=r,re=function(e){return"function"==typeof e?e:void 0},ie=function(e,t){return arguments.length<2?re(ne[e])||re(r[e]):ne[e]&&ne[e][t]||r[e]&&r[e][t]},oe=Math.ceil,ae=Math.floor,se=function(e){return isNaN(e=+e)?0:(e>0?ae:oe)(e)},ce=Math.min,ue=function(e){return e>0?ce(se(e),9007199254740991):0},le=Math.max,fe=Math.min,he=function(e,t){var n=se(e);return n<0?le(n+t,0):fe(n,t)},de=function(e){return function(t,n,r){var i,o=v(t),a=ue(o.length),s=he(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},pe={includes:de(!0),indexOf:de(!1)},ve=pe.indexOf,we=function(e,t){var n,r=v(e),i=0,o=[];for(n in r)!y(Y,n)&&y(r,n)&&o.push(n);for(;t.length>i;)y(r,n=t[i++])&&(~ve(o,n)||o.push(n));return o},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=me.concat("length","prototype"),ye={f:Object.getOwnPropertyNames||function(e){return we(e,ge)}},be={f:Object.getOwnPropertySymbols},ke=ie("Reflect","ownKeys")||function(e){var t=ye.f(E(e)),n=be.f;return n?t.concat(n(e)):t},Se=function(e,t){for(var n=ke(t),r=R.f,i=C.f,o=0;o<n.length;o++){var a=n[o];y(e,a)||r(e,a,i(t,a))}},Ae=/#|\.prototype\./,xe=function(e,t){var n=Ee[Ce(e)];return n==Re||n!=Ie&&("function"==typeof t?i(t):!!t)},Ce=xe.normalize=function(e){return String(e).replace(Ae,".").toLowerCase()},Ee=xe.data={},Ie=xe.NATIVE="N",Re=xe.POLYFILL="P",Oe=xe,Pe=C.f,Le=function(e,t){var n,i,o,a,s,c=e.target,u=e.global,l=e.stat;if(n=u?r:l?r[c]||P(c,{}):(r[c]||{}).prototype)for(i in t){if(a=t[i],o=e.noTargetGet?(s=Pe(n,i))&&s.value:n[i],!Oe(u?i:c+(l?".":"#")+i,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;Se(a,o)}(e.sham||o&&o.sham)&&O(a,"sham",!0),te(n,i,a,e)}},Te=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),je=Te&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ne=F("wks"),Ve=r.Symbol,Ue=je?Ve:Ve&&Ve.withoutSetter||H,Me=function(e){return y(Ne,e)||(Te&&y(Ve,e)?Ne[e]=Ve[e]:Ne[e]=Ue("Symbol."+e)),Ne[e]},_e=Me("match"),De=function(e){var t;return w(e)&&(void 0!==(t=e[_e])?!!t:"RegExp"==f(e))},Fe=function(e){if(De(e))throw TypeError("The method doesn't accept regular expressions");return e},Be=Me("match"),We=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Be]=!1,"/./"[e](t)}catch(e){}}return!1},He=C.f,qe="".endsWith,ze=Math.min,Ye=We("endsWith"),Ge=!(Ye||(Z=He(String.prototype,"endsWith"),!Z||Z.writable));Le({target:"String",proto:!0,forced:!Ge&&!Ye},{endsWith:function(e){var t=String(p(this));Fe(e);var n=arguments.length>1?arguments[1]:void 0,r=ue(t.length),i=void 0===n?r:ze(ue(n),r),o=String(e);return qe?qe.call(t,o,i):t.slice(i-o.length,i)===o}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var $e=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ke=function(e,t,n){if($e(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Je=function(e){return Object(p(e))},Qe=Array.isArray||function(e){return"Array"==f(e)},Xe=Me("species"),Ze=function(e,t){var n;return Qe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Qe(n.prototype)?w(n)&&null===(n=n[Xe])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},et=[].push,tt=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,f){for(var h,p,v=Je(c),w=d(v),m=Ke(u,l,3),g=ue(w.length),y=0,b=f||Ze,k=t?b(c,g):n||a?b(c,0):void 0;g>y;y++)if((s||y in w)&&(p=m(h=w[y],y,v),e))if(t)k[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:et.call(k,h)}else switch(e){case 4:return!1;case 7:et.call(k,h)}return o?-1:r||i?i:k}},nt={forEach:tt(0),map:tt(1),filter:tt(2),some:tt(3),every:tt(4),find:tt(5),findIndex:tt(6),filterOut:tt(7)},rt=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))},it=Object.defineProperty,ot={},at=function(e){throw e},st=function(e,t){if(y(ot,e))return ot[e];t||(t={});var n=[][e],r=!!y(t,"ACCESSORS")&&t.ACCESSORS,a=y(t,0)?t[0]:at,s=y(t,1)?t[1]:void 0;return ot[e]=!!n&&!i((function(){if(r&&!o)return!0;var e={length:-1};r?it(e,1,{enumerable:!0,get:at}):e[1]=1,n.call(e,a,s)}))},ct=nt.forEach,ut=rt("forEach"),lt=st("forEach"),ft=ut&&lt?[].forEach:function(e){return ct(this,e,arguments.length>1?arguments[1]:void 0)};Le({target:"Array",proto:!0,forced:[].forEach!=ft},{forEach:ft});var ht,dt=Object.keys||function(e){return we(e,me)},pt=o?Object.defineProperties:function(e,t){E(e);for(var n,r=dt(t),i=r.length,o=0;i>o;)R.f(e,n=r[o++],t[n]);return e},vt=ie("document","documentElement"),wt=z("IE_PROTO"),mt=function(){},gt=function(e){return"<script>"+e+"</"+"script>"},yt=function(){try{ht=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;yt=ht?function(e){e.write(gt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ht):((t=S("iframe")).style.display="none",vt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(gt("document.F=Object")),e.close(),e.F);for(var n=me.length;n--;)delete yt.prototype[me[n]];return yt()};Y[wt]=!0;var bt=Object.create||function(e,t){var n;return null!==e?(mt.prototype=E(e),n=new mt,mt.prototype=null,n[wt]=e):n=yt(),void 0===t?n:pt(n,t)},kt=Me("unscopables"),St=Array.prototype;null==St[kt]&&R.f(St,kt,{configurable:!0,value:bt(null)});var At,xt,Ct,Et=function(e){St[kt][e]=!0},It={},Rt=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Ot=z("IE_PROTO"),Pt=Object.prototype,Lt=Rt?Object.getPrototypeOf:function(e){return e=Je(e),y(e,Ot)?e[Ot]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Pt:null},Tt=Me("iterator"),jt=!1;[].keys&&("next"in(Ct=[].keys())?(xt=Lt(Lt(Ct)))!==Object.prototype&&(At=xt):jt=!0),null==At&&(At={}),y(At,Tt)||O(At,Tt,(function(){return this}));var Nt={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:jt},Vt=R.f,Ut=Me("toStringTag"),Mt=function(e,t,n){e&&!y(e=n?e:e.prototype,Ut)&&Vt(e,Ut,{configurable:!0,value:t})},_t=Nt.IteratorPrototype,Dt=function(){return this},Ft=function(e,t,n){var r=t+" Iterator";return e.prototype=bt(_t,{next:u(1,n)}),Mt(e,r,!1),It[r]=Dt,e},Bt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return E(n),function(e){if(!w(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Wt=Nt.IteratorPrototype,Ht=Nt.BUGGY_SAFARI_ITERATORS,qt=Me("iterator"),zt="keys",Yt="values",Gt="entries",$t=function(){return this},Kt=function(e,t,n,r,i,o,a){Ft(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!Ht&&e in d)return d[e];switch(e){case zt:case Yt:case Gt:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",h=!1,d=e.prototype,p=d[qt]||d["@@iterator"]||i&&d[i],v=!Ht&&p||l(i),w="Array"==t&&d.entries||p;if(w&&(s=Lt(w.call(new e)),Wt!==Object.prototype&&s.next&&(Lt(s)!==Wt&&(Bt?Bt(s,Wt):"function"!=typeof s[qt]&&O(s,qt,$t)),Mt(s,f,!0))),i==Yt&&p&&p.name!==Yt&&(h=!0,v=function(){return p.call(this)}),d[qt]!==v&&O(d,qt,v),It[t]=v,i)if(c={values:l(Yt),keys:o?v:l(zt),entries:l(Gt)},a)for(u in c)(Ht||h||!(u in d))&&te(d,u,c[u]);else Le({target:t,proto:!0,forced:Ht||h},c);return c},Jt="Array Iterator",Qt=ee.set,Xt=ee.getterFor(Jt),Zt=Kt(Array,"Array",(function(e,t){Qt(this,{type:Jt,target:v(e),index:0,kind:t})}),(function(){var e=Xt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");It.Arguments=It.Array,Et("keys"),Et("values"),Et("entries");var en={};en[Me("toStringTag")]="z";var tn="[object z]"===String(en),nn=Me("toStringTag"),rn="Arguments"==f(function(){return arguments}()),on=tn?f:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),nn))?n:rn?f(t):"Object"==(r=f(t))&&"function"==typeof t.callee?"Arguments":r},an=tn?{}.toString:function(){return"[object "+on(this)+"]"};tn||te(Object.prototype,"toString",an,{unsafe:!0});var sn=r.Promise,cn=function(e,t,n){for(var r in t)te(e,r,t[r],n);return e},un=Me("species"),ln=function(e){var t=ie(e),n=R.f;o&&t&&!t[un]&&n(t,un,{configurable:!0,get:function(){return this}})},fn=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},hn=Me("iterator"),dn=Array.prototype,pn=function(e){return void 0!==e&&(It.Array===e||dn[hn]===e)},vn=Me("iterator"),wn=function(e){if(null!=e)return e[vn]||e["@@iterator"]||It[on(e)]},mn=function(e){var t=e.return;if(void 0!==t)return E(t.call(e)).value},gn=function(e,t){this.stopped=e,this.result=t},yn=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=Ke(t,l,1+f+d),v=function(e){return r&&mn(r),new gn(!0,e)},w=function(e){return f?(E(e),d?p(e[0],e[1],v):p(e[0],e[1])):d?p(e,v):p(e)};if(h)r=e;else{if("function"!=typeof(i=wn(e)))throw TypeError("Target is not iterable");if(pn(i)){for(o=0,a=ue(e.length);a>o;o++)if((s=w(e[o]))&&s instanceof gn)return s;return new gn(!1)}r=i.call(e)}for(c=r.next;!(u=c.call(r)).done;){try{s=w(u.value)}catch(e){throw mn(r),e}if("object"==typeof s&&s&&s instanceof gn)return s}return new gn(!1)},bn=Me("iterator"),kn=!1;try{var Sn=0,An={next:function(){return{done:!!Sn++}},return:function(){kn=!0}};An[bn]=function(){return this},Array.from(An,(function(){throw 2}))}catch(e){}var xn,Cn,En,In=function(e,t){if(!t&&!kn)return!1;var n=!1;try{var r={};r[bn]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Rn=Me("species"),On=function(e,t){var n,r=E(e).constructor;return void 0===r||null==(n=E(r)[Rn])?t:$e(n)},Pn=ie("navigator","userAgent")||"",Ln=/(iphone|ipod|ipad).*applewebkit/i.test(Pn),Tn="process"==f(r.process),jn=r.location,Nn=r.setImmediate,Vn=r.clearImmediate,Un=r.process,Mn=r.MessageChannel,_n=r.Dispatch,Dn=0,Fn={},Bn="onreadystatechange",Wn=function(e){if(Fn.hasOwnProperty(e)){var t=Fn[e];delete Fn[e],t()}},Hn=function(e){return function(){Wn(e)}},qn=function(e){Wn(e.data)},zn=function(e){r.postMessage(e+"",jn.protocol+"//"+jn.host)};Nn&&Vn||(Nn=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Fn[++Dn]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},xn(Dn),Dn},Vn=function(e){delete Fn[e]},Tn?xn=function(e){Un.nextTick(Hn(e))}:_n&&_n.now?xn=function(e){_n.now(Hn(e))}:Mn&&!Ln?(En=(Cn=new Mn).port2,Cn.port1.onmessage=qn,xn=Ke(En.postMessage,En,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&jn&&"file:"!==jn.protocol&&!i(zn)?(xn=zn,r.addEventListener("message",qn,!1)):xn=Bn in S("script")?function(e){vt.appendChild(S("script")).onreadystatechange=function(){vt.removeChild(this),Wn(e)}}:function(e){setTimeout(Hn(e),0)});var Yn,Gn,$n,Kn,Jn,Qn,Xn,Zn,er={set:Nn,clear:Vn},tr=C.f,nr=er.set,rr=r.MutationObserver||r.WebKitMutationObserver,ir=r.document,or=r.process,ar=r.Promise,sr=tr(r,"queueMicrotask"),cr=sr&&sr.value;cr||(Yn=function(){var e,t;for(Tn&&(e=or.domain)&&e.exit();Gn;){t=Gn.fn,Gn=Gn.next;try{t()}catch(e){throw Gn?Kn():$n=void 0,e}}$n=void 0,e&&e.enter()},!Ln&&!Tn&&rr&&ir?(Jn=!0,Qn=ir.createTextNode(""),new rr(Yn).observe(Qn,{characterData:!0}),Kn=function(){Qn.data=Jn=!Jn}):ar&&ar.resolve?(Xn=ar.resolve(void 0),Zn=Xn.then,Kn=function(){Zn.call(Xn,Yn)}):Kn=Tn?function(){or.nextTick(Yn)}:function(){nr.call(r,Yn)});var ur,lr,fr=cr||function(e){var t={fn:e,next:void 0};$n&&($n.next=t),Gn||(Gn=t,Kn()),$n=t},hr=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=$e(t),this.reject=$e(n)},dr={f:function(e){return new hr(e)}},pr=function(e,t){if(E(e),w(t)&&t.constructor===e)return t;var n=dr.f(e);return(0,n.resolve)(t),n.promise},vr=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},wr=r.process,mr=wr&&wr.versions,gr=mr&&mr.v8;gr?lr=(ur=gr.split("."))[0]+ur[1]:Pn&&(!(ur=Pn.match(/Edge\/(\d+)/))||ur[1]>=74)&&(ur=Pn.match(/Chrome\/(\d+)/))&&(lr=ur[1]);var yr,br,kr,Sr,Ar=lr&&+lr,xr=er.set,Cr=Me("species"),Er="Promise",Ir=ee.get,Rr=ee.set,Or=ee.getterFor(Er),Pr=sn,Lr=r.TypeError,Tr=r.document,jr=r.process,Nr=ie("fetch"),Vr=dr.f,Ur=Vr,Mr=!!(Tr&&Tr.createEvent&&r.dispatchEvent),_r="function"==typeof PromiseRejectionEvent,Dr="unhandledrejection",Fr=Oe(Er,(function(){if(!(M(Pr)!==String(Pr))){if(66===Ar)return!0;if(!Tn&&!_r)return!0}if(Ar>=51&&/native code/.test(Pr))return!1;var e=Pr.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Cr]=t,!(e.then((function(){}))instanceof t)})),Br=Fr||!In((function(e){Pr.all(e).catch((function(){}))})),Wr=function(e){var t;return!(!w(e)||"function"!=typeof(t=e.then))&&t},Hr=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;fr((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,c,u=n[o++],l=i?u.ok:u.fail,f=u.resolve,h=u.reject,d=u.domain;try{l?(i||(2===e.rejection&&Gr(e),e.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),c=!0)),a===u.promise?h(Lr("Promise-chain cycle")):(s=Wr(a))?s.call(a,f,h):f(a)):h(r)}catch(e){d&&!c&&d.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&zr(e)}))}},qr=function(e,t,n){var i,o;Mr?((i=Tr.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),r.dispatchEvent(i)):i={promise:t,reason:n},!_r&&(o=r["on"+e])?o(i):e===Dr&&function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},zr=function(e){xr.call(r,(function(){var t,n=e.facade,r=e.value;if(Yr(e)&&(t=vr((function(){Tn?jr.emit("unhandledRejection",r,n):qr(Dr,n,r)})),e.rejection=Tn||Yr(e)?2:1,t.error))throw t.value}))},Yr=function(e){return 1!==e.rejection&&!e.parent},Gr=function(e){xr.call(r,(function(){var t=e.facade;Tn?jr.emit("rejectionHandled",t):qr("rejectionhandled",t,e.value)}))},$r=function(e,t,n){return function(r){e(t,r,n)}},Kr=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Hr(e,!0))},Jr=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Lr("Promise can't be resolved itself");var r=Wr(t);r?fr((function(){var n={done:!1};try{r.call(t,$r(Jr,n,e),$r(Kr,n,e))}catch(t){Kr(n,t,e)}})):(e.value=t,e.state=1,Hr(e,!1))}catch(t){Kr({done:!1},t,e)}}};Fr&&(Pr=function(e){fn(this,Pr,Er),$e(e),yr.call(this);var t=Ir(this);try{e($r(Jr,t),$r(Kr,t))}catch(e){Kr(t,e)}},(yr=function(e){Rr(this,{type:Er,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=cn(Pr.prototype,{then:function(e,t){var n=Or(this),r=Vr(On(this,Pr));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Tn?jr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Hr(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),br=function(){var e=new yr,t=Ir(e);this.promise=e,this.resolve=$r(Jr,t),this.reject=$r(Kr,t)},dr.f=Vr=function(e){return e===Pr||e===kr?new br(e):Ur(e)},"function"==typeof sn&&(Sr=sn.prototype.then,te(sn.prototype,"then",(function(e,t){var n=this;return new Pr((function(e,t){Sr.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Nr&&Le({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return pr(Pr,Nr.apply(r,arguments))}}))),Le({global:!0,wrap:!0,forced:Fr},{Promise:Pr}),Mt(Pr,Er,!1),ln(Er),kr=ie(Er),Le({target:Er,stat:!0,forced:Fr},{reject:function(e){var t=Vr(this);return t.reject.call(void 0,e),t.promise}}),Le({target:Er,stat:!0,forced:Fr},{resolve:function(e){return pr(this,e)}}),Le({target:Er,stat:!0,forced:Br},{all:function(e){var t=this,n=Vr(t),r=n.resolve,i=n.reject,o=vr((function(){var n=$e(t.resolve),o=[],a=0,s=1;yn(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Vr(t),r=n.reject,i=vr((function(){var i=$e(t.resolve);yn(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Qr=function(e){return function(t,n){var r,i,o=String(p(t)),a=se(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Xr={codeAt:Qr(!1),charAt:Qr(!0)},Zr=Xr.charAt,ei="String Iterator",ti=ee.set,ni=ee.getterFor(ei);Kt(String,"String",(function(e){ti(this,{type:ei,string:String(e),index:0})}),(function(){var e,t=ni(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Zr(n,r),t.index+=e.length,{value:e,done:!1})}));var ri={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var ii in ri){var oi=r[ii],ai=oi&&oi.prototype;if(ai&&ai.forEach!==ft)try{O(ai,"forEach",ft)}catch(e){ai.forEach=ft}}var si=Me("iterator"),ci=Me("toStringTag"),ui=Zt.values;for(var li in ri){var fi=r[li],hi=fi&&fi.prototype;if(hi){if(hi[si]!==ui)try{O(hi,si,ui)}catch(e){hi[si]=ui}if(hi[ci]||O(hi,ci,li),ri[li])for(var di in Zt)if(hi[di]!==Zt[di])try{O(hi,di,Zt[di])}catch(e){hi[di]=Zt[di]}}}function pi(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function vi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pi(o,r,i,a,s,"next",e)}function s(e){pi(o,r,i,a,s,"throw",e)}a(void 0)}))}}function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t,n){return t&&mi(e.prototype,t),n&&mi(e,n),e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Ci(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e){return function(e){if(Array.isArray(e))return Ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ci(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ii(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Ci(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var Ri="init",Oi="onClick",Pi="onContentWillChange",Li="onContentChange",Ti="onContentDidChange",ji="onViewerWillOpen",Ni="onViewerOpened",Vi="onViewerClosed",Ui="onViewerDidClose",Mi={__proto__:null,init:Ri,onClick:Oi,onContentWillChange:Pi,onContentChange:Li,onContentDidChange:Ti,onViewerWillOpen:ji,onViewerOpened:Ni,onViewerClosed:Vi,onViewerDidClose:Ui},_i=function(){function e(t){wi(this,e),this.handlers={};var n=this.dispatch.bind(this);t.forEach((function(e){return e.dispatch=n})),this.mapPluginHandlers(t)}return gi(e,[{key:"mapPluginHandlers",value:function(e){for(var t in Mi)if(t in Mi){this.handlers[t]=[];var n,r=Ii(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t in i){var o=i[t].bind(i);this.handlers[t].push(o)}}}catch(e){r.e(e)}finally{r.f()}}}},{key:"init",value:function(e){this.dispatch(Ri,e)}},{key:"dispatch",value:function(e){for(var t=[],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=Ii(this.handlers[e]);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.apply(void 0,r);c instanceof Promise&&t.push(c)}}catch(e){a.e(e)}finally{a.f()}return Promise.all(t)}}]),e}(),Di=function(e,t,n){var r=m(t);r in e?R.f(e,r,u(0,n)):e[r]=n},Fi=Me("species"),Bi=function(e){return Ar>=51||!i((function(){var t=[];return(t.constructor={})[Fi]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Wi=Me("isConcatSpreadable"),Hi=9007199254740991,qi="Maximum allowed index exceeded",zi=Ar>=51||!i((function(){var e=[];return e[Wi]=!1,e.concat()[0]!==e})),Yi=Bi("concat"),Gi=function(e){if(!w(e))return!1;var t=e[Wi];return void 0!==t?!!t:Qe(e)};Le({target:"Array",proto:!0,forced:!zi||!Yi},{concat:function(e){var t,n,r,i,o,a=Je(this),s=Ze(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(Gi(o=-1===t?a:arguments[t])){if(c+(i=ue(o.length))>Hi)throw TypeError(qi);for(n=0;n<i;n++,c++)n in o&&Di(s,c,o[n])}else{if(c>=Hi)throw TypeError(qi);Di(s,c++,o)}return s.length=c,s}});t((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function w(){}function m(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,k=b&&b(b(O([])));k&&k!==n&&r.call(k,o)&&(y=k);var S=g.prototype=w.prototype=Object.create(y);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=S.constructor=g,g.constructor=m,m.displayName=c(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},A(x.prototype),x.prototype[a]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),c(S,s,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var $i=pe.includes,Ki=st("indexOf",{ACCESSORS:!0,1:0});Le({target:"Array",proto:!0,forced:!Ki},{includes:function(e){return $i(this,e,arguments.length>1?arguments[1]:void 0)}}),Et("includes");var Ji=function(e,t,n){var r,i;return Bt&&"function"==typeof(r=t.constructor)&&r!==n&&w(i=r.prototype)&&i!==n.prototype&&Bt(e,i),e},Qi=function(){var e=E(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Xi(e,t){return RegExp(e,t)}var Zi={UNSUPPORTED_Y:i((function(){var e=Xi("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:i((function(){var e=Xi("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},eo=R.f,to=ye.f,no=ee.set,ro=Me("match"),io=r.RegExp,oo=io.prototype,ao=/a/g,so=/a/g,co=new io(ao)!==ao,uo=Zi.UNSUPPORTED_Y;if(o&&Oe("RegExp",!co||uo||i((function(){return so[ro]=!1,io(ao)!=ao||io(so)==so||"/a/i"!=io(ao,"i")})))){for(var lo=function(e,t){var n,r=this instanceof lo,i=De(e),o=void 0===t;if(!r&&i&&e.constructor===lo&&o)return e;co?i&&!o&&(e=e.source):e instanceof lo&&(o&&(t=Qi.call(e)),e=e.source),uo&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=Ji(co?new io(e,t):io(e,t),r?this:oo,lo);return uo&&n&&no(a,{sticky:n}),a},fo=function(e){e in lo||eo(lo,e,{configurable:!0,get:function(){return io[e]},set:function(t){io[e]=t}})},ho=to(io),po=0;ho.length>po;)fo(ho[po++]);oo.constructor=lo,lo.prototype=oo,te(r,"RegExp",lo)}ln("RegExp");var vo=RegExp.prototype.exec,wo=String.prototype.replace,mo=vo,go=function(){var e=/a/,t=/b*/g;return vo.call(e,"a"),vo.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),yo=Zi.UNSUPPORTED_Y||Zi.BROKEN_CARET,bo=void 0!==/()??/.exec("")[1];(go||bo||yo)&&(mo=function(e){var t,n,r,i,o=this,a=yo&&o.sticky,s=Qi.call(o),c=o.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),bo&&(n=new RegExp("^"+c+"$(?!\\s)",s)),go&&(t=o.lastIndex),r=vo.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:go&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),bo&&r&&r.length>1&&wo.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var ko=mo;Le({target:"RegExp",proto:!0,forced:/./.exec!==ko},{exec:ko});var So="toString",Ao=RegExp.prototype,xo=Ao.toString,Co=i((function(){return"/a/b"!=xo.call({source:"a",flags:"b"})})),Eo=xo.name!=So;(Co||Eo)&&te(RegExp.prototype,So,(function(){var e=E(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Ao)?Qi.call(e):n)}),{unsafe:!0}),Le({target:"String",proto:!0,forced:!We("includes")},{includes:function(e){return!!~String(p(this)).indexOf(Fe(e),arguments.length>1?arguments[1]:void 0)}});var Io=Me("species"),Ro=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Oo="$0"==="a".replace(/./,"$0"),Po=Me("replace"),Lo=!!/./[Po]&&""===/./[Po]("a","$0"),To=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),jo=function(e,t,n,r){var o=Me(e),a=!i((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=a&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Io]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!s||"replace"===e&&(!Ro||!Oo||Lo)||"split"===e&&!To){var c=/./[o],u=n(o,""[e],(function(e,t,n,r,i){return t.exec===ko?a&&!i?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Oo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Lo}),l=u[0],f=u[1];te(String.prototype,e,l),te(RegExp.prototype,o,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}r&&O(RegExp.prototype[o],"sham",!0)},No=Xr.charAt,Vo=function(e,t,n){return t+(n?No(e,t).length:1)},Uo=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(e))throw TypeError("RegExp#exec called on incompatible receiver");return ko.call(e,t)};jo("match",1,(function(e,t,n){return[function(t){var n=p(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=E(e),o=String(this);if(!i.global)return Uo(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=Uo(i,o));){var l=String(s[0]);c[u]=l,""===l&&(i.lastIndex=Vo(o,ue(i.lastIndex),a)),u++}return 0===u?null:c}]}));var Mo=[].push,_o=Math.min,Do=4294967295,Fo=!i((function(){return!RegExp(Do,"y")}));jo("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(p(this)),i=void 0===n?Do:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!De(e))return t.call(r,e,i);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,u+"g");(o=ko.call(f,r))&&!((a=f.lastIndex)>l&&(c.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&Mo.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===r.length?!s&&f.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=p(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=E(e),s=String(this),c=On(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Fo?"y":"g"),f=new c(Fo?a:"^(?:"+a.source+")",l),h=void 0===i?Do:i>>>0;if(0===h)return[];if(0===s.length)return null===Uo(f,s)?[s]:[];for(var d=0,p=0,v=[];p<s.length;){f.lastIndex=Fo?p:0;var w,m=Uo(f,Fo?s:s.slice(p));if(null===m||(w=_o(ue(f.lastIndex+(Fo?0:p)),s.length))===d)p=Vo(s,p,u);else{if(v.push(s.slice(d,p)),v.length===h)return v;for(var g=1;g<=m.length-1;g++)if(v.push(m[g]),v.length===h)return v;p=d=w}}return v.push(s.slice(d)),v}]}),!Fo);var Bo=C.f,Wo="".startsWith,Ho=Math.min,qo=We("startsWith"),zo=!qo&&!!function(){var e=Bo(String.prototype,"startsWith");return e&&!e.writable}();Le({target:"String",proto:!0,forced:!zo&&!qo},{startsWith:function(e){var t=String(p(this));Fe(e);var n=ue(Ho(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Wo?Wo.call(t,r,n):t.slice(n,n+r.length)===r}});var Yo=Me("iterator"),Go=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Yo]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),$o=Object.assign,Ko=Object.defineProperty,Jo=!$o||i((function(){if(o&&1!==$o({b:1},$o(Ko({},"a",{enumerable:!0,get:function(){Ko(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=$o({},e)[n]||dt($o({},t)).join("")!=r}))?function(e,t){for(var n=Je(e),r=arguments.length,i=1,a=be.f,s=c.f;r>i;)for(var u,l=d(arguments[i++]),f=a?dt(l).concat(a(l)):dt(l),h=f.length,p=0;h>p;)u=f[p++],o&&!s.call(l,u)||(n[u]=l[u]);return n}:$o,Qo=function(e,t,n,r){try{return r?t(E(n)[0],n[1]):t(n)}catch(t){throw mn(e),t}},Xo=function(e){var t,n,r,i,o,a,s=Je(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=wn(s),d=0;if(f&&(l=Ke(l,u>2?arguments[2]:void 0,2)),null==h||c==Array&&pn(h))for(n=new c(t=ue(s.length));t>d;d++)a=f?l(s[d],d):s[d],Di(n,d,a);else for(o=(i=h.call(s)).next,n=new c;!(r=o.call(i)).done;d++)a=f?Qo(i,l,[r.value,d],!0):r.value,Di(n,d,a);return n.length=d,n},Zo=2147483647,ea=/[^\0-\u007E]/,ta=/[.\u3002\uFF0E\uFF61]/g,na="Overflow: input needs wider integers to process",ra=Math.floor,ia=String.fromCharCode,oa=function(e){return e+22+75*(e<26)},aa=function(e,t,n){var r=0;for(e=n?ra(e/700):e>>1,e+=ra(e/t);e>455;r+=36)e=ra(e/35);return ra(r+36*e/(e+38))},sa=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(ia(n));var c=r.length,u=c;for(c&&r.push("-");u<i;){var l=Zo;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var f=u+1;if(l-o>ra((Zo-a)/f))throw RangeError(na);for(a+=(l-o)*f,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>Zo)throw RangeError(na);if(n==o){for(var h=a,d=36;;d+=36){var p=d<=s?1:d>=s+26?26:d-s;if(h<p)break;var v=h-p,w=36-p;r.push(ia(oa(p+v%w))),h=ra(v/w)}r.push(ia(oa(h))),s=aa(a,f,u==c),a=0,++u}}++a,++o}return r.join("")},ca=function(e){var t=wn(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return E(t.call(e))},ua=ie("fetch"),la=ie("Headers"),fa=Me("iterator"),ha="URLSearchParams",da="URLSearchParamsIterator",pa=ee.set,va=ee.getterFor(ha),wa=ee.getterFor(da),ma=/\+/g,ga=Array(4),ya=function(e){return ga[e-1]||(ga[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},ba=function(e){try{return decodeURIComponent(e)}catch(t){return e}},ka=function(e){var t=e.replace(ma," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(ya(n--),ba);return t}},Sa=/[!'()~]|%20/g,Aa={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},xa=function(e){return Aa[e]},Ca=function(e){return encodeURIComponent(e).replace(Sa,xa)},Ea=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:ka(r.shift()),value:ka(r.join("="))}))},Ia=function(e){this.entries.length=0,Ea(this.entries,e)},Ra=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Oa=Ft((function(e,t){pa(this,{type:da,iterator:ca(va(e).entries),kind:t})}),"Iterator",(function(){var e=wa(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),Pa=function(){fn(this,Pa,ha);var e,t,n,r,i,o,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(pa(l,{type:ha,entries:f,updateURL:function(){},updateSearchParams:Ia}),void 0!==u)if(w(u))if("function"==typeof(e=wn(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(o=(i=ca(E(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in u)y(u,c)&&f.push({key:c,value:u[c]+""});else Ea(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},La=Pa.prototype;cn(La,{append:function(e,t){Ra(arguments.length,2);var n=va(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Ra(arguments.length,1);for(var t=va(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){Ra(arguments.length,1);for(var t=va(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Ra(arguments.length,1);for(var t=va(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){Ra(arguments.length,1);for(var t=va(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Ra(arguments.length,1);for(var n,r=va(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=va(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=va(this).entries,r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Oa(this,"keys")},values:function(){return new Oa(this,"values")},entries:function(){return new Oa(this,"entries")}},{enumerable:!0}),te(La,fa,La.entries),te(La,"toString",(function(){for(var e,t=va(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Ca(e.key)+"="+Ca(e.value));return n.join("&")}),{enumerable:!0}),Mt(Pa,ha),Le({global:!0,forced:!Go},{URLSearchParams:Pa}),Go||"function"!=typeof ua||"function"!=typeof la||Le({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(w(t=arguments[1])&&(n=t.body,on(n)===ha&&((r=t.headers?new la(t.headers):new la).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=bt(t,{body:u(0,String(n)),headers:u(0,r)}))),i.push(t)),ua.apply(this,i)}});var Ta,ja={URLSearchParams:Pa,getState:va},Na=Xr.codeAt,Va=r.URL,Ua=ja.URLSearchParams,Ma=ja.getState,_a=ee.set,Da=ee.getterFor("URL"),Fa=Math.floor,Ba=Math.pow,Wa="Invalid scheme",Ha="Invalid host",qa="Invalid port",za=/[A-Za-z]/,Ya=/[\d+-.A-Za-z]/,Ga=/\d/,$a=/^(0x|0X)/,Ka=/^[0-7]+$/,Ja=/^\d+$/,Qa=/^[\dA-Fa-f]+$/,Xa=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Za=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,es=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ts=/[\u0009\u000A\u000D]/g,ns=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return Ha;if(!(n=is(t.slice(1,-1))))return Ha;e.host=n}else if(hs(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(ta,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(ea.test(n)?"xn--"+sa(n):n);return r.join(".")}(t),Xa.test(t))return Ha;if(null===(n=rs(t)))return Ha;e.host=n}else{if(Za.test(t))return Ha;for(n="",r=Xo(t),i=0;i<r.length;i++)n+=ls(r[i],as);e.host=n}},rs=function(e){var t,n,r,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=$a.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?Ja:8==o?Ka:Qa).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Ba(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Ba(256,3-r);return s},is=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return e.charAt(f)};if(":"==h()){if(":"!=e.charAt(1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(t=n=0;n<4&&Qa.test(h());)t=16*t+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;f++}if(!Ga.test(h()))return;for(;Ga.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},os=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Fa(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},as={},ss=Jo({},as,{" ":1,'"':1,"<":1,">":1,"`":1}),cs=Jo({},ss,{"#":1,"?":1,"{":1,"}":1}),us=Jo({},cs,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ls=function(e,t){var n=Na(e,0);return n>32&&n<127&&!y(t,e)?e:encodeURIComponent(e)},fs={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hs=function(e){return y(fs,e.scheme)},ds=function(e){return""!=e.username||""!=e.password},ps=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},vs=function(e,t){var n;return 2==e.length&&za.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ws=function(e){var t;return e.length>1&&vs(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ms=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&vs(t[0],!0)||t.pop()},gs=function(e){return"."===e||"%2e"===e.toLowerCase()},ys={},bs={},ks={},Ss={},As={},xs={},Cs={},Es={},Is={},Rs={},Os={},Ps={},Ls={},Ts={},js={},Ns={},Vs={},Us={},Ms={},_s={},Ds={},Fs=function(e,t,n,r){var i,o,a,s,c,u=n||ys,l=0,f="",h=!1,d=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(es,"")),t=t.replace(ts,""),i=Xo(t);l<=i.length;){switch(o=i[l],u){case ys:if(!o||!za.test(o)){if(n)return Wa;u=ks;continue}f+=o.toLowerCase(),u=bs;break;case bs:if(o&&(Ya.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return Wa;f="",u=ks,l=0;continue}if(n&&(hs(e)!=y(fs,f)||"file"==f&&(ds(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(hs(e)&&fs[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=Ts:hs(e)&&r&&r.scheme==e.scheme?u=Ss:hs(e)?u=Es:"/"==i[l+1]?(u=As,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Ms)}break;case ks:if(!r||r.cannotBeABaseURL&&"#"!=o)return Wa;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ds;break}u="file"==r.scheme?Ts:xs;continue;case Ss:if("/"!=o||"/"!=i[l+1]){u=xs;continue}u=Is,l++;break;case As:if("/"==o){u=Rs;break}u=Us;continue;case xs:if(e.scheme=r.scheme,o==Ta)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&hs(e))u=Cs;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=_s;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=Us;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ds}break;case Cs:if(!hs(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=Us;continue}u=Rs}else u=Is;break;case Es:if(u=Is,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case Is:if("/"!=o&&"\\"!=o){u=Rs;continue}break;case Rs:if("@"==o){h&&(f="%40"+f),h=!0,a=Xo(f);for(var v=0;v<a.length;v++){var w=a[v];if(":"!=w||p){var m=ls(w,us);p?e.password+=m:e.username+=m}else p=!0}f=""}else if(o==Ta||"/"==o||"?"==o||"#"==o||"\\"==o&&hs(e)){if(h&&""==f)return"Invalid authority";l-=Xo(f).length+1,f="",u=Os}else f+=o;break;case Os:case Ps:if(n&&"file"==e.scheme){u=Ns;continue}if(":"!=o||d){if(o==Ta||"/"==o||"?"==o||"#"==o||"\\"==o&&hs(e)){if(hs(e)&&""==f)return Ha;if(n&&""==f&&(ds(e)||null!==e.port))return;if(s=ns(e,f))return s;if(f="",u=Vs,n)return;continue}"["==o?d=!0:"]"==o&&(d=!1),f+=o}else{if(""==f)return Ha;if(s=ns(e,f))return s;if(f="",u=Ls,n==Ps)return}break;case Ls:if(!Ga.test(o)){if(o==Ta||"/"==o||"?"==o||"#"==o||"\\"==o&&hs(e)||n){if(""!=f){var g=parseInt(f,10);if(g>65535)return qa;e.port=hs(e)&&g===fs[e.scheme]?null:g,f=""}if(n)return;u=Vs;continue}return qa}f+=o;break;case Ts:if(e.scheme="file","/"==o||"\\"==o)u=js;else{if(!r||"file"!=r.scheme){u=Us;continue}if(o==Ta)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=_s;else{if("#"!=o){ws(i.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),ms(e)),u=Us;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Ds}}break;case js:if("/"==o||"\\"==o){u=Ns;break}r&&"file"==r.scheme&&!ws(i.slice(l).join(""))&&(vs(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=Us;continue;case Ns:if(o==Ta||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&vs(f))u=Us;else if(""==f){if(e.host="",n)return;u=Vs}else{if(s=ns(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",u=Vs}continue}f+=o;break;case Vs:if(hs(e)){if(u=Us,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Ta&&(u=Us,"/"!=o))continue}else e.fragment="",u=Ds;else e.query="",u=_s;break;case Us:if(o==Ta||"/"==o||"\\"==o&&hs(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ms(e),"/"==o||"\\"==o&&hs(e)||e.path.push("")):gs(f)?"/"==o||"\\"==o&&hs(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&vs(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==Ta||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=_s):"#"==o&&(e.fragment="",u=Ds)}else f+=ls(o,cs);break;case Ms:"?"==o?(e.query="",u=_s):"#"==o?(e.fragment="",u=Ds):o!=Ta&&(e.path[0]+=ls(o,as));break;case _s:n||"#"!=o?o!=Ta&&("'"==o&&hs(e)?e.query+="%27":e.query+="#"==o?"%23":ls(o,as)):(e.fragment="",u=Ds);break;case Ds:o!=Ta&&(e.fragment+=ls(o,ss))}l++}},Bs=function(e){var t,n,r=fn(this,Bs,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=_a(r,{type:"URL"});if(void 0!==i)if(i instanceof Bs)t=Da(i);else if(n=Fs(t={},String(i)))throw TypeError(n);if(n=Fs(s,a,null,t))throw TypeError(n);var c=s.searchParams=new Ua,u=Ma(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},o||(r.href=Hs.call(r),r.origin=qs.call(r),r.protocol=zs.call(r),r.username=Ys.call(r),r.password=Gs.call(r),r.host=$s.call(r),r.hostname=Ks.call(r),r.port=Js.call(r),r.pathname=Qs.call(r),r.search=Xs.call(r),r.searchParams=Zs.call(r),r.hash=ec.call(r))},Ws=Bs.prototype,Hs=function(){var e=Da(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",ds(e)&&(u+=n+(r?":"+r:"")+"@"),u+=os(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},qs=function(){var e=Da(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&hs(e)?t+"://"+os(e.host)+(null!==n?":"+n:""):"null"},zs=function(){return Da(this).scheme+":"},Ys=function(){return Da(this).username},Gs=function(){return Da(this).password},$s=function(){var e=Da(this),t=e.host,n=e.port;return null===t?"":null===n?os(t):os(t)+":"+n},Ks=function(){var e=Da(this).host;return null===e?"":os(e)},Js=function(){var e=Da(this).port;return null===e?"":String(e)},Qs=function(){var e=Da(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Xs=function(){var e=Da(this).query;return e?"?"+e:""},Zs=function(){return Da(this).searchParams},ec=function(){var e=Da(this).fragment;return e?"#"+e:""},tc=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&pt(Ws,{href:tc(Hs,(function(e){var t=Da(this),n=String(e),r=Fs(t,n);if(r)throw TypeError(r);Ma(t.searchParams).updateSearchParams(t.query)})),origin:tc(qs),protocol:tc(zs,(function(e){var t=Da(this);Fs(t,String(e)+":",ys)})),username:tc(Ys,(function(e){var t=Da(this),n=Xo(String(e));if(!ps(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ls(n[r],us)}})),password:tc(Gs,(function(e){var t=Da(this),n=Xo(String(e));if(!ps(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ls(n[r],us)}})),host:tc($s,(function(e){var t=Da(this);t.cannotBeABaseURL||Fs(t,String(e),Os)})),hostname:tc(Ks,(function(e){var t=Da(this);t.cannotBeABaseURL||Fs(t,String(e),Ps)})),port:tc(Js,(function(e){var t=Da(this);ps(t)||(""==(e=String(e))?t.port=null:Fs(t,e,Ls))})),pathname:tc(Qs,(function(e){var t=Da(this);t.cannotBeABaseURL||(t.path=[],Fs(t,e+"",Vs))})),search:tc(Xs,(function(e){var t=Da(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Fs(t,e,_s)),Ma(t.searchParams).updateSearchParams(t.query)})),searchParams:tc(Zs),hash:tc(ec,(function(e){var t=Da(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Fs(t,e,Ds)):t.fragment=null}))}),te(Ws,"toJSON",(function(){return Hs.call(this)}),{enumerable:!0}),te(Ws,"toString",(function(){return Hs.call(this)}),{enumerable:!0}),Va){var nc=Va.createObjectURL,rc=Va.revokeObjectURL;nc&&te(Bs,"createObjectURL",(function(e){return nc.apply(Va,arguments)})),rc&&te(Bs,"revokeObjectURL",(function(e){return rc.apply(Va,arguments)}))}Mt(Bs,"URL"),Le({global:!0,forced:!Go,sham:!o},{URL:Bs});var ic=["finance.yahoo.com","news.yahoo.com","sports.yahoo.com"],oc=new RegExp(/rs="([^"]*)"/),ac={lmsid:"lmsid",lpstaid:"lpstaid",lu:"lu",pct:"pageContentType",pd:"pageDesign",pl:"pl",pt:"pageType",revsp:"revsp",ver:"appName"},sc=function(e){return new Promise((function(t){return setTimeout(t,e)}))},cc=function e(t,n){var r=n.className,i=n.id,o=n.tagName;if(t)return r&&!t.classList.contains(r)||i&&i!==t.id||o&&t.tagName!==o?e(t.parentElement,{className:r,id:i,tagName:o}):t},uc=function(e){if(!e||e.startsWith("/"))return e;var t=new URL(e),n=t.hostname,r=t.pathname;if(ic.includes(n)&&n!==window.location.hostname){var i=Ai(n.split("."),1)[0];return"/".concat(i).concat(r)}return r};function lc(e){var t=new URLSearchParams;for(var n in e)n in e&&t.append(n,e[n]);return t.toString()}function fc(e){var t="p.gif";return"finance"!==e&&"news"!==e||(t="_td_api/beacon/error"),t}var hc=function e(t){if(t)return t.hasAttribute("data-uuid")?t.getAttribute("data-uuid"):t.hasAttribute("data-wf-caas-uuid")?t.getAttribute("data-wf-caas-uuid"):e(t.parentElement)},dc=function(e,t){var n,r=e,i=Ii(t.split("."));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!r||!r.hasOwnProperty(o))return;r=r[o]}}catch(e){i.e(e)}finally{i.f()}return r},pc=function(){var e=window.location,t=e.hostname,n=e.port,r=e.protocol;return"localhost"!==t&&"4443"!==n&&"http:"!==r},vc=function(){var e,t,n;return(null===(e=window.vzm)||void 0===e||null===(t=e.getPageContext)||void 0===t?void 0:t.call(e))||(null===(n=window.YAHOO)||void 0===n?void 0:n.context)},wc=function(){function e(){var t=this;wi(this,e),document.getElementById("content-viewer-template")||window.wafer.ready((function(){t.bootstrap()}))}var t;return gi(e,[{key:"init",value:function(){}},{key:"bootstrap",value:(t=vi(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,c,u,l,f,h,d,p,v,w,m,g,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vc(),r=(null==n?void 0:n.region)||"US",i=null==n?void 0:n.device,o=null==n?void 0:n.contentSite,a=null===(t=window.rapidInstance)||void 0===t?void 0:t.getRapidAttribute("keys"),s=a.site,c=void 0===s?"fp":s,u=Si(a,["site"]),l=(null==n?void 0:n.lang)||u.lang||"en-US",f={contentSite:o,device:i,lang:l,region:r,site:c},h=pc()?"":"https://www.yahoo.com",d=o?"/".concat(o,"/layouts"):"/layouts",p="".concat(h).concat(d,"?device=").concat(i,"&lang=").concat(l,"&region=").concat(r,"&site=").concat(c),e.prev=10,e.next=13,window.wafer.utils.fetchWithCache(p,{cacheStrategy:"cacheFirst",cacheTtl:1e3,credentials:"include"});case 13:v=e.sent,w=v.configs,m=v.layout,document.body.insertAdjacentHTML("beforeend",m),window.adsConfig=window.adsConfig||w.ads,window.YAHOO.viewer.init(ki({context:f},w.viewer)),e.next=28;break;case 21:e.prev=21,e.t0=e.catch(10),window.YAHOO.viewer.init({context:f}),g=(null==n?void 0:n.site)||"fp",y=fc(g),b="/".concat(y,"?error=layout_fetch_failed&message=").concat(null===e.t0||void 0===e.t0?void 0:e.t0.message),window.wafer.utils.fireBeacon(b,{useNavigator:!1,useTimestamp:!1});case 28:window.wafer.base.sync(document.body);case 29:case"end":return e.stop()}}),e,null,[[10,21]])}))),function(){return t.apply(this,arguments)})}]),e}(),mc=function(){function e(){wi(this,e)}var t,n,r;return gi(e,[{key:"init",value:function(){"function"==typeof dc(window,"s.t")&&(this.adobeAnalytics=window.s,window.wafer.on("caas:article:inview",this.adobeAnalytics.t))}},{key:"onContentDidChange",value:(r=vi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adobeAnalytics&&(this.adobeAnalytics.prop53="Modal");case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onClick",value:(n=vi(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adobeAnalytics&&(t=this.adobeAnalytics.pna||"",n=window.location.hostname.split(".",1),this.adobeAnalytics.pageName="net|".concat(n,"|").concat(t));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onViewerClosed",value:(t=vi(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.adobeAnalytics&&(t=this.adobeAnalytics.pna||"",n=window.location.hostname.split(".",1),this.adobeAnalytics.pageName="net|".concat(n,"|").concat(t),this.adobeAnalytics.prop53="Modal Close",this.adobeAnalytics.t(),this.adobeAnalytics.clearVars());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),gc=nt.filter,yc=Bi("filter"),bc=st("filter");Le({target:"Array",proto:!0,forced:!yc||!bc},{filter:function(e){return gc(this,e,arguments.length>1?arguments[1]:void 0)}});var kc=pe.indexOf,Sc=[].indexOf,Ac=!!Sc&&1/[1].indexOf(1,-0)<0,xc=rt("indexOf"),Cc=st("indexOf",{ACCESSORS:!0,1:0});Le({target:"Array",proto:!0,forced:Ac||!xc||!Cc},{indexOf:function(e){return Ac?Sc.apply(this,arguments)||0:kc(this,e,arguments.length>1?arguments[1]:void 0)}});var Ec=[].join,Ic=d!=Object,Rc=rt("join",",");Le({target:"Array",proto:!0,forced:Ic||!Rc},{join:function(e){return Ec.call(v(this),void 0===e?",":e)}});var Oc=nt.map,Pc=Bi("map"),Lc=st("map");Le({target:"Array",proto:!0,forced:!Pc||!Lc},{map:function(e){return Oc(this,e,arguments.length>1?arguments[1]:void 0)}});var Tc=function(e){return function(t,n,r,i){$e(n);var o=Je(t),a=d(o),s=ue(o.length),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},jc={left:Tc(!1),right:Tc(!0)}.left,Nc=rt("reduce"),Vc=st("reduce",{1:0});Le({target:"Array",proto:!0,forced:!Nc||!Vc||!Tn&&Ar>79&&Ar<83},{reduce:function(e){return jc(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Uc=Math.max,Mc=Math.min,_c=Math.floor,Dc=/\$([$&'`]|\d\d?|<[^>]*>)/g,Fc=/\$([$&'`]|\d\d?)/g;jo("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=p(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var c=n(t,e,this,r);if(c.done)return c.value}var u=E(e),l=String(this),f="function"==typeof r;f||(r=String(r));var h=u.global;if(h){var d=u.unicode;u.lastIndex=0}for(var p=[];;){var v=Uo(u,l);if(null===v)break;if(p.push(v),!h)break;""===String(v[0])&&(u.lastIndex=Vo(l,ue(u.lastIndex),d))}for(var w,m="",g=0,y=0;y<p.length;y++){v=p[y];for(var b=String(v[0]),k=Uc(Mc(se(v.index),l.length),0),S=[],A=1;A<v.length;A++)S.push(void 0===(w=v[A])?w:String(w));var x=v.groups;if(f){var C=[b].concat(S,k,l);void 0!==x&&C.push(x);var I=String(r.apply(void 0,C))}else I=s(b,l,k,S,x,r);k>=g&&(m+=l.slice(g,k)+I,g=k+b.length)}return m+l.slice(g)}];function s(e,n,r,i,o,a){var s=r+e.length,c=i.length,u=Fc;return void 0!==o&&(o=Je(o),u=Dc),t.call(a,u,(function(t,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var f=_c(l/10);return 0===f?t:f<=c?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}u=i[l-1]}return void 0===u?"":u}))}}));var Bc="AUTO",Wc=["INARTICLE","INARTICLE-1","WIDGET","WIDGET-1"],Hc=function(){function e(){wi(this,e),this.event="homepage-viewer",this.viewportEvent="homepage-viewer-viewport",this.onScrollHandle=null,this.viewportAdPositions=[],this.viewportAdFetchSlotIndex=[],this.viewportPreviousAdFetchSlotIndex=[]}return gi(e,[{key:"init",value:function(e){var t;(e&&(this.site=e.context.site||"fp"),window.adsConfig)?this.config=window.adsConfig:(new Image).src="/".concat(fc(this.site),"?error=no_ads_config");this.rotateIndexPageAds=(null==e||null===(t=e.ads)||void 0===t?void 0:t.rotateIndexPageAds)||!1,window.wafer.on("caas:article:init",this.displayAds.bind(this)),window.wafer.on("caas:article:init",this.setWaferState.bind(this))}},{key:"onClick",value:function(e){"slideshow"===e.type&&window.DARLA&&!window.DARLA.inProgress()&&window.DARLA.event("slideshow")}},{key:"getAdBlockConfig",value:function(){var e,t,n;if(this.config){var r=JSON.parse(JSON.stringify(this.config)),i=r.viewerPositionMeta.positions;null!==(e=r.viewerViewportAdFetch)&&void 0!==e&&e.slots&&null!==(t=r.viewerViewportAdFetch.slots[0])&&void 0!==t&&null!==(n=t.positions)&&void 0!==n&&n.length&&(r.viewerViewportAdFetch.slots.forEach((function(e){var t;null!==(t=e.positions)&&void 0!==t&&t.length&&(i=i.concat(e.positions))})),r.viewerViewportAdFetch.slots=[]),r.viewerPositionMeta.positions=i.filter((function(e){return!(e.id.startsWith("INARTICLE")||e.id.startsWith("MAST")||e.id.startsWith("MON")||e.id.startsWith("MON2")||e.id.startsWith("FSRVY"))}));var o,a=Ii(r.viewerPositionMeta.positions);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=document.getElementById(s.clean),u=document.getElementById(s.dest);if(c&&c.parentNode&&u){s.id="UBA"+s.id;var l=document.createElement("div");l.id="viewer-"+s.id+"-base",l.style.width="100%",l.className="uba-container",s.clean=s.clean.replace("-","-UBA"),c.id=s.clean,s.dest=s.dest.replace("-","-UBA"),u.id=s.dest,c.parentNode.insertBefore(l,c),l.appendChild(c);var f=document.createElement("span");f.innerText="Advertisement",f.style.color="#787d82",f.style.display="block",f.style.fontSize="11px",f.style.marginBottom="3px",f.style.marginLeft="auto",f.style.marginRight="auto",s.id.indexOf("LDRB")>=0?f.style.width="728px":f.style.width="100%",l.insertBefore(f,c)}}}catch(e){a.e(e)}finally{a.f()}return r}}},{key:"getConfig",value:function(){return document.cookie.includes("thamba=2")?this.getAdBlockConfig():this.config}},{key:"onViewerClosed",value:function(){var e,t,n,r;(window.DARLA&&window.DARLA.inProgress()&&window.DARLA.abort(),this.onScrollHandle&&(window.wafer.removeListener("scroll",this.onScrollHandle),this.onScrollHandle=null),null!==(e=this.config)&&void 0!==e&&e.viewerResetAutoEventOnClose&&null!==(t=this.darlaAutoEvent)&&void 0!==t&&t.ps)&&(null===(n=window.DARLA)||void 0===n||n.add(Bc,this.darlaAutoEvent));this.rotateIndexPageAds&&(null===(r=window.DARLA)||void 0===r||r.event("adFetch"))}},{key:"addPosition",value:function(e){var t=[],n=window.location.protocol+"//"+window.location.host;window.location.pathname&&(n+=window.location.pathname);var r,i=Ii(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.push(o.id),o.meta||(o.meta={}),o.meta.hostURL=n,window.DARLA.addPos(o)}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"addViewportDarlaEvent",value:function(e){var t;null===(t=window.DARLA)||void 0===t||t.add(this.viewportEvent,{name:this.viewportEvent,ps:e.join(","),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId})}},{key:"displayAds",value:function(e){var t,n,r,i=this;this.contentSite=e.meta.data.adMeta&&e.meta.data.adMeta.site||"",this.spaceId=e.meta.data.spaceId;var o=this.getConfig();if(window.DARLA&&o){window.DARLA.inProgress()&&window.DARLA.abort();var a=vc(),s=[],c=[],u=e.meta.data.adMeta&&e.meta.data.adMeta.site_attribute||"",l=a.bucket||a.bucketId,f=l?"Y-BUCKET="+l:"",h=JSON.parse(JSON.stringify(o.viewerPositionMeta.positions));u.indexOf("page_template")<0&&(u+=" page_template=modal"),this.siteAttribute=o.viewerPositionMeta.siteAttributes+" "+u+" "+f,o.viewerPositionMeta&&(s=this.addPosition(h)),null!==(t=o.viewerViewportAdFetch)&&void 0!==t&&t.slots&&null!==(n=o.viewerViewportAdFetch.slots[0])&&void 0!==n&&null!==(r=n.positions)&&void 0!==r&&r.length&&(this.viewportAdPositions=o.viewerViewportAdFetch.slots.map((function(e){return ki(ki({},e),{},{fetched:!1})})),this.viewportAdPositions.forEach((function(e){c=c.concat(i.addPosition(e.positions))}))),this.isViewportAdFetchEnabled()&&c.length?(this.onScrollHandle=this.handleScrollEvent.bind(this),window.wafer.on("scroll",this.onScrollHandle)):s=s.concat(c);var d={pg:{device:a.device||"",intl:a.intl||"",property:this.contentSite,rid:a.rid,test:l}};if(window.DARLA.add(this.event,{name:this.event,ps:s.join(","),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId,ult:d}),window.DARLA.add("slideshow",{name:"slideshow",ps:o.viewerPositionMeta.slideshowPositions,ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId}),!document.cookie.includes("thamba=2")){window.DARLA.stopAuto();var p={autoDDG:1,autoIV:1,autoMax:25,autoRT:1e4,autoStart:1,name:Bc,ps:s.concat(c).reduce((function(e,t){return Wc.includes(t)||(e[t]={autoIV:1,autoMax:25,autoRT:1e4}),e}),{}),ref:window.location.href,sa:this.siteAttribute,sp:this.spaceId};this.config.viewerPositionMeta.groupRotation&&(p.groups=this.config.viewerPositionMeta.groupRotation),this.darlaAutoEvent=window.DARLA.evtSettings(Bc),window.DARLA.add(Bc,p),window.DARLA.startAuto()}window.DARLA.event(this.event)}}},{key:"setWaferState",value:function(e){var t=e.meta.data,n=t.adMeta,r=t.spaceId,i=function(e){if(e){var t=e.match(oc);if(t.length>=2){var n,r={},i=Ii(t[1].split(";"));try{for(i.s();!(n=i.n()).done;){var o=n.value;(o=o.split(":")).length>=2&&ac[o[0]]&&(r[ac[o[0]]]=o[1])}}catch(e){i.e(e)}finally{i.f()}return r}}return null}(n.site_attribute);window.wafer.state={viewerMainArticlePubBlob:JSON.stringify(i),viewerMainArticleSpaceId:parseInt(r,10)}}},{key:"getPendingViewportAdSlotIndex",value:function(){var e=[];return this.viewportAdPositions.forEach((function(t,n){t.fetched||e.push(n)})),e}},{key:"getPositionsAndMarkSlot",value:function(){var e=this,t=[];return this.viewportAdFetchSlotIndex.forEach((function(n){var r,i,o;null!==(r=e.viewportAdPositions[n])&&void 0!==r&&null!==(i=r.positions)&&void 0!==i&&i.length&&(t=t.concat(null===(o=e.viewportAdPositions[n])||void 0===o?void 0:o.positions.map((function(e){return e.id}))),e.viewportAdPositions[n].fetched=!0)})),t}},{key:"isViewportAdFetchEnabled",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this.config;if(!this.contentSite||!i||r&&document.cookie.includes("thamba=2"))return!1;if(null!==(e=i.viewerViewportAdFetch)&&void 0!==e&&e.slots&&null!==(t=i.viewerViewportAdFetch.slots[0])&&void 0!==t&&null!==(n=t.positions)&&void 0!==n&&n.length){var o,a=(null===(o=i.viewerViewportAdFetch)||void 0===o?void 0:o.sites)||[];return-1!==a.indexOf(this.contentSite)}return!1}},{key:"isAdPositionsInViewport",value:function(e){var t=!1;return e.forEach((function(e){var n=document.getElementById(e.clean);!t&&n&&(t=window.wafer.utils.elementInView(n,{},window.wafer.base.viewport))})),t}},{key:"isSlotPositionsInViewport",value:function(e){var t=this,n=!1;return e.forEach((function(e){var r,i=null===(r=t.viewportAdPositions[e])||void 0===r?void 0:r.positions,o=i&&t.isAdPositionsInViewport(i);o&&!t.viewportAdFetchSlotIndex.includes(e)&&t.viewportAdFetchSlotIndex.push(e),!n&&o&&(n=!0)})),n}},{key:"displayViewportAds",value:function(){if(window.DARLA){var e=window.DARLA.evtSettings(this.event),t=this.getPositionsAndMarkSlot();if(!t.length)return;e&&(e.ps="".concat(e.ps,",").concat(t.join(",")),window.DARLA.add(this.event,e)),this.addViewportDarlaEvent(t),this.viewportPreviousAdFetchSlotIndex=this.viewportAdFetchSlotIndex,this.viewportAdFetchSlotIndex=[],window.DARLA.event(this.viewportEvent)}}},{key:"delayFetchViewportAds",value:function(){var e=this,t=1,n=setInterval((function(){var r;t>2?(clearInterval(n),null!==(r=window.DARLA)&&void 0!==r&&r.inProgress()&&(window.DARLA.abort(),e.displayViewportAds())):window.DARLA&&!window.DARLA.inProgress()&&(clearInterval(n),e.displayViewportAds());t++}),500)}},{key:"onScrollViewportFetch",value:function(){var e,t=this,n=this.getPendingViewportAdSlotIndex();if(this.onScrollHandle&&!n.length&&(window.wafer.removeListener("scroll",this.onScrollHandle),this.onScrollHandle=null),this.isSlotPositionsInViewport(n)){var r,i=null===(e=window.DARLA)||void 0===e?void 0:e.inProgress();if(i)if(i!==this.event)null===(r=window.DARLA)||void 0===r||r.abort(),i===this.viewportEvent&&this.viewportPreviousAdFetchSlotIndex.length&&(this.viewportPreviousAdFetchSlotIndex.forEach((function(e){t.viewportAdFetchSlotIndex.includes(e)||t.viewportAdFetchSlotIndex.push(e)})),this.viewportPreviousAdFetchSlotIndex=[]),this.displayViewportAds();else this.delayFetchViewportAds();else this.viewportPreviousAdFetchSlotIndex=[],this.displayViewportAds()}}},{key:"handleScrollEvent",value:function(){var e=this;"function"==typeof requestAnimationFrame?(this.scrollAnimationFrameTimer&&cancelAnimationFrame(this.scrollAnimationFrameTimer),this.scrollAnimationFrameTimer=requestAnimationFrame((function(){e.onScrollViewportFetch()}))):this.onScrollViewportFetch()}}]),e}(),qc=function(){function e(){wi(this,e),this.pageContainer="atomic",this.viewerContainer="viewer",this.aft2MaxWaitTime=6e3}return gi(e,[{key:"init",value:function(e){null!=e&&e.yaft&&(e.yaft.pageContainer&&(this.pageContainer=e.yaft.pageContainer),e.yaft.viewerContainer&&(this.viewerContainer=e.yaft.viewerContainer),e.yaft.aft2MaxWaitTime&&(this.aft2MaxWaitTime=e.yaft.aft2MaxWaitTime))}},{key:"onViewerOpened",value:function(){this.onTransitionStart(this.viewerContainer)}},{key:"onContentChange",value:function(){this.onTransitionRenderStart()}},{key:"onViewerClosed",value:function(){this.onTransitionStart(this.pageContainer)}},{key:"onViewerDidClose",value:function(){this.onTransitionRenderStart()}},{key:"onTransitionStart",value:function(e){var t=window.YAFT;t&&t.AFT2&&(t.AFT2.start(),t.updateConfig({maxWaitTime:this.aft2MaxWaitTime,modulesAft2Container:e}),t.adPosLoadTimes=[])}},{key:"onTransitionRenderStart",value:function(){var e=window,t=e.rapidInstance,n=e.YAFT;t&&n&&n.AFT2&&n.AFT2.end((function(e,n){if(!n){var r=Math.round(e.aft),i=e.visuallyComplete,o={perf_commontime:{afterPageLoad:{AFT:r,AFT2:r,STR:Math.round(e.startRender),VIC:i}}};t.beaconPerformanceData(o)}}))}}]),e}(),zc=R.f,Yc=Function.prototype,Gc=Yc.toString,$c=/^\s*function ([^ (]*)/,Kc="name";o&&!(Kc in Yc)&&zc(Yc,Kc,{configurable:!0,get:function(){try{return Gc.call(this).match($c)[1]}catch(e){return""}}});var Jc=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};jo("search",1,(function(e,t,n){return[function(t){var n=p(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=E(e),o=String(this),a=i.lastIndex;Jc(a,0)||(i.lastIndex=0);var s=Uo(i,o);return Jc(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Qc=function(){function e(){var t=this;wi(this,e),this.logCaasEvent=function(e){window.wafer.on(e,(function(n){var r=n&&n.meta||{},i="/".concat(t.infoBeaconUri,"?error=").concat(e,"&meta=").concat(JSON.stringify(r));window.wafer.utils.fireBeacon(i,{useNavigator:!1,useTimestamp:!1})}))}}var t,n,r;return gi(e,[{key:"init",value:function(e){e&&(this.site=e.context.site||"fp"),this.infoBeaconUri=fc(this.site);var t=this.beaconPageView.bind(this);window.wafer.on("caas:article:inview",t),window.wafer.on("caas:article:init",t),window.wafer.on("log",this.beaconLog.bind(this)),this.logCaasEvent("caas:prefetch:failed")}},{key:"onClick",value:function(e){"article"===e.type&&(this.uuid=e.payload.uuid,this.t0=Date.now())}},{key:"onContentWillChange",value:(r=vi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.t1=Date.now();case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onContentChange",value:(n=vi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.t2=Date.now();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onContentDidChange",value:(t=vi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.t3=Date.now(),this.beaconClk2Cnt();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onViewerOpened",value:function(){this.beacon({beaconType:"homepage_viewer",info:"show_viewer"})}},{key:"onViewerClosed",value:function(){this.beacon({beaconType:"homepage_viewer",info:"close_viewer"})}},{key:"beaconLog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.meta,n=e.name;e.type;if("WaferCaas"===n||"BrowserType"===n&&t.slow){var r="/".concat(this.infoBeaconUri,"?error=log&meta=").concat(JSON.stringify(t));window.wafer.utils.fireBeacon(r,{useNavigator:!1,useTimestamp:!1})}}},{key:"beaconPageView",value:function(){var e=new Image,t=new URL("/pageview",window.location.origin);t.search=new URLSearchParams({bucket:"bucket",rid:"rid"}).toString(),e.src=t.toString()}},{key:"beaconClk2Cnt",value:function(){this.beacon({code:"homepage_viewer_clk2cnt",t0:this.t0,t1_t0:Math.floor(this.t1-this.t0),t2_t1:Math.floor(this.t2-this.t1),t3_t2:Math.floor(this.t3-this.t2),time:Math.floor(this.t3-this.t0),uuid:this.uuid})}},{key:"beacon",value:function(e){var t=new Image;t.src="/".concat(this.infoBeaconUri,"?").concat(lc(e))}}]),e}(),Xc=Bi("slice"),Zc=st("slice",{ACCESSORS:!0,0:0,1:2}),eu=Me("species"),tu=[].slice,nu=Math.max;Le({target:"Array",proto:!0,forced:!Xc||!Zc},{slice:function(e,t){var n,r,i,o=v(this),a=ue(o.length),s=he(e,a),c=he(void 0===t?a:t,a);if(Qe(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Qe(n.prototype)?w(n)&&null===(n=n[eu])&&(n=void 0):n=void 0,n===Array||void 0===n))return tu.call(o,s,c);for(r=new(void 0===n?Array:n)(nu(c-s,0)),i=0;s<c;s++,i++)s in o&&Di(r,i,o[s]);return r.length=i,r}});var ru=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),iu=t((function(e){var t=R.f,n=H("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!w(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!y(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!y(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return ru&&a.REQUIRED&&i(e)&&!y(e,n)&&o(e),e}};Y[n]=!0})),ou=R.f,au=iu.fastKey,su=ee.set,cu=ee.getterFor;!function(e,t,n){var o=-1!==e.indexOf("Map"),a=-1!==e.indexOf("Weak"),s=o?"set":"add",c=r[e],u=c&&c.prototype,l=c,f={},h=function(e){var t=u[e];te(u,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(a&&!w(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!w(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!w(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Oe(e,"function"!=typeof c||!(a||u.forEach&&!i((function(){(new c).entries().next()})))))l=n.getConstructor(t,e,o,s),iu.REQUIRED=!0;else if(Oe(e,!0)){var d=new l,p=d[s](a?{}:-0,1)!=d,v=i((function(){d.has(1)})),m=In((function(e){new c(e)})),g=!a&&i((function(){for(var e=new c,t=5;t--;)e[s](t,t);return!e.has(-0)}));m||((l=t((function(t,n){fn(t,l,e);var r=Ji(new c,t,l);return null!=n&&yn(n,r[s],{that:r,AS_ENTRIES:o}),r}))).prototype=u,u.constructor=l),(v||g)&&(h("delete"),h("has"),o&&h("get")),(g||p)&&h(s),a&&u.clear&&delete u.clear}f[e]=l,Le({global:!0,forced:l!=c},f),Mt(l,e),a||n.setStrong(l,e,o)}("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var i=e((function(e,a){fn(e,i,t),su(e,{type:t,index:bt(null),first:void 0,last:void 0,size:0}),o||(e.size=0),null!=a&&yn(a,e[r],{that:e,AS_ENTRIES:n})})),a=cu(t),s=function(e,t,n){var r,i,s=a(e),u=c(e,t);return u?u.value=n:(s.last=u={index:i=au(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=u),r&&(r.next=u),o?s.size++:e.size++,"F"!==i&&(s.index[i]=u)),e},c=function(e,t){var n,r=a(e),i=au(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return cn(i.prototype,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,o?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),r=c(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),o?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=a(this),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),cn(i.prototype,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),o&&ou(i.prototype,"size",{get:function(){return a(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=cu(t),o=cu(r);Kt(e,t,(function(e,t){su(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ln(t)}});Le({target:"Object",stat:!0,forced:Object.assign!==Jo},{assign:Jo});var uu=i((function(){dt(1)}));Le({target:"Object",stat:!0,forced:uu},{keys:function(e){return dt(Je(e))}});var lu=c.f,fu=function(e){return function(t){for(var n,r=v(t),i=dt(r),a=i.length,s=0,c=[];a>s;)n=i[s++],o&&!lu.call(r,n)||c.push(e?[n,r[n]]:r[n]);return c}},hu={entries:fu(!0),values:fu(!1)}.values;Le({target:"Object",stat:!0},{values:function(e){return hu(e)}});var du=function(){function e(t){wi(this,e),this.className=t.targetClassName,this.clusters=[],this.clusterSize=t.clusterSize,this.headerAnchorId="",this.home=new URL(location.href),this.isViewerClosed=!0,this.ntkClusterSize=t.ntkClusterSize,this.tagName=t.targetTagName}return gi(e,[{key:"init",value:function(e){var t;null!=e&&null!==(t=e.clickHandler)&&void 0!==t&&t.clusterSize&&(this.clusterSize=e.clickHandler.clusterSize);var n=this.handleClick.bind(this),r=document.getElementById("header-logo");r?(this.headerAnchorId="header-logo",r.addEventListener("click",n)):(r=document.getElementById("ybar-logo"))&&(this.headerAnchorId="ybar-logo",r.addEventListener("click",n));var i=this.handleCaaSClickLink.bind(this);document.body.addEventListener("click",n),window.wafer.on("caas:link:clicked",i),window.wafer.on("caas:yahooLink:clicked",i),this.viewerNode=document.getElementById("viewer")}},{key:"getArticles",value:function(e,t){var n,r={},i=Ii(e.querySelectorAll("[data-wf-caas-uuid]"));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.getAttribute("data-wf-caas-uuid");if(a!==t){var s=o.getAttribute("href")||"",c=uc(s);a&&c&&(r[a]={pathname:c,uuid:a})}}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"onViewerClosed",value:function(){this.clusters=[],this.isViewerClosed=!0}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href)}},{key:"onViewerOpened",value:function(){this.isViewerClosed=!1}},{key:"getElementComposedMap",value:function(e){for(var t=e,n=new Map;t;)n.set(t,!0),t=t.parentElement;return n}},{key:"getClusterSize",value:function(e){return 0===Math.max(this.clusterSize,this.ntkClusterSize)?0:cc(e,{className:"ntktdv2"})?this.ntkClusterSize:cc(e,{className:"yns-notifications"})?0:this.clusterSize}},{key:"handleCaaSClickLink",value:function(e){var t=e.meta.data;if(t.isComment){var n=t.uuid;return this.dispatch(Oi,{payload:{uuid:n},type:"comments"})}var r=t.sec;if(t.href){var i=t.pos,o=t.slk;return this.dispatch(Oi,{payload:{pos:i,ylk:Object.assign({sec:r,slk:o},t.params)},type:"link"}),void(window.open(t.href,t.target).opener=null)}if("sshow"===r){var a=t.pos,s=t.sec,c=t.slk;this.dispatch(Oi,{payload:{pos:a,ylk:Object.assign({sec:s,slk:c},t.params)},type:"slideshow"})}}},{key:"handleClick",value:function(e){if(dc(window,"wafer.wafers.wafer-caas")){var t=e.target,n=t&&t.id;if(!this.isViewerClosed){if(cc(t,{id:"header-back-button",tagName:"A"}))return e.preventDefault(),this.dispatch(Oi,{type:"back"});var r=this.headerAnchorId&&cc(t,{id:this.headerAnchorId,tagName:"A"});if(r){var i=uc(r.href);if(this.home.pathname!==i)return;return e.preventDefault(),e.stopPropagation(),this.dispatch(Oi,{type:"close"})}if(cc(t,{id:"closebtn",tagName:"BUTTON"}))return this.dispatch(Oi,{type:"close"});if("Overlay"===n)return this.dispatch(Oi,{type:"overlay"})}var o=cc(t,{className:this.className,tagName:this.tagName});if(o){if(e.ctrlKey||e.metaKey)return;"function"==typeof e.preventDefault&&e.preventDefault();var a=!!cc(e.target,{className:"js-stream-comments-button"}),s=o.getAttribute("href")||"",c=uc(s),u=this.getClusterArticles(o),l=hc(o),f={cluster:u,expandComments:a,isHpViewer:!0,pathname:c,refererUrl:window.location.href,uuid:l};this.dispatch(Oi,{payload:f,type:"article"})}var h=this.getElementComposedMap(t);if(this.viewerNode&&h.has(this.viewerNode)){var d=document.getElementById("content-viewer");if(d&&!h.has(d))return this.dispatch(Oi,{type:"close"});var p=this.viewerNode.getElementsByClassName("viewer-wrapper")[0];if(p&&!h.has(p))return this.dispatch(Oi,{type:"close"})}}}},{key:"getClusterArticles",value:function(e){var t=this.getClusterSize(e);if(0===t)return[];var n=cc(e,{className:"article-cluster-boundary"})||cc(e,{className:"drawer-fetch-target",tagName:"DIV"})||cc(e,{className:"stream-item",tagName:"LI"})||cc(e,{className:"js-stream-content",tagName:"LI"})||cc(e,{className:"tdv2-wafer-ntk-desktop",tagName:"DIV"})||cc(e,{className:"aside-sticky",tagName:"DIV"})||cc(e,{id:"Page"});if(!n)return[];var r=e.getAttribute("data-wf-caas-uuid")||e.getAttribute("data-uuid")||"";if(!r){var i=cc(e,{className:"js-stream-content",tagName:"LI"});r=i&&(i.getAttribute("data-wf-caas-uuid")||i.getAttribute("data-uuid"))||""}for(var o=this.getArticles(n,r),a=n.nextElementSibling;Object.keys(o).length<t&&a;)Object.assign(o,this.getArticles(a,r)),a=a.nextElementSibling;for(var s=n.previousElementSibling;Object.keys(o).length<t&&s;)Object.assign(o,this.getArticles(s,r)),s=s.previousElementSibling;return this.clusters=Object.values(o).slice(0,t),this.clusters}}]),e}(),pu=ye.f,vu={}.toString,wu="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mu=function(e){return wu&&"[object Window]"==vu.call(e)?function(e){try{return pu(e)}catch(e){return wu.slice()}}(e):pu(v(e))},gu=i((function(){return!Object.getOwnPropertyNames(1)}));Le({target:"Object",stat:!0,forced:gu},{getOwnPropertyNames:mu});var yu=function(){function e(t){wi(this,e);var n=vc();this.comments={},this.config=t,this.expanded=!1,this.region=(null==n?void 0:n.region)||"US",this.lang=(null==n?void 0:n.lang)||"en-US",this.site="fp"}var t,n,r;return gi(e,[{key:"init",value:function(e){var t;if(null==e||null===(t=e.spotIm)||void 0===t||!t.enabled){e&&(this.region=e.context.region,this.lang=e.context.lang,this.site=e.context.site);var n=this.initCommentsOnView.bind(this);window.wafer.on("caas:article:inview",n),window.wafer.on("caas:article:init",n)}}},{key:"onContentChange",value:(r=vi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.expanded=t.expandComments;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onClick",value:(n=vi(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("comments"!==t.type){e.next=14;break}if(n=t.payload.uuid,e.t0=this.comments[n],e.t0){e.next=7;break}return e.next=6,this.initCommentsOnClick(n);case 6:e.t0=e.sent;case 7:if(!(r=e.t0)||!r.instance){e.next=14;break}return r.instance.expand(),e.next=12,sc(100);case 12:document.getElementById(r.id).scrollIntoView({behavior:"smooth"});case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onViewerDidClose",value:function(){Object.values(this.comments).forEach((function(e){var t;null===(t=e.instance)||void 0===t||t.destroy()})),this.comments={},this.expanded=!1}},{key:"getCommentsNodeId",value:function(e){var t,n=window.wafer.base._state,r=Ii(Object.getOwnPropertyNames(n));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(n[i]===e){var o=document.querySelector('[data-wf-state-caas-uuid="[state.'.concat(i,']"]'));if(o)return o.getAttribute("data-comments-id")}}}catch(e){r.e(e)}finally{r.f()}}},{key:"getRapidBucket",value:function(){var e,t;return(null===(e=window.rapidPageConfig)||void 0===e||null===(t=e.rapidConfig)||void 0===t?void 0:t.test_id)||""}},{key:"getRapidKeys",value:function(){return window.rapidInstance?window.rapidInstance.getRapidAttribute("keys"):{}}},{key:"getRapidSpaceId",value:function(){return window.rapidInstance?window.rapidInstance.getRapidAttribute("spaceid"):""}},{key:"getCanvassCommentsParams",value:function(e){var t=e.commentSectionId,n=e.hostedType,r=e.spaceId,i=e.title,o=e.url,a=e.uuid,s="hosted"===n?"yahoo_content":"yahoo_offnet",c=this.getRapidKeys(),u=r||this.getRapidSpaceId(),l=c._rid,f=c.site,h=void 0===f?"fp":f,d=this.config.device,p="news"===this.site?"redesign":"",v="news"===this.site?"Ff(YahooSans)":"";return{bucket:this.getRapidBucket(),context:a,contextDisplayText:i,contextUrl:o,device:d,lang:this.lang,namespace:s,prid:l,rapid:window.rapidInstance,rapidKeys:c,region:this.region,sectionId:t,site:h,spaceid:u,theme:p,themeContainerClasses:v,useRelativeHostName:!0}}},{key:"initComments",value:function(e,t,n){var r=window.YAHOO.CanvassComments,i=this.config.rmp;if(!i){if(!r)return;var o=new r(t,n);return this.expanded=!1,this.comments[e]={id:t,instance:o}}var a=document.getElementById(t);if(a){this.comments[e]={id:t};var s="".concat(i.xhrPathPrefix,"?m_id=").concat(i.m_id,"&ctrl=").concat(i.ctrl,"&m_mode=json&rid=").concat(n.prid)+"&context=".concat(e,"&device=").concat(n.device,"&site=").concat(n.site,"&region=").concat(n.region,"&lang=").concat(n.lang),c=i.config?"data-wf-body=".concat(JSON.stringify(i)):"";a.innerHTML='<div class="wafer-fetch" data-wf-trigger="onLoad" data-wf-cache-strategy="cacheFirst" data-wf-replace="1" '+'data-wf-url="'.concat(s,'" ').concat(c,"></div>"),window.wafer.base.sync(a)}}},{key:"initCommentsOnView",value:function(e){if(window.YAHOO){var t=e.meta.data,n=t.uuid;if(!t.commentsAllowed)return;if(this.comments[n])return;var r=e.elem.getAttribute("data-comments-id"),i=this.getCanvassCommentsParams(t);i.expanded=this.expanded,this.initComments(n,r,i)}}},{key:"initCommentsOnClick",value:(t=vi(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.wafer.caas.getData([t]);case 2:if(n=e.sent,r=Ai(n,1),(i=r[0]).commentsAllowed){e.next=7;break}return e.abrupt("return");case 7:if((o=this.getCanvassCommentsParams(i)).expanded=!0,!(a=this.getCommentsNodeId(t))){e.next=12;break}return e.abrupt("return",this.initComments(t,a,o));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),bu=function(){function e(){wi(this,e)}var t,n;return gi(e,[{key:"init",value:function(e){var t,n;if(window.rapidInstance){window._comscore=window._comscore||[],this.c14=(null===(t=window.YAHOO)||void 0===t||null===(n=t.comscore)||void 0===n?void 0:n.c14)||"-1",this.spaceId=window.rapidInstance.getRapidAttribute("spaceid");var r=this.beaconPageView.bind(this);window.wafer.on("caas:article:inview",r)}}},{key:"onViewerClosed",value:function(){if(window.rapidInstance){var e=new URL(location.pathname,location.origin).toString();this.beaconComscore(this.spaceId,e)}}},{key:"beaconPageView",value:(n=vi(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.meta.data,r=n.spaceId,i=n.url,this.beaconComscore(r,i);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"beaconComscore",value:(t=vi(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window._comscore=window._comscore||[],window._comscore.push({c1:2,c14:this.c14,c2:"7241469",c5:t,c7:n}),null===(r=window.COMSCORE)||void 0===r||r.purge();case 3:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),ku=function(){function e(){wi(this,e),this.home=new URL(location.href),this.c2sSessionId="",this.c2sArticleIndex=0,this.c2sElements=[],this.onScroll=null}return gi(e,[{key:"init",value:function(e){e&&(this.site=e.context.site||"fp"),this.infoBeaconUri=fc(this.site),window.adsConfig&&(this.config=window.adsConfig),this.config&&this.config.viewerPositionMeta&&this.config.viewerPositionMeta.c2siframe&&(window.wafer.on("caas:article:init",this.articleInit.bind(this)),window.wafer.on("caas:article:inview",this.articleInview.bind(this)))}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href)}},{key:"onViewerClosed",value:function(){this.onScroll&&(window.removeEventListener("scroll",this.onScroll),this.onScroll=null)}},{key:"articleInit",value:function(e){this.config.viewerPositionMeta.c2siframe&&this.config.viewerPositionMeta.c2siframe.sites.indexOf(e.meta.data.adMeta.site)>=0&&(this.c2sSessionId=Date.now()+"_"+Math.random().toString().substr(2,5),this.c2sArticleIndex=0,this.c2sElements=[])}},{key:"articleInview",value:function(e){this.c2sArticleIndex++;var t="qa5.www.yahoo.com"===this.home.host&&this.home.searchParams.has("c2sallowall");e.elem&&e.elem.querySelector&&e.elem.querySelector(".js-c2smodule")||this.config.viewerPositionMeta.c2siframe&&(t||e.meta&&e.meta.data&&e.meta.data.adMeta.site&&this.config.viewerPositionMeta.c2siframe.sites.indexOf(e.meta.data.adMeta.site)>=0)&&this.loadC2siframe(e)}},{key:"loadC2siframe",value:function(e){var t=this,n=e.elem.querySelector(".caas-body");if(n){var r=document.createElement("iframe");r.setAttribute("class","js-c2smodule"),r.setAttribute("frameborder","no"),r.setAttribute("scrolling","no"),r.setAttribute("allowtransparency","true"),r.setAttribute("async","true"),r.setAttribute("tabindex","-1"),r.style.marginTop="20px",r.style.width="100%";var i=e.meta.data.uuid,o=new URL(this.config.viewerPositionMeta.c2siframe.url);o.searchParams.append("uuid",i),o.searchParams.append("sid",String(this.c2sSessionId)),o.searchParams.append("iid",String(this.c2sArticleIndex)),r.setAttribute("src",o.href);var a=Date.now(),s=setTimeout((function(){r.style.display="none",window.wafer.utils.fireBeacon("/"+t.infoBeaconUri+"?type=c2siframe-timedout&uuid="+i,{useNavigator:!1,useTimestamp:!1})}),this.config.viewerPositionMeta.c2siframe.timeout||5e3);r.addEventListener("load",this.handleOnload.bind(this,i,s,a),!1),window.addEventListener("message",this.handlePostMessage.bind(this,i,r),!1),n.appendChild(r),this.c2sElements.push(r),!this.onScroll&&r.contentWindow&&r.contentWindow.postMessage&&(this.onScroll=this.handleScroll.bind(this),"function"==typeof requestAnimationFrame?window.wafer.on("scroll",(function(){return requestAnimationFrame(t.onScroll)})):window.wafer.on("scroll",this.onScroll))}}},{key:"handleOnload",value:function(e,t,n){clearTimeout(t),window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-loaded&uuid="+e+"&latency="+(Date.now()-n),{useNavigator:!1,useTimestamp:!1})}},{key:"handlePostMessage",value:function(e,t,n){if(e&&t){var r=n;if(r.data&&"c2sDisplay"===r.data.event&&r.data.articleId===e){var i=r.data.terms||[];r.data.height&&(t.style.height=r.data.height+"px"),window.wafer.utils.fireBeacon("/"+this.infoBeaconUri+"?type=c2siframe-renderd-searchitems&uuid="+e+"&widget="+escape(n.data.widget)+"&flavor="+escape(n.data.flavor||"")+"&count="+i.length+"&terms="+escape(JSON.stringify(i)),{useNavigator:!1,useTimestamp:!1})}}}},{key:"handleScroll",value:function(){this.c2sElements.forEach((function(e){window.wafer.utils.elementInView(e,{},window.wafer.base.viewport)?e.contentWindow.postMessage("c2s-node-visible","*"):e.contentWindow.postMessage("c2s-node-not-visible","*")}))}}]),e}();!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var Su=function(){function e(){wi(this,e)}return gi(e,[{key:"onViewerClosed",value:function(){dispatchEvent(new CustomEvent("viewerClosed"))}},{key:"onViewerOpened",value:function(e){var t={detail:{uuid:e.uuid}};dispatchEvent(new CustomEvent("viewerOpened",t))}},{key:"onContentChange",value:function(e){var t={detail:{uuid:e.uuid}};dispatchEvent(new CustomEvent("viewerContentChanged",t))}}]),e}(),Au=function(){function e(){wi(this,e)}return gi(e,[{key:"init",value:function(){this.shouldDeeplink=!document.getElementById("content-viewer-template")}},{key:"onClick",value:function(e){var t;this.shouldDeeplink&&"article"===e.type&&null!==(t=e.payload)&&void 0!==t&&t.pathname&&(window.location.pathname=e.payload.pathname)}}]),e}();Date.now||(Date.now=function(){return(new Date).getTime()});var xu=function(){function e(){wi(this,e)}var t,n;return gi(e,[{key:"init",value:function(){var e;this.mainView=document.getElementById("Masterwrap")||document.getElementById("MainView")||(null===(e=document.getElementById("YDC-Col1"))||void 0===e?void 0:e.parentElement),this.viewer=document.getElementById("content-viewer"),this.viewerParent=document.getElementById("viewer"),this.listener=function(e){27===e.keyCode&&history.back()}}},{key:"onContentWillChange",value:function(){window.wafer.state={showViewer:Date.now()}}},{key:"onContentChange",value:(n=vi(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,i=void 0===r?[]:r,o=t.expandComments,a=t.uuid,s=i.map((function(e){return e.uuid})),c=o?"1":"0",(n=this.viewer.classList).remove.apply(n,xi([0,1,2,3,4,5,6].map((function(e){return"cluster".concat(e)})))),this.viewer.classList.add("cluster".concat(i.length)),e.next=7,sc(1);case 7:return window.wafer.state={viewerClusterArticleId1:s[0],viewerClusterArticleId2:s[1],viewerClusterArticleId3:s[2],viewerClusterArticleId4:s[3],viewerClusterArticleId5:s[4],viewerClusterArticleId6:s[5],viewerMainArticleCollapsed:c,viewerMainArticleId:a},e.next=10,sc(1);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onViewerOpened",value:(t=vi(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.wafer.base.lock(this.mainView),n=this.mainView.getBoundingClientRect(),r=n.top,this.mainView.setAttribute("aria-hidden","true"),Object.assign(this.mainView.style,{position:"fixed",top:r+"px",visibility:"hidden"}),null===(t=this.viewerParent)||void 0===t||t.setAttribute("aria-hidden","false"),document.documentElement.classList.add("modal-open","Panel-open","viewer-open"),e.next=8,sc(5);case 8:window.addEventListener("keydown",this.listener);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onViewerClosed",value:function(){var e;null===(e=this.viewerParent)||void 0===e||e.setAttribute("aria-hidden","true"),this.mainView.style.visibility="",this.viewer.classList.remove("wafer-template-success"),window.wafer.base.destroy(this.viewer);var t,n=Ii(this.viewer.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.viewer.removeChild(r)}}catch(e){n.e(e)}finally{n.f()}document.documentElement.classList.remove("modal-open","Panel-open","viewer-open"),this.mainView.removeAttribute("aria-hidden"),Object.assign(this.mainView.style,{position:"",top:""}),window.wafer.base.unlock(this.mainView),window.wafer.base.sync(this.mainView),window.removeEventListener("keydown",this.listener),window.wafer.state={showViewer:"wf-state-reset",viewerClusterArticleId1:"wf-state-reset",viewerClusterArticleId2:"wf-state-reset",viewerClusterArticleId3:"wf-state-reset",viewerClusterArticleId4:"wf-state-reset",viewerClusterArticleId5:"wf-state-reset",viewerClusterArticleId6:"wf-state-reset",viewerMainArticleCollapsed:"wf-state-reset",viewerMainArticleId:"wf-state-reset",viewerMainArticlePubBlob:"wf-state-reset"}}}]),e}(),Cu=function(){function e(){wi(this,e),this.trackedItemsInViewer={}}return gi(e,[{key:"init",value:function(e){var t=this;e&&(this.meta={assetid:window.location.pathname,section:"Yahoo!",type:"static"}),this.nSdkInstance=window.nSdkInstance,this.nSdkNseNo=window.nSdkNseNo,window.wafer.on("caas:article:inview",(function(e){e.meta&&e.meta.data&&e.meta.data.uuid&&!t.trackedItemsInViewer[e.meta.data.uuid]&&(t.nielsenSpaEvent("caas:article:inview"),t.trackedItemsInViewer[e.meta.data.uuid]=!0)}))}},{key:"onViewerOpened",value:function(){this.nSdkNseNo=window.nSdkNseNo,this.trackedItemsInViewer={}}},{key:"onViewerClosed",value:function(){this.trackedItemsInViewer={},this.nielsenSpaEvent("viewerClosed")}},{key:"nielsenSpaEvent",value:function(e){var t=window.location;this.nSdkInstance&&void 0!==this.nSdkNseNo&&this.meta&&(this.nSdkInstance.ggPM("staticend",this.meta),this.nSdkNseNo=++this.nSdkNseNo,this.meta.referrerURL=this.meta.pageURL||t.href,this.meta.pageURL="page_"+this.nSdkNseNo+"_"+t.href,this.meta.assetid=t.pathname,this.nSdkInstance.ggPM("staticstart",this.meta),"viewerClosed"===e&&(window.nSdkNseNo=this.nSdkNseNo))}}]),e}(),Eu=nt.findIndex,Iu="findIndex",Ru=!0,Ou=st(Iu);Iu in[]&&Array(1).findIndex((function(){Ru=!1})),Le({target:"Array",proto:!0,forced:Ru||!Ou},{findIndex:function(e){return Eu(this,e,arguments.length>1?arguments[1]:void 0)}}),Et(Iu);var Pu=!In((function(e){Array.from(e)}));Le({target:"Array",stat:!0,forced:Pu},{from:Xo});var Lu={article:"story",cavideo:"video",photoset:"story",preview:"story",slideshow:"story"},Tu=function(){function e(t){wi(this,e),this.articleUrl="",this.refererUrl="",this.config=t,this.homeUrl=window.location.href,this.spaceid="",this.keys={}}var t,n,r,i;return gi(e,[{key:"init",value:function(){var e,t;window.wafer.on("caas:article:init",this.updateRapidAttributes.bind(this)),window.wafer.on("caas:article:inview",this.beacon.bind(this)),this.keys=null===(e=window.rapidInstance)||void 0===e?void 0:e.getRapidAttribute("keys"),this.spaceid=null===(t=window.rapidInstance)||void 0===t?void 0:t.getRapidAttribute("spaceid")}},{key:"onViewerWillOpen",value:function(){this.homeUrl=location.href}},{key:"onClick",value:function(e){"slideshow"===e.type?this.onSlideshowClick(e):"link"===e.type&&this.onLinkClick(e)}},{key:"onViewerClosed",value:(i=vi(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.rapidInstance){e.next=2;break}return e.abrupt("return");case 2:t=this.spaceid,n={_R:this.articleUrl,_w:this.homeUrl,navtype:"client",pt:"home"},window.rapidInstance.beaconClick("hl-viewer","close",0,{elm:"btn",elmt:"cl",itc:0,rspns:"cl",tar:(r=this.homeUrl,new URL(r).hostname||"")},"",void 0,{dwell:"stop"}),window.YAHOO&&window.YAHOO.i13n&&(window.YAHOO.i13n.SPACEID=parseInt(t,10)),window.rapidInstance.clearRapidAttribute(["keys"]),window.rapidInstance.setRapidAttribute({keys:Object.assign({},this.keys,n),spaceid:t}),window.rapidInstance.beaconPageview(n);case 9:case"end":return e.stop()}var r}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onContentWillChange",value:(r=vi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refererUrl=t.refererUrl;case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getArticlePCpos",value:function(e){var t=cc(e.parentElement,{id:"content-articles-wrapper"}).querySelectorAll("div.wafer-caas,div.wafer-caas-complete");return Array.from(t).findIndex((function(t){return t===e}))+1}},{key:"beacon",value:(n=vi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beaconDwellStop();case 2:this.beaconModalContent(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateRapidAttributes",value:function(e){var t;if(window.rapidInstance){var n=e.elem,r=e.meta.data,i=r.contentType,o=r.homepageUrl,a=r.hostedType,s=r.publisher,c=r.spaceId,u=r.url,l=r.uuid;this.articleUrl=o||u;var f={_R:this.refererUrl||this.homeUrl,_w:this.articleUrl,navtype:"client",p_cpos:this.getArticlePCpos(e.elem),p_hosted:"hosted"===a?"onnet":"offnet",pcp:s,pct:Lu[i]||i,pd:"modal",prefcnt:this.config.clusterSize+1,pstaid:l,pt:"content",rspns:"nav",slk:e.meta.data.title};"mainArticle"!==n.id&&(f.expn="perpetual-post"),null===(t=window.rapidInstance)||void 0===t||t.setRapidAttribute({keys:f,spaceid:c}),window.YAHOO&&window.YAHOO.i13n&&(window.YAHOO.i13n.SPACEID=parseInt(c,10))}}},{key:"beaconModalContent",value:function(e){if(window.rapidInstance){var t=e.elem.id;this.updateRapidAttributes(e),window.rapidInstance.beaconPageview(),window.rapidInstance.isModuleTracked(t)?window.rapidInstance.refreshModule(t,!1,!0):window.rapidInstance.addModules(t,!1,{setViewability:!0})}}},{key:"beaconDwellStop",value:(t=vi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){window.rapidInstance&&window.rapidInstance.beaconClick("rapidDwell","",0,{},"",e,{dwell:"stop"})})));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"onSlideshowClick",value:function(e){if(window.rapidInstance){var t=e.payload,n=t.pos,r=t.ylk;window.rapidInstance.beaconClick("sshow",r.slk,n,r,r.outcm,void 0,{dwell:"stop"}),window.rapidInstance.beaconPageview()}}},{key:"onLinkClick",value:function(e){if(window.rapidInstance){var t=e.payload,n=t.pos,r=t.ylk;window.rapidInstance.beaconClick("hl-viewer",r.slk,n,r,r.outcm)}}}]),e}(),ju=window.performance&&"clearMarks"in window.performance,Nu=function(){function e(){wi(this,e)}return gi(e,[{key:"init",value:function(e){}},{key:"onClick",value:function(e){ju&&"article"===e.type&&performance.mark("article_link_clicked")}},{key:"onViewerClosed",value:function(){ju&&performance.clearMarks("article_link_clicked")}}]),e}(),Vu=function(){function e(){wi(this,e),this.home=new URL(location.href),this.isViewerClosed=!0}var t,n,r;return gi(e,[{key:"init",value:function(e){var t=this;e&&(this.site=e.context.site||"fp",e.retainSearchParams&&(this.retainSearchParams=e.retainSearchParams)),this.infoBeaconUri=fc(this.site);var n=document.querySelector('link[rel="canonical"]');n&&(this.canonicalEl=n,this.canonicalElStartVal=n.getAttribute("href")),window.addEventListener("popstate",this.onPopState.bind(this)),window.wafer.on("caas:article:init",(function(){t.dispatch(Ti,t.payload)})),window.wafer.on("caas:article:inview",(function(e){t.navigateFailureTimeout&&clearTimeout(t.navigateFailureTimeout);for(var n=e.meta.data,r=0,i=[t.payload].concat(xi(t.payload.cluster));r<i.length;r++){var o=i[r];if(o.uuid===n.uuid&&o.pathname)return void t.replaceState(t.payload,o.pathname)}var a=n.homepageUrl||n.url;t.replaceState(t.payload,a)})),window.wafer.on("caas:article:error",(function(e){var n=window.wafer.base._state.viewerMainArticleId,r=e.meta,i=r.url;r.uuid===n?t.onNavigateFailure(i):t.onClusterArticleFailure(i)})),window.wafer.on("caas:sidekick:error",(function(e){var n=new Image,r=lc({error:"sidekick_error",url:e.meta.url});n.src="/".concat(t.infoBeaconUri,"?").concat(r)}))}},{key:"onClusterArticleFailure",value:function(e){this.beaconFailure("cluster_article_failure",e)}},{key:"onNavigateFailure",value:function(e){var t=this;this.beaconFailure("navigate_failure",e),setTimeout((function(){t.isViewerClosed||(window.location.href=t.payload.pathname)}),500)}},{key:"beaconFailure",value:function(e,t){var n=new Image,r=lc({error:e,url:t});n.src="/".concat(this.infoBeaconUri,"?").concat(r)}},{key:"onClick",value:function(e){var t=this;switch(e.type){case"article":var n=e.payload;this.navigateFailureTimeout=window.setTimeout((function(){var e=location.origin+n.pathname;t.onNavigateFailure(e)}),2e3),this.isViewerClosed&&this.dispatch(ji),this.navigateToArticle(n),this.pushState(n,n.pathname),this.canonicalEl&&this.canonicalEl.setAttribute("href",location.href);break;case"back":this.onHeaderBackButtonClicked();break;case"close":case"overlay":this.navigateHome()}}},{key:"onViewerWillOpen",value:function(){this.home=new URL(location.href)}},{key:"navigateToArticle",value:(r=vi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.payload=t,e.next=3,this.dispatch(Pi,t);case 3:if(!this.isViewerClosed){e.next=7;break}return e.next=6,this.dispatch(Ni,t);case 6:this.isViewerClosed=!1;case 7:return e.next=9,this.dispatch(Li,t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onHeaderBackButtonClicked",value:function(){history.back()}},{key:"navigateHome",value:(n=vi(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isViewerClosed){e.next=2;break}return e.abrupt("return");case 2:return this.isViewerClosed=!0,this.pushState({},this.home.href),this.canonicalEl&&this.canonicalElStartVal&&this.canonicalEl.setAttribute("href",this.canonicalElStartVal),e.next=7,this.dispatch(Vi);case 7:setTimeout((function(){return t.dispatch(Ui)}),0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onPopState",value:(t=vi(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.history.state||{},window.location.href!==this.home.href){e.next=6;break}return e.next=4,this.navigateHome();case 4:e.next=7;break;case 6:t.isHpViewer&&this.navigateToArticle(t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getHrefWithQueryParams",value:function(e){var t=this,n=new URL(e,location.origin);return this.retainSearchParams&&this.retainSearchParams.length&&this.retainSearchParams.forEach((function(e){if(!n.searchParams.has(e)&&t.home.searchParams.has(e)){var r=String(t.home.searchParams.get(e));n.searchParams.append(e,r)}})),n.href}},{key:"pushState",value:function(e,t){history.pushState(e,"",this.getHrefWithQueryParams(t))}},{key:"replaceState",value:function(e,t){history.replaceState(e,"",this.getHrefWithQueryParams(t))}}]),e}(),Uu=function(){function e(){wi(this,e),this.scrollHistory={}}return gi(e,[{key:"onContentWillChange",value:function(){var e=location.pathname;this.scrollHistory[e]=window.pageYOffset}},{key:"onContentChange",value:function(e){this.restoreScrollPosition(e.pathname)}},{key:"onViewerClosed",value:function(){var e=location.pathname;this.restoreScrollPosition(e)}},{key:"restoreScrollPosition",value:function(e){var t=this.scrollHistory[e]||0;window.scrollTo(0,t)}}]),e}(),Mu=function(){function e(){wi(this,e),this.count="12",this.sidekickUrl=this.getSidekickUrl(),this.clusterUuids=[]}var t;return gi(e,[{key:"init",value:function(){var e=this.initSidekick.bind(this);window.wafer.on("caas:article:init",e)}},{key:"onContentChange",value:(t=vi(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.wafer.state={sidekick:"wf-state-reset"},n=t.cluster,r=void 0===n?[]:n,this.clusterUuids=[],i=Ii(r);try{for(i.s();!(o=i.n()).done;)(a=o.value).uuid&&this.clusterUuids.push(a.uuid)}catch(e){i.e(e)}finally{i.f()}case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onViewerClosed",value:function(){window.wafer.state={sidekick:"wf-state-reset"}}},{key:"isLongArticle",value:function(e){return"hosted"===e.hostedType&&"slideshow"!==e.contentType&&"video"!==e.contentType}},{key:"getSidekickUrl",value:function(){var e=pc()?location.origin:"https://www.yahoo.com",t=new URL(e);return t.pathname="/caas/sidekick/sidekick",t}},{key:"initSidekick",value:function(e){var t=this,n=e.meta.data,r=n.adMeta,i=n.spaceId,o=n.uuid,a=n.ycts,s=n.wikiids,c=dc(r,"site_attribute")||"",u=o;vi(regeneratorRuntime.mark((function e(){var n,r,l,f,h,d,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.wafer.caas.getData([o].concat(xi(t.clusterUuids)));case 2:n=e.sent,r=n.filter(t.isLongArticle),t.count=r.length>1?"12":"6",l="",f=Ii(n);try{for(f.s();!(h=f.n()).done;)d=h.value,(p=d.uuid)&&-1===u.indexOf(p)&&(u="".concat(u,",").concat(p)),(v=dc(d,"adMeta.site"))&&(l=l?"".concat(l,",").concat(v):v)}catch(e){f.e(e)}finally{f.f()}t.sidekickUrl.search=new URLSearchParams({count:t.count,property:l,siteAttribute:c,spaceId:i,uuid:u,wikis:s,ycts:a}).toString(),window.wafer.state={sidekick:t.sidekickUrl.toString()};case 10:case"end":return e.stop()}}),e)})))()}}]),e}(),_u=function(){function e(t){wi(this,e),this.config=t;var n=this.onScroll.bind(this);window.wafer.ready((function(){"function"==typeof requestAnimationFrame?window.wafer.on("scroll",(function(){return requestAnimationFrame(n)})):window.wafer.on("scroll",n)}),window),this.activeSticky=this.getStickyNode(t.pageStickyNode),this.stickyBottom=t.pageStickyBottom,this.config.pageStickyNode=t.pageStickyNode,this.viewerContainerNode=void 0}return gi(e,[{key:"onViewerOpened",value:function(){this.activeSticky=this.getStickyNode(this.config.viewerStickyNode),this.stickyBottom=this.config.viewerStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}},{key:"onContentDidChange",value:function(){this.activeSticky=this.getStickyNode(this.config.viewerStickyNode),this.stickyBottom=this.config.viewerStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}},{key:"onViewerClosed",value:function(){this.activeSticky=this.getStickyNode(this.config.pageStickyNode),this.stickyBottom=this.config.pageStickyBottom,this.viewerContainerNode=this.getStickyNode(this.config.viewerContainerNode)}},{key:"getStickyNode",value:function(e){return document.querySelector(e)}},{key:"onScroll",value:function(){if(window.pageYOffset>0?document.body.classList.add("has-scrolled"):document.body.classList.remove("has-scrolled"),this.activeSticky&&this.activeSticky.parentElement){var e=this.activeSticky.getBoundingClientRect(),t=e.bottom,n=e.height,r=this.viewerContainerNode?this.viewerContainerNode.getBoundingClientRect().bottom:0,i="fixed"===this.activeSticky.style.position&&!this.activeSticky.parentElement.classList.contains("sticky-flow");if(n<window.innerHeight)return;if(this.viewerContainerNode&&r<window.innerHeight){var o=window.innerHeight-r+this.stickyBottom;Object.assign(this.activeSticky.style,{bottom:o+"px",position:"fixed"}),this.activeSticky.parentElement.classList.remove("sticky-active"),this.activeSticky.parentElement.classList.add("sticky-flow")}else i?window.pageYOffset<n-window.innerHeight+this.config.rightRailTop&&(Object.assign(this.activeSticky.style,{bottom:"",position:""}),this.activeSticky.parentElement.classList.remove("sticky-active")):t<window.innerHeight&&(Object.assign(this.activeSticky.style,{bottom:this.stickyBottom+"px",position:"fixed"}),this.activeSticky.parentElement.classList.add("sticky-active"),this.activeSticky.parentElement.classList.remove("sticky-flow"))}}},{key:"rightRail",get:function(){return document.getElementsByClassName("viewer-aside")[0]}}]),e}(),Du=function(){function e(){wi(this,e),this.title=document.title}return gi(e,[{key:"init",value:function(){window.wafer.on("caas:article:inview",(function(e){document.title=e.meta.data.title}))}},{key:"onViewerClosed",value:function(){document.title=this.title}}]),e}(),Fu=function(){function e(){wi(this,e),this.playingVideos=[]}return gi(e,[{key:"onViewerOpened",value:function(){var e,t;this.playingVideos=[];var n,r=Ii((null===(e=window.context)||void 0===e||null===(t=e.getStore("VideoPlayerStore"))||void 0===t?void 0:t.getVideoPlayers())||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value.player;i.controls.isPlaying()&&(this.playingVideos.push(i),i.controls.pause())}}catch(e){r.e(e)}finally{r.f()}}},{key:"onViewerDidClose",value:function(){var e,t=Ii(this.playingVideos);try{for(t.s();!(e=t.n()).done;){e.value.controls.play()}}catch(e){t.e(e)}finally{t.f()}this.playingVideos=[]}}]),e}(),Bu=function(){function e(){wi(this,e)}return gi(e,[{key:"init",value:function(e){}},{key:"onClick",value:function(e){window.postMessage({action:"y:homepage:click",props:{type:e.type}},"*")}}]),e}(),Wu=function(){function e(){wi(this,e),this.comments={}}var t;return gi(e,[{key:"init",value:(t=vi(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!==(n=t.spotIm)&&void 0!==n&&n.enabled){e.next=2;break}return e.abrupt("return");case 2:r=t.spotIm,i=r.config,o=r.spotImJsUrl,this.spotImConfig=i,a=this.initCommentsOnView.bind(this),window.wafer.on("caas:article:inview",a),window.wafer.on("caas:article:init",a),(s=document.createElement("script")).async=!0,s.src=o,document.body.appendChild(s);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onViewerDidClose",value:function(){this.comments={}}},{key:"initComments",value:function(e,t){var n=document.getElementById(e);if(n){var r=t.url,i=t.uuid,o=this.spotImConfig,a=o.launcherUrl,s=o.spotId,c=o.pitcEnabled,u=ki(ki({},this.spotImConfig),{},{launcherSrc:a+s,url:r,uuid:i}),l="mainArticleIdComments"===n.id,f={detail:{config:ki(ki({},u),{},{pitcEnabled:!1}),elem:n,isMain:l}};if(dispatchEvent(new CustomEvent("initSpotImComments",f)),c&&l){var h=document.getElementById("viewer-spotIm-pitc-root");dispatchEvent(new CustomEvent("initSpotImPitc",{detail:{config:u,elem:h}}))}this.comments[i]={id:e}}}},{key:"initCommentsOnView",value:function(e){if(window.YAHOO){var t=e.meta.data,n=t.uuid;if(!t.commentsAllowed)return;if(this.comments[n])return;var r=e.elem.getAttribute("data-comments-id");this.initComments(r,t)}}}]),e}(),Hu=[new Tu({clusterSize:2}),new Hc,new qc,new Qc,new du({clusterSize:2,ntkClusterSize:5,targetClassName:"js-content-viewer",targetTagName:"A"}),new ku,new yu({device:"desktop",rmp:{config:{ui:{enableFeedback:!1}},ctrl:"CanvassMessage",m_id:"tdv2-applet-canvass.message",m_mode:"json",xhrPathPrefix:"/nel_ms/_td/remote"}}),new Su,new Au,new xu,new Mu,new Vu,new _u({pageStickyBottom:30,pageStickyNode:"#Aside .aside-sticky",rightRailTop:91,viewerContainerNode:"#content-articles-wrapper",viewerStickyBottom:60,viewerStickyNode:"#viewer-aside .aside-sticky"}),new Uu,new Du,new mc,new bu,new Cu,new Nu,new Fu,new Bu,new Wu,new wc];window.YAHOO.viewer=new _i(Hu)}();
//# sourceMappingURL=desktop_1.9.2.js.map
