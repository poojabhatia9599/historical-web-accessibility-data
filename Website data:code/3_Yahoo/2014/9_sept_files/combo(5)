var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

YUI.add("metro_viewtype",function(d){var c=null,b=false,a=true;d.namespace("Metro");d.Metro.createViewType=function(l,f){function k(p,o){return f.signal(p,o,[l]);}function j(o){return(o=="fp"||o=="toolbar")?d.one("body"):d.one("#"+l+"-"+o+"-bd");}function e(p){var o=j(p);return o?o.getStyle("direction"):c;}function i(q,p){var o=q.targetId,r=p?p.callback:c;this.setView(o,q.html);if(d.Lang.isFunction(r)){r(o,l);}}function n(o){return j(o)!=c;}function m(p,o,s,q){p=d.Array(p);var r=[];d.Array.each(p,function(t){r.push({type:"loadview",view:l,moduleId:t,chrome:o,data:q});});return f.getService("transport").makeRequest(r,s);}function h(p,r){var q=[],o=a;p=d.Array(p);if(p.length){d.Array.each(p,function(s){if(n(s)){var t=k(s,"viewrefresh");if(t){q.push(s);}}else{o=o&&b;}});if(o){this.loadView(q,false,{success:d.bind(i,this)},r);}}else{o=b;}return o;}function g(p,o){if(n(p)){k(p,"viewunload");j(p).set("innerHTML",o);this._afterSetView(p,o);k(p,"viewload");return a;}else{return b;}}return d.merge(d.ModulePlatform.BaseViewType,{_afterSetView:function(){},getViewDirection:e,getViewNode:j,isViewOpen:n,loadView:m,refreshView:h,setView:g});};},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("default_viewtype",function(c){var m=c.ModulePlatform,h=null,j=false,g=true,k=c.Lang,o=c.DOM,b=j,i={},l={},d={},e,n="default",a="MPViewTypes",f="DefaultViewTypeProvider";c.on("unload",function(){b=g;},window);c.namespace(a);c[a][f]={name:n,create:function(r){function u(B,C,E){var G=r.getModuleApi(B),A=G.getProperty("detailUrl"),F,K,z,D,I,H=j,J=r.queryModules(function(N){var M=r.getModuleApi(N),L=M&&M.getProperty("type");return L=="pacontainer";})[0];switch(C){case"badcrumb":E=r.getProperty("crumbErrorHtml");H=g;break;case"nocookies":E=r.getProperty("cookieErrorHtml");break;default:if(!E){E=c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:G.getProperty("title"),img:G.getProperty("icon"),title:G.getProperty("title"),url:G.getProperty("detailUrl")});}}F=E.indexOf('id="default-'+B+'"')>-1?E:c.Lang.substitute(r.getProperty("modChromeHtml"),{html:E,type_name:G.getProperty("type"),view_name:"error"});K=E.indexOf('id="default-'+J+'"')>-1?F:c.Lang.substitute(r.getString("pa","pacontainerHtml"),{html:F,title:G.getProperty("title")});z=o.create(K);if(!A){o.addClass(z,"no-link");}if(H){D=o.create('<p class="oops"><a href="'+window.location.href+'" class="cta-btn">'+r.getString("pa","STR.OK")+"</a></p>");}else{if(e!=B){D=o.create('<p class="oops"><button class="cta-btn pa-mod-err-retry">'+r.getString("pa","STR.TRY_AGAIN")+"</button></p>");}}if(D){I=c.Selector.query(".oops-msg",z,g);if(I){I.appendChild(D);}}e=B;return z;}function v(A,z){if(k.isFunction(A)){A(z,n);}}function p(A){var z=r.getService("pa");return !!(z&&z.isPAModule(A));}function x(A,z){return r.signal(A,z,[n]);}function t(B){if(p(B)){var z=r.getModuleApi(B),C=z.getProperty("type"),A=r.getString("pa","STR.PA.DISCLAIMER"),D;if(A&&!z.getProperty("trusted")&&C!="yap"){D=c.one("#default-"+B+"-ft");if(D){D.set("innerHTML",A);}}}}function q(D,A){var C=r.getService("pa"),E=C.getPacontainerId(),B=r.getService("metrics"),z;if(B){B.start("rv",{moduleId:D});}z=o.create(A);if(z&&!z.length){if(!r.isStarted(E)){r.start(E);}C.setChild(z,D);t(D);C.setModuleLoading(j);x(E,"viewload");i[D]=z;}else{r.error("loadview","Invalid HTML received",{moduleId:D});}if(B){B.stop("rv");}}function w(B,C,z){var A=r.getService("pa"),D=A.getPacontainerId();if(!r.isStarted(D)){r.start(D);}A.setChild(u(B,C,z),B,C);A.setModuleLoading(j);x(D,"viewload");}function y(E,B){var C=E.targetId,A=l[C],H=B?B.callback:h,G=r.getService("metrics"),D=r.getService("transport"),F=E.html,z;if(G){z=D.getMetrics(A);if(z){if("rt" in z){G.set("rt",z.rt);}if("pr" in z){G.set("pr",z.pr);}if("dt" in z){G.set("js",z.dt);}}D.clearMetrics();G.stop("ov");}q(C,F);delete l[C];delete d[C];v(H,C);}function s(C,B){if(!b){var A=C.targetId,D=B?B.callback:h,z;d[A]=1;delete l[A];if(C.result!="abort"){z=r.getService("metrics");if(z){z.clear("ov");}r.error("loadview","Server error while loading default view.",{moduleId:A,html:(C?C.html:""),viewName:n});w(A,C.resultDetail,C.html);v(D,A);}}}return c.merge(c.Metro.createViewType(n,r),{closeView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z=(A&&p(B))?C:B;if(this.isViewOpen(B)&&x(z,"viewclose")){x(z,"viewunload");if(z==C){delete i[B];A.clearChild(B);}v(D,B);return g;}else{if(k.isNumber(l[B])){r.getService("transport").abortRequest(l[B]);delete l[B];}}return j;},hideView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","none");return g;}return j;},openView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z;if(A&&p(B)&&!this.isViewOpen(B)&&x(C,"viewopen")){z=r.getService("metrics");if(z){z.start("ov",{moduleId:B});}l[B]=this.loadView(B,g,{success:y,failure:s,argument:{moduleId:B,callback:D}});return l[B]!=-1;}else{return j;}},showView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","");return g;}return j;},_afterSetView:function(A,z){t(A);}});}};if(m){m.registerViewType(c[a][f]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("edit_viewtype",function(c){var o=null,l=false,h=true,j=c.ModulePlatform,r=o,f=l,q,d=o,e={},g="viewload",n="edit",i="MPViewTypes",a="EditViewTypeProvider";function m(t,s){return r.signal(t,s,[n]);}function b(u,t){var s=u.targetId,v=t?t.callback:o;delete e[s];f=l;d=c.DOM.create(u.html);if(d&&!d.length){r.hideView(s,"default");r.getViewNode(s,"default").get("parentNode").insert(d,"after");m(s,g);if(c.Lang.isFunction(v)){v(s,n);}}else{r.error("loadview","Invalid HTML received",{moduleId:s});}}function p(t){var s=r.getModuleApi(t);return c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:s.getProperty("title"),img:s.getProperty("icon"),title:s.getProperty("title"),url:s.getProperty("detailUrl")});}function k(v,u){var t=v.targetId,w=u?u.callback:o,s=p(t);r.getViewNode(t,"default").set("innerHTML",s);r.error("loadview","Server error while loading edit view.",{moduleId:t,html:(v?v.html:""),viewName:n});delete e[t];if(c.Lang.isFunction(w)){w(t,n);}}q={closeView:function(s,u){if(this.isViewOpen(s)){var t=c.one("#edit-"+s).getDOMNode();t.parentNode.removeChild(t);r.showView(s,"default");if(c.Lang.isFunction(u)){u(s,n);}return h;}else{if(c.Lang.isValue(e[s])){r.getService("transport").abortRequest(e[s]);delete e[s];}else{return l;}}},getViewNode:function(s){return c.Node.one("#edit-"+s+"-bd");},isViewOpen:function(s){return this.getViewNode(s)!=o;},loadView:function(s,t){f=h;return r.getService("transport").makeRequest({type:"loadview",view:"edit",moduleId:s,chrome:true},t);},openView:function(s,t){if(!this.isViewOpen(s)&&!f){e[s]=this.loadView(s,{success:b,failure:k,argument:{moduleId:s,callback:t}});return e[s]!=-1;}else{return l;}},refreshView:function(s){return l;},setView:function(t,s){if(this.isViewOpen(t)){m(t,"viewunload");this.getViewNode(t).set("innerHTML",s);m(t,g);return h;}else{return l;}},showView:function(s){return l;}};c.namespace(i);c[i][a]={name:n,create:function(s){r=s;return q;}};if(j){j.registerViewType(c[i][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
if(typeof YAHOO=="undefined"){YAHOO={};}if(!YAHOO.ULT){YAHOO.ULT={};}if(!YAHOO.ULT.BEACON){YAHOO.ULT.BEACON="https://web.archive.org/web/20140831201523/http://geo.yahoo.com/t";}if(!YAHOO.ULT.IMG){YAHOO.ULT.IMG=new Image();}YAHOO.ULT.SRC_SPACEID_KEY="_S";YAHOO.ULT.DEST_SPACEID_KEY="_s";YAHOO.ULT.YLC_LIBSRC=2;YAHOO.ULT.CTRL_C="\x03";YAHOO.ULT.CTRL_D="\x04";YAHOO.ULT.BASE64_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-";(function(){YAHOO.ULT.track_click=function(c,g){if(!c||!g){return c;}g._r=YAHOO.ULT.YLC_LIBSRC;var h=[];var d=0;for(var b in g){var a=g[b];if(typeof(a)=="undefined"){a=g[b]="";}if(b.length<1){return c;}if(b.length>8){return c;}if(b.indexOf(" ")!=-1){return c;}if(YAHOO.ULT.has_ctrl_char(b)||YAHOO.ULT.has_ctrl_char(a)){return c;}h[d++]=b;}h=h.sort();var e=[];for(d=0;d<h.length;d++){e[d]=h[d]+YAHOO.ULT.CTRL_C+g[h[d]];}e=e.join(YAHOO.ULT.CTRL_D);if(e.length<1||e.length>1024){return c;}e=";_ylc="+YAHOO.ULT.encode64(e);d=c.indexOf("/*");if(d==-1){d=c.indexOf("/?");}if(d==-1){d=c.indexOf("?");}if(d==-1){return c+e;}else{return c.substr(0,d)+e+c.substr(d);}};YAHOO.ULT.beacon_click=function(c,b){if(!b){b=YAHOO.ULT.IMG;}if(c){var a=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,c);a+="?t="+Math.random();b.src=a;}return true;};YAHOO.ULT.has_ctrl_char=function(b){for(var a=0;a<b.length;a++){if(b.charCodeAt(a)<32){return true;}}return false;};YAHOO.ULT.encode64=function(c){var a="";var k,h,f="";var j,g,e,d="";var b=0;do{k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64;}else{if(isNaN(f)){d=64;}}a=a+YAHOO.ULT.BASE64_STR.charAt(j)+YAHOO.ULT.BASE64_STR.charAt(g)+YAHOO.ULT.BASE64_STR.charAt(e)+YAHOO.ULT.BASE64_STR.charAt(d);k=h=f="";j=g=e=d="";}while(b<c.length);return a;};})();/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("instrumentation",function(d){var J=null,W=false,I=true,b=d.ModulePlatform,a=J,X=J,Z=J,s=J,F=J,G=W,q=J,O=J,n=W,f=W,U=W,E=I,k=W,l=W,H=J,e={},r,S,t=J,h="getProperty",A="data-b",Q="aria-disabled",V="data-ylk",i="data-action",z="data-action-outcome",K="MPServices",T="InstrumentationProvider";function o(ac){var Y=new Image();Y.id=d.guid();e[Y.id]=Y;Y.onload=Y.onerror=function(){delete e[this.id];};if(ac){Y.src=ac;}return Y;}function y(ae){var ac=ae.hasAttribute(A)?ae:ae.ancestor(function(af){return af.hasAttribute(A);}),Y=ae.getAttribute(Q)=="true",ad=ac?ac.getAttribute(Q)=="true":W;if(ac&&!ae.hasClass("nobeacon")&&!Y&&!ad){return ac.getAttribute(A);}else{return J;}}function v(Y){var ac,ad=a[h]("ywa.rapid.enabled.modules")||{};if(O&&d.Lang.isFunction(t.refreshModule)){ac=d.one(Y);if(ac){if(ad[Y.get("id")]||U===I){t.refreshModule(ac.generateID());}}}}function u(Y){var ac;if(O){if(n&&d.Lang.isFunction(t.refreshModuleAsRichView)){ac=d.one(Y);if(ac){t.refreshModuleAsRichView(ac.generateID());}}else{v(Y);}}}function c(Y){if(O){t.addModules(Y);}}function aa(Y,ad){if(O&&d.Lang.isFunction(t.addModules)){var ae=d.one(Y),af,ac={};if(ae){af=ae.generateID();ac[af]=ad;t.addModules(ac);}}}function L(Y){if(O){if(n&&d.Lang.isFunction(t.addModulesAsRichView)){t.addModulesAsRichView(Y);}else{c(Y);}}}function D(Y){if(O&&d.Lang.isFunction(t.isModuleTracked)){var ac=d.one(Y);if(ac){return t.isModuleTracked(ac.generateID());}}}function C(Y){if(O&&d.Lang.isFunction(t.removeModule)){var ac=d.one(Y);if(ac){return t.removeModule(ac.generateID());}}}function x(ac){if(!ac||!ac.hasAttribute(V)){return J;}var ad={},ae=ac.getAttribute(V),Y;if(ae){Y=ae.split(";");d.Array.each(Y,function(af){var ag=af.split(":");if(ag[0]&&ag[1]){ad[ag[0]]=ag[1];}});if(ac.hasAttribute(i)){ad.action=ac.getAttribute(i);}if(ac.hasAttribute(z)){ad.outcm=ac.getAttribute(z);}}return ad;}function m(ad,Y){var ac=o(),ae;if(!E&&!f){return;}if(ad instanceof d.Node){ad=y(ad);}if(!ad){return;}if(d.Lang.isObject(ad)){ae=d.merge({_S:X,test:Z},ad);delete ae.action;delete ae.outcome;if(Y){YAHOO.ULT.BEACON=YAHOO.ULT.BEACON+";"+Y;}YAHOO.ULT.beacon_click(ae,ac);if(Y){YAHOO.ULT.BEACON=F;}}else{if(Y){ad+=";"+Y;}ac.src=(s||YAHOO.ULT.BEACON)+";"+ad+"?t="+(new Date()).getTime();}}function N(Y){if(!O){return;}if(!t){return;}var ac;if(Y instanceof d.Node){ac=x(Y);}else{if(d.Lang.isObject(Y)){ac=Y;}}if(!d.Lang.isObject(ac)||!ac.action){return;}if(ac.action==="click"){t.beaconClick(ac.sec,ac.slk||"",ac.pos||0,ac,ac.outcome||ac.outcm||J);}else{t.beaconEvent(ac.action,ac,ac.outcome||ac.outcm||J);}}function B(ac,Y){m(ac,Y);N(ac);}function R(){var ac=window.location,Y;if(!d.Lang.isUndefined(window._comscore)){Y=o();Y.src=(ac.protocol==="https:"?"https://web.archive.org/web/20140831201523/https://sb":"http://b")+".scorecardresearch.com/p?c1=2&c2=7241469&c4="+encodeURIComponent(ac.protocol+"//"+ac.host)+"&c5="+X+"&ns_c=UTF-8&ns__t="+(new Date().getTime());}else{if(YAHOO.i13n&&d.Lang.isFunction(YAHOO.i13n.sendComscoreEvent)){YAHOO.i13n.sendComscoreEvent({c7:ac.href});}}}function w(ad){if(G){return;}var ac=a.getProperty("ylp"),Y=o();if(!ac){return;}if(!ad){return;}Y.src=(s||YAHOO.ULT.BEACON)+";"+ac+"?t="+(new Date()).getTime()+"&"+ad;G=true;}function M(){var ag,af=d.Object.getValue(window,["performance","timing"]),ad=a[h]("tsrc"),ac=a[h]("err404"),Y=a[h]("errurl"),ae={pt:1,mrkt:a[h]("intl"),authfb:a[h]("fbauthstate"),f:a[h]("hps")};if(ac){ae.err=ac;}if(Y){ae.err_url=Y;}if(ad){ae.tsrc=ad;}if(af){ag=af.requestStart;ae.prfm1=af.responseStart-ag;ae.prfm2=af.responseEnd-ag;ae.prfm3=af.domContentLoadedEventEnd-ag;ae.prfm4=+(new Date())-ag;}return ae;}function j(ac){if(q){return;}var Y=y(ac);if(Y){q=Y;}else{}}function p(){q=J;}function P(){return(q!==J);}function ab(){if(q){B(q);q=J;}}function g(){var Y=a[h]("addthis.beacon");if(Y){o(Y);}}r={fireBeacon:B,fireUltBeacon:m,fireYwaBeacon:N,getBeaconImage:o};S={collectData:j,fireBeacon:B,fireUltBeacon:m,fireYwaBeacon:N,getBeaconImage:o,fireComscoreBeacon:R,firePageParameterBeacon:w,clearPendingBeacons:p,firePendingBeacons:ab,hasPendingBeacons:P,getBeaconKeys:x,addModules:c,addModule:aa,removeModule:C,isModuleTracked:D,addModulesAsRichView:L,refreshModule:v,refreshModuleAsRichView:u};d.namespace(K);d[K][T]={name:"instrumentation",getService:function(ag,af){if(!a){var ae,ac,ad,Y;a=ag;X=a[h]("ultSpaceId");Z=a[h]("ywa.rapid.bucket.id");s=a[h]("ultBeaconHost");O=!!a[h]("ywa.rapid.enabled");n=!!a[h]("ywa.rapid.richview.enabled");f=!!a[h]("ywa.rapid.ult.enabled");l=!!a[h]("rapid.init.beacon");k=!!a[h]("ywa.pageview.on.init");H=a[h]("custom.beacon.endpoint");if(YAHOO&&YAHOO.i13n&&H){YAHOO.i13n.beacon_server=H;}if(O){if(typeof YMedia!=="undefined"&&typeof YMedia.rapid!=="undefined"){t=YMedia.rapid;E=W;U=I;}else{YAHOO.i13n.YWA_CF_MAP={authfb:11,mrkt:12,pt:13,sec:18,slk:19,cpos:21,pkgt:22,ct:23,bpos:24,cat:25,dcl:26,rescode:27,sort:28,ilc:39,f:40,prfm1:41,prfm2:43,prfm3:44,prfm4:45,ft:51,v:52,sca:53,camp:54,code:55,elm:56,elmt:57,ad:58,tsrc:69,err:72,rspns:107,dir:108,grpt:109,mpos:110,itc:111,sp:115,tar:113,t1:121,t2:122,t3:123,t4:124,t5:125};YAHOO.i13n.YWA_ACTION_MAP={click:12,scrollup:15,hover:17,secview:18,hswipe:19,share:23,reauthfb:24,insert:28,flw:52,unflw:53,rpl:54,rt:55,fav:56,error:99,swp:103,drag:105,hvr:115,secvw:116};YAHOO.i13n.YWA_OUTCOME_MAP={share:23,navigate:25,top:26,hpset:27,open:29,fetch:30,end:31,rmct:32,login:33,close:34,filter:35,connect:36,itemdecl:37,setlayout:38,sort:39,entitydecl:40,undo:41,cueswipeview:42,cueauthview:43,cueloadview:44,cueinfoview:45,cueconnectview:46,msgview:47,authview:48,loadview:49,cuehpset:50,cuedcl:61,dclent:101,dclitm:102,svct:109,unsvct:110,rmsvct:117,slct:121,lgn:125,lgo:126,cnct:127,flagitm:129,unflagitm:130,flagcat:131,unflagcat:132,slctfltr:133,srch:134};E=!f;ae={client_only:!!a[h]("rapid.clientonly"),use_rapid:f,use_sampling:!!a[h]("ywa.rapid.sampling.enabled"),debug:!!a[h]("ywa.rapid.debug"),sampling_affects_ywa:!!a[h]("ywa.rapid.sampling.enabled"),sampling_range:a[h]("ywa.rapid.sampling.range"),spaceid:a[h]("ywa.rapid.space.id"),test_id:Z,pageview_on_init:k,track_right_click:!!a[h]("rapid.right.click"),apv:!!a[h]("rapid.add.pageview"),yql_host:a[h]("ywa.rapid.yql.host"),tracked_mods:a[h]("ywa.rapid.enabled.modules"),ywa:{project_id:a[h]("ywa.rapid.project.id"),host:a[h]("ywa.rapid.host")},keys:M(),nofollow_class:["rapidnofollow","video-inline"],webworker_file:a[h]("ywa.rapid.worker.path")};if(typeof YAHOO.i13n.Rapid!=="undefined"){if(l){Y=d.one("body");ac="//web.archive.org/web/20140831201523/https://geo.yahoo.com/p?s="+a[h]("ywa.rapid.space.id")+"&test=scooby_qa_d&btype=rapidb&t="+Math.random();ad=d.Node.create('<img class="D-n" src='+ac+"/>");Y.append(ad);}t=new YAHOO.i13n.Rapid(ae);}else{t=new YAHOO.i13n.Track(ae);t.init();}}}if(s){YAHOO.ULT.BEACON=s;}F=YAHOO.ULT.BEACON;g();}return(!af||a.getModuleApi(af)[h]("trusted")?S:r);}};if(b){b.registerService(d[K][T]);}});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("metrologger",function(b){var j=b.ModulePlatform,c,k,g="/perf.gif",h,i={},f,d="MPServices",a="MetroLoggerProvider";function e(o,n){var m=new Image(),l="",p=b.merge(o,{rid:c.getProperty("requestId"),bid:c.getProperty("ywa.rapid.bucket.id")||""});m.id=b.guid();i[m.id]=m;m.onload=m.onerror=function(){delete i[this.id];};b.Object.each(p,function(r,q){l+=encodeURIComponent(q)+"="+encodeURIComponent(r)+"&";});m.src=n+"?"+l;return l;}f={logError:function(m,l){e({moduleId:m,msg:l},k);},logPAPerf:function(l){e(l,g);},logAd:function(l){var m=e(l,h);}};b.namespace(d);b[d][a]={name:"metrologger",getService:function(m,l){if(!c){c=m;}if(!k){k=m.getProperty("jsErrorUrl");h=k;}return(!l||m.getModuleApi(l).getProperty("trusted")?f:null);}};if(j){j.registerService(b[d][a]);}});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("autohide_service",function(h){var f=h.ModulePlatform,b={},e=-1,a,c="MPServices",g="AutoHideProvider";a={register:function(i){b[++e]=i;if(!i.triggers){i.triggers=["click"];}return e;},unregister:function(i){delete b[i];}};function d(i){h.Object.each(b,function(n){if(h.Array.indexOf(n.triggers,i.type)>-1){var o=i.target,k=n.targets,l=true,m=0,j=k.length;if(!o.inDoc(document)){l=false;}else{for(;m<j&&l;m++){if(o.compareTo(k[m])||(k[m]&&k[m].contains(o))){l=false;}}}if(l){n.hide();}}});}h.on("click",d,document);h.on("keydown",d,document);h.on("unload",function(){h.detach("click",d,document);h.detach("keydown",d,document);},window);h.namespace(c);h[c][g]={name:"autohide",getService:function(){return a;}};if(f){f.registerService(h[c][g]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("sethomepage_service",function(a){var C=null,w=false,h=true,n=a.ModulePlatform,D,q,j=a.Cookie,p=a.UA,g="MPServices",s="SetHomepageProvider",b="m.",e="click",f="HP",i="ilc",c="keydown",o=27,k="mousedown",y="y-hpset-show",l,B;function t(E){j.set(i,E,{domain:q});}function r(){return j.get(i);}function v(F,E){j.set(f,E,{domain:".yahoo.com"});if(F){t(F);}}function m(){return j.get(f);}function u(E){E=!a.Lang.isUndefined(E)?E:r();var F=window.location.host;if(F.indexOf(b)===0){F=F.substring(2);}return"http://"+F+"/"+(E?"?ilc="+E:"");}function A(){if(l){return true;}return false;}function d(F){var E,H=w;if(l){E=u(F);try{l.setHomePage(E);}catch(G){}H=l.isHomePage(E);if(H){v(F,"1");}}return H;}function z(E){var F=w;if(j.get(f)==1){F=h;}else{if(p.ie){if(window.location.host.indexOf(b)===0){F=window.history.length==1;}else{F=window.history.length==((p.ie<10)?0:1);}}else{if((p.gecko||p.webkit)&&window.history.length==1){F=h;}else{if(p.opera&&window.history.length===0){F=h;}}}}return F;}function x(G,F){var E;G=a.one(G);F=F||{};G.on(e,this._handleClick,this);G.on(c,this._handleKeydown,this);G.on(k,this._handleMousedown,this);E=F.autohideTargets||[];E.push(G);this.autohide=D.getService("autohide");this.autohideId=this.autohide.register({targets:E,hide:a.bind(this.hide,this)});this.instrumentation=D.getService("instrumentation");this.overlay=G;this.options=F;}x.prototype={autohide:C,autohideId:C,instrumentation:C,options:C,overlay:C,_handleClick:function(F){var E=F.target;if(E.hasClass("hs-close")){this.hide();}else{if(E.hasClass("hs-drag-icon")){F.preventDefault();}}},_handleMousedown:function(E){if(E.target.hasClass("hs-drag-icon")){v(this.options.ilc,"1");this.instrumentation.fireBeacon(this.options.dragBeacon);}},_handleKeydown:function(E){if(E.keyCode==o){this.hide();}},getRootNode:function(){return this.overlay;},hide:function(){this.overlay.removeClass(y);},show:function(){var E=this.overlay,F=E.one("h3");E.addClass(y);F.setAttribute("tabIndex","-1").focus();},toggle:function(){if(this.overlay.hasClass(y)){this.hide();}else{this.show();}},destroy:function(){var E=this.overlay;this.hide();E.detach(e,this._handleClick);E.detach(c,this._handleKeydown);E.detach(k,this._handleMousedown);this.autohide.unregister(this.autohideId);this.overlay=C;}};B={createOverlay:function(F,E){return new x(F,E);},isHomepageSet:z,getHpCookie:m,setHpCookie:v,getIlcCookie:r,setIlcCookie:t,setIEHomepage:d,testIESetHomepage:A};a.namespace(g);a[g][s]={name:"sethomepage",getService:function(F,E){if(!D){D=F;q=D.getProperty("cookieDomain");}if(a.UA.ie&&!l){l=document.createElement("DIV");l.id="y-ieshp";l.style.behavior="url(#default#homepage)";document.body.appendChild(l);}return B;}};if(n){n.registerService(a[g][s]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("lazy_image",function(f){var c=f.ModulePlatform,g="lzbg",a="MPServices",e="LazyImageProvider",b;function d(i){var h;if(i.test("img")){h=i.getStyle("backgroundImage");if(/url\(['"](.*?)['"]\)/.test(h)){}else{/url\(["']?(.*?)["']?\)/.test(h);}h=RegExp.$1;if(h&&h.length>0){i.set("src",h);i.setStyle("backgroundImage","");}}i.removeClass(g);}f.later(0,this,function(){var h=f.DOM.viewportRegion(),i=h.bottom+250;f.all("."+g).each(function(j){if(j.getY()<=i){d(j);}});f.onceAfter("scroll",function(j){f.all("."+g).each(function(k){f.later(0,this,d,k);});});});b={LAZY_IMAGE_CLASS:g,loadImage:d};f.namespace(a);f[a][e]={name:"lazyimage",getService:function(i,h){return b;}};if(c){c.registerService(f[a][e]);}},"0.0.1",{requires:["dom","node"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("sticky_position_service",function(h){var f=h.ModulePlatform,b,e,c="MPServices",g="StickyPositionProvider",d=h.Lang,a=[];e=function(j){if(!d.isObject(j)||d.isArray(j)||d.isFunction(j)){throw new Error("sticky service requires an object");}h.Object.each(j,function i(m,l){var n=h.one(l),k;if(!n){return;}if(m.onSticky&&!d.isFunction(m.onSticky)||m.onLoose&&!d.isFunction(m.onLoose)){return;}k=h.Node.create('<div class="sticky-pholder"></div>');n.insert(k,"before");a.push({node:n,top:m.top||0,onSticky:m.onSticky,onLoose:m.onLoose,threshold:k.getY()+n.get("offsetHeight"),pHolderWidth:k.get("offsetWidth"),pHolder:k});});return this;};e.prototype={trigger:function(i,k,j,l){h.Array.each(a,function m(t){var o=t.threshold,p=t.node,s=t.top,q=t.nodeHeight||p.get("offsetHeight"),n=t.stickyToTop,r;if(j==="resize"){t.pHolderWidth=t.pHolder.get("offsetWidth");t.stickyToTop=i.height-t.top>q;n=t.stickyToTop;}if(n){r=o-k-s<=0;}else{r=o-(k+i.height)<=0;}if(r&&!t.disabled&&k!==0&&(h.Lang.isFunction(l)&&l())){if(j==="resize"||!p.hasClass("sticky")){p.addClass("sticky");p.setStyle("width",t.pHolderWidth);t.pHolder.setStyle("height",q);if(n){t.onSticky(p,"top");}else{t.onSticky(p,"bottom");}}}else{p.removeClass("sticky");t.pHolder.setStyle("height","");t.onLoose(p);}});},recalculateThresholds:function(i){var j=h.DOM.docHeight();h.Array.each(a,function k(m){var o=m.node,p=o.get("offsetHeight"),n=m.pHolder.getY(),l=i.height-m.top>p;if(l){m.threshold=n;}else{m.threshold=n+p;}m.stickyToTop=l;m.nodeHeight=p;m.disabled=(j===m.threshold);});}};h.namespace(c);h[c][g]={name:"sticky_position",getService:function(k,j){var i=h.one("html").hasClass("dev-desktop");if(!b){b=k;}if(h.UA.ie!==0&&h.UA.ie<7||i&&(h.UA.os==="android"||h.UA.os==="ios")){return false;}return e;}};if(f){f.registerService(h[c][g]);}},"0.0.1");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("userinfo_service",function(g){var d=null,c=g.ModulePlatform,a=d,f,b="MPServices",e="UserInfoProvider";f={getDisplayName:function(){return a.getProperty("user");},isLoggedIn:function(){return !!a.getProperty("user");},isRecognized:function(){return !!a.getProperty("userRecognized");},getLocation:function(){var i={},l=a.getProperty("userLocation"),j=["zip","city","state","country","woeid","lat","lon"],h=j.length,k;if(l){while((k=j[--h])){i[k]=l[k]||null;}}return i;}};g.namespace(b);g[b][e]={name:"userinfo",getService:function(i,h){if(!a){a=i;}return f;}};if(c){c.registerService(g[b][e]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("statemgr_service",function(b){var k=b.ModulePlatform,g="MPServices",m="StateMgrProvider",j="MSC",i="fpps",e="fpms",p="_page",l,h,c,d,r,o;function f(){var t=new Date();t.setFullYear(t.getFullYear()+1);return t;}function s(x,v,u){var w=h.getSub(x,v),t=null;if(w){t=c.parse(w)[u];}return t;}function a(z,w,t){var y=h.getSub(z,w),x,v,u;if(y){x=c.parse(y);delete x[t];v=c.stringify(x);u={expires:f(),domain:l,path:"/"};if(v=="{}"){h.removeSub(z,w,u);}else{h.setSub(z,w,v,u);}}}function q(y,u,t,w){var x=h.getSub(y,u),v=x?b.JSON.parse(x):{};v[t]=w;h.setSub(y,u,c.stringify(v),{expires:f(),domain:l,path:"/"});}function n(t){if(!d[t]){d[t]=r.getModuleApi(t).getProperty("trusted")?b.Object(o):{};b.mix(d[t],{getUserModuleState:function(u){return s(e,t,u);},removeUserModuleState:function(u){a(e,t,u);},setUserModuleState:function(u,v){q(e,t,u,v);},saveUserSetting:function(w,x,u){var v=k.getService("userinfo");if(v.isLoggedIn()){u.makeRequest({type:"module",moduleId:u.getId(),args:{_action:"save",_subAction:"userPrefSave",key:w,value:x,noups:1}},{});}else{this.setUserModuleState(w,x);this.update();}}});}return d[t];}o={isUpdated:function(){return !!h.get(j);},update:function(){h.setSub(j,"mod","1",{domain:l,path:"/"});},getUserPageState:function(t){return s(i,p,t);},removeUserPageState:function(t){a(i,p,t);},setUserPageState:function(t,u){q(i,p,t,u);}};b.namespace(g);b[g][m]={name:"statemgr",getService:function(u,t){r=u;h=b.Cookie;c=b.JSON;l=u.getProperty("cookieDomain")||b.config.win.location.hostname;if(!d){d={};}return !t?o:n(t);},destroy:function(){d=null;}};if(k){k.registerService(b[g][m]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("modal_service",function(b){var l=b.ModulePlatform,u,n,g="MPServices",m="ModalProvider",c=(function(){
/*! IS_POSITION_FIXED_SUPPORTED - https://gist.github.com/bobslaede/1221602/ */
var A=document.createElement("div"),z=A.cloneNode(false),w=false,v=document.body||(function(){w=true;return document.documentElement.appendChild(document.createElement("body"));}()),y,x;y=v.style.cssText;v.style.cssText="padding:0;margin:0";A.style.cssText="position:fixed;top:42px";v.appendChild(A);v.appendChild(z);x=A.offsetTop!==z.offsetTop;v.removeChild(A);v.removeChild(z);v.style.cssText=y;if(w){document.documentElement.removeChild(v);}return x;}()),k="modal",r="y-modal",f="y-modal-mask",i="px",s="100%",p="display",j="none",q="0",t=null,d=50,e=100,h=true,o=false;function a(x){var v=b.Node.create("<div></div>"),y=x.width||e,B=b.one(x.srcNode),w=b.one("body").get("dir")==="rtl",A={},z=-Math.floor(y/2);this.modalMask=a._getMask(x);this.modalBody=v;v.addClass(r+" "+x.className);A={width:y,display:j};if(w===true){A.marginRight=z;}else{A.marginLeft=z;}v.setStyles(A);v.append(B);this.modalMask.append(this.modalBody);if(!c){this.listener=b.on("scroll",this._resyncMask,this);}}a._getMask=function(x){var w=b.one("."+f)||t,y,v,z;if(w){return w;}else{v=b.one(document.body);z=b.Object.getValue(x,["zIndex"])||d;w=b.Node.create('<div><div class="y-modal-mask-bg"></div></div>');w.addClass(f);if(c){w.setStyles({position:"fixed",width:s,height:s,top:q,left:q,display:j,zIndex:z});}else{y=b.config.win;w.setStyles({position:"absolute",width:y.get("winWidth")+i,height:y.get("winHeight")+i,top:q,left:q,display:j,zIndex:z});}v.append(w);return w;}};a.prototype={visible:o,setContent:function(v){this.modalBody.setContent(v);},show:function(){this.modalMask.all("."+r).setStyle(p,j);this.modalBody.setStyle(p,"");this.modalMask.setStyle(p,"");this.visible=h;if(!c){this._resyncMask(b.config.win);}this.modalMask.on("click",this.handleClick,this);this.modalBody.on("click",this.handleClick,this);},hide:function(){this.modalMask.setStyle(p,j);this.modalMask.all("."+r).setStyle(p,j);this.visible=o;},handleClick:function(x){var w=x.target,v=false;if(w.hasClass("y-modal-mask-bg")||w.hasClass("modal-close")){v=true;}if(v){this.hide();}},isVisible:function(){return this.visible;},destroy:function(){var v=this.modalMask.all("."+r);this.modalBody.remove();this.modalBody=t;if(v&&v.size()<2){if(this.listener){this.listener.detach();}this.modalMask.remove(true);this.modalMask=t;}},_resyncMask:function(A){if(!this.isVisible()){return;}var B=A.currentTarget||A,v=B.get("docScrollX"),C=B.get("docScrollY"),y=B.get("innerWidth")||B.get("winWidth"),z=B.get("innerHeight")||B.get("winHeight"),x=a._getMask();x.setStyles({top:C+i,left:v+i,width:y+i,height:z+i});}};n={create:function(v){return new a(v);}};b.namespace(g);b[g][m]={name:k,getService:function(w,v){if(!u){u=w;}return n;}};if(l){l.registerService(b[g][m]);}},"0.0.1");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("tooltip_service",function(b){var m=b.ModulePlatform,n,d,e="MPServices",a="ToolTipProvider",i="hide",l="bottom",f="top",h=null,c="left",j="right",g="px";function k(p){var o;this.options=b.merge({position:{box:"b",arrow:"c"},msg:"<!-- empty -->",className:"y-tooltip-default",pointerClass:"y-glbl-universal",borderClass:"",parentNode:document.body,autohide:false,role:"alert",scrollIntoView:false},p);this.options.parentNode=b.one(this.options.parentNode);if(b.Lang.isArray(this.options.borderClass)){this.options.borderClass=this.options.borderClass.join(" ");}if(b.Lang.isArray(this.options.className)){this.options.className=this.options.className.join(" ");}if(b.Lang.isArray(this.options.pointerClass)){this.options.pointerClass=this.options.pointerClass.join(" ");}o="<div class='y-tooltip "+this.options.className+"'><div class='tooltip hide' role='"+this.options.role+"'><div class='content "+this.options.borderClass+"'></div><span class='"+this.options.pointerClass+" pointer'></span><div class='crnr-rt'></div><div class='crnr-rb'></div></div></div>";this.toolTipBody=b.Node.create(o);this.pointAtMe=h;this.toolTip=this.toolTipBody.one(".tooltip");this.content=this.toolTipBody.one(".content");this.pointer=this.toolTipBody.one(".pointer");this.autohideId=h;this.options.parentNode.insertBefore(this.toolTipBody,this.options.parentNode.get("firstChild"));if(this.options.autohide){this.autohideId=d.getService("autohide").register({targets:[this.toolTip],hide:b.bind(this.hide,this)});}}k.prototype={getNode:function(){return this.toolTipBody;},setContent:function(o){if(typeof(o)==="string"){this.content.set("innerHTML",o);}else{this.content.set("innerHTML","");this.content.appendChild(b.one(o));}return this.content;},positionToolTip:function(s,D){var u,A,z,w,t=D.msg,y=D.position.box,B=D.position.arrow,r=D.position.alignNode,q=this.toolTip,p=this.pointer,v,C,x=D.parentNode.getStyle("direction"),o=D.noMsgUpdate||false;if(x==="rtl"){if(y==="r"){y="l";}else{if(y==="l"){y="r";}}if(B==="l"){B="r";}else{if(B==="r"){B="l";}}}w=this.pointAtMe=b.one(s);if(r){r=b.one(r);}if(!o&&t){this.setContent(t);}u=b.DOM.region(b.Node.getDOMNode(w));A=u.left+(u.width/2);z=u.top+(u.height/2);v=this.toolTip.get("parentNode").get("region");C=this.toolTip.get("region");if(u){switch(y){case"b":q.replaceClass(f,l);break;case"t":q.replaceClass(l,f);break;case"l":q.replaceClass(j,c);break;case"r":q.replaceClass(c,j);break;}switch(B){case"l":p.replaceClass("rightpointer","leftpointer");p.setStyle(c,"");q.setStyle(c,(u.left-v.left)-(this.pointer.getX()-C.left+(this.pointer.get("offsetWidth")/2))+(u.width/2)+g);break;case"c":if(y=="b"||y=="t"){p.setStyle(c,(C.width/2)-(this.pointer.get("offsetHeight")/2)+g);q.setStyle(c,(u.left-(C.width/2)+(u.width/2))-v.left+g);}else{p.setStyle(f,((C.height/2)-(this.pointer.get("offsetHeight")/2))+g);}break;case"r":p.replaceClass("leftpointer","rightpointer");p.setStyle(c,"");q.setStyle(c,((u.right-C.width)-v.left)+g);break;case"t":p.replaceClass("pointerbottom","pointertop");break;case"b":p.replaceClass("pointertop","pointerbottom");break;}switch(y){case"b":q.setStyle(f,(u.top-v.top+u.height+this.pointer.get("offsetHeight"))+g);break;case"t":q.setStyle(f,(u.top-v.top-C.height-this.pointer.get("offsetHeight"))+g);break;case"l":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,(u.left-v.left-C.width-this.pointer.get("offsetWidth"))+g);break;case"r":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,u.right-v.left+this.pointer.get("offsetWidth")+g);break;}}},show:function(q,o){var p=b.merge(this.options,o);this.toolTip.removeClass(i);if(q){this.positionToolTip(q,p);}this.toolTip.setAttribute("role",p.role);if(p.scrollIntoView){this.content.scrollIntoView();}return this.content;},hide:function(){this.toolTip.addClass(i);},isVisible:function(){return !this.toolTip.hasClass(i);},destroy:function(){if(this.autohideId!==h){d.getService("autohide").unregister(this.autohideId);this.autohideId=h;}this.toolTipBody.get("parentNode").removeChild(this.toolTipBody);this.toolTipBody=this.pointAtMe=this.toolTip=this.content=this.pointer=h;}};n={create:function(o){return new k(o);}};b.namespace(e);b[e][a]={name:"tooltip",getService:function(p,o){if(!d){d=p;}return n;}};if(m){m.registerService(b[e][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("aria_service",function(d){var i=d.ModulePlatform,g="MPServices",a="AriaProvider",c,f,h="aria-",e={hidden:["hide","show","isHidden"],disabled:["disable","enable","isDisabled"],selected:["select","unselect","isSelected"]},b=(d.UA.ie>=8||d.UA.gecko>=1.9||d.UA.webkit>=530);f={isSupported:function(){return b;},setRole:function(j,k){return j.setAttribute("role",k);},alert:function(m,j){var n=document,l,k;j=d.Node.getDOMNode(j)||n.body;if(b&&m){k=j.firstChild;while(k){if(d.DOM.hasClass(k,"aria-alert")){l=k;break;}k=k.nextSibling;}if(!l){l=n.createElement("div");l.role="alert";l.setAttribute(h+"live","assertive");l.className="hide-offscreen aria-alert";j.appendChild(l);}l.innerHTML="<p>"+m+"</p>";}this.update();},update:function(){if(!c){c=document.createElement("input");c.type="hidden";c.value=1;document.body.appendChild(c);}c.value=(c.value==1?0:1);},clearState:function(j,k){return j.removeAttribute(h+k);},hasState:function(k,l){var j=h+l;return k.hasAttribute?k.hasAttribute(j):k.getAttribute(j)!==null;},setState:function(j,k){j.setAttribute(h+k,true);},focusable:function(k,j){k.tabIndex=j?0:-1;}};d.Object.each(e,function(j,k){f[j[0]]=function(l){return f.setState(l,k);};f[j[1]]=function(l){return f.clearState(l,k);};f[j[2]]=function(l){return f.hasState(l,k);};});d.namespace(g);d[g][a]={name:"aria",getService:function(k,j){return f;}};if(i){i.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("iframeshim_service",function(c){var k=c.ModulePlatform,j=c.Node,p=c.Lang.isNumber,e,f="MPServices",a="IFrameShimProvider",o='<iframe class="y-iframe-shim" tabindex="-1" role="presentation" title="For presentation purposes. Please ignore." src="javascript:false"></iframe>',m="auto",g="display",i="parentNode",h="px",n="zIndex",l,b;function d(){var q=j.create(o);q.setStyle("frameBorder","0");q.setStyle("opacity",0);return q;}l=function(q){this.target=null;this.iframe=d();this.retarget(q);};l.prototype={show:function(){this._positionIFrame();this.iframe.setStyle(g,"block");},hide:function(){this.iframe.setStyle(g,"none");},retarget:function(q){this.hide();this.target=c.one(q);this._attachIFrame();},destroy:function(){this.iframe.get(i).removeChild(this.iframe);this.iframe=this.target=null;},_attachIFrame:function(){var r=this.iframe,q=r.get(i),s=this.target;if(s){s.get(i).insertBefore(r,s);}else{if(q){q.removeChild(r);}}},_positionIFrame:function(){if(!this.target){return;}var r=this.iframe,t=this.target,q=parseInt(t.getStyle("top"),10),v=parseInt(t.getStyle("left"),10),u=t.get(n),s=t.get("region");r.setStyles({top:p(q)?q+h:m,left:p(v)?v+h:m,width:s.width+h,height:s.height+h});if(p(u)){r.setStyle(n,u-1);}}};b={create:function(q){return new l(q);},isShimNeeded:function(){return c.UA.ie>5&&c.UA.ie<7;}};c.namespace(f);c[f][a]={name:"iframeshim",getService:function(r,q){if(!e){e=r;}return b;}};if(k){k.registerService(c[f][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("menu_service",function(b){var v=false,j=true,z=null,l=b.ModulePlatform,r="data-pos",e="selected",k="px",s="LI",i="visibility",t=38,d=40,n=27,g=13,c,u,a,q=v,m=[],o=b.Lang.isNumber,y=b.DOM,w,h="MPServices",p="MenuProvider";function x(){b.Array.each(m,function(A){A.hide();});}function f(B,A){this.node=b.one(B);this.options=A||{};this._items=[];this._selectedIndex=-1;this._visible=v;this._id=-1;this._shim=z;this._autohideId=-1;this._autohideTimer=z;this._compactFilter=this.options.compactFilter||false;this._init();}f.prototype={_init:function(){if(!c){c=l.getService("aria");q=c.isSupported();}var E=this.node,C=b.Node.getDOMNode(E),B=C.firstChild,F=0,A,D;while(B){if(B.nodeType==3){A=B.nextSibling;C.removeChild(B);B=A;}else{D=b.one(B.getElementsByTagName("a")[0]);if(D){this._items.push({element:B,linkElement:D,url:D.get("href")});if(q){c.setRole(B,"presentation");c.setRole(D,"menuitem");c.focusable(D,v);D.removeAttribute("href");}}else{this._items.push({});}if(!B.id){B.id=b.guid();}B.setAttribute(r,F);B=B.nextSibling;F++;}}if(u.isShimNeeded()){this._shim=u.create(E);}if(q){c.setRole(E,"menu");c.hide(E);}E.on("keydown",this._handleKeyDown,this);E.on("click",this._handleMouseEvents,this);E.on("mouseover",this._handleMouseEvents,this);this._id=m.length;m.push(this);},hide:function(B){if(this._visible){var E=this._shim,C=this.node,D=this.options.focusNode,A=null;C.setStyle(i,"hidden");c.hide(C);this._visible=v;if(E){E.hide();}this._clearAutohide();if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: none !important";}else{b.one(".troll-pointer").setStyle("display","none");}b.one(".more-tab").removeClass("more-tab-pressed");}this.fire({type:"hide",target:this});if(B&&D){b.one(D).focus();}}},isVisible:function(){return this._visible;},show:function(B,G,E){if(!this._visible){x();var F=B.left,D=B.right,C=this.node,H=this._shim,A=null;E=E||k;if(o(F)){C.setStyle("left",F+E);}else{if(o(D)){C.setStyle("right",D+E);}}C.setStyle("top",B.top+E).setStyle(i,"visible");if(G){this.options.focusNode=G;}if(q){c.show(C);}this.select(0);if(H){H.show();}this._visible=j;if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: block !important";}else{b.one(".troll-pointer").setStyle("display","block");}b.one(".more-tab").addClass("more-tab-pressed");}this.fire({type:"show",target:this});this._clearAutohide();this._autohideTimer=b.later(50,this,function(){this._autohideTimer=z;this._autohideId=a.register({targets:[this.node],hide:b.bind(function(){this.hide();},this)});});}},_clearAutohide:function(){var A=this._autohideTimer;a.unregister(this._autohideId);if(A){A.cancel();this._autohideTimer=z;}},_handleMouseEvents:function(C){var D=C.target,B=(D.get("tagName")==s)?D:D.ancestor(s),A=-1;if(B&&B.hasAttribute(r)){C.preventDefault();A=Number(B.getAttribute(r));switch(C.type){case"click":this.execute(A);break;case"mouseover":this.select(A);break;default:}}},_handleKeyDown:function(C){var D=C.target,B=(D.get("tagName")==s)?D:null,A=v;switch(C.keyCode){case d:this.selectNext(j);A=j;break;case t:this.selectPrevious(j);A=j;break;case n:this.hide(j);break;case g:if(B){this.execute(Number(B.getAttribute(r)));}break;default:}if(A){C.preventDefault();}},destroy:function(){var A=this.node,B=this._shim;if(q){A.detach("keydown",this._handleKeyDown);}A.detach("click",this._handleMouseEvents);A.detach("mouseover",this._handleMouseEvents);this._clearAutohide();if(B){B.destroy();}b.Object.each(this,function(C,E,D){delete D[E];});m[this._id]=null;},getSelectedIndex:function(){return this._selectedIndex;},getItemNode:function(A){return this.getItemNodes().item(A);},getItemNodes:function(){return this.node.all("li");},getItemUrl:function(A){return this._items[A].url;},execute:function(A){var C=null,B=null;if(A>=0&&A<this._items.length){this.hide(j);if(this._compactFilter){C=b.one(".more-search");C=C.get("children").item(A);B=b.one(".more-menu-selected");if(B!==null){B.removeClass("more-menu-selected");}C.addClass("more-menu-selected");}this.fire({type:"execute",target:this,relatedTarget:this.getItemNode(A),index:A,url:this._items[A].url});}},selectNext:function(A){if(this._selectedIndex<this._items.length-1){this.select(this._selectedIndex+1);}else{if(A){this.select(0);}}},selectPrevious:function(A){if(this._selectedIndex>0){this.select(this._selectedIndex-1);}else{if(A){this.select(this._items.length-1);}}},select:function(B){if(B!=this._selectedIndex){var D=this._selectedIndex,C=this._items[D],A=this._items[B];if(C){y.removeClass(C.element,e);}if(A&&A.hasOwnProperty("element")){y.addClass(A.element,e);if(q){if(C){c.focusable(C.linkElement,v);}c.focusable(A.linkElement,j);}A.linkElement.focus();this._selectedIndex=B;this.fire({type:"select",target:this,toIndex:B,fromIndex:D});}}}};b.augment(f,b.Event.Target);w={create:function(B,A){return new f(B,A);}};b.namespace(h);b[h][p]={name:"menu",getService:function(B,A){if(!c){c=l.getService("aria");u=l.getService("iframeshim");a=l.getService("autohide");}return w;}};if(l){l.registerService(b[h][p]);}});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("arcade_transport",function(f){var M=null,ag=false,H=true,S,d=f.ModulePlatform,c=M,ah,i=encodeURIComponent,n=f.Lang,l=f.Object,w=f.Array,N,G,D,e,ab=ag,P={},ad={},ai=[],x,g=ag,u,o,X=0,aj=1,s=2,v=3,C=2048,af=131072,p="_status",Z="_txnid",U="POST",B="GET",h="getProperty",R="MPServices",ac="TransportProvider";function K(L,A){c.error("transport",L,A);}function W(O){var L=M,A;switch(O.type){case"moduleload":L={_action:"show",_create:1,_suid:O.contentId};break;case"setpref":L={_action:"save",_subAction:S,_type:"pref",modid:O.moduleId,_create:1};break;case"loadview":if(O.view=="pa"){A=c.queryModules(function(ak){var Y=c.getModuleApi(ak);return Y&&Y.getProperty("type")=="pa";})[0];L={_action:"show",_subAction:"single",modId:O.moduleId,_container:0,_id:A};}else{L={_action:"show",_subAction:O.view=="default"?S:O.view,_id:O.moduleId,_container:O.chrome?1:0};}break;case"arcade":case"module":L=O.args;L._container=O.chrome?1:0;L._id=O.moduleId;break;default:K("Request doesn't have a type.");break;}O=L?f.merge(L,O):f.mix({},O);delete O.type;delete O.moduleId;delete O.args;return O;}function J(L){var A=L.match(/^((?:\w+:\/\/)?[^#?]+)/);return(A&&n.isArray(A))?A[1]:"";}function aa(L){if(!L){return"";}var A=[];l.each(L,function(Y,O){if(n.isValue(Y)){if(!n.isString(Y)){Y=f.JSON.stringify(Y);}A.push(O+"="+i(Y));}});return A.join("&");}function E(O,am,al){if(!al){K("Proxy request: No module id given, unable to look up proxy signature.");}var ak=J(O.url),Y=c.getModuleState(al).proxy[ak],L,A;if(!Y){K("Proxy request: '"+O.url+"' has not been registered for proxying.");}L=G+"?url="+i(O.url)+"&.sig="+Y+"&.crumb="+N;A={method:O.method,data:O.bodyData,on:am,headers:O.headers};return f.io(L,A);}function b(al,aq,L){if(al.type=="xhr"){return E(al,aq,L).id;}D=D?D:"/jsal";var A=D,an={method:B,on:x},ak={_crumb:N,_mode:"json"},am=c[h]("passthru"),ap,ao,Y,O;if(n.isArray(al)){an.method=U;}else{al=[al];}if(e){ak.pgmode=e;ak.reqSource=e;}ak[Z]=new Date().getTime();w.each(al,function(at,ar){al[ar]=W(at);al[ar][Z]=ak[Z];});if(an.method==B){ap=f.merge(al[0],ak);ao=aa(ap);if(ao.length>2000){an.method=U;}else{A=D+"?"+ao;}}if(am){A+=(A.indexOf("?")>-1?"&":"?")+am;}if(an.method==U){an.data=aa(ak)+"&_json="+i(f.JSON.stringify(al));}Y=f.io(A,an);O=Y.id;P[O]={args:arguments,moduleId:L,conn:Y};if(aq){P[O].callback=aq;}return O;}function m(){if(n.isArray(o)){while(o.length>0){var A=o.shift();b.apply(this,A);}u.detach();u=o=M;}g=ag;}function j(A){g=H;if(A){o=[];u=f.on("unload",f.bind(m,this,H),window);}}function z(ak,Y,O){var L=Y.responseText,A;if(L){A=L.indexOf("<!--");if(A>0){L=L.substring(0,A);}}N=L;m();ab=ag;}function T(O,L,A){K("Unable to update crumb.");}function F(){if(ab){return ag;}ab=H;j(H);var A={success:z,failure:T,scope:this};f.io("/?_mode=html&_action=show&_type=pref&_create=1&_subAction=_cFetch",{method:B,on:A});}function r(O,Y,L){if(g){if(n.isArray(o)){var A=f.Array(arguments);o.push(A);return M;}return ag;}return b(O,Y,L);}function a(L){var A=(P[L]&&P[L].conn&&P[L].conn.isInProgress());return A;}function V(A){if(a(A)){P[A].conn.abort();}else{return false;}}function t(A){if(A&&P[A]&&P[A].args){r.apply(M,P[A].args);delete P[A];delete ad[A];return H;}return ag;}function k(ak,O,A){if(n.isUndefined(O)){O=H;}if(n.isFunction(ak)){ak(ak.argument,A);}else{var L=ak.scope||ak,Y=O?ak.success:ak.failure;if(Y){Y.call(L,A,ak.argument);}}}function y(Y,A,L){var O=P[Y].callback;if(O){k(O,L,A);}if(!n.isUndefined(ad[Y])){if(ad[Y]>1){ad[Y]-=1;}else{delete ad[Y];}}if(n.isUndefined(ad[Y])){delete P[Y];}}function Q(al,A){var L=A._errorCode,Y=A._error,ak=P[al].callback,O={message:Y,moduleId:P[al].moduleId};if(A[p]==aj){if(L==af){if(!ab){F();}t(al);}else{K(Y,O);if(O.moduleId){return;}}}if(ak){k(ak,ag,O);}}function ae(){var A=ai.shift(),O,L;if(A){O=A[Z];if(A[p]!=X){Q(O,A);}else{L=c.getService("resourcemgr");if(A.props&&A.props.id){c.registerModule(A);}if(A.res){L.load(A.res,f.bind(y,M,O,A));}else{y(O,A);}}if(ai.length){n.later(1,this,ae);}}}function I(O,L,A){setTimeout(function(){y(O,L,ag);},0);}function q(ak,Y,A){var O;try{O=f.JSON.parse(Y.responseText);}catch(L){}finally{if(!n.isArray(O)){I(ak,Y,A);return;}}w.each(O,function(am){if(am[p]!=X){Q(ak,am);return;}var al;if(am.response){al=am.response;}else{al=[am];}if(!ad[ak]){ad[ak]=0;}ad[ak]+=al.length;w.each(al,function(an,ao){an._partId=ao;an[Z]=ak;if(!an.data){an.data={};}an.data=f.merge(am.data,an.data);});ai=ai.concat(al);});if(ai.length){n.later(1,this,ae);}}ah={E_OK:X,E_FATAL:aj,E_GLOBAL:s,E_MODULE:v,EC_CRUMB_ERR:C,EC_CRUMB_STALE:af,disable:j,enable:m,isEnabled:function(){return !g;},makeRequest:r,abortRequest:V,isRequestPending:a,_reset:function(){ab=ag;P={};ad={};ai=[];o=M;m();}};x={success:q,failure:I,scope:this};f.namespace(R);f[R][ac]={name:"arcade_transport",getService:function(L,A){if(!c){c=L;N=c[h]("crumb");if(n.isUndefined(N)){N=c[h]("dali").crumb;}G=c[h]("proxyUrl");D=c[h]("requestUrlLite");e=c[h]("pgmode");}return A?M:ah;}};if(d){d.registerService(f[R][ac]);}},"1.0",{requires:["event","io"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-beacon",function(b,m){var e=300,l=999,i="[object String]",h="[object Error]",g="[object Object]",a=["ActionScript","Decompress fail"],f=["^resource://"],j,d=true;function c(o,n){return Math.floor(Math.random()*(n-o+1))+o;}b.namespace("Af").Beacon={enable_beaconerr:true,enable_beaconrterr:false,meta:{},pathPrefix:"/_td_api/beacon",setSampleSize:function(n){n=parseInt(n,10);n=n?Math.floor(Math.max(n,1)):1;d=(n===1)||(c(1,n)===1);return d;},send:function(q,p,r){if(!q){if(r){r("invalid beacon path");}return;}var n=new Image();n.onerror=function(t){var s=t instanceof Error?t.toString():t;if(r){r(s);}};n.onload=function(s){if(r){r();}};try{if(p&&b.Object.size(p)){q+="?"+b.QueryString.stringify(p);}n.src=q;return;}catch(o){if(r){r("querystring stringify failed");}}},error:function(r,q,n){if(!d||this._shouldIgnoreError(n)){return;}var p={code:l,message:""},o=Object.prototype.toString.call(n);if(n){switch(o){case i:p.message=n;break;case h:p={code:n.code||l,message:n.message,line:n.lineNumber||"",file:n.fileName||""};break;case g:p=n;break;default:try{p={code:l,message:b.JSON.stringify(n)};}catch(s){}}p.message=(p.message&&p.message.substring(0,e))||"";}this._send("error",r,b.merge(this.meta,q,p));},info:function(o,n){if(d&&n&&n.code){this._send("info",o,b.merge(this.meta,n));}},perf:function(o,n){if(d&&n&&n.code&&b.Object.owns(n,"time")){this._send("perf",o,b.merge(this.meta,n));}},ignoreError:function(n){if(n){a.push(n);}},ignoreURL:function(n){if(n){f.push(n);}},_shouldIgnoreError:function(o){if(!o){return false;}var p,n,q;if(typeof o==="string"){q=o;}else{q=o.message;}if(!q){return false;}for(p=0,n=a.length;p<n;p++){if(q.match(a[p])){return true;}}return false;},_shouldIgnoreURL:function(o){if(!o){return false;}var p,n;for(p=0,n=f.length;p<n;p++){if(o.match(f[p])){return true;}}return false;},_send:function(o,r,q){var n,p=this.pathPrefix;if(!p||!o||!q){return;}if(r){q.src=r;}this.send(p+"/"+o,q);}};j=window.onerror;window.onerror=function k(p,o,n){var r=b.Af.Beacon;try{if(r.enable_beaconrterr&&!r._shouldIgnoreURL(o)){r.error("rt",{url:o.substring(0,e),line:n},p);}}catch(q){}return typeof j==="function"?j(p,o,n):false;};},"0.0.1",{requires:["json-stringify","querystring-stringify-simple"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-comet",function(f,E){var M={},T={},I=[],u=0,D="https://web.archive.org/web/20140831201523/http://comet.yahoo.com/comet",l={publicCometHost:D,privateCometHost:D,shutdown:false,subscribeMaxTries:1,subscribeTimeout:5000,trackInitComet:false,trackShutdown:false,trackLatency:true,latencySampleSize:50},i,Q,n=[],R=false,s=f.Af.Beacon,K=f.Af.Utils,q=f.Object,r=f.Lang.isFunction,P={once:true},v=/^\d+$/,d=/^(\d+)\-(\d+)\-(\d+) (\d+):(\d+):(\d+)$/,y=/^408:\d+:jsonp timeout$/,j=/^500::jsonp failed$/,z="/meta/subscribe",k="/meta/unsubscribe",t="/meta/unsuccessful",c="/meta/handshake",B=null,e="opening",N="open",H="closed",J="private",F="public",a="connected",O="open",p="close",S="message",W="error";(function o(){function X(ad){var ac=window.location.protocol;if(ad){if(ac.indexOf("https")===0){ad=ad.replace(/http:/,"https:");}else{ad=ad.replace(/https:/,"http:");}}return ad;}var aa=f.Af.Config,Y=aa.get("context")||{},Z=Y.onepush_publicCometHost,ab=Y.onepush_privateCometHost;i=f.merge(l,aa.get("onepush"),aa.get("comet"));if(Z){i.publicCometHost=Z;}if(ab){i.privateCometHost=ab;}i.publicCometHost=X(i.publicCometHost);i.privateCometHost=X(i.privateCometHost);}());function A(Y){if(!Y){return B;}var X,Z;if(v.test(Y)){X=parseInt(Y,10);Z="D"+X;if(Z.length<14){X=X*1000;}return X;}X=Y.match(d);if(!X){return B;}X=Array.prototype.slice.call(X);X.shift();X[1]=parseInt(X[1],10)-1;return new Date(X[0],X[1],X[2],X[3],X[4],X[5]).getTime();}function m(Y){var Z,X=Y.length,aa=0;for(Z=0;Z<X;Z++){aa+=Y[Z];}return Math.round(aa/X);}function G(X){var Y=Math.floor(X.length/2);if(X.length%2){return X[Y];}return Math.round((X[Y-1]+X[Y])/2);}function C(Z){var X,Y=i?i.trackLatency:l.trackLatency;if(!Y||R||!s){return;}Z=parseInt(Z,10);if(typeof Z!=="number"){return;}n.push(Z);X=parseInt(i&&i.latencySampleSize,10)||l.latencySampleSize;if(n.length>=X){R=true;n.sort(function(ab,aa){return ab-aa;});s.info(E,{code:"onepushLatency",clientId:M[F]&&M[F].getClientId(),sampleSize:n.length,min:n[0],max:n[n.length-1],median:G(n),mean:m(n)});n=[];}}Q=[{parse:function(Y){var aa,Z;if(!Y||Y.channel.indexOf("/sports/games/")<0){return B;}try{aa=f.JSON.parse(Y.data);}catch(X){return B;}if(!aa||Y.channel!==aa.chn){return B;}Z=[];f.Array.each(aa.updates,function(ac){var af=A(ac.lastUpdatedTs),ae=A(ac.lastUpdated),ab=new Date().getTime(),ad={};if(ac.update&&ac.update.length){f.Array.each(ac.update,function(ah){if(ah._op==="up"){K.objectSetValue(ad,ah.key,ah.value);}});Z.push({data:ad,seq:ac.seq,time:ac.time,lastUpdated:ae,lastUpdatedTs:af});}try{if(af){C(ab-af);}else{if(ae){C(ab-ae);}}}catch(ag){}});return Z;}},{parse:function(X){if(!X||!X.data){return B;}return f.Lang.isArray(X.data)?X:[X];}}];function w(X){if(i.publicCometHost===i.privateCometHost){return F;}return X.indexOf("*")>0?J:F;}function h(Z,ac,X){var ab=T[Z],aa=f.merge({clientId:ab.clientId},X);q.each(ab.proxies,function Y(ad){ad.fire(ac,aa);});}function g(Z,Y){var X=T[Y];X.tries=X.tries?(X.tries+1):1;if(X.tries<=i.subscribeMaxTries){Z.subscribe(Y);}}function x(aa){var Y,X,ab,Z=[];for(Y=0,X=I.length;Y<X;Y++){ab=I[Y];if(w(ab)===aa){T[ab].state=e;g(M[aa],ab);}else{Z.push(ab);}}I=Z;}function b(Y){var ab=M[Y];ab.addListener(c,function Z(ac){if(ac.successful){x(Y);}});ab.addListener(z,function aa(af){var ae=af.subscription,ad=T[ae],ag;if(!af.successful){if(ad){ad.state=H;}ag=y.test(af.error)||j.test(af.error);if(!ag||ad.tries>=i.subscribeMaxTries){ad.tries=0;h(ae,W,{code:"subscribe",message:af.error||"",clientId:af.clientId});return;}g(ab,ae);return;}if(!ad){ad=T[ae]={state:B,proxies:{}};}ad.state=N;ad.clientId=af.clientId;h(ae,O,{clientId:af.clientId,tries:ad.tries});ab.addListener(ae,function ac(ak){if(ak){var aj,ai,ah=Q.length;for(ai=0;ai<ah;ai++){aj=Q[ai].parse(ak);if(aj){h(ae,S,{clientId:ak.clientId,messages:aj});return;}}}});});ab.addListener(k,function X(ae){var ad=ae.subscription,ac=T[ad];if(ac){ac.tries=0;}if(!ae.successful){h(ad,W,{code:"unsubscribe",message:ae.error||"",clientId:ae.clientId});return;}if(ac){ac.state=H;h(ad,p,{clientId:ae.clientId});}});}function V(X){if(M[X]){return;}if(i.shutdown){if(s&&K.urlParseBoolean(i.trackShutdown)){s.info(E,{code:"shutdown"},P);}return;}if(!r(f.initComet)){if(s){s.error(E,{},{code:"nocomet"},P);}return;}var Y=M[X]=f.initComet(i[X+"CometHost"]);Y.config(["subscribe","jsonpTimeout"],i.subscribeTimeout);b(X);if(Y.getClientState()===a){x(X);}if(s&&K.urlParseBoolean(i.trackInitComet)){s.info(E,{code:X+"Comet"},P);}}function U(Z){var X=T[Z],Y=w(Z),aa=M[Y];if(aa&&X.state!==N&&X.state!==e){if(aa.getClientState()===a){X.state=e;g(aa,Z);}else{if(f.Array.indexOf(I,Z)<0){I.push(Z);}}}}function L(X){this.id=++u;this.channel=X;}L.prototype={close:function(){var Y=this,Z=Y.channel,X=T[Z];Y.fire(p);Y.detachAll();if(X){delete X.proxies[Y.id];if(q.size(X.proxies)===0&&(X.state===N||X.state===e)){M[w(Z)].unsubscribe(Z);}}}};f.augment(L,f.EventTarget,true,B,{emitFacade:true});f.namespace("Af").CometChannelProxy=L;f.namespace("Af").Comet={open:function(Y){if(!Y){return B;}var X;V(w(Y));T[Y]=T[Y]||{state:B,proxies:{}};X=new L(Y);T[Y].proxies[X.id]=X;switch(T[Y].state){case N:window.setTimeout(function(){X.fire(O,{clientId:T[Y].clientId});},0);break;case e:break;default:U(Y);break;}return X;},parseLastUpdated:A};},"0.0.1",{requires:["af-beacon","af-config","comet","event-custom-base","json-parse"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-config",function(e,d){var c=e.Af.Utils,b=e.Array;e.namespace("Af").Config={get:function(g,i){var f,h;f=(YUI.Env.Af&&(YUI.Env.Af.config||YUI.Env.Af.settings))||{};f.context=e.merge(f.context,c.urlParseQuery());h=c.objectGetValue(f,g);return e.Lang.isValue(h)?h:i;},getContext:function(f,h){var g=this.get("context."+f);if(g===undefined){return h;}return g;},_host:window.location.host,isDev:function(){var f=this.getContext("env");if(f&&(f==="dev"||f==="corp"||f==="development")){return true;}return(!!this._host)&&this._host.indexOf(".corp.")>0;},isFeatureOn:function(f,h){if(!f){return false;}var g=this.getContext("enable_"+f,h);return c.urlParseBoolean(g);}};(function a(){var i=e.Af.Config,h=e.Af.Beacon,g,f;if(!h){return;}f=i.get("context")||{};b.each(["enable_beaconerr","enable_beaconrterr"],function(j){if(parseInt(f[j],10)===0){h[j]=false;}});g=i.get("beacon",{});if(g.pathPrefix){h.pathPrefix=g.pathPrefix;}if(g.sampleSize){h.setSampleSize(g.sampleSize);}b.each(["rid","bucket","device","site"],function(j){if(f[j]){h.meta=h.meta||{};h.meta[j]=f[j];}});}());},"0.0.1",{requires:["af-beacon","af-utils"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-utils",function(b,o){var c=b.Cookie,g=b.Lang,k=b.Array,e=b.Object,l=g.isObject,h=g.isArray,a=g.isString,d=g.trim,n=/^([\w!.%+\-])+@([\w\-])+(?:\.[\w\-]+)+$/,i=/((ftp|https?):\/\/)?(www\.)?[a-z0-9\-\.]+\.[a-z0-9\/]+$/,f={},j,m=YUI.namespace("Env.Af.Perf."+b.id);b.namespace("Af").Utils={urlParseQuery:function(){var p=window.location.search;if(p&&p.length>1){return b.QueryString.parse(p.substring(1));}return{};},urlParseBoolean:function(p){p=p?p.toString().toLowerCase():"";return p!==""&&p!=="null"&&p!=="undefined"&&p!=="0"&&p!=="false"&&p!=="no";},objectGetValue:function(s,q,p){if(a(q)){q=d(q);q=(q==="")?[]:q.split(".");}var r=e.getValue(s,q);return(r===undefined)?p:r;},objectSetValue:function(u,s,t){if(a(s)){s=d(s);s=(s==="")?[]:s.split(".");}if(!h(s)||s.length===0){return undefined;}var r,p=s.length,q=u;for(r=0;r<p;r++){if(r===p-1){q[s[r]]=t;}else{if(g.isUndefined(q[s[r]])){q[s[r]]={};}q=q[s[r]];}}return u;},objectEqual:function(u,t){var r=false,s,p;if(u===t){return true;}if((typeof u)!==(typeof t)){return false;}if(l(u)){if(e.size(u)!==e.size(t)){return false;}r=e.some(u,function q(x,w){return !b.Af.Utils.objectEqual(u[w],t[w]);});return !r;}if(h(u)){if(u.length!==t.length){return false;}for(s=0,p=u.length;s<p;s++){if(!b.Af.Utils.objectEqual(u[s],t[s])){return false;}}return true;}return false;},objectMerge:function(){var q=Array.prototype.slice.call(arguments),p={},r;for(r=0;r<q.length;r++){if(l(q[r])&&!h(q[r])){b.mix(p,b.clone(q[r]),true,undefined,0,true);}}return p;},stringParseKV:function(s,r,q){var p={};if(!s){return p;}r=r||";";q=q||":";k.each(s.split(r),function(w){if(w.length>0){var t=w.indexOf(q),u=d(w.substring(0,t)),v=d(w.substring(t+1));if(u){p[u]=v;}}});return p;},noop:function(){},use:function(){var p=Array.prototype.slice.call(arguments,0),q=p[p.length-1];if(g.isFunction(q)){p.pop();}else{q=null;}if(g.isArray(p[0])){p=p[0];}f.mods=(f.mods||[]).concat(p);if(q){f.cbs=f.cbs||[];f.cbs.push(q);}if(!j){j=b.Af.Utils.throttle(function(){var s=k.dedupe(f.mods),r=f.cbs||[];f={};b.use(s,function(v){var u,t;for(u=0,t=r.length;u<t;u++){r[u].call(null,v);}});},40,{leading:false});}j();},userSignedIn:function(){return !!(c.getSub("Y","n")&&c.getSub("Y","l"));},urlValidate:function(p){return i.test(p);},emailValidate:function(p){return n.test(p);},screenTouchable:function(){var p=document.documentElement.className;return(Modernizr&&Modernizr.touch)||!(p&&p.indexOf("no-touch")>=0);},getObjectInArray:function(v,q,u){if(!v){return null;}var t=v,p,s,r;s=t.length;for(p=0;p<s;p+=1){r=t[p];if(r.hasOwnProperty(q)&&r[q]===u){return{index:p,data:r};}}return null;},perfStart:function(p){m[p]={start:g.now()};},perfStop:function(p){var q=m[p];if(q&&q.start){q.took=g.now()-q.start;}},throttle:function(q,s,w){var p,u,x,v=null,t=0;w=w||{};function r(){t=w.leading===false?0:new Date();v=null;x=q.apply(p,u);}return function(){var y=new Date(),z;if(!t&&w.leading===false){t=y;}z=s-(y-t);p=this;u=arguments;if(z<=0){window.clearTimeout(v);v=null;t=y;x=q.apply(p,u);}else{if(!v&&w.trailing!==false){v=window.setTimeout(r,z);}}return x;};}};},"0.0.1",{requires:["cookie","oop","querystring-parse-simple"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("comet",function(d){d.namespace("Comet");function b(e){b.superclass.constructor.apply(this,arguments);}var c={};var a="comet:ready";d.initComet=function(g,f){var e=g.replace(/https:/,"http:");if(e.substr(-1)==="/"){e=e.substring(0,e.length-1);}if(!c[e]){d.publish(a);c[e]=new b();c[e].clearListeners();}else{}if(f){c[e].addListener("/meta/handshake",f);}c[e].initBayeux(g,function(h){if(h.successful){d.fire(a,{message:h});}});return c[e];};b.NAME="Comet";b.ATTRS={uri:{value:null,setter:function(g){if(g===null){return;}var e=window.location.protocol;if(e.indexOf("https")!==-1){g=g.replace(/http:/,"https:");}else{if(e.indexOf("http")!==-1){g=g.replace(/https:/,"http:");}}var f=g.toLowerCase();if(f.indexOf("https://")!==-1){this.set("protocol","https://");}else{if(f.indexOf("http://")!==-1){this.set("protocol","http://");}}return g;}},protocol:{value:"https://"},meta:{value:{handshake:{channel:"/meta/handshake",version:"1.0",supportedConnectionTypes:["long-polling"]},connect:{channel:"/meta/connect",connectionType:"long-polling"},subscribe:{channel:"/meta/subscribe"},unsubscribe:{channel:"/meta/unsubscribe"},publish:{},disconnect:{channel:"/meta/disconnect"}}},ioCfg:{value:{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"}}},ext:{value:{all:{},handshake:{},subscribe:{"Comet-api-version":"1.1","Comet-subscriber-auth-info":null},unsubscribe:{"Comet-api-version":"1.1","Comet-subscriber-auth-info":null},connect:{},publish:{"Comet-api-version":"1.1","Comet-registration-id":"make-up","Comet-opaque-id":"markup","Comet-acknowledge-URI":"www.yahoo.com/ack","Comet-acknowledge-type":"All"},disconnect:{}}}};d.extend(b,d.Base,{_clientState:"unconnected",_advice:{},_connected:false,_config:{backoffIncrement:1000,maxBackoff:10000,maxNetworkDelay:300000,delayedSendMaxCount:10,advice:{timeout:60000,interval:0,reconnect:"retry"},subscribe:{jsonpTimeout:5000}},_delayedSendCount:0,_urlOrigin:"",_backoff:0,_isLongpollingConnect:false,_isSendingQueue:false,_clientId:null,_token:null,_lastMessageId:0,_outgoing:[],_subscribeChannel:{},_queue:new d.AsyncQueue(),_ioQueue_c2s:d.io.queue,_ioQueue_s2c:d.io.queue,_jsonp:null,_listeners:{},initializer:function(e){this.setClientState("unconnected");d.on("beforeunload",d.bind(function(){if(this.getClientState()!=="unconnected"){this.disconnect();}},this),window);},config:function(e,f){d.Object.setValue(this._config,e,f);},_Queue_send:function(f){var e=this;e._batch(f);if(!e.getClientId()){return;}if(e._isSendingQueue){return;}if(e._outgoing.length<=0){return;}d.each(e._outgoing,function(g){g=e._patchMessage(g);});e._IO_send(true,e._outgoing);e._outgoing=[];},_nextQueueSend:function(){this._Queue_send();},_IO_send:function(g,f){var e=this;if(!e.get("uri")){return;}if(g){if(e._isSendingQueue||!f){return;}e._IO_Queue_Send(f);}else{if(!e.getClientId()){return;}if(e._isLongpollingConnect||!f){return;}e._IO_Longpolling_Send(f);}},_IO_Queue_Send:function(f){var e=this;e.setTokenHeader(e._token);var g=d.merge(e.get("ioCfg"),{context:e,timeout:e._config.maxNetworkDelay,data:d.JSON.stringify(f),xdr:{credentials:true},on:{success:function(h,k){try{var i=d.JSON.parse(k.responseText);e._handleResponse(i);}catch(j){e._handleFailure(f,"json parse error");return;}},failure:function(h,i){e._handleFailure(f,"500::io failed");},start:function(){e._isSendingQueue=true;},complete:function(){e._isSendingQueue=false;e._nextQueueSend();}}});e._ioQueue_c2s.stop();e._ioQueue_c2s(e.get("uri"),g);e._ioQueue_c2s.start();},_IO_Jsonp_Send:function(f){var e=this;if(!e.get("uri")){return;}var h=e.get("uri")+"?callback={callback}";var g=encodeURIComponent(d.JSON.stringify(f));h=h+"&data="+g;e._jsonp=new d.JSONPRequest(h,{on:{success:function(i){e._handleResponse(i);},timeout:function(i){e._handleFailure(f,"408:"+e._config.subscribe.jsonpTimeout+":jsonp timeout");},failure:function(){e._handleFailure(f,"500::jsonp failed");}},timeout:e._config.subscribe.jsonpTimeout});e._jsonp.send();},_IO_Longpolling_Send:function(f){var e=this;e.setTokenHeader(e._token);var g=d.merge(e.get("ioCfg"),{context:e,timeout:e._config.maxNetworkDelay,xdr:{credentials:true},data:d.JSON.stringify(f),on:{success:function(h,k){try{var i=d.JSON.parse(k.responseText);e._handleResponse(i);}catch(j){e._handleFailure(f,"json parse error");return;}},failure:function(h,i){e._handleFailure(f,"500::io failed");},start:function(){e._isLongpollingConnect=true;},complete:function(){e._isLongpollingConnect=false;}}});e._ioQueue_s2c.stop();e._ioQueue_s2c(e.get("uri"),g);e._ioQueue_s2c.start();},_handleResponse:function(e){if(e===undefined||e===null){return;}var f=this;d.each(e,function(h){f._updateAdvice(h.advice);h.originalURI=f._urlOrigin;var g=h.channel;switch(g){case"/meta/handshake":f._handshakeResponse(h);break;case"/meta/connect":f._connectResponse(h);break;case"/meta/disconnect":f._disconnectResponse(h);break;case"/meta/subscribe":f._subscribeResponse(h);break;case"/meta/unsubscribe":f._unsubscribeResponse(h);break;default:f._messageResponse(h);break;}});},_updateAdvice:function(e){if(e){this._advice=this._mixin(false,{},this._config.advice,e);}else{this._advice=this._config.advice;}},_handshakeResponse:function(f){var e=this;if(f.successful){e.setClientState("connected");e._clientId=f.clientId;if(e._advice.VIP){e.set("uri",e.get("protocol")+e._advice.VIP+"/comet");}e._notifyListeners("/meta/handshake",f);e._Queue_send();var g=e._isDisconnected()?"none":e._advice.reconnect;switch(g){case"retry":e._resetBackoff();e._delayedConnect();break;case"handshake":e.setClientState("unconnected");e._resetBackoff();e._delayedHandshake();break;case"none":e._disconnect(false);break;}}else{e._failHandshake(f);}},_failHandshake:function(g){var f=this;f.setClientState("unconnected");f._clientId=null;f._notifyListeners("/meta/handshake",g);f._notifyListeners("/meta/unsuccessful",g);var e=(f._advice.reconnect!=="none");if(e){f._increaseBackoff();f._delayedHandshake();}else{f._disconnect(false);}},_delayedHandshake:function(){var e=this;this._delayedSend(function(){e._handshake();});},_subscribeResponse:function(e){if(e.successful){if(this._subscribeChannel[e.subscription]&&this._subscribeChannel[e.subscription]===true){}else{this._subscribeChannel[e.subscription]=true;}if(e.ext["Comet-auth-token"]){this._token=e.ext["Comet-auth-token"];}this._notifyListeners("/meta/subscribe",e);}else{this._failSubscribe(e);}},_failSubscribe:function(e){this._notifyListeners("/meta/subscribe",e);this._notifyListeners("/meta/unsuccessful",e);},_connectResponse:function(f){var e=this;if(e._isDisconnected()){return;}e._connected=f.successful;if(e._connected){e.setClientState("connected");e._notifyListeners("/meta/connect",f);var g=e._isDisconnected()?"none":e._advice.reconnect;switch(g){case"retry":e._resetBackoff();e._delayedConnect();break;case"handshake":e.setClientState("unconnected");e._resetBackoff();e._delayedHandshake();break;case"none":e._disconnect(false);break;}}else{e._failConnect(f);}},_failConnect:function(f){var e=this;e._notifyListeners("/meta/connect",f);e._notifyListeners("/meta/unsuccessful",f);var g=e._isDisconnected()?"none":e._advice.reconnect;switch(g){case"retry":e._delayedConnect();e._increaseBackoff();break;case"subscribe":e._delayedConnect();e._increaseBackoff();break;case"handshake":e.setClientState("unconnected");e._resetBackoff();e._delayedHandshake();break;case"none":e._disconnect(false);break;}},_delayedConnect:function(){var e=this;this._delayedSend(function(){e._connect();});},_disconnectResponse:function(e){if(e.successful){this._disconnect(false);this._notifyListeners("/meta/disconnect",e);}else{this._failDisconnect(e);}},_failDisconnect:function(e){this._disconnect(true);this._notifyListeners("/meta/disconnect",e);this._notifyListeners("/meta/unsuccessful",e);},_unsubscribeResponse:function(e){if(e.successful){if(this._subscribeChannel[e.subscription]&&this._subscribeChannel[e.subscription]===true){delete this._subscribeChannel[e.subscription];}this._notifyListeners("/meta/unsubscribe",e);}else{this._failUnsubscribe(e);}},_failUnsubscribe:function(e){this._notifyListeners("/meta/unsubscribe",e);this._notifyListeners("/meta/unsuccessful",e);},_messageResponse:function(e){if(e.successful===undefined){if(e.data){this._notifyListeners(e.channel,e);}else{this._notifyListeners("/meta/unsuccessful",e);}}else{if(e.successful){this._notifyListeners("/meta/publish",e);}else{this._failMessage(e);}}},_failMessage:function(e){this._notifyListeners("/meta/publish",e);this._notifyListeners("/meta/unsuccessful",e);},_delayedSend:function(e){var h=this;var f=h._advice.interval+h._backoff;if(h._config.maxBackoff<=h._backoff){h._delayedSendCount++;}else{h._delayedSendCount=0;}if(h._delayedSendCount>h._config.delayedSendMaxCount){var g=h.get("uri");h.set("uri",h._urlOrigin);if(g===h.get("uri")){return;}h._resetBackoff();h._delayedSendCount=0;}h._queue.add({fn:e,timeout:f});h._queue.run();},_handshakeFailure:function(f,e){this._failHandshake({successful:false,failure:true,channel:"/meta/handshake",request:f,advice:{reconnect:"retry",interval:this._backoff},error:e||"",ext:f.ext||{},id:f.id||""});},_connectFailure:function(f,e){this._connected=false;this._failConnect({successful:false,failure:true,channel:"/meta/connect",request:f,advice:{reconnect:"retry",interval:this._backoff},clientId:f.clientId||"",error:e||"",ext:f.ext||{},id:f.id||""});},_disconnectFailure:function(f,e){this._failDisconnect({successful:false,failure:true,channel:"/meta/disconnect",request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",error:e||"",ext:f.ext||{},id:f.id||""});},_subscribeFailure:function(f,e){this._failSubscribe({successful:false,failure:true,channel:"/meta/subscribe",request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",subscription:f.subscription||"",error:e||"",ext:f.ext||{},id:f.id||""});},_unsubscribeFailure:function(f,e){this._failUnsubscribe({successful:false,failure:true,channel:"/meta/unsubscribe",request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",subscription:f.subscription||"",error:e||"",ext:f.ext||{},id:f.id||""});},_messageFailure:function(f,e){this._failMessage({successful:false,failure:true,channel:f.channel,request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",subscription:f.subscription||"",error:e||"",ext:f.ext||{},id:f.id||""});},_handleFailure:function(j,e){var h,g,f;for(f=0;f<j.length;++f){h=j[f];g=h.channel;switch(g){case"/meta/handshake":this._handshakeFailure(h,e);break;case"/meta/connect":this._connectFailure(h,e);break;case"/meta/disconnect":this._disconnectFailure(h,e);break;case"/meta/subscribe":this._subscribeFailure(h,e);break;case"/meta/unsubscribe":this._unsubscribeFailure(h,e);break;default:this._messageFailure(h,e);break;}}},_notifyListeners:function(j,h){this._notify(j,h);this._notify(j+"/*",h);var k=j.split("/");var g=k.length-1,f=0;for(f=g;f>0;--f){var e=k.slice(0,f).join("/")+"/*";if(f===g){this._notify(e,h);}this._notify(e,h);}},_notify:function(g,f){var e=this._listeners[g];if(e){d.each(e,function(h){if(d.Lang.isFunction(h.listener)){h.listener(f);}});}},_isDisconnected:function(){return this._clientState==="unconnected";},_resetBackoff:function(){this._backoff=0;},_nextMessageId:function(){return ++this._lastMessageId+"";},_increaseBackoff:function(){if(this._backoff<this._config.maxBackoff){this._backoff+=this._config.backoffIncrement;}},_createMessage:function(g,f){f=f||{};var j=(new Date()).valueOf();var i=window.location.host;var e=[];var h=d.merge(this.get("ext").all,this.get("ext")[g],f.ext||{},{timestamp:j,host:i||""});switch(g){case"handshake":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g]));break;case"connect":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId()}));break;case"subscribe":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId(),subscription:f.channel}));break;case"unsubscribe":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId(),subscription:f.channel}));break;case"publish":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId(),channel:f.channel,data:f.data}));break;case"disconnect":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId()}));break;}return e;},_handshake:function(e){var h=this;if(h.getClientState()!=="unconnected"){if(h.getClientState()==="connected"){var g={successful:true,channel:"/meta/handshake",clientId:h._clientId,originalURI:h._urlOrigin};h._notifyListeners("/meta/handshake",g);}return;}if(e&&e.listener){h._addListener(e,false);}h._clientId=null;h._token=null;h.resetTokenHeader();h._clearSubscriptions();h._updateAdvice(h._config.advice);var f=h._createMessage("handshake",e);h._IO_send(true,f);h.setClientState("connecting");},_connect:function(e){var g=this;if(g.getClientState()!=="connected"){return;}if(g._isLongpollingConnect){return;}var f=g._createMessage("connect",e);g._IO_send(false,f);},_subscribeJSONP:function(e){if(!(e&&e.channel)){return;}if(!this.getClientId()){return;}if(this._subscribeChannel[e.channel]&&this._subscribeChannel[e.channel]===true){return;}if(e.listener){this._addListener(e,true);}var f=this._createMessage("subscribe",e);this._IO_Jsonp_Send(f);},_unsubscribe:function(e){if(!this.getClientId()){return;}if(e&&e.channel){this.removeListeners(e.channel);}if(e&&e.channel){var f=this._createMessage("unsubscribe",e);this._Queue_send(f);}},_disconnect:function(f){var g=this;if(f){g._ioQueue_c2s.stop();g._ioQueue_s2c.stop();}g.setClientState("unconnected");g._clientId=null;g._resetBackoff();g._queue.stop();if(g._outgoing.length>0){var e=g._outgoing;g._outgoing=[];g._handleFailure(e,"500::canceled after disconnect");}g._clearSubscriptions();},_patchMessage:function(e){if(!e.id){e.id=this._nextMessageId();}e.clientId=this.getClientId();if(e.channel==="/meta/handshake"){delete e.clientId;}return e;},_batch:function(){d.each(arguments,function(e){if(e&&d.Lang.isArray(e)){var f=0;for(f=0;f<e.length;++f){this._outgoing.push(e[f]);}}else{if(e){this._outgoing.push(e);}}},this);},_clearSubscriptions:function(){d.each(this._listeners,function(e){if(e){d.each(e,function(g,f,h){if(g&&g.isSub){h.splice(f);}});}});this._subscribeChannel={};},_reDoSubscriptions:function(){d.each(this._subscribeChannel,function(e,f){if(e){this._subscribeChannel[f]=false;this._subscribeJSONP({channel:f});}},this);},isDuplicatedListener:function(e,g){var f=0;for(f=0;f<g.length;++f){var h=g[f];if(h&&h.listener&&h.listener.toString()===e.toString()){return true;}}return false;},_addListener:function(e,f,g){if(e&&e.listener&&d.Lang.isFunction(e.listener)){if(this._listeners[e.channel]){if(g||!this.isDuplicatedListener(e.listener,this._listeners[e.channel])){this._listeners[e.channel].push({listener:e.listener,isSub:f});}}else{this._listeners[e.channel]=[{listener:e.listener,isSub:f}];}}},_mixin:function(l,j,m){var g,h;var n=j||{};for(g=2;g<arguments.length;++g){var f=arguments[g];if(f===undefined||f===null){continue;}for(h in f){var e=f[h];var k=n[h];if(e===j){continue;}if(e===undefined){continue;}if(l&&typeof e==="object"&&e!==null){if(e instanceof Array){n[h]=this._mixin(l,k instanceof Array?k:[],e);}else{n[h]=this._mixin(l,{},e);}}else{n[h]=e;}}}return n;},destructor:function(){},getClientState:function(){return this._clientState;},setClientState:function(e){this._clientState=e;},getClientId:function(){return this._clientId;},initBayeux:function(e,f){this._urlOrigin=e;this.set("uri",e);this._handshake({channel:"/meta/handshake",listener:f});},subscribe:function(e,f){this._subscribeJSONP({channel:e,listener:f});},unsubscribe:function(e){this._unsubscribe({channel:e});},disconnect:function(g){var f=this;if(g){f._addListener({channel:"/meta/disconnect",listener:g},false);}if(f.getClientState()==="unconnected"){return;}if(!f.getClientId()){return;}var e=f._createMessage("disconnect");f._Queue_send(e);},publishMsg:function(f,h){if(f&&h){var e={channel:f,data:h};var g=this._createMessage("publish",e);this._Queue_send(g);}},clearListeners:function(){this._listeners={};},addListener:function(e,g,f){f=f||false;if(!g&&d.Lang.isFunction(g)){return;}this._addListener({channel:e,listener:g},false,f);},removeListeners:function(e){if(this._listeners[e]){delete this._listeners[e];}},setUserInfo:function(f,e){if(f&&e){var g=this.get("ext");g.subscribe["Comet-subscriber-auth-info"]={uid:f,user_type:"yahoo",user_cred:e};}},setUserInfoWithCookie:function(f,e){if(f){var g=this.get("ext");g.subscribe["Comet-subscriber-auth-info"]={uid:f,user_type:"yahoo",user_cred:"Any Value"};}},setTokenHeader:function(e){if(e){var f=this.get("ioCfg");f.headers["Authorization"]="Basic token="+e;}},resetTokenHeader:function(){var e=this.get("ioCfg");e.headers["Authorization"]="Basic token=";},setYcaHeader:function(e,f){if(e){var h=this.get("ioCfg");h.headers["Yahoo-App-Auth"]=e;}if(f){var g=this.get("ext");g.publish["Comet-opaque-id"]=f;}}});d.Comet=b;},"3.4.1",{requires:["base","io","json","async-queue","cookie","jsonp","jsonp-url"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-pipe",function(d,j){var t=d.Af.Config,i=d.Lang,z=d.Object,n=d.Array,e=d.Af.Utils,D=t.isFeatureOn("pipedebug"),a=i.isFunction,r=i.isNumber,p=i.isObject,y=i.isValue,k="lastUpdated",f="noseq",A={msg_maxidle:300000,msg_throttle:2000,seq_algo:k},o={},m="host-missing-seq",h="invalid-seq",v="open-failed",b="close-failed",q="ts-outoforder",B=null,l=true,C="close",c="error",u="idle",s="open",g="message";function x(){this._items=[];}o[f]=x;x.prototype={empty:function(){return !this._items.length;},pop:function(F,H){var G=this._items;this._items=[];return H&&H(B,G);},push:function(F,G){this._items.push(F);return G&&G(B);}};function w(){this._item=null;}o[k]=w;w.prototype={empty:function(){return !this._item;},pop:function(G,I){var F=this,H=F._item;if(!H||!G){return I&&I(B,B);}F._item=B;if(G.lastUpdatedTs&&H.lastUpdatedTs&&H.lastUpdatedTs>=G.lastUpdatedTs){return I&&I(B,[H]);}if(G.lastUpdated&&H.lastUpdated&&H.lastUpdated>=G.lastUpdated){return I&&I(B,[H]);}return I&&I(B,B);},push:function(I,J){var H,G,F=this;if(!I){return J&&J(B);}if(!F._item){F._item=I;return J&&J(B);}if(I.lastUpdatedTs&&F._item.lastUpdatedTs){H=F._item.lastUpdatedTs;G=I.lastUpdatedTs;}else{if(I.lastUpdated&&F._item.lastUpdated){H=F._item.lastUpdated;G=I.lastUpdated;}}if(!G){return J&&J({code:h,message:"invalid msg. algo=lastUpdated"});}if(H>G){return J&&J({code:q,message:H+">"+G});}if(H===G){F._item=I;}else{if(H<G){F._item=e.objectMerge(F._item,I);}}return J&&J(B);}};function E(G){var F=this;F._host=G.host;F._cfg=d.merge(A,t.get("pipe"));d.stamp(F);F._channel=(G.pipe&&G.pipe.channel)||(F._host&&(F._host.pipeChannel||F._host.get("pipeChannel")));F._meta={channel:F._channel};F._publishEvents();if(d.Af.Beacon){F.on([u,c],function(H){d.Af.Beacon.error(j,F._meta,d.merge({code:H.type},H.pipe));});}}E.NS="pipe";E.prototype={open:function(J){J=d.merge({delay:0},J);var I=Math.max(0,J.delay-30000),H=d.Lang.now(),F,G=this;if(I>0){F=H+I;if(G._delayTimer&&F<G._delayTimer.when){G._delayTimer.cancel();G._delayTimer=B;}if(!G._delayTimer){G._delayTimer=d.later(I,G,G._open,[J]);G._delayTimer.when=F;}}else{G._open(J);}},close:function(){var F=this;if(F._delayTimer){F._delayTimer.cancel();F._delayTimer=B;}if(F._idleTimer){F._idleTimer.cancel();F._idleTimer=B;}if(F._io){F._io.close();F._io=B;}},config:function(F){this._cfg=d.merge(A,t.get("pipe"),F);},destroy:function(){this.close();},_getSeqId:function(){var G=this,I=G._host,F,H=d.Af.Comet.parseLastUpdated;if(G._cfg.seq_algo===k){F={lastUpdatedTs:H(G.lastUpdatedTs||(I&&(I.lastUpdatedTs||I.get("lastUpdatedTs")))),lastUpdated:H(G.lastUpdated||(I&&(I.lastUpdated||I.get("lastUpdated"))))};if(r(F.lastUpdatedTs)||r(F.lastUpdated)){return F;}}return B;},_setIdleTimer:function(){var F=this;if(F._idleTimer){F._idleTimer.cancel();}F._idleTimer=d.later(F._cfg.msg_maxidle,B,function(){F._fireEvent(u,{idleTime:F._cfg.msg_maxidle});});},_open:function(I){var H=this,J=H._cfg.seq_algo;if(J!==f&&H._getSeqId()===B){H._fireEvent(c,{code:m,message:"algo="+J});return;}if(H._delayTimer){H._delayTimer.cancel();H._delayTimer=B;}if(!H._io){H._io=d.Af.Comet.open(H._channel);H._io.on("open",function G(K){H._meta.clientId=K.clientId;H._fireEvent(s);});H._io.on("close",function F(K){H._msgQ=B;H._fireEvent(C);});H._io.on("message",H._onMessage,H);H._io.on("error",H._onError,H);}},_onError:function(F){if(F.code==="subscribe"){this._fireEvent(c,{code:v,message:F.message,clientId:F.clientId});}else{if(F.code==="unsubscribe"){this._fireEvent(c,{code:b,message:F.message,clientId:F.clientId});}}},_onMessage:function(F){var G=this,I;if(!G._msgQ){I=o[G._cfg.seq_algo]||o[f];G._msgQ=new I();}G.throttled_pop=G.throttled_pop||e.throttle(function H(){if(!G._msgQ||G._msgQ.empty()){return;}G._msgQ.pop(G._getSeqId(),function(K,L){if(K){return;}if(!L||!L.length){return;}var N={},O,M;n.each(L,function(P){N=e.objectMerge(N,P.data);O=P.lastUpdatedTs;M=P.lastUpdated;});if(y(O)){N.lastUpdatedTs=O;}if(y(M)){N.lastUpdated=M;}G._fireEvent(g,{data:N});});},G._cfg.msg_throttle);n.each(F.messages,function J(K){if(!K){return;}G._setIdleTimer();if(G._msgQ){G._msgQ.push({lastUpdatedTs:K.lastUpdatedTs,lastUpdated:K.lastUpdated,data:K.data},function(L){if(L){G._fireEvent(c,L);}else{G.throttled_pop();}});}});},_fireEvent:function(F,G){this.fire(F,{pipe:G||{}});if(D&&console&&console.log){console.log("pipe event:",this._meta,F,G||"");}},_publishEvents:function(){var F=this;F.publish(C,{emitFacade:l});F.publish(c,{defaultFn:F._defaultErrFn,emitFacade:l});F.publish(u,{defaultFn:F._defaultIdleFn,emitFacade:l});F.publish(s,{emitFacade:l});F.publish(g,{defaultFn:F._defaultMessageFn,emitFacade:l});},_defaultErrFn:function(F){},_defaultIdleFn:function(F){this.close();},_defaultMessageFn:function(J){var F=this,I={},H=F._host,G=J.pipe.data;if(!G){return;}if(H&&a(H.setAttrs)){d.Object.each(G,function(L,K){var M=H.get(K);if(p(M)){I[K]=e.objectMerge(M,L);}else{I[K]=L;}});H.setAttrs(I);}else{if(!H){if(G.lastUpdatedTs){F.lastUpdatedTs=G.lastUpdatedTs;}if(G.lastUpdated){F.lastUpdated=G.lastUpdated;}}}}};d.augment(E,d.EventTarget,l,null,{emitFacade:l});d.namespace("Af").Pipe=E;},"0.0.1",{requires:["af-beacon","af-comet","af-config","af-utils","event-custom-base"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("tablite_service",function(d){var m=d.ModulePlatform,f,n,c=".tab",j=".panel",l="selected",e="on",b="fw-b",h="show-panel",o="tabs",k="menu",i,g="MPServices",a="TabliteProvider";i=function(p){this.body=p.body;this.tabWidget=p.tabWidget;this.navMode=p.navMode||o;this.moduleApi=p.moduleApi;this.tabs=this.body.all(c);this.panels=this.body.all(j);this.selectedTabNodes={tabNode:this.body.one("."+l),panelNode:this.body.one("."+h)};this.listeners=[];};i.prototype={body:undefined,tabWidget:undefined,moduleApi:undefined,tabs:[],panels:[],listeners:null,navMode:null,selectedTabNodes:{tabNode:undefined,panelNode:undefined},autoHideService:null,autoHideId:null,stateMgr:null,setup:function(){var q=0,p,r=this;this.tabs.each(function(s){if(q!==0){p.insert(s,"after");}s.addClass("loaded");p=s;q++;},this);if(this.tabWidget){this.tabWidget.addClass("tab-"+this.navMode+"-loaded");}if(this.navMode===k){this.autoHideService=m.getService("autohide");this.autohideId=this.autoHideService.register({targets:[this.tabWidget],triggers:["click"],hide:function(){r.tabWidget.removeClass("tab-menu-open");r.tabWidget.one(".wrapper").removeClass("popover");}});}this.body.on("click",this._handleClickEvent,this);if(this.moduleApi){this.stateMgr=this.moduleApi.getService("statemgr");}return;},teardown:function(){this.body.detach("click",this._handleClickEvent);if(this.autoHideService){this.autoHideService.unregister(this.autohideId);}return;},switchTab:function(r){var q={tabNode:this.tabs.item(r),panelNode:this.panels.item(r)},p;if(q.tabNode&&q.panelNode){this.selectedTabNodes.tabNode.removeClass(l);this.selectedTabNodes.tabNode.removeClass(e);q.tabNode.addClass(l);q.tabNode.addClass(e);if(this.navMode===o){this.selectedTabNodes.tabNode.removeClass(b);q.tabNode.addClass(b);}this.selectedTabNodes.panelNode.removeClass(h);q.panelNode.addClass(h);this.selectedTabNodes=q;p=this.selectedTabNodes.tabNode.getAttribute("data-tabid");this.stateMgr.saveUserSetting("st",p,this.moduleApi);}return;},_handleClickEvent:function(q){var p=q.target.ancestor(".tab",true);if(this.navMode===k){if(p){if(this.tabWidget.hasClass("tab-menu-open")){this.handleTabClick(p);this.toggleDropdown("close");return;}}if(!this.tabWidget.hasClass("tab-menu-open")){this.toggleDropdown("open");}}else{if(p&&!p.hasClass("tab-disabled")){this.handleTabClick(p);}}return;},handleTabClick:function(p){var q=this._getTabPos(p);this.switchTab(q);},toggleDropdown:function(p){if(p==="close"){this.tabWidget.removeClass("tab-menu-open");this.tabWidget.one(".wrapper").removeClass("popover");}else{this.tabWidget.addClass("tab-menu-open");this.tabWidget.one(".wrapper").addClass("popover");}this.toggleInactiveBeacons();},toggleInactiveBeacons:function(){this.tabWidget.all(".tab").each(function(p){if(p.hasAttribute("data-b-inactive")){p.setAttribute("data-b",p.getAttribute("data-b-inactive"));p.removeAttribute("data-b-inactive");}else{if(p.hasAttribute("data-b")){p.setAttribute("data-b-inactive",p.getAttribute("data-b"));p.removeAttribute("data-b");}}});},_getTabPos:function(q){var r=null,p=0;if(q){this.tabs.each(function(s){if(s===q){r=p;}p++;},this);}return r;}};d.namespace(g);d[g][a]={name:"tablite",getService:function(q,p){if(!f){f=q;}n=q.getService("login",p);return i;}};if(m){m.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw_overlay",function(b){var a=function(c){this.parentNode=c.parentNode;this.bodyContent=c.bodyContent;this.headContent=c.headerContent||null;this.footerContent=c.footerContent||null;this.width=c.width||null;this.zIndex=c.zIndex||null;this.xy=c.xy||null;this.cssStyle=c.cssStyle||null;this.cssClass=c.cssClass||null;this.prefix=c.prefix||"append";this.render=(c.render===false)?false:true;this.visible=(c.visible===false)?false:true;this.mainNode=null;this.renderMarkup();};b.mix(a.prototype,{set:function(c,d){this[c]=d;switch(c){case"headerContent":this.setHeader(d);break;case"bodyContent":this.setBody(d);break;case"footerContent":this.setFooter(d);break;case"xy":this.setXY(d);break;case"zIndex":this.setZindex(d);break;}},get:function(c){var d=null;switch(c){case"contentBox":d=this.mainNode;break;}return d;},show:function(){this.mainNode.removeClass("lw-overlay-hidden");},hide:function(){this.mainNode.addClass("lw-overlay-hidden");},setBody:function(c){this.mainNode.one(".lw-widget-bd").set("innerHTML",c);},setHeader:function(d){var c=this.mainNode;if(d){if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").set("innerHTML",d);}else{d='<div class="lw-widget-hd">'+d+"</div>";c.insert(d,0);}}else{if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").remove();}}},setFooter:function(d){var c=this.mainNode;if(d){if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").set("innerHTML",d);}else{d='<div class="lw-widget-ft">'+d+"</div>";c.one(".lw-widget-bd").insert(d,"after");}}else{if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").remove();}}},setXY:function(d){var c=this.mainNode;c.setStyle("left",d[0]+"px");c.setStyle("top",d[1]+"px");},setZindex:function(d){var c=this.mainNode;c.setStyle("zIndex",d);},renderMarkup:function(){var c,j,d,g,f,e,k,h;if(!this.mainNode){g='<div class="lw-widget lw-overlay">'+((b.UA.ie&&b.UA.ie<=7)?'<div class="lw-arrowimg">&nbsp;</div>':"")+'<div class="lw-overlay-content"><div class="lw-widget-bd"></div></div></div>';this.mainNode=c=b.Node.create(g);if(this.prefix==="prepend"){this.parentNode.prepend(c);}else{this.parentNode.append(c);}}else{c=this.mainNode;}j=this.headContent||"";if(j){if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").set("innerHTML",j);}else{j='<div class="lw-widget-hd">'+j+"</div>";c.one(".lw-widget-bd").insert(j,"before");}}else{if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").remove();}}c.one(".lw-widget-bd").set("innerHTML",this.bodyContent);d=this.footerContent||"";if(d){if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").set("innerHTML",d);}else{d='<div class="lw-widget-ft">'+d+"</div>";c.one(".lw-widget-bd").insert(d,"after");}}else{if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").remove();}}if(false===this.visible){c.addClass("lw-overlay-hidden");}if(this.width){c.setStyle("width",this.width+"px");}if(this.xy){c.setStyle("left",this.xy[0]+"px");c.setStyle("top",this.xy[1]+"px");}if(this.zIndex){c.setStyle("zIndex",this.zIndex);}if(this.cssClass){e=0;h=this.cssClass.length;if(b.UA.ie&&b.UA.ie<=7){for(e;e<=h;e=e+1){if(this.cssClass[e].indexOf("NorthWest")!==-1){k=0.04*(this.width);break;}if(this.cssClass[e].indexOf("NorthEast")!==-1){k=0.855*(this.width);break;}if(this.cssClass[e].indexOf("NorthFarEast")!==-1){k=(this.width-27);break;}if(this.cssClass[e].indexOf("NorthFarWest")!==-1){k=1;break;}c.addClass(this.cssClass[e]);}if(!k){k=((this.width)/2)-13;}b.one(".lw-arrowimg").setStyle("marginLeft",k+"px");b.one(".lw-arrowimg").setStyle("zIndex",this.zIndex+1);}else{for(e;e<=h;e=e+1){c.addClass(this.cssClass[e]);}}}if(this.cssStyle){for(f in this.cssStyle){if(this.cssStyle.hasOwnProperty(f)){c.setStyle(f,this.cssStyle[f]);}}}}});b.namespace("LW");b.LW.Overlay=a;},"@VERSION@",{requires:["node","event"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw_base64",function(b){var a={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var c="",d=0,m,k,h,l,j,g,f;e=a.utf8_encode(e);while(d<e.length){m=e.charCodeAt(d);d=d+1;k=e.charCodeAt(d);d=d+1;h=e.charCodeAt(d);d=d+1;l=m>>2;j=((m&3)<<4)|(k>>4);g=((k&15)<<2)|(h>>6);f=h&63;if(isNaN(k)){g=64;f=64;}else{if(isNaN(h)){f=64;}}c=c+this.keyStr.charAt(l)+this.keyStr.charAt(j)+this.keyStr.charAt(g)+this.keyStr.charAt(f);}return c;},decode:function(e){var c="",m,k,h,l,j,g,f,d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<e.length){l=this.keyStr.indexOf(e.charAt(d));d=d+1;j=this.keyStr.indexOf(e.charAt(d));d=d+1;g=this.keyStr.indexOf(e.charAt(d));d=d+1;f=this.keyStr.indexOf(e.charAt(d));d=d+1;m=(l<<2)|(j>>4);k=((j&15)<<4)|(g>>2);h=((g&3)<<6)|f;c=c+String.fromCharCode(m);if(g!==64){c=c+String.fromCharCode(k);}if(f!==64){c=c+String.fromCharCode(h);}}c=a.utf8_decode(c);return c;},utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var d="",g=0,f;for(g;g<e.length;g=g+1){f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f);}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128);}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128);}}}return d;},utf8_decode:function(d){var f="",h=0,j=0,g=0,e=0;while(h<d.length){j=d.charCodeAt(h);if(j<128){f+=String.fromCharCode(j);h=h+1;}else{if((j>191)&&(j<224)){g=d.charCodeAt(h+1);f+=String.fromCharCode(((j&31)<<6)|(g&63));h=h+2;}else{g=d.charCodeAt(h+1);e=d.charCodeAt(h+2);f+=String.fromCharCode(((j&15)<<12)|((g&63)<<6)|(e&63));h=h+3;}}}return f;}};b.namespace("LW");b.LW.Base64=a;},"@VERSION@",{});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw_geocoder",function(b){var a={proto:null,host:"locdrop.query.yahoo.com",table:"locdrop.placefinder",urlPath:"/v1/public/yql?",gflags:"f",flags:"T",locale:"en-US",timeout:5000,geocodeAddress:function(c,j,f,g,i){if(c===null){return;}if(!this.proto){this.proto=i.instance.proto;this.locale=i.instance.locale;}var e,d="",h=c+d;h=h.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");e="select * from "+this.table+' where text="'+encodeURIComponent(h)+'" and locale="'+this.locale+'" and gflags="'+this.gflags+'" and flags="'+this.flags+'"';this.geocode(e,j,f,g,i);},geocode:function(f,j,g,h,i){var d,c,e;e=this.proto+this.host+this.urlPath+"q="+f+"&format=json&callback={callback}";d={instance:this,tcb:h,fcb:g,scb:j,cb:i,requestURL:e};c=new b.JSONPRequest(e,{on:{success:this.geocodeDone,timeout:this.geocodeTimedout,failure:this.geocodeFailure},timeout:this.timeout,args:[d]});c.send();},geocodeDone:function(c,d){if(typeof c==="undefined"||typeof(c.error)!=="undefined"||typeof(c.query.results)==="undefined"){d.instance.geocodeFailure(c,d);}else{d.scb(c,d.cb);}},geocodeTimedout:function(c,d){var e={errCode:"LW_GEOCODER_TIMEOUT",requestURL:d.requestURL,yqlResponse:c};d.tcb(e,d.cb);},geocodeFailure:function(c,d){var e={errCode:"LW_GEOCODER_FAILURE",requestURL:d.requestURL,yqlResponse:c};d.fcb(e,d.cb);},geocodeMakeLocArray:function(k,o,c){var f,e=0,g=[],m,h=[],l,n,d;if(k===1){g.push(o.query.results.Result);}else{g=o.query.results.Result;}m=g.length;for(f=0;f<m;f=f+1){l="";if(g[f].line1!==null){l=g[f].line1;}if(g[f].line2!==null){if(l.length>0){l+=", ";}l+=g[f].line2;}if(g[f].line3!==null){if(l.length>0){l+=", ";}l+=g[f].line3;}if(g[f].line4!==null){if(l.length>0){l+=", ";}l+=g[f].line4;}g[f].id="new-fl-"+b.LW.Base64.encode(l);g[f].addr=l;g[f].city=g[f].city||null;if(g[f].uzip!==null&&g[f].uzip!==""&&g[f].uzip!=="0"){g[f].zip=g[f].uzip;}if(g[f].statecode!==null){g[f].sc=g[f].statecode;}if(g[f].countrycode!==null){g[f].cc=g[f].countrycode;}if(g[f].country!==null){g[f].ctry=g[f].country;}if(g[f].latitude!==null){g[f].lat=g[f].latitude;}if(g[f].longitude!==null){g[f].lon=g[f].longitude;}if(g[f].woeid!==null){g[f].woe=g[f].woeid;}n=true;if(c){d=c(g[f]);if(d.hidden){n=false;}if(d.disabled){g[f].disabled=true;}}if(n){h[e]=g[f];e=e+1;}}return h;}};b.namespace("LW");b.LW.PlaceFinder=a;},"@VERSION@",{requires:["jsonp","jsonp-url","lw_base64"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw_autosuggest",function(b){var a={proto:null,host:null,urlPath:null,locale:"en-US",timeout:5000,pending:false,suggestLocation:function(h,k,d,l,f,e,m){if(h===null){return;}if(this.pending){return;}if(!this.proto){this.proto=m.instance.proto;this.locale=m.instance.locale;if(this.proto==="https://"){this.host="search.yahoo.com";this.urlPath="/sugg/gossip/gossip-gl-location?output=sd1&p2=t,pt,z,a";}else{this.host="sugg.us.search.yahoo.net";this.urlPath="/gossip-gl-location?output=sd1&p2=t,pt,z,a";}}this.pending=true;var n,i,g="",j=h+g,c=this.proto+this.host+this.urlPath;j=j.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");if(k!==null&&d!==null){c+="&p1="+d+","+k;}c+="&command="+j+"&lc="+this.locale+"&callback={callback}";n={instance:this,tcb:e,fcb:f,scb:l,cb:m,requestURL:c,inputVal:h};i=new b.JSONPRequest(c,{on:{success:this.suggestDone,timeout:this.suggestTimedout,failure:this.suggestFailure},timeout:this.timeout,args:[n]});i.send();},suggestDone:function(c,d){if(typeof c==="undefined"||typeof c.r==="undefined"){d.instance.suggestFailure(c,d);}else{d.instance.pending=false;d.scb(c,d.inputVal,d.cb);}},suggestTimedout:function(c,d){d.instance.pending=false;var e={errCode:"LW_AUTOSUGGEST_TIMEOUT",requestURL:d.requestURL,yqlResponse:c};d.tcb(e,d.cb);},suggestFailure:function(c,d){d.instance.pending=false;var e={errCode:"LW_AUTOSUGGEST_FAILURE",requestURL:d.requestURL,yqlResponse:c};d.fcb(e,d.cb);},suggestMakeLocArray:function(q,u){var t=0,r=0,o=0,g,v,f=(q?q.length:0),c=[],p=this.locale.toLowerCase(),d,l="",w,n=null,s="",m="",h=u.toUpperCase(),e;for(t;t<f;t=t+1){e=false;w=[];n=null;l="";if(q[t].d!==null){g=q[t].d;if(g.indexOf(":")!==-1){g=g.split(":")[1];}if(g.indexOf("&")!==-1){v=g.split("&");o=0;d=v.length;for(o;o<d;o=o+1){if(v[o].indexOf("woeid")===0){q[t].woe=v[o].split("=")[1];}else{if(v[o].indexOf("lat")===0){q[t].lat=v[o].split("=")[1];}else{if(v[o].indexOf("lon")===0){q[t].lon=v[o].split("=")[1];}else{if(v[o].indexOf("sc")===0){q[t].sc=v[o].split("=")[1];}else{if(v[o].indexOf("s")===0){q[t].state=v[o].split("=")[1];}else{if(v[o].indexOf("c")===0){q[t].ctry=v[o].split("=")[1];}else{if(v[o].indexOf("iso")===0){q[t].cc=v[o].split("=")[1];}else{if(v[o].indexOf("pn")===0){q[t].pn_city=v[o].split("=")[1];}else{if(v[o].indexOf("z")===0){q[t].zipcode=v[o].split("=")[1];}else{if(v[o].indexOf("n")===0){n=v[o].split("=")[1];}}}}}}}}}}}}}s=q[t].k;m=q[t].pn_city;if(s&&(s.toUpperCase()).indexOf(h)===0){e=true;}else{if(m&&(m.toUpperCase()).indexOf(h)===0){e=true;s=m;}}if(q[t].zipcode&&q[t].zipcode.indexOf(h)===0){e=true;}if(e){q[t].city=s;if(p.indexOf("hk")!==-1||p.indexOf("tw")!==-1){if(typeof(q[t].ctry)!=="undefined"&&q[t].ctry){w.push(q[t].ctry);}if(typeof(q[t].state)!=="undefined"&&q[t].state&&s!==q[t].state){w.push(q[t].state);}w.push(s);}else{w.push(s);if(p.indexOf("it")!==-1||p.indexOf("au")!==-1||p.indexOf("br")!==-1||p.indexOf("mx")!==-1||p.indexOf("ca")!==-1||p.indexOf("us")!==-1){if(typeof(q[t].sc)!=="undefined"&&q[t].sc){w.push(q[t].sc);}else{if(typeof(q[t].state)!=="undefined"&&q[t].state&&s!==q[t].state){w.push(q[t].state);}}}else{if(typeof(q[t].state)!=="undefined"&&q[t].state&&s!==q[t].state){w.push(q[t].state);}else{if(typeof(q[t].sc)!=="undefined"&&q[t].sc){w.push(q[t].sc);}}}if(p.indexOf("us")!==-1&&typeof(q[t].cc)!=="undefined"&&q[t].cc){w.push(q[t].cc);}else{if(typeof(q[t].ctry)!=="undefined"&&q[t].ctry){w.push(q[t].ctry);}}}l=w.join(", ");q[t].addr=n||l;q[t].id="new-gsp-"+b.LW.Base64.encode(l);if(l){c[r]={};c[r].id=q[t].id;c[r].woe=q[t].woe;c[r].addr=q[t].addr;if(typeof(q[t].lat)!=="undefined"&&q[t].lat){c[r].lat=q[t].lat;}if(typeof(q[t].lon)!=="undefined"&&q[t].lon){c[r].lon=q[t].lon;}if(typeof(q[t].city)!=="undefined"&&q[t].city){c[r].city=q[t].city;}if(typeof(q[t].state)!=="undefined"&&q[t].state){c[r].state=q[t].state;}if(typeof(q[t].sc)!=="undefined"&&q[t].sc){c[r].sc=q[t].sc;}if(typeof(q[t].ctry)!=="undefined"&&q[t].ctry){c[r].ctry=q[t].ctry;}if(typeof(q[t].cc)!=="undefined"&&q[t].cc){c[r].cc=q[t].cc;}r=r+1;}}}return c;}};b.namespace("LW");b.LW.PlaceSuggest=a;},"@VERSION@",{requires:["jsonp","jsonp-url","lw_base64"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw-yql",function(b){var a={crumb:null,app:"yahoo.locdrop.frontpage.desktop",locale:"en-US",version:"v4",proto:"http://",yqlHost:"us-locdrop.query.yahoo.com",yqlTable:"user.location.public",urlPath:"/v1/public/yql?",yqlTimeout:5000,pendingCallback:false,initConfig:function(c){if(c.crumb){this.crumb=c.crumb;}if(c.locale){this.locale=c.locale;}if(c.app){this.app=c.app;}if(c.version){this.version=c.version;}if(c.yqlHost){this.yqlHost=c.yqlHost;}if(window.location.protocol==="https:"||c.forceSSL){this.proto="https://";}},getHostUrl:function(){return this.proto+this.yqlHost+this.urlPath;},makeRequest:function(h,g,f){if(this.pendingCallback){return false;}this.pendingCallback=true;var c,d,e=this.getHostUrl()+"q="+h+"&format=json&callback={callback}";d={callbackStr:g,env:f,instance:this,requestURL:e};c=new b.JSONPRequest(e,{on:{success:this.requestDone,timeout:this.requestTimeout,failure:this.requestFailure},timeout:this.yqlTimeout,args:[d]});c.send();return true;},getCurrentLocation:function(i,d,f){var h,j,k,g,c,e;k=this.crumb;j=this.locale;g=this.version;c=this.app;e={success:i,error:d,timeout:f};h="SELECT * FROM "+this.yqlTable+' WHERE crumb="'+k+'" AND version="'+g+'" AND locale="'+j+'" AND app="'+c+'"';return this.makeRequest(encodeURIComponent(h),"getCurrentLocationCallback",e);},getAllLocations:function(j,d,f,g){var i,k,l,h,c,e;l=this.crumb;k=this.locale;h=this.version;c=this.app;e={success:j,error:d,timeout:f,callback:g};i="SELECT * FROM "+this.yqlTable+' WHERE crumb="'+l+'" AND version="'+h+'" AND locale="'+k+'" AND app="'+c+'"';return this.makeRequest(encodeURIComponent(i),"getAllLocationsCallback",e);},getCurrentLocationCallback:function(c,f){var g="current",d=[],h=[],e;if(typeof(c.query.results.locdrop[g]!=="undefined")&&c.query.results.locdrop[g]){d=(c.query.results.locdrop[g].length)?c.query.results.locdrop[g]:[c.query.results.locdrop[g]];}if(f.env.success){f.env.success(d);}},getAllLocationsCallback:function(c,e){var f="favorite",d=[];if(typeof(c.query.results.locdrop[f]!=="undefined")&&c.query.results.locdrop[f]){d=(c.query.results.locdrop[f].length)?c.query.results.locdrop[f]:[c.query.results.locdrop[f]];}if(e.env.success){e.env.success(d,e.env.callback);}},deleteLocation:function(k,j,d,e,f){var h,i={id:k,success:j,error:d,timeout:e,callback:f},c,l,g;l=this.crumb;g=this.version;c=this.app;h="DELETE FROM "+this.yqlTable+' WHERE id="'+k+'" AND app="'+c+'" AND crumb="'+l+'" AND version="'+g+'"';return this.makeRequest(encodeURIComponent(h),"deleteLocationCallback",i);},deleteLocationCallback:function(c,d){if(d.env.success){d.env.success(c,d.env.callback);}},setLocation:function(g,o,e,h,i){var l,q=[],j,m=[],f,d,k,p,n,c={success:o,error:e,timeout:h,callback:i};p=this.crumb;d=this.app;k=this.version;n=this.locale;if(p){q.push("crumb");m.push('"'+p+'"');}if(d){q.push("app");m.push('"'+d+'"');}if(k){q.push("version");m.push('"'+k+'"');}if(n){q.push("locale");m.push('"'+n+'"');}if(g.type){q.push("type");m.push('"'+g.type+'"');}if(g.lat){q.push("lat");m.push('"'+g.lat+'"');}if(g.lon){q.push("lon");m.push('"'+g.lon+'"');}if(g.radius){q.push("radius");m.push('"'+g.radius+'"');}if(g.woe){q.push("woe");m.push('"'+g.woe+'"');}if(g.addrstring){q.push("addrstring");m.push('"'+g.addrstring+'"');}if(g.ip){q.push("ip");m.push('"'+g.ip+'"');}if(g.wifi_id){q.push("wifi_id");m.push('"'+g.wifi_id+'"');}if(g.wifi_ssid){q.push("wifi_ssid");m.push('"'+g.wifi_ssid+'"');}if(g.cell_id){q.push("cell_id");m.push('"'+g.cell_id+'"');}if(g.src&&g.src==="declared"){q.push("src");m.push('"'+g.src+'"');}j=q.join(", ");f=m.join(", ");l="INSERT INTO "+this.yqlTable+"("+j+") VALUES ("+f+")";return this.makeRequest(encodeURIComponent(l),"setLocationCallback",c);},setLocationCallback:function(c,d){if(d.env.success){d.env.success(c,d.env.callback);}},queryTypeErroCode:function(d){var e,c="LYD_GET_API_ERR";e=new RegExp(d,"i");if(e.test("select")||e.test("update")){c="LYD_SET_API_ERR";}else{if(e.test("delete")){c="LYD_CLEAR_API_ERR";}}return c;},responseErrorCheck:function(c,e){var d={errCode:0,requestURL:e||"",yqlResponse:c||""};if((typeof c==="undefined"||typeof(c.error)!=="undefined")||(typeof(c.query)==="undefined"||typeof(c.query.results)==="undefined"||c.query.results===null)||(typeof(c.query.results.Error)!=="undefined")||(typeof(c.query.results.result)!=="undefined")){d.errCode=this.queryTypeErroCode(e);return d;}if(typeof(c.query.results.locdrop)!=="undefined"&&typeof(c.query.results.locdrop.status)!=="undefined"&&c.query.results.locdrop.status.code==="ERROR"){switch(c.query.results.locdrop.actionTaken){case"get":d.errCode="LYD_GET_API_ERR";break;case"set":d.errCode="LYD_SET_API_ERR";break;case"clear":d.errCode="LYD_CLEAR_API_ERR";break;default:return;}return d;}return d;},requestDone:function(d,c){c.instance.pendingCallback=false;var e=c.instance.responseErrorCheck(d,c.requestURL);if(e.errCode){c.env.error(e,c.env.callback);return;}c.instance[c.callbackStr](d,c);},requestTimeout:function(d,c){c.instance.pendingCallback=false;var e={errCode:"LYD_SAVED_LOC_FETCH_TIMEOUT",requestURL:c.requestURL,yqlResponse:d};if(c.env.timeout){c.env.timeout(e,c.env.callback);}},requestFailure:function(d,c){c.instance.pendingCallback=false;var e=c.instance.responseErrorCheck(d);if(c.env.error){c.env.error(e,c.env.callback);}}};b.namespace("LW");b.LW.YQL=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw-core",function(b){function a(g){var f=this,e={status:"OK"},c={status:"ERROR"},d={status:"TIMEOUT"};this.filterCallback=g.filterCallback;this.geoTimeout=15000;this.app=g.app||"yahoo.locdrop.frontpage.desktop";this.holderSetTimeout=null;this.autoCompleteCount=2;this.addrStr=g.pageLoadLoc||null;this.lat=g.lat||null;this.lon=g.lon||null;this.gossipResults=[];this.cacheFavLoc=[];this.favSuggLoc=[];this.flLoc=[];this.detectCtx=null;this.yqladdFavLocCB=null;this.holderSetTimeout=null;this.locale=g.locale||"en-US";this.init=function(){b.LW.YQL.initConfig(g);};this.getFavoriteCache=function(){return f.cacheFavLoc;};this.invalidateCache=function(){f.cacheFavLoc=[];};this.selectedLoc=function(l){var k,h=0,j=[];if(l.indexOf("new-gsp")!==-1){j=this.favSuggLoc;k="gossip";}else{if(l.indexOf("new-fl")!==-1){j=this.flLoc;k="findlocation";}else{j=this.cacheFavLoc;k="locdrop";}}for(h;h<j.length;h=h+1){if(j[h].id===l){j[h].origin=k;return j[h];}}return null;};this.detect=function(h){this.detectCtx=h;if(typeof h.params!=="undefined"){b.LW.YQL.setLocation(h.params,f.yqldetectSuccess,f.detectFailed,f.detectTimeout);}else{if(b.LW.GeoLocation.geoDetectSupport()){if(b.LW.GeoLocation.running){return;}b.LW.GeoLocation.getCurrentLocation(f.detectLocationInsert,f.detectFailed,f.geoTimeout);this.holderSetTimeout=setTimeout(b.bind(function(i){this.detectTimeout();},this),this.geoTimeout);}else{c.code="LW_DETECT_BROWSER_SUPPORT";return h.callback.call(h.instance,{},c);}}};this.detectLocationInsert=function(h){b.LW.GeoLocation.running=false;var i={};i.lat=h.coords.latitude;i.lon=h.coords.longitude;i.radius=h.coords.accuracy;i.type="current";b.LW.YQL.setLocation(i,f.yqldetectSuccess,f.detectFailed,f.detectTimeout);};this.yqldetectSuccess=function(){f.invalidateCache();b.LW.YQL.getCurrentLocation(f.detectSuccess,f.detectFailed,f.detectTimeout);};this.detectSuccess=function(h){if(f.holderSetTimeout){clearTimeout(f.holderSetTimeout);}if(h.length){h[0]["orgin"]="locdrop";}return f.detectCtx.callback.call(f.detectCtx.instance,h,e);};this.detectFailed=function(h){if(f.holderSetTimeout){clearTimeout(f.holderSetTimeout);}b.LW.GeoLocation.running=false;c.code="LW_DETECT_FAILURE";return f.detectCtx.callback.call(f.detectCtx.instance,h,c);};this.detectTimeout=function(h){if(f.holderSetTimeout){clearTimeout(f.holderSetTimeout);}b.LW.GeoLocation.running=false;d.code="LW_DETECT_TIMEOUT";return f.detectCtx.callback.call(f.detectCtx.instance,h,d);};this.suggest=function(j,i){var l,k,h;if(typeof j!=="undefined"&&j.length>=this.autoCompleteCount){if(typeof(f.gossipResults[j])!=="undefined"){k=f.gossipResults[j];l=f.savedLocationList(j);if(l.length!==0){h=f.mergeLocations(l,k);}else{h=k;}f.favSuggLoc=h;return i.callback.call(i.instance,h,e);}b.LW.PlaceSuggest.suggestLocation(j,f.lat,f.lon,this.suggestSuccess,this.suggestFailure,this.suggestTimeout,i);}};this.savedLocationList=function(l){var q,k=0,h=0,p,m,o,n=[];if(typeof(f.cacheFavLoc)!=="undefined"&&f.cacheFavLoc.length){p=f.cacheFavLoc;m=(p?p.length:0);for(k;k<m;k=k+1){o=p[k];if(l.length===0){n[h]=o;h=h+1;}else{q=f.getAddressStr(o)||"";if((q&&q.toUpperCase().indexOf(l.toUpperCase())===0)){o.addr=q;n[h]=o;h=h+1;}else{if(o.zip&&o.zip.name&&o.zip.name.indexOf(l)===0){o.addr=q;n[h]=o;h=h+1;}}}}return n;}return[];};this.getAddressStr=function(n){var o=null,r=this.locale.toLowerCase(),l=[],q,k,h,i,m,p,j;q=n.addrstring||null;k=(n.town)?n.town.name:null;h=(n.state)?n.state.name:null;p=(n.state)?n.state.code:null;m=(n.country)?n.country.name:null;j=(n.country)?n.country.code:null;i=(n.zip)?n.zip.name:null;if(k!==null){o=k;if(r.indexOf("hk")!==-1||r.indexOf("tw")!==-1){if(typeof m!=="undefined"&&m){l.push(m);}if(typeof h!=="undefined"&&h&&o!==h){l.push(h);}l.push(o);}else{l.push(o);if(r.indexOf("it")!==-1||r.indexOf("au")!==-1||r.indexOf("br")!==-1||r.indexOf("mx")!==-1||r.indexOf("ca")!==-1||r.indexOf("us")!==-1){if(typeof p!=="undefined"&&p){l.push(p);}else{if(typeof h!=="undefined"&&h&&o!==h){l.push(h);}}}else{if(typeof h!=="undefined"&&h&&o!==h){l.push(h);}else{if(typeof p!=="undefined"&&p){l.push(p);}}}if(r.indexOf("us")!==-1&&typeof j!=="undefined"&&j){l.push(j);}else{if(typeof m!=="undefined"&&m){l.push(m);}}}o=l.join(", ");return o;}return null;};this.suggestSuccess=function(h,k,j){var n,l,i,m=b.LW.PlaceSuggest.suggestMakeLocArray(h.r,k);f.gossipResults[k]=m;l=f.gossipResults[k];n=f.savedLocationList(k);if(n.length!==0){i=f.mergeLocations(n,l);}else{i=l;}f.favSuggLoc=i;return j.callback.call(j.instance,i,e);};this.mergeLocations=function(h,t){var p=[],l=[],s=false,o=0,n=0,m=0,r=(h?h.length:0),q=(t?t.length:0);p=h;for(n;n<q;n=n+1){for(o;o<r;o=o+1){if(t[n].woe!==h[o].town.woe){s=true;}}if(s){l[m]=t[n];m=m+1;s=false;}o=0;}return(p.concat(l));};this.suggestFailure=function(i,h){c.code="LW_AUTOSUGGEST_FAILURE";if(i){return h.callback.call(h.instance,i,c);}};this.suggestTimeout=function(i,h){d.code="LW_AUTOSUGGEST_TIMEOUT";return h.callback.call(h.instance,i,d);};this.geocode=function(i,h){if(i.length>0){f.flLoc=[];b.LW.PlaceFinder.geocodeAddress(i,this.geocoderSuccess,this.geocoderFailure,this.geocoderTimeout,h);}else{this.suggest(i);}};this.geocoderSuccess=function(k,n){var h=[],m=0,l=0,o,q,p=b.LW.PlaceFinder.geocodeMakeLocArray(k.query.count,k);o=p.length;for(m;m<o;m=m+1){q=p[m];if(q.city&&q.city!==null){h[l]=q;l=l+1;}}f.flLoc=h;return n.callback.call(n.instance,h,e);};this.geocoderFailure=function(i,h){c.code="LW_GEOCODER_FAILURE";return h.callback.call(h.instance,i,c);};this.geocoderTimeout=function(i,h){d.code="LW_GEOCODER_TIMEOUT";return h.callback.call(h.instance,i,d);};this.addFavorite=function(i,h){b.LW.YQL.setLocation(i,f.addFavoriteSuccess,f.addFavoriteFailure,f.addFavoriteTimeout,h);};this.addFavoriteSuccess=function(h,i){return i.callback.call(i.instance,h,e,i);};this.addFavoriteFailure=function(i,h){c.code="LW_SET_ERROR";return h.callback.call(h.instance,i,c,h);};this.addFavoriteTimeout=function(i,h){d.code="LW_SET_ERROR";return h.callback.call(h.instance,i,d,h);};this.getAllFavorite=function(h){if(typeof(f.cacheFavLoc)!=="undefined"&&f.cacheFavLoc.length){return h.callback.call(h.instance,f.cacheFavLoc,e,h);}b.LW.YQL.getAllLocations(f.getFavoriteSuccess,f.getFavoriteFailure,f.getFavoriteTimeout,h);};this.getFavoriteSuccess=function(o,m){var h=[],n,p,l=0,k=0;n=(o?o.length:0);for(l;l<n;l=l+1){p=o[l];p.addr=f.getAddressStr(p);if(p.addr!==null){h[k]=p;k=k+1;}}f.invalidateCache();f.cacheFavLoc=h;return m.callback.call(m.instance,h,e,m);};this.getFavoriteFailure=function(i,h){c.code="LW_GET_ERROR";return h.callback.call(h.instance,i,c,h);};this.getFavoriteTimeout=function(i,h){d.code="LW_GET_TIMEOUT";return h.callback.call(h.instance,i,d,h);};this.removeLocation=function(i,h){b.LW.YQL.deleteLocation(i,this.removeSuccess,this.removeFailure,this.removeTimeout,h);};this.updateFavCache=function(k){var j=0,h=f.cacheFavLoc.length;for(j;j<h;j=j+1){if(f.cacheFavLoc[j]&&f.cacheFavLoc[j].id===k){f.cacheFavLoc.splice(j,1);}}};this.removeSuccess=function(i,h){f.updateFavCache(h.locId);return h.callback.call(h.instance,i,e,h);};this.removeFailure=function(i,h){c.code="LW_REMOVE_ERROR";return h.callback.call(h.instance,i,c,h);};this.removeTimeout=function(i,h){d.code="LW_REMOVE_ERROR";return h.callback.call(h.instance,i,d,h);};}b.namespace("LW");b.LW.Core=a;},"@VERSION@",{requires:["node","event","lw-geo","lw-autosuggest","lw-placefinder-YQL","lw-yql"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
var YUI;YUI.add("lw-view",function(c){function b(){this.yrbContainer=null;this.pendingYrbCall=false;this.locale="en-US";this.setLocale=function(d){this.locale=d;};this.yrbReqSuccessFailure=function(d,e){return;};this.setYrbContainer=function(d,e){this.yrbContainer=d;e.msgContainer=this.yrbContainer;return;};this.initYrb=function(h,g,i){if(this.yrbContainer){h.msgContainer=this.yrbContainer;return;}this.yrbConfig={proto:h.proto,host:g||((h.proto==="https://")?"s.yimg.com":"l.yimg.com"),path:i||"/rl/ulw/yrb/4.0.5c/",base:"ulwv2yrb"};var f=this.yrbConfig.proto+this.yrbConfig.host+this.yrbConfig.path+this.yrbConfig.base+"_"+h.locale+".js?callback={callback}",e={instance:this,context:h,locale:h.locale,defaultLocale:h.defaultLocale,msgContainer:h.msgContainer},d=new c.JSONPRequest(f,{on:{success:this.yrbReqSuccessFailure,failure:this.yrbReqSuccessFailure},args:[e]});d.send();};return this;}function a(f){if(typeof a.yala==="undefined"){a.yala=new b();}if(typeof(this.core)==="undefined"){this.core=new c.LW.Core(f);}this.guid=YUI.guid("lw");this.id=this.guid+"_widget";this.minWidth=f.minWidth||250;this.defaultLocale="en-US";this.locale=f.locale||this.defaultLocale;this.node=f.parentNode;this.searchStartLen=2;this.state=null;this.positionXY=f.positionXY||null;this.zIndex=parseInt(f.zIndex,10)||1000;this.cssStyle=f.cssStyle||null;this.cssClass=f.cssClass||"";this.findLocation=f.findLocation||false;this.appID=f.app||null;this.callback=f.callback||null;this.errorCallback=f.errorCallback||null;this.lat=f.lat||null;this.lon=f.lon||null;this.rapid=null;this.isRapid=f.isRapid;this.isGlobalRapid=f.isGlobalRapid||false;this.globalRapidIns=f.globalRapidIns||null;this.rapidConf=f.rapidConf||null;this.rapidAddConf=f.rapidAddConf||null;this.rapidRemoveConf=f.rapidRemoveConf||null;this.proto=(window.location.protocol==="https:"||f.forceSSL)?"https://":"http://";this.viewOverlay=null;this.overlayContentBox=null;this.manageLocUrl="https://web.archive.org/web/20140831201523/https://settings.yahoo.com/locations?lang={locale}";this.showFavorites=(typeof f.showFavorites!=="undefined"&&f.showFavorites===false)?false:true;var g="open",h="error",j="cleared",m="suggested",k="saved",d="queried",q="sqloc",o="detect",l="select",i="deleteloc",n="pin",e="new-",p="OK";this.msgContainer={LW_AUTOSUGGEST_TIMEOUT:"Attempt to retrieve suggestions is taking too long",LW_AUTOSUGGEST_FAILURE:"Attempt to fetch suggestions is taking too long",LW_GEOCODER_FAILURE:"Unable to retrieve a match",LW_GEOCODER_TIMEOUT:"Attempt to retrieve a match is taking too long",LW_DETECT_BROWSER_SUPPORT:"Your browser does not support location detection",LW_DETECT_FAILURE:"Unable to detect your accurate location",LW_DETECT_TIMEOUT:"Attempt to detect your accurate location is taking too long",LW_SET_ERROR:"Unable to add favorite location",LW_REMOVE_ERROR:"Unable to remove favorite location",LW_GET_ERROR:"Unable to retrieve your past locations",LW_GET_TIMEOUT:"Attempt to fetch your past locations is taking too long",LW_OS_LOCATION_DETECT:"Detect my location",LW_OS_DISMISS_TXT:"Dismiss",LW_GHOST_CITY:"Enter City",LW_GHOST_CITY_ZIP:"Enter City or Zipcode",LW_TRIGGER_ICON_TOOLTIP:"Change location",LW_DETECT_LOC_TOOLTIP:"Detect your location",LW_ADD_FAV_TOOLTIP:"Add to My Locations",LW_REMOVE_FAV_TOOLTIP:"Remove from My Locations",LW_OS_MANAGE_LOCATIONS:"Manage Locations",LW_PRIVACY_POLICY:"Privacy Policy",LW_OS_MANAGE_LOCATIONS_URL:"https://web.archive.org/web/20140831201523/http://location.yahoo.com/locationmgt/?locale=en-US",LW_CURRENT_LOCATION_HELP_URL:"https://web.archive.org/web/20140831201523/http://help.yahoo.com/l/us/yahoo/location/",LW_PRIVACY_POLICY_URL:"https://web.archive.org/web/20140831201523/http://info.yahoo.com/privacy/us/yahoo/location"};this.init=function(){if(this.appID&&this.appID!=="universal_location_widget__v3"){this.core.init(f);if(this.defaultLocale!==this.locale){a.yala.initYrb(this,f.yrbHost,f.yrbPath);}}else{return;}};this.inputGhosting=function(){var r=c.one("#"+this.inputId),s=r.get("value"),t=c.one("#placeholder-"+this.inputId);t.setStyle("width",r.getComputedStyle("width"));t.setStyle("height",r.getComputedStyle("height"));if(s===""){t.show();}c.on(["focus","blur","keyup"],function(u){if(u.currentTarget.get("value")!==""&&t.getStyle("display")!=="none"){t.hide();}else{if(u.currentTarget.get("value")===""&&t.getStyle("display")==="none"){t.show();}}},r);};this.setPositionXY=function(r){this.positionXY=r;};this.setZindex=function(r){this.zIndex=parseInt(r,10);if(this.viewOverlay!==null){this.viewOverlay.set("zIndex",this.zIndex);}};this.makeElementId=function(r){return this.id+"_"+r;};this.show=function(){if(this.viewOverlay!==null){this.viewOverlay.show();}};this.hide=function(r){c.fire("lw-close",{target:r,widgetObj:this});};this.close=function(){if(this.viewOverlay!==null){this.viewOverlay.hide();}};this.hideError=function(r){if(c.one("#"+this.err_container_id)){c.one("#"+this.err_container_id).remove(true);this.err_container_id=null;this.err_close_id=null;this.err_msg_id=null;}r.halt();return;};this.showError=function(r){if(this.err_container_id&&c.one("#"+this.err_container_id)){c.one("#"+this.err_container_id).remove(true);}var s=this.buildErrorFrag(r);if(s){this.viewOverlay.get("contentBox").one(".lw-widget-bd").prepend(s);c.on("click",c.bind(this.hideError,this),"#"+this.err_close_id);}};this.initFocusManager=function(){this.overlayContentBox.plug(c.Plugin.NodeFocusManager,{descendants:"a",keys:{next:"down:40",previous:"down:38"},focusClass:{className:"lw-line-item-focus",fn:function(r){return r;}},circular:false});};this.dispatchCallback=function(u){var t=u.currentTarget,r=t.getAttribute("data-lid"),s=t.getAttribute("class"),v=t.getAttribute("data-action");if(v){switch(v){case n:if(s&&s.indexOf("lw-add-anchor")!==-1){this.pin(r,t);}break;case l:this.select(r,t);break;case o:this.detect(r,t);break;case i:this.deleteloc(r,t);break;default:u.halt();return;}if(c.UA.ie&&c.UA.ie===6){u.halt();}}};this.handleInputSubmit=function(s){var r=this.getInputValue(),t;if(this.findLocation){t={callback:this.suggestCallback,instance:this};this.core.geocode(r,t);}s.halt();return;};this.handleInputEvents=function(t){var r=t.target,s=YUI().Lang.trim(r.get("value")),u;if(40===t.keyCode&&!c.UA.touchEnabled){this.overlayContentBox.focusManager.refresh();this.overlayContentBox.focusManager.set("activeDescendant",0);this.overlayContentBox.focusManager.focus();t.halt();return;}if(13===t.keyCode||16===t.keyCode||17===t.keyCode||18===t.keyCode||37===t.keyCode||38===t.keyCode||39===t.keyCode||33===t.keyCode||34===t.keyCode){return;}if(s&&s.length>=this.searchStartLen){u={callback:this.suggestCallback,instance:this};this.core.suggest(s,u);}else{if(s===""){this.core.invalidateCache();this.viewOverlay.set("bodyContent","");u={target:null,callback:this.getAllFavoriteCallback,instance:this};this.core.getAllFavorite(u);}}return;};this.deleteloc=function(t,r){var s={locId:t,target:r,callback:this.deletelocCallback,instance:this};this.core.removeLocation(t,s);};this.select=function(v,s){var u=this.core.selectedLoc(v);if(u&&this.callback){var r=this,t={target:s,callback:function(x,w){if(w.status===p){r.callback(u);}else{r.showError("LW_DETECT_FAILURE");if(r.errorCallback){r.errorCallback(x);}}r.hide(s);},instance:this};this.core.addFavorite({type:"current",woe:u.woe&&u.woe.id?u.woe.id:u.woe,src:"declared"},t);}};this.pin=function(v,r){var u=this.core.selectedLoc(v),t,s;if(u){t={type:"favorite"};if(u.woe){t.woe=u.woe;}if(u.addr){t.addrstring=u.addr;}s={target:r,callback:this.pinCallback,instance:this};this.core.addFavorite(t,s);}};this.detect=function(t,r){var s={target:r,callback:this.detectCallback,instance:this};this.core.detect(s);};this.detectCallback=function(s,r){if(r.status===p){this.callback(s[0]);this.hide(c.one("#"+this.detectGeoId));this.state=j;}else{this.showError(r.code);if(this.errorCallback){this.errorCallback(s);}}};this.suggestCallback=function(s,r){if(r.status===p){var u="",t="",v="";t=this.buildLocationBody(s);this.lwBodyId=this.makeElementId("lwBody");v=c.substitute(this.LW_LOCS_CONTAINER_TEMPLATE,{lwBodyId:this.lwBodyId,topLocs:u+t});this.viewOverlay.set("bodyContent",v);this.state=m;}else{if(this.errorCallback){this.errorCallback(s);}}};this.deletelocCallback=function(s,r,x){if(r.status===p){var w=x.target,v,t=w.getAttribute("class"),u;if(t){v=w.get("parentNode");if(v.getAttribute("class").indexOf("loc-fav")!==-1){v.transition({duration:0.5,easing:"ease-out",height:{value:0,duration:0.5,easing:"ease-in"}},function(){var y;this.remove(true);if(c.UA.ie&&c.UA.ie===6){y=c.one(".lw-ie-scroll-start");if(y&&y.all("li").size()<=3){y.removeClass("lw-ie-scroll-start");y.removeClass("sq-locations-container");c.later(10,this,function(){y.addClass("sq-locations-container");});}}});}else{if(t.indexOf("lw-remove-anchor")!==-1){u=w.get("parentNode").one("a").getAttribute("data-lid");w.setAttribute("data-lid",u);w.get("parentNode").replaceClass("lw-loc-saved","lw-loc-queried");}}}this.state=j;}else{this.showError(r.code);if(this.errorCallback){this.errorCallback(s);}}};this.pinCallback=function(s,r,w){if(r.status===p){var v=w.target,t=v.getAttribute("class"),u=s.query.results.locdrop.Result;if(t&&t.indexOf("lw-add-anchor")!==-1){v.get("parentNode").one("a.lw-remove-anchor").setAttribute("data-lid",u);v.get("parentNode").replaceClass("lw-loc-queried","lw-loc-saved");}this.state=j;}else{this.showError(r.code);if(this.errorCallback){this.errorCallback(s);}}};this.getAllFavoriteCallback=function(s,r){if(r.status===p){var u="",t="",v="";if(this.showFavorites){t=this.buildLocationBody(s);}this.lwBodyId=this.makeElementId("lwBody");v=c.substitute(this.LW_LOCS_CONTAINER_TEMPLATE,{lwBodyId:this.lwBodyId,topLocs:u+t});this.viewOverlay.set("bodyContent",v);this.state=g;}else{this.showError(r.code);if(this.errorCallback){this.errorCallback(s);}this.state=h;}};this.getInputValue=function(){if(this.inputId){var s=c.one("#"+this.inputId),r=s.get("value");return YUI().Lang.trim(r);}return"";};this.geocode=function(){var s=null,r=this.getInputValue();this.controller.geocode({inputString:r,target:s});};this.handleDocumentKeyup=function(r){if(27===r.keyCode){this.hide(r.target);r.halt();return;}};this.open=function(v){var x,t,y,u,z="",s,w,r;if(this.defaultLocale!==this.locale&&!this.yrbContainer){t=this.locale.split("-").join("_");if(window["ulwv2yrb_"+t]){a.yala.setYrbContainer(window["ulwv2yrb_"+t],this);}}if(!this.viewOverlay){this.inputId=this.makeElementId("input");y="#"+this.inputId;this.lwHeaderId=this.makeElementId("lwHeader");this.lwInputFormId=this.makeElementId("lwInputForm");u=this.populateDetectBlock();u+=c.substitute(this.LW_OPEN_STATE_HEAD_TEMPLATE,{lwHeaderId:this.lwHeaderId,inputId:this.inputId,lwInputForm:this.lwInputFormId,ghostTxt:this.msgContainer.LW_GHOST_CITY_ZIP});w=c.substitute(this.manageLocUrl,{locale:this.locale});s=c.substitute(this.LW_MANAGE_LOC_TEMPLATE,{lwFooterId:this.lwFooterId,manageLocUrl:w,manageLocTxt:this.msgContainer.LW_OS_MANAGE_LOCATIONS});this.viewOverlay=new c.LW.Overlay({parentNode:this.node,headerContent:u,bodyContent:z,footerContent:s,width:this.minWidth,zIndex:this.zIndex,cssClass:this.cssClass,cssStyle:this.cssStyle,xy:(this.positionXY)?[this.positionXY[0],this.positionXY[1]]:null,render:true,visible:true});this.overlayContentBox=this.viewOverlay.get("contentBox").one(".lw-widget-bd");if(c.UA.touchEnabled){c.Event.defineOutside("touchstart");this.viewOverlay.get("contentBox").on("touchstartoutside",function(A){this.hide(A.target);},this);this.overlayContentBox.delegate("tap",this.dispatchCallback,"li a",this);}else{this.viewOverlay.get("contentBox").on("clickoutside",function(A){this.hide(A.target);},this);this.overlayContentBox.delegate("click",this.dispatchCallback,"li a",this);this.initFocusManager();this.handleTooltip();}this.overlayContentBox.get("parentNode").delegate("click",this.dispatchCallback,".lw-location-detect",this);c.on("keyup",c.bind(this.handleInputEvents,this),y);c.one("#"+this.lwInputFormId).on("submit",this.handleInputSubmit,this);x={target:null,callback:this.getAllFavoriteCallback,instance:this};this.core.getAllFavorite(x);if(this.isRapid&&this.rapidConf!==null){this.rapid=new YAHOO.i13n.Rapid(this.rapidConf);this.rapid.init();}if(c.UA.ie&&c.UA.ie<=10){this.inputGhosting();}this.state=g;}else{if(this.state&&(this.state===m)){this.show();if(c.UA.ie&&c.UA.ie<10){r=c.one("#"+this.inputId).get("value");c.one("#"+this.inputId).focus();c.one("#"+this.inputId).set("value",r);}}else{this.core.invalidateCache();this.viewOverlay.set("bodyContent","");x={target:null,callback:this.getAllFavoriteCallback,instance:this};this.core.getAllFavorite(x);this.show();this.state=g;c.one("#"+this.inputId).set("value","");}}c.one("#"+this.inputId).focus();};this.handleTooltip=function(){var s,u,t,r=".lw-favbtn";if(c.UA.mobile){return;}s=c.Node.create('<div class="lw-tooltip"><div class="yui3-widget-bd">bd</div><div class="yui3-widget-ft"></div></div>');t=new c.Overlay({srcNode:s,zIndex:100001000});t.hide();t.render();this.overlayContentBox.delegate("tooltip|mouseover",function(v){u=v.currentTarget.getAttribute("title");t.set("bodyContent",u);t.set("align",{node:v.currentTarget,points:[c.WidgetPositionAlign.BC,c.WidgetPositionAlign.TC]});t.show();},r,this);this.overlayContentBox.delegate(["tooltip|mouseout","tooltip|click"],function(){t.hide();},r,this);};this.buildErrorFrag=function(r){var s;this.err_container_id=this.guid+"_err_container";this.err_close_id=this.guid+"_err_close";this.err_msg_id=this.guid+"_err_msg";s={errContId:this.err_container_id,errCloseId:this.err_close_id,errMsgId:this.err_msg_id,errMsg:this.msgContainer[r],dismissTxt:this.msgContainer.LW_OS_DISMISS_TXT};return c.substitute(this.LW_LOC_ERR_TEMPLATE,s);};this.buildLocationFrag=function(t,y){var s=y.addr||"",x=y.id,u,r=(c.UA.touchEnabled)?"lw-line-item-touch":"lw-line-item",v,w;if(x.indexOf(e)===-1){u="loc-fav";v="loc-fav lw-loc-saved";}else{u="loc-srch";v="lw-loc-queried";}w={sqSlk:u,sqLocCls:v,locItemCls:r,locId:x,displayTtl:s,dAction:l,displayStr:s,rmLocTooltip:this.msgContainer.LW_REMOVE_FAV_TOOLTIP,addLocTooltip:this.msgContainer.LW_ADD_FAV_TOOLTIP};return c.substitute(this.LW_SQ_LOC_TEMPLATE,w);};this.populateDetectBlock=function(){this.detectGeoId=this.guid+"_detect_geo";var r={displayStr:this.msgContainer.LW_OS_LOCATION_DETECT,dtctTooltip:this.msgContainer.LW_DETECT_LOC_TOOLTIP,detectId:this.detectGeoId,dAction:o};return c.substitute(this.LW_DETECT_LOC_TEMPLATE,r);};this.buildLocationBody=function(u){var v="",r,s=0,t="";r=u.length||0;for(s;s<r;s=s+1){v+=this.buildLocationFrag(q,u[s]);}if(c.UA.ie&&c.UA.ie===6&&r>3){t=" lw-ie-scroll-start";}this.lwSQLocBlockId=this.makeElementId("SQLocBlockId");return c.substitute(this.LW_SQLOCS_CON_TEMPLATE,{sqLocs:v,lwSQLocBlockId:this.lwSQLocBlockId,customClass:t});};this.destroy=function(){this.close();};this.LW_OPEN_STATE_HEAD_TEMPLATE='<div class="lw-input-blk"><form class="lw-input-frm" id="{lwInputForm}"><b class="lw-input-icon"><i class="img-sprite"></i></b><div class="lw-input-wrap" id="{lwHeaderId}">';if(c.UA.ie&&c.UA.ie<=10){this.LW_OPEN_STATE_HEAD_TEMPLATE+='<input type="text" autocomplete="off" placeholder="" value="" class="lw-input-box" tabindex="0" id="{inputId}"/><label for="{inputId}" id="placeholder-{inputId}" class="lw-input-placeholder" style="display:none;" unselectable="on" onselectstart="return false;" onmousedown="return false;">{ghostTxt}</label>';}else{this.LW_OPEN_STATE_HEAD_TEMPLATE+='<input type="text" autocomplete="off" placeholder="{ghostTxt}" value="" class="lw-input-box" tabindex="0" id="{inputId}"/>';}this.LW_OPEN_STATE_HEAD_TEMPLATE+="</div></form></div>";if(c.UA.ie&&c.UA.ie===6){this.LW_LOCS_CONTAINER_TEMPLATE='<div id="{lwBodyId}" class="locations-container" style="height:1%">{topLocs}</div>';}else{this.LW_LOCS_CONTAINER_TEMPLATE='<div id="{lwBodyId}" class="locations-container">{topLocs}</div>';}this.LW_SQLOCS_CON_TEMPLATE='<ul id="{lwSQLocBlockId}" class="sq-locations-container{customClass}">{sqLocs}</ul>';this.LW_DETECT_LOC_TEMPLATE='<div class="lw-detect-blk"><a class="lw-location-detect lw-detect-lnk rapid-nonanchor-lt rapidnofollow" id="{detectId}" data-lid="{detectId}" data-action="{dAction}" data-action-outcome="dtctloc" data-ylk="elm:itm;slk:dtct;itc:1;" href="javascript:;" title="{dtctTooltip}">{displayStr}</a><button class="lw-location-detect lw-detect-btn rapidnofollow" data-action="{dAction}" data-lid="{detectId}" title="{dtctTooltip}"><i class="lw-location-detect lw-detect-icn lw-Icon img-sprite" data-action="{dAction}" data-lid="{detectId}"></i></button></div>';this.LW_SQ_LOC_TEMPLATE='<li class="{locItemCls} {sqLocCls}" data-lid="{locId}" data-action="{dAction}"><a data-lid="{locId}" title="{displayTtl}" data-action="{dAction}" href="javascript:;" data-action-outcome="slctloc" data-ylk="elm:itm;slk:{sqSlk};itc:1;" class="rapid-nonanchor-lt rapidnofollow lw-favlnk">{displayStr}</a><a data-lid="{locId}" data-action="'+i+'" href="javascript:;" title="{rmLocTooltip}" data-action-outcome="rmloc" data-ylk="elm:btn;slk:rm;itc:1;" class="rapid-nonanchor-lt rapidnofollow lw-remove-anchor lw-favbtn lw-remove-icon"><i class="img-sprite"></i></a><a data-lid="{locId}" data-action="'+n+'" href="javascript:;" title="{addLocTooltip}" data-action-outcome="slctloc" data-ylk="elm:btn;slk:loc-sug;itc:1;" class="rapid-nonanchor-lt rapidnofollow lw-add-anchor lw-favbtn lw-add-icon"><i class="img-sprite"></i></a></li>';this.LW_LOC_ERR_TEMPLATE='<div id="{errContId}" class="lw-err-blk" data-lid="" data-ltype="{lType}" title="{errMsg}"><span class="rapid-nonanchor-lt rapidnofollow lw-err-msg">{errMsg}</span><a href="javascript:;" id="{errCloseId}" data-action-outcome="rmerr" data-ylk="elm:btn;slk:rm-err;itc:1;" title="{dismissTxt}" class="rapid-nonanchor-lt rapidnofollow lw-err-close-blk"><i class="img-sprite"></i></a></div>';this.LW_MANAGE_LOC_TEMPLATE='<div style="*height:1%" class="lw-manageloc-blk"><a id="{id}" target="_blank" data-action-outcome="nav" data-action="click" data-ylk="elm:itm;slk:mng;itc:0;" href="{manageLocUrl}" class="lw-manageloc-lnk">{manageLocTxt}</a></div>';return this;}c.namespace("LW");c.LW.View=a;},"@VERSION@",{requires:["node","substitute","transition","lw_overlay","lw_core","overlay"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_service",function(g){var d=g.ModulePlatform,b="MPServices",f="LD",a;function e(j,h,i){this.moduleapi=i;this._init(j,h);}e.prototype={_init:function(i,h){var j={parentNode:g.one("#"+i),app:"yahoo.locdrop.frontpage.desktop",callback:g.bind(this._locChanged,this),errorback:g.bind(this._error,this),crumb:h.crumb,locale:h.locale};this._widget=new g.LW.View(j);this._widget.init();this.logger=this.moduleapi.getService("metrologger");},_locChanged:function(k){var i=this.moduleapi,j=i&&i.getId(),h;if(k){if(k.city==""&&k.addr){h=k.addr.split(",");if(h[0]){k.city=h[0];}}this.fire("locationselect",k);a.broadcast(j,"ldw:defaultlocation",{displayName:k.city+", "+k.sc,loc:k});}},_error:function(j){var h=this.moduleapi,i=h&&h.getId();if(this.logger){this.logger.logError(i,"LocdropWidget: "+j.lastError);}},_filter:function(h){if(h.ctx&&h.ctx!=="local"){if(h.ctx=="global"&&h.type&&(h.type==="physical"||h.type==="default")){return true;}return false;}return true;},destroy:function(){this._widget.destroy();this._widget=null;delete (this._widget);this.logger=null;},open:function(){this._widget.open();}};g.augment(e,g.Event.Target);function c(h){this.moduleapi=h;}c.prototype={create:function(i,h){return new e(i,h,this.moduleapi);}};g.namespace(b);g[b][f]={name:"ld_service",getService:function(i,h){if(!a){a=i;}return new c(a.getModuleApi(h));}};if(d){d.registerService(g[b][f]);}},"1.0",{requires:["lw_view"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("location_service",function(b){var n=b.ModulePlatform,f,d="MPServices",a="LocationProvider",g="loc-picker-handle",h="location-menu",l="menu-active",e="location-tooltip",c="disable-dd",i="dd:toggle-draggable-ui",j="location:update",o="location:ready",p="location:picker-open",m="location:picker-close";function k(q,u,s,r){this.moduleapi=s;this.body=q;this.id=u;this.autoHideId=null;this.parentBody=null;this.tooltip=null;this.locdropWidget=null;this.beacon=null;this.ldwService=s.getService("ld_service");var t=this.body.one(".loc-picker-wrapper");this.tooltip=this.tooltipService.create({parentNode:t,className:h,position:{box:"b",arrow:"t"},pointerClass:"img-sprite",msg:""});this.tooltip.content.setAttribute("id",this.id+"-"+e);this.registerAutoHide();if(r&&r.locDropSettings){this.setLocDropSettings(r.locDropSettings);if(r.locDropSettings.strFind){this.strFind=r.locDropSettings.strFind;}if(r.locDropSettings.glApi){this.glApi=r.locDropSettings.glApi;}}if(r&&r.strFind){this.strFind=r.strFind;}if(r&&r.parentBody){this.parentBody=r.parentBody;}if(r&&r.beacon){this.beacon=r.beacon;this.beacon.itc="1";this.beacon.action="click";}this.platform.subscribe(j,b.bind(this.hideMenu,this),this);this.platform.subscribe(o,this.handleLocationReady,this);this.body.on("click",b.bind(this.handleEvent,this));this.body.on("keyup",b.bind(this.handleEvent,this));if(this.hasLocDropSettings){this.subscribeLocdropWidget(this.id+"-"+e);}}k.prototype={platform:null,instrumentation:null,autoHide:null,strFind:"Find",userCitySelection:"",locDropSettings:{},hasLocDropSettings:false,setLocDropSettings:function(q){this.locDropSettings.crumb=q.crumb;this.locDropSettings.locale=q.locale;this.locDropSettings.bestLoc=q.bestLoc;this.locDropSettings.currentLoc=q.curLoc;this.locDropSettings.defaultLoc=q.defLoc;this.locDropSettings.userLoc=this.userCitySelection||q.userLoc;this.locDropSettings.glApi=q.glApi;this.hasLocDropSettings=true;},registerAutoHide:function(){var q=this.body;if(!b.one("body").hasClass("ua-ie6")){this.autoHideId=this.autoHide.register({targets:[q.one("."+g),q.one("#"+this.id+"-"+e)],hide:b.bind(this.hideMenu,this)});}},exposeMenu:function(r){var q=this.body.one("."+h);this.instrumentation.fireBeacon(this.beacon);q.removeClass("d-n");this.locdropWidget.open();this.body.addClass(l);this.body.addClass(c);this.tooltip.show(r,{noMsgUpdate:true});this.body.one(".lw-input-box").focus();this.moduleapi.broadcast(p);if(this.parentBody){this.moduleapi.broadcast(i,{el:this.parentBody,toggle:"off"});}},hideMenu:function(){var q,r;if(this.body){if(!this.body.hasClass(l)){return;}q=this.body.one("."+g);r=this.body.one("."+h);}else{return;}this.tooltip.hide();this.body.removeClass(l);this.body.removeClass(c);r.addClass("d-n");this.moduleapi.broadcast(m);if(this.parentBody){this.moduleapi.broadcast(i,{el:this.parentBody,toggle:"on"});}},subscribeLocdropWidget:function(r){var q=this.platform;q.listen("ldw:defaultlocation");this.locDropSettings.anchorClass="loc-label fz-s";this.locdropWidget=this.ldwService.create(r,this.locDropSettings);this.locdropWidget.on("locationselect",this.onLocWidgetSelect,this);this.locdropWidget.on("widgetclose",this.hideMenu,this);},onLocWidgetSelect:function(q){this.platform.fire(j,q);},handleEvent:function(s){var q,r=s.target;if(!b.one("body").hasClass("ua-ie6")){q=r.ancestor(".loc-picker-link",true)||r.ancestor(".loc-picker-icon",true);if(q){s.preventDefault();if(!this.body.hasClass(l)){this.handleLocationReady();this.exposeMenu(q);}else{this.hideMenu();}}if(r.hasClass("find-btn")){b.LD.LocWid.handleInputEvents(s,true);}}},destroy:function(){this.body=null;this.locdropWidget=null;this.tooltip.destroy();this.tooltip=null;this.autoHide.unregister(this.autoHideId);this.autoHide=null;},handleLocationReady:function(){if(!this.locdropWidget){this.subscribeLocdropWidget(this.id+"-"+e);}}};f={create:function(q,t,s,r){return new k(q,t,s,r);}};b.namespace(d);b[d][a]={name:"location_service",getService:function(q,r){if(!k.prototype.platform){k.prototype.instrumentation=q.getService("instrumentation");k.prototype.tooltipService=q.getService("tooltip");k.prototype.autoHide=q.getService("autohide");k.prototype.platform=q;}return f;}};if(n){n.registerService(b[d][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("tablist_service",function(a){var v=null,i=true,r=false,l=a.ModulePlatform,q="tab",c="tabpanel",x="data-pos",g="selected",o="href",w="click",f="keydown",e="aria-labelledby",d="tab",m="collapsed",t="vertical",y=37,j=39,u=a.DOM,s=a.Selector,b,p=r,h="MPServices",n="TabListProvider";function k(B,z,A){z=z||{};this.node=a.one(B);this._tabQuery="li.tab";this.options=z;this._panels=z.panels;this._panel=z.panel;this._tabs=null;this._selectedIndex=-1;this._links=[];this._id=a.guid();this._moduleId=A;this._stickyKey=z.stickyKey||d;this._autoHide=v;this._autoHideId=v;this._init();}k.prototype={_init:function(){if(!this.node){l.error("TabList","Invalid node passed into TabList.");return;}if(!b){b=l.getService("aria");p=b.isSupported();}b.setRole(this.node,"tablist");var B=this.node,C=a.Node.getDOMNode(B),I=s.query(this._tabQuery,C),G=this._panels?a.NodeList.getDOMNodes(this._panels):v,E,D=0,F,A,H,z,J;if(!I.length){I=s.query("li",C);this._tabQuery="li";}this._tabs=I;for(F=I.length;D<F;D++){A=I[D];A.setAttribute(x,D);if(A.id===""){A.id=a.guid();}H=A.getElementsByTagName("a")[0];this._links.push(H.getAttribute(o,2));if(p){b.setRole(A,"presentation");b.setRole(H,q);b.focusable(H,r);H.removeAttribute(o);if(G){z=G[D];b.setRole(z,c);b.focusable(z,r);z.setAttribute(e,A.id);if(!u.hasClass(A,g)){b.hide(z);}else{b.focusable(z,i);}}}if(u.hasClass(A,g)){this._selectedIndex=D;b.focusable(H,i);}}if(this._panel&&this._selectedIndex>-1){z=this._panel;b.focusable(z,i);b.setRole(z,c);z.setAttribute(e,I[this._selectedIndex].id);}if(p){B.on(f,this._handleKeyDown,this);}B.on(w,this._handleMouseEvent,this);E=this.options.tabchange||l.getProperty("ui.tabchange");if(E&&E!=w){B.on(E,this._handleMouseEvent,this);}if(this.options.vertical){J=l.getService("autohide");this._autoHideId=J.register({targets:[B],hide:a.bind(this._collapseTabList,this)});this._autoHide=J;B.addClass(m);B.addClass(t);}},_handleMouseEvent:function(B){var C=B.target,A=(C.get("tagName")=="LI")?C:C.ancestor("LI"),z;if(A&&A.hasAttribute(x)){z=Number(A.getAttribute(x));B.preventDefault();if(B.type==w&&this.options.enableSelectedTabLink&&z==this._selectedIndex){B.stopPropagation();location.href=this._links[z];}this.switchTo(z);}},_handleKeyDown:function(z){switch(z.keyCode){case j:this.next();break;case y:this.previous();break;}},_collapseTabList:function(){var z=this.node;z.addClass(m);},destroy:function(){var z=this.node;if(p){z.detach(f,this.handleKeyDown);}z.detach(w,this.handleClick);this.unsubscribeAll();a.Object.each(this,function(B,A){delete this[A];},this);},getSelectedIndex:function(){return this._selectedIndex;},getTabNode:function(z){return a.one(this._tabs[z]);},getTabNodes:function(){return this.node.all(this._tabQuery);},getTabPanelNode:function(z){return this._panels.item(z);},getTabUrl:function(z){return this._links[z];},next:function(z){if(this._selectedIndex<this._tabs.length-1){this.switchTo(this._selectedIndex+1);}else{if(z){this.switchTo(0);}}},previous:function(z){if(this._selectedIndex>0){this.switchTo(this._selectedIndex-1);}else{if(z){this.switchTo(this._tabs.length-1);}}},switchTo:function(M){var P=this.options,E=this.node,K=this._tabs,L=this._selectedIndex,C=K[L],B=K[M],I=K.length,J=this._panels,z=this._panel,G=0,O,N,F,D,H,A;if(M!=this._selectedIndex){this.fire({type:"beforetabchange",toIndex:M,fromIndex:L});u.removeClass(C,g);if(p){while(G<I){F=K[G].getElementsByTagName("a")[0];if(K[G]!==B){b.focusable(F,r);b.unselect(F);}else{b.focusable(F,i);b.select(F);F.focus();}G++;}}u.addClass(B,g);if(J&&J.size()>1){O=J.item(L);N=J.item(M);O.toggleClass(g);N.toggleClass(g);if(p){b.hide(O);b.focusable(O,r);b.show(N);b.focusable(N,i);}}else{if(z){z.setAttribute(e,B.id);}}this._selectedIndex=M;if(this.options.sticky){D=l.getModuleApi(this._moduleId);if(D){H=D.getService("statemgr");if(H){H.setUserModuleState(this._stickyKey,M);A=B.getAttribute("data-tabid");H.saveUserSetting(this._stickyKey,A,D);}}}this.fire({type:"tabchange",toIndex:M,fromIndex:L});}if(P.vertical){E.toggleClass(m);}}};a.augment(k,a.Event.Target);a.namespace(h);a[h][n]={name:"tablist",getService:function(A,z){return{create:function(C,B){return new k(C,B,z);}};}};if(l){l.registerService(a[h][n]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("carousel_service",function(a){var f=a.ModulePlatform,c="MPServices",h="CarouselProvider",i="tabindex",n="A",g="offsetWidth",p="offsetHeight",l="right",r="mouseout",k="mouseover",b=300,e=true,j=false,o=null,q;function m(v,s,u){var w,t;w=this.node=a.one(v);if(w.hasClass("y-carousel-list")){this._carouselList=w;this.node=w.get("parentNode");}else{this._carouselList=w.query(".y-carousel-list");}this.options=s||{};this._mode=s.mode||"horz";this._loop=s.loop||j;this._autoscrollPlaying=j;this._autoscrollLazyPause=0;this._autoscrollInterval=s.autoscrollInterval||0;this._autoscrollIntervalFirst=s.autoscrollIntervalFirst||this._autoscrollInterval;this._autoscrollTimer=o;t=this._carouselItems=this._carouselList.get("children");this._maxItems=t.size();this._currentIndex=0;this._pixelToEmRatio=0;this._moduleapi=u;this._direction=s.direction||(u.getViewDirection("default")=="rtl")?l:"left";this._scrollActive=false;this._init();}m.prototype={_init:function(){var s=this.node;s.addClass(this._mode);if(this.options.direction){this._direction=this.options.direction;}if(this._autoscrollInterval>0){this.attachEngagingAreaMouseEvents();if(a.UA.ie<8){this.activeElement=document.activeElement;document.onfocusout=a.bind(this.handleIEBlur,this);document.onfocusin=a.bind(this.handleIEFocus,this);}else{a.on("blur",a.bind(this.handleBlur,this),window);a.on("focus",a.bind(this.handleFocus,this),window);}}},_getWrapAroundToPosition:function(C,t){var D,z,s,w,E,A=this._direction,v=this._maxItems,y=this._carouselItems,x=(this._direction==="top")?y.item(0).get(p):y.item(0).get(g),B=v*x,F=y.item(C),u=parseInt(F.getComputedStyle(A),10);u=isNaN(u)?0:u;D=t*x+u;z=u;if(C>t){this._firstWrap=false;D+=B;z+=B;}else{D-=B;z-=B;}F=y.item(t);E=this._carouselList;s=E.getComputedStyle(A);if(s){if(s.indexOf("em")>-1){w=parseInt(s,10);E.setStyle(A,this._convertToPixels(w)+"px");}else{if(s.indexOf("auto")>-1){E.setStyle(A,"0");}}}F.setStyle(A,z+"px");return -D;},_getToPosition:function(u,w){var v,s=this._direction,t=this._carouselItems;this.resetPositioning(u);v=t.item(u);v.setStyle(s,"");v=t.item(w);v.setStyle(s,"");return this._getOffsetByIndex(w);},_getOffsetByIndex:function(s){var t=this._carouselItems,u=(this._direction==="top")?t.item(0).get(p):t.item(0).get(g);return -(s*u);},destroy:function(){var s=this._fontResizeHandle;if(s){s.detach();}this.detachEngagingAreaMouseEvents();this._fontResizeHandle=this.node=this._carouselItems=this._carouselList=o;this.unsubscribeAll();},getItemNode:function(s){return this._carouselItems.item(s);},getCurrentIndex:function(){return this._currentIndex;},_doAutoscroll:function(){if(this._autoscrollPlaying){if(this._autoscrollLazyPause===0){this.next();if(this._autoscrollInterval>0){this._autoscrollTimer=a.later(this._autoscrollInterval*1000,this,this._doAutoscroll);}}else{this._autoscrollTimer=o;}}},play:function(s){if(this._autoscrollIntervalFirst===0){return j;}if(s){if(this._autoscrollLazyPause>0){this._autoscrollLazyPause-=1;}if(this._autoscrollPlaying===j){return;}}if(this._autoscrollLazyPause===0&&(this._autoscrollPlaying===j||this._autoscrollTimer===o)){this._autoscrollTimer=a.later((this._autoscrollIntervalFirst*1000),this,this._doAutoscroll);this._autoscrollPlaying=e;}},pause:function(s){if(s){this._autoscrollLazyPause+=1;}else{this._autoscrollPlaying=j;if(this._autoscrollTimer!==o){this._autoscrollTimer.cancel();this._autoscrollTimer=o;}}},next:function(t){var s=this._currentIndex;if(s==this.getItemCount()-1){if(this._loop||t){s=0;}}else{++s;}this.scrollTo(s);},previous:function(t){var s=this._currentIndex;if(s===0){if(this._loop||t){s=this.getItemCount()-1;}}else{--s;}this.scrollTo(s);},resetPositioning:function(s){if(typeof(s)==="undefined"){s=this._currentIndex;}var t=this._getOffsetByIndex(s);this._carouselList.setStyle(this._direction,t+"px");},scrollTo:function(v,y){var B,s,t=j,w=this._maxItems,A=this._currentIndex,C,z=this._direction,u,x={type:"scroll",fromIndex:A,toIndex:v};if(this.isScrolling()||v==A){return;}s=this.getItemNode(A);this._activateTabIndex(s,j);y=y===undefined||y===o?e:y;if(6==a.UA.ie&&l==z){y=j;}t=(A===0&&v==w-1)||(A==w-1&&v===0);this._currentIndex=v;if(y&&t&&w>2){B=this._getWrapAroundToPosition(A,v);}else{B=this._getToPosition(A,v);}this.fire({type:"beforescroll",fromIndex:A,toIndex:v});u=this.options.animate||f.getProperty("ui.carousel.animate");if(u){C={on:{start:a.bind(function(){this._scrollActive=true;},this)}};switch(z){case"top":C.top=B+"px";break;case"bottom":break;case"left":C.left=B+"px";break;case"right":C.right=B+"px";break;}C.duration=this.options.animDuration||0.5;C.easing=this.options.easing||"ease-in-out";this._carouselList.transition(C,a.bind(function(){this._handleScrollEnd(x);},this));}else{this._carouselList.setStyle(z,B+"px");this._handleScrollEnd(x);}},_handleScrollEnd:function(u){var s,t,x,v,w;this._scrollActive=false;if(a.UA.ie){s=this._direction;w=this._carouselList;x=parseInt(w.getComputedStyle(s),10);v=this._convertToEms(x);if(isFinite(v)){w.setStyle(s,v-0.068+"em");}}t=this.getItemNode(this._currentIndex);this._activateTabIndex(t,e);this.fire(u);},_convertToEms:function(s){return 1/this._calculateEm()*parseInt(s,10);},_convertToPixels:function(s){return this._calculateEm()*parseInt(s,10);},_calculateEm:function(){var s,u,t=this.node;s=t.create('<div style="width: 50em; height: 0; position: absolute;'+this._direction+': -999em;"></div>');t.appendChild(s);u=s.get(g)/50;t.removeChild(s);if(u===0&&this._pixelToEmRatio!==0){u=this._pixelToEmRatio;}else{if(u>0){this._pixelToEmRatio=u;}}return u;},_activateTabIndex:function(u,s){var t=u.queryAll(n);if(t){if(s){t.each(function(v){v.removeAttribute(i);});}else{t.each(function(v){v.setAttribute(i,"-1");});}}},getItemNodes:function(){return this._carouselItems;},getItemCount:function(){return this._maxItems;},isScrolling:function(){return this._scrollActive;},attachEngagingAreaMouseEvents:function(){this.node.on(k,this.handleEngagingAreaMouseover,this);this.node.on(r,this.handleEngagingAreaMouseout,this);},detachEngagingAreaMouseEvents:function(){this.node.detach(k,this.handleEngagingAreaMouseover);this.node.detach(r,this.handleEngagingAreaMouseout);},handleBlur:function(){this.pause(e);this.detachEngagingAreaMouseEvents();},handleFocus:function(){this.play(e);this.attachEngagingAreaMouseEvents();},handleIEBlur:function(){if(this.activeElement){}if(this.activeElement==document.activeElement){this.activeElement=o;this.handleBlur();}},handleIEFocus:function(){if(this.activeElement==o){this.handleFocus();}this.activeElement=document.activeElement;},handleEngagingAreaMouseover:function(s){a.later(b,this,this.pause,e);},handleEngagingAreaMouseout:function(s){a.later(b,this,this.play,e);}};a.augment(m,a.Event.Target);function d(s){this.moduleapi=s;}d.prototype={create:function(t,s){return new m(t,s,this.moduleapi);}};a.namespace(c);a[c][h]={name:"carousel",getService:function(t,s){if(!q){q=t;}return new d(q.getModuleApi(s));}};if(f){f.registerService(a[c][h]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */


}
/*
     FILE ARCHIVED ON 20:15:23 Aug 31, 2014 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 06:24:05 Dec 12, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 146.276
  exclusion.robots: 0.125
  exclusion.robots.policy: 0.11
  cdx.remote: 0.083
  esindex: 0.013
  LoadShardBlock: 58.927 (3)
  PetaboxLoader3.datanode: 96.296 (5)
  load_resource: 233.946 (2)
  PetaboxLoader3.resolve: 160.956 (2)
*/