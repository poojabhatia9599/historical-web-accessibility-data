var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

YUI.add("metro_viewtype",function(d){var c=null,b=false,a=true;d.namespace("Metro");d.Metro.createViewType=function(l,f){function k(p,o){return f.signal(p,o,[l]);}function j(o){return(o=="fp"||o=="toolbar")?d.one("body"):d.one("#"+l+"-"+o+"-bd");}function e(p){var o=j(p);return o?o.getStyle("direction"):c;}function i(q,p){var o=q.targetId,r=p?p.callback:c;this.setView(o,q.html);if(d.Lang.isFunction(r)){r(o,l);}}function n(o){return j(o)!=c;}function m(p,o,s,q){p=d.Array(p);var r=[];d.Array.each(p,function(t){r.push({type:"loadview",view:l,moduleId:t,chrome:o,data:q});});return f.getService("transport").makeRequest(r,s);}function h(p,r){var q=[],o=a;p=d.Array(p);if(p.length){d.Array.each(p,function(s){if(n(s)){var t=k(s,"viewrefresh");if(t){q.push(s);}}else{o=o&&b;}});if(o){this.loadView(q,false,{success:d.bind(i,this)},r);}}else{o=b;}return o;}function g(p,o){if(n(p)){k(p,"viewunload");j(p).set("innerHTML",o);this._afterSetView(p,o);k(p,"viewload");return a;}else{return b;}}return d.merge(d.ModulePlatform.BaseViewType,{_afterSetView:function(){},getViewDirection:e,getViewNode:j,isViewOpen:n,loadView:m,refreshView:h,setView:g});};},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("default_viewtype",function(c){var m=c.ModulePlatform,h=null,j=false,g=true,k=c.Lang,o=c.DOM,b=j,i={},l={},d={},e,n="default",a="MPViewTypes",f="DefaultViewTypeProvider";c.on("unload",function(){b=g;},window);c.namespace(a);c[a][f]={name:n,create:function(r){function u(B,C,E){var G=r.getModuleApi(B),A=G.getProperty("detailUrl"),F,K,z,D,I,H=j,J=r.queryModules(function(N){var M=r.getModuleApi(N),L=M&&M.getProperty("type");return L=="pacontainer";})[0];switch(C){case"badcrumb":E=r.getProperty("crumbErrorHtml");H=g;break;case"nocookies":E=r.getProperty("cookieErrorHtml");break;default:if(!E){E=c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:G.getProperty("title"),img:G.getProperty("icon"),title:G.getProperty("title"),url:G.getProperty("detailUrl")});}}F=E.indexOf('id="default-'+B+'"')>-1?E:c.Lang.substitute(r.getProperty("modChromeHtml"),{html:E,type_name:G.getProperty("type"),view_name:"error"});K=E.indexOf('id="default-'+J+'"')>-1?F:c.Lang.substitute(r.getString("pa","pacontainerHtml"),{html:F,title:G.getProperty("title")});z=o.create(K);if(!A){o.addClass(z,"no-link");}if(H){D=o.create('<p class="oops"><a href="'+window.location.href+'" class="cta-btn">'+r.getString("pa","STR.OK")+"</a></p>");}else{if(e!=B){D=o.create('<p class="oops"><button class="cta-btn pa-mod-err-retry">'+r.getString("pa","STR.TRY_AGAIN")+"</button></p>");}}if(D){I=c.Selector.query(".oops-msg",z,g);if(I){I.appendChild(D);}}e=B;return z;}function v(A,z){if(k.isFunction(A)){A(z,n);}}function p(A){var z=r.getService("pa");return !!(z&&z.isPAModule(A));}function x(A,z){return r.signal(A,z,[n]);}function t(B){if(p(B)){var z=r.getModuleApi(B),C=z.getProperty("type"),A=r.getString("pa","STR.PA.DISCLAIMER"),D;if(A&&!z.getProperty("trusted")&&C!="yap"){D=c.one("#default-"+B+"-ft");if(D){D.set("innerHTML",A);}}}}function q(D,A){var C=r.getService("pa"),E=C.getPacontainerId(),B=r.getService("metrics"),z;if(B){B.start("rv",{moduleId:D});}z=o.create(A);if(z&&!z.length){if(!r.isStarted(E)){r.start(E);}C.setChild(z,D);t(D);C.setModuleLoading(j);x(E,"viewload");i[D]=z;}else{r.error("loadview","Invalid HTML received",{moduleId:D});}if(B){B.stop("rv");}}function w(B,C,z){var A=r.getService("pa"),D=A.getPacontainerId();if(!r.isStarted(D)){r.start(D);}A.setChild(u(B,C,z),B,C);A.setModuleLoading(j);x(D,"viewload");}function y(E,B){var C=E.targetId,A=l[C],H=B?B.callback:h,G=r.getService("metrics"),D=r.getService("transport"),F=E.html,z;if(G){z=D.getMetrics(A);if(z){if("rt" in z){G.set("rt",z.rt);}if("pr" in z){G.set("pr",z.pr);}if("dt" in z){G.set("js",z.dt);}}D.clearMetrics();G.stop("ov");}q(C,F);delete l[C];delete d[C];v(H,C);}function s(C,B){if(!b){var A=C.targetId,D=B?B.callback:h,z;d[A]=1;delete l[A];if(C.result!="abort"){z=r.getService("metrics");if(z){z.clear("ov");}r.error("loadview","Server error while loading default view.",{moduleId:A,html:(C?C.html:""),viewName:n});w(A,C.resultDetail,C.html);v(D,A);}}}return c.merge(c.Metro.createViewType(n,r),{closeView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z=(A&&p(B))?C:B;if(this.isViewOpen(B)&&x(z,"viewclose")){x(z,"viewunload");if(z==C){delete i[B];A.clearChild(B);}v(D,B);return g;}else{if(k.isNumber(l[B])){r.getService("transport").abortRequest(l[B]);delete l[B];}}return j;},hideView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","none");return g;}return j;},openView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z;if(A&&p(B)&&!this.isViewOpen(B)&&x(C,"viewopen")){z=r.getService("metrics");if(z){z.start("ov",{moduleId:B});}l[B]=this.loadView(B,g,{success:y,failure:s,argument:{moduleId:B,callback:D}});return l[B]!=-1;}else{return j;}},showView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","");return g;}return j;},_afterSetView:function(A,z){t(A);}});}};if(m){m.registerViewType(c[a][f]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("edit_viewtype",function(c){var o=null,l=false,h=true,j=c.ModulePlatform,r=o,f=l,q,d=o,e={},g="viewload",n="edit",i="MPViewTypes",a="EditViewTypeProvider";function m(t,s){return r.signal(t,s,[n]);}function b(u,t){var s=u.targetId,v=t?t.callback:o;delete e[s];f=l;d=c.DOM.create(u.html);if(d&&!d.length){r.hideView(s,"default");r.getViewNode(s,"default").get("parentNode").insert(d,"after");m(s,g);if(c.Lang.isFunction(v)){v(s,n);}}else{r.error("loadview","Invalid HTML received",{moduleId:s});}}function p(t){var s=r.getModuleApi(t);return c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:s.getProperty("title"),img:s.getProperty("icon"),title:s.getProperty("title"),url:s.getProperty("detailUrl")});}function k(v,u){var t=v.targetId,w=u?u.callback:o,s=p(t);r.getViewNode(t,"default").set("innerHTML",s);r.error("loadview","Server error while loading edit view.",{moduleId:t,html:(v?v.html:""),viewName:n});delete e[t];if(c.Lang.isFunction(w)){w(t,n);}}q={closeView:function(s,u){if(this.isViewOpen(s)){var t=c.one("#edit-"+s).getDOMNode();t.parentNode.removeChild(t);r.showView(s,"default");if(c.Lang.isFunction(u)){u(s,n);}return h;}else{if(c.Lang.isValue(e[s])){r.getService("transport").abortRequest(e[s]);delete e[s];}else{return l;}}},getViewNode:function(s){return c.Node.one("#edit-"+s+"-bd");},isViewOpen:function(s){return this.getViewNode(s)!=o;},loadView:function(s,t){f=h;return r.getService("transport").makeRequest({type:"loadview",view:"edit",moduleId:s,chrome:true},t);},openView:function(s,t){if(!this.isViewOpen(s)&&!f){e[s]=this.loadView(s,{success:b,failure:k,argument:{moduleId:s,callback:t}});return e[s]!=-1;}else{return l;}},refreshView:function(s){return l;},setView:function(t,s){if(this.isViewOpen(t)){m(t,"viewunload");this.getViewNode(t).set("innerHTML",s);m(t,g);return h;}else{return l;}},showView:function(s){return l;}};c.namespace(i);c[i][a]={name:n,create:function(s){r=s;return q;}};if(j){j.registerViewType(c[i][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
if(typeof YAHOO=="undefined"){YAHOO={};}if(!YAHOO.ULT){YAHOO.ULT={};}if(!YAHOO.ULT.BEACON){YAHOO.ULT.BEACON="https://web.archive.org/web/20140601014244/http://geo.yahoo.com/t";}if(!YAHOO.ULT.IMG){YAHOO.ULT.IMG=new Image();}YAHOO.ULT.SRC_SPACEID_KEY="_S";YAHOO.ULT.DEST_SPACEID_KEY="_s";YAHOO.ULT.YLC_LIBSRC=2;YAHOO.ULT.CTRL_C="\x03";YAHOO.ULT.CTRL_D="\x04";YAHOO.ULT.BASE64_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-";(function(){YAHOO.ULT.track_click=function(c,g){if(!c||!g){return c;}g._r=YAHOO.ULT.YLC_LIBSRC;var h=[];var d=0;for(var b in g){var a=g[b];if(typeof(a)=="undefined"){a=g[b]="";}if(b.length<1){return c;}if(b.length>8){return c;}if(b.indexOf(" ")!=-1){return c;}if(YAHOO.ULT.has_ctrl_char(b)||YAHOO.ULT.has_ctrl_char(a)){return c;}h[d++]=b;}h=h.sort();var e=[];for(d=0;d<h.length;d++){e[d]=h[d]+YAHOO.ULT.CTRL_C+g[h[d]];}e=e.join(YAHOO.ULT.CTRL_D);if(e.length<1||e.length>1024){return c;}e=";_ylc="+YAHOO.ULT.encode64(e);d=c.indexOf("/*");if(d==-1){d=c.indexOf("/?");}if(d==-1){d=c.indexOf("?");}if(d==-1){return c+e;}else{return c.substr(0,d)+e+c.substr(d);}};YAHOO.ULT.beacon_click=function(c,b){if(!b){b=YAHOO.ULT.IMG;}if(c){var a=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,c);a+="?t="+Math.random();b.src=a;}return true;};YAHOO.ULT.has_ctrl_char=function(b){for(var a=0;a<b.length;a++){if(b.charCodeAt(a)<32){return true;}}return false;};YAHOO.ULT.encode64=function(c){var a="";var k,h,f="";var j,g,e,d="";var b=0;do{k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64;}else{if(isNaN(f)){d=64;}}a=a+YAHOO.ULT.BASE64_STR.charAt(j)+YAHOO.ULT.BASE64_STR.charAt(g)+YAHOO.ULT.BASE64_STR.charAt(e)+YAHOO.ULT.BASE64_STR.charAt(d);k=h=f="";j=g=e=d="";}while(b<c.length);return a;};})();/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("instrumentation",function(d){var H=null,T=false,G=true,b=d.ModulePlatform,a=H,U=H,V=H,r=H,E=H,F=T,p=H,M=H,m=T,f=T,D=G,k=T,e={},q,Q,s=H,h="getProperty",z="data-b",O="aria-disabled",S="data-ylk",i="data-action",y="data-action-outcome",I="MPServices",R="InstrumentationProvider";function n(Z){var Y=new Image();Y.id=d.guid();e[Y.id]=Y;Y.onload=Y.onerror=function(){delete e[this.id];};if(Z){Y.src=Z;}return Y;}function x(ab){var Z=ab.hasAttribute(z)?ab:ab.ancestor(function(ac){return ac.hasAttribute(z);}),Y=ab.getAttribute(O)=="true",aa=Z?Z.getAttribute(O)=="true":T;if(Z&&!ab.hasClass("nobeacon")&&!Y&&!aa){return Z.getAttribute(z);}else{return H;}}function u(Y){if(M&&d.Lang.isFunction(s.refreshModule)){var Z=d.one(Y);if(Z){s.refreshModule(Z.generateID());}}}function t(Y){var Z;if(M){if(m&&d.Lang.isFunction(s.refreshModuleAsRichView)){Z=d.one(Y);if(Z){s.refreshModuleAsRichView(Z.generateID());}}else{u(Y);}}}function c(Y){if(M){s.addModules(Y);}}function W(Y,aa){if(M&&d.Lang.isFunction(s.addModules)){var ab=d.one(Y),ac,Z={};if(ab){ac=ab.generateID();Z[ac]=aa;s.addModules(Z);}}}function J(Y){if(M){if(m&&d.Lang.isFunction(s.addModulesAsRichView)){s.addModulesAsRichView(Y);}else{c(Y);}}}function C(Y){if(M&&d.Lang.isFunction(s.isModuleTracked)){var Z=d.one(Y);if(Z){return s.isModuleTracked(Z.generateID());}}}function B(Y){if(M&&d.Lang.isFunction(s.removeModule)){var Z=d.one(Y);if(Z){return s.removeModule(Z.generateID());}}}function w(Z){if(!Z||!Z.hasAttribute(S)){return H;}var aa={},ab=Z.getAttribute(S),Y;if(ab){Y=ab.split(";");d.Array.each(Y,function(ac){var ad=ac.split(":");if(ad[0]&&ad[1]){aa[ad[0]]=ad[1];}});if(Z.hasAttribute(i)){aa.action=Z.getAttribute(i);}if(Z.hasAttribute(y)){aa.outcm=Z.getAttribute(y);}}return aa;}function l(aa,Y){var Z=n(),ab;if(!D){return;}if(aa instanceof d.Node){aa=x(aa);}if(!aa){return;}if(d.Lang.isObject(aa)){ab=d.merge({_S:U,test:V},aa);delete ab.action;delete ab.outcome;if(Y){YAHOO.ULT.BEACON=YAHOO.ULT.BEACON+";"+Y;}YAHOO.ULT.beacon_click(ab,Z);if(Y){YAHOO.ULT.BEACON=E;}}else{if(Y){aa+=";"+Y;}Z.src=(r||YAHOO.ULT.BEACON)+";"+aa+"?t="+(new Date()).getTime();}}function L(Y){if(!M){return;}if(!s){return;}var Z;if(Y instanceof d.Node){Z=w(Y);}else{if(d.Lang.isObject(Y)){Z=Y;}}if(!d.Lang.isObject(Z)||!Z.action){return;}if(Z.action==="click"){s.beaconClick(Z.sec,Z.slk||"",Z.pos||0,Z,Z.outcome||Z.outcm||H);}else{s.beaconEvent(Z.action,Z,Z.outcome||Z.outcm||H);}}function A(Z,Y){l(Z,Y);L(Z);}function P(){var Z=window.location,Y;if(!d.Lang.isUndefined(window._comscore)){Y=n();Y.src=(Z.protocol==="https:"?"https://web.archive.org/web/20140601014244/https://sb":"http://b")+".scorecardresearch.com/p?c1=2&c2=7241469&c4="+encodeURIComponent(Z.protocol+"//"+Z.host)+"&c5="+U+"&ns_c=UTF-8&ns__t="+(new Date().getTime());}else{if(YAHOO.i13n&&d.Lang.isFunction(YAHOO.i13n.sendComscoreEvent)){YAHOO.i13n.sendComscoreEvent({c7:Z.href});}}}function v(aa){if(F){return;}var Z=a.getProperty("ylp"),Y=n();if(!Z){return;}if(!aa){return;}Y.src=(r||YAHOO.ULT.BEACON)+";"+Z+"?t="+(new Date()).getTime()+"&"+aa;F=true;}function K(){var ad,ac=d.Object.getValue(window,["performance","timing"]),aa=a[h]("tsrc"),Z=a[h]("err404"),Y=a[h]("errurl"),ab={pt:1,mrkt:a[h]("intl"),authfb:a[h]("fbauthstate"),f:a[h]("hps")};if(Z){ab.err=Z;}if(Y){ab.err_url=Y;}if(aa){ab.tsrc=aa;}if(ac){ad=ac.requestStart;ab.prfm1=ac.responseStart-ad;ab.prfm2=ac.responseEnd-ad;ab.prfm3=ac.domContentLoadedEventEnd-ad;ab.prfm4=+(new Date())-ad;}return ab;}function j(Z){if(p){return;}var Y=x(Z);if(Y){p=Y;}else{}}function o(){p=H;}function N(){return(p!==H);}function X(){if(p){A(p);p=H;}}function g(){var Y=a[h]("addthis.beacon");if(Y){n(Y);}}q={fireBeacon:A,fireUltBeacon:l,fireYwaBeacon:L,getBeaconImage:n};Q={collectData:j,fireBeacon:A,fireUltBeacon:l,fireYwaBeacon:L,getBeaconImage:n,fireComscoreBeacon:P,firePageParameterBeacon:v,clearPendingBeacons:o,firePendingBeacons:X,hasPendingBeacons:N,getBeaconKeys:w,addModules:c,addModule:W,removeModule:B,isModuleTracked:C,addModulesAsRichView:J,refreshModule:u,refreshModuleAsRichView:t};d.namespace(I);d[I][R]={name:"instrumentation",getService:function(ad,ac){if(!a){var ab,Z,aa,Y;a=ad;U=a[h]("ultSpaceId");V=a[h]("ywa.rapid.bucket.id");r=a[h]("ultBeaconHost");M=!!a[h]("ywa.rapid.enabled");m=!!a[h]("ywa.rapid.richview.enabled");f=!!a[h]("ywa.rapid.ult.enabled");k=!!a[h]("rapid.init.beacon");if(M){if(typeof YMedia!=="undefined"&&typeof YMedia.rapid!=="undefined"){s=YMedia.rapid;D=T;}else{YAHOO.i13n.YWA_CF_MAP={authfb:11,mrkt:12,pt:13,sec:18,slk:19,cpos:21,pkgt:22,ct:23,bpos:24,cat:25,dcl:26,rescode:27,sort:28,ilc:39,f:40,prfm1:41,prfm2:43,prfm3:44,prfm4:45,ft:51,v:52,sca:53,camp:54,code:55,elm:56,elmt:57,ad:58,tsrc:69,err:72,rspns:107,dir:108,grpt:109,mpos:110,itc:111,sp:115,tar:113,t1:121,t2:122,t3:123,t4:124,t5:125};YAHOO.i13n.YWA_ACTION_MAP={click:12,scrollup:15,hover:17,secview:18,hswipe:19,share:23,reauthfb:24,insert:28,flw:52,unflw:53,rpl:54,rt:55,fav:56,error:99,swp:103,drag:105,hvr:115,secvw:116};YAHOO.i13n.YWA_OUTCOME_MAP={share:23,navigate:25,top:26,hpset:27,open:29,fetch:30,end:31,rmct:32,login:33,close:34,filter:35,connect:36,itemdecl:37,setlayout:38,sort:39,entitydecl:40,undo:41,cueswipeview:42,cueauthview:43,cueloadview:44,cueinfoview:45,cueconnectview:46,msgview:47,authview:48,loadview:49,cuehpset:50,cuedcl:61,dclent:101,dclitm:102,svct:109,unsvct:110,rmsvct:117,slct:121,lgn:125,lgo:126,cnct:127,flagitm:129,unflagitm:130,flagcat:131,unflagcat:132,slctfltr:133,srch:134};D=!f;ab={use_rapid:f,use_sampling:!!a[h]("ywa.rapid.sampling.enabled"),debug:!!a[h]("ywa.rapid.debug"),sampling_affects_ywa:!!a[h]("ywa.rapid.sampling.enabled"),sampling_range:a[h]("ywa.rapid.sampling.range"),spaceid:a[h]("ywa.rapid.space.id"),test_id:V,track_right_click:!!a[h]("rapid.right.click"),yql_host:a[h]("ywa.rapid.yql.host"),tracked_mods:a[h]("ywa.rapid.enabled.modules"),ywa:{project_id:a[h]("ywa.rapid.project.id"),host:a[h]("ywa.rapid.host")},keys:K(),nofollow_class:["rapidnofollow","video-inline"],webworker_file:a[h]("ywa.rapid.worker.path")};if(typeof YAHOO.i13n.Rapid!=="undefined"){if(k){Y=d.one("body");Z="//web.archive.org/web/20140601014244/https://geo.yahoo.com/p?s="+a[h]("ywa.rapid.space.id")+"&test=scooby_qa_d&btype=rapidb&t="+Math.random();aa=d.Node.create('<img class="D-n" src='+Z+"/>");Y.append(aa);}s=new YAHOO.i13n.Rapid(ab);if(k){Z="//web.archive.org/web/20140601014244/https://geo.yahoo.com/p?s="+a[h]("ywa.rapid.space.id")+"&test=scooby_qa_d&btype=rapida&t="+Math.random();aa=d.Node.create('<img class="D-n" src='+Z+"/>");Y.append(aa);}}else{s=new YAHOO.i13n.Track(ab);s.init();}}}if(r){YAHOO.ULT.BEACON=r;}E=YAHOO.ULT.BEACON;g();}return(!ac||a.getModuleApi(ac)[h]("trusted")?Q:q);}};if(b){b.registerService(d[I][R]);}});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("metrologger",function(b){var j=b.ModulePlatform,c,k,g="/perf.gif",h,i={},f,d="MPServices",a="MetroLoggerProvider";function e(o,n){var m=new Image(),l="",p=b.merge(o,{rid:c.getProperty("requestId"),bid:c.getProperty("ywa.rapid.bucket.id")||""});m.id=b.guid();i[m.id]=m;m.onload=m.onerror=function(){delete i[this.id];};b.Object.each(p,function(r,q){l+=encodeURIComponent(q)+"="+encodeURIComponent(r)+"&";});m.src=n+"?"+l;return l;}f={logError:function(m,l){e({moduleId:m,msg:l},k);},logPAPerf:function(l){e(l,g);},logAd:function(l){var m=e(l,h);}};b.namespace(d);b[d][a]={name:"metrologger",getService:function(m,l){if(!c){c=m;}if(!k){k=m.getProperty("jsErrorUrl");h=k;}return(!l||m.getModuleApi(l).getProperty("trusted")?f:null);}};if(j){j.registerService(b[d][a]);}});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("autohide_service",function(h){var f=h.ModulePlatform,b={},e=-1,a,c="MPServices",g="AutoHideProvider";a={register:function(i){b[++e]=i;if(!i.triggers){i.triggers=["click"];}return e;},unregister:function(i){delete b[i];}};function d(i){h.Object.each(b,function(n){if(h.Array.indexOf(n.triggers,i.type)>-1){var o=i.target,k=n.targets,l=true,m=0,j=k.length;if(!o.inDoc(document)){l=false;}else{for(;m<j&&l;m++){if(o.compareTo(k[m])||(k[m]&&k[m].contains(o))){l=false;}}}if(l){n.hide();}}});}h.on("click",d,document);h.on("keydown",d,document);h.on("unload",function(){h.detach("click",d,document);h.detach("keydown",d,document);},window);h.namespace(c);h[c][g]={name:"autohide",getService:function(){return a;}};if(f){f.registerService(h[c][g]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("sethomepage_service",function(a){var C=null,w=false,h=true,n=a.ModulePlatform,D,q,j=a.Cookie,p=a.UA,g="MPServices",s="SetHomepageProvider",b="m.",e="click",f="HP",i="ilc",c="keydown",o=27,k="mousedown",y="y-hpset-show",l,B;function t(E){j.set(i,E,{domain:q});}function r(){return j.get(i);}function v(F,E){j.set(f,E,{domain:".yahoo.com"});if(F){t(F);}}function m(){return j.get(f);}function u(E){E=!a.Lang.isUndefined(E)?E:r();var F=window.location.host;if(F.indexOf(b)===0){F=F.substring(2);}return"http://"+F+"/"+(E?"?ilc="+E:"");}function A(){if(l){return true;}return false;}function d(F){var E,H=w;if(l){E=u(F);try{l.setHomePage(E);}catch(G){}H=l.isHomePage(E);if(H){v(F,"1");}}return H;}function z(E){var F=w;if(j.get(f)==1){F=h;}else{if(p.ie){if(window.location.host.indexOf(b)===0){F=window.history.length==1;}else{F=window.history.length==((p.ie<10)?0:1);}}else{if((p.gecko||p.webkit)&&window.history.length==1){F=h;}else{if(p.opera&&window.history.length===0){F=h;}}}}return F;}function x(G,F){var E;G=a.one(G);F=F||{};G.on(e,this._handleClick,this);G.on(c,this._handleKeydown,this);G.on(k,this._handleMousedown,this);E=F.autohideTargets||[];E.push(G);this.autohide=D.getService("autohide");this.autohideId=this.autohide.register({targets:E,hide:a.bind(this.hide,this)});this.instrumentation=D.getService("instrumentation");this.overlay=G;this.options=F;}x.prototype={autohide:C,autohideId:C,instrumentation:C,options:C,overlay:C,_handleClick:function(F){var E=F.target;if(E.hasClass("hs-close")){this.hide();}else{if(E.hasClass("hs-drag-icon")){F.preventDefault();}}},_handleMousedown:function(E){if(E.target.hasClass("hs-drag-icon")){v(this.options.ilc,"1");this.instrumentation.fireBeacon(this.options.dragBeacon);}},_handleKeydown:function(E){if(E.keyCode==o){this.hide();}},getRootNode:function(){return this.overlay;},hide:function(){this.overlay.removeClass(y);},show:function(){var E=this.overlay,F=E.one("h3");E.addClass(y);F.setAttribute("tabIndex","-1").focus();},toggle:function(){if(this.overlay.hasClass(y)){this.hide();}else{this.show();}},destroy:function(){var E=this.overlay;this.hide();E.detach(e,this._handleClick);E.detach(c,this._handleKeydown);E.detach(k,this._handleMousedown);this.autohide.unregister(this.autohideId);this.overlay=C;}};B={createOverlay:function(F,E){return new x(F,E);},isHomepageSet:z,getHpCookie:m,setHpCookie:v,getIlcCookie:r,setIlcCookie:t,setIEHomepage:d,testIESetHomepage:A};a.namespace(g);a[g][s]={name:"sethomepage",getService:function(F,E){if(!D){D=F;q=D.getProperty("cookieDomain");}if(a.UA.ie&&!l){l=document.createElement("DIV");l.id="y-ieshp";l.style.behavior="url(#default#homepage)";document.body.appendChild(l);}return B;}};if(n){n.registerService(a[g][s]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("lazy_image",function(f){var c=f.ModulePlatform,g="lzbg",a="MPServices",e="LazyImageProvider",b;function d(i){var h;if(i.test("img")){h=i.getStyle("backgroundImage");if(/url\(['"](.*?)['"]\)/.test(h)){}else{/url\(["']?(.*?)["']?\)/.test(h);}h=RegExp.$1;if(h&&h.length>0){i.set("src",h);i.setStyle("backgroundImage","");}}i.removeClass(g);}f.later(0,this,function(){var h=f.DOM.viewportRegion(),i=h.bottom+250;f.all("."+g).each(function(j){if(j.getY()<=i){d(j);}});f.onceAfter("scroll",function(j){f.all("."+g).each(function(k){f.later(0,this,d,k);});});});b={LAZY_IMAGE_CLASS:g,loadImage:d};f.namespace(a);f[a][e]={name:"lazyimage",getService:function(i,h){return b;}};if(c){c.registerService(f[a][e]);}},"0.0.1",{requires:["dom","node"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("sticky_position_service",function(h){var f=h.ModulePlatform,b,e,c="MPServices",g="StickyPositionProvider",d=h.Lang,a=[];e=function(j){if(!d.isObject(j)||d.isArray(j)||d.isFunction(j)){throw new Error("sticky service requires an object");}h.Object.each(j,function i(m,l){var n=h.one(l),k;if(!n){return;}if(m.onSticky&&!d.isFunction(m.onSticky)||m.onLoose&&!d.isFunction(m.onLoose)){return;}k=h.Node.create('<div class="sticky-pholder"></div>');n.insert(k,"before");a.push({node:n,top:m.top||0,onSticky:m.onSticky,onLoose:m.onLoose,threshold:k.getY()+n.get("offsetHeight"),pHolderWidth:k.get("offsetWidth"),pHolder:k});});return this;};e.prototype={trigger:function(i,k,j,l){h.Array.each(a,function m(t){var o=t.threshold,p=t.node,s=t.top,q=t.nodeHeight||p.get("offsetHeight"),n=t.stickyToTop,r;if(j==="resize"){t.pHolderWidth=t.pHolder.get("offsetWidth");t.stickyToTop=i.height-t.top>q;n=t.stickyToTop;}if(n){r=o-k-s<=0;}else{r=o-(k+i.height)<=0;}if(r&&!t.disabled&&k!==0&&(h.Lang.isFunction(l)&&l())){if(j==="resize"||!p.hasClass("sticky")){p.addClass("sticky");p.setStyle("width",t.pHolderWidth);t.pHolder.setStyle("height",q);if(n){t.onSticky(p,"top");}else{t.onSticky(p,"bottom");}}}else{p.removeClass("sticky");t.pHolder.setStyle("height","");t.onLoose(p);}});},recalculateThresholds:function(i){var j=h.DOM.docHeight();h.Array.each(a,function k(m){var o=m.node,p=o.get("offsetHeight"),n=m.pHolder.getY(),l=i.height-m.top>p;if(l){m.threshold=n;}else{m.threshold=n+p;}m.stickyToTop=l;m.nodeHeight=p;m.disabled=(j===m.threshold);});}};h.namespace(c);h[c][g]={name:"sticky_position",getService:function(k,j){var i=h.one("html").hasClass("dev-desktop");if(!b){b=k;}if(h.UA.ie!==0&&h.UA.ie<7||i&&(h.UA.os==="android"||h.UA.os==="ios")){return false;}return e;}};if(f){f.registerService(h[c][g]);}},"0.0.1");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("userinfo_service",function(g){var d=null,c=g.ModulePlatform,a=d,f,b="MPServices",e="UserInfoProvider";f={getDisplayName:function(){return a.getProperty("user");},isLoggedIn:function(){return !!a.getProperty("user");},isRecognized:function(){return !!a.getProperty("userRecognized");},getLocation:function(){var i={},l=a.getProperty("userLocation"),j=["zip","city","state","country","woeid","lat","lon"],h=j.length,k;if(l){while((k=j[--h])){i[k]=l[k]||null;}}return i;}};g.namespace(b);g[b][e]={name:"userinfo",getService:function(i,h){if(!a){a=i;}return f;}};if(c){c.registerService(g[b][e]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("statemgr_service",function(b){var k=b.ModulePlatform,g="MPServices",m="StateMgrProvider",j="MSC",i="fpps",e="fpms",p="_page",l,h,c,d,r,o;function f(){var t=new Date();t.setFullYear(t.getFullYear()+1);return t;}function s(x,v,u){var w=h.getSub(x,v),t=null;if(w){t=c.parse(w)[u];}return t;}function a(z,w,t){var y=h.getSub(z,w),x,v,u;if(y){x=c.parse(y);delete x[t];v=c.stringify(x);u={expires:f(),domain:l,path:"/"};if(v=="{}"){h.removeSub(z,w,u);}else{h.setSub(z,w,v,u);}}}function q(y,u,t,w){var x=h.getSub(y,u),v=x?b.JSON.parse(x):{};v[t]=w;h.setSub(y,u,c.stringify(v),{expires:f(),domain:l,path:"/"});}function n(t){if(!d[t]){d[t]=r.getModuleApi(t).getProperty("trusted")?b.Object(o):{};b.mix(d[t],{getUserModuleState:function(u){return s(e,t,u);},removeUserModuleState:function(u){a(e,t,u);},setUserModuleState:function(u,v){q(e,t,u,v);},saveUserSetting:function(w,x,u){var v=k.getService("userinfo");if(v.isLoggedIn()){u.makeRequest({type:"module",moduleId:u.getId(),args:{_action:"save",_subAction:"userPrefSave",key:w,value:x,noups:1}},{});}else{this.setUserModuleState(w,x);this.update();}}});}return d[t];}o={isUpdated:function(){return !!h.get(j);},update:function(){h.setSub(j,"mod","1",{domain:l,path:"/"});},getUserPageState:function(t){return s(i,p,t);},removeUserPageState:function(t){a(i,p,t);},setUserPageState:function(t,u){q(i,p,t,u);}};b.namespace(g);b[g][m]={name:"statemgr",getService:function(u,t){r=u;h=b.Cookie;c=b.JSON;l=u.getProperty("cookieDomain")||b.config.win.location.hostname;if(!d){d={};}return !t?o:n(t);},destroy:function(){d=null;}};if(k){k.registerService(b[g][m]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("modal_service",function(b){var l=b.ModulePlatform,u,n,g="MPServices",m="ModalProvider",c=(function(){
/*! IS_POSITION_FIXED_SUPPORTED - https://gist.github.com/bobslaede/1221602/ */
var A=document.createElement("div"),z=A.cloneNode(false),w=false,v=document.body||(function(){w=true;return document.documentElement.appendChild(document.createElement("body"));}()),y,x;y=v.style.cssText;v.style.cssText="padding:0;margin:0";A.style.cssText="position:fixed;top:42px";v.appendChild(A);v.appendChild(z);x=A.offsetTop!==z.offsetTop;v.removeChild(A);v.removeChild(z);v.style.cssText=y;if(w){document.documentElement.removeChild(v);}return x;}()),k="modal",r="y-modal",f="y-modal-mask",i="px",s="100%",p="display",j="none",q="0",t=null,d=50,e=100,h=true,o=false;function a(x){var v=b.Node.create("<div></div>"),y=x.width||e,B=b.one(x.srcNode),w=b.one("body").get("dir")==="rtl",A={},z=-Math.floor(y/2);this.modalMask=a._getMask(x);this.modalBody=v;v.addClass(r+" "+x.className);A={width:y,display:j};if(w===true){A.marginRight=z;}else{A.marginLeft=z;}v.setStyles(A);v.append(B);this.modalMask.append(this.modalBody);if(!c){this.listener=b.on("scroll",this._resyncMask,this);}}a._getMask=function(x){var w=b.one("."+f)||t,y,v,z;if(w){return w;}else{v=b.one(document.body);z=b.Object.getValue(x,["zIndex"])||d;w=b.Node.create('<div><div class="y-modal-mask-bg"></div></div>');w.addClass(f);if(c){w.setStyles({position:"fixed",width:s,height:s,top:q,left:q,display:j,zIndex:z});}else{y=b.config.win;w.setStyles({position:"absolute",width:y.get("winWidth")+i,height:y.get("winHeight")+i,top:q,left:q,display:j,zIndex:z});}v.append(w);return w;}};a.prototype={visible:o,setContent:function(v){this.modalBody.setContent(v);},show:function(){this.modalMask.all("."+r).setStyle(p,j);this.modalBody.setStyle(p,"");this.modalMask.setStyle(p,"");this.visible=h;if(!c){this._resyncMask(b.config.win);}this.modalMask.on("click",this.handleClick,this);this.modalBody.on("click",this.handleClick,this);},hide:function(){this.modalMask.setStyle(p,j);this.modalMask.all("."+r).setStyle(p,j);this.visible=o;},handleClick:function(x){var w=x.target,v=false;if(w.hasClass("y-modal-mask-bg")||w.hasClass("modal-close")){v=true;}if(v){this.hide();}},isVisible:function(){return this.visible;},destroy:function(){var v=this.modalMask.all("."+r);this.modalBody.remove();this.modalBody=t;if(v&&v.size()<2){if(this.listener){this.listener.detach();}this.modalMask.remove(true);this.modalMask=t;}},_resyncMask:function(A){if(!this.isVisible()){return;}var B=A.currentTarget||A,v=B.get("docScrollX"),C=B.get("docScrollY"),y=B.get("innerWidth")||B.get("winWidth"),z=B.get("innerHeight")||B.get("winHeight"),x=a._getMask();x.setStyles({top:C+i,left:v+i,width:y+i,height:z+i});}};n={create:function(v){return new a(v);}};b.namespace(g);b[g][m]={name:k,getService:function(w,v){if(!u){u=w;}return n;}};if(l){l.registerService(b[g][m]);}},"0.0.1");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("tooltip_service",function(b){var m=b.ModulePlatform,n,d,e="MPServices",a="ToolTipProvider",i="hide",l="bottom",f="top",h=null,c="left",j="right",g="px";function k(p){var o;this.options=b.merge({position:{box:"b",arrow:"c"},msg:"<!-- empty -->",className:"y-tooltip-default",pointerClass:"y-glbl-universal",borderClass:"",parentNode:document.body,autohide:false,role:"alert",scrollIntoView:false},p);this.options.parentNode=b.one(this.options.parentNode);if(b.Lang.isArray(this.options.borderClass)){this.options.borderClass=this.options.borderClass.join(" ");}if(b.Lang.isArray(this.options.className)){this.options.className=this.options.className.join(" ");}if(b.Lang.isArray(this.options.pointerClass)){this.options.pointerClass=this.options.pointerClass.join(" ");}o="<div class='y-tooltip "+this.options.className+"'><div class='tooltip hide' role='"+this.options.role+"'><div class='content "+this.options.borderClass+"'></div><span class='"+this.options.pointerClass+" pointer'></span><div class='crnr-rt'></div><div class='crnr-rb'></div></div></div>";this.toolTipBody=b.Node.create(o);this.pointAtMe=h;this.toolTip=this.toolTipBody.one(".tooltip");this.content=this.toolTipBody.one(".content");this.pointer=this.toolTipBody.one(".pointer");this.autohideId=h;this.options.parentNode.insertBefore(this.toolTipBody,this.options.parentNode.get("firstChild"));if(this.options.autohide){this.autohideId=d.getService("autohide").register({targets:[this.toolTip],hide:b.bind(this.hide,this)});}}k.prototype={getNode:function(){return this.toolTipBody;},setContent:function(o){if(typeof(o)==="string"){this.content.set("innerHTML",o);}else{this.content.set("innerHTML","");this.content.appendChild(b.one(o));}return this.content;},positionToolTip:function(s,D){var u,A,z,w,t=D.msg,y=D.position.box,B=D.position.arrow,r=D.position.alignNode,q=this.toolTip,p=this.pointer,v,C,x=D.parentNode.getStyle("direction"),o=D.noMsgUpdate||false;if(x==="rtl"){if(y==="r"){y="l";}else{if(y==="l"){y="r";}}if(B==="l"){B="r";}else{if(B==="r"){B="l";}}}w=this.pointAtMe=b.one(s);if(r){r=b.one(r);}if(!o&&t){this.setContent(t);}u=b.DOM.region(b.Node.getDOMNode(w));A=u.left+(u.width/2);z=u.top+(u.height/2);v=this.toolTip.get("parentNode").get("region");C=this.toolTip.get("region");if(u){switch(y){case"b":q.replaceClass(f,l);break;case"t":q.replaceClass(l,f);break;case"l":q.replaceClass(j,c);break;case"r":q.replaceClass(c,j);break;}switch(B){case"l":p.replaceClass("rightpointer","leftpointer");p.setStyle(c,"");q.setStyle(c,(u.left-v.left)-(this.pointer.getX()-C.left+(this.pointer.get("offsetWidth")/2))+(u.width/2)+g);break;case"c":if(y=="b"||y=="t"){p.setStyle(c,(C.width/2)-(this.pointer.get("offsetHeight")/2)+g);q.setStyle(c,(u.left-(C.width/2)+(u.width/2))-v.left+g);}else{p.setStyle(f,((C.height/2)-(this.pointer.get("offsetHeight")/2))+g);}break;case"r":p.replaceClass("leftpointer","rightpointer");p.setStyle(c,"");q.setStyle(c,((u.right-C.width)-v.left)+g);break;case"t":p.replaceClass("pointerbottom","pointertop");break;case"b":p.replaceClass("pointertop","pointerbottom");break;}switch(y){case"b":q.setStyle(f,(u.top-v.top+u.height+this.pointer.get("offsetHeight"))+g);break;case"t":q.setStyle(f,(u.top-v.top-C.height-this.pointer.get("offsetHeight"))+g);break;case"l":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,(u.left-v.left-C.width-this.pointer.get("offsetWidth"))+g);break;case"r":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,u.right-v.left+this.pointer.get("offsetWidth")+g);break;}}},show:function(q,o){var p=b.merge(this.options,o);this.toolTip.removeClass(i);if(q){this.positionToolTip(q,p);}this.toolTip.setAttribute("role",p.role);if(p.scrollIntoView){this.content.scrollIntoView();}return this.content;},hide:function(){this.toolTip.addClass(i);},isVisible:function(){return !this.toolTip.hasClass(i);},destroy:function(){if(this.autohideId!==h){d.getService("autohide").unregister(this.autohideId);this.autohideId=h;}this.toolTipBody.get("parentNode").removeChild(this.toolTipBody);this.toolTipBody=this.pointAtMe=this.toolTip=this.content=this.pointer=h;}};n={create:function(o){return new k(o);}};b.namespace(e);b[e][a]={name:"tooltip",getService:function(p,o){if(!d){d=p;}return n;}};if(m){m.registerService(b[e][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("aria_service",function(d){var i=d.ModulePlatform,g="MPServices",a="AriaProvider",c,f,h="aria-",e={hidden:["hide","show","isHidden"],disabled:["disable","enable","isDisabled"],selected:["select","unselect","isSelected"]},b=(d.UA.ie>=8||d.UA.gecko>=1.9||d.UA.webkit>=530);f={isSupported:function(){return b;},setRole:function(j,k){return j.setAttribute("role",k);},alert:function(m,j){var n=document,l,k;j=d.Node.getDOMNode(j)||n.body;if(b&&m){k=j.firstChild;while(k){if(d.DOM.hasClass(k,"aria-alert")){l=k;break;}k=k.nextSibling;}if(!l){l=n.createElement("div");l.role="alert";l.setAttribute(h+"live","assertive");l.className="hide-offscreen aria-alert";j.appendChild(l);}l.innerHTML="<p>"+m+"</p>";}this.update();},update:function(){if(!c){c=document.createElement("input");c.type="hidden";c.value=1;document.body.appendChild(c);}c.value=(c.value==1?0:1);},clearState:function(j,k){return j.removeAttribute(h+k);},hasState:function(k,l){var j=h+l;return k.hasAttribute?k.hasAttribute(j):k.getAttribute(j)!==null;},setState:function(j,k){j.setAttribute(h+k,true);},focusable:function(k,j){k.tabIndex=j?0:-1;}};d.Object.each(e,function(j,k){f[j[0]]=function(l){return f.setState(l,k);};f[j[1]]=function(l){return f.clearState(l,k);};f[j[2]]=function(l){return f.hasState(l,k);};});d.namespace(g);d[g][a]={name:"aria",getService:function(k,j){return f;}};if(i){i.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("iframeshim_service",function(c){var k=c.ModulePlatform,j=c.Node,p=c.Lang.isNumber,e,f="MPServices",a="IFrameShimProvider",o='<iframe class="y-iframe-shim" tabindex="-1" role="presentation" title="For presentation purposes. Please ignore." src="javascript:false"></iframe>',m="auto",g="display",i="parentNode",h="px",n="zIndex",l,b;function d(){var q=j.create(o);q.setStyle("frameBorder","0");q.setStyle("opacity",0);return q;}l=function(q){this.target=null;this.iframe=d();this.retarget(q);};l.prototype={show:function(){this._positionIFrame();this.iframe.setStyle(g,"block");},hide:function(){this.iframe.setStyle(g,"none");},retarget:function(q){this.hide();this.target=c.one(q);this._attachIFrame();},destroy:function(){this.iframe.get(i).removeChild(this.iframe);this.iframe=this.target=null;},_attachIFrame:function(){var r=this.iframe,q=r.get(i),s=this.target;if(s){s.get(i).insertBefore(r,s);}else{if(q){q.removeChild(r);}}},_positionIFrame:function(){if(!this.target){return;}var r=this.iframe,t=this.target,q=parseInt(t.getStyle("top"),10),v=parseInt(t.getStyle("left"),10),u=t.get(n),s=t.get("region");r.setStyles({top:p(q)?q+h:m,left:p(v)?v+h:m,width:s.width+h,height:s.height+h});if(p(u)){r.setStyle(n,u-1);}}};b={create:function(q){return new l(q);},isShimNeeded:function(){return c.UA.ie>5&&c.UA.ie<7;}};c.namespace(f);c[f][a]={name:"iframeshim",getService:function(r,q){if(!e){e=r;}return b;}};if(k){k.registerService(c[f][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("menu_service",function(b){var v=false,j=true,z=null,l=b.ModulePlatform,r="data-pos",e="selected",k="px",s="LI",i="visibility",t=38,d=40,n=27,g=13,c,u,a,q=v,m=[],o=b.Lang.isNumber,y=b.DOM,w,h="MPServices",p="MenuProvider";function x(){b.Array.each(m,function(A){A.hide();});}function f(B,A){this.node=b.one(B);this.options=A||{};this._items=[];this._selectedIndex=-1;this._visible=v;this._id=-1;this._shim=z;this._autohideId=-1;this._autohideTimer=z;this._compactFilter=this.options.compactFilter||false;this._init();}f.prototype={_init:function(){if(!c){c=l.getService("aria");q=c.isSupported();}var E=this.node,C=b.Node.getDOMNode(E),B=C.firstChild,F=0,A,D;while(B){if(B.nodeType==3){A=B.nextSibling;C.removeChild(B);B=A;}else{D=b.one(B.getElementsByTagName("a")[0]);if(D){this._items.push({element:B,linkElement:D,url:D.get("href")});if(q){c.setRole(B,"presentation");c.setRole(D,"menuitem");c.focusable(D,v);D.removeAttribute("href");}}else{this._items.push({});}if(!B.id){B.id=b.guid();}B.setAttribute(r,F);B=B.nextSibling;F++;}}if(u.isShimNeeded()){this._shim=u.create(E);}if(q){c.setRole(E,"menu");c.hide(E);}E.on("keydown",this._handleKeyDown,this);E.on("click",this._handleMouseEvents,this);E.on("mouseover",this._handleMouseEvents,this);this._id=m.length;m.push(this);},hide:function(B){if(this._visible){var E=this._shim,C=this.node,D=this.options.focusNode,A=null;C.setStyle(i,"hidden");c.hide(C);this._visible=v;if(E){E.hide();}this._clearAutohide();if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: none !important";}else{b.one(".troll-pointer").setStyle("display","none");}b.one(".more-tab").removeClass("more-tab-pressed");}this.fire({type:"hide",target:this});if(B&&D){b.one(D).focus();}}},isVisible:function(){return this._visible;},show:function(B,G,E){if(!this._visible){x();var F=B.left,D=B.right,C=this.node,H=this._shim,A=null;E=E||k;if(o(F)){C.setStyle("left",F+E);}else{if(o(D)){C.setStyle("right",D+E);}}C.setStyle("top",B.top+E).setStyle(i,"visible");if(G){this.options.focusNode=G;}if(q){c.show(C);}this.select(0);if(H){H.show();}this._visible=j;if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: block !important";}else{b.one(".troll-pointer").setStyle("display","block");}b.one(".more-tab").addClass("more-tab-pressed");}this.fire({type:"show",target:this});this._clearAutohide();this._autohideTimer=b.later(50,this,function(){this._autohideTimer=z;this._autohideId=a.register({targets:[this.node],hide:b.bind(function(){this.hide();},this)});});}},_clearAutohide:function(){var A=this._autohideTimer;a.unregister(this._autohideId);if(A){A.cancel();this._autohideTimer=z;}},_handleMouseEvents:function(C){var D=C.target,B=(D.get("tagName")==s)?D:D.ancestor(s),A=-1;if(B&&B.hasAttribute(r)){C.preventDefault();A=Number(B.getAttribute(r));switch(C.type){case"click":this.execute(A);break;case"mouseover":this.select(A);break;default:}}},_handleKeyDown:function(C){var D=C.target,B=(D.get("tagName")==s)?D:null,A=v;switch(C.keyCode){case d:this.selectNext(j);A=j;break;case t:this.selectPrevious(j);A=j;break;case n:this.hide(j);break;case g:if(B){this.execute(Number(B.getAttribute(r)));}break;default:}if(A){C.preventDefault();}},destroy:function(){var A=this.node,B=this._shim;if(q){A.detach("keydown",this._handleKeyDown);}A.detach("click",this._handleMouseEvents);A.detach("mouseover",this._handleMouseEvents);this._clearAutohide();if(B){B.destroy();}b.Object.each(this,function(C,E,D){delete D[E];});m[this._id]=null;},getSelectedIndex:function(){return this._selectedIndex;},getItemNode:function(A){return this.getItemNodes().item(A);},getItemNodes:function(){return this.node.all("li");},getItemUrl:function(A){return this._items[A].url;},execute:function(A){var C=null,B=null;if(A>=0&&A<this._items.length){this.hide(j);if(this._compactFilter){C=b.one(".more-search");C=C.get("children").item(A);B=b.one(".more-menu-selected");if(B!==null){B.removeClass("more-menu-selected");}C.addClass("more-menu-selected");}this.fire({type:"execute",target:this,relatedTarget:this.getItemNode(A),index:A,url:this._items[A].url});}},selectNext:function(A){if(this._selectedIndex<this._items.length-1){this.select(this._selectedIndex+1);}else{if(A){this.select(0);}}},selectPrevious:function(A){if(this._selectedIndex>0){this.select(this._selectedIndex-1);}else{if(A){this.select(this._items.length-1);}}},select:function(B){if(B!=this._selectedIndex){var D=this._selectedIndex,C=this._items[D],A=this._items[B];if(C){y.removeClass(C.element,e);}if(A&&A.hasOwnProperty("element")){y.addClass(A.element,e);if(q){if(C){c.focusable(C.linkElement,v);}c.focusable(A.linkElement,j);}A.linkElement.focus();this._selectedIndex=B;this.fire({type:"select",target:this,toIndex:B,fromIndex:D});}}}};b.augment(f,b.Event.Target);w={create:function(B,A){return new f(B,A);}};b.namespace(h);b[h][p]={name:"menu",getService:function(B,A){if(!c){c=l.getService("aria");u=l.getService("iframeshim");a=l.getService("autohide");}return w;}};if(l){l.registerService(b[h][p]);}});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("arcade_transport",function(f){var M=null,ag=false,H=true,S,d=f.ModulePlatform,c=M,ah,i=encodeURIComponent,n=f.Lang,l=f.Object,w=f.Array,N,G,D,e,ab=ag,P={},ad={},ai=[],x,g=ag,u,o,X=0,aj=1,s=2,v=3,C=2048,af=131072,p="_status",Z="_txnid",U="POST",B="GET",h="getProperty",R="MPServices",ac="TransportProvider";function K(L,A){c.error("transport",L,A);}function W(O){var L=M,A;switch(O.type){case"moduleload":L={_action:"show",_create:1,_suid:O.contentId};break;case"setpref":L={_action:"save",_subAction:S,_type:"pref",modid:O.moduleId,_create:1};break;case"loadview":if(O.view=="pa"){A=c.queryModules(function(ak){var Y=c.getModuleApi(ak);return Y&&Y.getProperty("type")=="pa";})[0];L={_action:"show",_subAction:"single",modId:O.moduleId,_container:0,_id:A};}else{L={_action:"show",_subAction:O.view=="default"?S:O.view,_id:O.moduleId,_container:O.chrome?1:0};}break;case"arcade":case"module":L=O.args;L._container=O.chrome?1:0;L._id=O.moduleId;break;default:K("Request doesn't have a type.");break;}O=L?f.merge(L,O):f.mix({},O);delete O.type;delete O.moduleId;delete O.args;return O;}function J(L){var A=L.match(/^((?:\w+:\/\/)?[^#?]+)/);return(A&&n.isArray(A))?A[1]:"";}function aa(L){if(!L){return"";}var A=[];l.each(L,function(Y,O){if(n.isValue(Y)){if(!n.isString(Y)){Y=f.JSON.stringify(Y);}A.push(O+"="+i(Y));}});return A.join("&");}function E(O,am,al){if(!al){K("Proxy request: No module id given, unable to look up proxy signature.");}var ak=J(O.url),Y=c.getModuleState(al).proxy[ak],L,A;if(!Y){K("Proxy request: '"+O.url+"' has not been registered for proxying.");}L=G+"?url="+i(O.url)+"&.sig="+Y+"&.crumb="+N;A={method:O.method,data:O.bodyData,on:am,headers:O.headers};return f.io(L,A);}function b(al,aq,L){if(al.type=="xhr"){return E(al,aq,L).id;}D=D?D:"/jsal";var A=D,an={method:B,on:x},ak={_crumb:N,_mode:"json"},am=c[h]("passthru"),ap,ao,Y,O;if(n.isArray(al)){an.method=U;}else{al=[al];}if(e){ak.pgmode=e;ak.reqSource=e;}ak[Z]=new Date().getTime();w.each(al,function(at,ar){al[ar]=W(at);al[ar][Z]=ak[Z];});if(an.method==B){ap=f.merge(al[0],ak);ao=aa(ap);if(ao.length>2000){an.method=U;}else{A=D+"?"+ao;}}if(am){A+=(A.indexOf("?")>-1?"&":"?")+am;}if(an.method==U){an.data=aa(ak)+"&_json="+i(f.JSON.stringify(al));}Y=f.io(A,an);O=Y.id;P[O]={args:arguments,moduleId:L,conn:Y};if(aq){P[O].callback=aq;}return O;}function m(){if(n.isArray(o)){while(o.length>0){var A=o.shift();b.apply(this,A);}u.detach();u=o=M;}g=ag;}function j(A){g=H;if(A){o=[];u=f.on("unload",f.bind(m,this,H),window);}}function z(ak,Y,O){var L=Y.responseText,A;if(L){A=L.indexOf("<!--");if(A>0){L=L.substring(0,A);}}N=L;m();ab=ag;}function T(O,L,A){K("Unable to update crumb.");}function F(){if(ab){return ag;}ab=H;j(H);var A={success:z,failure:T,scope:this};f.io("/?_mode=html&_action=show&_type=pref&_create=1&_subAction=_cFetch",{method:B,on:A});}function r(O,Y,L){if(g){if(n.isArray(o)){var A=f.Array(arguments);o.push(A);return M;}return ag;}return b(O,Y,L);}function a(L){var A=(P[L]&&P[L].conn&&P[L].conn.isInProgress());return A;}function V(A){if(a(A)){P[A].conn.abort();}else{return false;}}function t(A){if(A&&P[A]&&P[A].args){r.apply(M,P[A].args);delete P[A];delete ad[A];return H;}return ag;}function k(ak,O,A){if(n.isUndefined(O)){O=H;}if(n.isFunction(ak)){ak(ak.argument,A);}else{var L=ak.scope||ak,Y=O?ak.success:ak.failure;if(Y){Y.call(L,A,ak.argument);}}}function y(Y,A,L){var O=P[Y].callback;if(O){k(O,L,A);}if(!n.isUndefined(ad[Y])){if(ad[Y]>1){ad[Y]-=1;}else{delete ad[Y];}}if(n.isUndefined(ad[Y])){delete P[Y];}}function Q(al,A){var L=A._errorCode,Y=A._error,ak=P[al].callback,O={message:Y,moduleId:P[al].moduleId};if(A[p]==aj){if(L==af){if(!ab){F();}t(al);}else{K(Y,O);if(O.moduleId){return;}}}if(ak){k(ak,ag,O);}}function ae(){var A=ai.shift(),O,L;if(A){O=A[Z];if(A[p]!=X){Q(O,A);}else{L=c.getService("resourcemgr");if(A.props&&A.props.id){c.registerModule(A);}if(A.res){L.load(A.res,f.bind(y,M,O,A));}else{y(O,A);}}if(ai.length){n.later(1,this,ae);}}}function I(O,L,A){setTimeout(function(){y(O,L,ag);},0);}function q(ak,Y,A){var O;try{O=f.JSON.parse(Y.responseText);}catch(L){}finally{if(!n.isArray(O)){I(ak,Y,A);return;}}w.each(O,function(am){if(am[p]!=X){Q(ak,am);return;}var al;if(am.response){al=am.response;}else{al=[am];}if(!ad[ak]){ad[ak]=0;}ad[ak]+=al.length;w.each(al,function(an,ao){an._partId=ao;an[Z]=ak;if(!an.data){an.data={};}an.data=f.merge(am.data,an.data);});ai=ai.concat(al);});if(ai.length){n.later(1,this,ae);}}ah={E_OK:X,E_FATAL:aj,E_GLOBAL:s,E_MODULE:v,EC_CRUMB_ERR:C,EC_CRUMB_STALE:af,disable:j,enable:m,isEnabled:function(){return !g;},makeRequest:r,abortRequest:V,isRequestPending:a,_reset:function(){ab=ag;P={};ad={};ai=[];o=M;m();}};x={success:q,failure:I,scope:this};f.namespace(R);f[R][ac]={name:"arcade_transport",getService:function(L,A){if(!c){c=L;N=c[h]("crumb");if(n.isUndefined(N)){N=c[h]("dali").crumb;}G=c[h]("proxyUrl");D=c[h]("requestUrlLite");e=c[h]("pgmode");}return A?M:ah;}};if(d){d.registerService(f[R][ac]);}},"1.0",{requires:["event","io"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-beacon",function(b,m){var e=300,l=999,i="[object String]",h="[object Error]",g="[object Object]",a=["ActionScript","Decompress fail"],f=["^resource://"],j,d=true;function c(o,n){return Math.floor(Math.random()*(n-o+1))+o;}b.namespace("Af").Beacon={enable_beaconerr:true,enable_beaconrterr:false,meta:{},pathPrefix:"/_td_api/beacon",setSampleSize:function(n){n=parseInt(n,10);n=n?Math.floor(Math.max(n,1)):1;d=(n===1)||(c(1,n)===1);return d;},send:function(q,p,r){if(!q){if(r){r("invalid beacon path");}return;}var n=new Image();n.onerror=function(t){var s=t instanceof Error?t.toString():t;if(r){r(s);}};n.onload=function(s){if(r){r();}};try{if(p&&b.Object.size(p)){q+="?"+b.QueryString.stringify(p);}n.src=q;return;}catch(o){if(r){r("querystring stringify failed");}}},error:function(r,q,n){if(!d||this._shouldIgnoreError(n)){return;}var p={code:l,message:""},o=Object.prototype.toString.call(n);if(n){switch(o){case i:p.message=n;break;case h:p={code:n.code||l,message:n.message,line:n.lineNumber||"",file:n.fileName||""};break;case g:p=n;break;default:try{p={code:l,message:b.JSON.stringify(n)};}catch(s){}}p.message=(p.message&&p.message.substring(0,e))||"";}this._send("error",r,b.merge(this.meta,q,p));},info:function(o,n){if(d&&n&&n.code){this._send("info",o,b.merge(this.meta,n));}},perf:function(o,n){if(d&&n&&n.code&&b.Object.owns(n,"time")){this._send("perf",o,b.merge(this.meta,n));}},ignoreError:function(n){if(n){a.push(n);}},ignoreURL:function(n){if(n){f.push(n);}},_shouldIgnoreError:function(o){if(!o){return false;}var p,n,q;if(typeof o==="string"){q=o;}else{q=o.message;}if(!q){return false;}for(p=0,n=a.length;p<n;p++){if(q.match(a[p])){return true;}}return false;},_shouldIgnoreURL:function(o){if(!o){return false;}var p,n;for(p=0,n=f.length;p<n;p++){if(o.match(f[p])){return true;}}return false;},_send:function(o,r,q){var n,p=this.pathPrefix;if(!p||!o||!q){return;}if(r){q.src=r;}this.send(p+"/"+o,q);}};j=window.onerror;window.onerror=function k(p,o,n){var r=b.Af.Beacon;try{if(r.enable_beaconrterr&&!r._shouldIgnoreURL(o)){r.error("rt",{url:o.substring(0,e),line:n},p);}}catch(q){}return typeof j==="function"?j(p,o,n):false;};},"0.0.1",{requires:["json-stringify","querystring-stringify-simple"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-comet",function(f,E){var M={},T={},I=[],u=0,D="https://web.archive.org/web/20140601014244/http://comet.yahoo.com/comet",l={publicCometHost:D,privateCometHost:D,shutdown:false,subscribeMaxTries:1,subscribeTimeout:5000,trackInitComet:false,trackShutdown:false,trackLatency:true,latencySampleSize:50},i,Q,n=[],R=false,s=f.Af.Beacon,K=f.Af.Utils,q=f.Object,r=f.Lang.isFunction,P={once:true},v=/^\d+$/,d=/^(\d+)\-(\d+)\-(\d+) (\d+):(\d+):(\d+)$/,y=/^408:\d+:jsonp timeout$/,j=/^500::jsonp failed$/,z="/meta/subscribe",k="/meta/unsubscribe",t="/meta/unsuccessful",c="/meta/handshake",B=null,e="opening",N="open",H="closed",J="private",F="public",a="connected",O="open",p="close",S="message",W="error";(function o(){function X(ad){var ac=window.location.protocol;if(ad){if(ac.indexOf("https")===0){ad=ad.replace(/http:/,"https:");}else{ad=ad.replace(/https:/,"http:");}}return ad;}var aa=f.Af.Config,Y=aa.get("context")||{},Z=Y.onepush_publicCometHost,ab=Y.onepush_privateCometHost;i=f.merge(l,aa.get("onepush"),aa.get("comet"));if(Z){i.publicCometHost=Z;}if(ab){i.privateCometHost=ab;}i.publicCometHost=X(i.publicCometHost);i.privateCometHost=X(i.privateCometHost);}());function A(Y){if(!Y){return B;}var X,Z;if(v.test(Y)){X=parseInt(Y,10);Z="D"+X;if(Z.length<14){X=X*1000;}return X;}X=Y.match(d);if(!X){return B;}X=Array.prototype.slice.call(X);X.shift();X[1]=parseInt(X[1],10)-1;return new Date(X[0],X[1],X[2],X[3],X[4],X[5]).getTime();}function m(Y){var Z,X=Y.length,aa=0;for(Z=0;Z<X;Z++){aa+=Y[Z];}return Math.round(aa/X);}function G(X){var Y=Math.floor(X.length/2);if(X.length%2){return X[Y];}return Math.round((X[Y-1]+X[Y])/2);}function C(Z){var X,Y=i?i.trackLatency:l.trackLatency;if(!Y||R||!s){return;}Z=parseInt(Z,10);if(typeof Z!=="number"){return;}n.push(Z);X=parseInt(i&&i.latencySampleSize,10)||l.latencySampleSize;if(n.length>=X){R=true;n.sort(function(ab,aa){return ab-aa;});s.info(E,{code:"onepushLatency",clientId:M[F]&&M[F].getClientId(),sampleSize:n.length,min:n[0],max:n[n.length-1],median:G(n),mean:m(n)});n=[];}}Q=[{parse:function(Y){var aa,Z;if(!Y||Y.channel.indexOf("/sports/games/")<0){return B;}try{aa=f.JSON.parse(Y.data);}catch(X){return B;}if(!aa||Y.channel!==aa.chn){return B;}Z=[];f.Array.each(aa.updates,function(ac){var af=A(ac.lastUpdatedTs),ae=A(ac.lastUpdated),ab=new Date().getTime(),ad={};if(ac.update&&ac.update.length){f.Array.each(ac.update,function(ah){if(ah._op==="up"){K.objectSetValue(ad,ah.key,ah.value);}});Z.push({data:ad,seq:ac.seq,time:ac.time,lastUpdated:ae,lastUpdatedTs:af});}try{if(af){C(ab-af);}else{if(ae){C(ab-ae);}}}catch(ag){}});return Z;}},{parse:function(X){if(!X||!X.data){return B;}return f.Lang.isArray(X.data)?X:[X];}}];function w(X){if(i.publicCometHost===i.privateCometHost){return F;}return X.indexOf("*")>0?J:F;}function h(Z,ac,X){var ab=T[Z],aa=f.merge({clientId:ab.clientId},X);q.each(ab.proxies,function Y(ad){ad.fire(ac,aa);});}function g(Z,Y){var X=T[Y];X.tries=X.tries?(X.tries+1):1;if(X.tries<=i.subscribeMaxTries){Z.subscribe(Y);}}function x(aa){var Y,X,ab,Z=[];for(Y=0,X=I.length;Y<X;Y++){ab=I[Y];if(w(ab)===aa){T[ab].state=e;g(M[aa],ab);}else{Z.push(ab);}}I=Z;}function b(Y){var ab=M[Y];ab.addListener(c,function Z(ac){if(ac.successful){x(Y);}});ab.addListener(z,function aa(af){var ae=af.subscription,ad=T[ae],ag;if(!af.successful){if(ad){ad.state=H;}ag=y.test(af.error)||j.test(af.error);if(!ag||ad.tries>=i.subscribeMaxTries){ad.tries=0;h(ae,W,{code:"subscribe",message:af.error||"",clientId:af.clientId});return;}g(ab,ae);return;}if(!ad){ad=T[ae]={state:B,proxies:{}};}ad.state=N;ad.clientId=af.clientId;h(ae,O,{clientId:af.clientId,tries:ad.tries});ab.addListener(ae,function ac(ak){if(ak){var aj,ai,ah=Q.length;for(ai=0;ai<ah;ai++){aj=Q[ai].parse(ak);if(aj){h(ae,S,{clientId:ak.clientId,messages:aj});return;}}}});});ab.addListener(k,function X(ae){var ad=ae.subscription,ac=T[ad];if(ac){ac.tries=0;}if(!ae.successful){h(ad,W,{code:"unsubscribe",message:ae.error||"",clientId:ae.clientId});return;}if(ac){ac.state=H;h(ad,p,{clientId:ae.clientId});}});}function V(X){if(M[X]){return;}if(i.shutdown){if(s&&K.urlParseBoolean(i.trackShutdown)){s.info(E,{code:"shutdown"},P);}return;}if(!r(f.initComet)){if(s){s.error(E,{},{code:"nocomet"},P);}return;}var Y=M[X]=f.initComet(i[X+"CometHost"]);Y.config(["subscribe","jsonpTimeout"],i.subscribeTimeout);b(X);if(Y.getClientState()===a){x(X);}if(s&&K.urlParseBoolean(i.trackInitComet)){s.info(E,{code:X+"Comet"},P);}}function U(Z){var X=T[Z],Y=w(Z),aa=M[Y];if(aa&&X.state!==N&&X.state!==e){if(aa.getClientState()===a){X.state=e;g(aa,Z);}else{if(f.Array.indexOf(I,Z)<0){I.push(Z);}}}}function L(X){this.id=++u;this.channel=X;}L.prototype={close:function(){var Y=this,Z=Y.channel,X=T[Z];Y.fire(p);Y.detachAll();if(X){delete X.proxies[Y.id];if(q.size(X.proxies)===0&&(X.state===N||X.state===e)){M[w(Z)].unsubscribe(Z);}}}};f.augment(L,f.EventTarget,true,B,{emitFacade:true});f.namespace("Af").CometChannelProxy=L;f.namespace("Af").Comet={open:function(Y){if(!Y){return B;}var X;V(w(Y));T[Y]=T[Y]||{state:B,proxies:{}};X=new L(Y);T[Y].proxies[X.id]=X;switch(T[Y].state){case N:window.setTimeout(function(){X.fire(O,{clientId:T[Y].clientId});},0);break;case e:break;default:U(Y);break;}return X;},parseLastUpdated:A};},"0.0.1",{requires:["af-beacon","af-config","comet","event-custom-base","json-parse"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-config",function(e,d){var c=e.Af.Utils,b=e.Array;e.namespace("Af").Config={get:function(g,i){var f,h;f=(YUI.Env.Af&&(YUI.Env.Af.config||YUI.Env.Af.settings))||{};f.context=e.merge(f.context,c.urlParseQuery());h=c.objectGetValue(f,g);return e.Lang.isValue(h)?h:i;},getContext:function(f,h){var g=this.get("context."+f);if(g===undefined){return h;}return g;},_host:window.location.host,isDev:function(){var f=this.getContext("env");if(f&&(f==="dev"||f==="corp"||f==="development")){return true;}return(!!this._host)&&this._host.indexOf(".corp.")>0;},isFeatureOn:function(f,h){if(!f){return false;}var g=this.getContext("enable_"+f,h);return c.urlParseBoolean(g);}};(function a(){var i=e.Af.Config,h=e.Af.Beacon,g,f;if(!h){return;}f=i.get("context")||{};b.each(["enable_beaconerr","enable_beaconrterr"],function(j){if(parseInt(f[j],10)===0){h[j]=false;}});g=i.get("beacon",{});if(g.pathPrefix){h.pathPrefix=g.pathPrefix;}if(g.sampleSize){h.setSampleSize(g.sampleSize);}b.each(["rid","bucket","device","site"],function(j){if(f[j]){h.meta=h.meta||{};h.meta[j]=f[j];}});}());},"0.0.1",{requires:["af-beacon","af-utils"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-utils",function(b,o){var c=b.Cookie,g=b.Lang,k=b.Array,e=b.Object,l=g.isObject,h=g.isArray,a=g.isString,d=g.trim,n=/^([\w!.%+\-])+@([\w\-])+(?:\.[\w\-]+)+$/,i=/((ftp|https?):\/\/)?(www\.)?[a-z0-9\-\.]+\.[a-z0-9\/]+$/,f={},j,m=YUI.namespace("Env.Af.Perf."+b.id);b.namespace("Af").Utils={urlParseQuery:function(){var p=window.location.search;if(p&&p.length>1){return b.QueryString.parse(p.substring(1));}return{};},urlParseBoolean:function(p){p=p?p.toString().toLowerCase():"";return p!==""&&p!=="null"&&p!=="undefined"&&p!=="0"&&p!=="false"&&p!=="no";},objectGetValue:function(s,q,p){if(a(q)){q=d(q);q=(q==="")?[]:q.split(".");}var r=e.getValue(s,q);return(r===undefined)?p:r;},objectSetValue:function(u,s,t){if(a(s)){s=d(s);s=(s==="")?[]:s.split(".");}if(!h(s)||s.length===0){return undefined;}var r,p=s.length,q=u;for(r=0;r<p;r++){if(r===p-1){q[s[r]]=t;}else{if(g.isUndefined(q[s[r]])){q[s[r]]={};}q=q[s[r]];}}return u;},objectEqual:function(u,t){var r=false,s,p;if(u===t){return true;}if((typeof u)!==(typeof t)){return false;}if(l(u)){if(e.size(u)!==e.size(t)){return false;}r=e.some(u,function q(x,w){return !b.Af.Utils.objectEqual(u[w],t[w]);});return !r;}if(h(u)){if(u.length!==t.length){return false;}for(s=0,p=u.length;s<p;s++){if(!b.Af.Utils.objectEqual(u[s],t[s])){return false;}}return true;}return false;},objectMerge:function(){var q=Array.prototype.slice.call(arguments),p={},r;for(r=0;r<q.length;r++){if(l(q[r])&&!h(q[r])){b.mix(p,b.clone(q[r]),true,undefined,0,true);}}return p;},stringParseKV:function(s,r,q){var p={};if(!s){return p;}r=r||";";q=q||":";k.each(s.split(r),function(w){if(w.length>0){var t=w.indexOf(q),u=d(w.substring(0,t)),v=d(w.substring(t+1));if(u){p[u]=v;}}});return p;},noop:function(){},use:function(){var p=Array.prototype.slice.call(arguments,0),q=p[p.length-1];if(g.isFunction(q)){p.pop();}else{q=null;}if(g.isArray(p[0])){p=p[0];}f.mods=(f.mods||[]).concat(p);if(q){f.cbs=f.cbs||[];f.cbs.push(q);}if(!j){j=b.Af.Utils.throttle(function(){var s=k.dedupe(f.mods),r=f.cbs||[];f={};b.use(s,function(v){var u,t;for(u=0,t=r.length;u<t;u++){r[u].call(null,v);}});},40,{leading:false});}j();},userSignedIn:function(){return !!(c.getSub("Y","n")&&c.getSub("Y","l"));},urlValidate:function(p){return i.test(p);},emailValidate:function(p){return n.test(p);},screenTouchable:function(){var p=document.documentElement.className;return(Modernizr&&Modernizr.touch)||!(p&&p.indexOf("no-touch")>=0);},getObjectInArray:function(v,q,u){if(!v){return null;}var t=v,p,s,r;s=t.length;for(p=0;p<s;p+=1){r=t[p];if(r.hasOwnProperty(q)&&r[q]===u){return{index:p,data:r};}}return null;},perfStart:function(p){m[p]={start:g.now()};},perfStop:function(p){var q=m[p];if(q&&q.start){q.took=g.now()-q.start;}},throttle:function(q,s,w){var p,u,x,v=null,t=0;w=w||{};function r(){t=w.leading===false?0:new Date();v=null;x=q.apply(p,u);}return function(){var y=new Date(),z;if(!t&&w.leading===false){t=y;}z=s-(y-t);p=this;u=arguments;if(z<=0){window.clearTimeout(v);v=null;t=y;x=q.apply(p,u);}else{if(!v&&w.trailing!==false){v=window.setTimeout(r,z);}}return x;};}};},"0.0.1",{requires:["cookie","oop","querystring-parse-simple"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("comet",function(d){d.namespace("Comet");function b(e){b.superclass.constructor.apply(this,arguments);}var c={};var a="comet:ready";d.initComet=function(g,f){var e=g.replace(/https:/,"http:");if(e.substr(-1)==="/"){e=e.substring(0,e.length-1);}if(!c[e]){d.publish(a);c[e]=new b();c[e].clearListeners();}else{}if(f){c[e].addListener("/meta/handshake",f);}c[e].initBayeux(g,function(h){if(h.successful){d.fire(a,{message:h});}});return c[e];};b.NAME="Comet";b.ATTRS={uri:{value:null,setter:function(g){if(g===null){return;}var e=window.location.protocol;if(e.indexOf("https")!==-1){g=g.replace(/http:/,"https:");}else{if(e.indexOf("http")!==-1){g=g.replace(/https:/,"http:");}}var f=g.toLowerCase();if(f.indexOf("https://")!==-1){this.set("protocol","https://");}else{if(f.indexOf("http://")!==-1){this.set("protocol","http://");}}return g;}},protocol:{value:"https://"},meta:{value:{handshake:{channel:"/meta/handshake",version:"1.0",supportedConnectionTypes:["long-polling"]},connect:{channel:"/meta/connect",connectionType:"long-polling"},subscribe:{channel:"/meta/subscribe"},unsubscribe:{channel:"/meta/unsubscribe"},publish:{},disconnect:{channel:"/meta/disconnect"}}},ioCfg:{value:{method:"POST",headers:{"Content-Type":"application/json",Accept:"*/*"}}},ext:{value:{all:{},handshake:{},subscribe:{"Comet-api-version":"1.1","Comet-subscriber-auth-info":null},unsubscribe:{"Comet-api-version":"1.1","Comet-subscriber-auth-info":null},connect:{},publish:{"Comet-api-version":"1.1","Comet-registration-id":"make-up","Comet-opaque-id":"markup","Comet-acknowledge-URI":"www.yahoo.com/ack","Comet-acknowledge-type":"All"},disconnect:{}}}};d.extend(b,d.Base,{_clientState:"unconnected",_advice:{},_connected:false,_config:{backoffIncrement:1000,maxBackoff:10000,maxNetworkDelay:300000,delayedSendMaxCount:10,advice:{timeout:60000,interval:0,reconnect:"retry"},subscribe:{jsonpTimeout:5000}},_delayedSendCount:0,_urlOrigin:"",_backoff:0,_isLongpollingConnect:false,_isSendingQueue:false,_clientId:null,_token:null,_lastMessageId:0,_outgoing:[],_subscribeChannel:{},_queue:new d.AsyncQueue(),_ioQueue_c2s:d.io.queue,_ioQueue_s2c:d.io.queue,_jsonp:null,_listeners:{},initializer:function(e){this.setClientState("unconnected");d.on("beforeunload",d.bind(function(){if(this.getClientState()!=="unconnected"){this.disconnect();}},this),window);},config:function(e,f){d.Object.setValue(this._config,e,f);},_Queue_send:function(f){var e=this;e._batch(f);if(!e.getClientId()){return;}if(e._isSendingQueue){return;}if(e._outgoing.length<=0){return;}d.each(e._outgoing,function(g){g=e._patchMessage(g);});e._IO_send(true,e._outgoing);e._outgoing=[];},_nextQueueSend:function(){this._Queue_send();},_IO_send:function(g,f){var e=this;if(!e.get("uri")){return;}if(g){if(e._isSendingQueue||!f){return;}e._IO_Queue_Send(f);}else{if(!e.getClientId()){return;}if(e._isLongpollingConnect||!f){return;}e._IO_Longpolling_Send(f);}},_IO_Queue_Send:function(f){var e=this;e.setTokenHeader(e._token);var g=d.merge(e.get("ioCfg"),{context:e,timeout:e._config.maxNetworkDelay,data:d.JSON.stringify(f),xdr:{credentials:true},on:{success:function(h,k){try{var i=d.JSON.parse(k.responseText);e._handleResponse(i);}catch(j){e._handleFailure(f,"json parse error");return;}},failure:function(h,i){e._handleFailure(f,"500::io failed");},start:function(){e._isSendingQueue=true;},complete:function(){e._isSendingQueue=false;e._nextQueueSend();}}});e._ioQueue_c2s.stop();e._ioQueue_c2s(e.get("uri"),g);e._ioQueue_c2s.start();},_IO_Jsonp_Send:function(f){var e=this;if(!e.get("uri")){return;}var h=e.get("uri")+"?callback={callback}";var g=encodeURIComponent(d.JSON.stringify(f));h=h+"&data="+g;e._jsonp=new d.JSONPRequest(h,{on:{success:function(i){e._handleResponse(i);},timeout:function(i){e._handleFailure(f,"408:"+e._config.subscribe.jsonpTimeout+":jsonp timeout");},failure:function(){e._handleFailure(f,"500::jsonp failed");}},timeout:e._config.subscribe.jsonpTimeout});e._jsonp.send();},_IO_Longpolling_Send:function(f){var e=this;e.setTokenHeader(e._token);var g=d.merge(e.get("ioCfg"),{context:e,timeout:e._config.maxNetworkDelay,xdr:{credentials:true},data:d.JSON.stringify(f),on:{success:function(h,k){try{var i=d.JSON.parse(k.responseText);e._handleResponse(i);}catch(j){e._handleFailure(f,"json parse error");return;}},failure:function(h,i){e._handleFailure(f,"500::io failed");},start:function(){e._isLongpollingConnect=true;},complete:function(){e._isLongpollingConnect=false;}}});e._ioQueue_s2c.stop();e._ioQueue_s2c(e.get("uri"),g);e._ioQueue_s2c.start();},_handleResponse:function(e){if(e===undefined||e===null){return;}var f=this;d.each(e,function(h){f._updateAdvice(h.advice);h.originalURI=f._urlOrigin;var g=h.channel;switch(g){case"/meta/handshake":f._handshakeResponse(h);break;case"/meta/connect":f._connectResponse(h);break;case"/meta/disconnect":f._disconnectResponse(h);break;case"/meta/subscribe":f._subscribeResponse(h);break;case"/meta/unsubscribe":f._unsubscribeResponse(h);break;default:f._messageResponse(h);break;}});},_updateAdvice:function(e){if(e){this._advice=this._mixin(false,{},this._config.advice,e);}else{this._advice=this._config.advice;}},_handshakeResponse:function(f){var e=this;if(f.successful){e.setClientState("connected");e._clientId=f.clientId;if(e._advice.VIP){e.set("uri",e.get("protocol")+e._advice.VIP+"/comet");}e._notifyListeners("/meta/handshake",f);e._Queue_send();var g=e._isDisconnected()?"none":e._advice.reconnect;switch(g){case"retry":e._resetBackoff();e._delayedConnect();break;case"handshake":e.setClientState("unconnected");e._resetBackoff();e._delayedHandshake();break;case"none":e._disconnect(false);break;}}else{e._failHandshake(f);}},_failHandshake:function(g){var f=this;f.setClientState("unconnected");f._clientId=null;f._notifyListeners("/meta/handshake",g);f._notifyListeners("/meta/unsuccessful",g);var e=(f._advice.reconnect!=="none");if(e){f._increaseBackoff();f._delayedHandshake();}else{f._disconnect(false);}},_delayedHandshake:function(){var e=this;this._delayedSend(function(){e._handshake();});},_subscribeResponse:function(e){if(e.successful){if(this._subscribeChannel[e.subscription]&&this._subscribeChannel[e.subscription]===true){}else{this._subscribeChannel[e.subscription]=true;}if(e.ext["Comet-auth-token"]){this._token=e.ext["Comet-auth-token"];}this._notifyListeners("/meta/subscribe",e);}else{this._failSubscribe(e);}},_failSubscribe:function(e){this._notifyListeners("/meta/subscribe",e);this._notifyListeners("/meta/unsuccessful",e);},_connectResponse:function(f){var e=this;if(e._isDisconnected()){return;}e._connected=f.successful;if(e._connected){e.setClientState("connected");e._notifyListeners("/meta/connect",f);var g=e._isDisconnected()?"none":e._advice.reconnect;switch(g){case"retry":e._resetBackoff();e._delayedConnect();break;case"handshake":e.setClientState("unconnected");e._resetBackoff();e._delayedHandshake();break;case"none":e._disconnect(false);break;}}else{e._failConnect(f);}},_failConnect:function(f){var e=this;e._notifyListeners("/meta/connect",f);e._notifyListeners("/meta/unsuccessful",f);var g=e._isDisconnected()?"none":e._advice.reconnect;switch(g){case"retry":e._delayedConnect();e._increaseBackoff();break;case"subscribe":e._delayedConnect();e._increaseBackoff();break;case"handshake":e.setClientState("unconnected");e._resetBackoff();e._delayedHandshake();break;case"none":e._disconnect(false);break;}},_delayedConnect:function(){var e=this;this._delayedSend(function(){e._connect();});},_disconnectResponse:function(e){if(e.successful){this._disconnect(false);this._notifyListeners("/meta/disconnect",e);}else{this._failDisconnect(e);}},_failDisconnect:function(e){this._disconnect(true);this._notifyListeners("/meta/disconnect",e);this._notifyListeners("/meta/unsuccessful",e);},_unsubscribeResponse:function(e){if(e.successful){if(this._subscribeChannel[e.subscription]&&this._subscribeChannel[e.subscription]===true){delete this._subscribeChannel[e.subscription];}this._notifyListeners("/meta/unsubscribe",e);}else{this._failUnsubscribe(e);}},_failUnsubscribe:function(e){this._notifyListeners("/meta/unsubscribe",e);this._notifyListeners("/meta/unsuccessful",e);},_messageResponse:function(e){if(e.successful===undefined){if(e.data){this._notifyListeners(e.channel,e);}else{this._notifyListeners("/meta/unsuccessful",e);}}else{if(e.successful){this._notifyListeners("/meta/publish",e);}else{this._failMessage(e);}}},_failMessage:function(e){this._notifyListeners("/meta/publish",e);this._notifyListeners("/meta/unsuccessful",e);},_delayedSend:function(e){var h=this;var f=h._advice.interval+h._backoff;if(h._config.maxBackoff<=h._backoff){h._delayedSendCount++;}else{h._delayedSendCount=0;}if(h._delayedSendCount>h._config.delayedSendMaxCount){var g=h.get("uri");h.set("uri",h._urlOrigin);if(g===h.get("uri")){return;}h._resetBackoff();h._delayedSendCount=0;}h._queue.add({fn:e,timeout:f});h._queue.run();},_handshakeFailure:function(f,e){this._failHandshake({successful:false,failure:true,channel:"/meta/handshake",request:f,advice:{reconnect:"retry",interval:this._backoff},error:e||"",ext:f.ext||{},id:f.id||""});},_connectFailure:function(f,e){this._connected=false;this._failConnect({successful:false,failure:true,channel:"/meta/connect",request:f,advice:{reconnect:"retry",interval:this._backoff},clientId:f.clientId||"",error:e||"",ext:f.ext||{},id:f.id||""});},_disconnectFailure:function(f,e){this._failDisconnect({successful:false,failure:true,channel:"/meta/disconnect",request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",error:e||"",ext:f.ext||{},id:f.id||""});},_subscribeFailure:function(f,e){this._failSubscribe({successful:false,failure:true,channel:"/meta/subscribe",request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",subscription:f.subscription||"",error:e||"",ext:f.ext||{},id:f.id||""});},_unsubscribeFailure:function(f,e){this._failUnsubscribe({successful:false,failure:true,channel:"/meta/unsubscribe",request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",subscription:f.subscription||"",error:e||"",ext:f.ext||{},id:f.id||""});},_messageFailure:function(f,e){this._failMessage({successful:false,failure:true,channel:f.channel,request:f,advice:{reconnect:"none",interval:0},clientId:f.clientId||"",subscription:f.subscription||"",error:e||"",ext:f.ext||{},id:f.id||""});},_handleFailure:function(j,e){var h,g,f;for(f=0;f<j.length;++f){h=j[f];g=h.channel;switch(g){case"/meta/handshake":this._handshakeFailure(h,e);break;case"/meta/connect":this._connectFailure(h,e);break;case"/meta/disconnect":this._disconnectFailure(h,e);break;case"/meta/subscribe":this._subscribeFailure(h,e);break;case"/meta/unsubscribe":this._unsubscribeFailure(h,e);break;default:this._messageFailure(h,e);break;}}},_notifyListeners:function(j,h){this._notify(j,h);this._notify(j+"/*",h);var k=j.split("/");var g=k.length-1,f=0;for(f=g;f>0;--f){var e=k.slice(0,f).join("/")+"/*";if(f===g){this._notify(e,h);}this._notify(e,h);}},_notify:function(g,f){var e=this._listeners[g];if(e){d.each(e,function(h){if(d.Lang.isFunction(h.listener)){h.listener(f);}});}},_isDisconnected:function(){return this._clientState==="unconnected";},_resetBackoff:function(){this._backoff=0;},_nextMessageId:function(){return ++this._lastMessageId+"";},_increaseBackoff:function(){if(this._backoff<this._config.maxBackoff){this._backoff+=this._config.backoffIncrement;}},_createMessage:function(g,f){f=f||{};var j=(new Date()).valueOf();var i=window.location.host;var e=[];var h=d.merge(this.get("ext").all,this.get("ext")[g],f.ext||{},{timestamp:j,host:i||""});switch(g){case"handshake":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g]));break;case"connect":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId()}));break;case"subscribe":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId(),subscription:f.channel}));break;case"unsubscribe":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId(),subscription:f.channel}));break;case"publish":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId(),channel:f.channel,data:f.data}));break;case"disconnect":e.push(d.merge({id:this._nextMessageId(),ext:h},this.get("meta")[g],{clientId:this.getClientId()}));break;}return e;},_handshake:function(e){var h=this;if(h.getClientState()!=="unconnected"){if(h.getClientState()==="connected"){var g={successful:true,channel:"/meta/handshake",clientId:h._clientId,originalURI:h._urlOrigin};h._notifyListeners("/meta/handshake",g);}return;}if(e&&e.listener){h._addListener(e,false);}h._clientId=null;h._token=null;h.resetTokenHeader();h._clearSubscriptions();h._updateAdvice(h._config.advice);var f=h._createMessage("handshake",e);h._IO_send(true,f);h.setClientState("connecting");},_connect:function(e){var g=this;if(g.getClientState()!=="connected"){return;}if(g._isLongpollingConnect){return;}var f=g._createMessage("connect",e);g._IO_send(false,f);},_subscribeJSONP:function(e){if(!(e&&e.channel)){return;}if(!this.getClientId()){return;}if(this._subscribeChannel[e.channel]&&this._subscribeChannel[e.channel]===true){return;}if(e.listener){this._addListener(e,true);}var f=this._createMessage("subscribe",e);this._IO_Jsonp_Send(f);},_unsubscribe:function(e){if(!this.getClientId()){return;}if(e&&e.channel){this.removeListeners(e.channel);}if(e&&e.channel){var f=this._createMessage("unsubscribe",e);this._Queue_send(f);}},_disconnect:function(f){var g=this;if(f){g._ioQueue_c2s.stop();g._ioQueue_s2c.stop();}g.setClientState("unconnected");g._clientId=null;g._resetBackoff();g._queue.stop();if(g._outgoing.length>0){var e=g._outgoing;g._outgoing=[];g._handleFailure(e,"500::canceled after disconnect");}g._clearSubscriptions();},_patchMessage:function(e){if(!e.id){e.id=this._nextMessageId();}e.clientId=this.getClientId();if(e.channel==="/meta/handshake"){delete e.clientId;}return e;},_batch:function(){d.each(arguments,function(e){if(e&&d.Lang.isArray(e)){var f=0;for(f=0;f<e.length;++f){this._outgoing.push(e[f]);}}else{if(e){this._outgoing.push(e);}}},this);},_clearSubscriptions:function(){d.each(this._listeners,function(e){if(e){d.each(e,function(g,f,h){if(g&&g.isSub){h.splice(f);}});}});this._subscribeChannel={};},_reDoSubscriptions:function(){d.each(this._subscribeChannel,function(e,f){if(e){this._subscribeChannel[f]=false;this._subscribeJSONP({channel:f});}},this);},isDuplicatedListener:function(e,g){var f=0;for(f=0;f<g.length;++f){var h=g[f];if(h&&h.listener&&h.listener.toString()===e.toString()){return true;}}return false;},_addListener:function(e,f,g){if(e&&e.listener&&d.Lang.isFunction(e.listener)){if(this._listeners[e.channel]){if(g||!this.isDuplicatedListener(e.listener,this._listeners[e.channel])){this._listeners[e.channel].push({listener:e.listener,isSub:f});}}else{this._listeners[e.channel]=[{listener:e.listener,isSub:f}];}}},_mixin:function(l,j,m){var g,h;var n=j||{};for(g=2;g<arguments.length;++g){var f=arguments[g];if(f===undefined||f===null){continue;}for(h in f){var e=f[h];var k=n[h];if(e===j){continue;}if(e===undefined){continue;}if(l&&typeof e==="object"&&e!==null){if(e instanceof Array){n[h]=this._mixin(l,k instanceof Array?k:[],e);}else{n[h]=this._mixin(l,{},e);}}else{n[h]=e;}}}return n;},destructor:function(){},getClientState:function(){return this._clientState;},setClientState:function(e){this._clientState=e;},getClientId:function(){return this._clientId;},initBayeux:function(e,f){this._urlOrigin=e;this.set("uri",e);this._handshake({channel:"/meta/handshake",listener:f});},subscribe:function(e,f){this._subscribeJSONP({channel:e,listener:f});},unsubscribe:function(e){this._unsubscribe({channel:e});},disconnect:function(g){var f=this;if(g){f._addListener({channel:"/meta/disconnect",listener:g},false);}if(f.getClientState()==="unconnected"){return;}if(!f.getClientId()){return;}var e=f._createMessage("disconnect");f._Queue_send(e);},publishMsg:function(f,h){if(f&&h){var e={channel:f,data:h};var g=this._createMessage("publish",e);this._Queue_send(g);}},clearListeners:function(){this._listeners={};},addListener:function(e,g,f){f=f||false;if(!g&&d.Lang.isFunction(g)){return;}this._addListener({channel:e,listener:g},false,f);},removeListeners:function(e){if(this._listeners[e]){delete this._listeners[e];}},setUserInfo:function(f,e){if(f&&e){var g=this.get("ext");g.subscribe["Comet-subscriber-auth-info"]={uid:f,user_type:"yahoo",user_cred:e};}},setUserInfoWithCookie:function(f,e){if(f){var g=this.get("ext");g.subscribe["Comet-subscriber-auth-info"]={uid:f,user_type:"yahoo",user_cred:"Any Value"};}},setTokenHeader:function(e){if(e){var f=this.get("ioCfg");f.headers["Authorization"]="Basic token="+e;}},resetTokenHeader:function(){var e=this.get("ioCfg");e.headers["Authorization"]="Basic token=";},setYcaHeader:function(e,f){if(e){var h=this.get("ioCfg");h.headers["Yahoo-App-Auth"]=e;}if(f){var g=this.get("ext");g.publish["Comet-opaque-id"]=f;}}});d.Comet=b;},"3.4.1",{requires:["base","io","json","async-queue","cookie","jsonp","jsonp-url"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("af-pipe",function(d,j){var t=d.Af.Config,i=d.Lang,z=d.Object,n=d.Array,e=d.Af.Utils,D=t.isFeatureOn("pipedebug"),a=i.isFunction,r=i.isNumber,p=i.isObject,y=i.isValue,k="lastUpdated",f="noseq",A={msg_maxidle:300000,msg_throttle:2000,seq_algo:k},o={},m="host-missing-seq",h="invalid-seq",v="open-failed",b="close-failed",q="ts-outoforder",B=null,l=true,C="close",c="error",u="idle",s="open",g="message";function x(){this._items=[];}o[f]=x;x.prototype={empty:function(){return !this._items.length;},pop:function(F,H){var G=this._items;this._items=[];return H&&H(B,G);},push:function(F,G){this._items.push(F);return G&&G(B);}};function w(){this._item=null;}o[k]=w;w.prototype={empty:function(){return !this._item;},pop:function(G,I){var F=this,H=F._item;if(!H||!G){return I&&I(B,B);}F._item=B;if(G.lastUpdatedTs&&H.lastUpdatedTs&&H.lastUpdatedTs>=G.lastUpdatedTs){return I&&I(B,[H]);}if(G.lastUpdated&&H.lastUpdated&&H.lastUpdated>=G.lastUpdated){return I&&I(B,[H]);}return I&&I(B,B);},push:function(I,J){var H,G,F=this;if(!I){return J&&J(B);}if(!F._item){F._item=I;return J&&J(B);}if(I.lastUpdatedTs&&F._item.lastUpdatedTs){H=F._item.lastUpdatedTs;G=I.lastUpdatedTs;}else{if(I.lastUpdated&&F._item.lastUpdated){H=F._item.lastUpdated;G=I.lastUpdated;}}if(!G){return J&&J({code:h,message:"invalid msg. algo=lastUpdated"});}if(H>G){return J&&J({code:q,message:H+">"+G});}if(H===G){F._item=I;}else{if(H<G){F._item=e.objectMerge(F._item,I);}}return J&&J(B);}};function E(G){var F=this;F._host=G.host;F._cfg=d.merge(A,t.get("pipe"));d.stamp(F);F._channel=(G.pipe&&G.pipe.channel)||(F._host&&(F._host.pipeChannel||F._host.get("pipeChannel")));F._meta={channel:F._channel};F._publishEvents();if(d.Af.Beacon){F.on([u,c],function(H){d.Af.Beacon.error(j,F._meta,d.merge({code:H.type},H.pipe));});}}E.NS="pipe";E.prototype={open:function(J){J=d.merge({delay:0},J);var I=Math.max(0,J.delay-30000),H=d.Lang.now(),F,G=this;if(I>0){F=H+I;if(G._delayTimer&&F<G._delayTimer.when){G._delayTimer.cancel();G._delayTimer=B;}if(!G._delayTimer){G._delayTimer=d.later(I,G,G._open,[J]);G._delayTimer.when=F;}}else{G._open(J);}},close:function(){var F=this;if(F._delayTimer){F._delayTimer.cancel();F._delayTimer=B;}if(F._idleTimer){F._idleTimer.cancel();F._idleTimer=B;}if(F._io){F._io.close();F._io=B;}},config:function(F){this._cfg=d.merge(A,t.get("pipe"),F);},destroy:function(){this.close();},_getSeqId:function(){var G=this,I=G._host,F,H=d.Af.Comet.parseLastUpdated;if(G._cfg.seq_algo===k){F={lastUpdatedTs:H(G.lastUpdatedTs||(I&&(I.lastUpdatedTs||I.get("lastUpdatedTs")))),lastUpdated:H(G.lastUpdated||(I&&(I.lastUpdated||I.get("lastUpdated"))))};if(r(F.lastUpdatedTs)||r(F.lastUpdated)){return F;}}return B;},_setIdleTimer:function(){var F=this;if(F._idleTimer){F._idleTimer.cancel();}F._idleTimer=d.later(F._cfg.msg_maxidle,B,function(){F._fireEvent(u,{idleTime:F._cfg.msg_maxidle});});},_open:function(I){var H=this,J=H._cfg.seq_algo;if(J!==f&&H._getSeqId()===B){H._fireEvent(c,{code:m,message:"algo="+J});return;}if(H._delayTimer){H._delayTimer.cancel();H._delayTimer=B;}if(!H._io){H._io=d.Af.Comet.open(H._channel);H._io.on("open",function G(K){H._meta.clientId=K.clientId;H._fireEvent(s);});H._io.on("close",function F(K){H._msgQ=B;H._fireEvent(C);});H._io.on("message",H._onMessage,H);H._io.on("error",H._onError,H);}},_onError:function(F){if(F.code==="subscribe"){this._fireEvent(c,{code:v,message:F.message,clientId:F.clientId});}else{if(F.code==="unsubscribe"){this._fireEvent(c,{code:b,message:F.message,clientId:F.clientId});}}},_onMessage:function(F){var G=this,I;if(!G._msgQ){I=o[G._cfg.seq_algo]||o[f];G._msgQ=new I();}G.throttled_pop=G.throttled_pop||e.throttle(function H(){if(!G._msgQ||G._msgQ.empty()){return;}G._msgQ.pop(G._getSeqId(),function(K,L){if(K){return;}if(!L||!L.length){return;}var N={},O,M;n.each(L,function(P){N=e.objectMerge(N,P.data);O=P.lastUpdatedTs;M=P.lastUpdated;});if(y(O)){N.lastUpdatedTs=O;}if(y(M)){N.lastUpdated=M;}G._fireEvent(g,{data:N});});},G._cfg.msg_throttle);n.each(F.messages,function J(K){if(!K){return;}G._setIdleTimer();if(G._msgQ){G._msgQ.push({lastUpdatedTs:K.lastUpdatedTs,lastUpdated:K.lastUpdated,data:K.data},function(L){if(L){G._fireEvent(c,L);}else{G.throttled_pop();}});}});},_fireEvent:function(F,G){this.fire(F,{pipe:G||{}});if(D&&console&&console.log){console.log("pipe event:",this._meta,F,G||"");}},_publishEvents:function(){var F=this;F.publish(C,{emitFacade:l});F.publish(c,{defaultFn:F._defaultErrFn,emitFacade:l});F.publish(u,{defaultFn:F._defaultIdleFn,emitFacade:l});F.publish(s,{emitFacade:l});F.publish(g,{defaultFn:F._defaultMessageFn,emitFacade:l});},_defaultErrFn:function(F){},_defaultIdleFn:function(F){this.close();},_defaultMessageFn:function(J){var F=this,I={},H=F._host,G=J.pipe.data;if(!G){return;}if(H&&a(H.setAttrs)){d.Object.each(G,function(L,K){var M=H.get(K);if(p(M)){I[K]=e.objectMerge(M,L);}else{I[K]=L;}});H.setAttrs(I);}else{if(!H){if(G.lastUpdatedTs){F.lastUpdatedTs=G.lastUpdatedTs;}if(G.lastUpdated){F.lastUpdated=G.lastUpdated;}}}}};d.augment(E,d.EventTarget,l,null,{emitFacade:l});d.namespace("Af").Pipe=E;},"0.0.1",{requires:["af-beacon","af-comet","af-config","af-utils","event-custom-base"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("tablite_service",function(d){var m=d.ModulePlatform,f,n,c=".tab",j=".panel",l="selected",e="on",b="fw-b",h="show-panel",o="tabs",k="menu",i,g="MPServices",a="TabliteProvider";i=function(p){this.body=p.body;this.tabWidget=p.tabWidget;this.navMode=p.navMode||o;this.moduleApi=p.moduleApi;this.tabs=this.body.all(c);this.panels=this.body.all(j);this.selectedTabNodes={tabNode:this.body.one("."+l),panelNode:this.body.one("."+h)};this.listeners=[];};i.prototype={body:undefined,tabWidget:undefined,moduleApi:undefined,tabs:[],panels:[],listeners:null,navMode:null,selectedTabNodes:{tabNode:undefined,panelNode:undefined},autoHideService:null,autoHideId:null,stateMgr:null,setup:function(){var q=0,p,r=this;this.tabs.each(function(s){if(q!==0){p.insert(s,"after");}s.addClass("loaded");p=s;q++;},this);if(this.tabWidget){this.tabWidget.addClass("tab-"+this.navMode+"-loaded");}if(this.navMode===k){this.autoHideService=m.getService("autohide");this.autohideId=this.autoHideService.register({targets:[this.tabWidget],triggers:["click"],hide:function(){r.tabWidget.removeClass("tab-menu-open");r.tabWidget.one(".wrapper").removeClass("popover");}});}this.body.on("click",this._handleClickEvent,this);if(this.moduleApi){this.stateMgr=this.moduleApi.getService("statemgr");}return;},teardown:function(){this.body.detach("click",this._handleClickEvent);if(this.autoHideService){this.autoHideService.unregister(this.autohideId);}return;},switchTab:function(r){var q={tabNode:this.tabs.item(r),panelNode:this.panels.item(r)},p;if(q.tabNode&&q.panelNode){this.selectedTabNodes.tabNode.removeClass(l);this.selectedTabNodes.tabNode.removeClass(e);q.tabNode.addClass(l);q.tabNode.addClass(e);if(this.navMode===o){this.selectedTabNodes.tabNode.removeClass(b);q.tabNode.addClass(b);}this.selectedTabNodes.panelNode.removeClass(h);q.panelNode.addClass(h);this.selectedTabNodes=q;p=this.selectedTabNodes.tabNode.getAttribute("data-tabid");this.stateMgr.saveUserSetting("st",p,this.moduleApi);}return;},_handleClickEvent:function(q){var p=q.target.ancestor(".tab",true);if(this.navMode===k){if(p){if(this.tabWidget.hasClass("tab-menu-open")){this.handleTabClick(p);this.toggleDropdown("close");return;}}if(!this.tabWidget.hasClass("tab-menu-open")){this.toggleDropdown("open");}}else{if(p&&!p.hasClass("tab-disabled")){this.handleTabClick(p);}}return;},handleTabClick:function(p){var q=this._getTabPos(p);this.switchTab(q);},toggleDropdown:function(p){if(p==="close"){this.tabWidget.removeClass("tab-menu-open");this.tabWidget.one(".wrapper").removeClass("popover");}else{this.tabWidget.addClass("tab-menu-open");this.tabWidget.one(".wrapper").addClass("popover");}this.toggleInactiveBeacons();},toggleInactiveBeacons:function(){this.tabWidget.all(".tab").each(function(p){if(p.hasAttribute("data-b-inactive")){p.setAttribute("data-b",p.getAttribute("data-b-inactive"));p.removeAttribute("data-b-inactive");}else{if(p.hasAttribute("data-b")){p.setAttribute("data-b-inactive",p.getAttribute("data-b"));p.removeAttribute("data-b");}}});},_getTabPos:function(q){var r=null,p=0;if(q){this.tabs.each(function(s){if(s===q){r=p;}p++;},this);}return r;}};d.namespace(g);d[g][a]={name:"tablite",getService:function(q,p){if(!f){f=q;}n=q.getService("login",p);return i;}};if(m){m.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("base64",function(c){var a="Base64 encode/decode by http://www.webtoolkit.info/";var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){var d="";var n,l,j,m,k,h,g;var e=0;f=b._utf8_encode(f);while(e<f.length){n=f.charCodeAt(e++);l=f.charCodeAt(e++);j=f.charCodeAt(e++);m=n>>2;k=((n&3)<<4)|(l>>4);h=((l&15)<<2)|(j>>6);g=j&63;if(isNaN(l)){h=g=64;}else{if(isNaN(j)){g=64;}}d=d+this._keyStr.charAt(m)+this._keyStr.charAt(k)+this._keyStr.charAt(h)+this._keyStr.charAt(g);}return d;},decode:function(f){var d="";var n,l,j;var m,k,h,g;var e=0;f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(e<f.length){m=this._keyStr.indexOf(f.charAt(e++));k=this._keyStr.indexOf(f.charAt(e++));h=this._keyStr.indexOf(f.charAt(e++));g=this._keyStr.indexOf(f.charAt(e++));n=(m<<2)|(k>>4);l=((k&15)<<4)|(h>>2);j=((h&3)<<6)|g;d=d+String.fromCharCode(n);if(h!=64){d=d+String.fromCharCode(l);}if(g!=64){d=d+String.fromCharCode(j);}}d=b._utf8_decode(d);return d;},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var d="";for(var g=0;g<e.length;g++){var f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f);}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128);}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128);}}}return d;},_utf8_decode:function(d){var e="";var f=0;var g=c1=c2=0;while(f<d.length){g=d.charCodeAt(f);if(g<128){e+=String.fromCharCode(g);f++;}else{if((g>191)&&(g<224)){c2=d.charCodeAt(f+1);e+=String.fromCharCode(((g&31)<<6)|(c2&63));f+=2;}else{c2=d.charCodeAt(f+1);c3=d.charCodeAt(f+2);e+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));f+=3;}}}return e;}};c.namespace("Base64");c.Base64=b;},"@VERSION@",{});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_geo",function(b){var a={_running:false,geoDetectSupport:function(d){var c=d;if(!navigator.geolocation){c=false;}return c;},getCurrentLocation:function(d,c,e){if(!this._running){navigator.geolocation.getCurrentPosition(d,c,{timeout:e});this._running=true;}}};b.namespace("LD");b.LD.GeoLocation=a;},"@VERSION@",{});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_geocoder",function(b){var a={proto:"http://",host:"locdrop.query.yahoo.com",table:"locdrop.placefinder",urlPath:"/v1/public/yql?",flags:"f",locale:"en_US",timeout:5000,init:function(c){if(c.geoCoderProtocol){this.proto=c.geoCoderProtocol;}if(c.geoCoderHost){this.host=c.geoCoderHost;}else{if(c.yqlHost){this.host=c.yqlHost;}}if(c.geoCoderTable){this.table=c.geoCoderTable;}if(c.geoCoderURLPath){this.urlPath=c.geoCoderURLPath;}if(c.geoCoderFlags){this.flags=c.geoCoderFlags;}if(c.locale){this.locale=c.locale;}if(c.geoCoderTimeout){this.urlPath=c.geoCoderTimeout;}if(window.location.protocol==="https:"){this.proto="https://";this.host=window.location.hostname;}},geocodeString:function(d,g,c){if(d==null){return;}var f=(d+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");var e="select * from "+this.table+' where text="';e=e+encodeURIComponent(f)+'" and locale="'+this.locale+'"';this.geocode(e,g,c);},geocodeWOEID:function(e,f,c){var d="select * from "+this.table+' where woeid="';d=d+e+'" and locale="'+this.locale+'"';this.geocode(d,f,c);},geocode:function(g,h,e){var f=this.proto+this.host+this.urlPath+"q="+g+"&format=json&callback={callback}";var d={instance:this,context:e,cb:h,requestURL:f};var c=new b.JSONPRequest(f,{on:{success:this.done,timeout:this.timedout,failure:this.failure},timeout:this.timeout,args:[d]});c.send();},done:function(c,d){if(typeof(c)=="undefined"||typeof(c.error)!="undefined"||typeof(c.query.results)=="undefined"){d.instance.failure(c,d);}else{d.cb(d.context,c);}},timedout:function(c,d){var e={errCode:"YQL_QUERIED_LOC_FETCH_TIMEOUT",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},failure:function(c,d){var e={errCode:"YQL_QUERIED_LOC_API_ERR",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},makeLocArray:function(h,n,c){var f=null;if(h==1){f=new Array();f.push(n.query.results.Result);}else{f=n.query.results.Result;}var e;var l=f.length;var g=[];var d=0;for(e=0;e<l;e++){var k="";if(f[e].line1!=null){k=f[e].line1;}if(f[e].line2!=null){if(k.length>0){k+=", ";}k+=f[e].line2;}if(f[e].line3!=null){if(k.length>0){k+=", ";}k+=f[e].line3;}if(f[e].line4!=null){if(k.length>0){k+=", ";}k+=f[e].line4;}f[e].id="new-"+b.Base64.encode(k);f[e].addr=k;if(f[e].uzip!=null&&f[e].uzip!=""&&f[e].uzip!="0"){f[e].zip=f[e].uzip;}if(f[e].statecode!=null){f[e].sc=f[e].statecode;}if(f[e].countrycode!=null){f[e].cc=f[e].countrycode;}if(f[e].country!=null){f[e].ctry=f[e].country;}if(f[e].latitude!=null){f[e].lat=f[e].latitude;}if(f[e].longitude!=null){f[e].lon=f[e].longitude;}if(f[e].woeid!=null){f[e].woe=f[e].woeid;}var m=true;if(c&&!c(f[e])){m=false;}if(m){g[d]=f[e];d++;}}return g;}};b.namespace("LD");b.LD.PlaceFinderYQL=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_autosuggest",function(b){var a={proto:"http://",host:"sugg.us.search.yahoo.net",urlPath:"/gossip-us-location?output=sd1&p2=t",locale:"en_US",timeout:5000,glApi:true,init:function(c){if(c.gossipProtocol){this.proto=c.gossipProtocol;}if(c.gossipHost){this.host=c.gossipHost;}if(c.gossipURLPath){this.urlPath=c.gossipURLPath;}if(c.locale){this.locale=c.locale;}if(c.gossipTimeout){this.urlPath=c.gossipTimeout;}if(window.location.protocol==="https:"){this.proto="https://";this.host="suggs.search.yahoo.com";}if(c.glApi){this.urlPath="/gossip-gl-location?output=sd1&p2=pt";}else{this.glApi=false;}},fetch:function(f,i,c,k,l){if(f==null){return;}var e=this.locale;e=(e)?e:"en_US";var h=(f+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");var d=this.proto+this.host+this.urlPath;if(i!==null&&c!==null){d+="&p1="+c+","+i;}d+="&command="+h;d+="&lc="+e;d+="&callback={callback}";var j={instance:this,context:l,cb:k,requestURL:d};var g=new b.JSONPRequest(d,{on:{success:this.done,timeout:this.timedout,failure:this.failure},timeout:this.timeout,args:[j]});g.send();},done:function(c,d){if(typeof(c)=="undefined"||typeof(c.r)=="undefined"){d.instance.failure(c,d);}else{d.cb(d.context,c);}},timedout:function(c,d){var e={errCode:"YQL_QUERIED_LOC_FETCH_TIMEOUT",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},failure:function(c,d){var e={errCode:"YQL_QUERIED_LOC_API_ERR",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},makeLocArray:function(m,d,c){var h,f,n,g=0,p=[],l,e,o;if(!this.glApi){b.Array.each(m,function(q,j,i){var r="";if(q.d!=null){f=q.d;if(f.indexOf("t=t&")!=-1){f=(f.split("&"))[1];}n=f.split("=");q.woe=n[1];}if(q.k!=null){r=q.k;q.id="new-"+b.Base64.encode(r);q.addr=r;}if(((q.addr).toUpperCase()).indexOf(c.toUpperCase())!=-1){var k=true;if(d&&!d(m[h])){k=false;}if(k){p[g]={};p[g].id=q.id;p[g].woe=q.woe;p[g].addr=q.addr;if(q.disabled!=null){p[g].disabled=q.disabled;}g++;}}});}else{b.Array.each(m,function(q,j,i){var r="";l={};if(q.d!=null){f=q.d;f=(f.split("&"));b.Array.each(f,function(u,t,s){n=u.split("=");l[n[0]]=n[1];});q.woe=l.woeid;if(l.sc){q.sc=", "+l.sc;}else{if(l.c){q.sc=", "+l.c;}else{q.sc="";}}}if(q.k!=null){r=q.k;q.id="new-"+b.Base64.encode(r);q.addr=r;}var k=true;if(d&&!d(m[h])){k=false;}if(k){p[g]={};p[g].id=q.id;p[g].woe=q.woe;p[g].addr=q.addr+q.sc;if(q.disabled!=null){p[g].disabled=q.disabled;}g++;}});}return p;}};b.namespace("LD");b.LD.PlaceSuggest=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_yql",function(b){var a={proto:"//",yqlHost:"us-locdrop.query.yahoo.com",yqlTable:"user.location.public",urlPath:"/v1/public/yql?",namespace:"LocdropYQLAccess",crumb:null,pendingCallback:false,yqlTimeout:50000,locale:"us",cacheData:{keys:[],vals:[]},setCrumb:function(c){if(this.crumb==null){this.crumb=c;}},setYqlTimeout:function(c){this.yqlTimeout=c;},setYqlHost:function(c){if(window.location.protocol==="https:"){this.yqlHost=window.location.hostname;}else{this.yqlHost=c;}},init:function(c){if(c.crumb){this.crumb=c.crumb;}if(c.yqlHost){this.yqlHost=c.yqlHost;}if(c.yqlTimeout){this.yqlTimeout=c.yqlTimeout;}if(c.yqlTimeout){this.yqlTimeout=c.yqlTimeout;}if(c.locale){this.locale=c.locale;}if(window.location.protocol==="https:"){this.proto="https://";this.yqlHost=window.location.hostname;}},url:function(){if(window.location.protocol==="https:"){this.proto="https://";this.yqlHost=window.location.hostname;}var c=this.proto+this.yqlHost+this.urlPath;return c;},addRequest:function(h,g,f){var e=this.url()+"q="+h;e+="&format=json&callback={callback}";var d={callbackStr:g,context:f,instance:this,requestURL:e};if(b.Get._pending&&b.Get._pending.transaction){if(b.Get._pending.transaction._pending){}b.Get._pending=null;}if(this.pendingCallback){this.LocdropYQLDataTimeout("",d);return false;}else{this.pendingCallback=true;}var c=new b.JSONPRequest(e,{on:{success:this.LocdropYQLDataCallback,timeout:this.LocdropYQLDataTimeout,failure:this.LocdropYQLDataFailure},timeout:this.yqlTimeout,args:[d]});c.send();return true;},getCtxTypeLocs:function(c,f){var e=c+"-"+f;for(var d=0;d<this.cacheData.keys.length;d++){if(this.cacheData.keys[d]==e){return this.cacheData.vals[d];break;}}return null;},fetchCtxTypeLocs:function(c,e,i,d){var h,f,g;if(this.getCtxTypeLocs(c,e)!=null){return false;}h={ctx:c,type:e,callback:i,context:d};f=this.locale.replace("-","_");f=(f)?f:"en_US";g="select%20*%20from%20"+this.yqlTable+"%20where%20ctx%3D%22"+c+"%22%20and%20type%3D%22"+e+"%22%20and%20crumb%3D%22"+this.crumb+"%22%20and%20locale%3D%22"+f+"%22";return this.addRequest(g,"fetchCtxTypeCallback",h);},decodeLocation:function(f){for(var d=0;d<f.length;d++){var c=f[d].key;var e=f[d].content;if(e!=null){if(f[d].encoding!=null){e=b.Base64.decode(e);}if(c!="dtime"){this[c]=e;}else{this["dtime"]=Date.parse(e);}}}},parseLocations:function(f){var g=new Array(),e=new Array(),d,c=this;if(typeof(f.query.results.Response.Attribute.Item)!="undefined"&&typeof(f.query.results.Response.Attribute.Item)=="object"){if(f.query.results.Response.Attribute.Item.length){d=f.query.results.Response.Attribute.Item;}else{d=new Array();d.push(f.query.results.Response.Attribute.Item);}b.Array.each(d,function(i,j,h){g[j]=new c.decodeLocation(i.Item);e=g[j].addr.split(",");g[j].city=e[0];});}return g;},fetchCtxTypeCallback:function(f,d){if(d.context!=null){d.context.errObj=d.errObj;}if(d.errObj.errCode){if(d.callback!=null){d.callback(d.context);}return;}var l=d.ctx+"-"+d.type;var h=this.parseLocations(f);for(var g=0;g<this.cacheData.keys.length;g++){if(this.cacheData.keys[g]==l){this.cacheData.vals[g]=h;break;}}if(g==this.cacheData.keys.length){this.cacheData.vals.push(h);this.cacheData.keys.push(l);}for(var c=0;c<h.length;c++){var j=null;var m=h[c].id;if(m.search("global-default-")!=-1){l="global-default";j=c;}else{if(m.search("global-physical-")!=-1){l="global-physical";j=c;}else{if(m.search("global-checkin-")!=-1){l="global-checkin";j=c;}else{if(m.search("local-saved-")!=-1){l="local-saved";j=c;}else{if(m.search("search-saved-")!=-1){l=m;j=c;}}}}}if(j!=null){for(var e=0;e<this.cacheData.keys.length;e++){if(this.cacheData.keys[e]==l){this.cacheData.vals[e]=h[j];break;}}this.cacheData.vals.push(h[j]);this.cacheData.keys.push(l);}}if(d.callback!=null){d.callback(d.context);}},deleteLoc:function(g,h,d){var c=g;var e={id:g,callback:h,widget:d};var f="DELETE%20from%20"+this.yqlTable+"%20where%20id%3D%22"+c+"%22%20and%20crumb%3D%22"+this.crumb+"%22";return this.addRequest(f,"deleteCallback",e);},deleteCallback:function(c,e){if(e.widget!=null){e.widget.errObj=e.errObj;}if(!e.errObj.errCode){var d;for(d=0;d<this.cacheData.keys.length;d++){this.cacheData.vals[d]=null;}}if(e.callback!=null){e.widget.response=c;e.callback(e.widget);}},setUse:function(g,c,h,d){var e={ctx:c,id:g,callback:h,context:d};var f="UPDATE%20"+this.yqlTable+"%20SET%20used%20%3D%20%22true%22%20where%20id%3D%22"+g+"%22%20and%20ctx%3D%22"+c+"%22%20and%20crumb%3D%22"+this.crumb+"%22";return this.addRequest(f,"setUseCallback",e);},setUseCallback:function(c,e){if(e.context!=null){e.context.errObj=e.errObj;}if(e.errObj.errCode){if(e.callback!=null){e.callback(e.context);}return;}var d;for(d=0;d<this.cacheData.keys.length;d++){this.cacheData.vals[d]=null;}if(e.callback!=null){e.context.response=c;e.callback(e.context);}},addLatLon:function(h,c,k,i,f,j,d){var e={callback:j,context:d,detect:true};var g="insert%20into%20"+this.yqlTable+"%20(app%2C%20lat%2C%20lon%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+f+"%22%2C%20%22"+h+"%22%2C%20%22"+c+"%22%2C%20%22"+k+"%22%2C%20%22"+i+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(g,"addCallback",e);},findLocByCoords:function(f,g,h,c){var e={callback:h,context:c},d='select%20*%20from%20locdrop.placefinder%20where%20text="'+f+","+g+'"%20AND%20gflags="R"';return this.addRequest(d,"addCallback",e);},addWoe:function(g,c,e,h,j,d){var i={callback:j,context:d};var f="insert%20into%20"+this.yqlTable+"%20(app%2C%20woe%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+h+"%22%2C%20%22"+g+"%22%2C%20%22"+c+"%22%2C%20%22"+e+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(f,"addCallback",i);},addPoint:function(h,i,c,l,j,f,k,d){var e={callback:k,context:d};var g="insert%20into%20"+this.yqlTable+"%20(app%2C%20address%2C%20lat%2C%20lon%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+f+"%22%2C%20%22"+h+"%22%2C%20%22"+i+"%22%2C%20%22"+c+"%22%2C%20%22"+l+"%22%2C%20%22"+j+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(g,"addCallback",e);},addPlace:function(g,i,k,h,e,j,c){var d={callback:j,context:c};var f="insert%20into%20"+this.yqlTable+"%20(app%2C%20address%2C%20woe%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+e+"%22%2C%20%22"+g+"%22%2C%20%22"+i+"%22%2C%20%22"+k+"%22%2C%20%22"+h+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(f,"addCallback",d);},addCallback:function(c,e){if(e.context!=null){e.context.errObj=e.errObj;}if(e.errObj.errCode){if(e.callback!=null){e.callback(e.context);}return;}var d;for(d=0;d<this.cacheData.keys.length;d++){this.cacheData.vals[d]=null;}if(e.callback!=null){e.context.response=c;e.callback(e.context);}},queryTypeErroCode:function(d){var c="YQL_GET_API_ERR";var e=new RegExp(d,"i");if(!e.test("select")){c="YQL_SET_API_ERR";}return c;},responseErrorCheck:function(c,e){var d={errCode:0,requestURL:e,yqlResponse:c};if((typeof c==="undefined"||typeof c.error!=="undefined")||(typeof c.query==="undefined"||typeof c.query.results==="undefined"||c.query.results==null)||(typeof c.query.results.Error!=="undefined")||(typeof c.query.results.result!=="undefined")){d.errCode=this.queryTypeErroCode(e);return d;}if(typeof c.query.results.Response!="undefined"&&typeof c.query.results.Response.Attribute!="undefined"&&typeof c.query.results.Response.Attribute.status!="undefined"&&typeof c.query.results.Response.Attribute.actionTaken!="undefined"&&c.query.results.Response.Attribute.status=="ERROR"){switch(c.query.results.Response.Attribute.actionTaken){case"get":d.errCode="YQL_GET_API_ERR";break;case"set":d.errCode="YQL_SET_API_ERR";break;default:return;}return d;}return d;},detectFailureCheck:function(c){if((c.detect)&&c.errObj.errCode){c.errObj.errCode="LW_DETECT_ERR";}return c.errObj;},LocdropYQLDataCallback:function(d,c){c.instance.pendingCallback=false;c.context.errObj=c.instance.responseErrorCheck(d,c.requestURL);c.context.errObj=c.instance.detectFailureCheck(c.context);c.instance[c.callbackStr](d,c.context);},LocdropYQLDataTimeout:function(d,c){c.instance.pendingCallback=false;c.context.errObj={errCode:"YQL_SAVED_LOC_FETCH_TIMEOUT",requestURL:c.requestURL,yqlResponse:d};c.context.errObj=c.instance.detectFailureCheck(c.context);c.instance[c.callbackStr](d,c.context);},LocdropYQLDataFailure:function(d,c){c.instance.pendingCallback=false;c.context.errObj=c.instance.responseErrorCheck(d);var e=c.instance.queryTypeErroCode(c.requestURL);c.context.errObj={errCode:e,requestURL:c.requestURL,yqlResponse:d};c.context.errObj=c.instance.detectFailureCheck(c.context);c.instance[c.callbackStr](d,c.context);}};b.namespace("LD");b.LD.LocdropYQL=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_core",function(a){var b={AC_FL:"fl",AC_GOSSIP:"gossip",AC_SAVED:"saved",POINT_LOC:"point",PLACE_LOC:"place",gossipResults:[],upapiCurLoc:null,upapiDefLoc:null,detectCtx:null,detectWaitTimeout:null,holderSetTimeout:null,ctx:null,type:null,app:null,initConfig:function(c){this.ctx=c.ctx||"*";this.type=c.type||"*";this.app=c.app||"universal_location_widget__v2";this.detectWaitTimeout=c.detectWaitTimeout||15000;},defaultSuggestFilter:function(c){return true;},getSavedLocationsCallback:function(d){var o=d.cb;var p=d.context;var f="addr";if(d.level){f=d.level;}if(d.errObj.errCode){o(p,d.errObj);}else{var c=d.filter;if(c==null){c=d.instance.defaultSuggestFilter;}var k=d.prefix.toUpperCase();var e=a.LD.LocdropYQL.getCtxTypeLocs("*","*");var l=[];var g=0;for(var h=0;h<e.length;h++){if(c(e[h])){if(k.length==0){l[g]=e[h];g++;}else{var m=d.instance.getAddressStr(e[h],f);if(m==null){m="";}var n=location.lbl;if(n==null){n="";}if((m.toUpperCase().indexOf(k)===0)||(n.toUpperCase().indexOf(k)===0)){l[g]=e[h];g++;}}}}o(p,l);}},getSavedLocations:function(h,f,e,i,d){if(!h){h="";}var c={instance:this,filter:f,context:d,cb:i,prefix:h,level:e,errObj:{}};var g=a.LD.LocdropYQL.getCtxTypeLocs("*","*");if(g){this.getSavedLocationsCallback(c);}else{a.LD.LocdropYQL.fetchCtxTypeLocs("*","*",this.getSavedLocationsCallback,c);}},setExtractedLocs:function(c,d){if(this.upapiCurLoc==null){this.upapiCurLoc=c;}if(this.upapiDefLoc==null){this.upapiDefLoc=d;}},processGeocoderResults:function(c,e){var f=c.query.count;var g=null;if(f!=0){g=a.LD.PlaceFinderYQL.makeLocArray(f,c,e);var d;for(d=0;d<g.length;d++){g[d].app=this.app;g[d].ctx=this.ctx;g[d].type=this.type;}g=g.sort(this.disabledSorter);}return g;},canBeAdded:function(f,d,c){var k=f.id;var g=this.getStr(f,c);for(var e=0;e<d.length;e++){var j=d[e];if(k==j.id){return false;}var h=this.getStr(j,c);if(h==g){return false;}}return true;},getStr:function(c,d){var e=c.lbl;var f=null;if((c.lbl!=null)&&(c.lbl!="")){f=c.lbl;}else{f=this.getAddressStr(c,d);}if(f==null){return null;}return f;},isCurrentOrDefault:function(c){if(c.ctx=="global"&&c.type=="default"){if(c.id.indexOf("global-")!=-1){return true;}}if(c.ctx=="global"&&c.type=="physical"){if(c.id.indexOf("global-")!=-1){return true;}if(c.id=="id_current"){return true;}}return false;},mergeLocationLists:function(d,c,e){var k=[];var h=null;var l=null;var f=0;for(var g=0;g<d.length;g++){if(this.isCurrentOrDefault(d[g])){if(d[g].type=="physical"){if(!h||h.id=="id_current"){h=d[g];}}else{l=d[g];}}else{if(this.canBeAdded(d[g],k,e)){k[f]=d[g];f++;}}}for(var g=0;g<c.length;g++){if(this.isCurrentOrDefault(c[g])){if(c[g].type=="physical"){if(!h||h.id=="id_current"){h=c[g];}}else{l=c[g];}}else{if(this.canBeAdded(c[g],k,e)){k[f]=c[g];f++;}}}if(h){k[f]=h;f++;}if(l){k[f]=l;f++;}return k;},processSuggestionResults:function(c,e){var d=a.LD.PlaceSuggest.makeLocArray(c,null,e);this.gossipResults[e]=d;return d;},getFilteredSuggestions:function(g,e){var f=[];if(e==null){e=this.defaultSuggestFilter;}var c=0;for(var d=0;d<g.length;d++){if(e(g[d])){f[c]=g[d];f[c].app=this.app;f[c].ctx=this.ctx;f[c].type=this.geoPlaceType;f[c].src=this.AC_GOSSIP;c++;}}return f;},suggestDone:function(e,d){if(d.errObj){e.cb(e.context,d);}else{var f=e.instance.processSuggestionResults(d.r,e.searchString);var c=e.instance.getFilteredSuggestions(f,e.filter);e.cb(e.context,c);}},getSuggestions:function(g,f,h,e){if(g==null||g===""){h(e,[]);return;}if(typeof(this.gossipResults[g])!=="undefined"){var c=this.getFilteredSuggestions(this.gossipResults[g],f);h(e,c);return;}var d={instance:this,filter:f,context:e,cb:h,searchString:g};if(this.upapiCurLoc!=null){a.LD.PlaceSuggest.fetch(g,this.upapiCurLoc.lat,this.upapiCurLoc.lon,this.suggestDone,d);}else{a.LD.PlaceSuggest.fetch(g,null,null,this.suggestDone,d);}},geocodingDone:function(d,c){if(c.errObj){d.cb(d.context,e);}else{var e=d.instance.processGeocoderResults(c,d.filter);d.cb(d.context,e);}},geocodeAddress:function(e,f,g,d){if(e!=null){var c={instance:this,filter:f,context:d,cb:g,searchString:e};a.LD.PlaceFinderYQL.geocodeString(e,this.geocodingDone,c);}},disabledSorter:function(d,c){if(d.disabled==c.disabled){return 0;}else{if(d.disabled){return 1;}}return -1;},getAddressStr:function(c,d){if((c.src&&c.src==this.AC_GOSSIP)||(c.disabled)){var e=c.addr;return e;}else{var e=c[d];}if(e==null){return null;}if(d=="zip"){if(e==""||e=="0"){return null;}if(c.city!=null){e=c.city+", "+e;}}if(d=="city"){if(typeof(c.sc)!="undefined"&&c.sc!=null){if(e.length>0){e+=", ";}e+=c.sc;}if((c.cc&&c.cc!=="US")||(c.ctry&&c.ctry!=="United States")){if(e.length>0){e+=", ";}e+=c.cc;}}return e;},getSelectedLocation:function(g,e){var f=null;if(g.search("new-")==0){addr=a.Base64.decode(g.substr(4));var d=e;for(var c=0;c<d.length;c++){if(d[c].id==g){f=d[c];return f;}}}else{var d=a.LD.LocdropYQL.getCtxTypeLocs("*","*");for(var c=0;c<d.length;c++){if(d[c].id==g){f=d[c];return f;}}}if(f==null){if(g=="id_current"){f=this.upapiCurLoc;}else{if(g=="id_regzip"){f=this.upapiDefLoc;}}}return f;},deleteLoc:function(c,e,d){a.LD.LocdropYQL.deleteLoc(c,e,d);},setUseCallback:function(d){var c=d.context;var f=d.cb;var e=d.id;if(d.errObj.errCode){if(f){f(c,{errObj:d.errObj,id:e,loc:d.loc});}return;}if((typeof(d.response)!="undefined"&&typeof(d.response.query.results.Response.Result)!="undefined")){e=d.response.query.results.Response.Result;}f(c,{id:e,loc:d.loc});},markLocationUsed:function(h,c,f,g,d){if(c=="global"){g(callCtx,{id:h,loc:e.loc});return;}var e={instance:this,context:d,cb:g,id:h,loc:f,ctx:c};a.LD.LocdropYQL.setUse(h,c,this.setUseCallback,e);},setCallback:function(d){var c=d.context;var f=d.cb;if(d.errObj.errCode){if(f){c.errObj=d.errObj;f(c,{errObj:d.errObj,id:d.id,loc:d.loc});}return;}var e=d.id;if((typeof(d.response)!="undefined"&&typeof(d.response.query.results.Response.Result)!="undefined")){e=d.response.query.results.Response.Result;}d.instance.markLocationUsed(e,d.ctx,d.loc,f,c);},selectLocation:function(c,k,i,d,f,j,g){var e=this.getSelectedLocation(c,f);if(e==null){j(g,{id:c,loc:null});return;}var h={instance:this,context:g,cb:j,id:e.id,ctx:k,loc:e};if(c.indexOf("new-")===-1&&e.ctx!="global"&&e.type!="physical"){this.markLocationUsed(e.id,k,e,j,g);}else{if(e.ctx=="global"&&e.type=="physical"){a.LD.LocdropYQL.addPlace(e.addr,e.woe,k,i,d,this.setCallback,h);}else{if(this.getLocationType(e)==this.POINT_LOC){a.LD.LocdropYQL.addPoint(e.addr,e.lat,e.lon,k,i,d,this.setCallback,h);}else{a.LD.LocdropYQL.addPlace(e.addr,e.woe,k,i,d,this.setCallback,h);}}}},getLocationType:function(c){if(c.quality>=80){return this.POINT_LOC;}else{if(c.quality>=70){if(c.quality!=74){return this.POINT_LOC;}}else{if(c.quality>50){if((c.quality==65)||(c.quality==64)||(c.quality==63)){return POINT_LOC;}}else{if(c.house&&c.street){return this.POINT_LOC;}}}}return this.PLACE_LOC;},detectSuccess:function(d){var c=a.LD.Core;a.LD.GeoLocation._running=false;if(c.holderSetTimeout){clearTimeout(c.holderSetTimeout);}var d=c.detectCtx;d.cb(d.context,null);},detectFailed:function(e){var c=a.LD.Core;a.LD.GeoLocation._running=false;var d=c.detectCtx;if(c.holderSetTimeout){clearTimeout(c.holderSetTimeout);}d.cb(d.context,{errCode:"LW_DETECT_ERR"});},detectLocationInsert:function(e){var c=a.LD.Core;a.LD.GeoLocation._running=false;var d=c.detectCtx;var f=c.detectSuccess;a.LD.LocdropYQL.addLatLon(e.coords.latitude,e.coords.longitude,"global","physical",c.app,f,{instance:c,context:d});},detectLocation:function(d,e,c){if(!a.LD.GeoLocation.geoDetectSupport(true)){e(c,{errCode:"LW_DETECTSUPPORT_ERR"});return;}if(a.LD.GeoLocation._running){e(c,{errCode:"LW_DETECT_INPROGRESS"});return;}this.detectCtx={context:c,cb:e};this.holderSetTimeout=setTimeout(a.bind(function(f){this.detectFailed();},this),this.detectWaitTimeout);a.LD.GeoLocation.getCurrentLocation(this.detectLocationInsert,this.detectFailed,d);}};a.namespace("LD");a.LD.Core=b;},"@VERSION@",{requires:["node","event","ld_yql","ld_geocoder","ld_autosuggest","ld_geo"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ulwv2-locdrop",function(d){function b(){this.yrbContainer=null;this.pendingYrbCall=false;this.locale="en-US";this.setLocale=function(e){this.locale=e;};this.yrbReqSuccessFailure=function(e,f){return;};this.setYrbContainer=function(e,f){this.yrbContainer=e;f.msgContainer=this.yrbContainer;return;};this.initYrb=function(j,i,k){if(this.yrbContainer!=null){j.msgContainer=this.yrbContainer;return;}var g=(document.location.protocol=="https:")?"s.yimg.com":"l.yimg.com";this.yrbConfig={proto:"//",host:i||g,path:k||"/rl/ulw/yrb/hr/1.0.2/",base:"ulwv2yrb"};var h=this.yrbConfig.proto+this.yrbConfig.host+this.yrbConfig.path+this.yrbConfig.base+"_"+j.locale+".js?callback={callback}";var f={instance:this,context:j,locale:j.locale,defaultLocale:j.defaultLocale,msgContainer:j.msgContainer};var e=new d.JSONPRequest(h,{on:{success:this.yrbReqSuccessFailure,failure:this.yrbReqSuccessFailure},args:[f]});e.send();};return this;}function c(e){d.LD.LocdropYQL.init(e);d.LD.PlaceFinderYQL.init(e);d.LD.PlaceSuggest.init(e);d.LD.Core.initConfig(e);this.app=e.appID;this.ctx=e.ctx||"global";this.type=e.type||"saved";this.callback=e.callback;this.errorCallback=e.errorCallback;this.filterCallback=e.filterCallback||null;this.locationLevel="addr";this.widgetLocLevels=["addr","city","zip"];this.autocompleteCount=2;this.autoComplete=e.autoComplete||false;this.geoTimeout=6000;this.loc=null;this.errMsgs={YQL_QUERIED_LOC_FETCH_TIMEOUT:"Unable to suggest location.",YQL_SAVED_LOC_FETCH_TIMEOUT:"Unable to load your past locations.",YQL_QUERIED_LOC_API_ERR:"Unable to suggest location.",YQL_GET_API_ERR:"Unable to load your past locations.",YQL_SET_API_ERR:"Unable to set your location",LW_DETECTSUPPORT_ERR:"Your browser does not support location detection",LW_DETECT_ERR:"Unable to detect your current location",LW_DETECT_INPROGRESS:"Unable to detect your current location",LW_LOC_DISABLED_INFO:"No content available",LW_GENERIC_ERROR:"Unknown/internal error"};this.view=null;this.setView=function(f){this.view=f;};this.select=function(h,g,f){d.LD.Core.selectLocation(h,this.ctx,this.type,this.app,g,this.onSelectDone,{instance:this,id:h,state:f,action:"select"});};this.suggest=function(f){this.buildResponseData({instance:this,state:f,action:"suggest"});};this.geocode=function(g){var f="";if(g.inputString){f=g.inputString;}if(f.length>0){d.LD.Core.geocodeAddress(f,this.filterCallback,this.respond,{instance:this,state:g,action:"geocode"});}else{this.suggest(g);}};this.detect=function(f){d.LD.Core.detectLocation(this.geoTimeout,this.onDetectDone,{instance:this,state:f,action:"detect"});};this.deleteloc=function(f,g){d.LD.Core.deleteLoc(f,this.onDeleteDone,{instance:this,state:g,id:f,action:"delete"});};this.search=function(i,h,g){var f="";if(g.inputString){f=g.inputString;}d.LD.Core.getSavedLocations(f,this.filterCallback,this.locationLevel,this.respond,{instance:this,state:g,searcherFn:i,searcherData:h,action:"search"});};this.checkError=function(h,g){var f=null;if(typeof(g)!="undefined"){if(typeof(g.errCode)!="undefined"&&g.errCode){f=g.errCode;}}if(f&&this.errorCallback!=null){g.errMsg=this.msgContainer[f];g.appID=this.app;g.timeStamp=(new Date()).getTime();g.action=h.action;this.errorCallback(g);}return(h.error)?h.error:f;};this.onSelectDone=function(h,g){var f=h.instance;if(g.errObj){h.error=f.checkError(h,g.errObj);}else{h.selectID=g.id;}f.buildResponseData(h);};this.onDetectDone=function(h,g){var f=h.instance;if(g){h.error=f.checkError(h,g);h.detectSuccess=false;}else{h.detectSuccess=true;}f.buildResponseData(h);};this.onDeleteDone=function(g){var f=g.instance;if(g.errObj){g.error=f.checkError(g,g.errObj);g.deleteSuccess=false;}else{g.deleteSuccess=true;}f.buildResponseData(g);};this.buildResponseData=function(g){var f="";if(typeof(g.state.inputString)!="undefined"){f=g.state.inputString;}if(this.autoComplete&&f.length>=this.autocompleteCount){d.LD.Core.getSuggestions(f,this.filterCallback,this.getSaved,g);}else{this.getSaved(g,[]);}};this.getSaved=function(i,h){var f=i.instance;var g="";if(typeof(i.state.inputString)!="undefined"){g=i.state.inputString;}if(h.errObj){i.error=f.checkError(i,h.errObj);h=[];}i.suggests=h;d.LD.Core.getSavedLocations(g,f.filterCallback,f.locationLevel,f.respond,i);};this.respond=function(q,m){var l=q.instance;if(m.errCode){q.error=l.checkError(q,m);m=[];}else{if(m.errObj&&m.errObj.errCode){q.error=l.checkError(q,m.errObj);m=[];}}var l=q.instance;if(typeof(q.suggests)=="undefined"){q.suggests=[];}var p=null;if(q.action!="search"){p=d.LD.Core.mergeLocationLists(m,q.suggests,l.locationLevel);}else{p=m;}var t=[];var r=null;var o=null;var n=null;for(var k=0;k<p.length;k++){var j=true;if(p[k].ctx&&p[k].ctx=="global"){if(p[k].type&&(p[k].type=="physical"||p[k].type=="default")){if(p[k].type=="physical"){if(!o){if(p[k].id=="id_current"||p[k].id.indexOf("global-")!=-1){var s=l.makeDisplayLocation(p[k],false);if(q.action!="search"||(q.searcherFn(q.searcherData,s))){o=s;}j=false;}}else{if(p[k].id.indexOf("global-")!=-1){var s=l.makeDisplayLocation(p[k],false);if(q.action!="search"||(q.searcherFn(q.searcherData,s))){o=s;}j=false;}}}else{if(p[k].id.indexOf("global-")!=-1){var s=l.makeDisplayLocation(p[k],false);if(q.action!="search"||(q.searcherFn(q.searcherData,s))){r=s;}j=false;}}}}if(j){var f=l.makeDisplayLocation(p[k],(p[k].id.indexOf("new-")===-1)?true:false);if(q.action!="search"||(q.searcherFn(q.searcherData,f))){t.push(f);}}}if(q.action=="detect"&&q.detectSuccess&&o&&o.id.indexOf("global-")!=-1){n=o;}if(!o&&d.LD.Core.upapiCurLoc){var g=false;if(this.filterCallback&&!this.filterCallback(d.LD.Core.upapiCurLoc)){g=true;}o=l.makeDisplayLocation(d.LD.Core.upapiCurLoc,false);o.disabled=g;}if(!r&&d.LD.Core.upapiDefLoc){var g=false;if(this.filterCallback&&!this.filterCallback(d.LD.Core.upapiDefLoc)){g=true;}r=l.makeDisplayLocation(d.LD.Core.upapiDefLoc,false);r.disabled=g;}if(q.action=="select"){if(q.selectID){l.loc=d.LD.Core.getSelectedLocation(q.selectID,null);}else{l.loc=null;}}if(q.action=="delete"&&q.deleteSuccess){if(l.loc){l.loc=d.LD.Core.getSelectedLocation(l.loc.id,null);}}var h={error:null,suggests:t,home:r,current:o,last:null,detected:n,locs:p};if(l.loc){h.last=l.makeDisplayLocation(l.loc,true);}if(q.error){h.error=q.error;}l.view.update(q.action,h,q.state);if(q.action=="select"&&l.callback!=null&&l.loc!=null){l.callback(l);}};this.makeDisplayLocation=function(h,g){if(!h){return null;}var f=d.LD.Core.getAddressStr(h,this.locationLevel);return{addr:f,ts:h.dtime,freq:h.freq,lbl:h.lbl,id:h.id,deletable:g,disabled:h.disabled};};this.setLocationLevel=function(g){var f=false;for(var h=0;h<this.widgetLocLevels.length;h++){if(this.widgetLocLevels[h]==g){this.locationLevel=g;break;}}};return this;}function a(h){d.LD.LocWid=this;this.controller=c(h);this.namespace="LocdropLocationWidget_";this.id=h.divID;this.minWidth=h.minWidth||300;this.defaultLocale="en-US";this.locale=h.locale||this.defaultLocale;this.node=d.one("#"+this.id);this.displayLocs=500;this.maxPixelLength=this.minWidth-60;this.state;this.autoDetect=h.autoDetect;this.guid=YUI.guid("lw");this.geoSupport=true;this.locs=[];this.suggestLocs=[];this.ignoreInput=true;this.loadingDiv=null;this.contentDiv=null;this.unit="px";this.containerHeight=110;this.zIndex=1000;this.isRtl=d.one("body").get("dir")==="rtl";var q="loading",k="open",l="error",i="closed",m="default",o="current",t="sqloc",e="first",n="detected",s="detect",r="select",p="deleteloc",f="point",g="place",u=this.isRtl===true?"right":"left",j=this.isRtl===true?"left":"right";this.msgContainer={GHOST_TEXT:"Enter city or zipcode",GHOST_TEXT_CITY:"Enter city or zipcode",GHOST_TEXT_ZIP:"Enter city or zipcode",GHOST_TEXT_ADDR:"Enter city or zipcode",OS_RETRY_ACTION_TXT:"Retry",OS_CURRENT_LOCATION:"current location",OS_LOCATION_DETECT:"Detect Location",OS_MANAGE_LOCATIONS:"Manage Locations",OS_MANAGE_LOCATIONS_URL:"https://web.archive.org/web/20140601014244/http://info.yahoo.com/locationmgt/?locale=en-US",CURRENT_LOCATION_HELP_URL:"https://web.archive.org/web/20140601014244/http://help.yahoo.com/l/us/yahoo/location/",PRIVACY_POLICY_URL:"https://web.archive.org/web/20140601014244/http://info.yahoo.com/privacy/us/yahoo/location"};if(typeof(a.yala)=="undefined"){a.yala=new b();}this.init=function(){d.LD.Core.setExtractedLocs(h.upapiExtracted.currentLoc,h.upapiExtracted.defaultLoc);if(h.locationLevel){this.controller.setLocationLevel(h.locationLevel);}if(this.defaultLocale!=this.locale){a.yala.initYrb(this,h.yrbHost,h.yrbPath);}this.controller.setView(this);if(this.autoDetect&&d.LD.GeoLocation.geoDetectSupport(this.geoSupport)){this.controller.detect({inputString:""});}else{this.suggests();if(this.defaultLocale!=this.locale){var v=this.locale.split("-").join("_");if(!window["ulwv2yrb_"+v]){d.one("#"+this.inputId).set("value","");d.one("#"+this.lwFooterId).hide();}}}};this.makeElementId=function(v){return this.namespace+"_"+this.id+"_"+v;};this.refreshView=function(){var w="",v=d.one("#"+this.detectGeoId),y=d.one("#"+this.manageId),x=d.one("#"+this.lwFooterId);w=d.one("#"+this.inputId).get("value");if(v){v.set("innerHTML",this.msgContainer.OS_LOCATION_DETECT);}if(y){y.set("innerHTML",this.msgContainer.OS_MANAGE_LOCATIONS);y.set("href",this.msgContainer.OS_MANAGE_LOCATIONS_URL);}if(x){x.show();}};this.showLoading=function(){this.rulerId=this.guid+"_ruler";this.loadingImgUrl=(document.location.protocol=="https:")?"https://web.archive.org/web/20140601014244/https://s.yimg.com/lq/i/ww/met/anim_loading_sm_082208.gif":"https://web.archive.org/web/20140601014244/http://l.yimg.com/a/i/ww/met/anim_loading_sm_082208.gif";var v=d.Lang.sub(this.LW_LOADING_TEMPLATE,{loadingImgUrl:this.loadingImgUrl,rulerId:this.rulerId});if(this.contentDiv!=null){this.contentDiv.set("bodyContent",v);this.contentDiv.set("zIndex",this.zIndex);this.contentDiv.show();}else{this.buildLocationView(v);}};this.hideError=function(){d.one("#"+this.err_container_id).remove();};this.deletelocs=function(y){var w="";for(var v=0;v<y.length;v++){if(v>0){w+=",";}w+=y[v].id;}var x=this.getInputValue();this.controller.deleteloc(w,{inputString:x});};this.deleteSearcher=function(v,w){if(typeof(w.deletable)!="undefined"&&!w.deletable){return false;}if(!w.id){return false;}else{if(w.id==v.loc.id){return true;}}if(w.addr&&v.loc.addr==w.addr){return true;}return false;};this.deleteloc=function(y){this.showLoading();var x=this.getInputValue();if(this.controller.locationLevel=="addr"){this.controller.deleteloc(y,{inputString:x});}else{if(this.suggestLocs){var v=null;for(var w=0;w<this.suggestLocs.length;w++){if(this.suggestLocs[w].id==y){v=this.suggestLocs[w];break;}}if(v){this.controller.search(this.deleteSearcher,{loc:v,ctx:this.controller.ctx},{inputString:x});}}else{this.suggests();}}};this.select=function(w){this.showLoading();var v=this.getInputValue();this.controller.select(w,this.locs,{inputString:v});};this.detect=function(){this.showLoading();this.setInputValue("");var v=this.getInputValue();this.controller.detect({inputString:v});};this.geocode=function(){this.showLoading();var v=this.getInputValue();this.controller.geocode({inputString:v,target:target});};this.suggests=function(){this.showLoading();var v=this.getInputValue();this.controller.suggest({inputString:v});};this.getDisplayStr=function(v,w){var x=v.addr;if((v.lbl!=null)&&(v.lbl!="")){x=v.lbl;}return x;};this.getOffsetWidth=function(v){var w=document.getElementById(this.rulerId);w.innerHTML=v;return w.offsetWidth;};this.detachGhosting=function(w){var v="#"+w;d.on("ghosting|focus",function(x){var y=x.target;y.set("value","");y.removeClass("ghost-text");d.detach("ghosting|focus");this.ignoreInput=false;},v,this);};this.getGhostText=function(){var v="";switch(this.controller.locationLevel){case"city":v=this.msgContainer.GHOST_TEXT_CITY;break;case"zip":v=this.msgContainer.GHOST_TEXT_ZIP;break;default:v=this.msgContainer.GHOST_TEXT_ADDR;}return v;};this.registerLocationSelect=function(v){d.one("#"+v.lwBodyId).delegate("click",v.dispatchCallback,"li",v);};this.dispatchCallback=function(y){var x=y.target,v,w,z;v=x.ancestor(".line-item",true);if(v){w=v.getAttribute("data-lid");if(!w){w=x.getAttribute("data-lid");}}z=x.getAttribute("data-action");if(!z){z=v.getAttribute("data-action");}if(w&&z){switch(z){case r:this.select(w);break;case s:this.detect(w);break;case p:this.deleteloc(w);break;default:return;}this.showLoading();}};this.handleInputEvents=function(x,w){var v=this.getInputValue();if(16===x.keyCode||17===x.keyCode||18===x.keyCode||37===x.keyCode||38===x.keyCode||39===x.keyCode||33===x.keyCode||34===x.keyCode){return;}if(13===x.keyCode||w){this.controller.geocode({inputString:v,target:x.target});}else{this.controller.suggest({inputString:v,target:x.target});}};this.getInputValue=function(){if(this.inputId&&!this.ignoreInput){var w=d.one("#"+this.inputId);if(w){var v=w.get("value");return YUI().Lang.trim(v);}}return"";};this.setInputValue=function(w){if(this.inputId){var v=d.one("#"+this.inputId);if(v){v.set("value",w);}}};this.getEqualMsgContainerYALA=function(w){var v="";switch(w){case"YQL_QUERIED_LOC_FETCH_TIMEOUT":v="LYD_QUERIED_LOC_FETCH_TIMEOUT";break;case"YQL_SAVED_LOC_FETCH_TIMEOUT":v="LYD_SAVED_LOC_FETCH_TIMEOUT";break;case"YQL_QUERIED_LOC_API_ERR":v="LYD_SAVED_LOC_API_ERR";break;case"YQL_GET_API_ERR":v="LYD_GET_API_ERR";break;case"YQL_SET_API_ERR":v="LYD_SET_API_ERR";break;case"LW_DETECTSUPPORT_ERR":v="LW_DETECTSUPPORT_ERR";break;case"LW_DETECT_ERR":v="LW_DETECT_ERR";break;case"LW_GENERIC_ERROR":v="LW_LOC_DISABLED_INFO";break;}return v;};this.buildErrorFrag=function(v){var z=null,y=retryLink=errMsg=errFrag=errYala="",x=false;errYala=this.getEqualMsgContainerYALA(v);this.err_container_id=this.guid+"_err_container";this.err_close_id=this.guid+"_err_close";this.err_msg_id=this.guid+"_err_msg";this.err_separator_id=this.guid+"_err_separator";if(v=="YQL_SAVED_LOC_FETCH_TIMEOUT"||v=="YQL_QUERIED_LOC_FETCH_TIMEOUT"){this.err_retry_id=this.guid+"_err_retry";var w={retryId:this.err_retry_id,retryMsg:this.msgContainer.OS_RETRY_ACTION_TXT};retryLink=d.Lang.sub(this.LW_ERR_RETRY_TEMPLATE,w);}var A={lType:l,errContId:this.err_container_id,errCloseId:this.err_close_id,errMsgId:this.err_msg_id,errSeparatorId:this.err_separator_id,hiddenCls:y,errMsg:(this.msgContainer[errYala]==undefined)?this.controller.errMsgs[v]:this.msgContainer[errYala],retryLink:retryLink};errFrag=d.Lang.sub(this.LW_LOC_ERR_TEMPLATE,A);return errFrag;};this.update=function(z,C,v){if(z=="select"&&!C.error){this.setInputValue("");this.suggests();return;}else{var E=this.getInputValue();if(v.inputString!=E){return;}}if(z=="search"&&C.suggests){this.deletelocs(C.suggests);return;}if(z=="geocode"||z=="suggest"){var w=this.getInputValue();if(v.inputString!=w){return;}}if(this.defaultLocale!=this.locale&&this.yrbContainer==null){var D=this.locale.split("-").join("_");if(window["ulwv2yrb_"+D]){a.yala.setYrbContainer(window["ulwv2yrb_"+D],this);this.refreshView();}}var F="",A="",y="",x="";if(C.error&&z!="search"){this.lastError=C.error;y=this.buildErrorFrag(C.error);}this.locs=C.locs;this.suggestLocs=C.suggests;var G=false;var B=this.displayLocs;if(z!="search"&&z!="geocode"&&(z!="detect"||!C.detected)&&typeof(v.inputString)!="undefined"&&v.inputString.length==0){G=true;B-=2;}x=this.buildLocationBody(C,B,G);this.lwBodyId=this.makeElementId("lwBody");var H=d.Lang.sub(this.LW_LOCS_CONTAINER_TEMPLATE,{lwBodyId:this.lwBodyId,topLocs:y+x,maxHeight:this.containerHeight+this.unit});if(this.contentDiv!=null){this.contentDiv.set("bodyContent",H);this.contentDiv.set("zIndex",this.zIndex);this.contentDiv.show();}else{this.buildLocationView(H);}this.registerLocationSelect(this);if(F){this.detachGhosting(this.inputId);d.on("keyup",d.bind(this.handleInputEvents,this),"#"+this.inputId);}if(C.error){d.on("click",d.bind(this.hideError,this),"#"+this.err_close_id);if(C.error=="YQL_SAVED_LOC_FETCH_TIMEOUT"){d.on("click",d.bind(this.suggests,this),"#"+this.err_retry_id);}if(C.error=="YQL_QUERIED_LOC_FETCH_TIMEOUT"){d.on("click",d.bind(function(I){this.geocode();},this),"#"+this.err_retry_id);}}this.state=k;};this.buildLocationView=function(x){var w=this.buildHeader();var v=this.buildFooter();this.contentDiv=new d.LD.Renderer({parentNode:this.node,headerContent:w,bodyContent:x,footerContent:v,zIndex:this.zIndex,unit:this.unit,render:true,visible:true});this.detachGhosting(this.inputId);d.on("keyup",d.bind(this.handleInputEvents,this),"#"+this.inputId);d.on("click",d.bind(this.destroy,this),"#"+this.searchDoneId);if(d.LD.GeoLocation.geoDetectSupport(this.geoSupport)&&d.LD.Core!=null){d.one("#"+this.detectGeoId).delegate("click",this.dispatchCallback,"li a",this);}};this.buildLocationFrag=function(B,D,v){var E=D.addr,y=D.id,G="",x=r,A="",C="";if(E==null){return"";}var z=this.getDisplayStr(D,B);if(B!=null&&B==o){z+=' <span class="lw-current-loc">'+this.msgContainer.OS_CURRENT_LOCATION+"</span>";}else{if(B!=null&&B==m){if(D.app&&(D.app==this.fbAppId||D.app==this.fbCurrentAppId)){z+=' <span class="img-sprite lw-fb-default-loc"></span>';}else{z+=' <span class="img-sprite lw-y-default-loc"></span>';}}}if(D.deletable){if(B!=null&&v==e){G="lw-selected-loc";}var w={locId:y,lType:t,dAction:p,address:""};A=d.Lang.sub(this.LW_SAVED_LOC_DEL_TEMPLATE,w);}var F={highlightCls:G,locId:y,address:E,lType:t,dAction:x,displayStr:z,delLoc:A};C+=d.Lang.sub(this.LW_SQ_LOC_TEMPLATE,F);return C;};this.locationSorter=function(y,x){var w=y.ts;var v=x.ts;if(y.disabled==x.disabled){if(w<v){return 1;}else{if(w>v){return -1;}else{return 0;}}}else{if(y.disabled){return 1;}}return -1;};this.buildHeader=function(){this.inputId=this.makeElementId("input");var v="#"+this.inputId;this.lwHeaderId=this.makeElementId("lwHeader");return d.Lang.sub(this.LW_OPEN_STATE_HEAD_TEMPLATE,{lwHeaderId:this.lwHeaderId,inputId:this.inputId,searchDoneId:this.searchDoneId,ghostTxt:this.getGhostText()});};this.buildFooter=function(){this.lwFooterId=this.makeElementId("lwFooter");this.detectGeoId=this.guid+"_detect_geo";this.manageId=this.guid+"_manage_geo";var v="",C="lw-loc-disabled",z="detect-disabled",y="1",B="",x=this.msgContainer.LW_DETECTSUPPORT_ERR;var v="";if(d.LD.GeoLocation.geoDetectSupport(this.geoSupport)&&d.LD.Core!=null){z="detect-location";C="";y="0";B=s;x="";var w={detectStr:this.msgContainer.OS_LOCATION_DETECT,detectId:this.detectGeoId,detectIconCls:z,lType:s,dAction:s,detectTtl:x};v=d.Lang.sub(this.LW_DETECT_FOOTER,w);}var A={detectLoc:v,detectIcon:z,disabledFlg:y,locClass:C,manageId:this.manageId,lwFooterId:this.lwFooterId,manageLocUrl:this.msgContainer.OS_MANAGE_LOCATIONS_URL,manageLocTxt:this.msgContainer.OS_MANAGE_LOCATIONS};return d.Lang.sub(this.LW_FOOTER_TEMPLATE,A);};this.buildLocationBody=function(z,v,y){var B="";var w=(z.detected)?true:false;var A="";if(z.suggests&&!w){z.suggests.sort(this.locationSorter);if(v>z.suggests.length){v=z.suggests.length;}for(var x=0;x<v;x++){z.suggests[x].deletable=(y)?z.suggests[x]:false;if(A.length==0){A+=this.buildLocationFrag(t,z.suggests[x],e);}else{A+=this.buildLocationFrag(t,z.suggests[x]);}}}B+=A;if(y||w){if(z.current){B+=this.buildLocationFrag(o,z.current);}}if(y){if(z.home){B+=this.buildLocationFrag(m,z.home);}}return B;};this.destroy=function(){d.Event.detach("click",this.dispatchCallback,"#"+this.lwFooterId);d.Event.detach("click",this.dispatchCallback,"#"+this.lwBodyId);d.Event.detach("keyup",this.handleInputEvents,"#"+this.inputId);d.Event.detach("focus|ghosting",this.handleInputEvents,"#"+this.inputId);if(this.contentDiv!=null){this.contentDiv.get("contentBox").purge(true);this.contentDiv.get("contentBox").remove();this.contentDiv=null;}};this.LW_ANCHOR_TEMPLATE='<a href="#" class="lw-anchor-item" id="{anchorId}">{anchorTemplate}</a>';this.LW_DEF_ANCHOR_TEMPLATE='<a href="#" class="lw-anchor-item" id="{anchorId}"><span class="lw-anchor-icon"></span><span class="lw-anchor-txt {anchorClass}">{anchorTxt}</span></a>';this.LW_LOADING_TEMPLATE='<div class="lw-loading-msg"><img src="{loadingImgUrl}"/><span id="{rulerId}" class="lw-pixel-ruler"></span></div>';this.LW_LOCS_CONTAINER_TEMPLATE='<ul id="{lwBodyId}" class="locations-container">{topLocs}</ul>';this.LW_OPEN_STATE_HEAD_TEMPLATE='<div id="{lwHeaderId}" class="lw-header"><label for="{inputId}" class="hide">{ghostTxt}</label><input type="text" class="lc-input ghost-text" id="{inputId}" value="{ghostTxt}"/></div>';this.LW_SQ_LOC_TEMPLATE='<li class="sqlocation-record line-item" data-lid="{locId}" data-acp="{address}" data-ltype="{lType}" data-action="{dAction}"><a data-lid="{locId}" data-acp="{address}" data-ltype="{lType}" data-action="{dAction}" href="javascript:;" title="{address}" id={locId} class="lw-saved-loc {highlightCls}">{displayStr}</a>{delLoc}</li>';this.LW_SAVED_LOC_DEL_TEMPLATE='<a data-lid="{locId}" data-acp="{address}" data-ltype="{lType}" data-action="{dAction}" href="javascript:;" class="lw-close"></a>';this.LW_ERR_RETRY_TEMPLATE='<a class="lw-loc-errretry non-label" href="javascript:;" id="{retryId}">{retryMsg}</a>';this.LW_LOC_ERR_TEMPLATE='<li id="{errContId}" class="lw-loc-errcon {hiddenCls}" data-ltype="{lType}"><div class="lw-loc-errouter"><div class="line-item lw-loc-errblock" data-ltype="{lType}"><span id="{errMsgId}" class="lw-loc-errmsg" href="javascript:;">{errMsg} {retryLink}</span></div><a id="{errCloseId}" href="javascript: void(0);" class="lw-loc-errclose" role="button"></a></div></li>';this.LW_DETECT_FOOTER='<a style="float: '+u+'" id="{detectId}" data-lid="{detectId}" data-ltype="{lType}" data-action="{dAction}" data-acp="{detectTtl}" href="javascript: void(0);" data-disabled="{disabledFlg}" class="lw-footer-links {locClass}">{detectStr}</a>';this.LW_FOOTER_TEMPLATE='<ul id="{lwFooterId}" class="zero-margin"><li class="lw-detect-manage-loc line-item lw-clearfix {detectIcon}">{detectLoc}<a style="float: '+j+'" href="{manageLocUrl}" id="{manageId}" target="_blank" class="lw-footer-links">{manageLocTxt}</a></li></ul>';return this;}d.namespace("LD");d.LD.LocationWidget=a;},"@VERSION@",{requires:["node","event","substitute","ld_geo","ld_yql","ld_core","ld_renderer"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_renderer",function(b){var a=function(c){this.parentNode=c.parentNode;this.bodyContent=c.bodyContent;this.headContent=c.headerContent?c.headerContent:null;this.footerContent=c.footerContent?c.footerContent:null;this.width=c.width?c.width:null;this.zIndex=c.zIndex?c.zIndex:null;this.xy=c.xy?c.xy:null;this.render=c.render?c.render:true;this.visible=c.visible?c.visible:false;this.mainNode=null;this._render();};b.mix(a.prototype,{set:function(c,d){this[c]=d;switch(c){case"headerContent":this.setHeader(d);break;case"bodyContent":this.setBody(d);break;case"footerContent":this.setFooter(d);break;case"xy":this.setXY(d);case"zIndex":this.setZindex(d);break;}},get:function(c){var d=null;switch(c){case"contentBox":d=this.mainNode;break;}return d;},show:function(){this.mainNode.removeClass("lw-overlay-hidden");},hide:function(){this.mainNode.addClass("lw-overlay-hidden");},setBody:function(c){this.mainNode.one(".lw-widget-bd").set("innerHTML",c);},setHeader:function(d){var c=this.mainNode;if(d){if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").set("innerHTML",d);}else{d='<div class="lw-widget-hd">'+d+"</div>";c.insert(d,0);}}else{if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").remove();}}},setFooter:function(d){var c=this.mainNode;if(d){if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").set("innerHTML",d);}else{d='<div class="lw-widget-ft">'+d+"</div>";c.one(".lw-widget-bd").insert(d,"after");}}else{if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").remove();}}},setXY:function(c){},setZindex:function(d){var c=this.mainNode;c.setStyle("z-index",d);},_render:function(){var g,c,h,f,e,d;if(!this.mainNode){skeleton='<div class="lw-widget lw-overlay"><div class="lw-overlay-content"><div class="lw-widget-bd"></div></div></div>';this.mainNode=c=b.Node.create(skeleton);this.parentNode.append(c);}else{c=this.mainNode;}h=this.headContent?this.headContent:"";if(h){if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").set("innerHTML",h);}else{h='<div class="lw-widget-hd">'+h+"</div>";c.one(".lw-widget-bd").insert(h,"before");}}else{if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").remove();}}c.one(".lw-widget-bd").set("innerHTML",this.bodyContent);e=this.footerContent?this.footerContent:"";if(e){if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").set("innerHTML",e);}else{e='<div class="lw-widget-ft">'+e+"</div>";c.one(".lw-widget-bd").insert(e,"after");}}else{if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").remove();}}if(false===this.visible){c.addClass("lw-overlay-hidden");}if(this.width){c.setStyle("width",this.width+"px");}if(this.xy){c.setStyle("left",this.xy[0]+"px");c.setStyle("top",this.xy[1]+"px");}if(this.zIndex){c.setStyle("z-index",this.zIndex);}}});b.namespace("LD");b.LD.Renderer=a;},"@VERSION@",{requires:["node","event"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_service",function(g){var d=g.ModulePlatform,b="MPServices",f="LD",a;function e(j,h,i){this.moduleapi=i;this._init(j,h);}e.prototype={_init:function(k,j){var h=j.yqlHost||d.getProperty("ui.locdrop.yqlhost"),i=j.yqlTimeout||d.getProperty("ui.locdrop.timeout"),l,m={divID:k,appID:"Yahoo! Metro",ctx:"local",callback:g.bind(this._locChanged,this),errorback:g.bind(this._error,this),filterCallback:g.bind(this._filter,this),crumb:j.crumb,upapiExtracted:{bestLoc:j.bestLoc,currentLoc:j.currentLoc,defaultLoc:j.defaultLoc},locationLevel:"city",placeFinderGflags:true,autoDetect:false,yqlHost:h,yqlTimeout:parseInt(i,10),locale:j.locale,gossipCallforAutoComplete:true,autoComplete:true,anchorText:j.anchorText,glApi:j.glApi,anchorClass:j.anchorClass};this._widget=l=new g.LD.LocationWidget(m);this._widget.init();this.logger=this.moduleapi.getService("metrologger");},_locChanged:function(k){var i=this.moduleapi,j=i&&i.getId(),h;if(k.loc){if(k.loc.city==""&&k.loc.addr){h=k.loc.addr.split(",");if(h[0]){k.loc.city=h[0];}}this.fire("locationselect",k.loc);a.broadcast(j,"ldw:defaultlocation",{displayName:k.loc.city+", "+k.loc.sc,loc:k.loc});}},_error:function(j){var h=this.moduleapi,i=h&&h.getId();if(this.logger){this.logger.logError(i,"LocdropWidget: "+j.lastError);}},_filter:function(h){if(h.ctx&&h.ctx!=="local"){if(h.ctx=="global"&&h.type&&(h.type==="physical"||h.type==="default")){return true;}return false;}return true;},destroy:function(){this._widget.destroy();this._widget=null;delete (this._widget);this.logger=null;}};g.augment(e,g.Event.Target);function c(h){this.moduleapi=h;}c.prototype={create:function(i,h){return new e(i,h,this.moduleapi);}};g.namespace(b);g[b][f]={name:"ld_service",getService:function(i,h){if(!a){a=i;}return new c(a.getModuleApi(h));}};if(d){d.registerService(g[b][f]);}},"1.0",{requires:["ld_renderer"]});/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("location_service",function(b){var n=b.ModulePlatform,f,d="MPServices",a="LocationProvider",g="loc-picker-handle",h="location-menu",l="menu-active",e="location-tooltip",c="disable-dd",i="dd:toggle-draggable-ui",j="location:update",o="location:ready",p="location:picker-open",m="location:picker-close";function k(q,u,s,r){this.moduleapi=s;this.body=q;this.id=u;this.autoHideId=null;this.parentBody=null;this.tooltip=null;this.locdropWidget=null;this.beacon=null;this.ldwService=s.getService("ld_service");var t=this.body.one(".loc-picker-wrapper");this.tooltip=this.tooltipService.create({parentNode:t,className:h,position:{box:"b",arrow:"t"},pointerClass:"img-sprite",msg:""});this.tooltip.content.setAttribute("id",this.id+"-"+e);this.registerAutoHide();if(r&&r.locDropSettings){this.setLocDropSettings(r.locDropSettings);if(r.locDropSettings.strFind){this.strFind=r.locDropSettings.strFind;}if(r.locDropSettings.glApi){this.glApi=r.locDropSettings.glApi;}}if(r&&r.strFind){this.strFind=r.strFind;}if(r&&r.parentBody){this.parentBody=r.parentBody;}if(r&&r.beacon){this.beacon=r.beacon;this.beacon.itc="1";this.beacon.action="click";}this.platform.subscribe(j,b.bind(this.handleLocationUpdate,this),this);this.platform.subscribe(o,this.handleLocationReady,this);this.body.on("click",b.bind(this.handleEvent,this));this.body.on("keyup",b.bind(this.handleEvent,this));if(this.hasLocDropSettings){this.subscribeLocdropWidget(this.id+"-"+e);}}k.prototype={platform:null,instrumentation:null,autoHide:null,strFind:"Find",userCitySelection:null,locDropSettings:{},hasLocDropSettings:false,setLocDropSettings:function(q){this.locDropSettings.crumb=q.crumb;this.locDropSettings.locale=q.locale;this.locDropSettings.bestLoc=q.bestLoc;this.locDropSettings.currentLoc=q.curLoc;this.locDropSettings.defaultLoc=q.defLoc;this.locDropSettings.userLoc=this.userCitySelection||q.userLoc;this.locDropSettings.glApi=q.glApi;this.hasLocDropSettings=true;},registerAutoHide:function(){var q=this.body;if(!b.one("body").hasClass("ua-ie6")){this.autoHideId=this.autoHide.register({targets:[q.one("."+g),q.one("#"+this.id+"-"+e)],hide:b.bind(this.hideMenu,this)});}},exposeMenu:function(r){var q=this.body.one("."+h);this.instrumentation.fireBeacon(this.beacon);q.removeClass("d-n");this.body.addClass(l);this.body.addClass(c);this.tooltip.show(r,{noMsgUpdate:true});this.body.one(".lc-input").focus();this.moduleapi.broadcast(p);if(this.parentBody){this.moduleapi.broadcast(i,{el:this.parentBody,toggle:"off"});}},hideMenu:function(){var q,r;if(this.body){if(!this.body.hasClass(l)){return;}q=this.body.one("."+g);r=this.body.one("."+h);}else{return;}this.tooltip.hide();this.body.removeClass(l);this.body.removeClass(c);r.addClass("d-n");this.moduleapi.broadcast(m);if(this.parentBody){this.moduleapi.broadcast(i,{el:this.parentBody,toggle:"on"});}},subscribeLocdropWidget:function(r){var q=this.platform;q.listen("ldw:defaultlocation");this.locDropSettings.anchorClass="loc-label fz-s";this.locdropWidget=this.ldwService.create(r,this.locDropSettings);this.body.one(".lw-header").append('<button class="find-btn primary btn-small">'+this.strFind+"</button>");this.locdropWidget.on("locationselect",this.onLocWidgetSelect,this);this.locdropWidget.on("widgetclose",this.hideMenu,this);},onLocWidgetSelect:function(q){this.platform.fire(j,q);},handleEvent:function(s){var q,r=s.target;if(!b.one("body").hasClass("ua-ie6")){q=r.ancestor(".loc-picker-link",true)||r.ancestor(".loc-picker-icon",true);if(q){s.preventDefault();if(!this.body.hasClass(l)){this.handleLocationReady();this.exposeMenu(q);}else{this.hideMenu();}}if(r.hasClass("find-btn")){b.LD.LocWid.handleInputEvents(s,true);}}},destroy:function(){this.body=null;this.locdropWidget=null;this.tooltip.destroy();this.tooltip=null;this.autoHide.unregister(this.autoHideId);this.autoHide=null;},handleLocationUpdate:function(r){var q;if(this.body){q=this.body.one(".loc-city");}this.userCitySelection=r.city;if(q){q.setContent(r.city);}this.hideMenu();},handleLocationReady:function(){if(!this.locdropWidget){this.subscribeLocdropWidget(this.id+"-"+e);}}};f={create:function(q,t,s,r){return new k(q,t,s,r);}};b.namespace(d);b[d][a]={name:"location_service",getService:function(q,r){if(!k.prototype.platform){k.prototype.instrumentation=q.getService("instrumentation");k.prototype.tooltipService=q.getService("tooltip");k.prototype.autoHide=q.getService("autohide");k.prototype.platform=q;}return f;}};if(n){n.registerService(b[d][a]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("tablist_service",function(a){var v=null,i=true,r=false,l=a.ModulePlatform,q="tab",c="tabpanel",x="data-pos",g="selected",o="href",w="click",f="keydown",e="aria-labelledby",d="tab",m="collapsed",t="vertical",y=37,j=39,u=a.DOM,s=a.Selector,b,p=r,h="MPServices",n="TabListProvider";function k(B,z,A){z=z||{};this.node=a.one(B);this._tabQuery="li.tab";this.options=z;this._panels=z.panels;this._panel=z.panel;this._tabs=null;this._selectedIndex=-1;this._links=[];this._id=a.guid();this._moduleId=A;this._stickyKey=z.stickyKey||d;this._autoHide=v;this._autoHideId=v;this._init();}k.prototype={_init:function(){if(!this.node){l.error("TabList","Invalid node passed into TabList.");return;}if(!b){b=l.getService("aria");p=b.isSupported();}b.setRole(this.node,"tablist");var B=this.node,C=a.Node.getDOMNode(B),I=s.query(this._tabQuery,C),G=this._panels?a.NodeList.getDOMNodes(this._panels):v,E,D=0,F,A,H,z,J;if(!I.length){I=s.query("li",C);this._tabQuery="li";}this._tabs=I;for(F=I.length;D<F;D++){A=I[D];A.setAttribute(x,D);if(A.id===""){A.id=a.guid();}H=A.getElementsByTagName("a")[0];this._links.push(H.getAttribute(o,2));if(p){b.setRole(A,"presentation");b.setRole(H,q);b.focusable(H,r);H.removeAttribute(o);if(G){z=G[D];b.setRole(z,c);b.focusable(z,r);z.setAttribute(e,A.id);if(!u.hasClass(A,g)){b.hide(z);}else{b.focusable(z,i);}}}if(u.hasClass(A,g)){this._selectedIndex=D;b.focusable(H,i);}}if(this._panel&&this._selectedIndex>-1){z=this._panel;b.focusable(z,i);b.setRole(z,c);z.setAttribute(e,I[this._selectedIndex].id);}if(p){B.on(f,this._handleKeyDown,this);}B.on(w,this._handleMouseEvent,this);E=this.options.tabchange||l.getProperty("ui.tabchange");if(E&&E!=w){B.on(E,this._handleMouseEvent,this);}if(this.options.vertical){J=l.getService("autohide");this._autoHideId=J.register({targets:[B],hide:a.bind(this._collapseTabList,this)});this._autoHide=J;B.addClass(m);B.addClass(t);}},_handleMouseEvent:function(B){var C=B.target,A=(C.get("tagName")=="LI")?C:C.ancestor("LI"),z;if(A&&A.hasAttribute(x)){z=Number(A.getAttribute(x));B.preventDefault();if(B.type==w&&this.options.enableSelectedTabLink&&z==this._selectedIndex){B.stopPropagation();location.href=this._links[z];}this.switchTo(z);}},_handleKeyDown:function(z){switch(z.keyCode){case j:this.next();break;case y:this.previous();break;}},_collapseTabList:function(){var z=this.node;z.addClass(m);},destroy:function(){var z=this.node;if(p){z.detach(f,this.handleKeyDown);}z.detach(w,this.handleClick);this.unsubscribeAll();a.Object.each(this,function(B,A){delete this[A];},this);},getSelectedIndex:function(){return this._selectedIndex;},getTabNode:function(z){return a.one(this._tabs[z]);},getTabNodes:function(){return this.node.all(this._tabQuery);},getTabPanelNode:function(z){return this._panels.item(z);},getTabUrl:function(z){return this._links[z];},next:function(z){if(this._selectedIndex<this._tabs.length-1){this.switchTo(this._selectedIndex+1);}else{if(z){this.switchTo(0);}}},previous:function(z){if(this._selectedIndex>0){this.switchTo(this._selectedIndex-1);}else{if(z){this.switchTo(this._tabs.length-1);}}},switchTo:function(M){var P=this.options,E=this.node,K=this._tabs,L=this._selectedIndex,C=K[L],B=K[M],I=K.length,J=this._panels,z=this._panel,G=0,O,N,F,D,H,A;if(M!=this._selectedIndex){this.fire({type:"beforetabchange",toIndex:M,fromIndex:L});u.removeClass(C,g);if(p){while(G<I){F=K[G].getElementsByTagName("a")[0];if(K[G]!==B){b.focusable(F,r);b.unselect(F);}else{b.focusable(F,i);b.select(F);F.focus();}G++;}}u.addClass(B,g);if(J&&J.size()>1){O=J.item(L);N=J.item(M);O.toggleClass(g);N.toggleClass(g);if(p){b.hide(O);b.focusable(O,r);b.show(N);b.focusable(N,i);}}else{if(z){z.setAttribute(e,B.id);}}this._selectedIndex=M;if(this.options.sticky){D=l.getModuleApi(this._moduleId);if(D){H=D.getService("statemgr");if(H){H.setUserModuleState(this._stickyKey,M);A=B.getAttribute("data-tabid");H.saveUserSetting(this._stickyKey,A,D);}}}this.fire({type:"tabchange",toIndex:M,fromIndex:L});}if(P.vertical){E.toggleClass(m);}}};a.augment(k,a.Event.Target);a.namespace(h);a[h][n]={name:"tablist",getService:function(A,z){return{create:function(C,B){return new k(C,B,z);}};}};if(l){l.registerService(a[h][n]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
YUI.add("carousel_service",function(a){var f=a.ModulePlatform,c="MPServices",h="CarouselProvider",i="tabindex",n="A",g="offsetWidth",p="offsetHeight",l="right",r="mouseout",k="mouseover",b=300,e=true,j=false,o=null,q;function m(v,s,u){var w,t;w=this.node=a.one(v);if(w.hasClass("y-carousel-list")){this._carouselList=w;this.node=w.get("parentNode");}else{this._carouselList=w.query(".y-carousel-list");}this.options=s||{};this._mode=s.mode||"horz";this._loop=s.loop||j;this._autoscrollPlaying=j;this._autoscrollLazyPause=0;this._autoscrollInterval=s.autoscrollInterval||0;this._autoscrollIntervalFirst=s.autoscrollIntervalFirst||this._autoscrollInterval;this._autoscrollTimer=o;t=this._carouselItems=this._carouselList.get("children");this._maxItems=t.size();this._currentIndex=0;this._pixelToEmRatio=0;this._moduleapi=u;this._direction=s.direction||(u.getViewDirection("default")=="rtl")?l:"left";this._scrollActive=false;this._init();}m.prototype={_init:function(){var s=this.node;s.addClass(this._mode);if(this.options.direction){this._direction=this.options.direction;}if(this._autoscrollInterval>0){this.attachEngagingAreaMouseEvents();if(a.UA.ie<8){this.activeElement=document.activeElement;document.onfocusout=a.bind(this.handleIEBlur,this);document.onfocusin=a.bind(this.handleIEFocus,this);}else{a.on("blur",a.bind(this.handleBlur,this),window);a.on("focus",a.bind(this.handleFocus,this),window);}}},_getWrapAroundToPosition:function(C,t){var D,z,s,w,E,A=this._direction,v=this._maxItems,y=this._carouselItems,x=(this._direction==="top")?y.item(0).get(p):y.item(0).get(g),B=v*x,F=y.item(C),u=parseInt(F.getComputedStyle(A),10);u=isNaN(u)?0:u;D=t*x+u;z=u;if(C>t){this._firstWrap=false;D+=B;z+=B;}else{D-=B;z-=B;}F=y.item(t);E=this._carouselList;s=E.getComputedStyle(A);if(s){if(s.indexOf("em")>-1){w=parseInt(s,10);E.setStyle(A,this._convertToPixels(w)+"px");}else{if(s.indexOf("auto")>-1){E.setStyle(A,"0");}}}F.setStyle(A,z+"px");return -D;},_getToPosition:function(u,w){var v,s=this._direction,t=this._carouselItems;this.resetPositioning(u);v=t.item(u);v.setStyle(s,"");v=t.item(w);v.setStyle(s,"");return this._getOffsetByIndex(w);},_getOffsetByIndex:function(s){var t=this._carouselItems,u=(this._direction==="top")?t.item(0).get(p):t.item(0).get(g);return -(s*u);},destroy:function(){var s=this._fontResizeHandle;if(s){s.detach();}this.detachEngagingAreaMouseEvents();this._fontResizeHandle=this.node=this._carouselItems=this._carouselList=o;this.unsubscribeAll();},getItemNode:function(s){return this._carouselItems.item(s);},getCurrentIndex:function(){return this._currentIndex;},_doAutoscroll:function(){if(this._autoscrollPlaying){if(this._autoscrollLazyPause===0){this.next();if(this._autoscrollInterval>0){this._autoscrollTimer=a.later(this._autoscrollInterval*1000,this,this._doAutoscroll);}}else{this._autoscrollTimer=o;}}},play:function(s){if(this._autoscrollIntervalFirst===0){return j;}if(s){if(this._autoscrollLazyPause>0){this._autoscrollLazyPause-=1;}if(this._autoscrollPlaying===j){return;}}if(this._autoscrollLazyPause===0&&(this._autoscrollPlaying===j||this._autoscrollTimer===o)){this._autoscrollTimer=a.later((this._autoscrollIntervalFirst*1000),this,this._doAutoscroll);this._autoscrollPlaying=e;}},pause:function(s){if(s){this._autoscrollLazyPause+=1;}else{this._autoscrollPlaying=j;if(this._autoscrollTimer!==o){this._autoscrollTimer.cancel();this._autoscrollTimer=o;}}},next:function(t){var s=this._currentIndex;if(s==this.getItemCount()-1){if(this._loop||t){s=0;}}else{++s;}this.scrollTo(s);},previous:function(t){var s=this._currentIndex;if(s===0){if(this._loop||t){s=this.getItemCount()-1;}}else{--s;}this.scrollTo(s);},resetPositioning:function(s){if(typeof(s)==="undefined"){s=this._currentIndex;}var t=this._getOffsetByIndex(s);this._carouselList.setStyle(this._direction,t+"px");},scrollTo:function(v,y){var B,s,t=j,w=this._maxItems,A=this._currentIndex,C,z=this._direction,u,x={type:"scroll",fromIndex:A,toIndex:v};if(this.isScrolling()||v==A){return;}s=this.getItemNode(A);this._activateTabIndex(s,j);y=y===undefined||y===o?e:y;if(6==a.UA.ie&&l==z){y=j;}t=(A===0&&v==w-1)||(A==w-1&&v===0);this._currentIndex=v;if(y&&t&&w>2){B=this._getWrapAroundToPosition(A,v);}else{B=this._getToPosition(A,v);}this.fire({type:"beforescroll",fromIndex:A,toIndex:v});u=this.options.animate||f.getProperty("ui.carousel.animate");if(u){C={on:{start:a.bind(function(){this._scrollActive=true;},this)}};switch(z){case"top":C.top=B+"px";break;case"bottom":break;case"left":C.left=B+"px";break;case"right":C.right=B+"px";break;}C.duration=this.options.animDuration||0.5;C.easing=this.options.easing||"ease-in-out";this._carouselList.transition(C,a.bind(function(){this._handleScrollEnd(x);},this));}else{this._carouselList.setStyle(z,B+"px");this._handleScrollEnd(x);}},_handleScrollEnd:function(u){var s,t,x,v,w;this._scrollActive=false;if(a.UA.ie){s=this._direction;w=this._carouselList;x=parseInt(w.getComputedStyle(s),10);v=this._convertToEms(x);if(isFinite(v)){w.setStyle(s,v-0.068+"em");}}t=this.getItemNode(this._currentIndex);this._activateTabIndex(t,e);this.fire(u);},_convertToEms:function(s){return 1/this._calculateEm()*parseInt(s,10);},_convertToPixels:function(s){return this._calculateEm()*parseInt(s,10);},_calculateEm:function(){var s,u,t=this.node;s=t.create('<div style="width: 50em; height: 0; position: absolute;'+this._direction+': -999em;"></div>');t.appendChild(s);u=s.get(g)/50;t.removeChild(s);if(u===0&&this._pixelToEmRatio!==0){u=this._pixelToEmRatio;}else{if(u>0){this._pixelToEmRatio=u;}}return u;},_activateTabIndex:function(u,s){var t=u.queryAll(n);if(t){if(s){t.each(function(v){v.removeAttribute(i);});}else{t.each(function(v){v.setAttribute(i,"-1");});}}},getItemNodes:function(){return this._carouselItems;},getItemCount:function(){return this._maxItems;},isScrolling:function(){return this._scrollActive;},attachEngagingAreaMouseEvents:function(){this.node.on(k,this.handleEngagingAreaMouseover,this);this.node.on(r,this.handleEngagingAreaMouseout,this);},detachEngagingAreaMouseEvents:function(){this.node.detach(k,this.handleEngagingAreaMouseover);this.node.detach(r,this.handleEngagingAreaMouseout);},handleBlur:function(){this.pause(e);this.detachEngagingAreaMouseEvents();},handleFocus:function(){this.play(e);this.attachEngagingAreaMouseEvents();},handleIEBlur:function(){if(this.activeElement){}if(this.activeElement==document.activeElement){this.activeElement=o;this.handleBlur();}},handleIEFocus:function(){if(this.activeElement==o){this.handleFocus();}this.activeElement=document.activeElement;},handleEngagingAreaMouseover:function(s){a.later(b,this,this.pause,e);},handleEngagingAreaMouseout:function(s){a.later(b,this,this.play,e);}};a.augment(m,a.Event.Target);function d(s){this.moduleapi=s;}d.prototype={create:function(t,s){return new m(t,s,this.moduleapi);}};a.namespace(c);a[c][h]={name:"carousel",getService:function(t,s){if(!q){q=t;}return new d(q.getModuleApi(s));}};if(f){f.registerService(a[c][h]);}},"1.0");/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */
function ad_el(b){var a=document;if(a.getElementById){return a.getElementById(b);}else{if(a.all){return a.all[b];}else{if(a.layers){return a.layers[b];}else{return null;}}}}function ad_params(g,f){var e="",b=arguments;for(var d=1;d<b.length;d++){if(g=="object"){e+="<param name="+b[d][0]+' value="'+b[d][1]+'">';}else{if(g=="embed"){e+=b[d][0]+'="'+b[d][1]+'"';if(d<(b.length-1)){e+=" ";}}else{return;}}}return[g,e];}function ad_embedObj(l,i,k,j,f,a){var b="";switch(l){case"swf":var e="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";break;default:return;}var c=l+i;if(a[0]=="object"){b='<object classid="'+e+'" id="'+c+'" width="'+j+'" height="'+f+'">'+a[1]+"</object>";}else{if(a[0]=="embed"){b='<embed name="'+c+'" '+a[1]+"></embed>";}else{return;}}if(k!==""){var g=ad_el(k);g.innerHTML=b;}else{document.write(b);}}ad_jsl=1;if(document.getElementById("l_yodel")&&typeof(yodel)!="undefined"){function callYodel(){var a=["FlashVars","startplay=1"];if(yodel.cap){ad_embedObj("swf","yod1","l_fl",yodel.swf_w,yodel.swf_h,ad_params("object",["movie",yodel.swf],["quality","autohigh"],["loop","false"],["play","false"],["wmode","transparent"],a));}else{ad_embedObj("swf","yod1","l_fl","","",ad_params("embed",["src",yodel.swf],["height",yodel.swf_h],["width",yodel.swf_w],["quality","autohigh"],["play","false"],["loop","false"],["wmode","transparent"],a,["type","application/x-shockwave-flash"],["pluginspage","https://web.archive.org/web/20140601014244/http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"]));}}function yodelCheckFlash(){var a=document.documentElement.className.toString();if(a.match("flash-gt"+(yodel.nfv-1))){if(a.match("ua-ie")){yodel.cap=1;}else{yodel.ncap=1;}}if(yodel.cap||yodel.ncap){var b=document.createElement("div");b.id="l_fl";b.style.position="absolute";b.style.top="0px";b.style.left="0px";document.getElementById("l_yodel").appendChild(b);ad_el("l_logo").useMap="#yodelmap";}}if(typeof(ad_jsl)!="undefined"){if(window.attachEvent){window.attachEvent("onload",yodelCheckFlash);}else{if(window.addEventListener){window.addEventListener("load",yodelCheckFlash,0);}}}}if(document.getElementById("hdrm_mh")&&typeof(ad_hdrm)!="undefined"){var hdrm_init=(function(){var b=document.documentElement.className.toString();if(b.match("flash-gt"+(ad_hdrm.nfv-1))&&typeof(ad_jsl)!="undefined"){if(b.match("ua-ie")){ad_hdrm.cap=1;}else{ad_hdrm.ncap=1;}}var a=document.createElement("div");a.id="mh_swf";a.style.position="absolute";a.style.top=ad_hdrm.off_y+"px";a.style.left=ad_hdrm.off_x+"px";ad_el("hdrm_mh").appendChild(a);var c="logo_clk="+ad_hdrm.redir+"&swfext="+ad_hdrm.dir+"&country=us";if(ad_hdrm.cap){ad_embedObj("swf","l1","mh_swf",ad_hdrm.swf_w,ad_hdrm.swf_h,ad_params("object",["movie",ad_hdrm.dir+ad_hdrm.swf],["FlashVars",c],["allowScriptAccess","always"],["quality","autohigh"],["menu","false"],["loop","false"],["wmode","transparent"],["play","true"]));}else{if(ad_hdrm.ncap){ad_embedObj("swf","l1","mh_swf","","",ad_params("embed",["alt",ad_hdrm.alt],["src",ad_hdrm.dir+ad_hdrm.swf],["id","swfl1"],["FlashVars",c],["allowScriptAccess","always"],["loop","false"],["menu","false"],["quality","high"],["width",ad_hdrm.swf_w],["play","true"],["height",ad_hdrm.swf_h],["wmode","transparent"],["type","application/x-shockwave-flash"],["pluginspage","https://web.archive.org/web/20140601014244/http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"]));}else{ad_el("hdrm_mh").innerHTML='<a href="'+ad_hdrm.redir+'"><img src="'+ad_hdrm.dir+ad_hdrm.img+'" height="'+ad_hdrm.swf_h+'" width="'+ad_hdrm.swf_w+'" border="0" alt="'+ad_hdrm.alt+'" /></a>';}}if(ad_hdrm.cap){ad_el("swfl1").alt=ad_hdrm.alt;}})();}/* Copyright (c) 2014, Yahoo! Inc.  All rights reserved. */


}
/*
     FILE ARCHIVED ON 01:42:44 Jun 01, 2014 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 06:24:05 Dec 12, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 116.369
  exclusion.robots: 0.083
  exclusion.robots.policy: 0.074
  cdx.remote: 0.053
  esindex: 0.009
  LoadShardBlock: 48.415 (3)
  PetaboxLoader3.datanode: 48.995 (4)
  load_resource: 212.036
  PetaboxLoader3.resolve: 187.573
*/