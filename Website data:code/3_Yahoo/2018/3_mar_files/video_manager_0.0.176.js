var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

YUI.add("type_video_manager",function(M,g){var E=M.Object.getValue(YUI,["Env","My","settings","context"]),u=E.videoplayerUrl,al=(E.videoForcedError===1),n=(E.videoFullscreen===1),ap=false,a=(E.videoAutoplay===1),R=(E.videoHtml5===1),b={statePlaying:"js-state-playing",stateMuted:"js-state-muted",stateFullscreen:"js-state-fullscreen",btnSound:"js-btn-sound",btnPlayPause:"js-btn-play-pause",btnFullscreen:"js-btn-fullscreen",btnVideomode:"js-btn-video-mode",btnVideoTiltbackMode:"js-btn-expand",customControls:".yvp-custom-controls .pl-controls-wrap"},aq=".js-stream-content-link",V="prod",c=true,r=E.videoSingleVideo||false,x=E.videoMaxInstances||12,G=E.videoMaxLoops||3,p=(E.videoLooping===1),ar=(E.videoRelated===0),au=(E.videoBuffering===0),ah=E.videoQosRate||".1",v=E.videoYwaRate||"0",I=E.videoMinControls===1,B=E.videoMustWatch===1,ag=E.videoMWSticky,y=E.videoMute===1,ae={},W=[],A={},D={},aj=E.videoSSButton,an=E.videoPausescreen,ab="not-ready",k=[],h="",z="",Z=E.videoInitEvent,U=(E.videoAsyncEnabled===1),s=E.videoplayerScriptElementId,S=(E.videoModeEnabled===1),m=E.videoExpName||"advance",ak=E.videoComscoreC4||"US fp",o=(E.videoTiltbackModeEnabled===1),F=(E.videoAdBeaconsDisabled===1),ad=(E.videoAdCCOnMuteEnabled),O=(E.videoStreamRapidEnabled===1),aa=!!M.one("#atomic"),H=aa?"Dn":"D-n",ax=(E.videoFetchPlayerJS===1),i=E.videoVpaidTimeout||5,t=E.videoSingleVideoClasses||[],w=E.videoSingleVideoContainers||[],j=E.videoAdAutoLoop||false,d=E.videoAdClicktoUnmute||false,N=E.verticalVideoAdStartPercentage||0,q=E.videoDisableOnViewerShow||false;M.VideoManager={initPlayerJs:function(aB){var Y=this,ay,az,aA;if(ab==="not-ready"&&ax){az=function(){ab="ready";if(typeof aB==="function"){aB.call(Y);}};if(Y._isPlayerJSLoaded()){return az();}ab="fetching";aA=U&&M.one("#"+s);if(aA){aA.on("load",az);}else{if(u&&!M.config.groups.videoplayer){ay={modules:{videoplayer:{group:"videoplayer",name:"videoplayer",type:"js",fullpath:u}},groups:{videoplayer:{name:"videoplayer",combine:false,filter:"min"}}};M.applyConfig(ay);}k.push(M.on("domready",function(){M.use("videoplayer",az);}));}}},createPlayerInstance:function(aG,aP){var aJ=this,aR=".js-video-target",aW,aH,aK,aL,aI,az,aS,aM,aN,aB,aA,Y,ay,aU,aV,aQ,aX,aC={},aO="strm-inline",aE,aD;if(ab!=="ready"){if(!aJ.queue){aJ.queue=[];}aG.playerConf=aP;aJ.queue.push(aG);aJ.initPlayerJs(aJ.playerInitCallback);}else{if(aG&&aG.node&&aG.uuid){aI=M.one(aG.node);if(!aI.getDOMNode()){return;}aE=aI.one("script");if(aE){try{aD=JSON.parse(aE.get("innerHTML"));aD.autoplay=aD.hasOwnProperty("autoplay")?aD.autoplay:true;aD.continuousPlay=aD.hasOwnProperty("continuousPlay")?aD.continuousPlay:true;}catch(aT){aD=null;}}aL=aI.generateID();if(aL in D){return;}az=aI.one(aR);if(az){aB=aI.getData("videoUrl");aA=aI.getData("videoXml");ay=aI.getData("playlist");aC=aI.getData("video-cfg");if(aC){aC=JSON.parse(aC)||{};aC=aC.config||aC;aO=aC.expType||aI.getData("videoExpType")||aO;Y=aC.playlist||null;}aH=aJ.createPlayerContainer(az,aI,aC);aK=aH.one(aa?".StretchedBox":".RatioBox").generateID();if(aB){aV=aI.getData("imageUrl")||"";aN={streams:[{url:aB}],images:{thumbnail:aV}};if(F){aN={id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:aV}};aU={standaloneAd:{gemini:aI.getData("geminiData"),rules:aI.getData("videoRules"),beacons:aI.getData("videoBeacons")}};}}else{if(aA){aV=aI.getData("imageUrl")||"";aN={id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:aV}};aU={standaloneAd:{xml:aA,beacons:aI.getData("videoBeacons")},vpaidTimeout:i};if(!window.flEnabled){return;}}else{aN={id:aG.uuid};if(az.getData("yvap")){try{aU=JSON.parse(az.getData("yvap"));}catch(aF){}}}}aW=aD||{autoplay:a,ccode:z,comscoreC4:ak,continuousPlay:false,disableCasting:true,expBucket:M.Af.Config.getContext("bucket"),expName:(aC&&aC.expName)||m,expType:aO,fullscreenBtn:n,html5:R,lang:M.Af.Config.getContext("lang")||"en-US",loop:p,mute:y,pageSpaceId:M.Af.Config.get("spaceid"),pausescreen:an,playlist:Y||{mediaItems:[aN]},preload:true,qosSamplingRate:parseFloat(ah),region:M.Af.Config.getContext("region")||"US",replayonlyendscreen:ar,stopBufferingOnPause:au,sec:h,settingscreen:false,site:"frontpage",startscreen:{showButton:aj,showDesc:false,showProvider:false,showTitle:false},CMS:{env:V,suppressAdContext:true},videoapps:false,ywaSamplingRate:parseFloat(v)};if(aU){aW.YVAP=aU;}if(aB&&F){if(ad){aW.ccOnMute=true;}aW.html5=ad?true:"raw";}if(aA||aB){aW.disableRecoverer=true;if(j){aW.loop=aI.getData("autoloop");if(aW.loop&&aB){aW.playlist.mediaItems[0].streams=[{url:aB}];delete aW.playlist.mediaItems[0].id;}}if(aI.one(".js-vertical-video-ad")){aW.loop=true;aW.replayonlyendscreen=false;aW.expName="sponsored_moments_ad";az.setData("pause-landscape","1");}if(d){aW.unMuteOnClick=true;}}if(aA){aW.expName="GeminiBRX";}if(c){aW.conviva=false;c=false;}if(aP){aW=M.merge(aW,aP);}if(ay){aW=aJ._addSidekickTvConfig(aW,aI,ay);}if(O){aJ._updateVideoConfigWithRapidInstance(aW,aI);}az.replace(aH);aM=aJ._getMediaStore(aG.boss);if(aM){aS=new YAHOO.VideoPlatform.VideoPlayer(aW,aM);}else{aS=new YAHOO.VideoPlatform.VideoPlayer(aW);}aJ._addPlayerToMap({boss:aG.boss,firedBeacons:{},guid:aL,has_interacted:false,is_playing:aW.autoplay,loopCount:0,player:aS,playerNode:aH,swapNode:az,videoCfg:aC});aJ.attachVideoListeners(aS,aI,aL);aS.render("#"+aK);if(I){aJ._setupControls(aL);}if(al){aS._controller.error({type:"playerError",code:"400"});}if(aI.one(".static-image-anchor")){aI.one(".static-image-anchor").addClass("D-n");}M.Global.fire("video-manager:create_player_instance",ae[aL]);}}}return aL;},_addSidekickTvConfig:function am(ay,aA,az){var Y=this;az=M.JSON.parse(az);ay.autoplay=a;ay.playlist.mediaItems=az;ay.replayonlyendscreen=false;ay.continuousPlay=true;ay.loop=true;ay.html5=window.flEnabled?false:true;plCfg=aA.getData("cfg");html5Cfg=aA.getData("html5cfg");if(plCfg){plCfg=M.JSON.parse(plCfg);}if(html5Cfg){html5Cfg=M.JSON.parse(html5Cfg);}if(window.flEnabled&&plCfg){ay.iframeRender=true;ay=M.merge(ay,plCfg);}else{if(!window.flEnabled&&html5Cfg){ay=M.merge(ay,html5Cfg);}}return ay;},_getMediaStore:function(Y){if(ae[Y]){return ae[Y].player.getMediaStore();}return false;},_getPlayerMutedState:function(Y){return Y&&Y.controls&&Y.controls.getMute();},_addPlayerToMap:function(ay){var Y=ay.guid;var az={loopCount:0,has_interacted:false,firedBeacons:{},eventSubscriptions:{playerErrors:true}};ae[Y]=ay;W.push(Y);},_disableVideo:function(ay){var Y=this;if(ay&&ay.player&&ay.player.controls.isPlaying()){ay.is_disabled=true;Y._pauseVideo(ay);}},_enableVideo:function(ay){var Y=this;if(ay&&ay.player&&ay.is_disabled){ay.is_disabled=false;Y._playVideo(ay);}},_getPlayerMapItem:function(Y){return ae&&Y in ae&&ae[Y];},_pauseVideo:function(Y){if(Y&&Y.player&&Y.player.controls){Y.is_playing=false;Y.player.controls.pause();}},_playVideo:function(Y){if(Y&&Y.swapNode&&Y.swapNode.getData("pause-landscape")&&Y.is_disabled){return;}if(Y&&Y.player&&Y.player.controls){Y.is_playing=true;Y.player.controls.play();}},_publishUIInteract:function(aA,ay){var az=this;var Y=az.getVpAPI();aA._eventBus.publish(Y.UI_INTERACT,{srcElement:ay});},_setupControls:function(aD){var aG=this,aF=ae[aD],aH=aF&&aF.is_playing?" js-state-playing":"",Y=aG._createCustomControls(aF.player),aB=Y.one(".pl-controls-wrap"),az=aF.playerNode.one(".yvp-custom-controls"),aC=M.one(".yvp-bottom-bar"),ay,aA,aE;if(az){az.append(Y);aB.delegate("click",function(aJ){var aI=aJ.currentTarget;aF.has_interacted=true;switch(true){case (aI.hasClass(b.btnSound)):aG._toggleSoundControl(aI,aF,aD);break;case (aI.hasClass(b.btnPlayPause)):aG._togglePlayPauseControl(aI,aF,aD);break;case (aI.hasClass(b.btnFullscreen)):aG._toggleFullscreenControl(aI,aF,az);break;case (aI.hasClass(b.btnVideomode)):aG._toggleVideoModeControl(aI,aF);break;case (aI.hasClass(b.btnVideoTiltbackMode)):aG._toggleTiltbackMode(aI,aF);break;default:break;}},"span");}},_toggleSoundControl:function l(aC,aA,az){var ay=this;var aB=aA.player.controls.getMute();var Y="ctrl-mute-btn-"+(aB&&"off"||"on");if(aB){aA.player.controls.setMute(false);ay.volumeHandler(az);aC.removeClass(b.stateMuted);}else{aA.player.controls.setMute(true);aC.addClass(b.stateMuted);}ay._publishUIInteract(aA.player,Y);},_togglePlayPauseControl:function J(aC,aB,az){var ay=this;var aA=ay._isPlaying(aB.player);var Y="ctrl-"+(aA&&"Pause"||"Play");if(aA){ay._pauseVideo(aB);if(r){if(ae&&ae[az]){ae[az].is_playing=false;}ay.playOtherVideos(az);}aC.removeClass(b.statePlaying);}else{ay._playVideo(aB);aC.addClass(b.statePlaying);}ay._publishUIInteract(aB.player,Y);},_toggleFullscreenControl:function ao(aA,az,ay){var Y=this;if(az.player.controls.getFullscreen()){return;}az.player.controls.setFullscreen(true);vpAPI=Y.getVpAPI();fullscreenEvent=az.player.on(vpAPI.PLAYER_FULLSCREEN_CHANGE,Y.fullscreenChangeHandler.bind(Y));Y.fullscreen={player:az.player,container:ay,state:Y.controlsSnapshot(ay),evt:fullscreenEvent};aA.addClass(b.stateFullscreen);Y._publishUIInteract(az.player,"ctrl-fullscreen-on");},_toggleVideoModeControl:function K(aB,az){var Y=this;var ay=az.player;var aA={action:"open",currentTime:Math.floor(ay.controls.getCurrentTime()),muted:ay.controls.getMute(),uuid:ay.playlist.getCurrentItemId()};M.Global.fire("video-modal",aA);Y._publishUIInteract(az.player,"ctrl-videomode-on");},_toggleTiltbackMode:function L(aC,az){var Y=this;var ay=az&&az.player;var aB=az&&az.playerNode;var aA=aB&&aB.ancestor(".js-video-content");if(!aA){return false;}aA.toggleClass("expanded");aB.toggleClass("css-hide-video-controls");Y._publishUIInteract(ay,"ctrl-tiltback-mode");},controlsSnapshot:function(ay){var az,Y;if(ay){az=ay&&ay.one("."+b.btnSound);Y=ay&&ay.one("."+b.btnPlayPause);if(az&&Y){return{muted:az.hasClass(b.stateMuted),playing:Y.hasClass(b.statePlaying)};}}},fullscreenChangeHandler:function(ay){var Y=this;if(!ay){Y.exitFullscreenCleanup();}},exitFullscreenCleanup:function(){var az=this,aB=az.fullscreen,ay=aB.container,Y=ay.one(".js-btn-fullscreen"),aA=az.controlsSnapshot(ay);if(Y&&Y.test(".js-state-fullscreen")){Y.toggleClass(b.stateFullscreen);}if(aA.playing!==aB.state.playing){ay.one("."+b.btnPlayPause).toggleClass(b.statePlaying);}if(aA.muted!==aB.state.muted){ay.one("."+b.btnSound).toggleClass(b.stateMuted);}az.fullscreen.evt();az.fullscreen=null;},fullscreenHandler:function(ay){var az=this,Y;if(az.fullscreen){switch(ay){case"ctrl-fullscreen-off":az.exitFullscreenCleanup();break;case"ctrl-mute-btn-off":az.fullscreen.state.muted=false;break;case"ctrl-mute-btn-on":az.fullscreen.state.muted=true;break;case"ctrl-play":az.fullscreen.state.playing=true;break;case"ctrl-pause":az.fullscreen.state.playing=false;break;default:break;}}},_createCustomControls:function at(aB){var az=this;var aA=[];var Y=az._getSoundControlMarkup(aB);var ay=az._getPlayPauseControlMarkup(aB);if(S){aA=[Y,ay,az._getVideoModeMarkup()];}else{if(o){aA=[az._getVideoTiltbackModeMarkup()];}else{aA=[Y,ay];if(n){aA.push(az._getFullscreenControlMarkup());}}}return M.Node.create('<div class="outer-wrap"><div class="inner-wrap"><div class="pl-controls-wrap">'+aA.join("")+"</div></div></div>");},_getPlayPauseControlMarkup:function f(Y){var ay=this._isPlaying(Y)&&" js-state-playing"||"";return'<span class="js-btn-play-pause '+ay+'"> <i class="play"></i> <i class="pause"></i> </span>';},_getSoundControlMarkup:function ai(Y){var ay=Y.controls.getMute()&&" js-state-muted"||"";return'<span class="js-btn-sound '+ay+'"> <i class="on"></i> <i class="off"></i> </span>';},_getFullscreenControlMarkup:function Q(){return'<span class="js-btn-fullscreen"> <i class="fs"></i> </span>';},_getVideoModeMarkup:function av(){return'<span class="js-btn-video-mode"> <i class="video-mode"></i> </span>';},_getVideoTiltbackModeMarkup:function e(){return'<span class="js-btn-expand"><i class="on"></i></span>';},_isDestroyable:function(Y){var az=ae[Y];var ay;if(!az||az.is_destroyable===false){return false;}ay=az&&!az.has_interacted&&az.playerNode;return ay&&!ay.inViewportRegion();},_isPlaying:function(Y){var ay=false;if(!Y||!Y.controls){return;}if(Y.controls.isPlaying){ay=Y.controls.isPlaying();}else{if(Y.controls._model){ay=!Y.controls._model.playbackState.paused;}}return ay;},_isPlayerJSLoaded:function(){return YAHOO&&YAHOO.VideoPlatform&&YAHOO.VideoPlatform.VideoPlayer;},_auditPlayerInstances:function(){var ay=W.length,az,Y;if(ay>x){az=M.Array.filter(W,this._isDestroyable);Y=az.shift();this.destroyPlayerInstance(Y);}},createPlayerContainer:function(aG,aF,aD){var aC=[(I&&"css-hide-video-controls")||""];var aB=aa?["Pb(56.25%)","H(0)","Pos(r)"]:["Ratio-16-9"];var aA=aa?"StretchedBox W(100%) H(100%)":"RatioBox";var aJ;var Y=aG&&aG.getAttribute("href")||"";var az=aD&&aD.overrideTap||false;var aE;if(az&&Y){var aK=aD&&aD.viewerEligible?aF.getData("uuid"):"";var aI=[];var ay="";if(aK){aI=["js-content-viewer","rapid-noclick-resp","rapidnofollow"];ay=' data-uuid="'+aK+'"';}aI.push(aA);aE='<a class="'+aI.join(" ")+'" href="'+Y+'"'+ay+"></a>";}else{aE='<div class="'+aA+'"></div></div>';}if(o){aC.push("tiltback-mode-enabled");}var aH="";if(aG.hasClass("js-vertical-video-ad")){aB=["js-smad-image","Start(0)","Pos(f)","H(100%)","W(100%)","TranslateZ(0)"];}aJ=aC.concat(aB).join(" ");return M.Node.create('<div class="js-player-container '+aJ+'">'+aE+"</div>");},destroyPlayerInstance:function(ay,aB){var Y=this,aA=M.Array.indexOf(W,ay),aC;if(ay&&ay in ae&&ae[ay]){aC=ae[ay];if(aC.playerNode.inViewportRegion&&!aC.playerNode.inViewportRegion()||aB){try{aC.player.destroy();}catch(az){}if(aC.playerNode&&aC.playerNode.getDOMNode()&&aC.swapNode&&aC.swapNode.getDOMNode()){aC.playerNode.replace(aC.swapNode);}aC.playerNode.destroy();aC=null;delete ae[ay];W.splice(aA,1);}}if(Y.unmutedVP&&Y.unmutedVP===ay){Y.unmutedVP=null;}},_cleanup:function aw(ay){var Y=this;var az;if(ae){az=Object.keys(ae);if(Array.isArray(az)){az.forEach(function(aA){Y.destroyPlayerInstance(aA,true);});}}if(Array.isArray(k)){k.forEach(function(aA){aA.detach();aA=null;});}E=null;u=null;al=null;a=null;R=null;b=null;V=null;c=null;r=null;x=null;G=null;p=null;ar=null;au=null;ah=null;v=null;I=null;B=null;ag=null;y=null;ae=null;W=null;D=null;aj=null;ab=null;k=null;h=null;z=null;Z=null;U=null;s=null;S=null;m=null;},handleBlur:function(){var Y=this;M.Array.each(W,function(ay){var aA=Y._getPlayerMapItem(ay);var az=false;if(!aA){return;}if(aA.is_live_event&&aA.player){if(Y._getPlayerMutedState(aA.player)){az=true;}}else{if(!aA.has_interacted){az=true;}}if(az){Y._pauseVideo(aA);Y.updatePlayBtn(aA);}},this);},handleOrientationChange:function(az){var ay=this;var aA;var Y;if(screen.orientation&&typeof screen.orientation.angle==="number"){aA=screen.orientation.angle;}else{if(typeof window.orientation==="number"){aA=window.orientation;}}if(aA!==undefined){Y=aA===90||aA===-90||aA===270||aA===-270;if(Y){M.Array.each(W,function(aB){var aC=ay._getPlayerMapItem(aB);if(aC.swapNode&&aC.swapNode.getData("pause-landscape")){ay._pauseVideo(aC);}});}}},handleFocus:function(){this.playOtherVideos();},playOtherVideos:function(az){var Y=this,ay=this.isPlayable();M.Array.each(W,function(aA){var aD=Y._getPlayerMapItem(aA),aB=aD&&aD.player,aC=ae[aA]&&ae[aA].playerNode;if(aD.swapNode&&aD.swapNode.getData("pause-landscape")){if(M.one("html").hasClass("Reader-open")){return;}aC=aD.playerNode.ancestor(".js-smad-clip");}if((!az||az!==aA)&&ay&&aB&&!aD.has_interacted&&aC&&aC.inViewportRegion()){Y._playVideo(aD);Y.updatePlayBtn(aD);if(r){ay=false;}}});},handleViewEnter:function(aB){var aF=this,az=aB.currentTarget,Y=az.getData("pkg-video-id")||az.getData("uuid"),aC=az.getData("applet-guid")||az.generateID(),aD=aF._getPlayerMapItem(aC),aE=aD&&aD.player,aA=aF.isPlayable(),ay={node:az,uuid:Y};if(aE&&!aF._isPlaying(aE)&&!aD.has_interacted&&!aE.isDocked()){if(aA){if(ap){A.player=aC;return;}aF._playVideo(aD);}aF.updatePlayBtn(aD);}else{if(ay&&ay.uuid&&!aD){aF.createPlayerInstance(ay,{autoplay:aA});}}},handleViewLeave:function(aA){var Y=this,az=aA.currentTarget,ay=az.getData("applet-guid")||az.generateID(),aB=Y._getPlayerMapItem(ay);if(aB&&Y._isPlaying(aB.player)&&!aB.has_interacted&&!aB.is_fullscreen&&!(aB.player&&aB.player.isDocked())){Y._pauseVideo(aB);}Y.updatePlayBtn(aB);Y._auditPlayerInstances();if(r){Y.playOtherVideos(ay);}if(A.player&&A.player===ay){A.player=false;}},_fetchMustWatch:function(){var Y=this,ay=function az(){var aA=M.one("#mustwatch-container"),aD=aA&&aA.one("[data-applet-type=td-applet-videoplayer]"),aC=aD&&aD.getData("applet-guid");if(aC){M.Global.on("player-manager:initialize-complete",function aB(){M.Global.fire("player-manager:get-player-manager",{callback:function aE(aF){var aG=aF.getPlayerInstance();Y._addPlayerToMap({loopCount:0,guid:aC,player:aG,playerNode:aD,has_interacted:false,is_playing:false});Y._setupControls(aC);aD.on("viewenter",Y.handleViewEnter,Y);aD.on("viewleave",Y.handleViewLeave,Y);},instance:aC});});}};M.Af.Content.remoteApplet(M.My.App,{type:"td-applet-videoplayer",params:{mode:"listron",submode:"mustwatch",channelAlias:"popular",enable_sticky_mode:ag,expName:"advance",expType:"vid-inline",spaceid:M.Af.Config.get("spaceid"),site:"frontpage",vp:0,pausescreen:0,player_mute:1,i13n:{auto:false}},placement:{node:"#mustwatch-container"}},ay);},initMustWatch:function(){var aG=this,aA=5,aB=0,ay=M.one("#applet_p_50000201"),aE=M.one("#applet_p_50000186"),aD,az,Y;if(ay){k.push(M.Global.on("fpvideo:ready",function aF(aL){var aI=aL&&aL.vp;if(aI){var aJ=ay;var aH=aJ&&aJ.getData("applet-guid");var aK=(aI&&aG._isPlaying(aI))||true;aG._addPlayerToMap({loopCount:0,guid:aH,player:aI,playerNode:aJ,has_interacted:false,is_playing:aK});k.push(aJ.on("viewenter",aG.handleViewEnter,aG));k.push(aJ.on("viewleave",aG.handleViewLeave,aG));aG.attachVideoListeners(aI,aJ,aH);}}));return;}if(aE){aE.insert('<div id="mustwatch-container" class="css-hide-video-controls" data-offset="1000"></div>',"after");aD=M.one("#mustwatch-container");}if(aD){if(aD.inViewportRegion()){if(ab==="ready"){aG._fetchMustWatch();}else{if(ab==="not-ready"){aG.initPlayerJs(aG._fetchMustWatch);}else{if(ab==="fetching"){az=setInterval(function aC(){aB+=1;if(ab==="ready"){clearInterval(az);aG._fetchMustWatch();}if(aB>=aA){clearInterval(az);}},500);}}}}else{Y=aD.on("viewenter",function(){Y.detach();aG._fetchMustWatch();});}}},init:function(){var ay=this;ay.queue=[];if(B){ay.initMustWatch();}k.push(M.Af.Event.on("content:init",ay.findVideosInit,ay));k.push(M.Af.Event.on("content-video:init",ay.findVideosInit,ay));k.push(M.Af.Event.on("content:batch",ay.findStreamVideos,ay));k.push(M.Af.Event.on("sidekicktv:init",ay.findStreamVideos,ay));ay.findDOMVideos();k.push(M.Global.on("video-manager:disable",ay._disablePlayers,ay));k.push(M.Af.Event.on("video-manager:disable",ay._disablePlayers,ay));k.push(M.Af.Event.on("page:destroy",ay._cleanup,ay));k.push(M.Global.on("video-manager:enable",ay._enablePlayers,ay));k.push(M.Af.Event.on("video-manager:enable",ay._enablePlayers,ay));k.push(M.Global.on("video-modal",function Y(az){az.type="video";M.Af.Event.fire("viewmode:enter",az);}));k.push(M.on("blur",M.bind(ay.handleBlur,ay),window));k.push(M.on("focus",M.bind(ay.handleFocus,ay),window));k.push(M.on("orientationchange",M.bind(ay.handleOrientationChange,ay),window));k.push(M.Global.on("video-manager:prevent-new-playback",ay.handlePreventNewPlayback,ay));k.push(M.Global.on("video-manager:add-remote-player",ay.handleAddRemoteVideo,ay));k.push(M.Global.on("video-manager:remove-remote-player",ay.removeRemoteVideo,ay));if(q){k.push(M.Af.Event.on("viewer:show",ay._disablePlayers,ay));k.push(M.Af.Event.on("viewer:hide",ay._enablePlayers,ay));}ay.activeVideosInit();},_disablePlayers:function af(){var Y=this;M.Array.each(W,function(ay){var az=Y._getPlayerMapItem(ay);if(az.is_playing){Y._disableVideo(az);}});},_enablePlayers:function C(){var Y=this;M.Array.each(W,function(ay){var az=Y._getPlayerMapItem(ay);if(az.is_disabled){Y._enableVideo(az);}});},_normalizePayload:function(aA){var Y=aA&&aA.guid&&M.one("#applet_"+aA.guid)||M.one("#applet_p_50000173"),ay=aA&&aA.list,az={container:Y,items:ay};return az;},getVideoNodes:function(aC){var ay=aC&&aC.container,aA=aC&&aC.items,aB=null,aD,Y,az=this;if(ay&&aA){M.Array.each(aA,function(aR){if(aR&&(aR.type==="3"||aR.pkg_video_id||aR.videoCfg)){var aH,aN,aG,aO,aP,aJ;if(!aB){aB=new M.NodeList();}Y=ay.all('[data-uuid="'+aR.id+'"]');Y.each(function(aS){if(!aS.hasClass("fake-cluster-uuid")&&!aS.hasClass("js-videomgr-excluded")){aD=aS;}});if(aD){var aI=Array.isArray(aR.videoAdAssets)?M.Object.getValue(aR,["videoAdAssets",0]):aR.videoAdAssets;if(aI&&aI.mediaInfo){if(j){var aL=false;if(aI.autoloop){aL=aI.autoloop==="true"?true:(aI.autoloop==="false"?false:aI.autoloop);}aD.setData("autoloop",aL);}if(!Array.isArray(aI.mediaInfo)){aH=az.mapVideoAdAssets(aI);if(aH&&aH.videoXml){aG=aH.videoXml;}else{aN=aH&&aH.videoUrl;}}else{for(var aF=0;aF<aI.mediaInfo.length;aF++){var aQ=aI.mediaInfo[aF];if(aQ.url&&aQ.contentType==="video/mp4"){aN=aQ.url;}if(aQ.xml){aG=aQ.xml;}}}}aO=aR.videoAdImage;aP=aR.videoAdBeacons;if(aD.one(".js-vertical-video-ad")){var aE=aD.get("clientHeight");var aM=N||aR.videoAdRules&&aR.videoAdRules.viewabilityDefVideo&&parseInt(aR.videoAdRules.viewabilityDefVideo.p,10)||50;if(aE>0){aD.setData("offset",-1*aE*(aM/100));}}if(aN){aD.setData("videoUrl",aN);}if(aG||F){aD.setData("videoXml",aG);if(aP){M.Object.each(aP,function(aT,aS){if(Array.isArray(aT)){aP[aS]=aT;}else{aP[aS]=[aT];}});}}if(aO){aD.setData("imageUrl",aO);}if(aP){aD.setData("videoBeacons",aP);}if(aR.videoAdRules){M.Object.each(aR.videoAdRules,function(aT,aS){if(Array.isArray(aT)){M.Object.each(aT,function(aU){M.Object.each(aU,function(aW,aV){aU[aV]=parseInt(aW,10);});});}else{M.Object.each(aT,function(aV,aU){aT[aU]=parseInt(aV,10);});}});aD.setData("videoRules",aR.videoAdRules);}if(F&&aN){aJ={clickUrl:aR.link,mediaInfo:aI.mediaInfo};M.Array.each(aJ.mediaInfo,function aK(aS){aS.height=parseInt(aS.height,10);aS.width=parseInt(aS.width,10);aS.bitrate=parseInt(aS.bitrate,10);aS.length=parseInt(aS.length,10);});aD.setData("geminiData",aJ);}if(aR.videoCfg){aD.setData("video-cfg",aR.videoCfg);}aB.push(aD);aD=null;}}});if(aB&&aB.size()>0){return aB;}}return null;},mapVideoAdAssets:function(aB){var ay={VIDEO_PRIMARY:{contentType:"video/mp4",assetName:"videoUrl"}};var aF;var az={};var aE;var aD;var aC;var Y=function(aI,aG){var aH=new RegExp(aI);return aH.test(aG.contentType);};var aA=function(aG){return aG.xml;};aB=aB?[].concat(aB):[];aB.forEach(function(aG){var aH=ay[aG.usageType];aG.mediaInfo=aG.mediaInfo?[].concat(aG.mediaInfo):[];if(aH){if(aG.mediaInfo.length>1){aC=aG.mediaInfo.filter(aA)||[];if(!aC){aD=aG.mediaInfo.filter(Y.bind(null,aH.contentType))||[];}}else{if(aG.mediaInfo.length===1&&aG.mediaInfo[0].xml){aC=aG.mediaInfo;}else{aD=aG.mediaInfo;}}if(aC){az.videoXml=aC[0]&&aC[0].xml;}else{az[aH.assetName]=aD[0]&&aD[0].url;}}});return az;},_loopVideos:function(az,Y,aA){var aG=this,ay=false,aF,aD,aB,aC,aE;Y=Y||{};aE=Y.playerConf||{};aE.autoplay=false;aD=function aD(aI,aH){var aJ={node:aI,uuid:aI.getData("pkg-video-id")||aI.getData("uuid")},aK=function aK(){var aL;if(aH===0){aL=az.getData("pkg-video-id")||az.getData("uuid");aE.prefetchIds=aL;aC=aG.createPlayerInstance(aJ,aE);}else{aJ.boss=aC;aG.createPlayerInstance(aJ,aE);}};setTimeout(aK,0);};aB=function aB(aH){if(aH.inViewportRegion()){ay=true;}aG.queue.push({node:aH,uuid:aH.getData("pkg-video-id")||aH.getData("uuid"),playerConf:aE});};aF=function aF(){if(aA){aA();}};fn=Y.init?aB:aD;if(az){az.each(fn);if(Y.init){if(ay){aF();}else{M.one("window").once("scroll",aF);}}else{aF();}aG.attachViewportListeners(az);}},findStreamVideos:function(aB){var Y=this,aA=Y._normalizePayload(aB),ay=Y.getVideoNodes(aA),az={playerConf:aB.playerConf||{}};if(ay){Y._loopVideos(ay,az);}},findDOMVideos:function(){var Y=M.all(".yahoo-view-video,.wafer-video");if(Y.size()>0){this._loopVideos(Y,{});}},findVideosInit:function(aB){var Y=this,aA=Y._normalizePayload(aB),ay=Y.getVideoNodes(aA),az={init:true,playerConf:aB.playerConf||{}};if(ae&&Object.keys(ae).length>0){keys=Object.keys(ae);if(Array.isArray(keys)){keys.forEach(function(aC){var aD=ae[aC].playerNode;if(aD&&aD.getDOMNode&&!aD.getDOMNode()){Y.destroyPlayerInstance(aC,true);}});}}if(ay){Y._loopVideos(ay,az,function(){if(Y.queue.length>0){Y.initPlayerJs(Y.playerInitCallback);}});}},activeVideosInit:function(){var Y=this;if(!window.VEX){return;}if(ab!=="ready"){Y.initPlayerJs(M.bind(Y.videoModeInstancesInit,Y));}else{Y.videoModeInstancesInit();}},videoModeInstancesInit:function(){var Y=this;var aA;var ay=[];var az;if(!window.VEX){return;}M.Array.each(window.VEX.VideoModeInstances,function(aB){aA=aB&&aB.getPlayerInfos&&aB.getPlayerInfos();if(aA){az=M.one(payload.node);aA.playerNode=az;aA.is_playing=aA.config&&aA.config.autoplay;ay.push(aA);}});if(ay.length>0){Y.addRemoteVideoInstance(ay);}},handleAddRemoteVideo:function T(az){var Y=this;var ay=Array.isArray(az)?az:[az];Y.addRemoteVideoInstances(ay);},handlePreventNewPlayback:function X(ay){var Y=this;ap=!!ay;if(!ay&&A.player){if(Y.isPlayable()&&ae[A.player]){Y._playVideo(ae[A.player]);A.player=false;}if(A.player&&!ae[A.player]){A.player=false;}}},removeRemoteVideo:function P(aB){var Y=this;var ay=aB&&aB.guid;var aA;var az;if(ay&&ay in ae&&ae[ay]){az=M.Array.indexOf(W,ay);aA=ae[ay];aA=null;delete ae[ay];W.splice(az,1);}},addRemoteVideoInstances:function ac(aB){var Y=this;var aA;var az=new M.NodeList();var ay;if(Array.isArray(aB)&&aB.length>0){M.Array.each(aB,function(aC){if(aC){aA=M.one(aC.playerNode);ay=aA.generateID();Y._addPlayerToMap({guid:ay,player:aC.instance,playerNode:aA,is_destroyable:false,is_playing:aC._is_playing,eventSubscriptions:{playerErrors:false}});Y.attachVideoListeners(aC.instance,null,ay);az.push(aA);}});}if(az.size()>0){Y.attachViewportListeners(az);}},attachViewportListeners:function(ay){var Y=this;k.push(ay.on("viewenter",Y.handleViewEnter,Y));k.push(ay.on("viewleave",Y.handleViewLeave,Y));},attachVideoListeners:function(aQ,aK,aN){var aM=this,az=aM.getVpAPI(),aO,aJ,aR,aS,aI=aK&&aK.getData("videoBeacons"),aC=aI||false,aE=ae[aN],aT=(aE&&aE.fireBeacons)||{},ay=aK&&aK.getData("playlist"),aP=aK&&aK.getData("meta"),aF=(aE&&aE.videoCfg)||{},aH=0,aG;if(az&&ae&&ae[aN]){aG=ae[aN].eventSubscriptions||{};aQ.on(az.UI_INTERACT,function Y(aV){var aU=aV&&aV.srcElement&&aV.srcElement.toLowerCase();if(p){aQ.controls.setLoop(false);}if(ae&&ae[aN]){ae[aN].has_interacted=true;}if(aU&&aU==="ctrl-mute-btn-off"){aM.volumeHandler(aN);}if(I&&aM.fullscreen){aM.fullscreenHandler(aU);}});aJ=function(){if(ae&&ae[aN]){ae[aN].is_playing=false;}var aV=ae[aN].playerNode;var aU=aV.one(".js-cstm-end-screen");if(!aU){aU=aV.previous(".js-cstm-end-screen");if(aU){aU.remove();aV.insert(aU,ae[aN].playerNode.one(".yvp-bottom-bar"));}}if(aU){aU.removeClass(H);}if(r){aM.playOtherVideos(aN);}};if(aG.playerErrors!==false){aO=function aO(){D[aN]=true;if(aC&&aK.getData("videoXml")){aM.destroyPlayerInstance(aN,true);}if(aK.getData("playlist")){aM.destroyPlayerInstance(aN,true);if(M.one("#applet_sidekicktv")){M.one("#applet_sidekicktv").addClass("D-n");}if(M.one("#my-adsLREC2-fallback")){M.one("#my-adsLREC2-fallback").removeClass("D-n");}}if(aK.one(".static-image-anchor")){aK.one(".static-image-anchor").removeClass("D-n");}if(aF.destroyOnError===true){aM.destroyPlayerInstance(aN,true);}};aQ.on(az.PLAYBACK_ERROR,aO);aQ.on(az.PLAYER_ERROR,aO);aR=aQ.on(az.PLAYBACK_TIMEOUT,aO);}aQ.on(az.AD_PLAYBACK_START,function aB(){var aU=ae[aN].playerNode.one(".js-cstm-end-screen");if(aU){aU.addClass(H);}});aQ.on(az.PLAYER_FULLSCREEN_CHANGE,function aD(aU){ae[aN].is_fullscreen=aU;});aQ.on(az.PLAYBACK_START,function aA(){var aV=!ae[aN].has_interacted&&p&&G&&(ae[aN].loopCount<G);if(aV){ae[aN].loopCount++;if(ae[aN].loopCount===G){aQ.controls.setLoop(false);}}var aU=ae[aN].playerNode.one(".js-cstm-end-screen");if(aU){aU.addClass(H);}if(aC){if(aK.getData("videoXml")){aT={VIDEO_START:true,VIDEO_QUARTILE_100:true,VIDEO_VIEW:true,VIDEO_30_SEC:true,VIDEO_QUARTILE_25:true,VIDEO_QUARTILE_50:true,VIDEO_QUARTILE_75:true};}aM.fireAdBeacon("VIDEO_START",aI,aT);}if(aR){aR();}});if(ay){ay=M.JSON.parse(ay);aP=M.JSON.parse(aP);aQ.on(az.PLAYLIST_POSITION_CHANGE,function aL(aV){var aU;if(aV<ay.length&&aV>=0&&aP[ay[aV].id]){aU=aP[ay[aV].id];aH=aV;aK.one(".js-stv-title").setContent(aU.title);aK.one(".js-stv-provider").setContent(aU.providerName);}});}aQ.on(az.PLAYLIST_COMPLETE,function(){aJ();if(aC){aM.fireAdBeacon("VIDEO_QUARTILE_100",aI,aT);aT={};}});if(aC){aQ.on(az.PLAYBACK_TIME_UPDATE,function(aV,aU,aW){if(aU>3&&!aT.VIDEO_VIEW){aM.fireAdBeacon("VIDEO_VIEW",aI,aT);}if(aU>30&&!aT.VIDEO_30_SEC){aM.fireAdBeacon("VIDEO_30_SEC",aI,aT);}if(aU>aW*0.25&&!aT.VIDEO_QUARTILE_25){aM.fireAdBeacon("VIDEO_QUARTILE_25",aI,aT);}if(aU>aW*0.5&&!aT.VIDEO_QUARTILE_50){aM.fireAdBeacon("VIDEO_QUARTILE_50",aI,aT);}if(aU>aW*0.75&&!aT.VIDEO_QUARTILE_75){aM.fireAdBeacon("VIDEO_QUARTILE_75",aI,aT);}});}}},fireAdBeacon:function(az,Y,aB){var aC;var aA;var ay;if(!az||aB[az]||F){return;}aC=Y&&Y[az];if(!aC){return;}aC=[].concat(aC);for(aA=0;aA<aC.length;aA++){ay=aC[aA];if(!ay){continue;}M.Af.Beacon.send(ay);aB[az]=true;}},playerInitCallback:function(){var az=this,ay=az.queue,Y=ay&&ay.length||0,aB=a,aA,aD,aC;if(Y!==0){az.setUltParams(ay[0]);}for(aA=0;aA<Y;aA++){aD=ay[aA];aC=aD.playerConf||{};if(aD.node.inViewportRegion()){aC.autoplay=aB;az.createPlayerInstance(aD,aC);if(r){aB=false;}}else{aC.autoplay=false;az.createPlayerInstance(aD,aC);}}az.queue=[];},getVpAPI:function(){var Y=this;if(!Y.vpAPI){Y.vpAPI=YAHOO&&YAHOO.VideoPlatform&&YAHOO.VideoPlatform.API_Events;}return Y.vpAPI;},setUltParams:function(aD){var ay=this,Y=aD&&aD.node,aC=Y.ancestor("[data-i13n-sec]"),aA=Y&&Y.one(".js-video-content"),az=aA&&aA.getData("ylk"),aB=/;?ccode:(.[^;]+);/i,aE;h=aC&&aC.getData("i13n-sec")||"";if(az){aE=az.match(aB);z=(aE&&aE[1])||"";}},isPlayable:function(){var Y=a;if(r){M.Array.each(W,function(aA){var aC=ae[aA]&&ae[aA].playerNode;var az=false;if(aC){az=t.some(function aB(aD){return aC.hasClass(aD);});az=az||w.some(function ay(aD){return aC.ancestor("."+aD);});}if(aC&&!D[aA]&&az&&(ae[aA].is_playing===true)){Y=false;}});}return Y;},updatePlayBtn:function(ay){var Y;Y=ay&&ay.playerNode&&ay.playerNode.one(b.customControls+" ."+b.btnPlayPause);if(I&&Y){if(ay.is_playing&&!Y.hasClass(b.statePlaying)){Y.addClass(b.statePlaying);}else{if(!ay.is_playing&&Y.hasClass(b.statePlaying)){Y.removeClass(b.statePlaying);}}}},volumeHandler:function(ay){var Y=this,az,aB,aA;if(Y.unmutedVP&&ay!==Y.unmutedVP){if(ae&&ae[Y.unmutedVP]){aB=ae[Y.unmutedVP];az=aB.player;aA=aB.playerNode;az.controls.setMute(true);if(!aA.inViewportRegion()){az.controls.pause(true);aB.is_playing=false;Y.updatePlayBtn(aB);}aB.has_interacted=false;}}Y.unmutedVP=ay;},_updateVideoConfigWithRapidInstance:function(az,aC){var aD=aC.ancestor("[data-i13n-sec]");var aB=aD&&aD.getData("i13n-sec")||"";var ay={};var aA={};var Y=aC.one(aq);if(Y){ay=M.Af.rapid.parseYLK(Y);}az.sec=az.sec||aB;az.ccode=az.ccode||ay.ccode||"";az.cpos=az.cpos||ay.cpos||"";ay.sec=aB;aA._rid=M.Object.getValue(window.rapidPageConfig,["rapidConfig","keys","_rid"])||"";az.rapidConfig={rapid:window.rapidInstance,clickParams:ay,pageParams:aA};return az;}};if(u){M.VideoManager.init();}},"0.0.1",{requires:["af-content","af-event","base","event-custom","event-viewenter","node-core"]});YUI.add("event-viewenter",function(e,c){var a="inviewport",f=e.Object.getValue(YUI,["Env","My","settings","context"]),d=f.videoplayerScrollThrottle&&parseInt(f.videoplayerScrollThrottle,10)||0,b={_checkNode:function(h,p,o){var j,n,m=p.handle.evt.type,g,i,k;h=e.one(h);g=h.getData("timer"+m);if(g){clearTimeout(g);}i=function l(){k=parseInt(h.getData("offset"),10)||-85;j=o.isNodeOnscreen(h,k);n=h.getData(a);if((m==="viewenter"&&j&&!n)||(m==="viewleave"&&!j&&n)){p.fire({target:h});h.setData(a,j);}};if(d){g=setTimeout(i,d);h.setData("timer"+m,g);}else{i();}},_notify:function(k,j,i,h){var g=j.handle.evt.type;if(g==="viewenter"||g==="viewleave"){h._checkNode(i,j,this);}else{j.fire({target:i});}},_filterNotify:function(o,m,k,l){var h,g,n,j=m.handle.evt.type;n=e.Selector.query(k||"*");for(h=0,g=n.length;h<g;h++){if(j==="viewenter"||j==="viewleave"){l._checkNode(n[h],m,this);}else{m.fire({target:n[h]});}}},_bind:function(k,h,j,g){var i,l,m,n;m=g||k;n=g?this._filterNotify:this._notify;if(this.type==="viewenter"||this.type==="viewleave"){i="scroll";l=e.one("body");}else{i=this.type;l=k;}l.plug(e.Plugin.ScrollInfo);l.scrollInfo.set("scrollDelay",25);h.handle=l.scrollInfo.on(i,n,null,j,m,this);},on:function(i,g,h){return this._bind(i,g,h);},delegate:function(j,h,i,g){return this._bind(j,h,i,g);},detach:function(h,g){g.handle.detach();},detachDelegate:function(h,g){g.handle.detach();}};e.Event.define("viewenter",b,true);e.Event.define("viewleave",b,true);e.Event.define("scrollToBottom",b,true);e.Event.define("scrollToTop",b,true);e.Event.define("scrollToLeft",b,true);e.Event.define("scrollToRight",b,true);},"1.0.0",{requires:["event-synthetic","node-scroll-info"]});/* Copyright (c) 2018, Yahoo! Inc.  All rights reserved. */


}
/*
     FILE ARCHIVED ON 21:27:07 Feb 28, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 09:40:57 Dec 13, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 416.44
  exclusion.robots: 0.119
  exclusion.robots.policy: 0.111
  cdx.remote: 0.053
  esindex: 0.008
  LoadShardBlock: 307.685 (3)
  PetaboxLoader3.datanode: 373.686 (5)
  load_resource: 671.02 (2)
  PetaboxLoader3.resolve: 183.561 (2)
*/