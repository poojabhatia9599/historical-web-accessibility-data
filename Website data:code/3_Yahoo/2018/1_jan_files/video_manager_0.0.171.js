var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

YUI.add("type_video_manager",function(M,g){var E=M.Object.getValue(YUI,["Env","My","settings","context"]),u=E.videoplayerUrl,ak=(E.videoForcedError===1),n=(E.videoFullscreen===1),ao=false,a=(E.videoAutoplay===1),Q=(E.videoHtml5===1),b={statePlaying:"js-state-playing",stateMuted:"js-state-muted",stateFullscreen:"js-state-fullscreen",btnSound:"js-btn-sound",btnPlayPause:"js-btn-play-pause",btnFullscreen:"js-btn-fullscreen",btnVideomode:"js-btn-video-mode",btnVideoTiltbackMode:"js-btn-expand",customControls:".yvp-custom-controls .pl-controls-wrap"},ap=".js-stream-content-link",U="prod",c=true,r=E.videoSingleVideo||false,x=E.videoMaxInstances||12,G=E.videoMaxLoops||3,p=(E.videoLooping===1),aq=(E.videoRelated===0),at=(E.videoBuffering===0),ag=E.videoQosRate||".1",v=E.videoYwaRate||"0",I=E.videoMinControls===1,B=E.videoMustWatch===1,af=E.videoMWSticky,y=E.videoMute===1,ad={},V=[],A={},D={},ai=E.videoSSButton,am=E.videoPausescreen,aa="not-ready",k=[],h="",z="",X=E.videoInitEvent,T=(E.videoAsyncEnabled===1),s=E.videoplayerScriptElementId,R=(E.videoModeEnabled===1),m=E.videoExpName||"advance",aj=E.videoComscoreC4||"US fp",o=(E.videoTiltbackModeEnabled===1),F=(E.videoAdBeaconsDisabled===1),ac=(E.videoAdCCOnMuteEnabled),N=(E.videoStreamRapidEnabled===1),Z=!!M.one("#atomic"),H=Z?"Dn":"D-n",aw=(E.videoFetchPlayerJS===1),i=E.videoVpaidTimeout||5,t=E.videoSingleVideoClasses||[],w=E.videoSingleVideoContainers||[],j=E.videoAdAutoLoop||false,d=E.videoAdClicktoUnmute||false,q=E.videoDisableOnViewerShow||false;M.VideoManager={initPlayerJs:function(aA){var Y=this,ax,ay,az;if(aa==="not-ready"&&aw){ay=function(){aa="ready";if(typeof aA==="function"){aA.call(Y);}};if(Y._isPlayerJSLoaded()){return ay();}aa="fetching";az=T&&M.one("#"+s);if(az){az.on("load",ay);}else{if(u&&!M.config.groups.videoplayer){ax={modules:{videoplayer:{group:"videoplayer",name:"videoplayer",type:"js",fullpath:u}},groups:{videoplayer:{name:"videoplayer",combine:false,filter:"min"}}};M.applyConfig(ax);}k.push(M.on("domready",function(){M.use("videoplayer",ay);}));}}},createPlayerInstance:function(aF,aO){var aI=this,aQ=".js-video-target",aV,aG,aJ,aK,aH,ay,aR,aL,aM,aA,az,Y,ax,aT,aU,aP,aW,aB={},aN="strm-inline",aD,aC;if(aa!=="ready"){if(!aI.queue){aI.queue=[];}aF.playerConf=aO;aI.queue.push(aF);aI.initPlayerJs(aI.playerInitCallback);}else{if(aF&&aF.node&&aF.uuid){aH=M.one(aF.node);if(!aH.getDOMNode()){return;}aD=aH.one("script");if(aD){try{aC=JSON.parse(aD.get("innerHTML"));aC.autoplay=aC.hasOwnProperty("autoplay")?aC.autoplay:true;aC.continuousPlay=aC.hasOwnProperty("continuousPlay")?aC.continuousPlay:true;}catch(aS){aC=null;}}aK=aH.generateID();if(aK in D){return;}ay=aH.one(aQ);if(ay){aA=aH.getData("videoUrl");az=aH.getData("videoXml");ax=aH.getData("playlist");aB=aH.getData("video-cfg");if(aB){aB=JSON.parse(aB)||{};aB=aB.config||aB;aN=aB.expType||aH.getData("videoExpType")||aN;Y=aB.playlist||null;}aG=aI.createPlayerContainer(ay,aH,aB);aJ=aG.one(Z?".StretchedBox":".RatioBox").generateID();if(aA){aU=aH.getData("imageUrl")||"";aM={streams:[{url:aA}],images:{thumbnail:aU}};if(F){aM={id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:aU}};aT={standaloneAd:{gemini:aH.getData("geminiData"),rules:aH.getData("videoRules"),beacons:aH.getData("videoBeacons")}};}}else{if(az){aU=aH.getData("imageUrl")||"";aM={id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:aU}};aT={standaloneAd:{xml:az,beacons:aH.getData("videoBeacons")},vpaidTimeout:i};if(!window.flEnabled){return;}}else{aM={id:aF.uuid};if(ay.getData("yvap")){try{aT=JSON.parse(ay.getData("yvap"));}catch(aE){}}}}aV=aC||{autoplay:a,ccode:z,comscoreC4:aj,continuousPlay:false,disableCasting:true,expBucket:M.Af.Config.getContext("bucket"),expName:(aB&&aB.expName)||m,expType:aN,fullscreenBtn:n,html5:Q,lang:M.Af.Config.getContext("lang")||"en-US",loop:p,mute:y,pageSpaceId:M.Af.Config.get("spaceid"),pausescreen:am,playlist:Y||{mediaItems:[aM]},preload:true,qosSamplingRate:parseFloat(ag),region:M.Af.Config.getContext("region")||"US",replayonlyendscreen:aq,stopBufferingOnPause:at,sec:h,settingscreen:false,site:"frontpage",startscreen:{showButton:ai,showDesc:false,showProvider:false,showTitle:false},CMS:{env:U,suppressAdContext:true},videoapps:false,ywaSamplingRate:parseFloat(v)};if(aT){aV.YVAP=aT;}if(aA&&F){if(ac){aV.ccOnMute=true;}aV.html5=ac?true:"raw";}if(az||aA){aV.disableRecoverer=true;if(j){aV.loop=aH.getData("autoloop");if(aV.loop&&aA){aV.playlist.mediaItems[0].streams=[{url:aA}];delete aV.playlist.mediaItems[0].id;}}if(d){aV.unMuteOnClick=true;}}if(az){aV.expName="GeminiBRX";}if(c){aV.conviva=false;c=false;}if(aO){aV=M.merge(aV,aO);}if(ax){aV=aI._addSidekickTvConfig(aV,aH,ax);}if(N){aI._updateVideoConfigWithRapidInstance(aV,aH);}ay.replace(aG);aL=aI._getMediaStore(aF.boss);if(aL){aR=new YAHOO.VideoPlatform.VideoPlayer(aV,aL);}else{aR=new YAHOO.VideoPlatform.VideoPlayer(aV);}aI._addPlayerToMap({boss:aF.boss,firedBeacons:{},guid:aK,has_interacted:false,is_playing:aV.autoplay,loopCount:0,player:aR,playerNode:aG,swapNode:ay,videoCfg:aB});aI.attachVideoListeners(aR,aH,aK);aR.render("#"+aJ);if(I){aI._setupControls(aK);}if(ak){aR._controller.error({type:"playerError",code:"400"});}if(aH.one(".static-image-anchor")){aH.one(".static-image-anchor").addClass("D-n");}M.Global.fire("video-manager:create_player_instance",ad[aK]);}}}return aK;},_addSidekickTvConfig:function al(ax,az,ay){var Y=this;ay=M.JSON.parse(ay);ax.autoplay=a;ax.playlist.mediaItems=ay;ax.replayonlyendscreen=false;ax.continuousPlay=true;ax.loop=true;ax.html5=window.flEnabled?false:true;plCfg=az.getData("cfg");html5Cfg=az.getData("html5cfg");if(plCfg){plCfg=M.JSON.parse(plCfg);}if(html5Cfg){html5Cfg=M.JSON.parse(html5Cfg);}if(window.flEnabled&&plCfg){ax.iframeRender=true;ax=M.merge(ax,plCfg);}else{if(!window.flEnabled&&html5Cfg){ax=M.merge(ax,html5Cfg);}}return ax;},_getMediaStore:function(Y){if(ad[Y]){return ad[Y].player.getMediaStore();}return false;},_getPlayerMutedState:function(Y){return Y&&Y.controls&&Y.controls.getMute();},_addPlayerToMap:function(ax){var Y=ax.guid;var ay={loopCount:0,has_interacted:false,firedBeacons:{},eventSubscriptions:{playerErrors:true}};ad[Y]=ax;V.push(Y);},_disableVideo:function(ax){var Y=this;if(ax&&ax.player&&ax.player.controls.isPlaying()){ax.is_disabled=true;Y._pauseVideo(ax);}},_enableVideo:function(ax){var Y=this;if(ax&&ax.player&&ax.is_disabled){ax.is_disabled=false;Y._playVideo(ax);}},_getPlayerMapItem:function(Y){return ad&&Y in ad&&ad[Y];},_pauseVideo:function(Y){if(Y&&Y.player&&Y.player.controls){Y.is_playing=false;Y.player.controls.pause();}},_playVideo:function(Y){if(Y&&Y.player&&Y.player.controls){Y.is_playing=true;Y.player.controls.play();}},_publishUIInteract:function(az,ax){var ay=this;var Y=ay.getVpAPI();az._eventBus.publish(Y.UI_INTERACT,{srcElement:ax});},_setupControls:function(aC){var aF=this,aE=ad[aC],aG=aE&&aE.is_playing?" js-state-playing":"",Y=aF._createCustomControls(aE.player),aA=Y.one(".pl-controls-wrap"),ay=aE.playerNode.one(".yvp-custom-controls"),aB=M.one(".yvp-bottom-bar"),ax,az,aD;if(ay){ay.append(Y);aA.delegate("click",function(aI){var aH=aI.currentTarget;aE.has_interacted=true;switch(true){case (aH.hasClass(b.btnSound)):aF._toggleSoundControl(aH,aE,aC);break;case (aH.hasClass(b.btnPlayPause)):aF._togglePlayPauseControl(aH,aE,aC);break;case (aH.hasClass(b.btnFullscreen)):aF._toggleFullscreenControl(aH,aE,ay);break;case (aH.hasClass(b.btnVideomode)):aF._toggleVideoModeControl(aH,aE);break;case (aH.hasClass(b.btnVideoTiltbackMode)):aF._toggleTiltbackMode(aH,aE);break;default:break;}},"span");}},_toggleSoundControl:function l(aB,az,ay){var ax=this;var aA=az.player.controls.getMute();var Y="ctrl-mute-btn-"+(aA&&"off"||"on");if(aA){az.player.controls.setMute(false);ax.volumeHandler(ay);aB.removeClass(b.stateMuted);}else{az.player.controls.setMute(true);aB.addClass(b.stateMuted);}ax._publishUIInteract(az.player,Y);},_togglePlayPauseControl:function J(aB,aA,ay){var ax=this;var az=ax._isPlaying(aA.player);var Y="ctrl-"+(az&&"Pause"||"Play");if(az){ax._pauseVideo(aA);if(r){if(ad&&ad[ay]){ad[ay].is_playing=false;}ax.playOtherVideos(ay);}aB.removeClass(b.statePlaying);}else{ax._playVideo(aA);aB.addClass(b.statePlaying);}ax._publishUIInteract(aA.player,Y);},_toggleFullscreenControl:function an(az,ay,ax){var Y=this;if(ay.player.controls.getFullscreen()){return;}ay.player.controls.setFullscreen(true);vpAPI=Y.getVpAPI();fullscreenEvent=ay.player.on(vpAPI.PLAYER_FULLSCREEN_CHANGE,Y.fullscreenChangeHandler.bind(Y));Y.fullscreen={player:ay.player,container:ax,state:Y.controlsSnapshot(ax),evt:fullscreenEvent};az.addClass(b.stateFullscreen);Y._publishUIInteract(ay.player,"ctrl-fullscreen-on");},_toggleVideoModeControl:function K(aA,ay){var Y=this;var ax=ay.player;var az={action:"open",currentTime:Math.floor(ax.controls.getCurrentTime()),muted:ax.controls.getMute(),uuid:ax.playlist.getCurrentItemId()};M.Global.fire("video-modal",az);Y._publishUIInteract(ay.player,"ctrl-videomode-on");},_toggleTiltbackMode:function L(aB,ay){var Y=this;var ax=ay&&ay.player;var aA=ay&&ay.playerNode;var az=aA&&aA.ancestor(".js-video-content");if(!az){return false;}az.toggleClass("expanded");aA.toggleClass("css-hide-video-controls");Y._publishUIInteract(ax,"ctrl-tiltback-mode");},controlsSnapshot:function(ax){var ay,Y;if(ax){ay=ax&&ax.one("."+b.btnSound);Y=ax&&ax.one("."+b.btnPlayPause);if(ay&&Y){return{muted:ay.hasClass(b.stateMuted),playing:Y.hasClass(b.statePlaying)};}}},fullscreenChangeHandler:function(ax){var Y=this;if(!ax){Y.exitFullscreenCleanup();}},exitFullscreenCleanup:function(){var ay=this,aA=ay.fullscreen,ax=aA.container,Y=ax.one(".js-btn-fullscreen"),az=ay.controlsSnapshot(ax);if(Y&&Y.test(".js-state-fullscreen")){Y.toggleClass(b.stateFullscreen);}if(az.playing!==aA.state.playing){ax.one("."+b.btnPlayPause).toggleClass(b.statePlaying);}if(az.muted!==aA.state.muted){ax.one("."+b.btnSound).toggleClass(b.stateMuted);}ay.fullscreen.evt();ay.fullscreen=null;},fullscreenHandler:function(ax){var ay=this,Y;if(ay.fullscreen){switch(ax){case"ctrl-fullscreen-off":ay.exitFullscreenCleanup();break;case"ctrl-mute-btn-off":ay.fullscreen.state.muted=false;break;case"ctrl-mute-btn-on":ay.fullscreen.state.muted=true;break;case"ctrl-play":ay.fullscreen.state.playing=true;break;case"ctrl-pause":ay.fullscreen.state.playing=false;break;default:break;}}},_createCustomControls:function ar(aA){var ay=this;var az=[];var Y=ay._getSoundControlMarkup(aA);var ax=ay._getPlayPauseControlMarkup(aA);if(R){az=[Y,ax,ay._getVideoModeMarkup()];}else{if(o){az=[ay._getVideoTiltbackModeMarkup()];}else{az=[Y,ax];if(n){az.push(ay._getFullscreenControlMarkup());}}}return M.Node.create('<div class="outer-wrap"><div class="inner-wrap"><div class="pl-controls-wrap">'+az.join("")+"</div></div></div>");},_getPlayPauseControlMarkup:function f(Y){var ax=this._isPlaying(Y)&&" js-state-playing"||"";return'<span class="js-btn-play-pause '+ax+'"> <i class="play"></i> <i class="pause"></i> </span>';},_getSoundControlMarkup:function ah(Y){var ax=Y.controls.getMute()&&" js-state-muted"||"";return'<span class="js-btn-sound '+ax+'"> <i class="on"></i> <i class="off"></i> </span>';},_getFullscreenControlMarkup:function P(){return'<span class="js-btn-fullscreen"> <i class="fs"></i> </span>';},_getVideoModeMarkup:function au(){return'<span class="js-btn-video-mode"> <i class="video-mode"></i> </span>';},_getVideoTiltbackModeMarkup:function e(){return'<span class="js-btn-expand"><i class="on"></i></span>';},_isDestroyable:function(Y){var ay=ad[Y];var ax;if(!ay||ay.is_destroyable===false){return false;}ax=ay&&!ay.has_interacted&&ay.playerNode;return ax&&!ax.inViewportRegion();},_isPlaying:function(Y){var ax=false;if(!Y||!Y.controls){return;}if(Y.controls.isPlaying){ax=Y.controls.isPlaying();}else{if(Y.controls._model){ax=!Y.controls._model.playbackState.paused;}}return ax;},_isPlayerJSLoaded:function(){return YAHOO&&YAHOO.VideoPlatform&&YAHOO.VideoPlatform.VideoPlayer;},_auditPlayerInstances:function(){var ax=V.length,ay,Y;if(ax>x){ay=M.Array.filter(V,this._isDestroyable);Y=ay.shift();this.destroyPlayerInstance(Y);}},createPlayerContainer:function(aF,aE,aC){var aB=[(I&&"css-hide-video-controls")||""];var aA=Z?["Pb(56.25%)","H(0)","Pos(r)"]:["Ratio-16-9"];var az=Z?"StretchedBox W(100%) H(100%)":"RatioBox";var aH;var Y=aF&&aF.getAttribute("href")||"";var ay=aC&&aC.overrideTap||false;var aD;if(ay&&Y){var aI=aC&&aC.viewerEligible?aE.getData("uuid"):"";var aG=[];var ax="";if(aI){aG=["js-content-viewer","rapid-noclick-resp","rapidnofollow"];ax=' data-uuid="'+aI+'"';}aG.push(az);aD='<a class="'+aG.join(" ")+'" href="'+Y+'"'+ax+"></a>";}else{aD='<div class="'+az+'"></div></div>';}if(o){aB.push("tiltback-mode-enabled");}aH=aB.concat(aA).join(" ");return M.Node.create('<div class="js-player-container '+aH+'">'+aD+"</div>");},destroyPlayerInstance:function(ax,aA){var Y=this,az=M.Array.indexOf(V,ax),aB;if(ax&&ax in ad&&ad[ax]){aB=ad[ax];if(aB.playerNode.inViewportRegion&&!aB.playerNode.inViewportRegion()||aA){try{aB.player.destroy();}catch(ay){}if(aB.playerNode&&aB.playerNode.getDOMNode()&&aB.swapNode&&aB.swapNode.getDOMNode()){aB.playerNode.replace(aB.swapNode);}aB.playerNode.destroy();aB=null;delete ad[ax];V.splice(az,1);}}if(Y.unmutedVP&&Y.unmutedVP===ax){Y.unmutedVP=null;}},_cleanup:function av(ax){var Y=this;var ay;if(ad){ay=Object.keys(ad);if(Array.isArray(ay)){ay.forEach(function(az){Y.destroyPlayerInstance(az,true);});}}if(Array.isArray(k)){k.forEach(function(az){az.detach();az=null;});}E=null;u=null;ak=null;a=null;Q=null;b=null;U=null;c=null;r=null;x=null;G=null;p=null;aq=null;at=null;ag=null;v=null;I=null;B=null;af=null;y=null;ad=null;V=null;D=null;ai=null;aa=null;k=null;h=null;z=null;X=null;T=null;s=null;R=null;m=null;},handleBlur:function(){var Y=this;M.Array.each(V,function(ax){var az=Y._getPlayerMapItem(ax);var ay=false;if(!az){return;}if(az.is_live_event&&az.player){if(Y._getPlayerMutedState(az.player)){ay=true;}}else{if(!az.has_interacted){ay=true;}}if(ay){Y._pauseVideo(az);Y.updatePlayBtn(az);}},this);},handleFocus:function(){this.playOtherVideos();},playOtherVideos:function(ay){var Y=this,ax=this.isPlayable();M.Array.each(V,function(az){var aC=Y._getPlayerMapItem(az),aA=aC&&aC.player,aB=ad[az]&&ad[az].playerNode;if((!ay||ay!==az)&&ax&&aA&&!aC.has_interacted&&aB&&aB.inViewportRegion()){Y._playVideo(aC);Y.updatePlayBtn(aC);if(r){ax=false;}}});},handleViewEnter:function(aA){var aE=this,ay=aA.currentTarget,Y=ay.getData("pkg-video-id")||ay.getData("uuid"),aB=ay.getData("applet-guid")||ay.generateID(),aC=aE._getPlayerMapItem(aB),aD=aC&&aC.player,az=aE.isPlayable(),ax={node:ay,uuid:Y};if(aD&&!aE._isPlaying(aD)&&!aC.has_interacted&&!aD.isDocked()){if(az){if(ao){A.player=aB;return;}aE._playVideo(aC);}aE.updatePlayBtn(aC);}else{if(ax&&ax.uuid&&!aC){aE.createPlayerInstance(ax,{autoplay:az});}}},handleViewLeave:function(az){var Y=this,ay=az.currentTarget,ax=ay.getData("applet-guid")||ay.generateID(),aA=Y._getPlayerMapItem(ax);if(aA&&Y._isPlaying(aA.player)&&!aA.has_interacted&&!aA.is_fullscreen&&!(aA.player&&aA.player.isDocked())){Y._pauseVideo(aA);}Y.updatePlayBtn(aA);Y._auditPlayerInstances();if(r){Y.playOtherVideos(ax);}if(A.player&&A.player===ax){A.player=false;}},_fetchMustWatch:function(){var Y=this,ax=function ay(){var az=M.one("#mustwatch-container"),aC=az&&az.one("[data-applet-type=td-applet-videoplayer]"),aB=aC&&aC.getData("applet-guid");if(aB){M.Global.on("player-manager:initialize-complete",function aA(){M.Global.fire("player-manager:get-player-manager",{callback:function aD(aE){var aF=aE.getPlayerInstance();Y._addPlayerToMap({loopCount:0,guid:aB,player:aF,playerNode:aC,has_interacted:false,is_playing:false});Y._setupControls(aB);aC.on("viewenter",Y.handleViewEnter,Y);aC.on("viewleave",Y.handleViewLeave,Y);},instance:aB});});}};M.Af.Content.remoteApplet(M.My.App,{type:"td-applet-videoplayer",params:{mode:"listron",submode:"mustwatch",channelAlias:"popular",enable_sticky_mode:af,expName:"advance",expType:"vid-inline",spaceid:M.Af.Config.get("spaceid"),site:"frontpage",vp:0,pausescreen:0,player_mute:1,i13n:{auto:false}},placement:{node:"#mustwatch-container"}},ax);},initMustWatch:function(){var aF=this,az=5,aA=0,ax=M.one("#applet_p_50000201"),aD=M.one("#applet_p_50000186"),aC,ay,Y;if(ax){k.push(M.Global.on("fpvideo:ready",function aE(aK){var aH=aK&&aK.vp;if(aH){var aI=ax;var aG=aI&&aI.getData("applet-guid");var aJ=(aH&&aF._isPlaying(aH))||true;aF._addPlayerToMap({loopCount:0,guid:aG,player:aH,playerNode:aI,has_interacted:false,is_playing:aJ});k.push(aI.on("viewenter",aF.handleViewEnter,aF));k.push(aI.on("viewleave",aF.handleViewLeave,aF));aF.attachVideoListeners(aH,aI,aG);}}));return;}if(aD){aD.insert('<div id="mustwatch-container" class="css-hide-video-controls" data-offset="1000"></div>',"after");aC=M.one("#mustwatch-container");}if(aC){if(aC.inViewportRegion()){if(aa==="ready"){aF._fetchMustWatch();}else{if(aa==="not-ready"){aF.initPlayerJs(aF._fetchMustWatch);}else{if(aa==="fetching"){ay=setInterval(function aB(){aA+=1;if(aa==="ready"){clearInterval(ay);aF._fetchMustWatch();}if(aA>=az){clearInterval(ay);}},500);}}}}else{Y=aC.on("viewenter",function(){Y.detach();aF._fetchMustWatch();});}}},init:function(){var ax=this;ax.queue=[];if(B){ax.initMustWatch();}k.push(M.Af.Event.on("content:init",ax.findVideosInit,ax));k.push(M.Af.Event.on("content-video:init",ax.findVideosInit,ax));k.push(M.Af.Event.on("content:batch",ax.findStreamVideos,ax));k.push(M.Af.Event.on("sidekicktv:init",ax.findStreamVideos,ax));ax.findDOMVideos();k.push(M.Global.on("video-manager:disable",ax._disablePlayers,ax));k.push(M.Af.Event.on("video-manager:disable",ax._disablePlayers,ax));k.push(M.Af.Event.on("page:destroy",ax._cleanup,ax));k.push(M.Global.on("video-manager:enable",ax._enablePlayers,ax));k.push(M.Af.Event.on("video-manager:enable",ax._enablePlayers,ax));k.push(M.Global.on("video-modal",function Y(ay){ay.type="video";M.Af.Event.fire("viewmode:enter",ay);}));k.push(M.on("blur",M.bind(ax.handleBlur,ax),window));k.push(M.on("focus",M.bind(ax.handleFocus,ax),window));k.push(M.Global.on("video-manager:prevent-new-playback",ax.handlePreventNewPlayback,ax));k.push(M.Global.on("video-manager:add-remote-player",ax.handleAddRemoteVideo,ax));k.push(M.Global.on("video-manager:remove-remote-player",ax.removeRemoteVideo,ax));if(q){k.push(M.Af.Event.on("viewer:show",ax._disablePlayers,ax));k.push(M.Af.Event.on("viewer:hide",ax._enablePlayers,ax));}ax.activeVideosInit();},_disablePlayers:function ae(){var Y=this;M.Array.each(V,function(ax){var ay=Y._getPlayerMapItem(ax);if(ay.is_playing){Y._disableVideo(ay);}});},_enablePlayers:function C(){var Y=this;M.Array.each(V,function(ax){var ay=Y._getPlayerMapItem(ax);if(ay.is_disabled){Y._enableVideo(ay);}});},_normalizePayload:function(az){var Y=az&&az.guid&&M.one("#applet_"+az.guid)||M.one("#applet_p_50000173"),ax=az&&az.list,ay={container:Y,items:ax};return ay;},getVideoNodes:function(aB){var ax=aB&&aB.container,az=aB&&aB.items,aA=null,aC,Y,ay=this;if(ax&&az){M.Array.each(az,function(aO){if(aO&&(aO.type==="3"||aO.pkg_video_id||aO.videoCfg)){var aF,aK,aE,aL,aM,aH;if(!aA){aA=new M.NodeList();}Y=ax.all('[data-uuid="'+aO.id+'"]');Y.each(function(aP){if(!aP.hasClass("fake-cluster-uuid")&&!aP.hasClass("js-videomgr-excluded")){aC=aP;}});if(aC){var aG=Array.isArray(aO.videoAdAssets)?M.Object.getValue(aO,["videoAdAssets",0]):aO.videoAdAssets;if(aG&&aG.mediaInfo){if(j){var aJ=false;if(aG.autoloop){aJ=aG.autoloop==="true"?true:(aG.autoloop==="false"?false:aG.autoloop);}aC.setData("autoloop",aJ);}if(!Array.isArray(aG.mediaInfo)){aF=ay.mapVideoAdAssets(aG);if(aF&&aF.videoXml){aE=aF.videoXml;}else{aK=aF&&aF.videoUrl;}}else{for(var aD=0;aD<aG.mediaInfo.length;aD++){var aN=aG.mediaInfo[aD];if(aN.url&&aN.contentType==="video/mp4"){aK=aN.url;}if(aN.xml){aE=aN.xml;}}}}aL=aO.videoAdImage;aM=aO.videoAdBeacons;if(aK){aC.setData("videoUrl",aK);}if(aE||F){aC.setData("videoXml",aE);if(aM){M.Object.each(aM,function(aQ,aP){if(Array.isArray(aQ)){aM[aP]=aQ;}else{aM[aP]=[aQ];}});}}if(aL){aC.setData("imageUrl",aL);}if(aM){aC.setData("videoBeacons",aM);}if(aO.videoAdRules){M.Object.each(aO.videoAdRules,function(aQ,aP){if(Array.isArray(aQ)){M.Object.each(aQ,function(aR){M.Object.each(aR,function(aT,aS){aR[aS]=parseInt(aT,10);});});}else{M.Object.each(aQ,function(aS,aR){aQ[aR]=parseInt(aS,10);});}});aC.setData("videoRules",aO.videoAdRules);}if(F&&aK){aH={clickUrl:aO.link,mediaInfo:aG.mediaInfo};M.Array.each(aH.mediaInfo,function aI(aP){aP.height=parseInt(aP.height,10);aP.width=parseInt(aP.width,10);aP.bitrate=parseInt(aP.bitrate,10);aP.length=parseInt(aP.length,10);});aC.setData("geminiData",aH);}if(aO.videoCfg){aC.setData("video-cfg",aO.videoCfg);}aA.push(aC);aC=null;}}});if(aA&&aA.size()>0){return aA;}}return null;},mapVideoAdAssets:function(aA){var ax={VIDEO_PRIMARY:{contentType:"video/mp4",assetName:"videoUrl"}};var aE;var ay={};var aD;var aC;var aB;var Y=function(aH,aF){var aG=new RegExp(aH);return aG.test(aF.contentType);};var az=function(aF){return aF.xml;};aA=aA?[].concat(aA):[];aA.forEach(function(aF){var aG=ax[aF.usageType];aF.mediaInfo=aF.mediaInfo?[].concat(aF.mediaInfo):[];if(aG){if(aF.mediaInfo.length>1){aB=aF.mediaInfo.filter(az)||[];if(!aB){aC=aF.mediaInfo.filter(Y.bind(null,aG.contentType))||[];}}else{if(aF.mediaInfo.length===1&&aF.mediaInfo[0].xml){aB=aF.mediaInfo;}else{aC=aF.mediaInfo;}}if(aB){ay.videoXml=aB[0]&&aB[0].xml;}else{ay[aG.assetName]=aC[0]&&aC[0].url;}}});return ay;},_loopVideos:function(ay,Y,az){var aF=this,ax=false,aE,aC,aA,aB,aD;Y=Y||{};aD=Y.playerConf||{};aD.autoplay=false;aC=function aC(aH,aG){var aI={node:aH,uuid:aH.getData("pkg-video-id")||aH.getData("uuid")},aJ=function aJ(){var aK;if(aG===0){aK=ay.getData("pkg-video-id")||ay.getData("uuid");aD.prefetchIds=aK;aB=aF.createPlayerInstance(aI,aD);}else{aI.boss=aB;aF.createPlayerInstance(aI,aD);}};setTimeout(aJ,0);};aA=function aA(aG){if(aG.inViewportRegion()){ax=true;}aF.queue.push({node:aG,uuid:aG.getData("pkg-video-id")||aG.getData("uuid"),playerConf:aD});};aE=function aE(){if(az){az();}};fn=Y.init?aA:aC;if(ay){ay.each(fn);if(Y.init){if(ax){aE();}else{M.one("window").once("scroll",aE);}}else{aE();}aF.attachViewportListeners(ay);}},findStreamVideos:function(aA){var Y=this,az=Y._normalizePayload(aA),ax=Y.getVideoNodes(az),ay={playerConf:aA.playerConf||{}};if(ax){Y._loopVideos(ax,ay);}},findDOMVideos:function(){var Y=M.all(".yahoo-view-video,.wafer-video");if(Y.size()>0){this._loopVideos(Y,{});}},findVideosInit:function(aA){var Y=this,az=Y._normalizePayload(aA),ax=Y.getVideoNodes(az),ay={init:true,playerConf:aA.playerConf||{}};if(ad&&Object.keys(ad).length>0){keys=Object.keys(ad);if(Array.isArray(keys)){keys.forEach(function(aB){var aC=ad[aB].playerNode;if(aC&&aC.getDOMNode&&!aC.getDOMNode()){Y.destroyPlayerInstance(aB,true);}});}}if(ax){Y._loopVideos(ax,ay,function(){if(Y.queue.length>0){Y.initPlayerJs(Y.playerInitCallback);}});}},activeVideosInit:function(){var Y=this;if(!window.VEX){return;}if(aa!=="ready"){Y.initPlayerJs(M.bind(Y.videoModeInstancesInit,Y));}else{Y.videoModeInstancesInit();}},videoModeInstancesInit:function(){var Y=this;var az;var ax=[];var ay;if(!window.VEX){return;}M.Array.each(window.VEX.VideoModeInstances,function(aA){az=aA&&aA.getPlayerInfos&&aA.getPlayerInfos();if(az){ay=M.one(payload.node);az.playerNode=ay;az.is_playing=az.config&&az.config.autoplay;ax.push(az);}});if(ax.length>0){Y.addRemoteVideoInstance(ax);}},handleAddRemoteVideo:function S(ay){var Y=this;var ax=Array.isArray(ay)?ay:[ay];Y.addRemoteVideoInstances(ax);},handlePreventNewPlayback:function W(ax){var Y=this;ao=!!ax;if(!ax&&A.player){if(Y.isPlayable()&&ad[A.player]){Y._playVideo(ad[A.player]);A.player=false;}if(A.player&&!ad[A.player]){A.player=false;}}},removeRemoteVideo:function O(aA){var Y=this;var ax=aA&&aA.guid;var az;var ay;if(ax&&ax in ad&&ad[ax]){ay=M.Array.indexOf(V,ax);az=ad[ax];az=null;delete ad[ax];V.splice(ay,1);}},addRemoteVideoInstances:function ab(aA){var Y=this;var az;var ay=new M.NodeList();var ax;if(Array.isArray(aA)&&aA.length>0){M.Array.each(aA,function(aB){if(aB){az=M.one(aB.playerNode);ax=az.generateID();Y._addPlayerToMap({guid:ax,player:aB.instance,playerNode:az,is_destroyable:false,is_playing:aB._is_playing,eventSubscriptions:{playerErrors:false}});Y.attachVideoListeners(aB.instance,null,ax);ay.push(az);}});}if(ay.size()>0){Y.attachViewportListeners(ay);}},attachViewportListeners:function(ax){var Y=this;k.push(ax.on("viewenter",Y.handleViewEnter,Y));k.push(ax.on("viewleave",Y.handleViewLeave,Y));},attachVideoListeners:function(aP,aJ,aM){var aL=this,ay=aL.getVpAPI(),aN,aI,aQ,aR,aH=aJ&&aJ.getData("videoBeacons"),aB=aH||false,aD=ad[aM],aS=(aD&&aD.fireBeacons)||{},ax=aJ&&aJ.getData("playlist"),aO=aJ&&aJ.getData("meta"),aE=(aD&&aD.videoCfg)||{},aG=0,aF;if(ay&&ad&&ad[aM]){aF=ad[aM].eventSubscriptions||{};aP.on(ay.UI_INTERACT,function Y(aU){var aT=aU&&aU.srcElement&&aU.srcElement.toLowerCase();if(p){aP.controls.setLoop(false);}if(ad&&ad[aM]){ad[aM].has_interacted=true;}if(aT&&aT==="ctrl-mute-btn-off"){aL.volumeHandler(aM);}if(I&&aL.fullscreen){aL.fullscreenHandler(aT);}});aI=function(){if(ad&&ad[aM]){ad[aM].is_playing=false;}var aU=ad[aM].playerNode;var aT=aU.one(".js-cstm-end-screen");if(!aT){aT=aU.previous(".js-cstm-end-screen");if(aT){aT.remove();aU.insert(aT,ad[aM].playerNode.one(".yvp-bottom-bar"));}}if(aT){aT.removeClass(H);}if(r){aL.playOtherVideos(aM);}};if(aF.playerErrors!==false){aN=function aN(){D[aM]=true;if(aB&&aJ.getData("videoXml")){aL.destroyPlayerInstance(aM,true);}if(aJ.getData("playlist")){aL.destroyPlayerInstance(aM,true);if(M.one("#applet_sidekicktv")){M.one("#applet_sidekicktv").addClass("D-n");}if(M.one("#my-adsLREC2-fallback")){M.one("#my-adsLREC2-fallback").removeClass("D-n");}}if(aJ.one(".static-image-anchor")){aJ.one(".static-image-anchor").removeClass("D-n");}if(aE.destroyOnError===true){aL.destroyPlayerInstance(aM,true);}};aP.on(ay.PLAYBACK_ERROR,aN);aP.on(ay.PLAYER_ERROR,aN);aQ=aP.on(ay.PLAYBACK_TIMEOUT,aN);}aP.on(ay.AD_PLAYBACK_START,function aA(){var aT=ad[aM].playerNode.one(".js-cstm-end-screen");if(aT){aT.addClass(H);}});aP.on(ay.PLAYER_FULLSCREEN_CHANGE,function aC(aT){ad[aM].is_fullscreen=aT;});aP.on(ay.PLAYBACK_START,function az(){var aU=!ad[aM].has_interacted&&p&&G&&(ad[aM].loopCount<G);if(aU){ad[aM].loopCount++;if(ad[aM].loopCount===G){aP.controls.setLoop(false);}}var aT=ad[aM].playerNode.one(".js-cstm-end-screen");if(aT){aT.addClass(H);}if(aB){if(aJ.getData("videoXml")){aS={VIDEO_START:true,VIDEO_QUARTILE_100:true,VIDEO_VIEW:true,VIDEO_30_SEC:true,VIDEO_QUARTILE_25:true,VIDEO_QUARTILE_50:true,VIDEO_QUARTILE_75:true};}aL.fireAdBeacon("VIDEO_START",aH,aS);}if(aQ){aQ();}});if(ax){ax=M.JSON.parse(ax);aO=M.JSON.parse(aO);aP.on(ay.PLAYLIST_POSITION_CHANGE,function aK(aU){var aT;if(aU<ax.length&&aU>=0&&aO[ax[aU].id]){aT=aO[ax[aU].id];aG=aU;aJ.one(".js-stv-title").setContent(aT.title);aJ.one(".js-stv-provider").setContent(aT.providerName);}});}aP.on(ay.PLAYLIST_COMPLETE,function(){aI();if(aB){aL.fireAdBeacon("VIDEO_QUARTILE_100",aH,aS);aS={};}});if(aB){aP.on(ay.PLAYBACK_TIME_UPDATE,function(aU,aT,aV){if(aT>3&&!aS.VIDEO_VIEW){aL.fireAdBeacon("VIDEO_VIEW",aH,aS);}if(aT>30&&!aS.VIDEO_30_SEC){aL.fireAdBeacon("VIDEO_30_SEC",aH,aS);}if(aT>aV*0.25&&!aS.VIDEO_QUARTILE_25){aL.fireAdBeacon("VIDEO_QUARTILE_25",aH,aS);}if(aT>aV*0.5&&!aS.VIDEO_QUARTILE_50){aL.fireAdBeacon("VIDEO_QUARTILE_50",aH,aS);}if(aT>aV*0.75&&!aS.VIDEO_QUARTILE_75){aL.fireAdBeacon("VIDEO_QUARTILE_75",aH,aS);}});}}},fireAdBeacon:function(ay,Y,aA){var aB;var az;var ax;if(!ay||aA[ay]||F){return;}aB=Y&&Y[ay];if(!aB){return;}aB=[].concat(aB);for(az=0;az<aB.length;az++){ax=aB[az];if(!ax){continue;}M.Af.Beacon.send(ax);aA[ay]=true;}},playerInitCallback:function(){var ay=this,ax=ay.queue,Y=ax&&ax.length||0,aA=a,az,aC,aB;if(Y!==0){ay.setUltParams(ax[0]);}for(az=0;az<Y;az++){aC=ax[az];aB=aC.playerConf||{};if(aC.node.inViewportRegion()){aB.autoplay=aA;ay.createPlayerInstance(aC,aB);if(r){aA=false;}}else{aB.autoplay=false;ay.createPlayerInstance(aC,aB);}}ay.queue=[];},getVpAPI:function(){var Y=this;if(!Y.vpAPI){Y.vpAPI=YAHOO&&YAHOO.VideoPlatform&&YAHOO.VideoPlatform.API_Events;}return Y.vpAPI;},setUltParams:function(aC){var ax=this,Y=aC&&aC.node,aB=Y.ancestor("[data-i13n-sec]"),az=Y&&Y.one(".js-video-content"),ay=az&&az.getData("ylk"),aA=/;?ccode:(.[^;]+);/i,aD;h=aB&&aB.getData("i13n-sec")||"";if(ay){aD=ay.match(aA);z=(aD&&aD[1])||"";}},isPlayable:function(){var Y=a;if(r){M.Array.each(V,function(az){var aB=ad[az]&&ad[az].playerNode;var ay=false;if(aB){ay=t.some(function aA(aC){return aB.hasClass(aC);});ay=ay||w.some(function ax(aC){return aB.ancestor("."+aC);});}if(aB&&!D[az]&&ay&&(ad[az].is_playing===true)){Y=false;}});}return Y;},updatePlayBtn:function(ax){var Y;Y=ax&&ax.playerNode&&ax.playerNode.one(b.customControls+" ."+b.btnPlayPause);if(I&&Y){if(ax.is_playing&&!Y.hasClass(b.statePlaying)){Y.addClass(b.statePlaying);}else{if(!ax.is_playing&&Y.hasClass(b.statePlaying)){Y.removeClass(b.statePlaying);}}}},volumeHandler:function(ax){var Y=this,ay,aA,az;if(Y.unmutedVP&&ax!==Y.unmutedVP){if(ad&&ad[Y.unmutedVP]){aA=ad[Y.unmutedVP];ay=aA.player;az=aA.playerNode;ay.controls.setMute(true);if(!az.inViewportRegion()){ay.controls.pause(true);aA.is_playing=false;Y.updatePlayBtn(aA);}aA.has_interacted=false;}}Y.unmutedVP=ax;},_updateVideoConfigWithRapidInstance:function(ay,aB){var aC=aB.ancestor("[data-i13n-sec]");var aA=aC&&aC.getData("i13n-sec")||"";var ax={};var az={};var Y=aB.one(ap);if(Y){ax=M.Af.rapid.parseYLK(Y);}ay.sec=ay.sec||aA;ay.ccode=ay.ccode||ax.ccode||"";ay.cpos=ay.cpos||ax.cpos||"";ax.sec=aA;az._rid=M.Object.getValue(window.rapidPageConfig,["rapidConfig","keys","_rid"])||"";ay.rapidConfig={rapid:window.rapidInstance,clickParams:ax,pageParams:az};return ay;}};if(u){M.VideoManager.init();}},"0.0.1",{requires:["af-content","af-event","base","event-custom","event-viewenter","node-core"]});YUI.add("event-viewenter",function(e,c){var a="inviewport",f=e.Object.getValue(YUI,["Env","My","settings","context"]),d=f.videoplayerScrollThrottle&&parseInt(f.videoplayerScrollThrottle,10)||0,b={_checkNode:function(h,p,o){var j,n,m=p.handle.evt.type,g,i,k;h=e.one(h);g=h.getData("timer"+m);if(g){clearTimeout(g);}i=function l(){k=parseInt(h.getData("offset"),10)||-85;j=o.isNodeOnscreen(h,k);n=h.getData(a);if((m==="viewenter"&&j&&!n)||(m==="viewleave"&&!j&&n)){p.fire({target:h});h.setData(a,j);}};if(d){g=setTimeout(i,d);h.setData("timer"+m,g);}else{i();}},_notify:function(k,j,i,h){var g=j.handle.evt.type;if(g==="viewenter"||g==="viewleave"){h._checkNode(i,j,this);}else{j.fire({target:i});}},_filterNotify:function(o,m,k,l){var h,g,n,j=m.handle.evt.type;n=e.Selector.query(k||"*");for(h=0,g=n.length;h<g;h++){if(j==="viewenter"||j==="viewleave"){l._checkNode(n[h],m,this);}else{m.fire({target:n[h]});}}},_bind:function(k,h,j,g){var i,l,m,n;m=g||k;n=g?this._filterNotify:this._notify;if(this.type==="viewenter"||this.type==="viewleave"){i="scroll";l=e.one("body");}else{i=this.type;l=k;}l.plug(e.Plugin.ScrollInfo);l.scrollInfo.set("scrollDelay",25);h.handle=l.scrollInfo.on(i,n,null,j,m,this);},on:function(i,g,h){return this._bind(i,g,h);},delegate:function(j,h,i,g){return this._bind(j,h,i,g);},detach:function(h,g){g.handle.detach();},detachDelegate:function(h,g){g.handle.detach();}};e.Event.define("viewenter",b,true);e.Event.define("viewleave",b,true);e.Event.define("scrollToBottom",b,true);e.Event.define("scrollToTop",b,true);e.Event.define("scrollToLeft",b,true);e.Event.define("scrollToRight",b,true);},"1.0.0",{requires:["event-synthetic","node-scroll-info"]});/* Copyright (c) 2017, Yahoo! Inc.  All rights reserved. */


}
/*
     FILE ARCHIVED ON 00:37:58 Jan 01, 2018 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 09:40:43 Dec 13, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 177.903
  exclusion.robots: 0.104
  exclusion.robots.policy: 0.097
  cdx.remote: 0.053
  esindex: 0.009
  LoadShardBlock: 143.01 (3)
  PetaboxLoader3.datanode: 168.421 (5)
  load_resource: 188.782 (2)
  PetaboxLoader3.resolve: 153.798 (2)
*/